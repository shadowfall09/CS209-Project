{"items":[{"tags":["java","null","user-input","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1656374489,"post_id":72779408,"comment_id":128551655,"body_markdown":"You seem to have declared `moviename` twice","body":"You seem to have declared <code>moviename</code> twice"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1656374973,"post_id":72779408,"comment_id":128551724,"body_markdown":"`moviename.equals(&quot;null&quot;)` should be `null == moviename`","body":"<code>moviename.equals(&quot;null&quot;)</code> should be <code>null == moviename</code>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1656377111,"post_id":72779408,"comment_id":128552013,"body_markdown":"You may want to also consider placing the entry response into an `else` block, for example: `if (moviename == null || moviename.trim().isEmpty()) { JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;); } else {             JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);         }`.","body":"You may want to also consider placing the entry response into an <code>else</code> block, for example: <code>if (moviename == null || moviename.trim().isEmpty()) { JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;); } else {             JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);         }</code>."},{"owner":{"account_id":25665469,"reputation":1,"user_id":19430524,"display_name":"Rohaan Khan"},"score":0,"creation_date":1656377167,"post_id":72779408,"comment_id":128552029,"body_markdown":"Thanks a lot! I didn&#39;t seem to notice that while skimming my code. Much appreciated","body":"Thanks a lot! I didn&#39;t seem to notice that while skimming my code. Much appreciated"},{"owner":{"account_id":25665469,"reputation":1,"user_id":19430524,"display_name":"Rohaan Khan"},"score":1,"creation_date":1656377652,"post_id":72779408,"comment_id":128552077,"body_markdown":"@DevilsHnd, Thanks for helping a rookie coder out :), I was wondering why it still kept on showing error messages in the console, regards.","body":"@DevilsHnd, Thanks for helping a rookie coder out :), I was wondering why it still kept on showing error messages in the console, regards."}],"owner":{"account_id":25665469,"reputation":1,"user_id":19430524,"display_name":"Rohaan Khan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656377768,"creation_date":1656374224,"question_id":72779408,"body_markdown":"I&#39;m a rookie java coder, and I was trying to make a program that receives value from the user in which I can assign whatever he/she enters as a variable so that it can be displayed in a box through `JOptionPane.showMessageDialog(&quot;&quot;);`\r\n\r\nIf the user did not enter anything into the box (Meaning the user input value is equaled to null), java must respond with &quot;You did not enter anything&quot; in the form of `JOptionPane.showMessageDialog`.\r\nAlthough it keeps saying one of my variables cant be &quot;resolved&quot;\r\n\r\nhere&#39;s where the error is:\r\n\r\n    String moviename; \r\n    \r\n    String  moviename = JOptionPane.showInputDialog(&quot;Whats you favourite movie?&quot;);\r\n    JOptionPane.showMessageDialog(null, moviename+&quot;, sounds like a good watch.&quot;); \r\n         \r\n    if (moviename.equals(&quot;null&quot;)) { \r\n        \tJOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;); \r\n        }\r\n\r\n","title":"How do I make my user input as a variable in Java while dealing with J Option Pane","body":"<p>I'm a rookie java coder, and I was trying to make a program that receives value from the user in which I can assign whatever he/she enters as a variable so that it can be displayed in a box through <code>JOptionPane.showMessageDialog(&quot;&quot;);</code></p>\n<p>If the user did not enter anything into the box (Meaning the user input value is equaled to null), java must respond with &quot;You did not enter anything&quot; in the form of <code>JOptionPane.showMessageDialog</code>.\nAlthough it keeps saying one of my variables cant be &quot;resolved&quot;</p>\n<p>here's where the error is:</p>\n<pre><code>String moviename; \n\nString  moviename = JOptionPane.showInputDialog(&quot;Whats you favourite movie?&quot;);\nJOptionPane.showMessageDialog(null, moviename+&quot;, sounds like a good watch.&quot;); \n     \nif (moviename.equals(&quot;null&quot;)) { \n        JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;); \n    }\n</code></pre>\n"},{"tags":["java","scala","gradle","jacoco"],"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1580164548,"post_id":20032366,"comment_id":106000909,"body_markdown":"Somehow I missed that my keybinding had added `-x test`","body":"Somehow I missed that my keybinding had added <code>-x test</code>"}],"answers":[{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1384709345,"creation_date":1384709345,"answer_id":20033831,"question_id":20032366,"body_markdown":"The task will only run if coverage data is available. You can make sure of that by also running the `test` task.","title":"Running jacocoReport","body":"<p>The task will only run if coverage data is available. You can make sure of that by also running the <code>test</code> task.</p>\n"},{"tags":[],"owner":{"account_id":5478536,"reputation":1338,"user_id":4355820,"display_name":"Pedro Jos&#233; Piquero Plaza"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1537260816,"creation_date":1418737644,"answer_id":27506104,"question_id":20032366,"body_markdown":"Add the following at a top level to your build.gradle:\r\n\r\n\r\n    test {\r\n     finalizedBy jacocoTestReport\r\n    }\r\n\r\nThis means that at the end of the test task the jacocoTestReport task should be run.\r\nYou will receive your coverage analysis after run the tests.\r\n","title":"Running jacocoReport","body":"<p>Add the following at a top level to your build.gradle:</p>\n\n<pre><code>test {\n finalizedBy jacocoTestReport\n}\n</code></pre>\n\n<p>This means that at the end of the test task the jacocoTestReport task should be run.\nYou will receive your coverage analysis after run the tests.</p>\n"},{"tags":[],"owner":{"account_id":3168871,"reputation":3839,"user_id":2678290,"display_name":"StylusEater"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1460380679,"creation_date":1449521497,"answer_id":34142984,"question_id":20032366,"body_markdown":"None of the above worked for me. What worked for me was the following\r\n\r\n\r\nAdd to the top of my build.gradle:\r\n\r\n    apply plugin: &#39;jacoco&#39; // code coverage reports\r\n\r\n\r\nAdd the following as a &#39;task&#39;:\r\n\r\n    // Generate code coverage reports ... run with jacoco\r\n    jacocoTestReport{\r\n        additionalSourceDirs = files(sourceSets.main.allJava.srcDirs)\r\n        reports {\r\n            xml.enabled false\r\n            csv.enabled false\r\n            html.destination &quot;${buildDir}/reports/jacoco/html&quot;\r\n        }\r\n        executionData = files(&#39;build/jacoco/test.exec&#39;)\r\n    }\r\n\r\n\r\nAdd the following to your gradle test task:\r\n\r\n    finalizedBy jacocoTestReport\r\n\r\nThen I issued the following command:\r\n\r\n    gradle run test jacoco","title":"Running jacocoReport","body":"<p>None of the above worked for me. What worked for me was the following</p>\n\n<p>Add to the top of my build.gradle:</p>\n\n<pre><code>apply plugin: 'jacoco' // code coverage reports\n</code></pre>\n\n<p>Add the following as a 'task':</p>\n\n<pre><code>// Generate code coverage reports ... run with jacoco\njacocoTestReport{\n    additionalSourceDirs = files(sourceSets.main.allJava.srcDirs)\n    reports {\n        xml.enabled false\n        csv.enabled false\n        html.destination \"${buildDir}/reports/jacoco/html\"\n    }\n    executionData = files('build/jacoco/test.exec')\n}\n</code></pre>\n\n<p>Add the following to your gradle test task:</p>\n\n<pre><code>finalizedBy jacocoTestReport\n</code></pre>\n\n<p>Then I issued the following command:</p>\n\n<pre><code>gradle run test jacoco\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10925100,"reputation":976,"user_id":8030048,"display_name":"M. Amer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636946859,"creation_date":1636946859,"answer_id":69969163,"question_id":20032366,"body_markdown":"**For Spring 2.5 Users, who got stuck with it for hours** -*just like myself*.\r\n&lt;br/&gt;\r\nI was not having the ***exec*** file generated.\r\n&lt;br/&gt;And because of that ,\r\nI found that the **jacocoTestReport** was simply &quot;**skipped**&quot;.\r\n\r\n**I got it fixed by adding** :\r\n\r\n    apply plugin: &#39;jacoco&#39;\r\n\r\n    test {\r\n      useJUnitPlatform()\r\n      finalizedBy jacocoTestReport // report is always generated after tests run\r\n    }\r\n\r\n    jacocoTestReport {\r\n        ...\r\n        ...\r\n        ...\r\n        ...\r\n    }\r\n\r\n\r\nThat&#39;s because I&#39;m using **Junit5 with spring boot 2.X**\r\n&lt;br/&gt;\r\nAnd as of today Junit5 is not by default in the test task,\r\n&lt;br/&gt;Hope this helps.","title":"Running jacocoReport","body":"<p><strong>For Spring 2.5 Users, who got stuck with it for hours</strong> -<em>just like myself</em>.\n<br/>\nI was not having the <em><strong>exec</strong></em> file generated.\n<br/>And because of that ,\nI found that the <strong>jacocoTestReport</strong> was simply &quot;<strong>skipped</strong>&quot;.</p>\n<p><strong>I got it fixed by adding</strong> :</p>\n<pre><code>apply plugin: 'jacoco'\n\ntest {\n  useJUnitPlatform()\n  finalizedBy jacocoTestReport // report is always generated after tests run\n}\n\njacocoTestReport {\n    ...\n    ...\n    ...\n    ...\n}\n</code></pre>\n<p>That's because I'm using <strong>Junit5 with spring boot 2.X</strong>\n<br/>\nAnd as of today Junit5 is not by default in the test task,\n<br/>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656376126,"creation_date":1656376126,"answer_id":72779547,"question_id":20032366,"body_markdown":"For me the issue was that the `executionData.setFrom(executionSource)` file path was wrong. ","title":"Running jacocoReport","body":"<p>For me the issue was that the <code>executionData.setFrom(executionSource)</code> file path was wrong.</p>\n"}],"owner":{"account_id":10728,"reputation":4304,"user_id":20391,"accept_rate":70,"display_name":"Pavel Bernshtam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43052,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":20033831,"answer_count":5,"score":41,"last_activity_date":1656376126,"creation_date":1384701503,"question_id":20032366,"body_markdown":"I&#39;m using Gradle 1.7 and Jacoco plugin. My project uses Java and Scala plugins.  \r\nWhen I run `gradlew  -i clean jacocoTestReport`\r\n\r\nReport is not created and I see in the log\r\n\r\n    :bl:jacocoTestReport (Thread[Daemon Thread 13,5,main] - start\r\n    :bl:jacocoTestReport\r\n    Skipping task &#39;:bl:jacocoTestReport&#39; as task onlyIf is false.\r\n    :bl:jacocoTestReport SKIPPED\r\n    :bl:jacocoTestReport (Thread[Daemon Thread 13,5,main]) - complete\r\n\r\nWhat does it mean? Why report is not created?","title":"Running jacocoReport","body":"<p>I'm using Gradle 1.7 and Jacoco plugin. My project uses Java and Scala plugins.<br>\nWhen I run <code>gradlew  -i clean jacocoTestReport</code></p>\n\n<p>Report is not created and I see in the log</p>\n\n<pre><code>:bl:jacocoTestReport (Thread[Daemon Thread 13,5,main] - start\n:bl:jacocoTestReport\nSkipping task ':bl:jacocoTestReport' as task onlyIf is false.\n:bl:jacocoTestReport SKIPPED\n:bl:jacocoTestReport (Thread[Daemon Thread 13,5,main]) - complete\n</code></pre>\n\n<p>What does it mean? Why report is not created?</p>\n"},{"tags":["java","aes"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1656078057,"post_id":72778227,"comment_id":128549456,"body_markdown":"&quot;I&#39;m assuming OpenSSL id-aes256-wrap-pad cipher corresponds to AES/CBC/PKCS5Padding in WRAP_MODE&quot;. **Why would you assume that?** Hint: Maybe you can find a better one [here](https://docs.oracle.com/javase/9/docs/specs/security/standard-names.html#cipher-algorithm-names)?","body":"&quot;I&#39;m assuming OpenSSL id-aes256-wrap-pad cipher corresponds to AES/CBC/PKCS5Padding in WRAP_MODE&quot;. <b>Why would you assume that?</b> Hint: Maybe you can find a better one <a href=\"https://docs.oracle.com/javase/9/docs/specs/security/standard-names.html#cipher-algorithm-names\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1656118818,"post_id":72778227,"comment_id":128549457,"body_markdown":"@MaartenBodewes+ or better [in 17](https://docs.oracle.com/en/java/javase/17/docs/specs/security/standard-names.html#cipher-algorithm-names) which [added the 5649 algorithms](https://www.oracle.com/java/technologies/javase/17-relnote-issues.html#JDK-8248268) (plus 17 is still supported while 9 is past EOL)","body":"@MaartenBodewes+ or better <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/security/standard-names.html#cipher-algorithm-names\" rel=\"nofollow noreferrer\">in 17</a> which <a href=\"https://www.oracle.com/java/technologies/javase/17-relnote-issues.html#JDK-8248268\" rel=\"nofollow noreferrer\">added the 5649 algorithms</a> (plus 17 is still supported while 9 is past EOL)"}],"answers":[{"tags":[],"owner":{"account_id":4240527,"reputation":800,"user_id":3470556,"accept_rate":100,"display_name":"Filip Stefanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656374176,"creation_date":1656333337,"answer_id":72778228,"question_id":72778227,"body_markdown":"CBC is not the right one, my IV is wrong too.\r\n\r\nCorrect cipher is `AESWrapPad` introduced in Java 17 and IV should be `{(byte)0xa6, (byte)0x59, (byte)0x59, (byte)0xa6}` now i can import to AWS HSM.\r\n\r\nMaven support for Java 17 starts from 3.8.x\r\n","title":"RFC 5649 Key wrapping with SunJCE provider","body":"<p>CBC is not the right one, my IV is wrong too.</p>\n<p>Correct cipher is <code>AESWrapPad</code> introduced in Java 17 and IV should be <code>{(byte)0xa6, (byte)0x59, (byte)0x59, (byte)0xa6}</code> now i can import to AWS HSM.</p>\n<p>Maven support for Java 17 starts from 3.8.x</p>\n"}],"owner":{"account_id":4240527,"reputation":800,"user_id":3470556,"accept_rate":100,"display_name":"Filip Stefanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656374176,"creation_date":1656062029,"question_id":72778227,"body_markdown":"I&#39;m trying to implement [this][1] OpenSSL hybrid wrapping using SunJCE provider and unwrap the key to AWS HSM, unfortunately failing miserably so far.\r\n\r\n\r\n  [1]: https://aws.amazon.com/premiumsupport/knowledge-center/cloudhsm-import-keys-openssl\r\n\r\n\r\n    Command: unWrapKey -f wrapped_key_material -w 2883603 -noheader -l test -kc 3 -kt 0 -m 7\r\n\r\n\tCfm3CreateUnwrapTemplate2 returned: 0x00 : HSM Return: SUCCESS\r\n\r\n\tCfm2UnWrapWithTemplate2 returned: 0xad \r\n\r\n\tHSM Error: Operation Failed. Invalid inputs passed\r\n\r\nI&#39;m assuming OpenSSL `id-aes256-wrap-pad` cipher corresponds to `AES/CBC/PKCS5Padding` in `WRAP_MODE`\r\n\r\nFrom OpenSSL doc:\r\n\r\n    aes-[128|192|256]-wrap-pad key wrapping with padding using 128/192/256 bit AES\r\n\r\nThis is what I have so far:\r\n\r\n        // Generate 256bit AES KEK\r\n        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGen.init(256);\r\n        SecretKey masterKey = keyGen.generateKey();\r\n\r\n        // Load public RSA key\r\n        byte[] publicKeyBytes = Files.readAllBytes(Paths.get(publicKeyFile));\r\n        String publicPem = new String(publicKeyBytes, &quot;ASCII&quot;);\r\n        publicPem = publicPem.replaceAll(&quot;^-----BEGIN .* KEY-----\\n&quot;, &quot;&quot;);\r\n        publicPem = publicPem.replaceAll(&quot;-----END .* KEY-----$&quot;, &quot;&quot;);\r\n        byte[] encoded = Base64.getMimeDecoder().decode(publicPem);\r\n        PublicKey publicKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(encoded));\r\n\r\n        // Load private RSA pkcs#8 der\r\n        byte[] privateKeyBytes = Files.readAllBytes(Paths.get(privateKeyFile));\r\n        PrivateKey privateKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\r\n\r\n        // Set RSA cipher parameters\r\n        OAEPParameterSpec spec = new OAEPParameterSpec(&quot;SHA-1&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\r\n        Cipher oaep = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-1ANDMGF1Padding&quot;, &quot;SunJCE&quot;);\r\n        oaep.init(Cipher.WRAP_MODE, publicKey, spec);\r\n\r\n        // Set AES cipher parameters\r\n        byte[] ivBytes = { \r\n            (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\r\n            (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\r\n            (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\r\n            (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\r\n        };\r\n        IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\r\n        Cipher aes = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;, &quot;SunJCE&quot;);\r\n        aes.init(Cipher.WRAP_MODE, masterKey, ivSpec);\r\n\r\n        // Wrap private key with AES KEK\r\n        byte[] wrappedPrivateKey = aes.wrap(privateKey);\r\n\r\n       // Wrap AES KEK with public RSA key\r\n        byte[] wrappedMasterKey;\r\n        try {\r\n            wrappedMasterKey = oaep.wrap(masterKey);\r\n        } catch (IllegalBlockSizeException e) {\r\n            throw new RuntimeException(\r\n                &quot;AES key should always fit OAEP with normal sized RSA key&quot;, e);\r\n        }\r\n\r\n        // Concatenate wrapped KEK and wrapped private key\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        outputStream.write(wrappedMasterKey);\r\n        outputStream.write(wrappedPrivateKey);\r\n        byte wrappedKeys[] = outputStream.toByteArray();\r\n        Files.write(new File(&quot;wrapped_key_material&quot;).toPath(), wrappedKeys);\r\n\r\nMy uncertainties are mainly with my initialization vector, they pass hex A65959A6 to OpenSSL\r\n\r\n        for (byte b : iv) {\r\n            String st = String.format(&quot;%02X&quot;, b); \r\n            System.out.print(st);\r\n        }\r\nMy IV is `A6A6A6A6A6A6A6A6A6A6A6A6A6A6A6A6` AWS HSM consider `0xa6a6a6a6a6a6a6a6` as default IV\r\n\r\nNot sure if my concatenation is done correctly too.","title":"RFC 5649 Key wrapping with SunJCE provider","body":"<p>I'm trying to implement <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/cloudhsm-import-keys-openssl\" rel=\"nofollow noreferrer\">this</a> OpenSSL hybrid wrapping using SunJCE provider and unwrap the key to AWS HSM, unfortunately failing miserably so far.</p>\n<pre><code>Command: unWrapKey -f wrapped_key_material -w 2883603 -noheader -l test -kc 3 -kt 0 -m 7\n\nCfm3CreateUnwrapTemplate2 returned: 0x00 : HSM Return: SUCCESS\n\nCfm2UnWrapWithTemplate2 returned: 0xad \n\nHSM Error: Operation Failed. Invalid inputs passed\n</code></pre>\n<p>I'm assuming OpenSSL <code>id-aes256-wrap-pad</code> cipher corresponds to <code>AES/CBC/PKCS5Padding</code> in <code>WRAP_MODE</code></p>\n<p>From OpenSSL doc:</p>\n<pre><code>aes-[128|192|256]-wrap-pad key wrapping with padding using 128/192/256 bit AES\n</code></pre>\n<p>This is what I have so far:</p>\n<pre><code>    // Generate 256bit AES KEK\n    KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\n    keyGen.init(256);\n    SecretKey masterKey = keyGen.generateKey();\n\n    // Load public RSA key\n    byte[] publicKeyBytes = Files.readAllBytes(Paths.get(publicKeyFile));\n    String publicPem = new String(publicKeyBytes, &quot;ASCII&quot;);\n    publicPem = publicPem.replaceAll(&quot;^-----BEGIN .* KEY-----\\n&quot;, &quot;&quot;);\n    publicPem = publicPem.replaceAll(&quot;-----END .* KEY-----$&quot;, &quot;&quot;);\n    byte[] encoded = Base64.getMimeDecoder().decode(publicPem);\n    PublicKey publicKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(encoded));\n\n    // Load private RSA pkcs#8 der\n    byte[] privateKeyBytes = Files.readAllBytes(Paths.get(privateKeyFile));\n    PrivateKey privateKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\n\n    // Set RSA cipher parameters\n    OAEPParameterSpec spec = new OAEPParameterSpec(&quot;SHA-1&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\n    Cipher oaep = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-1ANDMGF1Padding&quot;, &quot;SunJCE&quot;);\n    oaep.init(Cipher.WRAP_MODE, publicKey, spec);\n\n    // Set AES cipher parameters\n    byte[] ivBytes = { \n        (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\n        (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\n        (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\n        (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\n    };\n    IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\n    Cipher aes = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;, &quot;SunJCE&quot;);\n    aes.init(Cipher.WRAP_MODE, masterKey, ivSpec);\n\n    // Wrap private key with AES KEK\n    byte[] wrappedPrivateKey = aes.wrap(privateKey);\n\n   // Wrap AES KEK with public RSA key\n    byte[] wrappedMasterKey;\n    try {\n        wrappedMasterKey = oaep.wrap(masterKey);\n    } catch (IllegalBlockSizeException e) {\n        throw new RuntimeException(\n            &quot;AES key should always fit OAEP with normal sized RSA key&quot;, e);\n    }\n\n    // Concatenate wrapped KEK and wrapped private key\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    outputStream.write(wrappedMasterKey);\n    outputStream.write(wrappedPrivateKey);\n    byte wrappedKeys[] = outputStream.toByteArray();\n    Files.write(new File(&quot;wrapped_key_material&quot;).toPath(), wrappedKeys);\n</code></pre>\n<p>My uncertainties are mainly with my initialization vector, they pass hex A65959A6 to OpenSSL</p>\n<pre><code>    for (byte b : iv) {\n        String st = String.format(&quot;%02X&quot;, b); \n        System.out.print(st);\n    }\n</code></pre>\n<p>My IV is <code>A6A6A6A6A6A6A6A6A6A6A6A6A6A6A6A6</code> AWS HSM consider <code>0xa6a6a6a6a6a6a6a6</code> as default IV</p>\n<p>Not sure if my concatenation is done correctly too.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9297761,"reputation":139,"user_id":6904202,"display_name":"Monu chandramohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631883263,"creation_date":1631883263,"answer_id":69223804,"question_id":69221265,"body_markdown":"The problem was with icu4j dependencies charset. I was using icu4j.version- 62.1 when I used the latest version icu4j.version-68.2 the .csn to .eml conversion was fine.","title":"IBM eDiscovery Manager (CSN to eml) email conversion causes com.ibm.icm.edc.emailconv.domino.csn.CSNParseException: could not locate data","body":"<p>The problem was with icu4j dependencies charset. I was using icu4j.version- 62.1 when I used the latest version icu4j.version-68.2 the .csn to .eml conversion was fine.</p>\n"}],"owner":{"account_id":9297761,"reputation":139,"user_id":6904202,"display_name":"Monu chandramohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656373995,"creation_date":1631872068,"question_id":69221265,"body_markdown":"When converting the *.csn(CommonStore Native) file to *.eml file using the edcemailconv-2.2.2.jar csn parse exception is thrown. \r\n\r\nBelow is the code, \r\n\r\n 1. &quot;Filestream&quot; is a file inputstream.\r\n 2. &quot;id&quot; is just a filename.\r\n 3. templocation is a location where the EML file will be stored after conversion\r\n\r\n```\r\n\r\n    EmailConverterService emailConv = new EmailConverterService();\r\n    EmailItem emailItem = emailConv.convertStreamToEmailItem(fileStream, id, tempLocation);\r\n```\r\n\r\nBelow is the error code\r\n\r\n```\r\n\r\ncom.ibm.icm.edc.emailconv.domino.csn.CSNParseException: could not locate data\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:497) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:292) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.EmailConverterService.parseEmailContent(EmailConverterService.java:964) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.EmailConverterService.convertStreamToEmailItem(EmailConverterService.java:336) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.EmailConverterService.convertStreamToEmailItem(EmailConverterService.java:214) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.exterro.edrm.connector.filenet.converter.EmlFileCreator.processCSNFile(EmlFileCreator.java:92) [classes/:?]\r\n\tat com.exterro.edrm.connector.filenet.helper.FileNetContentHelper.convertCSNFile(FileNetContentHelper.java:454) [classes/:?]\r\n\tat com.exterro.edrm.connector.filenet.helper.FileNetContentHelper.getInputStream(FileNetContentHelper.java:171) [classes/:?]\r\n\tat com.exterro.edrm.connector.filenet.FileNetConnectorHelper.getContent(FileNetConnectorHelper.java:328) [classes/:?]\r\n\tat com.exterro.edrm.connector.filenet.FileNetConnector.getContent(FileNetConnector.java:94) [classes/:?]\r\n\tat com.exterro.edrm.collector.services.filenet.FileNetCollectorService.processSingleItem(FileNetCollectorService.java:1493) [file-net-collector-internal.5.19.jar:?]\r\n\tat com.exterro.edrm.collector.services.filenet.FileNetCollectorService.search(FileNetCollectorService.java:1375) [file-net-collector-internal.5.19.jar:?]\r\n\tat com.exterro.edrm.collector.services.filenet.FileNetCollectorService.start(FileNetCollectorService.java:390) [file-net-collector-internal.5.19.jar:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_211]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_211]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_211]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_211]\r\n\tat com.exterro.edrm.collector.events.handler.MasterEventHandler.processEventRequest(MasterEventHandler.java:101) [classes/:?]\r\n\tat com.exterro.edrm.collector.events.handler.MasterEventHandler.start(MasterEventHandler.java:58) [classes/:?]\r\n\tat com.exterro.edrm.collector.events.handler.StartEventHandler.performEventAction(StartEventHandler.java:20) [classes/:?]\r\n\tat com.exterro.edrm.collector.events.handler.manager.ListernerManager.performEventAction(ListernerManager.java:114) [classes/:?]\r\n\tat com.exterro.edrm.collector.services.custom.connector.framework.ExterroCollectorCrawlHandler.start(ExterroCollectorCrawlHandler.java:229) [classes/:?]\r\n\tat com.exterro.edrm.collector.services.custom.connector.framework.ExterroCollectorCrawler.startCrawl(ExterroCollectorCrawler.java:73) [classes/:?]\r\n\tat com.exterro.edrm.collector.core.service.CollectorService.run(CollectorService.java:105) [classes/:?]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_211]\r\nCaused by: java.util.MissingResourceException: could not locate data\r\n\tat com.ibm.icu.impl.ICUData.getStream(ICUData.java:143) ~[icu4j-62.1.jar:62.1]\r\n\tat com.ibm.icu.impl.ICUBinary.getData(ICUBinary.java:495) ~[icu4j-62.1.jar:62.1]\r\n\tat com.ibm.icu.impl.ICUBinary.getRequiredData(ICUBinary.java:449) ~[icu4j-62.1.jar:62.1]\r\n\tat com.ibm.icu.charset.UConverterAlias.haveAliasData(UConverterAlias.java:131) ~[icu4j-charset-68.2.jar:68.2]\r\n\tat com.ibm.icu.charset.UConverterAlias.getCanonicalName(UConverterAlias.java:525) ~[icu4j-charset-68.2.jar:68.2]\r\n\tat com.ibm.icu.charset.CharsetProviderICU.getICUCanonicalName(CharsetProviderICU.java:126) ~[icu4j-charset-68.2.jar:68.2]\r\n\tat com.ibm.icu.charset.CharsetProviderICU.charsetForName(CharsetProviderICU.java:62) ~[icu4j-charset-68.2.jar:68.2]\r\n\tat java.nio.charset.Charset$2.run(Charset.java:412) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset$2.run(Charset.java:407) ~[?:1.8.0_211]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset.lookupViaProviders(Charset.java:406) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset.lookup2(Charset.java:477) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset.lookup(Charset.java:464) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset.isSupported(Charset.java:505) ~[?:1.8.0_211]\r\n\tat java.lang.StringCoding.lookupCharset(StringCoding.java:99) ~[?:1.8.0_211]\r\n\tat java.lang.StringCoding.decode(StringCoding.java:185) ~[?:1.8.0_211]\r\n\tat java.lang.String.&lt;init&gt;(String.java:426) ~[?:1.8.0_211]\r\n\tat java.lang.String.&lt;init&gt;(String.java:491) ~[?:1.8.0_211]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNInputStream.readLMBCSEncodedString(CSNInputStream.java:717) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNInputStream.getString(CSNInputStream.java:684) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNReader.processText(CSNReader.java:459) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNReader.getNoteItemData(CSNReader.java:1311) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNReader.getItemValue(CSNReader.java:1526) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:331) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\t... 24 more\r\n\r\n```\r\n\r\nI have even used Jdgui to go through the icu4j.jar\r\n\r\nThe error was in CSNHandler.class when the reader gets the value for &quot;from&quot;\r\n\r\n&gt;  emailItem.setFormType(reader.getItemValue(&quot;form&quot;));\r\n\r\n in the below code.\r\n\r\n```\r\nif (EDCLogger.isLoggable(Level.FINEST))\r\n      EDCLogger.log(Level.FINEST, &quot;CSNHandler&quot;, &quot;parse(InputStream)&quot;, &quot;Entering.&quot;); \r\n    DominoEmailItem emailItem = new DominoEmailItem();\r\n    \r\n    try {\r\n      CSNReader reader = new CSNReader(emailItem.getProcessingErrorProtocol(), stream, this.binDir, this.relativeDir, doCorrection);\r\n\r\n      \r\n      try {\r\n        reader.readItems();\r\n      }\r\n      catch (IOException e) {\r\n        if (e instanceof CSNReadItemException)\r\n        {\r\n\r\n\r\n          \r\n          throw new CSNParseException(&quot;&quot;, 3002);\r\n        }\r\n        emailItem.getProcessingErrorProtocol().registerProcessingError(ProcessingDeviation.CSN_IO_READ_ERROR, e);\r\n      } \r\n      \r\n      emailItem.setFormType(reader.getItemValue(&quot;form&quot;));\r\n      emailItem.setUnid(reader.getUniversalNoteId());\r\n      emailItem.setHasOLEAttachments(reader.hasEmbeddedObjects());\r\n\r\n```\r\n\r\n\r\nAny suggestions on how to solve this issue would be highly appreciated.\r\nThanks in advance !","title":"IBM eDiscovery Manager (CSN to eml) email conversion causes com.ibm.icm.edc.emailconv.domino.csn.CSNParseException: could not locate data","body":"<p>When converting the *.csn(CommonStore Native) file to *.eml file using the edcemailconv-2.2.2.jar csn parse exception is thrown.</p>\n<p>Below is the code,</p>\n<ol>\n<li>&quot;Filestream&quot; is a file inputstream.</li>\n<li>&quot;id&quot; is just a filename.</li>\n<li>templocation is a location where the EML file will be stored after conversion</li>\n</ol>\n<pre><code>\n    EmailConverterService emailConv = new EmailConverterService();\n    EmailItem emailItem = emailConv.convertStreamToEmailItem(fileStream, id, tempLocation);\n</code></pre>\n<p>Below is the error code</p>\n<pre><code>\ncom.ibm.icm.edc.emailconv.domino.csn.CSNParseException: could not locate data\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:497) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:292) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.EmailConverterService.parseEmailContent(EmailConverterService.java:964) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.EmailConverterService.convertStreamToEmailItem(EmailConverterService.java:336) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.EmailConverterService.convertStreamToEmailItem(EmailConverterService.java:214) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.exterro.edrm.connector.filenet.converter.EmlFileCreator.processCSNFile(EmlFileCreator.java:92) [classes/:?]\n    at com.exterro.edrm.connector.filenet.helper.FileNetContentHelper.convertCSNFile(FileNetContentHelper.java:454) [classes/:?]\n    at com.exterro.edrm.connector.filenet.helper.FileNetContentHelper.getInputStream(FileNetContentHelper.java:171) [classes/:?]\n    at com.exterro.edrm.connector.filenet.FileNetConnectorHelper.getContent(FileNetConnectorHelper.java:328) [classes/:?]\n    at com.exterro.edrm.connector.filenet.FileNetConnector.getContent(FileNetConnector.java:94) [classes/:?]\n    at com.exterro.edrm.collector.services.filenet.FileNetCollectorService.processSingleItem(FileNetCollectorService.java:1493) [file-net-collector-internal.5.19.jar:?]\n    at com.exterro.edrm.collector.services.filenet.FileNetCollectorService.search(FileNetCollectorService.java:1375) [file-net-collector-internal.5.19.jar:?]\n    at com.exterro.edrm.collector.services.filenet.FileNetCollectorService.start(FileNetCollectorService.java:390) [file-net-collector-internal.5.19.jar:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_211]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_211]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_211]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_211]\n    at com.exterro.edrm.collector.events.handler.MasterEventHandler.processEventRequest(MasterEventHandler.java:101) [classes/:?]\n    at com.exterro.edrm.collector.events.handler.MasterEventHandler.start(MasterEventHandler.java:58) [classes/:?]\n    at com.exterro.edrm.collector.events.handler.StartEventHandler.performEventAction(StartEventHandler.java:20) [classes/:?]\n    at com.exterro.edrm.collector.events.handler.manager.ListernerManager.performEventAction(ListernerManager.java:114) [classes/:?]\n    at com.exterro.edrm.collector.services.custom.connector.framework.ExterroCollectorCrawlHandler.start(ExterroCollectorCrawlHandler.java:229) [classes/:?]\n    at com.exterro.edrm.collector.services.custom.connector.framework.ExterroCollectorCrawler.startCrawl(ExterroCollectorCrawler.java:73) [classes/:?]\n    at com.exterro.edrm.collector.core.service.CollectorService.run(CollectorService.java:105) [classes/:?]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_211]\nCaused by: java.util.MissingResourceException: could not locate data\n    at com.ibm.icu.impl.ICUData.getStream(ICUData.java:143) ~[icu4j-62.1.jar:62.1]\n    at com.ibm.icu.impl.ICUBinary.getData(ICUBinary.java:495) ~[icu4j-62.1.jar:62.1]\n    at com.ibm.icu.impl.ICUBinary.getRequiredData(ICUBinary.java:449) ~[icu4j-62.1.jar:62.1]\n    at com.ibm.icu.charset.UConverterAlias.haveAliasData(UConverterAlias.java:131) ~[icu4j-charset-68.2.jar:68.2]\n    at com.ibm.icu.charset.UConverterAlias.getCanonicalName(UConverterAlias.java:525) ~[icu4j-charset-68.2.jar:68.2]\n    at com.ibm.icu.charset.CharsetProviderICU.getICUCanonicalName(CharsetProviderICU.java:126) ~[icu4j-charset-68.2.jar:68.2]\n    at com.ibm.icu.charset.CharsetProviderICU.charsetForName(CharsetProviderICU.java:62) ~[icu4j-charset-68.2.jar:68.2]\n    at java.nio.charset.Charset$2.run(Charset.java:412) ~[?:1.8.0_211]\n    at java.nio.charset.Charset$2.run(Charset.java:407) ~[?:1.8.0_211]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_211]\n    at java.nio.charset.Charset.lookupViaProviders(Charset.java:406) ~[?:1.8.0_211]\n    at java.nio.charset.Charset.lookup2(Charset.java:477) ~[?:1.8.0_211]\n    at java.nio.charset.Charset.lookup(Charset.java:464) ~[?:1.8.0_211]\n    at java.nio.charset.Charset.isSupported(Charset.java:505) ~[?:1.8.0_211]\n    at java.lang.StringCoding.lookupCharset(StringCoding.java:99) ~[?:1.8.0_211]\n    at java.lang.StringCoding.decode(StringCoding.java:185) ~[?:1.8.0_211]\n    at java.lang.String.&lt;init&gt;(String.java:426) ~[?:1.8.0_211]\n    at java.lang.String.&lt;init&gt;(String.java:491) ~[?:1.8.0_211]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNInputStream.readLMBCSEncodedString(CSNInputStream.java:717) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNInputStream.getString(CSNInputStream.java:684) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNReader.processText(CSNReader.java:459) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNReader.getNoteItemData(CSNReader.java:1311) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNReader.getItemValue(CSNReader.java:1526) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:331) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    ... 24 more\n\n</code></pre>\n<p>I have even used Jdgui to go through the icu4j.jar</p>\n<p>The error was in CSNHandler.class when the reader gets the value for &quot;from&quot;</p>\n<blockquote>\n<p>emailItem.setFormType(reader.getItemValue(&quot;form&quot;));</p>\n</blockquote>\n<p>in the below code.</p>\n<pre><code>if (EDCLogger.isLoggable(Level.FINEST))\n      EDCLogger.log(Level.FINEST, &quot;CSNHandler&quot;, &quot;parse(InputStream)&quot;, &quot;Entering.&quot;); \n    DominoEmailItem emailItem = new DominoEmailItem();\n    \n    try {\n      CSNReader reader = new CSNReader(emailItem.getProcessingErrorProtocol(), stream, this.binDir, this.relativeDir, doCorrection);\n\n      \n      try {\n        reader.readItems();\n      }\n      catch (IOException e) {\n        if (e instanceof CSNReadItemException)\n        {\n\n\n          \n          throw new CSNParseException(&quot;&quot;, 3002);\n        }\n        emailItem.getProcessingErrorProtocol().registerProcessingError(ProcessingDeviation.CSN_IO_READ_ERROR, e);\n      } \n      \n      emailItem.setFormType(reader.getItemValue(&quot;form&quot;));\n      emailItem.setUnid(reader.getUniversalNoteId());\n      emailItem.setHasOLEAttachments(reader.hasEmbeddedObjects());\n\n</code></pre>\n<p>Any suggestions on how to solve this issue would be highly appreciated.\nThanks in advance !</p>\n"},{"tags":["java","spring-boot","spring-aop","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":5476121,"reputation":143,"user_id":4354090,"display_name":"0x SLC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656371900,"creation_date":1656371900,"answer_id":72779194,"question_id":68400270,"body_markdown":"What needs to be done in the unit test is auto wire the RetryRegistry, then use it to grab the Retry object that is configured for your service method, then execute it using the retry. Also make sure to include the Retry Auto config on the test class. Like this:\r\n\r\n```\r\n@SpringBootTest(classes = {RetryAutoConfiguration.class, ClassImTesting.class})\r\npublic class MyCoolTest {\r\n\r\n  @Autowired\r\n  private MyClass thing;\r\n\r\n  @Autowired\r\n  private RetryRegistry registry;\r\n\r\n @Test\r\n public void myTest() throws TransformationException {\r\n     final Retry transformerRetry = registry.retry(&quot;transformer&quot;);\r\n     transformerRetry.executeSupplier(() -&gt; thing.transform(null));\r\n  }\r\n}\r\n\r\n```\r\n\r\nhttps://github.com/resilience4j/resilience4j/blob/master/resilience4j-retry/src/test/java/io/github/resilience4j/retry/internal/SupplierRetryTest.java#L90","title":"Unable to get resilience4j retry annotation to execute in Springboot unit test","body":"<p>What needs to be done in the unit test is auto wire the RetryRegistry, then use it to grab the Retry object that is configured for your service method, then execute it using the retry. Also make sure to include the Retry Auto config on the test class. Like this:</p>\n<pre><code>@SpringBootTest(classes = {RetryAutoConfiguration.class, ClassImTesting.class})\npublic class MyCoolTest {\n\n  @Autowired\n  private MyClass thing;\n\n  @Autowired\n  private RetryRegistry registry;\n\n @Test\n public void myTest() throws TransformationException {\n     final Retry transformerRetry = registry.retry(&quot;transformer&quot;);\n     transformerRetry.executeSupplier(() -&gt; thing.transform(null));\n  }\n}\n\n</code></pre>\n<p><a href=\"https://github.com/resilience4j/resilience4j/blob/master/resilience4j-retry/src/test/java/io/github/resilience4j/retry/internal/SupplierRetryTest.java#L90\" rel=\"nofollow noreferrer\">https://github.com/resilience4j/resilience4j/blob/master/resilience4j-retry/src/test/java/io/github/resilience4j/retry/internal/SupplierRetryTest.java#L90</a></p>\n"}],"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2443,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1656371900,"creation_date":1626380057,"question_id":68400270,"body_markdown":"I&#39;m trying to write a unit test to validate my resilience4j app with the @retry annotation, but it&#39;s not retrying at all. The code works when I run it, just can&#39;t get it unit tested.. Any ideas? \r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = {ClassImTesting.class})\r\npublic class MyCoolTest {\r\n\r\n    @Autowired\r\n    private MyClass thing;\r\n\r\n\r\n    @Test\r\n    public void myTest() throws TransformationException {\r\n        thing.transform(null);\r\n    }\r\n\r\n```\r\n\r\n# ClassImTesting\r\n```\r\n  @Override\r\n  @Retry(name = &quot;transformer&quot;, fallbackMethod = &quot;handleFailure&quot;)\r\n  public void transform(Thing record)\r\n      throws TransformationException {\r\n    return this.transform(record.value());\r\n  }\r\n\r\npublic void handleFailure(Thing record, Throwable t) {\r\n   // stuff\r\n}\r\n```","title":"Unable to get resilience4j retry annotation to execute in Springboot unit test","body":"<p>I'm trying to write a unit test to validate my resilience4j app with the @retry annotation, but it's not retrying at all. The code works when I run it, just can't get it unit tested.. Any ideas?</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = {ClassImTesting.class})\npublic class MyCoolTest {\n\n    @Autowired\n    private MyClass thing;\n\n\n    @Test\n    public void myTest() throws TransformationException {\n        thing.transform(null);\n    }\n\n</code></pre>\n<h1 id=\"classimtesting-b2uw\">ClassImTesting</h1>\n<pre><code>  @Override\n  @Retry(name = &quot;transformer&quot;, fallbackMethod = &quot;handleFailure&quot;)\n  public void transform(Thing record)\n      throws TransformationException {\n    return this.transform(record.value());\n  }\n\npublic void handleFailure(Thing record, Throwable t) {\n   // stuff\n}\n</code></pre>\n"},{"tags":["java","eclipse","plugins","github"],"comments":[{"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1372831773,"post_id":2801567,"comment_id":25335970,"body_markdown":"http://stackoverflow.com/a/14916525/6309 might now help, maybe as a zipped p2 update? I mention that in [my edited answer below](http://stackoverflow.com/a/2801996/6309).","body":"<a href=\"http://stackoverflow.com/a/14916525/6309\">stackoverflow.com/a/14916525/6309</a> might now help, maybe as a zipped p2 update? I mention that in <a href=\"http://stackoverflow.com/a/2801996/6309\">my edited answer below</a>."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372831708,"creation_date":1273488435,"answer_id":2801996,"question_id":2801567,"body_markdown":"You may now try it in a **release page** (July 2013).\r\n\r\nSee &quot;[Publish a project release (binary/source packages) on Github?][1]&quot;\r\n\r\n---\r\n\r\nOriginal answer (January 2013)\r\n\r\nI have not tested it, but technically, a p2 repository can be defined in any shared path (either filesystem-shared or web-based-shared)\r\n\r\nYou should only need to:\r\n\r\n- [generate the right p2 metadata][2]\r\n- [analyze the p2 repo][3] in case of any issue.\r\n- store the all result in a git managed directory and push it to your GitHub repo.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/14916525/6309\r\n  [2]: http://eclipsesource.com/blogs/2009/06/04/who-writes-your-metadata-me-i-use-a-publisher/\r\n  [3]: http://eclipsesource.com/blogs/2009/05/29/p2-metadata-analyzer/","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>You may now try it in a <strong>release page</strong> (July 2013).</p>\n\n<p>See \"<a href=\"https://stackoverflow.com/a/14916525/6309\">Publish a project release (binary/source packages) on Github?</a>\"</p>\n\n<hr>\n\n<p>Original answer (January 2013)</p>\n\n<p>I have not tested it, but technically, a p2 repository can be defined in any shared path (either filesystem-shared or web-based-shared)</p>\n\n<p>You should only need to:</p>\n\n<ul>\n<li><a href=\"http://eclipsesource.com/blogs/2009/06/04/who-writes-your-metadata-me-i-use-a-publisher/\" rel=\"nofollow noreferrer\">generate the right p2 metadata</a></li>\n<li><a href=\"http://eclipsesource.com/blogs/2009/05/29/p2-metadata-analyzer/\" rel=\"nofollow noreferrer\">analyze the p2 repo</a> in case of any issue.</li>\n<li>store the all result in a git managed directory and push it to your GitHub repo.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":127749,"reputation":6191,"user_id":325129,"accept_rate":97,"display_name":"mchr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1273839690,"creation_date":1273839690,"answer_id":2834015,"question_id":2801567,"body_markdown":"http://pages.github.com/\r\n\r\nThe Github Pages feature allows you to host arbitrary folders of files without git turning each file into a github page.","title":"Is it possible to host an Eclipse update site on Github?","body":"<p><a href=\"http://pages.github.com/\" rel=\"nofollow noreferrer\">http://pages.github.com/</a></p>\n\n<p>The Github Pages feature allows you to host arbitrary folders of files without git turning each file into a github page.</p>\n"},{"tags":[],"owner":{"account_id":262016,"reputation":1141,"user_id":3838258,"display_name":"fmjrey"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1354111732,"creation_date":1299780762,"answer_id":5263884,"question_id":2801567,"body_markdown":"**Github pages are not a proper place for an update site.**\r\n\r\n[Github pages][1] may not properly serve large binary files as explained in this [issue][2]. It may be fine if your jars are small but overall they advise against placing binaries there. Instead they recommend placing binaries in the download section of the repository. I&#39;d be happy if this situation changes because it would be very convenient to publish an update site by pushing to github.\r\n\r\nFor now one would have to use their [API][4] to programatically upload files in the download section. Answers to [this other question][5] points to some libraries and scripts that uses this [API][6] for use within java/maven, perl, ruby, etc.\r\n\r\n\r\n  [1]: http://pages.github.com/\r\n  [2]: https://github.com/vazexqi/CodingSpectator/issues/131\r\n  [3]: http://support.github.com/discussions/site/2535-github-pages-have-stopped-to-function-as-my-eclipse-update-site\r\n  [4]: http://developer.github.com/v3/repos/downloads/\r\n  [5]: https://stackoverflow.com/questions/1431082/programmatically-add-files-to-a-github-download-page\r\n  [6]: http://developer.github.com/v3/repos/downloads/","title":"Is it possible to host an Eclipse update site on Github?","body":"<p><strong>Github pages are not a proper place for an update site.</strong></p>\n\n<p><a href=\"http://pages.github.com/\" rel=\"nofollow noreferrer\">Github pages</a> may not properly serve large binary files as explained in this <a href=\"https://github.com/vazexqi/CodingSpectator/issues/131\" rel=\"nofollow noreferrer\">issue</a>. It may be fine if your jars are small but overall they advise against placing binaries there. Instead they recommend placing binaries in the download section of the repository. I'd be happy if this situation changes because it would be very convenient to publish an update site by pushing to github.</p>\n\n<p>For now one would have to use their <a href=\"http://developer.github.com/v3/repos/downloads/\" rel=\"nofollow noreferrer\">API</a> to programatically upload files in the download section. Answers to <a href=\"https://stackoverflow.com/questions/1431082/programmatically-add-files-to-a-github-download-page\">this other question</a> points to some libraries and scripts that uses this <a href=\"http://developer.github.com/v3/repos/downloads/\" rel=\"nofollow noreferrer\">API</a> for use within java/maven, perl, ruby, etc.</p>\n"},{"tags":[],"owner":{"account_id":424521,"reputation":11,"user_id":804560,"display_name":"jannvck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359132009,"creation_date":1359132009,"answer_id":14526285,"question_id":2801567,"body_markdown":"No it is not possible anymore, the Downloads API [has officially been deprecated][1].\r\n\r\nFrom the GitHub blog: \r\n\r\n&gt; However, some projects need to host and distribute large binary files in addition to source archives. If this applies to you, we recommend using one of the many fantastic services that exist exactly for this purpose such as Amazon S3 / Amazon CloudFront or SourceForge. Check out our help article on distributing large binaries.\r\n\r\nSee this [help article on distributing large binaries][2].\r\n\r\n\r\n  [1]: https://github.com/blog/1302-goodbye-uploads\r\n  [2]: https://help.github.com/articles/distributing-large-binaries","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>No it is not possible anymore, the Downloads API <a href=\"https://github.com/blog/1302-goodbye-uploads\" rel=\"nofollow\">has officially been deprecated</a>.</p>\n\n<p>From the GitHub blog: </p>\n\n<blockquote>\n  <p>However, some projects need to host and distribute large binary files in addition to source archives. If this applies to you, we recommend using one of the many fantastic services that exist exactly for this purpose such as Amazon S3 / Amazon CloudFront or SourceForge. Check out our help article on distributing large binaries.</p>\n</blockquote>\n\n<p>See this <a href=\"https://help.github.com/articles/distributing-large-binaries\" rel=\"nofollow\">help article on distributing large binaries</a>.</p>\n"},{"tags":[],"owner":{"account_id":168437,"reputation":1431,"user_id":393898,"display_name":"BrunoMedeiros"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1391537771,"creation_date":1389993327,"answer_id":21196009,"question_id":2801567,"body_markdown":"*Forget the Github project releases feature, that won&#39;t work as a true update site (see notes at the end).*\r\n\r\nTo achieve what you want, you can create a Github repo, commit/push your p2 repository there and then serve it as an update site, using raw links.\r\nSo for example, for the repository: \r\n\r\nhttps://github.com/some-user/some-repository/\r\n\r\nyou can serve it as an update site using the link:\r\n    \r\nhttps://github.com/some-user/some-repository/raw/master/\r\n\r\nNotes: Yes, if you open the update site link in a browser, github will give you no file listings, but rather a 404. But that&#39;s fine. The Eclipse update site mechanism doesn&#39;t need the parent link to be valid. Instead Eclipse will directly look for `&lt;update-site URL&gt;/artifacts.jar` (or .xml) and from the information in artifacts.jar, it will itself discover the URLs of the other artifacts stored in the update site. AFAIK, at no point does the Eclipse update mechanism need the web server to do file listings of a directory.\r\n\r\nNote2: if you use Github project releases, you can only attach a zipped p2 repository to it. That is not a proper update site because it is a static repository: there is no URL to which new releases can be uploaded to. Eclipse won&#39;t be able to automatically discover new updates, rather the user will need to download the zip for each new release he/she wants to update to. \r\n(Also with a proper update site, only the necessary artifacts for installation/update/query will be downloaded - a minor advantage)","title":"Is it possible to host an Eclipse update site on Github?","body":"<p><em>Forget the Github project releases feature, that won't work as a true update site (see notes at the end).</em></p>\n\n<p>To achieve what you want, you can create a Github repo, commit/push your p2 repository there and then serve it as an update site, using raw links.\nSo for example, for the repository: </p>\n\n<p><a href=\"https://github.com/some-user/some-repository/\">https://github.com/some-user/some-repository/</a></p>\n\n<p>you can serve it as an update site using the link:</p>\n\n<p><a href=\"https://github.com/some-user/some-repository/raw/master/\">https://github.com/some-user/some-repository/raw/master/</a></p>\n\n<p>Notes: Yes, if you open the update site link in a browser, github will give you no file listings, but rather a 404. But that's fine. The Eclipse update site mechanism doesn't need the parent link to be valid. Instead Eclipse will directly look for <code>&lt;update-site URL&gt;/artifacts.jar</code> (or .xml) and from the information in artifacts.jar, it will itself discover the URLs of the other artifacts stored in the update site. AFAIK, at no point does the Eclipse update mechanism need the web server to do file listings of a directory.</p>\n\n<p>Note2: if you use Github project releases, you can only attach a zipped p2 repository to it. That is not a proper update site because it is a static repository: there is no URL to which new releases can be uploaded to. Eclipse won't be able to automatically discover new updates, rather the user will need to download the zip for each new release he/she wants to update to. \n(Also with a proper update site, only the necessary artifacts for installation/update/query will be downloaded - a minor advantage)</p>\n"},{"tags":[],"owner":{"account_id":3325,"reputation":54551,"user_id":4794,"accept_rate":94,"display_name":"Don Kirkby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542304092,"creation_date":1459399647,"answer_id":36324380,"question_id":2801567,"body_markdown":"I was able to host an Eclipse update site using the [GitHub pages][1] feature. I found it difficult to figure out all the pieces I needed, so here&#39;s a brief description of the steps I followed.\r\n\r\n* Build your Eclipse plug-in project, and test it on your local workstation.\r\n* Add a [feature project][2], and add your plug in. Also set the description, copyright, and license information.\r\n* Configure a [publishing source][3] for your repository. I think the `/docs` folder is the easiest to work with. One way to generate a starting web site is to go to the GitHub repository settings page, and launch the automatic page generator.\r\n* Create an update site project nested inside the `/docs` folder. Put it in an obvious folder, like `update`.\r\n* Create a category, and add the feature to the update project.\r\n* Click the Build all button to generate the jar files.\r\n* Commit and push all the changes.\r\n* Try installing from the update site.\r\n* Once the update site works, you can publish your plug in in the [Eclipse marketplace][4]. This is optional, it just makes your plug in easier to find.\r\n\r\nAs others have mentioned, GitHub pages don&#39;t support huge binary files, so this will only work for small projects. To see an example, look at my [Live Coding in Python project][5].\r\n\r\n\r\n  [1]: https://pages.github.com/\r\n  [2]: http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Fproject_wizards%2Fnew_feature_project.htm\r\n  [3]: https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/\r\n  [4]: http://marketplace.eclipse.org/quickstart\r\n  [5]: https://github.com/donkirkby/live-py-plugin/tree/master/docs","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>I was able to host an Eclipse update site using the <a href=\"https://pages.github.com/\" rel=\"nofollow noreferrer\">GitHub pages</a> feature. I found it difficult to figure out all the pieces I needed, so here's a brief description of the steps I followed.</p>\n\n<ul>\n<li>Build your Eclipse plug-in project, and test it on your local workstation.</li>\n<li>Add a <a href=\"http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Fproject_wizards%2Fnew_feature_project.htm\" rel=\"nofollow noreferrer\">feature project</a>, and add your plug in. Also set the description, copyright, and license information.</li>\n<li>Configure a <a href=\"https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/\" rel=\"nofollow noreferrer\">publishing source</a> for your repository. I think the <code>/docs</code> folder is the easiest to work with. One way to generate a starting web site is to go to the GitHub repository settings page, and launch the automatic page generator.</li>\n<li>Create an update site project nested inside the <code>/docs</code> folder. Put it in an obvious folder, like <code>update</code>.</li>\n<li>Create a category, and add the feature to the update project.</li>\n<li>Click the Build all button to generate the jar files.</li>\n<li>Commit and push all the changes.</li>\n<li>Try installing from the update site.</li>\n<li>Once the update site works, you can publish your plug in in the <a href=\"http://marketplace.eclipse.org/quickstart\" rel=\"nofollow noreferrer\">Eclipse marketplace</a>. This is optional, it just makes your plug in easier to find.</li>\n</ul>\n\n<p>As others have mentioned, GitHub pages don't support huge binary files, so this will only work for small projects. To see an example, look at my <a href=\"https://github.com/donkirkby/live-py-plugin/tree/master/docs\" rel=\"nofollow noreferrer\">Live Coding in Python project</a>.</p>\n"},{"tags":[],"owner":{"account_id":392112,"reputation":5429,"user_id":753170,"display_name":"Fred Bricon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656369682,"creation_date":1656369682,"answer_id":72778975,"question_id":2801567,"body_markdown":"It turns out you absolutely can use GitHub Releases to host a p2 update site. \r\nThe main issue is that GitHub Releases hosts all files under a flat directory structure. Eclipse p2 repositories however, are hierarchical by default. \r\nSince Eclipse Tycho (p2 actually), doesn’t allow you to configure a flat p2 repo structure, you need to script it.\r\n\r\nThe script needs to perform 2 things:\r\n\r\n - move every file under `plugins/` and `features/` to the root of the p2 repository,\r\n - replace all references to `/plugins/` and `/features/` with `/`, in the `artifacts.xml` file compressed in `artifacts.jar` and `artifacts.xml.xz`.\r\n\r\nThere are probably several ways to do it but in this blog post, you can see an implementation relying on a JBang script to achieve the desired goal:\r\n\r\nhttps://fbricon.github.io/posts/use-github-releases-as-p2-repo/\r\n","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>It turns out you absolutely can use GitHub Releases to host a p2 update site.\nThe main issue is that GitHub Releases hosts all files under a flat directory structure. Eclipse p2 repositories however, are hierarchical by default.\nSince Eclipse Tycho (p2 actually), doesn’t allow you to configure a flat p2 repo structure, you need to script it.</p>\n<p>The script needs to perform 2 things:</p>\n<ul>\n<li>move every file under <code>plugins/</code> and <code>features/</code> to the root of the p2 repository,</li>\n<li>replace all references to <code>/plugins/</code> and <code>/features/</code> with <code>/</code>, in the <code>artifacts.xml</code> file compressed in <code>artifacts.jar</code> and <code>artifacts.xml.xz</code>.</li>\n</ul>\n<p>There are probably several ways to do it but in this blog post, you can see an implementation relying on a JBang script to achieve the desired goal:</p>\n<p><a href=\"https://fbricon.github.io/posts/use-github-releases-as-p2-repo/\" rel=\"nofollow noreferrer\">https://fbricon.github.io/posts/use-github-releases-as-p2-repo/</a></p>\n"}],"owner":{"account_id":127749,"reputation":6191,"user_id":325129,"accept_rate":97,"display_name":"mchr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5301,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":5263884,"answer_count":7,"score":32,"last_activity_date":1656369682,"creation_date":1273483488,"question_id":2801567,"body_markdown":"I am using GitHub to develop an Eclipse plugin. I would like to have a public Eclipse update site for my plugin.  Can I use GitHub for this?\r\n\r\nI know that GitHub can be used for hosting individual files by using the &quot;raw&quot; links provided on the file information pages.","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>I am using GitHub to develop an Eclipse plugin. I would like to have a public Eclipse update site for my plugin.  Can I use GitHub for this?</p>\n\n<p>I know that GitHub can be used for hosting individual files by using the \"raw\" links provided on the file information pages.</p>\n"},{"tags":["cryptography","java","postgresql"],"comments":[{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":0,"creation_date":1695149549,"post_id":71740204,"comment_id":135984491,"body_markdown":"This Enterprise DB (commercial PostgreSQL) article may have some relevant tips...\n&quot;EDB Tutorial: How to Configure for SSL with EDB JDBC on FIPS Enabled Server&quot;\nhttps://www.enterprisedb.com/blog/edb-tutorial-configure-ssl-edb-jdbc-fips-enabled-server\nauthored by Muhammad Affaan, dated June 23, 2023","body":"This Enterprise DB (commercial PostgreSQL) article may have some relevant tips... &quot;EDB Tutorial: How to Configure for SSL with EDB JDBC on FIPS Enabled Server&quot; <a href=\"https://www.enterprisedb.com/blog/edb-tutorial-configure-ssl-edb-jdbc-fips-enabled-server\" rel=\"nofollow noreferrer\">enterprisedb.com/blog/&hellip;</a> authored by Muhammad Affaan, dated June 23, 2023"}],"answers":[{"tags":[],"owner":{"account_id":5952973,"reputation":151,"user_id":4680491,"display_name":"dirkhas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651843702,"creation_date":1651765961,"answer_id":72130152,"question_id":71740204,"body_markdown":"I had this exact problem, from a Red Hat UBI-8-based java container on an Openshift cluster connecting to a postgres-server outside of the cluster.\r\n\r\nI &quot;solved&quot; it by disabling FIPS on the JVM in the container/pod via the JVM system property `com.redhat.fips=false`. This can either be set by adding `-Dcom.redhat.fips=false` when starting the JVM (e.g. via the container-image&#39;s entrypoint):\r\n```\r\njava -Dcom.redhat.fips=false -jar test.jar\r\n```\r\nor by setting the environment variable `JDK_JAVA_OPTIONS` to `-Dcom.redhat.fips=false` for example via\r\n```\r\nexport JDK_JAVA_OPTIONS=&#39;-Dcom.redhat.fips=false&#39;\r\n```\r\nor by setting this environment variable on your kubernetes manifests (e.g. directly in your deployment pod-specs, via configmaps, or by other means).\r\n\r\nThere are other ways to disable FIPS -- one way is to disable it on the hosts in your kubernetes cluster.\r\n\r\nIf disabling FIPS is not an option (e.g. due to compliance), I have no solution other than to run you java code with debugging enabled on a FIPS-enabled RHEL8 VM to locate the exact place in the postgres-driver where things fail and troubleshoot from there.\r\n\r\nSome useful references  -- some might require a red hat subscription :(\r\n  * https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening#switching-the-system-to-fips-mode_using-the-system-wide-cryptographic-policies\r\n  * https://access.redhat.com/articles/3642912\r\n  * https://access.redhat.com/articles/5895481","title":"How to configure openjdk for FIPS and simple postgres connection example","body":"<p>I had this exact problem, from a Red Hat UBI-8-based java container on an Openshift cluster connecting to a postgres-server outside of the cluster.</p>\n<p>I &quot;solved&quot; it by disabling FIPS on the JVM in the container/pod via the JVM system property <code>com.redhat.fips=false</code>. This can either be set by adding <code>-Dcom.redhat.fips=false</code> when starting the JVM (e.g. via the container-image's entrypoint):</p>\n<pre><code>java -Dcom.redhat.fips=false -jar test.jar\n</code></pre>\n<p>or by setting the environment variable <code>JDK_JAVA_OPTIONS</code> to <code>-Dcom.redhat.fips=false</code> for example via</p>\n<pre><code>export JDK_JAVA_OPTIONS='-Dcom.redhat.fips=false'\n</code></pre>\n<p>or by setting this environment variable on your kubernetes manifests (e.g. directly in your deployment pod-specs, via configmaps, or by other means).</p>\n<p>There are other ways to disable FIPS -- one way is to disable it on the hosts in your kubernetes cluster.</p>\n<p>If disabling FIPS is not an option (e.g. due to compliance), I have no solution other than to run you java code with debugging enabled on a FIPS-enabled RHEL8 VM to locate the exact place in the postgres-driver where things fail and troubleshoot from there.</p>\n<p>Some useful references  -- some might require a red hat subscription :(</p>\n<ul>\n<li><a href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening#switching-the-system-to-fips-mode_using-the-system-wide-cryptographic-policies\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening#switching-the-system-to-fips-mode_using-the-system-wide-cryptographic-policies</a></li>\n<li><a href=\"https://access.redhat.com/articles/3642912\" rel=\"nofollow noreferrer\">https://access.redhat.com/articles/3642912</a></li>\n<li><a href=\"https://access.redhat.com/articles/5895481\" rel=\"nofollow noreferrer\">https://access.redhat.com/articles/5895481</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22578481,"reputation":91,"user_id":16763500,"display_name":"franferrax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656369142,"creation_date":1656369142,"answer_id":72778927,"question_id":71740204,"body_markdown":"For others facing this issue, please find the details in [Bug 2007331](https://bugzilla.redhat.com/show_bug.cgi?id=2007331) (for _Java 17_), plus whether this is already fixed and delivered.\r\n\r\nTo test the fix in advance:\r\n1. Locate `nss.fips.cfg`:\r\n   ```shell\r\n   # For Java 8\r\n   java_version=&#39;1.8.0&#39;\r\n   # For Java 11\r\n   java_version=&#39;11&#39;\r\n   # For Java 17\r\n   java_version=&#39;17&#39;\r\n\r\n   rpm -ql java-${java_version}-openjdk-headless | grep nss.fips.cfg\r\n   ```\r\n1. If not present, at the end, add the following line:\r\n   ```java\r\n   attributes(*,CKO_SECRET_KEY,CKK_GENERIC_SECRET)={ CKA_SIGN=true }\r\n   ```","title":"How to configure openjdk for FIPS and simple postgres connection example","body":"<p>For others facing this issue, please find the details in <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=2007331\" rel=\"nofollow noreferrer\">Bug 2007331</a> (for <em>Java 17</em>), plus whether this is already fixed and delivered.</p>\n<p>To test the fix in advance:</p>\n<ol>\n<li>Locate <code>nss.fips.cfg</code>:\n<pre class=\"lang-bash prettyprint-override\"><code># For Java 8\njava_version='1.8.0'\n# For Java 11\njava_version='11'\n# For Java 17\njava_version='17'\n\nrpm -ql java-${java_version}-openjdk-headless | grep nss.fips.cfg\n</code></pre>\n</li>\n<li>If not present, at the end, add the following line:\n<pre class=\"lang-java prettyprint-override\"><code>attributes(*,CKO_SECRET_KEY,CKK_GENERIC_SECRET)={ CKA_SIGN=true }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":11103514,"reputation":21,"user_id":8151456,"display_name":"Becky McDermott"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1547,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656369142,"creation_date":1649086783,"question_id":71740204,"body_markdown":"I have a simple Java application running in an openjdk Docker container that is executing on a FIPS enabled host system (on a Kubernetes cluster where all nodes have FIPS enabled).\r\n\r\nI am running a `kubectl apply -f simple-java-deployment.yaml` to add this as a Kubernetes pod/deployment to a namespace where a PostGres database is running.\r\n\r\nMy simple example/pod starts fine but when I look in the logs, it is failing to connect to Postgresql.\r\n\r\nWhen I exec inside the container and run the command to get the Java version, I see:\r\nWhen I exec inside one of the java services pod (that connects to postgres):\r\n\r\n    $ java --version\r\n    openjdk 11.0.14 2022-01-18 LTS\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.14+9-LTS)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.14+9-LTS, mixed mode, sharing)\r\n\r\n\r\nThe error in the kubernetes pod logs is a long stack trace with this &quot;Caused by&quot;\r\n\r\n    Caused by: java.lang.RuntimeException: Platform error: unsupported key for HMAC algorithm\r\n\r\nI am using the following jdbc driver:  postgresql-42.3.3.jar\r\n\r\nand my version of postgres is FIPS compliant:  12.7\r\n\r\nIn the FIPS enabled Kubernetes cluster, I am able to exec into a pod and run a &quot;psql&quot; command to connect to the postgresql database.  This proves to me that postges can accept connections in a FIPS enabled host environment.\r\n\r\nI have posted in a postgres forum and the experts there are suggesting there is something in the Java ecosystem that is not configured correctly.  I am not a Java developer per say (just dabble in it).  I work in DevOps and am using this simple example to work out the details because our larger application is having the same issue when deploying to FIPS enabled hosts.\r\n\r\nAre there Java experts out there who can point me to how I can configure my Java/JVM environment such that this simple code example can work?\r\n\r\nHere is my simple code (Note:  I have an infinite loop trying to simulate an http service waiting for requests - I just delete the Kubernetes deployment when I want to stop it).  Also note that I am using the same plain text username/password that works when I successfully connect from one pod to postgres using &quot;psql&quot; (psql -h postgresql-app -p 5432 -d app -U application_user)\r\n\r\n\r\n    package com.example.postgresqljdbc;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class PostgreSQLJDBC {\r\n        private final String url = &quot;jdbc:postgresql://postgresql-app:5432/app&quot;;\r\n        private final String user = &quot;application_user&quot;;\r\n        private final String password = &quot;eb993cac-ee92-4df1-8429-a7a168a0ed21&quot;;\r\n    \r\n        public Connection connect()  {\r\n            Connection conn = null;\r\n    \r\n            try {\r\n                conn = DriverManager.getConnection(url, user, password);\r\n                System.out.println(&quot;Connected to the PostgreSQL server successfully&quot;);\r\n            }\r\n            catch (SQLException e) {\r\n                System.out.println(e.getMessage());\r\n                e.printStackTrace(System.out);\r\n            }\r\n    \r\n            return conn;\r\n        }\r\n    \r\n        public static void main(String[] args)  {\r\n            PostgreSQLJDBC app = new PostgreSQLJDBC();\r\n            int idx = 1;\r\n    \r\n            System.out.println(&quot;About to try connecting to postreSQL database ...&quot;);\r\n    \r\n            Connection db_con = app.connect();\r\n    \r\n            if (db_con == null) {\r\n                System.out.println(&quot;Unable to connect to the database ... check the logs for the exception message&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Successfully connected to the database!!  Try running a query&quot;);\r\n            }\r\n    \r\n            System.out.println(&quot;Inside main - about to enter a long loop&quot;);\r\n    \r\n            while (true) {\r\n                System.out.printf(&quot;Looping a set number of times ... Loop Iteration:  %d%n&quot;, idx);\r\n    \r\n                idx++;\r\n    \r\n                try {\r\n                    TimeUnit.SECONDS.sleep(5);\r\n                }\r\n                catch (Exception e) {\r\n                    System.out.println(e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to configure openjdk for FIPS and simple postgres connection example","body":"<p>I have a simple Java application running in an openjdk Docker container that is executing on a FIPS enabled host system (on a Kubernetes cluster where all nodes have FIPS enabled).</p>\n<p>I am running a <code>kubectl apply -f simple-java-deployment.yaml</code> to add this as a Kubernetes pod/deployment to a namespace where a PostGres database is running.</p>\n<p>My simple example/pod starts fine but when I look in the logs, it is failing to connect to Postgresql.</p>\n<p>When I exec inside the container and run the command to get the Java version, I see:\nWhen I exec inside one of the java services pod (that connects to postgres):</p>\n<pre><code>$ java --version\nopenjdk 11.0.14 2022-01-18 LTS\nOpenJDK Runtime Environment 18.9 (build 11.0.14+9-LTS)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.14+9-LTS, mixed mode, sharing)\n</code></pre>\n<p>The error in the kubernetes pod logs is a long stack trace with this &quot;Caused by&quot;</p>\n<pre><code>Caused by: java.lang.RuntimeException: Platform error: unsupported key for HMAC algorithm\n</code></pre>\n<p>I am using the following jdbc driver:  postgresql-42.3.3.jar</p>\n<p>and my version of postgres is FIPS compliant:  12.7</p>\n<p>In the FIPS enabled Kubernetes cluster, I am able to exec into a pod and run a &quot;psql&quot; command to connect to the postgresql database.  This proves to me that postges can accept connections in a FIPS enabled host environment.</p>\n<p>I have posted in a postgres forum and the experts there are suggesting there is something in the Java ecosystem that is not configured correctly.  I am not a Java developer per say (just dabble in it).  I work in DevOps and am using this simple example to work out the details because our larger application is having the same issue when deploying to FIPS enabled hosts.</p>\n<p>Are there Java experts out there who can point me to how I can configure my Java/JVM environment such that this simple code example can work?</p>\n<p>Here is my simple code (Note:  I have an infinite loop trying to simulate an http service waiting for requests - I just delete the Kubernetes deployment when I want to stop it).  Also note that I am using the same plain text username/password that works when I successfully connect from one pod to postgres using &quot;psql&quot; (psql -h postgresql-app -p 5432 -d app -U application_user)</p>\n<pre><code>package com.example.postgresqljdbc;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.concurrent.TimeUnit;\n\npublic class PostgreSQLJDBC {\n    private final String url = &quot;jdbc:postgresql://postgresql-app:5432/app&quot;;\n    private final String user = &quot;application_user&quot;;\n    private final String password = &quot;eb993cac-ee92-4df1-8429-a7a168a0ed21&quot;;\n\n    public Connection connect()  {\n        Connection conn = null;\n\n        try {\n            conn = DriverManager.getConnection(url, user, password);\n            System.out.println(&quot;Connected to the PostgreSQL server successfully&quot;);\n        }\n        catch (SQLException e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace(System.out);\n        }\n\n        return conn;\n    }\n\n    public static void main(String[] args)  {\n        PostgreSQLJDBC app = new PostgreSQLJDBC();\n        int idx = 1;\n\n        System.out.println(&quot;About to try connecting to postreSQL database ...&quot;);\n\n        Connection db_con = app.connect();\n\n        if (db_con == null) {\n            System.out.println(&quot;Unable to connect to the database ... check the logs for the exception message&quot;);\n        }\n        else {\n            System.out.println(&quot;Successfully connected to the database!!  Try running a query&quot;);\n        }\n\n        System.out.println(&quot;Inside main - about to enter a long loop&quot;);\n\n        while (true) {\n            System.out.printf(&quot;Looping a set number of times ... Loop Iteration:  %d%n&quot;, idx);\n\n            idx++;\n\n            try {\n                TimeUnit.SECONDS.sleep(5);\n            }\n            catch (Exception e) {\n                System.out.println(e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jackson-databind","jackson-annotations"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1656363848,"post_id":72775857,"comment_id":128549587,"body_markdown":"Can you share an example of the POJO you are trying to read as well as the code that does this?","body":"Can you share an example of the POJO you are trying to read as well as the code that does this?"},{"owner":{"account_id":2773631,"reputation":384,"user_id":2875344,"accept_rate":78,"display_name":"Biiiiiird"},"score":0,"creation_date":1656366404,"post_id":72775857,"comment_id":128550243,"body_markdown":"Edited with more information @akortex","body":"Edited with more information @akortex"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1656368125,"post_id":72775857,"comment_id":128550615,"body_markdown":"Check the updated answer.","body":"Check the updated answer."}],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656368114,"creation_date":1656364827,"answer_id":72778417,"question_id":72775857,"body_markdown":"The problem stems from Lombok and not the actual Jackson stuff. Taking a look at the generated source code will give you a clear view of what&#39;s happening. Using `Builder.Default` seems to cause the issue as it apparently produces messed up code which removes the initializations you have in place. Removing the annotation restores proper behavior.\r\n\r\nThis seems to be an issue with Lombok and it is documented [here][1]. Removing the annotation should result in correct behavior.\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/2340","title":"Jackson-databind deserializes JSON with missing property as &quot;null&quot; instead of default value","body":"<p>The problem stems from Lombok and not the actual Jackson stuff. Taking a look at the generated source code will give you a clear view of what's happening. Using <code>Builder.Default</code> seems to cause the issue as it apparently produces messed up code which removes the initializations you have in place. Removing the annotation restores proper behavior.</p>\n<p>This seems to be an issue with Lombok and it is documented <a href=\"https://github.com/projectlombok/lombok/issues/2340\" rel=\"nofollow noreferrer\">here</a>. Removing the annotation should result in correct behavior.</p>\n"}],"owner":{"account_id":2773631,"reputation":384,"user_id":2875344,"accept_rate":78,"display_name":"Biiiiiird"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72778417,"answer_count":1,"score":2,"last_activity_date":1656368114,"creation_date":1656349393,"question_id":72775857,"body_markdown":"When deserializing a JSON string, missing properties are being set as &quot;null&quot; when they shouldn&#39;t be. Below is a POJO class:\r\n\r\n```\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @EqualsAndHashCode\r\n    static class MyPojo {\r\n        \r\n        @JsonProperty(value = &quot;OptionalProp&quot;, required = false, defaultValue = &quot;&quot;)\r\n        @Builder.Default\r\n        @Nullable\r\n        @JsonSetter(value = &quot;&quot;, nulls = Nulls.AS_EMPTY)\r\n        private String optionalProp = &quot;&quot;;\r\n    \r\n        @JsonProperty(value = &quot;RequiredProp&quot;, required = false, defaultValue = &quot;&quot;)\r\n        @Builder.Default\r\n        @Nullable\r\n        @JsonSetter(value = &quot;&quot;, nulls = Nulls.AS_EMPTY)\r\n        private String requiredProp = &quot;&quot;;\r\n    }\r\n```\r\n\r\nJSON String to deserialize:\r\n\r\n```\r\n{\r\n  &quot;RequiredProp&quot; : &quot;test&quot;\r\n}\r\n```\r\n\r\nHere is the deserialization:\r\n\r\n```\r\nprivate final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\nprivate final myPojo = OBJECT_MAPPER.readValue(inputStream, MyPojo.class);\r\n```\r\n\r\nAnd here is the output:\r\n\r\n```\r\nMyPojo(optionalProp=null, requiredProp=test)\r\n```\r\n\r\nBUT creating the POJO with builder:\r\n\r\n```\r\n        final MyPojo myPojo = MyPojo.builder()\r\n            .requiredProp(&quot;test&quot;)\r\n            .build();\r\n```\r\n\r\nResults in the following POJO:\r\n\r\n```\r\nMyPojo(optionalProp=, requiredProp=test)\r\n```\r\n\r\nI&#39;m using:\r\n\r\n```\r\nJackson-databind 2.12.x\r\nJackson-annotation 2.12.x\r\nJackson-core 2.12.x\r\n```\r\n\r\nIs there a minor version change from one of these packages that changes the behavior?","title":"Jackson-databind deserializes JSON with missing property as &quot;null&quot; instead of default value","body":"<p>When deserializing a JSON string, missing properties are being set as &quot;null&quot; when they shouldn't be. Below is a POJO class:</p>\n<pre><code>    @Builder\n    @Getter\n    @Setter\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @ToString\n    @EqualsAndHashCode\n    static class MyPojo {\n        \n        @JsonProperty(value = &quot;OptionalProp&quot;, required = false, defaultValue = &quot;&quot;)\n        @Builder.Default\n        @Nullable\n        @JsonSetter(value = &quot;&quot;, nulls = Nulls.AS_EMPTY)\n        private String optionalProp = &quot;&quot;;\n    \n        @JsonProperty(value = &quot;RequiredProp&quot;, required = false, defaultValue = &quot;&quot;)\n        @Builder.Default\n        @Nullable\n        @JsonSetter(value = &quot;&quot;, nulls = Nulls.AS_EMPTY)\n        private String requiredProp = &quot;&quot;;\n    }\n</code></pre>\n<p>JSON String to deserialize:</p>\n<pre><code>{\n  &quot;RequiredProp&quot; : &quot;test&quot;\n}\n</code></pre>\n<p>Here is the deserialization:</p>\n<pre><code>private final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\nprivate final myPojo = OBJECT_MAPPER.readValue(inputStream, MyPojo.class);\n</code></pre>\n<p>And here is the output:</p>\n<pre><code>MyPojo(optionalProp=null, requiredProp=test)\n</code></pre>\n<p>BUT creating the POJO with builder:</p>\n<pre><code>        final MyPojo myPojo = MyPojo.builder()\n            .requiredProp(&quot;test&quot;)\n            .build();\n</code></pre>\n<p>Results in the following POJO:</p>\n<pre><code>MyPojo(optionalProp=, requiredProp=test)\n</code></pre>\n<p>I'm using:</p>\n<pre><code>Jackson-databind 2.12.x\nJackson-annotation 2.12.x\nJackson-core 2.12.x\n</code></pre>\n<p>Is there a minor version change from one of these packages that changes the behavior?</p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"score":1,"creation_date":1301696392,"post_id":5519472,"comment_id":6268392,"body_markdown":"That doesn&#39;t return a time at all, it returns a `TimeZone`. So I don&#39;t understand your question.  Does `Calendar.getInstance(TimeZone.getTimeZone(&quot;America/Ottawa&quot;));` not behave like you want?","body":"That doesn&#39;t return a time at all, it returns a <code>TimeZone</code>. So I don&#39;t understand your question.  Does <code>Calendar.getInstance(TimeZone.getTimeZone(&quot;America&#47;Ottawa&quot;))&zwnj;&#8203;;</code> not behave like you want?"},{"owner":{"account_id":204648,"reputation":2155,"user_id":452991,"display_name":"Argote"},"score":0,"creation_date":1301696552,"post_id":5519472,"comment_id":6268419,"body_markdown":"what do you mean by &quot;incorrect time&quot;?","body":"what do you mean by &quot;incorrect time&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":289134,"reputation":372192,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656367243,"creation_date":1301696799,"answer_id":5519520,"question_id":5519472,"body_markdown":"You can&#39;t just pick cities at random. `America/Toronto` is the appropriate time zone if Java uses the same [time zone database](http://en.wikipedia.org/wiki/List_of_tz_database_time_zones) as everyone else.","title":"Java time zone for Ottawa?","body":"<p>You can't just pick cities at random. <code>America/Toronto</code> is the appropriate time zone if Java uses the same <a href=\"http://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">time zone database</a> as everyone else.</p>\n"},{"tags":[],"owner":{"account_id":49530,"reputation":7346,"user_id":147481,"display_name":"BillThor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1615311793,"creation_date":1301696876,"answer_id":5519536,"question_id":5519472,"body_markdown":"The correct timezone is `America/Toronto`.  This is the largest city in the province of Ontario.  \r\n\r\nTimezone names are typically in the form Continent/City.  For Canada and the United States, the timezones use the largest city in the State or Province.  A few states have multiple timezones in the form of Continent/State/City.  For most other countries there is at least one timezone using the largest city. Countries with multiple timezones usually use the largest city in each timezone.  \r\n\r\nEDIT: The likely reason for your time difference is that the code defaults to Zulu time if the timezone is not found.","title":"Java time zone for Ottawa?","body":"<p>The correct timezone is <code>America/Toronto</code>.  This is the largest city in the province of Ontario.</p>\n<p>Timezone names are typically in the form Continent/City.  For Canada and the United States, the timezones use the largest city in the State or Province.  A few states have multiple timezones in the form of Continent/State/City.  For most other countries there is at least one timezone using the largest city. Countries with multiple timezones usually use the largest city in each timezone.</p>\n<p>EDIT: The likely reason for your time difference is that the code defaults to Zulu time if the timezone is not found.</p>\n"}],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4412,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":5519536,"answer_count":2,"score":4,"last_activity_date":1656367243,"creation_date":1301696308,"question_id":5519472,"body_markdown":"Why the TimeZone returned by the following line showed incorrect time :\r\n\r\n    TimeZone.getTimeZone(&quot;America/Ottawa&quot;)\r\n\r\nIt showed 10:26 PM now [ Atlanta time now is 6:26 , Ottawashould also be 6:26 pm ].\r\n\r\nI thought it has two parts : continent/city and it should return the correct time, am I incorrect ?","title":"Java time zone for Ottawa?","body":"<p>Why the TimeZone returned by the following line showed incorrect time :</p>\n\n<pre><code>TimeZone.getTimeZone(\"America/Ottawa\")\n</code></pre>\n\n<p>It showed 10:26 PM now [ Atlanta time now is 6:26 , Ottawashould also be 6:26 pm ].</p>\n\n<p>I thought it has two parts : continent/city and it should return the correct time, am I incorrect ?</p>\n"},{"tags":["java","assertj"],"comments":[{"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"score":1,"creation_date":1656310287,"post_id":72767548,"comment_id":128530906,"body_markdown":"The point is that this enum is used in multiple projects and the id must not change. If someone changed, for example, the id of `CREDITCARD` to `11`, then this must be detected by the test before it gets deployed to the depenendent projects which use this enum. Also, if someone removes a payment type...","body":"The point is that this enum is used in multiple projects and the id must not change. If someone changed, for example, the id of <code>CREDITCARD</code> to <code>11</code>, then this must be detected by the test before it gets deployed to the depenendent projects which use this enum. Also, if someone removes a payment type..."},{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":1,"creation_date":1656310353,"post_id":72767548,"comment_id":128530927,"body_markdown":"I suppose the enum cordinal must not change. If two services are communicating then the ordinal should point to the same enum value.","body":"I suppose the enum cordinal must not change. If two services are communicating then the ordinal should point to the same enum value."},{"owner":{"account_id":2734255,"reputation":561,"user_id":2384806,"display_name":"mdoflaz"},"score":0,"creation_date":1656310392,"post_id":72767548,"comment_id":128530936,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/1079700/how-to-test-enum-types","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1079700/how-to-test-enum-types\" title=\"how to test enum types\">stackoverflow.com/questions/1079700/how-to-test-enum-types</a>"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":1,"creation_date":1656312716,"post_id":72767548,"comment_id":128531511,"body_markdown":"this does not look that bad :) however, you&#39;d need to not forget to update the test when new enum value is added. to deal with this you might add another test that checks that the size of `expectedPaymentTypes` is the same as the number of enum values","body":"this does not look that bad :) however, you&#39;d need to not forget to update the test when new enum value is added. to deal with this you might add another test that checks that the size of <code>expectedPaymentTypes</code> is the same as the number of enum values"},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":1,"creation_date":1656321009,"post_id":72767548,"comment_id":128534206,"body_markdown":"Personally, I&#39;m not a fan of separating the test data away from the test class, because when reading the (failing) test method, I then have to move to another place to see what is actually expected. So I would personally do an `assertThat( Arrays.stream(enums.values).map(value -&gt; Pair.of(v.name(), value.getId()).containsExactly( Pair.of(...), Pair.of(...));`","body":"Personally, I&#39;m not a fan of separating the test data away from the test class, because when reading the (failing) test method, I then have to move to another place to see what is actually expected. So I would personally do an <code>assertThat( Arrays.stream(enums.values).map(value -&gt; Pair.of(v.name(), value.getId()).containsExactly( Pair.of(...), Pair.of(...));</code>"}],"answers":[{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656365499,"creation_date":1656365165,"answer_id":72778476,"question_id":72767548,"body_markdown":"JUnit 5 [parameterized tests][1] with a [`@CsvSource`][2] could help:\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({\r\n      &quot;CREDITCARD, 1&quot;,\r\n      &quot;PAYPAL, 2&quot;,\r\n      &quot;APPLE_PAY, 3&quot;,\r\n      &quot;GOOGLE_PAY, 4&quot;\r\n    })\r\n    void getId_should_return_expected_id(PaymentType paymentType, long id) {\r\n      assertThat(paymentType.getId()).isEqualTo(id);\r\n    }\r\n\r\nTo make sure that all Enum values are tested, the mappings can be defined as a [`@MethodSource`][3] and one more test can enforce the full coverage:\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;mappings&quot;)\r\n    void getId_should_return_expected_id(PaymentType paymentType, long id) {\r\n      assertThat(paymentType.getId()).isEqualTo(id);\r\n    }\r\n\r\n    @Test\r\n    void all_values_should_be_tested() {\r\n      List&lt;PaymentType&gt; values = mappings() // same mappings used above\r\n        .map(arguments -&gt; arguments.get()[0])\r\n        .map(PaymentType.class::cast)\r\n        .collect(Collectors.toList());\r\n\r\n      assertThat(values).contains(PaymentType.values());\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; mappings() {\r\n      return Stream.of(\r\n        arguments(CREDITCARD, 1L),\r\n        arguments(PAYPAL, 2L),\r\n        arguments(APPLE_PAY, 3L),\r\n        arguments(GOOGLE_PAY, 4L)\r\n      );\r\n    }\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-CsvSource\r\n  [3]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-MethodSource","title":"Asserting Java enum values and fields with AssertJ","body":"<p>JUnit 5 <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">parameterized tests</a> with a <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-CsvSource\" rel=\"nofollow noreferrer\"><code>@CsvSource</code></a> could help:</p>\n<pre><code>@ParameterizedTest\n@CsvSource({\n  &quot;CREDITCARD, 1&quot;,\n  &quot;PAYPAL, 2&quot;,\n  &quot;APPLE_PAY, 3&quot;,\n  &quot;GOOGLE_PAY, 4&quot;\n})\nvoid getId_should_return_expected_id(PaymentType paymentType, long id) {\n  assertThat(paymentType.getId()).isEqualTo(id);\n}\n</code></pre>\n<p>To make sure that all Enum values are tested, the mappings can be defined as a <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-MethodSource\" rel=\"nofollow noreferrer\"><code>@MethodSource</code></a> and one more test can enforce the full coverage:</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;mappings&quot;)\nvoid getId_should_return_expected_id(PaymentType paymentType, long id) {\n  assertThat(paymentType.getId()).isEqualTo(id);\n}\n\n@Test\nvoid all_values_should_be_tested() {\n  List&lt;PaymentType&gt; values = mappings() // same mappings used above\n    .map(arguments -&gt; arguments.get()[0])\n    .map(PaymentType.class::cast)\n    .collect(Collectors.toList());\n\n  assertThat(values).contains(PaymentType.values());\n}\n\nstatic Stream&lt;Arguments&gt; mappings() {\n  return Stream.of(\n    arguments(CREDITCARD, 1L),\n    arguments(PAYPAL, 2L),\n    arguments(APPLE_PAY, 3L),\n    arguments(GOOGLE_PAY, 4L)\n  );\n}\n</code></pre>\n"}],"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1173,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656365499,"creation_date":1656309764,"question_id":72767548,"body_markdown":"Given a simple enum like this:\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Getter\r\npublic enum PaymentMethod {\r\n\r\n    CREDITCARD(1),\r\n    PAYPAL(2),\r\n    APPLE_PAY(3),\r\n    GOOGLE_PAY(4);\r\n\r\n    private final long id;\r\n}\r\n```\r\n\r\nHow can I write a JUnit test with AssertJ assertions which checks that the enum values **and their fields** are exactly as defined in the enum? So that in the end the test checks for each payment type:\r\n\r\n- Does payment type exist in the enum?\r\n- Does payment type X have id Y?\r\n\r\nMy current apporach works but feels a bit cumbersome. I&#39;m pretty sure that AssertJ provides easier statements but I haven&#39;t found a solution yet.\r\n\r\n```java\r\nclass PaymentTypeTest {\r\n\r\n    private static final Map&lt;Long, PaymentType&gt; expectedPaymentTypes = new HashMap&lt;&gt;();\r\n\r\n    @BeforeAll\r\n    static void beforeAll() {\r\n        expectedPaymentTypes.put(1L, CREDITCARD);\r\n        expectedPaymentTypes.put(2L, PAYPAL);\r\n        expectedPaymentTypes.put(3L, APPLE_PAY);\r\n        expectedPaymentTypes.put(4L, GOOGLE_PAY);    \r\n    }\r\n\r\n    @Test\r\n    void should_contain_exact_values() {\r\n        for (Map.Entry&lt;Long, PaymentType&gt; entry : expectedPaymentTypes.entrySet()) {\r\n            final PaymentType paymentType = entry.getValue();\r\n            assertThat(paymentType.getId()).isEqualTo(entry.getKey());\r\n        }\r\n    }\r\n}```","title":"Asserting Java enum values and fields with AssertJ","body":"<p>Given a simple enum like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Getter\npublic enum PaymentMethod {\n\n    CREDITCARD(1),\n    PAYPAL(2),\n    APPLE_PAY(3),\n    GOOGLE_PAY(4);\n\n    private final long id;\n}\n</code></pre>\n<p>How can I write a JUnit test with AssertJ assertions which checks that the enum values <strong>and their fields</strong> are exactly as defined in the enum? So that in the end the test checks for each payment type:</p>\n<ul>\n<li>Does payment type exist in the enum?</li>\n<li>Does payment type X have id Y?</li>\n</ul>\n<p>My current apporach works but feels a bit cumbersome. I'm pretty sure that AssertJ provides easier statements but I haven't found a solution yet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PaymentTypeTest {\n\n    private static final Map&lt;Long, PaymentType&gt; expectedPaymentTypes = new HashMap&lt;&gt;();\n\n    @BeforeAll\n    static void beforeAll() {\n        expectedPaymentTypes.put(1L, CREDITCARD);\n        expectedPaymentTypes.put(2L, PAYPAL);\n        expectedPaymentTypes.put(3L, APPLE_PAY);\n        expectedPaymentTypes.put(4L, GOOGLE_PAY);    \n    }\n\n    @Test\n    void should_contain_exact_values() {\n        for (Map.Entry&lt;Long, PaymentType&gt; entry : expectedPaymentTypes.entrySet()) {\n            final PaymentType paymentType = entry.getValue();\n            assertThat(paymentType.getId()).isEqualTo(entry.getKey());\n        }\n    }\n}```\n</code></pre>\n"},{"tags":["java","node.js","graph","service","aws-xray"],"answers":[{"tags":[],"owner":{"account_id":10095074,"reputation":493,"user_id":7460739,"display_name":"Nathaniel Ruiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656364917,"creation_date":1656364917,"answer_id":72778434,"question_id":72739137,"body_markdown":"Thanks for asking this question. Unfortunately this is _not_ yet supported. Please see this open issue on the X-Ray Node JS SDK which explains why this is a difficult problem to solve:\r\n\r\nhttps://github.com/aws/aws-xray-sdk-node/issues/208","title":"Display single service map for two serverless microservices instrumented with AWS Xray","body":"<p>Thanks for asking this question. Unfortunately this is <em>not</em> yet supported. Please see this open issue on the X-Ray Node JS SDK which explains why this is a difficult problem to solve:</p>\n<p><a href=\"https://github.com/aws/aws-xray-sdk-node/issues/208\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-xray-sdk-node/issues/208</a></p>\n"}],"owner":{"account_id":284924,"reputation":431,"user_id":583309,"accept_rate":24,"display_name":"Hussain Ashruf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656364917,"creation_date":1656046385,"question_id":72739137,"body_markdown":"I have use-case where the Producer Java lambda publishes messages to SQS and Consumer Nodejs consumes them. Producer side of X-ray is enabled in serverless.yml; displays a Service map with all AWS components. The Consumer side of Nodejs lambda; is enabled with tracing. Now the problem is Aws Xray shows two service maps. I need to show a single service map. How to achieve it. Thank you.","title":"Display single service map for two serverless microservices instrumented with AWS Xray","body":"<p>I have use-case where the Producer Java lambda publishes messages to SQS and Consumer Nodejs consumes them. Producer side of X-ray is enabled in serverless.yml; displays a Service map with all AWS components. The Consumer side of Nodejs lambda; is enabled with tracing. Now the problem is Aws Xray shows two service maps. I need to show a single service map. How to achieve it. Thank you.</p>\n"},{"tags":["java","jdbc","tigergraph"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1656328113,"post_id":72770917,"comment_id":128536628,"body_markdown":"Not the main error, but apostrophe, single quote, for values and single = for equality:`&quot;select * from InfectionCase where id = &#39;Hansarang Convalescent Hospital&#39;&quot;`. You might use `con.getMetaData()` and query all table names.","body":"Not the main error, but apostrophe, single quote, for values and single = for equality:<code>&quot;select * from InfectionCase where id = &#39;Hansarang Convalescent Hospital&#39;&quot;</code>. You might use <code>con.getMetaData()</code> and query all table names."}],"answers":[{"tags":[],"owner":{"account_id":25664292,"reputation":111,"user_id":19429580,"display_name":"Szilard Barany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656364809,"creation_date":1656364809,"answer_id":72778416,"question_id":72770917,"body_markdown":"To fetch vertex instances from TigerGraph you need to use a different syntax as the `SELECT` statement is not supported in the JDBC driver:\r\n```\r\ntry (Connection con = getConnection()) {\r\n    String query = &quot;get vertex(InfectionCase, \\&quot;Hansarang Convalescent Hospital\\&quot;)&quot;;\r\n    &lt;more statements&gt;\r\n}\r\n```\r\nYou can use this `get vertex(vertex_type)` syntax to get a single vertex by primary ID or get a set of vertices (optionally filtered, sorted and limited). See the [documentation](https://github.com/tigergraph/ecosys/tree/master/tools/etl/tg-jdbc-driver#supported-queries-and-syntax) on this.\r\n\r\nI personally think that it is better to access TigerGraph via the [REST API](https://docs.tigergraph.com/tigergraph-server/current/api/) than using the JDBC driver. JDBC was designed for relation databases and thus it expects tabular data. The graph is not tabular, it&#39;s a data network. So, what you normally get out of a TigerGraph statement or query execution is a JSON document describing a subgraph: vertices and edges. This output can be flattened into rows and columns, but then you get a lesser image of the graph: a 2D projection of a 3D (or rather: a multi-dimensional) data set.\r\n\r\nAnother note: fetching individual vertices and edges, or even sets of these via JDBC calls (like above) or via the built-in REST endpoints (like `http://localhost:9000/graph/MyGrah/vertices/InfectionCase/Hansarang+Convalescent+Hospital`) is not the most efficient use of TigerGraph. Surely, sometimes you just need a set of vertices to list in an app or visualise a graph. The real power comes from developing [queries](https://docs.tigergraph.com/gsql-ref/current/tutorials/gsql-101/parameterized-gsql-query), TigerGraph&#39;s &quot;stored procedures&quot; that can execute even very complex and sophisticated graph algorithms like [PageRank](https://github.com/tigergraph/gsql-graph-algorithms/tree/master/algorithms/Centrality/pagerank) or [Louvain community detection](https://github.com/tigergraph/gsql-graph-algorithms/tree/master/algorithms/Community/louvain) inside the graph very fast, in a parallelised fashion.","title":"Can we use the Select query to get the vertex data using JDBC Driver in Java","body":"<p>To fetch vertex instances from TigerGraph you need to use a different syntax as the <code>SELECT</code> statement is not supported in the JDBC driver:</p>\n<pre><code>try (Connection con = getConnection()) {\n    String query = &quot;get vertex(InfectionCase, \\&quot;Hansarang Convalescent Hospital\\&quot;)&quot;;\n    &lt;more statements&gt;\n}\n</code></pre>\n<p>You can use this <code>get vertex(vertex_type)</code> syntax to get a single vertex by primary ID or get a set of vertices (optionally filtered, sorted and limited). See the <a href=\"https://github.com/tigergraph/ecosys/tree/master/tools/etl/tg-jdbc-driver#supported-queries-and-syntax\" rel=\"nofollow noreferrer\">documentation</a> on this.</p>\n<p>I personally think that it is better to access TigerGraph via the <a href=\"https://docs.tigergraph.com/tigergraph-server/current/api/\" rel=\"nofollow noreferrer\">REST API</a> than using the JDBC driver. JDBC was designed for relation databases and thus it expects tabular data. The graph is not tabular, it's a data network. So, what you normally get out of a TigerGraph statement or query execution is a JSON document describing a subgraph: vertices and edges. This output can be flattened into rows and columns, but then you get a lesser image of the graph: a 2D projection of a 3D (or rather: a multi-dimensional) data set.</p>\n<p>Another note: fetching individual vertices and edges, or even sets of these via JDBC calls (like above) or via the built-in REST endpoints (like <code>http://localhost:9000/graph/MyGrah/vertices/InfectionCase/Hansarang+Convalescent+Hospital</code>) is not the most efficient use of TigerGraph. Surely, sometimes you just need a set of vertices to list in an app or visualise a graph. The real power comes from developing <a href=\"https://docs.tigergraph.com/gsql-ref/current/tutorials/gsql-101/parameterized-gsql-query\" rel=\"nofollow noreferrer\">queries</a>, TigerGraph's &quot;stored procedures&quot; that can execute even very complex and sophisticated graph algorithms like <a href=\"https://github.com/tigergraph/gsql-graph-algorithms/tree/master/algorithms/Centrality/pagerank\" rel=\"nofollow noreferrer\">PageRank</a> or <a href=\"https://github.com/tigergraph/gsql-graph-algorithms/tree/master/algorithms/Community/louvain\" rel=\"nofollow noreferrer\">Louvain community detection</a> inside the graph very fast, in a parallelised fashion.</p>\n"}],"owner":{"account_id":24901105,"reputation":3,"user_id":18771774,"display_name":"Rajvardhan Salunkhe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72778416,"answer_count":1,"score":0,"last_activity_date":1656364809,"creation_date":1656327225,"question_id":72770917,"body_markdown":"I am trying to run select statement for tigerGraph using JDBC Driver for JAVA but getting java.sql.SQLException: Unsupported dbtable: InfectionCase Error. Is select statement supported by tigerGraph using JDBC or is there any other way to execute Select Statement.\r\n\r\n    try (Connection con = getConnection()) {\r\n            String query = &quot;select * From InfectionCase where id == \\&quot;Hansarang Convalescent Hospital\\&quot;&quot;;\r\n            System.out.println(&quot;Running :&quot; + query);\r\n            Statement statement = con.createStatement();\r\n            ResultSet rs = statement.executeQuery(query);\r\n            System.out.println(rs.toString());\r\n            do {\r\n                java.sql.ResultSetMetaData metaData = rs.getMetaData();\r\n                System.out.println(&quot;Table: &quot; + metaData.getCatalogName(1));\r\n                System.out.print(metaData.getColumnName(1));\r\n                for (int i = 2; i &lt;= metaData.getColumnCount(); ++i) {\r\n                    System.out.print(&quot;\\t&quot; + metaData.getColumnName(i));\r\n                }\r\n\r\n    java.sql.SQLException: Unsupported dbtable: InfectionCase\r\n\tat com.tigergraph.jdbc.restpp.driver.QueryParser.&lt;init&gt;(QueryParser.java:629)\r\n\tat com.tigergraph.jdbc.restpp.RestppStatement.execute(RestppStatement.java:41)\r\n\tat com.tigergraph.jdbc.restpp.RestppStatement.executeQuery(RestppStatement.java:35)\r\n\tat com.prissoft.connection.GraphJSON.selectStatementUsingSQL(GraphJSON.java:145)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)","title":"Can we use the Select query to get the vertex data using JDBC Driver in Java","body":"<p>I am trying to run select statement for tigerGraph using JDBC Driver for JAVA but getting java.sql.SQLException: Unsupported dbtable: InfectionCase Error. Is select statement supported by tigerGraph using JDBC or is there any other way to execute Select Statement.</p>\n<pre><code>try (Connection con = getConnection()) {\n        String query = &quot;select * From InfectionCase where id == \\&quot;Hansarang Convalescent Hospital\\&quot;&quot;;\n        System.out.println(&quot;Running :&quot; + query);\n        Statement statement = con.createStatement();\n        ResultSet rs = statement.executeQuery(query);\n        System.out.println(rs.toString());\n        do {\n            java.sql.ResultSetMetaData metaData = rs.getMetaData();\n            System.out.println(&quot;Table: &quot; + metaData.getCatalogName(1));\n            System.out.print(metaData.getColumnName(1));\n            for (int i = 2; i &lt;= metaData.getColumnCount(); ++i) {\n                System.out.print(&quot;\\t&quot; + metaData.getColumnName(i));\n            }\n\njava.sql.SQLException: Unsupported dbtable: InfectionCase\nat com.tigergraph.jdbc.restpp.driver.QueryParser.&lt;init&gt;(QueryParser.java:629)\nat com.tigergraph.jdbc.restpp.RestppStatement.execute(RestppStatement.java:41)\nat com.tigergraph.jdbc.restpp.RestppStatement.executeQuery(RestppStatement.java:35)\nat com.prissoft.connection.GraphJSON.selectStatementUsingSQL(GraphJSON.java:145)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n"},{"tags":["java","spring","encoding","charset"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1649073522,"post_id":71735905,"comment_id":126776064,"body_markdown":"That looks like a defunct encoding to me. Not even a Wikipedia on it. What&#39;s wrong with Unicode?","body":"That looks like a defunct encoding to me. Not even a Wikipedia on it. What&#39;s wrong with Unicode?"}],"answers":[{"tags":[],"owner":{"account_id":19210509,"reputation":31,"user_id":14036409,"display_name":"Anna Bar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656364423,"creation_date":1656364423,"answer_id":72778366,"question_id":71735905,"body_markdown":"Are you sure you need to support x-compound_text? \r\nCheck this issue, it helped me a lot in the same case : https://stackoverflow.com/questions/44762794/java-spring-resttemplate-sets-unwanted-headers ","title":"Adding &#39;x-compound_text&#39; charset into Java Spring application","body":"<p>Are you sure you need to support x-compound_text?\nCheck this issue, it helped me a lot in the same case : <a href=\"https://stackoverflow.com/questions/44762794/java-spring-resttemplate-sets-unwanted-headers\">Java Spring RestTemplate sets unwanted headers</a></p>\n"}],"owner":{"account_id":8340816,"reputation":4606,"user_id":6266192,"display_name":"Dudi Boy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656364423,"creation_date":1649069110,"question_id":71735905,"body_markdown":"We are deploying a Java Spring Web application to our Asian customer.\r\n\r\nOn Spring Web 5.3.3\r\n\r\nOn top of Tomcat 9\r\n\r\nUsing Java 11 on openjdk 11\r\n\r\nOn Linux RHEL 7.8 (Red hat Enterprise Linux)\r\n\r\n\r\n\r\nOur Java Spring Web application is configured to use UTF-8 encoding.\r\n\r\n### In `setenv.sh` ###\r\n    ...\r\n    -Dfile.encoding=UTF-8\r\n    -Dsun.jnu.encoding=UTF-8\r\n    ...\r\n\r\n### In `server.xml` ###\r\n     ...\r\n       &lt;Connector server=&quot;&quot; port=&quot;7780&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot;\r\n                   URIEncoding=&quot;UTF-8&quot;\r\n                   allowTrace=&quot;false&quot;\r\n                   xpoweredBy=&quot;false&quot;\r\n                   compression=&quot;on&quot;\r\n                   compressionMinSize=&quot;2048&quot;\r\n                   noCompressionUserAgents=&quot;gozilla, traviata&quot;\r\n                   compressableMimeType=&quot;text/css,text/html,text/xml,application/javascript,application/json,application/x-javascript,text/plain,text/javascript&quot;\r\n                            /&gt;\r\n      ...\r\n\r\n### Problem: ###\r\n\r\nOur web service failing to consume chartset `x-compound_text`\r\n\r\nHere are sections from the log:\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.nio.charset.UnsupportedCharsetException: x-compound_text\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n            at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    ....\r\n    Caused by: java.nio.charset.UnsupportedCharsetException: x-compound_text\r\n            at java.base/java.nio.charset.Charset.forName(Charset.java:529)\r\n            at org.springframework.http.HttpHeaders.getAcceptCharset(HttpHeaders.java:694)\r\n            at org.springframework.integration.http.support.DefaultHttpHeaderMapper.getHttpHeader(DefaultHttpHeaderMapper.java:817)\r\n    ....\r\n\r\n\r\n\r\nWe understand we need to support charset `x-compound_text` in our application.\r\n\r\nWe understand JVM in lab and JVM in client site do not support charset `x-compound_text`. \r\n\r\nThe supported charsets are:\r\n\r\n     Big5, Big5-HKSCS, CESU-8, EUC-JP, EUC-KR, GB18030, GB2312, GBK, IBM-Thai, IBM00858, IBM01140, IBM01141, IBM01142, IBM01143, IBM01144, IBM01145, IBM01146, IBM01147, IBM01148, IBM01149, IBM037, IBM1026, IBM1047, IBM273, IBM277, IBM278, IBM280, IBM284, IBM285, IBM290, IBM297, IBM420, IBM424, IBM437, IBM500, IBM775, IBM850, IBM852, IBM855, IBM857, IBM860, IBM861, IBM862, IBM863, IBM864, IBM865, IBM866, IBM868, IBM869, IBM870, IBM871, IBM918, ISO-2022-CN, ISO-2022-JP, ISO-2022-JP-2, ISO-2022-KR, ISO-8859-1, ISO-8859-13, ISO-8859-15, ISO-8859-16, ISO-8859-2, ISO-8859-3, ISO-8859-4, ISO-8859-5, ISO-8859-6, ISO-8859-7, ISO-8859-8, ISO-8859-9, JIS_X0201, JIS_X0212-1990, KOI8-R, KOI8-U, Shift_JIS, TIS-620, US-ASCII, UTF-16, UTF-16BE, UTF-16LE, UTF-32, UTF-32BE, UTF-32LE, UTF-8, windows-1250, windows-1251, windows-1252, windows-1253, windows-1254, windows-1255, windows-1256, windows-1257, windows-1258, windows-31j, x-Big5-HKSCS-2001, x-Big5-Solaris, x-euc-jp-linux, x-EUC-TW, x-eucJP-Open, x-IBM1006, x-IBM1025, x-IBM1046, x-IBM1097, x-IBM1098, x-IBM1112, x-IBM1122, x-IBM1123, x-IBM1124, x-IBM1129, x-IBM1166, x-IBM1364, x-IBM1381, x-IBM1383, x-IBM29626C, x-IBM300, x-IBM33722, x-IBM737, x-IBM833, x-IBM834, x-IBM856, x-IBM874, x-IBM875, x-IBM921, x-IBM922, x-IBM930, x-IBM933, x-IBM935, x-IBM937, x-IBM939, x-IBM942, x-IBM942C, x-IBM943, x-IBM943C, x-IBM948, x-IBM949, x-IBM949C, x-IBM950, x-IBM964, x-IBM970, x-ISCII91, x-ISO-2022-CN-CNS, x-ISO-2022-CN-GB, x-iso-8859-11, x-JIS0208, x-JISAutoDetect, x-Johab, x-MacArabic, x-MacCentralEurope, x-MacCroatian, x-MacCyrillic, x-MacDingbat, x-MacGreek, x-MacHebrew, x-MacIceland, x-MacRoman, x-MacRomania, x-MacSymbol, x-MacThai, x-MacTurkish, x-MacUkraine, x-MS932_0213, x-MS950-HKSCS, x-MS950-HKSCS-XP, x-mswin-936, x-PCK, x-SJIS_0213, x-UTF-16LE-BOM, X-UTF-32BE-BOM, X-UTF-32LE-BOM, x-windows-50220, x-windows-50221, x-windows-874, x-windows-949, x-windows-950, x-windows-iso2022jp\r\n\r\nI am **able** to reproduce the problem in lab using debugger:\r\n\r\n    1. Start web application in Exclipse or remote debug.\r\n    2. Wait for application to complete loading.\r\n    3. Set breakpoint  in method java.nio.charset.Charset.lookup, a line before function returns\r\n    4. Load a page in application\r\n    5. When stopped in breakpoint change value to variable charsetName.\r\n    6. Set value to variable charsetName: x-compound_text\r\n    7. Continue running\r\n    8. Inspect log file\r\n\r\n**I need advice, how to add support for charset `x-compound_text` into our Spring Web application.**\r\n\r\n \r\n","title":"Adding &#39;x-compound_text&#39; charset into Java Spring application","body":"<p>We are deploying a Java Spring Web application to our Asian customer.</p>\n<p>On Spring Web 5.3.3</p>\n<p>On top of Tomcat 9</p>\n<p>Using Java 11 on openjdk 11</p>\n<p>On Linux RHEL 7.8 (Red hat Enterprise Linux)</p>\n<p>Our Java Spring Web application is configured to use UTF-8 encoding.</p>\n<h3>In <code>setenv.sh</code></h3>\n<pre><code>...\n-Dfile.encoding=UTF-8\n-Dsun.jnu.encoding=UTF-8\n...\n</code></pre>\n<h3>In <code>server.xml</code></h3>\n<pre><code> ...\n   &lt;Connector server=&quot;&quot; port=&quot;7780&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n               redirectPort=&quot;8443&quot;\n               URIEncoding=&quot;UTF-8&quot;\n               allowTrace=&quot;false&quot;\n               xpoweredBy=&quot;false&quot;\n               compression=&quot;on&quot;\n               compressionMinSize=&quot;2048&quot;\n               noCompressionUserAgents=&quot;gozilla, traviata&quot;\n               compressableMimeType=&quot;text/css,text/html,text/xml,application/javascript,application/json,application/x-javascript,text/plain,text/javascript&quot;\n                        /&gt;\n  ...\n</code></pre>\n<h3>Problem:</h3>\n<p>Our web service failing to consume chartset <code>x-compound_text</code></p>\n<p>Here are sections from the log:</p>\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.nio.charset.UnsupportedCharsetException: x-compound_text\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n....\nCaused by: java.nio.charset.UnsupportedCharsetException: x-compound_text\n        at java.base/java.nio.charset.Charset.forName(Charset.java:529)\n        at org.springframework.http.HttpHeaders.getAcceptCharset(HttpHeaders.java:694)\n        at org.springframework.integration.http.support.DefaultHttpHeaderMapper.getHttpHeader(DefaultHttpHeaderMapper.java:817)\n....\n</code></pre>\n<p>We understand we need to support charset <code>x-compound_text</code> in our application.</p>\n<p>We understand JVM in lab and JVM in client site do not support charset <code>x-compound_text</code>.</p>\n<p>The supported charsets are:</p>\n<pre><code> Big5, Big5-HKSCS, CESU-8, EUC-JP, EUC-KR, GB18030, GB2312, GBK, IBM-Thai, IBM00858, IBM01140, IBM01141, IBM01142, IBM01143, IBM01144, IBM01145, IBM01146, IBM01147, IBM01148, IBM01149, IBM037, IBM1026, IBM1047, IBM273, IBM277, IBM278, IBM280, IBM284, IBM285, IBM290, IBM297, IBM420, IBM424, IBM437, IBM500, IBM775, IBM850, IBM852, IBM855, IBM857, IBM860, IBM861, IBM862, IBM863, IBM864, IBM865, IBM866, IBM868, IBM869, IBM870, IBM871, IBM918, ISO-2022-CN, ISO-2022-JP, ISO-2022-JP-2, ISO-2022-KR, ISO-8859-1, ISO-8859-13, ISO-8859-15, ISO-8859-16, ISO-8859-2, ISO-8859-3, ISO-8859-4, ISO-8859-5, ISO-8859-6, ISO-8859-7, ISO-8859-8, ISO-8859-9, JIS_X0201, JIS_X0212-1990, KOI8-R, KOI8-U, Shift_JIS, TIS-620, US-ASCII, UTF-16, UTF-16BE, UTF-16LE, UTF-32, UTF-32BE, UTF-32LE, UTF-8, windows-1250, windows-1251, windows-1252, windows-1253, windows-1254, windows-1255, windows-1256, windows-1257, windows-1258, windows-31j, x-Big5-HKSCS-2001, x-Big5-Solaris, x-euc-jp-linux, x-EUC-TW, x-eucJP-Open, x-IBM1006, x-IBM1025, x-IBM1046, x-IBM1097, x-IBM1098, x-IBM1112, x-IBM1122, x-IBM1123, x-IBM1124, x-IBM1129, x-IBM1166, x-IBM1364, x-IBM1381, x-IBM1383, x-IBM29626C, x-IBM300, x-IBM33722, x-IBM737, x-IBM833, x-IBM834, x-IBM856, x-IBM874, x-IBM875, x-IBM921, x-IBM922, x-IBM930, x-IBM933, x-IBM935, x-IBM937, x-IBM939, x-IBM942, x-IBM942C, x-IBM943, x-IBM943C, x-IBM948, x-IBM949, x-IBM949C, x-IBM950, x-IBM964, x-IBM970, x-ISCII91, x-ISO-2022-CN-CNS, x-ISO-2022-CN-GB, x-iso-8859-11, x-JIS0208, x-JISAutoDetect, x-Johab, x-MacArabic, x-MacCentralEurope, x-MacCroatian, x-MacCyrillic, x-MacDingbat, x-MacGreek, x-MacHebrew, x-MacIceland, x-MacRoman, x-MacRomania, x-MacSymbol, x-MacThai, x-MacTurkish, x-MacUkraine, x-MS932_0213, x-MS950-HKSCS, x-MS950-HKSCS-XP, x-mswin-936, x-PCK, x-SJIS_0213, x-UTF-16LE-BOM, X-UTF-32BE-BOM, X-UTF-32LE-BOM, x-windows-50220, x-windows-50221, x-windows-874, x-windows-949, x-windows-950, x-windows-iso2022jp\n</code></pre>\n<p>I am <strong>able</strong> to reproduce the problem in lab using debugger:</p>\n<pre><code>1. Start web application in Exclipse or remote debug.\n2. Wait for application to complete loading.\n3. Set breakpoint  in method java.nio.charset.Charset.lookup, a line before function returns\n4. Load a page in application\n5. When stopped in breakpoint change value to variable charsetName.\n6. Set value to variable charsetName: x-compound_text\n7. Continue running\n8. Inspect log file\n</code></pre>\n<p><strong>I need advice, how to add support for charset <code>x-compound_text</code> into our Spring Web application.</strong></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1656354867,"post_id":72776721,"comment_id":128547002,"body_markdown":"Please post some code &amp; the stacktrace.","body":"Please post some code &amp; the stacktrace."},{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":2,"creation_date":1656355487,"post_id":72776721,"comment_id":128547215,"body_markdown":"Check this **[unfortunately-myapp-has-stopped-how-can-i-solve-this](https://stackoverflow.com/q/23353173/7666442)**","body":"Check this <b><a href=\"https://stackoverflow.com/q/23353173/7666442\">unfortunately-myapp-has-stopped-how-can-i-solve-this</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656363869,"creation_date":1656363869,"answer_id":72778288,"question_id":72776721,"body_markdown":"The method `setContentView()` sets the `View` that your `MainActivity` should display.\r\n\r\nThe `View` is usually declared in `layout/activity_main.xml`. \r\n\r\nSome error seems to appear when trying to call this method in your application.\r\n\r\n---\r\n\r\nA common reason why android applications crash there is calling some methods in the overridden method `onCreate(Bundle savedInstanceState)` in a wrong order.\r\n\r\nCheck if your code follows this pattern:\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    \r\n        // setContentView call\r\n        \r\n        // other things\r\n    }\r\n\r\nI cannot help you further now, please copy and paste the stacktrace (crash information) into your question. When your application just crashed on an emulator, you can see it in the Run-section (usually red text).","title":"I have run error at on Create on Android studio","body":"<p>The method <code>setContentView()</code> sets the <code>View</code> that your <code>MainActivity</code> should display.</p>\n<p>The <code>View</code> is usually declared in <code>layout/activity_main.xml</code>.</p>\n<p>Some error seems to appear when trying to call this method in your application.</p>\n<hr />\n<p>A common reason why android applications crash there is calling some methods in the overridden method <code>onCreate(Bundle savedInstanceState)</code> in a wrong order.</p>\n<p>Check if your code follows this pattern:</p>\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    // setContentView call\n    \n    // other things\n}\n</code></pre>\n<p>I cannot help you further now, please copy and paste the stacktrace (crash information) into your question. When your application just crashed on an emulator, you can see it in the Run-section (usually red text).</p>\n"}],"owner":{"account_id":25618549,"reputation":1,"user_id":19390778,"display_name":"Ahmed Dir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1656363869,"creation_date":1656353857,"question_id":72776721,"body_markdown":"I get a massage says &quot;app is keep stopping&quot; when I run the project on my mobile.\r\nthe error  at on Create(MainActivity.java:16)\r\nat the line 16  set Content View method\r\nhelp me\r\n\r\n  \r\n        \r\n    \r\n    \r\n\r\n\r\n","title":"I have run error at on Create on Android studio","body":"<p>I get a massage says &quot;app is keep stopping&quot; when I run the project on my mobile.\nthe error  at on Create(MainActivity.java:16)\nat the line 16  set Content View method\nhelp me</p>\n"},{"tags":["java","spring","stream","mapping","mapstruct"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1656355787,"post_id":72776893,"comment_id":128547328,"body_markdown":"What happens if you get other cats?  Tom, Bill, Tiger?","body":"What happens if you get other cats?  Tom, Bill, Tiger?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1656355828,"post_id":72776893,"comment_id":128547340,"body_markdown":"Perhaps stream to a `Map&lt;String, Integer&gt;`, where the `Cat`&#39;s name is the key and the value is the age.  Then each `Cats` getter could delegate to the Map, where the specific getter knows it&#39;s related name. That implies `MinnieAge`, `PixieAge`, and `KazyAge` are not actual properties of the `Cats` class.  As a toy example, this is obviously (hopefully) poor design (but maybe useful from a homework perspective).","body":"Perhaps stream to a <code>Map&lt;String, Integer&gt;</code>, where the <code>Cat</code>&#39;s name is the key and the value is the age.  Then each <code>Cats</code> getter could delegate to the Map, where the specific getter knows it&#39;s related name. That implies <code>MinnieAge</code>, <code>PixieAge</code>, and <code>KazyAge</code> are not actual properties of the <code>Cats</code> class.  As a toy example, this is obviously (hopefully) poor design (but maybe useful from a homework perspective)."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656356860,"creation_date":1656356860,"answer_id":72777212,"question_id":72776893,"body_markdown":"If you want to use streams you can start from implementing a collector:\r\n\r\n```java\r\npublic class CatsCollector implements Collector&lt;Cat, Cats, Cats&gt; {\r\n\r\n    @Override\r\n    public Supplier&lt;Cats&gt; supplier() {\r\n        return () -&gt; new Cats();\r\n    }\r\n\r\n    @Override\r\n    public BiConsumer&lt;Cats, Cat&gt; accumulator() {\r\n        return (cats1, cat) -&gt; {\r\n            switch (cat.name){\r\n                case &quot;Minnie&quot;: cats1.minnieAge = cat.age; break;\r\n                case &quot;Pixie&quot;: cats1.pixieAge = cat.age; break;\r\n                case &quot;Kazy&quot;: cats1.kazyAge = cat.age; break;\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public BinaryOperator&lt;Cats&gt; combiner() {\r\n        return (cats1, cats2) -&gt; cats1;\r\n    }\r\n\r\n    @Override\r\n    public Function&lt;Cats, Cats&gt; finisher() {\r\n        return cats1 -&gt; cats1;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Characteristics&gt; characteristics() {\r\n        return Set.of(Characteristics.UNORDERED);\r\n    }\r\n}\r\n```\r\n\r\n**P.S.** - Here a combiner is more like a stub because there are no requirements for combining logic provided.\r\n\r\n**P.P.S** - There are also sort of assumptions to simplify access modifiers stuff.\r\n\r\nThen if you have the model like this:\r\n\r\n```java\r\npublic class Cats {\r\n    int minnieAge;\r\n    int pixieAge;\r\n    int kazyAge;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Cats{&quot; +\r\n                &quot;minnieAge=&quot; + minnieAge +\r\n                &quot;, pixieAge=&quot; + pixieAge +\r\n                &quot;, kazyAge=&quot; + kazyAge +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nYou can use your custom collector:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;Cat&gt; cats = List.of(\r\n            new Cat(&quot;Minnie&quot;, 3), \r\n            new Cat(&quot;Pixie&quot;, 1), \r\n            new Cat(&quot;Kazy&quot;, 5));\r\n    Cats catsResult = cats.stream().collect(new CatsCollector());\r\n    System.out.println(catsResult);\r\n}\r\n```\r\n","title":"Mapping fields of List to fields of a single Object","body":"<p>If you want to use streams you can start from implementing a collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CatsCollector implements Collector&lt;Cat, Cats, Cats&gt; {\n\n    @Override\n    public Supplier&lt;Cats&gt; supplier() {\n        return () -&gt; new Cats();\n    }\n\n    @Override\n    public BiConsumer&lt;Cats, Cat&gt; accumulator() {\n        return (cats1, cat) -&gt; {\n            switch (cat.name){\n                case &quot;Minnie&quot;: cats1.minnieAge = cat.age; break;\n                case &quot;Pixie&quot;: cats1.pixieAge = cat.age; break;\n                case &quot;Kazy&quot;: cats1.kazyAge = cat.age; break;\n            }\n        };\n    }\n\n    @Override\n    public BinaryOperator&lt;Cats&gt; combiner() {\n        return (cats1, cats2) -&gt; cats1;\n    }\n\n    @Override\n    public Function&lt;Cats, Cats&gt; finisher() {\n        return cats1 -&gt; cats1;\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Set.of(Characteristics.UNORDERED);\n    }\n}\n</code></pre>\n<p><strong>P.S.</strong> - Here a combiner is more like a stub because there are no requirements for combining logic provided.</p>\n<p><strong>P.P.S</strong> - There are also sort of assumptions to simplify access modifiers stuff.</p>\n<p>Then if you have the model like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cats {\n    int minnieAge;\n    int pixieAge;\n    int kazyAge;\n\n    @Override\n    public String toString() {\n        return &quot;Cats{&quot; +\n                &quot;minnieAge=&quot; + minnieAge +\n                &quot;, pixieAge=&quot; + pixieAge +\n                &quot;, kazyAge=&quot; + kazyAge +\n                '}';\n    }\n}\n</code></pre>\n<p>You can use your custom collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;Cat&gt; cats = List.of(\n            new Cat(&quot;Minnie&quot;, 3), \n            new Cat(&quot;Pixie&quot;, 1), \n            new Cat(&quot;Kazy&quot;, 5));\n    Cats catsResult = cats.stream().collect(new CatsCollector());\n    System.out.println(catsResult);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656363761,"creation_date":1656363761,"answer_id":72778274,"question_id":72776893,"body_markdown":"I would define a Cat class with the attribute name and age.  Then simply parse the input string into cat objects and store them in a list which already supports stream.  See below example:\r\n\r\n```\r\nimport java.util.*;\r\nclass Cat {\r\n    public String name;\r\n    public int age;\r\n    private Cat(String name, int age) { this.name = name; this.age = age;}\r\n    public String toString(){\r\n        return String.format(&quot;Cat[name=\\&quot;%s\\&quot;, age=%d]&quot;,name,age);\r\n    }\r\n    public static List&lt;Cat&gt; parse(String input) {\r\n        List cats = new ArrayList();\r\n        int i = 0;\r\n        while (true) {\r\n            i = input.indexOf(&quot;name=&quot;, i);\r\n            if (i &lt; 0) break;\r\n            String name = input.substring(i + 6, input.indexOf(&quot;\\&quot;&quot;, i + 7));\r\n            i = input.indexOf(&quot;age=&quot;, i);\r\n            int age = Integer.parseInt(input.substring(i + 4, input.indexOf(&quot;]&quot;, i)));\r\n            cats.add(new Cat(name, age));\r\n        }\r\n        return cats;\r\n    }\r\n}\r\npublic class Main{\r\n    public static void main(String[] args) {\r\n        String input = &quot;[Cat[name=\\&quot;Minnie\\&quot;, age=3], Cat[name=\\&quot;Pixie\\&quot;, age=1], Cat[name=\\&quot;Kazy\\&quot;, age=5]]&quot;;\r\n        List&lt;Cat&gt; cats = Cat.parse(input);\r\n        cats.forEach(System.out::println);\r\n        cats.stream().filter(e-&gt;e.age &gt; 4).forEach(System.out::println);\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nrun:\r\nCat[name=&quot;Minnie&quot;, age=3]\r\nCat[name=&quot;Pixie&quot;, age=1]\r\nCat[name=&quot;Kazy&quot;, age=5]\r\nCat[name=&quot;Kazy&quot;, age=5]\r\nBUILD SUCCESSFUL (total time: 0 seconds)\r\n```","title":"Mapping fields of List to fields of a single Object","body":"<p>I would define a Cat class with the attribute name and age.  Then simply parse the input string into cat objects and store them in a list which already supports stream.  See below example:</p>\n<pre><code>import java.util.*;\nclass Cat {\n    public String name;\n    public int age;\n    private Cat(String name, int age) { this.name = name; this.age = age;}\n    public String toString(){\n        return String.format(&quot;Cat[name=\\&quot;%s\\&quot;, age=%d]&quot;,name,age);\n    }\n    public static List&lt;Cat&gt; parse(String input) {\n        List cats = new ArrayList();\n        int i = 0;\n        while (true) {\n            i = input.indexOf(&quot;name=&quot;, i);\n            if (i &lt; 0) break;\n            String name = input.substring(i + 6, input.indexOf(&quot;\\&quot;&quot;, i + 7));\n            i = input.indexOf(&quot;age=&quot;, i);\n            int age = Integer.parseInt(input.substring(i + 4, input.indexOf(&quot;]&quot;, i)));\n            cats.add(new Cat(name, age));\n        }\n        return cats;\n    }\n}\npublic class Main{\n    public static void main(String[] args) {\n        String input = &quot;[Cat[name=\\&quot;Minnie\\&quot;, age=3], Cat[name=\\&quot;Pixie\\&quot;, age=1], Cat[name=\\&quot;Kazy\\&quot;, age=5]]&quot;;\n        List&lt;Cat&gt; cats = Cat.parse(input);\n        cats.forEach(System.out::println);\n        cats.stream().filter(e-&gt;e.age &gt; 4).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>run:\nCat[name=&quot;Minnie&quot;, age=3]\nCat[name=&quot;Pixie&quot;, age=1]\nCat[name=&quot;Kazy&quot;, age=5]\nCat[name=&quot;Kazy&quot;, age=5]\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"}],"owner":{"account_id":18739879,"reputation":23,"user_id":13663338,"display_name":"Karnimani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72777212,"answer_count":2,"score":-1,"last_activity_date":1656363761,"creation_date":1656354975,"question_id":72776893,"body_markdown":"Suppose, I have a List of cats like this:\r\n\r\n```\r\n[Cat[name=&quot;Minnie&quot;, age=3], Cat[name=&quot;Pixie&quot;, age=1], Cat[name=&quot;Kazy&quot;, age=5]]\r\n```\r\n\r\nAnd an Object Cats with fields:\r\n\r\n```\r\nclass Cats {\r\nint MinnieAge;\r\nint PixieAge;\r\nint KazyAge;\r\n}\r\n```\r\n\r\nWhat is the best way to map the ages to this Object? Preferably avoiding imperative approach and keeping it nice and clean. Is this possible with MapStruct or the streams API?\r\n\r\n","title":"Mapping fields of List to fields of a single Object","body":"<p>Suppose, I have a List of cats like this:</p>\n<pre><code>[Cat[name=&quot;Minnie&quot;, age=3], Cat[name=&quot;Pixie&quot;, age=1], Cat[name=&quot;Kazy&quot;, age=5]]\n</code></pre>\n<p>And an Object Cats with fields:</p>\n<pre><code>class Cats {\nint MinnieAge;\nint PixieAge;\nint KazyAge;\n}\n</code></pre>\n<p>What is the best way to map the ages to this Object? Preferably avoiding imperative approach and keeping it nice and clean. Is this possible with MapStruct or the streams API?</p>\n"},{"tags":["java","xml","dom"],"answers":[{"tags":[],"owner":{"account_id":444856,"reputation":8760,"user_id":836941,"accept_rate":73,"display_name":"zacheusz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1373109750,"creation_date":1373109242,"answer_id":17502385,"question_id":17502194,"body_markdown":"You can [transform XML Data with XSLT][1] and sort elements using [`&lt;xsl:sort&gt;`][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/jaxp/xslt/transformingXML.html\r\n  [2]: http://www.w3schools.com/xsl//el_sort.asp","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>You can <a href=\"http://docs.oracle.com/javase/tutorial/jaxp/xslt/transformingXML.html\" rel=\"nofollow\">transform XML Data with XSLT</a> and sort elements using <a href=\"http://www.w3schools.com/xsl//el_sort.asp\" rel=\"nofollow\"><code>&lt;xsl:sort&gt;</code></a></p>\n"},{"tags":[],"owner":{"account_id":1713661,"reputation":972,"user_id":1571224,"display_name":"mkdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373113373,"creation_date":1373113373,"answer_id":17502935,"question_id":17502194,"body_markdown":"I can recommend JDOM2 for this kind of work. Your proposal can be achieved like this:\r\n\r\n    import org.jdom2.Attribute;\r\n    import org.jdom2.Document;\r\n    import org.jdom2.Element;\r\n    import org.jdom2.filter.Filters;\r\n    import org.jdom2.input.SAXBuilder;\r\n    import org.jdom2.output.Format;\r\n    import org.jdom2.output.XMLOutputter;\r\n    import org.jdom2.xpath.XPathExpression;\r\n    import org.jdom2.xpath.XPathFactory;\r\n\r\n    public void transformXmlFile(File oldFile, File newFile) throws Exception\r\n    {\r\n        Document oldDocument = new SAXBuilder().build(oldFile);\r\n        Document newDocument = new Document(transformElement(oldDocument.getRootElement()));\r\n        \r\n        List&lt;Element&gt; children = new LinkedList&lt;Element&gt;();\r\n        \r\n        for (Element oldElement : oldDocument.getRootElement().getChildren())\r\n            children.add(transformElement(oldElement));\r\n\r\n        for (Element oldElement : sortElements(children))\r\n            newDocument.getRootElement().addContent(oldElement);\r\n            \r\n        XMLOutputter serializer = new XMLOutputter(Format.getPrettyFormat());\r\n        serializer.output(newDocument, new FileOutputStream(newFile));\r\n    }\r\n\r\n    private Element transformElement(Element oldElement)\r\n    {\r\n        Element newElement = new Element(oldElement.getName(), oldElement.getNamespace());\r\n        \r\n        List&lt;Attribute&gt; attributes = new LinkedList&lt;Attribute&gt;();\r\n        \r\n        for (Attribute a: oldElement.getAttributes())\r\n            attributes.add(a.clone());\r\n\r\n        for (Attribute a: sortAttributes(attributes))\r\n            newElement.getAttributes().add(a);\r\n        \r\n        return newElement;\r\n    }\r\n    \r\n    private List&lt;Attribute&gt; sortAttributes(List&lt;Attribute&gt; attributes)\r\n    {\r\n        Collections.sort(attributes, new Comparator&lt;Attribute&gt;()\r\n        {\r\n            @Override\r\n            public int compare(Attribute a1, Attribute a2)\r\n            {\r\n                return a1.getName().compareTo(a2.getName());\r\n            }\r\n        });\r\n\r\n        return attributes;\r\n    }\r\n\r\n\r\n    private List&lt;Element&gt; sortElements(List&lt;Element&gt; elements)\r\n    {\r\n        Collections.sort(elements, new Comparator&lt;Element&gt;()\r\n        {\r\n            @Override\r\n            public int compare(Element e1, Element e2)\r\n            {\r\n                return e1.getName().compareTo(e2.getName());\r\n            }\r\n        });\r\n\r\n        return elements;\r\n    }\r\n","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>I can recommend JDOM2 for this kind of work. Your proposal can be achieved like this:</p>\n\n<pre><code>import org.jdom2.Attribute;\nimport org.jdom2.Document;\nimport org.jdom2.Element;\nimport org.jdom2.filter.Filters;\nimport org.jdom2.input.SAXBuilder;\nimport org.jdom2.output.Format;\nimport org.jdom2.output.XMLOutputter;\nimport org.jdom2.xpath.XPathExpression;\nimport org.jdom2.xpath.XPathFactory;\n\npublic void transformXmlFile(File oldFile, File newFile) throws Exception\n{\n    Document oldDocument = new SAXBuilder().build(oldFile);\n    Document newDocument = new Document(transformElement(oldDocument.getRootElement()));\n\n    List&lt;Element&gt; children = new LinkedList&lt;Element&gt;();\n\n    for (Element oldElement : oldDocument.getRootElement().getChildren())\n        children.add(transformElement(oldElement));\n\n    for (Element oldElement : sortElements(children))\n        newDocument.getRootElement().addContent(oldElement);\n\n    XMLOutputter serializer = new XMLOutputter(Format.getPrettyFormat());\n    serializer.output(newDocument, new FileOutputStream(newFile));\n}\n\nprivate Element transformElement(Element oldElement)\n{\n    Element newElement = new Element(oldElement.getName(), oldElement.getNamespace());\n\n    List&lt;Attribute&gt; attributes = new LinkedList&lt;Attribute&gt;();\n\n    for (Attribute a: oldElement.getAttributes())\n        attributes.add(a.clone());\n\n    for (Attribute a: sortAttributes(attributes))\n        newElement.getAttributes().add(a);\n\n    return newElement;\n}\n\nprivate List&lt;Attribute&gt; sortAttributes(List&lt;Attribute&gt; attributes)\n{\n    Collections.sort(attributes, new Comparator&lt;Attribute&gt;()\n    {\n        @Override\n        public int compare(Attribute a1, Attribute a2)\n        {\n            return a1.getName().compareTo(a2.getName());\n        }\n    });\n\n    return attributes;\n}\n\n\nprivate List&lt;Element&gt; sortElements(List&lt;Element&gt; elements)\n{\n    Collections.sort(elements, new Comparator&lt;Element&gt;()\n    {\n        @Override\n        public int compare(Element e1, Element e2)\n        {\n            return e1.getName().compareTo(e2.getName());\n        }\n    });\n\n    return elements;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373146931,"creation_date":1373146931,"answer_id":17507407,"question_id":17502194,"body_markdown":"Your example doesn&#39;t have any attributes, and generally you can&#39;t control order of attributes. But sorting elements in XSLT is easy:\r\n\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;1.0&quot;&gt;\r\n    \r\n    &lt;xsl:template match=&quot;*&quot;&gt;\r\n      &lt;xsl:copy&gt;\r\n        &lt;xsl:apply-templates&gt;\r\n          &lt;xsl:sort select=&quot;name()&quot;/&gt;\r\n        &lt;/xsl:apply-templates&gt;\r\n      &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>Your example doesn't have any attributes, and generally you can't control order of attributes. But sorting elements in XSLT is easy:</p>\n\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt;\n\n&lt;xsl:template match=\"*\"&gt;\n  &lt;xsl:copy&gt;\n    &lt;xsl:apply-templates&gt;\n      &lt;xsl:sort select=\"name()\"/&gt;\n    &lt;/xsl:apply-templates&gt;\n  &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1442218,"reputation":924,"user_id":1361991,"display_name":"DKATyler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656363356,"creation_date":1656363356,"answer_id":72778215,"question_id":17502194,"body_markdown":"This is really mkdev&#39;s answer, but tweaked to sort the entire file rather than just the top level node.\r\n\r\n\timport java.io.File;\r\n\timport java.io.FileOutputStream;\r\n\timport java.util.Collections;\r\n\timport java.util.Comparator;\r\n\timport java.util.LinkedList;\r\n\timport java.util.List;\r\n\r\n\timport org.jdom2.Attribute;\r\n\timport org.jdom2.Content;\r\n\timport org.jdom2.Document;\r\n\timport org.jdom2.Element;\r\n\timport org.jdom2.input.SAXBuilder;\r\n\timport org.jdom2.output.Format;\r\n\timport org.jdom2.output.XMLOutputter;\r\n\r\n\t//Source: https://stackoverflow.com/a/17502935/1361991\r\n\tpublic class XMLSorter2 {\r\n\t\tpublic void transformXmlFile(File oldFile, File newFile) throws Exception\r\n\t\t{\r\n\t\t\tDocument oldDocument = new SAXBuilder().build(oldFile);\r\n\t\t\tDocument newDocument = new Document((Element) transformElement(oldDocument.getRootElement()));\r\n\r\n\t\t\tList&lt;Content&gt; children = new LinkedList&lt;Content&gt;();\r\n\r\n\t\t\tfor (Content oldElement : oldDocument.getRootElement().getContent())\r\n\t\t\t\tchildren.add(transformElement(oldElement));\r\n\r\n\t\t\tfor (Content oldElement : sortElements(children))\r\n\t\t\t\tnewDocument.getRootElement().addContent(oldElement);\r\n\r\n\t\t\tXMLOutputter serializer = new XMLOutputter(Format.getPrettyFormat());\r\n\t\t\tserializer.output(newDocument, new FileOutputStream(newFile));\r\n\t\t}\r\n\r\n\t\tprivate Content transformElement(Content oldContent)\r\n\t\t{\r\n\t\t\tif(!(oldContent instanceof Element))\r\n\t\t\t\treturn oldContent.clone();\r\n\t\t\tElement oldElement = (Element)oldContent;\r\n\t\t\t\r\n\t\t\tElement newElement = new Element(oldElement.getName(), oldElement.getNamespace());\r\n\r\n\t\t\tList&lt;Attribute&gt; attributes = new LinkedList&lt;Attribute&gt;();\r\n\r\n\t\t\tfor (Attribute a: oldElement.getAttributes())\r\n\t\t\t\tattributes.add(a.clone());\r\n\r\n\t\t\tfor (Attribute a: sortAttributes(attributes))\r\n\t\t\t\tnewElement.getAttributes().add(a);\r\n\r\n\t\t\tList&lt;Content&gt; children = new LinkedList&lt;Content&gt;();\r\n\r\n\t\t\tfor (Content oldElementChildren : oldElement.getContent())\r\n\t\t\t\tchildren.add(transformElement(oldElementChildren));\r\n\r\n\t\t\tfor (Content oldElementChildren : sortElements(children))\r\n\t\t\t\tnewElement.addContent(oldElementChildren);\r\n\r\n\t\t\treturn newElement;\r\n\t\t}\r\n\r\n\t\tprivate List&lt;Attribute&gt; sortAttributes(List&lt;Attribute&gt; attributes)\r\n\t\t{\r\n\t\t\tCollections.sort(attributes, new Comparator&lt;Attribute&gt;()\r\n\t\t\t{\r\n\t\t\t\tpublic int compare(Attribute a1, Attribute a2)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn a1.getName().compareTo(a2.getName());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn attributes;\r\n\t\t}\r\n\r\n\r\n\t\tprivate List&lt;Content&gt; sortElements(List&lt;Content&gt; elements)\r\n\t\t{\r\n\t\t\tCollections.sort(elements, new Comparator&lt;Content&gt;()\r\n\t\t\t{\r\n\t\t\t\tpublic int compare(Content e1, Content e2)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(e1 instanceof Element &amp;&amp; e2 instanceof Element)\r\n\t\t\t\t\t\treturn ((Element)e1).getName().compareTo(((Element)e2).getName());\r\n\t\t\t\t\telse if(e1 instanceof Element)\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\telse if(e2 instanceof Element)\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\treturn e1.getValue().compareTo(e2.getValue());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn elements;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\ttry {\r\n\t\t\t\tnew XMLSorter2().transformXmlFile(new File(args[0]), new File(args[1]));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>This is really mkdev's answer, but tweaked to sort the entire file rather than just the top level node.</p>\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.LinkedList;\nimport java.util.List;\n\nimport org.jdom2.Attribute;\nimport org.jdom2.Content;\nimport org.jdom2.Document;\nimport org.jdom2.Element;\nimport org.jdom2.input.SAXBuilder;\nimport org.jdom2.output.Format;\nimport org.jdom2.output.XMLOutputter;\n\n//Source: https://stackoverflow.com/a/17502935/1361991\npublic class XMLSorter2 {\n    public void transformXmlFile(File oldFile, File newFile) throws Exception\n    {\n        Document oldDocument = new SAXBuilder().build(oldFile);\n        Document newDocument = new Document((Element) transformElement(oldDocument.getRootElement()));\n\n        List&lt;Content&gt; children = new LinkedList&lt;Content&gt;();\n\n        for (Content oldElement : oldDocument.getRootElement().getContent())\n            children.add(transformElement(oldElement));\n\n        for (Content oldElement : sortElements(children))\n            newDocument.getRootElement().addContent(oldElement);\n\n        XMLOutputter serializer = new XMLOutputter(Format.getPrettyFormat());\n        serializer.output(newDocument, new FileOutputStream(newFile));\n    }\n\n    private Content transformElement(Content oldContent)\n    {\n        if(!(oldContent instanceof Element))\n            return oldContent.clone();\n        Element oldElement = (Element)oldContent;\n        \n        Element newElement = new Element(oldElement.getName(), oldElement.getNamespace());\n\n        List&lt;Attribute&gt; attributes = new LinkedList&lt;Attribute&gt;();\n\n        for (Attribute a: oldElement.getAttributes())\n            attributes.add(a.clone());\n\n        for (Attribute a: sortAttributes(attributes))\n            newElement.getAttributes().add(a);\n\n        List&lt;Content&gt; children = new LinkedList&lt;Content&gt;();\n\n        for (Content oldElementChildren : oldElement.getContent())\n            children.add(transformElement(oldElementChildren));\n\n        for (Content oldElementChildren : sortElements(children))\n            newElement.addContent(oldElementChildren);\n\n        return newElement;\n    }\n\n    private List&lt;Attribute&gt; sortAttributes(List&lt;Attribute&gt; attributes)\n    {\n        Collections.sort(attributes, new Comparator&lt;Attribute&gt;()\n        {\n            public int compare(Attribute a1, Attribute a2)\n            {\n                return a1.getName().compareTo(a2.getName());\n            }\n        });\n\n        return attributes;\n    }\n\n\n    private List&lt;Content&gt; sortElements(List&lt;Content&gt; elements)\n    {\n        Collections.sort(elements, new Comparator&lt;Content&gt;()\n        {\n            public int compare(Content e1, Content e2)\n            {\n                if(e1 instanceof Element &amp;&amp; e2 instanceof Element)\n                    return ((Element)e1).getName().compareTo(((Element)e2).getName());\n                else if(e1 instanceof Element)\n                    return -1;\n                else if(e2 instanceof Element)\n                    return 1;\n                else\n                    return e1.getValue().compareTo(e2.getValue());\n            }\n        });\n\n        return elements;\n    }\n    \n    public static void main(String[] args) {\n        try {\n            new XMLSorter2().transformXmlFile(new File(args[0]), new File(args[1]));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1051364,"reputation":988,"user_id":1055223,"accept_rate":92,"display_name":"Alex Collins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3580,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17502385,"answer_count":4,"score":4,"last_activity_date":1656363356,"creation_date":1373107750,"question_id":17502194,"body_markdown":"I&#39;d like to read in an XML document, re-order the nodes and attributes in a deterministic order, e.g.:\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com&lt;/groupId&gt;\r\n        &lt;artifactId&gt;foobar&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/project&gt;\r\n\r\nBecomes:\r\n\r\n    &lt;project&gt;\r\n        &lt;artifactId&gt;foobar&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com&lt;/groupId&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/project&gt;\r\n\r\nI&#39;d also like to do attributes too, and indentation!","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>I'd like to read in an XML document, re-order the nodes and attributes in a deterministic order, e.g.:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;foobar&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Becomes:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;artifactId&gt;foobar&lt;/artifactId&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I'd also like to do attributes too, and indentation!</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656363340,"creation_date":1656363340,"answer_id":72778211,"question_id":72777983,"body_markdown":"There is no golden rule for this and it all depends on your specific use case. Some, including myself, would prefer receiving data via a `ConsumerRecord` instance. This way you not only have access to the actual payload but also to the whole meta data coming with it.\r\n\r\nIt might be worth for you to look into [Kafka Streams API][1]. This is usually the pattern used when consuming from Kafka and producing to Kafka because of the `exactly once delivery`.  \r\n\r\n\r\n  [1]: https://kafka.apache.org/documentation/streams/","title":"Best Practice Springs Kafka Consumer: What kind of message should the consumer receive","body":"<p>There is no golden rule for this and it all depends on your specific use case. Some, including myself, would prefer receiving data via a <code>ConsumerRecord</code> instance. This way you not only have access to the actual payload but also to the whole meta data coming with it.</p>\n<p>It might be worth for you to look into <a href=\"https://kafka.apache.org/documentation/streams/\" rel=\"noreferrer\">Kafka Streams API</a>. This is usually the pattern used when consuming from Kafka and producing to Kafka because of the <code>exactly once delivery</code>.</p>\n"}],"owner":{"account_id":8296916,"reputation":39,"user_id":6236855,"accept_rate":17,"display_name":"podoi17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656363340,"creation_date":1656361934,"question_id":72777983,"body_markdown":"I need to start working with kafka. I have a hard time getting my head around on what should the Consumer receive: \r\nFrom what I understand we can configure the consumer in multiple ways:\r\n\r\nexample 1:\r\n\r\n    @KafkaListener(topics = &quot;topic_name)\r\n    public void receiveSimpleString(@Payload String message) {\r\n    }\r\n\r\nexample 2:\r\n\r\n    @KafkaListener(topics = &quot;topic_name)\r\n    public void receiveConsumerRecord(@Payload ConsumerRecord&lt;String, String&gt; message) {\r\n    }\r\n\r\nexample 3:\r\n\r\n    @KafkaListener(topics = &quot;topic_name)\r\n    public void receiveObject(@Payload SomeCustomClass message) {\r\n    }\r\n\r\nexample 4:\r\n\r\n    @KafkaListener(topics = &quot;topic_name)\r\n    public void receiveSpringMessage(@Payload org.springframework.messaging.Message&lt;T&gt; message) {\r\n    }\r\n\r\nMaybe there are even more ways, but those once are what i mostly saw while researching for kafka+spring.\r\n\r\n\r\nThe question now is:\r\n\r\n**Is there a best practice on what the consumer should receive? \r\nAre there pros/cons of the different examples?**","title":"Best Practice Springs Kafka Consumer: What kind of message should the consumer receive","body":"<p>I need to start working with kafka. I have a hard time getting my head around on what should the Consumer receive:\nFrom what I understand we can configure the consumer in multiple ways:</p>\n<p>example 1:</p>\n<pre><code>@KafkaListener(topics = &quot;topic_name)\npublic void receiveSimpleString(@Payload String message) {\n}\n</code></pre>\n<p>example 2:</p>\n<pre><code>@KafkaListener(topics = &quot;topic_name)\npublic void receiveConsumerRecord(@Payload ConsumerRecord&lt;String, String&gt; message) {\n}\n</code></pre>\n<p>example 3:</p>\n<pre><code>@KafkaListener(topics = &quot;topic_name)\npublic void receiveObject(@Payload SomeCustomClass message) {\n}\n</code></pre>\n<p>example 4:</p>\n<pre><code>@KafkaListener(topics = &quot;topic_name)\npublic void receiveSpringMessage(@Payload org.springframework.messaging.Message&lt;T&gt; message) {\n}\n</code></pre>\n<p>Maybe there are even more ways, but those once are what i mostly saw while researching for kafka+spring.</p>\n<p>The question now is:</p>\n<p><strong>Is there a best practice on what the consumer should receive?\nAre there pros/cons of the different examples?</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656350254,"post_id":72775924,"comment_id":128545437,"body_markdown":"Why do draw the image before setting the Rendering hints?","body":"Why do draw the image before setting the Rendering hints?"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656351373,"post_id":72775924,"comment_id":128545826,"body_markdown":"Show code where you save image after rescaling? Because problem might be there.","body":"Show code where you save image after rescaling? Because problem might be there."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1656351482,"post_id":72775924,"comment_id":128545852,"body_markdown":"1 ) how is the original image being read? 2) how is the created output stream being saved? (BTW that is 90 or 270 degrees not180) || tested posted code, but displaying the scaled image, no rotation! Same if saving directly to file.","body":"1 ) how is the original image being read? 2) how is the created output stream being saved? (BTW that is 90 or 270 degrees not180) || tested posted code, but displaying the scaled image, no rotation! Same if saving directly to file."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656352170,"post_id":72775924,"comment_id":128546080,"body_markdown":"It is possible your source image has EXIF data about orientation, which might not be handled by Java properly: https://stackoverflow.com/a/47671104/61158","body":"It is possible your source image has EXIF data about orientation, which might not be handled by Java properly: <a href=\"https://stackoverflow.com/a/47671104/61158\">stackoverflow.com/a/47671104/61158</a>"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656352234,"post_id":72775924,"comment_id":128546111,"body_markdown":"A workaround: https://stackoverflow.com/a/29319713/61158","body":"A workaround: <a href=\"https://stackoverflow.com/a/29319713/61158\">stackoverflow.com/a/29319713/61158</a>"},{"owner":{"account_id":25334822,"reputation":101,"user_id":19154125,"display_name":"mobiw"},"score":0,"creation_date":1656358069,"post_id":72775924,"comment_id":128547954,"body_markdown":"@AndreyKotov i save into DB\n backgroundDto.setMinLeftPage(CompressImages.compress(imageLeft.getBytes()));)","body":"@AndreyKotov i save into DB  backgroundDto.setMinLeftPage(CompressImages.compress(imageLe&zwnj;&#8203;ft.getBytes()));)"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":1,"creation_date":1656360843,"post_id":72775924,"comment_id":128548776,"body_markdown":"@mobiw what we&#39;re trying to say here in comments - is that maybe the way you&#39;re getting the image from UI and then saving it to DB and then getting it back to see result - affects image&#39;s rotation. Because if I copy your `rescale` method as it is - it works fine. You can even try it by yourself by creating new empty console project and using my code: https://pastebin.com/rDceRWjF","body":"@mobiw what we&#39;re trying to say here in comments - is that maybe the way you&#39;re getting the image from UI and then saving it to DB and then getting it back to see result - affects image&#39;s rotation. Because if I copy your <code>rescale</code> method as it is - it works fine. You can even try it by yourself by creating new empty console project and using my code: <a href=\"https://pastebin.com/rDceRWjF\" rel=\"nofollow noreferrer\">pastebin.com/rDceRWjF</a>"}],"owner":{"account_id":25334822,"reputation":101,"user_id":19154125,"display_name":"mobiw"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656363187,"creation_date":1656349793,"question_id":72775924,"body_markdown":"When i rescale height and width image it on rotate 90 degrees\r\n\r\n```java\r\n@RequestMapping(value = &quot;/save&quot; , method = RequestMethod.POST, headers = &quot;Content-Type=multipart/form-data&quot;, consumes = { &quot;multipart/form-data&quot; })\r\nResponseEntity&lt;Object&gt; saveBackground(@RequestParam(required = false) MultipartFile imageLeft){\r\n     BackgroundDto backgroundDto = new BackgroundDto();\r\n     backgroundDto.setLeftPage(imageLeft.getBytes()); --&gt; saved right\r\n     //saved wrong orientation\r\n     backgroundDto.setMinLeftPage( CompressImages.compress(imageLeft.getBytes()));\r\n     backgroundDto.setUser(user);\r\n     backgroundRepo.save(backgroundDto);\r\n}\r\n\r\npublic static byte[]  compress(byte[] img) throws IOException {\r\n    InputStream inputstream = new ByteArrayInputStream(img);\r\n    ByteArrayOutputStream baosImage = new ByteArrayOutputStream();\r\n    ByteArrayOutputStream rescale = rescale(image);\r\n     \r\n  return rescale.toByteArray(); \r\n}\r\n\r\nprivate static ByteArrayOutputStream rescale(BufferedImage bi) throws IOException {\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    int originalWidth = bi.getWidth();\r\n    int originalHeight = bi.getHeight();\r\n    int type = bi.getType() == 0? BufferedImage.TYPE_INT_ARGB : bi.getType();\r\n    \r\n    //rescale 50%\r\n    BufferedImage resizedImage = new BufferedImage(originalWidth/4, originalHeight/4, type);\r\n    Graphics2D g = resizedImage.createGraphics();\r\n    g.drawImage(bi, 0, 0, originalWidth/4, originalHeight/4, null);\r\n    g.dispose();\r\n    g.setComposite(AlphaComposite.Src);\r\n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    ImageIO.write(resizedImage, &quot;jpg&quot;,baos);\r\n    return baos;\r\n}\r\n```\r\n\r\n&gt;  backgroundDto.setLeftPage(imageLeft.getBytes()); --&gt; saved right orientation\r\n&gt;   backgroundDto.setMinLeftPage(\r\n&gt; CompressImages.compress(imageLeft.getBytes())); --&gt; saved wrong orientation\r\n\r\nOriginal image:\r\n[enter image description here][1]\r\n\r\nimage after rectange:\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zQIRq.jpg\r\n  [2]: https://i.stack.imgur.com/0pNrH.jpg\r\n","title":"ImageIO.write wrong oritation after edit rescale","body":"<p>When i rescale height and width image it on rotate 90 degrees</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/save&quot; , method = RequestMethod.POST, headers = &quot;Content-Type=multipart/form-data&quot;, consumes = { &quot;multipart/form-data&quot; })\nResponseEntity&lt;Object&gt; saveBackground(@RequestParam(required = false) MultipartFile imageLeft){\n     BackgroundDto backgroundDto = new BackgroundDto();\n     backgroundDto.setLeftPage(imageLeft.getBytes()); --&gt; saved right\n     //saved wrong orientation\n     backgroundDto.setMinLeftPage( CompressImages.compress(imageLeft.getBytes()));\n     backgroundDto.setUser(user);\n     backgroundRepo.save(backgroundDto);\n}\n\npublic static byte[]  compress(byte[] img) throws IOException {\n    InputStream inputstream = new ByteArrayInputStream(img);\n    ByteArrayOutputStream baosImage = new ByteArrayOutputStream();\n    ByteArrayOutputStream rescale = rescale(image);\n     \n  return rescale.toByteArray(); \n}\n\nprivate static ByteArrayOutputStream rescale(BufferedImage bi) throws IOException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    int originalWidth = bi.getWidth();\n    int originalHeight = bi.getHeight();\n    int type = bi.getType() == 0? BufferedImage.TYPE_INT_ARGB : bi.getType();\n    \n    //rescale 50%\n    BufferedImage resizedImage = new BufferedImage(originalWidth/4, originalHeight/4, type);\n    Graphics2D g = resizedImage.createGraphics();\n    g.drawImage(bi, 0, 0, originalWidth/4, originalHeight/4, null);\n    g.dispose();\n    g.setComposite(AlphaComposite.Src);\n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    ImageIO.write(resizedImage, &quot;jpg&quot;,baos);\n    return baos;\n}\n</code></pre>\n<blockquote>\n<p>backgroundDto.setLeftPage(imageLeft.getBytes()); --&gt; saved right orientation\nbackgroundDto.setMinLeftPage(\nCompressImages.compress(imageLeft.getBytes())); --&gt; saved wrong orientation</p>\n</blockquote>\n<p>Original image:\n<a href=\"https://i.stack.imgur.com/zQIRq.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>image after rectange:\n<a href=\"https://i.stack.imgur.com/0pNrH.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","function","branch","rules","instruction-set"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1656332016,"post_id":72771682,"comment_id":128538099,"body_markdown":"So you&#39;re writing an interpreter?  A `switch` is common, especially if you parse instructions into bytecode first so they&#39;re easy to iterate over and switch on.","body":"So you&#39;re writing an interpreter?  A <code>switch</code> is common, especially if you parse instructions into bytecode first so they&#39;re easy to iterate over and switch on."},{"owner":{"account_id":25630599,"reputation":3,"user_id":19401060,"display_name":"anthony eleuteri"},"score":0,"creation_date":1656332628,"post_id":72771682,"comment_id":128538359,"body_markdown":"@PeterCordes yeah, kind of, but my prof doesn&#39;t like methods that contain 15+ lines of code, should be as clean as possible in order to pass the exam. I have this class called **Action** which has all methods implemented which do exactly what I need, I just don&#39;t know how to branch the code from a string that tells me &quot;Forward 50 10 0&quot; and i take &quot;Forward&quot; = my method and &quot;50,10,0&quot; = my parameters","body":"@PeterCordes yeah, kind of, but my prof doesn&#39;t like methods that contain 15+ lines of code, should be as clean as possible in order to pass the exam. I have this class called <b>Action</b> which has all methods implemented which do exactly what I need, I just don&#39;t know how to branch the code from a string that tells me &quot;Forward 50 10 0&quot; and i take &quot;Forward&quot; = my method and &quot;50,10,0&quot; = my parameters"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1656336213,"post_id":72771682,"comment_id":128539804,"body_markdown":"Each case in the switch should be a function call, or even make an array of function pointers (or a Java equivalent, perhaps polymorphism and calling a virtual `.doit()` method on each bytecode object.)","body":"Each case in the switch should be a function call, or even make an array of function pointers (or a Java equivalent, perhaps polymorphism and calling a virtual <code>.doit()</code> method on each bytecode object.)"},{"owner":{"account_id":25630599,"reputation":3,"user_id":19401060,"display_name":"anthony eleuteri"},"score":0,"creation_date":1656336490,"post_id":72771682,"comment_id":128539935,"body_markdown":"@PeterCordes i was looking for a supplier + factory methods but i dont really know ho to do it, i mean do i have to create 1 class for every rule that i have? and ho do i menage the repeat(int) [(comands)]","body":"@PeterCordes i was looking for a supplier + factory methods but i dont really know ho to do it, i mean do i have to create 1 class for every rule that i have? and ho do i menage the repeat(int) [(comands)]"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656362695,"creation_date":1656362695,"answer_id":72778100,"question_id":72771682,"body_markdown":"If a switch would work but you don&#39;t want the method to have too many lines, you could try using a map, either from String to method calls (for which you could use lambdas), or from Enum values to the same.\r\n\r\n    Map&lt;String, Runnable&gt; operations = Map.ofEntries(\r\n        Map.entry(&quot;FORWARD&quot;, () -&gt; action.forward()),\r\n        Map.entry(&quot;BACKWARD&quot;, () -&gt; action.backward(),\r\n        // . . .\r\n    );\r\n\r\nOr\r\n\r\n    Map&lt;Instruction, Runnable&gt; operations = Map.ofEntries(\r\n        Map.entry(Instruction.FORWARD, action::forward),\r\n        Map.entry(Instruction.BACKWARD, action::backward),\r\n        // . . .\r\n    );\r\n\r\nNote that in the second example I used method references for the calls to the Action object, which I&#39;m assuming you have an instance of at this point.\r\n\r\nThe problem is, your instructions take different numbers of parameters, so that is really just a sketch of a solution. You&#39;ll have to figure out how to apply it to your use case. In particular, you haven&#39;t mentioned how the Action methods accept the parameters. I suppose each one takes 0, 1, or multiple parameters, depending on the instruction.\r\n\r\nOne thing you could do is parse each command into an Enum instance for that command, and any parameters into a separate object; maybe a `List&lt;Integer&gt;`. I don&#39;t know if you can modify the Action class to accept that list instead of the individual parameters. Or maybe modify it to take e.g. `forward(int... params)` and you could then pass an `int[]` of the parameters.\r\n\r\nHopefully this will at least give you some ideas that will get you unstuck.","title":"How to switch from different instructions/rules in an elegant way","body":"<p>If a switch would work but you don't want the method to have too many lines, you could try using a map, either from String to method calls (for which you could use lambdas), or from Enum values to the same.</p>\n<pre><code>Map&lt;String, Runnable&gt; operations = Map.ofEntries(\n    Map.entry(&quot;FORWARD&quot;, () -&gt; action.forward()),\n    Map.entry(&quot;BACKWARD&quot;, () -&gt; action.backward(),\n    // . . .\n);\n</code></pre>\n<p>Or</p>\n<pre><code>Map&lt;Instruction, Runnable&gt; operations = Map.ofEntries(\n    Map.entry(Instruction.FORWARD, action::forward),\n    Map.entry(Instruction.BACKWARD, action::backward),\n    // . . .\n);\n</code></pre>\n<p>Note that in the second example I used method references for the calls to the Action object, which I'm assuming you have an instance of at this point.</p>\n<p>The problem is, your instructions take different numbers of parameters, so that is really just a sketch of a solution. You'll have to figure out how to apply it to your use case. In particular, you haven't mentioned how the Action methods accept the parameters. I suppose each one takes 0, 1, or multiple parameters, depending on the instruction.</p>\n<p>One thing you could do is parse each command into an Enum instance for that command, and any parameters into a separate object; maybe a <code>List&lt;Integer&gt;</code>. I don't know if you can modify the Action class to accept that list instead of the individual parameters. Or maybe modify it to take e.g. <code>forward(int... params)</code> and you could then pass an <code>int[]</code> of the parameters.</p>\n<p>Hopefully this will at least give you some ideas that will get you unstuck.</p>\n"}],"owner":{"account_id":25630599,"reputation":3,"user_id":19401060,"display_name":"anthony eleuteri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72778100,"answer_count":1,"score":-1,"last_activity_date":1656362695,"creation_date":1656330984,"question_id":72771682,"body_markdown":"hoping for your help!\r\nI&#39;m doing a java project that reproduces the logo language and im capped as I can&#39;t find an elegant and not too complicated way to switch between different rules / instructions, the project focuses on advanced programming and the use of Stream () is suggested; Predicate (); Function (); BiFunction () ect etc this is the list of instructions that I have implemented but that I have no idea how to branch them, **i take them as a String**:\r\n\r\n1. FORWARD (int);\r\n2. BACKWARD (int);\r\n3. LEFT (int);\r\n4. RIGHT (int);\r\n5. CLEARSCREEN;\r\n6. HOME;\r\n7. PENUP;\r\n8. PENDOWN;\r\n9. SETPENCOLOR (int) (int) (int);\r\n10. SETFILLCOLOR (int) (int) (int);\r\n11. SETSCREENCOLOR (int) (int) (int);\r\n12. SETPENSIZE (int);\r\n13. RIPETI (int) [ (cmds) ]; \r\n    - Repeats the sequence of commands in the command list (cmds)\r\n\r\n\r\n\r\n I have thought of an if () else () or a switch () but it does not seem very elegant\r\n\r\n","title":"How to switch from different instructions/rules in an elegant way","body":"<p>hoping for your help!\nI'm doing a java project that reproduces the logo language and im capped as I can't find an elegant and not too complicated way to switch between different rules / instructions, the project focuses on advanced programming and the use of Stream () is suggested; Predicate (); Function (); BiFunction () ect etc this is the list of instructions that I have implemented but that I have no idea how to branch them, <strong>i take them as a String</strong>:</p>\n<ol>\n<li>FORWARD (int);</li>\n<li>BACKWARD (int);</li>\n<li>LEFT (int);</li>\n<li>RIGHT (int);</li>\n<li>CLEARSCREEN;</li>\n<li>HOME;</li>\n<li>PENUP;</li>\n<li>PENDOWN;</li>\n<li>SETPENCOLOR (int) (int) (int);</li>\n<li>SETFILLCOLOR (int) (int) (int);</li>\n<li>SETSCREENCOLOR (int) (int) (int);</li>\n<li>SETPENSIZE (int);</li>\n<li>RIPETI (int) [ (cmds) ];\n<ul>\n<li>Repeats the sequence of commands in the command list (cmds)</li>\n</ul>\n</li>\n</ol>\n<p>I have thought of an if () else () or a switch () but it does not seem very elegant</p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1656361305,"post_id":72777884,"comment_id":128548915,"body_markdown":"*&quot;As i know primitive data types depend on compile settings and operating system&quot;* - citation needed. Who said that and in what context? Are you sure you didn&#39;t read a text about C or C++ instead?","body":"<i>&quot;As i know primitive data types depend on compile settings and operating system&quot;</i> - citation needed. Who said that and in what context? Are you sure you didn&#39;t read a text about C or C++ instead?"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1656361431,"post_id":72777884,"comment_id":128548949,"body_markdown":"Or to put it differently, the official Java documentation disagrees with what you &quot;know&quot;: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","body":"Or to put it differently, the official Java documentation disagrees with what you &quot;know&quot;: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1656361608,"post_id":72777884,"comment_id":128548987,"body_markdown":"Immutable doesn&#39;t mean that, it means that once the instance is created its value doesn&#39;t change. For example, `String` is immutable in Java. There are certainly different audio file formats but one of the big advantages of Java is that its data types don&#39;t change across systems.","body":"Immutable doesn&#39;t mean that, it means that once the instance is created its value doesn&#39;t change. For example, <code>String</code> is immutable in Java. There are certainly different audio file formats but one of the big advantages of Java is that its data types don&#39;t change across systems."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1656361864,"creation_date":1656361864,"answer_id":72777971,"question_id":72777884,"body_markdown":"Java primitives data types are not OS dependent. \r\n\r\nThese are the values for those types, and they are always the same. \r\n\r\n| Type      | Bytes          | Range |\r\n| --------  | -------------- |-- |\r\n| `byte`    | 1              |-128 to 127 |\r\n| `short`   | 2              | -32,768 to 32,767|\r\n| `int`     | 4              | -2,147,483,648 to 2,147,483,647|\r\n\r\nYou can find out more about them [here][1]\r\n\r\nHow data is stored in files might be a different topic. \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"How do different data types depend on operating system in java?","body":"<p>Java primitives data types are not OS dependent.</p>\n<p>These are the values for those types, and they are always the same.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Type</th>\n<th>Bytes</th>\n<th>Range</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>byte</code></td>\n<td>1</td>\n<td>-128 to 127</td>\n</tr>\n<tr>\n<td><code>short</code></td>\n<td>2</td>\n<td>-32,768 to 32,767</td>\n</tr>\n<tr>\n<td><code>int</code></td>\n<td>4</td>\n<td>-2,147,483,648 to 2,147,483,647</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You can find out more about them <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>How data is stored in files might be a different topic.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656362393,"creation_date":1656361870,"answer_id":72777974,"question_id":72777884,"body_markdown":"All primitive types are fully defined in the Java Language Specification, which [writes](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2):\r\n\r\n&gt; The *integral types* are `byte`, `short`, `int`, and `long`, whose values are 8-bit, 16-bit, 32-bit and 64-bit signed two&#39;s-complement integers, respectively, and `char`, whose values are 16-bit unsigned integers representing UTF-16 code units (&#167;3.1).\r\n&gt;\r\n&gt; The floating-point types are `float`, whose values exactly correspond to the 32-bit IEEE 754 binary32 floating-point numbers, and `double`, whose values exactly correspond to the 64-bit IEEE 754 binary64 floating-point numbers. \r\n\r\nThat is, there are no observable differences in behavior. Of course, the runtime is at liberty to use different representations for these datatypes, as long as it guarantees that behavior remains unchanged. For instance, a runtime may store a `byte` as 64 bit integer if it ensures that it behaves exactly like a `byte`, for instance by adding extra instructions that discard the upper 56 bits. Since such optimizations have no functional impact, and generally do not materially affect memory use, they are not usually worth thinking about.","title":"How do different data types depend on operating system in java?","body":"<p>All primitive types are fully defined in the Java Language Specification, which <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2\" rel=\"nofollow noreferrer\">writes</a>:</p>\n<blockquote>\n<p>The <em>integral types</em> are <code>byte</code>, <code>short</code>, <code>int</code>, and <code>long</code>, whose values are 8-bit, 16-bit, 32-bit and 64-bit signed two's-complement integers, respectively, and <code>char</code>, whose values are 16-bit unsigned integers representing UTF-16 code units (§3.1).</p>\n<p>The floating-point types are <code>float</code>, whose values exactly correspond to the 32-bit IEEE 754 binary32 floating-point numbers, and <code>double</code>, whose values exactly correspond to the 64-bit IEEE 754 binary64 floating-point numbers.</p>\n</blockquote>\n<p>That is, there are no observable differences in behavior. Of course, the runtime is at liberty to use different representations for these datatypes, as long as it guarantees that behavior remains unchanged. For instance, a runtime may store a <code>byte</code> as 64 bit integer if it ensures that it behaves exactly like a <code>byte</code>, for instance by adding extra instructions that discard the upper 56 bits. Since such optimizations have no functional impact, and generally do not materially affect memory use, they are not usually worth thinking about.</p>\n"}],"owner":{"account_id":23246118,"reputation":1,"user_id":19008336,"display_name":"Oleksandr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1656368624,"accepted_answer_id":72777971,"answer_count":2,"score":-1,"last_activity_date":1656362393,"creation_date":1656361205,"question_id":72777884,"body_markdown":"I&#39;m working with audio files in java (Assignment in my laboratory), and i read bytes from file then i convert them to primitive data types int and short. As i know primitive data types depend on compile settings and operating system. So how they depend on ? Are there immutable data types in java ? (i mean data types those don&#39;t depend on operating system and compile settings) ","title":"How do different data types depend on operating system in java?","body":"<p>I'm working with audio files in java (Assignment in my laboratory), and i read bytes from file then i convert them to primitive data types int and short. As i know primitive data types depend on compile settings and operating system. So how they depend on ? Are there immutable data types in java ? (i mean data types those don't depend on operating system and compile settings)</p>\n"},{"tags":["java","google-cloud-platform","google-compute-engine","google-cloud-vpn"],"answers":[{"tags":[],"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656360592,"creation_date":1656360592,"answer_id":72777793,"question_id":72777692,"body_markdown":"If your goal is to be able to download from the Internet, set up a NAT Gateway.\r\n\r\n[Cloud NAT overview][1]\r\n\r\nAnother option is to set up a VPN to your corporate network which provides a route to the Internet.\r\n\r\nOtherwise, you will need to upload files to your VM and install them manually.\r\n\r\n\r\n  [1]: https://cloud.google.com/nat/docs/overview","title":"installing java on compute engine instance without external ip address","body":"<p>If your goal is to be able to download from the Internet, set up a NAT Gateway.</p>\n<p><a href=\"https://cloud.google.com/nat/docs/overview\" rel=\"nofollow noreferrer\">Cloud NAT overview</a></p>\n<p>Another option is to set up a VPN to your corporate network which provides a route to the Internet.</p>\n<p>Otherwise, you will need to upload files to your VM and install them manually.</p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656362302,"creation_date":1656362302,"answer_id":72778034,"question_id":72777692,"body_markdown":"Why not upload the `*.deb` package and then install it?\r\n\r\nhttps://cloud.google.com/shell/docs/uploading-and-downloading-files","title":"installing java on compute engine instance without external ip address","body":"<p>Why not upload the <code>*.deb</code> package and then install it?</p>\n<p><a href=\"https://cloud.google.com/shell/docs/uploading-and-downloading-files\" rel=\"nofollow noreferrer\">https://cloud.google.com/shell/docs/uploading-and-downloading-files</a></p>\n"}],"owner":{"account_id":21383207,"reputation":87,"user_id":15748769,"display_name":"GcpTrainee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656362302,"creation_date":1656359920,"question_id":72777692,"body_markdown":"I am having some issues while trying to install java : &quot;sudo apt install default-jre&quot; on a VM instance :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y72uF.png\r\n\r\nI realized that my VM has no external ip address as my company wont allow it.\r\nI can ping the localhost on the VM but not www.google.com fro example so i figured the lack of external IP was the issue.\r\nIs there another way that i can install java on this VM?\r\nI just have a basic java code (not an app) that i want to try by running &quot;java -jar myjarname.jar&quot;.\r\n\r\nAny idea would be helpfull.","title":"installing java on compute engine instance without external ip address","body":"<p>I am having some issues while trying to install java : &quot;sudo apt install default-jre&quot; on a VM instance :\n<a href=\"https://i.stack.imgur.com/y72uF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y72uF.png\" alt=\"enter image description here\" /></a></p>\n<p>I realized that my VM has no external ip address as my company wont allow it.\nI can ping the localhost on the VM but not <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">www.google.com</a> fro example so i figured the lack of external IP was the issue.\nIs there another way that i can install java on this VM?\nI just have a basic java code (not an app) that i want to try by running &quot;java -jar myjarname.jar&quot;.</p>\n<p>Any idea would be helpfull.</p>\n"},{"tags":["java","xml","xml-parsing","woodstox"],"comments":[{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1358197486,"post_id":14326598,"comment_id":19909343,"body_markdown":"`== true` is clear, but redundant.","body":"<code>== true</code> is clear, but redundant."}],"answers":[{"tags":[],"owner":{"account_id":2026093,"reputation":331,"user_id":1811044,"display_name":"tuga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358198020,"creation_date":1358198020,"answer_id":14326764,"question_id":14326598,"body_markdown":"It looks like the method  xmlsr.skipElement() is the one that must consume the XMLEvent2.START_ELEMENT event. And since you already consumed it (xmlsr.next()), that method throws you an error.","title":"woodstox skip part of xml","body":"<p>It looks like the method  xmlsr.skipElement() is the one that must consume the XMLEvent2.START_ELEMENT event. And since you already consumed it (xmlsr.next()), that method throws you an error.</p>\n"},{"tags":[],"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358199744,"creation_date":1358199744,"answer_id":14327260,"question_id":14326598,"body_markdown":"I tried this in java 1.6 (jdk1.6.0_30) with woodstox-core-lgpl-4.1.4.jar, stax2-api-3.1.1.jar on the library path.\r\nMy java file is this:\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    import javax.xml.stream.XMLInputFactory;\r\n    import javax.xml.stream.XMLStreamException;\r\n    \r\n    import org.codehaus.stax2.XMLStreamReader2;\r\n    import org.codehaus.stax2.evt.XMLEvent2;\r\n    \r\n    public class Skip {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException,\r\n    \t\t\tXMLStreamException {\r\n    \t\tSystem.setProperty(&quot;javax.xml.stream.XMLInputFactory&quot;,\r\n    \t\t\t\t&quot;com.ctc.wstx.stax.WstxInputFactory&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.xml.stream.XMLOutputFactory&quot;,\r\n    \t\t\t\t&quot;com.ctc.wstx.stax.WstxOutputFactory&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.xml.stream.XMLEventFactory&quot;,\r\n    \t\t\t\t&quot;com.ctc.wstx.stax.WstxEventFactory&quot;);\r\n    \r\n    \t\tFileInputStream fis = new FileInputStream(new File(&quot;family.xml&quot;));\r\n    \t\tXMLInputFactory xmlif = XMLInputFactory.newFactory();\r\n    \t\tXMLStreamReader2 xmlsr = (XMLStreamReader2) xmlif\r\n    \t\t\t\t.createXMLStreamReader(fis);\r\n    \r\n    \t\tString currentElementName = null;\r\n    \t\twhile (xmlsr.hasNext()) {\r\n    \r\n    \t\t\tint eventType = xmlsr.next();\r\n    \r\n    \t\t\tswitch (eventType) {\r\n    \r\n    \t\t\tcase (XMLEvent2.START_ELEMENT):\r\n    \t\t\t\tcurrentElementName = xmlsr.getName().toString();\r\n    \r\n    \t\t\t\tif (&quot;dad&quot;.equals(currentElementName) == true) {\r\n    \t\t\t\t\tSystem.out.println(&quot;isStartElement: &quot;\r\n    \t\t\t\t\t\t\t+ xmlsr.isStartElement());\r\n    \t\t\t\t\tSystem.out.println(&quot;Element BEGIN: &quot; + currentElementName);\r\n    \t\t\t\t\txmlsr.skipElement();\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tSystem.out.println(currentElementName);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nWorks like a charm.\r\nOutput is\r\n\r\n    family\r\n    mom\r\n    data\r\n    isStartElement: true\r\n    Element BEGIN: dad\r\n\r\n","title":"woodstox skip part of xml","body":"<p>I tried this in java 1.6 (jdk1.6.0_30) with woodstox-core-lgpl-4.1.4.jar, stax2-api-3.1.1.jar on the library path.\nMy java file is this:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\n\nimport javax.xml.stream.XMLInputFactory;\nimport javax.xml.stream.XMLStreamException;\n\nimport org.codehaus.stax2.XMLStreamReader2;\nimport org.codehaus.stax2.evt.XMLEvent2;\n\npublic class Skip {\n\n    public static void main(String[] args) throws FileNotFoundException,\n            XMLStreamException {\n        System.setProperty(\"javax.xml.stream.XMLInputFactory\",\n                \"com.ctc.wstx.stax.WstxInputFactory\");\n        System.setProperty(\"javax.xml.stream.XMLOutputFactory\",\n                \"com.ctc.wstx.stax.WstxOutputFactory\");\n        System.setProperty(\"javax.xml.stream.XMLEventFactory\",\n                \"com.ctc.wstx.stax.WstxEventFactory\");\n\n        FileInputStream fis = new FileInputStream(new File(\"family.xml\"));\n        XMLInputFactory xmlif = XMLInputFactory.newFactory();\n        XMLStreamReader2 xmlsr = (XMLStreamReader2) xmlif\n                .createXMLStreamReader(fis);\n\n        String currentElementName = null;\n        while (xmlsr.hasNext()) {\n\n            int eventType = xmlsr.next();\n\n            switch (eventType) {\n\n            case (XMLEvent2.START_ELEMENT):\n                currentElementName = xmlsr.getName().toString();\n\n                if (\"dad\".equals(currentElementName) == true) {\n                    System.out.println(\"isStartElement: \"\n                            + xmlsr.isStartElement());\n                    System.out.println(\"Element BEGIN: \" + currentElementName);\n                    xmlsr.skipElement();\n                }\n                else {\n                    System.out.println(currentElementName);\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Works like a charm.\nOutput is</p>\n\n<pre><code>family\nmom\ndata\nisStartElement: true\nElement BEGIN: dad\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358249563,"creation_date":1358200616,"answer_id":14327483,"question_id":14326598,"body_markdown":"Since Woodstox is a StAX (JSR-173) compliant parser, you could use a StAX `StreamFilter` to exclude events corresponding to certain elements.  I prefer this approach so that you can keep the filtering logic separate from your application logic.\r\n\r\n**Demo**\r\n\r\n    import javax.xml.stream.*;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            XMLInputFactory xif = XMLInputFactory.newFactory();\r\n            StreamSource xml = new StreamSource(&quot;src/forum14326598/input.xml&quot;);\r\n            XMLStreamReader xsr = xif.createXMLStreamReader(xml);\r\n            xsr = xif.createFilteredReader(xsr, new StreamFilter() {\r\n    \r\n                private boolean accept = true;\r\n                \r\n                @Override\r\n                public boolean accept(XMLStreamReader reader) {\r\n                    if((reader.isStartElement() || reader.isEndElement()) &amp;&amp; &quot;dad&quot;.equals(reader.getLocalName())) {\r\n                        accept = !accept;\r\n                        return false;\r\n                    } else {\r\n                        return accept;\r\n                    }\r\n                }\r\n            \r\n            });\r\n            \r\n            while(xsr.hasNext()) {\r\n                if(xsr.isStartElement()) {\r\n                    System.out.println(&quot;start: &quot; + xsr.getLocalName());\r\n                } else if(xsr.isCharacters()) {\r\n                    if(xsr.getText().trim().length() &gt; 0) {\r\n                        System.out.println(&quot;chars: &quot; + xsr.getText());\r\n                    }\r\n                } else if(xsr.isEndElement()) {\r\n                    System.out.println(&quot;end: &quot; + xsr.getLocalName());\r\n                }\r\n                xsr.next();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**Output**\r\n\r\n    start: family\r\n    start: mom\r\n    start: data\r\n    end: data\r\n    end: mom\r\n    end: family","title":"woodstox skip part of xml","body":"<p>Since Woodstox is a StAX (JSR-173) compliant parser, you could use a StAX <code>StreamFilter</code> to exclude events corresponding to certain elements.  I prefer this approach so that you can keep the filtering logic separate from your application logic.</p>\n\n<p><strong>Demo</strong></p>\n\n<pre><code>import javax.xml.stream.*;\nimport javax.xml.transform.stream.StreamSource;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        XMLInputFactory xif = XMLInputFactory.newFactory();\n        StreamSource xml = new StreamSource(\"src/forum14326598/input.xml\");\n        XMLStreamReader xsr = xif.createXMLStreamReader(xml);\n        xsr = xif.createFilteredReader(xsr, new StreamFilter() {\n\n            private boolean accept = true;\n\n            @Override\n            public boolean accept(XMLStreamReader reader) {\n                if((reader.isStartElement() || reader.isEndElement()) &amp;&amp; \"dad\".equals(reader.getLocalName())) {\n                    accept = !accept;\n                    return false;\n                } else {\n                    return accept;\n                }\n            }\n\n        });\n\n        while(xsr.hasNext()) {\n            if(xsr.isStartElement()) {\n                System.out.println(\"start: \" + xsr.getLocalName());\n            } else if(xsr.isCharacters()) {\n                if(xsr.getText().trim().length() &gt; 0) {\n                    System.out.println(\"chars: \" + xsr.getText());\n                }\n            } else if(xsr.isEndElement()) {\n                System.out.println(\"end: \" + xsr.getLocalName());\n            }\n            xsr.next();\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>start: family\nstart: mom\nstart: data\nend: data\nend: mom\nend: family\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2092433,"reputation":1135,"user_id":1861929,"accept_rate":54,"display_name":"Hubert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1358263000,"creation_date":1358262440,"answer_id":14340608,"question_id":14326598,"body_markdown":"I&#39;ve found the reason, why I was getting the IllegalStateException. The very useful was flup&#39;s answer. Thanks a lot.&lt;br/&gt;\r\nIt is worth to read answer given by Blaise too.&lt;br/&gt;\r\n\r\nBut getting to the heart of the matter.\r\nThe problem was not skipElement() method itself. The problem was caused becouse of methods used to read attributes. There are three dots (...) in my question. So let&#39;s look what was there:\r\n\r\n    switch(eventType){\r\n\t\t\t\r\n\tcase (XMLEvent2.START_ELEMENT):\r\n\t\tcurrentElementName = xmlsr.getName().toString();\r\n\t\tlogger.info(&quot;currentElementName: &quot; + currentElementName);\r\n\t\t\t\t\r\n\t\t\t\r\n\t\tif(&quot;dad&quot;.equals(currentElementName) == true){\r\n\t\t\tlogger.info(&quot;isStartElement: &quot; + xmlsr.isStartElement());\r\n\t\t\tlogger.info(&quot;Element BEGIN: &quot; + currentElementName);\r\n\t\t\txmlsr.skipElement();\r\n\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\tcase (XMLEvent2.ATTRIBUTE):\r\n\t\t\tint attributeCount = xmlsr.getAttributeCount(); \r\n\t\t\t...\r\n\t\t\tbreak;\r\n \r\n\r\n    }\r\n\r\nImportant thing. There is no break statement for START_ELEMENT. So every time START_ELEMENT event occurs the code for event ATTRIBUTE is also executed.\r\nThat looks OK according to Java Docs, becouse methods getAttributeCount(), getAttributeValue() etc. can be executed for both START_ELEMENT and ATTRIBUTE. \r\n\r\nBut after calling method skipElement(), event START_ELEMENT is changed to END_ELEMENT. So calling method getAttributeCount() is not allowed. This call is the reason why IllegalStateException is thrown.\r\n\r\nThe simplest way to avoid that Exception is just calling break statement after calling skipElement() method. In that case code for getting attributes will not be executed, thus Exception will not be thrown.\r\n\r\n    \t\tif(&quot;dad&quot;.equals(currentElementName) == true){\r\n    \t\t\tlogger.info(&quot;isStartElement: &quot; + xmlsr.isStartElement());\r\n    \t\t\tlogger.info(&quot;Element BEGIN: &quot; + currentElementName);\r\n    \t\t\txmlsr.skipElement();\r\n    \t\t\tbreak;                  //the cure for IllegalStateException\r\n    \t\t}\r\n\r\nI&#39;m sorry I gave you no chance to answer my original question becouse of to much code hidden.","title":"woodstox skip part of xml","body":"<p>I've found the reason, why I was getting the IllegalStateException. The very useful was flup's answer. Thanks a lot.<br/>\nIt is worth to read answer given by Blaise too.<br/></p>\n\n<p>But getting to the heart of the matter.\nThe problem was not skipElement() method itself. The problem was caused becouse of methods used to read attributes. There are three dots (...) in my question. So let's look what was there:</p>\n\n<pre><code>switch(eventType){\n\ncase (XMLEvent2.START_ELEMENT):\n    currentElementName = xmlsr.getName().toString();\n    logger.info(\"currentElementName: \" + currentElementName);\n\n\n    if(\"dad\".equals(currentElementName) == true){\n        logger.info(\"isStartElement: \" + xmlsr.isStartElement());\n        logger.info(\"Element BEGIN: \" + currentElementName);\n        xmlsr.skipElement();\n    }\n\n\n    case (XMLEvent2.ATTRIBUTE):\n        int attributeCount = xmlsr.getAttributeCount(); \n        ...\n        break;\n\n\n}\n</code></pre>\n\n<p>Important thing. There is no break statement for START_ELEMENT. So every time START_ELEMENT event occurs the code for event ATTRIBUTE is also executed.\nThat looks OK according to Java Docs, becouse methods getAttributeCount(), getAttributeValue() etc. can be executed for both START_ELEMENT and ATTRIBUTE. </p>\n\n<p>But after calling method skipElement(), event START_ELEMENT is changed to END_ELEMENT. So calling method getAttributeCount() is not allowed. This call is the reason why IllegalStateException is thrown.</p>\n\n<p>The simplest way to avoid that Exception is just calling break statement after calling skipElement() method. In that case code for getting attributes will not be executed, thus Exception will not be thrown.</p>\n\n<pre><code>        if(\"dad\".equals(currentElementName) == true){\n            logger.info(\"isStartElement: \" + xmlsr.isStartElement());\n            logger.info(\"Element BEGIN: \" + currentElementName);\n            xmlsr.skipElement();\n            break;                  //the cure for IllegalStateException\n        }\n</code></pre>\n\n<p>I'm sorry I gave you no chance to answer my original question becouse of to much code hidden.</p>\n"}],"owner":{"account_id":2092433,"reputation":1135,"user_id":1861929,"accept_rate":54,"display_name":"Hubert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1770,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14340608,"answer_count":4,"score":3,"last_activity_date":1656362221,"creation_date":1358197395,"question_id":14326598,"body_markdown":"Java: 1.6  \r\nWoodstox: 4.1.4\r\n\r\nI just want to skip part of xml file, while parsing.\r\nLet&#39;s look at that simple xml:\r\n\r\n    &lt;family&gt;\r\n    \t&lt;mom&gt;\r\n    \t\t&lt;data height=&quot;160&quot;/&gt;\r\n    \t&lt;/mom&gt;\r\n    \t&lt;dad&gt;\r\n    \t\t&lt;data height=&quot;175&quot;/&gt;\r\n    \t&lt;/dad&gt;\r\n    &lt;/family&gt;\r\n\r\nI just want do skip dad element. So it look&#39;s like using skipElement method like shown below is a good idea:\r\n\r\n    FileInputStream fis = ...;\r\n    XMLStreamReader2 xmlsr = (XMLStreamReader2) xmlif.createXMLStreamReader(fis);\r\n    \r\n    String currentElementName = null;\r\n    while(xmlsr.hasNext()){\r\n    \t\t\t\r\n        int eventType = xmlsr.next();\r\n    \t\t\t\t\t\t\r\n    \tswitch(eventType){\r\n    \t\t\t\r\n    \t\tcase (XMLEvent2.START_ELEMENT):\r\n    \t\t\tcurrentElementName = xmlsr.getName().toString();\r\n    \t\t\t\t\t\r\n    \t\t\tif(&quot;dad&quot;.equals(currentElementName) == true){\r\n    \t\t\t\tlogger.info(&quot;isStartElement: &quot; + xmlsr.isStartElement());\r\n    \t\t\t\tlogger.info(&quot;Element BEGIN: &quot; + currentElementName);\r\n    \t\t\t\txmlsr.skipElement();\r\n    \t\t\t}\r\n\r\n                        ...\r\n        }\r\n    }\r\n\r\nWe just find start of element dad, and skip it. But not so fast, because Exception will be thrown. This is the output:\r\n   \r\n\r\n    isStartElement: true\r\n    Element BEGIN: dad\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Current state not START_ELEMENT\r\n\r\nThat is not what expected. This is indeed very unexpected, because method skipElement is executed in START_ELEMENT state. What is going on?\r\n","title":"woodstox skip part of xml","body":"<p>Java: 1.6<br />\nWoodstox: 4.1.4</p>\n<p>I just want to skip part of xml file, while parsing.\nLet's look at that simple xml:</p>\n<pre><code>&lt;family&gt;\n    &lt;mom&gt;\n        &lt;data height=&quot;160&quot;/&gt;\n    &lt;/mom&gt;\n    &lt;dad&gt;\n        &lt;data height=&quot;175&quot;/&gt;\n    &lt;/dad&gt;\n&lt;/family&gt;\n</code></pre>\n<p>I just want do skip dad element. So it look's like using skipElement method like shown below is a good idea:</p>\n<pre><code>FileInputStream fis = ...;\nXMLStreamReader2 xmlsr = (XMLStreamReader2) xmlif.createXMLStreamReader(fis);\n\nString currentElementName = null;\nwhile(xmlsr.hasNext()){\n            \n    int eventType = xmlsr.next();\n                        \n    switch(eventType){\n            \n        case (XMLEvent2.START_ELEMENT):\n            currentElementName = xmlsr.getName().toString();\n                    \n            if(&quot;dad&quot;.equals(currentElementName) == true){\n                logger.info(&quot;isStartElement: &quot; + xmlsr.isStartElement());\n                logger.info(&quot;Element BEGIN: &quot; + currentElementName);\n                xmlsr.skipElement();\n            }\n\n                    ...\n    }\n}\n</code></pre>\n<p>We just find start of element dad, and skip it. But not so fast, because Exception will be thrown. This is the output:</p>\n<pre><code>isStartElement: true\nElement BEGIN: dad\nException in thread &quot;main&quot; java.lang.IllegalStateException: Current state not START_ELEMENT\n</code></pre>\n<p>That is not what expected. This is indeed very unexpected, because method skipElement is executed in START_ELEMENT state. What is going on?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1655225894,"post_id":72620571,"comment_id":128280259,"body_markdown":"Why do you not have a foreign key constraint and the data in the table? Sounds like your design is bakwards.","body":"Why do you not have a foreign key constraint and the data in the table? Sounds like your design is bakwards."},{"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"score":0,"creation_date":1655278249,"post_id":72620571,"comment_id":128291807,"body_markdown":"I did not make the original software so unfortunately I can only adapt to the particular cases I find.","body":"I did not make the original software so unfortunately I can only adapt to the particular cases I find."}],"answers":[{"tags":[],"owner":{"account_id":3544434,"reputation":1492,"user_id":2960757,"display_name":"CodeTheorist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655279060,"creation_date":1655279060,"answer_id":72627589,"question_id":72620571,"body_markdown":"You said that you&#39;re using a simple `SELECT * FROM Student` query, which means you are using custom queries.\r\n\r\nIn your case, you should be able to change it to `SELECT * FROM Student St LEFT JOIN School Sc ON Sc.ID = St.School;`.\r\n\r\nWhat that should do is load all of the records in one query and any student records that don&#39;t have a matching school should return null for the `School` attribute on the `Student` class.\r\n\r\nSide Note: When working with relationships and JPA, if it&#39;s a simple relationship like this, you can use joins to ensure everything is loaded in one query, rather than JPA loading all of the parent entities and then issuing a query for each of those to fetch the child entities, so it can have quite the performance improvement.","title":"How to always return the result of a query from hibernate despite an error present?","body":"<p>You said that you're using a simple <code>SELECT * FROM Student</code> query, which means you are using custom queries.</p>\n<p>In your case, you should be able to change it to <code>SELECT * FROM Student St LEFT JOIN School Sc ON Sc.ID = St.School;</code>.</p>\n<p>What that should do is load all of the records in one query and any student records that don't have a matching school should return null for the <code>School</code> attribute on the <code>Student</code> class.</p>\n<p>Side Note: When working with relationships and JPA, if it's a simple relationship like this, you can use joins to ensure everything is loaded in one query, rather than JPA loading all of the parent entities and then issuing a query for each of those to fetch the child entities, so it can have quite the performance improvement.</p>\n"},{"tags":[],"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655279423,"creation_date":1655279079,"answer_id":72627594,"question_id":72620571,"body_markdown":"You need to add `@NotFound(action = NotFoundAction.IGNORE)` on top of School in `Student` class. As mentioned by Davide d&#39;Alto on his answer, there&#39;s no `NY` in table `School` so an exception will be risen by default. \r\n\r\nFixing the database should be the proper answer but sometimes it&#39;s not possible or might have other undesired consequences on other applications.\r\n\r\nIn this case, when annotating with `@NotFound(action = NotFoundAction.IGNORE)` the value will be set to `null` in case it&#39;s not found.\r\n\r\n```\r\n@Table(name = &quot;Student&quot;)\r\npublic class Student\r\n{\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @NotFound(action = NotFoundAction.IGNORE)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;school&quot;)\r\n    private School school \r\n}\r\n```\r\n\r\nMore info:\r\n\r\n[Baeldung - Hibernate EntityNotFoundException][1]\r\n\r\n[JavaDoc][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-entitynotfoundexception\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html","title":"How to always return the result of a query from hibernate despite an error present?","body":"<p>You need to add <code>@NotFound(action = NotFoundAction.IGNORE)</code> on top of School in <code>Student</code> class. As mentioned by Davide d'Alto on his answer, there's no <code>NY</code> in table <code>School</code> so an exception will be risen by default.</p>\n<p>Fixing the database should be the proper answer but sometimes it's not possible or might have other undesired consequences on other applications.</p>\n<p>In this case, when annotating with <code>@NotFound(action = NotFoundAction.IGNORE)</code> the value will be set to <code>null</code> in case it's not found.</p>\n<pre><code>@Table(name = &quot;Student&quot;)\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @NotFound(action = NotFoundAction.IGNORE)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;school&quot;)\n    private School school \n}\n</code></pre>\n<p>More info:</p>\n<p><a href=\"https://www.baeldung.com/hibernate-entitynotfoundexception\" rel=\"nofollow noreferrer\">Baeldung - Hibernate EntityNotFoundException</a></p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html\" rel=\"nofollow noreferrer\">JavaDoc</a></p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655855887,"creation_date":1655854354,"answer_id":72708114,"question_id":72620571,"body_markdown":"**Solution 1: handle exception in getter**\r\n&lt;br&gt;One approach that can be used is to modify your getter method using static methods: [Hibernate.isInitialized][1] and [Hibernate.initialize][2] and handle `EntityNotFoundException` \r\n```java\r\n    public School getSchool() {\r\n        if (!Hibernate.isInitialized(school)) {\r\n            try {\r\n                Hibernate.initialize(school);\r\n            } catch (EntityNotFoundException ex) {\r\n                school = null;\r\n            }\r\n        }\r\n        return school;\r\n    }\r\n```\r\n```java\r\n@Table(name = &quot;Student&quot;)\r\n@Entity\r\npublic class Student\r\n{\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;school&quot;)\r\n    private School school;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public School getSchool() {\r\n        if (!Hibernate.isInitialized(school)) {\r\n            try {\r\n                Hibernate.initialize(school);\r\n            } catch (EntityNotFoundException ex) {\r\n                school = null;\r\n            }\r\n        }\r\n        return school;\r\n    }\r\n\r\n    public void setSchool(School school) {\r\n        this.school = school;\r\n    }\r\n}\r\n```\r\n**Solution 2: load child entity via separate repository**\r\n&lt;br&gt;Remove `ManyToOne` relation from your entity\r\n```java\r\n@Table(name = &quot;Student&quot;)\r\n@Entity\r\npublic class Student\r\n{\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;school&quot;)\r\n    private String school;\r\n}\r\n```\r\nCreate separate repository for `School` entity with optional loading by ID\r\n```java\r\n@Repository\r\npublic interface SchoolRepository extends JpaRepository&lt;School, String&gt; {\r\n    Optional&lt;School&gt; findById(String id);\r\n}\r\n```\r\nUse `SchoolRepository` repository for loading entity in required places\r\n```java\r\n        List&lt;Student&gt; students = studentRepository.findStudents();\r\n        Student student = students.get(2);\r\n\r\n        if (student.getSchool() != null) {\r\n            School school = schoolRepository.findById(student.getSchool()).orElse(null);\r\n        }\r\n```\r\n**Solution 3: [@NotFound(action = NotFoundAction.IGNORE)][3] with [LEFT JOIN FETCH][4]**\r\n&lt;br&gt;Define ignore `@NotFound` annotation\r\n```java\r\n    @NotFound(action = NotFoundAction.IGNORE)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;school&quot;)\r\n    private School school \r\n```\r\nRewrite your query for loading `Student` entities. Use [LEFT JOIN FETCH][4], it allows associations or collections of values to be initialized along with their parent objects using a single select. It significantly improves performance. `Student` and `School` entities will be initialized by one query. \r\n```java\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\r\n\r\n    @Query(value = &quot;select s from Student s LEFT JOIN FETCH s.school sc&quot;)\r\n    List&lt;Student&gt; findStudents();\r\n}\r\n```\r\nThe main idea of that solution is that you will not have many EGEAR queries for initialization child entities, but only one and `@NotFound` will skip exception.\r\n&lt;br&gt;Hibernate will generate one batch query:\r\n```sql\r\n    select\r\n        student0_.id as id1_34_0_,\r\n        school1_.id as id1_31_1_,\r\n        student0_.name as name2_34_0_,\r\n        student0_.school as school3_34_0_,\r\n        school1_.state as state2_31_1_ \r\n    from\r\n        student student0_ \r\n    left outer join\r\n        school school1_ \r\n            on student0_.school=school1_.id\r\n```\r\nAnd the second query just for one missed `School` entity to ensure that it is not present in DB\r\n```java\r\n    select\r\n        school0_.id as id1_31_0_,\r\n        school0_.state as state2_31_0_ \r\n    from\r\n        school school0_ \r\n    where\r\n        school0_.id=?\r\n```\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/Hibernate.html#isInitialized(java.lang.Object)\r\n  [2]: https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/Hibernate.html#initialize(java.lang.Object)\r\n  [3]: https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html\r\n  [4]: https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins","title":"How to always return the result of a query from hibernate despite an error present?","body":"<p><strong>Solution 1: handle exception in getter</strong>\n<br>One approach that can be used is to modify your getter method using static methods: <a href=\"https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/Hibernate.html#isInitialized(java.lang.Object)\" rel=\"nofollow noreferrer\">Hibernate.isInitialized</a> and <a href=\"https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/Hibernate.html#initialize(java.lang.Object)\" rel=\"nofollow noreferrer\">Hibernate.initialize</a> and handle <code>EntityNotFoundException</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public School getSchool() {\n        if (!Hibernate.isInitialized(school)) {\n            try {\n                Hibernate.initialize(school);\n            } catch (EntityNotFoundException ex) {\n                school = null;\n            }\n        }\n        return school;\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;Student&quot;)\n@Entity\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;school&quot;)\n    private School school;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public School getSchool() {\n        if (!Hibernate.isInitialized(school)) {\n            try {\n                Hibernate.initialize(school);\n            } catch (EntityNotFoundException ex) {\n                school = null;\n            }\n        }\n        return school;\n    }\n\n    public void setSchool(School school) {\n        this.school = school;\n    }\n}\n</code></pre>\n<p><strong>Solution 2: load child entity via separate repository</strong>\n<br>Remove <code>ManyToOne</code> relation from your entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;Student&quot;)\n@Entity\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;school&quot;)\n    private String school;\n}\n</code></pre>\n<p>Create separate repository for <code>School</code> entity with optional loading by ID</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface SchoolRepository extends JpaRepository&lt;School, String&gt; {\n    Optional&lt;School&gt; findById(String id);\n}\n</code></pre>\n<p>Use <code>SchoolRepository</code> repository for loading entity in required places</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;Student&gt; students = studentRepository.findStudents();\n        Student student = students.get(2);\n\n        if (student.getSchool() != null) {\n            School school = schoolRepository.findById(student.getSchool()).orElse(null);\n        }\n</code></pre>\n<p><strong>Solution 3: <a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html\" rel=\"nofollow noreferrer\">@NotFound(action = NotFoundAction.IGNORE)</a> with <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins\" rel=\"nofollow noreferrer\">LEFT JOIN FETCH</a></strong>\n<br>Define ignore <code>@NotFound</code> annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotFound(action = NotFoundAction.IGNORE)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;school&quot;)\n    private School school \n</code></pre>\n<p>Rewrite your query for loading <code>Student</code> entities. Use <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins\" rel=\"nofollow noreferrer\">LEFT JOIN FETCH</a>, it allows associations or collections of values to be initialized along with their parent objects using a single select. It significantly improves performance. <code>Student</code> and <code>School</code> entities will be initialized by one query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\n\n    @Query(value = &quot;select s from Student s LEFT JOIN FETCH s.school sc&quot;)\n    List&lt;Student&gt; findStudents();\n}\n</code></pre>\n<p>The main idea of that solution is that you will not have many EGEAR queries for initialization child entities, but only one and <code>@NotFound</code> will skip exception.\n<br>Hibernate will generate one batch query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select\n        student0_.id as id1_34_0_,\n        school1_.id as id1_31_1_,\n        student0_.name as name2_34_0_,\n        student0_.school as school3_34_0_,\n        school1_.state as state2_31_1_ \n    from\n        student student0_ \n    left outer join\n        school school1_ \n            on student0_.school=school1_.id\n</code></pre>\n<p>And the second query just for one missed <code>School</code> entity to ensure that it is not present in DB</p>\n<pre class=\"lang-java prettyprint-override\"><code>    select\n        school0_.id as id1_31_0_,\n        school0_.state as state2_31_0_ \n    from\n        school school0_ \n    where\n        school0_.id=?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656362197,"creation_date":1656362197,"answer_id":72778018,"question_id":72620571,"body_markdown":"For a semi-scalable solution I changed the initial view and returned `NULL` if it is not present. The change makes the query a little slower but avoids doing one query per element (that would make the environment much slower).\r\n\r\nBefore\r\n--\r\n\r\n```sql\r\nSELECT \tST.ID AS id,\r\n\t\tST.NAME AS name,\r\n\t\tST.ID AS school\r\nFROM Student ST\r\n```\r\nAfther\r\n--\r\n\r\n```sql\r\nSELECT \tST.ID AS id,\r\n\t\tST.NAME AS name,\r\n\t\tSC.ID AS school\r\nFROM Student ST\r\nLEFT JOIN School SC\r\n\tON ST.SCHOOL = SC.ID\r\n```\r\n\r\nPost release notes\r\n--\r\n\r\nAlso for compound ids, the best solution seems to be a `case when` with all the various combinations.\r\n\r\nKeep in mind that this is a very small example to understand the logic behind the problem, adding many tables in `left join` will make the cost of the query increases significantly. However, remains the best compromise after a week of trials and proposed solutions.","title":"How to always return the result of a query from hibernate despite an error present?","body":"<p>For a semi-scalable solution I changed the initial view and returned <code>NULL</code> if it is not present. The change makes the query a little slower but avoids doing one query per element (that would make the environment much slower).</p>\n<h2>Before</h2>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT  ST.ID AS id,\n        ST.NAME AS name,\n        ST.ID AS school\nFROM Student ST\n</code></pre>\n<h2>Afther</h2>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT  ST.ID AS id,\n        ST.NAME AS name,\n        SC.ID AS school\nFROM Student ST\nLEFT JOIN School SC\n    ON ST.SCHOOL = SC.ID\n</code></pre>\n<h2>Post release notes</h2>\n<p>Also for compound ids, the best solution seems to be a <code>case when</code> with all the various combinations.</p>\n<p>Keep in mind that this is a very small example to understand the logic behind the problem, adding many tables in <code>left join</code> will make the cost of the query increases significantly. However, remains the best compromise after a week of trials and proposed solutions.</p>\n"}],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72778018,"answer_count":4,"score":1,"last_activity_date":1656362197,"creation_date":1655224777,"question_id":72620571,"body_markdown":"My Case\r\n-------\r\n\r\nI have two entities, `student` and `school` which are structured as follows:\r\n\r\n```java\r\n@Table(name = &quot;Student&quot;)\r\npublic class Student\r\n{\r\n\t@Id\r\n    @Column(name = &quot;id&quot;)\r\n\tprivate String id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;school&quot;)\r\n    private School school \r\n}\r\n```\r\n```java\r\n@Table(name = &quot;School&quot;)\r\npublic class School\r\n{\r\n\t@Id\r\n    @Column(name = &quot;id&quot;)\r\n\tprivate String id;\r\n    \r\n    @Column(name = &quot;state&quot;)\r\n    private String state;\r\n}\r\n```\r\n\r\nThe following are the two views values:\r\n\r\n**Student**\r\n\r\n| id | name | school |\r\n|:---- |:------ |:----- |\r\n| A  | Albert    | MCD |\r\n| B  | Kevin    | LSU |\r\n| C  | Jack    | NY |\r\n| D  | Robert | CA |\r\n| E  | Samuel | |\r\n\r\n**School**\r\n\r\n| id | name | \r\n|:---- |:------ | \r\n| MCD  | Mich    | \r\n| LSU  | Los    |\r\n| CA  | Car    |\r\n\r\nSo when in hibernate i&#39;m doing a simple `select * from Student`, it throws an error because the &#39;NY&#39; id does not exist in the school table.\r\n\r\n(To be precise, it throws `org.hibernate.LazyInitializationException: No row with the given identifier exists`)\r\n\r\nFinal Goal\r\n-------\r\n\r\nMy goal is to bypass the error that is thrown an still return the correct entity (So Albert, Kevin, Robert, Samuel)","title":"How to always return the result of a query from hibernate despite an error present?","body":"<h2>My Case</h2>\n<p>I have two entities, <code>student</code> and <code>school</code> which are structured as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;Student&quot;)\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;school&quot;)\n    private School school \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;School&quot;)\npublic class School\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    \n    @Column(name = &quot;state&quot;)\n    private String state;\n}\n</code></pre>\n<p>The following are the two views values:</p>\n<p><strong>Student</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">name</th>\n<th style=\"text-align: left;\">school</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">A</td>\n<td style=\"text-align: left;\">Albert</td>\n<td style=\"text-align: left;\">MCD</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">B</td>\n<td style=\"text-align: left;\">Kevin</td>\n<td style=\"text-align: left;\">LSU</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">C</td>\n<td style=\"text-align: left;\">Jack</td>\n<td style=\"text-align: left;\">NY</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">D</td>\n<td style=\"text-align: left;\">Robert</td>\n<td style=\"text-align: left;\">CA</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">E</td>\n<td style=\"text-align: left;\">Samuel</td>\n<td style=\"text-align: left;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>School</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">MCD</td>\n<td style=\"text-align: left;\">Mich</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">LSU</td>\n<td style=\"text-align: left;\">Los</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CA</td>\n<td style=\"text-align: left;\">Car</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So when in hibernate i'm doing a simple <code>select * from Student</code>, it throws an error because the 'NY' id does not exist in the school table.</p>\n<p>(To be precise, it throws <code>org.hibernate.LazyInitializationException: No row with the given identifier exists</code>)</p>\n<h2>Final Goal</h2>\n<p>My goal is to bypass the error that is thrown an still return the correct entity (So Albert, Kevin, Robert, Samuel)</p>\n"},{"tags":["java","spring","ssl","embedded-tomcat-8"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656394421,"post_id":72777993,"comment_id":128554434,"body_markdown":"You already asked the [exact same question](https://stackoverflow.com/questions/72776439/spring-boot-embedded-tomcat-ssl-config) earlier. Which got closed with links to other topics which answer this, asking the same again will yield the same result.","body":"You already asked the <a href=\"https://stackoverflow.com/questions/72776439/spring-boot-embedded-tomcat-ssl-config\">exact same question</a> earlier. Which got closed with links to other topics which answer this, asking the same again will yield the same result."},{"owner":{"account_id":18517468,"reputation":33,"user_id":13491290,"display_name":"iliev951"},"score":0,"creation_date":1656406066,"post_id":72777993,"comment_id":128557965,"body_markdown":"Just to be clear. My first question was marked incorrectly as duplicate. Please note, that I&#39;m not asking how to use .pem files for SSL config of spring boot. This has already been aswered. I&#39;m asking, if I can use the same certificate to configure the SSL for embedded tomcat.","body":"Just to be clear. My first question was marked incorrectly as duplicate. Please note, that I&#39;m not asking how to use .pem files for SSL config of spring boot. This has already been aswered. I&#39;m asking, if I can use the same certificate to configure the SSL for embedded tomcat."}],"owner":{"account_id":18517468,"reputation":33,"user_id":13491290,"display_name":"iliev951"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656394387,"answer_count":0,"score":0,"last_activity_date":1656362026,"creation_date":1656362026,"question_id":72777993,"body_markdown":"My Spring Boot service runs on server.name.com:8088 and I have purchased a certificate for server.name.com . I already installed the certificate on the server, the thing is, I don&#39;t know if I can use this certificate for my Spring Boot application. The CA has provided me with 3 .pem files - a root, intermediate and certificate for server.name.com . i am running Spring Boot with embedded Tomcat, so I&#39;m wondering how to configure SSL for it.","title":"Spring boot - SSL config embedded Tomcat","body":"<p>My Spring Boot service runs on server.name.com:8088 and I have purchased a certificate for server.name.com . I already installed the certificate on the server, the thing is, I don't know if I can use this certificate for my Spring Boot application. The CA has provided me with 3 .pem files - a root, intermediate and certificate for server.name.com . i am running Spring Boot with embedded Tomcat, so I'm wondering how to configure SSL for it.</p>\n"},{"tags":["java","android","sqlite","android-studio"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1656361102,"post_id":72777771,"comment_id":128548854,"body_markdown":"In your `onCreate` method `INTEGER` is spelled wrong. If your app is crashing you need to look at the logs from Logcat and include them in your question so people can help you with why it is crashing.","body":"In your <code>onCreate</code> method <code>INTEGER</code> is spelled wrong. If your app is crashing you need to look at the logs from Logcat and include them in your question so people can help you with why it is crashing."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1656361406,"post_id":72777771,"comment_id":128548944,"body_markdown":"Also you need to [properly log the exception](https://stackoverflow.com/a/4341391/636009) in your OnClickListener (and anywhere else you are catching exceptions) in order to get useful information from [Logcat](https://developer.android.com/studio/debug/am-logcat).","body":"Also you need to <a href=\"https://stackoverflow.com/a/4341391/636009\">properly log the exception</a> in your OnClickListener (and anywhere else you are catching exceptions) in order to get useful information from <a href=\"https://developer.android.com/studio/debug/am-logcat\" rel=\"nofollow noreferrer\">Logcat</a>."},{"owner":{"account_id":12548460,"reputation":13,"user_id":9130980,"display_name":"Abdulhadi Heib"},"score":1,"creation_date":1656362341,"post_id":72777771,"comment_id":128549168,"body_markdown":"@DavidConrad you solved me problem it was just typo problem \nI am going to write INTEGER 100-times to practices writing it :)","body":"@DavidConrad you solved me problem it was just typo problem  I am going to write INTEGER 100-times to practices writing it :)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1656362790,"post_id":72777771,"comment_id":128549281,"body_markdown":"I&#39;m glad I was able to help. Remember to always double check everything, even when you feel sure you got it right. That&#39;s the hardest time to see that you typed it wrong.","body":"I&#39;m glad I was able to help. Remember to always double check everything, even when you feel sure you got it right. That&#39;s the hardest time to see that you typed it wrong."}],"owner":{"account_id":12548460,"reputation":13,"user_id":9130980,"display_name":"Abdulhadi Heib"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656360755,"creation_date":1656360462,"question_id":72777771,"body_markdown":"I&#39;m have problem with adding a data to data base \r\nthe edit text that I insert the data from is in second activity when I press add the app goes tosecond activity and when i try again the app crush.\r\n\r\nHELP PLEASE!!! \r\n\r\nthis on sql data Healper class \r\n\r\n``` \r\n\r\npublic void onCreate(SQLiteDatabase db) {\r\n        String createTableStatement = &quot;CREATE TABLE &quot; + OPERATION_TABLE + &quot; (&quot;+&quot; ID INTGER PRIMARY KEY AUTOINCREMENT, &quot; + COLUMN_OPERATION_NAME + &quot; TEXT, &quot; + COLUMN_OPERATION_AMOUNT + &quot; TEXT, &quot; + COLUMN_OPERATION_DESCRIPTION + &quot; TEXT, &quot; + COLUMN_OPERATION_IS_INCOME + &quot; BOOL, &quot; + COLUMN_DATE + &quot;  TEXT )&quot;;\r\n\r\n        db.execSQL(createTableStatement);\r\n    }\r\n```\r\nthis a click listener in the activate: \r\n```\r\naddButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Operation operation;\r\n                try {\r\n                    operation = new Operation(-1, nameOfOperation.getText().toString(), amount.getText().toString(), description.getText().toString(), income.isChecked(), dateOfOperation.getText().toString());\r\n                    editTextClean();\r\n                    Toast.makeText(InsertActivity.this, &quot;the operation is saved &quot; + operation.toString(), Toast.LENGTH_SHORT).show();\r\n                }catch (Exception e){\r\n                    Toast.makeText(InsertActivity.this, &quot;Error creating customer&quot; , Toast.LENGTH_SHORT).show();\r\n                    operation = new Operation(-1,&quot;error&quot;, &quot;error&quot;, &quot;eror&quot;, true, &quot;date error&quot;);\r\n\r\n\r\n                }\r\n\r\n\r\n\r\n                DataBaseHelper dataBaseHelper = new DataBaseHelper(InsertActivity.this);\r\n                boolean success =dataBaseHelper.addOne(operation);\r\n                Toast.makeText(InsertActivity.this, &quot;Success= &quot;+success, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n```\r\nand this the add method\r\n```\r\npublic boolean addOne(Operation operation){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues cv =new ContentValues();\r\n\r\n        cv.put(COLUMN_OPERATION_NAME,operation.getName());\r\n        cv.put(COLUMN_DATE,operation.getDate());\r\n        cv.put(COLUMN_OPERATION_AMOUNT,operation.getAmount());\r\n        cv.put(COLUMN_OPERATION_DESCRIPTION,operation.getDescription());\r\n        cv.put(COLUMN_OPERATION_IS_INCOME,operation.isIncome());\r\n\r\n        long insert = db.insert(OPERATION_TABLE, null, cv);\r\n\r\n        if(insert ==-1){\r\n            return false;\r\n        }else {\r\n            return true;\r\n        }\r\n    }\r\n```","title":"AUTOINCREMENT is only allowed on an INTEGER PRIMARY KEY in &quot;CREATE TABLE OPERATION_TABLE","body":"<p>I'm have problem with adding a data to data base\nthe edit text that I insert the data from is in second activity when I press add the app goes tosecond activity and when i try again the app crush.</p>\n<p>HELP PLEASE!!!</p>\n<p>this on sql data Healper class</p>\n<pre><code>\npublic void onCreate(SQLiteDatabase db) {\n        String createTableStatement = &quot;CREATE TABLE &quot; + OPERATION_TABLE + &quot; (&quot;+&quot; ID INTGER PRIMARY KEY AUTOINCREMENT, &quot; + COLUMN_OPERATION_NAME + &quot; TEXT, &quot; + COLUMN_OPERATION_AMOUNT + &quot; TEXT, &quot; + COLUMN_OPERATION_DESCRIPTION + &quot; TEXT, &quot; + COLUMN_OPERATION_IS_INCOME + &quot; BOOL, &quot; + COLUMN_DATE + &quot;  TEXT )&quot;;\n\n        db.execSQL(createTableStatement);\n    }\n</code></pre>\n<p>this a click listener in the activate:</p>\n<pre><code>addButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Operation operation;\n                try {\n                    operation = new Operation(-1, nameOfOperation.getText().toString(), amount.getText().toString(), description.getText().toString(), income.isChecked(), dateOfOperation.getText().toString());\n                    editTextClean();\n                    Toast.makeText(InsertActivity.this, &quot;the operation is saved &quot; + operation.toString(), Toast.LENGTH_SHORT).show();\n                }catch (Exception e){\n                    Toast.makeText(InsertActivity.this, &quot;Error creating customer&quot; , Toast.LENGTH_SHORT).show();\n                    operation = new Operation(-1,&quot;error&quot;, &quot;error&quot;, &quot;eror&quot;, true, &quot;date error&quot;);\n\n\n                }\n\n\n\n                DataBaseHelper dataBaseHelper = new DataBaseHelper(InsertActivity.this);\n                boolean success =dataBaseHelper.addOne(operation);\n                Toast.makeText(InsertActivity.this, &quot;Success= &quot;+success, Toast.LENGTH_LONG).show();\n            }\n        });\n</code></pre>\n<p>and this the add method</p>\n<pre><code>public boolean addOne(Operation operation){\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv =new ContentValues();\n\n        cv.put(COLUMN_OPERATION_NAME,operation.getName());\n        cv.put(COLUMN_DATE,operation.getDate());\n        cv.put(COLUMN_OPERATION_AMOUNT,operation.getAmount());\n        cv.put(COLUMN_OPERATION_DESCRIPTION,operation.getDescription());\n        cv.put(COLUMN_OPERATION_IS_INCOME,operation.isIncome());\n\n        long insert = db.insert(OPERATION_TABLE, null, cv);\n\n        if(insert ==-1){\n            return false;\n        }else {\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":["java","rx-java","reactive-programming","reactivex"],"answers":[{"tags":[],"owner":{"account_id":8025150,"reputation":3053,"user_id":6052442,"display_name":"JohnWowUs"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1479807497,"creation_date":1479807497,"answer_id":40738307,"question_id":40737955,"body_markdown":"You can try the [&#39;scan&#39;](http://rxmarbles.com/#scan) operator.","title":"Aggregate all emited streams and emit them inmidiatly with rxJava","body":"<p>You can try the <a href=\"http://rxmarbles.com/#scan\" rel=\"noreferrer\">'scan'</a> operator.</p>\n"},{"tags":[],"owner":{"account_id":9297839,"reputation":1938,"user_id":6904265,"display_name":"user6904265"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479813053,"creation_date":1479809834,"answer_id":40739185,"question_id":40737955,"body_markdown":"**Java 8**\r\n\r\nYou could get a Stream of String[] in this way:\r\n\r\n      List&lt;String&gt; array = Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;);\r\n      String[] st ={&quot;&quot;};\r\n      Stream&lt;String[]&gt; stream  = array.stream().map(x -&gt; (st[0]+=x).split(&quot;\\\\B&quot;));\r\n      //print it\r\n      stream.forEach(s -&gt; System.out.println(Arrays.toString(s)));\r\n\r\n**RX JAVA** (expanding JohnWowUs&#39;s answer)\r\n\r\n\t List&lt;String&gt; array = Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;);\r\n\t Func2&lt;String,String,String&gt; function = new Func2&lt;String,String,String&gt;(){\r\n\t\t@Override\r\n\t\tpublic String call(String paramT1, String paramT2) {\r\n\t\t\treturn paramT1 + paramT2;\r\n\t\t}\r\n\t };\r\n\t Observable&lt;String&gt; scan = Observable.from(array).scan(function);\r\n\t scan.forEach(x-&gt; System.out.println(x));","title":"Aggregate all emited streams and emit them inmidiatly with rxJava","body":"<p><strong>Java 8</strong></p>\n\n<p>You could get a Stream of String[] in this way:</p>\n\n<pre><code>  List&lt;String&gt; array = Arrays.asList(\"A\",\"B\",\"C\",\"D\");\n  String[] st ={\"\"};\n  Stream&lt;String[]&gt; stream  = array.stream().map(x -&gt; (st[0]+=x).split(\"\\\\B\"));\n  //print it\n  stream.forEach(s -&gt; System.out.println(Arrays.toString(s)));\n</code></pre>\n\n<p><strong>RX JAVA</strong> (expanding JohnWowUs's answer)</p>\n\n<pre><code> List&lt;String&gt; array = Arrays.asList(\"A\",\"B\",\"C\",\"D\");\n Func2&lt;String,String,String&gt; function = new Func2&lt;String,String,String&gt;(){\n    @Override\n    public String call(String paramT1, String paramT2) {\n        return paramT1 + paramT2;\n    }\n };\n Observable&lt;String&gt; scan = Observable.from(array).scan(function);\n scan.forEach(x-&gt; System.out.println(x));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656360693,"creation_date":1656360693,"answer_id":72777806,"question_id":40737955,"body_markdown":"Flux (project reactor) version:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            final Flux&lt;Double&gt; randomChange = Flux.interval(Duration.ofMillis(75))\r\n                    .map(i -&gt; Math.random() - 0.5);\r\n    \r\n            final Flux&lt;Double&gt; stockCurrentValue = randomChange.scan(100.0, (x, y) -&gt; x + y);\r\n    \r\n            stockCurrentValue\r\n                    .takeWhile(stockValue -&gt; stockValue &gt; 90 &amp;&amp; stockValue &lt; 110)\r\n                    .subscribe(x -&gt; System.out.println(x));\r\n    \r\n            Thread.sleep(100000);\r\n        }\r\n    }","title":"Aggregate all emited streams and emit them inmidiatly with rxJava","body":"<p>Flux (project reactor) version:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws InterruptedException {\n        final Flux&lt;Double&gt; randomChange = Flux.interval(Duration.ofMillis(75))\n                .map(i -&gt; Math.random() - 0.5);\n\n        final Flux&lt;Double&gt; stockCurrentValue = randomChange.scan(100.0, (x, y) -&gt; x + y);\n\n        stockCurrentValue\n                .takeWhile(stockValue -&gt; stockValue &gt; 90 &amp;&amp; stockValue &lt; 110)\n                .subscribe(x -&gt; System.out.println(x));\n\n        Thread.sleep(100000);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":448477,"reputation":5867,"user_id":842697,"accept_rate":75,"display_name":"Brais Gabin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40738307,"answer_count":3,"score":3,"last_activity_date":1656360693,"creation_date":1479806475,"question_id":40737955,"body_markdown":"I have a stream that emit pages of data `A, B, C, D...`. Which operator can I use to get a stream like this: `[A], [A, B], [A, B, C], [A, B, C, D]...`?\r\n\r\nI know `collect` or `toList` but they only emit once at the end of the stream.","title":"Aggregate all emited streams and emit them inmidiatly with rxJava","body":"<p>I have a stream that emit pages of data <code>A, B, C, D...</code>. Which operator can I use to get a stream like this: <code>[A], [A, B], [A, B, C], [A, B, C, D]...</code>?</p>\n\n<p>I know <code>collect</code> or <code>toList</code> but they only emit once at the end of the stream.</p>\n"},{"tags":["java","jboss","wildfly","jndi","wildfly-8"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656178873,"creation_date":1656178873,"answer_id":72756048,"question_id":72746187,"body_markdown":"JNP is the old JNDI implementation, you need to update your jndi.properties.\r\nI think that for WildFly 8 it is :\r\nfinal Properties env = new Properties();\r\nenv.put(Context.INITIAL_CONTEXT_FACTORY, org.jboss.naming.remote.client.InitialContextFactory.class.getName());\r\nenv.put(Context.PROVIDER_URL, &quot;remote://localhost:4447&quot;);\r\nremoteContext = new InitialContext(env);","title":"Migrate from Jboss 4.2.3 to Wildfly 8","body":"<p>JNP is the old JNDI implementation, you need to update your jndi.properties.\nI think that for WildFly 8 it is :\nfinal Properties env = new Properties();\nenv.put(Context.INITIAL_CONTEXT_FACTORY, org.jboss.naming.remote.client.InitialContextFactory.class.getName());\nenv.put(Context.PROVIDER_URL, &quot;remote://localhost:4447&quot;);\nremoteContext = new InitialContext(env);</p>\n"},{"tags":[],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656360374,"creation_date":1656360374,"answer_id":72777761,"question_id":72746187,"body_markdown":"In addition to ehsavoie answer, I needed to trick a few things to make it works.\r\n\r\nI follow the tutorial here : \r\n\r\nhttps://docs.jboss.org/author/display/WFLY10/EJB%20invocations%20from%20a%20remote%20client%20using%20JNDI.html\r\n\r\nAnd here : \r\n\r\nhttps://docs.jboss.org/author/display/WFLY10/Remote%20JNDI%20Reference%20Update%20Draft.html\r\n\r\nIn fact, in my case, I don&#39;t need http remoting mode, just a simple EJB mode, so no complex parameters to put in JNDI.properties.\r\n\r\nI delete my jndi.properties file, and just update the code to : \r\n\r\n    final Hashtable jndiProperties = new Hashtable();\r\n    jndiProperties.put(Context.URL_PKG_PREFIXES, &quot;org.jboss.ejb.client.naming&quot;);\r\n    final Context context = new InitialContext(jndiProperties);\r\n    return (ServiceArchiveEntryPoint) context.lookup(&quot;ejb:BIServeurMetier/BIServeurMetier//ServiceArchiveEntryPointBean!com.al6.bi.business.ServiceArchiveEntryPoint&quot;);\r\n\r\nIn my first tries before that code, it doesn&#39;t work.\r\nI think it was because I don&#39;t put the correct path.\r\nThe rule seems to be : \r\n\r\n    context.lookup(&quot;ejb:&quot; + appName + &quot;/&quot; + moduleName + &quot;/&quot; + distinctName + &quot;/&quot; + beanName + &quot;!&quot; + viewClassName);\r\n\r\nBefore that, I don&#39;t put a &quot;distinctName&quot;, but it seems that if we don&#39;t have one, just put a empty string, so it gives in my case &quot;//&quot;.\r\n\r\nMaybe it was that, maybe it was the &quot;ejb:&quot; prefix, I don&#39;t know which change make it works, but it works now.","title":"Migrate from Jboss 4.2.3 to Wildfly 8","body":"<p>In addition to ehsavoie answer, I needed to trick a few things to make it works.</p>\n<p>I follow the tutorial here :</p>\n<p><a href=\"https://docs.jboss.org/author/display/WFLY10/EJB%20invocations%20from%20a%20remote%20client%20using%20JNDI.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/WFLY10/EJB%20invocations%20from%20a%20remote%20client%20using%20JNDI.html</a></p>\n<p>And here :</p>\n<p><a href=\"https://docs.jboss.org/author/display/WFLY10/Remote%20JNDI%20Reference%20Update%20Draft.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/WFLY10/Remote%20JNDI%20Reference%20Update%20Draft.html</a></p>\n<p>In fact, in my case, I don't need http remoting mode, just a simple EJB mode, so no complex parameters to put in JNDI.properties.</p>\n<p>I delete my jndi.properties file, and just update the code to :</p>\n<pre><code>final Hashtable jndiProperties = new Hashtable();\njndiProperties.put(Context.URL_PKG_PREFIXES, &quot;org.jboss.ejb.client.naming&quot;);\nfinal Context context = new InitialContext(jndiProperties);\nreturn (ServiceArchiveEntryPoint) context.lookup(&quot;ejb:BIServeurMetier/BIServeurMetier//ServiceArchiveEntryPointBean!com.al6.bi.business.ServiceArchiveEntryPoint&quot;);\n</code></pre>\n<p>In my first tries before that code, it doesn't work.\nI think it was because I don't put the correct path.\nThe rule seems to be :</p>\n<pre><code>context.lookup(&quot;ejb:&quot; + appName + &quot;/&quot; + moduleName + &quot;/&quot; + distinctName + &quot;/&quot; + beanName + &quot;!&quot; + viewClassName);\n</code></pre>\n<p>Before that, I don't put a &quot;distinctName&quot;, but it seems that if we don't have one, just put a empty string, so it gives in my case &quot;//&quot;.</p>\n<p>Maybe it was that, maybe it was the &quot;ejb:&quot; prefix, I don't know which change make it works, but it works now.</p>\n"}],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72777761,"answer_count":2,"score":0,"last_activity_date":1656360374,"creation_date":1656084000,"question_id":72746187,"body_markdown":"I&#39;m trying to migrate a very old java application from Jboss 4.2.3 to Wildfly 8.\r\nI just installed the Wildfly server and the minimal config things.\r\n\r\nIn my App, my JNDI.properties file was : \r\n\r\n    java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory\r\n    java.naming.factory.url.pkgs=org.jboss.naming:org.jnp.interfaces\r\n    java.naming.provider.url=localhost:1099\r\n\r\nSo I updated it to simply : \r\n\r\n    java.naming.factory.url.pkgs=org.jboss.ejb.client.naming\r\n\r\nThe code which call the EJB was : \r\n\r\n    Properties ht = new Properties();\r\n    ht.load(BIServicesImpl.class.getClassLoader().getResourceAsStream(&quot;jndi.properties&quot;));\r\n    Context context = new InitialContext(ht);\r\n    return (ServiceEntryPoint) context.lookup(&quot;BIServeurMetier/ServiceEntryPointBean/remote&quot;);\r\n\r\nThe JNDI path have changed in Wildfly 8 so I used : \r\n\r\n    Properties ht = new Properties();\r\n    ht.load(BIServicesImpl.class.getClassLoader().getResourceAsStream(&quot;jndi.properties&quot;));\r\n    Context context = new InitialContext(ht);\r\n    return (ServiceEntryPoint) context.lookup(&quot;BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint&quot;); \r\n\r\nI deploy my application war into it, and start it, it runs pretty well  : \r\n\r\n    2022-06-27 16:21:00,773 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-3) JNDI bindings for session bean named ServiceEntryPointBean in deployment unit subdeployment &quot;BIServeurMetier.jar&quot; of deployment &quot;BIServeurMetier.ear&quot; are as follows:\r\n    \r\n    \tjava:global/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\r\n    \tjava:app/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\r\n    \tjava:module/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\r\n    \tjava:jboss/exported/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\r\n    \tjava:global/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean\r\n    \tjava:app/BIServeurMetier/ServiceEntryPointBean\r\n    \tjava:module/ServiceEntryPointBean\r\n\r\nSo the EJB seams to be fine and deployed.\r\nBut when I try to do any action on the app, I have this error : \r\n\r\n    2022-06-27 16:21:41,536 ERROR [stderr] (default task-25) javax.naming.NameNotFoundException: BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint -- service jboss.naming.context.java.BIServeurMetier.BIServeurMetier.&quot;ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint&quot;\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:104)\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.NamingContext.lookup(NamingContext.java:202)\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:233)\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188)\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)\r\n    2022-06-27 16:21:41,538 ERROR [stderr] (default task-25) \tat javax.naming.InitialContext.lookup(InitialContext.java:417)\r\n    2022-06-27 16:21:41,538 ERROR [stderr] (default task-25) \tat javax.naming.InitialContext.lookup(InitialContext.java:417)\r\n    2022-06-27 16:21:41,539 ERROR [stderr] (default task-25) \tat com.al6.bi.gwt.server.BIServicesImpl.buildBusinessServices(BIServicesImpl.java:227)\r\n    2022-06-27 16:21:41,539 ERROR [stderr] (default task-25) \tat com.al6.bi.gwt.server.BIServicesImpl.&lt;init&gt;(BIServicesImpl.java:213)\r\n    2022-06-27 16:21:41,539 ERROR [stderr] (default task-25) \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    2022-06-27 16:21:41,539 ERROR [stderr] (default task-25) \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    2022-06-27 16:21:41,540 ERROR [stderr] (default task-25) \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    2022-06-27 16:21:41,540 ERROR [stderr] (default task-25) \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    2022-06-27 16:21:41,541 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.ConstructorComponentFactory.create(ConstructorComponentFactory.java:24)\r\n    2022-06-27 16:21:41,541 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.ComponentInstantiatorInterceptor.processInvocation(ComponentInstantiatorInterceptor.java:68)\r\n    2022-06-27 16:21:41,541 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,542 ERROR [stderr] (default task-25) \tat org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)\r\n    2022-06-27 16:21:41,542 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:26)\r\n    2022-06-27 16:21:41,543 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,543 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\r\n    2022-06-27 16:21:41,544 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,544 ERROR [stderr] (default task-25) \tat org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)\r\n    2022-06-27 16:21:41,544 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,544 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)\r\n    2022-06-27 16:21:41,545 ERROR [stderr] (default task-25) \tat org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)\r\n    2022-06-27 16:21:41,545 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,545 ERROR [stderr] (default task-25) \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)\r\n    2022-06-27 16:21:41,545 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:160)\r\n    2022-06-27 16:21:41,547 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:133)\r\n    2022-06-27 16:21:41,547 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:89)\r\n    2022-06-27 16:21:41,547 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.ComponentRegistry$ComponentManagedReferenceFactory.getReference(ComponentRegistry.java:149)\r\n    2022-06-27 16:21:41,547 ERROR [stderr] (default task-25) \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$5.createInstance(UndertowDeploymentInfoService.java:1233)\r\n    2022-06-27 16:21:41,548 ERROR [stderr] (default task-25) \tat io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:215)\r\n    2022-06-27 16:21:41,548 ERROR [stderr] (default task-25) \tat io.undertow.servlet.core.ManagedServlet.getServlet(ManagedServlet.java:163)\r\n    2022-06-27 16:21:41,548 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\r\n    2022-06-27 16:21:41,548 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat com.al6.bi.gwt.server.security.BasicSessionFilter.doFilter(BasicSessionFilter.java:60)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    2022-06-27 16:21:41,550 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    2022-06-27 16:21:41,550 ERROR [stderr] (default task-25) \tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n    2022-06-27 16:21:41,550 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,550 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\r\n    2022-06-27 16:21:41,552 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)\r\n    2022-06-27 16:21:41,553 ERROR [stderr] (default task-25) \tat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\r\n    2022-06-27 16:21:41,553 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,554 ERROR [stderr] (default task-25) \tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n    2022-06-27 16:21:41,556 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,557 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,559 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)\r\n    2022-06-27 16:21:41,559 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248)\r\n    2022-06-27 16:21:41,564 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77)\r\n    2022-06-27 16:21:41,565 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167)\r\n    2022-06-27 16:21:41,565 ERROR [stderr] (default task-25) \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)\r\n    2022-06-27 16:21:41,565 ERROR [stderr] (default task-25) \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761)\r\n    2022-06-27 16:21:41,565 ERROR [stderr] (default task-25) \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    2022-06-27 16:21:41,566 ERROR [stderr] (default task-25) \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    2022-06-27 16:21:41,566 ERROR [stderr] (default task-25) \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nThe path of EJB seems to be good because it is displayed at the beginning of the server log when the server starts.\r\nSo what I&#39;m doing wrong ?\r\n\r\nI also check via the management console in JNDI, my EJB are here and listed.","title":"Migrate from Jboss 4.2.3 to Wildfly 8","body":"<p>I'm trying to migrate a very old java application from Jboss 4.2.3 to Wildfly 8.\nI just installed the Wildfly server and the minimal config things.</p>\n<p>In my App, my JNDI.properties file was :</p>\n<pre><code>java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory\njava.naming.factory.url.pkgs=org.jboss.naming:org.jnp.interfaces\njava.naming.provider.url=localhost:1099\n</code></pre>\n<p>So I updated it to simply :</p>\n<pre><code>java.naming.factory.url.pkgs=org.jboss.ejb.client.naming\n</code></pre>\n<p>The code which call the EJB was :</p>\n<pre><code>Properties ht = new Properties();\nht.load(BIServicesImpl.class.getClassLoader().getResourceAsStream(&quot;jndi.properties&quot;));\nContext context = new InitialContext(ht);\nreturn (ServiceEntryPoint) context.lookup(&quot;BIServeurMetier/ServiceEntryPointBean/remote&quot;);\n</code></pre>\n<p>The JNDI path have changed in Wildfly 8 so I used :</p>\n<pre><code>Properties ht = new Properties();\nht.load(BIServicesImpl.class.getClassLoader().getResourceAsStream(&quot;jndi.properties&quot;));\nContext context = new InitialContext(ht);\nreturn (ServiceEntryPoint) context.lookup(&quot;BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint&quot;); \n</code></pre>\n<p>I deploy my application war into it, and start it, it runs pretty well  :</p>\n<pre><code>2022-06-27 16:21:00,773 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-3) JNDI bindings for session bean named ServiceEntryPointBean in deployment unit subdeployment &quot;BIServeurMetier.jar&quot; of deployment &quot;BIServeurMetier.ear&quot; are as follows:\n\n    java:global/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\n    java:app/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\n    java:module/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\n    java:jboss/exported/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\n    java:global/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean\n    java:app/BIServeurMetier/ServiceEntryPointBean\n    java:module/ServiceEntryPointBean\n</code></pre>\n<p>So the EJB seams to be fine and deployed.\nBut when I try to do any action on the app, I have this error :</p>\n<pre><code>2022-06-27 16:21:41,536 ERROR [stderr] (default task-25) javax.naming.NameNotFoundException: BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint -- service jboss.naming.context.java.BIServeurMetier.BIServeurMetier.&quot;ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint&quot;\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:104)\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:202)\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:233)\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188)\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)\n2022-06-27 16:21:41,538 ERROR [stderr] (default task-25)    at javax.naming.InitialContext.lookup(InitialContext.java:417)\n2022-06-27 16:21:41,538 ERROR [stderr] (default task-25)    at javax.naming.InitialContext.lookup(InitialContext.java:417)\n2022-06-27 16:21:41,539 ERROR [stderr] (default task-25)    at com.al6.bi.gwt.server.BIServicesImpl.buildBusinessServices(BIServicesImpl.java:227)\n2022-06-27 16:21:41,539 ERROR [stderr] (default task-25)    at com.al6.bi.gwt.server.BIServicesImpl.&lt;init&gt;(BIServicesImpl.java:213)\n2022-06-27 16:21:41,539 ERROR [stderr] (default task-25)    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n2022-06-27 16:21:41,539 ERROR [stderr] (default task-25)    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n2022-06-27 16:21:41,540 ERROR [stderr] (default task-25)    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n2022-06-27 16:21:41,540 ERROR [stderr] (default task-25)    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n2022-06-27 16:21:41,541 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.ConstructorComponentFactory.create(ConstructorComponentFactory.java:24)\n2022-06-27 16:21:41,541 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.ComponentInstantiatorInterceptor.processInvocation(ComponentInstantiatorInterceptor.java:68)\n2022-06-27 16:21:41,541 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,542 ERROR [stderr] (default task-25)    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)\n2022-06-27 16:21:41,542 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:26)\n2022-06-27 16:21:41,543 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,543 ERROR [stderr] (default task-25)    at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\n2022-06-27 16:21:41,544 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,544 ERROR [stderr] (default task-25)    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)\n2022-06-27 16:21:41,544 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,544 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)\n2022-06-27 16:21:41,545 ERROR [stderr] (default task-25)    at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)\n2022-06-27 16:21:41,545 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,545 ERROR [stderr] (default task-25)    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)\n2022-06-27 16:21:41,545 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:160)\n2022-06-27 16:21:41,547 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:133)\n2022-06-27 16:21:41,547 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:89)\n2022-06-27 16:21:41,547 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.ComponentRegistry$ComponentManagedReferenceFactory.getReference(ComponentRegistry.java:149)\n2022-06-27 16:21:41,547 ERROR [stderr] (default task-25)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$5.createInstance(UndertowDeploymentInfoService.java:1233)\n2022-06-27 16:21:41,548 ERROR [stderr] (default task-25)    at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:215)\n2022-06-27 16:21:41,548 ERROR [stderr] (default task-25)    at io.undertow.servlet.core.ManagedServlet.getServlet(ManagedServlet.java:163)\n2022-06-27 16:21:41,548 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\n2022-06-27 16:21:41,548 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at com.al6.bi.gwt.server.security.BasicSessionFilter.doFilter(BasicSessionFilter.java:60)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n2022-06-27 16:21:41,550 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n2022-06-27 16:21:41,550 ERROR [stderr] (default task-25)    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n2022-06-27 16:21:41,550 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,550 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\n2022-06-27 16:21:41,552 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)\n2022-06-27 16:21:41,553 ERROR [stderr] (default task-25)    at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\n2022-06-27 16:21:41,553 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,554 ERROR [stderr] (default task-25)    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n2022-06-27 16:21:41,556 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,557 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,559 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)\n2022-06-27 16:21:41,559 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248)\n2022-06-27 16:21:41,564 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77)\n2022-06-27 16:21:41,565 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167)\n2022-06-27 16:21:41,565 ERROR [stderr] (default task-25)    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)\n2022-06-27 16:21:41,565 ERROR [stderr] (default task-25)    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761)\n2022-06-27 16:21:41,565 ERROR [stderr] (default task-25)    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2022-06-27 16:21:41,566 ERROR [stderr] (default task-25)    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2022-06-27 16:21:41,566 ERROR [stderr] (default task-25)    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>The path of EJB seems to be good because it is displayed at the beginning of the server log when the server starts.\nSo what I'm doing wrong ?</p>\n<p>I also check via the management console in JNDI, my EJB are here and listed.</p>\n"},{"tags":["java","security","java-8","ejb","fortify"],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656359760,"creation_date":1656359760,"answer_id":72777657,"question_id":72777362,"body_markdown":"Do you expect all fields to be present in request? You are using `@Valid` annotation but there are no validation annotations in `MyClassRequest` model. Try to add some validation annotations like `@JsonIgnore` for non mandatory fields. Or `@JsonInclude` on class. If this does not help, may be also try explicitly adding `@JsonProperty` on each field.","title":"Mass Assignment: Insecure Binder Configuration with Fortify Java 1.8 EJB","body":"<p>Do you expect all fields to be present in request? You are using <code>@Valid</code> annotation but there are no validation annotations in <code>MyClassRequest</code> model. Try to add some validation annotations like <code>@JsonIgnore</code> for non mandatory fields. Or <code>@JsonInclude</code> on class. If this does not help, may be also try explicitly adding <code>@JsonProperty</code> on each field.</p>\n"}],"owner":{"account_id":1417305,"reputation":747,"user_id":1342664,"accept_rate":67,"display_name":"EliasM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1773,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72777657,"answer_count":1,"score":-1,"last_activity_date":1656359760,"creation_date":1656357754,"question_id":72777362,"body_markdown":"I am trying to solve some vulnerabilities issues, and I have one that I couldn&#39;t solve it, I tried to add @Valid annotation in sync method but same error, this is the description from fortify:\r\n\r\n&gt; The framework binder used for binding the HTTP request parameters to\r\n&gt; the model class has not been explicitly configured to allow, or\r\n&gt; disallow certain attributes.\r\n&gt; \r\n&gt; To ease development and increase productivity, most modern frameworks\r\n&gt; allow an object to be automatically instantiated and populated with\r\n&gt; the HTTP request parameters whose names match an attribute of the\r\n&gt; class to be bound. Automatic instantiation and population of objects\r\n&gt; speeds up development, but can lead to serious problems if implemented\r\n&gt; without caution. Any attribute in the bound classes, or nested\r\n&gt; classes, will be automatically bound to the HTTP request parameters.\r\n&gt; Therefore, malicious users will be able to assign a value to any\r\n&gt; attribute in bound or nested classes, even if they are not exposed to\r\n&gt; the client through web forms or API contracts.\r\n\r\nThe error I am getting in this line: \r\n\r\n&gt; public ResponseClass sync(@BeanParam MyClassRequest request) throws\r\n&gt; Exception {\r\n\r\n\r\n\r\nMyClassResource.java\r\n\r\n    @Api(tags = &quot;Relay&quot;)\r\n    @Stateless\r\n    public class MyClassResource extends AbstractService&lt;MyClassRequest, ResponseClass&gt; {\r\n     \r\n        @EJB\r\n        private MyClassService myClassService;\r\n    \r\n        @POST\r\n        @Path(&quot;/api/v1/service&quot;)\r\n        @Produces({&quot;application/json&quot;})\r\n        @ApiOperation(value = &quot;Processes Conn&quot;,\r\n                response = ResponseClass.class, responseContainer = &quot;ResponseClass&quot;, hidden = true)\r\n        @Override\r\n        public ResponseClass sync(@BeanParam MyClassRequest request) throws Exception {\r\n            myClassService.processFeed(request);\r\n            return new RelayResponse(HttpStatuses.ACCEPTED.getStatus());\r\n        }\r\n\r\n\r\nMyClassRequest.java\r\n\r\nIn this file I have tried @FormParam(&quot;ccc&quot;) but same\r\n\r\n    public class MyClassRequest extends RelayRequest {\r\n    \r\n        public MyClassRequest() {\r\n            super.setMessageType(&quot;not required&quot;);\r\n        }\r\n\r\n        private String myData;\r\n        private String conneRid;\r\n        private String connectionCreatedDate;\r\n\r\nIf someone could give some hint that how I can solve it, I will really appreciate it.","title":"Mass Assignment: Insecure Binder Configuration with Fortify Java 1.8 EJB","body":"<p>I am trying to solve some vulnerabilities issues, and I have one that I couldn't solve it, I tried to add @Valid annotation in sync method but same error, this is the description from fortify:</p>\n<blockquote>\n<p>The framework binder used for binding the HTTP request parameters to\nthe model class has not been explicitly configured to allow, or\ndisallow certain attributes.</p>\n<p>To ease development and increase productivity, most modern frameworks\nallow an object to be automatically instantiated and populated with\nthe HTTP request parameters whose names match an attribute of the\nclass to be bound. Automatic instantiation and population of objects\nspeeds up development, but can lead to serious problems if implemented\nwithout caution. Any attribute in the bound classes, or nested\nclasses, will be automatically bound to the HTTP request parameters.\nTherefore, malicious users will be able to assign a value to any\nattribute in bound or nested classes, even if they are not exposed to\nthe client through web forms or API contracts.</p>\n</blockquote>\n<p>The error I am getting in this line:</p>\n<blockquote>\n<p>public ResponseClass sync(@BeanParam MyClassRequest request) throws\nException {</p>\n</blockquote>\n<p>MyClassResource.java</p>\n<pre><code>@Api(tags = &quot;Relay&quot;)\n@Stateless\npublic class MyClassResource extends AbstractService&lt;MyClassRequest, ResponseClass&gt; {\n \n    @EJB\n    private MyClassService myClassService;\n\n    @POST\n    @Path(&quot;/api/v1/service&quot;)\n    @Produces({&quot;application/json&quot;})\n    @ApiOperation(value = &quot;Processes Conn&quot;,\n            response = ResponseClass.class, responseContainer = &quot;ResponseClass&quot;, hidden = true)\n    @Override\n    public ResponseClass sync(@BeanParam MyClassRequest request) throws Exception {\n        myClassService.processFeed(request);\n        return new RelayResponse(HttpStatuses.ACCEPTED.getStatus());\n    }\n</code></pre>\n<p>MyClassRequest.java</p>\n<p>In this file I have tried @FormParam(&quot;ccc&quot;) but same</p>\n<pre><code>public class MyClassRequest extends RelayRequest {\n\n    public MyClassRequest() {\n        super.setMessageType(&quot;not required&quot;);\n    }\n\n    private String myData;\n    private String conneRid;\n    private String connectionCreatedDate;\n</code></pre>\n<p>If someone could give some hint that how I can solve it, I will really appreciate it.</p>\n"},{"tags":["java","android","android-layout","listview","android-arrayadapter"],"answers":[{"tags":[],"owner":{"account_id":6305344,"reputation":2779,"user_id":4898562,"display_name":"i_A_mok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655997072,"creation_date":1655997072,"answer_id":72732521,"question_id":72707730,"body_markdown":"Try this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:scrollbarAlwaysDrawVerticalTrack=&quot;true&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;start&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;15dp&quot;\r\n        android:scrollbars=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_recipe_txt&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/txt_recipe_entry_txt&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/pancake_ingredients&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;15dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/pancake_ingredients&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n        &lt;ListView\r\n            android:id=&quot;@+id/listViewIngredients&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/pancake_preparation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;15dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/pancake_preparation&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n        &lt;ListView\r\n            android:id=&quot;@+id/listViewPreparation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;","title":"How can i set the layout_height from ListViews in conditon of the number of items in a string-array","body":"<p>Try this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:scrollbarAlwaysDrawVerticalTrack=&quot;true&quot;&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/linearLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;start&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;15dp&quot;\n    android:scrollbars=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_recipe_txt&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/txt_recipe_entry_txt&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/pancake_ingredients&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;15dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/pancake_ingredients&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listViewIngredients&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/pancake_preparation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;15dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/pancake_preparation&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listViewPreparation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"}],"owner":{"account_id":1237553,"reputation":109,"user_id":1200840,"accept_rate":48,"display_name":"amarradi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656359552,"creation_date":1655850317,"question_id":72707730,"body_markdown":"Good evening,\r\n\r\nI have an Android app with two ListView elements on a layout. between them is a TextView element. The whole is framed by a LinearLayout and a ScrollView and a ConstraintLayout.\r\n\r\n**activity_recipe.xml**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:scrollbarAlwaysDrawVerticalTrack=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;start&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:padding=&quot;15dp&quot;\r\n\r\n            android:scrollbars=&quot;vertical&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_recipe_txt&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/txt_recipe_entry_txt&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/pancake_ingredients&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;15dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/pancake_ingredients&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n            &lt;ListView\r\n                android:id=&quot;@+id/listViewIngredients&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;/ListView&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/pancake_preparation&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;15dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/pancake_preparation&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n            &lt;ListView\r\n                android:id=&quot;@+id/listViewPreparation&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nDie Daten f&#252;r die ListViews werden aus zwei ```string-array``` geladen.\r\nIn meiner Activity arbeite ich mit einem ``&#192;rrayAdapter```\r\n\r\n**RecipeActivity.java**\r\n\r\n\r\n```java\r\npackage com.git.amarradi.palatschinkencounter;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class RecipeActivity extends AppCompatActivity {\r\n    ListView listView_Ingredients;\r\n    ListView listView_Preparation;\r\n    String[] listItem_ingredients;\r\n    String[] listItem_Preparation;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_recipe);\r\n        listView_Ingredients = (ListView) findViewById(R.id.listViewIngredients);\r\n        listView_Preparation = (ListView) findViewById(R.id.listViewPreparation);\r\n\r\n\r\n        listItem_ingredients = getResources().getStringArray(R.array.ingredients_array);\r\n        listItem_Preparation = getResources().getStringArray(R.array.preparation_array);\r\n        final ArrayAdapter&lt;String&gt; arrayAdapter_Ingredients = new ArrayAdapter&lt;&gt;(this,\r\n                R.layout.simple_list_item_1, listItem_ingredients);\r\n        listView_Ingredients.setAdapter(arrayAdapter_Ingredients);\r\n\r\n        final ArrayAdapter&lt;String&gt; arrayAdapter_Preparation = new ArrayAdapter&lt;&gt;(this,\r\n                R.layout.simple_list_item_1,listItem_Preparation);\r\n        listView_Preparation.setAdapter(arrayAdapter_Preparation);\r\n\r\n    }\r\n}\r\n```\r\n\r\nNow to my question, why I am hanging with the layout.\r\nHow can I set the height of the ```ListViews``` so that all data can be loaded without scrolling. I have taken extra ScrollView for this, but the from the ```ListView``` \r\n\r\n```xml\r\nandroid:layout_height=&quot;wrap_content&quot;\r\n```\r\n\r\nremains single-line.\r\n\r\nWhat is the best way to do such things?\r\nI have the ```ScrollView``` right after the ```ConstraintLayout``` so i can scroll through the page. Where is my mistake in logic?\r\n\r\nMaybe someone can help me. That would be very kind. I say now already many thanks.\r\n\r\nThe new Activity_recipe.xml\r\n\r\n**activity_recipe.xml**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fillViewport=&quot;true&quot;\r\n    android:overScrollMode=&quot;always&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:paddingBottom=&quot;8dp&quot;\r\n        android:text=&quot;@string/txt_recipe_entry_txt&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:paddingBottom=&quot;8dp&quot;\r\n            android:text=&quot;@string/pancake_ingredients&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n            /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView_ingredients&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:paddingBottom=&quot;8dp&quot;\r\n        android:text=&quot;@string/pancake_preparation&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:scrollbarAlwaysDrawVerticalTrack=&quot;false&quot;\r\n        android:id=&quot;@+id/RecyclerView_preparation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textViewThanks&quot;\r\n        android:text=&quot;@string/thanks&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n&lt;/androidx.core.widget.NestedScrollView&gt;\r\n```\r\n\r\nThe new RecipeActivity.java\r\n\r\n**RecipeActivity.java**\r\n\r\n```java\r\n\r\n    package com.git.amarradi.palatschinkencounter;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class RecipeActivity extends AppCompatActivity {\r\n    \r\n        ArrayList&lt;IngredientsModel&gt; ingredientsModels = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;PreparationModel&gt; preparationModels = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_recipe);\r\n    \r\n            RecyclerView recyclerView_Ingredients = findViewById(R.id.recyclerView_ingredients);\r\n    \r\n            setupIngredientsModels();\r\n    \r\n            RecylerIngredientsViewAdapter recylerIngredientsViewAdapter =\r\n                    new RecylerIngredientsViewAdapter(this,ingredientsModels);\r\n            recyclerView_Ingredients.setAdapter(recylerIngredientsViewAdapter);\r\n            recyclerView_Ingredients.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n    \r\n            RecyclerView recyclerView_Preparation = findViewById(R.id.RecyclerView_preparation);\r\n    \r\n            setupPreparationModels();\r\n            RecylerPreparationViewAdapter recylerPreparationViewAdapter =\r\n                    new RecylerPreparationViewAdapter(this,preparationModels);\r\n            recyclerView_Preparation.setNestedScrollingEnabled(false);\r\n            recyclerView_Preparation.setAdapter(recylerPreparationViewAdapter);\r\n            recyclerView_Preparation.setLayoutManager(new LinearLayoutManager(this));\r\n        }\r\n    \r\n        private void setupPreparationModels() {\r\n            String[] strings_preparation = getResources().getStringArray(R.array.preparation_array);\r\n            for (String s : strings_preparation) {\r\n                preparationModels.add(new PreparationModel(s));\r\n            }\r\n        }\r\n    \r\n        public void setupIngredientsModels(){\r\n            String[] strings_ingredients = getResources().getStringArray(R.array.ingredients_array);\r\n            for (String strings_ingredient : strings_ingredients) {\r\n                ingredientsModels.add(new IngredientsModel(strings_ingredient));\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n```\r\n\r\nI added two RecylerView -Adapter, for every ArrayList one adapter\r\n\r\n```java\r\n\r\npackage com.git.amarradi.palatschinkencounter;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecylerIngredientsViewAdapter extends RecyclerView.Adapter&lt;RecylerIngredientsViewAdapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;IngredientsModel&gt; ingredientsModels;\r\n\r\n    public RecylerIngredientsViewAdapter(Context context, ArrayList&lt;IngredientsModel&gt; ingredientsModels) {\r\n        this.context = context;\r\n        this.ingredientsModels = ingredientsModels;\r\n\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView CVtextView;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            CVtextView = itemView.findViewById(R.id.CVtextView);\r\n        }\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public RecylerIngredientsViewAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.recycler_view_row, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecylerIngredientsViewAdapter.MyViewHolder holder, int position) {\r\n\r\n        holder.CVtextView.setText(ingredientsModels.get(position).getIngredientsLine());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        Log.d(&quot;getItemCount&quot;, String.valueOf(ingredientsModels.size()) );\r\n        return ingredientsModels.size();\r\n    }\r\n\r\n\r\n}\r\n``` \r\n\r\nI have also created two small models\r\n\r\n```java\r\n\r\n    package com.git.amarradi.palatschinkencounter;\r\n\r\npublic class PreparationModel {\r\n    private final String preparationLine;\r\n\r\n    public PreparationModel(String preparationLine) {\r\n        this.preparationLine = preparationLine;\r\n    }\r\n\r\n    public String getPreparationLine() {\r\n        return preparationLine;\r\n    }\r\n}\r\n```\r\n\r\nAnd my row_view\r\n\r\n**recycler_view_row.xml**\r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:cardCornerRadius=&quot;2dp&quot;\r\n\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TextView\r\n\r\n                android:paddingStart=&quot;8dp&quot;\r\n                android:paddingEnd=&quot;0dp&quot;\r\n                android:paddingBottom=&quot;16dp&quot;\r\n                android:id=&quot;@+id/CVtextView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"How can i set the layout_height from ListViews in conditon of the number of items in a string-array","body":"<p>Good evening,</p>\n<p>I have an Android app with two ListView elements on a layout. between them is a TextView element. The whole is framed by a LinearLayout and a ScrollView and a ConstraintLayout.</p>\n<p><strong>activity_recipe.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:scrollbarAlwaysDrawVerticalTrack=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/linearLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;start&quot;\n            android:orientation=&quot;vertical&quot;\n            android:padding=&quot;15dp&quot;\n\n            android:scrollbars=&quot;vertical&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_recipe_txt&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/txt_recipe_entry_txt&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/pancake_ingredients&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;15dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/pancake_ingredients&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n            &lt;ListView\n                android:id=&quot;@+id/listViewIngredients&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;/ListView&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/pancake_preparation&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;15dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/pancake_preparation&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n            &lt;ListView\n                android:id=&quot;@+id/listViewPreparation&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Die Daten für die ListViews werden aus zwei <code>string-array</code> geladen.\nIn meiner Activity arbeite ich mit einem ``ÀrrayAdapter```</p>\n<p><strong>RecipeActivity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.git.amarradi.palatschinkencounter;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class RecipeActivity extends AppCompatActivity {\n    ListView listView_Ingredients;\n    ListView listView_Preparation;\n    String[] listItem_ingredients;\n    String[] listItem_Preparation;\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_recipe);\n        listView_Ingredients = (ListView) findViewById(R.id.listViewIngredients);\n        listView_Preparation = (ListView) findViewById(R.id.listViewPreparation);\n\n\n        listItem_ingredients = getResources().getStringArray(R.array.ingredients_array);\n        listItem_Preparation = getResources().getStringArray(R.array.preparation_array);\n        final ArrayAdapter&lt;String&gt; arrayAdapter_Ingredients = new ArrayAdapter&lt;&gt;(this,\n                R.layout.simple_list_item_1, listItem_ingredients);\n        listView_Ingredients.setAdapter(arrayAdapter_Ingredients);\n\n        final ArrayAdapter&lt;String&gt; arrayAdapter_Preparation = new ArrayAdapter&lt;&gt;(this,\n                R.layout.simple_list_item_1,listItem_Preparation);\n        listView_Preparation.setAdapter(arrayAdapter_Preparation);\n\n    }\n}\n</code></pre>\n<p>Now to my question, why I am hanging with the layout.\nHow can I set the height of the <code>ListViews</code> so that all data can be loaded without scrolling. I have taken extra ScrollView for this, but the from the <code>ListView</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>android:layout_height=&quot;wrap_content&quot;\n</code></pre>\n<p>remains single-line.</p>\n<p>What is the best way to do such things?\nI have the <code>ScrollView</code> right after the <code>ConstraintLayout</code> so i can scroll through the page. Where is my mistake in logic?</p>\n<p>Maybe someone can help me. That would be very kind. I say now already many thanks.</p>\n<p>The new Activity_recipe.xml</p>\n<p><strong>activity_recipe.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fillViewport=&quot;true&quot;\n    android:overScrollMode=&quot;always&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:paddingBottom=&quot;8dp&quot;\n        android:text=&quot;@string/txt_recipe_entry_txt&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView3&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:paddingBottom=&quot;8dp&quot;\n            android:text=&quot;@string/pancake_ingredients&quot;\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\n            /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView_ingredients&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView4&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:paddingBottom=&quot;8dp&quot;\n        android:text=&quot;@string/pancake_preparation&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:scrollbarAlwaysDrawVerticalTrack=&quot;false&quot;\n        android:id=&quot;@+id/RecyclerView_preparation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewThanks&quot;\n        android:text=&quot;@string/thanks&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p>The new RecipeActivity.java</p>\n<p><strong>RecipeActivity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    package com.git.amarradi.palatschinkencounter;\n    \n    import android.os.Bundle;\n    \n    import androidx.annotation.Nullable;\n    import androidx.appcompat.app.AppCompatActivity;\n    import androidx.recyclerview.widget.LinearLayoutManager;\n    import androidx.recyclerview.widget.RecyclerView;\n    \n    import java.util.ArrayList;\n    \n    public class RecipeActivity extends AppCompatActivity {\n    \n        ArrayList&lt;IngredientsModel&gt; ingredientsModels = new ArrayList&lt;&gt;();\n        ArrayList&lt;PreparationModel&gt; preparationModels = new ArrayList&lt;&gt;();\n    \n        @Override\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_recipe);\n    \n            RecyclerView recyclerView_Ingredients = findViewById(R.id.recyclerView_ingredients);\n    \n            setupIngredientsModels();\n    \n            RecylerIngredientsViewAdapter recylerIngredientsViewAdapter =\n                    new RecylerIngredientsViewAdapter(this,ingredientsModels);\n            recyclerView_Ingredients.setAdapter(recylerIngredientsViewAdapter);\n            recyclerView_Ingredients.setLayoutManager(new LinearLayoutManager(this));\n    \n    \n            RecyclerView recyclerView_Preparation = findViewById(R.id.RecyclerView_preparation);\n    \n            setupPreparationModels();\n            RecylerPreparationViewAdapter recylerPreparationViewAdapter =\n                    new RecylerPreparationViewAdapter(this,preparationModels);\n            recyclerView_Preparation.setNestedScrollingEnabled(false);\n            recyclerView_Preparation.setAdapter(recylerPreparationViewAdapter);\n            recyclerView_Preparation.setLayoutManager(new LinearLayoutManager(this));\n        }\n    \n        private void setupPreparationModels() {\n            String[] strings_preparation = getResources().getStringArray(R.array.preparation_array);\n            for (String s : strings_preparation) {\n                preparationModels.add(new PreparationModel(s));\n            }\n        }\n    \n        public void setupIngredientsModels(){\n            String[] strings_ingredients = getResources().getStringArray(R.array.ingredients_array);\n            for (String strings_ingredient : strings_ingredients) {\n                ingredientsModels.add(new IngredientsModel(strings_ingredient));\n            }\n        }\n    \n    }\n\n</code></pre>\n<p>I added two RecylerView -Adapter, for every ArrayList one adapter</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.git.amarradi.palatschinkencounter;\n\nimport android.content.Context;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class RecylerIngredientsViewAdapter extends RecyclerView.Adapter&lt;RecylerIngredientsViewAdapter.MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;IngredientsModel&gt; ingredientsModels;\n\n    public RecylerIngredientsViewAdapter(Context context, ArrayList&lt;IngredientsModel&gt; ingredientsModels) {\n        this.context = context;\n        this.ingredientsModels = ingredientsModels;\n\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView CVtextView;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            CVtextView = itemView.findViewById(R.id.CVtextView);\n        }\n    }\n    \n    @NonNull\n    @Override\n    public RecylerIngredientsViewAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.recycler_view_row, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecylerIngredientsViewAdapter.MyViewHolder holder, int position) {\n\n        holder.CVtextView.setText(ingredientsModels.get(position).getIngredientsLine());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        Log.d(&quot;getItemCount&quot;, String.valueOf(ingredientsModels.size()) );\n        return ingredientsModels.size();\n    }\n\n\n}\n</code></pre>\n<p>I have also created two small models</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    package com.git.amarradi.palatschinkencounter;\n\npublic class PreparationModel {\n    private final String preparationLine;\n\n    public PreparationModel(String preparationLine) {\n        this.preparationLine = preparationLine;\n    }\n\n    public String getPreparationLine() {\n        return preparationLine;\n    }\n}\n</code></pre>\n<p>And my row_view</p>\n<p><strong>recycler_view_row.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:cardCornerRadius=&quot;2dp&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;TextView\n\n                android:paddingStart=&quot;8dp&quot;\n                android:paddingEnd=&quot;0dp&quot;\n                android:paddingBottom=&quot;16dp&quot;\n                android:id=&quot;@+id/CVtextView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","networking","jboss","dns","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1594478744,"creation_date":1402613817,"answer_id":24195155,"question_id":24188992,"body_markdown":"This is most likely a network management, change / configuration management or general system administration problem rather than a  programming problem.\r\n\r\n&gt; It was working before without adding that entry but all of a sudden it stopped working.\r\n\r\nOne approach is to try to figure out what changed to cause it to stop working.  This is not the kind of thing that would happen spontaneously.  Someone or something has changed some software or configurations to make this happen.  Start with when it stopped (or when you noticed) and work back through your change logs.\r\n\r\nIt *sounds like* it is an issue with the Java DNS resolution procedure.  It appears that the resolver is either not trying to talk to the normal DNS servers, or it is trying and failing.  \r\n\r\nWe can&#39;t debug it for you, but I found these resources that help to explain what should be happening when you do a name lookup in Java, and offer some ideas on trouble-shooting.\r\n\r\nResources:\r\n  \r\n  - [DNS and Java][1]\r\n  - [Java doesn&#39;t pick up system&#39;s DNS settings change until restarted][2]\r\n  - [Java and /etc/resolv.conf DNS server failover][3]\r\n  - [Java networking properties][4]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140305161557/java.sys-con.com/node/2879145\r\n  [2]: https://community.oracle.com/thread/1148912?start=0&amp;tstart=0\r\n  [3]: https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\r\n  [4]: http://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html","title":"UnknownHostException from Java but host resolves with Ping/nslookup/curl","body":"<p>This is most likely a network management, change / configuration management or general system administration problem rather than a  programming problem.</p>\n<blockquote>\n<p>It was working before without adding that entry but all of a sudden it stopped working.</p>\n</blockquote>\n<p>One approach is to try to figure out what changed to cause it to stop working.  This is not the kind of thing that would happen spontaneously.  Someone or something has changed some software or configurations to make this happen.  Start with when it stopped (or when you noticed) and work back through your change logs.</p>\n<p>It <em>sounds like</em> it is an issue with the Java DNS resolution procedure.  It appears that the resolver is either not trying to talk to the normal DNS servers, or it is trying and failing.</p>\n<p>We can't debug it for you, but I found these resources that help to explain what should be happening when you do a name lookup in Java, and offer some ideas on trouble-shooting.</p>\n<p>Resources:</p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20140305161557/java.sys-con.com/node/2879145\" rel=\"nofollow noreferrer\">DNS and Java</a></li>\n<li><a href=\"https://community.oracle.com/thread/1148912?start=0&amp;tstart=0\" rel=\"nofollow noreferrer\">Java doesn't pick up system's DNS settings change until restarted</a></li>\n<li><a href=\"https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\">Java and /etc/resolv.conf DNS server failover</a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html\" rel=\"nofollow noreferrer\">Java networking properties</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5808705,"reputation":139,"user_id":4580538,"display_name":"Groboclown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656359354,"creation_date":1656359354,"answer_id":72777594,"question_id":24188992,"body_markdown":"I found that these same symptoms can happen when IPv6 is disabled on your networking.    You can see this by running a simple Java program:\r\n\r\n    import java.net.InetAddress;\r\n    public class NameTest\r\n    {\r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        System.out.println(InetAddress.getByName(&quot;google.com&quot;));\r\n      }\r\n    }\r\n\r\nIf IPv6 is an issue, then running the program with `java -cp . NameTest` will fail with a line like &quot;at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)&quot; in the stack trace (notice the Inet6 in the class name), and running the program with `java -cp . -Djava.net.preferIPv4Stack=true NameTest` will succeed (this is from [the above answer](https://stackoverflow.com/a/24195155/4580538) Java networking properties reference).\r\n\r\nTo work past this, I followed suggestions from [this question](https://stackoverflow.com/questions/11850655/how-can-i-disable-ipv6-stack-use-for-ipv4-ips-on-jre).\r\n\r\nAn OS-wide disabling of IPv6 works well, as the system doesn&#39;t have IPv6.  On some Linux varieties, this can be disabled by first adding this line to the end of the file `/etc/sysctl.conf`\r\n\r\n    net.ipv6.conf.all.disable_ipv6 = 1\r\n\r\nfollowed by running `sudo sysctl -p` to immediately disable IPv6.","title":"UnknownHostException from Java but host resolves with Ping/nslookup/curl","body":"<p>I found that these same symptoms can happen when IPv6 is disabled on your networking.    You can see this by running a simple Java program:</p>\n<pre><code>import java.net.InetAddress;\npublic class NameTest\n{\n  public static void main(String[] args) throws Exception\n  {\n    System.out.println(InetAddress.getByName(&quot;google.com&quot;));\n  }\n}\n</code></pre>\n<p>If IPv6 is an issue, then running the program with <code>java -cp . NameTest</code> will fail with a line like &quot;at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)&quot; in the stack trace (notice the Inet6 in the class name), and running the program with <code>java -cp . -Djava.net.preferIPv4Stack=true NameTest</code> will succeed (this is from <a href=\"https://stackoverflow.com/a/24195155/4580538\">the above answer</a> Java networking properties reference).</p>\n<p>To work past this, I followed suggestions from <a href=\"https://stackoverflow.com/questions/11850655/how-can-i-disable-ipv6-stack-use-for-ipv4-ips-on-jre\">this question</a>.</p>\n<p>An OS-wide disabling of IPv6 works well, as the system doesn't have IPv6.  On some Linux varieties, this can be disabled by first adding this line to the end of the file <code>/etc/sysctl.conf</code></p>\n<pre><code>net.ipv6.conf.all.disable_ipv6 = 1\n</code></pre>\n<p>followed by running <code>sudo sysctl -p</code> to immediately disable IPv6.</p>\n"}],"owner":{"account_id":1328590,"reputation":1003,"user_id":1272939,"display_name":"Sandip Dhummad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13215,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":24195155,"answer_count":2,"score":11,"last_activity_date":1656359354,"creation_date":1402589105,"question_id":24188992,"body_markdown":"We are getting the following exception when a Java EE server tries to resolve a host name from one of the services. We were able to resolve that host name on the box manually with ping/nslookup command. We were also able to fire that external service using curl with same parameters what server is trying to use. So it seems like this issue happens only when we try to make a request to a external host from a Java/Java EE application.\r\n\r\nTo resolve this issue, we manually added an entry in /etc/hosts file and it solved the problem but we want a permanent solution so we don&#39;t have to keep changing the IP. It was working before without adding that entry but all of a sudden it stopped working.\r\n\r\nDetail of our environment:\r\n\r\nOS: Cent OS 6.3\r\n\r\nJava : JDK 1.6.0_24\r\n\r\nJava EE Server : JBoss AS 7.1.1\r\n\r\nHttp Client library : httpclient-4.0.jar\r\n\r\nThanks in advance for the help!!\r\n\r\n&gt; Error while checking salesforce license|:\r\n&gt; java.net.UnknownHostException: na15.salesforce.com        at\r\n&gt; java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:175)\r\n&gt; [rt.jar:1.6.0_24]        at\r\n&gt; java.net.SocksSocketImpl.connect(SocksSocketImpl.java:384)\r\n&gt; [rt.jar:1.6.0_24]        at java.net.Socket.connect(Socket.java:546)\r\n&gt; [rt.jar:1.6.0_24]        at\r\n&gt; sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:584)\r\n&gt; [jsse.jar:1.6.0_24]        at\r\n&gt; org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:333)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:123)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:147)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:101)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:381)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:576)\r\n&gt; [httpclient-4.0.jar:4.0]\r\n\r\n","title":"UnknownHostException from Java but host resolves with Ping/nslookup/curl","body":"<p>We are getting the following exception when a Java EE server tries to resolve a host name from one of the services. We were able to resolve that host name on the box manually with ping/nslookup command. We were also able to fire that external service using curl with same parameters what server is trying to use. So it seems like this issue happens only when we try to make a request to a external host from a Java/Java EE application.</p>\n\n<p>To resolve this issue, we manually added an entry in /etc/hosts file and it solved the problem but we want a permanent solution so we don't have to keep changing the IP. It was working before without adding that entry but all of a sudden it stopped working.</p>\n\n<p>Detail of our environment:</p>\n\n<p>OS: Cent OS 6.3</p>\n\n<p>Java : JDK 1.6.0_24</p>\n\n<p>Java EE Server : JBoss AS 7.1.1</p>\n\n<p>Http Client library : httpclient-4.0.jar</p>\n\n<p>Thanks in advance for the help!!</p>\n\n<blockquote>\n  <p>Error while checking salesforce license|:\n  java.net.UnknownHostException: na15.salesforce.com        at\n  java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:175)\n  [rt.jar:1.6.0_24]        at\n  java.net.SocksSocketImpl.connect(SocksSocketImpl.java:384)\n  [rt.jar:1.6.0_24]        at java.net.Socket.connect(Socket.java:546)\n  [rt.jar:1.6.0_24]        at\n  sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:584)\n  [jsse.jar:1.6.0_24]        at\n  org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:333)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:123)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:147)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:101)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:381)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:576)\n  [httpclient-4.0.jar:4.0]</p>\n</blockquote>\n"},{"tags":["java","android","date","utc","android-date"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1656319787,"post_id":72769305,"comment_id":128533777,"body_markdown":"You have a misunderstanding about `Date` objects: a `Date` object does not have a format by itself. It&#39;s only a timestamp value. There is no such thing as &quot;a `Date` object without any format change&quot;. When you print a `Date` object, it&#39;s printed in a default format. The object does not know what the format was that you parsed the original string with. If you need to print a `Date` in a specific format, then you&#39;ll have to format it using an appropriate `SimpleDateFormat`. The `Date` object itself does not contain information about formatting.","body":"You have a misunderstanding about <code>Date</code> objects: a <code>Date</code> object does not have a format by itself. It&#39;s only a timestamp value. There is no such thing as &quot;a <code>Date</code> object without any format change&quot;. When you print a <code>Date</code> object, it&#39;s printed in a default format. The object does not know what the format was that you parsed the original string with. If you need to print a <code>Date</code> in a specific format, then you&#39;ll have to format it using an appropriate <code>SimpleDateFormat</code>. The <code>Date</code> object itself does not contain information about formatting."},{"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"score":0,"creation_date":1656321226,"post_id":72769305,"comment_id":128534286,"body_markdown":"@Jesper thanks for clearing the ambiguity.\nI would rather like to rephrase my issue.\nHow can I get above UTC dateTime String as UTC formatted date Object(not a string)!\ncan you provide me an example for clarification?","body":"@Jesper thanks for clearing the ambiguity. I would rather like to rephrase my issue. How can I get above UTC dateTime String as UTC formatted date Object(not a string)! can you provide me an example for clarification?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1656332710,"post_id":72769305,"comment_id":128538389,"body_markdown":"There is **no such thing** as an &quot;UTC formatted `Date` object&quot;. A `Date` object does not have a format.","body":"There is <b>no such thing</b> as an &quot;UTC formatted <code>Date</code> object&quot;. A <code>Date</code> object does not have a format."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1656359158,"creation_date":1656322488,"answer_id":72769913,"question_id":72769305,"body_markdown":"&gt; I have a UTC formatted DateTime String\r\n\r\nNo, you don’t. \r\n\r\nUTC is the prime meridian commonly used for time-keeping. Time zones towards the east use an offset some number of hours-minutes-seconds ahead of UTC; those to the west, behind UTC.\r\n\r\n[UTC][1] has nothing to do with text formats.\r\n\r\n&gt; need this String to be converted to DATE Object without any Format change.\r\n\r\nThere are two `Date` classes in Java. You should specify which you intended. \r\n\r\nAnd, both classes are *terrible*, flawed by poor design decisions. They were years ago supplanted by the modern *java.time* classes defined in [JSR 310][2].\r\n\r\n&gt; I have a limitation of using SimpleDateFormat as I have to support API&lt;21 also.\r\n\r\nNope, no such limitation. The latest tooling brings most of the *java.time* functionality to earlier Android, via “API de-sugaring”. \r\n\r\nTo parse, use `DateTimeFormatter` to define a matching formatting pattern. Try the following, but I’ve not yet tested.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuu-MM-d HH:mm:ss OOOO&quot; ).withLocale( Locale.US ) ; \r\n    OffsetDateTime odt = OffsetDateTime.parse( input , f ) ;\r\n\r\nTip: Educate the publisher of your data about the [ISO 8601][3] standard for formatting textual representations of date-time values.\r\n\r\n\r\n----------\r\n\r\nAll of this has been covered many times already on Stack Overflow. Please search before posting here.  \r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: https://jcp.org/en/jsr/detail?id=310\r\n  [3]: https://en.m.wikipedia.org/wiki/ISO_8601","title":"UTC formatted string to UTC Date Object using SimpleDateFormat","body":"<blockquote>\n<p>I have a UTC formatted DateTime String</p>\n</blockquote>\n<p>No, you don’t.</p>\n<p>UTC is the prime meridian commonly used for time-keeping. Time zones towards the east use an offset some number of hours-minutes-seconds ahead of UTC; those to the west, behind UTC.</p>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> has nothing to do with text formats.</p>\n<blockquote>\n<p>need this String to be converted to DATE Object without any Format change.</p>\n</blockquote>\n<p>There are two <code>Date</code> classes in Java. You should specify which you intended.</p>\n<p>And, both classes are <em>terrible</em>, flawed by poor design decisions. They were years ago supplanted by the modern <em>java.time</em> classes defined in <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<blockquote>\n<p>I have a limitation of using SimpleDateFormat as I have to support API&lt;21 also.</p>\n</blockquote>\n<p>Nope, no such limitation. The latest tooling brings most of the <em>java.time</em> functionality to earlier Android, via “API de-sugaring”.</p>\n<p>To parse, use <code>DateTimeFormatter</code> to define a matching formatting pattern. Try the following, but I’ve not yet tested.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuu-MM-d HH:mm:ss OOOO&quot; ).withLocale( Locale.US ) ; \nOffsetDateTime odt = OffsetDateTime.parse( input , f ) ;\n</code></pre>\n<p>Tip: Educate the publisher of your data about the <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard for formatting textual representations of date-time values.</p>\n<hr />\n<p>All of this has been covered many times already on Stack Overflow. Please search before posting here.</p>\n"}],"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72769913,"answer_count":1,"score":1,"last_activity_date":1656359158,"creation_date":1656319582,"question_id":72769305,"body_markdown":"I have a **UTC** formatted DateTime **String**\r\n\r\nand need this String to be converted to DATE Object without any Format change.\r\n\r\nCurrently, when I try to convert it to a date Object it is returned as GMT formatted Date object as depicted in the image attached below.\r\n\r\nI have a limitation of using **SimpleDateFormat** as I have to support **API&lt;21** also.\r\n\r\n    String newDateString = &quot;2022-06-27 08:27:00 UTC&quot;;\r\n    DateFormat format = new SimpleDateFormat(Constants.EnumDateFormats.DATE_FORMAT7);//&quot;yyyy-MM-dd HH:mm:ss &#39;UTC&#39;&quot;\r\n                    format.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));\r\n                    Date date = format.parse(newDateString);\r\n                    System.out.println(date);//printing GMT formatted Date object but I need Date object in UTC format like 2022-06-27 08:27:00 UTC\r\n\r\nI have attached debugged code image [![image][1]][1] for better under standing. \r\n\r\n  [1]: https://i.stack.imgur.com/G8NUl.png","title":"UTC formatted string to UTC Date Object using SimpleDateFormat","body":"<p>I have a <strong>UTC</strong> formatted DateTime <strong>String</strong></p>\n<p>and need this String to be converted to DATE Object without any Format change.</p>\n<p>Currently, when I try to convert it to a date Object it is returned as GMT formatted Date object as depicted in the image attached below.</p>\n<p>I have a limitation of using <strong>SimpleDateFormat</strong> as I have to support <strong>API&lt;21</strong> also.</p>\n<pre><code>String newDateString = &quot;2022-06-27 08:27:00 UTC&quot;;\nDateFormat format = new SimpleDateFormat(Constants.EnumDateFormats.DATE_FORMAT7);//&quot;yyyy-MM-dd HH:mm:ss 'UTC'&quot;\n                format.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));\n                Date date = format.parse(newDateString);\n                System.out.println(date);//printing GMT formatted Date object but I need Date object in UTC format like 2022-06-27 08:27:00 UTC\n</code></pre>\n<p>I have attached debugged code image <a href=\"https://i.stack.imgur.com/G8NUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G8NUl.png\" alt=\"image\" /></a> for better under standing.</p>\n"},{"tags":["javascript","java","stomp","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656358756,"creation_date":1656323742,"answer_id":72770151,"question_id":72763102,"body_markdown":"ActiveMQ Artemis uses the `content-length` header to detect if the STOMP message type is binary or text.\r\n\r\nTo use text STOMP message type the Javascript program has to skip the `content-length` header and the Java program has to produce messages with text type i.e.\r\n\r\nJavascript program changes:\r\n\r\n    const message = { destination: &quot;broadcastMessage&quot;, skipContentLengthHeader: true };\r\n\r\n\r\nJava program:\r\n\r\n    ClientMessage message = session.createMessage(Message.TEXT_TYPE, false);\r\n    message.getBodyBuffer().writeNullableSimpleString(SimpleString.toSimpleString(payload));\r\n\r\nTo use binary STOMP message type the Java program has to produce messages with the `content-length` header i.e.\r\n\r\n    String payload = &quot;Message from java &quot; + i;\r\n    byte[] payloadBytes = payload.getBytes();\r\n    ClientMessage message = session.createMessage(false);\r\n    message.putIntProperty(&quot;content-length&quot;, payloadBytes.length);\r\n    message.getBodyBuffer().writeBytes(payloadBytes);\r\n","title":"How do I send messages from Java program to a Javascript STOMP client using ActiveMQ-Artemis?","body":"<p>ActiveMQ Artemis uses the <code>content-length</code> header to detect if the STOMP message type is binary or text.</p>\n<p>To use text STOMP message type the Javascript program has to skip the <code>content-length</code> header and the Java program has to produce messages with text type i.e.</p>\n<p>Javascript program changes:</p>\n<pre><code>const message = { destination: &quot;broadcastMessage&quot;, skipContentLengthHeader: true };\n</code></pre>\n<p>Java program:</p>\n<pre><code>ClientMessage message = session.createMessage(Message.TEXT_TYPE, false);\nmessage.getBodyBuffer().writeNullableSimpleString(SimpleString.toSimpleString(payload));\n</code></pre>\n<p>To use binary STOMP message type the Java program has to produce messages with the <code>content-length</code> header i.e.</p>\n<pre><code>String payload = &quot;Message from java &quot; + i;\nbyte[] payloadBytes = payload.getBytes();\nClientMessage message = session.createMessage(false);\nmessage.putIntProperty(&quot;content-length&quot;, payloadBytes.length);\nmessage.getBodyBuffer().writeBytes(payloadBytes);\n</code></pre>\n"}],"owner":{"account_id":2493234,"reputation":321,"user_id":2170308,"accept_rate":50,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72770151,"answer_count":1,"score":0,"last_activity_date":1656358756,"creation_date":1656259058,"question_id":72763102,"body_markdown":"I&#39;m trying to communicate back and forth between a Java process and a browser UI.  To do this, I configured a multicast address in Artemis.  The messages from the Java process are not making it to the browser subscribers, which are implemented using StompJS.\r\n\r\nTo test, I wrote a Hello World type of program in Java and in Javascript to simplify the probelm as much as I could.  Both programs will start consumers on the address and then send 100 messages to the address.  The consumers just log that they received the message.  \r\n\r\nThe Java program receives all the messages that it produced and all the messages that the Javascript program produced.  The Javascript program receives all the messages that it produced, but *none of the messages that the Java program produced.*\r\n\r\nWhen I use the Artemis Console to look at the queue the STOMP client has created, it shows 200 messages added, 100 acknowledged, and 100 stuck in delivering. [![enter image description here][2]][2][![enter image description here][1]][1]\r\n\r\n\r\nIf I use the Artemis Console to send a message to that address, that message is received by both the Java and Javascript programs.\r\n\r\n\r\nAny ideas what I&#39;m doing wrong here?\r\n\r\n**Javascript program**\r\n\r\n    import { Client } from &quot;@stomp/stompjs&quot;\r\n    \r\n    let client;\r\n    \r\n    export function testStomp() {\r\n        client = new Client();\r\n        client.brokerURL = &quot;ws://messaging-host:7961&quot;;\r\n        client.onConnect = handleConnected;\r\n        client.activate();\r\n    }\r\n    \r\n    function handleConnected() {\r\n        client.subscribe(&quot;broadcastMessage&quot;, message =&gt; console.log(message.body));\r\n        const message = { destination: &quot;broadcastMessage&quot; };\r\n        for (let i = 0; i &lt; 100; i++) {\r\n            message.body = &quot;Message from javascript &quot; + i;\r\n            client.publish(message);\r\n        }\r\n    }\r\n\r\n\r\n**Java program**: \r\n\r\n    package com.whatever;\r\n    \r\n    import org.apache.activemq.artemis.api.core.*;\r\n    import org.apache.activemq.artemis.api.core.client.*;\r\n    import java.util.UUID;\r\n    \r\n    public class TestArtemis {\r\n        public static void main(String[] args) throws Exception {\r\n            String url = &quot;tcp://messaging-host:7961&quot;;\r\n            ServerLocator serverLocator = ActiveMQClient.createServerLocator(url);\r\n            ClientSession session = serverLocator.createSessionFactory().createSession();\r\n            startConsumer(session);\r\n            ClientProducer producer = session.createProducer();\r\n            for (int i = 0; i &lt; 100; i++) {\r\n                String payload = &quot;Message from java &quot; + i;\r\n                ClientMessage message = session.createMessage(false);\r\n                message.getBodyBuffer().writeBytes(payload.getBytes());\r\n                producer.send(&quot;broadcastMessage&quot;, message);\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n    \r\n        private static void startConsumer(ClientSession session) throws Exception{\r\n            session.start();\r\n            String queueName = UUID.randomUUID().toString();\r\n            session.createQueue(new QueueConfiguration(queueName)\r\n                    .setAddress(&quot;broadcastMessage&quot;)\r\n                    .setDurable(false)\r\n                    .setRoutingType(RoutingType.MULTICAST)\r\n                    .setTemporary(true));\r\n            ClientConsumer consumer = session.createConsumer(queueName);\r\n            consumer.setMessageHandler(message -&gt; {\r\n                byte[] bytes = new byte[message.getBodyBuffer().readableBytes()];\r\n                message.getDataBuffer().readBytes(bytes);\r\n                System.out.println(&quot;Received &quot; + new String(bytes));\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1BbP5.png\r\n  [2]: https://i.stack.imgur.com/ENUFi.png","title":"How do I send messages from Java program to a Javascript STOMP client using ActiveMQ-Artemis?","body":"<p>I'm trying to communicate back and forth between a Java process and a browser UI.  To do this, I configured a multicast address in Artemis.  The messages from the Java process are not making it to the browser subscribers, which are implemented using StompJS.</p>\n<p>To test, I wrote a Hello World type of program in Java and in Javascript to simplify the probelm as much as I could.  Both programs will start consumers on the address and then send 100 messages to the address.  The consumers just log that they received the message.</p>\n<p>The Java program receives all the messages that it produced and all the messages that the Javascript program produced.  The Javascript program receives all the messages that it produced, but <em>none of the messages that the Java program produced.</em></p>\n<p>When I use the Artemis Console to look at the queue the STOMP client has created, it shows 200 messages added, 100 acknowledged, and 100 stuck in delivering. <a href=\"https://i.stack.imgur.com/ENUFi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ENUFi.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/1BbP5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1BbP5.png\" alt=\"enter image description here\" /></a></p>\n<p>If I use the Artemis Console to send a message to that address, that message is received by both the Java and Javascript programs.</p>\n<p>Any ideas what I'm doing wrong here?</p>\n<p><strong>Javascript program</strong></p>\n<pre><code>import { Client } from &quot;@stomp/stompjs&quot;\n\nlet client;\n\nexport function testStomp() {\n    client = new Client();\n    client.brokerURL = &quot;ws://messaging-host:7961&quot;;\n    client.onConnect = handleConnected;\n    client.activate();\n}\n\nfunction handleConnected() {\n    client.subscribe(&quot;broadcastMessage&quot;, message =&gt; console.log(message.body));\n    const message = { destination: &quot;broadcastMessage&quot; };\n    for (let i = 0; i &lt; 100; i++) {\n        message.body = &quot;Message from javascript &quot; + i;\n        client.publish(message);\n    }\n}\n</code></pre>\n<p><strong>Java program</strong>:</p>\n<pre><code>package com.whatever;\n\nimport org.apache.activemq.artemis.api.core.*;\nimport org.apache.activemq.artemis.api.core.client.*;\nimport java.util.UUID;\n\npublic class TestArtemis {\n    public static void main(String[] args) throws Exception {\n        String url = &quot;tcp://messaging-host:7961&quot;;\n        ServerLocator serverLocator = ActiveMQClient.createServerLocator(url);\n        ClientSession session = serverLocator.createSessionFactory().createSession();\n        startConsumer(session);\n        ClientProducer producer = session.createProducer();\n        for (int i = 0; i &lt; 100; i++) {\n            String payload = &quot;Message from java &quot; + i;\n            ClientMessage message = session.createMessage(false);\n            message.getBodyBuffer().writeBytes(payload.getBytes());\n            producer.send(&quot;broadcastMessage&quot;, message);\n            Thread.sleep(1000);\n        }\n    }\n\n    private static void startConsumer(ClientSession session) throws Exception{\n        session.start();\n        String queueName = UUID.randomUUID().toString();\n        session.createQueue(new QueueConfiguration(queueName)\n                .setAddress(&quot;broadcastMessage&quot;)\n                .setDurable(false)\n                .setRoutingType(RoutingType.MULTICAST)\n                .setTemporary(true));\n        ClientConsumer consumer = session.createConsumer(queueName);\n        consumer.setMessageHandler(message -&gt; {\n            byte[] bytes = new byte[message.getBodyBuffer().readableBytes()];\n            message.getDataBuffer().readBytes(bytes);\n            System.out.println(&quot;Received &quot; + new String(bytes));\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656356905,"creation_date":1656356905,"answer_id":72777222,"question_id":72776966,"body_markdown":"Spring Boot automatically configures one; simply add it as a parameter to the factory method:\r\n\r\n```\r\n@Bean\r\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory(\r\n    ConsumerFactory&lt;Object, KafkaExampleRecord&gt; cf) {\r\n...\r\n```\r\n\r\nHowever, you don&#39;t need to declare the container factory bean either; Boot will auto configure it for you and automatically set the KT, if it is defined as a bean.\r\n\r\nSee Boot&#39;s `KafkaAnnotationDrivenConfiguration`.","title":"How to load Kafka consumer or producer properties from application.yaml?","body":"<p>Spring Boot automatically configures one; simply add it as a parameter to the factory method:</p>\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory(\n    ConsumerFactory&lt;Object, KafkaExampleRecord&gt; cf) {\n...\n</code></pre>\n<p>However, you don't need to declare the container factory bean either; Boot will auto configure it for you and automatically set the KT, if it is defined as a bean.</p>\n<p>See Boot's <code>KafkaAnnotationDrivenConfiguration</code>.</p>\n"}],"owner":{"account_id":1613370,"reputation":2348,"user_id":1491720,"accept_rate":80,"display_name":"Tony Stark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72777222,"answer_count":1,"score":-1,"last_activity_date":1656358517,"creation_date":1656355388,"question_id":72776966,"body_markdown":"Currently I have this code for creating a `ConcurrentKafkaListenerContainerFactory`.\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps()));\r\n        factory.setReplyTemplate(kafkaTemplate());\r\n        return factory;\r\n    }\r\n\r\nHow do I create the `DefaultKafkaConsumerFactory` object with properties from `application.yaml`? I don&#39;t want to set them inside the `consumerProps()` method.\r\n\r\nEDIT:\r\nMy KafkaConfig class now looks like this.\r\n\r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaConfig {\r\n        @Bean\r\n        public ReplyingKafkaTemplate&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyingKafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; producerFactory,\r\n                                                                                                           ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer) {\r\n            return new ReplyingKafkaTemplate&lt;&gt;(producerFactory, repliesContainer);\r\n        }\r\n    \r\n        @Bean\r\n        public ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer(\r\n                ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory) {\r\n    \r\n            ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; rc =\r\n                    kafkaListenerContainerFactory.createContainer(&quot;mytopic&quot;);\r\n            rc.setAutoStartup(false);\r\n            return rc;\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaTemplate&lt;Object, KafkaExampleRecord&gt; kafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; pf) {\r\n            return new KafkaTemplate&lt;&gt;(pf);\r\n        }\r\n    }\r\nHowever now I get `java.lang.IllegalStateException: a KafkaTemplate is required to support replies`.","title":"How to load Kafka consumer or producer properties from application.yaml?","body":"<p>Currently I have this code for creating a <code>ConcurrentKafkaListenerContainerFactory</code>.</p>\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; factory =\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps()));\n    factory.setReplyTemplate(kafkaTemplate());\n    return factory;\n}\n</code></pre>\n<p>How do I create the <code>DefaultKafkaConsumerFactory</code> object with properties from <code>application.yaml</code>? I don't want to set them inside the <code>consumerProps()</code> method.</p>\n<p>EDIT:\nMy KafkaConfig class now looks like this.</p>\n<pre><code>@Configuration\n@EnableKafka\npublic class KafkaConfig {\n    @Bean\n    public ReplyingKafkaTemplate&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyingKafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; producerFactory,\n                                                                                                       ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer) {\n        return new ReplyingKafkaTemplate&lt;&gt;(producerFactory, repliesContainer);\n    }\n\n    @Bean\n    public ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer(\n            ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory) {\n\n        ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; rc =\n                kafkaListenerContainerFactory.createContainer(&quot;mytopic&quot;);\n        rc.setAutoStartup(false);\n        return rc;\n    }\n\n    @Bean\n    public KafkaTemplate&lt;Object, KafkaExampleRecord&gt; kafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; pf) {\n        return new KafkaTemplate&lt;&gt;(pf);\n    }\n}\n</code></pre>\n<p>However now I get <code>java.lang.IllegalStateException: a KafkaTemplate is required to support replies</code>.</p>\n"},{"tags":["java","java-native-interface","pjsip"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656291746,"post_id":72765678,"comment_id":128528355,"body_markdown":"`libpjsip-ua.so.2` needs to be present in your PATH or LIBPATH. But there is at least one Java implementation of SIP, I&#39;ve used it myself.","body":"<code>libpjsip-ua.so.2</code> needs to be present in your PATH or LIBPATH. But there is at least one Java implementation of SIP, I&#39;ve used it myself."},{"owner":{"account_id":9824751,"reputation":145,"user_id":7278126,"accept_rate":100,"display_name":"AHM200"},"score":0,"creation_date":1656291793,"post_id":72765678,"comment_id":128528364,"body_markdown":"it&#39;s present in my path, but still the same error shows up","body":"it&#39;s present in my path, but still the same error shows up"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656305001,"post_id":72765678,"comment_id":128529920,"body_markdown":"Add `/home/sip` to your `LIBPATH`, and put this DLL there along with your JNI DLL, and use `System.loadLibrary(&quot;pjsua2.so&quot;)`.","body":"Add <code>&#47;home&#47;sip</code> to your <code>LIBPATH</code>, and put this DLL there along with your JNI DLL, and use <code>System.loadLibrary(&quot;pjsua2.so&quot;)</code>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1656307708,"post_id":72765678,"comment_id":128530392,"body_markdown":"Add `e.printStackTrace()` to the `catch` block (before `System.exit(1)`, of-course).","body":"Add <code>e.printStackTrace()</code> to the <code>catch</code> block (before <code>System.exit(1)</code>, of-course)."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656312894,"post_id":72765678,"comment_id":128531561,"body_markdown":"@Abra Well yeah, in general, but we already know it comes from the line that loads the library.","body":"@Abra Well yeah, in general, but we already know it comes from the line that loads the library."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1656316633,"post_id":72765678,"comment_id":128532678,"body_markdown":"@user207421 the stack trace may hold other, relevant information apart from the line that is throwing the error. I believe one should get into the habit of recording the stack trace in almost every `catch` block. Note that _recording the stack trace_ does not necessarily mean calling method `printStackTrace()`","body":"@user207421 the stack trace may hold other, relevant information apart from the line that is throwing the error. I believe one should get into the habit of recording the stack trace in almost every <code>catch</code> block. Note that <i>recording the stack trace</i> does not necessarily mean calling method <code>printStackTrace()</code>"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1656317746,"post_id":72765678,"comment_id":128533089,"body_markdown":"@Abra it will not. dependency libraries are handled by the OS library loader which does not contribute to Java stack traces.","body":"@Abra it will not. dependency libraries are handled by the OS library loader which does not contribute to Java stack traces."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1656317881,"post_id":72765678,"comment_id":128533137,"body_markdown":"It seems you are on Linux Then the correct variable to set is `LD_LIBRARY_PATH`. As a debugging tool, you should be able to run `ldd /home/sip/libpjsua2.so` and have it come up without any &quot;not found&quot; entries.","body":"It seems you are on Linux Then the correct variable to set is <code>LD_LIBRARY_PATH</code>. As a debugging tool, you should be able to run <code>ldd &#47;home&#47;sip&#47;libpjsua2.so</code> and have it come up without any &quot;not found&quot; entries."},{"owner":{"account_id":9824751,"reputation":145,"user_id":7278126,"accept_rate":100,"display_name":"AHM200"},"score":0,"creation_date":1656355674,"post_id":72765678,"comment_id":128547286,"body_markdown":"@Botje I ran the command and didn&#39;t get any errors","body":"@Botje I ran the command and didn&#39;t get any errors"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1656357968,"post_id":72765678,"comment_id":128547923,"body_markdown":"No lines with &quot;not found&quot; in, then? Are you running Java in the same environment?","body":"No lines with &quot;not found&quot; in, then? Are you running Java in the same environment?"},{"owner":{"account_id":9824751,"reputation":145,"user_id":7278126,"accept_rate":100,"display_name":"AHM200"},"score":0,"creation_date":1656358134,"post_id":72765678,"comment_id":128547974,"body_markdown":"No it&#39;s all fine I&#39;ll edit the question to add the result\nand yes I am running java in the same env","body":"No it&#39;s all fine I&#39;ll edit the question to add the result and yes I am running java in the same env"}],"owner":{"account_id":9824751,"reputation":145,"user_id":7278126,"accept_rate":100,"display_name":"AHM200"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656358238,"creation_date":1656284362,"question_id":72765678,"body_markdown":"I am trying to use PJSIP in my own standalone Java application, but I am facing a lot of issues in building the DLLs for Java.\r\nIs there any DOCs for doing this as I am new to JNI so any help ?\r\n\r\nThis is the error I am getting when I try to load (&quot;libpjsua.so&quot;)\r\n\r\n```none\r\njava.lang.UnsatisfiedLinkError: libpjsua.so.2: libpjsip-ua.so.2: cannot open shared object file: No such file or directory\r\n```\r\n```java\r\npublic class Main {\r\n    static {\r\n        try {\r\n            System.load(&quot;/home/sip/libpjsua2.so&quot;);\r\n            System.out.println(&quot;Loaded&quot;);\r\n        } catch (UnsatisfiedLinkError e) {\r\n            System.err.println(&quot;Native code library failed to load.\\n&quot; + e);\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    public static void main(String argv[])\r\n    {\r\n        Call call = new Call(null, 0);\r\n        System.out.println(&quot;this is call: &quot;+call);\r\n    }\r\n}\r\n```\r\n\r\n**EDIT**\r\nand this is the result of running ```ldd /home/sip/libpjsua2.so```\r\n```\r\nlinux-vdso.so.1 (0x00007ffee372b000)\r\n\tlibpjsua.so.2 =&gt; /usr/local/lib/libpjsua.so.2 (0x00007fdab1d55000)\r\n\tlibpjsip-simple.so.2 =&gt; /usr/local/lib/libpjsip-simple.so.2 (0x00007fdab1d3c000)\r\n\tlibpjsip.so.2 =&gt; /usr/local/lib/libpjsip.so.2 (0x00007fdab1ce3000)\r\n\tlibpjmedia.so.2 =&gt; /usr/local/lib/libpjmedia.so.2 (0x00007fdab1c7b000)\r\n\tlibpjlib-util.so.2 =&gt; /usr/local/lib/libpjlib-util.so.2 (0x00007fdab1c4f000)\r\n\tlibpj.so.2 =&gt; /usr/local/lib/libpj.so.2 (0x00007fdab1c13000)\r\n\tlibstdc++.so.6 =&gt; /lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fdab19d3000)\r\n\tlibgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fdab19b3000)\r\n\tlibc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fdab178b000)\r\n\tlibpjsip-ua.so.2 =&gt; /usr/local/lib/libpjsip-ua.so.2 (0x00007fdab176b000)\r\n\tlibpjmedia-audiodev.so.2 =&gt; /usr/local/lib/libpjmedia-audiodev.so.2 (0x00007fdab1761000)\r\n\tlibpjmedia-codec.so.2 =&gt; /usr/local/lib/libpjmedia-codec.so.2 (0x00007fdab174f000)\r\n\tlibpjnath.so.2 =&gt; /usr/local/lib/libpjnath.so.2 (0x00007fdab1719000)\r\n\tlibcrypto.so.3 =&gt; /lib/x86_64-linux-gnu/libcrypto.so.3 (0x00007fdab12d7000)\r\n\tlibsrtp.so.2 =&gt; /usr/local/lib/libsrtp.so.2 (0x00007fdab12c1000)\r\n\tlibresample.so.2 =&gt; /usr/local/lib/libresample.so.2 (0x00007fdab12b2000)\r\n\tlibspeex.so.2 =&gt; /usr/local/lib/libspeex.so.2 (0x00007fdab1282000)\r\n\tlibwebrtc.so.2 =&gt; /usr/local/lib/libwebrtc.so.2 (0x00007fdab1257000)\r\n\tlibm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007fdab1170000)\r\n\tlibssl.so.3 =&gt; /lib/x86_64-linux-gnu/libssl.so.3 (0x00007fdab10cc000)\r\n\t/lib64/ld-linux-x86-64.so.2 (0x00007fdab1f0e000)\r\n\tlibasound.so.2 =&gt; /lib/x86_64-linux-gnu/libasound.so.2 (0x00007fdab0fc9000)\r\n\tlibgsmcodec.so.2 =&gt; /usr/local/lib/libgsmcodec.so.2 (0x00007fdab0fbd000)\r\n\tlibilbccodec.so.2 =&gt; /usr/local/lib/libilbccodec.so.2 (0x00007fdab0faa000)\r\n```\r\n","title":"Using pjsip in Java with JNI","body":"<p>I am trying to use PJSIP in my own standalone Java application, but I am facing a lot of issues in building the DLLs for Java.\nIs there any DOCs for doing this as I am new to JNI so any help ?</p>\n<p>This is the error I am getting when I try to load (&quot;libpjsua.so&quot;)</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.UnsatisfiedLinkError: libpjsua.so.2: libpjsip-ua.so.2: cannot open shared object file: No such file or directory\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static {\n        try {\n            System.load(&quot;/home/sip/libpjsua2.so&quot;);\n            System.out.println(&quot;Loaded&quot;);\n        } catch (UnsatisfiedLinkError e) {\n            System.err.println(&quot;Native code library failed to load.\\n&quot; + e);\n            System.exit(1);\n        }\n    }\n\n    public static void main(String argv[])\n    {\n        Call call = new Call(null, 0);\n        System.out.println(&quot;this is call: &quot;+call);\n    }\n}\n</code></pre>\n<p><strong>EDIT</strong>\nand this is the result of running <code>ldd /home/sip/libpjsua2.so</code></p>\n<pre><code>linux-vdso.so.1 (0x00007ffee372b000)\n    libpjsua.so.2 =&gt; /usr/local/lib/libpjsua.so.2 (0x00007fdab1d55000)\n    libpjsip-simple.so.2 =&gt; /usr/local/lib/libpjsip-simple.so.2 (0x00007fdab1d3c000)\n    libpjsip.so.2 =&gt; /usr/local/lib/libpjsip.so.2 (0x00007fdab1ce3000)\n    libpjmedia.so.2 =&gt; /usr/local/lib/libpjmedia.so.2 (0x00007fdab1c7b000)\n    libpjlib-util.so.2 =&gt; /usr/local/lib/libpjlib-util.so.2 (0x00007fdab1c4f000)\n    libpj.so.2 =&gt; /usr/local/lib/libpj.so.2 (0x00007fdab1c13000)\n    libstdc++.so.6 =&gt; /lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fdab19d3000)\n    libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fdab19b3000)\n    libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fdab178b000)\n    libpjsip-ua.so.2 =&gt; /usr/local/lib/libpjsip-ua.so.2 (0x00007fdab176b000)\n    libpjmedia-audiodev.so.2 =&gt; /usr/local/lib/libpjmedia-audiodev.so.2 (0x00007fdab1761000)\n    libpjmedia-codec.so.2 =&gt; /usr/local/lib/libpjmedia-codec.so.2 (0x00007fdab174f000)\n    libpjnath.so.2 =&gt; /usr/local/lib/libpjnath.so.2 (0x00007fdab1719000)\n    libcrypto.so.3 =&gt; /lib/x86_64-linux-gnu/libcrypto.so.3 (0x00007fdab12d7000)\n    libsrtp.so.2 =&gt; /usr/local/lib/libsrtp.so.2 (0x00007fdab12c1000)\n    libresample.so.2 =&gt; /usr/local/lib/libresample.so.2 (0x00007fdab12b2000)\n    libspeex.so.2 =&gt; /usr/local/lib/libspeex.so.2 (0x00007fdab1282000)\n    libwebrtc.so.2 =&gt; /usr/local/lib/libwebrtc.so.2 (0x00007fdab1257000)\n    libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007fdab1170000)\n    libssl.so.3 =&gt; /lib/x86_64-linux-gnu/libssl.so.3 (0x00007fdab10cc000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007fdab1f0e000)\n    libasound.so.2 =&gt; /lib/x86_64-linux-gnu/libasound.so.2 (0x00007fdab0fc9000)\n    libgsmcodec.so.2 =&gt; /usr/local/lib/libgsmcodec.so.2 (0x00007fdab0fbd000)\n    libilbccodec.so.2 =&gt; /usr/local/lib/libilbccodec.so.2 (0x00007fdab0faa000)\n</code></pre>\n"},{"tags":["java","maven","jar","pom.xml"],"comments":[{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":3,"creation_date":1569307687,"post_id":58074491,"comment_id":102544038,"body_markdown":"Possible duplicate of [How to add local jar files to a Maven project?](https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\">How to add local jar files to a Maven project?</a>"},{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":0,"creation_date":1569307770,"post_id":58074491,"comment_id":102544084,"body_markdown":"I think the answer you are looking for is [here](https://stackoverflow.com/q/4955635/896249) (duplicate).","body":"I think the answer you are looking for is <a href=\"https://stackoverflow.com/q/4955635/896249\">here</a> (duplicate)."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1569307771,"post_id":58074491,"comment_id":102544085,"body_markdown":"@GameDroids No, op doesn&#39;t want to enumerate the jars in the pom; much less add the jars manually to a local `.m2`. There are tools like sbt and gradle that make writing large numbers of dependencies easier.","body":"@GameDroids No, op doesn&#39;t want to enumerate the jars in the pom; much less add the jars manually to a local <code>.m2</code>. There are tools like sbt and gradle that make writing large numbers of dependencies easier."},{"owner":{"account_id":7799153,"reputation":294,"user_id":5899218,"accept_rate":100,"display_name":"AKMMM"},"score":2,"creation_date":1569307819,"post_id":58074491,"comment_id":102544103,"body_markdown":"If I understand correctly, you want to import all your local jar files into your pom automatically? If this is what you want, I don&#39;t think it&#39;s possible","body":"If I understand correctly, you want to import all your local jar files into your pom automatically? If this is what you want, I don&#39;t think it&#39;s possible"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1569307870,"post_id":58074491,"comment_id":102544133,"body_markdown":"If @AKMMM is right, I wouldn&#39;t try even if it was possible...","body":"If @AKMMM is right, I wouldn&#39;t try even if it was possible..."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1569307945,"post_id":58074491,"comment_id":102544170,"body_markdown":"@AKMMM That was my interpretation as well, and it might be possible to hack something together to do it; but it would be so *fragile* I don&#39;t want to attempt it either. Assuming all of the dependent jars contain pom files then you could write a script to extract the tags (but again, it would be *brittle*).","body":"@AKMMM That was my interpretation as well, and it might be possible to hack something together to do it; but it would be so <i>fragile</i> I don&#39;t want to attempt it either. Assuming all of the dependent jars contain pom files then you could write a script to extract the tags (but again, it would be <i>brittle</i>)."},{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":0,"creation_date":1569308009,"post_id":58074491,"comment_id":102544203,"body_markdown":"But you can also let your IDE do the job. Keep a list of your dependencies (jar) libraries, their names and versions (if you know them) then in your IDE you can most likely go to some &quot;maven&quot; menu and &quot;add dependency&quot; somewhere which should provide you with a search option to search for the name and version of your dependency. I think it is worth while to take the time and search for the dependency in maven - in some cases you might even be able to get newer versions or resolve dependency problems.","body":"But you can also let your IDE do the job. Keep a list of your dependencies (jar) libraries, their names and versions (if you know them) then in your IDE you can most likely go to some &quot;maven&quot; menu and &quot;add dependency&quot; somewhere which should provide you with a search option to search for the name and version of your dependency. I think it is worth while to take the time and search for the dependency in maven - in some cases you might even be able to get newer versions or resolve dependency problems."},{"owner":{"account_id":16755181,"reputation":43,"user_id":12111279,"display_name":"Jatin Vasnani"},"score":0,"creation_date":1569393592,"post_id":58074491,"comment_id":102577527,"body_markdown":"@GameDroids I do not want to add the jars from/to the local repository. I wanted to create regular pom &lt;dendency&gt; entries along with groupId, artifactId and version for the jar which I already have. The local repository approach will not work for me.","body":"@GameDroids I do not want to add the jars from/to the local repository. I wanted to create regular pom &lt;dendency&gt; entries along with groupId, artifactId and version for the jar which I already have. The local repository approach will not work for me."}],"answers":[{"tags":[],"owner":{"account_id":12974704,"reputation":1256,"user_id":11872560,"display_name":"Dulaj Kulathunga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569309361,"creation_date":1569308055,"answer_id":58074620,"question_id":58074491,"body_markdown":"**You can Install manually the JAR into your local Maven repository**\r\n\r\n**First Way** \r\n\r\nFollow the steps here \r\n```\r\nmvn install:install-file -Dfile=&lt;path-to-file&gt;\r\n\r\n```\r\nAnd in here you can be able to add these  information  in command line\r\n\r\n```\r\nmvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt;\r\n```\r\n\r\n`&lt;path-to-file&gt;` mentioned path to the JAR to install\r\n\r\n`&lt;group-id&gt;` mentioned  group id of the JAR to install\r\n\r\n`&lt;artifact-id&gt;` mentioned  artifact id of the JAR to install\r\n\r\n`&lt;version&gt;` mentioned  version of the JAR\r\n\r\n\r\n**Second Way** \r\n\r\nYou can create a different local Maven repository\r\n\r\nFollow the Steps \r\n\r\nwe can  consider the new local Maven repository is named `maven-repository` and is located in `${basedir}` (the directory containing pom.xml). \r\n\r\n\r\nDeploying the local JARs in the new local maven repository as below i am following \r\n```\r\nmvn deploy:deploy-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=jar -Durl=file:./maven-repository/ -DrepositoryId=maven-repository -DupdateReleaseInfo=true\r\n```\r\nyou can see which the maven `deploy:deploy-file` installs the artifact in a remote repository but in here  repository is located in the local machine\r\n\r\nAfter installing the JARs your need to add the repository in your pom.xml file\r\n\r\n\r\n```\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;maven-repository&lt;/id&gt;\r\n        &lt;url&gt;file:///${project.basedir}/maven-repository&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p><strong>You can Install manually the JAR into your local Maven repository</strong></p>\n\n<p><strong>First Way</strong> </p>\n\n<p>Follow the steps here </p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt;\n\n</code></pre>\n\n<p>And in here you can be able to add these  information  in command line</p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt;\n</code></pre>\n\n<p><code>&lt;path-to-file&gt;</code> mentioned path to the JAR to install</p>\n\n<p><code>&lt;group-id&gt;</code> mentioned  group id of the JAR to install</p>\n\n<p><code>&lt;artifact-id&gt;</code> mentioned  artifact id of the JAR to install</p>\n\n<p><code>&lt;version&gt;</code> mentioned  version of the JAR</p>\n\n<p><strong>Second Way</strong> </p>\n\n<p>You can create a different local Maven repository</p>\n\n<p>Follow the Steps </p>\n\n<p>we can  consider the new local Maven repository is named <code>maven-repository</code> and is located in <code>${basedir}</code> (the directory containing pom.xml). </p>\n\n<p>Deploying the local JARs in the new local maven repository as below i am following </p>\n\n<pre><code>mvn deploy:deploy-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=jar -Durl=file:./maven-repository/ -DrepositoryId=maven-repository -DupdateReleaseInfo=true\n</code></pre>\n\n<p>you can see which the maven <code>deploy:deploy-file</code> installs the artifact in a remote repository but in here  repository is located in the local machine</p>\n\n<p>After installing the JARs your need to add the repository in your pom.xml file</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;maven-repository&lt;/id&gt;\n        &lt;url&gt;file:///${project.basedir}/maven-repository&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569313921,"creation_date":1569313921,"answer_id":58076145,"question_id":58074491,"body_markdown":"AFAIK there is not Maven way to do this.\r\n\r\nYou could write a script that computes the SHA1 value of each jar and searches for the jar in your Maven repository. It could, alternatively, open the jars and search for the `pom.properties` to extract the Maven coordinates.\r\n\r\nIn any way, this is probably too much programming effort unless you need to do it for many projects.","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p>AFAIK there is not Maven way to do this.</p>\n\n<p>You could write a script that computes the SHA1 value of each jar and searches for the jar in your Maven repository. It could, alternatively, open the jars and search for the <code>pom.properties</code> to extract the Maven coordinates.</p>\n\n<p>In any way, this is probably too much programming effort unless you need to do it for many projects.</p>\n"},{"tags":[],"owner":{"account_id":2491374,"reputation":2992,"user_id":2168752,"display_name":"Milen Dyankov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656358142,"creation_date":1569333483,"answer_id":58081980,"question_id":58074491,"body_markdown":"This code\r\n\r\n```java\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tSet&lt;String&gt; missingMavenData = new HashSet&lt;String&gt;();\r\n\t\tString FOLDER = &quot;/path/to/your/folder/with/jars&quot;;\r\n\t\t\r\n\t\tFiles\r\n\t\t .walk(Paths.get(FOLDER), FileVisitOption.FOLLOW_LINKS)\r\n\t\t .map(Path::toFile)\r\n\t\t .filter(f -&gt; f.isFile())\r\n\t\t .filter(f -&gt; f.getName().endsWith(&quot;.jar&quot;))\r\n\t\t .map(f -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\treturn new JarFile(f);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t })\r\n\t\t .filter(Objects::nonNull)\r\n\t\t .map(jar -&gt; {\r\n\t\t\t Properties properties = null;\r\n\t\t\t Enumeration&lt;JarEntry&gt; entries = jar.entries();\r\n\t\t\t while (entries.hasMoreElements()) {\r\n\t\t\t\t JarEntry jarEntry = entries.nextElement();\r\n\t\t\t\t if (jarEntry.getName().matches(&quot;^META-INF/maven/.*/pom\\\\.properties$&quot;)) {\r\n\t\t\t\t\t try {\r\n\t\t\t\t\t\t properties = new Properties();\r\n\t\t\t\t\t\t properties.load(jar.getInputStream(jarEntry));\r\n\t\t\t\t\t\t break;\r\n\t\t\t\t\t } catch (IOException e) {\r\n\t\t\t\t\t\t e.printStackTrace();\r\n\t\t\t\t\t }\r\n\t\t\t\t };\r\n\t\t\t } \r\n\t\t\t if (properties == null) {\r\n\t\t\t\t missingMavenData.add(jar.getName());\r\n\t\t\t }\r\n\t\t\t return properties;\r\n\t\t })\r\n\t\t .filter(Objects::nonNull)\r\n\t\t .forEach(properties -&gt; {\r\n\t\t\tSystem.out.println(&quot;&lt; dependency&gt;&quot;);\r\n\t\t\tSystem.out.println(&quot;\t&lt;groupId&gt;&quot; + properties.getProperty(&quot;groupId&quot;)+ &quot;&lt;/groupId&gt;&quot;);\r\n\t\t\tSystem.out.println(&quot;\t&lt;artifactId&gt;&quot; + properties.getProperty(&quot;artifactId&quot;)+ &quot;&lt;/artifactId&gt;&quot;);\r\n\t\t\tSystem.out.println(&quot;\t&lt;version&gt;&quot; + properties.getProperty(&quot;version&quot;)+ &quot;&lt;/version&gt;&quot;);\r\n\t\t\tSystem.out.println(&quot;&lt;/dependency&gt;&quot;);\r\n\t\t });\r\n\t\t\r\n\t\tSystem.out.println(&quot;Those JAR files do not contain Maven metadata:&quot;);\r\n\t\tmissingMavenData.forEach(System.out::println);\r\n\t}\r\n```\r\nwill iterate over your jar files and try to find the Maven metadata in them. It will generate the POM entries for those who have it and will list those that don&#39;t have it so you can add it manually. I hope this helps.\r\n\r\n**UPDATE:**\r\n\r\nI added `bom-helper:fromJars` goal to [BOM Helper Maven Plugin][1] which does more or less the same thing as the above code. One can now simply add the plugin\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.commsen.maven&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;bom-helper-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\nand configure it to call `fromJars` goal. It can also be called form command line. For example:\r\n\r\n```shell\r\nmvn bom-helper:fromJars \\\r\n -Dbom-helper.jarsFolder=/path/to/folder/with/jars \\\r\n -Dbom-helper.inplace=true \\\r\n -Dbom-helper.recursive\r\n```\r\nwill update current pom with entries for all jars that have Maven metadata in them.\r\n\r\n  [1]: http://commsen.com/bom-helper-maven-plugin/","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p>This code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws IOException {\n        Set&lt;String&gt; missingMavenData = new HashSet&lt;String&gt;();\n        String FOLDER = &quot;/path/to/your/folder/with/jars&quot;;\n        \n        Files\n         .walk(Paths.get(FOLDER), FileVisitOption.FOLLOW_LINKS)\n         .map(Path::toFile)\n         .filter(f -&gt; f.isFile())\n         .filter(f -&gt; f.getName().endsWith(&quot;.jar&quot;))\n         .map(f -&gt; {\n            try {\n                return new JarFile(f);\n            } catch (IOException e) {\n                e.printStackTrace();\n                return null;\n            }\n         })\n         .filter(Objects::nonNull)\n         .map(jar -&gt; {\n             Properties properties = null;\n             Enumeration&lt;JarEntry&gt; entries = jar.entries();\n             while (entries.hasMoreElements()) {\n                 JarEntry jarEntry = entries.nextElement();\n                 if (jarEntry.getName().matches(&quot;^META-INF/maven/.*/pom\\\\.properties$&quot;)) {\n                     try {\n                         properties = new Properties();\n                         properties.load(jar.getInputStream(jarEntry));\n                         break;\n                     } catch (IOException e) {\n                         e.printStackTrace();\n                     }\n                 };\n             } \n             if (properties == null) {\n                 missingMavenData.add(jar.getName());\n             }\n             return properties;\n         })\n         .filter(Objects::nonNull)\n         .forEach(properties -&gt; {\n            System.out.println(&quot;&lt; dependency&gt;&quot;);\n            System.out.println(&quot;    &lt;groupId&gt;&quot; + properties.getProperty(&quot;groupId&quot;)+ &quot;&lt;/groupId&gt;&quot;);\n            System.out.println(&quot;    &lt;artifactId&gt;&quot; + properties.getProperty(&quot;artifactId&quot;)+ &quot;&lt;/artifactId&gt;&quot;);\n            System.out.println(&quot;    &lt;version&gt;&quot; + properties.getProperty(&quot;version&quot;)+ &quot;&lt;/version&gt;&quot;);\n            System.out.println(&quot;&lt;/dependency&gt;&quot;);\n         });\n        \n        System.out.println(&quot;Those JAR files do not contain Maven metadata:&quot;);\n        missingMavenData.forEach(System.out::println);\n    }\n</code></pre>\n<p>will iterate over your jar files and try to find the Maven metadata in them. It will generate the POM entries for those who have it and will list those that don't have it so you can add it manually. I hope this helps.</p>\n<p><strong>UPDATE:</strong></p>\n<p>I added <code>bom-helper:fromJars</code> goal to <a href=\"http://commsen.com/bom-helper-maven-plugin/\" rel=\"nofollow noreferrer\">BOM Helper Maven Plugin</a> which does more or less the same thing as the above code. One can now simply add the plugin</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.commsen.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;bom-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.2.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and configure it to call <code>fromJars</code> goal. It can also be called form command line. For example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn bom-helper:fromJars \\\n -Dbom-helper.jarsFolder=/path/to/folder/with/jars \\\n -Dbom-helper.inplace=true \\\n -Dbom-helper.recursive\n</code></pre>\n<p>will update current pom with entries for all jars that have Maven metadata in them.</p>\n"},{"tags":[],"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569612534,"creation_date":1569612534,"answer_id":58140456,"question_id":58074491,"body_markdown":"What you need is your local maven nexus that is only available in your server. Considering you have jars that are only available to you, I guess that you have sources for them. As a result, you should be able to convert them into maven projects and deploy them into your local nexus. After fixing the structure, maven will download your dependencies and the dependencies&#39; dependencies when resolving a project. \r\n\r\nOr you could use `&lt;scope&gt;system&lt;/scope&gt;`, but that requires absolute paths and is generally not suggested.","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p>What you need is your local maven nexus that is only available in your server. Considering you have jars that are only available to you, I guess that you have sources for them. As a result, you should be able to convert them into maven projects and deploy them into your local nexus. After fixing the structure, maven will download your dependencies and the dependencies' dependencies when resolving a project. </p>\n\n<p>Or you could use <code>&lt;scope&gt;system&lt;/scope&gt;</code>, but that requires absolute paths and is generally not suggested.</p>\n"}],"owner":{"account_id":16755181,"reputation":43,"user_id":12111279,"display_name":"Jatin Vasnani"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3274,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":58081980,"answer_count":4,"score":1,"last_activity_date":1656358142,"creation_date":1569307481,"question_id":58074491,"body_markdown":"There is a java project which has too many jar files and it has become difficult to manage all of them. I know there is a way to convert this project to a maven project but I don&#39;t want to manually add the dependency for each jar in my project to the pom file.\r\n\r\nIs there any way to create the pom file using the local jar files such that the pom will contain the dependency tag for each jar.\r\n\r\nEdit : I want to clarify that  I do not want to add the jars from/to the local repository. \r\nThe local repository approach will not work for me as the project will be used by multiple users across different systems.\r\n\r\nI wanted to create regular pom dependency entries along with groupId, artifactId and version for the jar files which I already have so that I can copy-paste it into the pom file when I convert my project to a Maven project. As I have a large number of JARs in my project, I would have to do it all manually. \r\n\r\nSolution provided by @Milen Dyankov worked for me. I was able to get the information I needed from most of the JAR files.","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p>There is a java project which has too many jar files and it has become difficult to manage all of them. I know there is a way to convert this project to a maven project but I don't want to manually add the dependency for each jar in my project to the pom file.</p>\n\n<p>Is there any way to create the pom file using the local jar files such that the pom will contain the dependency tag for each jar.</p>\n\n<p>Edit : I want to clarify that  I do not want to add the jars from/to the local repository. \nThe local repository approach will not work for me as the project will be used by multiple users across different systems.</p>\n\n<p>I wanted to create regular pom dependency entries along with groupId, artifactId and version for the jar files which I already have so that I can copy-paste it into the pom file when I convert my project to a Maven project. As I have a large number of JARs in my project, I would have to do it all manually. </p>\n\n<p>Solution provided by @Milen Dyankov worked for me. I was able to get the information I needed from most of the JAR files.</p>\n"},{"tags":["java","swing","jframe","jlabel"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1655929982,"post_id":72721474,"comment_id":128451577,"body_markdown":"Calling `revalidate` doesn&#39;t perform a layout pass immediately (these&#39;s some optimisation going on), so the position of the components won&#39;t be updated right away.  A component&#39;s location/x/y is relative to the parent container, so, the top/left corner of the container will represent `0x0`.  Also, the &quot;glass pane&quot; sit on top of the content","body":"Calling <code>revalidate</code> doesn&#39;t perform a layout pass immediately (these&#39;s some optimisation going on), so the position of the components won&#39;t be updated right away.  A component&#39;s location/x/y is relative to the parent container, so, the top/left corner of the container will represent <code>0x0</code>.  Also, the &quot;glass pane&quot; sit on top of the content"},{"owner":{"account_id":17265010,"reputation":1,"user_id":18280591,"display_name":"Lek"},"score":0,"creation_date":1655930719,"post_id":72721474,"comment_id":128451813,"body_markdown":"Hey, by underneath I meant the &#39;tracker&#39; panel sits underneath the label visually. Is there no way to get the position of a nested component in terms of the whole frame?","body":"Hey, by underneath I meant the &#39;tracker&#39; panel sits underneath the label visually. Is there no way to get the position of a nested component in terms of the whole frame?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655929671,"creation_date":1655929671,"answer_id":72721609,"question_id":72721474,"body_markdown":"If you have the coordinate within the component, transfer it to screen coordinates using your component&#39;s [convertPointToScreen()][1]. Afterwards you can transfer back to see where in the window it sits by using the frame&#39;s [convertPointFromScreen()][2].\r\n\r\nOr eliminate one of the two steps by directly using [convertPoint()][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPointToScreen(java.awt.Point,java.awt.Component)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPointFromScreen(java.awt.Point,java.awt.Component)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPoint(java.awt.Component,java.awt.Point,java.awt.Component)","title":"Can&#39;t get absolute JLabel location","body":"<p>If you have the coordinate within the component, transfer it to screen coordinates using your component's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPointToScreen(java.awt.Point,java.awt.Component)\" rel=\"nofollow noreferrer\">convertPointToScreen()</a>. Afterwards you can transfer back to see where in the window it sits by using the frame's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPointFromScreen(java.awt.Point,java.awt.Component)\" rel=\"nofollow noreferrer\">convertPointFromScreen()</a>.</p>\n<p>Or eliminate one of the two steps by directly using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPoint(java.awt.Component,java.awt.Point,java.awt.Component)\" rel=\"nofollow noreferrer\">convertPoint()</a>.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656020156,"creation_date":1655932232,"answer_id":72722024,"question_id":72721474,"body_markdown":"Conceptually you could make use of [`SwingUtilities.convertPoint`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPoint(java.awt.Component,java.awt.Point,java.awt.Component)) or [`SwingUtilities.convertRectangle`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertRectangle(java.awt.Component,java.awt.Rectangle,java.awt.Component)) to convert between container contexts, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Rectangle;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    GlassPane glassPane = new GlassPane();\r\n                    JFrame frame = new JFrame();\r\n                    frame.setGlassPane(glassPane);\r\n                    frame.add(new MainPane(glassPane));\r\n                    glassPane.setVisible(true);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Tracker {\r\n            public void addTrackable(Trackable trackable);\r\n            public void removeTrackable(Trackable trackable);\r\n        }\r\n\r\n        public interface Trackable {\r\n            public JComponent[] getTrackedComponents();\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private JLabel label = new JLabel(&quot;Catch me if you can&quot;);\r\n\r\n            public MainPane(Tracker tracker) {\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                add(label);\r\n\r\n                tracker.addTrackable(new Trackable() {\r\n                    @Override\r\n                    public JComponent[] getTrackedComponents() {\r\n                        return new JComponent[] { label };\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class GlassPane extends JPanel implements Tracker {\r\n\r\n            private List&lt;Trackable&gt; trackables = new ArrayList&lt;&gt;(8);\r\n\r\n            public GlassPane() {\r\n                setOpaque(false);\r\n            }\r\n\r\n            @Override\r\n            public void addTrackable(Trackable trackable) {\r\n                trackables.add(trackable);\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public void removeTrackable(Trackable trackable) {\r\n                trackables.remove(trackable);\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.RED);\r\n                for (Trackable trackable : trackables) {\r\n                    for (JComponent component : trackable.getTrackedComponents()) {\r\n                        Rectangle relativeBounds = SwingUtilities.convertRectangle(component.getParent(), component.getBounds(), this);\r\n                        g2d.draw(relativeBounds);\r\n                    }\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\nWell, that&#39;s pretty boring, it&#39;s one component inside one container, let&#39;s trying something a little more complicated...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Rectangle;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    GlassPane glassPane = new GlassPane();\r\n                    JFrame frame = new JFrame();\r\n                    frame.setLayout(new GridLayout(2, 2, 8, 8));\r\n\r\n                    frame.add(new MainPane(glassPane));\r\n                    frame.add(new MainPane(glassPane));\r\n                    frame.add(new MainPane(glassPane));\r\n                    frame.add(new MainPane(glassPane));\r\n\r\n                    frame.setGlassPane(glassPane);\r\n                    glassPane.setVisible(true);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Tracker {\r\n            public void addTrackable(Trackable trackable);\r\n\r\n            public void removeTrackable(Trackable trackable);\r\n        }\r\n\r\n        public interface Trackable {\r\n            public JComponent[] getTrackedComponents();\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private JLabel label = new JLabel(&quot;Catch me if you can&quot;);\r\n\r\n            public MainPane(Tracker tracker) {\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new CompoundBorder(new LineBorder(Color.DARK_GRAY, 1, true), new EmptyBorder(32, 32, 32, 32)));\r\n                add(label);\r\n\r\n                tracker.addTrackable(new Trackable() {\r\n                    @Override\r\n                    public JComponent[] getTrackedComponents() {\r\n                        return new JComponent[]{label};\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class GlassPane extends JPanel implements Tracker {\r\n\r\n            private List&lt;Trackable&gt; trackables = new ArrayList&lt;&gt;(8);\r\n            private List&lt;Color&gt; masterColors = new ArrayList&lt;&gt;(Arrays.asList(new Color[]{\r\n                Color.RED,\r\n                Color.GREEN,\r\n                Color.BLUE,\r\n                Color.CYAN,\r\n                Color.DARK_GRAY,\r\n                Color.GRAY,\r\n                Color.MAGENTA,\r\n                Color.ORANGE,\r\n                Color.PINK,\r\n                Color.YELLOW,}));\r\n\r\n            public GlassPane() {\r\n                setOpaque(false);\r\n            }\r\n\r\n            @Override\r\n            public void addTrackable(Trackable trackable) {\r\n                trackables.add(trackable);\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public void removeTrackable(Trackable trackable) {\r\n                trackables.remove(trackable);\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.RED);\r\n                List&lt;Color&gt; colors = new ArrayList&lt;&gt;(masterColors);\r\n                for (Trackable trackable : trackables) {\r\n                    for (JComponent component : trackable.getTrackedComponents()) {\r\n                        if (colors.isEmpty()) {\r\n                            colors = new ArrayList&lt;&gt;(masterColors);\r\n                        }\r\n                        g2d.setColor(colors.remove(0));\r\n                        Rectangle relativeBounds = SwingUtilities.convertRectangle(component.getParent(), component.getBounds(), this);\r\n                        g2d.draw(relativeBounds);\r\n                    }\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n&gt; Here is a new smipler example program, trying to keep as close to your code as possible, that uses the convertRectangle but I can&#39;t manage to run it correctly\r\n\r\n`int y = (int) (r.getY() + r.getHeight());` ... are you deliberately trying to offset the &quot;overlay&quot;?  This seems weird to me.  \r\n\r\nAnother issue is, how does the `GlassPane` know when the child has changed position/size\r\n\r\nSo, I modified your code, getting rid of the &quot;modification&quot; to the x/y position (so I&#39;m 100% sure that the conversion between context spaces is correct) and added a `ComponentListener` to monitor changes to the &quot;target&quot; component\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Rectangle;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import java.awt.*;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n\r\n    public class Main {\r\n        private Dimension pSize = new Dimension(100, 100);\r\n        private JFrame frame = new JFrame();\r\n        private JLabel content = new JLabel(&quot;Grief&quot;);\r\n        private JPanel content2 = new JPanel();\r\n        private SidePane sidePane = new SidePane();\r\n        private GlassPane glass = new GlassPane();\r\n\r\n        private Menu menu = new Menu();\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n\r\n        }\r\n\r\n        public Main() {\r\n\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    content.setBackground(Color.green);\r\n                    content.setPreferredSize(pSize);\r\n                    content.setOpaque(true);\r\n                    //setup frame basics\r\n                    frame.setPreferredSize(new Dimension(500, 500));\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLocationRelativeTo(null);\r\n\r\n                    frame.setGlassPane(glass);\r\n\r\n                    frame.add(new MainPane());\r\n    //                glass.setNewLocation();\r\n    //                glass.revalidate();\r\n                    frame.getGlassPane().setVisible(true);\r\n    //                glass.setNewLocation();\r\n\r\n                    frame.pack();\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n            public MainPane() {\r\n                //this.setBackground(Color.orange);\r\n\r\n                this.setLayout(new BorderLayout());\r\n                this.add(sidePane, BorderLayout.WEST);\r\n                this.add(menu, BorderLayout.NORTH);\r\n            }\r\n\r\n        }\r\n\r\n        public class SidePane extends JPanel {\r\n            public SidePane() {\r\n\r\n                FlowLayout f1 = new FlowLayout(FlowLayout.LEADING);\r\n                this.setLayout(f1);\r\n                this.setBackground(Color.blue);\r\n\r\n                this.add(content);\r\n\r\n            }\r\n        }\r\n\r\n        public class Menu extends JPanel {\r\n            public Menu() {\r\n                this.setBackground(Color.orange);\r\n            }\r\n\r\n        }\r\n\r\n        public class GlassPane extends JPanel {\r\n\r\n            private Rectangle target;\r\n\r\n            public GlassPane() {\r\n                this.setOpaque(false);\r\n                setLayout(null);\r\n                content2.setBackground(Color.BLACK);\r\n                content2.setPreferredSize(pSize);\r\n                content2.setOpaque(true);\r\n                add(content2);\r\n\r\n                content.addComponentListener(new ComponentAdapter() {\r\n                    @Override\r\n                    public void componentResized(ComponentEvent e) {\r\n                        updateOverlay();\r\n                    }\r\n\r\n                    @Override\r\n                    public void componentMoved(ComponentEvent e) {\r\n                        updateOverlay();\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected void updateOverlay() {\r\n    //            Rectangle t = new Rectangle();\r\n    //            t.setBounds((int) content.getLocation().getX(), (int) content.getLocation().getY(), content.getWidth(), content.getHeight());\r\n    //            Rectangle r = SwingUtilities.convertRectangle(content.getParent(), content.getBounds(), this);\r\n    //            Rectangle r = SwingUtilities.convertRectangle(content.getParent(), content.getBounds(), this);\r\n                target = SwingUtilities.convertRectangle(content.getParent(), content.getBounds(), this);\r\n\r\n                content2.setBounds(target);\r\n\r\n                //\t r = SwingUtilities.convertRectangle(content.getParent(), t, this);\r\n    //            int x = (int) r.getBounds().getX();\r\n    //            x = (int) r.getX();\r\n    //            int y = (int) (r.getY() + r.getHeight());\r\n    //\r\n    //            content2.setBounds(x, y, 100, 100);\r\n    //            this.add(content2);\r\n            }\r\n\r\n            @Override\r\n            public void paint(Graphics g) {\r\n                super.paint(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                if (target != null) {\r\n                    g2d.setColor(Color.RED);\r\n                    g2d.draw(target);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jm0tB.gif\r\n  [2]: https://i.stack.imgur.com/nsgwH.gif\r\n  [3]: https://i.stack.imgur.com/auWF0.png","title":"Can&#39;t get absolute JLabel location","body":"<p>Conceptually you could make use of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPoint(java.awt.Component,java.awt.Point,java.awt.Component)\" rel=\"nofollow noreferrer\"><code>SwingUtilities.convertPoint</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertRectangle(java.awt.Component,java.awt.Rectangle,java.awt.Component)\" rel=\"nofollow noreferrer\"><code>SwingUtilities.convertRectangle</code></a> to convert between container contexts, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/jm0tB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jm0tB.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.Rectangle;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GlassPane glassPane = new GlassPane();\n                JFrame frame = new JFrame();\n                frame.setGlassPane(glassPane);\n                frame.add(new MainPane(glassPane));\n                glassPane.setVisible(true);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Tracker {\n        public void addTrackable(Trackable trackable);\n        public void removeTrackable(Trackable trackable);\n    }\n\n    public interface Trackable {\n        public JComponent[] getTrackedComponents();\n    }\n\n    public class MainPane extends JPanel {\n\n        private JLabel label = new JLabel(&quot;Catch me if you can&quot;);\n\n        public MainPane(Tracker tracker) {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            add(label);\n\n            tracker.addTrackable(new Trackable() {\n                @Override\n                public JComponent[] getTrackedComponents() {\n                    return new JComponent[] { label };\n                }\n            });\n        }\n\n    }\n\n    public class GlassPane extends JPanel implements Tracker {\n\n        private List&lt;Trackable&gt; trackables = new ArrayList&lt;&gt;(8);\n\n        public GlassPane() {\n            setOpaque(false);\n        }\n\n        @Override\n        public void addTrackable(Trackable trackable) {\n            trackables.add(trackable);\n            revalidate();\n            repaint();\n        }\n\n        @Override\n        public void removeTrackable(Trackable trackable) {\n            trackables.remove(trackable);\n            revalidate();\n            repaint();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.RED);\n            for (Trackable trackable : trackables) {\n                for (JComponent component : trackable.getTrackedComponents()) {\n                    Rectangle relativeBounds = SwingUtilities.convertRectangle(component.getParent(), component.getBounds(), this);\n                    g2d.draw(relativeBounds);\n                }\n            }\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Well, that's pretty boring, it's one component inside one container, let's trying something a little more complicated...</p>\n<p><a href=\"https://i.stack.imgur.com/nsgwH.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nsgwH.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.Rectangle;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GlassPane glassPane = new GlassPane();\n                JFrame frame = new JFrame();\n                frame.setLayout(new GridLayout(2, 2, 8, 8));\n\n                frame.add(new MainPane(glassPane));\n                frame.add(new MainPane(glassPane));\n                frame.add(new MainPane(glassPane));\n                frame.add(new MainPane(glassPane));\n\n                frame.setGlassPane(glassPane);\n                glassPane.setVisible(true);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Tracker {\n        public void addTrackable(Trackable trackable);\n\n        public void removeTrackable(Trackable trackable);\n    }\n\n    public interface Trackable {\n        public JComponent[] getTrackedComponents();\n    }\n\n    public class MainPane extends JPanel {\n\n        private JLabel label = new JLabel(&quot;Catch me if you can&quot;);\n\n        public MainPane(Tracker tracker) {\n            setLayout(new GridBagLayout());\n            setBorder(new CompoundBorder(new LineBorder(Color.DARK_GRAY, 1, true), new EmptyBorder(32, 32, 32, 32)));\n            add(label);\n\n            tracker.addTrackable(new Trackable() {\n                @Override\n                public JComponent[] getTrackedComponents() {\n                    return new JComponent[]{label};\n                }\n            });\n        }\n\n    }\n\n    public class GlassPane extends JPanel implements Tracker {\n\n        private List&lt;Trackable&gt; trackables = new ArrayList&lt;&gt;(8);\n        private List&lt;Color&gt; masterColors = new ArrayList&lt;&gt;(Arrays.asList(new Color[]{\n            Color.RED,\n            Color.GREEN,\n            Color.BLUE,\n            Color.CYAN,\n            Color.DARK_GRAY,\n            Color.GRAY,\n            Color.MAGENTA,\n            Color.ORANGE,\n            Color.PINK,\n            Color.YELLOW,}));\n\n        public GlassPane() {\n            setOpaque(false);\n        }\n\n        @Override\n        public void addTrackable(Trackable trackable) {\n            trackables.add(trackable);\n            revalidate();\n            repaint();\n        }\n\n        @Override\n        public void removeTrackable(Trackable trackable) {\n            trackables.remove(trackable);\n            revalidate();\n            repaint();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.RED);\n            List&lt;Color&gt; colors = new ArrayList&lt;&gt;(masterColors);\n            for (Trackable trackable : trackables) {\n                for (JComponent component : trackable.getTrackedComponents()) {\n                    if (colors.isEmpty()) {\n                        colors = new ArrayList&lt;&gt;(masterColors);\n                    }\n                    g2d.setColor(colors.remove(0));\n                    Rectangle relativeBounds = SwingUtilities.convertRectangle(component.getParent(), component.getBounds(), this);\n                    g2d.draw(relativeBounds);\n                }\n            }\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<blockquote>\n<p>Here is a new smipler example program, trying to keep as close to your code as possible, that uses the convertRectangle but I can't manage to run it correctly</p>\n</blockquote>\n<p><code>int y = (int) (r.getY() + r.getHeight());</code> ... are you deliberately trying to offset the &quot;overlay&quot;?  This seems weird to me.</p>\n<p>Another issue is, how does the <code>GlassPane</code> know when the child has changed position/size</p>\n<p>So, I modified your code, getting rid of the &quot;modification&quot; to the x/y position (so I'm 100% sure that the conversion between context spaces is correct) and added a <code>ComponentListener</code> to monitor changes to the &quot;target&quot; component</p>\n<p><a href=\"https://i.stack.imgur.com/auWF0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/auWF0.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Rectangle;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport java.awt.*;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\npublic class Main {\n    private Dimension pSize = new Dimension(100, 100);\n    private JFrame frame = new JFrame();\n    private JLabel content = new JLabel(&quot;Grief&quot;);\n    private JPanel content2 = new JPanel();\n    private SidePane sidePane = new SidePane();\n    private GlassPane glass = new GlassPane();\n\n    private Menu menu = new Menu();\n\n    public static void main(String[] args) {\n        new Main();\n\n    }\n\n    public Main() {\n\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                content.setBackground(Color.green);\n                content.setPreferredSize(pSize);\n                content.setOpaque(true);\n                //setup frame basics\n                frame.setPreferredSize(new Dimension(500, 500));\n                frame.setLayout(new BorderLayout());\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLocationRelativeTo(null);\n\n                frame.setGlassPane(glass);\n\n                frame.add(new MainPane());\n//                glass.setNewLocation();\n//                glass.revalidate();\n                frame.getGlassPane().setVisible(true);\n//                glass.setNewLocation();\n\n                frame.pack();\n                frame.setVisible(true);\n            }\n        });\n\n    }\n\n    public class MainPane extends JPanel {\n        public MainPane() {\n            //this.setBackground(Color.orange);\n\n            this.setLayout(new BorderLayout());\n            this.add(sidePane, BorderLayout.WEST);\n            this.add(menu, BorderLayout.NORTH);\n        }\n\n    }\n\n    public class SidePane extends JPanel {\n        public SidePane() {\n\n            FlowLayout f1 = new FlowLayout(FlowLayout.LEADING);\n            this.setLayout(f1);\n            this.setBackground(Color.blue);\n\n            this.add(content);\n\n        }\n    }\n\n    public class Menu extends JPanel {\n        public Menu() {\n            this.setBackground(Color.orange);\n        }\n\n    }\n\n    public class GlassPane extends JPanel {\n\n        private Rectangle target;\n\n        public GlassPane() {\n            this.setOpaque(false);\n            setLayout(null);\n            content2.setBackground(Color.BLACK);\n            content2.setPreferredSize(pSize);\n            content2.setOpaque(true);\n            add(content2);\n\n            content.addComponentListener(new ComponentAdapter() {\n                @Override\n                public void componentResized(ComponentEvent e) {\n                    updateOverlay();\n                }\n\n                @Override\n                public void componentMoved(ComponentEvent e) {\n                    updateOverlay();\n                }\n            });\n        }\n\n        protected void updateOverlay() {\n//            Rectangle t = new Rectangle();\n//            t.setBounds((int) content.getLocation().getX(), (int) content.getLocation().getY(), content.getWidth(), content.getHeight());\n//            Rectangle r = SwingUtilities.convertRectangle(content.getParent(), content.getBounds(), this);\n//            Rectangle r = SwingUtilities.convertRectangle(content.getParent(), content.getBounds(), this);\n            target = SwingUtilities.convertRectangle(content.getParent(), content.getBounds(), this);\n\n            content2.setBounds(target);\n\n            //   r = SwingUtilities.convertRectangle(content.getParent(), t, this);\n//            int x = (int) r.getBounds().getX();\n//            x = (int) r.getX();\n//            int y = (int) (r.getY() + r.getHeight());\n//\n//            content2.setBounds(x, y, 100, 100);\n//            this.add(content2);\n        }\n\n        @Override\n        public void paint(Graphics g) {\n            super.paint(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            if (target != null) {\n                g2d.setColor(Color.RED);\n                g2d.draw(target);\n            }\n            g2d.dispose();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17265010,"reputation":1,"user_id":18280591,"display_name":"Lek"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1656357310,"creation_date":1656021077,"answer_id":72736963,"question_id":72721474,"body_markdown":"Fixed the positioning issue using @MadProgrammer &#39;s method of ```SwingUtilities.convertRectangle``` and called a new method at the end of the constructor which positioned the tracker panel.\r\n\r\nCreated a separate class for the glass pane\r\n```\r\nprivate class GlassPane extends JPanel {\r\n\tpublic GlassPane() {\r\n\t\tthis.setLayout(null);\r\n\t}\r\n\t\t\r\n\tpublic void setNewLocation() {\r\n\t\tRectangle r = SwingUtilities.convertRectangle(top, content.getBounds(), this);\r\n\t\t\t\r\n\t\tJPanel content2 = new JPanel();\r\n\t\t\t\r\n\t\tint x = (int) r.getBounds().getX();\r\n        x = (int) r.getX();\r\n\t\tint y = (int) (r.getY() + r.getHeight() + 1);\r\n\t\t\t \r\n\t\tcontent2.setBounds(x, y, 100,100);\r\n\t\tthis.add(content2);\r\n\t}\r\n}\r\n```\r\n\r\nAnd added a call to the new method `setNewLocation()` at the end of the constructor\r\n\r\n```\r\npublic test() {\r\n\t\t\r\n\t\t\r\n\t**...**\r\n\t\t\r\n\tframe.pack();\r\n\tframe.setVisible(true);\r\n\tglass.setNewLocation();\t\t\r\n\t\t\r\n}\r\n```","title":"Can&#39;t get absolute JLabel location","body":"<p>Fixed the positioning issue using @MadProgrammer 's method of <code>SwingUtilities.convertRectangle</code> and called a new method at the end of the constructor which positioned the tracker panel.</p>\n<p>Created a separate class for the glass pane</p>\n<pre><code>private class GlassPane extends JPanel {\n    public GlassPane() {\n        this.setLayout(null);\n    }\n        \n    public void setNewLocation() {\n        Rectangle r = SwingUtilities.convertRectangle(top, content.getBounds(), this);\n            \n        JPanel content2 = new JPanel();\n            \n        int x = (int) r.getBounds().getX();\n        x = (int) r.getX();\n        int y = (int) (r.getY() + r.getHeight() + 1);\n             \n        content2.setBounds(x, y, 100,100);\n        this.add(content2);\n    }\n}\n</code></pre>\n<p>And added a call to the new method <code>setNewLocation()</code> at the end of the constructor</p>\n<pre><code>public test() {\n        \n        \n    **...**\n        \n    frame.pack();\n    frame.setVisible(true);\n    glass.setNewLocation();     \n        \n}\n</code></pre>\n"}],"owner":{"account_id":17265010,"reputation":1,"user_id":18280591,"display_name":"Lek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72736963,"answer_count":3,"score":-1,"last_activity_date":1656357310,"creation_date":1655928854,"question_id":72721474,"body_markdown":"My `JFrame` uses a `BorderLayout` and it has a `JLabel` nested in several panels with different layout managers. I&#39;ve tried several methods, however, cannot get the true position of where it sits in the frame.\r\n\r\nI made a test UI and it seems like when other components are added the `getX` and `getY` parameters do not update. Other methods like getLocation do not provide a correct result either. Is there any way to obtain the exact location without manually calculating every possible offset from each component.\r\n\r\nI am tracking the stated positions of the label (`content`) using a similar sized panel called `content2` in the glass pane which I want to sit underneath content perfectly.\r\n\r\n```\r\npublic class test {\r\n\tprivate Dimension pSize = new Dimension(100,100);\r\n\tprivate JFrame frame = new JFrame();\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tnew test();\r\n\r\n\t}\r\n\t\r\n\tpublic test() {\r\n\t\t\r\n\t\t\r\n\t\t//setup frame basics\r\n\t\tframe.setPreferredSize(new Dimension(500,500));\r\n\t\tframe.setLayout(new BorderLayout());\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\t// setup GUI\r\n\t\tJMenuBar j = new JMenuBar();\r\n\t\tJMenuItem a = new JMenuItem(&quot;lol&quot;);\r\n\t\tj.add(a);\r\n\t\t\r\n\t\tJPanel j2 = new JPanel();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//setup main panel\r\n\t\tJPanel main = new JPanel();\r\n\t\tmain.setBackground(Color.DARK_GRAY);\r\n\t\t//setup side panel\r\n\t\tFlowLayout f1 = new FlowLayout(FlowLayout.LEADING);\r\n\t\tf1.setHgap(10);\r\n\t\tf1.setVgap(0);\r\n\t\tJPanel side = new JPanel();\r\n\t\tside.setLayout(new BorderLayout());\r\n\t\tside.setBackground(Color.gray);\r\n\t\tside.setPreferredSize(new Dimension(150,100));\r\n\t\r\n\t\t//setup JLabel (the main focus)\r\n\t\tJLabel content = new JLabel(&quot;a&quot;);\r\n\t\tcontent.setOpaque(true);\r\n\t\tcontent.setBackground(Color.blue);\r\n\t\tcontent.setPreferredSize(pSize);\r\n\t\t\r\n\t\t// Setup the internal panels of side\r\n\t\tJPanel top = new JPanel();//The panel where CONTENT is, the main focus \r\n\t\tJPanel bot = new JPanel();\r\n\t\ttop.setBackground(Color.WHITE); \r\n\t\tbot.setBackground(Color.orange);\r\n\t\ttop.setLayout(f1);\r\n\t\ttop.add(content); \r\n\t\t\r\n\t\tside.add(top, BorderLayout.NORTH); \r\n\t\tside.add(bot, BorderLayout.CENTER);\r\n\t\t\r\n\t\tframe.add(main, BorderLayout.CENTER);\r\n\t\tframe.add(side, BorderLayout.WEST);\r\n\t\tframe.add(j2, BorderLayout.NORTH);\r\n\t\tframe.setJMenuBar(j);\r\n\t\t\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\t//Setting up the glass panel\r\n\t\tJPanel pane = new JPanel();\r\n\t\tpane.setLayout(null);\r\n\t\tpane.setOpaque(false);\r\n\t\tJPanel content2 = new JPanel();\r\n\t\tcontent2.setBackground(Color.red);\r\n\t\t\r\n\t\tcontent.revalidate();\r\n\t\tint x = content.getX();\r\n\t\tint y = content.getY();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t// y = (int) content.getLocation().getY(); //returns a completely wrong location\r\n\t\t//y = (int) content.getLocationOnScreen(); //returns a completely wrong location\r\n\t\t\r\n\t\t/*\r\n\t\tPoint p = new Point();\r\n\t\tp.setLocation(x, y);\r\n\t\t\r\n\t\tp = SwingUtilities.convertPoint(content2, x, y, frame);\r\n\t\t\r\n\t\t//SwingUtilities.convertPoint(content, p, frame);\r\n\t\t\r\n\t\ty = (int) p.getY();\r\n\t\t\r\n\t\t\r\n\t\t * \r\n\t\t * Tried multiple SwingUtility converions to no avail\r\n\t\t * \r\n\t\t */\r\n\t\t\r\n\t\t// y = y +j.getHeight() + j2.getHeight(); // Manually calculating the Y off set works successfully but is too tedious for large project\r\n\t\ty = y + content.getHeight();\r\n\t\tcontent2.setBounds(x,y,100,100);\r\n\t\t\r\n\t\tpane.add(content2);\r\n\t\t\r\n\t\tframe.setGlassPane(pane);\r\n\t\tframe.getGlassPane().setVisible(true);\r\n\t\tframe.pack();\r\n\t\t\r\n\t}\r\n\r\n}\r\n\t//frame.getContentPane().add(content);\r\n\t\t//frame.add(content);\r\n\t\t\r\n\t\tframe.setPreferredSize(new Dimension(500,500));\r\n\t\t\r\n\t\tcontent.setBorder(BorderFactory.createEmptyBorder());\r\n\t\tside.setLayout(new BorderLayout());\r\n\t\t\r\n\t\tJPanel top = new JPanel();\r\n\t\tJPanel bot = new JPanel();\r\n\t\ttop.setBackground(Color.WHITE);\r\n\t\tbot.setBackground(Color.orange);\r\n\t\t\r\n\t\tside.add(top, BorderLayout.NORTH);\r\n\t\t\r\n\t\ttop.setLayout(f1);\r\n\t\ttop.add(content);\r\n\t\t\r\n\t\tside.add(bot, BorderLayout.CENTER);\r\n\r\n\t\tframe.add(main, BorderLayout.CENTER);\r\n\t\tframe.add(j2, BorderLayout.NORTH);\r\n\t\tframe.add(side, BorderLayout.WEST);\r\n\t\t\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t\tJPanel pane = new JPanel();\r\n\t\tpane.setLayout(null);\r\n\t\tpane.setOpaque(false);\r\n\t\tJPanel content2 = new JPanel();\r\n\t\tcontent2.setBackground(Color.red);\r\n\t\t\r\n\t\tcontent.revalidate();\r\n\t\tint x = content.getX();\r\n\t\tint y = content.getY();\r\n\t\t// y = y +j.getHeight() + j2.getHeight();\r\n\t\t \r\n\t\t \r\n\t\t\r\n\t\t\r\n\t\t \r\n\t\ty = y + content.getHeight();\r\n\t\tcontent2.setBounds(x,y,100,100);\r\n\t\t\r\n\t\tpane.add(content2);\r\n\t\t\r\n\t\tframe.setGlassPane(pane);\r\n\t\tframe.getGlassPane().setVisible(true);\r\n\t\tframe.pack();\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"Can&#39;t get absolute JLabel location","body":"<p>My <code>JFrame</code> uses a <code>BorderLayout</code> and it has a <code>JLabel</code> nested in several panels with different layout managers. I've tried several methods, however, cannot get the true position of where it sits in the frame.</p>\n<p>I made a test UI and it seems like when other components are added the <code>getX</code> and <code>getY</code> parameters do not update. Other methods like getLocation do not provide a correct result either. Is there any way to obtain the exact location without manually calculating every possible offset from each component.</p>\n<p>I am tracking the stated positions of the label (<code>content</code>) using a similar sized panel called <code>content2</code> in the glass pane which I want to sit underneath content perfectly.</p>\n<pre><code>public class test {\n    private Dimension pSize = new Dimension(100,100);\n    private JFrame frame = new JFrame();\n    \n    public static void main(String[] args) {\n        new test();\n\n    }\n    \n    public test() {\n        \n        \n        //setup frame basics\n        frame.setPreferredSize(new Dimension(500,500));\n        frame.setLayout(new BorderLayout());\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        // setup GUI\n        JMenuBar j = new JMenuBar();\n        JMenuItem a = new JMenuItem(&quot;lol&quot;);\n        j.add(a);\n        \n        JPanel j2 = new JPanel();\n        \n        \n        \n        //setup main panel\n        JPanel main = new JPanel();\n        main.setBackground(Color.DARK_GRAY);\n        //setup side panel\n        FlowLayout f1 = new FlowLayout(FlowLayout.LEADING);\n        f1.setHgap(10);\n        f1.setVgap(0);\n        JPanel side = new JPanel();\n        side.setLayout(new BorderLayout());\n        side.setBackground(Color.gray);\n        side.setPreferredSize(new Dimension(150,100));\n    \n        //setup JLabel (the main focus)\n        JLabel content = new JLabel(&quot;a&quot;);\n        content.setOpaque(true);\n        content.setBackground(Color.blue);\n        content.setPreferredSize(pSize);\n        \n        // Setup the internal panels of side\n        JPanel top = new JPanel();//The panel where CONTENT is, the main focus \n        JPanel bot = new JPanel();\n        top.setBackground(Color.WHITE); \n        bot.setBackground(Color.orange);\n        top.setLayout(f1);\n        top.add(content); \n        \n        side.add(top, BorderLayout.NORTH); \n        side.add(bot, BorderLayout.CENTER);\n        \n        frame.add(main, BorderLayout.CENTER);\n        frame.add(side, BorderLayout.WEST);\n        frame.add(j2, BorderLayout.NORTH);\n        frame.setJMenuBar(j);\n        \n        frame.pack();\n        frame.setVisible(true);\n        \n        //Setting up the glass panel\n        JPanel pane = new JPanel();\n        pane.setLayout(null);\n        pane.setOpaque(false);\n        JPanel content2 = new JPanel();\n        content2.setBackground(Color.red);\n        \n        content.revalidate();\n        int x = content.getX();\n        int y = content.getY();\n        \n        \n        \n        // y = (int) content.getLocation().getY(); //returns a completely wrong location\n        //y = (int) content.getLocationOnScreen(); //returns a completely wrong location\n        \n        /*\n        Point p = new Point();\n        p.setLocation(x, y);\n        \n        p = SwingUtilities.convertPoint(content2, x, y, frame);\n        \n        //SwingUtilities.convertPoint(content, p, frame);\n        \n        y = (int) p.getY();\n        \n        \n         * \n         * Tried multiple SwingUtility converions to no avail\n         * \n         */\n        \n        // y = y +j.getHeight() + j2.getHeight(); // Manually calculating the Y off set works successfully but is too tedious for large project\n        y = y + content.getHeight();\n        content2.setBounds(x,y,100,100);\n        \n        pane.add(content2);\n        \n        frame.setGlassPane(pane);\n        frame.getGlassPane().setVisible(true);\n        frame.pack();\n        \n    }\n\n}\n    //frame.getContentPane().add(content);\n        //frame.add(content);\n        \n        frame.setPreferredSize(new Dimension(500,500));\n        \n        content.setBorder(BorderFactory.createEmptyBorder());\n        side.setLayout(new BorderLayout());\n        \n        JPanel top = new JPanel();\n        JPanel bot = new JPanel();\n        top.setBackground(Color.WHITE);\n        bot.setBackground(Color.orange);\n        \n        side.add(top, BorderLayout.NORTH);\n        \n        top.setLayout(f1);\n        top.add(content);\n        \n        side.add(bot, BorderLayout.CENTER);\n\n        frame.add(main, BorderLayout.CENTER);\n        frame.add(j2, BorderLayout.NORTH);\n        frame.add(side, BorderLayout.WEST);\n        \n        frame.pack();\n        frame.setVisible(true);\n        JPanel pane = new JPanel();\n        pane.setLayout(null);\n        pane.setOpaque(false);\n        JPanel content2 = new JPanel();\n        content2.setBackground(Color.red);\n        \n        content.revalidate();\n        int x = content.getX();\n        int y = content.getY();\n        // y = y +j.getHeight() + j2.getHeight();\n         \n         \n        \n        \n         \n        y = y + content.getHeight();\n        content2.setBounds(x,y,100,100);\n        \n        pane.add(content2);\n        \n        frame.setGlassPane(pane);\n        frame.getGlassPane().setVisible(true);\n        frame.pack();\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1545820245,"creation_date":1505792963,"answer_id":46291485,"question_id":46290916,"body_markdown":"You project class-path has to include a version of `junit-jupiter-params-xxx.jar`, like `junit-jupiter-params-5.0.0.jar` from http://central.maven.org/maven2/org/junit/jupiter/junit-jupiter-params/5.0.0/\n\nThe blog post from `codefx.org` you link to says (edited to the current 5.0.0 release):\n\n&gt; Getting started with parameterized tests is pretty easy but before the fun can begin you have to add the following dependency to your project:\n&gt;\n&gt;     Group ID: org.junit.jupiter\n&gt;     Artifact ID: junit-jupiter-params\n&gt;     Version: 5.0.0\n\nEither download and add it manually, or if you&#39;re using a build tool with dependency management (Gradle, Maven, ...) configure the build script (build.gradle, pom.xml, ...) accordingly.\n\nFind some generic samples here: https://github.com/junit-team/junit5-samples\n\nStarting with version **5.4.0-M1** JUnit Jupiter provides an aggregator artifact that bundles all available Jupiter-defining artifacts for easy consumption. See https://sormuras.github.io/blog/2018-12-26-junit-jupiter-aggregator.html for details.","title":"Missing org.junit.jupiter.params from JUnit5","body":"<p>You project class-path has to include a version of <code>junit-jupiter-params-xxx.jar</code>, like <code>junit-jupiter-params-5.0.0.jar</code> from <a href=\"http://central.maven.org/maven2/org/junit/jupiter/junit-jupiter-params/5.0.0/\" rel=\"noreferrer\">http://central.maven.org/maven2/org/junit/jupiter/junit-jupiter-params/5.0.0/</a></p>\n<p>The blog post from <code>codefx.org</code> you link to says (edited to the current 5.0.0 release):</p>\n<blockquote>\n<p>Getting started with parameterized tests is pretty easy but before the fun can begin you have to add the following dependency to your project:</p>\n<pre><code>Group ID: org.junit.jupiter\nArtifact ID: junit-jupiter-params\nVersion: 5.0.0\n</code></pre>\n</blockquote>\n<p>Either download and add it manually, or if you're using a build tool with dependency management (Gradle, Maven, ...) configure the build script (build.gradle, pom.xml, ...) accordingly.</p>\n<p>Find some generic samples here: <a href=\"https://github.com/junit-team/junit5-samples\" rel=\"noreferrer\">https://github.com/junit-team/junit5-samples</a></p>\n<p>Starting with version <strong>5.4.0-M1</strong> JUnit Jupiter provides an aggregator artifact that bundles all available Jupiter-defining artifacts for easy consumption. See <a href=\"https://sormuras.github.io/blog/2018-12-26-junit-jupiter-aggregator.html\" rel=\"noreferrer\">https://sormuras.github.io/blog/2018-12-26-junit-jupiter-aggregator.html</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":3107006,"reputation":10136,"user_id":2629588,"accept_rate":50,"display_name":"Sankarganesh Eswaran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545819748,"creation_date":1545819748,"answer_id":53930687,"question_id":46290916,"body_markdown":"Add the following dependency in pom.xml. jupiter API [Junit 5] approaches modules as plugins, each of on has to be deliberately added, \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMore on: https://mvnrepository.com/artifact/org.junit.jupiter","title":"Missing org.junit.jupiter.params from JUnit5","body":"<p>Add the following dependency in pom.xml. jupiter API [Junit 5] approaches modules as plugins, each of on has to be deliberately added, </p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n  &lt;version&gt;${junit.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>More on: <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.junit.jupiter</a></p>\n"},{"tags":[],"owner":{"account_id":17922599,"reputation":29,"user_id":13022002,"display_name":"TheDeanMachine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656356762,"creation_date":1656356454,"answer_id":72777152,"question_id":46290916,"body_markdown":"More specifically,  \r\n\r\nhttps://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n    &lt;version&gt;5.7.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nIt will redline, so click to update/refresh MAVEN\r\n\r\n","title":"Missing org.junit.jupiter.params from JUnit5","body":"<p>More specifically,</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n    &lt;version&gt;5.7.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It will redline, so click to update/refresh MAVEN</p>\n"}],"owner":{"account_id":3634451,"reputation":2164,"user_id":3029887,"accept_rate":100,"display_name":"AzzamAziz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21533,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":46291485,"answer_count":3,"score":21,"last_activity_date":1656356762,"creation_date":1505788359,"question_id":46290916,"body_markdown":"I am trying to add parameterized tests into my Java program. I found the examples for JUnit 5, which I do have included.\r\n\r\nhttps://blog.codefx.org/libraries/junit-5-parameterized-tests/\r\n\r\nThe issue is I cannot add @ParameterizedTest because the namespace is missing. Idk why or how.\r\n\r\nThe [documentation][1] page clearly states it is in org.junit.jupiter.params, but I do not have that.\r\n\r\nTo give you an idea of my code:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n\r\n    class SubsetPrinterTest\r\n    {\r\n        // https://blog.codefx.org/libraries/junit-5-parameterized-tests/\r\n\r\n        static Collection&lt;Object[]&gt; makeSetData()\r\n        {\r\n            return Arrays.asList(new Object[][]\r\n            {\r\n                    {1, new char[]{&#39;1&#39;}},\r\n                    {2, new char[]{&#39;1&#39;, &#39;2&#39;}},\r\n                    {3, new char[]{&#39;1&#39;, &#39;2&#39;, &#39;3&#39;}},\r\n                    {4, new char[]{&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;}},\r\n                    {5, new char[]{&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;}}\r\n            });\r\n        }\r\n\r\n        // This should be a parameterized test using the makeSetData.\r\n        @Test\r\n        void makeSet()\r\n        {\r\n            // Arrange\r\n            SubsetPrinter subsetPrinter = new SubsetPrinter();\r\n\r\n            // Act\r\n            char[] set = SubsetPrinter.MakeSet(5);\r\n\r\n            // Assert\r\n            assertArrayEquals(set, new char[]{&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;});\r\n            assertEquals(set.length, 5);\r\n        }\r\n    }\r\n\r\n  [1]: http://junit.org/junit5/docs/current/user-guide/#api-evolution-experimental-apis","title":"Missing org.junit.jupiter.params from JUnit5","body":"<p>I am trying to add parameterized tests into my Java program. I found the examples for JUnit 5, which I do have included.</p>\n\n<p><a href=\"https://blog.codefx.org/libraries/junit-5-parameterized-tests/\" rel=\"noreferrer\">https://blog.codefx.org/libraries/junit-5-parameterized-tests/</a></p>\n\n<p>The issue is I cannot add @ParameterizedTest because the namespace is missing. Idk why or how.</p>\n\n<p>The <a href=\"http://junit.org/junit5/docs/current/user-guide/#api-evolution-experimental-apis\" rel=\"noreferrer\">documentation</a> page clearly states it is in org.junit.jupiter.params, but I do not have that.</p>\n\n<p>To give you an idea of my code:</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.util.Arrays;\nimport java.util.Collection;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass SubsetPrinterTest\n{\n    // https://blog.codefx.org/libraries/junit-5-parameterized-tests/\n\n    static Collection&lt;Object[]&gt; makeSetData()\n    {\n        return Arrays.asList(new Object[][]\n        {\n                {1, new char[]{'1'}},\n                {2, new char[]{'1', '2'}},\n                {3, new char[]{'1', '2', '3'}},\n                {4, new char[]{'1', '2', '3', '4'}},\n                {5, new char[]{'1', '2', '3', '4', '5'}}\n        });\n    }\n\n    // This should be a parameterized test using the makeSetData.\n    @Test\n    void makeSet()\n    {\n        // Arrange\n        SubsetPrinter subsetPrinter = new SubsetPrinter();\n\n        // Act\n        char[] set = SubsetPrinter.MakeSet(5);\n\n        // Assert\n        assertArrayEquals(set, new char[]{'1', '2', '3', '4', '5'});\n        assertEquals(set.length, 5);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":15714586,"reputation":341,"user_id":11339093,"display_name":"SergeiTonoian"},"score":0,"creation_date":1613371785,"post_id":66203419,"comment_id":117044671,"body_markdown":"Maybe this answer can help: [Apply settings for Tomcat](https://stackoverflow.com/a/57632752/11339093)","body":"Maybe this answer can help: <a href=\"https://stackoverflow.com/a/57632752/11339093\">Apply settings for Tomcat</a>"},{"owner":{"account_id":17970180,"reputation":3,"user_id":13059156,"display_name":"Keriel"},"score":0,"creation_date":1613378127,"post_id":66203419,"comment_id":117046656,"body_markdown":"@SergeiTonoian I tried it before and it was the same. It was an http2 problem","body":"@SergeiTonoian I tried it before and it was the same. It was an http2 problem"}],"answers":[{"tags":[],"owner":{"account_id":16193795,"reputation":29,"user_id":11977185,"display_name":"space"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1613370710,"creation_date":1613370710,"answer_id":66203615,"question_id":66203419,"body_markdown":"Check out [Tomcat Bug](https://bz.apache.org/bugzilla/show_bug.cgi?id=63948) maybe this is your case.","title":"Error occurs when @requestbody with large capacity in Spring Boot","body":"<p>Check out <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=63948\" rel=\"nofollow noreferrer\">Tomcat Bug</a> maybe this is your case.</p>\n"},{"tags":[],"owner":{"account_id":20618549,"reputation":81,"user_id":15136062,"display_name":"peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613374684,"creation_date":1613374684,"answer_id":66204221,"question_id":66203419,"body_markdown":"\r\nFind the server.xml of tomcat and modify the value:\r\n\r\n    &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; overheadDataThreshold=0 /&gt;\r\n\r\nSet overheadDataThreshold to 0","title":"Error occurs when @requestbody with large capacity in Spring Boot","body":"<p>Find the server.xml of tomcat and modify the value:</p>\n<pre><code>&lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; overheadDataThreshold=0 /&gt;\n</code></pre>\n<p>Set overheadDataThreshold to 0</p>\n"},{"tags":[],"owner":{"account_id":8139998,"reputation":1398,"user_id":6130501,"display_name":"Adir Dayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656356166,"creation_date":1656356166,"answer_id":72777106,"question_id":66203419,"body_markdown":"Add in application.properties\r\n\r\n`server.http2.enabled=true`","title":"Error occurs when @requestbody with large capacity in Spring Boot","body":"<p>Add in application.properties</p>\n<p><code>server.http2.enabled=true</code></p>\n"}],"owner":{"account_id":17970180,"reputation":3,"user_id":13059156,"display_name":"Keriel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66204221,"answer_count":3,"score":0,"last_activity_date":1656356166,"creation_date":1613369247,"question_id":66203419,"body_markdown":"I am building a simple API using SpringBoot. Receives input through RequestBody and prints it out..\r\n\r\n\r\nHowever, as the size of the RequestBody increases, the following error occurs. It doesn&#39;t happen unconditionally, it sometimes succeeds...\r\n```\r\n2021-02-15 03:52:50.028  WARN 5115 --- [nio-8443-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is org.apache.catalina.connector.ClientAbortException: java.io.EOFException]\r\n2021-02-15 03:52:50.037 ERROR 5115 --- [nio-8443-exec-3] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]\r\n\r\norg.apache.catalina.connector.ClientAbortException: org.apache.coyote.CloseNowException: Connection [{0}], Stream [{1}], This stream is not writable\r\n        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:309) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:272) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:153) ~[na:na]\r\n        at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1178) ~[jackson-core-2.11.4.jar!/:2.11.4]\r\n        at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1008) ~[jackson-databind-2.11.4.jar!/:2.11.4]\r\n        at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:345) ~[spring-web-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:277) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.41.jar!/:4.0.FR]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.41.jar!/:4.0.FR]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.3.jar!/:5.3.3]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.3.jar!/:5.3.3]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.3.jar!/:5.3.3]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:398) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:257) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:179) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.http2.StreamProcessor.service(StreamProcessor.java:405) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.http2.StreamProcessor.process(StreamProcessor.java:74) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.http2.StreamRunnable.run(StreamRunnable.java:35) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\nCaused by: org.apache.coyote.CloseNowException: Connection [{0}], Stream [{1}], This stream is not writable\r\n        at org.apache.coyote.http2.Stream.doStreamCancel(Stream.java:255) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.http2.Http2UpgradeHandler.reserveWindowSize(Http2UpgradeHandler.java:856) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.http2.Stream$StreamOutputBuffer.flush(Stream.java:901) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.http2.Stream$StreamOutputBuffer.flush(Stream.java:847) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.http2.Stream$StreamOutputBuffer.flush(Stream.java:970) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.http2.Http2OutputBuffer.flush(Http2OutputBuffer.java:77) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.http2.StreamProcessor.flush(StreamProcessor.java:234) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:402) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.coyote.Response.action(Response.java:209) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        ... 51 common frames omitted\r\nCaused by: org.apache.coyote.http2.StreamException: Connection [{0}], Stream [{1}], This stream is not writable\r\n        at org.apache.coyote.http2.Stream.doStreamCancel(Stream.java:247) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\r\n        ... 60 common frames omitted\r\n\r\n```\r\nhttps://pastebin.com/PRHwJ8XM\r\n\r\nSpring Boot configuration including\r\n1. spring.servlet.multipart.max-file-size\r\n2. spring.servlet.multipart.max-request-size\r\n3. server.max-http-form-post-size\r\n4. server.max-swallow-size\r\n5. server.tomcat.connection-timeout\r\n\r\nand nginx I have modified all the settings. \r\n\r\nIt didn&#39;t happen over time that the error occurred, but the error occurred as soon as I sent the POST request. The small body still works well... \r\n\r\nThe client encodes the image file as Base64 and passes the encoding result as JSON. If the length of Base64 is short, it will be processed without any problems, but if the length is longer, a corresponding error occurs. \r\n\r\n\r\nIf you have any relevant experience, I ask for advice on how to fix it.\r\n","title":"Error occurs when @requestbody with large capacity in Spring Boot","body":"<p>I am building a simple API using SpringBoot. Receives input through RequestBody and prints it out..</p>\n<p>However, as the size of the RequestBody increases, the following error occurs. It doesn't happen unconditionally, it sometimes succeeds...</p>\n<pre><code>2021-02-15 03:52:50.028  WARN 5115 --- [nio-8443-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is org.apache.catalina.connector.ClientAbortException: java.io.EOFException]\n2021-02-15 03:52:50.037 ERROR 5115 --- [nio-8443-exec-3] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]\n\norg.apache.catalina.connector.ClientAbortException: org.apache.coyote.CloseNowException: Connection [{0}], Stream [{1}], This stream is not writable\n        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:309) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:272) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:153) ~[na:na]\n        at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1178) ~[jackson-core-2.11.4.jar!/:2.11.4]\n        at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1008) ~[jackson-databind-2.11.4.jar!/:2.11.4]\n        at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:345) ~[spring-web-5.3.3.jar!/:5.3.3]\n        at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:277) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.41.jar!/:4.0.FR]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.3.jar!/:5.3.3]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.41.jar!/:4.0.FR]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.3.jar!/:5.3.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.3.jar!/:5.3.3]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.3.jar!/:5.3.3]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.3.jar!/:5.3.3]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:398) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:257) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:179) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.http2.StreamProcessor.service(StreamProcessor.java:405) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.http2.StreamProcessor.process(StreamProcessor.java:74) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.http2.StreamRunnable.run(StreamRunnable.java:35) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\nCaused by: org.apache.coyote.CloseNowException: Connection [{0}], Stream [{1}], This stream is not writable\n        at org.apache.coyote.http2.Stream.doStreamCancel(Stream.java:255) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.http2.Http2UpgradeHandler.reserveWindowSize(Http2UpgradeHandler.java:856) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.http2.Stream$StreamOutputBuffer.flush(Stream.java:901) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.http2.Stream$StreamOutputBuffer.flush(Stream.java:847) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.http2.Stream$StreamOutputBuffer.flush(Stream.java:970) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.http2.Http2OutputBuffer.flush(Http2OutputBuffer.java:77) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.http2.StreamProcessor.flush(StreamProcessor.java:234) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:402) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.coyote.Response.action(Response.java:209) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        ... 51 common frames omitted\nCaused by: org.apache.coyote.http2.StreamException: Connection [{0}], Stream [{1}], This stream is not writable\n        at org.apache.coyote.http2.Stream.doStreamCancel(Stream.java:247) ~[tomcat-embed-core-9.0.41.jar!/:9.0.41]\n        ... 60 common frames omitted\n\n</code></pre>\n<p><a href=\"https://pastebin.com/PRHwJ8XM\" rel=\"nofollow noreferrer\">https://pastebin.com/PRHwJ8XM</a></p>\n<p>Spring Boot configuration including</p>\n<ol>\n<li>spring.servlet.multipart.max-file-size</li>\n<li>spring.servlet.multipart.max-request-size</li>\n<li>server.max-http-form-post-size</li>\n<li>server.max-swallow-size</li>\n<li>server.tomcat.connection-timeout</li>\n</ol>\n<p>and nginx I have modified all the settings.</p>\n<p>It didn't happen over time that the error occurred, but the error occurred as soon as I sent the POST request. The small body still works well...</p>\n<p>The client encodes the image file as Base64 and passes the encoding result as JSON. If the length of Base64 is short, it will be processed without any problems, but if the length is longer, a corresponding error occurs.</p>\n<p>If you have any relevant experience, I ask for advice on how to fix it.</p>\n"},{"tags":["java","maven","jenkins","apache-commons-lang3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1656348609,"post_id":72775381,"comment_id":128544872,"body_markdown":"Which. Maven are you running? Can you check via `mvn --version` on plain command line and post the result here in your question..","body":"Which. Maven are you running? Can you check via <code>mvn --version</code> on plain command line and post the result here in your question.."},{"owner":{"account_id":15902484,"reputation":25,"user_id":11474506,"display_name":"Thomarkey"},"score":0,"creation_date":1656355603,"post_id":72775381,"comment_id":128547262,"body_markdown":"true, thanks. added! I now see a difference locally &lt;--&gt; jenkins server: on the Jenkins it&#39;s ```3.3.9``` whereas locally I run ```3.8.3``` . Is it just an upgrade I can ask on the devops?","body":"true, thanks. added! I now see a difference locally &lt;--&gt; jenkins server: on the Jenkins it&#39;s <code>3.3.9</code> whereas locally I run <code>3.8.3</code> . Is it just an upgrade I can ask on the devops?"},{"owner":{"account_id":15902484,"reputation":25,"user_id":11474506,"display_name":"Thomarkey"},"score":0,"creation_date":1656356006,"post_id":72775381,"comment_id":128547380,"body_markdown":"Actually there are some other differences as well: this is my local --version\n```Apache Maven 3.8.3 (ff8e977a158738155dc465c6a97ffaf31982d739)\nMaven home: /usr/local/Cellar/maven/3.8.3/libexec\nJava version: 1.8.0_332, vendor: Amazon.com Inc., runtime: /Users/market1/Library/Java/JavaVirtualMachines/corretto-1.8.0_332/Contents/Home/jre\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.15.7&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n```","body":"Actually there are some other differences as well: this is my local --version <code>Apache Maven 3.8.3 (ff8e977a158738155dc465c6a97ffaf31982d739) Maven home: &#47;usr&#47;local&#47;Cellar&#47;maven&#47;3.8.3&#47;libexec Java version: 1.8.0_332, vendor: Amazon.com Inc., runtime: &#47;Users&#47;market1&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;corretto-1.8&zwnj;&#8203;.0_332&#47;Contents&#47;Home&zwnj;&#8203;&#47;jre Default locale: en_GB, platform encoding: UTF-8 OS name: &quot;mac os x&quot;, version: &quot;10.15.7&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot; </code>"}],"owner":{"account_id":15902484,"reputation":25,"user_id":11474506,"display_name":"Thomarkey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656356082,"creation_date":1656347018,"question_id":72775381,"body_markdown":"Jenkins mvn --version:\r\n```\r\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T17:41:47+01:00)\r\nMaven home: /appl/xxx/maven/apache-maven-3.3.9\r\nJava version: 1.8.0_51, vendor: Oracle Corporation\r\nJava home: /usr/java/jdk1.8.0_51/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.53.1.el7.x86_64&quot;, arch: &quot;i386&quot;, family: &quot;unix&quot;\r\n```\r\n\r\nLocally mvn --version:\r\n```\r\nApache Maven 3.8.3 (ff8e977a158738155dc465c6a97ffaf31982d739)\r\nMaven home: /usr/local/Cellar/maven/3.8.3/libexec\r\nJava version: 1.8.0_332, vendor: Amazon.com Inc., runtime: /Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_332/Contents/Home/jre\r\nDefault locale: en_GB, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.15.7&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\nSo locally I can run everything just fine, I run my code on an offline jenkins server but its repository is exactly same as mine local (I&#39;ve uploaded everything manually) so I really don&#39;t understand the problem.\r\n\r\nI run my testcases using maven using following command on Jenkins (locally with mvn in front):\r\n\r\n```-U clean install -PTestExecutor```\r\n\r\nthis is my ```pom```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.xxx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testing&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;cucumber.version&gt;7.3.3&lt;/cucumber.version&gt;\r\n        &lt;selenium.version&gt;4.2.1&lt;/selenium.version&gt;\r\n        &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\r\n        &lt;assertj.version&gt;3.23.1&lt;/assertj.version&gt;\r\n        &lt;commonsmodel.version&gt;5.3.3&lt;/commonsmodel.version&gt;\r\n        &lt;maven.compiler.version&gt;3.10.1&lt;/maven.compiler.version&gt;\r\n        &lt;maven.surefire.version&gt;3.0.0-M6&lt;/maven.surefire.version&gt;\r\n        &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\r\n        &lt;junit-jupiter-engine.version&gt;5.8.2&lt;/junit-jupiter-engine.version&gt;\r\n        &lt;maven-cucumber-reporting.version&gt;5.7.0&lt;/maven-cucumber-reporting.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-jupiter-engine.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.jodah&lt;/groupId&gt;\r\n            &lt;artifactId&gt;failsafe&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n            &lt;version&gt;${awaitility.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;TestExecutor&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;includes&gt;**/ExecutorTest.java&lt;/includes&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;!--cucumber report plugin--&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven-cucumber-reporting.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;generate-cucumber-reports&lt;/id&gt;\r\n                                &lt;phase&gt;verify&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;projectName&gt;Automation report&lt;/projectName&gt;\r\n                                    &lt;outputDirectory&gt;${project.build.directory}/cucumber-reports&lt;/outputDirectory&gt;\r\n                                    &lt;inputDirectory&gt;${project.build.directory}/&lt;/inputDirectory&gt;\r\n                                    &lt;jsonFiles&gt;\r\n                                        &lt;param&gt;**/*.json&lt;/param&gt;\r\n                                    &lt;/jsonFiles&gt;\r\n                                    &lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nand this is the error stack trace\r\n\r\n```\r\n[ERROR] Failed to execute goal net.masterthought:maven-cucumber-reporting:5.7.0:generate (generate-cucumber-reports) on project testing: Execution generate-cucumber-reports of goal net.masterthought:maven-cucumber-reporting:5.7.0:generate failed: A required class was missing while executing net.masterthought:maven-cucumber-reporting:5.7.0:generate: org/apache/commons/lang3/ArrayUtils\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] realm =    plugin&gt;net.masterthought:maven-cucumber-reporting:5.7.0\r\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n[ERROR] urls[0] = file:/appl/xxx/maven/repo/net/masterthought/maven-cucumber-reporting/5.7.0/maven-cucumber-reporting-5.7.0.jar\r\n[ERROR] urls[1] = file:/appl/xxx/maven/repo/net/masterthought/cucumber-reporting/5.7.0/cucumber-reporting-5.7.0.jar\r\n[ERROR] urls[2] = file:/appl/xxxf/maven/repo/org/codehaus/plexus/plexus-utils/1.1/plexus-utils-1.1.jar\r\n[ERROR] Number of foreign imports: 1\r\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n[JENKINS] Archiving /appl/xxx/jenkins/workspace/Customer_Portal/web-full-suite/pom.xml to com.xxx/testing/1.0-SNAPSHOT/testing-1.0-SNAPSHOT.pom\r\n[JENKINS] Archiving /appl/xxx/jenkins/workspace/Customer_Portal/web-full-suite/target/testing-1.0-SNAPSHOT.jar to com.xxx/testing/1.0-SNAPSHOT/testing-1.0-SNAPSHOT.jar\r\n[ERROR] \r\n[ERROR] -----------------------------------------------------: org.apache.commons.lang3.ArrayUtils\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n```\r\n\r\nbut as far as I can tell my ```commons-lang3``` dependency is set, its jar is added to the Artifactory. I tried multiple versions but at no hail.\r\n\r\nThanks","title":"A required class was missing while executing net.masterthought:maven-cucumber-reporting:5.7.0:generate: org/apache/commons/lang3/ArrayUtils","body":"<p>Jenkins mvn --version:</p>\n<pre><code>Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T17:41:47+01:00)\nMaven home: /appl/xxx/maven/apache-maven-3.3.9\nJava version: 1.8.0_51, vendor: Oracle Corporation\nJava home: /usr/java/jdk1.8.0_51/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.53.1.el7.x86_64&quot;, arch: &quot;i386&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>Locally mvn --version:</p>\n<pre><code>Apache Maven 3.8.3 (ff8e977a158738155dc465c6a97ffaf31982d739)\nMaven home: /usr/local/Cellar/maven/3.8.3/libexec\nJava version: 1.8.0_332, vendor: Amazon.com Inc., runtime: /Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_332/Contents/Home/jre\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.15.7&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>So locally I can run everything just fine, I run my code on an offline jenkins server but its repository is exactly same as mine local (I've uploaded everything manually) so I really don't understand the problem.</p>\n<p>I run my testcases using maven using following command on Jenkins (locally with mvn in front):</p>\n<p><code>-U clean install -PTestExecutor</code></p>\n<p>this is my <code>pom</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.xxx&lt;/groupId&gt;\n    &lt;artifactId&gt;testing&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n\n        &lt;cucumber.version&gt;7.3.3&lt;/cucumber.version&gt;\n        &lt;selenium.version&gt;4.2.1&lt;/selenium.version&gt;\n        &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\n        &lt;assertj.version&gt;3.23.1&lt;/assertj.version&gt;\n        &lt;commonsmodel.version&gt;5.3.3&lt;/commonsmodel.version&gt;\n        &lt;maven.compiler.version&gt;3.10.1&lt;/maven.compiler.version&gt;\n        &lt;maven.surefire.version&gt;3.0.0-M6&lt;/maven.surefire.version&gt;\n        &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\n        &lt;junit-jupiter-engine.version&gt;5.8.2&lt;/junit-jupiter-engine.version&gt;\n        &lt;maven-cucumber-reporting.version&gt;5.7.0&lt;/maven-cucumber-reporting.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit-jupiter-engine.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.jodah&lt;/groupId&gt;\n            &lt;artifactId&gt;failsafe&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n            &lt;version&gt;${awaitility.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n            &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\n            &lt;version&gt;3.2.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;TestExecutor&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;includes&gt;\n                                &lt;includes&gt;**/ExecutorTest.java&lt;/includes&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;!--cucumber report plugin--&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n                        &lt;version&gt;${maven-cucumber-reporting.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;generate-cucumber-reports&lt;/id&gt;\n                                &lt;phase&gt;verify&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;generate&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;projectName&gt;Automation report&lt;/projectName&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}/cucumber-reports&lt;/outputDirectory&gt;\n                                    &lt;inputDirectory&gt;${project.build.directory}/&lt;/inputDirectory&gt;\n                                    &lt;jsonFiles&gt;\n                                        &lt;param&gt;**/*.json&lt;/param&gt;\n                                    &lt;/jsonFiles&gt;\n                                    &lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>and this is the error stack trace</p>\n<pre><code>[ERROR] Failed to execute goal net.masterthought:maven-cucumber-reporting:5.7.0:generate (generate-cucumber-reports) on project testing: Execution generate-cucumber-reports of goal net.masterthought:maven-cucumber-reporting:5.7.0:generate failed: A required class was missing while executing net.masterthought:maven-cucumber-reporting:5.7.0:generate: org/apache/commons/lang3/ArrayUtils\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;net.masterthought:maven-cucumber-reporting:5.7.0\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/appl/xxx/maven/repo/net/masterthought/maven-cucumber-reporting/5.7.0/maven-cucumber-reporting-5.7.0.jar\n[ERROR] urls[1] = file:/appl/xxx/maven/repo/net/masterthought/cucumber-reporting/5.7.0/cucumber-reporting-5.7.0.jar\n[ERROR] urls[2] = file:/appl/xxxf/maven/repo/org/codehaus/plexus/plexus-utils/1.1/plexus-utils-1.1.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[JENKINS] Archiving /appl/xxx/jenkins/workspace/Customer_Portal/web-full-suite/pom.xml to com.xxx/testing/1.0-SNAPSHOT/testing-1.0-SNAPSHOT.pom\n[JENKINS] Archiving /appl/xxx/jenkins/workspace/Customer_Portal/web-full-suite/target/testing-1.0-SNAPSHOT.jar to com.xxx/testing/1.0-SNAPSHOT/testing-1.0-SNAPSHOT.jar\n[ERROR] \n[ERROR] -----------------------------------------------------: org.apache.commons.lang3.ArrayUtils\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n<p>but as far as I can tell my <code>commons-lang3</code> dependency is set, its jar is added to the Artifactory. I tried multiple versions but at no hail.</p>\n<p>Thanks</p>\n"},{"tags":["java","soap","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":9657373,"reputation":51,"user_id":7166520,"display_name":"Agata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580897664,"creation_date":1580897664,"answer_id":60073463,"question_id":60061880,"body_markdown":"I&#39;ve found this solution: \r\n```\r\n    private static String generateStringFromResource(String path) throws IOException {\r\n        return new String(Files.readAllBytes(Paths.get(path)));\r\n    }\r\n```\r\n\r\n```\r\n        String req= generateStringFromResource (&quot;pathToXML&quot;)\r\n                .replace(&quot;parameter&quot;, paramValue);\r\n```","title":"How to send dynamic SOAP XML req payload in RestAssured","body":"<p>I've found this solution: </p>\n\n<pre><code>    private static String generateStringFromResource(String path) throws IOException {\n        return new String(Files.readAllBytes(Paths.get(path)));\n    }\n</code></pre>\n\n<pre><code>        String req= generateStringFromResource (\"pathToXML\")\n                .replace(\"parameter\", paramValue);\n</code></pre>\n"}],"owner":{"account_id":9657373,"reputation":51,"user_id":7166520,"display_name":"Agata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656354903,"creation_date":1580834469,"question_id":60061880,"body_markdown":"I&#39;d like to send dynamic parameter into SOAP XML which I later use as a body in my RestAssured test. How to do it? I&#39;ve tried to pass it as a formParam but it says that &quot;You can either send form parameters OR body content in POST, not both!&quot;. \r\n\r\n```\r\n   Response response = given()\r\n                .header(&quot;Content-Type&quot;, &quot;text/xml&quot;)\r\n                .and()\r\n                .formParam(&quot;paramName&quot;, &quot;paramValue&quot;)\r\n                .body(IOUtils.toString(fileInputStream,&quot;UTF-8&quot;))\r\n                .when()\r\n                .post()\r\n                .then()\r\n                .statusCode(200)\r\n\r\n```\r\nAnd part of my XML looks like this:\r\n```\r\n&lt;dms:paramName&gt;${paramValue}&lt;/dms:paramName&gt;\r\n```","title":"How to send dynamic SOAP XML req payload in RestAssured","body":"<p>I'd like to send dynamic parameter into SOAP XML which I later use as a body in my RestAssured test. How to do it? I've tried to pass it as a formParam but it says that \"You can either send form parameters OR body content in POST, not both!\". </p>\n\n<pre><code>   Response response = given()\n                .header(\"Content-Type\", \"text/xml\")\n                .and()\n                .formParam(\"paramName\", \"paramValue\")\n                .body(IOUtils.toString(fileInputStream,\"UTF-8\"))\n                .when()\n                .post()\n                .then()\n                .statusCode(200)\n\n</code></pre>\n\n<p>And part of my XML looks like this:</p>\n\n<pre><code>&lt;dms:paramName&gt;${paramValue}&lt;/dms:paramName&gt;\n</code></pre>\n"},{"tags":["java","css","spring","vaadin","war"],"answers":[{"tags":[],"owner":{"account_id":4059918,"reputation":1722,"user_id":3336733,"display_name":"Artur Signell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656354497,"creation_date":1656354497,"answer_id":72776819,"question_id":72776665,"body_markdown":"The files in `META-INF/resources` are published in the server root so your `META-INF/resources/img/zac-bromell-QwrTnOlWAmI-unsplash.jpg` file is available at `img/zac-bromell-QwrTnOlWAmI-unsplash.jpg` inside your context root. Your background image CSS should thus be `&quot;background-image: url(&quot;img/zac-bromell-QwrTnOlWAmI-unsplash.jpg&quot;);&quot;`\r\n","title":"Background Image of CSS is not showing","body":"<p>The files in <code>META-INF/resources</code> are published in the server root so your <code>META-INF/resources/img/zac-bromell-QwrTnOlWAmI-unsplash.jpg</code> file is available at <code>img/zac-bromell-QwrTnOlWAmI-unsplash.jpg</code> inside your context root. Your background image CSS should thus be <code>&quot;background-image: url(&quot;img/zac-bromell-QwrTnOlWAmI-unsplash.jpg&quot;);&quot;</code></p>\n"}],"owner":{"account_id":23592032,"reputation":51,"user_id":17629671,"display_name":"Zakon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72776819,"answer_count":1,"score":-1,"last_activity_date":1656354497,"creation_date":1656353588,"question_id":72776665,"body_markdown":"I have written a Java WebApp with Vaadin 14.8.0 and SpringBoot.\r\nWhen I put the application in production mode and create a war file with the command &quot;mvn clean package -Pproduction&quot; and deploy it on my Wildfly, everything works normally. My CSS files are read and also activated. \r\nHowever, the path I use in the css file for the background image is not found.\r\n\r\n    &quot;background-image: url(&quot;/META-INF/resources/img/zac-bromell-QwrTnOlWAmI-unsplash.jpg&quot;);&quot;\r\n\r\nIf I enter the path directly as url:\r\n\r\n    &quot;http://localhost:8080/planyoureplaylist-1.0-SNAPSHOT/META-INF/resources/img/zac-bromell-QwrTnOlWAmI-unsplash.jpg&quot; \r\n\r\nI also get a 404 Not Found.\r\n\r\nMy css files are located in the root directory under `./frontend/styles`.\r\nMy image files can be found in `src/main/resources/META-INF/resources/img/`.\r\n\r\nI also looked at my WAR file with WINRAR. Since I notice that I find the image files in the directory `WEB-INF\\classes\\META-INF\\resources\\img`, but in the whole folder structure not my css files.\r\n\r\nTo my surprise the background image was displayed normally when I started the application not yet via an external wildfly.\r\n\r\nIn reference to the following link https://github.com/vaadin/flow/issues/11015 I understand that it is a bug of vaadin. However, since I am on Vaadin 14.8.0 and the bug should be fixed with 14.6.2 I do not understand the problem.\r\n\r\nGladly point out if something else is needed to solve the problem.\r\n\r\nAbout help I would be very happy.\r\nThanks in advance\r\n\r\n\r\n","title":"Background Image of CSS is not showing","body":"<p>I have written a Java WebApp with Vaadin 14.8.0 and SpringBoot.\nWhen I put the application in production mode and create a war file with the command &quot;mvn clean package -Pproduction&quot; and deploy it on my Wildfly, everything works normally. My CSS files are read and also activated.\nHowever, the path I use in the css file for the background image is not found.</p>\n<pre><code>&quot;background-image: url(&quot;/META-INF/resources/img/zac-bromell-QwrTnOlWAmI-unsplash.jpg&quot;);&quot;\n</code></pre>\n<p>If I enter the path directly as url:</p>\n<pre><code>&quot;http://localhost:8080/planyoureplaylist-1.0-SNAPSHOT/META-INF/resources/img/zac-bromell-QwrTnOlWAmI-unsplash.jpg&quot; \n</code></pre>\n<p>I also get a 404 Not Found.</p>\n<p>My css files are located in the root directory under <code>./frontend/styles</code>.\nMy image files can be found in <code>src/main/resources/META-INF/resources/img/</code>.</p>\n<p>I also looked at my WAR file with WINRAR. Since I notice that I find the image files in the directory <code>WEB-INF\\classes\\META-INF\\resources\\img</code>, but in the whole folder structure not my css files.</p>\n<p>To my surprise the background image was displayed normally when I started the application not yet via an external wildfly.</p>\n<p>In reference to the following link <a href=\"https://github.com/vaadin/flow/issues/11015\" rel=\"nofollow noreferrer\">https://github.com/vaadin/flow/issues/11015</a> I understand that it is a bug of vaadin. However, since I am on Vaadin 14.8.0 and the bug should be fixed with 14.6.2 I do not understand the problem.</p>\n<p>Gladly point out if something else is needed to solve the problem.</p>\n<p>About help I would be very happy.\nThanks in advance</p>\n"},{"tags":["java","android","android-studio","notifications"],"answers":[{"tags":[],"owner":{"account_id":2501253,"reputation":360,"user_id":2176268,"accept_rate":40,"display_name":"Unique Identifier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656319223,"creation_date":1656319223,"answer_id":72769236,"question_id":72767641,"body_markdown":"In your below code if user has not specified anything for notification or if he has Higher notification importance: shows everywhere, makes noise and peeks.  Then your soundAllowed is true.\r\nI think you should remove importance &lt; 0 so you will get this soundAllowed variable only true with user has gave higher importance to notification sounds\r\n\r\n    boolean soundAllowed = importance &lt; 0 || importance &gt;= NotificationManager.IMPORTANCE_DEFAULT; // where default value is 3\r\n\r\nPlease check the values here for more clarity.\r\n\r\n https://developer.android.com/reference/android/app/NotificationManager#IMPORTANCE_NONE\r\n\r\n\r\n","title":"android check if &quot;Allow sound&quot; notification setting is enabled or disable programmatically","body":"<p>In your below code if user has not specified anything for notification or if he has Higher notification importance: shows everywhere, makes noise and peeks.  Then your soundAllowed is true.\nI think you should remove importance &lt; 0 so you will get this soundAllowed variable only true with user has gave higher importance to notification sounds</p>\n<pre><code>boolean soundAllowed = importance &lt; 0 || importance &gt;= NotificationManager.IMPORTANCE_DEFAULT; // where default value is 3\n</code></pre>\n<p>Please check the values here for more clarity.</p>\n<p><a href=\"https://developer.android.com/reference/android/app/NotificationManager#IMPORTANCE_NONE\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/NotificationManager#IMPORTANCE_NONE</a></p>\n"}],"owner":{"account_id":17342497,"reputation":47,"user_id":12562769,"display_name":"Swapnil33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656353080,"creation_date":1656310411,"question_id":72767641,"body_markdown":"So I have followed [this link](https://stackoverflow.com/questions/59669451/android-check-if-allow-sound-notification-setting-is-enabled-programmatically) to solve my problem. but i think the answer is out dated. the code is not working. \r\n\r\n    int importance = manager.getImportance();\r\n    boolean soundAllowed = importance &lt; 0 || importance &gt;= NotificationManager.IMPORTANCE_DEFAULT;\r\n\r\nso this is condition i&#39;m currently using to detect if sound of notification is on or off **(where manager is object of NotificationManager class)**. but it&#39;s not working.\r\n\r\ni want to check if sound of notification is on or off. if it is off then notify user to turn it on.\r\n\r\nthank you for reading","title":"android check if &quot;Allow sound&quot; notification setting is enabled or disable programmatically","body":"<p>So I have followed <a href=\"https://stackoverflow.com/questions/59669451/android-check-if-allow-sound-notification-setting-is-enabled-programmatically\">this link</a> to solve my problem. but i think the answer is out dated. the code is not working.</p>\n<pre><code>int importance = manager.getImportance();\nboolean soundAllowed = importance &lt; 0 || importance &gt;= NotificationManager.IMPORTANCE_DEFAULT;\n</code></pre>\n<p>so this is condition i'm currently using to detect if sound of notification is on or off <strong>(where manager is object of NotificationManager class)</strong>. but it's not working.</p>\n<p>i want to check if sound of notification is on or off. if it is off then notify user to turn it on.</p>\n<p>thank you for reading</p>\n"},{"tags":["java","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656353272,"post_id":72776545,"comment_id":128546484,"body_markdown":"I find it difficult to read JDK&#39;s concurrency code (mainly due to style), but I&#39;d guess `U.compareAndSwapInt(this, CELLSBUSY, 0, 1))` acts as a spinlock protecting the modification of the array so no need to really use volatile there.","body":"I find it difficult to read JDK&#39;s concurrency code (mainly due to style), but I&#39;d guess <code>U.compareAndSwapInt(this, CELLSBUSY, 0, 1))</code> acts as a spinlock protecting the modification of the array so no need to really use volatile there."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1656353451,"post_id":72776545,"comment_id":128546550,"body_markdown":"The solution with the `table` uses compare-and-swap, while the `CounterCell` uses `LongAdder`, which performs better under highly contended environments [per the javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html). There&#39;s also a semantical issue with `ConcurrentHashMap` performance across several different `ConcurrentHashMap` objects that came up years ago, but I&#39;m having trouble finding it at the moment...","body":"The solution with the <code>table</code> uses compare-and-swap, while the <code>CounterCell</code> uses <code>LongAdder</code>, which performs better under highly contended environments <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html\" rel=\"nofollow noreferrer\">per the javadoc</a>. There&#39;s also a semantical issue with <code>ConcurrentHashMap</code> performance across several different <code>ConcurrentHashMap</code> objects that came up years ago, but I&#39;m having trouble finding it at the moment..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1656364944,"post_id":72776545,"comment_id":128549880,"body_markdown":"FYI: There is no such thing as a volatile array in Java. When you write `volatile&#160;CounterCell[]&#160;counterCells`, it&#39;s the _variable_ that&#39;s `volatile`, not the array to which the variable refers. The volatile semantics are triggered when some thread does `counterCells=...;`, not when `counterCells[i]=...;`.","body":"FYI: There is no such thing as a volatile array in Java. When you write <code>volatile CounterCell[] counterCells</code>, it&#39;s the <i>variable</i> that&#39;s <code>volatile</code>, not the array to which the variable refers. The volatile semantics are triggered when some thread does <code>counterCells=...;</code>, not when <code>counterCells[i]=...;</code>."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1656469495,"post_id":72776545,"comment_id":128577898,"body_markdown":"A stale read is fine because on table expansion the same cell instances are used and are summed on read. Which cell instances are incremented or decremented does not matter, as long as the summarized state remains consistent.","body":"A stale read is fine because on table expansion the same cell instances are used and are summed on read. Which cell instances are incremented or decremented does not matter, as long as the summarized state remains consistent."}],"owner":{"account_id":12269835,"reputation":11,"user_id":8955286,"display_name":"asiuf爱施德"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656352967,"creation_date":1656352967,"question_id":72776545,"body_markdown":"In JDK8 ConcurrentHashMap using a variable named `volatile Node&lt;K,V&gt;[] table` for The HashMap, and supply three Volatile access methods for the table elements;\r\nBecause The volatile array dont means The element of the volatile array is volatile also, So We have to use `Unsafe` class to access elements with volatile semantics.\r\n```    \r\n    static final &lt;K,V&gt; Node&lt;K,V&gt; tabAt(Node&lt;K,V&gt;[] tab, int i) {\r\n        return (Node&lt;K,V&gt;)U.getObjectVolatile(tab, ((long)i &lt;&lt; ASHIFT) + ABASE);\r\n    }\r\n\r\n    static final &lt;K,V&gt; boolean casTabAt(Node&lt;K,V&gt;[] tab, int i,\r\n                                        Node&lt;K,V&gt; c, Node&lt;K,V&gt; v) {\r\n        return U.compareAndSwapObject(tab, ((long)i &lt;&lt; ASHIFT) + ABASE, c, v);\r\n    }\r\n\r\n    static final &lt;K,V&gt; void setTabAt(Node&lt;K,V&gt;[] tab, int i, Node&lt;K,V&gt; v) {\r\n        U.putObjectVolatile(tab, ((long)i &lt;&lt; ASHIFT) + ABASE, v);\r\n    }\r\n```\r\n\r\n[Volatile access methods In ConcurrentHashMap JDK8][1]\r\n\r\nBut there also have a volatile variable named `volatile CounterCell[] counterCells`, But I dont see any volatile semantics access in counterCells array elements , \r\n```\r\n            if ((as = counterCells) != null &amp;&amp; (n = as.length) &gt; 0) {\r\n                if ((a = as[(n - 1) &amp; h]) == null) { // here as[(n - 1) &amp; h] not volatile access\r\n                    if (cellsBusy == 0) {            // Try to attach new Cell\r\n                        CounterCell r = new CounterCell(x); // Optimistic create\r\n                        if (cellsBusy == 0 &amp;&amp;\r\n                            U.compareAndSwapInt(this, CELLSBUSY, 0, 1)) {\r\n                            boolean created = false;\r\n                            try {               // Recheck under lock\r\n                                CounterCell[] rs; int m, j;\r\n                                if ((rs = counterCells) != null &amp;&amp;\r\n                                    (m = rs.length) &gt; 0 &amp;&amp;\r\n                                    rs[j = (m - 1) &amp; h] == null) { //here rs[j = (m - 1) &amp; h] not volatile\r\n                                    rs[j] = r; // here not volatile\r\n                                    created = true;\r\n                                }\r\n                            } finally {\r\n                                cellsBusy = 0;\r\n                            }\r\n                            if (created)\r\n                                break;\r\n                            continue;           // Slot is now non-empty\r\n                        }\r\n                    }\r\n                    collide = false;\r\n                }\r\n                ......\r\n            }\r\n```\r\n\r\n[access volatile array counterCells element is not volatile semantics][2]\r\n\r\nI wonder why just use volatile accsess method for `table` array, but not `counterCells` both, And When is it appropriate to use volatile accsess method visit a volatile array element? Thankyou.\r\n\r\n  [1]: https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#l754\r\n  [2]: https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#l2524","title":"Why dont use volatile access methods for a volatile array `CounterCell[] counterCells` in Java ConcurrentHashMap?","body":"<p>In JDK8 ConcurrentHashMap using a variable named <code>volatile Node&lt;K,V&gt;[] table</code> for The HashMap, and supply three Volatile access methods for the table elements;\nBecause The volatile array dont means The element of the volatile array is volatile also, So We have to use <code>Unsafe</code> class to access elements with volatile semantics.</p>\n<pre><code>    static final &lt;K,V&gt; Node&lt;K,V&gt; tabAt(Node&lt;K,V&gt;[] tab, int i) {\n        return (Node&lt;K,V&gt;)U.getObjectVolatile(tab, ((long)i &lt;&lt; ASHIFT) + ABASE);\n    }\n\n    static final &lt;K,V&gt; boolean casTabAt(Node&lt;K,V&gt;[] tab, int i,\n                                        Node&lt;K,V&gt; c, Node&lt;K,V&gt; v) {\n        return U.compareAndSwapObject(tab, ((long)i &lt;&lt; ASHIFT) + ABASE, c, v);\n    }\n\n    static final &lt;K,V&gt; void setTabAt(Node&lt;K,V&gt;[] tab, int i, Node&lt;K,V&gt; v) {\n        U.putObjectVolatile(tab, ((long)i &lt;&lt; ASHIFT) + ABASE, v);\n    }\n</code></pre>\n<p><a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#l754\" rel=\"nofollow noreferrer\">Volatile access methods In ConcurrentHashMap JDK8</a></p>\n<p>But there also have a volatile variable named <code>volatile CounterCell[] counterCells</code>, But I dont see any volatile semantics access in counterCells array elements ,</p>\n<pre><code>            if ((as = counterCells) != null &amp;&amp; (n = as.length) &gt; 0) {\n                if ((a = as[(n - 1) &amp; h]) == null) { // here as[(n - 1) &amp; h] not volatile access\n                    if (cellsBusy == 0) {            // Try to attach new Cell\n                        CounterCell r = new CounterCell(x); // Optimistic create\n                        if (cellsBusy == 0 &amp;&amp;\n                            U.compareAndSwapInt(this, CELLSBUSY, 0, 1)) {\n                            boolean created = false;\n                            try {               // Recheck under lock\n                                CounterCell[] rs; int m, j;\n                                if ((rs = counterCells) != null &amp;&amp;\n                                    (m = rs.length) &gt; 0 &amp;&amp;\n                                    rs[j = (m - 1) &amp; h] == null) { //here rs[j = (m - 1) &amp; h] not volatile\n                                    rs[j] = r; // here not volatile\n                                    created = true;\n                                }\n                            } finally {\n                                cellsBusy = 0;\n                            }\n                            if (created)\n                                break;\n                            continue;           // Slot is now non-empty\n                        }\n                    }\n                    collide = false;\n                }\n                ......\n            }\n</code></pre>\n<p><a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#l2524\" rel=\"nofollow noreferrer\">access volatile array counterCells element is not volatile semantics</a></p>\n<p>I wonder why just use volatile accsess method for <code>table</code> array, but not <code>counterCells</code> both, And When is it appropriate to use volatile accsess method visit a volatile array element? Thankyou.</p>\n"},{"tags":["java","excel","vba","jxl"],"comments":[{"owner":{"display_name":"user10307643"},"score":0,"creation_date":1566991301,"post_id":57690986,"comment_id":101826732,"body_markdown":"If you want to download a file, no need to use jxl: it&#39;s just a file, we don&#39;t care what is inside (and there are other ways to download a file in Java). Apparently, if you try to open the file as a Workbook within jxl api, the macro is lost: not too surprising, as it has a specific format unrelated to worksheets, that is probably more difficult to parse: check in the documentation if it&#39;s supported.","body":"If you want to download a file, no need to use jxl: it&#39;s just a file, we don&#39;t care what is inside (and there are other ways to download a file in Java). Apparently, if you try to open the file as a Workbook within jxl api, the macro is lost: not too surprising, as it has a specific format unrelated to worksheets, that is probably more difficult to parse: check in the documentation if it&#39;s supported."},{"owner":{"display_name":"user10307643"},"score":0,"creation_date":1566991571,"post_id":57690986,"comment_id":101826881,"body_markdown":"Note also that the library is [ten years old](https://sourceforge.net/projects/jexcelapi/files/), and to deal with Excel files I would rather suggest [Apache POI](https://poi.apache.org/) (which seems to have some [support](https://poi.apache.org/apidocs/dev/org/apache/poi/poifs/macros/VBAMacroReader.html) for VBA).","body":"Note also that the library is <a href=\"https://sourceforge.net/projects/jexcelapi/files/\" rel=\"nofollow noreferrer\">ten years old</a>, and to deal with Excel files I would rather suggest <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a> (which seems to have some <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/poifs/macros/VBAMacroReader.html\" rel=\"nofollow noreferrer\">support</a> for VBA)."}],"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656352922,"creation_date":1566990429,"question_id":57690986,"body_markdown":"I have developed a code which allows me to download an Excel file based on a prepared template that contains vba code and macro.\r\n\r\nThe code below allow me to create **calendar** workbook from **template**  file.\r\n    \r\n\t\t\tString nomFichierExcel = &quot;D:\\\\Calendrier&quot;+annee+&quot;-&quot;+versionFac+&quot;-&quot;+versionPrel+&quot;.xls&quot;; \r\n\t\t\tString filePath = &quot;D:\\\\test3107\\\\test-calender-war\\\\CALWAS\\\\templateee.xls&quot;; \t\t\t\t\t\r\n\t\t\tWorkbookSettings ws = new WorkbookSettings() ;\r\n\t\t\tws.setEncoding(&quot;Cp1252&quot;);\r\n\t\t\tWorkbook workbook = Workbook.getWorkbook(new File(filePath),ws); \r\n\t\t\tWritableWorkbook copy = Workbook.createWorkbook(new File(nomFichierExcel), workbook ); \r\n\r\nThe problem is after downloading the Excel file I cannot find the vba code and module when I press ALT + F11, also when I open the file I get this as error message, but I can see data after clicking OK button.\r\n\r\n&gt; File error: data may have been lost \r\n\r\n","title":"Excel file downloaded without VBA module","body":"<p>I have developed a code which allows me to download an Excel file based on a prepared template that contains vba code and macro.</p>\n<p>The code below allow me to create <strong>calendar</strong> workbook from <strong>template</strong>  file.</p>\n<pre><code>        String nomFichierExcel = &quot;D:\\\\Calendrier&quot;+annee+&quot;-&quot;+versionFac+&quot;-&quot;+versionPrel+&quot;.xls&quot;; \n        String filePath = &quot;D:\\\\test3107\\\\test-calender-war\\\\CALWAS\\\\templateee.xls&quot;;                    \n        WorkbookSettings ws = new WorkbookSettings() ;\n        ws.setEncoding(&quot;Cp1252&quot;);\n        Workbook workbook = Workbook.getWorkbook(new File(filePath),ws); \n        WritableWorkbook copy = Workbook.createWorkbook(new File(nomFichierExcel), workbook ); \n</code></pre>\n<p>The problem is after downloading the Excel file I cannot find the vba code and module when I press ALT + F11, also when I open the file I get this as error message, but I can see data after clicking OK button.</p>\n<blockquote>\n<p>File error: data may have been lost</p>\n</blockquote>\n"},{"tags":["java","string","numeric"],"comments":[{"owner":{"account_id":1256982,"reputation":1626,"user_id":1216246,"accept_rate":65,"display_name":"Oscar Castiblanco"},"score":42,"creation_date":1329483122,"post_id":1102891,"comment_id":11771134,"body_markdown":"All the solutions proposed with regular expresions will not work for hexadecimal numbers.","body":"All the solutions proposed with regular expresions will not work for hexadecimal numbers."},{"owner":{"account_id":2599209,"reputation":42707,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"score":0,"creation_date":1460619080,"post_id":1102891,"comment_id":60829371,"body_markdown":"and passing null string in matches(...) function will throw NullPointer  exception.","body":"and passing null string in matches(...) function will throw NullPointer  exception."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1461873042,"post_id":1102891,"comment_id":61409700,"body_markdown":"See Max Malysh&#39;s answer for a concise Java 8 solution without third-party libraries.","body":"See Max Malysh&#39;s answer for a concise Java 8 solution without third-party libraries."},{"owner":{"account_id":117399,"reputation":1856,"user_id":307454,"accept_rate":95,"display_name":"lifebalance"},"score":0,"creation_date":1475735265,"post_id":1102891,"comment_id":67064068,"body_markdown":"@HiteshSahu null strings seem to be gracefully handled in latest version (including Java 6.x and 7.x)","body":"@HiteshSahu null strings seem to be gracefully handled in latest version (including Java 6.x and 7.x)"},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1489649044,"post_id":1102891,"comment_id":72765544,"body_markdown":"All the solutions proposed to use `Integer.parseInt()` will fail to parse mobile numbers with `NumberFormatException`.","body":"All the solutions proposed to use <code>Integer.parseInt()</code> will fail to parse mobile numbers with <code>NumberFormatException</code>."},{"owner":{"account_id":381332,"reputation":18533,"user_id":735926,"accept_rate":95,"display_name":"bfontaine"},"score":0,"creation_date":1527672860,"post_id":1102891,"comment_id":88211530,"body_markdown":"@OscarCastiblanco _All_ strings are numbers in a given base.","body":"@OscarCastiblanco <i>All</i> strings are numbers in a given base."}],"answers":[{"tags":[],"owner":{"account_id":25537,"reputation":10945,"user_id":65678,"accept_rate":100,"display_name":"danielschemmel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1428282937,"creation_date":1247133192,"answer_id":1102903,"question_id":1102891,"body_markdown":"Parse it (i.e. with [`Integer#parseInt`](http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-) ) and simply catch the exception. =)\r\n\r\nTo clarify: The parseInt function checks if it can parse the number in any case (obviously) and if you want to parse it anyway, you are not going to take any performance hit by actually doing the parsing.\r\n\r\n\r\nIf you would not want to parse it (or parse it very, very rarely) you might wish to do it differently of course.","title":"How to check if a String is numeric in Java","body":"<p>Parse it (i.e. with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Integer#parseInt</code></a> ) and simply catch the exception. =)</p>\n\n<p>To clarify: The parseInt function checks if it can parse the number in any case (obviously) and if you want to parse it anyway, you are not going to take any performance hit by actually doing the parsing.</p>\n\n<p>If you would not want to parse it (or parse it very, very rarely) you might wish to do it differently of course.</p>\n"},{"tags":[],"owner":{"account_id":36459,"reputation":40877,"user_id":104014,"accept_rate":89,"display_name":"Artem Barger"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1428283513,"creation_date":1247133238,"answer_id":1102905,"question_id":1102891,"body_markdown":"You can use [`NumberFormat#parse`](http://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html#parse-java.lang.String-):\r\n\r\n    try\r\n    {\r\n         NumberFormat.getInstance().parse(value);\r\n    }\r\n    catch(ParseException e)\r\n    {\r\n        // Not a number.\r\n    }","title":"How to check if a String is numeric in Java","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html#parse-java.lang.String-\" rel=\"noreferrer\"><code>NumberFormat#parse</code></a>:</p>\n\n<pre><code>try\n{\n     NumberFormat.getInstance().parse(value);\n}\ncatch(ParseException e)\n{\n    // Not a number.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247133245,"creation_date":1247133245,"answer_id":1102907,"question_id":1102891,"body_markdown":"I think the only way to reliably tell if a string is a number, is to parse it. So I would just parse it, and if it&#39;s a number, you get the number in an int for free!","title":"How to check if a String is numeric in Java","body":"<p>I think the only way to reliably tell if a string is a number, is to parse it. So I would just parse it, and if it's a number, you get the number in an int for free!</p>\n"},{"tags":[],"owner":{"account_id":23051,"reputation":44251,"user_id":57477,"accept_rate":83,"display_name":"CraigTP"},"down_vote_count":11,"up_vote_count":1044,"is_accepted":false,"score":1033,"last_activity_date":1620652469,"creation_date":1247133315,"answer_id":1102916,"question_id":1102891,"body_markdown":"This is generally done with a simple user-defined function (i.e. Roll-your-own &quot;isNumeric&quot; function).\r\n\r\nSomething like:\r\n\r\n    public static boolean isNumeric(String str) { \r\n      try {  \r\n        Double.parseDouble(str);  \r\n        return true;\r\n      } catch(NumberFormatException e){  \r\n        return false;  \r\n      }  \r\n    }\r\n\r\nHowever, if you&#39;re calling this function a lot, and you expect many of the checks to fail due to not being a number then performance of this mechanism will not be great, since you&#39;re relying upon exceptions being thrown for each failure, which is a fairly expensive operation.\r\n\r\nAn alternative approach may be to use a regular expression to check for validity of being a number:\r\n\r\n    public static boolean isNumeric(String str) {\r\n      return str.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);  //match a number with optional &#39;-&#39; and decimal.\r\n    }\r\n\r\nBe careful with the above RegEx mechanism, though, as it will fail if you&#39;re using non-Arabic digits (i.e. numerals other than 0 through to 9).  This is because the &quot;\\d&quot; part of the RegEx will only match [0-9] and effectively isn&#39;t internationally numerically aware.  (Thanks to OregonGhost for pointing this out!)\r\n\r\nOr even another alternative is to use Java&#39;s built-in java.text.NumberFormat object to see if, after parsing the string the parser position is at the end of the string.  If it is, we can assume the entire string is numeric:\r\n\r\n    public static boolean isNumeric(String str) {\r\n      ParsePosition pos = new ParsePosition(0);\r\n      NumberFormat.getInstance().parse(str, pos);\r\n      return str.length() == pos.getIndex();\r\n    }\r\n\r\n\r\n  [1]: http://rosettacode.org/wiki/IsNumeric#Java","title":"How to check if a String is numeric in Java","body":"<p>This is generally done with a simple user-defined function (i.e. Roll-your-own &quot;isNumeric&quot; function).</p>\n<p>Something like:</p>\n<pre><code>public static boolean isNumeric(String str) { \n  try {  \n    Double.parseDouble(str);  \n    return true;\n  } catch(NumberFormatException e){  \n    return false;  \n  }  \n}\n</code></pre>\n<p>However, if you're calling this function a lot, and you expect many of the checks to fail due to not being a number then performance of this mechanism will not be great, since you're relying upon exceptions being thrown for each failure, which is a fairly expensive operation.</p>\n<p>An alternative approach may be to use a regular expression to check for validity of being a number:</p>\n<pre><code>public static boolean isNumeric(String str) {\n  return str.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);  //match a number with optional '-' and decimal.\n}\n</code></pre>\n<p>Be careful with the above RegEx mechanism, though, as it will fail if you're using non-Arabic digits (i.e. numerals other than 0 through to 9).  This is because the &quot;\\d&quot; part of the RegEx will only match [0-9] and effectively isn't internationally numerically aware.  (Thanks to OregonGhost for pointing this out!)</p>\n<p>Or even another alternative is to use Java's built-in java.text.NumberFormat object to see if, after parsing the string the parser position is at the end of the string.  If it is, we can assume the entire string is numeric:</p>\n<pre><code>public static boolean isNumeric(String str) {\n  ParsePosition pos = new ParsePosition(0);\n  NumberFormat.getInstance().parse(str, pos);\n  return str.length() == pos.getIndex();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10714,"reputation":23477,"user_id":20363,"accept_rate":38,"display_name":"OregonGhost"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1415276537,"creation_date":1247134340,"answer_id":1103015,"question_id":1102891,"body_markdown":"That&#39;s why I like the Try* approach in .NET. In addition to the traditional Parse method that&#39;s like the Java one, you also have a TryParse method. I&#39;m not good in Java syntax (out parameters?), so please treat the following as some kind of pseudo-code. It should make the concept clear though.\r\n\r\n    boolean parseInteger(String s, out int number)\r\n    {\r\n        try {\r\n            number = Integer.parseInt(myString);\r\n            return true;\r\n        } catch(NumberFormatException e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    int num;\r\n    if (parseInteger(&quot;23&quot;, out num)) {\r\n        // Do something with num.\r\n    }","title":"How to check if a String is numeric in Java","body":"<p>That's why I like the Try* approach in .NET. In addition to the traditional Parse method that's like the Java one, you also have a TryParse method. I'm not good in Java syntax (out parameters?), so please treat the following as some kind of pseudo-code. It should make the concept clear though.</p>\n\n<pre><code>boolean parseInteger(String s, out int number)\n{\n    try {\n        number = Integer.parseInt(myString);\n        return true;\n    } catch(NumberFormatException e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>int num;\nif (parseInteger(\"23\", out num)) {\n    // Do something with num.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":391957,"reputation":8860,"user_id":752918,"accept_rate":100,"display_name":"Ibrahim Arief"},"down_vote_count":2,"up_vote_count":136,"is_accepted":false,"score":134,"last_activity_date":1331645537,"creation_date":1313580623,"answer_id":7092110,"question_id":1102891,"body_markdown":"As @CraigTP had mentioned in his excellent answer, I also have similar performance concerns on using Exceptions to test whether the string is numerical or not. So I end up splitting the string and use `java.lang.Character.isDigit()`.\r\n\r\n    public static boolean isNumeric(String str)\r\n    {\r\n        for (char c : str.toCharArray())\r\n        {\r\n            if (!Character.isDigit(c)) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nAccording to [the Javadoc][1], `Character.isDigit(char)` will correctly recognizes non-Latin digits. Performance-wise, I think a simple N number of comparisons where N is the number of characters in the string would be more computationally efficient than doing a regex matching.\r\n\r\nUPDATE: As pointed by Jean-Fran&#231;ois Corbett in the comment, the above code would only validate positive integers, which covers the majority of my use case. Below is the updated code that correctly validates decimal numbers according to the default locale used in your system, with the assumption that decimal separator only occur once in the string.\r\n\r\n    public static boolean isStringNumeric( String str )\r\n    {\r\n        DecimalFormatSymbols currentLocaleSymbols = DecimalFormatSymbols.getInstance();\r\n        char localeMinusSign = currentLocaleSymbols.getMinusSign();\r\n        \r\n        if ( !Character.isDigit( str.charAt( 0 ) ) &amp;&amp; str.charAt( 0 ) != localeMinusSign ) return false;\r\n\r\n        boolean isDecimalSeparatorFound = false;\r\n        char localeDecimalSeparator = currentLocaleSymbols.getDecimalSeparator();\r\n\r\n        for ( char c : str.substring( 1 ).toCharArray() )\r\n        {\r\n            if ( !Character.isDigit( c ) )\r\n            {\r\n                if ( c == localeDecimalSeparator &amp;&amp; !isDecimalSeparatorFound )\r\n                {\r\n                    isDecimalSeparatorFound = true;\r\n                    continue;\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#isDigit%28char%29","title":"How to check if a String is numeric in Java","body":"<p>As @CraigTP had mentioned in his excellent answer, I also have similar performance concerns on using Exceptions to test whether the string is numerical or not. So I end up splitting the string and use <code>java.lang.Character.isDigit()</code>.</p>\n\n<pre><code>public static boolean isNumeric(String str)\n{\n    for (char c : str.toCharArray())\n    {\n        if (!Character.isDigit(c)) return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>According to <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#isDigit%28char%29\">the Javadoc</a>, <code>Character.isDigit(char)</code> will correctly recognizes non-Latin digits. Performance-wise, I think a simple N number of comparisons where N is the number of characters in the string would be more computationally efficient than doing a regex matching.</p>\n\n<p>UPDATE: As pointed by Jean-François Corbett in the comment, the above code would only validate positive integers, which covers the majority of my use case. Below is the updated code that correctly validates decimal numbers according to the default locale used in your system, with the assumption that decimal separator only occur once in the string.</p>\n\n<pre><code>public static boolean isStringNumeric( String str )\n{\n    DecimalFormatSymbols currentLocaleSymbols = DecimalFormatSymbols.getInstance();\n    char localeMinusSign = currentLocaleSymbols.getMinusSign();\n\n    if ( !Character.isDigit( str.charAt( 0 ) ) &amp;&amp; str.charAt( 0 ) != localeMinusSign ) return false;\n\n    boolean isDecimalSeparatorFound = false;\n    char localeDecimalSeparator = currentLocaleSymbols.getDecimalSeparator();\n\n    for ( char c : str.substring( 1 ).toCharArray() )\n    {\n        if ( !Character.isDigit( c ) )\n        {\n            if ( c == localeDecimalSeparator &amp;&amp; !isDecimalSeparatorFound )\n            {\n                isDecimalSeparatorFound = true;\n                continue;\n            }\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467535,"reputation":331,"user_id":872985,"display_name":"user872985"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1321996927,"creation_date":1316278596,"answer_id":7456368,"question_id":1102891,"body_markdown":"    public static boolean isNumeric(String str)\r\n    {\r\n        return str.matches(&quot;-?\\\\d+(.\\\\d+)?&quot;);\r\n    }\r\n\r\nCraigTP&#39;s regular expression (shown above) produces some false positives.  E.g. &quot;23y4&quot; will be counted as a number because &#39;.&#39; matches any character not the decimal point.\r\n\r\nAlso it will reject any number with a leading &#39;+&#39;\r\n\r\nAn alternative which avoids these two minor problems is&lt;br&gt; \r\n\r\n    public static boolean isNumeric(String str)\r\n    {\r\n        return str.matches(&quot;[+-]?\\\\d*(\\\\.\\\\d+)?&quot;);\r\n    }\r\n\r\n","title":"How to check if a String is numeric in Java","body":"<pre><code>public static boolean isNumeric(String str)\n{\n    return str.matches(\"-?\\\\d+(.\\\\d+)?\");\n}\n</code></pre>\n\n<p>CraigTP's regular expression (shown above) produces some false positives.  E.g. \"23y4\" will be counted as a number because '.' matches any character not the decimal point.</p>\n\n<p>Also it will reject any number with a leading '+'</p>\n\n<p>An alternative which avoids these two minor problems is<br> </p>\n\n<pre><code>public static boolean isNumeric(String str)\n{\n    return str.matches(\"[+-]?\\\\d*(\\\\.\\\\d+)?\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069631,"reputation":89,"user_id":1069226,"display_name":"Jamie Bell"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1396055164,"creation_date":1322479566,"answer_id":8295124,"question_id":1102891,"body_markdown":"Here was my answer to the problem.\r\n\r\nA catch all convenience method which you can use to parse any String with any type of parser: `isParsable(Object parser, String str)`. The parser can be a `Class` or an `object`. This will also allows you to use custom parsers you&#39;ve written and should work for ever scenario, eg:\r\n\r\n    isParsable(Integer.class, &quot;11&quot;);\r\n    isParsable(Double.class, &quot;11.11&quot;);\r\n    Object dateFormater = new java.text.SimpleDateFormat(&quot;yyyy.MM.dd G &#39;at&#39; HH:mm:ss z&quot;);\r\n    isParsable(dateFormater, &quot;2001.07.04 AD at 12:08:56 PDT&quot;);\r\n\r\n\r\nHere&#39;s my code complete with method descriptions.\r\n\r\n\timport java.lang.reflect.*;\r\n\t\r\n\t/**\r\n\t * METHOD: isParsable&lt;p&gt;&lt;p&gt;\r\n\t * \r\n\t * This method will look through the methods of the specified &lt;code&gt;from&lt;/code&gt; parameter\r\n\t * looking for a public method name starting with &quot;parse&quot; which has only one String\r\n\t * parameter.&lt;p&gt;\r\n\t * \r\n\t * The &lt;code&gt;parser&lt;/code&gt; parameter can be a class or an instantiated object, eg:\r\n\t * &lt;code&gt;Integer.class&lt;/code&gt; or &lt;code&gt;new Integer(1)&lt;/code&gt;. If you use a\r\n\t * &lt;code&gt;Class&lt;/code&gt; type then only static methods are considered.&lt;p&gt;\r\n\t * \r\n\t * When looping through potential methods, it first looks at the &lt;code&gt;Class&lt;/code&gt; associated\r\n\t * with the &lt;code&gt;parser&lt;/code&gt; parameter, then looks through the methods of the parent&#39;s class\r\n\t * followed by subsequent ancestors, using the first method that matches the criteria specified\r\n\t * above.&lt;p&gt;\r\n\t * \r\n\t * This method will hide any normal parse exceptions, but throws any exceptions due to\r\n\t * programmatic errors, eg: NullPointerExceptions, etc. If you specify a &lt;code&gt;parser&lt;/code&gt;\r\n\t * parameter which has no matching parse methods, a NoSuchMethodException will be thrown\r\n\t * embedded within a RuntimeException.&lt;p&gt;&lt;p&gt;\r\n\t * \r\n\t * Example:&lt;br&gt;\r\n\t * &lt;code&gt;isParsable(Boolean.class, &quot;true&quot;);&lt;br&gt;\r\n\t * isParsable(Integer.class, &quot;11&quot;);&lt;br&gt;\r\n\t * isParsable(Double.class, &quot;11.11&quot;);&lt;br&gt;\r\n\t * Object dateFormater = new java.text.SimpleDateFormat(&quot;yyyy.MM.dd G &#39;at&#39; HH:mm:ss z&quot;);&lt;br&gt;\r\n\t * isParsable(dateFormater, &quot;2001.07.04 AD at 12:08:56 PDT&quot;);&lt;br&gt;&lt;/code&gt;\r\n\t * &lt;p&gt;\r\n\t * \r\n\t * @param parser\tThe Class type or instantiated Object to find a parse method in.\r\n\t * @param str\tThe String you want to parse\r\n\t * \r\n\t * @return true if a parse method was found and completed without exception\r\n\t * @throws java.lang.NoSuchMethodException If no such method is accessible \r\n\t */\r\n\tpublic static boolean isParsable(Object parser, String str) {\r\n\t\tClass theClass = (parser instanceof Class? (Class)parser: parser.getClass());\r\n\t\tboolean staticOnly = (parser == theClass), foundAtLeastOne = false;\r\n\t\tMethod[] methods = theClass.getMethods();\r\n\t\t\r\n\t\t// Loop over methods\r\n\t\tfor (int index = 0; index &lt; methods.length; index++) {\r\n\t\t\tMethod method = methods[index];\r\n\t\t\t\r\n\t\t\t// If method starts with parse, is public and has one String parameter.\r\n\t\t\t// If the parser parameter was a Class, then also ensure the method is static. \r\n\t\t\tif(method.getName().startsWith(&quot;parse&quot;) &amp;&amp;\r\n\t\t\t\t(!staticOnly || Modifier.isStatic(method.getModifiers())) &amp;&amp;\r\n\t\t\t\tModifier.isPublic(method.getModifiers()) &amp;&amp;\r\n\t\t\t\tmethod.getGenericParameterTypes().length == 1 &amp;&amp;\r\n\t\t\t\tmethod.getGenericParameterTypes()[0] == String.class)\r\n\t\t\t{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfoundAtLeastOne = true;\r\n\t\t\t\t\tmethod.invoke(parser, str);\r\n\t\t\t\t\treturn true; // Successfully parsed without exception\r\n\t\t\t\t} catch (Exception exception) {\r\n\t\t\t\t\t// If invoke problem, try a different method\r\n\t\t\t\t\t/*if(!(exception instanceof IllegalArgumentException) &amp;&amp;\r\n\t\t\t\t\t   !(exception instanceof IllegalAccessException) &amp;&amp;\r\n\t\t\t\t\t   !(exception instanceof InvocationTargetException))\r\n\t\t\t\t\t\t\tcontinue; // Look for other parse methods*/\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Parse method refuses to parse, look for another different method\r\n\t\t\t\t\tcontinue; // Look for other parse methods\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// No more accessible parse method could be found.\r\n\t\tif(foundAtLeastOne) return false;\r\n\t\telse throw new RuntimeException(new NoSuchMethodException());\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * METHOD: willParse&lt;p&gt;&lt;p&gt;\r\n\t * \r\n\t * A convienence method which calls the isParseable method, but does not throw any exceptions\r\n\t * which could be thrown through programatic errors.&lt;p&gt;\r\n\t * \r\n\t * Use of {@link #isParseable(Object, String) isParseable} is recommended for use so programatic\r\n\t * errors can be caught in development, unless the value of the &lt;code&gt;parser&lt;/code&gt; parameter is\r\n\t * unpredictable, or normal programtic exceptions should be ignored.&lt;p&gt;\r\n\t * \r\n\t * See {@link #isParseable(Object, String) isParseable} for full description of method\r\n\t * usability.&lt;p&gt;\r\n\t * \r\n\t * @param parser\tThe Class type or instantiated Object to find a parse method in.\r\n\t * @param str\tThe String you want to parse\r\n\t * \r\n\t * @return true if a parse method was found and completed without exception\r\n\t * @see #isParseable(Object, String) for full description of method usability \r\n\t */\r\n\tpublic static boolean willParse(Object parser, String str) {\r\n\t\ttry {\r\n\t\t\treturn isParsable(parser, str);\r\n\t\t} catch(Throwable exception) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n","title":"How to check if a String is numeric in Java","body":"<p>Here was my answer to the problem.</p>\n\n<p>A catch all convenience method which you can use to parse any String with any type of parser: <code>isParsable(Object parser, String str)</code>. The parser can be a <code>Class</code> or an <code>object</code>. This will also allows you to use custom parsers you've written and should work for ever scenario, eg:</p>\n\n<pre><code>isParsable(Integer.class, \"11\");\nisParsable(Double.class, \"11.11\");\nObject dateFormater = new java.text.SimpleDateFormat(\"yyyy.MM.dd G 'at' HH:mm:ss z\");\nisParsable(dateFormater, \"2001.07.04 AD at 12:08:56 PDT\");\n</code></pre>\n\n<p>Here's my code complete with method descriptions.</p>\n\n<pre><code>import java.lang.reflect.*;\n\n/**\n * METHOD: isParsable&lt;p&gt;&lt;p&gt;\n * \n * This method will look through the methods of the specified &lt;code&gt;from&lt;/code&gt; parameter\n * looking for a public method name starting with \"parse\" which has only one String\n * parameter.&lt;p&gt;\n * \n * The &lt;code&gt;parser&lt;/code&gt; parameter can be a class or an instantiated object, eg:\n * &lt;code&gt;Integer.class&lt;/code&gt; or &lt;code&gt;new Integer(1)&lt;/code&gt;. If you use a\n * &lt;code&gt;Class&lt;/code&gt; type then only static methods are considered.&lt;p&gt;\n * \n * When looping through potential methods, it first looks at the &lt;code&gt;Class&lt;/code&gt; associated\n * with the &lt;code&gt;parser&lt;/code&gt; parameter, then looks through the methods of the parent's class\n * followed by subsequent ancestors, using the first method that matches the criteria specified\n * above.&lt;p&gt;\n * \n * This method will hide any normal parse exceptions, but throws any exceptions due to\n * programmatic errors, eg: NullPointerExceptions, etc. If you specify a &lt;code&gt;parser&lt;/code&gt;\n * parameter which has no matching parse methods, a NoSuchMethodException will be thrown\n * embedded within a RuntimeException.&lt;p&gt;&lt;p&gt;\n * \n * Example:&lt;br&gt;\n * &lt;code&gt;isParsable(Boolean.class, \"true\");&lt;br&gt;\n * isParsable(Integer.class, \"11\");&lt;br&gt;\n * isParsable(Double.class, \"11.11\");&lt;br&gt;\n * Object dateFormater = new java.text.SimpleDateFormat(\"yyyy.MM.dd G 'at' HH:mm:ss z\");&lt;br&gt;\n * isParsable(dateFormater, \"2001.07.04 AD at 12:08:56 PDT\");&lt;br&gt;&lt;/code&gt;\n * &lt;p&gt;\n * \n * @param parser    The Class type or instantiated Object to find a parse method in.\n * @param str   The String you want to parse\n * \n * @return true if a parse method was found and completed without exception\n * @throws java.lang.NoSuchMethodException If no such method is accessible \n */\npublic static boolean isParsable(Object parser, String str) {\n    Class theClass = (parser instanceof Class? (Class)parser: parser.getClass());\n    boolean staticOnly = (parser == theClass), foundAtLeastOne = false;\n    Method[] methods = theClass.getMethods();\n\n    // Loop over methods\n    for (int index = 0; index &lt; methods.length; index++) {\n        Method method = methods[index];\n\n        // If method starts with parse, is public and has one String parameter.\n        // If the parser parameter was a Class, then also ensure the method is static. \n        if(method.getName().startsWith(\"parse\") &amp;&amp;\n            (!staticOnly || Modifier.isStatic(method.getModifiers())) &amp;&amp;\n            Modifier.isPublic(method.getModifiers()) &amp;&amp;\n            method.getGenericParameterTypes().length == 1 &amp;&amp;\n            method.getGenericParameterTypes()[0] == String.class)\n        {\n            try {\n                foundAtLeastOne = true;\n                method.invoke(parser, str);\n                return true; // Successfully parsed without exception\n            } catch (Exception exception) {\n                // If invoke problem, try a different method\n                /*if(!(exception instanceof IllegalArgumentException) &amp;&amp;\n                   !(exception instanceof IllegalAccessException) &amp;&amp;\n                   !(exception instanceof InvocationTargetException))\n                        continue; // Look for other parse methods*/\n\n                // Parse method refuses to parse, look for another different method\n                continue; // Look for other parse methods\n            }\n        }\n    }\n\n    // No more accessible parse method could be found.\n    if(foundAtLeastOne) return false;\n    else throw new RuntimeException(new NoSuchMethodException());\n}\n\n\n/**\n * METHOD: willParse&lt;p&gt;&lt;p&gt;\n * \n * A convienence method which calls the isParseable method, but does not throw any exceptions\n * which could be thrown through programatic errors.&lt;p&gt;\n * \n * Use of {@link #isParseable(Object, String) isParseable} is recommended for use so programatic\n * errors can be caught in development, unless the value of the &lt;code&gt;parser&lt;/code&gt; parameter is\n * unpredictable, or normal programtic exceptions should be ignored.&lt;p&gt;\n * \n * See {@link #isParseable(Object, String) isParseable} for full description of method\n * usability.&lt;p&gt;\n * \n * @param parser    The Class type or instantiated Object to find a parse method in.\n * @param str   The String you want to parse\n * \n * @return true if a parse method was found and completed without exception\n * @see #isParseable(Object, String) for full description of method usability \n */\npublic static boolean willParse(Object parser, String str) {\n    try {\n        return isParsable(parser, str);\n    } catch(Throwable exception) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":466330,"reputation":13849,"user_id":871012,"accept_rate":74,"display_name":"quux00"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1327867987,"creation_date":1327867987,"answer_id":9056356,"question_id":1102891,"body_markdown":"Google&#39;s Guava library provides a nice helper method to do this: `Ints.tryParse`. You use it like `Integer.parseInt` but it returns `null` rather than throw an Exception if the string does not parse to a valid integer. Note that it returns Integer, not int, so you have to convert/autobox it back to int.\r\n\r\nExample:\r\n\r\n    String s1 = &quot;22&quot;;\r\n    String s2 = &quot;22.2&quot;;\r\n    Integer oInt1 = Ints.tryParse(s1);\r\n    Integer oInt2 = Ints.tryParse(s2);\r\n    \r\n    int i1 = -1;\r\n    if (oInt1 != null) {\r\n    \ti1 = oInt1.intValue();\r\n    }\r\n    int i2 = -1;\r\n    if (oInt2 != null) {\r\n    \ti2 = oInt2.intValue();\r\n    }\r\n    \r\n    System.out.println(i1);  // prints 22\r\n    System.out.println(i2);  // prints -1\r\n\r\n\r\nHowever, as of the current release -- Guava r11 -- it is still marked @Beta. \r\n\r\nI haven&#39;t benchmarked it. Looking at the source code there is some overhead from a lot of sanity checking but in the end they use `Character.digit(string.charAt(idx))`, similar, but slightly different from, the answer from @Ibrahim above. There is no exception handling overhead under the covers in their implementation.","title":"How to check if a String is numeric in Java","body":"<p>Google's Guava library provides a nice helper method to do this: <code>Ints.tryParse</code>. You use it like <code>Integer.parseInt</code> but it returns <code>null</code> rather than throw an Exception if the string does not parse to a valid integer. Note that it returns Integer, not int, so you have to convert/autobox it back to int.</p>\n\n<p>Example:</p>\n\n<pre><code>String s1 = \"22\";\nString s2 = \"22.2\";\nInteger oInt1 = Ints.tryParse(s1);\nInteger oInt2 = Ints.tryParse(s2);\n\nint i1 = -1;\nif (oInt1 != null) {\n    i1 = oInt1.intValue();\n}\nint i2 = -1;\nif (oInt2 != null) {\n    i2 = oInt2.intValue();\n}\n\nSystem.out.println(i1);  // prints 22\nSystem.out.println(i2);  // prints -1\n</code></pre>\n\n<p>However, as of the current release -- Guava r11 -- it is still marked @Beta. </p>\n\n<p>I haven't benchmarked it. Looking at the source code there is some overhead from a lot of sanity checking but in the end they use <code>Character.digit(string.charAt(idx))</code>, similar, but slightly different from, the answer from @Ibrahim above. There is no exception handling overhead under the covers in their implementation.</p>\n"},{"tags":[],"owner":{"account_id":1386190,"reputation":11,"user_id":1318198,"display_name":"Dayanand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396055217,"creation_date":1333743545,"answer_id":10048788,"question_id":1102891,"body_markdown":"You could use `BigDecimal` if the string may contain decimals:\r\n\r\n    try {\r\n        new java.math.BigInteger(testString);\r\n    } catch(NumberFormatException e) {\r\n        throw new RuntimeException(&quot;Not a valid number&quot;);\r\n    }","title":"How to check if a String is numeric in Java","body":"<p>You could use <code>BigDecimal</code> if the string may contain decimals:</p>\n\n<pre><code>try {\n    new java.math.BigInteger(testString);\n} catch(NumberFormatException e) {\n    throw new RuntimeException(\"Not a valid number\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"down_vote_count":10,"up_vote_count":792,"is_accepted":true,"score":782,"last_activity_date":1578387958,"creation_date":1348506105,"answer_id":12569609,"question_id":1102891,"body_markdown":"With [Apache Commons Lang][2] 3.5 and above: [`NumberUtils.isCreatable`][5] or [`StringUtils.isNumeric`][3].\r\n\r\nWith [Apache Commons Lang][2] 3.4 and below: [`NumberUtils.isNumber`][1] or [`StringUtils.isNumeric`][3].\r\n\r\nYou can also use [`StringUtils.isNumericSpace`][4] which returns `true` for empty strings  and ignores internal spaces in the string. Another way is to use [`NumberUtils.isParsable`][6] which basically checks the number is parsable according to Java. (The linked javadocs contain detailed examples for each method.)\r\n\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/math/NumberUtils.html#isNumber(java.lang.String)\r\n[2]: http://commons.apache.org/lang/\r\n[3]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#isNumeric-java.lang.CharSequence-\r\n[4]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#isNumericSpace-java.lang.CharSequence-\r\n[5]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/math/NumberUtils.html#isCreatable-java.lang.String-\r\n[6]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#isParsable-java.lang.String-","title":"How to check if a String is numeric in Java","body":"<p>With <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons Lang</a> 3.5 and above: <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/math/NumberUtils.html#isCreatable-java.lang.String-\" rel=\"noreferrer\"><code>NumberUtils.isCreatable</code></a> or <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#isNumeric-java.lang.CharSequence-\" rel=\"noreferrer\"><code>StringUtils.isNumeric</code></a>.</p>\n\n<p>With <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons Lang</a> 3.4 and below: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/math/NumberUtils.html#isNumber(java.lang.String)\" rel=\"noreferrer\"><code>NumberUtils.isNumber</code></a> or <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#isNumeric-java.lang.CharSequence-\" rel=\"noreferrer\"><code>StringUtils.isNumeric</code></a>.</p>\n\n<p>You can also use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#isNumericSpace-java.lang.CharSequence-\" rel=\"noreferrer\"><code>StringUtils.isNumericSpace</code></a> which returns <code>true</code> for empty strings  and ignores internal spaces in the string. Another way is to use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#isParsable-java.lang.String-\" rel=\"noreferrer\"><code>NumberUtils.isParsable</code></a> which basically checks the number is parsable according to Java. (The linked javadocs contain detailed examples for each method.)</p>\n"},{"tags":[],"owner":{"account_id":1682583,"reputation":2687,"user_id":1546513,"accept_rate":75,"display_name":"Elye M."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1428283937,"creation_date":1355931766,"answer_id":13955940,"question_id":1102891,"body_markdown":"    // only int\r\n    public static boolean isNumber(int num) \r\n    {\r\n        return (num &gt;= 48 &amp;&amp; c &lt;= 57); // 0 - 9\r\n    }\r\n    \r\n    // is type of number including . - e E \r\n    public static boolean isNumber(String s) \r\n    {\r\n        boolean isNumber = true;\r\n        for(int i = 0; i &lt; s.length() &amp;&amp; isNumber; i++) \r\n        {\r\n            char c = s.charAt(i);\r\n            isNumber = isNumber &amp; (\r\n                (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;) || (c == &#39;.&#39;) || (c == &#39;e&#39;) || (c == &#39;E&#39;) || (c == &#39;&#39;)\r\n            );\r\n        }\r\n        return isInteger;\r\n    }\r\n    \r\n    // is type of number \r\n    public static boolean isInteger(String s) \r\n    {\r\n        boolean isInteger = true;\r\n        for(int i = 0; i &lt; s.length() &amp;&amp; isInteger; i++) \r\n        {\r\n            char c = s.charAt(i);\r\n            isInteger = isInteger &amp; ((c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;));\r\n        }\r\n        return isInteger;\r\n    }\r\n    \r\n    public static boolean isNumeric(String s) \r\n    {\r\n        try\r\n        {\r\n            Double.parseDouble(s);\r\n            return true;\r\n        }\r\n        catch (Exception e) \r\n        {\r\n            return false;\r\n        }\r\n    }","title":"How to check if a String is numeric in Java","body":"<pre><code>// only int\npublic static boolean isNumber(int num) \n{\n    return (num &gt;= 48 &amp;&amp; c &lt;= 57); // 0 - 9\n}\n\n// is type of number including . - e E \npublic static boolean isNumber(String s) \n{\n    boolean isNumber = true;\n    for(int i = 0; i &lt; s.length() &amp;&amp; isNumber; i++) \n    {\n        char c = s.charAt(i);\n        isNumber = isNumber &amp; (\n            (c &gt;= '0' &amp;&amp; c &lt;= '9') || (c == '.') || (c == 'e') || (c == 'E') || (c == '')\n        );\n    }\n    return isInteger;\n}\n\n// is type of number \npublic static boolean isInteger(String s) \n{\n    boolean isInteger = true;\n    for(int i = 0; i &lt; s.length() &amp;&amp; isInteger; i++) \n    {\n        char c = s.charAt(i);\n        isInteger = isInteger &amp; ((c &gt;= '0' &amp;&amp; c &lt;= '9'));\n    }\n    return isInteger;\n}\n\npublic static boolean isNumeric(String s) \n{\n    try\n    {\n        Double.parseDouble(s);\n        return true;\n    }\n    catch (Exception e) \n    {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2431854,"reputation":1186,"user_id":2122590,"display_name":"XForCE07"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1366456526,"creation_date":1366396466,"answer_id":16111357,"question_id":1102891,"body_markdown":"Here are two methods that might work. (Without using Exceptions).\r\nNote : Java is a pass-by-value by default and a String&#39;s value is the address of the String&#39;s object data.\r\nSo , when you are doing \r\n\r\n    stringNumber = stringNumber.replaceAll(&quot; &quot;, &quot;&quot;);\r\n\r\nYou have changed the input value to have no spaces.\r\nYou can remove that line if you want.\r\n\r\n    private boolean isValidStringNumber(String stringNumber)\r\n    {\r\n        if(stringNumber.isEmpty())\r\n        {\r\n            return false;\r\n        }\r\n        \r\n        stringNumber = stringNumber.replaceAll(&quot; &quot;, &quot;&quot;);\r\n        \r\n        char [] charNumber = stringNumber.toCharArray();\r\n        for(int i =0 ; i&lt;charNumber.length ;i++)\r\n        {\r\n            if(!Character.isDigit(charNumber[i]))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\nHere is another method in case you want to allow floats\r\nThis method allegedly allows numbers in the form to pass\r\n1,123,123,123,123,123.123\r\ni have just made it , and i think it needs further testing to ensure it is working.\r\n\r\n    private boolean isValidStringTrueNumber(String stringNumber)\r\n    {\r\n        if(stringNumber.isEmpty())\r\n        {\r\n            return false;\r\n        }\r\n        \r\n        stringNumber = stringNumber.replaceAll(&quot; &quot;, &quot;&quot;);\r\n        int countOfDecimalPoint = 0;\r\n        boolean decimalPointPassed = false;\r\n        boolean commaFound = false;\r\n        int countOfDigitsBeforeDecimalPoint = 0;\r\n        int countOfDigitsAfterDecimalPoint =0 ;\r\n        int commaCounter=0;\r\n        int countOfDigitsBeforeFirstComma = 0;\r\n        \r\n        char [] charNumber = stringNumber.toCharArray();\r\n        for(int i =0 ; i&lt;charNumber.length ;i++)\r\n        {\r\n            if((commaCounter&gt;3)||(commaCounter&lt;0))\r\n            {\r\n                return false;\r\n            }\r\n            if(!Character.isDigit(charNumber[i]))//Char is not a digit.\r\n            {\r\n                if(charNumber[i]==&#39;,&#39;)\r\n                {\r\n                    if(decimalPointPassed)\r\n                    {\r\n                        return false;\r\n                    }\r\n                    commaFound = true;\r\n                    //check that next three chars are only digits.\r\n                    commaCounter +=3;\r\n                }\r\n                else if(charNumber[i]==&#39;.&#39;)\r\n                {\r\n                    decimalPointPassed = true;\r\n                    countOfDecimalPoint++;\r\n                }\r\n                else\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n            else //Char is a digit.\r\n            {\r\n                if ((commaCounter&gt;=0)&amp;&amp;(commaFound))\r\n                {\r\n                    if(!decimalPointPassed)\r\n                    {\r\n                        commaCounter--;\r\n                    }\r\n                }\r\n                \r\n                if(!commaFound)\r\n                {\r\n                    countOfDigitsBeforeFirstComma++;\r\n                }\r\n                \r\n                if(!decimalPointPassed)\r\n                {\r\n                    countOfDigitsBeforeDecimalPoint++;\r\n                }\r\n                else\r\n                {\r\n                    countOfDigitsAfterDecimalPoint++;\r\n                }\r\n            }\r\n        }\r\n        if((commaFound)&amp;&amp;(countOfDigitsBeforeFirstComma&gt;3))\r\n        {\r\n            return false;\r\n        }\r\n        if(countOfDecimalPoint&gt;1)\r\n        {\r\n            return false;\r\n        }\r\n        \r\n        if((decimalPointPassed)&amp;&amp;((countOfDigitsBeforeDecimalPoint==0)||(countOfDigitsAfterDecimalPoint==0)))\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n","title":"How to check if a String is numeric in Java","body":"<p>Here are two methods that might work. (Without using Exceptions).\nNote : Java is a pass-by-value by default and a String's value is the address of the String's object data.\nSo , when you are doing </p>\n\n<pre><code>stringNumber = stringNumber.replaceAll(\" \", \"\");\n</code></pre>\n\n<p>You have changed the input value to have no spaces.\nYou can remove that line if you want.</p>\n\n<pre><code>private boolean isValidStringNumber(String stringNumber)\n{\n    if(stringNumber.isEmpty())\n    {\n        return false;\n    }\n\n    stringNumber = stringNumber.replaceAll(\" \", \"\");\n\n    char [] charNumber = stringNumber.toCharArray();\n    for(int i =0 ; i&lt;charNumber.length ;i++)\n    {\n        if(!Character.isDigit(charNumber[i]))\n        {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Here is another method in case you want to allow floats\nThis method allegedly allows numbers in the form to pass\n1,123,123,123,123,123.123\ni have just made it , and i think it needs further testing to ensure it is working.</p>\n\n<pre><code>private boolean isValidStringTrueNumber(String stringNumber)\n{\n    if(stringNumber.isEmpty())\n    {\n        return false;\n    }\n\n    stringNumber = stringNumber.replaceAll(\" \", \"\");\n    int countOfDecimalPoint = 0;\n    boolean decimalPointPassed = false;\n    boolean commaFound = false;\n    int countOfDigitsBeforeDecimalPoint = 0;\n    int countOfDigitsAfterDecimalPoint =0 ;\n    int commaCounter=0;\n    int countOfDigitsBeforeFirstComma = 0;\n\n    char [] charNumber = stringNumber.toCharArray();\n    for(int i =0 ; i&lt;charNumber.length ;i++)\n    {\n        if((commaCounter&gt;3)||(commaCounter&lt;0))\n        {\n            return false;\n        }\n        if(!Character.isDigit(charNumber[i]))//Char is not a digit.\n        {\n            if(charNumber[i]==',')\n            {\n                if(decimalPointPassed)\n                {\n                    return false;\n                }\n                commaFound = true;\n                //check that next three chars are only digits.\n                commaCounter +=3;\n            }\n            else if(charNumber[i]=='.')\n            {\n                decimalPointPassed = true;\n                countOfDecimalPoint++;\n            }\n            else\n            {\n                return false;\n            }\n        }\n        else //Char is a digit.\n        {\n            if ((commaCounter&gt;=0)&amp;&amp;(commaFound))\n            {\n                if(!decimalPointPassed)\n                {\n                    commaCounter--;\n                }\n            }\n\n            if(!commaFound)\n            {\n                countOfDigitsBeforeFirstComma++;\n            }\n\n            if(!decimalPointPassed)\n            {\n                countOfDigitsBeforeDecimalPoint++;\n            }\n            else\n            {\n                countOfDigitsAfterDecimalPoint++;\n            }\n        }\n    }\n    if((commaFound)&amp;&amp;(countOfDigitsBeforeFirstComma&gt;3))\n    {\n        return false;\n    }\n    if(countOfDecimalPoint&gt;1)\n    {\n        return false;\n    }\n\n    if((decimalPointPassed)&amp;&amp;((countOfDigitsBeforeDecimalPoint==0)||(countOfDigitsAfterDecimalPoint==0)))\n    {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1793198,"reputation":2374,"user_id":2263183,"display_name":"Ahmed Alejo"},"down_vote_count":1,"up_vote_count":173,"is_accepted":false,"score":172,"last_activity_date":1385156656,"creation_date":1385156088,"answer_id":20154903,"question_id":1102891,"body_markdown":"if you are on android, then you should use:\r\n\r\n\r\n    android.text.TextUtils.isDigitsOnly(CharSequence str)\r\n\r\n\r\n[documentation can be found here][1]\r\n\r\n&lt;i&gt;&lt;b&gt;keep it simple&lt;/b&gt;&lt;/i&gt;. mostly everybody can &quot;re-program&quot; (the same thing).\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/text/TextUtils.html#isDigitsOnly%28java.lang.CharSequence%29","title":"How to check if a String is numeric in Java","body":"<p>if you are on android, then you should use:</p>\n\n<pre><code>android.text.TextUtils.isDigitsOnly(CharSequence str)\n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/text/TextUtils.html#isDigitsOnly%28java.lang.CharSequence%29\">documentation can be found here</a></p>\n\n<p><i><b>keep it simple</b></i>. mostly everybody can \"re-program\" (the same thing).</p>\n"},{"tags":[],"owner":{"account_id":2334906,"reputation":3546,"user_id":2047472,"display_name":"AndyTheEntity"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386254417,"creation_date":1386254417,"answer_id":20402860,"question_id":1102891,"body_markdown":"I modified CraigTP&#39;s solution to accept scientific notation and both dot and comma as decimal separators as well\r\n\r\n    ^-?\\d+([,\\.]\\d+)?([eE]-?\\d+)?$\r\nexample\r\n\r\n    var re = new RegExp(&quot;^-?\\d+([,\\.]\\d+)?([eE]-?\\d+)?$&quot;);\r\n    re.test(&quot;-6546&quot;); // true\r\n    re.test(&quot;-6546355e-4456&quot;); // true\r\n    re.test(&quot;-6546.355e-4456&quot;); // true, though debatable\r\n    re.test(&quot;-6546.35.5e-4456&quot;); // false\r\n    re.test(&quot;-6546.35.5e-4456.6&quot;); // false","title":"How to check if a String is numeric in Java","body":"<p>I modified CraigTP's solution to accept scientific notation and both dot and comma as decimal separators as well</p>\n\n<pre><code>^-?\\d+([,\\.]\\d+)?([eE]-?\\d+)?$\n</code></pre>\n\n<p>example</p>\n\n<pre><code>var re = new RegExp(\"^-?\\d+([,\\.]\\d+)?([eE]-?\\d+)?$\");\nre.test(\"-6546\"); // true\nre.test(\"-6546355e-4456\"); // true\nre.test(\"-6546.355e-4456\"); // true, though debatable\nre.test(\"-6546.35.5e-4456\"); // false\nre.test(\"-6546.35.5e-4456.6\"); // false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1428284269,"creation_date":1387642578,"answer_id":20720973,"question_id":1102891,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class TestDemo {\r\n        public static void main(String[] args) {\r\n            boolean flag = true;\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the String:&quot;);\r\n            String str = sc.nextLine();\r\n    \r\n            for (int i = 0; i &lt; str.length(); i++) {\r\n                if(str.charAt(i) &gt; 48 &amp;&amp; str.charAt(i) &lt; 58) {\r\n                    flag = false;\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            if(flag == true) {\r\n                System.out.println(&quot;String is a valid String.&quot;);\r\n            } else {\r\n                System.out.println(&quot;String contains number.&quot;);\r\n            }\r\n        }\r\n    }","title":"How to check if a String is numeric in Java","body":"<pre><code>import java.util.Scanner;\n\npublic class TestDemo {\n    public static void main(String[] args) {\n        boolean flag = true;\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"Enter the String:\");\n        String str = sc.nextLine();\n\n        for (int i = 0; i &lt; str.length(); i++) {\n            if(str.charAt(i) &gt; 48 &amp;&amp; str.charAt(i) &lt; 58) {\n                flag = false;\n                break;\n            }\n        }\n\n        if(flag == true) {\n            System.out.println(\"String is a valid String.\");\n        } else {\n            System.out.println(\"String contains number.\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":96757,"reputation":1765,"user_id":262826,"display_name":"Eric Guo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1393333595,"creation_date":1393333595,"answer_id":22015170,"question_id":1102891,"body_markdown":"If you using java to develop Android app, you could using [TextUtils.isDigitsOnly](http://developer.android.com/reference/android/text/TextUtils.html#isDigitsOnly(java.lang.CharSequence)) function.","title":"How to check if a String is numeric in Java","body":"<p>If you using java to develop Android app, you could using <a href=\"http://developer.android.com/reference/android/text/TextUtils.html#isDigitsOnly%28java.lang.CharSequence%29\">TextUtils.isDigitsOnly</a> function.</p>\n"},{"tags":[],"owner":{"account_id":1684739,"reputation":640,"user_id":1548249,"display_name":"lars"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1428504136,"creation_date":1395057413,"answer_id":22453668,"question_id":1102891,"body_markdown":"A well-performing approach avoiding try-catch and handling negative numbers and scientific notation.\r\n\r\n    Pattern PATTERN = Pattern.compile( &quot;^(-?0|-?[1-9]\\\\d*)(\\\\.\\\\d+)?(E\\\\d+)?$&quot; );\r\n\r\n    public static boolean isNumeric( String value ) \r\n    {\r\n        return value != null &amp;&amp; PATTERN.matcher( value ).matches();\r\n    }\r\n","title":"How to check if a String is numeric in Java","body":"<p>A well-performing approach avoiding try-catch and handling negative numbers and scientific notation.</p>\n\n<pre><code>Pattern PATTERN = Pattern.compile( \"^(-?0|-?[1-9]\\\\d*)(\\\\.\\\\d+)?(E\\\\d+)?$\" );\n\npublic static boolean isNumeric( String value ) \n{\n    return value != null &amp;&amp; PATTERN.matcher( value ).matches();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395717,"reputation":6603,"user_id":758816,"display_name":"mikeyreilly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407424722,"creation_date":1407423554,"answer_id":25185774,"question_id":1102891,"body_markdown":"If you want to do the check using a regex you should create a final static Pattern object, that way the regex only needs to be compiled once. Compiling the regex takes about as long as performing the match so by taking this precaution you&#39;ll cut the execution time of the method in half.\r\n\r\n    final static Pattern NUMBER_PATTERN = Pattern.compile(&quot;[+-]?\\\\d*\\\\.?\\\\d+&quot;);\r\n\r\n    static boolean isNumber(String input) {\r\n        Matcher m = NUMBER_PATTERN.matcher(input);\r\n        return m.matches();\r\n    }\r\n\r\nI&#39;m assuming a number is a string with nothing but decimal digits in it, possibly a + or - sign at the start and at most one decimal point (not at the end) and no other characters (including commas, spaces, numbers in other counting systems, Roman numerals, hieroglyphs).\r\n\r\nThis solution is succinct and pretty fast but you can shave a couple of milliseconds per million invocations by doing it like this\r\n\r\n    static boolean isNumber(String s) {\r\n        final int len = s.length();\r\n        if (len == 0) {\r\n            return false;\r\n        }\r\n        int dotCount = 0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            char c = s.charAt(i);\r\n            if (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;) {\r\n                if (i == len - 1) {//last character must be digit\r\n                    return false;\r\n                } else if (c == &#39;.&#39;) {\r\n                    if (++dotCount &gt; 1) {\r\n                        return false;\r\n                    }\r\n                } else if (i != 0 || c != &#39;+&#39; &amp;&amp; c != &#39;-&#39;) {//+ or - allowed at start\r\n                    return false;\r\n                }\r\n\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n","title":"How to check if a String is numeric in Java","body":"<p>If you want to do the check using a regex you should create a final static Pattern object, that way the regex only needs to be compiled once. Compiling the regex takes about as long as performing the match so by taking this precaution you'll cut the execution time of the method in half.</p>\n\n<pre><code>final static Pattern NUMBER_PATTERN = Pattern.compile(\"[+-]?\\\\d*\\\\.?\\\\d+\");\n\nstatic boolean isNumber(String input) {\n    Matcher m = NUMBER_PATTERN.matcher(input);\n    return m.matches();\n}\n</code></pre>\n\n<p>I'm assuming a number is a string with nothing but decimal digits in it, possibly a + or - sign at the start and at most one decimal point (not at the end) and no other characters (including commas, spaces, numbers in other counting systems, Roman numerals, hieroglyphs).</p>\n\n<p>This solution is succinct and pretty fast but you can shave a couple of milliseconds per million invocations by doing it like this</p>\n\n<pre><code>static boolean isNumber(String s) {\n    final int len = s.length();\n    if (len == 0) {\n        return false;\n    }\n    int dotCount = 0;\n    for (int i = 0; i &lt; len; i++) {\n        char c = s.charAt(i);\n        if (c &lt; '0' || c &gt; '9') {\n            if (i == len - 1) {//last character must be digit\n                return false;\n            } else if (c == '.') {\n                if (++dotCount &gt; 1) {\n                    return false;\n                }\n            } else if (i != 0 || c != '+' &amp;&amp; c != '-') {//+ or - allowed at start\n                return false;\n            }\n\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1408021343,"creation_date":1408021343,"answer_id":25308706,"question_id":1102891,"body_markdown":"To match only positive base-ten integers, that contains only ASCII digits, use:\r\n\r\n    public static boolean isNumeric(String maybeNumeric) {\r\n        return maybeNumeric != null &amp;&amp; maybeNumeric.matches(&quot;[0-9]+&quot;);\r\n    }\r\n","title":"How to check if a String is numeric in Java","body":"<p>To match only positive base-ten integers, that contains only ASCII digits, use:</p>\n\n<pre><code>public static boolean isNumeric(String maybeNumeric) {\n    return maybeNumeric != null &amp;&amp; maybeNumeric.matches(\"[0-9]+\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3034461,"reputation":676,"user_id":2572876,"display_name":"ARIJIT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1428284104,"creation_date":1410778130,"answer_id":25846335,"question_id":1102891,"body_markdown":"This a simple example for this check:\r\n\r\n    public static boolean isNumericString(String input) {\r\n        boolean result = false;\r\n    \r\n        if(input != null &amp;&amp; input.length() &gt; 0) {\r\n            char[] charArray = input.toCharArray();\r\n    \r\n            for(char c : charArray) {\r\n                if(c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;) {\r\n                    // it is a digit\r\n                    result = true;\r\n                } else {\r\n                    result = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        return result;\r\n    }","title":"How to check if a String is numeric in Java","body":"<p>This a simple example for this check:</p>\n\n<pre><code>public static boolean isNumericString(String input) {\n    boolean result = false;\n\n    if(input != null &amp;&amp; input.length() &gt; 0) {\n        char[] charArray = input.toCharArray();\n\n        for(char c : charArray) {\n            if(c &gt;= '0' &amp;&amp; c &lt;= '9') {\n                // it is a digit\n                result = true;\n            } else {\n                result = false;\n                break;\n            }\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4364273,"reputation":185,"user_id":3560519,"display_name":"Meatball"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1430201754,"creation_date":1412680085,"answer_id":26234618,"question_id":1102891,"body_markdown":"Here is my class for checking if a string is numeric. It also fixes numerical strings:\r\n\r\nFeatures:\r\n---------\r\n\r\n 1. Removes unnecessary zeros [&quot;12.0000000&quot; -&gt; &quot;12&quot;] \r\n 2. Removes unnecessary zeros [&quot;12.0580000&quot; -&gt; &quot;12.058&quot;] \r\n 3. Removes non numerical characters [&quot;12.00sdfsdf00&quot; -&gt; &quot;12&quot;] \r\n 4. Handles negative string values [&quot;-12,020000&quot; -&gt; &quot;-12.02&quot;]\r\n 5. Removes multiple dots [&quot;-12.0.20.000&quot; -&gt; &quot;-12.02&quot;]\r\n 6. No extra libraries, just standard Java\r\n\r\nHere you go...\r\n\r\n    public class NumUtils {\r\n        /**\r\n         * Transforms a string to an integer. If no numerical chars returns a String &quot;0&quot;.\r\n         *\r\n         * @param str\r\n         * @return retStr\r\n         */\r\n        static String makeToInteger(String str) {\r\n            String s = str;\r\n            double d;\r\n            d = Double.parseDouble(makeToDouble(s));\r\n            int i = (int) (d + 0.5D);\r\n            String retStr = String.valueOf(i);\r\n            System.out.printf(retStr + &quot;   &quot;);\r\n            return retStr;\r\n        }\r\n    \r\n        /**\r\n         * Transforms a string to an double. If no numerical chars returns a String &quot;0&quot;.\r\n         *\r\n         * @param str\r\n         * @return retStr\r\n         */\r\n        static String makeToDouble(String str) {\r\n    \r\n            Boolean dotWasFound = false;\r\n            String orgStr = str;\r\n            String retStr;\r\n            int firstDotPos = 0;\r\n            Boolean negative = false;\r\n            \r\n            //check if str is null\r\n            if(str.length()==0){\r\n                str=&quot;0&quot;;\r\n            }\r\n    \r\n            //check if first sign is &quot;-&quot;\r\n            if (str.charAt(0) == &#39;-&#39;) {\r\n                negative = true;\r\n            }\r\n    \r\n            //check if str containg any number or else set the string to &#39;0&#39;\r\n            if (!str.matches(&quot;.*\\\\d+.*&quot;)) {\r\n                str = &quot;0&quot;;\r\n            }\r\n    \r\n            //Replace &#39;,&#39; with &#39;.&#39;  (for some european users who use the &#39;,&#39; as decimal separator)\r\n            str = str.replaceAll(&quot;,&quot;, &quot;.&quot;);\r\n            str = str.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\r\n    \r\n            //Removes the any second dots\r\n            for (int i_char = 0; i_char &lt; str.length(); i_char++) {\r\n                if (str.charAt(i_char) == &#39;.&#39;) {\r\n                    dotWasFound = true;\r\n                    firstDotPos = i_char;\r\n                    break;\r\n                }\r\n            }\r\n            if (dotWasFound) {\r\n                String befDot = str.substring(0, firstDotPos + 1);\r\n                String aftDot = str.substring(firstDotPos + 1, str.length());\r\n                aftDot = aftDot.replaceAll(&quot;\\\\.&quot;, &quot;&quot;);\r\n                str = befDot + aftDot;\r\n            }\r\n    \r\n            //Removes zeros from the begining\r\n            double uglyMethod = Double.parseDouble(str);\r\n            str = String.valueOf(uglyMethod);\r\n    \r\n            //Removes the .0\r\n            str = str.replaceAll(&quot;([0-9])\\\\.0+([^0-9]|$)&quot;, &quot;$1$2&quot;);\r\n    \r\n            retStr = str;\r\n    \r\n            if (negative) {\r\n                retStr = &quot;-&quot;+retStr;\r\n            }\r\n    \r\n            return retStr;\r\n    \r\n        }\r\n    \r\n        static boolean isNumeric(String str) {\r\n            try {\r\n                double d = Double.parseDouble(str);\r\n            } catch (NumberFormatException nfe) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }","title":"How to check if a String is numeric in Java","body":"<p>Here is my class for checking if a string is numeric. It also fixes numerical strings:</p>\n\n<h2>Features:</h2>\n\n<ol>\n<li>Removes unnecessary zeros [\"12.0000000\" -> \"12\"] </li>\n<li>Removes unnecessary zeros [\"12.0580000\" -> \"12.058\"] </li>\n<li>Removes non numerical characters [\"12.00sdfsdf00\" -> \"12\"] </li>\n<li>Handles negative string values [\"-12,020000\" -> \"-12.02\"]</li>\n<li>Removes multiple dots [\"-12.0.20.000\" -> \"-12.02\"]</li>\n<li>No extra libraries, just standard Java</li>\n</ol>\n\n<p>Here you go...</p>\n\n<pre><code>public class NumUtils {\n    /**\n     * Transforms a string to an integer. If no numerical chars returns a String \"0\".\n     *\n     * @param str\n     * @return retStr\n     */\n    static String makeToInteger(String str) {\n        String s = str;\n        double d;\n        d = Double.parseDouble(makeToDouble(s));\n        int i = (int) (d + 0.5D);\n        String retStr = String.valueOf(i);\n        System.out.printf(retStr + \"   \");\n        return retStr;\n    }\n\n    /**\n     * Transforms a string to an double. If no numerical chars returns a String \"0\".\n     *\n     * @param str\n     * @return retStr\n     */\n    static String makeToDouble(String str) {\n\n        Boolean dotWasFound = false;\n        String orgStr = str;\n        String retStr;\n        int firstDotPos = 0;\n        Boolean negative = false;\n\n        //check if str is null\n        if(str.length()==0){\n            str=\"0\";\n        }\n\n        //check if first sign is \"-\"\n        if (str.charAt(0) == '-') {\n            negative = true;\n        }\n\n        //check if str containg any number or else set the string to '0'\n        if (!str.matches(\".*\\\\d+.*\")) {\n            str = \"0\";\n        }\n\n        //Replace ',' with '.'  (for some european users who use the ',' as decimal separator)\n        str = str.replaceAll(\",\", \".\");\n        str = str.replaceAll(\"[^\\\\d.]\", \"\");\n\n        //Removes the any second dots\n        for (int i_char = 0; i_char &lt; str.length(); i_char++) {\n            if (str.charAt(i_char) == '.') {\n                dotWasFound = true;\n                firstDotPos = i_char;\n                break;\n            }\n        }\n        if (dotWasFound) {\n            String befDot = str.substring(0, firstDotPos + 1);\n            String aftDot = str.substring(firstDotPos + 1, str.length());\n            aftDot = aftDot.replaceAll(\"\\\\.\", \"\");\n            str = befDot + aftDot;\n        }\n\n        //Removes zeros from the begining\n        double uglyMethod = Double.parseDouble(str);\n        str = String.valueOf(uglyMethod);\n\n        //Removes the .0\n        str = str.replaceAll(\"([0-9])\\\\.0+([^0-9]|$)\", \"$1$2\");\n\n        retStr = str;\n\n        if (negative) {\n            retStr = \"-\"+retStr;\n        }\n\n        return retStr;\n\n    }\n\n    static boolean isNumeric(String str) {\n        try {\n            double d = Double.parseDouble(str);\n        } catch (NumberFormatException nfe) {\n            return false;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5672176,"reputation":11,"user_id":4486502,"display_name":"Hans van Kraaij"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422014159,"creation_date":1422013691,"answer_id":28109250,"question_id":1102891,"body_markdown":"Try this:\r\n\r\n    public  boolean isNumber(String str)\r\n    {\t\t\r\n    \tshort count = 0;\r\n    \tchar chc[]  = {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;.&#39;,&#39;-&#39;,&#39;+&#39;};\r\n        for (char c : str.toCharArray())\r\n        {   \r\n         \tfor (int i = 0;i &lt; chc.length;i++)\r\n           \t{\r\n        \t  \tif( c  == chc[i]){\r\n        \t    \tcount++;\t    \r\n        \t    }\r\n        \t }\t    \t\t        \r\n        }\r\n        if (count != str.length() ) \r\n        \treturn false;\r\n        else\r\n            return true;\r\n    }","title":"How to check if a String is numeric in Java","body":"<p>Try this:</p>\n\n<pre><code>public  boolean isNumber(String str)\n{       \n    short count = 0;\n    char chc[]  = {'0','1','2','3','4','5','6','7','8','9','.','-','+'};\n    for (char c : str.toCharArray())\n    {   \n        for (int i = 0;i &lt; chc.length;i++)\n        {\n            if( c  == chc[i]){\n                count++;        \n            }\n         }                      \n    }\n    if (count != str.length() ) \n        return false;\n    else\n        return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4217241,"reputation":3325,"user_id":3453041,"accept_rate":93,"display_name":"Water"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1427645889,"creation_date":1427645377,"answer_id":29331473,"question_id":1102891,"body_markdown":"**Why is everyone pushing for exception/regex solutions?**\r\n\r\nWhile I can understand most people are fine with using try/catch, if you want to do it frequently... it can be extremely taxing.\r\n\r\nWhat I did here was take the regex, the parseNumber() methods, and the array searching method to see which was the most efficient. This time, I only looked at integer numbers.\r\n\r\n\tpublic static boolean isNumericRegex(String str) {\r\n\t\tif (str == null)\r\n\t\t\treturn false;\r\n\t    return str.matches(&quot;-?\\\\d+&quot;);\r\n\t}\r\n\t\r\n\tpublic static boolean isNumericArray(String str) {\r\n\t\tif (str == null)\r\n\t\t\treturn false;\r\n\t\tchar[] data = str.toCharArray();\r\n\t\tif (data.length &lt;= 0)\r\n\t\t\treturn false;\r\n\t\tint index = 0;\r\n\t\tif (data[0] == &#39;-&#39; &amp;&amp; data.length &gt; 1)\r\n\t\t\tindex = 1;\r\n\t\tfor (; index &lt; data.length; index++) {\r\n\t\t\tif (data[index] &lt; &#39;0&#39; || data[index] &gt; &#39;9&#39;) // Character.isDigit() can go here too.\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tpublic static boolean isNumericException(String str) {\r\n\t\tif (str == null)\r\n\t\t\treturn false;\r\n\t\ttry {  \r\n\t\t\t/* int i = */ Integer.parseInt(str);\r\n\t\t} catch (NumberFormatException nfe) {  \r\n\t\t\treturn false;  \r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\nThe results in speed I got were:\r\n\r\n    Done with: for (int i = 0; i &lt; 10000000; i++)...\r\n\r\n    With only valid numbers (&quot;59815833&quot; and &quot;-59815833&quot;):\r\n    \tArray numeric took 395.808192 ms [39.5808192 ns each]\r\n    \tRegex took 2609.262595 ms [260.9262595 ns each]\r\n    \tException numeric took 428.050207 ms [42.8050207 ns each]\r\n    \t// Negative sign\r\n    \tArray numeric took 355.788273 ms [35.5788273 ns each]\r\n    \tRegex took 2746.278466 ms [274.6278466 ns each]\r\n    \tException numeric took 518.989902 ms [51.8989902 ns each]\r\n    \t// Single value (&quot;1&quot;)\r\n    \tArray numeric took 317.861267 ms [31.7861267 ns each]\r\n    \tRegex took 2505.313201 ms [250.5313201 ns each]\r\n    \tException numeric took 239.956955 ms [23.9956955 ns each]\r\n        // With Character.isDigit()\r\n        Array numeric took 400.734616 ms [40.0734616 ns each]\r\n        Regex took 2663.052417 ms [266.3052417 ns each]\r\n        Exception numeric took 401.235906 ms [40.1235906 ns each]\r\n    \r\n    With invalid characters (&quot;5981a5833&quot; and &quot;a&quot;):\r\n    \tArray numeric took 343.205793 ms [34.3205793 ns each]\r\n    \tRegex took 2608.739933 ms [260.8739933 ns each]\r\n    \tException numeric took 7317.201775 ms [731.7201775 ns each]\r\n    \t// With a single character (&quot;a&quot;)\r\n    \tArray numeric took 291.695519 ms [29.1695519 ns each]\r\n    \tRegex took 2287.25378 ms [228.725378 ns each]\r\n    \tException numeric took 7095.969481 ms [709.5969481 ns each]\r\n    \r\n    With null:\r\n    \tArray numeric took 214.663834 ms [21.4663834 ns each]\r\n    \tRegex took 201.395992 ms [20.1395992 ns each]\r\n    \tException numeric took 233.049327 ms [23.3049327 ns each]\r\n    \tException numeric took 6603.669427 ms [660.3669427 ns each] if there is no if/null check\r\n\r\n*Disclaimer: I&#39;m not claiming these methods are 100% optimized, they&#39;re just for demonstration of the data*\r\n\t\r\nExceptions won if and only if the number is 4 characters or less, and every string is *always* a number... in which case, why even have a check?  \t\r\n\r\nIn short, it is extremely painful if you run into invalid numbers frequently with the try/catch, which makes sense. An important rule I always follow is **NEVER use try/catch for program flow**. This is an example why.\r\n\r\nInterestingly, the simple if char &lt;0 || &gt;9 was extremely simple to write, easy to remember (and should work in multiple languages) and wins almost all the test scenarios.\r\n\r\nThe only downside is that I&#39;m guessing Integer.parseInt() might handle non ASCII numbers, whereas the array searching method does not.\r\n\r\n----------\r\n\r\nFor those wondering why I said it&#39;s easy to remember the character array one, if you know there&#39;s no negative signs, you can easily get away with something condensed as this:\r\n\r\n    public static boolean isNumericArray(String str) {\r\n\t\tif (str == null)\r\n\t\t\treturn false;\r\n\t\tfor (char c : str.toCharArray())\r\n\t\t\tif (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;)\r\n\t\t\t\treturn false;\r\n        return true;\r\n\r\n----------\r\n\r\nLastly as a final note, I was curious about the assigment operator in the accepted example with all the votes up. Adding in the assignment of\r\n\r\n    double d = Double.parseDouble(...)\r\n\r\nis not only useless since you don&#39;t even use the value, but it wastes processing time and increased the runtime by a few nanoseconds (which led to a 100-200 ms increase in the tests). I can&#39;t see why anyone would do that since it actually is extra work to reduce performance.\r\n\r\nYou&#39;d think that would be optimized out... though maybe I should check the bytecode and see what the compiler is doing. That doesn&#39;t explain why it always showed up as lengthier for me though if it somehow is optimized out... therefore I wonder what&#39;s going on. As a note: By lengthier, I mean running the test for 10000000 iterations, and running that program multiple times (10x+) always showed it to be slower.\r\n\r\nEDIT: Updated a test for Character.isDigit()","title":"How to check if a String is numeric in Java","body":"<p><strong>Why is everyone pushing for exception/regex solutions?</strong></p>\n\n<p>While I can understand most people are fine with using try/catch, if you want to do it frequently... it can be extremely taxing.</p>\n\n<p>What I did here was take the regex, the parseNumber() methods, and the array searching method to see which was the most efficient. This time, I only looked at integer numbers.</p>\n\n<pre><code>public static boolean isNumericRegex(String str) {\n    if (str == null)\n        return false;\n    return str.matches(\"-?\\\\d+\");\n}\n\npublic static boolean isNumericArray(String str) {\n    if (str == null)\n        return false;\n    char[] data = str.toCharArray();\n    if (data.length &lt;= 0)\n        return false;\n    int index = 0;\n    if (data[0] == '-' &amp;&amp; data.length &gt; 1)\n        index = 1;\n    for (; index &lt; data.length; index++) {\n        if (data[index] &lt; '0' || data[index] &gt; '9') // Character.isDigit() can go here too.\n            return false;\n    }\n    return true;\n}\n\npublic static boolean isNumericException(String str) {\n    if (str == null)\n        return false;\n    try {  \n        /* int i = */ Integer.parseInt(str);\n    } catch (NumberFormatException nfe) {  \n        return false;  \n    }\n    return true;\n}\n</code></pre>\n\n<p>The results in speed I got were:</p>\n\n<pre><code>Done with: for (int i = 0; i &lt; 10000000; i++)...\n\nWith only valid numbers (\"59815833\" and \"-59815833\"):\n    Array numeric took 395.808192 ms [39.5808192 ns each]\n    Regex took 2609.262595 ms [260.9262595 ns each]\n    Exception numeric took 428.050207 ms [42.8050207 ns each]\n    // Negative sign\n    Array numeric took 355.788273 ms [35.5788273 ns each]\n    Regex took 2746.278466 ms [274.6278466 ns each]\n    Exception numeric took 518.989902 ms [51.8989902 ns each]\n    // Single value (\"1\")\n    Array numeric took 317.861267 ms [31.7861267 ns each]\n    Regex took 2505.313201 ms [250.5313201 ns each]\n    Exception numeric took 239.956955 ms [23.9956955 ns each]\n    // With Character.isDigit()\n    Array numeric took 400.734616 ms [40.0734616 ns each]\n    Regex took 2663.052417 ms [266.3052417 ns each]\n    Exception numeric took 401.235906 ms [40.1235906 ns each]\n\nWith invalid characters (\"5981a5833\" and \"a\"):\n    Array numeric took 343.205793 ms [34.3205793 ns each]\n    Regex took 2608.739933 ms [260.8739933 ns each]\n    Exception numeric took 7317.201775 ms [731.7201775 ns each]\n    // With a single character (\"a\")\n    Array numeric took 291.695519 ms [29.1695519 ns each]\n    Regex took 2287.25378 ms [228.725378 ns each]\n    Exception numeric took 7095.969481 ms [709.5969481 ns each]\n\nWith null:\n    Array numeric took 214.663834 ms [21.4663834 ns each]\n    Regex took 201.395992 ms [20.1395992 ns each]\n    Exception numeric took 233.049327 ms [23.3049327 ns each]\n    Exception numeric took 6603.669427 ms [660.3669427 ns each] if there is no if/null check\n</code></pre>\n\n<p><em>Disclaimer: I'm not claiming these methods are 100% optimized, they're just for demonstration of the data</em></p>\n\n<p>Exceptions won if and only if the number is 4 characters or less, and every string is <em>always</em> a number... in which case, why even have a check?    </p>\n\n<p>In short, it is extremely painful if you run into invalid numbers frequently with the try/catch, which makes sense. An important rule I always follow is <strong>NEVER use try/catch for program flow</strong>. This is an example why.</p>\n\n<p>Interestingly, the simple if char &lt;0 || >9 was extremely simple to write, easy to remember (and should work in multiple languages) and wins almost all the test scenarios.</p>\n\n<p>The only downside is that I'm guessing Integer.parseInt() might handle non ASCII numbers, whereas the array searching method does not.</p>\n\n<hr>\n\n<p>For those wondering why I said it's easy to remember the character array one, if you know there's no negative signs, you can easily get away with something condensed as this:</p>\n\n<pre><code>public static boolean isNumericArray(String str) {\n    if (str == null)\n        return false;\n    for (char c : str.toCharArray())\n        if (c &lt; '0' || c &gt; '9')\n            return false;\n    return true;\n</code></pre>\n\n<hr>\n\n<p>Lastly as a final note, I was curious about the assigment operator in the accepted example with all the votes up. Adding in the assignment of</p>\n\n<pre><code>double d = Double.parseDouble(...)\n</code></pre>\n\n<p>is not only useless since you don't even use the value, but it wastes processing time and increased the runtime by a few nanoseconds (which led to a 100-200 ms increase in the tests). I can't see why anyone would do that since it actually is extra work to reduce performance.</p>\n\n<p>You'd think that would be optimized out... though maybe I should check the bytecode and see what the compiler is doing. That doesn't explain why it always showed up as lengthier for me though if it somehow is optimized out... therefore I wonder what's going on. As a note: By lengthier, I mean running the test for 10000000 iterations, and running that program multiple times (10x+) always showed it to be slower.</p>\n\n<p>EDIT: Updated a test for Character.isDigit()</p>\n"},{"tags":[],"owner":{"account_id":410608,"reputation":25367,"user_id":782535,"accept_rate":100,"display_name":"Madan Sapkota"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1434348635,"creation_date":1434348635,"answer_id":30838379,"question_id":1102891,"body_markdown":"&gt; **Regex Matching**\r\n\r\nHere is another example upgraded &quot;CraigTP&quot; regex matching with more validations.\r\n\r\n    public static boolean isNumeric(String str)\r\n    {\r\n        return str.matches(&quot;^(?:(?:\\\\-{1})?\\\\d+(?:\\\\.{1}\\\\d+)?)$&quot;);\r\n    }\r\n\r\n 1. Only one negative sign &lt;kbd&gt;-&lt;/kbd&gt; allowed and must be in beginning.\r\n 2. After negative sign there must be digit.\r\n 3. Only one decimal sign &lt;kbd&gt;.&lt;/kbd&gt; allowed.\r\n 4. After decimal sign there must be digit.\r\n\r\n&gt; **Regex Test**\r\n\r\n\t1                  --                   **VALID**\r\n\t1.                 --                   INVALID\r\n\t1..                --                   INVALID\r\n\t1.1                --                   **VALID**\r\n\t1.1.1              --                   INVALID\r\n\r\n\t-1                 --                   **VALID**\r\n\t--1                --                   INVALID\r\n\t-1.                --                   INVALID\r\n\t-1.1               --                   **VALID**\r\n\t-1.1.1             --                   INVALID","title":"How to check if a String is numeric in Java","body":"<blockquote>\n  <p><strong>Regex Matching</strong></p>\n</blockquote>\n\n<p>Here is another example upgraded \"CraigTP\" regex matching with more validations.</p>\n\n<pre><code>public static boolean isNumeric(String str)\n{\n    return str.matches(\"^(?:(?:\\\\-{1})?\\\\d+(?:\\\\.{1}\\\\d+)?)$\");\n}\n</code></pre>\n\n<ol>\n<li>Only one negative sign <kbd>-</kbd> allowed and must be in beginning.</li>\n<li>After negative sign there must be digit.</li>\n<li>Only one decimal sign <kbd>.</kbd> allowed.</li>\n<li>After decimal sign there must be digit.</li>\n</ol>\n\n<blockquote>\n  <p><strong>Regex Test</strong></p>\n</blockquote>\n\n<pre><code>1                  --                   **VALID**\n1.                 --                   INVALID\n1..                --                   INVALID\n1.1                --                   **VALID**\n1.1.1              --                   INVALID\n\n-1                 --                   **VALID**\n--1                --                   INVALID\n-1.                --                   INVALID\n-1.1               --                   **VALID**\n-1.1.1             --                   INVALID\n</code></pre>\n"},{"tags":[],"owner":{"account_id":469080,"reputation":3843,"user_id":875449,"display_name":"ChrisCantrell"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1434635553,"creation_date":1434635553,"answer_id":30917319,"question_id":1102891,"body_markdown":"Exceptions are expensive, but in this case the RegEx takes much longer. The code below shows a simple test of two functions -- one using exceptions and one using regex. On my machine the RegEx version is 10 times slower than the exception.\r\n\r\n    import java.util.Date;\r\n\r\n\r\n    public class IsNumeric {\r\n\t\r\n\tpublic static boolean isNumericOne(String s) {\r\n\t\treturn s.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);  //match a number with optional &#39;-&#39; and decimal.\t\t\r\n\t}\r\n\t\r\n\tpublic static boolean isNumericTwo(String s) {\r\n\t\ttry {\r\n\t\t\tDouble.parseDouble(s);\r\n\t\t\treturn true;\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String [] args) {\r\n\t\t\r\n\t\tString test = &quot;12345.F&quot;;\r\n\t\t\r\n\t\tlong before = new Date().getTime();\t\t\r\n\t\tfor(int x=0;x&lt;1000000;++x) {\r\n\t\t\t//isNumericTwo(test);\r\n\t\t\tisNumericOne(test);\r\n\t\t}\r\n\t\tlong after = new Date().getTime();\r\n\t\t\r\n\t\tSystem.out.println(after-before);\r\n\t\t\r\n\t}\r\n\r\n    }\r\n","title":"How to check if a String is numeric in Java","body":"<p>Exceptions are expensive, but in this case the RegEx takes much longer. The code below shows a simple test of two functions -- one using exceptions and one using regex. On my machine the RegEx version is 10 times slower than the exception.</p>\n\n<pre><code>import java.util.Date;\n\n\npublic class IsNumeric {\n\npublic static boolean isNumericOne(String s) {\n    return s.matches(\"-?\\\\d+(\\\\.\\\\d+)?\");  //match a number with optional '-' and decimal.      \n}\n\npublic static boolean isNumericTwo(String s) {\n    try {\n        Double.parseDouble(s);\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n\npublic static void main(String [] args) {\n\n    String test = \"12345.F\";\n\n    long before = new Date().getTime();     \n    for(int x=0;x&lt;1000000;++x) {\n        //isNumericTwo(test);\n        isNumericOne(test);\n    }\n    long after = new Date().getTime();\n\n    System.out.println(after-before);\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6765778,"reputation":25,"user_id":5210833,"display_name":"jenifer"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1439207937,"creation_date":1439207937,"answer_id":31918973,"question_id":1102891,"body_markdown":"    String text=&quot;hello 123&quot;;\r\n    if(Pattern.matches([0-9]+))==true\r\n    System.out.println(&quot;String&quot;+text);","title":"How to check if a String is numeric in Java","body":"<pre><code>String text=\"hello 123\";\nif(Pattern.matches([0-9]+))==true\nSystem.out.println(\"String\"+text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6634201,"reputation":141,"user_id":5121829,"accept_rate":50,"display_name":"Yu Wai Hlaing"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1439970740,"creation_date":1439970740,"answer_id":32089577,"question_id":1102891,"body_markdown":"You can use the java.util.Scanner object.\r\n\r\n    public static boolean isNumeric(String inputData) {\r\n\t\t  Scanner sc = new Scanner(inputData);\r\n\t\t  return sc.hasNextInt();\r\n\t\t}","title":"How to check if a String is numeric in Java","body":"<p>You can use the java.util.Scanner object.</p>\n\n<pre><code>public static boolean isNumeric(String inputData) {\n      Scanner sc = new Scanner(inputData);\n      return sc.hasNextInt();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1132853,"reputation":2896,"user_id":1118527,"accept_rate":83,"display_name":"Lama"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1524211492,"creation_date":1441030444,"answer_id":32313369,"question_id":1102891,"body_markdown":"**Do not use Exceptions to validate your values.**\r\nUse Util libs instead like apache NumberUtils:\r\n\r\n    NumberUtils.isNumber(myStringValue);\r\n\r\n\r\n**Edit**:\r\n\r\nPlease notice that, if your string starts with an 0, NumberUtils will interpret your value as hexadecimal.\r\n\r\n    NumberUtils.isNumber(&quot;07&quot;) //true\r\n    NumberUtils.isNumber(&quot;08&quot;) //false\r\n","title":"How to check if a String is numeric in Java","body":"<p><strong>Do not use Exceptions to validate your values.</strong>\nUse Util libs instead like apache NumberUtils:</p>\n\n<pre><code>NumberUtils.isNumber(myStringValue);\n</code></pre>\n\n<p><strong>Edit</strong>:</p>\n\n<p>Please notice that, if your string starts with an 0, NumberUtils will interpret your value as hexadecimal.</p>\n\n<pre><code>NumberUtils.isNumber(\"07\") //true\nNumberUtils.isNumber(\"08\") //false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2239560,"reputation":29944,"user_id":1977620,"accept_rate":54,"display_name":"Max Malysh"},"down_vote_count":4,"up_vote_count":202,"is_accepted":false,"score":198,"last_activity_date":1461873360,"creation_date":1450026112,"answer_id":34253764,"question_id":1102891,"body_markdown":"Java 8 lambda expressions.\r\n   \r\n    String someString = &quot;123123&quot;;\r\n    boolean isNumeric = someString.chars().allMatch( Character::isDigit );\r\n\r\n","title":"How to check if a String is numeric in Java","body":"<p>Java 8 lambda expressions.</p>\n\n<pre><code>String someString = \"123123\";\nboolean isNumeric = someString.chars().allMatch( Character::isDigit );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3050838,"reputation":2195,"user_id":2585433,"accept_rate":64,"display_name":"Noor Nawaz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1482230215,"creation_date":1462943415,"answer_id":37153541,"question_id":1102891,"body_markdown":"**Java 8 Stream, lambda expression, functional interface**\r\n\r\nAll cases handled (**string null, string empty etc**) \r\n\r\n    String someString = null; // something=&quot;&quot;, something=&quot;123abc&quot;, something=&quot;123123&quot;\r\n \r\n    boolean isNumeric = Stream.of(someString)\r\n        \t\t.filter(s -&gt; s != null &amp;&amp; !s.isEmpty())\r\n        \t\t.filter(Pattern.compile(&quot;\\\\D&quot;).asPredicate().negate())\r\n        \t\t.mapToLong(Long::valueOf)\r\n                .boxed()\r\n                .findAny()\r\n        \t\t.isPresent();","title":"How to check if a String is numeric in Java","body":"<p><strong>Java 8 Stream, lambda expression, functional interface</strong></p>\n\n<p>All cases handled (<strong>string null, string empty etc</strong>) </p>\n\n<pre><code>String someString = null; // something=\"\", something=\"123abc\", something=\"123123\"\n\nboolean isNumeric = Stream.of(someString)\n            .filter(s -&gt; s != null &amp;&amp; !s.isEmpty())\n            .filter(Pattern.compile(\"\\\\D\").asPredicate().negate())\n            .mapToLong(Long::valueOf)\n            .boxed()\n            .findAny()\n            .isPresent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2286625,"reputation":79,"user_id":2010457,"display_name":"Tejas Parmar"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1474030637,"creation_date":1474030637,"answer_id":39532109,"question_id":1102891,"body_markdown":"\r\n\r\n  // please check below code\r\n\r\n    public static boolean isDigitsOnly(CharSequence str) {\r\n        final int len = str.length();\r\n        for (int i = 0; i &lt; len; i++) {\r\n            if (!Character.isDigit(str.charAt(i))) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"How to check if a String is numeric in Java","body":"<p>// please check below code</p>\n\n<pre><code>public static boolean isDigitsOnly(CharSequence str) {\n    final int len = str.length();\n    for (int i = 0; i &lt; len; i++) {\n        if (!Character.isDigit(str.charAt(i))) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5951756,"reputation":1343,"user_id":4679522,"accept_rate":86,"display_name":"Cenxui"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479044422,"creation_date":1479044422,"answer_id":40574467,"question_id":1102891,"body_markdown":"You can use NumberUtils.isCreatable() from [Apache Commons Lang][1].\r\n\r\nSince NumberUtils.isNumber will be deprecated in 4.0, so use  NumberUtils.isCreatable() instead.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.5","title":"How to check if a String is numeric in Java","body":"<p>You can use NumberUtils.isCreatable() from <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.5\" rel=\"nofollow noreferrer\">Apache Commons Lang</a>.</p>\n\n<p>Since NumberUtils.isNumber will be deprecated in 4.0, so use  NumberUtils.isCreatable() instead.</p>\n"},{"tags":[],"owner":{"account_id":4790832,"reputation":141,"user_id":3870075,"accept_rate":29,"display_name":"user3870075"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575033658,"creation_date":1491739837,"answer_id":43306526,"question_id":1102891,"body_markdown":"This is the fastest way i know to check if String is Number or not:&lt;br&gt;\r\n\r\n    public static boolean isNumber(String str){\r\n      int i=0, len=str.length();\r\n      boolean a=false,b=false,c=false, d=false;\r\n      if(i&lt;len &amp;&amp; (str.charAt(i)==&#39;+&#39; || str.charAt(i)==&#39;-&#39;)) i++;\r\n      while( i&lt;len &amp;&amp; isDigit(str.charAt(i)) ){ i++; a=true; }\r\n      if(i&lt;len &amp;&amp; (str.charAt(i)==&#39;.&#39;)) i++;\r\n      while( i&lt;len &amp;&amp; isDigit(str.charAt(i)) ){ i++; b=true; }\r\n      if(i&lt;len &amp;&amp; (str.charAt(i)==&#39;e&#39; || str.charAt(i)==&#39;E&#39;) &amp;&amp; (a || b)){ i++; c=true; }\r\n      if(i&lt;len &amp;&amp; (str.charAt(i)==&#39;+&#39; || str.charAt(i)==&#39;-&#39;) &amp;&amp; c) i++;\r\n      while( i&lt;len &amp;&amp; isDigit(str.charAt(i)) ){ i++; d=true;}\r\n      return i==len &amp;&amp; (a||b) &amp;&amp; (!c || (c &amp;&amp; d));\r\n    }\r\n    static boolean isDigit(char c){\r\n      return c&gt;=&#39;0&#39; &amp;&amp; c&lt;=&#39;9&#39;;\r\n    }","title":"How to check if a String is numeric in Java","body":"<p>This is the fastest way i know to check if String is Number or not:<br></p>\n\n<pre><code>public static boolean isNumber(String str){\n  int i=0, len=str.length();\n  boolean a=false,b=false,c=false, d=false;\n  if(i&lt;len &amp;&amp; (str.charAt(i)=='+' || str.charAt(i)=='-')) i++;\n  while( i&lt;len &amp;&amp; isDigit(str.charAt(i)) ){ i++; a=true; }\n  if(i&lt;len &amp;&amp; (str.charAt(i)=='.')) i++;\n  while( i&lt;len &amp;&amp; isDigit(str.charAt(i)) ){ i++; b=true; }\n  if(i&lt;len &amp;&amp; (str.charAt(i)=='e' || str.charAt(i)=='E') &amp;&amp; (a || b)){ i++; c=true; }\n  if(i&lt;len &amp;&amp; (str.charAt(i)=='+' || str.charAt(i)=='-') &amp;&amp; c) i++;\n  while( i&lt;len &amp;&amp; isDigit(str.charAt(i)) ){ i++; d=true;}\n  return i==len &amp;&amp; (a||b) &amp;&amp; (!c || (c &amp;&amp; d));\n}\nstatic boolean isDigit(char c){\n  return c&gt;='0' &amp;&amp; c&lt;='9';\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":798238,"reputation":890,"user_id":889976,"accept_rate":57,"display_name":"Bernhard Bodenstorfer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527232948,"creation_date":1527158564,"answer_id":50507299,"question_id":1102891,"body_markdown":"**Parallel checking for *very* long strings using [IntStream][1]**\r\n\r\nIn Java 8, the following tests if all characters of the given `string` are within &#39;0&#39; to &#39;9&#39;. Mind that the empty string is accepted:\r\n\r\n    string.chars().unordered().parallel().allMatch( i -&gt; &#39;0&#39; &lt;= i &amp;&amp; &#39;9&#39; &gt;= i )\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html","title":"How to check if a String is numeric in Java","body":"<p><strong>Parallel checking for <em>very</em> long strings using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">IntStream</a></strong></p>\n\n<p>In Java 8, the following tests if all characters of the given <code>string</code> are within '0' to '9'. Mind that the empty string is accepted:</p>\n\n<pre><code>string.chars().unordered().parallel().allMatch( i -&gt; '0' &lt;= i &amp;&amp; '9' &gt;= i )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1528736971,"creation_date":1528736971,"answer_id":50802885,"question_id":1102891,"body_markdown":"I have illustrated some conditions to check numbers and decimals without using any API,\r\n\r\nCheck Fix Length 1 digit number\r\n\r\n    Character.isDigit(char)\r\n\r\nCheck Fix Length number (Assume length is 6)\r\n\r\n    String number = &quot;132452&quot;;\r\n    if(number.matches(&quot;([0-9]{6})&quot;))\r\n    System.out.println(&quot;6 digits number identified&quot;);\r\n\t\r\nCheck Varying Length number between (Assume 4 to 6 length)\r\n\r\n    //\t{n,m}  n &lt;= length &lt;= m\r\n    String number = &quot;132452&quot;;\r\n    if(number.matches(&quot;([0-9]{4,6})&quot;))\r\n    System.out.println(&quot;Number Identified between 4 to 6 length&quot;);\r\n    \r\n    String number = &quot;132&quot;;\r\n    if(!number.matches(&quot;([0-9]{4,6})&quot;))\r\n    System.out.println(&quot;Number not in length range or different format&quot;);\r\n\r\nCheck Varying Length decimal number between (Assume 4 to 7 length)\r\n\r\n    //\tIt will not count the &#39;.&#39; (Period) in length\r\n    String decimal = &quot;132.45&quot;;\r\n    if(decimal.matches(&quot;(-?[0-9]+(\\.)?[0-9]*){4,6}&quot;))\r\n    System.out.println(&quot;Numbers Identified between 4 to 7&quot;);\r\n    \r\n    String decimal = &quot;1.12&quot;;\r\n    if(decimal.matches(&quot;(-?[0-9]+(\\.)?[0-9]*){4,6}&quot;))\r\n    System.out.println(&quot;Numbers Identified between 4 to 7&quot;);\r\n    \r\n    String decimal = &quot;1234&quot;;\r\n    if(decimal.matches(&quot;(-?[0-9]+(\\.)?[0-9]*){4,6}&quot;))\r\n    System.out.println(&quot;Numbers Identified between 4 to 7&quot;);\r\n    \r\n    String decimal = &quot;-10.123&quot;;\r\n    if(decimal.matches(&quot;(-?[0-9]+(\\.)?[0-9]*){4,6}&quot;))\r\n    System.out.println(&quot;Numbers Identified between 4 to 7&quot;);\r\n    \r\n    String decimal = &quot;123..4&quot;;\r\n    if(!decimal.matches(&quot;(-?[0-9]+(\\.)?[0-9]*){4,6}&quot;))\r\n    System.out.println(&quot;Decimal not in range or different format&quot;);\r\n    \r\n    String decimal = &quot;132&quot;;\r\n    if(!decimal.matches(&quot;(-?[0-9]+(\\.)?[0-9]*){4,6}&quot;))\r\n    System.out.println(&quot;Decimal not in range or different format&quot;);\r\n    \r\n    String decimal = &quot;1.1&quot;;\r\n    if(!decimal.matches(&quot;(-?[0-9]+(\\.)?[0-9]*){4,6}&quot;))\r\n    System.out.println(&quot;Decimal not in range or different format&quot;);\r\n\r\nHope it will help manyone.","title":"How to check if a String is numeric in Java","body":"<p>I have illustrated some conditions to check numbers and decimals without using any API,</p>\n\n<p>Check Fix Length 1 digit number</p>\n\n<pre><code>Character.isDigit(char)\n</code></pre>\n\n<p>Check Fix Length number (Assume length is 6)</p>\n\n<pre><code>String number = \"132452\";\nif(number.matches(\"([0-9]{6})\"))\nSystem.out.println(\"6 digits number identified\");\n</code></pre>\n\n<p>Check Varying Length number between (Assume 4 to 6 length)</p>\n\n<pre><code>//  {n,m}  n &lt;= length &lt;= m\nString number = \"132452\";\nif(number.matches(\"([0-9]{4,6})\"))\nSystem.out.println(\"Number Identified between 4 to 6 length\");\n\nString number = \"132\";\nif(!number.matches(\"([0-9]{4,6})\"))\nSystem.out.println(\"Number not in length range or different format\");\n</code></pre>\n\n<p>Check Varying Length decimal number between (Assume 4 to 7 length)</p>\n\n<pre><code>//  It will not count the '.' (Period) in length\nString decimal = \"132.45\";\nif(decimal.matches(\"(-?[0-9]+(\\.)?[0-9]*){4,6}\"))\nSystem.out.println(\"Numbers Identified between 4 to 7\");\n\nString decimal = \"1.12\";\nif(decimal.matches(\"(-?[0-9]+(\\.)?[0-9]*){4,6}\"))\nSystem.out.println(\"Numbers Identified between 4 to 7\");\n\nString decimal = \"1234\";\nif(decimal.matches(\"(-?[0-9]+(\\.)?[0-9]*){4,6}\"))\nSystem.out.println(\"Numbers Identified between 4 to 7\");\n\nString decimal = \"-10.123\";\nif(decimal.matches(\"(-?[0-9]+(\\.)?[0-9]*){4,6}\"))\nSystem.out.println(\"Numbers Identified between 4 to 7\");\n\nString decimal = \"123..4\";\nif(!decimal.matches(\"(-?[0-9]+(\\.)?[0-9]*){4,6}\"))\nSystem.out.println(\"Decimal not in range or different format\");\n\nString decimal = \"132\";\nif(!decimal.matches(\"(-?[0-9]+(\\.)?[0-9]*){4,6}\"))\nSystem.out.println(\"Decimal not in range or different format\");\n\nString decimal = \"1.1\";\nif(!decimal.matches(\"(-?[0-9]+(\\.)?[0-9]*){4,6}\"))\nSystem.out.println(\"Decimal not in range or different format\");\n</code></pre>\n\n<p>Hope it will help manyone.</p>\n"},{"tags":[],"owner":{"account_id":10427139,"reputation":139,"user_id":7688028,"display_name":"Tạ Anh T&#250;"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1537256256,"creation_date":1537255849,"answer_id":52381174,"question_id":1102891,"body_markdown":"If you guys using the following method to check:\r\n\r\n    public static boolean isNumeric(String str) {\r\n\t\tNumberFormat formatter = NumberFormat.getInstance();\r\n\t\tParsePosition pos = new ParsePosition(0);\r\n\t\tformatter.parse(str, pos);\r\n\t\treturn str.length() == pos.getIndex();\r\n\t}\r\n\r\nThen what happend with the input of very long String, such as I call this method:\r\n\r\n    System.out.println(isNumeric(&quot;94328948243242352525243242524243425452342343948923&quot;));\r\n\r\nThe result is &quot;true&quot;, also it is a too-large-size number!\r\nThe same thing will happen if you using regex to check!\r\nSo I&#39;d rather using the &quot;parsing&quot; method to check, like this:\r\n\r\n    public static boolean isNumeric(String str) {\r\n\t\ttry {\r\n\t\t\tint number = Integer.parseInt(str);\r\n\t\t\treturn true;\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\nAnd the result is what I expected!","title":"How to check if a String is numeric in Java","body":"<p>If you guys using the following method to check:</p>\n\n<pre><code>public static boolean isNumeric(String str) {\n    NumberFormat formatter = NumberFormat.getInstance();\n    ParsePosition pos = new ParsePosition(0);\n    formatter.parse(str, pos);\n    return str.length() == pos.getIndex();\n}\n</code></pre>\n\n<p>Then what happend with the input of very long String, such as I call this method:</p>\n\n<pre><code>System.out.println(isNumeric(\"94328948243242352525243242524243425452342343948923\"));\n</code></pre>\n\n<p>The result is \"true\", also it is a too-large-size number!\nThe same thing will happen if you using regex to check!\nSo I'd rather using the \"parsing\" method to check, like this:</p>\n\n<pre><code>public static boolean isNumeric(String str) {\n    try {\n        int number = Integer.parseInt(str);\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>And the result is what I expected!</p>\n"},{"tags":[],"owner":{"account_id":7455797,"reputation":10333,"user_id":5669120,"display_name":"Ketan Ramteke"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1605020259,"creation_date":1540820100,"answer_id":53046646,"question_id":1102891,"body_markdown":"We can try replacing all the numbers from the given string with (&quot;&quot;) ie blank space and if after that the length of the string is zero then we can say that given string contains only numbers.\r\nExample: \r\n\r\n   \r\n\r\n \r\n\r\n    boolean isNumber(String str){\r\n            if(str.length() == 0)\r\n\t\t\t\treturn false; //To check if string is empty\r\n\t\t\t\r\n\t\t\tif(str.charAt(0) == &#39;-&#39;)\r\n\t\t\t\tstr = str.replaceFirst(&quot;-&quot;,&quot;&quot;);// for handling -ve numbers\r\n\t\t\r\n\t\t\tSystem.out.println(str);\r\n\t\t\t\r\n\t\t\tstr = str.replaceFirst(&quot;\\\\.&quot;,&quot;&quot;); //to check if it contains more than one decimal points\r\n\t\t\t\r\n\t\t\tif(str.length() == 0)\r\n\t\t\t\treturn false; // to check if it is empty string after removing -ve sign and decimal point\r\n\t\t\tSystem.out.println(str);\r\n\t\t\t\r\n\t\t\treturn str.replaceAll(&quot;[0-9]&quot;,&quot;&quot;).length() == 0;\r\n        }","title":"How to check if a String is numeric in Java","body":"<p>We can try replacing all the numbers from the given string with (&quot;&quot;) ie blank space and if after that the length of the string is zero then we can say that given string contains only numbers.\nExample:</p>\n<pre><code>boolean isNumber(String str){\n        if(str.length() == 0)\n            return false; //To check if string is empty\n        \n        if(str.charAt(0) == '-')\n            str = str.replaceFirst(&quot;-&quot;,&quot;&quot;);// for handling -ve numbers\n    \n        System.out.println(str);\n        \n        str = str.replaceFirst(&quot;\\\\.&quot;,&quot;&quot;); //to check if it contains more than one decimal points\n        \n        if(str.length() == 0)\n            return false; // to check if it is empty string after removing -ve sign and decimal point\n        System.out.println(str);\n        \n        return str.replaceAll(&quot;[0-9]&quot;,&quot;&quot;).length() == 0;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1843044,"reputation":465,"user_id":2891209,"accept_rate":75,"display_name":"JWCompDev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545121111,"creation_date":1545120251,"answer_id":53828654,"question_id":1102891,"body_markdown":"Based off of other answers I wrote my own and it doesn&#39;t use patterns or parsing with exception checking.\r\n\r\nIt checks for a maximum of one minus sign and checks for a maximum of one decimal point.\r\n\r\nHere are some examples and their results:\r\n\r\n&quot;1&quot;, &quot;-1&quot;, &quot;-1.5&quot; and &quot;-1.556&quot; return true\r\n\r\n&quot;1..5&quot;, &quot;1A.5&quot;, &quot;1.5D&quot;, &quot;-&quot; and &quot;--1&quot; return false\r\n\r\nNote: If needed you can modify this to accept a Locale parameter and pass that into the DecimalFormatSymbols.getInstance() calls to use a specific Locale instead of the current one.\r\n\r\n     public static boolean isNumeric(final String input) {\r\n        //Check for null or blank string\r\n        if(input == null || input.isBlank()) return false;\r\n\r\n        //Retrieve the minus sign and decimal separator characters from the current Locale\r\n        final var localeMinusSign = DecimalFormatSymbols.getInstance().getMinusSign();\r\n        final var localeDecimalSeparator = DecimalFormatSymbols.getInstance().getDecimalSeparator();\r\n\r\n        //Check if first character is a minus sign\r\n        final var isNegative = input.charAt(0) == localeMinusSign;\r\n        //Check if string is not just a minus sign\r\n        if (isNegative &amp;&amp; input.length() == 1) return false;\r\n\r\n        var isDecimalSeparatorFound = false;\r\n\r\n        //If the string has a minus sign ignore the first character\r\n        final var startCharIndex = isNegative ? 1 : 0;\r\n\r\n        //Check if each character is a number or a decimal separator\r\n        //and make sure string only has a maximum of one decimal separator\r\n        for (var i = startCharIndex; i &lt; input.length(); i++) {\r\n            if(!Character.isDigit(input.charAt(i))) {\r\n                if(input.charAt(i) == localeDecimalSeparator &amp;&amp; !isDecimalSeparatorFound) {\r\n                    isDecimalSeparatorFound = true;\r\n                } else return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"How to check if a String is numeric in Java","body":"<p>Based off of other answers I wrote my own and it doesn't use patterns or parsing with exception checking.</p>\n\n<p>It checks for a maximum of one minus sign and checks for a maximum of one decimal point.</p>\n\n<p>Here are some examples and their results:</p>\n\n<p>\"1\", \"-1\", \"-1.5\" and \"-1.556\" return true</p>\n\n<p>\"1..5\", \"1A.5\", \"1.5D\", \"-\" and \"--1\" return false</p>\n\n<p>Note: If needed you can modify this to accept a Locale parameter and pass that into the DecimalFormatSymbols.getInstance() calls to use a specific Locale instead of the current one.</p>\n\n<pre><code> public static boolean isNumeric(final String input) {\n    //Check for null or blank string\n    if(input == null || input.isBlank()) return false;\n\n    //Retrieve the minus sign and decimal separator characters from the current Locale\n    final var localeMinusSign = DecimalFormatSymbols.getInstance().getMinusSign();\n    final var localeDecimalSeparator = DecimalFormatSymbols.getInstance().getDecimalSeparator();\n\n    //Check if first character is a minus sign\n    final var isNegative = input.charAt(0) == localeMinusSign;\n    //Check if string is not just a minus sign\n    if (isNegative &amp;&amp; input.length() == 1) return false;\n\n    var isDecimalSeparatorFound = false;\n\n    //If the string has a minus sign ignore the first character\n    final var startCharIndex = isNegative ? 1 : 0;\n\n    //Check if each character is a number or a decimal separator\n    //and make sure string only has a maximum of one decimal separator\n    for (var i = startCharIndex; i &lt; input.length(); i++) {\n        if(!Character.isDigit(input.charAt(i))) {\n            if(input.charAt(i) == localeDecimalSeparator &amp;&amp; !isDecimalSeparatorFound) {\n                isDecimalSeparatorFound = true;\n            } else return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17204045,"reputation":17,"user_id":12455006,"display_name":"Rohit Nishad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635844912,"creation_date":1635844547,"answer_id":69807912,"question_id":1102891,"body_markdown":"```\r\nprivate static Pattern p = Pattern.compile(&quot;^[0-9]*$&quot;);\r\n\r\npublic static boolean isNumeric(String strNum) {\r\n\tif (strNum == null) {\r\n\t\treturn false;\r\n\t}\r\n\treturn p.matcher(strNum).find();\r\n}\r\n```","title":"How to check if a String is numeric in Java","body":"<pre><code>private static Pattern p = Pattern.compile(&quot;^[0-9]*$&quot;);\n\npublic static boolean isNumeric(String strNum) {\n    if (strNum == null) {\n        return false;\n    }\n    return p.matcher(strNum).find();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8141115,"reputation":41,"user_id":6131247,"display_name":"Aminul Islam Sojol"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656352803,"creation_date":1656352803,"answer_id":72776516,"question_id":1102891,"body_markdown":"For non-negative number use this\r\n\r\n```\r\npublic boolean isNonNegativeNumber(String str) {\r\n  return str.matches(&quot;\\\\d+&quot;);\r\n}\r\n```\r\n\r\nFor any number use this\r\n\r\n```\r\npublic boolean isNumber(String str) {\r\n  return str.matches(&quot;-?\\\\d+&quot;);\r\n}\r\n```","title":"How to check if a String is numeric in Java","body":"<p>For non-negative number use this</p>\n<pre><code>public boolean isNonNegativeNumber(String str) {\n  return str.matches(&quot;\\\\d+&quot;);\n}\n</code></pre>\n<p>For any number use this</p>\n<pre><code>public boolean isNumber(String str) {\n  return str.matches(&quot;-?\\\\d+&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":8492,"reputation":22874,"user_id":15352,"accept_rate":68,"display_name":"Craig Angus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1888764,"favorite_count":0,"down_vote_count":3,"up_vote_count":1050,"accepted_answer_id":12569609,"answer_count":41,"score":1047,"last_activity_date":1656352803,"creation_date":1247132987,"question_id":1102891,"body_markdown":"How would you check if a String was a number before parsing it?\r\n\r\n","title":"How to check if a String is numeric in Java","body":"<p>How would you check if a String was a number before parsing it?</p>\n"},{"tags":["java","spring","asynchronous","concurrency","spring-async"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526567394,"creation_date":1526437261,"answer_id":50361580,"question_id":50360936,"body_markdown":"All that @Async does is cause the methods of the annotated component to be executed on another thread, where it gets the thread from a pool (which can be specified, so you can choose for some operations to have a dedicated pool).\r\n\r\n@Async itself doesn’t do anything to lock database tables, or anything else database-related. If you want database-level locking you will have to implement that through some other means. If you want the call to use a transaction you have to use the @Transactional annotation on the component being called asynchronously. The transaction will be separate from the caller&#39;s transaction. Of course the transaction can possibly cause database locking depending on the isolation level and database implementation.\r\n\r\nIt’s tricky to use @Async with database work. One pitfall occurs with jpa persistent entities passed across threads, when they have a lazy property that gets realized in the new thread (where the proxy is now invalid because it can’t get to the entityManager from the old thread). It’s safer if the things passed between threads are immutable. \r\n\r\n@Async adds complexity and is hard to reason about. There are opportunities for race conditions and deadlocks where if you don’t get it exactly right then bad things can happen, and you can’t count on testing to uncover the issues. It’s working without a net, if you want any infrastructure to help with exception handling, retries, or other recovery you will have to provide it yourself. \r\n\r\nSo no, I wouldn’t necessarily call it advisable. It&#39;s a good capability to have in your toolbox that might be helpful for a few isolated cases, but pervasive usage would seem like a bad thing. There are alternatives if you’re looking for ways to persist data without blocking. \r\n\r\n","title":"Spring @Transaction and @Async usage for database operations","body":"<p>All that @Async does is cause the methods of the annotated component to be executed on another thread, where it gets the thread from a pool (which can be specified, so you can choose for some operations to have a dedicated pool).</p>\n\n<p>@Async itself doesn’t do anything to lock database tables, or anything else database-related. If you want database-level locking you will have to implement that through some other means. If you want the call to use a transaction you have to use the @Transactional annotation on the component being called asynchronously. The transaction will be separate from the caller's transaction. Of course the transaction can possibly cause database locking depending on the isolation level and database implementation.</p>\n\n<p>It’s tricky to use @Async with database work. One pitfall occurs with jpa persistent entities passed across threads, when they have a lazy property that gets realized in the new thread (where the proxy is now invalid because it can’t get to the entityManager from the old thread). It’s safer if the things passed between threads are immutable. </p>\n\n<p>@Async adds complexity and is hard to reason about. There are opportunities for race conditions and deadlocks where if you don’t get it exactly right then bad things can happen, and you can’t count on testing to uncover the issues. It’s working without a net, if you want any infrastructure to help with exception handling, retries, or other recovery you will have to provide it yourself. </p>\n\n<p>So no, I wouldn’t necessarily call it advisable. It's a good capability to have in your toolbox that might be helpful for a few isolated cases, but pervasive usage would seem like a bad thing. There are alternatives if you’re looking for ways to persist data without blocking. </p>\n"}],"owner":{"account_id":10893530,"reputation":41,"user_id":8008407,"display_name":"Shree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4768,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656352689,"creation_date":1526431163,"question_id":50360936,"body_markdown":"In a spring application when we receive message @Service persist bean is calling the database operation to insert in to database &amp; parallel @Service to parse &amp; process message. In this case persist is using @Transactional. In order to make the flow in parallel, is it advised to add @Async for persist.\r\n\r\nAdditionally there is @Aspect on each save method called by persist service for logging &amp; audit.\r\n\r\n - Is @Async advisable for database operations?\r\n - Does @Async create table locks?\r\n\r\n ","title":"Spring @Transaction and @Async usage for database operations","body":"<p>In a spring application when we receive message @Service persist bean is calling the database operation to insert in to database &amp; parallel @Service to parse &amp; process message. In this case persist is using @Transactional. In order to make the flow in parallel, is it advised to add @Async for persist.</p>\n\n<p>Additionally there is @Aspect on each save method called by persist service for logging &amp; audit.</p>\n\n<ul>\n<li>Is @Async advisable for database operations?</li>\n<li>Does @Async create table locks?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","asynchronous","spring-async"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1656353446,"post_id":72775994,"comment_id":128546549,"body_markdown":"Async works only on non `static` methods, and imho your code is dangerous as well as you are replacing (probably) `static` variables. This is going to fail miserably in a concurrent environment.","body":"Async works only on non <code>static</code> methods, and imho your code is dangerous as well as you are replacing (probably) <code>static</code> variables. This is going to fail miserably in a concurrent environment."},{"owner":{"account_id":17280114,"reputation":123,"user_id":12722349,"display_name":"Raj"},"score":0,"creation_date":1656355412,"post_id":72775994,"comment_id":128547186,"body_markdown":"@M.Deinum Not working with non static methods also, any other things which needs to be changed?","body":"@M.Deinum Not working with non static methods also, any other things which needs to be changed?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656355580,"post_id":72775994,"comment_id":128547256,"body_markdown":"You are probably creating a new instance of the service/async service yourself instead of using the spring managed one.","body":"You are probably creating a new instance of the service/async service yourself instead of using the spring managed one."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656351104,"creation_date":1656350652,"answer_id":72776112,"question_id":72775994,"body_markdown":"The async method works by wrapping the object with the annotated method in a proxy that gets a thread from the pool and executes the task on it.  This works for instance methods of spring managed objects, it doesn&#39;t work for static methods. Make the method an instance method.  ","title":"Async Annotation not working for me in SpringBoot","body":"<p>The async method works by wrapping the object with the annotated method in a proxy that gets a thread from the pool and executes the task on it.  This works for instance methods of spring managed objects, it doesn't work for static methods. Make the method an instance method.</p>\n"}],"owner":{"account_id":17280114,"reputation":123,"user_id":12722349,"display_name":"Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656352531,"creation_date":1656350100,"question_id":72775994,"body_markdown":"@Async is not working for me, tried debugging it multiple times but the api was running in same thread.\r\n\r\nAm I missing something in my configuration or there is some interplay between the components which I cannot see?\r\n\r\nI am debugging by calling the same api 2-3 times with fixed interval of time but all are running in same thread.\r\n\r\n\r\nConfig Class:\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class AsyncConfig {\r\n    \r\n    \t@Bean(&quot;threadPoolTaskExecutor&quot;)\r\n    \tpublic TaskExecutor getAsyncExecutor() {\r\n    \t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    \r\n            executor.setCorePoolSize(2);\r\n            executor.setMaxPoolSize(2);\r\n            executor.setQueueCapacity(100);\r\n            executor.setThreadNamePrefix(&quot;AsyncThread-&quot;);\r\n            executor.initialize();\r\n    \t\treturn executor;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nMethod where I want to apply async\r\n\r\n    @Async(&quot;threadPoolTaskExecutor&quot;)\r\n    \tpublic static CompletableFuture&lt;Object&gt; getExecutionDatafromDb() {\r\n    \t\tlong start = System.currentTimeMillis();\r\n    \r\n    \t\tObject executionData = &quot;&quot;;\r\n    \r\n    \t\tdb = mongoClient.getDatabase(database);\r\n    \r\n    \t\tcollection = db.getCollection(&quot;executiondata&quot;);\r\n    \r\n    \t\tDocument data = null;\r\n    \t\tBasicDBObject whereQuery = new BasicDBObject();\r\n    \t\tDocument document = new Document();\r\n    \r\n    \t\tObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n    \t\tString json = null;\r\n    \r\n    \t\twhereQuery.put(MACHINE_ID, 8);\r\n    \t\twhereQuery.put(PROJECT_ID, 121);\r\n    \t\titerDoc = collection.find(whereQuery).cursor();\r\n    \r\n    \t\ttry {\r\n    \t\t\tif (iterDoc.hasNext()) {\r\n    \t\t\t\tdata = iterDoc.next();\r\n    \t\t\t\texecutionData = data.get(&quot;execution_data&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\texecutionData = createExecutionDataJson();\r\n    \t\t\t\tdocument.put(&quot;execution_data&quot;, executionData);\r\n    \t\t\t\tdocument.put(MACHINE_ID, machineId);\r\n    \t\t\t\tdocument.put(PROJECT_ID, projectId);\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new BusinessException(&quot;605&quot;,\r\n    \t\t\t\t\t&quot;Something went wrong in Service layer while fetching Execution Data From Db&quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\tlogger.info(&quot;Fecthing data &quot;+Thread.currentThread().getName());\r\n    \t\ttry {\r\n    \t\t\tjson = ow.writeValueAsString(executionData);\r\n    \t\t} catch (JsonProcessingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\titerDoc.close();\r\n    \r\n    \t\t}\r\n    \t\tlong end = System.currentTimeMillis();\r\n    \t\tlogger.info(&quot;Total time {}&quot;, (end - start));\r\n     \r\n    \t\treturn CompletableFuture.completedFuture(json);\r\n    \t}\r\n\r\n\r\nApi which I want to hit:\r\n\r\n    @SuppressWarnings(&quot;static-access&quot;)\r\n    @GetMapping(value = &quot;/getExecutionDataByThread&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity getExecutionDataByThread() {\r\n    \t\r\n    \tObject result1 = asyncService.getExecutionDatafromDb();\r\n    \tsleep(2); // for demonstration\r\n    \tObject result2 = asyncService.getExecutionDatafromDb();\r\n    \tsleep(2);\r\n    \tObject result3 = asyncService.getExecutionDatafromDb();\r\n    \t\r\n    \r\n    \treturn ResponseEntity.status(HttpStatus.OK).build();\r\n    \t\r\n    }\r\n\r\n\r\n\r\n","title":"Async Annotation not working for me in SpringBoot","body":"<p>@Async is not working for me, tried debugging it multiple times but the api was running in same thread.</p>\n<p>Am I missing something in my configuration or there is some interplay between the components which I cannot see?</p>\n<p>I am debugging by calling the same api 2-3 times with fixed interval of time but all are running in same thread.</p>\n<p>Config Class:</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class AsyncConfig {\n\n    @Bean(&quot;threadPoolTaskExecutor&quot;)\n    public TaskExecutor getAsyncExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(2);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;AsyncThread-&quot;);\n        executor.initialize();\n        return executor;\n    }\n\n}\n</code></pre>\n<p>Method where I want to apply async</p>\n<pre><code>@Async(&quot;threadPoolTaskExecutor&quot;)\n    public static CompletableFuture&lt;Object&gt; getExecutionDatafromDb() {\n        long start = System.currentTimeMillis();\n\n        Object executionData = &quot;&quot;;\n\n        db = mongoClient.getDatabase(database);\n\n        collection = db.getCollection(&quot;executiondata&quot;);\n\n        Document data = null;\n        BasicDBObject whereQuery = new BasicDBObject();\n        Document document = new Document();\n\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n        String json = null;\n\n        whereQuery.put(MACHINE_ID, 8);\n        whereQuery.put(PROJECT_ID, 121);\n        iterDoc = collection.find(whereQuery).cursor();\n\n        try {\n            if (iterDoc.hasNext()) {\n                data = iterDoc.next();\n                executionData = data.get(&quot;execution_data&quot;);\n            } else {\n                executionData = createExecutionDataJson();\n                document.put(&quot;execution_data&quot;, executionData);\n                document.put(MACHINE_ID, machineId);\n                document.put(PROJECT_ID, projectId);\n            }\n\n        } catch (Exception e) {\n            throw new BusinessException(&quot;605&quot;,\n                    &quot;Something went wrong in Service layer while fetching Execution Data From Db&quot; + e.getMessage());\n        }\n\n        logger.info(&quot;Fecthing data &quot;+Thread.currentThread().getName());\n        try {\n            json = ow.writeValueAsString(executionData);\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        } finally {\n            iterDoc.close();\n\n        }\n        long end = System.currentTimeMillis();\n        logger.info(&quot;Total time {}&quot;, (end - start));\n \n        return CompletableFuture.completedFuture(json);\n    }\n</code></pre>\n<p>Api which I want to hit:</p>\n<pre><code>@SuppressWarnings(&quot;static-access&quot;)\n@GetMapping(value = &quot;/getExecutionDataByThread&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity getExecutionDataByThread() {\n    \n    Object result1 = asyncService.getExecutionDatafromDb();\n    sleep(2); // for demonstration\n    Object result2 = asyncService.getExecutionDatafromDb();\n    sleep(2);\n    Object result3 = asyncService.getExecutionDatafromDb();\n    \n\n    return ResponseEntity.status(HttpStatus.OK).build();\n    \n}\n</code></pre>\n"},{"tags":["java","flutter","bloc","flutter-bloc"],"comments":[{"owner":{"account_id":11625,"reputation":40567,"user_id":22483,"accept_rate":50,"display_name":"Randal Schwartz"},"score":1,"creation_date":1656365627,"post_id":72773629,"comment_id":128550071,"body_markdown":"They&#39;re probably &quot;deprecated&quot; errors.  Software doesn&#39;t have amortized declining financial value... &quot;depreciation&quot;.","body":"They&#39;re probably &quot;deprecated&quot; errors.  Software doesn&#39;t have amortized declining financial value... &quot;depreciation&quot;."}],"answers":[{"tags":[],"owner":{"account_id":20585099,"reputation":2415,"user_id":15110149,"display_name":"Xuuan Thuc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656340723,"creation_date":1656340723,"answer_id":72773922,"question_id":72773629,"body_markdown":"**player_state.dart** and **player_event.dart** not change\r\n\r\nTry change this **player_bloc.dart** file:\r\n\r\n    import &#39;dart:async&#39;;\r\n    \r\n    import &#39;package:bloc/bloc.dart&#39;;\r\n    import &#39;package:equatable/equatable.dart&#39;;\r\n    import &#39;package:meta/meta.dart&#39;;\r\n    import &#39;package:online_radio/radio/radio_player.dart&#39;;\r\n    import &#39;package:online_radio/radio/radio_state.dart&#39;;\r\n    import &#39;package:online_radio/station.dart&#39;;\r\n    \r\n    part &#39;player_event.dart&#39;;\r\n    part &#39;player_state.dart&#39;;\r\n    \r\n    class PlayerBloc extends Bloc&lt;PlayerEvent, PlayerState&gt; {\r\n      final RadioPlayer radioPlayer;\r\n    \r\n      PlayerBloc({@required this.radioPlayer})\r\n          : assert(radioPlayer != null),\r\n            super(StoppedState()) {\r\n        on&lt;PauseEvent&gt;(_onPause);\r\n        on&lt;PlayEvent&gt;(_onPlay);\r\n    \r\n    \r\n        radioPlayer.radioStateStream.listen((radioState) {\r\n          if (radioState == RadioState.PLAYING &amp;&amp; state is PausedState) {\r\n            this.add(PlayEvent((state as PausedState).currentStation));\r\n          }\r\n        });\r\n      }\r\n    \r\n      void _onPause(\r\n          PauseEvent event,\r\n          Emitter&lt;PlayerState&gt; emit,\r\n          ) async {\r\n        if(state is PlayingState){\r\n          radioPlayer.pause();\r\n          emit(PausedState((state as PlayingState).currentStation));\r\n        }\r\n      }\r\n    \r\n      void _onPlay(\r\n          PlayEvent event,\r\n          Emitter&lt;PlayerState&gt; emit,\r\n          ) async {\r\n        if (state is StoppedState) {\r\n          _playNewRadioStation(playEvent);\r\n          emit(PlayingState(playEvent.station));\r\n        } else if (state is PausedState) {\r\n          if ((state as PausedState).currentStation != playEvent.station) {\r\n            _playNewRadioStation(playEvent);\r\n          } else {\r\n            _playExistingRadioStation();\r\n          }\r\n          emit(PlayingState(playEvent.station));\r\n        } else if (state is PlayingState) {\r\n          if ((state as PlayingState).currentStation != playEvent.station) {\r\n            _playNewRadioStation(playEvent);\r\n          } else {\r\n            _playExistingRadioStation();\r\n          }\r\n          emit(PlayingState(playEvent.station));\r\n        }\r\n      }\r\n    \r\n      void _playExistingRadioStation() {\r\n        radioPlayer.play();\r\n      }\r\n    \r\n      void _playNewRadioStation(PlayEvent playEvent) {\r\n        radioPlayer.setUrl(playEvent.station.radioUrl).then((_) {\r\n          radioPlayer.play();\r\n        });\r\n      }\r\n    }","title":"Migrating to bloc 8.0.1 from 3.x, getting depreciated errors","body":"<p><strong>player_state.dart</strong> and <strong>player_event.dart</strong> not change</p>\n<p>Try change this <strong>player_bloc.dart</strong> file:</p>\n<pre><code>import 'dart:async';\n\nimport 'package:bloc/bloc.dart';\nimport 'package:equatable/equatable.dart';\nimport 'package:meta/meta.dart';\nimport 'package:online_radio/radio/radio_player.dart';\nimport 'package:online_radio/radio/radio_state.dart';\nimport 'package:online_radio/station.dart';\n\npart 'player_event.dart';\npart 'player_state.dart';\n\nclass PlayerBloc extends Bloc&lt;PlayerEvent, PlayerState&gt; {\n  final RadioPlayer radioPlayer;\n\n  PlayerBloc({@required this.radioPlayer})\n      : assert(radioPlayer != null),\n        super(StoppedState()) {\n    on&lt;PauseEvent&gt;(_onPause);\n    on&lt;PlayEvent&gt;(_onPlay);\n\n\n    radioPlayer.radioStateStream.listen((radioState) {\n      if (radioState == RadioState.PLAYING &amp;&amp; state is PausedState) {\n        this.add(PlayEvent((state as PausedState).currentStation));\n      }\n    });\n  }\n\n  void _onPause(\n      PauseEvent event,\n      Emitter&lt;PlayerState&gt; emit,\n      ) async {\n    if(state is PlayingState){\n      radioPlayer.pause();\n      emit(PausedState((state as PlayingState).currentStation));\n    }\n  }\n\n  void _onPlay(\n      PlayEvent event,\n      Emitter&lt;PlayerState&gt; emit,\n      ) async {\n    if (state is StoppedState) {\n      _playNewRadioStation(playEvent);\n      emit(PlayingState(playEvent.station));\n    } else if (state is PausedState) {\n      if ((state as PausedState).currentStation != playEvent.station) {\n        _playNewRadioStation(playEvent);\n      } else {\n        _playExistingRadioStation();\n      }\n      emit(PlayingState(playEvent.station));\n    } else if (state is PlayingState) {\n      if ((state as PlayingState).currentStation != playEvent.station) {\n        _playNewRadioStation(playEvent);\n      } else {\n        _playExistingRadioStation();\n      }\n      emit(PlayingState(playEvent.station));\n    }\n  }\n\n  void _playExistingRadioStation() {\n    radioPlayer.play();\n  }\n\n  void _playNewRadioStation(PlayEvent playEvent) {\n    radioPlayer.setUrl(playEvent.station.radioUrl).then((_) {\n      radioPlayer.play();\n    });\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22466596,"reputation":33,"user_id":16667670,"display_name":"aneebhiba614"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72773922,"answer_count":1,"score":0,"last_activity_date":1656352374,"creation_date":1656339526,"question_id":72773629,"body_markdown":"I have updated from bloc 3.x version to 8.0.1 but I am fairly new to bloc. I have read down the basics and edited some of it but I am stuck now.\r\n\r\nThis is my events, bloc and state file. How can I convert it to code compatible with bloc 8.0.1.\r\n\r\n**player_bloc.dart**\r\n```\r\nimport &#39;dart:async&#39;;\r\n\r\nimport &#39;package:bloc/bloc.dart&#39;;\r\nimport &#39;package:equatable/equatable.dart&#39;;\r\nimport &#39;package:meta/meta.dart&#39;;\r\nimport &#39;package:online_radio/radio/radio_player.dart&#39;;\r\nimport &#39;package:online_radio/radio/radio_state.dart&#39;;\r\nimport &#39;package:online_radio/station.dart&#39;;\r\n\r\npart &#39;player_event.dart&#39;;\r\npart &#39;player_state.dart&#39;;\r\n\r\nclass PlayerBloc extends Bloc&lt;PlayerEvent, PlayerState&gt; {\r\n  final RadioPlayer radioPlayer;\r\n\r\n  PlayerBloc({@required this.radioPlayer})\r\n      : assert(radioPlayer != null),\r\n        super(StoppedState()) {\r\n    on&lt;PauseEvent&gt;(\r\n      ((event, emit) async{\r\n        \r\n      })\r\n    );\r\n    on&lt;PlayEvent&gt;(\r\n      ((event, emit) async{\r\n        \r\n      })\r\n    );\r\n    \r\n    \r\n    radioPlayer.radioStateStream.listen((radioState) {\r\n      if (radioState == RadioState.PLAYING &amp;&amp; state is PausedState) {\r\n        this.add(PlayEvent((state as PausedState).currentStation));\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  @override\r\n  Stream&lt;PlayerState&gt; mapEventToState(PlayerEvent event) async* {\r\n    if (event is PlayEvent) {\r\n      yield* _handlePlayEvent(event);\r\n    } else if (event is PauseEvent) {\r\n      yield* _handlePauseEvent(event);\r\n    }\r\n  }\r\n\r\n  Stream&lt;PlayerState&gt; _handlePlayEvent(PlayEvent playEvent) async* {\r\n    if (state is StoppedState) {\r\n      _playNewRadioStation(playEvent);\r\n      yield PlayingState(playEvent.station);\r\n    } else if (state is PausedState) {\r\n      if ((state as PausedState).currentStation != playEvent.station) {\r\n        _playNewRadioStation(playEvent);\r\n      } else {\r\n        _playExistingRadioStation();\r\n      }\r\n      yield PlayingState(playEvent.station);\r\n    } else if (state is PlayingState) {\r\n      if ((state as PlayingState).currentStation != playEvent.station) {\r\n        _playNewRadioStation(playEvent);\r\n      } else {\r\n        _playExistingRadioStation();\r\n      }\r\n      yield PlayingState(playEvent.station);\r\n    }\r\n  }\r\n\r\n  Stream&lt;PlayerState&gt; _handlePauseEvent(PauseEvent pauseEvent) async* {\r\n    if (state is PlayingState) {\r\n      radioPlayer.pause();\r\n      yield PausedState((state as PlayingState).currentStation);\r\n    }\r\n  }\r\n\r\n  void _playExistingRadioStation() {\r\n    radioPlayer.play();\r\n  }\r\n\r\n  void _playNewRadioStation(PlayEvent playEvent) {\r\n    radioPlayer.setUrl(playEvent.station.radioUrl).then((_) {\r\n      radioPlayer.play();\r\n    });\r\n  }\r\n}\r\n\r\n```\r\n**player_state.dart**\r\n\r\n``` \r\npart of &#39;player_bloc.dart&#39;;\r\n\r\n@immutable\r\nabstract class PlayerState extends Equatable {\r\n  const PlayerState();\r\n\r\n  @override\r\n  List&lt;Object&gt; get props =&gt; [];\r\n}\r\n\r\nclass StoppedState extends PlayerState {}\r\n\r\nclass PlayingState extends PlayerState {\r\n  final Station currentStation;\r\n\r\n  PlayingState(this.currentStation);\r\n}\r\n\r\nclass PausedState extends PlayerState {\r\n  final Station currentStation;\r\n\r\n  PausedState(this.currentStation);\r\n}\r\n\r\n```\r\n\r\n**player_event.dart**\r\n\r\n```\r\npart of &#39;player_bloc.dart&#39;;\r\n\r\n@immutable\r\nabstract class PlayerEvent extends Equatable {\r\n  const PlayerEvent();\r\n\r\n  @override\r\n  List&lt;Object&gt; get props =&gt; [];\r\n}\r\n\r\nclass PlayEvent extends PlayerEvent {\r\n  final Station station;\r\n  PlayEvent(this.station);\r\n\r\n  @override\r\n  List&lt;Object&gt; get props =&gt; [];\r\n}\r\n\r\nclass PauseEvent extends PlayerEvent {}\r\n\r\n```\r\n\r\n\r\nThis is the progress i have made up til now. how do i proceed after this?\r\n\r\n","title":"Migrating to bloc 8.0.1 from 3.x, getting depreciated errors","body":"<p>I have updated from bloc 3.x version to 8.0.1 but I am fairly new to bloc. I have read down the basics and edited some of it but I am stuck now.</p>\n<p>This is my events, bloc and state file. How can I convert it to code compatible with bloc 8.0.1.</p>\n<p><strong>player_bloc.dart</strong></p>\n<pre><code>import 'dart:async';\n\nimport 'package:bloc/bloc.dart';\nimport 'package:equatable/equatable.dart';\nimport 'package:meta/meta.dart';\nimport 'package:online_radio/radio/radio_player.dart';\nimport 'package:online_radio/radio/radio_state.dart';\nimport 'package:online_radio/station.dart';\n\npart 'player_event.dart';\npart 'player_state.dart';\n\nclass PlayerBloc extends Bloc&lt;PlayerEvent, PlayerState&gt; {\n  final RadioPlayer radioPlayer;\n\n  PlayerBloc({@required this.radioPlayer})\n      : assert(radioPlayer != null),\n        super(StoppedState()) {\n    on&lt;PauseEvent&gt;(\n      ((event, emit) async{\n        \n      })\n    );\n    on&lt;PlayEvent&gt;(\n      ((event, emit) async{\n        \n      })\n    );\n    \n    \n    radioPlayer.radioStateStream.listen((radioState) {\n      if (radioState == RadioState.PLAYING &amp;&amp; state is PausedState) {\n        this.add(PlayEvent((state as PausedState).currentStation));\n      }\n    });\n  }\n\n\n  @override\n  Stream&lt;PlayerState&gt; mapEventToState(PlayerEvent event) async* {\n    if (event is PlayEvent) {\n      yield* _handlePlayEvent(event);\n    } else if (event is PauseEvent) {\n      yield* _handlePauseEvent(event);\n    }\n  }\n\n  Stream&lt;PlayerState&gt; _handlePlayEvent(PlayEvent playEvent) async* {\n    if (state is StoppedState) {\n      _playNewRadioStation(playEvent);\n      yield PlayingState(playEvent.station);\n    } else if (state is PausedState) {\n      if ((state as PausedState).currentStation != playEvent.station) {\n        _playNewRadioStation(playEvent);\n      } else {\n        _playExistingRadioStation();\n      }\n      yield PlayingState(playEvent.station);\n    } else if (state is PlayingState) {\n      if ((state as PlayingState).currentStation != playEvent.station) {\n        _playNewRadioStation(playEvent);\n      } else {\n        _playExistingRadioStation();\n      }\n      yield PlayingState(playEvent.station);\n    }\n  }\n\n  Stream&lt;PlayerState&gt; _handlePauseEvent(PauseEvent pauseEvent) async* {\n    if (state is PlayingState) {\n      radioPlayer.pause();\n      yield PausedState((state as PlayingState).currentStation);\n    }\n  }\n\n  void _playExistingRadioStation() {\n    radioPlayer.play();\n  }\n\n  void _playNewRadioStation(PlayEvent playEvent) {\n    radioPlayer.setUrl(playEvent.station.radioUrl).then((_) {\n      radioPlayer.play();\n    });\n  }\n}\n\n</code></pre>\n<p><strong>player_state.dart</strong></p>\n<pre><code>part of 'player_bloc.dart';\n\n@immutable\nabstract class PlayerState extends Equatable {\n  const PlayerState();\n\n  @override\n  List&lt;Object&gt; get props =&gt; [];\n}\n\nclass StoppedState extends PlayerState {}\n\nclass PlayingState extends PlayerState {\n  final Station currentStation;\n\n  PlayingState(this.currentStation);\n}\n\nclass PausedState extends PlayerState {\n  final Station currentStation;\n\n  PausedState(this.currentStation);\n}\n\n</code></pre>\n<p><strong>player_event.dart</strong></p>\n<pre><code>part of 'player_bloc.dart';\n\n@immutable\nabstract class PlayerEvent extends Equatable {\n  const PlayerEvent();\n\n  @override\n  List&lt;Object&gt; get props =&gt; [];\n}\n\nclass PlayEvent extends PlayerEvent {\n  final Station station;\n  PlayEvent(this.station);\n\n  @override\n  List&lt;Object&gt; get props =&gt; [];\n}\n\nclass PauseEvent extends PlayerEvent {}\n\n</code></pre>\n<p>This is the progress i have made up til now. how do i proceed after this?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":14331920,"reputation":351,"user_id":10352461,"display_name":"Stefan de Kraker"},"score":1,"creation_date":1656355370,"post_id":72776343,"comment_id":128547161,"body_markdown":"Check out [this post](https://firebaseopensource.com/projects/firebase/firebaseui-android/database/readme/#using_firebaseui%20to%20populate%20a%20recyclerview). They also have a Github with a sample app you could take a look at.","body":"Check out <a href=\"https://firebaseopensource.com/projects/firebase/firebaseui-android/database/readme/#using_firebaseui%20to%20populate%20a%20recyclerview\" rel=\"nofollow noreferrer\">this post</a>. They also have a Github with a sample app you could take a look at."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1656397691,"post_id":72776343,"comment_id":128555155,"body_markdown":"Have you solved the issue? Please respond with @AlexMamo","body":"Have you solved the issue? Please respond with @AlexMamo"},{"owner":{"account_id":25663218,"reputation":1,"user_id":19428684,"display_name":"Sameer Shaikh"},"score":0,"creation_date":1656418022,"post_id":72776343,"comment_id":128562582,"body_markdown":"Please help me @AlexMamo.","body":"Please help me @AlexMamo."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1656421769,"post_id":72776343,"comment_id":128564220,"body_markdown":"So you didn&#39;t right? Have tried something so far?","body":"So you didn&#39;t right? Have tried something so far?"},{"owner":{"account_id":25663218,"reputation":1,"user_id":19428684,"display_name":"Sameer Shaikh"},"score":0,"creation_date":1656521726,"post_id":72776343,"comment_id":128595555,"body_markdown":"**I tried** to get keys using ValueEventListener. It works, but I want to get that data in real-time and update it in recycle view.@AlexMamo","body":"<b>I tried</b> to get keys using ValueEventListener. It works, but I want to get that data in real-time and update it in recycle view.@AlexMamo"}],"owner":{"account_id":25663218,"reputation":1,"user_id":19428684,"display_name":"Sameer Shaikh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656351940,"creation_date":1656351940,"question_id":72776343,"body_markdown":"\r\n  [enter image description here][1]\r\n   \r\nThis is my data structure... \r\n\r\nI want to show all assignment names (Assignment No 1, Assignment No 2, etc.) in real-time in RecycleView.  \r\n\r\n     DatabaseReference dbr=FirebaseDatabase.getInstance().getReference(&quot;22616 - Programming With Python&quot;).child(&quot;Assignments&quot;);\r\n        FirebaseRecyclerOptions&lt;AssignmentModel1&gt; options=\r\n                new FirebaseRecyclerOptions.Builder&lt;AssignmentModel1&gt;()\r\n                        .setQuery(dbr,AssignmentModel1.class).build();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fs8Zf.png\r\n\r\nThis is my code.","title":"How to set Query in FirebaseRecyclerOptions for showing child keys?","body":"<p><a href=\"https://i.stack.imgur.com/fs8Zf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my data structure...</p>\n<p>I want to show all assignment names (Assignment No 1, Assignment No 2, etc.) in real-time in RecycleView.</p>\n<pre><code> DatabaseReference dbr=FirebaseDatabase.getInstance().getReference(&quot;22616 - Programming With Python&quot;).child(&quot;Assignments&quot;);\n    FirebaseRecyclerOptions&lt;AssignmentModel1&gt; options=\n            new FirebaseRecyclerOptions.Builder&lt;AssignmentModel1&gt;()\n                    .setQuery(dbr,AssignmentModel1.class).build();\n</code></pre>\n<p>This is my code.</p>\n"},{"tags":["java","swing","jdialog"],"comments":[{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":1,"creation_date":1655276267,"post_id":72626915,"comment_id":128291162,"body_markdown":"And how you show your dialogs? Please create a [mcve] so we can easier understand your problem and provide a suitable solution.","body":"And how you show your dialogs? Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can easier understand your problem and provide a suitable solution."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1655277736,"post_id":72626915,"comment_id":128291660,"body_markdown":"Why not just create one `JDialog` with all the input fields/questions?  It&#39;s not a good user experience to close multiple dialog windows.","body":"Why not just create one <code>JDialog</code> with all the input fields/questions?  It&#39;s not a good user experience to close multiple dialog windows."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656351545,"creation_date":1655285525,"answer_id":72629007,"question_id":72626915,"body_markdown":"The following works for me. The below code displays a window containing a button with the text *GO*. When you click on the button, a `JDialog` appears with the title *0* (i.e. the digit zero) and a button with the text *Close*. When you click on the *Close* button, the `JDialog` disappears and another `JDialog` appears with the title *1* (i.e. the digit one) and a *Close* button. When you click on *Close* the `JDialog` disappears and another `JDialog`, with the title *2* appears.\r\n```java\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JFrame;\r\n\r\npublic class GUI {\r\n    private JFrame  frame;\r\n\r\n    private void closeDialog(ActionEvent event) {\r\n        ((JDialog) ((JComponent) event.getSource()).getTopLevelAncestor()).dispose();\r\n    }\r\n\r\n    private void createAndDisplayGui() {\r\n        frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JButton button = new JButton(&quot;GO&quot;);\r\n        button.addActionListener(this::showDialogs);\r\n        frame.add(button);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private void showDialogs(ActionEvent event) {\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            JDialog dlg = new JDialog(frame, true);\r\n            dlg.setTitle(Integer.toString(i));\r\n            JButton b = new JButton(&quot;Close&quot;);\r\n            b.addActionListener(this::closeDialog);\r\n            dlg.add(b);\r\n            dlg.pack();\r\n            dlg.setLocationRelativeTo(frame);\r\n            dlg.setVisible(true);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new GUI().createAndDisplayGui());\r\n    }\r\n}\r\n```\r\n* Method `showDialogs` is called when the *GO* button is clicked.\r\n* Method `showDialogs` creates a modal `JDialog`.\r\n* Calling method `setVisible` in the following line of code:\r\n```java\r\ndlg.setVisible(true);\r\n```\r\nMethod `setVisible` only returns after the modal `JDialog` has been closed.\r\n* When the _Close_ button (in the `JDialog`) is clicked, method `closeDialog` is called.\r\n* Method `closeDialog` disposes the `JDialog`. Essentially the `JDialog` no longer exists after it has been disposed.\r\n* Each loop iteration (in method `showDialogs`) is performed only after the `JDialog` it displays has been closed.\r\n","title":"Stop execution of program until JDialog is exited","body":"<p>The following works for me. The below code displays a window containing a button with the text <em>GO</em>. When you click on the button, a <code>JDialog</code> appears with the title <em>0</em> (i.e. the digit zero) and a button with the text <em>Close</em>. When you click on the <em>Close</em> button, the <code>JDialog</code> disappears and another <code>JDialog</code> appears with the title <em>1</em> (i.e. the digit one) and a <em>Close</em> button. When you click on <em>Close</em> the <code>JDialog</code> disappears and another <code>JDialog</code>, with the title <em>2</em> appears.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\n\npublic class GUI {\n    private JFrame  frame;\n\n    private void closeDialog(ActionEvent event) {\n        ((JDialog) ((JComponent) event.getSource()).getTopLevelAncestor()).dispose();\n    }\n\n    private void createAndDisplayGui() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JButton button = new JButton(&quot;GO&quot;);\n        button.addActionListener(this::showDialogs);\n        frame.add(button);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private void showDialogs(ActionEvent event) {\n        for (int i = 0; i &lt; 3; i++) {\n            JDialog dlg = new JDialog(frame, true);\n            dlg.setTitle(Integer.toString(i));\n            JButton b = new JButton(&quot;Close&quot;);\n            b.addActionListener(this::closeDialog);\n            dlg.add(b);\n            dlg.pack();\n            dlg.setLocationRelativeTo(frame);\n            dlg.setVisible(true);\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new GUI().createAndDisplayGui());\n    }\n}\n</code></pre>\n<ul>\n<li>Method <code>showDialogs</code> is called when the <em>GO</em> button is clicked.</li>\n<li>Method <code>showDialogs</code> creates a modal <code>JDialog</code>.</li>\n<li>Calling method <code>setVisible</code> in the following line of code:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>dlg.setVisible(true);\n</code></pre>\n<p>Method <code>setVisible</code> only returns after the modal <code>JDialog</code> has been closed.</p>\n<ul>\n<li>When the <em>Close</em> button (in the <code>JDialog</code>) is clicked, method <code>closeDialog</code> is called.</li>\n<li>Method <code>closeDialog</code> disposes the <code>JDialog</code>. Essentially the <code>JDialog</code> no longer exists after it has been disposed.</li>\n<li>Each loop iteration (in method <code>showDialogs</code>) is performed only after the <code>JDialog</code> it displays has been closed.</li>\n</ul>\n"}],"owner":{"account_id":25240922,"reputation":1,"user_id":19074811,"display_name":"Intern"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72629007,"answer_count":1,"score":-1,"last_activity_date":1656351545,"creation_date":1655275243,"question_id":72626915,"body_markdown":"I am trying to open up a bunch of `JDialog`s one after another. The goal is that only after one `JDialog` is closed the next one is created. I have tried to use `setModal(true)` for the dialogs, but somehow that does not make it work.\r\n\r\nJust for you to get an idea, the code is roughly that:\r\n```java\r\nfor(Object o : mylist) {\r\n    JDialog j = new JDialog();\r\n    j.setModal(true);\r\n}\r\n```\r\nThe problem with that is that it opens up all the dialogs at once, so that multiple dialogs are open. How can I get what I want?\r\n","title":"Stop execution of program until JDialog is exited","body":"<p>I am trying to open up a bunch of <code>JDialog</code>s one after another. The goal is that only after one <code>JDialog</code> is closed the next one is created. I have tried to use <code>setModal(true)</code> for the dialogs, but somehow that does not make it work.</p>\n<p>Just for you to get an idea, the code is roughly that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(Object o : mylist) {\n    JDialog j = new JDialog();\n    j.setModal(true);\n}\n</code></pre>\n<p>The problem with that is that it opens up all the dialogs at once, so that multiple dialogs are open. How can I get what I want?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303060256,"creation_date":1303060256,"answer_id":5695011,"question_id":5694998,"body_markdown":"You will need another variable that holds the index of where you want to put the variable in the array (what index). each time thru the loop you will add the character as\r\n\r\n    charArray[index] = character;\r\n\r\nand then you need to increment the index.\r\n\r\nyou should be careful not to write too much data into the array (going past 100)","title":"BufferedReader values into char array","body":"<p>You will need another variable that holds the index of where you want to put the variable in the array (what index). each time thru the loop you will add the character as</p>\n\n<pre><code>charArray[index] = character;\n</code></pre>\n\n<p>and then you need to increment the index.</p>\n\n<p>you should be careful not to write too much data into the array (going past 100)</p>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1303060338,"creation_date":1303060338,"answer_id":5695019,"question_id":5694998,"body_markdown":"Use the correct method which does exactly what you want:\r\n\r\n    char[] charArray = new char[100];\r\n    BufferedReader buffer = new BufferedReader(new InputStreamReader(System.in));\r\n    int actualBuffered = buffer.read(charArray,0,100);\r\n\r\nAs stated in documentation [here][1], this method is blocking and returns just when:\r\n\r\n- The specified number of characters have been read,\r\n- The read method of the underlying stream returns -1, indicating end-of-file, or\r\n- The ready method of the underlying stream returns false, indicating that further input requests would block.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#read%28char%5B%5D,%20int,%20int%29","title":"BufferedReader values into char array","body":"<p>Use the correct method which does exactly what you want:</p>\n\n<pre><code>char[] charArray = new char[100];\nBufferedReader buffer = new BufferedReader(new InputStreamReader(System.in));\nint actualBuffered = buffer.read(charArray,0,100);\n</code></pre>\n\n<p>As stated in documentation <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#read%28char%5B%5D,%20int,%20int%29\">here</a>, this method is blocking and returns just when:</p>\n\n<ul>\n<li>The specified number of characters have been read,</li>\n<li>The read method of the underlying stream returns -1, indicating end-of-file, or</li>\n<li>The ready method of the underlying stream returns false, indicating that further input requests would block.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303060378,"creation_date":1303060378,"answer_id":5695023,"question_id":5694998,"body_markdown":"         char charArray[] = new char[ 100 ];\r\n         int i = 0;\r\n         BufferedReader buffer = new BufferedReader(\r\n             new InputStreamReader(System.in));\r\n         int c = 0;\r\n         while((c = buffer.read()) != -1 &amp;&amp; i &lt; 100) {\r\n              char character = (char) c;\r\n              charArray[i++] = c;\r\n         }\r\n\r\n\r\nStop when you read 100 characters.\r\n","title":"BufferedReader values into char array","body":"<pre><code>     char charArray[] = new char[ 100 ];\n     int i = 0;\n     BufferedReader buffer = new BufferedReader(\n         new InputStreamReader(System.in));\n     int c = 0;\n     while((c = buffer.read()) != -1 &amp;&amp; i &lt; 100) {\n          char character = (char) c;\n          charArray[i++] = c;\n     }\n</code></pre>\n\n<p>Stop when you read 100 characters.</p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303060567,"creation_date":1303060567,"answer_id":5695036,"question_id":5694998,"body_markdown":"You can also read all characters at once in the array by using provided methods in the Reader public interface.\r\n\r\n    char[] input = new char[10];\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n    int size = reader.read(input);\r\n    \t\t\r\n    System.out.println(String.valueOf(input, 0, size));\r\n    System.exit(0);","title":"BufferedReader values into char array","body":"<p>You can also read all characters at once in the array by using provided methods in the Reader public interface.</p>\n\n<pre><code>char[] input = new char[10];\nBufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\nint size = reader.read(input);\n\nSystem.out.println(String.valueOf(input, 0, size));\nSystem.exit(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22761112,"reputation":61,"user_id":16919922,"display_name":"SongHyunKim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656351466,"creation_date":1656349140,"answer_id":72775796,"question_id":5694998,"body_markdown":"I hope this helps\r\nI would add all inputs into one string and then use toCharArray()\r\n\r\ncharacters into array (efficient)\r\n``` JAVA\r\nCharacter[] charArray = br.readLine().toCharArray();\r\n```\r\n\r\ncharacters into array (inefficient)\r\n``` JAVA\r\nCharacter[] charArray = Arrays.stream(br.readLine().split(&quot;&quot;)).map(str-&gt;str.toCharArray()[0]).toArray(Character[]::new);\r\n```\r\n\r\ncharacters into list\r\n``` JAVA\r\nList&lt;Character&gt; charList= Arrays.stream(br.readLine().split(&quot;&quot;)).map(str-&gt;str.toCharArray()[0]).collect(Collectors.toList());\r\n```\r\n","title":"BufferedReader values into char array","body":"<p>I hope this helps\nI would add all inputs into one string and then use toCharArray()</p>\n<p>characters into array (efficient)</p>\n<pre><code>Character[] charArray = br.readLine().toCharArray();\n</code></pre>\n<p>characters into array (inefficient)</p>\n<pre><code>Character[] charArray = Arrays.stream(br.readLine().split(&quot;&quot;)).map(str-&gt;str.toCharArray()[0]).toArray(Character[]::new);\n</code></pre>\n<p>characters into list</p>\n<pre><code>List&lt;Character&gt; charList= Arrays.stream(br.readLine().split(&quot;&quot;)).map(str-&gt;str.toCharArray()[0]).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":738988,"reputation":23,"user_id":712323,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20158,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5695019,"answer_count":5,"score":2,"last_activity_date":1656351466,"creation_date":1303060112,"question_id":5694998,"body_markdown":"    char charArray[] = new char[ 100 ];\r\n\r\n        BufferedReader buffer = new BufferedReader(\r\n                 new InputStreamReader(System.in));\r\n        int c = 0;\r\n        while((c = buffer.read()) != -1) {\r\n                char character = (char) c;\r\n\r\n\r\nHow do I put the entered characters into my array?","title":"BufferedReader values into char array","body":"<pre><code>char charArray[] = new char[ 100 ];\n\n    BufferedReader buffer = new BufferedReader(\n             new InputStreamReader(System.in));\n    int c = 0;\n    while((c = buffer.read()) != -1) {\n            char character = (char) c;\n</code></pre>\n\n<p>How do I put the entered characters into my array?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":1549015,"reputation":1327,"user_id":1441857,"display_name":"Rohde Fischer"},"score":2,"creation_date":1565706028,"post_id":57479061,"comment_id":101431151,"body_markdown":"A small but useful trick for debugging such things btw. is calling `TemporalAccessor a = formatter.parse(&quot;...&quot;);` that way you get the in between step, and it&#39;s a bit easier to walk through why things happens as they do :)","body":"A small but useful trick for debugging such things btw. is calling <code>TemporalAccessor a = formatter.parse(&quot;...&quot;);</code> that way you get the in between step, and it&#39;s a bit easier to walk through why things happens as they do :)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1566396786,"post_id":57479061,"comment_id":101644771,"body_markdown":"I cannot reproduce. Both your methods `formatter2` and `formatter3` work flawlessly on my Java 11. To get `formatter1` to work, just replace `WeekFields.ISO.weekOfYear()` with `WeekFields.ISO.weekOfWeekBasedYear()`","body":"I cannot reproduce. Both your methods <code>formatter2</code> and <code>formatter3</code> work flawlessly on my Java 11. To get <code>formatter1</code> to work, just replace <code>WeekFields.ISO.weekOfYear()</code> with <code>WeekFields.ISO.weekOfWeekBasedYear()</code>"},{"owner":{"account_id":3919193,"reputation":43,"user_id":3242181,"display_name":"user3242181"},"score":0,"creation_date":1566812616,"post_id":57479061,"comment_id":101760671,"body_markdown":"@OleV.V. Sorry, I&#39;m running on Java 8 (IBM)","body":"@OleV.V. Sorry, I&#39;m running on Java 8 (IBM)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1566819226,"post_id":57479061,"comment_id":101763776,"body_markdown":"I have reproduced on (Oracle) Java 1.8.0_101. `formatter2()` throws `java.time.format.DateTimeParseException: Text &#39;201901&#39; could not be parsed at index 0`. `formatter3()` instead throws `java.time.format.DateTimeParseException: Text &#39;201901&#39; could not be parsed at index 6`. I find it very interesting and cannot explain immediately. (Adding your Java version in the question will allow me to retract my downvote.)","body":"I have reproduced on (Oracle) Java 1.8.0_101. <code>formatter2()</code> throws <code>java.time.format.DateTimeParseException: Text &#39;201901&#39; could not be parsed at index 0</code>. <code>formatter3()</code> instead throws <code>java.time.format.DateTimeParseException: Text &#39;201901&#39; could not be parsed at index 6</code>. I find it very interesting and cannot explain immediately. (Adding your Java version in the question will allow me to retract my downvote.)"},{"owner":{"account_id":3919193,"reputation":43,"user_id":3242181,"display_name":"user3242181"},"score":0,"creation_date":1566824614,"post_id":57479061,"comment_id":101766396,"body_markdown":"Very interesting, so it seems like it has been fixed in newer versions of Java. Thanks for confirming, I have added my version in the question.","body":"Very interesting, so it seems like it has been fixed in newer versions of Java. Thanks for confirming, I have added my version in the question."}],"answers":[{"tags":[],"owner":{"account_id":11097510,"reputation":1759,"user_id":10515734,"display_name":"Butiri Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565705283,"creation_date":1565705283,"answer_id":57479535,"question_id":57479061,"body_markdown":"You can use [YearMonth](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html)\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    System.out.println(YearMonth.parse(&quot;201901&quot;, DateTimeFormatter.ofPattern(&quot;yyyyMM&quot;)));\r\n}\r\n```\r\n**Output**\r\n```\r\n2019-01\r\n```","title":"Unable to obtain LocalDate from TemporalAccessor for week based string","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\">YearMonth</a></p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(YearMonth.parse(\"201901\", DateTimeFormatter.ofPattern(\"yyyyMM\")));\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>2019-01\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1549015,"reputation":1327,"user_id":1441857,"display_name":"Rohde Fischer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565712210,"creation_date":1565705571,"answer_id":57479625,"question_id":57479061,"body_markdown":"As far as I know you cannot do that. There are as far as I know two issues with your code. The first is that a `LocalDate` does not have enough information, since your code cannot know which weekday it is supposed to parse to.\r\n\r\nThe second is the use of the slightly strange fields. If you just use the Chrono fields you should be fine. You might also be able to adjust your pattern to contain either a space or a dash, as it seems the parsing doesn&#39;t like it being in one number - not sure why though\r\n\r\nYou can for instance do as follows:\r\n\r\n```java\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        .appendValue(ChronoField.YEAR, 4, 4, SignStyle.NEVER)\r\n        .appendValue(ChronoField.ALIGNED_WEEK_OF_YEAR, 2, 2, SignStyle.NEVER)\r\n        .parseDefaulting(ChronoField.DAY_OF_WEEK, DayOfWeek.SUNDAY.getValue())\r\n        .toFormatter();\r\n\r\nLocalDate d = LocalDate.parse(&quot;201933&quot;, formatter);\r\n```\r\n\r\nHowever, using week numbers doesn&#39;t seem like a good option. If you can go with months as @butiri-dan suggests you are most likely better off.\r\n\r\nEdit: Per suggestion of @carlos-heuberger it&#39;s now using `ChronoField.DAY_OF_WEEK` in the `parseDefaulting`-setep","title":"Unable to obtain LocalDate from TemporalAccessor for week based string","body":"<p>As far as I know you cannot do that. There are as far as I know two issues with your code. The first is that a <code>LocalDate</code> does not have enough information, since your code cannot know which weekday it is supposed to parse to.</p>\n\n<p>The second is the use of the slightly strange fields. If you just use the Chrono fields you should be fine. You might also be able to adjust your pattern to contain either a space or a dash, as it seems the parsing doesn't like it being in one number - not sure why though</p>\n\n<p>You can for instance do as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .appendValue(ChronoField.YEAR, 4, 4, SignStyle.NEVER)\n        .appendValue(ChronoField.ALIGNED_WEEK_OF_YEAR, 2, 2, SignStyle.NEVER)\n        .parseDefaulting(ChronoField.DAY_OF_WEEK, DayOfWeek.SUNDAY.getValue())\n        .toFormatter();\n\nLocalDate d = LocalDate.parse(\"201933\", formatter);\n</code></pre>\n\n<p>However, using week numbers doesn't seem like a good option. If you can go with months as @butiri-dan suggests you are most likely better off.</p>\n\n<p>Edit: Per suggestion of @carlos-heuberger it's now using <code>ChronoField.DAY_OF_WEEK</code> in the <code>parseDefaulting</code>-setep</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565719124,"creation_date":1565719124,"answer_id":57483078,"question_id":57479061,"body_markdown":"Well first week of 2019 doesn&#39;t give you a particular date. You need to add a specific day of the week. I ran this:\r\n\r\n    System.out.println(LocalDate.parse(&quot;2019-01-01&quot;, DateTimeFormatter.ofPattern(&quot;YYYY-ww-ee&quot;)));\r\n\r\nand got `&quot;2018-12-30&quot;` (that&#39;s because January 1st of 2019 fell on Tuesday i.e. the third day of the week, so the first day of the first week of 2019 is actually `&quot;2018-12-30&quot;`). Note that for some reason without dashes `&quot;-&quot;` it didn&#39;t work. To read about the formatter options go here: [DateTimeFormatter][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Unable to obtain LocalDate from TemporalAccessor for week based string","body":"<p>Well first week of 2019 doesn't give you a particular date. You need to add a specific day of the week. I ran this:</p>\n\n<pre><code>System.out.println(LocalDate.parse(\"2019-01-01\", DateTimeFormatter.ofPattern(\"YYYY-ww-ee\")));\n</code></pre>\n\n<p>and got <code>\"2018-12-30\"</code> (that's because January 1st of 2019 fell on Tuesday i.e. the third day of the week, so the first day of the first week of 2019 is actually <code>\"2018-12-30\"</code>). Note that for some reason without dashes <code>\"-\"</code> it didn't work. To read about the formatter options go here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566824817,"creation_date":1566822338,"answer_id":57657899,"question_id":57479061,"body_markdown":"This works on Java 8 and later:\r\n\r\n\t\tDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n\t\t\t\t.appendValue(WeekFields.ISO.weekBasedYear(), 4)\r\n\t\t\t\t.appendValue(WeekFields.ISO.weekOfWeekBasedYear(), 2)\r\n\t\t\t\t.parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\r\n\t\t\t\t.toFormatter();\r\n\r\n\t\tSystem.out.println(LocalDate.parse(&quot;201901&quot;, formatter));\r\n\r\nOutput is:\r\n\r\n&gt; 2019-01-06\r\n\r\nI have tested on Oracle Java 1.8.0_101. I haven’t got any IBM Java installed.\r\n\r\nThe key to making it work is using `weekOfWeekBasedYear()` instead of `weekOfYear()`. My other changes are cosmetic. `WeekFields.ISO.weekOfYear()` defines week numbers by counting the Mondays in the year, which is not what you wanted since week 1 according to ISO may start on a Monday near the end of the previous year (December 29 through 31). Therefore it also doesn’t work well with *week-based year*, and Java refuses to use the two together to identify a week.\r\n\r\nOn Java 9 both of your `formatter2()` and `formatter3()` work too (tested on Oracle Java 9.0.4). It seems there has been a bug in Java 8 where adjacent field parsing didn’t work for `YYYYww`. I have searched the Oracle Java Bug Database without finding the bug description, though.\r\n\r\n## ISO 8601\r\n\r\nISO 8601, the standard which lays down the definition of weeks that you are using, also defines a format for a week. It goes like `2012-W48`. So unless you have a good and very specific reason not to, this is the format that you should use, especially in your exchange of data with any external system. It also happens to eliminate the adjacent fields parsing problem on Java 8.\r\n\r\n\t\tDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n\t\t\t\t.appendPattern(&quot;YYYY-&#39;W&#39;ww&quot;)\r\n\t\t\t\t.parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\r\n\t\t\t\t.toFormatter();\r\n\t\t\r\n\t\tSystem.out.println(LocalDate.parse(&quot;2019-W01&quot;, formatter));\r\n\r\n&gt; 2019-01-06\r\n\r\n## Link\r\n\r\n - [Oracle Java Bug Database](https://bugs.java.com/bugdatabase/)\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)","title":"Unable to obtain LocalDate from TemporalAccessor for week based string","body":"<p>This works on Java 8 and later:</p>\n\n<pre><code>    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .appendValue(WeekFields.ISO.weekBasedYear(), 4)\n            .appendValue(WeekFields.ISO.weekOfWeekBasedYear(), 2)\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\n            .toFormatter();\n\n    System.out.println(LocalDate.parse(\"201901\", formatter));\n</code></pre>\n\n<p>Output is:</p>\n\n<blockquote>\n  <p>2019-01-06</p>\n</blockquote>\n\n<p>I have tested on Oracle Java 1.8.0_101. I haven’t got any IBM Java installed.</p>\n\n<p>The key to making it work is using <code>weekOfWeekBasedYear()</code> instead of <code>weekOfYear()</code>. My other changes are cosmetic. <code>WeekFields.ISO.weekOfYear()</code> defines week numbers by counting the Mondays in the year, which is not what you wanted since week 1 according to ISO may start on a Monday near the end of the previous year (December 29 through 31). Therefore it also doesn’t work well with <em>week-based year</em>, and Java refuses to use the two together to identify a week.</p>\n\n<p>On Java 9 both of your <code>formatter2()</code> and <code>formatter3()</code> work too (tested on Oracle Java 9.0.4). It seems there has been a bug in Java 8 where adjacent field parsing didn’t work for <code>YYYYww</code>. I have searched the Oracle Java Bug Database without finding the bug description, though.</p>\n\n<h2>ISO 8601</h2>\n\n<p>ISO 8601, the standard which lays down the definition of weeks that you are using, also defines a format for a week. It goes like <code>2012-W48</code>. So unless you have a good and very specific reason not to, this is the format that you should use, especially in your exchange of data with any external system. It also happens to eliminate the adjacent fields parsing problem on Java 8.</p>\n\n<pre><code>    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .appendPattern(\"YYYY-'W'ww\")\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\n            .toFormatter();\n\n    System.out.println(LocalDate.parse(\"2019-W01\", formatter));\n</code></pre>\n\n<blockquote>\n  <p>2019-01-06</p>\n</blockquote>\n\n<h2>Link</h2>\n\n<ul>\n<li><a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">Oracle Java Bug Database</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n</ul>\n"}],"owner":{"account_id":3919193,"reputation":43,"user_id":3242181,"display_name":"user3242181"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2326,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57657899,"answer_count":4,"score":4,"last_activity_date":1656351056,"creation_date":1565703722,"question_id":57479061,"body_markdown":"I&#39;m trying to parse a simple string in the format &quot;YYYYww&quot; (e.g. 201901) into a LocalDate, but none of my attempts succeed.\r\n\r\nI attempted to parse it by simply using the pattern &quot;YYYYww&quot; and also through manually appending the values to the FormatterBuilder.\r\nSince my input string does not contain a day, I also configured the formatter to default to Sunday.\r\n\r\nHere&#39;s the code that fails for me, running Java 8 (IBM JRE 8.0.5.25).\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    formatter1(); // Unable to obtain LocalDate from TemporalAccessor\r\n    formatter2(); // Text &#39;201901&#39; could not be parsed at index 0\r\n    formatter3(); // Text &#39;201901&#39; could not be parsed at index 6\r\n}\r\n\r\npublic static void formatter1() {\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .appendValue(WeekFields.ISO.weekBasedYear(), 4, 4, SignStyle.NEVER)\r\n            .appendValue(WeekFields.ISO.weekOfYear(), 2, 2, SignStyle.NEVER)\r\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\r\n            .toFormatter();\r\n\r\n    LocalDate.parse(&quot;201901&quot;, formatter);\r\n}\r\n\r\npublic static void formatter2() {\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .appendPattern(&quot;YYYYww&quot;)\r\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\r\n            .toFormatter();\r\n\r\n    LocalDate.parse(&quot;201901&quot;, formatter);\r\n}\r\n\r\npublic static void formatter3() {\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .parseLenient()\r\n            .appendPattern(&quot;YYYYww&quot;)\r\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\r\n            .toFormatter();\r\n\r\n    LocalDate.parse(&quot;201901&quot;, formatter);\r\n}\r\n```\r\n\r\nAs seen in the example code I get different error messages, with especially the first example confusing me, since the TemporalAccessor contains the week-based-year, the week of the year and the week-day, which should be enough to construct a LocalDate.\r\n\r\n```\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;201901&#39; could not be parsed: Unable to obtain LocalDate from TemporalAccessor: {WeekOfYear[WeekFields[MONDAY,4]]=1, WeekBasedYear[WeekFields[MONDAY,4]]=2019, DayOfWeek=7},ISO of type java.time.format.Parsed\r\n\tat java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1931)\r\n\tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1866)\r\n\tat java.time.LocalDate.parse(LocalDate.java:411)\r\n\tat Main.formatter1(Main.java:22)\r\n\tat Main.main(Main.java:10)\r\nCaused by: java.time.DateTimeException: Unable to obtain LocalDate from TemporalAccessor: {WeekOfYear[WeekFields[MONDAY,4]]=1, WeekBasedYear[WeekFields[MONDAY,4]]=2019, DayOfWeek=7},ISO of type java.time.format.Parsed\r\n\tat java.time.LocalDate.from(LocalDate.java:379)\r\n\tat java.time.LocalDate$$Lambda$7.000000001061ED20.queryFrom(Unknown Source)\r\n\tat java.time.format.Parsed.query(Parsed.java:237)\r\n\tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1862)\r\n\t... 3 more\r\n```","title":"Unable to obtain LocalDate from TemporalAccessor for week based string","body":"<p>I'm trying to parse a simple string in the format \"YYYYww\" (e.g. 201901) into a LocalDate, but none of my attempts succeed.</p>\n\n<p>I attempted to parse it by simply using the pattern \"YYYYww\" and also through manually appending the values to the FormatterBuilder.\nSince my input string does not contain a day, I also configured the formatter to default to Sunday.</p>\n\n<p>Here's the code that fails for me, running Java 8 (IBM JRE 8.0.5.25).</p>\n\n<pre><code>public static void main(String[] args) {\n    formatter1(); // Unable to obtain LocalDate from TemporalAccessor\n    formatter2(); // Text '201901' could not be parsed at index 0\n    formatter3(); // Text '201901' could not be parsed at index 6\n}\n\npublic static void formatter1() {\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .appendValue(WeekFields.ISO.weekBasedYear(), 4, 4, SignStyle.NEVER)\n            .appendValue(WeekFields.ISO.weekOfYear(), 2, 2, SignStyle.NEVER)\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\n            .toFormatter();\n\n    LocalDate.parse(\"201901\", formatter);\n}\n\npublic static void formatter2() {\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .appendPattern(\"YYYYww\")\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\n            .toFormatter();\n\n    LocalDate.parse(\"201901\", formatter);\n}\n\npublic static void formatter3() {\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .parseLenient()\n            .appendPattern(\"YYYYww\")\n            .parseDefaulting(WeekFields.ISO.dayOfWeek(), DayOfWeek.SUNDAY.getValue())\n            .toFormatter();\n\n    LocalDate.parse(\"201901\", formatter);\n}\n</code></pre>\n\n<p>As seen in the example code I get different error messages, with especially the first example confusing me, since the TemporalAccessor contains the week-based-year, the week of the year and the week-day, which should be enough to construct a LocalDate.</p>\n\n<pre><code>Exception in thread \"main\" java.time.format.DateTimeParseException: Text '201901' could not be parsed: Unable to obtain LocalDate from TemporalAccessor: {WeekOfYear[WeekFields[MONDAY,4]]=1, WeekBasedYear[WeekFields[MONDAY,4]]=2019, DayOfWeek=7},ISO of type java.time.format.Parsed\n    at java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1931)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1866)\n    at java.time.LocalDate.parse(LocalDate.java:411)\n    at Main.formatter1(Main.java:22)\n    at Main.main(Main.java:10)\nCaused by: java.time.DateTimeException: Unable to obtain LocalDate from TemporalAccessor: {WeekOfYear[WeekFields[MONDAY,4]]=1, WeekBasedYear[WeekFields[MONDAY,4]]=2019, DayOfWeek=7},ISO of type java.time.format.Parsed\n    at java.time.LocalDate.from(LocalDate.java:379)\n    at java.time.LocalDate$$Lambda$7.000000001061ED20.queryFrom(Unknown Source)\n    at java.time.format.Parsed.query(Parsed.java:237)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1862)\n    ... 3 more\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1656348946,"post_id":72775713,"comment_id":128544975,"body_markdown":"At a glance: you can&#39;t just check if the result of `compare == 1`, you must check if it is `&gt; 0`.  `compare` is allowed to return 1, 10, 1234, 100000, or any other positive number.","body":"At a glance: you can&#39;t just check if the result of <code>compare == 1</code>, you must check if it is <code>&gt; 0</code>.  <code>compare</code> is allowed to return 1, 10, 1234, 100000, or any other positive number."}],"answers":[{"tags":[],"owner":{"account_id":4407008,"reputation":44,"user_id":3591105,"display_name":"faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656350950,"creation_date":1656350950,"answer_id":72776175,"question_id":72775713,"body_markdown":"You have a break statement inside the if condition. Once the loop falls into if condition and break statement will hit. It will terminate the loop also.\r\n\r\nAdd a few `System.out.println()` to get the idea of what&#39;s going on.\r\n\r\n    for (int Index = 0; Index &lt; Tariff.size(); Index++) { \r\n        System.out.println(Index);\r\n        if(Tariff.get(Index).getType().equals(&quot;A&quot;) &amp;&amp; minSum != null &amp;&amp; Tariff.get(Index).getDiscSum().compareTo(minSum) == 1){\r\n            System.out.println(minSum);\r\n            System.out.println(&quot;\\n&quot;);\r\n            System.out.println(Tariff.get(Index).getDiscSum());\r\n            Tariff.get(Index).setComp(Tariff.get(Index).getPrice().subtract((Tariff.get(Index).getPrice().subtract(minSum)).min(maxSum)));\r\n            System.out.println(&quot;Breaking the loop&quot;);\r\n            break;\r\n       }\r\n    }\r\n    \r\n    System.out.println(&quot;Exit&quot;);","title":"Java loop took only one of my records and don&#39;t even look at other","body":"<p>You have a break statement inside the if condition. Once the loop falls into if condition and break statement will hit. It will terminate the loop also.</p>\n<p>Add a few <code>System.out.println()</code> to get the idea of what's going on.</p>\n<pre><code>for (int Index = 0; Index &lt; Tariff.size(); Index++) { \n    System.out.println(Index);\n    if(Tariff.get(Index).getType().equals(&quot;A&quot;) &amp;&amp; minSum != null &amp;&amp; Tariff.get(Index).getDiscSum().compareTo(minSum) == 1){\n        System.out.println(minSum);\n        System.out.println(&quot;\\n&quot;);\n        System.out.println(Tariff.get(Index).getDiscSum());\n        Tariff.get(Index).setComp(Tariff.get(Index).getPrice().subtract((Tariff.get(Index).getPrice().subtract(minSum)).min(maxSum)));\n        System.out.println(&quot;Breaking the loop&quot;);\n        break;\n   }\n}\n\nSystem.out.println(&quot;Exit&quot;);\n</code></pre>\n"}],"owner":{"account_id":22191064,"reputation":63,"user_id":16433246,"display_name":"TtT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656350950,"creation_date":1656348722,"question_id":72775713,"body_markdown":"I created loop, which is checking if discSum &gt; minSum. But for some reason println in console giving me always same numbers and system setting (setComp) for all records. It seems, that loop just took one of my record and not even looking at others. In this case, I need that loop will took only one record, one time and use function (setComp) only for this one records. What is wrong here? \r\n\r\nMy data after loop:\r\n\r\n    &quot;Type&quot;: &quot;A&quot;,\r\n    &quot;DiscSum&quot;: 0.11925,\r\n    &quot;minSum&quot;: 0.15,\r\n    &quot;Comp&quot;: 0.20.\r\n    \r\n    \r\n    &quot;Type&quot;: &quot;A&quot;,\r\n    &quot;DiscSum&quot;: 0.22270,\r\n    &quot;minSum&quot;: 0.15,\r\n    &quot;Comp&quot;: 0.20.\r\n    \r\n    \r\n    &quot;Type&quot;: &quot;A&quot;,\r\n    &quot;DiscSum&quot;: 0.016,\r\n    &quot;minSum&quot;: 0.15,\r\n    &quot;Comp&quot;: 0.20.\r\n\r\nPrinln in console shows:\r\n\r\n    0.15\r\n    0.22270\r\n    \r\n    \r\n    0.15\r\n    0.22270\r\n    \r\n    \r\n    0.15\r\n    0.22270\r\n    \r\n    \r\n    0.15\r\n    0.22270\r\n    \r\n    \r\n    0.15\r\n    0.22270\r\n    \r\n    \r\n    0.15\r\n    0.22270\r\n\r\nCode:\r\n\r\n       for (int Index = 0; Index &lt; Tariff.size(); Index++) { \r\n        if(Tariff.get(Index).getType().equals(&quot;A&quot;) &amp;&amp; minSum != null &amp;&amp; Tariff.get(Index).getDiscSum().compareTo(minSum) == 1){\r\n            System.out.println(minSum);\r\n            System.out.println(&quot;\\n&quot;);\r\n            System.out.println(Tariff.get(Index).getDiscSum());\r\n            Tariff.get(Index).setComp(Tariff.get(Index).getPrice().subtract((Tariff.get(Index).getPrice().subtract(minSum)).min(maxSum)));\r\n            break;\r\n     }\r\n    }\r\n\r\n","title":"Java loop took only one of my records and don&#39;t even look at other","body":"<p>I created loop, which is checking if discSum &gt; minSum. But for some reason println in console giving me always same numbers and system setting (setComp) for all records. It seems, that loop just took one of my record and not even looking at others. In this case, I need that loop will took only one record, one time and use function (setComp) only for this one records. What is wrong here?</p>\n<p>My data after loop:</p>\n<pre><code>&quot;Type&quot;: &quot;A&quot;,\n&quot;DiscSum&quot;: 0.11925,\n&quot;minSum&quot;: 0.15,\n&quot;Comp&quot;: 0.20.\n\n\n&quot;Type&quot;: &quot;A&quot;,\n&quot;DiscSum&quot;: 0.22270,\n&quot;minSum&quot;: 0.15,\n&quot;Comp&quot;: 0.20.\n\n\n&quot;Type&quot;: &quot;A&quot;,\n&quot;DiscSum&quot;: 0.016,\n&quot;minSum&quot;: 0.15,\n&quot;Comp&quot;: 0.20.\n</code></pre>\n<p>Prinln in console shows:</p>\n<pre><code>0.15\n0.22270\n\n\n0.15\n0.22270\n\n\n0.15\n0.22270\n\n\n0.15\n0.22270\n\n\n0.15\n0.22270\n\n\n0.15\n0.22270\n</code></pre>\n<p>Code:</p>\n<pre><code>   for (int Index = 0; Index &lt; Tariff.size(); Index++) { \n    if(Tariff.get(Index).getType().equals(&quot;A&quot;) &amp;&amp; minSum != null &amp;&amp; Tariff.get(Index).getDiscSum().compareTo(minSum) == 1){\n        System.out.println(minSum);\n        System.out.println(&quot;\\n&quot;);\n        System.out.println(Tariff.get(Index).getDiscSum());\n        Tariff.get(Index).setComp(Tariff.get(Index).getPrice().subtract((Tariff.get(Index).getPrice().subtract(minSum)).min(maxSum)));\n        break;\n }\n}\n</code></pre>\n"},{"tags":["java","spring","unit-testing","gradle","testing"],"answers":[{"tags":[],"owner":{"account_id":3266981,"reputation":888,"user_id":2751285,"display_name":"BrentR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656350353,"creation_date":1656350353,"answer_id":72776057,"question_id":72772673,"body_markdown":"You can iterate over your list of test names twice; once for each test. (1: testOutput, 2: testOutputAsync). \r\n\r\nI mention this as a simple approach. As you&#39;re trying to create two things inside the body of the loop. Other solutions could involve using flatMap, but will be more complicated and probably not worth it for code that appears be for test purposes anyway.","title":"Create two dynamic test in each loop","body":"<p>You can iterate over your list of test names twice; once for each test. (1: testOutput, 2: testOutputAsync).</p>\n<p>I mention this as a simple approach. As you're trying to create two things inside the body of the loop. Other solutions could involve using flatMap, but will be more complicated and probably not worth it for code that appears be for test purposes anyway.</p>\n"}],"owner":{"account_id":17363872,"reputation":35,"user_id":15980587,"display_name":"jenny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656350353,"creation_date":1656335395,"question_id":72772673,"body_markdown":"I&#39;m trying to create dynamic tests, where each loop is creating two separate tests.\r\nRight now I have the below code, which is creating exactly 7 tests as appears in the ArrayList. Since the name of the test is defined in `.map((testName-&gt;` part, only one test is created each loop. Is there a way to separate those two (the first and second assert)? I&#39;m struggling a bit with this type of syntax since I&#39;m new to Java and can&#39;t figure it out.\r\n    \r\n    @TestFactory\r\n        Stream&lt;DynamicTest&gt; AllPythonTests() throws IOException, InterruptedException {\r\n            ArrayList&lt;String&gt; inputStream = new ArrayList&lt;String&gt;(\r\n                    Arrays.asList(&quot;test_parsing&quot;, &quot;test_get_all_targets&quot;,&quot;test_handle_port&quot;, &quot;test_handle_prefix&quot;,\r\n                            &quot;test_read_conf&quot;, &quot;test_choose_all_targets_from_conf&quot;, &quot;test_get_output&quot;));\r\n            return inputStream.stream().map((testName) -&gt; {\r\n                return DynamicTest.dynamicTest(&quot;testing: &quot; + testName, () -&gt; {\r\n                    String testOutput = getOutput(testName,&quot;&quot;);\r\n                    org.hamcrest.MatcherAssert.assertThat(testOutput, containsString(&quot;OK&quot;));\r\n                    String testOutputAsync = getOutput(testName + &quot;_async&quot;,&quot;_async&quot;);\r\n                    org.hamcrest.MatcherAssert.assertThat(testOutputAsync, containsString(&quot;OK&quot;));\r\n    \r\n                });","title":"Create two dynamic test in each loop","body":"<p>I'm trying to create dynamic tests, where each loop is creating two separate tests.\nRight now I have the below code, which is creating exactly 7 tests as appears in the ArrayList. Since the name of the test is defined in <code>.map((testName-&gt;</code> part, only one test is created each loop. Is there a way to separate those two (the first and second assert)? I'm struggling a bit with this type of syntax since I'm new to Java and can't figure it out.</p>\n<pre><code>@TestFactory\n    Stream&lt;DynamicTest&gt; AllPythonTests() throws IOException, InterruptedException {\n        ArrayList&lt;String&gt; inputStream = new ArrayList&lt;String&gt;(\n                Arrays.asList(&quot;test_parsing&quot;, &quot;test_get_all_targets&quot;,&quot;test_handle_port&quot;, &quot;test_handle_prefix&quot;,\n                        &quot;test_read_conf&quot;, &quot;test_choose_all_targets_from_conf&quot;, &quot;test_get_output&quot;));\n        return inputStream.stream().map((testName) -&gt; {\n            return DynamicTest.dynamicTest(&quot;testing: &quot; + testName, () -&gt; {\n                String testOutput = getOutput(testName,&quot;&quot;);\n                org.hamcrest.MatcherAssert.assertThat(testOutput, containsString(&quot;OK&quot;));\n                String testOutputAsync = getOutput(testName + &quot;_async&quot;,&quot;_async&quot;);\n                org.hamcrest.MatcherAssert.assertThat(testOutputAsync, containsString(&quot;OK&quot;));\n\n            });\n</code></pre>\n"},{"tags":["java","json","jsonnode"],"answers":[{"tags":[],"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656350142,"creation_date":1656350142,"answer_id":72776006,"question_id":72775684,"body_markdown":"    public static void main(String[] args) throws Exception {\r\n\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        String resourceUrl = &quot;https://api.github.com/orgs/engineyard/repos&quot;;\r\n        String response = restTemplate.getForObject(resourceUrl, String.class);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        JsonNode rootNode = mapper.readTree(response);\r\n\r\n        System.out.println(&quot;All &#39;name&#39;s, including searching in child json objects&quot;);\r\n        System.out.println(&quot;----------------------------------------------------&quot;);\r\n        for (var val : rootNode.findValues(&quot;name&quot;)) {\r\n            System.out.println(val);\r\n        }\r\n\r\n        System.out.println(&quot;Get &#39;name&#39;s only from first child nodes of the root&quot;);\r\n        System.out.println(&quot;----------------------------------------------------&quot;);\r\n        for (JsonNode firstNode : rootNode) {\r\n            System.out.println(firstNode.path(&quot;name&quot;).asText());\r\n        }\r\n    }\r\n\r\nReplace `name` string with `forks` to get results for `forks`","title":"JsonNode.get(&quot;&quot;) returns null value. I want to take &quot;name&quot; and &quot;forks&quot; from json on code","body":"<pre><code>public static void main(String[] args) throws Exception {\n\n    RestTemplate restTemplate = new RestTemplate();\n    String resourceUrl = &quot;https://api.github.com/orgs/engineyard/repos&quot;;\n    String response = restTemplate.getForObject(resourceUrl, String.class);\n    ObjectMapper mapper = new ObjectMapper();\n\n    JsonNode rootNode = mapper.readTree(response);\n\n    System.out.println(&quot;All 'name's, including searching in child json objects&quot;);\n    System.out.println(&quot;----------------------------------------------------&quot;);\n    for (var val : rootNode.findValues(&quot;name&quot;)) {\n        System.out.println(val);\n    }\n\n    System.out.println(&quot;Get 'name's only from first child nodes of the root&quot;);\n    System.out.println(&quot;----------------------------------------------------&quot;);\n    for (JsonNode firstNode : rootNode) {\n        System.out.println(firstNode.path(&quot;name&quot;).asText());\n    }\n}\n</code></pre>\n<p>Replace <code>name</code> string with <code>forks</code> to get results for <code>forks</code></p>\n"}],"owner":{"account_id":16901792,"reputation":21,"user_id":19428473,"display_name":"SonyCZK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72776006,"answer_count":1,"score":1,"last_activity_date":1656350142,"creation_date":1656348587,"question_id":72775684,"body_markdown":"\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tString resourceUrl = &quot;https://api.github.com/orgs/engineyard/repos&quot;; //json address\r\n\t\tString response = restTemplate.getForObject(resourceUrl,String.class);\r\n\t\tObjectMapper mapper = new ObjectMapper(); //mapper\r\n\t\tJsonNode jsonTree = mapper.readTree(response); //JsonNode\r\n\t\tSystem.out.println(jsonTree.get(&quot;name&quot;)); //null\r\n\r\nI am trying to get all &quot;name&quot; and &quot;forks&quot; from this json URL [enter link description here][1] \r\n\r\n\r\n  [1]: https://api.github.com/orgs/engineyard/repos","title":"JsonNode.get(&quot;&quot;) returns null value. I want to take &quot;name&quot; and &quot;forks&quot; from json on code","body":"<pre><code>    RestTemplate restTemplate = new RestTemplate();\n    String resourceUrl = &quot;https://api.github.com/orgs/engineyard/repos&quot;; //json address\n    String response = restTemplate.getForObject(resourceUrl,String.class);\n    ObjectMapper mapper = new ObjectMapper(); //mapper\n    JsonNode jsonTree = mapper.readTree(response); //JsonNode\n    System.out.println(jsonTree.get(&quot;name&quot;)); //null\n</code></pre>\n<p>I am trying to get all &quot;name&quot; and &quot;forks&quot; from this json URL <a href=\"https://api.github.com/orgs/engineyard/repos\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1656349070,"post_id":72775746,"comment_id":128545012,"body_markdown":"You shouldn&#39;t need a Maven import, `java.sql.Date` is still part of the JDK. Your error message mentions `java.base` which means that you&#39;re currently using the module system. You&#39;ll need to require module `java.sql`. That may only be necessary for Java 17, so maybe you can do that with some command-line flags.","body":"You shouldn&#39;t need a Maven import, <code>java.sql.Date</code> is still part of the JDK. Your error message mentions <code>java.base</code> which means that you&#39;re currently using the module system. You&#39;ll need to require module <code>java.sql</code>. That may only be necessary for Java 17, so maybe you can do that with some command-line flags."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1656349211,"post_id":72775746,"comment_id":128545076,"body_markdown":"@RobSpoor I want my `pom.xml` to compile with both Java 8 and Java 17. If I add command line args, it will stop working with Java 8. I&#39;m looking for a solution similar to this one https://stackoverflow.com/a/43574427/187141","body":"@RobSpoor I want my <code>pom.xml</code> to compile with both Java 8 and Java 17. If I add command line args, it will stop working with Java 8. I&#39;m looking for a solution similar to this one <a href=\"https://stackoverflow.com/a/43574427/187141\">stackoverflow.com/a/43574427/187141</a>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1656349242,"post_id":72775746,"comment_id":128545087,"body_markdown":"Java 8 has passed the end of its support life.  I would recommend LTS versions 11 and 17, nothing else.","body":"Java 8 has passed the end of its support life.  I would recommend LTS versions 11 and 17, nothing else."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1656349337,"post_id":72775746,"comment_id":128545111,"body_markdown":"@RobSpoor if `java.sql.Date` would be part of JDK, I think it would exist in the classpath and `URLClassLoader` would find it. Or I miss something?","body":"@RobSpoor if <code>java.sql.Date</code> would be part of JDK, I think it would exist in the classpath and <code>URLClassLoader</code> would find it. Or I miss something?"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1656349475,"post_id":72775746,"comment_id":128545170,"body_markdown":"Your development environment isn&#39;t sane, when it&#39;s not compatible with production. Common sense may suggest to simply use Java 8 or 11 for development. Either downgrade the development environment or upgrade the production environment. Everything else is  highly questionable.","body":"Your development environment isn&#39;t sane, when it&#39;s not compatible with production. Common sense may suggest to simply use Java 8 or 11 for development. Either downgrade the development environment or upgrade the production environment. Everything else is  highly questionable."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656349912,"post_id":72775746,"comment_id":128545317,"body_markdown":"Do you have a module-info.java in your project? Then either remove it if you don&#39;t want to use modular java, or add `requires java.sql;` to it if you want to use JDBC. As others have mentioned, `java.sql.Date` is part of the Java standard library. It is also possible your code is doing some odd classloading, but in that case you will need to post a [mre].","body":"Do you have a module-info.java in your project? Then either remove it if you don&#39;t want to use modular java, or add <code>requires java.sql;</code> to it if you want to use JDBC. As others have mentioned, <code>java.sql.Date</code> is part of the Java standard library. It is also possible your code is doing some odd classloading, but in that case you will need to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1656350416,"post_id":72775746,"comment_id":128545498,"body_markdown":"I strongly recommend you don’t use `java.sql.Date`. That class is poorly designed and long outdated. Instead use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). You may have known this already, but the comment should stand here for other users who may not be aware.","body":"I strongly recommend you don’t use <code>java.sql.Date</code>. That class is poorly designed and long outdated. Instead use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. You may have known this already, but the comment should stand here for other users who may not be aware."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1656350882,"post_id":72775746,"comment_id":128545654,"body_markdown":"The only place where you should be using java.sql.Date is for relational database code.  The java.time package should be preferred.","body":"The only place where you should be using java.sql.Date is for relational database code.  The java.time package should be preferred."}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656349969,"creation_date":1656348882,"question_id":72775746,"body_markdown":"What is the dependency to add to `pom.xml` in order to get rid of this:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: java/sql/Date\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n```\r\n\r\nI&#39;m with Java 17, but my production platform is with Java 8. So, I need a dependency, not a Java 9 module. Please don&#39;t suggest changing my dev or prod environments. I do understand that it would be the best option.","title":"What Maven dependency to add to include java.sql.Date for Java 17?","body":"<p>What is the dependency to add to <code>pom.xml</code> in order to get rid of this:</p>\n<pre><code>java.lang.NoClassDefFoundError: java/sql/Date\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n</code></pre>\n<p>I'm with Java 17, but my production platform is with Java 8. So, I need a dependency, not a Java 9 module. Please don't suggest changing my dev or prod environments. I do understand that it would be the best option.</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":2970078,"reputation":129,"user_id":2522318,"accept_rate":73,"display_name":"JohnnyTheJet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656349914,"creation_date":1656349914,"answer_id":72775951,"question_id":72775405,"body_markdown":"You can accomplish this in your yaml.\r\n\r\n```\r\nspring:\r\n  jackson:\r\n    deserialization:\r\n      FAIL_ON_UNKNOWN_PROPERTIES: true\r\n```\r\n\r\nNot sure why the object mapper wasn&#39;t hooking up.","title":"How to get Jackson To Throw An Error on Incorrect Casing On Deserialization","body":"<p>You can accomplish this in your yaml.</p>\n<pre><code>spring:\n  jackson:\n    deserialization:\n      FAIL_ON_UNKNOWN_PROPERTIES: true\n</code></pre>\n<p>Not sure why the object mapper wasn't hooking up.</p>\n"}],"owner":{"account_id":2970078,"reputation":129,"user_id":2522318,"accept_rate":73,"display_name":"JohnnyTheJet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72775951,"answer_count":1,"score":1,"last_activity_date":1656349914,"creation_date":1656347159,"question_id":72775405,"body_markdown":"I have the following class: \r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.databind.PropertyNamingStrategies;\r\nimport com.fasterxml.jackson.databind.annotation.JsonNaming;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\n@JsonIgnoreProperties(ignoreUnknown = false)\r\npublic class Header {\r\n  private String myName;\r\n  private String client;\r\n  private String createdOn;\r\n  private String updatedOn;\r\n}\r\n```\r\n\r\nand my mapper looks as follows:\r\n```\r\npublic static &lt;T&gt; T fromJson(String json, Class&lt;T&gt; clazz) throws JsonProcessingException {\r\n    ObjectMapper mapper = new ObjectMapper()\r\n    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n    return mapper.readValue(json, clazz);\r\n}\r\n```\r\n\r\nToday, if someone messes up their json object for example messing up the capitalization on `client`:\r\n```\r\n&quot;my_name&quot;: &quot;John Doe&quot;,\r\n&quot;cLient&quot;: &quot;Foo Bar&quot;,\r\n&quot;created_on&quot;: &quot;12-08-2021&quot;,\r\n&quot;updated_on&quot;: &quot;06-09-2022&quot;\r\n```\r\n\r\nit will deserialize `client` to null. I&#39;d like it to error because the casing is wrong. (And for any key that&#39;s passed in with bad casing). \r\n\r\nIs there a way to do this with config? If no, how?\r\n","title":"How to get Jackson To Throw An Error on Incorrect Casing On Deserialization","body":"<p>I have the following class:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.databind.PropertyNamingStrategies;\nimport com.fasterxml.jackson.databind.annotation.JsonNaming;\nimport lombok.Data;\n\n@Data\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\n@JsonIgnoreProperties(ignoreUnknown = false)\npublic class Header {\n  private String myName;\n  private String client;\n  private String createdOn;\n  private String updatedOn;\n}\n</code></pre>\n<p>and my mapper looks as follows:</p>\n<pre><code>public static &lt;T&gt; T fromJson(String json, Class&lt;T&gt; clazz) throws JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper()\n    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n    return mapper.readValue(json, clazz);\n}\n</code></pre>\n<p>Today, if someone messes up their json object for example messing up the capitalization on <code>client</code>:</p>\n<pre><code>&quot;my_name&quot;: &quot;John Doe&quot;,\n&quot;cLient&quot;: &quot;Foo Bar&quot;,\n&quot;created_on&quot;: &quot;12-08-2021&quot;,\n&quot;updated_on&quot;: &quot;06-09-2022&quot;\n</code></pre>\n<p>it will deserialize <code>client</code> to null. I'd like it to error because the casing is wrong. (And for any key that's passed in with bad casing).</p>\n<p>Is there a way to do this with config? If no, how?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1656332958,"post_id":72771994,"comment_id":128538477,"body_markdown":"The bean method needs to be `public` and you are missing the `@EnableWebSecurity` annotation.","body":"The bean method needs to be <code>public</code> and you are missing the <code>@EnableWebSecurity</code> annotation."},{"owner":{"account_id":25659954,"reputation":11,"user_id":19425817,"display_name":"SamuelFilet"},"score":0,"creation_date":1656336039,"post_id":72771994,"comment_id":128539711,"body_markdown":"@M.Deinum Thanks for your suggestion but it sadly doesnt fix the problem","body":"@M.Deinum Thanks for your suggestion but it sadly doesnt fix the problem"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1656336231,"post_id":72771994,"comment_id":128539810,"body_markdown":"Adding the `@EnableWebSecurity` should be enough. If that doesn&#39;t fix it I doubt the configuration is even getting picked up.","body":"Adding the <code>@EnableWebSecurity</code> should be enough. If that doesn&#39;t fix it I doubt the configuration is even getting picked up."},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1656336698,"post_id":72771994,"comment_id":128540023,"body_markdown":"The bean method doesn&#39;t need to be `public` at all. Can you share what the request looks like? Please add `logging.level.org.springframework.security=TRACE` to your `application.properties` file and share the content of the console after the request with us","body":"The bean method doesn&#39;t need to be <code>public</code> at all. Can you share what the request looks like? Please add <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code> file and share the content of the console after the request with us"}],"answers":[{"tags":[],"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656349568,"creation_date":1656349568,"answer_id":72775888,"question_id":72771994,"body_markdown":"According to documentation at: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n\r\nYou need to use the filterChain bean like this:\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests((authz) -&gt; authz\r\n                .antMatcher(&quot;/api/path/**&quot;)\r\n            .regexMatchers(API_BASE_REGEX + &quot;/ping&quot;).permitAll()\r\n            .regexMatchers(API_BASE_REGEX + &quot;/registrations&quot;).hasAnyAuthority(TestFilter.ROLE_USER, TestFilter.ROLE_USER_INACTIVE)\r\n            .addFilterAfter(new TestFilter(), AbstractPreAuthenticatedProcessingFilter.class)\r\n            .authorizeRequests().anyRequest().hasAuthority(TestFilter.ROLE_USER)\r\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            )\r\n            .httpBasic(withDefaults());\r\n        return http.build();\r\n    }\r\n\r\nYou can add the &quot;.antMatcher&quot;, &quot;.regexMatcher&quot;, etc. with the &#39;authz&#39; call.\r\nAfterwards you can configure login and logout etc. as usual.\r\n\r\nOr am I misunderstanding something? After all you posted the same documentation--\r\n\r\nPs: Im new to this formatting, so the code sample might have some problems.","title":"How to replace deprecated WebSecurityConfigurerAdapter with multiple filters by SecurityFilterChain?","body":"<p>According to documentation at: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a></p>\n<p>You need to use the filterChain bean like this:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests((authz) -&gt; authz\n            .antMatcher(&quot;/api/path/**&quot;)\n        .regexMatchers(API_BASE_REGEX + &quot;/ping&quot;).permitAll()\n        .regexMatchers(API_BASE_REGEX + &quot;/registrations&quot;).hasAnyAuthority(TestFilter.ROLE_USER, TestFilter.ROLE_USER_INACTIVE)\n        .addFilterAfter(new TestFilter(), AbstractPreAuthenticatedProcessingFilter.class)\n        .authorizeRequests().anyRequest().hasAuthority(TestFilter.ROLE_USER)\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        )\n        .httpBasic(withDefaults());\n    return http.build();\n}\n</code></pre>\n<p>You can add the &quot;.antMatcher&quot;, &quot;.regexMatcher&quot;, etc. with the 'authz' call.\nAfterwards you can configure login and logout etc. as usual.</p>\n<p>Or am I misunderstanding something? After all you posted the same documentation--</p>\n<p>Ps: Im new to this formatting, so the code sample might have some problems.</p>\n"}],"owner":{"account_id":25659954,"reputation":11,"user_id":19425817,"display_name":"SamuelFilet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1889,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656349568,"creation_date":1656332365,"question_id":72771994,"body_markdown":"I&#39;m using spring boot 2.7.0 and want to remove the deprecated WebSecurityConfigurerAdapter. I have multiple configs which use one or more (different) filters. I want to update the configs so they don&#39;t use the deprecated WebSecurityConfigurerAdapter anymore like it is done in the official spring docs: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter.\r\n\r\nAfter changing the config (like done in the docs) the filters don&#39;t get called anymore.\r\n\r\nThis is my config now:\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class TestConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        http.antMatcher(&quot;/api/path/**&quot;)\r\n            .regexMatchers(API_BASE_REGEX + &quot;/ping&quot;).permitAll()\r\n            .regexMatchers(API_BASE_REGEX + &quot;/registrations&quot;).hasAnyAuthority(TestFilter.ROLE_USER, TestFilter.ROLE_USER_INACTIVE)\r\n            .addFilterAfter(new TestFilter(), AbstractPreAuthenticatedProcessingFilter.class)\r\n            .authorizeRequests().anyRequest().hasAuthority(TestFilter.ROLE_USER)\r\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    }\r\n}\r\n```\r\nFilter example:\r\n```\r\npublic class TestFilter extends OncePerRequestFilter {\r\n    public static final String ROLE_USER = &quot;TESTUSER&quot;;\r\n    public static final String ROLE_USER_INACTIVE = &quot;TESTUSER_INACTIVE&quot;;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        ... (Internal Logic)\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHow the config turns out after following the docs:\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class TestConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.antMatcher(&quot;/api/path/**&quot;)\r\n            .regexMatchers(API_BASE_REGEX + &quot;/ping&quot;).permitAll()\r\n            .regexMatchers(API_BASE_REGEX + &quot;/registrations&quot;).hasAnyAuthority(TestFilter.ROLE_USER, TestFilter.ROLE_USER_INACTIVE)\r\n            .addFilterAfter(new TestFilter(), AbstractPreAuthenticatedProcessingFilter.class)\r\n            .authorizeRequests().anyRequest().hasAuthority(TestFilter.ROLE_USER)\r\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to replace deprecated WebSecurityConfigurerAdapter with multiple filters by SecurityFilterChain?","body":"<p>I'm using spring boot 2.7.0 and want to remove the deprecated WebSecurityConfigurerAdapter. I have multiple configs which use one or more (different) filters. I want to update the configs so they don't use the deprecated WebSecurityConfigurerAdapter anymore like it is done in the official spring docs: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a>.</p>\n<p>After changing the config (like done in the docs) the filters don't get called anymore.</p>\n<p>This is my config now:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class TestConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.antMatcher(&quot;/api/path/**&quot;)\n            .regexMatchers(API_BASE_REGEX + &quot;/ping&quot;).permitAll()\n            .regexMatchers(API_BASE_REGEX + &quot;/registrations&quot;).hasAnyAuthority(TestFilter.ROLE_USER, TestFilter.ROLE_USER_INACTIVE)\n            .addFilterAfter(new TestFilter(), AbstractPreAuthenticatedProcessingFilter.class)\n            .authorizeRequests().anyRequest().hasAuthority(TestFilter.ROLE_USER)\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n}\n</code></pre>\n<p>Filter example:</p>\n<pre><code>public class TestFilter extends OncePerRequestFilter {\n    public static final String ROLE_USER = &quot;TESTUSER&quot;;\n    public static final String ROLE_USER_INACTIVE = &quot;TESTUSER_INACTIVE&quot;;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        ... (Internal Logic)\n\n        filterChain.doFilter(request, response);\n    }\n\n}\n</code></pre>\n<p>How the config turns out after following the docs:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class TestConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.antMatcher(&quot;/api/path/**&quot;)\n            .regexMatchers(API_BASE_REGEX + &quot;/ping&quot;).permitAll()\n            .regexMatchers(API_BASE_REGEX + &quot;/registrations&quot;).hasAnyAuthority(TestFilter.ROLE_USER, TestFilter.ROLE_USER_INACTIVE)\n            .addFilterAfter(new TestFilter(), AbstractPreAuthenticatedProcessingFilter.class)\n            .authorizeRequests().anyRequest().hasAuthority(TestFilter.ROLE_USER)\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","process","stream"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1656077528,"post_id":72734871,"comment_id":128490657,"body_markdown":"Perform tidy up code as required in the launcher not the killer as that is when the killed process output streams would be ended. Each time you use `ProcessBuilder` you only need to cleanup it own sub-process after `waitFor()` ends.","body":"Perform tidy up code as required in the launcher not the killer as that is when the killed process output streams would be ended. Each time you use <code>ProcessBuilder</code> you only need to cleanup it own sub-process after <code>waitFor()</code> ends."},{"owner":{"account_id":11317302,"reputation":3,"user_id":8298674,"display_name":"D. More"},"score":0,"creation_date":1656126019,"post_id":72734871,"comment_id":128501462,"body_markdown":"@DuncG, I also can have commands like `bash -c` and when i tried `p.destroy()` on them children didn&#39;t die","body":"@DuncG, I also can have commands like <code>bash -c</code> and when i tried <code>p.destroy()</code> on them children didn&#39;t die"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1656331375,"post_id":72734871,"comment_id":128537870,"body_markdown":"You&#39;ve not shown the launch + its cleanup code so it isn&#39;t obvious what handling you&#39;ve got after calling `launch.waitFor()`.","body":"You&#39;ve not shown the launch + its cleanup code so it isn&#39;t obvious what handling you&#39;ve got after calling <code>launch.waitFor()</code>."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656334856,"creation_date":1656334856,"answer_id":72772542,"question_id":72734871,"body_markdown":"You could iterate all child process to be killed with:\r\n\r\n    p.destroy();\r\n    p.descendants().forEach(ProcessHandle::destroy);\r\n\r\nNote that IO stream cleanup is best left to the code that started the sub-process once the corresponding `waitFor()` was completed.","title":"Java ProcessBuilder: good way to close redirectOutput file (Java 8)","body":"<p>You could iterate all child process to be killed with:</p>\n<pre><code>p.destroy();\np.descendants().forEach(ProcessHandle::destroy);\n</code></pre>\n<p>Note that IO stream cleanup is best left to the code that started the sub-process once the corresponding <code>waitFor()</code> was completed.</p>\n"}],"owner":{"account_id":11317302,"reputation":3,"user_id":8298674,"display_name":"D. More"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656349493,"creation_date":1656008306,"question_id":72734871,"body_markdown":"I launch process and kill him in my app. \r\n```\r\nProcessBuilder pb = new ProcessBuilder()\r\n        .directory(dir)\r\n        .command(command)\r\n        .redirectErrorStream(true)\r\n        .redirectOutput(file);\r\n```\r\nand killing with\r\n```\r\nvoid kill(Process p) {\r\n    Process kill = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, &quot;pkill -TERM -P &quot; + pid).redirectErrorStream(true).start();\r\n    kill.waitFor();\r\n    if (p != null) {\r\n        if (p.isAlive()) {\r\n            p.destroy();\r\n        }\r\n    }\r\n    try {\r\n        p.getInputStream().close();\r\n        p.getOutputStream().close();\r\n        p.getErrorStream().close();\r\n    } catch (IOException e) {\r\n        Util.errorLogger.error(e, &quot;can&#39;t close log&quot;);\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nHow can I properly close file&#39;s streams so that there won&#39;t be .fuse_hidden00123bd3nnnnn file?\r\n\r\nP.s. `pkill` because I can&#39;t kill `bash -c` children otherwise\r\n\r\nP.s.s. Only Java 8 can be used","title":"Java ProcessBuilder: good way to close redirectOutput file (Java 8)","body":"<p>I launch process and kill him in my app.</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder()\n        .directory(dir)\n        .command(command)\n        .redirectErrorStream(true)\n        .redirectOutput(file);\n</code></pre>\n<p>and killing with</p>\n<pre><code>void kill(Process p) {\n    Process kill = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, &quot;pkill -TERM -P &quot; + pid).redirectErrorStream(true).start();\n    kill.waitFor();\n    if (p != null) {\n        if (p.isAlive()) {\n            p.destroy();\n        }\n    }\n    try {\n        p.getInputStream().close();\n        p.getOutputStream().close();\n        p.getErrorStream().close();\n    } catch (IOException e) {\n        Util.errorLogger.error(e, &quot;can't close log&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>How can I properly close file's streams so that there won't be .fuse_hidden00123bd3nnnnn file?</p>\n<p>P.s. <code>pkill</code> because I can't kill <code>bash -c</code> children otherwise</p>\n<p>P.s.s. Only Java 8 can be used</p>\n"},{"tags":["java","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656349180,"creation_date":1656349180,"answer_id":72775805,"question_id":72775503,"body_markdown":"Unfortunately, the only real resolution is to set a duplications exclusion for those two classes (assuming this is 1 class/file).\r\n\r\nGo to Project Settings -&gt; General Settings -&gt; Analysis Scope -&gt; C. Duplication Exclusions\r\n","title":"SonarQube Major Issue: Duplicated blocks of code must be removed same class with different annotations","body":"<p>Unfortunately, the only real resolution is to set a duplications exclusion for those two classes (assuming this is 1 class/file).</p>\n<p>Go to Project Settings -&gt; General Settings -&gt; Analysis Scope -&gt; C. Duplication Exclusions</p>\n"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72775805,"answer_count":1,"score":1,"last_activity_date":1656349180,"creation_date":1656347664,"question_id":72775503,"body_markdown":"Sonarqube block my build due to Duplicated blocks for this two classes : \r\n\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class Employee {\r\n    \r\n      @Id\r\n      @Column(name = &quot;ID&quot;)\r\n       Integer  id;\r\n       \r\n       @Column(name = &quot;NAME&quot;)\r\n       String name;\r\n       \r\n       @Column(name = &quot;AGE&quot;)\r\n       Integer age;\r\n    \r\n       public void setName(String name) {\r\n          this.name = name;\r\n       }\r\n       public String getName() {\r\n          return name;\r\n       } \r\n       public void setAge(int age) {\r\n          this.age= age;\r\n       }\r\n       public int getAge() {\r\n          return age;\r\n       }\r\n       \r\n       public void setId(int id) {\r\n          this.id= id;\r\n       }\r\n       \r\n       public int getId() {\r\n          return id;\r\n       }\r\n    \r\n    }\r\n\r\n-----\r\n\r\n    @ApiModel(value = &quot;Employee&quot;)\r\n    public class EmployeeDTO {\r\n    \r\n       @ApiModelProperty(required = false, example = &quot;1&quot;)\r\n       Integer  id;\r\n       \r\n       @ApiModelProperty(required = false, example = &quot;Jhon&quot;)\r\n       String name;\r\n       \r\n       @ApiModelProperty(required = false, example = &quot;25&quot;)\r\n       Integer age;\r\n    \r\n       public void setName(String name) {\r\n          this.name = name;\r\n       }\r\n       public String getName() {\r\n          return name;\r\n       } \r\n       public void setAge(int age) {\r\n          this.age= age;\r\n       }\r\n       public int getAge() {\r\n          return age;\r\n       }\r\n       \r\n       public void setId(int id) {\r\n          this.id= id;\r\n       }\r\n       \r\n       public int getId() {\r\n          return id;\r\n       }\r\n    \r\n    }\r\n\r\nany idea how i can resolve this issue since i don&#39;t want to create an abstract class then inherit from it because i will lose the swagger and JPA annotations and i want to keep the visibility  for each class and layer.\r\n\r\n\r\nthanks.","title":"SonarQube Major Issue: Duplicated blocks of code must be removed same class with different annotations","body":"<p>Sonarqube block my build due to Duplicated blocks for this two classes :</p>\n<pre><code>@Entity\n@Table(name = &quot;my_table&quot;)\npublic class Employee {\n\n  @Id\n  @Column(name = &quot;ID&quot;)\n   Integer  id;\n   \n   @Column(name = &quot;NAME&quot;)\n   String name;\n   \n   @Column(name = &quot;AGE&quot;)\n   Integer age;\n\n   public void setName(String name) {\n      this.name = name;\n   }\n   public String getName() {\n      return name;\n   } \n   public void setAge(int age) {\n      this.age= age;\n   }\n   public int getAge() {\n      return age;\n   }\n   \n   public void setId(int id) {\n      this.id= id;\n   }\n   \n   public int getId() {\n      return id;\n   }\n\n}\n</code></pre>\n<hr />\n<pre><code>@ApiModel(value = &quot;Employee&quot;)\npublic class EmployeeDTO {\n\n   @ApiModelProperty(required = false, example = &quot;1&quot;)\n   Integer  id;\n   \n   @ApiModelProperty(required = false, example = &quot;Jhon&quot;)\n   String name;\n   \n   @ApiModelProperty(required = false, example = &quot;25&quot;)\n   Integer age;\n\n   public void setName(String name) {\n      this.name = name;\n   }\n   public String getName() {\n      return name;\n   } \n   public void setAge(int age) {\n      this.age= age;\n   }\n   public int getAge() {\n      return age;\n   }\n   \n   public void setId(int id) {\n      this.id= id;\n   }\n   \n   public int getId() {\n      return id;\n   }\n\n}\n</code></pre>\n<p>any idea how i can resolve this issue since i don't want to create an abstract class then inherit from it because i will lose the swagger and JPA annotations and i want to keep the visibility  for each class and layer.</p>\n<p>thanks.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":19463947,"reputation":81,"user_id":14237618,"display_name":"TwisteMisted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656190965,"creation_date":1656190965,"answer_id":72757339,"question_id":72756750,"body_markdown":"If you want to use this approach, you need a client. For example, you can use JS or PHP for it. \r\n\r\nThen you need to create HTML pages, add scripts (using JS or PHP) to send requests, get responses and show it to user.  \r\n\r\nThis looks like: user opens page -&gt; client sends request to your spring controller -&gt; spring controller returns response -&gt; client gets and shows it to user.\r\n\r\nOR\r\n\r\nYou can use Spring MVC if you do not how to launch client server.","title":"How to access API controller from Spring in HTML","body":"<p>If you want to use this approach, you need a client. For example, you can use JS or PHP for it.</p>\n<p>Then you need to create HTML pages, add scripts (using JS or PHP) to send requests, get responses and show it to user.</p>\n<p>This looks like: user opens page -&gt; client sends request to your spring controller -&gt; spring controller returns response -&gt; client gets and shows it to user.</p>\n<p>OR</p>\n<p>You can use Spring MVC if you do not how to launch client server.</p>\n"},{"tags":[],"owner":{"account_id":1047031,"reputation":307,"user_id":1051817,"accept_rate":50,"display_name":"Jazz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656348669,"creation_date":1656202346,"answer_id":72758111,"question_id":72756750,"body_markdown":"You will need to add a dependency to your project so that spring boot knows how to convert an object into json.  If you&#39;re using maven, add com.fasterxml.jackson.core:jackson-databind to your pom file.\r\n\r\nThen, add the @ResponseBody annotation to the getRandomWildSwimming method so that it ends up looking like this...\r\n\r\n\t@GetMapping(&quot;/getRandomWildSwimming&quot;)\r\n\tpublic @ResponseBody List&lt;WildSwimming&gt; getRandomWildSwimming() {\r\n\t\treturn wildSwimmingService.getRandomWildSwimming();\r\n\t}\r\n\r\nThis will make the controller respond with json when it is called in a web browser.\r\n\r\nAssuming that it returns JSON that looks like this...\r\n\r\n[{&quot;rating&quot;:89},{&quot;rating&quot;:24},{&quot;rating&quot;:68}]\r\n\r\nYou can using the $.get function (from the jquery library), to make a call to the /getRandomWildSwimming api method, which will fetch the JSON and automatically convert it into a javascript array of objects...\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    \t&lt;head&gt;\r\n    \t\t&lt;title&gt;Test&lt;/title&gt;\r\n    \t\t&lt;script src=&quot;resources/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;/head&gt;\r\n    \t&lt;body&gt;\r\n    \t\t&lt;h1&gt;Wild Swimming Records&lt;/h1&gt;\r\n    \t\t&lt;ul id=&quot;canvas&quot;&gt;\r\n    \t\t&lt;/ul&gt;\r\n    \t\t\r\n    \t\t&lt;script type=&quot;text/javascript&quot;&gt;\r\n    \t\t\t$(document).ready(function(){\r\n    \t\t\t\t$.get(&quot;./getRandomWildSwimming&quot;, function(data) {\r\n    \t\t\t\t\tconsole.log(data[0].rating);\r\n    \t\t\t\t\tconsole.log(&quot;JSON: &quot; + JSON.stringify(data));\r\n    \t\t\t\t\t$.each(data, function(index, value) {\r\n    \t\t\t\t\t\t$(&quot;#canvas&quot;).append(&quot;&lt;li&gt;&quot; + value.rating + &quot;&lt;/li&gt;&quot;);\r\n    \t\t\t\t\t});\r\n    \t\t\t\t});\r\n    \t\t\t});\r\n    \t\t&lt;/script&gt;\r\n    \t&lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThis should result in a page that looks something like this...\r\n\r\n    Wild Swimming Records\r\n    \r\n        - 89\r\n        - 24\r\n        - 68\r\n\r\nThe first console.log line will take the rating property of the first object in the data array and print it to the browser console.  The second console.log line will convert the entire array back into a json string and print it to the browser console.","title":"How to access API controller from Spring in HTML","body":"<p>You will need to add a dependency to your project so that spring boot knows how to convert an object into json.  If you're using maven, add com.fasterxml.jackson.core:jackson-databind to your pom file.</p>\n<p>Then, add the @ResponseBody annotation to the getRandomWildSwimming method so that it ends up looking like this...</p>\n<pre><code>@GetMapping(&quot;/getRandomWildSwimming&quot;)\npublic @ResponseBody List&lt;WildSwimming&gt; getRandomWildSwimming() {\n    return wildSwimmingService.getRandomWildSwimming();\n}\n</code></pre>\n<p>This will make the controller respond with json when it is called in a web browser.</p>\n<p>Assuming that it returns JSON that looks like this...</p>\n<p>[{&quot;rating&quot;:89},{&quot;rating&quot;:24},{&quot;rating&quot;:68}]</p>\n<p>You can using the $.get function (from the jquery library), to make a call to the /getRandomWildSwimming api method, which will fetch the JSON and automatically convert it into a javascript array of objects...</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Test&lt;/title&gt;\n        &lt;script src=&quot;resources/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Wild Swimming Records&lt;/h1&gt;\n        &lt;ul id=&quot;canvas&quot;&gt;\n        &lt;/ul&gt;\n        \n        &lt;script type=&quot;text/javascript&quot;&gt;\n            $(document).ready(function(){\n                $.get(&quot;./getRandomWildSwimming&quot;, function(data) {\n                    console.log(data[0].rating);\n                    console.log(&quot;JSON: &quot; + JSON.stringify(data));\n                    $.each(data, function(index, value) {\n                        $(&quot;#canvas&quot;).append(&quot;&lt;li&gt;&quot; + value.rating + &quot;&lt;/li&gt;&quot;);\n                    });\n                });\n            });\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This should result in a page that looks something like this...</p>\n<pre><code>Wild Swimming Records\n\n    - 89\n    - 24\n    - 68\n</code></pre>\n<p>The first console.log line will take the rating property of the first object in the data array and print it to the browser console.  The second console.log line will convert the entire array back into a json string and print it to the browser console.</p>\n"}],"owner":{"account_id":25575853,"reputation":1,"user_id":19355329,"display_name":"Stephen Jankovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1656348669,"creation_date":1656184873,"question_id":72756750,"body_markdown":"This is my controller:\r\n\r\n    @GetMapping(&quot;/getRandomWildSwimming&quot;)\r\n    public List&lt;WildSwimming&gt; getRandomWildSwimming() {\r\n        return wildSwimmingService.getRandomWildSwimming();\r\n    }\r\n    \r\nHow I can access it with HTML? I&#39;m confused, I saw some tutorials where I set `return index.html` for example, but I&#39;m returning here actually service that show me collection data from Mongo in JSON when I send request for example: `http://localhost:8080/wildswimming/getRandomWildSwimming` page show me one collection from mongo in JSON format, how I can show that via html and stylize it a bit?\r\n\r\n","title":"How to access API controller from Spring in HTML","body":"<p>This is my controller:</p>\n<pre><code>@GetMapping(&quot;/getRandomWildSwimming&quot;)\npublic List&lt;WildSwimming&gt; getRandomWildSwimming() {\n    return wildSwimmingService.getRandomWildSwimming();\n}\n</code></pre>\n<p>How I can access it with HTML? I'm confused, I saw some tutorials where I set <code>return index.html</code> for example, but I'm returning here actually service that show me collection data from Mongo in JSON when I send request for example: <code>http://localhost:8080/wildswimming/getRandomWildSwimming</code> page show me one collection from mongo in JSON format, how I can show that via html and stylize it a bit?</p>\n"},{"tags":["java","sorting","data-structures"],"comments":[{"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"score":0,"creation_date":1360220401,"post_id":14745412,"comment_id":20634449,"body_markdown":"Arrays.sort? http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(byte[])","body":"Arrays.sort? <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(byte[])\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":1090911,"reputation":25332,"user_id":1085573,"accept_rate":80,"display_name":"Yuushi"},"score":0,"creation_date":1360220455,"post_id":14745412,"comment_id":20634473,"body_markdown":"http://en.wikipedia.org/wiki/Bucket_sort","body":"<a href=\"http://en.wikipedia.org/wiki/Bucket_sort\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bucket_sort</a>"}],"answers":[{"tags":[],"owner":{"account_id":1378509,"reputation":4631,"user_id":1311994,"display_name":"asifsid88"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459699177,"creation_date":1360220392,"answer_id":14745431,"question_id":14745412,"body_markdown":"use any sorting algorithm to do it. For beginner use bubble sort (easy to understand)  \r\nRefer [Wiki][1]\r\n\r\n    public static void bubble_srt( int a[], int n ){\r\n      int i, j,t=0;\r\n      for(i = 0; i &lt; n; i++){\r\n        for(j = 1; j &lt; (n-i); j++){\r\n          if(a[j-1] &gt; a[j]){\r\n            t = a[j-1];\r\n            a[j-1]=a[j];\r\n            a[j]=t;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n**EDITED**  \r\nAs @Pradeep Said: You may definitely use Array.sort() \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Bubble_sort","title":"Sorting in java for array only containing 0 and 1","body":"<p>use any sorting algorithm to do it. For beginner use bubble sort (easy to understand)<br>\nRefer <a href=\"http://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow\">Wiki</a></p>\n\n<pre><code>public static void bubble_srt( int a[], int n ){\n  int i, j,t=0;\n  for(i = 0; i &lt; n; i++){\n    for(j = 1; j &lt; (n-i); j++){\n      if(a[j-1] &gt; a[j]){\n        t = a[j-1];\n        a[j-1]=a[j];\n        a[j]=t;\n      }\n    }\n  }\n}\n</code></pre>\n\n<p><strong>EDITED</strong><br>\nAs @Pradeep Said: You may definitely use Array.sort() </p>\n"},{"tags":[],"owner":{"account_id":2118345,"reputation":12755,"user_id":1882149,"display_name":"Achintya Jha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360243617,"creation_date":1360220409,"answer_id":14745440,"question_id":14745412,"body_markdown":"\r\nYour array contains only zeros and one so sum all the elements in the array and then reset the array with those many &#39;1&#39;s in the end and rest &#39;0&#39;s in the beginning. Time complexity is also O(n) with constant space. So it seems the best and easy one.\r\n\r\n\r\n     public static void main(String[] args) {\r\n\t\tint[] A = { 0, 1, 1, 0, 1, 0, 1, 1, 0 };\r\n\t\tint sum = 0;\r\n\t\tfor (int i = 0; i &lt; A.length; i++)\r\n\t\t\tsum = sum + A[i];\r\n\r\n\t\tArrays.fill(A, A.length - sum, A.length, 1);\r\n\t\tArrays.fill(A, 0, A.length - sum, 0);\r\n\t\tSystem.out.println(Arrays.toString(A));\r\n\r\n\t  }\r\n\r\nTry this I implemented the above algorithm.\r\n\r\n\r\nOutput:\r\n\r\n    [0, 0, 0, 0, 1, 1, 1, 1, 1]","title":"Sorting in java for array only containing 0 and 1","body":"<p>Your array contains only zeros and one so sum all the elements in the array and then reset the array with those many '1's in the end and rest '0's in the beginning. Time complexity is also O(n) with constant space. So it seems the best and easy one.</p>\n\n<pre><code> public static void main(String[] args) {\n    int[] A = { 0, 1, 1, 0, 1, 0, 1, 1, 0 };\n    int sum = 0;\n    for (int i = 0; i &lt; A.length; i++)\n        sum = sum + A[i];\n\n    Arrays.fill(A, A.length - sum, A.length, 1);\n    Arrays.fill(A, 0, A.length - sum, 0);\n    System.out.println(Arrays.toString(A));\n\n  }\n</code></pre>\n\n<p>Try this I implemented the above algorithm.</p>\n\n<p>Output:</p>\n\n<pre><code>[0, 0, 0, 0, 1, 1, 1, 1, 1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360220442,"creation_date":1360220442,"answer_id":14745448,"question_id":14745412,"body_markdown":"You can use [`Arrays.sort`][1] method from `Arrays` class:\r\n\r\n    int[] A = {0,1,1,0,1,0,1,1,0};\r\n    Arrays.sort(A);\r\n    System.out.println(A);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28int%5B%5D%29","title":"Sorting in java for array only containing 0 and 1","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28int%5B%5D%29\" rel=\"nofollow\"><code>Arrays.sort</code></a> method from <code>Arrays</code> class:</p>\n\n<pre><code>int[] A = {0,1,1,0,1,0,1,1,0};\nArrays.sort(A);\nSystem.out.println(A);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2325893,"reputation":3287,"user_id":2040431,"accept_rate":58,"display_name":"Eyeball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360220586,"creation_date":1360220586,"answer_id":14745475,"question_id":14745412,"body_markdown":"Arrays.sort(A,Collections.reverseOrder());","title":"Sorting in java for array only containing 0 and 1","body":"<p>Arrays.sort(A,Collections.reverseOrder());</p>\n"},{"tags":[],"owner":{"account_id":1711471,"reputation":1102,"user_id":1569443,"accept_rate":100,"display_name":"Abhishekkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360220696,"creation_date":1360220696,"answer_id":14745505,"question_id":14745412,"body_markdown":"USE \r\n      \r\n     Arrays.sort(A);\r\n\r\n\r\nmethod to sort your array.","title":"Sorting in java for array only containing 0 and 1","body":"<p>USE </p>\n\n<pre><code> Arrays.sort(A);\n</code></pre>\n\n<p>method to sort your array.</p>\n"},{"tags":[],"owner":{"account_id":156587,"reputation":15475,"user_id":373962,"accept_rate":86,"display_name":"Miquel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360220749,"creation_date":1360220749,"answer_id":14745514,"question_id":14745412,"body_markdown":"Actually standard off-the-shelf sorting algorithms will typically work on O(n*log(n)). You could just run through the array once adding all the values (i.e. the number of 1). Let&#39;s say you put this in `count1`.  Then go once more over the array setting the first `count1` positions to 1, and the rest to 0. It takes 2n steps.\r\n\r\nOf course, as other posters said: this kind of optimizations is what you do once you&#39;ve detected a bottleneck, not right off the bat when you start.","title":"Sorting in java for array only containing 0 and 1","body":"<p>Actually standard off-the-shelf sorting algorithms will typically work on O(n*log(n)). You could just run through the array once adding all the values (i.e. the number of 1). Let's say you put this in <code>count1</code>.  Then go once more over the array setting the first <code>count1</code> positions to 1, and the rest to 0. It takes 2n steps.</p>\n\n<p>Of course, as other posters said: this kind of optimizations is what you do once you've detected a bottleneck, not right off the bat when you start.</p>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1360220794,"creation_date":1360220794,"answer_id":14745525,"question_id":14745412,"body_markdown":"Although Arrays.sort is an obvious, simple, O(n log n) solution, there is an O(n) solution for this special case:\r\n\r\n 1. Count the number of zeros, zeroCount.\r\n 2. Fill the first zeroCount elements with 0, the remaining elements with 1.\r\n\r\nThis takes just two passes over the array.\r\n\r\nMore generally, any array with only a small number of distinct values can be sorted by counting how many times each value appears, then filling in the array accordingly.","title":"Sorting in java for array only containing 0 and 1","body":"<p>Although Arrays.sort is an obvious, simple, O(n log n) solution, there is an O(n) solution for this special case:</p>\n\n<ol>\n<li>Count the number of zeros, zeroCount.</li>\n<li>Fill the first zeroCount elements with 0, the remaining elements with 1.</li>\n</ol>\n\n<p>This takes just two passes over the array.</p>\n\n<p>More generally, any array with only a small number of distinct values can be sorted by counting how many times each value appears, then filling in the array accordingly.</p>\n"},{"tags":[],"owner":{"account_id":5169475,"reputation":131,"user_id":4138480,"display_name":"Tushar Singhal"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1470306803,"creation_date":1470306803,"answer_id":38764937,"question_id":14745412,"body_markdown":"You can actually sort this array by traversing the array only once. \r\n\r\nHere is the snippet of my code:\r\n\r\n\t\t\r\n\t\tint arr[] = {1,1,1,1,0,   0,1,0,1,1,1};\r\n\t\tint arrb[] = new int[arr.length];\r\n\t\tint zeroInsertIndex = 0;\r\n\t\tint oneInsertIndex =arrb.length-1;\r\n\t\t\r\n\t\tfor(int i=0; i&lt;arr.length; i++){\r\n\t\t\tif(arr[i] == 1) \r\n\t\t\t\tarrb[oneInsertIndex--] = 1;\r\n\t\t\telse if (arr[i] == 0) \r\n\t\t\t\tarrb[zeroInsertIndex++] = 0;\r\n\t\t}\r\n\t\tfor(int i=0;i&lt;arrb.length;i++)\r\n\t\t\tSystem.out.print(arrb[i] + &quot; &quot;);\r\n","title":"Sorting in java for array only containing 0 and 1","body":"<p>You can actually sort this array by traversing the array only once. </p>\n\n<p>Here is the snippet of my code:</p>\n\n<pre><code>    int arr[] = {1,1,1,1,0,   0,1,0,1,1,1};\n    int arrb[] = new int[arr.length];\n    int zeroInsertIndex = 0;\n    int oneInsertIndex =arrb.length-1;\n\n    for(int i=0; i&lt;arr.length; i++){\n        if(arr[i] == 1) \n            arrb[oneInsertIndex--] = 1;\n        else if (arr[i] == 0) \n            arrb[zeroInsertIndex++] = 0;\n    }\n    for(int i=0;i&lt;arrb.length;i++)\n        System.out.print(arrb[i] + \" \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5223818,"reputation":641,"user_id":4176408,"display_name":"Aalishan Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502873412,"creation_date":1502873412,"answer_id":45709042,"question_id":14745412,"body_markdown":"You can try like this also\r\n\r\n    public static void main(String[] args) {\r\n\t\tint inputArray[] = { 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0 };\r\n\t\tformatInputArray(inputArray);\r\n\r\n\t}\r\n\r\n\tprivate static void formatInputArray(int[] inputArray) {\r\n\t\tint count = 0;\r\n\t\tfor (int i = 0; i &lt; inputArray.length; i++) {\r\n\t\t\tif (inputArray[i] == 0) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// System.out.println(count);\r\n\t\tfor (int i = 0; i &lt; inputArray.length; i++) {\r\n\t\t\tif (i &lt; count) {\r\n\t\t\t\tinputArray[i] = 0;\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tinputArray[i] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; inputArray.length; i++) {\r\n\t\t\tSystem.out.print(inputArray[i] + &quot; , &quot;);\r\n\t\t}\r\n\r\n\t}","title":"Sorting in java for array only containing 0 and 1","body":"<p>You can try like this also</p>\n\n<pre><code>public static void main(String[] args) {\n    int inputArray[] = { 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0 };\n    formatInputArray(inputArray);\n\n}\n\nprivate static void formatInputArray(int[] inputArray) {\n    int count = 0;\n    for (int i = 0; i &lt; inputArray.length; i++) {\n        if (inputArray[i] == 0) {\n            count++;\n        }\n    }\n    // System.out.println(count);\n    for (int i = 0; i &lt; inputArray.length; i++) {\n        if (i &lt; count) {\n            inputArray[i] = 0;\n        }\n\n        else {\n            inputArray[i] = 1;\n        }\n    }\n    for (int i = 0; i &lt; inputArray.length; i++) {\n        System.out.print(inputArray[i] + \" , \");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12147348,"reputation":1249,"user_id":8869104,"display_name":"chandan gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532439783,"creation_date":1532439783,"answer_id":51500198,"question_id":14745412,"body_markdown":"&gt; Sort Array which contains only 0,1 and 2\r\n\r\n    import java.util.*;\r\n    public class HelloWorld {\r\n    \r\n    static void sort012(int []a, int length) {\r\n        int start = 0;\r\n        int mid = 0;\r\n        int end = length - 1;\r\n        int temp;\r\n        while(mid&lt;=end) {\r\n            switch(a[mid]) {\r\n                case 0:\r\n                    temp = a[start];\r\n                    a[start] = a[mid];\r\n                    a[mid] = temp;\r\n                    start++;\r\n                    mid++;\r\n                    break;\r\n                case 1:\r\n                    mid++;\r\n                    break;\r\n                case 2: \r\n                  temp = a[end];\r\n                    a[end] = a[mid];\r\n                    a[mid] = temp;\r\n                    end--;\r\n                    break;\r\n            }\r\n            \r\n              \r\n        }\r\n        \r\n    }\r\n\r\n     public static void main(String []args){\r\n         Scanner sc = new Scanner(System.in);\r\n         int n = sc.nextInt();\r\n        \r\n        int a[] = new int[n];\r\n        for (int i =0;i&lt;n; i++)\r\n        a[i] = sc.nextInt();\r\n         \r\n         HelloWorld.sort012(a, n);\r\n        // Print the sorted Array\r\n        for (int i =0;i&lt;n; i++)\r\n        System.out.println(a[i]);\r\n        \r\n     }\r\n     }","title":"Sorting in java for array only containing 0 and 1","body":"<blockquote>\n  <p>Sort Array which contains only 0,1 and 2</p>\n</blockquote>\n\n<pre><code>import java.util.*;\npublic class HelloWorld {\n\nstatic void sort012(int []a, int length) {\n    int start = 0;\n    int mid = 0;\n    int end = length - 1;\n    int temp;\n    while(mid&lt;=end) {\n        switch(a[mid]) {\n            case 0:\n                temp = a[start];\n                a[start] = a[mid];\n                a[mid] = temp;\n                start++;\n                mid++;\n                break;\n            case 1:\n                mid++;\n                break;\n            case 2: \n              temp = a[end];\n                a[end] = a[mid];\n                a[mid] = temp;\n                end--;\n                break;\n        }\n\n\n    }\n\n}\n\n public static void main(String []args){\n     Scanner sc = new Scanner(System.in);\n     int n = sc.nextInt();\n\n    int a[] = new int[n];\n    for (int i =0;i&lt;n; i++)\n    a[i] = sc.nextInt();\n\n     HelloWorld.sort012(a, n);\n    // Print the sorted Array\n    for (int i =0;i&lt;n; i++)\n    System.out.println(a[i]);\n\n }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12838223,"reputation":11,"user_id":9287070,"display_name":"Divya Bharathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540300436,"creation_date":1540300436,"answer_id":52950043,"question_id":14745412,"body_markdown":"    var binaryArr = [1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,0,0,1,0,1,0,0,0,0];\r\n    \r\n    //i - starting index\r\n    //j - ending index\r\n    function binarySort(arr){\r\n       var i=0,j=arr.length-1;\r\n       for(;i!=j;){\r\n           if(arr[i] == 1){\r\n               if(arr[j] == 0){\r\n                   arr[i] = 0;\r\n                   arr[j] = 1;\r\n                   j--;\r\n                   i++;\r\n               } else {\r\n                   j--;\r\n               }\r\n           }else{\r\n             i++;\r\n           }\r\n       }\r\n    }\r\n    binarySort(binaryArr);","title":"Sorting in java for array only containing 0 and 1","body":"<pre><code>var binaryArr = [1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,0,0,1,0,1,0,0,0,0];\n\n//i - starting index\n//j - ending index\nfunction binarySort(arr){\n   var i=0,j=arr.length-1;\n   for(;i!=j;){\n       if(arr[i] == 1){\n           if(arr[j] == 0){\n               arr[i] = 0;\n               arr[j] = 1;\n               j--;\n               i++;\n           } else {\n               j--;\n           }\n       }else{\n         i++;\n       }\n   }\n}\nbinarySort(binaryArr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8943889,"reputation":1006,"user_id":6672019,"display_name":"CrazyPro007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548574786,"creation_date":1548574786,"answer_id":54386057,"question_id":14745412,"body_markdown":"    Team \r\n    Please consider the below program in Swift in o(n) time complexity and constant extra space.\r\n    \r\n    import UIKit\r\n    \r\n    var inputArray = [1,0,1,0,0,0,0,1,1,1,1,1,1]\r\n    \r\n    var leftIndex: Int = 0\r\n    var rightIndex: Int = inputArray.count-1\r\n    \r\n    while leftIndex &lt; rightIndex{\r\n        \r\n        while inputArray[leftIndex] == 0 &amp;&amp; leftIndex &lt; rightIndex{\r\n            leftIndex = leftIndex+1\r\n        }\r\n        \r\n        while inputArray[rightIndex] == 1 &amp;&amp; rightIndex &gt; leftIndex {\r\n            rightIndex = rightIndex-1\r\n        }\r\n        \r\n        if leftIndex &lt;  rightIndex{\r\n            inputArray[leftIndex] = 0\r\n            inputArray[rightIndex] = 1\r\n            leftIndex = leftIndex+1\r\n            rightIndex = rightIndex-1\r\n        }\r\n    }\r\n    \r\n    print(inputArray)","title":"Sorting in java for array only containing 0 and 1","body":"<pre><code>Team \nPlease consider the below program in Swift in o(n) time complexity and constant extra space.\n\nimport UIKit\n\nvar inputArray = [1,0,1,0,0,0,0,1,1,1,1,1,1]\n\nvar leftIndex: Int = 0\nvar rightIndex: Int = inputArray.count-1\n\nwhile leftIndex &lt; rightIndex{\n\n    while inputArray[leftIndex] == 0 &amp;&amp; leftIndex &lt; rightIndex{\n        leftIndex = leftIndex+1\n    }\n\n    while inputArray[rightIndex] == 1 &amp;&amp; rightIndex &gt; leftIndex {\n        rightIndex = rightIndex-1\n    }\n\n    if leftIndex &lt;  rightIndex{\n        inputArray[leftIndex] = 0\n        inputArray[rightIndex] = 1\n        leftIndex = leftIndex+1\n        rightIndex = rightIndex-1\n    }\n}\n\nprint(inputArray)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3394827,"reputation":1145,"user_id":2848731,"accept_rate":14,"display_name":"Sanjay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592564529,"creation_date":1592564529,"answer_id":62468867,"question_id":14745412,"body_markdown":"Sort 0 and 1 array using below code:\r\n\t\r\n\r\n    public static int[] sortArray(int[] array){\r\n    \t    int first = 0;\r\n    \t    int last = array.length-1;\r\n    \t    while(first&lt;last){\r\n    \t        if(array[first]==0){\r\n    \t            first++;\r\n    \t        }else if(array[last] == 0){\r\n    \t            int temp = array[last];\r\n    \t            array[last] = array[first];\r\n    \t            array[first] = temp;\r\n    \t            first++;\r\n    \t        }else{\r\n    \t            last--;\r\n    \t        }\r\n    \t    }\r\n    \t    return array;\r\n    \t}","title":"Sorting in java for array only containing 0 and 1","body":"<p>Sort 0 and 1 array using below code:</p>\n\n<pre><code>public static int[] sortArray(int[] array){\n        int first = 0;\n        int last = array.length-1;\n        while(first&lt;last){\n            if(array[first]==0){\n                first++;\n            }else if(array[last] == 0){\n                int temp = array[last];\n                array[last] = array[first];\n                array[first] = temp;\n                first++;\n            }else{\n                last--;\n            }\n        }\n        return array;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7772968,"reputation":1,"user_id":5881894,"display_name":"manjunath ks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597245627,"creation_date":1597245627,"answer_id":63379672,"question_id":14745412,"body_markdown":"    public static void sort(int a[]) {\r\n    \t\tint sum=0;\r\n    \t\tint b[]= new int [a.length];\r\n    \t\tfor(int i=0;i&lt;a.length;i++) {\r\n    \t\t\tsum=sum+a[i];\r\n    \t\t}\r\n    \t\tSystem.out.println(sum);\r\n    \t\tint j=b.length-1;\r\n    \t\twhile(sum&gt;0) {\r\n    \t\t\tb[j]=1;\r\n    \t\t\tsum--;\r\n    \t\t\tj--;\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(Arrays.toString(b));\r\n    \r\n    \t}","title":"Sorting in java for array only containing 0 and 1","body":"<pre><code>public static void sort(int a[]) {\n        int sum=0;\n        int b[]= new int [a.length];\n        for(int i=0;i&lt;a.length;i++) {\n            sum=sum+a[i];\n        }\n        System.out.println(sum);\n        int j=b.length-1;\n        while(sum&gt;0) {\n            b[j]=1;\n            sum--;\n            j--;\n        }\n        \n        System.out.println(Arrays.toString(b));\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21693769,"reputation":1,"user_id":16008028,"display_name":"codefalcon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621914138,"creation_date":1621777080,"answer_id":67660385,"question_id":14745412,"body_markdown":"int[] a = {0,1,1,0,1,0,1,1,0} \r\n\r\nHere, we are iterating with i where i starts from 1. so we can compare previous index value with the current value of i. Used swapping technique to sort the array.\r\n \r\n**Note:** Sort/2 pointer technique we can also use. \r\n\r\n```\r\npublic int[] sort(int[] a){\r\n  int temp=0;\r\n  for(int i=1;i&lt;a.length;i++){\r\n   if( a[i-1] &gt; a[i]){\r\n    temp = a[i-1];\r\n    a[i-1] = a[i];\r\n    a[i] = temp;\r\n  }\r\n }\r\nreturn a[i];\r\n}\r\n```\r\nTime complexity : O(n)","title":"Sorting in java for array only containing 0 and 1","body":"<p>int[] a = {0,1,1,0,1,0,1,1,0}</p>\n<p>Here, we are iterating with i where i starts from 1. so we can compare previous index value with the current value of i. Used swapping technique to sort the array.</p>\n<p><strong>Note:</strong> Sort/2 pointer technique we can also use.</p>\n<pre><code>public int[] sort(int[] a){\n  int temp=0;\n  for(int i=1;i&lt;a.length;i++){\n   if( a[i-1] &gt; a[i]){\n    temp = a[i-1];\n    a[i-1] = a[i];\n    a[i] = temp;\n  }\n }\nreturn a[i];\n}\n</code></pre>\n<p>Time complexity : O(n)</p>\n"},{"tags":[],"owner":{"account_id":18270293,"reputation":15,"user_id":13301184,"display_name":"Shashwata Saha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623767088,"creation_date":1623746210,"answer_id":67982821,"question_id":14745412,"body_markdown":"The following code will sort your array. Please notice that it does so in place - so it modifies the object in memory instead of returning a new one. \r\n\r\n**In Python**\r\n```\r\narr=[0,1,0,0,1,1,1,0,1,1,0]\r\narr.sort()\r\nprint(arr)\r\n```\r\n\r\n**In Java**\r\n```\r\npublic class test{\r\npublic static void main(String[] args){\r\nint[] arr= {0,1,0,0,1,1,1,0,1,1,0};\r\nArrays.sort(arr); \r\nSystem.out.println(Arrays.toString(arr));\r\n}}\r\n```","title":"Sorting in java for array only containing 0 and 1","body":"<p>The following code will sort your array. Please notice that it does so in place - so it modifies the object in memory instead of returning a new one.</p>\n<p><strong>In Python</strong></p>\n<pre><code>arr=[0,1,0,0,1,1,1,0,1,1,0]\narr.sort()\nprint(arr)\n</code></pre>\n<p><strong>In Java</strong></p>\n<pre><code>public class test{\npublic static void main(String[] args){\nint[] arr= {0,1,0,0,1,1,1,0,1,1,0};\nArrays.sort(arr); \nSystem.out.println(Arrays.toString(arr));\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5717121,"reputation":16,"user_id":4516911,"display_name":"Ravindra Asati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625630405,"creation_date":1625630405,"answer_id":68279825,"question_id":14745412,"body_markdown":"\r\n\r\n    public class Test {\r\n     public static void main(String[] args) {\r\n        int[] arr = {0, 1, 0, 1, 0, 0, 1, 1, 1, 0};\r\n        int start = 0;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] == 0) {\r\n                arr[start] = 0;\r\n                if (i != start) {  // should not override same value with 1\r\n                    arr[i] = 1;\r\n                }\r\n                start++;\r\n            }\r\n        }\r\n    \r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.print(arr[i] + &quot; &quot;);\r\n        }\r\n     }\r\n    }\r\n\r\n//complexity is O(n) ","title":"Sorting in java for array only containing 0 and 1","body":"<pre><code>public class Test {\n public static void main(String[] args) {\n    int[] arr = {0, 1, 0, 1, 0, 0, 1, 1, 1, 0};\n    int start = 0;\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i] == 0) {\n            arr[start] = 0;\n            if (i != start) {  // should not override same value with 1\n                arr[i] = 1;\n            }\n            start++;\n        }\n    }\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        System.out.print(arr[i] + &quot; &quot;);\n    }\n }\n}\n</code></pre>\n<p>//complexity is O(n)</p>\n"},{"tags":[],"owner":{"account_id":8620811,"reputation":1,"user_id":6455811,"display_name":"Srijan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656348512,"creation_date":1655924861,"answer_id":72720784,"question_id":14745412,"body_markdown":"If its just `0`&#39;s and `1`&#39;s, it can be done using two pointers.\r\n\r\nc# code snippet :\r\n\r\n    int i = 0; int j = input.Length - 1;\r\n\r\n    while (i &lt; j)\r\n    {\r\n        if (input[i] == 0 &amp;&amp; input[j] == 0)\r\n        i++;\r\n        else if(input[i] == 1 &amp;&amp; input[j] == 1)\r\n        j--;\r\n        else if (input[i] &gt; input[j])\r\n        {\r\n            input[i++] = 0;\r\n            input[j--] = 1;\r\n        }\r\n        else\r\n        {\r\n            i++; j--;\r\n        }\r\n    } ","title":"Sorting in java for array only containing 0 and 1","body":"<p>If its just <code>0</code>'s and <code>1</code>'s, it can be done using two pointers.</p>\n<p>c# code snippet :</p>\n<pre><code>int i = 0; int j = input.Length - 1;\n\nwhile (i &lt; j)\n{\n    if (input[i] == 0 &amp;&amp; input[j] == 0)\n    i++;\n    else if(input[i] == 1 &amp;&amp; input[j] == 1)\n    j--;\n    else if (input[i] &gt; input[j])\n    {\n        input[i++] = 0;\n        input[j--] = 1;\n    }\n    else\n    {\n        i++; j--;\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":1477718,"reputation":2951,"user_id":1387732,"accept_rate":24,"display_name":"Sanjeev Yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11741,"favorite_count":0,"down_vote_count":7,"up_vote_count":5,"accepted_answer_id":14745431,"answer_count":18,"score":-2,"last_activity_date":1656348512,"creation_date":1360220299,"question_id":14745412,"body_markdown":"How to sort array \r\n\r\n    int[] A = {0,1,1,0,1,0,1,1,0} ","title":"Sorting in java for array only containing 0 and 1","body":"<p>How to sort array </p>\n\n<pre><code>int[] A = {0,1,1,0,1,0,1,1,0} \n</code></pre>\n"},{"tags":["java","json","angular","spring","spring-boot"],"comments":[{"owner":{"account_id":2594221,"reputation":2001,"user_id":2248239,"display_name":"BeWu"},"score":0,"creation_date":1656334434,"post_id":72721436,"comment_id":128539045,"body_markdown":"Spring Boot apps usually start on port 8080 and your error is pointing to an address with port 4200 which is the default angular dev server port. Maybe this is the problem.","body":"Spring Boot apps usually start on port 8080 and your error is pointing to an address with port 4200 which is the default angular dev server port. Maybe this is the problem."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656338630,"post_id":72721436,"comment_id":128540816,"body_markdown":"Instead of `return gson.toJson(ruleListService.listRules());` just `return ruleListService.listRules()` ditch the GSON stuff. You also have to make sure that your fields match (in the DTO on the java side and the DTO on the JS side, currently they don&#39;t so no binding/conversion on the JS side will occur).","body":"Instead of <code>return gson.toJson(ruleListService.listRules());</code> just <code>return ruleListService.listRules()</code> ditch the GSON stuff. You also have to make sure that your fields match (in the DTO on the java side and the DTO on the JS side, currently they don&#39;t so no binding/conversion on the JS side will occur)."},{"owner":{"account_id":19856490,"reputation":1,"user_id":14545813,"display_name":"DomRom123"},"score":0,"creation_date":1656341753,"post_id":72721436,"comment_id":128542184,"body_markdown":"@M.Deinum, I&#39;ve updated the DTO on both sides (and made the changes in the post as well), do you think this is still an issue?","body":"@M.Deinum, I&#39;ve updated the DTO on both sides (and made the changes in the post as well), do you think this is still an issue?"},{"owner":{"account_id":2594221,"reputation":2001,"user_id":2248239,"display_name":"BeWu"},"score":0,"creation_date":1656345516,"post_id":72721436,"comment_id":128543681,"body_markdown":"Can you add the complete frontend Rule code please? The error you see means that your frontend Rule object doesn&#39;t have a function `getMessageCode()`","body":"Can you add the complete frontend Rule code please? The error you see means that your frontend Rule object doesn&#39;t have a function <code>getMessageCode()</code>"},{"owner":{"account_id":2594221,"reputation":2001,"user_id":2248239,"display_name":"BeWu"},"score":0,"creation_date":1656346163,"post_id":72721436,"comment_id":128543923,"body_markdown":"And what you also should keep in mind is that your Java code isn&#39;t prepending an underline before the json keys and thus it&#39;s probably not mapping the values to the fields prepended with underlines in the frontend.","body":"And what you also should keep in mind is that your Java code isn&#39;t prepending an underline before the json keys and thus it&#39;s probably not mapping the values to the fields prepended with underlines in the frontend."}],"answers":[{"tags":[],"owner":{"account_id":20007603,"reputation":59,"user_id":14665256,"display_name":"aglamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655995593,"creation_date":1655969246,"answer_id":72726171,"question_id":72721436,"body_markdown":"There&#39;s no need to manually convert your Java Object to Json. Spring Rest controllers do that by default. You can also specify it in your RestController like:\r\n\r\n    @RequestMapping(value = &quot;/rules&quot;, method = RequestMethod.GET, produces = {MediaType.APPLICATION_JSON_VALUE})\r\n\r\nThen in your Angular service it should automatically convert the json to your typescript object:\r\n\r\n    @Injectable({\r\n      providedIn: &#39;root&#39;\r\n    })\r\n    export class RuleService {\r\n      private baseUrl = &quot;http://localhost:4200/api/v1/rules&quot;\r\n      \r\n      constructor(private httpClient: HttpClient) {}\r\n    \r\n      getRuleList(): Observable&lt;Rule[]&gt; {\r\n        return this.httpClient.get&lt;Rule[]&gt;(this.baseUrl).pipe(\r\n          catchError(this.handleError)\r\n        );\r\n      }\r\n    \r\n     private handleError = (error: Response) =&gt; {\r\n        if (error.status === 400) {\r\n          return throwError(new BadInput(error));\r\n        }\r\n        if (error.status === 404) {\r\n          return throwError(new NotFoundError());\r\n        }\r\n    \r\n        return throwError(new AppError(error));\r\n      }\r\n    }\r\n    \r\nJust make sure that your typescript model has getters and setters (not 100% it is needed but try it out) and that the fields in the json match with your model&#39;s.\r\n\r\n\r\n    export class Rule {\r\n    \r\n      constructor(private _messageCode?: string,\r\n                  private _messageTypeCode?: string,\r\n                  private _busRuleCode?: string,\r\n                  private _externalMessageText?: string,\r\n                  private _internalMessageText?: string) {\r\n      }\r\n    \r\n    \r\n      get messageCode(): string {\r\n        return this._messageCode;\r\n      }\r\n    \r\n      set messageCode(value: string) {\r\n        this._messageCode= value;\r\n      }\r\n    \r\n      .......\r\n    }\r\n\r\nLast but not least. Try to change your `getRules()` method in `rule-list.component.ts` like:\r\n\r\n    private getRules() {\r\n        this.ruleService.getRuleList().pipe(\r\n            map(actions =&gt;\r\n              actions.map(action =&gt; { return action as Rule;} )\r\n          )).subscribe(rules =&gt; this.rules = rules);\r\n    }","title":"How To Convert Spring Boot Entity to Angular Object","body":"<p>There's no need to manually convert your Java Object to Json. Spring Rest controllers do that by default. You can also specify it in your RestController like:</p>\n<pre><code>@RequestMapping(value = &quot;/rules&quot;, method = RequestMethod.GET, produces = {MediaType.APPLICATION_JSON_VALUE})\n</code></pre>\n<p>Then in your Angular service it should automatically convert the json to your typescript object:</p>\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class RuleService {\n  private baseUrl = &quot;http://localhost:4200/api/v1/rules&quot;\n  \n  constructor(private httpClient: HttpClient) {}\n\n  getRuleList(): Observable&lt;Rule[]&gt; {\n    return this.httpClient.get&lt;Rule[]&gt;(this.baseUrl).pipe(\n      catchError(this.handleError)\n    );\n  }\n\n private handleError = (error: Response) =&gt; {\n    if (error.status === 400) {\n      return throwError(new BadInput(error));\n    }\n    if (error.status === 404) {\n      return throwError(new NotFoundError());\n    }\n\n    return throwError(new AppError(error));\n  }\n}\n</code></pre>\n<p>Just make sure that your typescript model has getters and setters (not 100% it is needed but try it out) and that the fields in the json match with your model's.</p>\n<pre><code>export class Rule {\n\n  constructor(private _messageCode?: string,\n              private _messageTypeCode?: string,\n              private _busRuleCode?: string,\n              private _externalMessageText?: string,\n              private _internalMessageText?: string) {\n  }\n\n\n  get messageCode(): string {\n    return this._messageCode;\n  }\n\n  set messageCode(value: string) {\n    this._messageCode= value;\n  }\n\n  .......\n}\n</code></pre>\n<p>Last but not least. Try to change your <code>getRules()</code> method in <code>rule-list.component.ts</code> like:</p>\n<pre><code>private getRules() {\n    this.ruleService.getRuleList().pipe(\n        map(actions =&gt;\n          actions.map(action =&gt; { return action as Rule;} )\n      )).subscribe(rules =&gt; this.rules = rules);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19856490,"reputation":1,"user_id":14545813,"display_name":"DomRom123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656348395,"creation_date":1656348395,"answer_id":72775650,"question_id":72721436,"body_markdown":"Posting as an answer not an update in order to help anyone who has the same issue. \r\n\r\n1. Moved attributes of Rule object out of constructor in Rule.ts\r\n2. Per @BeWu&#39;s suggestion, got rid of the &quot;_&quot; prepending the attribute names in Rule.ts\r\n3. Changed getRules() in rule-list.component.ts to:\r\n```\r\n  private getRules() {\r\n    this.ruleService.getRuleList().subscribe(\r\n      res =&gt; {\r\n        this.rules = res.map(x =&gt; Object.assign(new Rule(), x)); \r\n```\r\nMy table is now displaying all values correctly. I think the issue was stemming from the getRules() method not properly converting the data from ruleService.getRuleList() into Rule objects. I found a similar question with a great answer that had lots of useful information, [linked here.](https://stackoverflow.com/questions/51763745/angular-6-error-typeerror-is-not-a-function-but-it-is) \r\n\r\nThank you to everyone who took the time to post suggestions and guidance!","title":"How To Convert Spring Boot Entity to Angular Object","body":"<p>Posting as an answer not an update in order to help anyone who has the same issue.</p>\n<ol>\n<li>Moved attributes of Rule object out of constructor in Rule.ts</li>\n<li>Per @BeWu's suggestion, got rid of the &quot;_&quot; prepending the attribute names in Rule.ts</li>\n<li>Changed getRules() in rule-list.component.ts to:</li>\n</ol>\n<pre><code>  private getRules() {\n    this.ruleService.getRuleList().subscribe(\n      res =&gt; {\n        this.rules = res.map(x =&gt; Object.assign(new Rule(), x)); \n</code></pre>\n<p>My table is now displaying all values correctly. I think the issue was stemming from the getRules() method not properly converting the data from ruleService.getRuleList() into Rule objects. I found a similar question with a great answer that had lots of useful information, <a href=\"https://stackoverflow.com/questions/51763745/angular-6-error-typeerror-is-not-a-function-but-it-is\">linked here.</a></p>\n<p>Thank you to everyone who took the time to post suggestions and guidance!</p>\n"}],"owner":{"account_id":19856490,"reputation":1,"user_id":14545813,"display_name":"DomRom123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72775650,"answer_count":2,"score":0,"last_activity_date":1656348395,"creation_date":1655928656,"question_id":72721436,"body_markdown":"I&#39;m trying to use Angular and Spring Boot to show a list of Rule objects. I am not using a JPA Repository to respond to the GET request, so I think I have to &#39;manually&#39; convert my list of Rule objects on the Spring Boot side to a JSON so that `httpClient.get&lt;Rule[]&gt;()` can convert it to a list of Rule objects on the Angular side. However, this is currently not working, and my rule objects are not showing up on my webapp.\r\n\r\nI&#39;m not using a repository because I&#39;m querying the database on the Spring Boot side, and doing some business logic to only display rules that fall under a certain criteria, and adding some information about the rules that is not in the database. \r\n\r\nHow do I correctly convert the list of rules to a JSON? Is this even the right approach?\r\n\r\nThank you! \r\n\r\nRule.java:\r\n```\r\n@Entity\r\n@Table(name = &quot;MSG_DOM&quot;) \r\npublic class Rule implements Serializable{\r\n    private static final long serialVersionUID = 1L;\r\n    private String fireType;\r\n    private boolean multipleDrivers;\r\n\r\n    @Id\r\n    @Column(name = &quot;MSG_CD&quot;, unique = true, nullable = false)\r\n        private String messageCode;\r\n\r\n    @Column(name = &quot;MSG_TYP_CD&quot;, unique = false, nullable = false)\r\n        private String messageTypeCode;\r\n\r\n    @Column(name = &quot;BUS_RUL_CD&quot;, unique = false, nullable = false)\r\n        private String busRuleCode;\r\n\r\n    @Column(name = &quot;MSG_EXTR_USER_TXT&quot;, unique = false, nullable = false)\r\n        private String externalMessageText;\r\n\r\n    @Column(name = &quot;MSG_INTRL_USER_TXT&quot;, unique = false, nullable = false)\r\n        private String internalMessageText;\r\n\r\n    public Rule(){}\r\n\r\n    public String getMessageCode(){\r\n        return messageCode;\r\n    }\r\n    \r\n    public void setMessageCode(String messageCode){\r\n        this.messageCode = messageCode;\r\n    }\r\n\r\n    ...\r\n```\r\nRuleController.java:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class RuleController {\r\n\r\n    //get all rules\r\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n    @RequestMapping(value = &quot;/rules&quot;, method = RequestMethod.GET, produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    @ResponseBody\r\n    public Rule[] getAllRules() {\r\n        RuleListService ruleListService = new RuleListService();\r\n        List&lt;Rule&gt; ruleList = ruleListService.listRules();\r\n        Rule[] rules = new Rule[ruleList.size()];\r\n        for (int i = 0; i &lt; ruleList.size(); ++i) rules[i] = ruleList.get(i);\r\n        return rules;\r\n    }\r\n}\r\n```\r\nRuleListService.java:\r\n```\r\npublic class RuleListService {\r\n\r\n    ApplicationContext context =  new AnnotationConfigApplicationContext(BeanConfig.class);\r\n    \r\n    public List&lt;Rule&gt; listRules() {\r\n        RuleList lister = context.getBean(RuleList.class);\r\n        ArrayList&lt;HashMap&lt;String, Rule&gt;&gt; ruleMaps = lister.loadRuleMap();\r\n        ArrayList&lt;Rule&gt; ruleList = new ArrayList&lt;Rule&gt;();\r\n        for(HashMap&lt;String, Rule&gt; ruleMap: ruleMaps) { \r\n            ruleList.addAll(ruleMap.values());\r\n        }\r\n        return ruleList;\r\n    }\r\n\r\n}\r\n```\r\nrule.ts:\r\n```\r\nexport class Rule {\r\n\r\n    constructor(\r\n                private _serialVersionUID : number,\r\n                private _fireType: string,\r\n                private _multipleDrivers: boolean,\r\n                private _messageCode: string,\r\n                private _messageTypeCode: string,\r\n                private _busRuleCode: string,\r\n                private _externalMessageText: string,\r\n                private _internalMessageText: string,) {\r\n                }\r\n\r\n    getSerialVersionUID() : number {\r\n        return this._serialVersionUID;\r\n    }\r\n\r\n    setSerialVersionUID(value: number) {\r\n        this._serialVersionUID = value;\r\n    }\r\n\r\n    ...\r\n```\r\nrule.service.ts:\r\n```\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class RuleService {\r\n  private baseUrl = &quot;http://localhost:8080/api/v1/rules&quot;\r\n  \r\n  constructor(private httpClient: HttpClient) {}\r\n\r\n  getRuleList(): Observable&lt;Rule[]&gt; {\r\n    return this.httpClient.get&lt;Rule[]&gt;(`${this.baseUrl}`).pipe(\r\n        catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  private handleError = (error: Response) =&gt; {\r\n    if (error.status === 400) {\r\n      return throwError(() =&gt; new Error(&quot;Bad Input&quot;));\r\n    }\r\n    if (error.status === 404) {\r\n      return throwError(() =&gt; new Error(&quot;Not Found&quot;));\r\n    }\r\n\r\n    return throwError(() =&gt; new Error(&quot;App Error&quot;));\r\n  }\r\n}\r\n```\r\nrule-list.component.ts:\r\n```\r\nexport class RuleListComponent implements OnInit {\r\n\r\n  rules: Rule[];\r\n  ruleTest: Rule;\r\n\r\n  constructor(private ruleService: RuleService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getRules();\r\n  }\r\n\r\n  private getRules() {\r\n    this.ruleService.getRuleList().pipe(\r\n        map((actions: Rule[]) =&gt;\r\n          actions.map(action =&gt; { return action as Rule;} )\r\n      )).subscribe(rules =&gt; this.rules = rules);\r\n  }\r\n}\r\n```\r\nrule-list.component.html:\r\n```\r\n&lt;h2&gt; Rule List &lt;/h2&gt;\r\n&lt;table class = &quot;table table-striped&quot;&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt; MSG_CD &lt;/th&gt;\r\n            &lt;th&gt; MSG_TYP_CD &lt;/th&gt;\r\n            &lt;th&gt; BUS_RUL_CD &lt;/th&gt;\r\n            &lt;th&gt; MSG_EXTR_USER_TXT &lt;/th&gt;\r\n            &lt;th&gt; MSG_INTRL_USER_TXT &lt;/th&gt;\r\n            &lt;th&gt; Fire Type &lt;/th&gt;\r\n            &lt;th&gt; Multiple Drivers &lt;/th&gt; \r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr *ngFor = &quot;let rule of rules&quot; &gt;\r\n            &lt;td&gt; {{rule.getMessageCode()}} &lt;/td&gt;\r\n            &lt;td&gt; {{rule.getMessageTypeCode()}} &lt;/td&gt;\r\n            &lt;td&gt; {{rule.getBusRuleCode()}} &lt;/td&gt;\r\n            &lt;td&gt; {{rule.getExternalMessageText()}}&lt;/td&gt;\r\n            &lt;td&gt; {{rule.getInternalMessageText()}} &lt;/td&gt;\r\n            &lt;td&gt; {{rule.getFireType()}} &lt;/td&gt;\r\n            &lt;td&gt; {{rule.getMultipleDrivers()}} &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```\r\n\r\nUPDATE: I&#39;m still not seeing the data in the table, and have gotten this error from the dev console on my browser:\r\n```\r\nERROR TypeError: rule_r1.getMessageCode is not a function\r\n    at RuleListComponent_tr_20_Template (rule-list.component.html:16:18)\r\n```\r\n\r\nI tried changing the variables to public in the Rule.ts constructor, and accessing the variables directly instead of calling get() methods like so, {{rule._messageCode}}, for all table fields, and while it (obviously) got rid of the error, I still did not see data in the table.  \r\n\r\nThe table has been populated with rows indicating there is actually a Rule[] being sent and received correctly, but there is no data in any row. \r\n\r\nI&#39;ve also updated all included code, since many changes have been made.\r\n\r\n[Table Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D2GiW.png","title":"How To Convert Spring Boot Entity to Angular Object","body":"<p>I'm trying to use Angular and Spring Boot to show a list of Rule objects. I am not using a JPA Repository to respond to the GET request, so I think I have to 'manually' convert my list of Rule objects on the Spring Boot side to a JSON so that <code>httpClient.get&lt;Rule[]&gt;()</code> can convert it to a list of Rule objects on the Angular side. However, this is currently not working, and my rule objects are not showing up on my webapp.</p>\n<p>I'm not using a repository because I'm querying the database on the Spring Boot side, and doing some business logic to only display rules that fall under a certain criteria, and adding some information about the rules that is not in the database.</p>\n<p>How do I correctly convert the list of rules to a JSON? Is this even the right approach?</p>\n<p>Thank you!</p>\n<p>Rule.java:</p>\n<pre><code>@Entity\n@Table(name = &quot;MSG_DOM&quot;) \npublic class Rule implements Serializable{\n    private static final long serialVersionUID = 1L;\n    private String fireType;\n    private boolean multipleDrivers;\n\n    @Id\n    @Column(name = &quot;MSG_CD&quot;, unique = true, nullable = false)\n        private String messageCode;\n\n    @Column(name = &quot;MSG_TYP_CD&quot;, unique = false, nullable = false)\n        private String messageTypeCode;\n\n    @Column(name = &quot;BUS_RUL_CD&quot;, unique = false, nullable = false)\n        private String busRuleCode;\n\n    @Column(name = &quot;MSG_EXTR_USER_TXT&quot;, unique = false, nullable = false)\n        private String externalMessageText;\n\n    @Column(name = &quot;MSG_INTRL_USER_TXT&quot;, unique = false, nullable = false)\n        private String internalMessageText;\n\n    public Rule(){}\n\n    public String getMessageCode(){\n        return messageCode;\n    }\n    \n    public void setMessageCode(String messageCode){\n        this.messageCode = messageCode;\n    }\n\n    ...\n</code></pre>\n<p>RuleController.java:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class RuleController {\n\n    //get all rules\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n    @RequestMapping(value = &quot;/rules&quot;, method = RequestMethod.GET, produces = {MediaType.APPLICATION_JSON_VALUE})\n    @ResponseBody\n    public Rule[] getAllRules() {\n        RuleListService ruleListService = new RuleListService();\n        List&lt;Rule&gt; ruleList = ruleListService.listRules();\n        Rule[] rules = new Rule[ruleList.size()];\n        for (int i = 0; i &lt; ruleList.size(); ++i) rules[i] = ruleList.get(i);\n        return rules;\n    }\n}\n</code></pre>\n<p>RuleListService.java:</p>\n<pre><code>public class RuleListService {\n\n    ApplicationContext context =  new AnnotationConfigApplicationContext(BeanConfig.class);\n    \n    public List&lt;Rule&gt; listRules() {\n        RuleList lister = context.getBean(RuleList.class);\n        ArrayList&lt;HashMap&lt;String, Rule&gt;&gt; ruleMaps = lister.loadRuleMap();\n        ArrayList&lt;Rule&gt; ruleList = new ArrayList&lt;Rule&gt;();\n        for(HashMap&lt;String, Rule&gt; ruleMap: ruleMaps) { \n            ruleList.addAll(ruleMap.values());\n        }\n        return ruleList;\n    }\n\n}\n</code></pre>\n<p>rule.ts:</p>\n<pre><code>export class Rule {\n\n    constructor(\n                private _serialVersionUID : number,\n                private _fireType: string,\n                private _multipleDrivers: boolean,\n                private _messageCode: string,\n                private _messageTypeCode: string,\n                private _busRuleCode: string,\n                private _externalMessageText: string,\n                private _internalMessageText: string,) {\n                }\n\n    getSerialVersionUID() : number {\n        return this._serialVersionUID;\n    }\n\n    setSerialVersionUID(value: number) {\n        this._serialVersionUID = value;\n    }\n\n    ...\n</code></pre>\n<p>rule.service.ts:</p>\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class RuleService {\n  private baseUrl = &quot;http://localhost:8080/api/v1/rules&quot;\n  \n  constructor(private httpClient: HttpClient) {}\n\n  getRuleList(): Observable&lt;Rule[]&gt; {\n    return this.httpClient.get&lt;Rule[]&gt;(`${this.baseUrl}`).pipe(\n        catchError(this.handleError)\n    );\n  }\n\n  private handleError = (error: Response) =&gt; {\n    if (error.status === 400) {\n      return throwError(() =&gt; new Error(&quot;Bad Input&quot;));\n    }\n    if (error.status === 404) {\n      return throwError(() =&gt; new Error(&quot;Not Found&quot;));\n    }\n\n    return throwError(() =&gt; new Error(&quot;App Error&quot;));\n  }\n}\n</code></pre>\n<p>rule-list.component.ts:</p>\n<pre><code>export class RuleListComponent implements OnInit {\n\n  rules: Rule[];\n  ruleTest: Rule;\n\n  constructor(private ruleService: RuleService) { }\n\n  ngOnInit(): void {\n    this.getRules();\n  }\n\n  private getRules() {\n    this.ruleService.getRuleList().pipe(\n        map((actions: Rule[]) =&gt;\n          actions.map(action =&gt; { return action as Rule;} )\n      )).subscribe(rules =&gt; this.rules = rules);\n  }\n}\n</code></pre>\n<p>rule-list.component.html:</p>\n<pre><code>&lt;h2&gt; Rule List &lt;/h2&gt;\n&lt;table class = &quot;table table-striped&quot;&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt; MSG_CD &lt;/th&gt;\n            &lt;th&gt; MSG_TYP_CD &lt;/th&gt;\n            &lt;th&gt; BUS_RUL_CD &lt;/th&gt;\n            &lt;th&gt; MSG_EXTR_USER_TXT &lt;/th&gt;\n            &lt;th&gt; MSG_INTRL_USER_TXT &lt;/th&gt;\n            &lt;th&gt; Fire Type &lt;/th&gt;\n            &lt;th&gt; Multiple Drivers &lt;/th&gt; \n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr *ngFor = &quot;let rule of rules&quot; &gt;\n            &lt;td&gt; {{rule.getMessageCode()}} &lt;/td&gt;\n            &lt;td&gt; {{rule.getMessageTypeCode()}} &lt;/td&gt;\n            &lt;td&gt; {{rule.getBusRuleCode()}} &lt;/td&gt;\n            &lt;td&gt; {{rule.getExternalMessageText()}}&lt;/td&gt;\n            &lt;td&gt; {{rule.getInternalMessageText()}} &lt;/td&gt;\n            &lt;td&gt; {{rule.getFireType()}} &lt;/td&gt;\n            &lt;td&gt; {{rule.getMultipleDrivers()}} &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p>UPDATE: I'm still not seeing the data in the table, and have gotten this error from the dev console on my browser:</p>\n<pre><code>ERROR TypeError: rule_r1.getMessageCode is not a function\n    at RuleListComponent_tr_20_Template (rule-list.component.html:16:18)\n</code></pre>\n<p>I tried changing the variables to public in the Rule.ts constructor, and accessing the variables directly instead of calling get() methods like so, {{rule._messageCode}}, for all table fields, and while it (obviously) got rid of the error, I still did not see data in the table.</p>\n<p>The table has been populated with rows indicating there is actually a Rule[] being sent and received correctly, but there is no data in any row.</p>\n<p>I've also updated all included code, since many changes have been made.</p>\n<p><a href=\"https://i.stack.imgur.com/D2GiW.png\" rel=\"nofollow noreferrer\">Table Screenshot</a></p>\n"},{"tags":["java","date","iso8601"],"comments":[{"owner":{"account_id":288478,"reputation":17040,"user_id":588916,"accept_rate":60,"display_name":"collapsar"},"score":0,"creation_date":1656347469,"post_id":72775433,"comment_id":128544407,"body_markdown":"Does this answer your question? [How to get current moment in ISO 8601 format with date, hour, and minute?](https://stackoverflow.com/questions/3914404/how-to-get-current-moment-in-iso-8601-format-with-date-hour-and-minute)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3914404/how-to-get-current-moment-in-iso-8601-format-with-date-hour-and-minute\">How to get current moment in ISO 8601 format with date, hour, and minute?</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1656347698,"post_id":72775433,"comment_id":128544508,"body_markdown":"In which way precisely did not work?? Your attempt is correct, it’s the best you can do. However the precision of the result of calling `now()` depends on the underlying Java version, operating system, hardware and the integration of all of those. You may not be able to get finer than milliseconds or even coarser on your setup.","body":"In which way precisely did not work?? Your attempt is correct, it’s the best you can do. However the precision of the result of calling <code>now()</code> depends on the underlying Java version, operating system, hardware and the integration of all of those. You may not be able to get finer than milliseconds or even coarser on your setup."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1656347861,"post_id":72775433,"comment_id":128544576,"body_markdown":"Welcome to Stack Overflow. Since you’re new it’s OK that you did not know: We can’t really do anything with “did not work”, cannot help you. We need an example of your expected output and an example of how precisely your observed output differed. Please [edit](https://stackoverflow.com/posts/72775433/edit) your question and add this information. So that we may help you.","body":"Welcome to Stack Overflow. Since you’re new it’s OK that you did not know: We can’t really do anything with “did not work”, cannot help you. We need an example of your expected output and an example of how precisely your observed output differed. Please <a href=\"https://stackoverflow.com/posts/72775433/edit\">edit</a> your question and add this information. So that we may help you."},{"owner":{"account_id":25325051,"reputation":5,"user_id":19184481,"display_name":"abcd efgh"},"score":0,"creation_date":1656347931,"post_id":72775433,"comment_id":128544601,"body_markdown":"@OleV.V. this is the timestamp I&#39;m that I timestamp I get &quot;:&quot;2022-06-27T07:05:13.277Z&quot;","body":"@OleV.V. this is the timestamp I&#39;m that I timestamp I get &quot;:&quot;2022-06-27T07:05:13.277Z&quot;"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1656348007,"post_id":72775433,"comment_id":128544631,"body_markdown":"If I were to tease you, I’d just point out that `2022-06-27T07:05:13.277Z` is the same as `2022-06-27T07:05:13.277000Z`, so we can’t really tell from the output that you didn’t get microseconds. You are correct, of course, it’s still likely that you cannot get a precision beyond milliseconds on your Java. Which Java version are you using? On which OS?","body":"If I were to tease you, I’d just point out that <code>2022-06-27T07:05:13.277Z</code> is the same as <code>2022-06-27T07:05:13.277000Z</code>, so we can’t really tell from the output that you didn’t get microseconds. You are correct, of course, it’s still likely that you cannot get a precision beyond milliseconds on your Java. Which Java version are you using? On which OS?"},{"owner":{"account_id":25325051,"reputation":5,"user_id":19184481,"display_name":"abcd efgh"},"score":0,"creation_date":1656348211,"post_id":72775433,"comment_id":128544721,"body_markdown":"This is the version of java 1.6.0_18 on windows. \nI make a loop and all the timestamp are like this 2022-06-27T07:05:13.277Z 2022-06-27T07:05:13.278Z  2022-06-27T07:05:13.279Z ...","body":"This is the version of java 1.6.0_18 on windows.  I make a loop and all the timestamp are like this 2022-06-27T07:05:13.277Z 2022-06-27T07:05:13.278Z  2022-06-27T07:05:13.279Z ..."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1656348531,"post_id":72775433,"comment_id":128544840,"body_markdown":"@abcdefgh: are you **sure** that this is on 1.6.0_18? Because `Instant` wasn&#39;t introduced until Java 8 (i.e. 1.8.0). Also: why the *heck* would you run such an ancient version of Java? That&#39;s a security, stability, compatibility and supportability-risk all in one neat little ancient package!","body":"@abcdefgh: are you <b>sure</b> that this is on 1.6.0_18? Because <code>Instant</code> wasn&#39;t introduced until Java 8 (i.e. 1.8.0). Also: why the <i>heck</i> would you run such an ancient version of Java? That&#39;s a security, stability, compatibility and supportability-risk all in one neat little ancient package!"},{"owner":{"account_id":25325051,"reputation":5,"user_id":19184481,"display_name":"abcd efgh"},"score":0,"creation_date":1656348695,"post_id":72775433,"comment_id":128544896,"body_markdown":"Okay I&#39;m will update java right now, yes this is the version I get after running this command java -version.","body":"Okay I&#39;m will update java right now, yes this is the version I get after running this command java -version."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1656351282,"post_id":72775433,"comment_id":128545787,"body_markdown":"@JoachimSauer The OP may be using the [ThreeTen Backport](https://www.threeten.org/threetenbp/), the backport of java.time to Java 1.6 and 1.7. abcd efgh, are you importing `java.time.Instant` or `org.threeten.bp.Instant`?","body":"@JoachimSauer The OP may be using the <a href=\"https://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a>, the backport of java.time to Java 1.6 and 1.7. abcd efgh, are you importing <code>java.time.Instant</code> or <code>org.threeten.bp.Instant</code>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1656351403,"post_id":72775433,"comment_id":128545837,"body_markdown":"If it’s a matter of getting 6 decimals printed, you may use `OffsetDateTime.now(ZoneOffset.UTC).format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSX&quot;))` to get like `2022-06-27T17:36:04.516000Z`.","body":"If it’s a matter of getting 6 decimals printed, you may use <code>OffsetDateTime.now(ZoneOffset.UTC).format(DateTimeFormatter.&zwnj;&#8203;ofPattern(&quot;uuuu-MM-d&zwnj;&#8203;d&#39;T&#39;HH:mm:ss.SSSSSSX&zwnj;&#8203;&quot;))</code> to get like <code>2022-06-27T17:36:04.516000Z</code>."},{"owner":{"account_id":25325051,"reputation":5,"user_id":19184481,"display_name":"abcd efgh"},"score":0,"creation_date":1656407034,"post_id":72775433,"comment_id":128558326,"body_markdown":"Thanks for your help @OleV.V. I used your suggestion and it worked, please can you add it as answer so I can mark this question as answered.","body":"Thanks for your help @OleV.V. I used your suggestion and it worked, please can you add it as answer so I can mark this question as answered."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1656423701,"post_id":72775433,"comment_id":128565012,"body_markdown":"Glad that it was helpful. I am no longer contributing answers to Stack Overflow (for reasons that I try to explain in [my profile](https://stackoverflow.com/users/5772882/ole-v-v)). Feel free to post it as an answer yourself, and I shall be happy to upvote. You can also accept your own answer after a period (I think it’s 12 hours).","body":"Glad that it was helpful. I am no longer contributing answers to Stack Overflow (for reasons that I try to explain in <a href=\"https://stackoverflow.com/users/5772882/ole-v-v\">my profile</a>). Feel free to post it as an answer yourself, and I shall be happy to upvote. You can also accept your own answer after a period (I think it’s 12 hours)."}],"owner":{"account_id":25325051,"reputation":5,"user_id":19184481,"display_name":"abcd efgh"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656348363,"creation_date":1656347262,"question_id":72775433,"body_markdown":"I want to get current timestamp in ISO 8601 format with microseconds, like this format:\r\n\r\n&gt; 2021-12-15T16:06:24.400087Z\r\n\r\nI tried this but it did not work.\r\n\r\n    Instant ins = Instant.now().truncatedTo(ChronoUnit.MICROS);\r\n\r\nThis is the timestamp that I get:\r\n\r\n&gt; 2022-06-27T07:05:13.277Z","title":"Get timestamp iso 8601 in microseconds","body":"<p>I want to get current timestamp in ISO 8601 format with microseconds, like this format:</p>\n<blockquote>\n<p>2021-12-15T16:06:24.400087Z</p>\n</blockquote>\n<p>I tried this but it did not work.</p>\n<pre><code>Instant ins = Instant.now().truncatedTo(ChronoUnit.MICROS);\n</code></pre>\n<p>This is the timestamp that I get:</p>\n<blockquote>\n<p>2022-06-27T07:05:13.277Z</p>\n</blockquote>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1437386234,"post_id":31513314,"comment_id":50988619,"body_markdown":"Its a text file, just update it.","body":"Its a text file, just update it."}],"answers":[{"tags":[],"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437385906,"creation_date":1437385906,"answer_id":31513444,"question_id":31513314,"body_markdown":"You can acheive this by [PropertyConfigurator configure and watch](http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PropertyConfigurator.html#configureAndWatch%28java.lang.String,%20long%29). \r\n\r\n   &gt;Read the configuration file configFilename if it exists. Moreover, a thread will be created that will periodically check if configFilename has been created or modified. The period is determined by the delay argument. If a change or file creation is detected, then configFilename is read to configure log4j. ","title":"Can I update log4j 1.2 xml configuration file programmatically?","body":"<p>You can acheive this by <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PropertyConfigurator.html#configureAndWatch%28java.lang.String,%20long%29\" rel=\"nofollow\">PropertyConfigurator configure and watch</a>. </p>\n\n<blockquote>\n  <p>Read the configuration file configFilename if it exists. Moreover, a thread will be created that will periodically check if configFilename has been created or modified. The period is determined by the delay argument. If a change or file creation is detected, then configFilename is read to configure log4j. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25622912,"reputation":11,"user_id":19394500,"display_name":"jenzinas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656348341,"creation_date":1655931354,"answer_id":72721911,"question_id":31513314,"body_markdown":"for any chump who finds themselves stuck dealing with this, it is possible to write out the data as properties using \r\n\r\n```\r\norg.apache.log4j.config.PropertyPrinter;\r\n```","title":"Can I update log4j 1.2 xml configuration file programmatically?","body":"<p>for any chump who finds themselves stuck dealing with this, it is possible to write out the data as properties using</p>\n<pre><code>org.apache.log4j.config.PropertyPrinter;\n</code></pre>\n"}],"owner":{"account_id":5395600,"reputation":3,"user_id":4296921,"display_name":"Iain Duff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656348341,"creation_date":1437385519,"question_id":31513314,"body_markdown":"I know it is possible to reload log4j&#39;s xml configuration while the application is running, but the searching I&#39;ve done only shows how to do this when the XML config file is edited manually via a text editor. \r\n\r\nI want to be able to dynamically change the level of the root logger in my application via a web page and persist that change to the log4j XML configuration, so I won&#39;t have to change the log level again if I restart the application. Is it possible to do this, or can the log4j XML file only be updated manually?\r\n\r\nI am using log4j 1.2 in my application. \r\n\r\nMany thanks in advance! \r\n","title":"Can I update log4j 1.2 xml configuration file programmatically?","body":"<p>I know it is possible to reload log4j's xml configuration while the application is running, but the searching I've done only shows how to do this when the XML config file is edited manually via a text editor. </p>\n\n<p>I want to be able to dynamically change the level of the root logger in my application via a web page and persist that change to the log4j XML configuration, so I won't have to change the log level again if I restart the application. Is it possible to do this, or can the log4j XML file only be updated manually?</p>\n\n<p>I am using log4j 1.2 in my application. </p>\n\n<p>Many thanks in advance! </p>\n"},{"tags":["java","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656347966,"creation_date":1656347966,"answer_id":72775573,"question_id":72775419,"body_markdown":"Your `Session` import is the wrong one. Replace the import for `android.se.omapi.Session` with `javax.mail.Session`. If that causes other issues, because you need both imports, then for one of them you to use the fully qualified name. For instance:\r\n\r\n    javax.mail.Session session = javax.mail.Session.getDefaultInstance(properties, null);\r\n\r\n---\r\n\r\nThe other issue is the `Uri` argument. There is no `MimeMessage` constructor that takes a `URI` or `Uri` argument. I assume that you have an existing message as a file and want to read from it. You&#39;d need to convert the `Uri` to an `InputStream`. I couldn&#39;t find anything for that in https://developer.android.com/reference/android/net/Uri. I&#39;d see if you can get rid of the `Uri` argument completely and replace it with an `InputStream` or something that can be converted to an `InputStream`.","title":"issue with getDefaultInstance and javax.mail.Session, java.io.InputStream","body":"<p>Your <code>Session</code> import is the wrong one. Replace the import for <code>android.se.omapi.Session</code> with <code>javax.mail.Session</code>. If that causes other issues, because you need both imports, then for one of them you to use the fully qualified name. For instance:</p>\n<pre><code>javax.mail.Session session = javax.mail.Session.getDefaultInstance(properties, null);\n</code></pre>\n<hr />\n<p>The other issue is the <code>Uri</code> argument. There is no <code>MimeMessage</code> constructor that takes a <code>URI</code> or <code>Uri</code> argument. I assume that you have an existing message as a file and want to read from it. You'd need to convert the <code>Uri</code> to an <code>InputStream</code>. I couldn't find anything for that in <a href=\"https://developer.android.com/reference/android/net/Uri\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/net/Uri</a>. I'd see if you can get rid of the <code>Uri</code> argument completely and replace it with an <code>InputStream</code> or something that can be converted to an <code>InputStream</code>.</p>\n"}],"owner":{"account_id":23287046,"reputation":3,"user_id":17369716,"display_name":"Soccer05"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72775573,"answer_count":1,"score":0,"last_activity_date":1656347966,"creation_date":1656347211,"question_id":72775419,"body_markdown":"I have looking around for answer to these two errors, and have not found the solution.\r\n\r\n    Cannot resolve method &#39;getDefaultInstance&#39; in &#39;Session&#39;\r\n    &#39;MimeMessage(javax.mail.Session, java.io.InputStream)&#39; in &#39;javax.mail.internet.MimeMessage&#39; cannot be applied to &#39;(android.se.omapi.Session, android.net.Uri)&#39;\r\n\r\nAm I missing something as to using the package?\r\n\r\n    public void getBodySignature(Uri uri) throws Exception {\r\n            Properties properties = System.getProperties();\r\n    \r\n            Session session = Session.getDefaultInstance(properties, null);\r\n            MimeMessage msg = new MimeMessage(session, uri);\r\n            SMIMESigned signedMessage;\r\n            // multipart/signed message\r\n            // two parts- one part for the content that was signed and one part for the actual signature.\r\n            if (msg.isMimeType(&quot;multipart/signed&quot;)) {\r\n                signedMessage = new SMIMESigned((MimeMultipart) msg.getContent());\r\n            } else if (msg.isMimeType(&quot;text/plain&quot;) || msg.isMimeType(&quot;application/pkcs7-signature&quot;)) {\r\n                // in this case the content is wrapped in the signature block.\r\n                signedMessage = new SMIMESigned(msg);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Not a signed message!&quot;);\r\n            }","title":"issue with getDefaultInstance and javax.mail.Session, java.io.InputStream","body":"<p>I have looking around for answer to these two errors, and have not found the solution.</p>\n<pre><code>Cannot resolve method 'getDefaultInstance' in 'Session'\n'MimeMessage(javax.mail.Session, java.io.InputStream)' in 'javax.mail.internet.MimeMessage' cannot be applied to '(android.se.omapi.Session, android.net.Uri)'\n</code></pre>\n<p>Am I missing something as to using the package?</p>\n<pre><code>public void getBodySignature(Uri uri) throws Exception {\n        Properties properties = System.getProperties();\n\n        Session session = Session.getDefaultInstance(properties, null);\n        MimeMessage msg = new MimeMessage(session, uri);\n        SMIMESigned signedMessage;\n        // multipart/signed message\n        // two parts- one part for the content that was signed and one part for the actual signature.\n        if (msg.isMimeType(&quot;multipart/signed&quot;)) {\n            signedMessage = new SMIMESigned((MimeMultipart) msg.getContent());\n        } else if (msg.isMimeType(&quot;text/plain&quot;) || msg.isMimeType(&quot;application/pkcs7-signature&quot;)) {\n            // in this case the content is wrapped in the signature block.\n            signedMessage = new SMIMESigned(msg);\n        } else {\n            throw new IllegalArgumentException(&quot;Not a signed message!&quot;);\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","intellij-idea","h2"],"comments":[{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":1,"creation_date":1656345455,"post_id":72774835,"comment_id":128543658,"body_markdown":"Have you started the db server? See http://h2database.com/html/cheatSheet.html or check https://stackoverflow.com/a/55847035/2290153","body":"Have you started the db server? See <a href=\"http://h2database.com/html/cheatSheet.html\" rel=\"nofollow noreferrer\">h2database.com/html/cheatSheet.html</a> or check <a href=\"https://stackoverflow.com/a/55847035/2290153\">stackoverflow.com/a/55847035/2290153</a>"},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1656351263,"post_id":72774835,"comment_id":128545781,"body_markdown":"Amigo, I solved the problem by applying the suggestions on [this](https://stackoverflow.com/questions/43256295/how-to-access-in-memory-h2-database-of-one-spring-boot-application-from-another/43276769#43276769) page, thanks.","body":"Amigo, I solved the problem by applying the suggestions on <a href=\"https://stackoverflow.com/questions/43256295/how-to-access-in-memory-h2-database-of-one-spring-boot-application-from-another/43276769#43276769\">this</a> page, thanks."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656347939,"creation_date":1656347939,"answer_id":72775566,"question_id":72774835,"body_markdown":"You seem to be a little confused.\r\n\r\nH2 can run in two different &#39;modes&#39;.\r\n\r\n### Local mode\r\n\r\nLocal mode means H2 &#39;just works&#39;, and you access this mode with the `file:` thing in the JDBC connect URL. The JDBC driver itself does all the database work, as in, it opens files, writes data, it does it all. _There is no &#39;database server&#39;_ at all. Or, if you prefer, the JDBC driver is its own server though it opens no ports.\r\n\r\n## Server mode\r\n\r\nIn this case __you need a (separate) JVM and separately fire up H2 in server mode__ and then you can use the same library (still `h2.jar`) to serve as a JDBC server. In this mode, the two things are __completely separate__ - if you want, you can run h2.jar on one machine to be the server, and run the same h2.jar on a completely different machine just to connect to the other H2 machine. The database server machine does the bulk of the work, with the &#39;client&#39; H2 just being the JDBC driver. H2 is no different than e.g. mysql or postgres in such a mode: You have one &#39;app&#39; / JVM process that runs as a database engine, allowing multiple different processes, even coming from completely different machines halfway around the world if you want to, to connect to it.\r\n\r\nYou access this mode with the `tcp:` thing in the JDBC string.\r\n\r\nIf you really want, you can run this mode and still have it all on a single machine, even a single JVM, but why would you want to? Whatever made you think this will &#39;solve lock errors&#39; wouldn&#39;t be fixed by running all this stuff on a single JVM. There are only two options:\r\n\r\n* You&#39;re mis-analysing the problem.\r\n* You really do have multiple separate JVM processes (either one machine with 2 `java` processes in the activity monitor / `ps auxww` output / task manager, or 2+ machines) all trying to connect to a single database in which case you certainly do need this, yes.\r\n\r\n## How to do server mode right\r\n\r\nYou most likely want a separate JVM that starts before and that hosts the h2 database; it needs to run before the &#39;client&#39; JVMs (the ones that will connect to it) start running. Catalina is not the &#39;server&#39; you are looking for, it is `org.h2.tools.Server`, and if it says &#39;not found&#39; you need to fix your maven imports. This needs be a separate JVM (you COULD write code that goes: Oh, hey, there isn&#39;t a separate JVM running with the h2 server so I&#39;ll start it in-process right here right now, but that means that process needs to stay in the air forever, which is just weird. Hence, you _want_ a separate JVM process for this).\r\n\r\nYou haven&#39;t explained what you&#39;re doing. But, let&#39;s say what you&#39;re doing is this:\r\n\r\n* I have a CI script that fires up multiple separate JVMs, some in parallel even, which runs a bunch of integration and unit tests in parallel.\r\n* Even though they run in parallel (or perhaps intentionally so), you all want to run this off of a single DB. This is usually a really bad idea (you want tests to be isolated; that running them on their own continues to behave identically. You don&#39;t want a test to fail in a way that can only be reproduced if you run the same batch of 18 separate tests using the same run code, where one unrelated test fails in a specific fashion, whilst it&#39;s Tuesday, a full moon, and Beethoven is playing in your music player, and it&#39;s warmer than 24&#186; in the room affecting the CPU&#39;s throttling, of course. Which is exactly what tends to happen if you try to re-use resources in multiple tests!) – still, you somehow really want this.\r\n* ... then, edit the CI script to first Launch a JVM that hosts a H2 server, and once that&#39;s up and running, presumably run a process that fills this database with test data, and once that&#39;s done, then run all tests in parallel, and once those are all done, shut down the JVM, and delete the DB file.\r\n\r\n\r\nExactly how to do the third part is a separate question - if you need help with that, ask a new question and name the relevant tool(s) you are using to run this stuff, paste the config files, etc.\r\n","title":"Cannot connect to H2 database","body":"<p>You seem to be a little confused.</p>\n<p>H2 can run in two different 'modes'.</p>\n<h3>Local mode</h3>\n<p>Local mode means H2 'just works', and you access this mode with the <code>file:</code> thing in the JDBC connect URL. The JDBC driver itself does all the database work, as in, it opens files, writes data, it does it all. <em>There is no 'database server'</em> at all. Or, if you prefer, the JDBC driver is its own server though it opens no ports.</p>\n<h2>Server mode</h2>\n<p>In this case <strong>you need a (separate) JVM and separately fire up H2 in server mode</strong> and then you can use the same library (still <code>h2.jar</code>) to serve as a JDBC server. In this mode, the two things are <strong>completely separate</strong> - if you want, you can run h2.jar on one machine to be the server, and run the same h2.jar on a completely different machine just to connect to the other H2 machine. The database server machine does the bulk of the work, with the 'client' H2 just being the JDBC driver. H2 is no different than e.g. mysql or postgres in such a mode: You have one 'app' / JVM process that runs as a database engine, allowing multiple different processes, even coming from completely different machines halfway around the world if you want to, to connect to it.</p>\n<p>You access this mode with the <code>tcp:</code> thing in the JDBC string.</p>\n<p>If you really want, you can run this mode and still have it all on a single machine, even a single JVM, but why would you want to? Whatever made you think this will 'solve lock errors' wouldn't be fixed by running all this stuff on a single JVM. There are only two options:</p>\n<ul>\n<li>You're mis-analysing the problem.</li>\n<li>You really do have multiple separate JVM processes (either one machine with 2 <code>java</code> processes in the activity monitor / <code>ps auxww</code> output / task manager, or 2+ machines) all trying to connect to a single database in which case you certainly do need this, yes.</li>\n</ul>\n<h2>How to do server mode right</h2>\n<p>You most likely want a separate JVM that starts before and that hosts the h2 database; it needs to run before the 'client' JVMs (the ones that will connect to it) start running. Catalina is not the 'server' you are looking for, it is <code>org.h2.tools.Server</code>, and if it says 'not found' you need to fix your maven imports. This needs be a separate JVM (you COULD write code that goes: Oh, hey, there isn't a separate JVM running with the h2 server so I'll start it in-process right here right now, but that means that process needs to stay in the air forever, which is just weird. Hence, you <em>want</em> a separate JVM process for this).</p>\n<p>You haven't explained what you're doing. But, let's say what you're doing is this:</p>\n<ul>\n<li>I have a CI script that fires up multiple separate JVMs, some in parallel even, which runs a bunch of integration and unit tests in parallel.</li>\n<li>Even though they run in parallel (or perhaps intentionally so), you all want to run this off of a single DB. This is usually a really bad idea (you want tests to be isolated; that running them on their own continues to behave identically. You don't want a test to fail in a way that can only be reproduced if you run the same batch of 18 separate tests using the same run code, where one unrelated test fails in a specific fashion, whilst it's Tuesday, a full moon, and Beethoven is playing in your music player, and it's warmer than 24º in the room affecting the CPU's throttling, of course. Which is exactly what tends to happen if you try to re-use resources in multiple tests!) – still, you somehow really want this.</li>\n<li>... then, edit the CI script to first Launch a JVM that hosts a H2 server, and once that's up and running, presumably run a process that fills this database with test data, and once that's done, then run all tests in parallel, and once those are all done, shut down the JVM, and delete the DB file.</li>\n</ul>\n<p>Exactly how to do the third part is a separate question - if you need help with that, ask a new question and name the relevant tool(s) you are using to run this stuff, paste the config files, etc.</p>\n"}],"owner":{"display_name":"user19254373"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656347948,"creation_date":1656344542,"question_id":72774835,"body_markdown":"I have been getting struggle to connect H2 database from a Spring Boot app by using the following connection string as mentioned on [Database URL Overview](http://h2database.com/html/features.html?highlight=server&amp;search=server#connection_modes) section:\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:tcp://localhost:9092/~/test-db\r\n```\r\n\r\nI also tried many different combination for tcp (server mode) connection, but still get error e.g. &quot;*Connection is broken: &quot;java.net.SocketTimeoutException: connect timed out: localhost:9092&quot;* when running Spring Boot app.\r\n\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\t// code omitted\r\n\t\r\n\t@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n\tpublic Server h2Server() throws SQLException {\r\n\t\treturn Server.createTcpServer(&quot;-tcp&quot;, &quot;-tcpAllowOthers&quot;, &quot;-tcpPort&quot;, &quot;9092&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nSo, how can I fix this problem and connect to H2 database via server mode?","title":"Cannot connect to H2 database","body":"<p>I have been getting struggle to connect H2 database from a Spring Boot app by using the following connection string as mentioned on <a href=\"http://h2database.com/html/features.html?highlight=server&amp;search=server#connection_modes\" rel=\"nofollow noreferrer\">Database URL Overview</a> section:</p>\n<pre><code>spring.datasource.url=jdbc:h2:tcp://localhost:9092/~/test-db\n</code></pre>\n<p>I also tried many different combination for tcp (server mode) connection, but still get error e.g. &quot;<em>Connection is broken: &quot;java.net.SocketTimeoutException: connect timed out: localhost:9092&quot;</em> when running Spring Boot app.</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    // code omitted\n    \n    @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\n    public Server h2Server() throws SQLException {\n        return Server.createTcpServer(&quot;-tcp&quot;, &quot;-tcpAllowOthers&quot;, &quot;-tcpPort&quot;, &quot;9092&quot;);\n    }\n}\n</code></pre>\n<p>So, how can I fix this problem and connect to H2 database via server mode?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1656346318,"post_id":72775010,"comment_id":128543972,"body_markdown":"I don&#39;t know very well the javax&#39;s Json (I use Jackson), but your method `convertToJSONArray` is clearly creating a new array before adding the element, so it&#39;s normal that you always have the last element of the loop. I think you rather want to take a `JsonArray` in input and add the element to this.","body":"I don&#39;t know very well the javax&#39;s Json (I use Jackson), but your method <code>convertToJSONArray</code> is clearly creating a new array before adding the element, so it&#39;s normal that you always have the last element of the loop. I think you rather want to take a <code>JsonArray</code> in input and add the element to this."}],"answers":[{"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656346889,"creation_date":1656346406,"answer_id":72775243,"question_id":72775010,"body_markdown":"You need to create an [`JsonArrayBuilder`](https://docs.oracle.com/javaee/7/api/javax/json/JsonArrayBuilder.html) inside for loop instead of creating JsonArray at each step. Then build the builder outside of for loop like:\r\n    \r\n   \r\n    \r\n\r\n\r\n    JsonArrayBuilder arrayBuilder = null;\r\n    for (int i = 0; i &lt; 2; i++) {\r\n          testRun = new TestRun(faker.name().firstName(), faker.number().numberBetween(1, 200));\r\n          JsonObject jsonObject = testRun.convertToJSONObject();\r\n          if (arrayBuilder == null) {\r\n             arrayBuilder = Json.createArrayBuilder().add(jsonObject);\r\n          } else {\r\n             arrayBuilder = arrayBuilder.add(jsonObject);\r\n          }\r\n\r\n    }\r\n    \r\n    jsonArray = arrayBuilder.build();\r\n","title":"JsonArray is not adding all JsonObjects","body":"<p>You need to create an <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonArrayBuilder.html\" rel=\"nofollow noreferrer\"><code>JsonArrayBuilder</code></a> inside for loop instead of creating JsonArray at each step. Then build the builder outside of for loop like:</p>\n<pre><code>JsonArrayBuilder arrayBuilder = null;\nfor (int i = 0; i &lt; 2; i++) {\n      testRun = new TestRun(faker.name().firstName(), faker.number().numberBetween(1, 200));\n      JsonObject jsonObject = testRun.convertToJSONObject();\n      if (arrayBuilder == null) {\n         arrayBuilder = Json.createArrayBuilder().add(jsonObject);\n      } else {\n         arrayBuilder = arrayBuilder.add(jsonObject);\n      }\n\n}\n\njsonArray = arrayBuilder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656347846,"creation_date":1656347846,"answer_id":72775547,"question_id":72775010,"body_markdown":"TestRun.java\r\n\r\n    import javax.json.Json;\r\n    import javax.json.JsonObject;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class TestRun {\r\n        private String name;\r\n        private Integer value;\r\n        private ZonedDateTime timestamp;\r\n    \r\n        public TestRun(String name, Integer value, ZonedDateTime timestamp) {\r\n            this.name = name;\r\n            this.value = value;\r\n            this.timestamp = timestamp;\r\n        }\r\n    \r\n        public JsonObject convertToJSONObject() {\r\n            return Json.createObjectBuilder()\r\n                    .add(&quot;name&quot;, name)\r\n                    .add(&quot;value&quot;, value)\r\n                    .add(&quot;timestamp&quot;, convertZonedDateTime())\r\n                    .build();\r\n        }\r\n    \r\n        private String convertZonedDateTime() {\r\n            return timestamp.toString(); // replace with yours code\r\n        }\r\n    }\r\n\r\nClass with `main` method:\r\n\r\n    import com.github.javafaker.Faker;\r\n    import javax.json.Json;\r\n    import javax.json.JsonArrayBuilder;\r\n    import javax.json.JsonObject;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class FakerExample {\r\n    \r\n        public static void main(String[] args) {\r\n            Faker faker = new Faker();\r\n            JsonArrayBuilder jsonArrayBuilder = Json.createArrayBuilder();\r\n    \r\n            for (int i = 0; i &lt; 2; i++) {\r\n                var testRun = new TestRun(faker.name().firstName(), faker.number().numberBetween(1, 200), ZonedDateTime.now());\r\n                JsonObject object = testRun.convertToJSONObject();\r\n                jsonArrayBuilder.add(object);\r\n            }\r\n    \r\n            System.out.println(jsonArrayBuilder.build());\r\n        }\r\n    }","title":"JsonArray is not adding all JsonObjects","body":"<p>TestRun.java</p>\n<pre><code>import javax.json.Json;\nimport javax.json.JsonObject;\nimport java.time.ZonedDateTime;\n\npublic class TestRun {\n    private String name;\n    private Integer value;\n    private ZonedDateTime timestamp;\n\n    public TestRun(String name, Integer value, ZonedDateTime timestamp) {\n        this.name = name;\n        this.value = value;\n        this.timestamp = timestamp;\n    }\n\n    public JsonObject convertToJSONObject() {\n        return Json.createObjectBuilder()\n                .add(&quot;name&quot;, name)\n                .add(&quot;value&quot;, value)\n                .add(&quot;timestamp&quot;, convertZonedDateTime())\n                .build();\n    }\n\n    private String convertZonedDateTime() {\n        return timestamp.toString(); // replace with yours code\n    }\n}\n</code></pre>\n<p>Class with <code>main</code> method:</p>\n<pre><code>import com.github.javafaker.Faker;\nimport javax.json.Json;\nimport javax.json.JsonArrayBuilder;\nimport javax.json.JsonObject;\nimport java.time.ZonedDateTime;\n\npublic class FakerExample {\n\n    public static void main(String[] args) {\n        Faker faker = new Faker();\n        JsonArrayBuilder jsonArrayBuilder = Json.createArrayBuilder();\n\n        for (int i = 0; i &lt; 2; i++) {\n            var testRun = new TestRun(faker.name().firstName(), faker.number().numberBetween(1, 200), ZonedDateTime.now());\n            JsonObject object = testRun.convertToJSONObject();\n            jsonArrayBuilder.add(object);\n        }\n\n        System.out.println(jsonArrayBuilder.build());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72775243,"answer_count":2,"score":1,"last_activity_date":1656347846,"creation_date":1656345349,"question_id":72775010,"body_markdown":"When I add a list of test JsonObjects, only the last JsonObject is add to the JsonArray. I do not understand why because I am following documentation from oracle. https://docs.oracle.com/javaee/7/api/javax/json/JsonArray.html\r\n\r\nMethods from class called TestRun\r\n\r\n    public JsonObject convertToJSONObject() {\r\n            return Json.createObjectBuilder()\r\n                    .add(&quot;name&quot;, name)\r\n                    .add(&quot;value&quot;, value)\r\n                    .add(&quot;timestamp&quot;, convertZonedDateTime())\r\n                    .build();\r\n        }\r\n    \r\n        public JsonArray convertToJSONArray(JsonObject object) {\r\n            return Json.createArrayBuilder()\r\n                    .add(object)\r\n                    .build();\r\n        }\r\n\r\nMain (Note: I am using faker to generate random info)\r\n\r\n    TestRun testRun;\r\n            Faker faker = new Faker(); //Faker to generate random level_name\r\n            JsonArray jsonArray = null;\r\n    \r\n    \r\n            for (int i = 0; i &lt; 2; i++) {\r\n                testRun = new TestRun(faker.name().firstName(), faker.number().numberBetween(1, 200));\r\n                JsonObject object = testRun.convertToJSONObject();\r\n                jsonArray = testRun.convertToJSONArray(object);\r\n            }\r\n            System.out.println(jsonArray);","title":"JsonArray is not adding all JsonObjects","body":"<p>When I add a list of test JsonObjects, only the last JsonObject is add to the JsonArray. I do not understand why because I am following documentation from oracle. <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonArray.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/json/JsonArray.html</a></p>\n<p>Methods from class called TestRun</p>\n<pre><code>public JsonObject convertToJSONObject() {\n        return Json.createObjectBuilder()\n                .add(&quot;name&quot;, name)\n                .add(&quot;value&quot;, value)\n                .add(&quot;timestamp&quot;, convertZonedDateTime())\n                .build();\n    }\n\n    public JsonArray convertToJSONArray(JsonObject object) {\n        return Json.createArrayBuilder()\n                .add(object)\n                .build();\n    }\n</code></pre>\n<p>Main (Note: I am using faker to generate random info)</p>\n<pre><code>TestRun testRun;\n        Faker faker = new Faker(); //Faker to generate random level_name\n        JsonArray jsonArray = null;\n\n\n        for (int i = 0; i &lt; 2; i++) {\n            testRun = new TestRun(faker.name().firstName(), faker.number().numberBetween(1, 200));\n            JsonObject object = testRun.convertToJSONObject();\n            jsonArray = testRun.convertToJSONArray(object);\n        }\n        System.out.println(jsonArray);\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":10329025,"reputation":1640,"user_id":7619578,"accept_rate":67,"display_name":"Int&#39;l Man Of Coding Mystery"},"score":0,"creation_date":1647033216,"post_id":71442485,"comment_id":126279758,"body_markdown":"I ended up using the `@JsonInclude(Include.NON_NULL)` and then used a conditional in the constructor to optionally set the address. But curious if there&#39;s a better way","body":"I ended up using the <code>@JsonInclude(Include.NON_NULL)</code> and then used a conditional in the constructor to optionally set the address. But curious if there&#39;s a better way"}],"answers":[{"tags":[],"owner":{"account_id":10329025,"reputation":1640,"user_id":7619578,"accept_rate":67,"display_name":"Int&#39;l Man Of Coding Mystery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656347806,"creation_date":1656347806,"answer_id":72775537,"question_id":71442485,"body_markdown":"I ended up using the @JsonInclude(Include.NON_NULL) and then used a conditional in the constructor to optionally set the address.","title":"@JsonInclude filtering by class&#39; attribute","body":"<p>I ended up using the @JsonInclude(Include.NON_NULL) and then used a conditional in the constructor to optionally set the address.</p>\n"}],"owner":{"account_id":10329025,"reputation":1640,"user_id":7619578,"accept_rate":67,"display_name":"Int&#39;l Man Of Coding Mystery"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72775537,"answer_count":1,"score":2,"last_activity_date":1656347806,"creation_date":1647019885,"question_id":71442485,"body_markdown":"I am working on serializing classes to XML. I&#39;ve found `@JsonInclude` to be immensely helpful. However, I am having issues on filtering a class by its attribute. In the xml, if it&#39;s a US address I need to have one set of annotations for the fields using `@JsonProperty`. Because of this, I&#39;m trying to use the `Include` annotation to only show the relevant field based on the country. \r\n\r\nThe US address needs to have `USAddress` as the wrapper element name. Foreign Addresses need to have `ForeignAddress` as the wrapper element name as well as different element names for state/zip. \r\n\r\nIs there a way to access the class and it&#39;s attributes in the filter? I&#39;ve tried using the super class for both types of addresses, but with Bazel, I run into circular dependency issues when doing that. Im super new to bazel :P \r\n\r\n```java\r\npublic class Thing {\r\n  @JsonInclude(value = Include.CUSTOM, valueFilter = CountryFilter.class)\r\n  private final USAddress usAddress = new USAddress({line1: &quot;123 MockingBird Ln&quot;, country: &quot;US&quot;});\r\n  @JsonInclude(value = Include.CUSTOM, valueFilter = CountryFilter.class)\r\n  private final ForeignAddress foreignAddress = new ForeignAddress({line1: &quot;123 MockingBird Ln&quot;, country: &quot;DE&quot;});\r\n}\r\n\r\npublic class CountryFilter {\r\n  @Override\r\n  public boolean equals(Object obj) {\r\n    return ...; // This is where I&#39;m having issues. Would like it to do something like obj.getCountry().equals(&quot;US&quot;).\r\n  }\r\n}\r\n```","title":"@JsonInclude filtering by class&#39; attribute","body":"<p>I am working on serializing classes to XML. I've found <code>@JsonInclude</code> to be immensely helpful. However, I am having issues on filtering a class by its attribute. In the xml, if it's a US address I need to have one set of annotations for the fields using <code>@JsonProperty</code>. Because of this, I'm trying to use the <code>Include</code> annotation to only show the relevant field based on the country.</p>\n<p>The US address needs to have <code>USAddress</code> as the wrapper element name. Foreign Addresses need to have <code>ForeignAddress</code> as the wrapper element name as well as different element names for state/zip.</p>\n<p>Is there a way to access the class and it's attributes in the filter? I've tried using the super class for both types of addresses, but with Bazel, I run into circular dependency issues when doing that. Im super new to bazel :P</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Thing {\n  @JsonInclude(value = Include.CUSTOM, valueFilter = CountryFilter.class)\n  private final USAddress usAddress = new USAddress({line1: &quot;123 MockingBird Ln&quot;, country: &quot;US&quot;});\n  @JsonInclude(value = Include.CUSTOM, valueFilter = CountryFilter.class)\n  private final ForeignAddress foreignAddress = new ForeignAddress({line1: &quot;123 MockingBird Ln&quot;, country: &quot;DE&quot;});\n}\n\npublic class CountryFilter {\n  @Override\n  public boolean equals(Object obj) {\n    return ...; // This is where I'm having issues. Would like it to do something like obj.getCountry().equals(&quot;US&quot;).\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","validation","option-type"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656407929,"post_id":72773784,"comment_id":128558669,"body_markdown":"Don’t waste you time by thinking whether an “optional is destroyed”, that’s not different to all the other billion objects that get “destroyed” without you ever thinking about them. Instead, think about the “Check-then-Act” antipattern and why it is a problem and whether `save` doesn’t already throw an exception when an ID doesn’t exist (or at least, should have an option to do so).","body":"Don’t waste you time by thinking whether an “optional is destroyed”, that’s not different to all the other billion objects that get “destroyed” without you ever thinking about them. Instead, think about the “Check-then-Act” antipattern and why it is a problem and whether <code>save</code> doesn’t already throw an exception when an ID doesn’t exist (or at least, should have an option to do so)."}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656347371,"creation_date":1656346963,"answer_id":72775368,"question_id":72773784,"body_markdown":"What do you mean by &#39;optional gets destroyed&#39;? \r\n\r\nYou want `CallCounselEntity entity = getCallCounselByUserId(...).orElseThrow(...)`. If the code doesn&#39;t throw, then the method continues with `entity` now being assigned a non-optional value which you can use to make the update. If the code throws, then, well, any remaining code in your method referencing `entity` will never be reached. That&#39;s the whole point. \r\n\r\nSo, to sum up, the following is perfectly valid code for your scenario: \r\n\r\n```\r\nCallCounselEntity entity = getCallCounselByUserId(...).orElseThrow(...)\r\n/* perform your update here */\r\n```\r\n\r\nAlternatively, you can use: \r\n```\r\ngetCallCounselByUserId(...).ifPresent(existingCounsel -&gt; { \r\n    /* perform your update here */ \r\n})\r\n```\r\n\r\nor \r\n```\r\ngetCallCounselByUserId(...).ifPresentOrElse(existingCounsel -&gt; { \r\n    /* perform your update here */ \r\n}, () -&gt; throw new RuntimeException(...))\r\n```\r\nif you still want to throw the exception for non-existent entities. ","title":"Wouldn&#39;t it be against the use of an optional object for validation?","body":"<p>What do you mean by 'optional gets destroyed'?</p>\n<p>You want <code>CallCounselEntity entity = getCallCounselByUserId(...).orElseThrow(...)</code>. If the code doesn't throw, then the method continues with <code>entity</code> now being assigned a non-optional value which you can use to make the update. If the code throws, then, well, any remaining code in your method referencing <code>entity</code> will never be reached. That's the whole point.</p>\n<p>So, to sum up, the following is perfectly valid code for your scenario:</p>\n<pre><code>CallCounselEntity entity = getCallCounselByUserId(...).orElseThrow(...)\n/* perform your update here */\n</code></pre>\n<p>Alternatively, you can use:</p>\n<pre><code>getCallCounselByUserId(...).ifPresent(existingCounsel -&gt; { \n    /* perform your update here */ \n})\n</code></pre>\n<p>or</p>\n<pre><code>getCallCounselByUserId(...).ifPresentOrElse(existingCounsel -&gt; { \n    /* perform your update here */ \n}, () -&gt; throw new RuntimeException(...))\n</code></pre>\n<p>if you still want to throw the exception for non-existent entities.</p>\n"}],"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"바보린"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72775368,"answer_count":1,"score":0,"last_activity_date":1656347371,"creation_date":1656340159,"question_id":72773784,"body_markdown":"I have a CRUD job.\r\n\r\nRead -&gt; Retrieves one object. Most have a value, but if an incorrect ID is entered, there may be no return value.\r\n\r\nSo we wrap it in an Optional object and return it.\r\n\r\nCreate -&gt; Let&#39;s pass.\r\n\r\nUpdate -&gt; Update the object mentioned in Read.\r\n\r\nDelete -&gt; Deletes the object mentioned in Read.\r\n\r\n\r\nHere, there is an ID that specifies the object to be updated or deleted (data row in DB).\r\n\r\nThe problem is I&#39;m not sure if an object with this id exists in the DB or not.\r\n\r\nI want to perform update or delete only when there is a value with ID in the DB.\r\n\r\nThe method I thought of at this time is to execute the first-mentioned Read method, receive an object wrapped in Optional, and pass if it is through orElseThrow().\r\n\r\nIf not, I used a method that raises a Throw exception.\r\n\r\nBut something seems wrong with this.\r\n\r\n1. Optional returned after inquiry is destroyed after only checking whether there is a value or not.\r\n\r\n2. But other than this, I can&#39;t think of a way to know if the DB really has a value.\r\n\r\n3. Wouldn&#39;t it be better to write if == null instead?\r\n\r\nBelow is the code I implemented.\r\n\r\nPlease suggest a good way.\r\n\r\n\r\n    public Optional&lt;CallCounselEntity&gt; getCallCounselByUserId(UUID userId, UUID counselId) {\r\n            return return callCounselRepository.findByUserId(userId, counselId);\r\n        }\r\n\r\n\r\n\r\n    public CallCounselEntity updateCallCounsel(CallCounselEntity callCounsel) {\r\n            **getCallCounselByUserId(callCounsel.getUserId(),callCounsel.getCounselId()).orElseThrow(() -&gt; new NoSuchElementException(&quot;No Search Data&quot;));**\r\n            callCounselRepository.save(callCounsel));\r\n    \r\n            return callCounsel;\r\n    }","title":"Wouldn&#39;t it be against the use of an optional object for validation?","body":"<p>I have a CRUD job.</p>\n<p>Read -&gt; Retrieves one object. Most have a value, but if an incorrect ID is entered, there may be no return value.</p>\n<p>So we wrap it in an Optional object and return it.</p>\n<p>Create -&gt; Let's pass.</p>\n<p>Update -&gt; Update the object mentioned in Read.</p>\n<p>Delete -&gt; Deletes the object mentioned in Read.</p>\n<p>Here, there is an ID that specifies the object to be updated or deleted (data row in DB).</p>\n<p>The problem is I'm not sure if an object with this id exists in the DB or not.</p>\n<p>I want to perform update or delete only when there is a value with ID in the DB.</p>\n<p>The method I thought of at this time is to execute the first-mentioned Read method, receive an object wrapped in Optional, and pass if it is through orElseThrow().</p>\n<p>If not, I used a method that raises a Throw exception.</p>\n<p>But something seems wrong with this.</p>\n<ol>\n<li><p>Optional returned after inquiry is destroyed after only checking whether there is a value or not.</p>\n</li>\n<li><p>But other than this, I can't think of a way to know if the DB really has a value.</p>\n</li>\n<li><p>Wouldn't it be better to write if == null instead?</p>\n</li>\n</ol>\n<p>Below is the code I implemented.</p>\n<p>Please suggest a good way.</p>\n<pre><code>public Optional&lt;CallCounselEntity&gt; getCallCounselByUserId(UUID userId, UUID counselId) {\n        return return callCounselRepository.findByUserId(userId, counselId);\n    }\n\n\n\npublic CallCounselEntity updateCallCounsel(CallCounselEntity callCounsel) {\n        **getCallCounselByUserId(callCounsel.getUserId(),callCounsel.getCounselId()).orElseThrow(() -&gt; new NoSuchElementException(&quot;No Search Data&quot;));**\n        callCounselRepository.save(callCounsel));\n\n        return callCounsel;\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656346843,"post_id":72772603,"comment_id":128544161,"body_markdown":"To fix the values going above 50, you would need to replace `.count()` with `.reduce` and implement your own aggregation functions. Also, depending on how high the value can go, you might want to use `Long` rather than `Integer`","body":"To fix the values going above 50, you would need to replace <code>.count()</code> with <code>.reduce</code> and implement your own aggregation functions. Also, depending on how high the value can go, you might want to use <code>Long</code> rather than <code>Integer</code>"},{"owner":{"account_id":4019117,"reputation":457,"user_id":3310135,"accept_rate":75,"display_name":"Abhijith Gururaj"},"score":0,"creation_date":1656351153,"post_id":72772603,"comment_id":128545749,"body_markdown":"@OneCricketeer Thanks, I will try that. We have a good cleanup and retention policy in the cluster (on both input and output topics for this builder). I know long datatype will handle the event count value but somehow it doesn&#39;t feel right to maintain the ever-increasing count value for this use-case. Also, is there anyway we can define a custom tumbling window based on the count of events occurred in the topic? The window should reset after every 50th event of a particular node(denoted by the hostname field).","body":"@OneCricketeer Thanks, I will try that. We have a good cleanup and retention policy in the cluster (on both input and output topics for this builder). I know long datatype will handle the event count value but somehow it doesn&#39;t feel right to maintain the ever-increasing count value for this use-case. Also, is there anyway we can define a custom tumbling window based on the count of events occurred in the topic? The window should reset after every 50th event of a particular node(denoted by the hostname field)."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656351929,"post_id":72772603,"comment_id":128545990,"body_markdown":"That would need to be done with session windows, but I dont think you can define a &quot;size&quot; for them. At least, not via DSL methods.","body":"That would need to be done with session windows, but I dont think you can define a &quot;size&quot; for them. At least, not via DSL methods."},{"owner":{"account_id":4019117,"reputation":457,"user_id":3310135,"accept_rate":75,"display_name":"Abhijith Gururaj"},"score":1,"creation_date":1656353012,"post_id":72772603,"comment_id":128546386,"body_markdown":"I think the following works now. \n`.groupByKey().reduce((value1, value2) -&gt; (value1 + value2) % 50L).toStream().filter((key, value) -&gt; value == 0)`\nThis should ensure the aggregate value never crosses, 50. Thanks!","body":"I think the following works now.  <code>.groupByKey().reduce((value1, value2) -&gt; (value1 + value2) % 50L).toStream().filter((key, value) -&gt; value == 0)</code> This should ensure the aggregate value never crosses, 50. Thanks!"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656353191,"post_id":72772603,"comment_id":128546446,"body_markdown":"Another solution, depending on what you need, would be to give an initializer of an arraylist, then add each value to the list in the combiner, making sure it never grows beyond 50 items. Then you can `mapValues(v -&gt; v.size())` if you wanted the size of the grouping","body":"Another solution, depending on what you need, would be to give an initializer of an arraylist, then add each value to the list in the combiner, making sure it never grows beyond 50 items. Then you can <code>mapValues(v -&gt; v.size())</code> if you wanted the size of the grouping"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1656353341,"post_id":72772603,"comment_id":128546515,"body_markdown":"Also, you shouldn&#39;t need a `flatmap` as your list only has one item. Just `map` and `return new KeyValue&lt;&gt;(hostname, 1)` or `new KeyValue&lt;&gt;(hostname, gridClusterEvent)`","body":"Also, you shouldn&#39;t need a <code>flatmap</code> as your list only has one item. Just <code>map</code> and <code>return new KeyValue&lt;&gt;(hostname, 1)</code> or <code>new KeyValue&lt;&gt;(hostname, gridClusterEvent)</code>"}],"owner":{"account_id":4019117,"reputation":457,"user_id":3310135,"accept_rate":75,"display_name":"Abhijith Gururaj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656346738,"creation_date":1656335101,"question_id":72772603,"body_markdown":"I have a topic where I receive the following events from multiple nodes:\r\n\r\n    { eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostA&quot; } \r\n    { eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostB&quot; }\r\n    { eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostC&quot; }\r\n    { eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostA&quot; }\r\n    { eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostB&quot; }\r\n    { eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostC&quot; }\r\n\r\nI want to send a special event to another for every 50 occurrences of the above event for each host. For example, For every 50th/100th/150th occurrence of the &quot;script_execution_complete&quot; event for the &quot;hostA&quot;, I want to send the following event to another topic from the streams application.\r\n\r\n    { eventName : &quot;grid_node_restart&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostA&quot; }\r\n\r\nHow do I do this in Kafka Streams? I cannot define a particular Window with a time frame as we don&#39;t know how long will it take to receive the 50th event (or 100th/150th event) for a given node. \r\n\r\nWill a simple count() aggregation work after grouping them by hostnames? Is this scalable? My attempt to solve this is following:\r\n\r\n```\r\nstreamsBuilder.stream(topic, Consumed.with(Serdes.String(), gridJobEventSerde,\r\n                new AutomationEventTimestampExtractor(), null))\r\n                .filter((key, value) -&gt;\r\n                        value.getEventName().equals(&quot;script_execution_complete&quot;))\r\n                .flatMap((key, value) -&gt; {\r\n                    String hostname = value.getPayload().getHostname();\r\n                    if(hostname != null){\r\n                        hostname = hostname.trim().replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot;\\r&quot;, &quot;&quot;);\r\n                    }\r\n                    List&lt;KeyValue&lt;String, Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n                    result.add(new KeyValue&lt;&gt;(hostname, 1));\r\n                    return result;\r\n                })\r\n                .groupByKey()\r\n                .count()\r\n                .toStream()\r\n                .filter((key, value) -&gt; value % 50 == 0)\r\n                .flatMap((hostname, value) -&gt; {\r\n                    int errorCount = Math.toIntExact(value);\r\n                    GridClusterEventPayload payload = new GridClusterEventPayload();\r\n                    payload.setHostname(hostname);\r\n                    GridClusterEvent gridClusterEvent = new GridClusterEvent();\r\n                    gridClusterEvent.setEventName(&quot;grid_node_restart&quot;);\r\n                    gridClusterEvent.setEventTime(new Date());\r\n                    gridClusterEvent.setPayload(payload);\r\n                    List&lt;KeyValue&lt;String, GridClusterEvent&gt;&gt; result = new ArrayList&lt;&gt;();\r\n                    result.add(new KeyValue&lt;&gt;(hostname, gridClusterEvent));\r\n                    return result;\r\n                })\r\n                .to(&quot;grid_cluster&quot;, Produced.with(Serdes.String(), gridClusterEventSerdes));\r\n```\r\nThe count of events will easily go very high very fast. I feel the above solution is not a scalable one as more and more events would be processed and the count would increased. \r\n\r\n\r\nI want to reset the &quot;count&quot; of these events after every 50th event. Is this possible by defining a window without specifying time frames?  Is there a better way to implement this?\r\n\r\nEDIT:\r\nEven if a time window needs to specified, How can I send the restart event when either the 50th event has occured OR when the time window is expired? In the later case, even though the 50th event has not occurred, I would like to send the restart event after a window is expired and the count should reset in the next window.","title":"Kafka Streams: Send an event for every 50 records of a particular field in a topic","body":"<p>I have a topic where I receive the following events from multiple nodes:</p>\n<pre><code>{ eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostA&quot; } \n{ eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostB&quot; }\n{ eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostC&quot; }\n{ eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostA&quot; }\n{ eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostB&quot; }\n{ eventName : &quot;script_execution_complete&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostC&quot; }\n</code></pre>\n<p>I want to send a special event to another for every 50 occurrences of the above event for each host. For example, For every 50th/100th/150th occurrence of the &quot;script_execution_complete&quot; event for the &quot;hostA&quot;, I want to send the following event to another topic from the streams application.</p>\n<pre><code>{ eventName : &quot;grid_node_restart&quot;, eventTime : &quot;&lt;time_in_iso_format&gt;&quot;, hostname : &quot;hostA&quot; }\n</code></pre>\n<p>How do I do this in Kafka Streams? I cannot define a particular Window with a time frame as we don't know how long will it take to receive the 50th event (or 100th/150th event) for a given node.</p>\n<p>Will a simple count() aggregation work after grouping them by hostnames? Is this scalable? My attempt to solve this is following:</p>\n<pre><code>streamsBuilder.stream(topic, Consumed.with(Serdes.String(), gridJobEventSerde,\n                new AutomationEventTimestampExtractor(), null))\n                .filter((key, value) -&gt;\n                        value.getEventName().equals(&quot;script_execution_complete&quot;))\n                .flatMap((key, value) -&gt; {\n                    String hostname = value.getPayload().getHostname();\n                    if(hostname != null){\n                        hostname = hostname.trim().replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot;\\r&quot;, &quot;&quot;);\n                    }\n                    List&lt;KeyValue&lt;String, Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n\n                    result.add(new KeyValue&lt;&gt;(hostname, 1));\n                    return result;\n                })\n                .groupByKey()\n                .count()\n                .toStream()\n                .filter((key, value) -&gt; value % 50 == 0)\n                .flatMap((hostname, value) -&gt; {\n                    int errorCount = Math.toIntExact(value);\n                    GridClusterEventPayload payload = new GridClusterEventPayload();\n                    payload.setHostname(hostname);\n                    GridClusterEvent gridClusterEvent = new GridClusterEvent();\n                    gridClusterEvent.setEventName(&quot;grid_node_restart&quot;);\n                    gridClusterEvent.setEventTime(new Date());\n                    gridClusterEvent.setPayload(payload);\n                    List&lt;KeyValue&lt;String, GridClusterEvent&gt;&gt; result = new ArrayList&lt;&gt;();\n                    result.add(new KeyValue&lt;&gt;(hostname, gridClusterEvent));\n                    return result;\n                })\n                .to(&quot;grid_cluster&quot;, Produced.with(Serdes.String(), gridClusterEventSerdes));\n</code></pre>\n<p>The count of events will easily go very high very fast. I feel the above solution is not a scalable one as more and more events would be processed and the count would increased.</p>\n<p>I want to reset the &quot;count&quot; of these events after every 50th event. Is this possible by defining a window without specifying time frames?  Is there a better way to implement this?</p>\n<p>EDIT:\nEven if a time window needs to specified, How can I send the restart event when either the 50th event has occured OR when the time window is expired? In the later case, even though the 50th event has not occurred, I would like to send the restart event after a window is expired and the count should reset in the next window.</p>\n"},{"tags":["java","floating-point","double"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":145,"is_accepted":true,"score":144,"last_activity_date":1548659255,"creation_date":1243435359,"answer_id":916110,"question_id":916081,"body_markdown":"It&#39;s not that you&#39;re *actually* getting extra precision - it&#39;s that the float didn&#39;t accurately represent the number you were aiming for originally. The double *is* representing the original float accurately; `toString` is showing the &quot;extra&quot; data which was already present.\r\n\r\nFor example (and these numbers aren&#39;t right, I&#39;m just making things up) suppose you had:\r\n\r\n    float f = 0.1F;\r\n    double d = f;\r\n\r\nThen the value of `f` might be exactly 0.100000234523. `d` will have exactly the same value, but when you convert it to a string it will &quot;trust&quot; that it&#39;s accurate to a higher precision, so won&#39;t round off as early, and you&#39;ll see the &quot;extra digits&quot; which were already there, but hidden from you.\r\n\r\nWhen you convert to a string and back, you&#39;re ending up with a double value which is closer to the string value than the original float was - but that&#39;s only good *if* you really believe that the string value is what you really wanted.\r\n\r\nAre you sure that float/double are the appropriate types to use here instead of `BigDecimal`? If you&#39;re trying to use numbers which have precise decimal values (e.g. money), then `BigDecimal` is a more appropriate type IMO.","title":"Convert float to double without losing precision","body":"<p>It's not that you're <em>actually</em> getting extra precision - it's that the float didn't accurately represent the number you were aiming for originally. The double <em>is</em> representing the original float accurately; <code>toString</code> is showing the \"extra\" data which was already present.</p>\n\n<p>For example (and these numbers aren't right, I'm just making things up) suppose you had:</p>\n\n<pre><code>float f = 0.1F;\ndouble d = f;\n</code></pre>\n\n<p>Then the value of <code>f</code> might be exactly 0.100000234523. <code>d</code> will have exactly the same value, but when you convert it to a string it will \"trust\" that it's accurate to a higher precision, so won't round off as early, and you'll see the \"extra digits\" which were already there, but hidden from you.</p>\n\n<p>When you convert to a string and back, you're ending up with a double value which is closer to the string value than the original float was - but that's only good <em>if</em> you really believe that the string value is what you really wanted.</p>\n\n<p>Are you sure that float/double are the appropriate types to use here instead of <code>BigDecimal</code>? If you're trying to use numbers which have precise decimal values (e.g. money), then <code>BigDecimal</code> is a more appropriate type IMO.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1471352618,"creation_date":1243435528,"answer_id":916136,"question_id":916081,"body_markdown":"Use a `BigDecimal` instead of `float`/`double`. There are a lot of numbers which can&#39;t be represented as binary floating point (for example, `0.1`). So you either must always round the result to a known precision or use `BigDecimal`.\r\n\r\nSee http://en.wikipedia.org/wiki/Floating_point for more information.","title":"Convert float to double without losing precision","body":"<p>Use a <code>BigDecimal</code> instead of <code>float</code>/<code>double</code>. There are a lot of numbers which can't be represented as binary floating point (for example, <code>0.1</code>). So you either must always round the result to a known precision or use <code>BigDecimal</code>.</p>\n\n<p>See <a href=\"http://en.wikipedia.org/wiki/Floating_point\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Floating_point</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":1771,"reputation":87476,"user_id":2424,"accept_rate":97,"display_name":"NotMe"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1243436136,"creation_date":1243436136,"answer_id":916221,"question_id":916081,"body_markdown":"Floats, by nature, are imprecise and always have neat rounding &quot;issues&quot;.  If precision is important then you might consider refactoring your application to use Decimal or BigDecimal.  \r\n\r\nYes, floats are computationally faster than decimals because of the on processor support.  However, do you want fast or accurate?\r\n\r\n","title":"Convert float to double without losing precision","body":"<p>Floats, by nature, are imprecise and always have neat rounding \"issues\".  If precision is important then you might consider refactoring your application to use Decimal or BigDecimal.  </p>\n\n<p>Yes, floats are computationally faster than decimals because of the on processor support.  However, do you want fast or accurate?</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1243436164,"creation_date":1243436164,"answer_id":916225,"question_id":916081,"body_markdown":"This is due the contract of [`Float.toString(float)`,][1] which says in part: \r\n\r\n&gt; How many digits must be printed for\r\n&gt; the fractional part [&amp;hellip;]? There\r\n&gt; must be at least one digit to\r\n&gt; represent the fractional part, and\r\n&gt; beyond that as many, **but only as many,**\r\n&gt; *more digits as are needed to uniquely\r\n&gt; distinguish the argument value from\r\n&gt; adjacent values of type float.* That\r\n&gt; is, suppose that x is the exact\r\n&gt; mathematical value represented by the\r\n&gt; decimal representation produced by\r\n&gt; this method for a finite nonzero\r\n&gt; argument f. Then f must be the float \r\n&gt; value nearest to x; or, if two float\r\n&gt; values are equally close to x, then f\r\n&gt; must be one of them and the least\r\n&gt; significant bit of the significand of\r\n&gt; f must be 0.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Float.html#toString(float)","title":"Convert float to double without losing precision","body":"<p>This is due the contract of <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Float.html#toString(float)\" rel=\"noreferrer\"><code>Float.toString(float)</code>,</a> which says in part: </p>\n\n<blockquote>\n  <p>How many digits must be printed for\n  the fractional part [&hellip;]? There\n  must be at least one digit to\n  represent the fractional part, and\n  beyond that as many, <strong>but only as many,</strong>\n  <em>more digits as are needed to uniquely\n  distinguish the argument value from\n  adjacent values of type float.</em> That\n  is, suppose that x is the exact\n  mathematical value represented by the\n  decimal representation produced by\n  this method for a finite nonzero\n  argument f. Then f must be the float \n  value nearest to x; or, if two float\n  values are equally close to x, then f\n  must be one of them and the least\n  significant bit of the significand of\n  f must be 0.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1243436743,"creation_date":1243436743,"answer_id":916287,"question_id":916081,"body_markdown":"For information this comes under Item 48 - Avoid float and double when exact values are required, of Effective Java 2nd edition by Joshua Bloch. This book is jam packed with good stuff and definitely worth a look. ","title":"Convert float to double without losing precision","body":"<p>For information this comes under Item 48 - Avoid float and double when exact values are required, of Effective Java 2nd edition by Joshua Bloch. This book is jam packed with good stuff and definitely worth a look. </p>\n"},{"tags":[],"owner":{"account_id":343306,"reputation":1239,"user_id":674927,"accept_rate":38,"display_name":"Brecht Yperman"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1460236965,"creation_date":1328604344,"answer_id":9173262,"question_id":916081,"body_markdown":"I find converting to the binary representation easier to grasp this problem.\r\n\r\n    float f = 0.27f;\r\n    double d2 = (double) f;\r\n    double d3 = 0.27d;\r\n\t\t\r\n    System.out.println(Integer.toBinaryString(Float.floatToRawIntBits(f)));\r\n    System.out.println(Long.toBinaryString(Double.doubleToRawLongBits(d2)));\r\n    System.out.println(Long.toBinaryString(Double.doubleToRawLongBits(d3)));\r\n\r\nYou can see the float is expanded to the double by adding 0s to the end, but that the double representation of 0.27 is &#39;more accurate&#39;, hence the problem.\r\n\r\n\r\n       111110100010100011110101110001\r\n    11111111010001010001111010111000100000000000000000000000000000\r\n    11111111010001010001111010111000010100011110101110000101001000\r\n","title":"Convert float to double without losing precision","body":"<p>I find converting to the binary representation easier to grasp this problem.</p>\n\n<pre><code>float f = 0.27f;\ndouble d2 = (double) f;\ndouble d3 = 0.27d;\n\nSystem.out.println(Integer.toBinaryString(Float.floatToRawIntBits(f)));\nSystem.out.println(Long.toBinaryString(Double.doubleToRawLongBits(d2)));\nSystem.out.println(Long.toBinaryString(Double.doubleToRawLongBits(d3)));\n</code></pre>\n\n<p>You can see the float is expanded to the double by adding 0s to the end, but that the double representation of 0.27 is 'more accurate', hence the problem.</p>\n\n<pre><code>   111110100010100011110101110001\n11111111010001010001111010111000100000000000000000000000000000\n11111111010001010001111010111000010100011110101110000101001000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2197558,"reputation":187,"user_id":1942845,"display_name":"Andrew"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1357129495,"creation_date":1357129495,"answer_id":14121994,"question_id":916081,"body_markdown":"I&#39;ve encountered this issue today and could not use refactor to BigDecimal, because the project is really huge. However I found solution using\r\n\r\n    Float result = new Float(5623.23)\r\n    Double doubleResult = new FloatingDecimal(result.floatValue()).doubleValue()\r\n\r\nAnd this works.\r\n\r\nNote that calling result.doubleValue() returns 5623.22998046875\r\n\r\nBut calling doubleResult.doubleValue() returns correctly 5623.23\r\n\r\nBut I am not entirely sure if its a correct solution.","title":"Convert float to double without losing precision","body":"<p>I've encountered this issue today and could not use refactor to BigDecimal, because the project is really huge. However I found solution using</p>\n\n<pre><code>Float result = new Float(5623.23)\nDouble doubleResult = new FloatingDecimal(result.floatValue()).doubleValue()\n</code></pre>\n\n<p>And this works.</p>\n\n<p>Note that calling result.doubleValue() returns 5623.22998046875</p>\n\n<p>But calling doubleResult.doubleValue() returns correctly 5623.23</p>\n\n<p>But I am not entirely sure if its a correct solution.</p>\n"},{"tags":[],"owner":{"account_id":7974674,"reputation":9,"user_id":6018246,"display_name":"AesmaDiv"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1457127084,"creation_date":1457093895,"answer_id":35795894,"question_id":916081,"body_markdown":"Does this work?\r\n\r\n    float flt = 145.664454;\r\n\r\n    Double dbl = 0.0;\r\n    dbl += flt;\r\n\r\n","title":"Convert float to double without losing precision","body":"<p>Does this work?</p>\n\n<pre><code>float flt = 145.664454;\n\nDouble dbl = 0.0;\ndbl += flt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1793578,"reputation":178,"user_id":1633493,"display_name":"GSD.Aaz"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1485361259,"creation_date":1485361259,"answer_id":41856558,"question_id":916081,"body_markdown":"I found the following solution:\r\n\r\n\tpublic static Double getFloatAsDouble(Float fValue) {\r\n\t\treturn Double.valueOf(fValue.toString());\r\n\t}\r\n\r\nIf you use *float* and *double* instead of *Float* and *Double* use the following:\r\n\r\n\tpublic static double getFloatAsDouble(float value) {\r\n\t\treturn Double.valueOf(Float.valueOf(value).toString()).doubleValue();\r\n\t}\r\n","title":"Convert float to double without losing precision","body":"<p>I found the following solution:</p>\n\n<pre><code>public static Double getFloatAsDouble(Float fValue) {\n    return Double.valueOf(fValue.toString());\n}\n</code></pre>\n\n<p>If you use <em>float</em> and <em>double</em> instead of <em>Float</em> and <em>Double</em> use the following:</p>\n\n<pre><code>public static double getFloatAsDouble(float value) {\n    return Double.valueOf(Float.valueOf(value).toString()).doubleValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3119418,"reputation":4685,"user_id":2639515,"accept_rate":45,"display_name":"Alessandro Roaro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590169931,"creation_date":1590072904,"answer_id":61937328,"question_id":916081,"body_markdown":"A simple solution that works well, is to parse the double from the string representation of the float:\r\n\r\n    double val = Double.valueOf(String.valueOf(yourFloat));\r\n\r\nNot super efficient, but it works!","title":"Convert float to double without losing precision","body":"<p>A simple solution that works well, is to parse the double from the string representation of the float:</p>\n\n<pre><code>double val = Double.valueOf(String.valueOf(yourFloat));\n</code></pre>\n\n<p>Not super efficient, but it works!</p>\n"},{"tags":[],"owner":{"account_id":25662310,"reputation":1,"user_id":19427903,"display_name":"clog02"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1656346727,"creation_date":1656346727,"answer_id":72775312,"question_id":916081,"body_markdown":"There is a way to convert Float value into Double without adding the extra precision \r\n\r\n    Float aFloat= new Float(0.11);\r\n    String s = aFloat.toString();\r\n    Double aDouble = Double.parseDouble(s);\r\n\r\nThis Approach will not add an extra precisions to your Float value while converting. The only Problem with this approach is memory usage of the JVM by creating an extra tamp String object.\r\n\r\nWhen calling an toString() (aDouble.toString()) on Double will never add an extra precisions. The precisions will be added while type conversion.\r\n","title":"Convert float to double without losing precision","body":"<p>There is a way to convert Float value into Double without adding the extra precision</p>\n<pre><code>Float aFloat= new Float(0.11);\nString s = aFloat.toString();\nDouble aDouble = Double.parseDouble(s);\n</code></pre>\n<p>This Approach will not add an extra precisions to your Float value while converting. The only Problem with this approach is memory usage of the JVM by creating an extra tamp String object.</p>\n<p>When calling an toString() (aDouble.toString()) on Double will never add an extra precisions. The precisions will be added while type conversion.</p>\n"}],"owner":{"account_id":13853,"reputation":5322,"user_id":28038,"accept_rate":86,"display_name":"Steve Armstrong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300196,"favorite_count":0,"down_vote_count":0,"up_vote_count":125,"accepted_answer_id":916110,"answer_count":11,"score":125,"last_activity_date":1656346727,"creation_date":1243435156,"question_id":916081,"body_markdown":"I have a primitive float and I need as a primitive double. Simply casting the float to double gives me weird extra precision. For example:\r\n\r\n    float temp = 14009.35F;\r\n    System.out.println(Float.toString(temp)); // Prints 14009.35\r\n    System.out.println(Double.toString((double)temp)); // Prints 14009.349609375\r\n\r\nHowever, if instead of casting, I output the float as a string, and parse the string as a double, I get what I want:\r\n\r\n    System.out.println(Double.toString(Double.parseDouble(Float.toString(temp))));\r\n    // Prints 14009.35\r\n\r\nIs there a better way than to go to String and back?","title":"Convert float to double without losing precision","body":"<p>I have a primitive float and I need as a primitive double. Simply casting the float to double gives me weird extra precision. For example:</p>\n\n<pre><code>float temp = 14009.35F;\nSystem.out.println(Float.toString(temp)); // Prints 14009.35\nSystem.out.println(Double.toString((double)temp)); // Prints 14009.349609375\n</code></pre>\n\n<p>However, if instead of casting, I output the float as a string, and parse the string as a double, I get what I want:</p>\n\n<pre><code>System.out.println(Double.toString(Double.parseDouble(Float.toString(temp))));\n// Prints 14009.35\n</code></pre>\n\n<p>Is there a better way than to go to String and back?</p>\n"},{"tags":["java","angular","selenium","testing","primeng"],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656346633,"creation_date":1618846847,"answer_id":67165126,"question_id":67164392,"body_markdown":"Interesting problem.\r\n\r\nWell you have the handle object:\r\n\r\ndiv[class*=&#39;p-colorpicker-hue-handle&#39;]\r\n\r\nYou can try to drag it via Selenium up or down\r\n\r\nFor selecting colors you can find the &quot;main&quot; color picker and click not on the center of it, but by giving it offset:\r\n\r\n    String cssExpression = &quot;div[class=&#39;ng-trigger-overlayAnimation&#39;]\r\n    [class=&#39;p-colorpicker-panel&#39;]&quot;;\r\n    WebElement element = browser.findElement(By.\r\n    cssSelector(cssExpression));\r\n    Actions builder = new Actions(browser);\r\n    Action action = builder.moveToElement\r\n    (element, -20, -20).click().build();\r\n    action.perform();\r\n\r\nYou can play with the values and move in the X -50, and in Y -70 for example.\r\n\r\n\r\n","title":"How to interact with Angular ColorPicker components using Selenium WebDriver?","body":"<p>Interesting problem.</p>\n<p>Well you have the handle object:</p>\n<p>div[class*='p-colorpicker-hue-handle']</p>\n<p>You can try to drag it via Selenium up or down</p>\n<p>For selecting colors you can find the &quot;main&quot; color picker and click not on the center of it, but by giving it offset:</p>\n<pre><code>String cssExpression = &quot;div[class='ng-trigger-overlayAnimation']\n[class='p-colorpicker-panel']&quot;;\nWebElement element = browser.findElement(By.\ncssSelector(cssExpression));\nActions builder = new Actions(browser);\nAction action = builder.moveToElement\n(element, -20, -20).click().build();\naction.perform();\n</code></pre>\n<p>You can play with the values and move in the X -50, and in Y -70 for example.</p>\n"}],"owner":{"account_id":8818483,"reputation":64,"user_id":6589144,"display_name":"ZakaRia Janah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67165126,"answer_count":1,"score":0,"last_activity_date":1656346633,"creation_date":1618844220,"question_id":67164392,"body_markdown":"How to interact with Angular ColorPicker components using Selenium WebDriver? There&#39;s no text field input for hex codes, and it&#39;s operated purely by mouse clicks. An example of it can be seen here: &lt;https://www.primefaces.org/primeng/showcase/#/colorpicker&gt;","title":"How to interact with Angular ColorPicker components using Selenium WebDriver?","body":"<p>How to interact with Angular ColorPicker components using Selenium WebDriver? There's no text field input for hex codes, and it's operated purely by mouse clicks. An example of it can be seen here: <a href=\"https://www.primefaces.org/primeng/showcase/#/colorpicker\" rel=\"nofollow noreferrer\">https://www.primefaces.org/primeng/showcase/#/colorpicker</a></p>\n"},{"tags":["java","jersey","jax-rs","embedded-jetty","jetty-9"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1595857043,"post_id":63115860,"comment_id":111611004,"body_markdown":"Your code works fine, it can handle requests (using persistent connections or not) in the millions.   Note: there&#39;s plenty of stuff in your code that does nothing, and other things you are using that actually undoes security settings.   But nothing about it is causing only 2000 requests like you are describing.","body":"Your code works fine, it can handle requests (using persistent connections or not) in the millions.   Note: there&#39;s plenty of stuff in your code that does nothing, and other things you are using that actually undoes security settings.   But nothing about it is causing only 2000 requests like you are describing."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1595857321,"post_id":63115860,"comment_id":111611163,"body_markdown":"Because of your `/*` url-pattern on jersey, that means that Jersey is responsible for serving *ALL* content that you request, nothing from DefaultServlet or ResourceHandler.   This url-pattern is really not helping you diagnose things on the Jetty side, as it has very little to do.  You can prove this out by moving the jersey url-pattern to something like `/api/*` and when you hit the limit you experience, request something from jetty like `/index.html`, if you get a response, Jetty is healthy.","body":"Because of your <code>&#47;*</code> url-pattern on jersey, that means that Jersey is responsible for serving <i>ALL</i> content that you request, nothing from DefaultServlet or ResourceHandler.   This url-pattern is really not helping you diagnose things on the Jetty side, as it has very little to do.  You can prove this out by moving the jersey url-pattern to something like <code>&#47;api&#47;*</code> and when you hit the limit you experience, request something from jetty like <code>&#47;index.html</code>, if you get a response, Jetty is healthy."}],"owner":{"account_id":16053809,"reputation":111,"user_id":11586886,"display_name":"Mohammadsadegh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656346281,"creation_date":1595854766,"question_id":63115860,"body_markdown":"I&#39;m developing an embedded jetty server with REST compatibility with JAX-RS library.\r\nBut weirdly server stops responding after 1800 to 2000 requests without any error code or throwing an exception.\r\nThe data transferring is a bunch of protobuff MapBox vector tiles. Although with passing even empty data to the client the problem exists and I&#39;m almost confident that the problem isn&#39;t because of database connection pooling.\r\nJetty version is 9.4.30.v20200611 and the code to start the server is as follows:\r\n```\r\npackage org.maps.server;\r\n\r\nimport org.eclipse.jetty.server.*;\r\nimport org.eclipse.jetty.server.handler.DefaultHandler;\r\nimport org.eclipse.jetty.server.handler.HandlerList;\r\nimport org.eclipse.jetty.server.handler.ResourceHandler;\r\nimport org.eclipse.jetty.servlet.DefaultServlet;\r\nimport org.eclipse.jetty.servlet.FilterHolder;\r\nimport org.eclipse.jetty.servlet.ServletContextHandler;\r\nimport org.eclipse.jetty.servlet.ServletHolder;\r\nimport org.eclipse.jetty.servlets.CrossOriginFilter;\r\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\r\nimport org.eclipse.jetty.util.thread.QueuedThreadPool;\r\nimport org.glassfish.jersey.servlet.ServletContainer;\r\nimport org.maps.server.rest.MBTiles;\r\nimport org.maps.server.rest.MapLayers;\r\n\r\n\r\nimport javax.servlet.DispatcherType;\r\nimport java.util.EnumSet;\r\nimport java.util.Objects;\r\n\r\n\r\npublic class JettyServerApp {\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        ServletContextHandler contextHandler = new ServletContextHandler(ServletContextHandler.NO_SESSIONS | ServletContextHandler.NO_SECURITY);\r\n        contextHandler.setContextPath(&quot;/&quot;);\r\n\r\n        //Enable CORS\r\n        FilterHolder cors = contextHandler.addFilter(CrossOriginFilter.class, &quot;/*&quot;, EnumSet.of(DispatcherType.REQUEST));\r\n        cors.setInitParameter(CrossOriginFilter.ALLOWED_ORIGINS_PARAM, &quot;*&quot;);\r\n        cors.setInitParameter(CrossOriginFilter.ACCESS_CONTROL_ALLOW_ORIGIN_HEADER, &quot;*&quot;);\r\n        cors.setInitParameter(CrossOriginFilter.ALLOWED_METHODS_PARAM, &quot;GET,POST,HEAD&quot;);\r\n        cors.setInitParameter(CrossOriginFilter.ALLOWED_HEADERS_PARAM, &quot;X-Requested-With,Content-Type,Accept,Origin&quot;);\r\n\r\n//      Welcome files\r\n        ServletHolder def = new ServletHolder(&quot;default&quot;, DefaultServlet.class);\r\n        def.setInitParameter(&quot;resourceBase&quot;, &quot;./http/&quot;);\r\n        def.setInitParameter(&quot;dirAllowed&quot;, &quot;false&quot;);\r\n        contextHandler.addServlet(def, &quot;/&quot;);\r\n        contextHandler.setWelcomeFiles(new String[]{&quot;index.html&quot;});\r\n\r\n        ResourceHandler resourceHandler = new ResourceHandler();\r\n        resourceHandler.setDirectoriesListed(true);\r\n        resourceHandler.setWelcomeFiles(new String[]{&quot;index.html&quot;});\r\n\r\n        HandlerList handlers = new HandlerList();\r\n        handlers.setHandlers(new Handler[]{contextHandler, new DefaultHandler()});\r\n\r\n        // initializing thread pool\r\n        QueuedThreadPool threadPool = new QueuedThreadPool();\r\n        threadPool.setMinThreads(10);\r\n        threadPool.setMaxThreads(1000);\r\n        threadPool.setIdleTimeout(120);\r\n\r\n        Server jettyServer = new Server(threadPool);\r\n        jettyServer.setHandler(handlers);\r\n\r\n        ServerConnector http = new ServerConnector(jettyServer);\r\n        http.setPort(9003);\r\n        jettyServer.addConnector(http);\r\n\r\n        // Enabling SSL in Embedded Jetty\r\n        HttpConfiguration httpConfig = new HttpConfiguration();\r\n        httpConfig.setSecureScheme(&quot;https&quot;);\r\n        httpConfig.setSecurePort(Integer.parseInt(Objects.requireNonNull(PropertyValues.getProperty(&quot;port&quot;))));\r\n\r\n        HttpConfiguration httpsConfig = new HttpConfiguration(httpConfig);\r\n        httpsConfig.addCustomizer(new SecureRequestCustomizer());\r\n\r\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\r\n        sslContextFactory.setExcludeCipherSuites(&quot;^.*_(MD5|SHA|SHA1)$&quot;);\r\n\r\n        ServletHolder jerseyServlet = contextHandler.addServlet(\r\n                ServletContainer.class, &quot;/*&quot;);\r\n\r\n        jerseyServlet.setInitParameter(\r\n                &quot;jersey.config.server.provider.classnames&quot;,\r\n                MBTiles.class.getCanonicalName() +\r\n                        &quot;,&quot; + MainPage.class.getCanonicalName() +\r\n                        &quot;,&quot; + MapLayers.class.getCanonicalName());\r\n\r\n\r\n        try {\r\n            jettyServer.start();\r\n            jettyServer.join();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            jettyServer.stop();\r\n            jettyServer.destroy();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Jetty server 9.4.30 stops responding after a specific number of requests","body":"<p>I'm developing an embedded jetty server with REST compatibility with JAX-RS library.\nBut weirdly server stops responding after 1800 to 2000 requests without any error code or throwing an exception.\nThe data transferring is a bunch of protobuff MapBox vector tiles. Although with passing even empty data to the client the problem exists and I'm almost confident that the problem isn't because of database connection pooling.\nJetty version is 9.4.30.v20200611 and the code to start the server is as follows:</p>\n<pre><code>package org.maps.server;\n\nimport org.eclipse.jetty.server.*;\nimport org.eclipse.jetty.server.handler.DefaultHandler;\nimport org.eclipse.jetty.server.handler.HandlerList;\nimport org.eclipse.jetty.server.handler.ResourceHandler;\nimport org.eclipse.jetty.servlet.DefaultServlet;\nimport org.eclipse.jetty.servlet.FilterHolder;\nimport org.eclipse.jetty.servlet.ServletContextHandler;\nimport org.eclipse.jetty.servlet.ServletHolder;\nimport org.eclipse.jetty.servlets.CrossOriginFilter;\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\nimport org.eclipse.jetty.util.thread.QueuedThreadPool;\nimport org.glassfish.jersey.servlet.ServletContainer;\nimport org.maps.server.rest.MBTiles;\nimport org.maps.server.rest.MapLayers;\n\n\nimport javax.servlet.DispatcherType;\nimport java.util.EnumSet;\nimport java.util.Objects;\n\n\npublic class JettyServerApp {\n    public static void main(String[] args) throws Exception {\n\n        ServletContextHandler contextHandler = new ServletContextHandler(ServletContextHandler.NO_SESSIONS | ServletContextHandler.NO_SECURITY);\n        contextHandler.setContextPath(&quot;/&quot;);\n\n        //Enable CORS\n        FilterHolder cors = contextHandler.addFilter(CrossOriginFilter.class, &quot;/*&quot;, EnumSet.of(DispatcherType.REQUEST));\n        cors.setInitParameter(CrossOriginFilter.ALLOWED_ORIGINS_PARAM, &quot;*&quot;);\n        cors.setInitParameter(CrossOriginFilter.ACCESS_CONTROL_ALLOW_ORIGIN_HEADER, &quot;*&quot;);\n        cors.setInitParameter(CrossOriginFilter.ALLOWED_METHODS_PARAM, &quot;GET,POST,HEAD&quot;);\n        cors.setInitParameter(CrossOriginFilter.ALLOWED_HEADERS_PARAM, &quot;X-Requested-With,Content-Type,Accept,Origin&quot;);\n\n//      Welcome files\n        ServletHolder def = new ServletHolder(&quot;default&quot;, DefaultServlet.class);\n        def.setInitParameter(&quot;resourceBase&quot;, &quot;./http/&quot;);\n        def.setInitParameter(&quot;dirAllowed&quot;, &quot;false&quot;);\n        contextHandler.addServlet(def, &quot;/&quot;);\n        contextHandler.setWelcomeFiles(new String[]{&quot;index.html&quot;});\n\n        ResourceHandler resourceHandler = new ResourceHandler();\n        resourceHandler.setDirectoriesListed(true);\n        resourceHandler.setWelcomeFiles(new String[]{&quot;index.html&quot;});\n\n        HandlerList handlers = new HandlerList();\n        handlers.setHandlers(new Handler[]{contextHandler, new DefaultHandler()});\n\n        // initializing thread pool\n        QueuedThreadPool threadPool = new QueuedThreadPool();\n        threadPool.setMinThreads(10);\n        threadPool.setMaxThreads(1000);\n        threadPool.setIdleTimeout(120);\n\n        Server jettyServer = new Server(threadPool);\n        jettyServer.setHandler(handlers);\n\n        ServerConnector http = new ServerConnector(jettyServer);\n        http.setPort(9003);\n        jettyServer.addConnector(http);\n\n        // Enabling SSL in Embedded Jetty\n        HttpConfiguration httpConfig = new HttpConfiguration();\n        httpConfig.setSecureScheme(&quot;https&quot;);\n        httpConfig.setSecurePort(Integer.parseInt(Objects.requireNonNull(PropertyValues.getProperty(&quot;port&quot;))));\n\n        HttpConfiguration httpsConfig = new HttpConfiguration(httpConfig);\n        httpsConfig.addCustomizer(new SecureRequestCustomizer());\n\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\n        sslContextFactory.setExcludeCipherSuites(&quot;^.*_(MD5|SHA|SHA1)$&quot;);\n\n        ServletHolder jerseyServlet = contextHandler.addServlet(\n                ServletContainer.class, &quot;/*&quot;);\n\n        jerseyServlet.setInitParameter(\n                &quot;jersey.config.server.provider.classnames&quot;,\n                MBTiles.class.getCanonicalName() +\n                        &quot;,&quot; + MainPage.class.getCanonicalName() +\n                        &quot;,&quot; + MapLayers.class.getCanonicalName());\n\n\n        try {\n            jettyServer.start();\n            jettyServer.join();\n        } catch (Exception e) {\n            e.printStackTrace();\n            jettyServer.stop();\n            jettyServer.destroy();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","locking","jdbctemplate"],"comments":[{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":0,"creation_date":1656346648,"post_id":72774900,"comment_id":128544083,"body_markdown":"Not sure what is blocking you from using annotations on repository level, but you can handle locking programmatically on entityManager api. Compare i.e. https://dzone.com/articles/concurrency-and-locking-with-jpa-everything-you-ne","body":"Not sure what is blocking you from using annotations on repository level, but you can handle locking programmatically on entityManager api. Compare i.e. <a href=\"https://dzone.com/articles/concurrency-and-locking-with-jpa-everything-you-ne\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>"},{"owner":{"account_id":5876779,"reputation":1572,"user_id":4627382,"accept_rate":27,"display_name":"sparsh610"},"score":0,"creation_date":1656347065,"post_id":72774900,"comment_id":128544242,"body_markdown":"@MatthiasWiedemann Hi thanks for reply. I am exchanging lots of data from one table to other using exchange command for that I am Disable and enable constraint At service level. Not sure how to do the same while doing a repository level","body":"@MatthiasWiedemann Hi thanks for reply. I am exchanging lots of data from one table to other using exchange command for that I am Disable and enable constraint At service level. Not sure how to do the same while doing a repository level"},{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":0,"creation_date":1656361085,"post_id":72774900,"comment_id":128548850,"body_markdown":"Ok locking the whole table seems not supported by jpa. See solution with lockEntity suggested in https://stackoverflow.com/a/32348554/2290153","body":"Ok locking the whole table seems not supported by jpa. See solution with lockEntity suggested in <a href=\"https://stackoverflow.com/a/32348554/2290153\">stackoverflow.com/a/32348554/2290153</a>"},{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":0,"creation_date":1656361414,"post_id":72774900,"comment_id":128548945,"body_markdown":"Another locking implementation technique other than jpa could be hazelcast https://docs.hazelcast.com/imdg/4.2/data-structures/fencedlock","body":"Another locking implementation technique other than jpa could be hazelcast <a href=\"https://docs.hazelcast.com/imdg/4.2/data-structures/fencedlock\" rel=\"nofollow noreferrer\">docs.hazelcast.com/imdg/4.2/data-structures/fencedlock</a>"}],"owner":{"account_id":5876779,"reputation":1572,"user_id":4627382,"accept_rate":27,"display_name":"sparsh610"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656346266,"creation_date":1656344927,"question_id":72774900,"body_markdown":"In my project I am using springboot and JPA.\r\n\r\nIn my project I have a table T, which can be updated from two methods A and B. A &amp; B are implemented in service layer So I cannot use lock annotation as we can use lock annotation only on repository level.\r\n\r\nA() { \r\n\r\nUpdating table T\r\n\r\n}\r\n\r\nB() {\r\nUpdating table T\r\n\r\n}\r\n\r\nMethod A and B are called from two different API. I need to acquire lock on table T while my method B is executing and if in meantime someone calls method A then he should wait until method B complete.\r\n\r\nI also have JDBCtemplate instance In my project, in case if we can achieve locking by JDBC.\r\n\r\nIn my method B I am disabling and enabling my constraint So I want to acquire lock on table so there will be no chance of duplicate records.\r\n\r\nPlease help","title":"JPA : How to acquire lock on table without lock annotation in repository","body":"<p>In my project I am using springboot and JPA.</p>\n<p>In my project I have a table T, which can be updated from two methods A and B. A &amp; B are implemented in service layer So I cannot use lock annotation as we can use lock annotation only on repository level.</p>\n<p>A() {</p>\n<p>Updating table T</p>\n<p>}</p>\n<p>B() {\nUpdating table T</p>\n<p>}</p>\n<p>Method A and B are called from two different API. I need to acquire lock on table T while my method B is executing and if in meantime someone calls method A then he should wait until method B complete.</p>\n<p>I also have JDBCtemplate instance In my project, in case if we can achieve locking by JDBC.</p>\n<p>In my method B I am disabling and enabling my constraint So I want to acquire lock on table so there will be no chance of duplicate records.</p>\n<p>Please help</p>\n"},{"tags":["java","spring-boot","mockito","apache-httpcomponents"],"answers":[{"tags":[],"owner":{"account_id":11856842,"reputation":46,"user_id":8676641,"display_name":"Roberto Foglia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655407548,"creation_date":1655407548,"answer_id":72650957,"question_id":72649574,"body_markdown":"The created mocks aren&#39;t used in the ProductService because they aren&#39;t passed in the construct. The class dependencies should be injected through the construct because they are mandatory.\r\n\r\nIt would help if you changed the implementation like the following. The code is incomplete.\r\n\r\n```java\r\npublic class ProductService {\r\n\r\n    private final VaultConfig vaultConfig;\r\n    private final AppConfig appConfig;\r\n    private final CloseableHttpClient client;\r\n\r\n    public ProductService(VaultConfig vaultConfig,\r\n                          @Autowired AppConfig appConfig, CloseableHttpClient client) {\r\n            this.vaultConfig = vaultConfig;\r\n            this.appConfig = appConfig;\r\n    }\r\n\r\n    private void createAccessToken() {\r\n        String httpUrl = MessageFormat.format(&quot;{0}/api/v1/authentication/login&quot;,\r\n            appConfig.getProductServerUrl());\r\n        HttpPost httpPost = new HttpPost(httpUrl);\r\n        List&lt;NameValuePair&gt; httpParams = new ArrayList&lt;NameValuePair&gt;();\r\n        httpParams.add(new BasicNameValuePair(&quot;username&quot;, this.vaultConfig.getProductAdminUsername()));\r\n        httpParams.add(new BasicNameValuePair(&quot;password&quot;, this.vaultConfig.getProductAdminPassword()));\r\n\r\n        try {\r\n            httpPost.setEntity(new UrlEncodedFormEntity(httpParams));\r\n            CloseableHttpResponse closeableHttpResponse = client.execute(httpPost);\r\n            HttpEntity entity = closeableHttpResponse.getEntity();\r\n            String tokenDataJson = EntityUtils.toString(entity, &quot;UTF-8&quot;);\r\n            String newAccessToken = new Gson().fromJson(tokenDataJson, Map.class).get(&quot;access_token&quot;).toString();\r\n            this.vaultConfig.setProductAccessToken(newAccessToken);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Unable to create access token: &quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n```java\r\n\r\npublic class ProductServiceTest {\r\n\r\n    @InjectMocks\r\n    private ProductService productService;\r\n    @Mock\r\n    CloseableHttpClient closeableHttpClient;\r\n    @Mock\r\n    private VaultConfig vaultConfig;\r\n    @Mock\r\n    private AppConfig appConfig;\r\n    @Mock\r\n    CloseableHttpResponse closeableHttpResponse;\r\n    @Mock\r\n    HttpEntity entity\r\n\r\n    @BeforeEach\r\n    public void initialize() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n\r\n   void getAccessTokenWhenEmpty() throws IOException {\r\n        //given\r\n        String expectedProductAccessToken = &quot;ABC&quot;;\r\n\r\n        //and:\r\n        given(appConfig.getProductServerUrl()).willReturn(&quot;https://test.abcd.com&quot;);\r\n        given(closeableHttpClient.execute(httpPost)).willReturn(closeableHttpResponse);\r\n        given(vaultConfig.getProductAccessToken()).willReturn(&quot;&quot;);\r\n\r\n        // my additional code\r\n        given(closeableHttpResponse.getEntity()).willReturn(entity);\r\n        given(entity.....).willReturn(....)   // mock the entity for the EntityUtils.toString(entity, &quot;UTF-8&quot;);\r\n\r\n        //when\r\n        String actualProductAccessToken = ProductService.getAccessToken();\r\n\r\n        //then\r\n        Assertions.assertEquals(actualProductAccessToken,expectedProductAccessToken);\r\n    }\r\n```\r\n ","title":"Mocking Apache Post HTTPClient using Mockito","body":"<p>The created mocks aren't used in the ProductService because they aren't passed in the construct. The class dependencies should be injected through the construct because they are mandatory.</p>\n<p>It would help if you changed the implementation like the following. The code is incomplete.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProductService {\n\n    private final VaultConfig vaultConfig;\n    private final AppConfig appConfig;\n    private final CloseableHttpClient client;\n\n    public ProductService(VaultConfig vaultConfig,\n                          @Autowired AppConfig appConfig, CloseableHttpClient client) {\n            this.vaultConfig = vaultConfig;\n            this.appConfig = appConfig;\n    }\n\n    private void createAccessToken() {\n        String httpUrl = MessageFormat.format(&quot;{0}/api/v1/authentication/login&quot;,\n            appConfig.getProductServerUrl());\n        HttpPost httpPost = new HttpPost(httpUrl);\n        List&lt;NameValuePair&gt; httpParams = new ArrayList&lt;NameValuePair&gt;();\n        httpParams.add(new BasicNameValuePair(&quot;username&quot;, this.vaultConfig.getProductAdminUsername()));\n        httpParams.add(new BasicNameValuePair(&quot;password&quot;, this.vaultConfig.getProductAdminPassword()));\n\n        try {\n            httpPost.setEntity(new UrlEncodedFormEntity(httpParams));\n            CloseableHttpResponse closeableHttpResponse = client.execute(httpPost);\n            HttpEntity entity = closeableHttpResponse.getEntity();\n            String tokenDataJson = EntityUtils.toString(entity, &quot;UTF-8&quot;);\n            String newAccessToken = new Gson().fromJson(tokenDataJson, Map.class).get(&quot;access_token&quot;).toString();\n            this.vaultConfig.setProductAccessToken(newAccessToken);\n        } catch (Exception e) {\n            logger.error(&quot;Unable to create access token: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ProductServiceTest {\n\n    @InjectMocks\n    private ProductService productService;\n    @Mock\n    CloseableHttpClient closeableHttpClient;\n    @Mock\n    private VaultConfig vaultConfig;\n    @Mock\n    private AppConfig appConfig;\n    @Mock\n    CloseableHttpResponse closeableHttpResponse;\n    @Mock\n    HttpEntity entity\n\n    @BeforeEach\n    public void initialize() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n\n   void getAccessTokenWhenEmpty() throws IOException {\n        //given\n        String expectedProductAccessToken = &quot;ABC&quot;;\n\n        //and:\n        given(appConfig.getProductServerUrl()).willReturn(&quot;https://test.abcd.com&quot;);\n        given(closeableHttpClient.execute(httpPost)).willReturn(closeableHttpResponse);\n        given(vaultConfig.getProductAccessToken()).willReturn(&quot;&quot;);\n\n        // my additional code\n        given(closeableHttpResponse.getEntity()).willReturn(entity);\n        given(entity.....).willReturn(....)   // mock the entity for the EntityUtils.toString(entity, &quot;UTF-8&quot;);\n\n        //when\n        String actualProductAccessToken = ProductService.getAccessToken();\n\n        //then\n        Assertions.assertEquals(actualProductAccessToken,expectedProductAccessToken);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656023147,"creation_date":1656023147,"answer_id":72737203,"question_id":72649574,"body_markdown":"In case you do not want to change the implementation, and do not want to add the constructor or additional method for creation `CloseableHttpClient`. \r\n&lt;br&gt;You need to mock static method `HttpClients.createDefault()`!\r\n\r\n**Solution 1: [mock static method via Mockito][1]**\r\n&lt;br&gt;Mockito since 3.4.0 version support mocking static methods.\r\n```java\r\n        try (MockedStatic mocked = mockStatic(Foo.class)) {\r\n            mocked.when(Foo::method).thenReturn(&quot;bar&quot;);\r\n            assertEquals(&quot;bar&quot;, Foo.method());\r\n            mocked.verify(Foo::method);\r\n        }\r\n```\r\nFirst of all you need to add [mockito-inline][2] to your project\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    &lt;version&gt;4.6.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nImplementation:\r\n```java\r\npublic class ProductServiceTest {\r\n\r\n    private ProductService productService;\r\n\r\n    MockedStatic&lt;HttpClients&gt; httpClientsStaticMock;\r\n\r\n    @Mock\r\n    CloseableHttpClient closeableHttpClient;\r\n    @Mock\r\n    HttpPost httpPost;\r\n    @Mock\r\n    CloseableHttpResponse closeableHttpResponse;\r\n    @Mock\r\n    private VaultConfig vaultConfig;\r\n    @Mock\r\n    private AppConfig appConfig;\r\n\r\n    @BeforeEach\r\n    public void initialize() {\r\n        MockitoAnnotations.openMocks(this);\r\n        productService = new ProductService(vaultConfig, appConfig);\r\n        //create static Mock\r\n        httpClientsStaticMock = mockStatic(HttpClients.class);\r\n        //when HttpClients.createDefault() called return mock of CloseableHttpClient\r\n        httpClientsStaticMock.when(HttpClients::createDefault).thenReturn(closeableHttpClient);\r\n    }\r\n\r\n    void getAccessTokenWhenEmpty() throws IOException {\r\n        //given\r\n        String expectedProductAccessToken = &quot;ABC&quot;;\r\n\r\n        //and:\r\n        given(appConfig.getProductServerUrl()).willReturn(&quot;https://test.abcd.com&quot;);\r\n        given(closeableHttpClient.execute(httpPost)).willReturn(closeableHttpResponse);\r\n        given(vaultConfig.getProductAccessToken()).willReturn(&quot;&quot;);\r\n\r\n        //when\r\n        String actualProductAccessToken = ProductService.getAccessToken();\r\n\r\n        //then\r\n        Assertions.assertEquals(actualProductAccessToken, expectedProductAccessToken);\r\n    }\r\n\r\n    @AfterEach\r\n    public void afterTest() {\r\n        //close static Mock\r\n        httpClientsStaticMock.close();\r\n    }\r\n}\r\n```\r\n**Solution 2: [mock static methods via PowerMock][3]**\r\n&lt;br&gt;Dependencies:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nImplementation:\r\n```java\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({ ProductService.class, HttpClients.class})\r\npublic class ProductServiceTest {\r\n\r\n    private ProductService productService;\r\n\r\n    @Mock\r\n    CloseableHttpClient closeableHttpClient;\r\n    @Mock\r\n    HttpPost httpPost;\r\n    @Mock\r\n    CloseableHttpResponse closeableHttpResponse;\r\n    @Mock\r\n    private VaultConfig vaultConfig;\r\n    @Mock\r\n    private AppConfig appConfig;\r\n\r\n    @BeforeEach\r\n    public void initialize() {\r\n        MockitoAnnotations.openMocks(this);\r\n        productService = new ProductService(vaultConfig, appConfig);\r\n        //create static Mock\r\n        PowerMockito.mockStatic(HttpClients.class);\r\n        //when HttpClients.createDefault() called return mock of CloseableHttpClient\r\n        when(HttpClients.createDefault()).thenReturn(closeableHttpClient);\r\n    }\r\n\r\n    void getAccessTokenWhenEmpty() throws IOException {\r\n        //given\r\n        String expectedProductAccessToken = &quot;ABC&quot;;\r\n\r\n        //and:\r\n        given(appConfig.getProductServerUrl()).willReturn(&quot;https://test.abcd.com&quot;);\r\n        given(closeableHttpClient.execute(httpPost)).willReturn(closeableHttpResponse);\r\n        given(vaultConfig.getProductAccessToken()).willReturn(&quot;&quot;);\r\n\r\n        //when\r\n        String actualProductAccessToken = ProductService.getAccessToken();\r\n\r\n        //then\r\n        Assertions.assertEquals(actualProductAccessToken, expectedProductAccessToken);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\r\n  [2]: https://mvnrepository.com/artifact/org.mockito/mockito-inline/4.6.1\r\n  [3]: https://github.com/powermock/powermock/wiki/MockStatic","title":"Mocking Apache Post HTTPClient using Mockito","body":"<p>In case you do not want to change the implementation, and do not want to add the constructor or additional method for creation <code>CloseableHttpClient</code>.\n<br>You need to mock static method <code>HttpClients.createDefault()</code>!</p>\n<p><strong>Solution 1: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\" rel=\"nofollow noreferrer\">mock static method via Mockito</a></strong>\n<br>Mockito since 3.4.0 version support mocking static methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try (MockedStatic mocked = mockStatic(Foo.class)) {\n            mocked.when(Foo::method).thenReturn(&quot;bar&quot;);\n            assertEquals(&quot;bar&quot;, Foo.method());\n            mocked.verify(Foo::method);\n        }\n</code></pre>\n<p>First of all you need to add <a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-inline/4.6.1\" rel=\"nofollow noreferrer\">mockito-inline</a> to your project</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;4.6.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProductServiceTest {\n\n    private ProductService productService;\n\n    MockedStatic&lt;HttpClients&gt; httpClientsStaticMock;\n\n    @Mock\n    CloseableHttpClient closeableHttpClient;\n    @Mock\n    HttpPost httpPost;\n    @Mock\n    CloseableHttpResponse closeableHttpResponse;\n    @Mock\n    private VaultConfig vaultConfig;\n    @Mock\n    private AppConfig appConfig;\n\n    @BeforeEach\n    public void initialize() {\n        MockitoAnnotations.openMocks(this);\n        productService = new ProductService(vaultConfig, appConfig);\n        //create static Mock\n        httpClientsStaticMock = mockStatic(HttpClients.class);\n        //when HttpClients.createDefault() called return mock of CloseableHttpClient\n        httpClientsStaticMock.when(HttpClients::createDefault).thenReturn(closeableHttpClient);\n    }\n\n    void getAccessTokenWhenEmpty() throws IOException {\n        //given\n        String expectedProductAccessToken = &quot;ABC&quot;;\n\n        //and:\n        given(appConfig.getProductServerUrl()).willReturn(&quot;https://test.abcd.com&quot;);\n        given(closeableHttpClient.execute(httpPost)).willReturn(closeableHttpResponse);\n        given(vaultConfig.getProductAccessToken()).willReturn(&quot;&quot;);\n\n        //when\n        String actualProductAccessToken = ProductService.getAccessToken();\n\n        //then\n        Assertions.assertEquals(actualProductAccessToken, expectedProductAccessToken);\n    }\n\n    @AfterEach\n    public void afterTest() {\n        //close static Mock\n        httpClientsStaticMock.close();\n    }\n}\n</code></pre>\n<p><strong>Solution 2: <a href=\"https://github.com/powermock/powermock/wiki/MockStatic\" rel=\"nofollow noreferrer\">mock static methods via PowerMock</a></strong>\n<br>Dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({ ProductService.class, HttpClients.class})\npublic class ProductServiceTest {\n\n    private ProductService productService;\n\n    @Mock\n    CloseableHttpClient closeableHttpClient;\n    @Mock\n    HttpPost httpPost;\n    @Mock\n    CloseableHttpResponse closeableHttpResponse;\n    @Mock\n    private VaultConfig vaultConfig;\n    @Mock\n    private AppConfig appConfig;\n\n    @BeforeEach\n    public void initialize() {\n        MockitoAnnotations.openMocks(this);\n        productService = new ProductService(vaultConfig, appConfig);\n        //create static Mock\n        PowerMockito.mockStatic(HttpClients.class);\n        //when HttpClients.createDefault() called return mock of CloseableHttpClient\n        when(HttpClients.createDefault()).thenReturn(closeableHttpClient);\n    }\n\n    void getAccessTokenWhenEmpty() throws IOException {\n        //given\n        String expectedProductAccessToken = &quot;ABC&quot;;\n\n        //and:\n        given(appConfig.getProductServerUrl()).willReturn(&quot;https://test.abcd.com&quot;);\n        given(closeableHttpClient.execute(httpPost)).willReturn(closeableHttpResponse);\n        given(vaultConfig.getProductAccessToken()).willReturn(&quot;&quot;);\n\n        //when\n        String actualProductAccessToken = ProductService.getAccessToken();\n\n        //then\n        Assertions.assertEquals(actualProductAccessToken, expectedProductAccessToken);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656043301,"creation_date":1656043301,"answer_id":72738865,"question_id":72649574,"body_markdown":"I would propose a little bit different approach for testing http clients. Unit testing `HttpClient` has very low ROI and could be very tricky and error-prone. Even if you could cover some simple positive cases, it would be very hard to test more complex scenarios, like error handling, retries. Also your tests could depend on the internal implementation of the client that could change in the future.\r\nAlso, mocking static methods usually considered as an anti-pattern and should be avoided.\r\n\r\n\r\nI would recommend to look at [WireMock](https://wiremock.org/) which provides a very good API for testing web clients. Here are some examples\r\n\r\n\r\nBasically, you need to start Wiremock server and then point your `HttpClient` to this URL\r\n\r\n```\r\nWireMockServer wireMockServer = new WireMockServer(wireMockConfig().dynamicPort());\r\nwireMockServer.start();\r\nWireMock.configureFor(wireMockServer.port());\r\n\r\nvar baseUrl = &quot;http://localhost:&quot; + wireMockServer.port();\r\n\r\ngiven(appConfig.getProductServerUrl()).willReturn(baseUrl);\r\n```\r\n\r\nAfter that you could define server stubs (responses), send real requests from your `HttpClient` and then validate responses\r\n```\r\nstubFor(get(&quot;/api&quot;)\r\n        .willReturn(aResponse()\r\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                .withStatus(200)\r\n                .withBody(...)\r\n        )\r\n);\r\n```\r\n\r\nYou could easily test both positive and negative scenarios by providing different stubs\r\n```\r\nstubFor(get(&quot;/api&quot;)\r\n        .willReturn(aResponse()\r\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                .withStatus(500)\r\n        )\r\n);\r\n```\r\n\r\nAlso, you could test retry logic using [Scenarios](https://wiremock.org/docs/stateful-behaviour/) or even simulate timeouts using [Delays](https://wiremock.org/docs/simulating-faults/).\r\n\r\n ","title":"Mocking Apache Post HTTPClient using Mockito","body":"<p>I would propose a little bit different approach for testing http clients. Unit testing <code>HttpClient</code> has very low ROI and could be very tricky and error-prone. Even if you could cover some simple positive cases, it would be very hard to test more complex scenarios, like error handling, retries. Also your tests could depend on the internal implementation of the client that could change in the future.\nAlso, mocking static methods usually considered as an anti-pattern and should be avoided.</p>\n<p>I would recommend to look at <a href=\"https://wiremock.org/\" rel=\"nofollow noreferrer\">WireMock</a> which provides a very good API for testing web clients. Here are some examples</p>\n<p>Basically, you need to start Wiremock server and then point your <code>HttpClient</code> to this URL</p>\n<pre><code>WireMockServer wireMockServer = new WireMockServer(wireMockConfig().dynamicPort());\nwireMockServer.start();\nWireMock.configureFor(wireMockServer.port());\n\nvar baseUrl = &quot;http://localhost:&quot; + wireMockServer.port();\n\ngiven(appConfig.getProductServerUrl()).willReturn(baseUrl);\n</code></pre>\n<p>After that you could define server stubs (responses), send real requests from your <code>HttpClient</code> and then validate responses</p>\n<pre><code>stubFor(get(&quot;/api&quot;)\n        .willReturn(aResponse()\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                .withStatus(200)\n                .withBody(...)\n        )\n);\n</code></pre>\n<p>You could easily test both positive and negative scenarios by providing different stubs</p>\n<pre><code>stubFor(get(&quot;/api&quot;)\n        .willReturn(aResponse()\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                .withStatus(500)\n        )\n);\n</code></pre>\n<p>Also, you could test retry logic using <a href=\"https://wiremock.org/docs/stateful-behaviour/\" rel=\"nofollow noreferrer\">Scenarios</a> or even simulate timeouts using <a href=\"https://wiremock.org/docs/simulating-faults/\" rel=\"nofollow noreferrer\">Delays</a>.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656346229,"creation_date":1656150648,"answer_id":72752857,"question_id":72649574,"body_markdown":"A easier, cleaner and less fragile approach is don&#39;t mock the `HttpClient`. It just causes your test codes to have the pattern &quot;mock return mock and the returned mock return anther mock which in turn return another mock which return ......&quot; which looks very ugly and is a code smell to me.\r\n\r\nInstead , use a real `HTTPClient` instance and mock the external API using tools likes [WireMock][1] or [MockWebServer][2] \r\n\r\nMy favourite is MockWebServer which you can do something likes: \r\n\r\n``` java\r\npublic class ProductServiceTest {\r\n\t\r\n\t\r\n\tprivate ProductService productService;\r\n\r\n\t@Mock\r\n    private AppConfig appConfig;\r\n\r\n    private MockWebServer server;\r\n\r\n    @Test\r\n    public void getAccessTokenWhenEmpty(){\r\n\r\n\r\n\t    server.start();\r\n\t    HttpUrl baseUrl = server.url(&quot;/api/v1/authentication/login&quot;);\r\n\r\n\t    given(appConfig.getProductServerUrl()).willReturn(&quot;http://&quot; + baseUrl.host() +&quot;:&quot; + baseUrl.port());\r\n        productService = new ProductService(vaultConfig, appConfig);\r\n   \t\t\r\n   \t\t//stub the server to return the access token response\r\n        server.enqueue(new MockResponse().setBody(&quot;{\\&quot;access_token\\&quot;:\\&quot;ABC\\&quot;}&quot;));\r\n\r\n       //continues execute your test\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/wiremock/wiremock\r\n  [2]: https://github.com/square/okhttp/tree/master/mockwebserver","title":"Mocking Apache Post HTTPClient using Mockito","body":"<p>A easier, cleaner and less fragile approach is don't mock the <code>HttpClient</code>. It just causes your test codes to have the pattern &quot;mock return mock and the returned mock return anther mock which in turn return another mock which return ......&quot; which looks very ugly and is a code smell to me.</p>\n<p>Instead , use a real <code>HTTPClient</code> instance and mock the external API using tools likes <a href=\"https://github.com/wiremock/wiremock\" rel=\"nofollow noreferrer\">WireMock</a> or <a href=\"https://github.com/square/okhttp/tree/master/mockwebserver\" rel=\"nofollow noreferrer\">MockWebServer</a></p>\n<p>My favourite is MockWebServer which you can do something likes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProductServiceTest {\n    \n    \n    private ProductService productService;\n\n    @Mock\n    private AppConfig appConfig;\n\n    private MockWebServer server;\n\n    @Test\n    public void getAccessTokenWhenEmpty(){\n\n\n        server.start();\n        HttpUrl baseUrl = server.url(&quot;/api/v1/authentication/login&quot;);\n\n        given(appConfig.getProductServerUrl()).willReturn(&quot;http://&quot; + baseUrl.host() +&quot;:&quot; + baseUrl.port());\n        productService = new ProductService(vaultConfig, appConfig);\n        \n        //stub the server to return the access token response\n        server.enqueue(new MockResponse().setBody(&quot;{\\&quot;access_token\\&quot;:\\&quot;ABC\\&quot;}&quot;));\n\n       //continues execute your test\n\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72752857,"answer_count":4,"score":1,"last_activity_date":1656346229,"creation_date":1655399563,"question_id":72649574,"body_markdown":"I am trying to test HttpClient using Mockito and this article. I am receiving the error below, and not sure how to fix. The error is below. I am following the contents of article very similarly. Its failing on `CloseableHttpResponse closeableHttpResponse = client.execute(httpPost)`\r\n, when I already mocked it.\r\n\r\nResource: https://stackoverflow.com/questions/20542361/mocking-apache-httpclient-using-mockito\r\n\r\n**Main Code:**\r\n\r\n    public class ProductService {\r\n    \r\n        private final VaultConfig vaultConfig;\r\n        private final AppConfig appConfig;\r\n    \r\n        public ProductService(VaultConfig vaultConfig,\r\n                              @Autowired AppConfig appConfig) {\r\n                this.vaultConfig = vaultConfig;\r\n                this.appConfig = appConfig;\r\n        }\r\n    \r\n        private void createAccessToken() {\r\n            String httpUrl = MessageFormat.format(&quot;{0}/api/v1/authentication/login&quot;,\r\n                appConfig.getProductServerUrl());\r\n            CloseableHttpClient client = HttpClients.createDefault();\r\n            HttpPost httpPost = new HttpPost(httpUrl);\r\n            List&lt;NameValuePair&gt; httpParams = new ArrayList&lt;NameValuePair&gt;();\r\n            httpParams.add(new BasicNameValuePair(&quot;username&quot;, this.vaultConfig.getProductAdminUsername()));\r\n            httpParams.add(new BasicNameValuePair(&quot;password&quot;, this.vaultConfig.getProductAdminPassword()));\r\n\r\n            try {\r\n                httpPost.setEntity(new UrlEncodedFormEntity(httpParams));\r\n                CloseableHttpResponse closeableHttpResponse = client.execute(httpPost);\r\n                HttpEntity entity = closeableHttpResponse.getEntity();\r\n                String tokenDataJson = EntityUtils.toString(entity, &quot;UTF-8&quot;);\r\n                String newAccessToken = new Gson().fromJson(tokenDataJson, Map.class).get(&quot;access_token&quot;).toString();\r\n                this.vaultConfig.setProductAccessToken(newAccessToken);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Unable to create access token: &quot; + e.getMessage());\r\n            }\r\n        }\r\n\r\n\r\n**Test Attempt:**\r\n\r\n    public class ProductServiceTest {\r\n    \r\n        private ProductService productService;\r\n        @Mock\r\n        HttpClients httpClients;\r\n        @Mock\r\n        CloseableHttpClient closeableHttpClient;\r\n        @Mock\r\n        HttpPost httpPost;\r\n        @Mock\r\n        CloseableHttpResponse closeableHttpResponse;\r\n        @Mock\r\n        private VaultConfig vaultConfig;\r\n        @Mock\r\n        private AppConfig appConfig;\r\n    \r\n        @BeforeEach\r\n        public void initialize() {\r\n            MockitoAnnotations.openMocks(this);\r\n            productService = new ProductService(vaultConfig, appConfig);\r\n        }\r\n    \r\n    \r\n       void getAccessTokenWhenEmpty() throws IOException {\r\n            //given\r\n            String expectedProductAccessToken = &quot;ABC&quot;;\r\n    \r\n            //and:\r\n            given(appConfig.getProductServerUrl()).willReturn(&quot;https://test.abcd.com&quot;);\r\n            given(closeableHttpClient.execute(httpPost)).willReturn(closeableHttpResponse);\r\n            given(vaultConfig.getProductAccessToken()).willReturn(&quot;&quot;);\r\n    \r\n            //when\r\n            String actualProductAccessToken = ProductService.getAccessToken();\r\n    \r\n            //then\r\n            Assertions.assertEquals(actualProductAccessToken,expectedProductAccessToken);\r\n        }\r\n\r\n**Error:** \r\n\r\n\r\n        } catch (Exception e) {\r\n\r\n    java.net.UnknownHostException: test.abcd.com: unknown error","title":"Mocking Apache Post HTTPClient using Mockito","body":"<p>I am trying to test HttpClient using Mockito and this article. I am receiving the error below, and not sure how to fix. The error is below. I am following the contents of article very similarly. Its failing on <code>CloseableHttpResponse closeableHttpResponse = client.execute(httpPost)</code>\n, when I already mocked it.</p>\n<p>Resource: <a href=\"https://stackoverflow.com/questions/20542361/mocking-apache-httpclient-using-mockito\">Mocking Apache HTTPClient using Mockito</a></p>\n<p><strong>Main Code:</strong></p>\n<pre><code>public class ProductService {\n\n    private final VaultConfig vaultConfig;\n    private final AppConfig appConfig;\n\n    public ProductService(VaultConfig vaultConfig,\n                          @Autowired AppConfig appConfig) {\n            this.vaultConfig = vaultConfig;\n            this.appConfig = appConfig;\n    }\n\n    private void createAccessToken() {\n        String httpUrl = MessageFormat.format(&quot;{0}/api/v1/authentication/login&quot;,\n            appConfig.getProductServerUrl());\n        CloseableHttpClient client = HttpClients.createDefault();\n        HttpPost httpPost = new HttpPost(httpUrl);\n        List&lt;NameValuePair&gt; httpParams = new ArrayList&lt;NameValuePair&gt;();\n        httpParams.add(new BasicNameValuePair(&quot;username&quot;, this.vaultConfig.getProductAdminUsername()));\n        httpParams.add(new BasicNameValuePair(&quot;password&quot;, this.vaultConfig.getProductAdminPassword()));\n\n        try {\n            httpPost.setEntity(new UrlEncodedFormEntity(httpParams));\n            CloseableHttpResponse closeableHttpResponse = client.execute(httpPost);\n            HttpEntity entity = closeableHttpResponse.getEntity();\n            String tokenDataJson = EntityUtils.toString(entity, &quot;UTF-8&quot;);\n            String newAccessToken = new Gson().fromJson(tokenDataJson, Map.class).get(&quot;access_token&quot;).toString();\n            this.vaultConfig.setProductAccessToken(newAccessToken);\n        } catch (Exception e) {\n            logger.error(&quot;Unable to create access token: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p><strong>Test Attempt:</strong></p>\n<pre><code>public class ProductServiceTest {\n\n    private ProductService productService;\n    @Mock\n    HttpClients httpClients;\n    @Mock\n    CloseableHttpClient closeableHttpClient;\n    @Mock\n    HttpPost httpPost;\n    @Mock\n    CloseableHttpResponse closeableHttpResponse;\n    @Mock\n    private VaultConfig vaultConfig;\n    @Mock\n    private AppConfig appConfig;\n\n    @BeforeEach\n    public void initialize() {\n        MockitoAnnotations.openMocks(this);\n        productService = new ProductService(vaultConfig, appConfig);\n    }\n\n\n   void getAccessTokenWhenEmpty() throws IOException {\n        //given\n        String expectedProductAccessToken = &quot;ABC&quot;;\n\n        //and:\n        given(appConfig.getProductServerUrl()).willReturn(&quot;https://test.abcd.com&quot;);\n        given(closeableHttpClient.execute(httpPost)).willReturn(closeableHttpResponse);\n        given(vaultConfig.getProductAccessToken()).willReturn(&quot;&quot;);\n\n        //when\n        String actualProductAccessToken = ProductService.getAccessToken();\n\n        //then\n        Assertions.assertEquals(actualProductAccessToken,expectedProductAccessToken);\n    }\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>    } catch (Exception e) {\n\njava.net.UnknownHostException: test.abcd.com: unknown error\n</code></pre>\n"},{"tags":["java","inheritance","subclass"],"answers":[{"tags":[],"owner":{"account_id":13804005,"reputation":657,"user_id":9963355,"display_name":"xxMrPHDxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656345271,"creation_date":1656343736,"answer_id":72774667,"question_id":72774587,"body_markdown":"You should take a look at [Java Generics](https://docs.oracle.com/javase/tutorial/java/generics/).\r\n\r\nAlso, you no longer need to define MySubClass unless you wanna add extra methods or properties to it.\r\n```java\r\nclass MyClass&lt;T extends MyAttribute&gt; {\r\n  T myAttribute;\r\n  MyClass(T myAttribute) {\r\n    this.myAttribute = myAttribute;\r\n  }\r\n\r\n  T getMyAttribute() {\r\n    return myAttribute;\r\n  }\r\n}\r\n\r\n\r\nclass MyAttribute {\r\n  void doSomething() {\r\n    System.out.println(&quot;Doing something...&quot;);\r\n  }\r\n}\r\n\r\nclass MySubAttribute extends MyAttribute {\r\n  void doSomethingElse() {\r\n    System.out.println(&quot;Doing something else...&quot;);\r\n  }\r\n}\r\n\r\n// You would instantiate `mySubClass` as follows\r\nMyClass&lt;MySubAttribute&gt; mySubClass = new MyClass&lt;&gt;(new MySubAttribute());\r\nmySubClass.getMyAttribute().doSomethingElse();\r\n```","title":"java - class attribute type change with inheritance","body":"<p>You should take a look at <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"nofollow noreferrer\">Java Generics</a>.</p>\n<p>Also, you no longer need to define MySubClass unless you wanna add extra methods or properties to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass&lt;T extends MyAttribute&gt; {\n  T myAttribute;\n  MyClass(T myAttribute) {\n    this.myAttribute = myAttribute;\n  }\n\n  T getMyAttribute() {\n    return myAttribute;\n  }\n}\n\n\nclass MyAttribute {\n  void doSomething() {\n    System.out.println(&quot;Doing something...&quot;);\n  }\n}\n\nclass MySubAttribute extends MyAttribute {\n  void doSomethingElse() {\n    System.out.println(&quot;Doing something else...&quot;);\n  }\n}\n\n// You would instantiate `mySubClass` as follows\nMyClass&lt;MySubAttribute&gt; mySubClass = new MyClass&lt;&gt;(new MySubAttribute());\nmySubClass.getMyAttribute().doSomethingElse();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656343889,"creation_date":1656343889,"answer_id":72774701,"question_id":72774587,"body_markdown":"You could add something like this to `MySubClass`:\r\n\r\n    @Override\r\n    MySubAttribute getMyAttribute() {\r\n        return new MySubAttribute();\r\n    }\r\n","title":"java - class attribute type change with inheritance","body":"<p>You could add something like this to <code>MySubClass</code>:</p>\n<pre><code>@Override\nMySubAttribute getMyAttribute() {\n    return new MySubAttribute();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656345584,"creation_date":1656345584,"answer_id":72775076,"question_id":72774587,"body_markdown":"The usual solution is generics:\r\n\r\n```\r\nclass MyClass&lt;A extends MyAttribute&gt; {\r\n    A myAttribute;\r\n    MyClass(A myAttribute) {\r\n        this.myAttribute = myAttribute;\r\n    }\r\n\r\n    A getMyAttribute() {\r\n        return myAttribute;\r\n    }\r\n}\r\n\r\nclass MySubClass extends MyClass&lt;MySubAttribute&gt; {\r\n```\r\n\r\nAlternatively, you could have MySubClass override the getter with a narrower return type:\r\n\r\n```\r\n    @Override\r\n    MySubAttribute getMyAttribute() {\r\n        // we know the cast succeeds because we have set a MySubAttribute in the constructor\r\n        return (MySubAttribute) myAttribute; \r\n    }\r\n```\r\n\r\nThe generic solution offers better compile time checking of the implementing class, and allows a caller to refer to the type of the attribute even if they don&#39;t know the subtype of `MyClass` by writing `MyClass&lt;MySubAttribute&gt;`. On the other hand, the generic solution does require callers to write a type parameter (even if just `MyClass&lt;?&gt;`), so calling code gets slightly more verbose.","title":"java - class attribute type change with inheritance","body":"<p>The usual solution is generics:</p>\n<pre><code>class MyClass&lt;A extends MyAttribute&gt; {\n    A myAttribute;\n    MyClass(A myAttribute) {\n        this.myAttribute = myAttribute;\n    }\n\n    A getMyAttribute() {\n        return myAttribute;\n    }\n}\n\nclass MySubClass extends MyClass&lt;MySubAttribute&gt; {\n</code></pre>\n<p>Alternatively, you could have MySubClass override the getter with a narrower return type:</p>\n<pre><code>    @Override\n    MySubAttribute getMyAttribute() {\n        // we know the cast succeeds because we have set a MySubAttribute in the constructor\n        return (MySubAttribute) myAttribute; \n    }\n</code></pre>\n<p>The generic solution offers better compile time checking of the implementing class, and allows a caller to refer to the type of the attribute even if they don't know the subtype of <code>MyClass</code> by writing <code>MyClass&lt;MySubAttribute&gt;</code>. On the other hand, the generic solution does require callers to write a type parameter (even if just <code>MyClass&lt;?&gt;</code>), so calling code gets slightly more verbose.</p>\n"},{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656345604,"creation_date":1656345604,"answer_id":72775084,"question_id":72774587,"body_markdown":"If I understand correctly, then you&#39;re asking for: \r\n\r\n```\r\npublic interface HasMyAttribute {\r\n    MyAttribute getMyAttribute();\r\n}\r\n\r\npublic class MyClass implements HasMyAttribute {\r\n    private MyAttribute myAttribute;\r\n\r\n    public MyClass(MyAttribute myAttribute) {\r\n        this.myAttribute = myAttribute;\r\n    }\r\n\r\n    @Override\r\n    public MyAttribute getMyAttribute() {\r\n        return this.myAttribute;\r\n    }\r\n}\r\n\r\npublic class MySubClass extends MyClass implements HasMyAttribute {\r\n\r\n    private MySubAttribute mySubAttribute;\r\n\r\n    public MySubClass(MySubAttribute mySubAttribute) {\r\n        super(mySubAttribute);\r\n        this.mySubAttribute = mySubAttribute;\r\n    }\r\n\r\n    @Override\r\n    public MySubAttribute getMyAttribute() {\r\n        return mySubAttribute;\r\n    }\r\n}\r\n\r\n```\r\n\r\n(though, if you don&#39;t need two distinct concrete classes, @xxMrPHDxx&#39;s answer is much better)","title":"java - class attribute type change with inheritance","body":"<p>If I understand correctly, then you're asking for:</p>\n<pre><code>public interface HasMyAttribute {\n    MyAttribute getMyAttribute();\n}\n\npublic class MyClass implements HasMyAttribute {\n    private MyAttribute myAttribute;\n\n    public MyClass(MyAttribute myAttribute) {\n        this.myAttribute = myAttribute;\n    }\n\n    @Override\n    public MyAttribute getMyAttribute() {\n        return this.myAttribute;\n    }\n}\n\npublic class MySubClass extends MyClass implements HasMyAttribute {\n\n    private MySubAttribute mySubAttribute;\n\n    public MySubClass(MySubAttribute mySubAttribute) {\n        super(mySubAttribute);\n        this.mySubAttribute = mySubAttribute;\n    }\n\n    @Override\n    public MySubAttribute getMyAttribute() {\n        return mySubAttribute;\n    }\n}\n\n</code></pre>\n<p>(though, if you don't need two distinct concrete classes, @xxMrPHDxx's answer is much better)</p>\n"}],"owner":{"account_id":20955267,"reputation":63,"user_id":15395946,"display_name":"emerick biron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72774667,"answer_count":4,"score":0,"last_activity_date":1656345604,"creation_date":1656343379,"question_id":72774587,"body_markdown":"I have a MyClass which has an attribute of type MyAttribute.\r\nThis class is inherited by MySubClass which has an attribute of type MySubAttribute.\r\nMySubAttribute is a subclass of  MyAttribute : \r\n```java\r\nclass MyClass {\r\n    MyAttribute myAttribute;\r\n    MyClass(MyAttribute myAttribute) {\r\n        this.myAttribute = myAttribute;\r\n    }\r\n\r\n    MyAttribute getMyAttribute() {\r\n        return myAttribute;\r\n    }\r\n}\r\n\r\nclass MySubClass extends MyClass {\r\n    MySubClass(MySubAttribute mySubAttribute) {\r\n        super(mySubAttribute);\r\n    }\r\n}\r\n\r\n\r\nclass MyAttribute {\r\n    void doSomething() {\r\n    }\r\n}\r\n\r\nclass MySubAttribute extends MyAttribute {\r\n    @Override\r\n    void doSomething() {\r\n        super.doSomething();\r\n    }\r\n    void doSomethingElse() {\r\n    }\r\n}\r\n```\r\n\r\nNow imagine that I have the following code:\r\n\r\n    mySubClass.getMyAttribute();\r\n\r\nHow to make the returned value of type MySubAttribute?","title":"java - class attribute type change with inheritance","body":"<p>I have a MyClass which has an attribute of type MyAttribute.\nThis class is inherited by MySubClass which has an attribute of type MySubAttribute.\nMySubAttribute is a subclass of  MyAttribute :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass {\n    MyAttribute myAttribute;\n    MyClass(MyAttribute myAttribute) {\n        this.myAttribute = myAttribute;\n    }\n\n    MyAttribute getMyAttribute() {\n        return myAttribute;\n    }\n}\n\nclass MySubClass extends MyClass {\n    MySubClass(MySubAttribute mySubAttribute) {\n        super(mySubAttribute);\n    }\n}\n\n\nclass MyAttribute {\n    void doSomething() {\n    }\n}\n\nclass MySubAttribute extends MyAttribute {\n    @Override\n    void doSomething() {\n        super.doSomething();\n    }\n    void doSomethingElse() {\n    }\n}\n</code></pre>\n<p>Now imagine that I have the following code:</p>\n<pre><code>mySubClass.getMyAttribute();\n</code></pre>\n<p>How to make the returned value of type MySubAttribute?</p>\n"},{"tags":["java","nullpointerexception","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":461470,"reputation":2375,"user_id":863180,"accept_rate":34,"display_name":"cremersstijn"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1585748979,"creation_date":1359018347,"answer_id":14497475,"question_id":14497082,"body_markdown":"You need to make sure every cell has a value.\r\n\r\nWe use the following code to set a string value to a cell:\r\n\r\n    Cell c = row.createCell(i);\r\n    c.setCellValue(text == null ? &quot;&quot; : text );\r\n\r\n** Cell should never be null values else it throws NullPointerException. Hence set the value as shown above.\r\n\r\nThanks a lot, this helped!!","title":"AutosizeColumns on SXSSFWorkbook","body":"<p>You need to make sure every cell has a value.</p>\n\n<p>We use the following code to set a string value to a cell:</p>\n\n<pre><code>Cell c = row.createCell(i);\nc.setCellValue(text == null ? \"\" : text );\n</code></pre>\n\n<p>** Cell should never be null values else it throws NullPointerException. Hence set the value as shown above.</p>\n\n<p>Thanks a lot, this helped!!</p>\n"},{"tags":[],"owner":{"account_id":9177643,"reputation":99,"user_id":6822729,"display_name":"Virendra khade"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571391014,"creation_date":1571391014,"answer_id":58447964,"question_id":14497082,"body_markdown":"Use **sheet.isColumnTrackedForAutoSizing(0);**\r\n for first and subsequently used for other column, i have faced exception whenever code executed autoSizeColumn(0) get executed. by using above code i have resolved the issue and it&#39;s good to expand the column width too based on the text.","title":"AutosizeColumns on SXSSFWorkbook","body":"<p>Use <strong>sheet.isColumnTrackedForAutoSizing(0);</strong>\n for first and subsequently used for other column, i have faced exception whenever code executed autoSizeColumn(0) get executed. by using above code i have resolved the issue and it's good to expand the column width too based on the text.</p>\n"},{"tags":[],"owner":{"account_id":18127684,"reputation":1,"user_id":13183081,"display_name":"Srini Yedire"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1585748865,"creation_date":1585741562,"answer_id":60970127,"question_id":14497082,"body_markdown":"**Error: NullPointerException** on `org.apache.poi.ss.util.SheetUtil.getCellWidth(SheetUtil.java:122)`\r\n\r\nFix: Always set value to Cell as shown below, it throws NullPointerException when there is null in Cell, so set the value as:\r\n\r\n    Cell c = row.createCell(i);\r\n    c.setCellValue(text == null ? &quot;&quot; : text );","title":"AutosizeColumns on SXSSFWorkbook","body":"<p><strong>Error: NullPointerException</strong> on <code>org.apache.poi.ss.util.SheetUtil.getCellWidth(SheetUtil.java:122)</code></p>\n\n<p>Fix: Always set value to Cell as shown below, it throws NullPointerException when there is null in Cell, so set the value as:</p>\n\n<pre><code>Cell c = row.createCell(i);\nc.setCellValue(text == null ? \"\" : text );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7141983,"reputation":261,"user_id":5459233,"display_name":"Lof"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653572294,"creation_date":1653572294,"answer_id":72392754,"question_id":14497082,"body_markdown":"sheet.trackAllColumnsForAutoSizing();","title":"AutosizeColumns on SXSSFWorkbook","body":"<p>sheet.trackAllColumnsForAutoSizing();</p>\n"},{"tags":[],"owner":{"account_id":15904122,"reputation":11,"user_id":11475794,"display_name":"Ravi Chhetri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656345510,"creation_date":1656345510,"answer_id":72775051,"question_id":14497082,"body_markdown":"sheet.trackAllColumnsForAutoSizing(), this works but it is truly not a good approach. Because if you are working with lakhs of data, it delays the process of writing to file by huge margin\r\n","title":"AutosizeColumns on SXSSFWorkbook","body":"<p>sheet.trackAllColumnsForAutoSizing(), this works but it is truly not a good approach. Because if you are working with lakhs of data, it delays the process of writing to file by huge margin</p>\n"}],"owner":{"account_id":307873,"reputation":543,"user_id":619419,"display_name":"sterym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38329,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":14497475,"answer_count":5,"score":24,"last_activity_date":1656345510,"creation_date":1359016944,"question_id":14497082,"body_markdown":"Is it possible to autoSizeColumns on a streaming SXSSFWorkbook?\r\nI implemented an export functionality to export a list of objects to excel. At first I used the XSSFWorkbook (not streaming) and after all the cells were created, I autosized all the columns, resulting in a nice excel file.\r\n\r\nFor performance issues we wanted to change the workbook to the streaming version, but this resulted in a NullPointer at org.apache.poi.ss.util.SheetUtil.getCellWidth.\r\n\r\nIs it possible to call autoSizeColumns for a SXSSFWorkbook?\r\n\r\nIm using poi-ooxml 3.9, but I have the same issue in 3.8.","title":"AutosizeColumns on SXSSFWorkbook","body":"<p>Is it possible to autoSizeColumns on a streaming SXSSFWorkbook?\nI implemented an export functionality to export a list of objects to excel. At first I used the XSSFWorkbook (not streaming) and after all the cells were created, I autosized all the columns, resulting in a nice excel file.</p>\n\n<p>For performance issues we wanted to change the workbook to the streaming version, but this resulted in a NullPointer at org.apache.poi.ss.util.SheetUtil.getCellWidth.</p>\n\n<p>Is it possible to call autoSizeColumns for a SXSSFWorkbook?</p>\n\n<p>Im using poi-ooxml 3.9, but I have the same issue in 3.8.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1656342493,"post_id":72774357,"comment_id":128542511,"body_markdown":"What output were you expecting (and why) and what are you getting instead?","body":"What output were you expecting (and why) and what are you getting instead?"},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1656342766,"post_id":72774357,"comment_id":128542636,"body_markdown":"This looks like it will run forever and never exit. Since in your example `part(6, 4)` will go to the else-block and call `part(6, 4)` and so on","body":"This looks like it will run forever and never exit. Since in your example <code>part(6, 4)</code> will go to the else-block and call <code>part(6, 4)</code> and so on"},{"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"score":0,"creation_date":1656342820,"post_id":72774357,"comment_id":128542660,"body_markdown":"im getting a stack trace but im ment to get 9 partitions","body":"im getting a stack trace but im ment to get 9 partitions"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1656343198,"post_id":72774357,"comment_id":128542818,"body_markdown":"You don&#39;t need a base case. You already have two base cases. What you need (apparently) is a way to to reduce _m_ and/or _n_ down to zero to escape the recursive calls.","body":"You don&#39;t need a base case. You already have two base cases. What you need (apparently) is a way to to reduce <i>m</i> and/or <i>n</i> down to zero to escape the recursive calls."},{"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"score":0,"creation_date":1656343467,"post_id":72774357,"comment_id":128542939,"body_markdown":"like a  m-- n-- at bottom","body":"like a  m-- n-- at bottom"},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1656343611,"post_id":72774357,"comment_id":128543005,"body_markdown":"Isn&#39;t the math rule behind that `part(n, m) = part(n-1, m) + part(n-1, m-1)` ?","body":"Isn&#39;t the math rule behind that <code>part(n, m) = part(n-1, m) + part(n-1, m-1)</code> ?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1656343722,"post_id":72774357,"comment_id":128543048,"body_markdown":"@vincrichaud `m-1` and `n-1` won&#39;t do it because the result will not be stored back in the variables. You need `m--` and `n--`.","body":"@vincrichaud <code>m-1</code> and <code>n-1</code> won&#39;t do it because the result will not be stored back in the variables. You need <code>m--</code> and <code>n--</code>."},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":1,"creation_date":1656343811,"post_id":72774357,"comment_id":128543085,"body_markdown":"@hfontanez no need to store it there, it won&#39;t get re-used","body":"@hfontanez no need to store it there, it won&#39;t get re-used"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1656344467,"post_id":72774357,"comment_id":128543311,"body_markdown":"@Nuva_rad I answered your question. As you indicated, the function returns 9. You need to test with other values to make sure the solution is indeed correct and not just working by chance. I will appreciate if you upvote and select my answer.","body":"@Nuva_rad I answered your question. As you indicated, the function returns 9. You need to test with other values to make sure the solution is indeed correct and not just working by chance. I will appreciate if you upvote and select my answer."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656344065,"creation_date":1656344065,"answer_id":72774737,"question_id":72774357,"body_markdown":"You need to reduce `m` only for the problem to return 9 as you indicated.\r\n\r\n```\r\npublic static int part (int n, int m) {\r\n\tif (n == 0) {\r\n\t\treturn 1;\r\n\t} else if (m == 0 || n &lt; 0) {\r\n\t\treturn 0;\r\n\t} else {\r\n\t\treturn part(n - m, m--) + part(n, m);\r\n    }\r\n}\r\n```","title":"function to find number of ways u can split n objects using parts up to m","body":"<p>You need to reduce <code>m</code> only for the problem to return 9 as you indicated.</p>\n<pre><code>public static int part (int n, int m) {\n    if (n == 0) {\n        return 1;\n    } else if (m == 0 || n &lt; 0) {\n        return 0;\n    } else {\n        return part(n - m, m--) + part(n, m);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656345294,"creation_date":1656345294,"answer_id":72774995,"question_id":72774357,"body_markdown":"I&#39;m not sure what you&#39;re trying to do, but if it is to compute the [combination](https://en.wikipedia.org/wiki/Combination) it should look like this :\r\n\r\n    public static int part(int n, int m) {\r\n        if(m&gt;n) { //This prevent a wrong input from the user\r\n            return part(m, n);\r\n        } else if (m==0 || m==n) { //This is your base case\r\n            return 1;\r\n        } else if(m &lt; 0 || n&lt;0) { //this should not happened, but you never know\r\n            return 0;\r\n        }  else { //this is where you&#39;re making mistake(s)\r\n            //I don&#39;t know if I&#39;m using the formula you are looking for\r\n            //But if not, make sure yours do not use part(n, m) otherwise it will run forever\r\n            return part(n-1, m) + part(n-1, m-1);\r\n        }\r\n    }","title":"function to find number of ways u can split n objects using parts up to m","body":"<p>I'm not sure what you're trying to do, but if it is to compute the <a href=\"https://en.wikipedia.org/wiki/Combination\" rel=\"nofollow noreferrer\">combination</a> it should look like this :</p>\n<pre><code>public static int part(int n, int m) {\n    if(m&gt;n) { //This prevent a wrong input from the user\n        return part(m, n);\n    } else if (m==0 || m==n) { //This is your base case\n        return 1;\n    } else if(m &lt; 0 || n&lt;0) { //this should not happened, but you never know\n        return 0;\n    }  else { //this is where you're making mistake(s)\n        //I don't know if I'm using the formula you are looking for\n        //But if not, make sure yours do not use part(n, m) otherwise it will run forever\n        return part(n-1, m) + part(n-1, m-1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72774737,"answer_count":2,"score":1,"last_activity_date":1656345294,"creation_date":1656342390,"question_id":72774357,"body_markdown":"I&#39;m using recursion to solve the problem. On paper my answer should work so I went wrong with the code. However, I can&#39;t figure exactly where the problem is.\r\n```\r\npublic class Partition {\r\n    public static void main(String[] args) {\r\n\t    System.out.println(part(6,4));\r\n    }\r\n\r\n    public static int part(int n, int m) {\r\n    \tif (n==0) {\r\n\t\t    return 1;\r\n\t    }\r\n\t    else if(m == 0 || n&lt;0) {\r\n\t\t    return 0;\r\n\t    }\r\n\t    else {\r\n\t\t    return part(n-m, m) + part(n, m);\r\n\t    }\r\n    }\r\n}\r\n```","title":"function to find number of ways u can split n objects using parts up to m","body":"<p>I'm using recursion to solve the problem. On paper my answer should work so I went wrong with the code. However, I can't figure exactly where the problem is.</p>\n<pre><code>public class Partition {\n    public static void main(String[] args) {\n        System.out.println(part(6,4));\n    }\n\n    public static int part(int n, int m) {\n        if (n==0) {\n            return 1;\n        }\n        else if(m == 0 || n&lt;0) {\n            return 0;\n        }\n        else {\n            return part(n-m, m) + part(n, m);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1656344855,"post_id":72774827,"comment_id":128543452,"body_markdown":"Where is your `Main.java` file?   And you realize you can put other classes and the main in the same file (makes it easier to work on imo).  And please don&#39;t post images or links to outside code.","body":"Where is your <code>Main.java</code> file?   And you realize you can put other classes and the main in the same file (makes it easier to work on imo).  And please don&#39;t post images or links to outside code."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1656345219,"post_id":72774827,"comment_id":128543590,"body_markdown":"Construct and manipulate Swing GUI objects _only_ on the [event dispatch thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html); more [here](https://stackoverflow.com/a/7158505/230513).","body":"Construct and manipulate Swing GUI objects <i>only</i> on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">event dispatch thread</a>; more <a href=\"https://stackoverflow.com/a/7158505/230513\">here</a>."},{"owner":{"account_id":25662348,"reputation":1,"user_id":19427935,"display_name":"Syneptic"},"score":0,"creation_date":1656345248,"post_id":72774827,"comment_id":128543600,"body_markdown":"@WJS The Main.java is in the same src folder as TicTacToe.java. Well I did realize that, it&#39;s just that&#39;s how they did it in the tutorial","body":"@WJS The Main.java is in the same src folder as TicTacToe.java. Well I did realize that, it&#39;s just that&#39;s how they did it in the tutorial"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656345680,"post_id":72774827,"comment_id":128543736,"body_markdown":"Why don&#39;t you move `setVisible(true)` right before `firstTurn()`. Why make anything visible before you are done setting up?  And why are you sleeping for 2 seconds?","body":"Why don&#39;t you move <code>setVisible(true)</code> right before <code>firstTurn()</code>. Why make anything visible before you are done setting up?  And why are you sleeping for 2 seconds?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1656345868,"post_id":72774827,"comment_id":128543802,"body_markdown":"instead of videos, I would strongly recommend WRITTEN tutorials, specially the Oracle&#39;s  one: [The Java™ Tutorials](https://docs.oracle.com/javase/tutorial/) (kind of the developers of Java)","body":"instead of videos, I would strongly recommend WRITTEN tutorials, specially the Oracle&#39;s  one: <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java™ Tutorials</a> (kind of the developers of Java)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656345872,"post_id":72774827,"comment_id":128543804,"body_markdown":"@trashgod  I would agree except for construct.  Constructing a JButton via new isn&#39;t done on the EDT. Perhaps I misunderstood what you meant.","body":"@trashgod  I would agree except for construct.  Constructing a JButton via new isn&#39;t done on the EDT. Perhaps I misunderstood what you meant."},{"owner":{"account_id":25662348,"reputation":1,"user_id":19427935,"display_name":"Syneptic"},"score":1,"creation_date":1656345928,"post_id":72774827,"comment_id":128543829,"body_markdown":"@WJS that&#39;s working!!! Idk man, it was working in the video for the guy, I don&#39;t see why it shouldn&#39;t work on my PC the same way, everything else does. Well, thanks a lot! This did the trick","body":"@WJS that&#39;s working!!! Idk man, it was working in the video for the guy, I don&#39;t see why it shouldn&#39;t work on my PC the same way, everything else does. Well, thanks a lot! This did the trick"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656345970,"post_id":72774827,"comment_id":128543850,"body_markdown":"BTW, I learn lots of things from YouTube.  But I have never found it a good source for learning to code (imho).  I suggest you start by looking  at answers on this site to see how to do graphics.  There are lots of good examples.  Personally, I prefer books.","body":"BTW, I learn lots of things from YouTube.  But I have never found it a good source for learning to code (imho).  I suggest you start by looking  at answers on this site to see how to do graphics.  There are lots of good examples.  Personally, I prefer books."},{"owner":{"account_id":25662348,"reputation":1,"user_id":19427935,"display_name":"Syneptic"},"score":0,"creation_date":1656346250,"post_id":72774827,"comment_id":128543952,"body_markdown":"@WJS I do try to get a lot of infos from here. I&#39;m still pretty new to the whole coding world. YouTube is a pretty good spot to find broad information and then head over to stack overflow to specify questions and tasks. By the way, I had no idea stack overflow had such an incredible response time. You guys responded within the first couple minutes. I definitely wouldn&#39;t have expected that.","body":"@WJS I do try to get a lot of infos from here. I&#39;m still pretty new to the whole coding world. YouTube is a pretty good spot to find broad information and then head over to stack overflow to specify questions and tasks. By the way, I had no idea stack overflow had such an incredible response time. You guys responded within the first couple minutes. I definitely wouldn&#39;t have expected that."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656346254,"post_id":72774827,"comment_id":128543956,"body_markdown":"@Syneptic * that&#39;s working!!! Idk man, it was working in the video for the guy,*  Perhaps his PC was faster.","body":"@Syneptic * that&#39;s working!!! Idk man, it was working in the video for the guy,*  Perhaps his PC was faster."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656346359,"post_id":72774827,"comment_id":128543987,"body_markdown":"BTW, Welcome to StackOverFlow.  Recommend you take the [tour].","body":"BTW, Welcome to StackOverFlow.  Recommend you take the <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"owner":{"account_id":25662348,"reputation":1,"user_id":19427935,"display_name":"Syneptic"},"score":0,"creation_date":1656346365,"post_id":72774827,"comment_id":128543991,"body_markdown":"@WJS while that could be the a possibility, it wouldn&#39;t really make sense to me. Note how it wouldn&#39;t work at all at first until I resized the window which caused it to display the text. It wasn&#39;t a question of time but instead giving it a &#39;trigger&#39;","body":"@WJS while that could be the a possibility, it wouldn&#39;t really make sense to me. Note how it wouldn&#39;t work at all at first until I resized the window which caused it to display the text. It wasn&#39;t a question of time but instead giving it a &#39;trigger&#39;"},{"owner":{"account_id":25662348,"reputation":1,"user_id":19427935,"display_name":"Syneptic"},"score":0,"creation_date":1656346396,"post_id":72774827,"comment_id":128544000,"body_markdown":"@WJS much appreciated, I&#39;ll look into the Tour.","body":"@WJS much appreciated, I&#39;ll look into the Tour."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1656346578,"post_id":72774827,"comment_id":128544056,"body_markdown":"@WJS: I&#39;m paraphrasing the quote [here](https://stackoverflow.com/a/7158505/230513). I share your skepticism of coding videos. Good eye on premature `setVisible()`; it&#39;s a common error.","body":"@WJS: I&#39;m paraphrasing the quote <a href=\"https://stackoverflow.com/a/7158505/230513\">here</a>. I share your skepticism of coding videos. Good eye on premature <code>setVisible()</code>; it&#39;s a common error."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656347506,"post_id":72774827,"comment_id":128544422,"body_markdown":"I just noted your test for victory.  I recommend you rewrite your `check()` method to use `if/else` clauses.  Once a check is successful, why keep on checking after you return from declaring the winner? And consider this.  Why check for both X and 0 wins in the same method?  If one player  just went the other player would have already won or not gone yet.  One way this could be done by passing a `boolean` to determine which player to check.  This may not be an issue now, but it could be in the future when you reset for another game.","body":"I just noted your test for victory.  I recommend you rewrite your <code>check()</code> method to use <code>if&#47;else</code> clauses.  Once a check is successful, why keep on checking after you return from declaring the winner? And consider this.  Why check for both X and 0 wins in the same method?  If one player  just went the other player would have already won or not gone yet.  One way this could be done by passing a <code>boolean</code> to determine which player to check.  This may not be an issue now, but it could be in the future when you reset for another game."},{"owner":{"account_id":25662348,"reputation":1,"user_id":19427935,"display_name":"Syneptic"},"score":0,"creation_date":1656347877,"post_id":72774827,"comment_id":128544583,"body_markdown":"@WJS I haven&#39;t gotten to that part (in the video) yet but I&#39;ll try your suggestion. :) thx for the hint","body":"@WJS I haven&#39;t gotten to that part (in the video) yet but I&#39;ll try your suggestion. :) thx for the hint"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1656349375,"post_id":72774827,"comment_id":128545127,"body_markdown":"And this will be my last comment.  :)  Don&#39;t be using `==` to test Strings or any other `Object` for equality.  Use  `.equals`.  You can use `==` for primitives or to test objects for `null`.  Your program works because Strings are interned (cached) so all the X&#39;s  are the same object as are Y&#39;s.  And I checked the video and the in spite of good intentions, some bad techniques are being demonstrated there.","body":"And this will be my last comment.  :)  Don&#39;t be using <code>==</code> to test Strings or any other <code>Object</code> for equality.  Use  <code>.equals</code>.  You can use <code>==</code> for primitives or to test objects for <code>null</code>.  Your program works because Strings are interned (cached) so all the X&#39;s  are the same object as are Y&#39;s.  And I checked the video and the in spite of good intentions, some bad techniques are being demonstrated there."},{"owner":{"account_id":25662348,"reputation":1,"user_id":19427935,"display_name":"Syneptic"},"score":0,"creation_date":1656351128,"post_id":72774827,"comment_id":128545736,"body_markdown":"@WJS true he actually said that he did some sub-optimal coding because he didn&#39;t think the video would get that much traction. and yes, I did learn about that in a Udemy Java course! Good reminder, thanks :)","body":"@WJS true he actually said that he did some sub-optimal coding because he didn&#39;t think the video would get that much traction. and yes, I did learn about that in a Udemy Java course! Good reminder, thanks :)"}],"owner":{"account_id":25662348,"reputation":1,"user_id":19427935,"display_name":"Syneptic"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656345202,"creation_date":1656344473,"question_id":72774827,"body_markdown":"I&#39;m a beginner to coding. I&#39;m using IntelliJ on a MacBook M1 Pro. So far most things went great and the compiling time is fast. Apps where everything runs in the Terminal work perfectly.\r\n\r\nUnfortunately, when I use Swing instances like JPanel &amp; JFrame there seems to be a delay or complete bug.\r\nI&#39;m watching this tutorial on a Tic Tac Toe game. I&#39;ve done everything the exact same but at this point when I run it only a gray square panel with a white top panel is being displayed. No text.\r\n\r\nWeirdly, when I resize the window, there is a short freeze of the window, followed by the spinning loading wheel and then the text &quot;Tic-Tac-Toe&quot; appears on the top with the correct back-&amp;foreground colors.\r\n\r\nWhen I copy the whole final code from the video it works for some reason. I&#39;ve triple checked everything, so far it&#39;s identical but it&#39;s not working correctly for some reason.\r\n\r\nThere&#39;s a TicTacToe.java and Main.java file in the project.\r\n\r\nMy code so far in TicTacToe.java :\r\n``` \r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.util.*;\r\nimport javax.swing.*;\r\n\r\n\r\n    public class TicTacToe implements ActionListener {\r\n\r\n        Random random = new Random();\r\n        JFrame frame = new JFrame();\r\n        JPanel title_panel = new JPanel();\r\n        JPanel button_panel = new JPanel();\r\n        JLabel textfield = new JLabel();\r\n        JButton[] buttons = new JButton[9];\r\n        boolean player1_turn;\r\n\r\n\r\n        TicTacToe() {\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(800, 800);\r\n            frame.getContentPane().setBackground(new Color(50,50,50));\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setLayout(new BorderLayout());\r\n            frame.setVisible(true);\r\n\r\n\r\n            textfield.setBackground(new Color(9, 21, 227));\r\n            textfield.setForeground(new Color(25, 255, 0));\r\n            textfield.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 75));\r\n            textfield.setHorizontalAlignment(JLabel.CENTER);\r\n            textfield.setText(&quot;Tic-Tac-Toe&quot;);\r\n            textfield.setOpaque(true);\r\n\r\n            title_panel.setLayout(new BorderLayout());\r\n            title_panel.setBounds(0,0,800,100);\r\n\r\n            title_panel.add(textfield);\r\n            frame.add(title_panel,BorderLayout.NORTH);\r\n            \r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n\r\n        }\r\n\r\n        public void firstTurn() {\r\n\r\n        }\r\n\r\n        public void check() {\r\n\r\n        }\r\n\r\n        public void xWins(int a, int b, int c) {\r\n\r\n        }\r\n\r\n        public void oWins(int a, int b, int c) {\r\n\r\n        }\r\n    }\r\n``` \r\n\r\nThe video tutorial&#39;s code:\r\n``` \r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.util.*;\r\nimport javax.swing.*;\r\n\r\npublic class TicTacToe implements ActionListener{\r\n\r\n\tRandom random = new Random();\r\n\tJFrame frame = new JFrame();\r\n\tJPanel title_panel = new JPanel();\r\n\tJPanel button_panel = new JPanel();\r\n\tJLabel textfield = new JLabel();\r\n\tJButton[] buttons = new JButton[9];\r\n\tboolean player1_turn;\r\n\r\n\tTicTacToe(){\r\n\t\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(800,800);\r\n\t\tframe.getContentPane().setBackground(new Color(50,50,50));\r\n\t\tframe.setLayout(new BorderLayout());\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\ttextfield.setBackground(new Color(25,25,25));\r\n\t\ttextfield.setForeground(new Color(25,255,0));\r\n\t\ttextfield.setFont(new Font(&quot;Ink Free&quot;,Font.BOLD,75));\r\n\t\ttextfield.setHorizontalAlignment(JLabel.CENTER);\r\n\t\ttextfield.setText(&quot;Tic-Tac-Toe&quot;);\r\n\t\ttextfield.setOpaque(true);\r\n\t\t\r\n\t\ttitle_panel.setLayout(new BorderLayout());\r\n\t\ttitle_panel.setBounds(0,0,800,100);\r\n\t\t\r\n\t\tbutton_panel.setLayout(new GridLayout(3,3));\r\n\t\tbutton_panel.setBackground(new Color(150,150,150));\r\n\t\t\r\n\t\tfor(int i=0;i&lt;9;i++) {\r\n\t\t\tbuttons[i] = new JButton();\r\n\t\t\tbutton_panel.add(buttons[i]);\r\n\t\t\tbuttons[i].setFont(new Font(&quot;MV Boli&quot;,Font.BOLD,120));\r\n\t\t\tbuttons[i].setFocusable(false);\r\n\t\t\tbuttons[i].addActionListener(this);\r\n\t\t}\r\n\t\t\r\n\t\ttitle_panel.add(textfield);\r\n\t\tframe.add(title_panel,BorderLayout.NORTH);\r\n\t\tframe.add(button_panel);\r\n\t\t\r\n\t\tfirstTurn();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\tfor(int i=0;i&lt;9;i++) {\r\n\t\t\tif(e.getSource()==buttons[i]) {\r\n\t\t\t\tif(player1_turn) {\r\n\t\t\t\t\tif(buttons[i].getText()==&quot;&quot;) {\r\n\t\t\t\t\t\tbuttons[i].setForeground(new Color(255,0,0));\r\n\t\t\t\t\t\tbuttons[i].setText(&quot;X&quot;);\r\n\t\t\t\t\t\tplayer1_turn=false;\r\n\t\t\t\t\t\ttextfield.setText(&quot;O turn&quot;);\r\n\t\t\t\t\t\tcheck();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(buttons[i].getText()==&quot;&quot;) {\r\n\t\t\t\t\t\tbuttons[i].setForeground(new Color(0,0,255));\r\n\t\t\t\t\t\tbuttons[i].setText(&quot;O&quot;);\r\n\t\t\t\t\t\tplayer1_turn=true;\r\n\t\t\t\t\t\ttextfield.setText(&quot;X turn&quot;);\r\n\t\t\t\t\t\tcheck();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void firstTurn() {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tThread.sleep(2000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tif(random.nextInt(2)==0) {\r\n\t\t\tplayer1_turn=true;\r\n\t\t\ttextfield.setText(&quot;X turn&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tplayer1_turn=false;\r\n\t\t\ttextfield.setText(&quot;O turn&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void check() {\r\n\t\t//check X win conditions\r\n\t\tif(\r\n\t\t\t\t(buttons[0].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[1].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[2].getText()==&quot;X&quot;)\r\n\t\t\t\t) {\r\n\t\t\txWins(0,1,2);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[3].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[4].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[5].getText()==&quot;X&quot;)\r\n\t\t\t\t) {\r\n\t\t\txWins(3,4,5);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[6].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[7].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[8].getText()==&quot;X&quot;)\r\n\t\t\t\t) {\r\n\t\t\txWins(6,7,8);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[0].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[3].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[6].getText()==&quot;X&quot;)\r\n\t\t\t\t) {\r\n\t\t\txWins(0,3,6);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[1].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[4].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[7].getText()==&quot;X&quot;)\r\n\t\t\t\t) {\r\n\t\t\txWins(1,4,7);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[2].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[5].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[8].getText()==&quot;X&quot;)\r\n\t\t\t\t) {\r\n\t\t\txWins(2,5,8);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[0].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[4].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[8].getText()==&quot;X&quot;)\r\n\t\t\t\t) {\r\n\t\t\txWins(0,4,8);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[2].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[4].getText()==&quot;X&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[6].getText()==&quot;X&quot;)\r\n\t\t\t\t) {\r\n\t\t\txWins(2,4,6);\r\n\t\t}\r\n\t\t//check O win conditions\r\n\t\tif(\r\n\t\t\t\t(buttons[0].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[1].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[2].getText()==&quot;O&quot;)\r\n\t\t\t\t) {\r\n\t\t\toWins(0,1,2);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[3].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[4].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[5].getText()==&quot;O&quot;)\r\n\t\t\t\t) {\r\n\t\t\toWins(3,4,5);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[6].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[7].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[8].getText()==&quot;O&quot;)\r\n\t\t\t\t) {\r\n\t\t\toWins(6,7,8);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[0].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[3].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[6].getText()==&quot;O&quot;)\r\n\t\t\t\t) {\r\n\t\t\toWins(0,3,6);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[1].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[4].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[7].getText()==&quot;O&quot;)\r\n\t\t\t\t) {\r\n\t\t\toWins(1,4,7);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[2].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[5].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[8].getText()==&quot;O&quot;)\r\n\t\t\t\t) {\r\n\t\t\toWins(2,5,8);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[0].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[4].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[8].getText()==&quot;O&quot;)\r\n\t\t\t\t) {\r\n\t\t\toWins(0,4,8);\r\n\t\t}\r\n\t\tif(\r\n\t\t\t\t(buttons[2].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[4].getText()==&quot;O&quot;) &amp;&amp;\r\n\t\t\t\t(buttons[6].getText()==&quot;O&quot;)\r\n\t\t\t\t) {\r\n\t\t\toWins(2,4,6);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void xWins(int a,int b,int c) {\r\n\t\tbuttons[a].setBackground(Color.GREEN);\r\n\t\tbuttons[b].setBackground(Color.GREEN);\r\n\t\tbuttons[c].setBackground(Color.GREEN);\r\n\t\t\r\n\t\tfor(int i=0;i&lt;9;i++) {\r\n\t\t\tbuttons[i].setEnabled(false);\r\n\t\t}\r\n\t\ttextfield.setText(&quot;X wins&quot;);\r\n\t}\r\n\tpublic void oWins(int a,int b,int c) {\r\n\t\tbuttons[a].setBackground(Color.GREEN);\r\n\t\tbuttons[b].setBackground(Color.GREEN);\r\n\t\tbuttons[c].setBackground(Color.GREEN);\r\n\t\t\r\n\t\tfor(int i=0;i&lt;9;i++) {\r\n\t\t\tbuttons[i].setEnabled(false);\r\n\t\t}\r\n\t\ttextfield.setText(&quot;O wins&quot;);\r\n\t}\r\n}\r\n``` \r\n\r\nI&#39;m thinking it&#39;s something with perhaps the JDK or an incompatibility with mac and IntelliJ, I dont know. I&#39;ve already reinstalled IntelliJ and reset it to factory settings.\r\n\r\nIf anyone has any ideas please share. I&#39;ve googled a lot and couldn&#39;t find any solution.\r\n","title":"There is always a delay or bug when running JPanel &amp; JFrame instances (Mac M1 Pro)","body":"<p>I'm a beginner to coding. I'm using IntelliJ on a MacBook M1 Pro. So far most things went great and the compiling time is fast. Apps where everything runs in the Terminal work perfectly.</p>\n<p>Unfortunately, when I use Swing instances like JPanel &amp; JFrame there seems to be a delay or complete bug.\nI'm watching this tutorial on a Tic Tac Toe game. I've done everything the exact same but at this point when I run it only a gray square panel with a white top panel is being displayed. No text.</p>\n<p>Weirdly, when I resize the window, there is a short freeze of the window, followed by the spinning loading wheel and then the text &quot;Tic-Tac-Toe&quot; appears on the top with the correct back-&amp;foreground colors.</p>\n<p>When I copy the whole final code from the video it works for some reason. I've triple checked everything, so far it's identical but it's not working correctly for some reason.</p>\n<p>There's a TicTacToe.java and Main.java file in the project.</p>\n<p>My code so far in TicTacToe.java :</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport javax.swing.*;\n\n\n    public class TicTacToe implements ActionListener {\n\n        Random random = new Random();\n        JFrame frame = new JFrame();\n        JPanel title_panel = new JPanel();\n        JPanel button_panel = new JPanel();\n        JLabel textfield = new JLabel();\n        JButton[] buttons = new JButton[9];\n        boolean player1_turn;\n\n\n        TicTacToe() {\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setSize(800, 800);\n            frame.getContentPane().setBackground(new Color(50,50,50));\n            frame.setLocationRelativeTo(null);\n            frame.setLayout(new BorderLayout());\n            frame.setVisible(true);\n\n\n            textfield.setBackground(new Color(9, 21, 227));\n            textfield.setForeground(new Color(25, 255, 0));\n            textfield.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 75));\n            textfield.setHorizontalAlignment(JLabel.CENTER);\n            textfield.setText(&quot;Tic-Tac-Toe&quot;);\n            textfield.setOpaque(true);\n\n            title_panel.setLayout(new BorderLayout());\n            title_panel.setBounds(0,0,800,100);\n\n            title_panel.add(textfield);\n            frame.add(title_panel,BorderLayout.NORTH);\n            \n\n        }\n\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n        }\n\n        public void firstTurn() {\n\n        }\n\n        public void check() {\n\n        }\n\n        public void xWins(int a, int b, int c) {\n\n        }\n\n        public void oWins(int a, int b, int c) {\n\n        }\n    }\n</code></pre>\n<p>The video tutorial's code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport javax.swing.*;\n\npublic class TicTacToe implements ActionListener{\n\n    Random random = new Random();\n    JFrame frame = new JFrame();\n    JPanel title_panel = new JPanel();\n    JPanel button_panel = new JPanel();\n    JLabel textfield = new JLabel();\n    JButton[] buttons = new JButton[9];\n    boolean player1_turn;\n\n    TicTacToe(){\n        \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800,800);\n        frame.getContentPane().setBackground(new Color(50,50,50));\n        frame.setLayout(new BorderLayout());\n        frame.setVisible(true);\n        \n        textfield.setBackground(new Color(25,25,25));\n        textfield.setForeground(new Color(25,255,0));\n        textfield.setFont(new Font(&quot;Ink Free&quot;,Font.BOLD,75));\n        textfield.setHorizontalAlignment(JLabel.CENTER);\n        textfield.setText(&quot;Tic-Tac-Toe&quot;);\n        textfield.setOpaque(true);\n        \n        title_panel.setLayout(new BorderLayout());\n        title_panel.setBounds(0,0,800,100);\n        \n        button_panel.setLayout(new GridLayout(3,3));\n        button_panel.setBackground(new Color(150,150,150));\n        \n        for(int i=0;i&lt;9;i++) {\n            buttons[i] = new JButton();\n            button_panel.add(buttons[i]);\n            buttons[i].setFont(new Font(&quot;MV Boli&quot;,Font.BOLD,120));\n            buttons[i].setFocusable(false);\n            buttons[i].addActionListener(this);\n        }\n        \n        title_panel.add(textfield);\n        frame.add(title_panel,BorderLayout.NORTH);\n        frame.add(button_panel);\n        \n        firstTurn();\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n        for(int i=0;i&lt;9;i++) {\n            if(e.getSource()==buttons[i]) {\n                if(player1_turn) {\n                    if(buttons[i].getText()==&quot;&quot;) {\n                        buttons[i].setForeground(new Color(255,0,0));\n                        buttons[i].setText(&quot;X&quot;);\n                        player1_turn=false;\n                        textfield.setText(&quot;O turn&quot;);\n                        check();\n                    }\n                }\n                else {\n                    if(buttons[i].getText()==&quot;&quot;) {\n                        buttons[i].setForeground(new Color(0,0,255));\n                        buttons[i].setText(&quot;O&quot;);\n                        player1_turn=true;\n                        textfield.setText(&quot;X turn&quot;);\n                        check();\n                    }\n                }\n            }           \n        }\n    }\n    \n    public void firstTurn() {\n        \n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        if(random.nextInt(2)==0) {\n            player1_turn=true;\n            textfield.setText(&quot;X turn&quot;);\n        }\n        else {\n            player1_turn=false;\n            textfield.setText(&quot;O turn&quot;);\n        }\n    }\n    \n    public void check() {\n        //check X win conditions\n        if(\n                (buttons[0].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[1].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[2].getText()==&quot;X&quot;)\n                ) {\n            xWins(0,1,2);\n        }\n        if(\n                (buttons[3].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[4].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[5].getText()==&quot;X&quot;)\n                ) {\n            xWins(3,4,5);\n        }\n        if(\n                (buttons[6].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[7].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[8].getText()==&quot;X&quot;)\n                ) {\n            xWins(6,7,8);\n        }\n        if(\n                (buttons[0].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[3].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[6].getText()==&quot;X&quot;)\n                ) {\n            xWins(0,3,6);\n        }\n        if(\n                (buttons[1].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[4].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[7].getText()==&quot;X&quot;)\n                ) {\n            xWins(1,4,7);\n        }\n        if(\n                (buttons[2].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[5].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[8].getText()==&quot;X&quot;)\n                ) {\n            xWins(2,5,8);\n        }\n        if(\n                (buttons[0].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[4].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[8].getText()==&quot;X&quot;)\n                ) {\n            xWins(0,4,8);\n        }\n        if(\n                (buttons[2].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[4].getText()==&quot;X&quot;) &amp;&amp;\n                (buttons[6].getText()==&quot;X&quot;)\n                ) {\n            xWins(2,4,6);\n        }\n        //check O win conditions\n        if(\n                (buttons[0].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[1].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[2].getText()==&quot;O&quot;)\n                ) {\n            oWins(0,1,2);\n        }\n        if(\n                (buttons[3].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[4].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[5].getText()==&quot;O&quot;)\n                ) {\n            oWins(3,4,5);\n        }\n        if(\n                (buttons[6].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[7].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[8].getText()==&quot;O&quot;)\n                ) {\n            oWins(6,7,8);\n        }\n        if(\n                (buttons[0].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[3].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[6].getText()==&quot;O&quot;)\n                ) {\n            oWins(0,3,6);\n        }\n        if(\n                (buttons[1].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[4].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[7].getText()==&quot;O&quot;)\n                ) {\n            oWins(1,4,7);\n        }\n        if(\n                (buttons[2].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[5].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[8].getText()==&quot;O&quot;)\n                ) {\n            oWins(2,5,8);\n        }\n        if(\n                (buttons[0].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[4].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[8].getText()==&quot;O&quot;)\n                ) {\n            oWins(0,4,8);\n        }\n        if(\n                (buttons[2].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[4].getText()==&quot;O&quot;) &amp;&amp;\n                (buttons[6].getText()==&quot;O&quot;)\n                ) {\n            oWins(2,4,6);\n        }\n    }\n    \n    public void xWins(int a,int b,int c) {\n        buttons[a].setBackground(Color.GREEN);\n        buttons[b].setBackground(Color.GREEN);\n        buttons[c].setBackground(Color.GREEN);\n        \n        for(int i=0;i&lt;9;i++) {\n            buttons[i].setEnabled(false);\n        }\n        textfield.setText(&quot;X wins&quot;);\n    }\n    public void oWins(int a,int b,int c) {\n        buttons[a].setBackground(Color.GREEN);\n        buttons[b].setBackground(Color.GREEN);\n        buttons[c].setBackground(Color.GREEN);\n        \n        for(int i=0;i&lt;9;i++) {\n            buttons[i].setEnabled(false);\n        }\n        textfield.setText(&quot;O wins&quot;);\n    }\n}\n</code></pre>\n<p>I'm thinking it's something with perhaps the JDK or an incompatibility with mac and IntelliJ, I dont know. I've already reinstalled IntelliJ and reset it to factory settings.</p>\n<p>If anyone has any ideas please share. I've googled a lot and couldn't find any solution.</p>\n"},{"tags":["java","arrays","mime-types"],"comments":[{"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"score":1,"creation_date":1448885888,"post_id":33998407,"comment_id":55752386,"body_markdown":"byte[] contains a MIME Type? Please give more (much more!) details. And some source as example please.","body":"byte[] contains a MIME Type? Please give more (much more!) details. And some source as example please."}],"answers":[{"tags":[],"owner":{"account_id":7227751,"reputation":638,"user_id":5515739,"display_name":"mayank agrawal"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1584987075,"creation_date":1448886270,"answer_id":33998633,"question_id":33998407,"body_markdown":"   You can use the [`MimetypesFileTypeMap`][1] provided class from Java 6. This class is exclusively used to fetch the *MIME type*.\r\n\r\nUse it to fetch the MIME type as shown below:\r\n       \r\n    byte[] content = ;\r\n    InputStream is = new BufferedInputStream(new ByteArrayInputStream(content));\r\n    String mimeType = URLConnection.guessContentTypeFromStream(is);\r\n\r\nFor fetching from File you can use below code:\r\n    \r\n    MimetypesFileTypeMap mimeTypesMap = new MimetypesFileTypeMap();\r\n    String mime = mimeTypesMap.getContentType(file);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/javax/activation/MimetypesFileTypeMap.html","title":"How to fetch the MIME type from byte array in Java 6?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/6/docs/api/javax/activation/MimetypesFileTypeMap.html\" rel=\"noreferrer\"><code>MimetypesFileTypeMap</code></a> provided class from Java 6. This class is exclusively used to fetch the <em>MIME type</em>.</p>\n\n<p>Use it to fetch the MIME type as shown below:</p>\n\n<pre><code>byte[] content = ;\nInputStream is = new BufferedInputStream(new ByteArrayInputStream(content));\nString mimeType = URLConnection.guessContentTypeFromStream(is);\n</code></pre>\n\n<p>For fetching from File you can use below code:</p>\n\n<pre><code>MimetypesFileTypeMap mimeTypesMap = new MimetypesFileTypeMap();\nString mime = mimeTypesMap.getContentType(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2402568,"reputation":1540,"user_id":2099917,"display_name":"MrSpock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581967600,"creation_date":1581967600,"answer_id":60269183,"question_id":33998407,"body_markdown":"Good working library https://github.com/overview/mime-types\r\n\r\nImport (via gradle.kts):\r\n\r\n    implementation(&quot;org.overviewproject:mime-types:0.1.3&quot;)\r\n\r\nUsage\r\n\r\n    // input\r\n    final var fileName = &quot;somefile.html&quot;;\r\n    final var content = &quot;&lt;html&gt;&lt;/html&gt;&quot;.getBytes();\r\n\r\n    final var mimeTypeDetector = new MimeTypeDetector(); // initialize only once, reuse!\r\n    final var mimeType = mimeTypeDetector.detectMimeType(fileName, () -&gt; content);\r\n\r\n    System.out.println(mimeType); // prints: text/html\r\n","title":"How to fetch the MIME type from byte array in Java 6?","body":"<p>Good working library <a href=\"https://github.com/overview/mime-types\" rel=\"nofollow noreferrer\">https://github.com/overview/mime-types</a></p>\n\n<p>Import (via gradle.kts):</p>\n\n<pre><code>implementation(\"org.overviewproject:mime-types:0.1.3\")\n</code></pre>\n\n<p>Usage</p>\n\n<pre><code>// input\nfinal var fileName = \"somefile.html\";\nfinal var content = \"&lt;html&gt;&lt;/html&gt;\".getBytes();\n\nfinal var mimeTypeDetector = new MimeTypeDetector(); // initialize only once, reuse!\nfinal var mimeType = mimeTypeDetector.detectMimeType(fileName, () -&gt; content);\n\nSystem.out.println(mimeType); // prints: text/html\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5396458,"reputation":1476,"user_id":4297541,"display_name":"PoorInRichfield"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656345103,"creation_date":1656345103,"answer_id":72774947,"question_id":33998407,"body_markdown":"[Apache Tika library][1] is proving to be the most accurate in detecting proper MIME type from a byte array in my tests, much better than Java&#39;s `URLConnection.guessContentTypeFromStream()` which has proven not very reliable for me.\r\n\r\n\r\n  [1]: https://tika.apache.org/","title":"How to fetch the MIME type from byte array in Java 6?","body":"<p><a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">Apache Tika library</a> is proving to be the most accurate in detecting proper MIME type from a byte array in my tests, much better than Java's <code>URLConnection.guessContentTypeFromStream()</code> which has proven not very reliable for me.</p>\n"}],"owner":{"account_id":7321995,"reputation":148,"user_id":5577718,"display_name":"Dinesh Padmanabhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32460,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":33998633,"answer_count":3,"score":11,"last_activity_date":1656345103,"creation_date":1448885486,"question_id":33998407,"body_markdown":"I have been trying to figure out how to fetch the *MIME type* from byte array in Java 6, but unfortunately have not been able fetch the MIME type yet.\r\n\r\nCan someone help me get out of this?\r\n","title":"How to fetch the MIME type from byte array in Java 6?","body":"<p>I have been trying to figure out how to fetch the <em>MIME type</em> from byte array in Java 6, but unfortunately have not been able fetch the MIME type yet.</p>\n\n<p>Can someone help me get out of this?</p>\n"},{"tags":["java","exception","runnable","throw"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656297948,"post_id":72766457,"comment_id":128529066,"body_markdown":"The run method in the `Runnable` class does not have `throws Exception` so you can not override it like that. To fix this simply remove `throws Exception` from here `public void run() throws Exception {` like so `public void run() {` and instead throw the exception from within the method as you are already doing.","body":"The run method in the <code>Runnable</code> class does not have <code>throws Exception</code> so you can not override it like that. To fix this simply remove <code>throws Exception</code> from here <code>public void run() throws Exception {</code> like so <code>public void run() {</code> and instead throw the exception from within the method as you are already doing."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656297632,"creation_date":1656297632,"answer_id":72766520,"question_id":72766457,"body_markdown":"Looks like a similar question has been asked before:  https://stackoverflow.com/questions/21333260/java-how-to-override-a-method-and-throw-exception\r\n\r\nWould throwing a RuntimeException meet your requirement? \r\n\r\n```\r\n  class ExceptionRunnable implements Runnable {\r\n    @Override\r\n    public void run() {\r\n      throw new RuntimeException(&quot;ExceptionRunnable&quot;);\r\n    }\r\n  }\r\n```","title":"Jdk failed to compile my code that throws exception inside Runnable","body":"<p>Looks like a similar question has been asked before:  <a href=\"https://stackoverflow.com/questions/21333260/java-how-to-override-a-method-and-throw-exception\">Java : How to override a method and throw exception?</a></p>\n<p>Would throwing a RuntimeException meet your requirement?</p>\n<pre><code>  class ExceptionRunnable implements Runnable {\n    @Override\n    public void run() {\n      throw new RuntimeException(&quot;ExceptionRunnable&quot;);\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656298441,"creation_date":1656298441,"answer_id":72766584,"question_id":72766457,"body_markdown":"When compiling your code:\r\n```\r\nclass ExceptionRunnable implements Runnable {\r\n    @Override\r\n    public void run() throws Exception {\r\n        throw new Exception(&quot;ExceptionRunnable&quot;);\r\n    }\r\n}\r\n```\r\nThe compiler shows the following error:\r\n```\r\njava: run() in ExceptionRunnable cannot implement run() in java.lang.Runnable\r\n  overridden method does not throw java.lang.Exception\r\n```\r\n\r\nWhy? Because the method you&#39;re overriding - [`Runnable.run()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html#run--) - has this signature (note the absence of a `throws` clause):\r\n```\r\nvoid run()\r\n```\r\n\r\nTo fix the first issue then, change your code from this:\r\n```\r\npublic void run() throws Exception {\r\n```\r\nto this, so that the signatures match:\r\n```\r\npublic void run() {\r\n```\r\n\r\nAfter making that change, you will uncover the next compiler error:\r\n```\r\njava: unreported exception java.lang.Exception; must be caught or declared to be thrown\r\n```\r\nThis is saying that your own code is throwing an `Exception` which is both not caught and not declared in the throws clause. You&#39;ve already found that you can&#39;t add it to the throws clause though – that&#39;s what you initially tried to do. So the other option would be to catch the exception in your `run()` method, like below:\r\n```\r\n@Override\r\npublic void run() {\r\n    try {\r\n        throw new Exception(&quot;ExceptionRunnable&quot;);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nAnother option would be to throw a [`RuntimeException`](https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html), like below, but you should _only_ do this with intention, fully understanding what it means to introduce unchecked exceptions into your code.\r\n```\r\n@Override\r\npublic void run() {\r\n    throw new RuntimeException(&quot;ExceptionRunnable&quot;);\r\n}\r\n```\r\n","title":"Jdk failed to compile my code that throws exception inside Runnable","body":"<p>When compiling your code:</p>\n<pre><code>class ExceptionRunnable implements Runnable {\n    @Override\n    public void run() throws Exception {\n        throw new Exception(&quot;ExceptionRunnable&quot;);\n    }\n}\n</code></pre>\n<p>The compiler shows the following error:</p>\n<pre><code>java: run() in ExceptionRunnable cannot implement run() in java.lang.Runnable\n  overridden method does not throw java.lang.Exception\n</code></pre>\n<p>Why? Because the method you're overriding - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html#run--\" rel=\"nofollow noreferrer\"><code>Runnable.run()</code></a> - has this signature (note the absence of a <code>throws</code> clause):</p>\n<pre><code>void run()\n</code></pre>\n<p>To fix the first issue then, change your code from this:</p>\n<pre><code>public void run() throws Exception {\n</code></pre>\n<p>to this, so that the signatures match:</p>\n<pre><code>public void run() {\n</code></pre>\n<p>After making that change, you will uncover the next compiler error:</p>\n<pre><code>java: unreported exception java.lang.Exception; must be caught or declared to be thrown\n</code></pre>\n<p>This is saying that your own code is throwing an <code>Exception</code> which is both not caught and not declared in the throws clause. You've already found that you can't add it to the throws clause though – that's what you initially tried to do. So the other option would be to catch the exception in your <code>run()</code> method, like below:</p>\n<pre><code>@Override\npublic void run() {\n    try {\n        throw new Exception(&quot;ExceptionRunnable&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Another option would be to throw a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html\" rel=\"nofollow noreferrer\"><code>RuntimeException</code></a>, like below, but you should <em>only</em> do this with intention, fully understanding what it means to introduce unchecked exceptions into your code.</p>\n<pre><code>@Override\npublic void run() {\n    throw new RuntimeException(&quot;ExceptionRunnable&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656309050,"creation_date":1656309050,"answer_id":72767461,"question_id":72766457,"body_markdown":"According to the rules of *method overriding* can not declare to throw **checked exceptions** (or their super types up to `Throwable`) that not declared by parent while overriding the method in the subclass. \r\n\r\nA quote from the [*Language specification*](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8.3):\r\n\r\n&gt; If m2 has a **throws clause** that mentions any **checked exception** types,\r\n&gt; then m1 must have a throws clause, or a **compile-time error occurs**.\r\n\r\nSuch situation when child has less safe behavior that its parent also voilates the [*Liskov substitution principle*](https://en.wikipedia.org/wiki/Liskov_substitution_principle), which states that client code that expects an instance of the parent should be able to use its child without knowing it. Because in case when child has less safe behavior, the client would not be to handle it with the code that is suitable for the parent.\r\n\r\nSuper type `Exception` is *checked* (i.e. compiler should ensure that it&#39;s handled properly whenever might occur) and method `run()` doesn&#39;t declare to throw any *checked exception*, therefore you can&#39;t override `run()` by including `Exception` in the `throws` close.\r\n\r\nYou can include any type of *unchecked exception* in the `throws` close of `run()`. The code below is valid and would compile:\r\n\r\n    class MyRunnable implements Runnable {\r\n        @Override\r\n        public void run() throws RuntimeException {\r\n            // todo\r\n        }\r\n    }\r\n\r\nAll *checked exceptions* that your code might throw should be handled inside `run()` and can not be propagated to the caller:\r\n\r\n    class MyRunnable implements Runnable {\r\n        @Override\r\n        public void run() throws RuntimeException {\r\n            try {\r\n                Thread.sleep(1_000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n*Note:* avoid declare to `throw` as well as avoid catching super types like `Exception`, or `Throwable`, it&#39;s a bad habit. Be as much specific as it&#39;s possible","title":"Jdk failed to compile my code that throws exception inside Runnable","body":"<p>According to the rules of <em>method overriding</em> can not declare to throw <strong>checked exceptions</strong> (or their super types up to <code>Throwable</code>) that not declared by parent while overriding the method in the subclass.</p>\n<p>A quote from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8.3\" rel=\"nofollow noreferrer\"><em>Language specification</em></a>:</p>\n<blockquote>\n<p>If m2 has a <strong>throws clause</strong> that mentions any <strong>checked exception</strong> types,\nthen m1 must have a throws clause, or a <strong>compile-time error occurs</strong>.</p>\n</blockquote>\n<p>Such situation when child has less safe behavior that its parent also voilates the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\"><em>Liskov substitution principle</em></a>, which states that client code that expects an instance of the parent should be able to use its child without knowing it. Because in case when child has less safe behavior, the client would not be to handle it with the code that is suitable for the parent.</p>\n<p>Super type <code>Exception</code> is <em>checked</em> (i.e. compiler should ensure that it's handled properly whenever might occur) and method <code>run()</code> doesn't declare to throw any <em>checked exception</em>, therefore you can't override <code>run()</code> by including <code>Exception</code> in the <code>throws</code> close.</p>\n<p>You can include any type of <em>unchecked exception</em> in the <code>throws</code> close of <code>run()</code>. The code below is valid and would compile:</p>\n<pre><code>class MyRunnable implements Runnable {\n    @Override\n    public void run() throws RuntimeException {\n        // todo\n    }\n}\n</code></pre>\n<p>All <em>checked exceptions</em> that your code might throw should be handled inside <code>run()</code> and can not be propagated to the caller:</p>\n<pre><code>class MyRunnable implements Runnable {\n    @Override\n    public void run() throws RuntimeException {\n        try {\n            Thread.sleep(1_000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><em>Note:</em> avoid declare to <code>throw</code> as well as avoid catching super types like <code>Exception</code>, or <code>Throwable</code>, it's a bad habit. Be as much specific as it's possible</p>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1656325845,"accepted_answer_id":72766584,"answer_count":3,"score":2,"last_activity_date":1656344615,"creation_date":1656296757,"question_id":72766457,"body_markdown":"I&#39;m trying to throw exception from within a Runnable object, like this:\r\n```\r\n  class ExceptionRunnable implements Runnable {\r\n    @Override\r\n    public void run() throws Exception {\r\n      throw new Exception(&quot;ExceptionRunnable&quot;);\r\n    }\r\n  }\r\n```\r\n\r\nCompilation error: xxx.ExceptionRunnable.run() doesn&#39;t implement java.lang.Runnable.run(). The overriden run() doesn&#39;t throw java.lang.InterruptedException.\r\n\r\nThis is really odd, I&#39;m throwing a ```new Exception``` in the ```run``` function, but compiler said I didn&#39;t throw anything. I&#39;m using jdk1.8 on windows.\r\n\r\nHow to handle this?\r\n","title":"Jdk failed to compile my code that throws exception inside Runnable","body":"<p>I'm trying to throw exception from within a Runnable object, like this:</p>\n<pre><code>  class ExceptionRunnable implements Runnable {\n    @Override\n    public void run() throws Exception {\n      throw new Exception(&quot;ExceptionRunnable&quot;);\n    }\n  }\n</code></pre>\n<p>Compilation error: xxx.ExceptionRunnable.run() doesn't implement java.lang.Runnable.run(). The overriden run() doesn't throw java.lang.InterruptedException.</p>\n<p>This is really odd, I'm throwing a <code>new Exception</code> in the <code>run</code> function, but compiler said I didn't throw anything. I'm using jdk1.8 on windows.</p>\n<p>How to handle this?</p>\n"},{"tags":["java","arrays","arraylist"],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1617616341,"creation_date":1617616341,"answer_id":66951136,"question_id":66950972,"body_markdown":"The line `users.clear();` is causing the issue. \r\n\r\nIn the first iteration you add users 1 and 2 to that list. Then in the constructor you are passing this list.\r\n```java\r\nGroupUserMapping groupUserMapping = new GroupUserMapping(group,users);\r\n```\r\n\r\nNow in the second iteration, you clear the loop and then add users 2 and 3. Since the first group has the reference to the same list, G1&#39;s user list is also cleared and user 2 and 3 are added.\r\n\r\nYou need to replace the `users.clear();` with \r\n```java\r\nusers = new ArrayList&lt;String&gt;();\r\n```\r\n\r\nIn the above case, the data is unchanged, only the `users` variable now points to a different location. Hence there won&#39;t be any changes to the list of G1.","title":"Adding elements to a array list/Pojo","body":"<p>The line <code>users.clear();</code> is causing the issue.</p>\n<p>In the first iteration you add users 1 and 2 to that list. Then in the constructor you are passing this list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>GroupUserMapping groupUserMapping = new GroupUserMapping(group,users);\n</code></pre>\n<p>Now in the second iteration, you clear the loop and then add users 2 and 3. Since the first group has the reference to the same list, G1's user list is also cleared and user 2 and 3 are added.</p>\n<p>You need to replace the <code>users.clear();</code> with</p>\n<pre class=\"lang-java prettyprint-override\"><code>users = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>In the above case, the data is unchanged, only the <code>users</code> variable now points to a different location. Hence there won't be any changes to the list of G1.</p>\n"}],"owner":{"account_id":5832968,"reputation":90,"user_id":4596918,"display_name":"Susmitha Thallapally"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66951136,"answer_count":1,"score":1,"last_activity_date":1656344521,"creation_date":1617615629,"question_id":66950972,"body_markdown":"I am having an issue with adding elements to an ArrayList. I created a POJO like my array list.\r\n```\r\npublic class GroupUserMapping {\r\n    String group;\r\n    ArrayList&lt;String&gt; users;\r\n//setters getters constructor\r\n}\r\n```\r\n\r\nI have a function where I am reading a text file to get Groups which I stored in groups array now for those groups I need to loop through all the records in other text file and get all the users who have this group mapping and according to my condition I am trying to add elements to the Pojo ArrayList like this:\r\n```\r\n ArrayList&lt;GroupUserMapping&gt; usergroups = new ArrayList&lt; GroupUserMapping &gt;();\r\n        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; groups = getGroups();// This used for lopping I have certain groups.\r\n        Scanner s = null;\r\n\r\n        String group=&quot;&quot;;\r\n       for(int i= 0;i&lt;groups.size();i++ ){\r\n           s = new Scanner(new File(getClass().getClassLoader().getResource(mappingFile).getFile()));\r\n           s.useDelimiter(&quot;\\r\\n&quot;);\r\n           group=groups.get(i);\r\n           users.clear();\r\n           while (s.hasNext()) {\r\n               String aLine = s.next();\r\n               String[] value = aLine.split(&quot;:&quot;);\r\n\r\n               if(group.equalsIgnoreCase(value[0]))\r\n               {\r\n                   LOGGER.info(group+&quot;:&quot;+value[1]);\r\n                   users.add(value[1]);\r\n               }\r\n           }\r\n            GroupUserMapping groupUserMapping = new GroupUserMapping(group,users);\r\n          \r\n            usergroups.add(groupUserMapping);\r\n           s.close();\r\n```\r\n\r\nThe issue is when I am reading for Group say G1 I got users u1,u2 and these mapping is correctly stored in usergroups but next loop when I am searching for Group G2 I have users U2,U3. Here in the 2nd loop, it is also updating 1st Group values as well. Ideally my elements should be G1-&gt;U1,U2 and G2-&gt; U2,U3 but my code is adding elements like this. G1-&gt;U2,U3  G2-&gt; U2,U3. What I am doing wrong here?","title":"Adding elements to a array list/Pojo","body":"<p>I am having an issue with adding elements to an ArrayList. I created a POJO like my array list.</p>\n<pre><code>public class GroupUserMapping {\n    String group;\n    ArrayList&lt;String&gt; users;\n//setters getters constructor\n}\n</code></pre>\n<p>I have a function where I am reading a text file to get Groups which I stored in groups array now for those groups I need to loop through all the records in other text file and get all the users who have this group mapping and according to my condition I am trying to add elements to the Pojo ArrayList like this:</p>\n<pre><code> ArrayList&lt;GroupUserMapping&gt; usergroups = new ArrayList&lt; GroupUserMapping &gt;();\n        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; groups = getGroups();// This used for lopping I have certain groups.\n        Scanner s = null;\n\n        String group=&quot;&quot;;\n       for(int i= 0;i&lt;groups.size();i++ ){\n           s = new Scanner(new File(getClass().getClassLoader().getResource(mappingFile).getFile()));\n           s.useDelimiter(&quot;\\r\\n&quot;);\n           group=groups.get(i);\n           users.clear();\n           while (s.hasNext()) {\n               String aLine = s.next();\n               String[] value = aLine.split(&quot;:&quot;);\n\n               if(group.equalsIgnoreCase(value[0]))\n               {\n                   LOGGER.info(group+&quot;:&quot;+value[1]);\n                   users.add(value[1]);\n               }\n           }\n            GroupUserMapping groupUserMapping = new GroupUserMapping(group,users);\n          \n            usergroups.add(groupUserMapping);\n           s.close();\n</code></pre>\n<p>The issue is when I am reading for Group say G1 I got users u1,u2 and these mapping is correctly stored in usergroups but next loop when I am searching for Group G2 I have users U2,U3. Here in the 2nd loop, it is also updating 1st Group values as well. Ideally my elements should be G1-&gt;U1,U2 and G2-&gt; U2,U3 but my code is adding elements like this. G1-&gt;U2,U3  G2-&gt; U2,U3. What I am doing wrong here?</p>\n"},{"tags":["java","kubernetes","quarkus","graalvm","jaeger"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1656396309,"post_id":72774603,"comment_id":128554843,"body_markdown":"I vaguely remember someone reporting a similar issue on Github. Have you checked?","body":"I vaguely remember someone reporting a similar issue on Github. Have you checked?"},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1656428825,"post_id":72774603,"comment_id":128567349,"body_markdown":"Didn&#39;t get a response anywhere.","body":"Didn&#39;t get a response anywhere."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1656927057,"post_id":72774603,"comment_id":128681842,"body_markdown":"can you put a reproducer in github ?","body":"can you put a reproducer in github ?"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656343432,"creation_date":1656343432,"question_id":72774603,"body_markdown":"I am trying to compile an application in Quarkus Native and monitor it using Jaeger Traicing, however, I am encountering a problem that when compiling it is taking the wrong url and not the one I should use to work with opentracing:\r\n\r\nExample application.properties file:\r\n\r\n    quarkus.datasource.db-kind=oracle\r\n    quarkus.datasource.jdbc.driver=io.opentracing.contrib.jdbc.TracingDriver\r\n    quarkus.datasource.jdbc.url=jdbc:tracing:oracle:thin:@172.28.2.134:1522/IVR\r\n    quarkus.datasource.username=${USERNAME_CONNECTION_BD:xxxxxxxxxxxxx}\r\n    quarkus.datasource.password=${PASSWORD_CONNECTION_BD:xxxxxxxxxx}\r\n    quarkus.http.port=${PORT:8082}\r\n    quarkus.http.ssl-port=${PORT-SSl:8083}\r\n    quarkus.jaeger.service-name=find-puk-code-tracing\r\n    quarkus.jaeger.sampler-type=const\r\n    quarkus.jaeger.sampler-param=1\r\n    quarkus.jaeger.endpoint=${URL_JAEGER:http://10.161.169.24:14268/api/traces}\r\n    quarkus.native.add-all-charsets=true\r\n    quarkus.swagger-ui.path=/api/FindPukCodeBS/swagger-ui\r\n    quarkus.smallrye-openapi.path=/api/FindPukCodeBS/swagger\r\n    quarkus.swagger-ui.always-include=true\r\n\r\n\r\nLocally it works wonderfully, but when I deploy at the kubernetes level it is not taking the url correctly, as follows::\r\n\r\n    quarkus.datasource.jdbc.url=jdbc:tracing:oracle:thin:@172.28.2.134:1522/IVR\r\n\r\nIn the logs that appear to me it seems to take the url without the word tracing, however as you can see at the log level it prints the url that is being passed in the application.properties:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThat could be happening? I don&#39;t understand, and I don&#39;t have the value burned anywhere, I&#39;m taking it directly from the application.properties.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CBm98.png","title":"Quarkus error after compiling native with Jaeger Tracing","body":"<p>I am trying to compile an application in Quarkus Native and monitor it using Jaeger Traicing, however, I am encountering a problem that when compiling it is taking the wrong url and not the one I should use to work with opentracing:</p>\n<p>Example application.properties file:</p>\n<pre><code>quarkus.datasource.db-kind=oracle\nquarkus.datasource.jdbc.driver=io.opentracing.contrib.jdbc.TracingDriver\nquarkus.datasource.jdbc.url=jdbc:tracing:oracle:thin:@172.28.2.134:1522/IVR\nquarkus.datasource.username=${USERNAME_CONNECTION_BD:xxxxxxxxxxxxx}\nquarkus.datasource.password=${PASSWORD_CONNECTION_BD:xxxxxxxxxx}\nquarkus.http.port=${PORT:8082}\nquarkus.http.ssl-port=${PORT-SSl:8083}\nquarkus.jaeger.service-name=find-puk-code-tracing\nquarkus.jaeger.sampler-type=const\nquarkus.jaeger.sampler-param=1\nquarkus.jaeger.endpoint=${URL_JAEGER:http://10.161.169.24:14268/api/traces}\nquarkus.native.add-all-charsets=true\nquarkus.swagger-ui.path=/api/FindPukCodeBS/swagger-ui\nquarkus.smallrye-openapi.path=/api/FindPukCodeBS/swagger\nquarkus.swagger-ui.always-include=true\n</code></pre>\n<p>Locally it works wonderfully, but when I deploy at the kubernetes level it is not taking the url correctly, as follows::</p>\n<pre><code>quarkus.datasource.jdbc.url=jdbc:tracing:oracle:thin:@172.28.2.134:1522/IVR\n</code></pre>\n<p>In the logs that appear to me it seems to take the url without the word tracing, however as you can see at the log level it prints the url that is being passed in the application.properties:</p>\n<p><a href=\"https://i.stack.imgur.com/CBm98.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CBm98.png\" alt=\"enter image description here\" /></a></p>\n<p>That could be happening? I don't understand, and I don't have the value burned anywhere, I'm taking it directly from the application.properties.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1656344160,"post_id":72774578,"comment_id":128543193,"body_markdown":"Please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}],"owner":{"account_id":23710186,"reputation":85,"user_id":17732139,"display_name":"Joel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656343348,"creation_date":1656343348,"question_id":72774578,"body_markdown":"I am using IntelliJ and I have project with module called &quot;customers&quot;, now inside this module\r\nthere is a src, testsrc and web folder. Now the src folder is marked as  &quot;Source folder&quot;, \r\n&quot;testsrc&quot; and &quot;web\\testSrc&quot; are marked as Test folders and the web folder is not marked with anything. In this module I am trying from the class located at the `testsrc` folder \r\n :```com.loyalty.constants.MyTest.java``` to import the class from the `web` folder : ```com.data.v2.controller.MyController.java``` and I did this by selecting the folder where the .class file is generated for MyController.java in IntelliJ idea, however during ```ant all``` I get an exception that MyTest.java cannot import MyController.java because it doesn&#39;t know it exists. Importing jars and modules seems fine, but importing folders containing .class files results in the .class not being able to be recognized. Any suggestions or tips how can I solve this issue or where the problem it might be? I have tried invalidating caches but it didnt&#39;t work, also I tried reimporting the project again in IntelliJ .","title":"Class file not imported in the same module","body":"<p>I am using IntelliJ and I have project with module called &quot;customers&quot;, now inside this module\nthere is a src, testsrc and web folder. Now the src folder is marked as  &quot;Source folder&quot;,\n&quot;testsrc&quot; and &quot;web\\testSrc&quot; are marked as Test folders and the web folder is not marked with anything. In this module I am trying from the class located at the <code>testsrc</code> folder\n:<code>com.loyalty.constants.MyTest.java</code> to import the class from the <code>web</code> folder : <code>com.data.v2.controller.MyController.java</code> and I did this by selecting the folder where the .class file is generated for MyController.java in IntelliJ idea, however during <code>ant all</code> I get an exception that MyTest.java cannot import MyController.java because it doesn't know it exists. Importing jars and modules seems fine, but importing folders containing .class files results in the .class not being able to be recognized. Any suggestions or tips how can I solve this issue or where the problem it might be? I have tried invalidating caches but it didnt't work, also I tried reimporting the project again in IntelliJ .</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1656340705,"post_id":72773868,"comment_id":128541696,"body_markdown":"Sounds like you are only missing the check for a primitive array!?","body":"Sounds like you are only missing the check for a primitive array!?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656342682,"creation_date":1656342194,"answer_id":72774297,"question_id":72773868,"body_markdown":"&gt; an `Object` of which I know that it is either a `Collection`, something\r\n&gt; that extends `Object[]` or any **primitive array**\r\n\r\nThe overall problem statement sounds very smelly. Even if you didn&#39;t develop this code, but inherited from your predecessor, I strongly advise you to replace it with something more viable.\r\n\r\nBut you can deal with an array of arbitrary type using reflection:\r\n\r\n```\r\nint[] nums = {1, 2, 3};\r\nObject arr = nums;\r\n\r\nif (!(arr instanceof Collection&lt;?&gt;)) {\r\n    int len = Array.getLength(arr);\r\n    for (int i = 0; i &lt; len; i++) {\r\n        System.out.println(Array.get(arr, i));\r\n    }\r\n}\r\n```\r\n*Output:*\r\n```\r\n1\r\n2\r\n3\r\n```","title":"How to turn an Object that may be an array or any Collection to a String?","body":"<blockquote>\n<p>an <code>Object</code> of which I know that it is either a <code>Collection</code>, something\nthat extends <code>Object[]</code> or any <strong>primitive array</strong></p>\n</blockquote>\n<p>The overall problem statement sounds very smelly. Even if you didn't develop this code, but inherited from your predecessor, I strongly advise you to replace it with something more viable.</p>\n<p>But you can deal with an array of arbitrary type using reflection:</p>\n<pre><code>int[] nums = {1, 2, 3};\nObject arr = nums;\n\nif (!(arr instanceof Collection&lt;?&gt;)) {\n    int len = Array.getLength(arr);\n    for (int i = 0; i &lt; len; i++) {\n        System.out.println(Array.get(arr, i));\n    }\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1\n2\n3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656343161,"creation_date":1656343161,"answer_id":72774544,"question_id":72773868,"body_markdown":"You can make a class like `PrintTools` like this:\r\n\r\n```java\r\npublic class PrintTools {\r\n    \r\n    public static String print(Collection c){\r\n        return c.toString();\r\n    }\r\n    \r\n    public static String print(Object... o){\r\n        return Arrays.deepToString(o);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nSo that you will be taken to a proper method depending on argument type.\r\n\r\nSo your test could be the following:\r\n\r\n```java\r\npublic class TestPrintTools {\r\n\r\n    public static void main(String[] args) {\r\n        A[] a1 = {new A(1), new A(2)};\r\n        int[] a2 = {3, 4};\r\n        List&lt;A&gt; a3 = List.of(new A(5), new A(6));\r\n        System.out.println(PrintTools.print(a1));\r\n        System.out.println(PrintTools.print(a2));\r\n        System.out.println(PrintTools.print(a3));\r\n    }\r\n\r\n}\r\n\r\nclass A{\r\n    int a;\r\n\r\n    public A(int a) {\r\n        this.a = a;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;A{&quot; +\r\n                &quot;a=&quot; + a +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nwith the output:\r\n\r\n```\r\n[A{a=1}, A{a=2}]\r\n[[3, 4]]\r\n[A{a=5}, A{a=6}]\r\n```","title":"How to turn an Object that may be an array or any Collection to a String?","body":"<p>You can make a class like <code>PrintTools</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrintTools {\n    \n    public static String print(Collection c){\n        return c.toString();\n    }\n    \n    public static String print(Object... o){\n        return Arrays.deepToString(o);\n    }\n    \n}\n</code></pre>\n<p>So that you will be taken to a proper method depending on argument type.</p>\n<p>So your test could be the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestPrintTools {\n\n    public static void main(String[] args) {\n        A[] a1 = {new A(1), new A(2)};\n        int[] a2 = {3, 4};\n        List&lt;A&gt; a3 = List.of(new A(5), new A(6));\n        System.out.println(PrintTools.print(a1));\n        System.out.println(PrintTools.print(a2));\n        System.out.println(PrintTools.print(a3));\n    }\n\n}\n\nclass A{\n    int a;\n\n    public A(int a) {\n        this.a = a;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;A{&quot; +\n                &quot;a=&quot; + a +\n                '}';\n    }\n}\n</code></pre>\n<p>with the output:</p>\n<pre><code>[A{a=1}, A{a=2}]\n[[3, 4]]\n[A{a=5}, A{a=6}]\n</code></pre>\n"}],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656343161,"creation_date":1656340507,"question_id":72773868,"body_markdown":"I have an Object of which i know that it is either a Collection, something that extends Object[] or any primitive array, and I want to get its String-representation: `[e1, e2, ..., en]`\r\n\r\n - `String.valueOf(object);` Doesn&#39;t work for arrays and foreign Collections with different `toString` methods.\r\n - `object.getClass().isArray() ? Arrays.toString((Object[]) object) : String.valueOf(object);` Throws a ClassCastException when a primitive array gets passed.\r\n - `&quot;[&quot; + Stream.of(object).map(v -&gt; v.toString()).collect(Collectors.joining(&quot;, &quot;)) + &quot;]&quot;;` Interprets the passed object as one element and creates a Stream of that.\r\n\r\nI&#39;m looking for a fast solution, preferably one that doesn&#39;t rely on libraries. And it shouldn&#39;t involve a gigantic if-else/switch block for type checking.\r\n","title":"How to turn an Object that may be an array or any Collection to a String?","body":"<p>I have an Object of which i know that it is either a Collection, something that extends Object[] or any primitive array, and I want to get its String-representation: <code>[e1, e2, ..., en]</code></p>\n<ul>\n<li><code>String.valueOf(object);</code> Doesn't work for arrays and foreign Collections with different <code>toString</code> methods.</li>\n<li><code>object.getClass().isArray() ? Arrays.toString((Object[]) object) : String.valueOf(object);</code> Throws a ClassCastException when a primitive array gets passed.</li>\n<li><code>&quot;[&quot; + Stream.of(object).map(v -&gt; v.toString()).collect(Collectors.joining(&quot;, &quot;)) + &quot;]&quot;;</code> Interprets the passed object as one element and creates a Stream of that.</li>\n</ul>\n<p>I'm looking for a fast solution, preferably one that doesn't rely on libraries. And it shouldn't involve a gigantic if-else/switch block for type checking.</p>\n"},{"tags":["java","eclipse","equals","instanceof"],"comments":[{"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"score":2,"creation_date":1504694800,"post_id":596462,"comment_id":79106991,"body_markdown":"The expression `x instanceof SomeClass` is false if `x` is `null`. Hence, the second syntax doens&#39;t need the null check.","body":"The expression <code>x instanceof SomeClass</code> is false if <code>x</code> is <code>null</code>. Hence, the second syntax doens&#39;t need the null check."},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":7,"creation_date":1504706275,"post_id":596462,"comment_id":79115563,"body_markdown":"@rds Yes, the paragraph immediately after the code snippet says this as well. It is in the code snippet because that is what Eclipse generates.","body":"@rds Yes, the paragraph immediately after the code snippet says this as well. It is in the code snippet because that is what Eclipse generates."}],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":2,"up_vote_count":193,"is_accepted":false,"score":191,"last_activity_date":1235766115,"creation_date":1235766115,"answer_id":596507,"question_id":596462,"body_markdown":"[Josh Bloch][1] favors your approach:\r\n\r\n&gt;The reason that I favor the `instanceof` approach is that when you use the `getClass` approach, you have the restriction that objects are only equal to other objects of the same class, the same run time type. If you extend a class and add a couple of innocuous methods to it, then check to see whether some object of the subclass is equal to an object of the super class, even if the objects are equal in all important aspects, you will get the surprising answer that they aren&#39;t equal. In fact, this violates a strict interpretation of the *Liskov substitution principle*, and can lead to very surprising behavior. In Java, it&#39;s particularly important because most of the collections (`HashTable`, etc.) are based on the equals method. If you put a member of the super class in a hash table as the key and then look it up using a subclass instance, you won&#39;t find it, because they are not equal.\r\n\r\nSee also [this SO answer][2].\r\n\r\nEffective Java [chapter 3][3] also covers this.\r\n\r\n\r\n  [1]: http://www.artima.com/intv/bloch17.html\r\n  [2]: https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java/32223#32223\r\n  [3]: http://java.sun.com/developer/Books/effectivejava/Chapter3.pdf","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p><a href=\"http://www.artima.com/intv/bloch17.html\" rel=\"noreferrer\">Josh Bloch</a> favors your approach:</p>\n\n<blockquote>\n  <p>The reason that I favor the <code>instanceof</code> approach is that when you use the <code>getClass</code> approach, you have the restriction that objects are only equal to other objects of the same class, the same run time type. If you extend a class and add a couple of innocuous methods to it, then check to see whether some object of the subclass is equal to an object of the super class, even if the objects are equal in all important aspects, you will get the surprising answer that they aren't equal. In fact, this violates a strict interpretation of the <em>Liskov substitution principle</em>, and can lead to very surprising behavior. In Java, it's particularly important because most of the collections (<code>HashTable</code>, etc.) are based on the equals method. If you put a member of the super class in a hash table as the key and then look it up using a subclass instance, you won't find it, because they are not equal.</p>\n</blockquote>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java/32223#32223\">this SO answer</a>.</p>\n\n<p>Effective Java <a href=\"http://java.sun.com/developer/Books/effectivejava/Chapter3.pdf\" rel=\"noreferrer\">chapter 3</a> also covers this.</p>\n"},{"tags":[],"owner":{"account_id":25027,"reputation":9018,"user_id":64044,"display_name":"Clint"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1235766288,"creation_date":1235766288,"answer_id":596524,"question_id":596462,"body_markdown":"If you want to ensure only that class will match then use `getClass() ==`.  If you want to match subclasses then `instanceof` is needed.\r\n\r\nAlso, instanceof will not match against a null but is safe to compare against a null.  So you don&#39;t have to null check it.\r\n\r\n    if ( ! (obj instanceof MyClass) ) { return false; }","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>If you want to ensure only that class will match then use <code>getClass() ==</code>.  If you want to match subclasses then <code>instanceof</code> is needed.</p>\n\n<p>Also, instanceof will not match against a null but is safe to compare against a null.  So you don't have to null check it.</p>\n\n<pre><code>if ( ! (obj instanceof MyClass) ) { return false; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23234,"reputation":34600,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1235766319,"creation_date":1235766319,"answer_id":596530,"question_id":596462,"body_markdown":"It depends if you consider if a subclass of a given class is equals to its parent.\r\n\r\n    class LastName\r\n    {\r\n    (...)\r\n    }\r\n    \r\n    \r\n    class FamilyName\r\n    extends LastName\r\n    {\r\n    (..)\r\n    }\r\n\r\nhere I would use &#39;instanceof&#39;, because I want a LastName to be compared to FamilyName\r\n\r\n    class Organism\r\n    {\r\n    }\r\n    \r\n    class Gorilla extends Organism\r\n    {\r\n    }\r\n\r\n\r\nhere I would use &#39;getClass&#39;, because the class already says that the two instances are not equivalent.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>It depends if you consider if a subclass of a given class is equals to its parent.</p>\n\n<pre><code>class LastName\n{\n(...)\n}\n\n\nclass FamilyName\nextends LastName\n{\n(..)\n}\n</code></pre>\n\n<p>here I would use 'instanceof', because I want a LastName to be compared to FamilyName</p>\n\n<pre><code>class Organism\n{\n}\n\nclass Gorilla extends Organism\n{\n}\n</code></pre>\n\n<p>here I would use 'getClass', because the class already says that the two instances are not equivalent.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1235766809,"creation_date":1235766809,"answer_id":596558,"question_id":596462,"body_markdown":"**instanceof** works for instences of the same class **or** its subclasses\r\n\r\n&gt;*You can use it to test if an object is an instance of a class, an instance of a subclass, or an instance of a class that implements a particular interface.*\r\n\r\n\r\nArryaList and RoleList are both **instanceof** List\r\n\r\nWhile \r\n\r\n\r\n**getClass() == o.getClass()** will be  true only if both objects ( this and o ) belongs to exactly the same class.\r\n\r\n\r\nSo depending on what you need to compare you could use one or the other. \r\n\r\nIf your logic is: &quot;One objects is equals to other only if they are both the same class&quot; you should go for the &quot;equals&quot;, which I think is most of the cases. ","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p><strong>instanceof</strong> works for instences of the same class <strong>or</strong> its subclasses</p>\n\n<blockquote>\n  <p><em>You can use it to test if an object is an instance of a class, an instance of a subclass, or an instance of a class that implements a particular interface.</em></p>\n</blockquote>\n\n<p>ArryaList and RoleList are both <strong>instanceof</strong> List</p>\n\n<p>While </p>\n\n<p><strong>getClass() == o.getClass()</strong> will be  true only if both objects ( this and o ) belongs to exactly the same class.</p>\n\n<p>So depending on what you need to compare you could use one or the other. </p>\n\n<p>If your logic is: \"One objects is equals to other only if they are both the same class\" you should go for the \"equals\", which I think is most of the cases. </p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":2,"up_vote_count":112,"is_accepted":true,"score":110,"last_activity_date":1656342877,"creation_date":1235769111,"answer_id":596707,"question_id":596462,"body_markdown":"If you use `instanceof`, making your `equals` implementation `final` will preserve the symmetry contract of the method: `x.equals(y) == y.equals(x)`. If `final` seems restrictive, carefully examine your notion of object equivalence to make sure that your overriding implementations fully maintain the contract established by the `Object` class.\r\n\r\n---\r\n\r\nWhat I&#39;m trying to get at here is that if you believe `getClass()` is the only reliable way to preserve symmetry, you are probably using `equals()` the wrong way. \r\n\r\nSure, it&#39;s easy to use `getClass()` to preserve the symmetry required of `equals()`, but only because `x.equals(y)` and `y.equals(x)` are always false. Liskov substitutability would encourage you to find a symmetry-preserving implementation that can yield `true` when it makes sense. If a subclass has a radically different notion of equality, is it really a subclass?","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>If you use <code>instanceof</code>, making your <code>equals</code> implementation <code>final</code> will preserve the symmetry contract of the method: <code>x.equals(y) == y.equals(x)</code>. If <code>final</code> seems restrictive, carefully examine your notion of object equivalence to make sure that your overriding implementations fully maintain the contract established by the <code>Object</code> class.</p>\n<hr />\n<p>What I'm trying to get at here is that if you believe <code>getClass()</code> is the only reliable way to preserve symmetry, you are probably using <code>equals()</code> the wrong way.</p>\n<p>Sure, it's easy to use <code>getClass()</code> to preserve the symmetry required of <code>equals()</code>, but only because <code>x.equals(y)</code> and <code>y.equals(x)</code> are always false. Liskov substitutability would encourage you to find a symmetry-preserving implementation that can yield <code>true</code> when it makes sense. If a subclass has a radically different notion of equality, is it really a subclass?</p>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1360336837,"creation_date":1235770461,"answer_id":596766,"question_id":596462,"body_markdown":"The reason to use `getClass` is to ensure the symmetric property of the `equals` contract. From equals&#39; JavaDocs:\r\n\r\n&gt; It is symmetric: for any non-null\r\n&gt; reference values x and y, x.equals(y)\r\n&gt; should return true if and only if\r\n&gt; y.equals(x) returns true.\r\n\r\nBy using instanceof, it&#39;s possible to not be symmetric. Consider the example:\r\nDog extends Animal.\r\nAnimal&#39;s `equals` does an `instanceof` check of Animal.\r\nDog&#39;s `equals` does an `instanceof` check of Dog.\r\nGive Animal **a** and Dog **d** (with other fields the same):\r\n\r\n    a.equals(d) --&gt; true\r\n    d.equals(a) --&gt; false\r\n\r\nThis violates the symmetric property.\r\n\r\nTo strictly follow equal&#39;s contract, symmetry must be ensured, and thus the class needs to be the same.\r\n\r\n","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>The reason to use <code>getClass</code> is to ensure the symmetric property of the <code>equals</code> contract. From equals' JavaDocs:</p>\n\n<blockquote>\n  <p>It is symmetric: for any non-null\n  reference values x and y, x.equals(y)\n  should return true if and only if\n  y.equals(x) returns true.</p>\n</blockquote>\n\n<p>By using instanceof, it's possible to not be symmetric. Consider the example:\nDog extends Animal.\nAnimal's <code>equals</code> does an <code>instanceof</code> check of Animal.\nDog's <code>equals</code> does an <code>instanceof</code> check of Dog.\nGive Animal <strong>a</strong> and Dog <strong>d</strong> (with other fields the same):</p>\n\n<pre><code>a.equals(d) --&gt; true\nd.equals(a) --&gt; false\n</code></pre>\n\n<p>This violates the symmetric property.</p>\n\n<p>To strictly follow equal's contract, symmetry must be ensured, and thus the class needs to be the same.</p>\n"},{"tags":[],"owner":{"account_id":16029,"reputation":498825,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1235771902,"creation_date":1235771559,"answer_id":596828,"question_id":596462,"body_markdown":"Angelika Langers [**Secrets of equals**](http://www.angelikalanger.com/Articles/JavaSolutions/SecretsOfEquals/Equals.html) gets into that with a long and detailed discussion for a few common and well-known examples, including by Josh Bloch and Barbara Liskov, discovering a couple of problems in most of them. She also gets into the `instanceof` vs `getClass`. Some quote from it\n\n&gt; Conclusions\n&gt;\n&gt; Having dissected the four arbitrarily chosen examples of implementations of equals() , what do we conclude?\n&gt;\n&gt; First of all: there are two substantially different ways of performing the check for type match in an implementation of equals() . A class can allow mixed-type comparison between super- and subclass objects by means of the instanceof operator, or a class can treat objects of different type as non-equal by means of the getClass() test. The examples above illustrated nicely that implementations of equals() using getClass() are generally more robust than those implementations using instanceof .\n&gt;\n&gt; The instanceof test is correct only for final classes or if at least method equals() is final in a superclass. The latter essentially implies that no subclass must extend the superclass&#39;s state, but can only add functionality or fields that are irrelevant for the object&#39;s state and behavior, such as transient or static fields.\n&gt;\n&gt; Implementations using the getClass() test on the other hand always comply to the equals() contract; they are correct and robust. They are, however, semantically very different from implementations that use the instanceof test. Implementations using getClass() do not allow comparison of sub- with superclass objects, not even when the subclass does not add any fields and would not even want to override equals() . Such a &quot;trivial&quot; class extension would for instance be the addition of a debug-print method in a subclass defined for exactly this &quot;trivial&quot; purpose. If the superclass prohibits mixed-type comparison via the getClass() check, then the trivial extension would not be comparable to its superclass. Whether or not this is a problem fully depends on the semantics of the class and the purpose of the extension. ","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>Angelika Langers <a href=\"http://www.angelikalanger.com/Articles/JavaSolutions/SecretsOfEquals/Equals.html\" rel=\"noreferrer\"><strong>Secrets of equals</strong></a> gets into that with a long and detailed discussion for a few common and well-known examples, including by Josh Bloch and Barbara Liskov, discovering a couple of problems in most of them. She also gets into the <code>instanceof</code> vs <code>getClass</code>. Some quote from it</p>\n<blockquote>\n<p>Conclusions</p>\n<p>Having dissected the four arbitrarily chosen examples of implementations of equals() , what do we conclude?</p>\n<p>First of all: there are two substantially different ways of performing the check for type match in an implementation of equals() . A class can allow mixed-type comparison between super- and subclass objects by means of the instanceof operator, or a class can treat objects of different type as non-equal by means of the getClass() test. The examples above illustrated nicely that implementations of equals() using getClass() are generally more robust than those implementations using instanceof .</p>\n<p>The instanceof test is correct only for final classes or if at least method equals() is final in a superclass. The latter essentially implies that no subclass must extend the superclass's state, but can only add functionality or fields that are irrelevant for the object's state and behavior, such as transient or static fields.</p>\n<p>Implementations using the getClass() test on the other hand always comply to the equals() contract; they are correct and robust. They are, however, semantically very different from implementations that use the instanceof test. Implementations using getClass() do not allow comparison of sub- with superclass objects, not even when the subclass does not add any fields and would not even want to override equals() . Such a &quot;trivial&quot; class extension would for instance be the addition of a debug-print method in a subclass defined for exactly this &quot;trivial&quot; purpose. If the superclass prohibits mixed-type comparison via the getClass() check, then the trivial extension would not be comparable to its superclass. Whether or not this is a problem fully depends on the semantics of the class and the purpose of the extension.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18062,"reputation":2058,"user_id":41039,"display_name":"James"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1235772370,"creation_date":1235772370,"answer_id":596869,"question_id":596462,"body_markdown":"Both methods have their problems.  \r\n\r\nIf the subclass changes the identity, then you need to compare their actual classes.  Otherwise, you violate the symmetric property.  For instance, different types of `Person`s should not be considered equivalent, even if they have the same name.\r\n\r\nHowever, some subclasses don&#39;t change identity and these need to use `instanceof`.  For instance, if we have a bunch of immutable `Shape` objects, then a `Rectangle` with length and width of 1 should be equal to the unit `Square`.\r\n\r\nIn practice, I think the former case is more likely to be true.  Usually, subclassing is a fundamental part of your identity and being exactly like your parent except you can do one little thing does not make you equal.","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>Both methods have their problems.  </p>\n\n<p>If the subclass changes the identity, then you need to compare their actual classes.  Otherwise, you violate the symmetric property.  For instance, different types of <code>Person</code>s should not be considered equivalent, even if they have the same name.</p>\n\n<p>However, some subclasses don't change identity and these need to use <code>instanceof</code>.  For instance, if we have a bunch of immutable <code>Shape</code> objects, then a <code>Rectangle</code> with length and width of 1 should be equal to the unit <code>Square</code>.</p>\n\n<p>In practice, I think the former case is more likely to be true.  Usually, subclassing is a fundamental part of your identity and being exactly like your parent except you can do one little thing does not make you equal.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1429098409,"creation_date":1235772914,"answer_id":596885,"question_id":596462,"body_markdown":"This is something of a religious debate. Both approaches have their problems.\r\n\r\n - Use *instanceof* and you can never add significant members to subclasses.\r\n - Use *getClass* and you violate the Liskov substitution principle.\r\n\r\n[Bloch][1] has another relevant piece of advice in [Effective Java Second Edition][2]:\r\n\r\n - **Item 17: Design and document for inheritance or prohibit it**\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Joshua_Bloch\r\n  [2]: http://wayback.archive.org/web/20100827151804/http://java.sun.com/docs/books/effective/","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>This is something of a religious debate. Both approaches have their problems.</p>\n\n<ul>\n<li>Use <em>instanceof</em> and you can never add significant members to subclasses.</li>\n<li>Use <em>getClass</em> and you violate the Liskov substitution principle.</li>\n</ul>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Joshua_Bloch\" rel=\"noreferrer\">Bloch</a> has another relevant piece of advice in <a href=\"http://wayback.archive.org/web/20100827151804/http://java.sun.com/docs/books/effective/\" rel=\"noreferrer\">Effective Java Second Edition</a>:</p>\n\n<ul>\n<li><strong>Item 17: Design and document for inheritance or prohibit it</strong></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":42768,"reputation":6215,"user_id":124708,"accept_rate":79,"display_name":"TraderJoeChicago"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1405209721,"creation_date":1319605414,"answer_id":7898885,"question_id":596462,"body_markdown":"Correct me if I am wrong, but getClass() will be useful when you want to make sure your instance is NOT a subclass of the class you are comparing with. If you use instanceof in that situation you can NOT know that because:\r\n\r\n    class A { }\r\n    \r\n    class B extends A { }\r\n    \r\n    Object oA = new A();\r\n    Object oB = new B();\r\n    \r\n    oA instanceof A =&gt; true\r\n    oA instanceof B =&gt; false\r\n    oB instanceof A =&gt; true // &lt;================ HERE\r\n    oB instanceof B =&gt; true\r\n    \r\n    oA.getClass().equals(A.class) =&gt; true\r\n    oA.getClass().equals(B.class) =&gt; false\r\n    oB.getClass().equals(A.class) =&gt; false // &lt;===============HERE\r\n    oB.getClass().equals(B.class) =&gt; true\r\n\r\n","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>Correct me if I am wrong, but getClass() will be useful when you want to make sure your instance is NOT a subclass of the class you are comparing with. If you use instanceof in that situation you can NOT know that because:</p>\n\n<pre><code>class A { }\n\nclass B extends A { }\n\nObject oA = new A();\nObject oB = new B();\n\noA instanceof A =&gt; true\noA instanceof B =&gt; false\noB instanceof A =&gt; true // &lt;================ HERE\noB instanceof B =&gt; true\n\noA.getClass().equals(A.class) =&gt; true\noA.getClass().equals(B.class) =&gt; false\noB.getClass().equals(A.class) =&gt; false // &lt;===============HERE\noB.getClass().equals(B.class) =&gt; true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1448976452,"creation_date":1448976452,"answer_id":34021603,"question_id":596462,"body_markdown":"Actually instanceof check where an object belongs to some hierarchy or not. ex: Car object belongs to Vehical class. So &quot;new Car() instance of Vehical&quot; returns true. And &quot;new Car().getClass().equals(Vehical.class)&quot; return false, though Car object belongs to Vehical class but it&#39;s categorized as a separate type.","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>Actually instanceof check where an object belongs to some hierarchy or not. ex: Car object belongs to Vehical class. So \"new Car() instance of Vehical\" returns true. And \"new Car().getClass().equals(Vehical.class)\" return false, though Car object belongs to Vehical class but it's categorized as a separate type.</p>\n"}],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142417,"favorite_count":0,"down_vote_count":0,"up_vote_count":197,"accepted_answer_id":596707,"answer_count":11,"score":197,"last_activity_date":1656342877,"creation_date":1235765677,"question_id":596462,"body_markdown":"I&#39;m using Eclipse to generate `.equals()` and `.hashCode()`, and there is an option labeled &quot;Use &#39;instanceof&#39; to compare types&quot;.  The default is for this option to be unchecked and use `.getClass()` to compare types.  Is there any reason I should prefer `.getClass()` over `instanceof`?\r\n\r\nWithout using `instanceof`:\r\n\r\n    if (obj == null)\r\n      return false;\r\n    if (getClass() != obj.getClass())\r\n      return false;\r\n\r\nUsing `instanceof`:\r\n\r\n    if (obj == null)\r\n      return false;\r\n    if (!(obj instanceof MyClass))\r\n      return false;\r\n\r\nI usually check the `instanceof` option, and then go in and remove the &quot;`if (obj == null)`&quot; check. (It is redundant since null objects will always fail `instanceof`.)  Is there any reason that&#39;s a bad idea?","title":"Any reason to prefer getClass() over instanceof when generating .equals()?","body":"<p>I'm using Eclipse to generate <code>.equals()</code> and <code>.hashCode()</code>, and there is an option labeled \"Use 'instanceof' to compare types\".  The default is for this option to be unchecked and use <code>.getClass()</code> to compare types.  Is there any reason I should prefer <code>.getClass()</code> over <code>instanceof</code>?</p>\n\n<p>Without using <code>instanceof</code>:</p>\n\n<pre><code>if (obj == null)\n  return false;\nif (getClass() != obj.getClass())\n  return false;\n</code></pre>\n\n<p>Using <code>instanceof</code>:</p>\n\n<pre><code>if (obj == null)\n  return false;\nif (!(obj instanceof MyClass))\n  return false;\n</code></pre>\n\n<p>I usually check the <code>instanceof</code> option, and then go in and remove the \"<code>if (obj == null)</code>\" check. (It is redundant since null objects will always fail <code>instanceof</code>.)  Is there any reason that's a bad idea?</p>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656342522,"creation_date":1655138528,"answer_id":72606284,"question_id":72601314,"body_markdown":"You could use [`WebTestClient`](https://spring.getdocs.org/en-US/spring-framework-docs/docs/testing/integration-testing/webtestclient.html) that provides fluent API for verifying responses. Here is a short example\r\n\r\n```\r\n@WebFluxTest\r\nclass ControllerTest {\r\n\r\n    @Autowired\r\n    private WebTestClient client;\r\n\r\n    @BeforeEach\r\n    void setUp(ApplicationContext context) {\r\n        client = WebTestClient.bindToApplicationContext(context).build();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        client.get()\r\n                .uri(&quot;/test&quot;)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .expectBody().isEmpty();\r\n    }\r\n}\r\n```\r\n\r\nIn addition, pay attention to endpoint implementation. In reactive you need to build the flow and Webflux will subscribe to it for every request. In case, `service.functionName` is blocking (non-reactive), consider running it on a separate `Scheduler` using `.subscribeOn(Schedulers.boundedElastic())`. For details, check [How Do I Wrap a Synchronous, Blocking Call?](https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking).\r\n\r\nIf the `Callable` resolves to `null`, the resulting `Mono` completes empty and we could return `404` applying `switchIfEmpty` operator. \r\n\r\n\r\n\r\n```\r\n@GetMapping(path = &quot;/test&quot;)\r\npublic Mono&lt;ResponseEntity&lt;Void&gt;&gt; functionName(Request request) {\r\n    return Mono.fromCallable(() -&gt; {\r\n                RequestDto Dto = RequestMapper.INSTANCE.toDto(request);\r\n                return service.functionName(Dto);\r\n            }).subscribeOn(Schedulers.boundedElastic())\r\n            .map(res -&gt; new ResponseEntity&lt;&gt;(HttpStatus.OK))\r\n            .switchIfEmpty(Mono.just(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND)));\r\n}\r\n```","title":"How to test Controller that returns Mono&lt;ResponseEntity&lt;Void&gt;&gt;?","body":"<p>You could use <a href=\"https://spring.getdocs.org/en-US/spring-framework-docs/docs/testing/integration-testing/webtestclient.html\" rel=\"nofollow noreferrer\"><code>WebTestClient</code></a> that provides fluent API for verifying responses. Here is a short example</p>\n<pre><code>@WebFluxTest\nclass ControllerTest {\n\n    @Autowired\n    private WebTestClient client;\n\n    @BeforeEach\n    void setUp(ApplicationContext context) {\n        client = WebTestClient.bindToApplicationContext(context).build();\n    }\n\n    @Test\n    void test() {\n        client.get()\n                .uri(&quot;/test&quot;)\n                .exchange()\n                .expectStatus().isOk()\n                .expectBody().isEmpty();\n    }\n}\n</code></pre>\n<p>In addition, pay attention to endpoint implementation. In reactive you need to build the flow and Webflux will subscribe to it for every request. In case, <code>service.functionName</code> is blocking (non-reactive), consider running it on a separate <code>Scheduler</code> using <code>.subscribeOn(Schedulers.boundedElastic())</code>. For details, check <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">How Do I Wrap a Synchronous, Blocking Call?</a>.</p>\n<p>If the <code>Callable</code> resolves to <code>null</code>, the resulting <code>Mono</code> completes empty and we could return <code>404</code> applying <code>switchIfEmpty</code> operator.</p>\n<pre><code>@GetMapping(path = &quot;/test&quot;)\npublic Mono&lt;ResponseEntity&lt;Void&gt;&gt; functionName(Request request) {\n    return Mono.fromCallable(() -&gt; {\n                RequestDto Dto = RequestMapper.INSTANCE.toDto(request);\n                return service.functionName(Dto);\n            }).subscribeOn(Schedulers.boundedElastic())\n            .map(res -&gt; new ResponseEntity&lt;&gt;(HttpStatus.OK))\n            .switchIfEmpty(Mono.just(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND)));\n}\n</code></pre>\n"}],"owner":{"account_id":14208164,"reputation":3,"user_id":10264145,"display_name":"Swadib Patro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656342522,"creation_date":1655116096,"question_id":72601314,"body_markdown":"I&#39;m pretty new to webflux and I am struggling to understand how to test this Controller function.\r\n\r\n        public Mono&lt;ResponseEntity&lt;Void&gt;&gt; functionName(final Request request) {\r\n        RequestDto Dto = RequestMapper.\r\n                INSTANCE.toDto(request);\r\n        service.functionName(Dto);\r\n        return Mono.just(new ResponseEntity&lt;Void&gt;(HttpStatus.OK));\r\n    }\r\n","title":"How to test Controller that returns Mono&lt;ResponseEntity&lt;Void&gt;&gt;?","body":"<p>I'm pretty new to webflux and I am struggling to understand how to test this Controller function.</p>\n<pre><code>    public Mono&lt;ResponseEntity&lt;Void&gt;&gt; functionName(final Request request) {\n    RequestDto Dto = RequestMapper.\n            INSTANCE.toDto(request);\n    service.functionName(Dto);\n    return Mono.just(new ResponseEntity&lt;Void&gt;(HttpStatus.OK));\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19823229,"reputation":1402,"user_id":14519278,"display_name":"Mahi"},"score":0,"creation_date":1656343694,"post_id":72774326,"comment_id":128543036,"body_markdown":"So &quot;welcome to notes&quot; created twice?","body":"So &quot;welcome to notes&quot; created twice?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1656344705,"post_id":72774326,"comment_id":128543392,"body_markdown":"Where do you actually save the shared preferences when you add the &quot;Welcome&quot; note?","body":"Where do you actually save the shared preferences when you add the &quot;Welcome&quot; note?"},{"owner":{"account_id":23942675,"reputation":9,"user_id":17935487,"display_name":"Culann Brown"},"score":0,"creation_date":1656345624,"post_id":72774326,"comment_id":128543722,"body_markdown":"@Mahi It is actually making it after every time I create a new note","body":"@Mahi It is actually making it after every time I create a new note"},{"owner":{"account_id":23942675,"reputation":9,"user_id":17935487,"display_name":"Culann Brown"},"score":0,"creation_date":1656345685,"post_id":72774326,"comment_id":128543742,"body_markdown":"@Gardener full code https://pastebin.com/MiTGLu7j","body":"@Gardener full code <a href=\"https://pastebin.com/MiTGLu7j\" rel=\"nofollow noreferrer\">pastebin.com/MiTGLu7j</a>"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1656355458,"post_id":72774326,"comment_id":128547206,"body_markdown":"Can you post the relevant code where you insert the newly created note to the sharedpreferences?","body":"Can you post the relevant code where you insert the newly created note to the sharedpreferences?"}],"owner":{"account_id":23942675,"reputation":9,"user_id":17935487,"display_name":"Culann Brown"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656342294,"creation_date":1656342294,"question_id":72774326,"body_markdown":"I am having a problem when creating a new note that it creates a secondary note. Every time that says welcome to notes, it&#39;s only supposed to create that note only once wants the app is installed. Can anyone help me out?\r\n```java\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        FloatingActionButton fab = findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                setContentView(R.layout.activity_note_editor);\r\n                // Going from MainActivity to NotesEditorActivity\r\n                Intent intent = new Intent(getApplicationContext(), NoteEditorActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        ListView listView = findViewById(R.id.listView);\r\n        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(&quot;com.echodev.Notes&quot;, Context.MODE_PRIVATE);\r\n        HashSet&lt;String&gt; set = (HashSet&lt;String&gt;) sharedPreferences.getStringSet(&quot;notes&quot;, null);\r\n\r\n        if (set == null) {\r\n\r\n            notes.add(&quot;Welcome To Notes!!!!!&quot;);\r\n        } else {\r\n            notes = new ArrayList(set);\r\n        }","title":"Secondary note being added Android studio","body":"<p>I am having a problem when creating a new note that it creates a secondary note. Every time that says welcome to notes, it's only supposed to create that note only once wants the app is installed. Can anyone help me out?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        FloatingActionButton fab = findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                setContentView(R.layout.activity_note_editor);\n                // Going from MainActivity to NotesEditorActivity\n                Intent intent = new Intent(getApplicationContext(), NoteEditorActivity.class);\n                startActivity(intent);\n            }\n        });\n        ListView listView = findViewById(R.id.listView);\n        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(&quot;com.echodev.Notes&quot;, Context.MODE_PRIVATE);\n        HashSet&lt;String&gt; set = (HashSet&lt;String&gt;) sharedPreferences.getStringSet(&quot;notes&quot;, null);\n\n        if (set == null) {\n\n            notes.add(&quot;Welcome To Notes!!!!!&quot;);\n        } else {\n            notes = new ArrayList(set);\n        }\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"score":0,"creation_date":1656342174,"post_id":72774226,"comment_id":128542381,"body_markdown":"compare hash...","body":"compare hash..."},{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1656344312,"post_id":72774226,"comment_id":128543250,"body_markdown":"You can use gson/jackson library. [This](https://www.baeldung.com/jackson-compare-two-json-objects) article might help you","body":"You can use gson/jackson library. <a href=\"https://www.baeldung.com/jackson-compare-two-json-objects\" rel=\"nofollow noreferrer\">This</a> article might help you"}],"owner":{"account_id":19047336,"reputation":195,"user_id":13906258,"display_name":"user13906258"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656341895,"creation_date":1656341895,"question_id":72774226,"body_markdown":"I have sample transaction json like below\r\n\r\n    {\r\n    \t&quot;payload&quot;: {\r\n    \t\t&quot;header&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;messageId&quot;: &quot;10a0df00-c55c-4147-a3bf-e10dc9882768&quot;,\r\n    \t\t\t\t&quot;transactionId&quot;: &quot;10000001&quot;,\r\n    \t\t\t\t&quot;customerId&quot;: &quot;customer4148&quot;,\r\n    \t\t\t\t&quot;customerGroupId&quot;: &quot;USA&quot;,\r\n    \t\t\t\t&quot;transactionStatus&quot;: &quot;completed&quot;,\r\n    \t\t\t\t&quot;creationTimestamp&quot;: &quot;2022-06-15 06:36:23.798&quot;,\r\n    \t\t\t\t&quot;currency&quot;: &quot;USD&quot;,\r\n    \t\t\t\t&quot;offset&quot;: 30\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;messageId&quot;: &quot;9cg8f839-ab1e-467f-b679-a3aa4f390f2a&quot;,\r\n    \t\t\t\t&quot;transactionId&quot;: &quot;10000001&quot;,\r\n    \t\t\t\t&quot;customerId&quot;: &quot;customer4148&quot;,\r\n    \t\t\t\t&quot;customerGroupId&quot;: &quot;USA&quot;,\r\n    \t\t\t\t&quot;transactionStatus&quot;: &quot;completed&quot;,\r\n    \t\t\t\t&quot;creationTimestamp&quot;: &quot;2022-06-15 06:36:23.798&quot;,\r\n    \t\t\t\t&quot;currency&quot;: &quot;USD&quot;,\r\n    \t\t\t\t&quot;offset&quot;: 30\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}\r\n    }\r\n\r\nI tried using JsonAssert like below but due to vulnerabilities in the jar my CI pipeline is not allowing to use the jar\r\n\r\n    JSONAssert.assertEquals(expectedResponseBody, responseBody,\r\n                new CustomComparator(JSONCompareMode.LENIENT,\r\n                    new Customization(&quot;messageId&quot;, (o1, o2) -&gt; true)));\r\n\r\nPlease help me how can i compare multiple jsonobject under a json array ignoring the messagrId field efficiently ","title":"How to compare json object in a json array by ignoring few attributes in java","body":"<p>I have sample transaction json like below</p>\n<pre><code>{\n    &quot;payload&quot;: {\n        &quot;header&quot;: [\n            {\n                &quot;messageId&quot;: &quot;10a0df00-c55c-4147-a3bf-e10dc9882768&quot;,\n                &quot;transactionId&quot;: &quot;10000001&quot;,\n                &quot;customerId&quot;: &quot;customer4148&quot;,\n                &quot;customerGroupId&quot;: &quot;USA&quot;,\n                &quot;transactionStatus&quot;: &quot;completed&quot;,\n                &quot;creationTimestamp&quot;: &quot;2022-06-15 06:36:23.798&quot;,\n                &quot;currency&quot;: &quot;USD&quot;,\n                &quot;offset&quot;: 30\n            },\n            {\n                &quot;messageId&quot;: &quot;9cg8f839-ab1e-467f-b679-a3aa4f390f2a&quot;,\n                &quot;transactionId&quot;: &quot;10000001&quot;,\n                &quot;customerId&quot;: &quot;customer4148&quot;,\n                &quot;customerGroupId&quot;: &quot;USA&quot;,\n                &quot;transactionStatus&quot;: &quot;completed&quot;,\n                &quot;creationTimestamp&quot;: &quot;2022-06-15 06:36:23.798&quot;,\n                &quot;currency&quot;: &quot;USD&quot;,\n                &quot;offset&quot;: 30\n            }\n        ]\n    }\n}\n</code></pre>\n<p>I tried using JsonAssert like below but due to vulnerabilities in the jar my CI pipeline is not allowing to use the jar</p>\n<pre><code>JSONAssert.assertEquals(expectedResponseBody, responseBody,\n            new CustomComparator(JSONCompareMode.LENIENT,\n                new Customization(&quot;messageId&quot;, (o1, o2) -&gt; true)));\n</code></pre>\n<p>Please help me how can i compare multiple jsonobject under a json array ignoring the messagrId field efficiently</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1656340659,"post_id":72773647,"comment_id":128541674,"body_markdown":"UTF-8 should be passed. As one java char or int code point can be more than 1 byte. Is the unsigned char* indeed 20 bytes long, and is the java `char[]` 20 long, that is 40 bytes, or what is exactly happening? There should probably be no problem with 7 bits ASCII.","body":"UTF-8 should be passed. As one java char or int code point can be more than 1 byte. Is the unsigned char* indeed 20 bytes long, and is the java <code>char[]</code> 20 long, that is 40 bytes, or what is exactly happening? There should probably be no problem with 7 bits ASCII."},{"owner":{"account_id":5898520,"reputation":382,"user_id":4642911,"accept_rate":44,"display_name":"Hyukchan Kwon"},"score":0,"creation_date":1656341248,"post_id":72773647,"comment_id":128541976,"body_markdown":"Hello @JoopEggen. thanks for your quick reply. I edited the intial question to add more details :)","body":"Hello @JoopEggen. thanks for your quick reply. I edited the intial question to add more details :)"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1656341667,"post_id":72773647,"comment_id":128542143,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason. Kindly share the input and the result as an array in text.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason. Kindly share the input and the result as an array in text."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656341823,"creation_date":1656341823,"answer_id":72774212,"question_id":72773647,"body_markdown":"The string passed to `NewStringUTF` must be null-terminated. The string you&#39;re passing, however, is not null-terminated, and it looks like there&#39;s some garbage at the end of the string before the first null.\r\n\r\nI suggest creating a larger array, and adding a null terminator at the end:\r\n\r\n    JNIEXPORT jstring JNICALL Java_com_example_demo_DemoClass_functionToCall\r\n      (JNIEnv *env, jobject recv) {\r\n      unsigned char unsigned_char_array[20 + 1]; // + 1 for null terminator\r\n      function_to_call(unsigned_char_array);    \r\n      unsigned_char_array[20] = &#39;\\0&#39;; // add null terminator\r\n    \r\n      printf(&quot;result : %s (%ld chars)\\n&quot;, unsigned_char_array, (int) sizeof unsigned_char_array);\r\n\r\n      return (env)-&gt;NewStringUTF((char*) unsigned_char_array); // should work now\r\n    }\r\n\r\n","title":"Converting an unsigned char array to jstring","body":"<p>The string passed to <code>NewStringUTF</code> must be null-terminated. The string you're passing, however, is not null-terminated, and it looks like there's some garbage at the end of the string before the first null.</p>\n<p>I suggest creating a larger array, and adding a null terminator at the end:</p>\n<pre><code>JNIEXPORT jstring JNICALL Java_com_example_demo_DemoClass_functionToCall\n  (JNIEnv *env, jobject recv) {\n  unsigned char unsigned_char_array[20 + 1]; // + 1 for null terminator\n  function_to_call(unsigned_char_array);    \n  unsigned_char_array[20] = '\\0'; // add null terminator\n\n  printf(&quot;result : %s (%ld chars)\\n&quot;, unsigned_char_array, (int) sizeof unsigned_char_array);\n\n  return (env)-&gt;NewStringUTF((char*) unsigned_char_array); // should work now\n}\n</code></pre>\n"}],"owner":{"account_id":5898520,"reputation":382,"user_id":4642911,"accept_rate":44,"display_name":"Hyukchan Kwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72774212,"answer_count":1,"score":0,"last_activity_date":1656341823,"creation_date":1656339580,"question_id":72773647,"body_markdown":"I&#39;m having issues trying to convert an unsigned char array to jstring.\r\n\r\nThe context is I&#39;m using a shared c library from Java.\r\nSo I&#39;m implementing a JNI c++ file.\r\nThe function I use from the library returs a `unsigned char* num_carte_transcode`\r\n\r\nAnd the function I implemented in the JNI C++ file returns a jstring.\r\n\r\nSo I need to convert the unsigned char array to jstring.\r\n\r\nI tried this simple cast `return (env)-&gt;NewStringUTF((char*) unsigned_char_array);`\r\n\r\nBut though the array should only contain 20 bytes, I get randomly 22 or 23 bytes in Java...\r\n(Though the 20 bytes are correct)\r\n\r\nEDIT1: Here some more details with example\r\n\r\n```\r\nJNIEXPORT jstring JNICALL Java_com_example_demo_DemoClass_functionToCall\r\n  (JNIEnv *env, jobject, ) {\r\n  // Here I define an unsigned char array as requested by the library function\r\n  unsigned char unsigned_char_array[20];\r\n  // The function feeds the array at execution\r\n  function_to_call(unsigned_char_array);\r\n\r\n  // I print out the result for debug purpose\r\n  printf(&quot;result : %.*s (%ld chars)\\n&quot;, (int) sizeof unsigned_char_array, unsigned_char_array, (int) sizeof unsigned_char_array);\r\n\r\n  // I get the result I want, which is like: 92311221679609987114 (20 numbers)\r\n\r\n  // Now, I need to convert the unsigned char array to jstring to return to Java\r\n  return (env)-&gt;NewStringUTF((char*) unsigned_char_array);\r\n  // Though... On debugging on Java, I get 21 bytes 92311221679609987114 (check the image below)\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4LDVh.png\r\n\r\n\r\nAnd sometimes I get 22 bytes, sometimes 23 ... though the expected result is always 20 bytes.","title":"Converting an unsigned char array to jstring","body":"<p>I'm having issues trying to convert an unsigned char array to jstring.</p>\n<p>The context is I'm using a shared c library from Java.\nSo I'm implementing a JNI c++ file.\nThe function I use from the library returs a <code>unsigned char* num_carte_transcode</code></p>\n<p>And the function I implemented in the JNI C++ file returns a jstring.</p>\n<p>So I need to convert the unsigned char array to jstring.</p>\n<p>I tried this simple cast <code>return (env)-&gt;NewStringUTF((char*) unsigned_char_array);</code></p>\n<p>But though the array should only contain 20 bytes, I get randomly 22 or 23 bytes in Java...\n(Though the 20 bytes are correct)</p>\n<p>EDIT1: Here some more details with example</p>\n<pre><code>JNIEXPORT jstring JNICALL Java_com_example_demo_DemoClass_functionToCall\n  (JNIEnv *env, jobject, ) {\n  // Here I define an unsigned char array as requested by the library function\n  unsigned char unsigned_char_array[20];\n  // The function feeds the array at execution\n  function_to_call(unsigned_char_array);\n\n  // I print out the result for debug purpose\n  printf(&quot;result : %.*s (%ld chars)\\n&quot;, (int) sizeof unsigned_char_array, unsigned_char_array, (int) sizeof unsigned_char_array);\n\n  // I get the result I want, which is like: 92311221679609987114 (20 numbers)\n\n  // Now, I need to convert the unsigned char array to jstring to return to Java\n  return (env)-&gt;NewStringUTF((char*) unsigned_char_array);\n  // Though... On debugging on Java, I get 21 bytes 92311221679609987114 (check the image below)\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4LDVh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4LDVh.png\" alt=\"enter image description here\" /></a></p>\n<p>And sometimes I get 22 bytes, sometimes 23 ... though the expected result is always 20 bytes.</p>\n"},{"tags":["java","java-8","java-time"],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":2,"up_vote_count":43,"is_accepted":true,"score":41,"last_activity_date":1622007667,"creation_date":1459885134,"answer_id":36435570,"question_id":36435492,"body_markdown":"According to the [JavaDoc][1]\r\n\r\nSince `sql.Date` does not have a time component, there is no possibility to convert it to `time.Instant`\r\n\r\n&gt; This method always throws an UnsupportedOperationException and should\r\n&gt; not be used because SQL Date values do not have a time component.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toInstant--","title":"UnsupportedOperationException - Why can&#39;t you call toInstant() on a java.sql.Date?","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toInstant--\" rel=\"noreferrer\">JavaDoc</a></p>\n<p>Since <code>sql.Date</code> does not have a time component, there is no possibility to convert it to <code>time.Instant</code></p>\n<blockquote>\n<p>This method always throws an UnsupportedOperationException and should\nnot be used because SQL Date values do not have a time component.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1656341801,"creation_date":1459885141,"answer_id":36435573,"question_id":36435492,"body_markdown":"[java.sql.Date][1] supports only Date components (date, month, year). It does NOT support time components (hour, minute, second, millisecond). [toInstant][2] requires both Date and Time components, so toInstant on java.sql.Date instance throws UnsupportedOperationException exception.\r\n\r\n**toInstant Java doc**\r\n\r\n&gt; This method always throws an\r\n&gt; UnsupportedOperationException and should not be used because SQL Date\r\n&gt; values do not have a time component.\r\n\r\njava.util.Date OR java.sql.Timestamp has both Date/Time components, so toInstant() works!\r\n\r\nYou can do like this:\r\n    \r\n    // Time is 00:00:00.000\r\n\r\n    new java.util.Date(sqlDate.getTime()).toInstant() \r\n\r\n**Updated:**\r\n\r\n    Instant.ofEpochMilli(sqlDate.getTime());\r\n\r\n    // and\r\n    new java.util.Date(sqlDate.getTime()).toInstant();\r\n\r\nwill return the same result because the toInstant() method calls Instant.ofEpochMilli(getTime()) internally.\r\n\r\n    public Instant toInstant() {\r\n        return Instant.ofEpochMilli(getTime());\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toInstant","title":"UnsupportedOperationException - Why can&#39;t you call toInstant() on a java.sql.Date?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html\" rel=\"nofollow noreferrer\">java.sql.Date</a> supports only Date components (date, month, year). It does NOT support time components (hour, minute, second, millisecond). <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toInstant\" rel=\"nofollow noreferrer\">toInstant</a> requires both Date and Time components, so toInstant on java.sql.Date instance throws UnsupportedOperationException exception.</p>\n<p><strong>toInstant Java doc</strong></p>\n<blockquote>\n<p>This method always throws an\nUnsupportedOperationException and should not be used because SQL Date\nvalues do not have a time component.</p>\n</blockquote>\n<p>java.util.Date OR java.sql.Timestamp has both Date/Time components, so toInstant() works!</p>\n<p>You can do like this:</p>\n<pre><code>// Time is 00:00:00.000\n\nnew java.util.Date(sqlDate.getTime()).toInstant() \n</code></pre>\n<p><strong>Updated:</strong></p>\n<pre><code>Instant.ofEpochMilli(sqlDate.getTime());\n\n// and\nnew java.util.Date(sqlDate.getTime()).toInstant();\n</code></pre>\n<p>will return the same result because the toInstant() method calls Instant.ofEpochMilli(getTime()) internally.</p>\n<pre><code>public Instant toInstant() {\n    return Instant.ofEpochMilli(getTime());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1459927070,"creation_date":1459927070,"answer_id":36444070,"question_id":36435492,"body_markdown":"The answers given so far until now concentrate on the detail that `java.sql.Date` has no time information. That is correct but not the real or sufficient reason why this type cannot offer a direct conversion to `Instant`. Unfortunatly the [documentation of Java-8][1] does make the same mistake to let users think the problem is just because of missing time information.\r\n\r\nConceptually, the type `java.sql.Date` represents a local type. It models a calendar date which can be different in any region of our globe. But an `Instant` is the same on our globe around. **So users need a timezone or a timezone offset to do the conversion.**\r\n\r\nTragically, the type `java.sql.Date` inherits from `java.util.Date` which is a global type (instant-like). However, this inheritance really denotes implementation inheritance, and not type inheritance. One more reason to consider the design of these old JDBC-classes to be broken. Therefore it is indeed possible to use the hack to wrap the `java.sql.Date` via its method `getTime()` inside an instance of `java.util.Date` which finally allows direct conversion to an instant. But: This conversion implicitly uses the default timezone of the system.\r\n\r\nSo how to correctly convert in a pedantic way? Let&#39;s consider the [documentation of Java-8][2] again which here points into the right direction:\r\n\r\n    java.sql.Date sqlDate = ...;\r\n    LocalDate calendarDate = sqlDate.toLocalDate();\r\n    ZonedDateTime zdt = calendarDate.atStartOfDay(ZoneId.of(&quot;Europe/Paris&quot;));\r\n    Instant instant = zdt.toInstant();\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toInstant--\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toLocalDate--\r\n","title":"UnsupportedOperationException - Why can&#39;t you call toInstant() on a java.sql.Date?","body":"<p>The answers given so far until now concentrate on the detail that <code>java.sql.Date</code> has no time information. That is correct but not the real or sufficient reason why this type cannot offer a direct conversion to <code>Instant</code>. Unfortunatly the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toInstant--\" rel=\"noreferrer\">documentation of Java-8</a> does make the same mistake to let users think the problem is just because of missing time information.</p>\n\n<p>Conceptually, the type <code>java.sql.Date</code> represents a local type. It models a calendar date which can be different in any region of our globe. But an <code>Instant</code> is the same on our globe around. <strong>So users need a timezone or a timezone offset to do the conversion.</strong></p>\n\n<p>Tragically, the type <code>java.sql.Date</code> inherits from <code>java.util.Date</code> which is a global type (instant-like). However, this inheritance really denotes implementation inheritance, and not type inheritance. One more reason to consider the design of these old JDBC-classes to be broken. Therefore it is indeed possible to use the hack to wrap the <code>java.sql.Date</code> via its method <code>getTime()</code> inside an instance of <code>java.util.Date</code> which finally allows direct conversion to an instant. But: This conversion implicitly uses the default timezone of the system.</p>\n\n<p>So how to correctly convert in a pedantic way? Let's consider the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toLocalDate--\" rel=\"noreferrer\">documentation of Java-8</a> again which here points into the right direction:</p>\n\n<pre><code>java.sql.Date sqlDate = ...;\nLocalDate calendarDate = sqlDate.toLocalDate();\nZonedDateTime zdt = calendarDate.atStartOfDay(ZoneId.of(\"Europe/Paris\"));\nInstant instant = zdt.toInstant();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1459927330,"creation_date":1459927330,"answer_id":36444154,"question_id":36435492,"body_markdown":"The correct mapping between `java.sql.Date` and `java.time` is `LocalDate`:\r\n\r\n    LocalDate date = sqlDate.toLocalDate();\r\n\r\n*If you really must*, you can then derive an `Instant`, although the extra information (time) will be arbitrary. For example:\r\n\r\n    Instant i = date.atStartOfDay(ZoneOffset.UTC).toInstant();","title":"UnsupportedOperationException - Why can&#39;t you call toInstant() on a java.sql.Date?","body":"<p>The correct mapping between <code>java.sql.Date</code> and <code>java.time</code> is <code>LocalDate</code>:</p>\n\n<pre><code>LocalDate date = sqlDate.toLocalDate();\n</code></pre>\n\n<p><em>If you really must</em>, you can then derive an <code>Instant</code>, although the extra information (time) will be arbitrary. For example:</p>\n\n<pre><code>Instant i = date.atStartOfDay(ZoneOffset.UTC).toInstant();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1617218331,"creation_date":1617218331,"answer_id":66894010,"question_id":36435492,"body_markdown":"If you don&#39;t have time in your Date - convert it to millis:\r\n\r\n   \r\n   \r\n    Instant.ofEpochMilli(date.getTime())\r\n       .atZone(ZoneId.systemDefault())\r\n       .toLocalDate();","title":"UnsupportedOperationException - Why can&#39;t you call toInstant() on a java.sql.Date?","body":"<p>If you don't have time in your Date - convert it to millis:</p>\n<pre><code>Instant.ofEpochMilli(date.getTime())\n   .atZone(ZoneId.systemDefault())\n   .toLocalDate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8069687,"reputation":71,"user_id":6082831,"display_name":"Chris Lewold"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649757516,"creation_date":1649757516,"answer_id":71840659,"question_id":36435492,"body_markdown":"The implementation of java.sql.Date (imho) is really not perfect. \r\n\r\nIn order to convert java.util.Date to LocalDate the web is full of code blocks like this: \r\n\r\n    dateToConvert.toInstant()\r\n      .atZone(ZoneId.systemDefault())\r\n      .toLocalDate();\r\n\r\n - above code works perfect for java.util.Date because of the way it implements toInstant(). (As expected &quot; return Instant.ofEpochMilli(getTime())&quot;) \r\n - As java.sql.Date is a subclass of java.util.Date code operating on the Date object might now know it operates on a java.sql.Date. (Hey - that&#39;s one aspect of object orientation, right??). So if it gets java.util.Date code works well, if it gets java.sql.Date it fails. \r\n - Code could now explicitly check for the Date type, and then (if it operates on java.sql.Date) it could do a downcast to java.sql.Date and use the toLocalDate() method. Needless to say, that this is ugly. \r\n\r\nAs developer I&#39;d like to have one method working properly - toLocalDate (internally using deprectated methods) only exists for java.sql.Date so cannot be used on java.util.Date, and toInstant fails on java.sql.Date. \r\n\r\nI changed my &quot;Date to LocalDate&quot; conversion code to this:\r\n\r\n    public static LocalDate asLocalDate(java.util.Date date) {\r\n        return date == null ? null : LocalDate.ofInstant(Instant.ofEpochMilli(date.getTime()), ZoneId.systemDefault());\r\n    }\r\n\r\n\r\n This works independent of the date type passed in. Basically it means &quot;dont call java.util.Date.toInstant() as you might get a java.sql.Date, which then breaks your code. \r\n\r\nI really don&#39;t understand why they implement such traps on purpose within the JDK. \r\n\r\n\r\n","title":"UnsupportedOperationException - Why can&#39;t you call toInstant() on a java.sql.Date?","body":"<p>The implementation of java.sql.Date (imho) is really not perfect.</p>\n<p>In order to convert java.util.Date to LocalDate the web is full of code blocks like this:</p>\n<pre><code>dateToConvert.toInstant()\n  .atZone(ZoneId.systemDefault())\n  .toLocalDate();\n</code></pre>\n<ul>\n<li>above code works perfect for java.util.Date because of the way it implements toInstant(). (As expected &quot; return Instant.ofEpochMilli(getTime())&quot;)</li>\n<li>As java.sql.Date is a subclass of java.util.Date code operating on the Date object might now know it operates on a java.sql.Date. (Hey - that's one aspect of object orientation, right??). So if it gets java.util.Date code works well, if it gets java.sql.Date it fails.</li>\n<li>Code could now explicitly check for the Date type, and then (if it operates on java.sql.Date) it could do a downcast to java.sql.Date and use the toLocalDate() method. Needless to say, that this is ugly.</li>\n</ul>\n<p>As developer I'd like to have one method working properly - toLocalDate (internally using deprectated methods) only exists for java.sql.Date so cannot be used on java.util.Date, and toInstant fails on java.sql.Date.</p>\n<p>I changed my &quot;Date to LocalDate&quot; conversion code to this:</p>\n<pre><code>public static LocalDate asLocalDate(java.util.Date date) {\n    return date == null ? null : LocalDate.ofInstant(Instant.ofEpochMilli(date.getTime()), ZoneId.systemDefault());\n}\n</code></pre>\n<p>This works independent of the date type passed in. Basically it means &quot;dont call java.util.Date.toInstant() as you might get a java.sql.Date, which then breaks your code.</p>\n<p>I really don't understand why they implement such traps on purpose within the JDK.</p>\n"}],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54366,"favorite_count":0,"down_vote_count":3,"up_vote_count":82,"accepted_answer_id":36435570,"answer_count":6,"score":79,"last_activity_date":1656341801,"creation_date":1459884904,"question_id":36435492,"body_markdown":"The `java.util.Date` class has a method called `toInstant()` that converts the `Date` instance to a `java.time.Instant`.\r\n\r\nThe `java.sql.Date` class extends the `java.util.Date` class, but when I attempt to call `toInstant()` on a `java.sql.Date`, I receive an `UnsupportedOperationException`.\r\n\r\nWhy is `toInstant()` an unsupported operation on `java.sql.Date`?\r\n\r\nAnd what is the &quot;correct&quot; way to convert a `java.sql.Date` to a `java.time.Instant`?","title":"UnsupportedOperationException - Why can&#39;t you call toInstant() on a java.sql.Date?","body":"<p>The <code>java.util.Date</code> class has a method called <code>toInstant()</code> that converts the <code>Date</code> instance to a <code>java.time.Instant</code>.</p>\n\n<p>The <code>java.sql.Date</code> class extends the <code>java.util.Date</code> class, but when I attempt to call <code>toInstant()</code> on a <code>java.sql.Date</code>, I receive an <code>UnsupportedOperationException</code>.</p>\n\n<p>Why is <code>toInstant()</code> an unsupported operation on <code>java.sql.Date</code>?</p>\n\n<p>And what is the \"correct\" way to convert a <code>java.sql.Date</code> to a <code>java.time.Instant</code>?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","junit5"],"comments":[{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1656192031,"post_id":72747557,"comment_id":128512876,"body_markdown":"Where is bean definition of `org.companyname.enterpriseteam.demo.anonymizer.DAnonymizer`? Is this class annotated with `@Component` (or other bean creation annotations)? Or is it defined in some other configuration file? If none of the above, try to defining it&#39;s bean.","body":"Where is bean definition of <code>org.companyname.enterpriseteam.demo.anonymizer.DAnonymizer</code>? Is this class annotated with <code>@Component</code> (or other bean creation annotations)? Or is it defined in some other configuration file? If none of the above, try to defining it&#39;s bean."},{"owner":{"account_id":20229294,"reputation":139,"user_id":14836285,"display_name":"ClarenceHD"},"score":0,"creation_date":1656281089,"post_id":72747557,"comment_id":128527186,"body_markdown":"Thank you for the reply. The bean definition is in a different package in a different repo. It basically resides in a shared library that our team uses, but it is not a bean. Should I create a config file for it in my current repo? Because I am not sure if DAnonymizer needs to be annotated as a bean since its worked fine with other implementations. We try not to modify that shared library too often, unless absolutely necessary. I feel like I am missing something simple because im new to Spring Boot.","body":"Thank you for the reply. The bean definition is in a different package in a different repo. It basically resides in a shared library that our team uses, but it is not a bean. Should I create a config file for it in my current repo? Because I am not sure if DAnonymizer needs to be annotated as a bean since its worked fine with other implementations. We try not to modify that shared library too often, unless absolutely necessary. I feel like I am missing something simple because im new to Spring Boot."},{"owner":{"account_id":20229294,"reputation":139,"user_id":14836285,"display_name":"ClarenceHD"},"score":0,"creation_date":1656281907,"post_id":72747557,"comment_id":128527320,"body_markdown":"Its important to add, we use artifactory to manage packages.","body":"Its important to add, we use artifactory to manage packages."},{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1656341624,"post_id":72747557,"comment_id":128542123,"body_markdown":"Yes, you need to define bean of `DAnonymizer` in your `@Configuration` class if it&#39;s not already a bean. You don&#39;t need to annotate DAnonymizer as bean. Only defining bean in config file should work. I will post sample code as answer","body":"Yes, you need to define bean of <code>DAnonymizer</code> in your <code>@Configuration</code> class if it&#39;s not already a bean. You don&#39;t need to annotate DAnonymizer as bean. Only defining bean in config file should work. I will post sample code as answer"}],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656341785,"creation_date":1656341785,"answer_id":72774199,"question_id":72747557,"body_markdown":"Define bean of `DAnonymizer` in config class like below\r\n\r\n    @Configuration\r\n    public class DAnonymizerConfig {\r\n      \r\n      @Bean\r\n      public DAnonymizer dAnonymizer() {\r\n         return new DAnonymizer();//considering DAnonymizer has default constructor\r\n      }\r\n\r\n    }","title":"&#39;NoSuchBeanDefinitionException: No qualifying bean of type&#39; Error after adding new dependency injection to already implemented &amp; unit tested class","body":"<p>Define bean of <code>DAnonymizer</code> in config class like below</p>\n<pre><code>@Configuration\npublic class DAnonymizerConfig {\n  \n  @Bean\n  public DAnonymizer dAnonymizer() {\n     return new DAnonymizer();//considering DAnonymizer has default constructor\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20229294,"reputation":139,"user_id":14836285,"display_name":"ClarenceHD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656341785,"creation_date":1656091855,"question_id":72747557,"body_markdown":"```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.companyname.enterpriseteam.demo.anonymizer.DAnonymizer&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n```\r\n\r\nHere is a mock but logically accurate representation of the code\r\n\r\nConfig Package\r\n```\r\n…\r\nimport org.companyname.enterpriseteam.demo.anonymizer.DAnonymizer;\r\nimport org.companyname.entuserfilter.externals.adminusersearch.AdminSearchUserRecordsAnonymizer;\r\n…\r\n\r\n\r\n@Configuration\r\npublic class AdminUserSearchAnonymizationConfiguration {\r\n  @Bean\r\n  public AdminSearchUserRecordsAnonymizer\r\n      adminSearchUserRecordsAnonymizer(final DAnonymizer dAnonymizer) {\r\n    return new adminSearchUserRecordsAnonymizerImpl(dAnonymizer);\r\n  }\r\n}\r\n```\r\n\r\nNew interface I created in a different package\r\n```\r\n…\r\nSome imports\r\n…\r\n\r\npublic interface AdminSearchUserRecordsAnonymizer {\r\n  List&lt;StoredUserRecord&gt; anonymizeAdminSearchUserRecordsIfNeeded(\r\n      final List&lt;StoredUserRecord&gt; storedUserRecords,\r\n      final String orgId,\r\n      @Nullable final Long requestUserId);\r\n}\r\n```\r\n\r\nThe interface’s implementation\r\n```\r\n…\r\nSome imports\r\n…\r\n\r\n\r\npublic class AdminSearchUserRecordsAnonymizerImpl\r\n    implements AdminSearchUserRecordsAnonymizer {\r\n  private final DAnonymizer dAnonymizer;\r\n\r\n  public AdminSearchUserRecordsAnonymizerImpl(final DAnonymizer dAnonymizer) {\r\n    this.dAnonymizer = dAnonymizer;\r\n  }\r\n\r\n\r\n  @Override\r\n  public List&lt;StoredUserRecord&gt; anonymizeAdminSearchUserRecordsIfNeeded(\r\n      final List&lt;StoredUserRecord&gt; storedUserRecords,\r\n      final String orgId,\r\n      @Nullable final Long requestUserId) {\r\n    if (!DConstants.COMPANY_ORG_ID.equals(orgId) || requestUserId == null) {\r\n      // System.out.println(&quot;NO ANONYMIZATION&quot; + storedUserRecords);\r\n      return storedUserRecords;\r\n    }\r\n\r\n    // System.out.println(&quot;ANONYMIZATION TO BE DONE ON USER RECORDS LIST&quot; + storedUserRecords);\r\n    return storedUserRecords.stream()\r\n        .map(entry -&gt; anonymizeUserRecordIfNeeded(entry, orgId, requestUserId))\r\n        .collect(Collectors.toList());\r\n  }\r\n\r\n\r\n  private StoredUserRecord anonymizeUserRecordIfNeeded(\r\n      final StoredUserRecord storedUserRecord, final String orgId, final Long requestUserId) {\r\n        final var anonymizedStoredUserRecord =\r\n        dAnonymizer.getAnonymizedUserInfoForOrg(\r\n            orgId, storedUserRecord.userId().get(), requestUserId);\r\n\r\n        return anonymizedStoredUserRecord\r\n        .map(\r\n            anon -&gt;\r\n                new StoredUserRecord(\r\n                    storedUserRecord.userId(),\r\n                    anon.email(),\r\n                    storedUserRecord.externalId(),\r\n                    anon.name(),\r\n        .orElse(storedUserRecord);\r\n  }\r\n}\r\n```\r\n\r\nConstructor of class where dependency injection is performed\r\n```\r\n…\r\nSome imports\r\n…\r\n\r\npublic class AdminViewElasticSearchManager implements AdminViewManager {\r\n  private final someObject1;\r\n  private final someObject2;\r\n  private final someObject3;\r\n  private final someObject4;\r\n  private final AdminSearchUserRecordsAnonymizer\r\n        adminSearchUserRecordsAnonymizer;\r\n\r\npublic AdminViewElasticSearchManager(\r\n    someClass1 someObject1,\r\n    someClass2 someObject2,\r\n    someClass3 someObject3,\r\n    someClass4 someObject4,\r\n    AdminSearchUserRecordsAnonymizer\r\n        adminSearchUserRecordsAnonymizer\r\n    ) {\r\n  this.elasticSearchReader = elasticSearchReader;\r\n  this.someObject1 = someObject1;\r\n  this.someObject2 = someObject2;\r\n  this.someObject3 = someObject3;\r\n  this.someObject4 = someObject4;\r\n  this.adminSearchUserRecordsAnonymizer =\r\n          adminSearchUserRecordsAnonymizer;\r\n\r\n}\r\n```\r\n\r\nMe using my new implementation’s method somewhere in that same class above\r\n```\r\n@Override\r\npublic UserRecordsWithPagination searchWithFilterParams(filterParams, pageRequest, requestUser) {\r\n…\r\nSome code\r\n…\r\n\r\nstoredUserRecords =\r\nthis.adminSearchUserRecordsAnonymizer.anonymizeAdminSearchUserRecordsIfNeeded(\r\n           storedUserRecords, filterParams.orgId, requestUser);\r\n…\r\nMore code\r\n…\r\n\r\n}\r\n```\r\n\r\nMany tests are failing due to dependency injection issues and because of it, I can’t test properly.\r\nThis particular test is also not asserting like it should meaning my new class isn’t returning the proper list to its caller.\r\nI wonder if its related to dependencies not being injected properly?\r\n```\r\n…\r\nvar filterParams =\r\n    FilterParams.newBuilder()\r\n        .setOrganizationId(UserRecordFixtures.MEMBER_USER_RECORD.organizationId())\r\n        .setSearchNameOrEmails(List.of(&quot;johndoe&quot;))\r\n        .build();\r\n\r\nvar pageRequest =\r\n    PageRequest.newBuilder()\r\n        .setStart(Int64Value.of(0))\r\n        .setLimit(Int64Value.of(1))\r\n        .build();\r\n\r\nvar result = this.manager.queryByFilterParams(filterParams, pageRequest, null);\r\nSystem.out.println(&quot;THIS IS MY RESULT: &quot; + result);\r\nAssertions.assertEquals(1, result.userRecords().size());\r\n…\r\n```","title":"&#39;NoSuchBeanDefinitionException: No qualifying bean of type&#39; Error after adding new dependency injection to already implemented &amp; unit tested class","body":"<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.companyname.enterpriseteam.demo.anonymizer.DAnonymizer' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>Here is a mock but logically accurate representation of the code</p>\n<p>Config Package</p>\n<pre><code>…\nimport org.companyname.enterpriseteam.demo.anonymizer.DAnonymizer;\nimport org.companyname.entuserfilter.externals.adminusersearch.AdminSearchUserRecordsAnonymizer;\n…\n\n\n@Configuration\npublic class AdminUserSearchAnonymizationConfiguration {\n  @Bean\n  public AdminSearchUserRecordsAnonymizer\n      adminSearchUserRecordsAnonymizer(final DAnonymizer dAnonymizer) {\n    return new adminSearchUserRecordsAnonymizerImpl(dAnonymizer);\n  }\n}\n</code></pre>\n<p>New interface I created in a different package</p>\n<pre><code>…\nSome imports\n…\n\npublic interface AdminSearchUserRecordsAnonymizer {\n  List&lt;StoredUserRecord&gt; anonymizeAdminSearchUserRecordsIfNeeded(\n      final List&lt;StoredUserRecord&gt; storedUserRecords,\n      final String orgId,\n      @Nullable final Long requestUserId);\n}\n</code></pre>\n<p>The interface’s implementation</p>\n<pre><code>…\nSome imports\n…\n\n\npublic class AdminSearchUserRecordsAnonymizerImpl\n    implements AdminSearchUserRecordsAnonymizer {\n  private final DAnonymizer dAnonymizer;\n\n  public AdminSearchUserRecordsAnonymizerImpl(final DAnonymizer dAnonymizer) {\n    this.dAnonymizer = dAnonymizer;\n  }\n\n\n  @Override\n  public List&lt;StoredUserRecord&gt; anonymizeAdminSearchUserRecordsIfNeeded(\n      final List&lt;StoredUserRecord&gt; storedUserRecords,\n      final String orgId,\n      @Nullable final Long requestUserId) {\n    if (!DConstants.COMPANY_ORG_ID.equals(orgId) || requestUserId == null) {\n      // System.out.println(&quot;NO ANONYMIZATION&quot; + storedUserRecords);\n      return storedUserRecords;\n    }\n\n    // System.out.println(&quot;ANONYMIZATION TO BE DONE ON USER RECORDS LIST&quot; + storedUserRecords);\n    return storedUserRecords.stream()\n        .map(entry -&gt; anonymizeUserRecordIfNeeded(entry, orgId, requestUserId))\n        .collect(Collectors.toList());\n  }\n\n\n  private StoredUserRecord anonymizeUserRecordIfNeeded(\n      final StoredUserRecord storedUserRecord, final String orgId, final Long requestUserId) {\n        final var anonymizedStoredUserRecord =\n        dAnonymizer.getAnonymizedUserInfoForOrg(\n            orgId, storedUserRecord.userId().get(), requestUserId);\n\n        return anonymizedStoredUserRecord\n        .map(\n            anon -&gt;\n                new StoredUserRecord(\n                    storedUserRecord.userId(),\n                    anon.email(),\n                    storedUserRecord.externalId(),\n                    anon.name(),\n        .orElse(storedUserRecord);\n  }\n}\n</code></pre>\n<p>Constructor of class where dependency injection is performed</p>\n<pre><code>…\nSome imports\n…\n\npublic class AdminViewElasticSearchManager implements AdminViewManager {\n  private final someObject1;\n  private final someObject2;\n  private final someObject3;\n  private final someObject4;\n  private final AdminSearchUserRecordsAnonymizer\n        adminSearchUserRecordsAnonymizer;\n\npublic AdminViewElasticSearchManager(\n    someClass1 someObject1,\n    someClass2 someObject2,\n    someClass3 someObject3,\n    someClass4 someObject4,\n    AdminSearchUserRecordsAnonymizer\n        adminSearchUserRecordsAnonymizer\n    ) {\n  this.elasticSearchReader = elasticSearchReader;\n  this.someObject1 = someObject1;\n  this.someObject2 = someObject2;\n  this.someObject3 = someObject3;\n  this.someObject4 = someObject4;\n  this.adminSearchUserRecordsAnonymizer =\n          adminSearchUserRecordsAnonymizer;\n\n}\n</code></pre>\n<p>Me using my new implementation’s method somewhere in that same class above</p>\n<pre><code>@Override\npublic UserRecordsWithPagination searchWithFilterParams(filterParams, pageRequest, requestUser) {\n…\nSome code\n…\n\nstoredUserRecords =\nthis.adminSearchUserRecordsAnonymizer.anonymizeAdminSearchUserRecordsIfNeeded(\n           storedUserRecords, filterParams.orgId, requestUser);\n…\nMore code\n…\n\n}\n</code></pre>\n<p>Many tests are failing due to dependency injection issues and because of it, I can’t test properly.\nThis particular test is also not asserting like it should meaning my new class isn’t returning the proper list to its caller.\nI wonder if its related to dependencies not being injected properly?</p>\n<pre><code>…\nvar filterParams =\n    FilterParams.newBuilder()\n        .setOrganizationId(UserRecordFixtures.MEMBER_USER_RECORD.organizationId())\n        .setSearchNameOrEmails(List.of(&quot;johndoe&quot;))\n        .build();\n\nvar pageRequest =\n    PageRequest.newBuilder()\n        .setStart(Int64Value.of(0))\n        .setLimit(Int64Value.of(1))\n        .build();\n\nvar result = this.manager.queryByFilterParams(filterParams, pageRequest, null);\nSystem.out.println(&quot;THIS IS MY RESULT: &quot; + result);\nAssertions.assertEquals(1, result.userRecords().size());\n…\n</code></pre>\n"},{"tags":["java","maven","jenkins","testing","bdd"],"answers":[{"tags":[],"owner":{"account_id":20039548,"reputation":334,"user_id":14694981,"display_name":"Jerome Josephraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656013397,"creation_date":1656013397,"answer_id":72735792,"question_id":72735496,"body_markdown":"You need to configure this in a CI server such as Jenkins. \r\n\r\nYou can consider these steps, when setting up Jenkins, to achieve your use case:\r\n\r\n- Use Git-hooks; This will trigger a Jenkins pipeline as soon you merge a branch into the master. Check this article for more info https://kohsuke.org/2011/12/01/polling-must-die-triggering-jenkins-builds-from-a-git-hook/\r\n\r\n- Then in Jenkins, run your BDD project. Here is a nice article, which explains how cucumber projects are setup and run in Jenkins:\r\nhttps://faun.pub/running-cucumber-tests-with-jenkins-a5a3a8df07eb\r\n\r\n- When your cucumber project passes, then write a script in Jenkins to deploy into production (This would be a separate stage in Jenkins). Although I would recommend you to deploy this into a staging server or something like [Artifactory][1], which would hold your release package and have a manual step to deploy into production.\r\n\r\n\r\n\r\nFinally here is a detailed article that gives step by step explanation of how you could integrate NoCodeBDD with Jenkins. Though this article is for NoCodeBDD, you could copy these steps and apply them for any BDD project by changing some parts of the script.\r\n\r\nhttps://blog.nocodebdd.com/integrate-nocodebdd-and-jenkins-to-run-bdd/\r\n\r\n\r\n  [1]: https://jfrog.com/artifactory/","title":"Build the testing repo before deploying to production in Jenkins","body":"<p>You need to configure this in a CI server such as Jenkins.</p>\n<p>You can consider these steps, when setting up Jenkins, to achieve your use case:</p>\n<ul>\n<li><p>Use Git-hooks; This will trigger a Jenkins pipeline as soon you merge a branch into the master. Check this article for more info <a href=\"https://kohsuke.org/2011/12/01/polling-must-die-triggering-jenkins-builds-from-a-git-hook/\" rel=\"nofollow noreferrer\">https://kohsuke.org/2011/12/01/polling-must-die-triggering-jenkins-builds-from-a-git-hook/</a></p>\n</li>\n<li><p>Then in Jenkins, run your BDD project. Here is a nice article, which explains how cucumber projects are setup and run in Jenkins:\n<a href=\"https://faun.pub/running-cucumber-tests-with-jenkins-a5a3a8df07eb\" rel=\"nofollow noreferrer\">https://faun.pub/running-cucumber-tests-with-jenkins-a5a3a8df07eb</a></p>\n</li>\n<li><p>When your cucumber project passes, then write a script in Jenkins to deploy into production (This would be a separate stage in Jenkins). Although I would recommend you to deploy this into a staging server or something like <a href=\"https://jfrog.com/artifactory/\" rel=\"nofollow noreferrer\">Artifactory</a>, which would hold your release package and have a manual step to deploy into production.</p>\n</li>\n</ul>\n<p>Finally here is a detailed article that gives step by step explanation of how you could integrate NoCodeBDD with Jenkins. Though this article is for NoCodeBDD, you could copy these steps and apply them for any BDD project by changing some parts of the script.</p>\n<p><a href=\"https://blog.nocodebdd.com/integrate-nocodebdd-and-jenkins-to-run-bdd/\" rel=\"nofollow noreferrer\">https://blog.nocodebdd.com/integrate-nocodebdd-and-jenkins-to-run-bdd/</a></p>\n"}],"owner":{"account_id":21820910,"reputation":58,"user_id":16117120,"display_name":"SmriG6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656341773,"creation_date":1656011841,"question_id":72735496,"body_markdown":"So I have a BDD testing project for a service and what I want is that as soon as I merge a branch into the master branch of that service then that BDD testing should be triggered first and if every test case passes then only it should allow to deploy the service to production.\r\nThe BDD is written in Cucumber-Java.","title":"Build the testing repo before deploying to production in Jenkins","body":"<p>So I have a BDD testing project for a service and what I want is that as soon as I merge a branch into the master branch of that service then that BDD testing should be triggered first and if every test case passes then only it should allow to deploy the service to production.\nThe BDD is written in Cucumber-Java.</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1635937998,"post_id":69823827,"comment_id":123423546,"body_markdown":"Why do you want to turn this into a stream? What&#39;s wrong with your current approach?","body":"Why do you want to turn this into a stream? What&#39;s wrong with your current approach?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1635938027,"post_id":69823827,"comment_id":123423557,"body_markdown":"How about `spQuery = spQuery +&quot;?,&quot;.repeat(list.size())`?","body":"How about <code>spQuery = spQuery +&quot;?,&quot;.repeat(list.size())</code>?"},{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1635938519,"post_id":69823827,"comment_id":123423732,"body_markdown":"Btw, using += inside a loop to build a string is FORBIDDEN","body":"Btw, using += inside a loop to build a string is FORBIDDEN"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1635938673,"post_id":69823827,"comment_id":123423779,"body_markdown":"@stephanebrun Note there are two kinds of `+` (1) addition and (2) concatenation.","body":"@stephanebrun Note there are two kinds of <code>+</code> (1) addition and (2) concatenation."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1635940843,"post_id":69823827,"comment_id":123424582,"body_markdown":"@Hulk &quot;*…I want to convert above code to Java 8 Streams*&quot; requirement prevents me from posting it as an answer.","body":"@Hulk &quot;<i>…I want to convert above code to Java 8 Streams</i>&quot; requirement prevents me from posting it as an answer."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1635940987,"post_id":69823827,"comment_id":123424638,"body_markdown":"@Pshemo agreed. My proposed duplicate provides a stream solution and a `String.repeat` solution, so I guess there is no need to add another answer.","body":"@Pshemo agreed. My proposed duplicate provides a stream solution and a <code>String.repeat</code> solution, so I guess there is no need to add another answer."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1635941576,"post_id":69823827,"comment_id":123424906,"body_markdown":"Also related: https://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause","body":"Also related: <a href=\"https://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause\" title=\"preparedstatement with list of parameters in a in clause\">stackoverflow.com/questions/3107044/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635938642,"creation_date":1635938642,"answer_id":69823999,"question_id":69823827,"body_markdown":"Streams shouldn&#39;t be used just for the stream&#39;s sake. They&#39;re a powerful tool when it comes to transforming data in a fluent way, but for simple tasks like this they are overkill and the code will be harder to understand.\r\n\r\nYou *could* potentially do this with\r\n\r\n    String s = Stream.generate(() -&gt; &quot;?&quot;).limit(list.size()).collect(Collectors.joining(&quot;,&quot;));\r\n\r\nBut compare it to the much easier version that you already have: \r\n\r\n    for(int i = 0; i&lt;list.size(); i++) {\r\n        spQuery = spQuery + &quot;?,&quot;;\r\n    }\r\n\r\nHere you can see at a glance what you want to do without the need to dissect the stream expression.","title":"Iterate over list in java using Java 8 Streams without values","body":"<p>Streams shouldn't be used just for the stream's sake. They're a powerful tool when it comes to transforming data in a fluent way, but for simple tasks like this they are overkill and the code will be harder to understand.</p>\n<p>You <em>could</em> potentially do this with</p>\n<pre><code>String s = Stream.generate(() -&gt; &quot;?&quot;).limit(list.size()).collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n<p>But compare it to the much easier version that you already have:</p>\n<pre><code>for(int i = 0; i&lt;list.size(); i++) {\n    spQuery = spQuery + &quot;?,&quot;;\n}\n</code></pre>\n<p>Here you can see at a glance what you want to do without the need to dissect the stream expression.</p>\n"},{"tags":[],"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635939207,"creation_date":1635939207,"answer_id":69824112,"question_id":69823827,"body_markdown":"If your List elements are of type String, it should be\r\n\r\n    String s = list.stream().collect(Collectors.joining(&quot;?,&quot;));\r\n    \r\nbut then, the last element is missing &quot;?,&quot; so if you also need the question mark after the last element, you end up with\r\n\r\n    String s = list.stream().collect(Collectors.joining(&quot;?,&quot;)).concat(&quot;?,&quot;);\r\n\r\nIn general, if you have multiple appends/concatenations to a String, it&#39;s way more performant to use a StringBuffer or StringBuilder (String is an immutable Object).\r\n\r\nIf the list elements are of a different type than String, you have to map your object to a String representation, like\r\n\r\n    String s = list.stream().map(listElement -&gt; &lt;&lt;some code that returns a String representation of the element&gt;&gt;)).collect(Collectors.joining(&quot;?,&quot;)).concat(&quot;?,&quot;);","title":"Iterate over list in java using Java 8 Streams without values","body":"<p>If your List elements are of type String, it should be</p>\n<pre><code>String s = list.stream().collect(Collectors.joining(&quot;?,&quot;));\n</code></pre>\n<p>but then, the last element is missing &quot;?,&quot; so if you also need the question mark after the last element, you end up with</p>\n<pre><code>String s = list.stream().collect(Collectors.joining(&quot;?,&quot;)).concat(&quot;?,&quot;);\n</code></pre>\n<p>In general, if you have multiple appends/concatenations to a String, it's way more performant to use a StringBuffer or StringBuilder (String is an immutable Object).</p>\n<p>If the list elements are of a different type than String, you have to map your object to a String representation, like</p>\n<pre><code>String s = list.stream().map(listElement -&gt; &lt;&lt;some code that returns a String representation of the element&gt;&gt;)).collect(Collectors.joining(&quot;?,&quot;)).concat(&quot;?,&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1891014,"reputation":3150,"user_id":1709089,"display_name":"dajavax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636001145,"creation_date":1636001145,"answer_id":69834625,"question_id":69823827,"body_markdown":"You might be trying to do the following:\r\n```java\r\nString spQuery = list.stream().map(e -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;,&quot;));\r\n```\r\nAs you don&#39;t need the list&#39;s elements, I would prefer:\r\n```java\r\nString spQuery = IntStream.range(0, list.size()).mapToObj(i -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;,&quot;));\r\n```\r\nYou can probably store the `&quot;?&quot;` in a variable before to avoid instantiating it each time.\r\n\r\nHowever, as everyone else has said, you shouldn&#39;t use streams just because you can. If it gives no benefit, then, why?\r\n\r\nYou could just use a `StringJoiner` with a for loop to add it a number of times.","title":"Iterate over list in java using Java 8 Streams without values","body":"<p>You might be trying to do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String spQuery = list.stream().map(e -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n<p>As you don't need the list's elements, I would prefer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String spQuery = IntStream.range(0, list.size()).mapToObj(i -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n<p>You can probably store the <code>&quot;?&quot;</code> in a variable before to avoid instantiating it each time.</p>\n<p>However, as everyone else has said, you shouldn't use streams just because you can. If it gives no benefit, then, why?</p>\n<p>You could just use a <code>StringJoiner</code> with a for loop to add it a number of times.</p>\n"}],"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1636450389,"answer_count":3,"score":-2,"last_activity_date":1656341771,"creation_date":1635937845,"question_id":69823827,"body_markdown":"I want a way to iterate over a list without actual using values of it and creating a parameterized String with &quot;?&quot; for Query.\r\n\r\n     for(int i = 0; i&lt;list.size(); i++)\r\n\t {\r\n\t\tspQuery = spQuery + &quot;?,&quot;;\r\n\t }\r\n\r\nI want to convert above code to Java 8 Streams code.\r\nFinal Answer should be something like this - ?,?,?,?...n where n is size of the list","title":"Iterate over list in java using Java 8 Streams without values","body":"<p>I want a way to iterate over a list without actual using values of it and creating a parameterized String with &quot;?&quot; for Query.</p>\n<pre><code> for(int i = 0; i&lt;list.size(); i++)\n {\n    spQuery = spQuery + &quot;?,&quot;;\n }\n</code></pre>\n<p>I want to convert above code to Java 8 Streams code.\nFinal Answer should be something like this - ?,?,?,?...n where n is size of the list</p>\n"},{"tags":["java","static","program-entry-point","void","public"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1447743370,"post_id":29276917,"comment_id":55269435,"body_markdown":"http://docs.oracle.com/javase/tutorial/getStarted/application/index.html","body":"<a href=\"http://docs.oracle.com/javase/tutorial/getStarted/application/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/getStarted/application/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3174063,"reputation":1145,"user_id":2682363,"accept_rate":100,"display_name":"Vivek Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448094244,"creation_date":1427368438,"answer_id":29277008,"question_id":29276917,"body_markdown":"\r\n`public` --&gt; Access specifier. Any other class can access this method.\r\n\r\n`static` --&gt; The method is bound to the class, not to an instance of the class.\r\n\r\n`void` --&gt; Return type. The method doesn&#39;t return anything.\r\n\r\n`main(String[] args)` --&gt; method name is `main()`. It takes an array of String&#39;s as argument. The `String[]` args are command line arguments.\r\n\r\n*Note*: The `main()` method defined above is the entry point of a program, if you change the signature, then your program might not run.\r\n","title":"What does `public static void main args` mean?","body":"<p><code>public</code> --> Access specifier. Any other class can access this method.</p>\n\n<p><code>static</code> --> The method is bound to the class, not to an instance of the class.</p>\n\n<p><code>void</code> --> Return type. The method doesn't return anything.</p>\n\n<p><code>main(String[] args)</code> --> method name is <code>main()</code>. It takes an array of String's as argument. The <code>String[]</code> args are command line arguments.</p>\n\n<p><em>Note</em>: The <code>main()</code> method defined above is the entry point of a program, if you change the signature, then your program might not run.</p>\n"},{"tags":[],"owner":{"account_id":2335531,"reputation":180,"user_id":2047975,"accept_rate":100,"display_name":"Frunk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448094053,"creation_date":1427368548,"answer_id":29277040,"question_id":29276917,"body_markdown":" - `Public`  =  This method is visible to all other classes.\r\n   \r\n   \r\n - `static` = This method doesn&#39;t need an instance to be ran.\r\n\r\n   \r\n  \r\n\r\n - `void` = This method doesn&#39;t return anything.\r\n\r\n   \r\n   \r\n\r\n - `main()` = Main method (First method to run).\r\n\r\n   \r\n   \r\n\r\n - `String[]` = Array of strings.\r\n\r\n   \r\n  \r\n\r\n - `args` = Array name.","title":"What does `public static void main args` mean?","body":"<ul>\n<li><p><code>Public</code>  =  This method is visible to all other classes.</p></li>\n<li><p><code>static</code> = This method doesn't need an instance to be ran.</p></li>\n<li><p><code>void</code> = This method doesn't return anything.</p></li>\n<li><p><code>main()</code> = Main method (First method to run).</p></li>\n<li><p><code>String[]</code> = Array of strings.</p></li>\n<li><p><code>args</code> = Array name.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2176629,"reputation":2724,"user_id":1927175,"accept_rate":100,"display_name":"Giri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448093496,"creation_date":1428607118,"answer_id":29547096,"question_id":29276917,"body_markdown":"According to the [Java language specification][1], a Java program&#39;s execution starts from main() method. A main() method should follow the specific syntax, it can be explained as:\r\n\r\n    public static void main(String[] args)\r\n`public` - Access specifier, shows that `main()` is accessible to all other classes. \r\n\r\n`void` - return type, `main()` returns nothing. \r\n\r\n`String args[]` - arguments to the `main()` method, which should an array of type string. \r\n\r\n`static` - Access modifier. A main method should always be static, because the `main()&#39; method can be called without creating an instance of the class. \r\n\r\nLet us assume, we are executing a Helloworld java program. \r\n\r\nWhile executing the program, we use the command \r\n\r\n    java Helloworld.\r\n\r\nInternally, this command is converted into \r\n\r\n    Helloworld.main()\r\n\r\nBy making `main()` method static, JVM calls the `main()` method without creating an object first.  \r\n\r\n  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/","title":"What does `public static void main args` mean?","body":"<p>According to the <a href=\"http://docs.oracle.com/javase/specs/\" rel=\"nofollow\">Java language specification</a>, a Java program's execution starts from main() method. A main() method should follow the specific syntax, it can be explained as:</p>\n\n<pre><code>public static void main(String[] args)\n</code></pre>\n\n<p><code>public</code> - Access specifier, shows that <code>main()</code> is accessible to all other classes. </p>\n\n<p><code>void</code> - return type, <code>main()</code> returns nothing. </p>\n\n<p><code>String args[]</code> - arguments to the <code>main()</code> method, which should an array of type string. </p>\n\n<p><code>static</code> - Access modifier. A main method should always be static, because the `main()' method can be called without creating an instance of the class. </p>\n\n<p>Let us assume, we are executing a Helloworld java program. </p>\n\n<p>While executing the program, we use the command </p>\n\n<pre><code>java Helloworld.\n</code></pre>\n\n<p>Internally, this command is converted into </p>\n\n<pre><code>Helloworld.main()\n</code></pre>\n\n<p>By making <code>main()</code> method static, JVM calls the <code>main()</code> method without creating an object first.  </p>\n"},{"tags":[],"owner":{"account_id":356260,"reputation":2426,"user_id":695657,"accept_rate":78,"display_name":"Sai Upadhyayula"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1448092883,"creation_date":1428607467,"answer_id":29547192,"question_id":29276917,"body_markdown":"Here is a little bit detailed explanation on why main method is declared as \r\n\r\n    public static void main(String[] args)\r\n\r\nMain method is the entry point of a Java program for the Java Virtual Machine(JVM). Let&#39;s say we have a class called `Sample`\r\n\r\n    class Sample {\r\n         static void fun()\r\n         {\r\n               System.out.println(&quot;Hello&quot;);       \r\n         }  \r\n     }\r\n    \r\n    class Test {\r\n          public static void main(String[] args)\r\n          {\r\n                    Sample.fun();\r\n          }  \r\n    }\r\n\r\nThis program will be executed after compilation as `java Test`. The `java` command will start the JVM and it will load our `Test.java` class into the memory. As main is the entry point for our program, JVM will search for main method which is declared as `public`, `static` and `void`.\r\n\r\n&gt;**Why main must be declared public?**\r\n\r\n`main()` must be declared `public` because as we know it is invoked by JVM whenever the program execution starts and JVM does not belong to our program package.\r\n\r\nIn order to access main outside the package we have to declare it as `public`. If we declare it as anything other than `public` it shows a `Run time Error` but not `Compilation time error`.\r\n\r\n&gt;**Why main must be declared static?**\r\n\r\n`main()` must be declared as static because JVM does not know how to create an object of a class, so it needs a standard way to access the main method which is possible by declaring `main()` as `static`.\r\n\r\nIf a method is declared as `static` then we can call that method outside the class without creating an object using the syntax `ClassName.methodName();`.\r\n\r\nSo in this way JVM can call our main method as `&lt;ClassName&gt;.&lt;Main-Method&gt;`\r\n\r\n&gt;**Why main must be declared void?**\r\n\r\n`main()` must be declared void because JVM is not expecting any value from `main()`. So,it must be declared as `void`.\r\n\r\nIf other return type is provided,the it is a `RunTimeError` i.e., `NoSuchMethodFoundError`.\r\n\r\n&gt;**Why main must have String Array Arguments?**\r\n\r\n`main(`) must have String arguments as arrays because JVM calls main method by passing command line argument. As they are stored in string array object it is passed as an argument to `main()`.","title":"What does `public static void main args` mean?","body":"<p>Here is a little bit detailed explanation on why main method is declared as </p>\n\n<pre><code>public static void main(String[] args)\n</code></pre>\n\n<p>Main method is the entry point of a Java program for the Java Virtual Machine(JVM). Let's say we have a class called <code>Sample</code></p>\n\n<pre><code>class Sample {\n     static void fun()\n     {\n           System.out.println(\"Hello\");       \n     }  \n }\n\nclass Test {\n      public static void main(String[] args)\n      {\n                Sample.fun();\n      }  \n}\n</code></pre>\n\n<p>This program will be executed after compilation as <code>java Test</code>. The <code>java</code> command will start the JVM and it will load our <code>Test.java</code> class into the memory. As main is the entry point for our program, JVM will search for main method which is declared as <code>public</code>, <code>static</code> and <code>void</code>.</p>\n\n<blockquote>\n  <p><strong>Why main must be declared public?</strong></p>\n</blockquote>\n\n<p><code>main()</code> must be declared <code>public</code> because as we know it is invoked by JVM whenever the program execution starts and JVM does not belong to our program package.</p>\n\n<p>In order to access main outside the package we have to declare it as <code>public</code>. If we declare it as anything other than <code>public</code> it shows a <code>Run time Error</code> but not <code>Compilation time error</code>.</p>\n\n<blockquote>\n  <p><strong>Why main must be declared static?</strong></p>\n</blockquote>\n\n<p><code>main()</code> must be declared as static because JVM does not know how to create an object of a class, so it needs a standard way to access the main method which is possible by declaring <code>main()</code> as <code>static</code>.</p>\n\n<p>If a method is declared as <code>static</code> then we can call that method outside the class without creating an object using the syntax <code>ClassName.methodName();</code>.</p>\n\n<p>So in this way JVM can call our main method as <code>&lt;ClassName&gt;.&lt;Main-Method&gt;</code></p>\n\n<blockquote>\n  <p><strong>Why main must be declared void?</strong></p>\n</blockquote>\n\n<p><code>main()</code> must be declared void because JVM is not expecting any value from <code>main()</code>. So,it must be declared as <code>void</code>.</p>\n\n<p>If other return type is provided,the it is a <code>RunTimeError</code> i.e., <code>NoSuchMethodFoundError</code>.</p>\n\n<blockquote>\n  <p><strong>Why main must have String Array Arguments?</strong></p>\n</blockquote>\n\n<p><code>main(</code>) must have String arguments as arrays because JVM calls main method by passing command line argument. As they are stored in string array object it is passed as an argument to <code>main()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3953687,"reputation":11,"user_id":3263024,"display_name":"vineeth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448094063,"creation_date":1447742652,"answer_id":33750707,"question_id":29276917,"body_markdown":"In Java your main method must always be:\r\n\r\n    public static void main(String args[])\r\n\r\n\r\n1. The program execution starts with `main()` function, hence the `main()` function. \r\n\r\n2. It must be `public` so that it is accessible to the outside environment.\r\n\r\n3. The `main()` method is always static because, as you know that the program execution starts at `main()` method and there is no instance of the class containing `main()` method is initiated. Hence as the static method can run without need of any instance it is declared of static.\r\n\r\n4. Java is platform independent, hence you may try to compile the java file on one system and try to execute the class file on another. Each machines&#39; bit architecture may be different hence the return type of the main function must always be `main()`.\r\n\r\nHope this helps.","title":"What does `public static void main args` mean?","body":"<p>In Java your main method must always be:</p>\n\n<pre><code>public static void main(String args[])\n</code></pre>\n\n<ol>\n<li><p>The program execution starts with <code>main()</code> function, hence the <code>main()</code> function. </p></li>\n<li><p>It must be <code>public</code> so that it is accessible to the outside environment.</p></li>\n<li><p>The <code>main()</code> method is always static because, as you know that the program execution starts at <code>main()</code> method and there is no instance of the class containing <code>main()</code> method is initiated. Hence as the static method can run without need of any instance it is declared of static.</p></li>\n<li><p>Java is platform independent, hence you may try to compile the java file on one system and try to execute the class file on another. Each machines' bit architecture may be different hence the return type of the main function must always be <code>main()</code>.</p></li>\n</ol>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13584103,"reputation":1,"user_id":9799286,"display_name":"Payel Roy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656341463,"creation_date":1656341463,"answer_id":72774117,"question_id":29276917,"body_markdown":"Please go through this video link -&gt;\r\nhttps://youtu.be/ggsRGcA8hnQVery for a clear and to the point explanation of public static void main(String args[]) method.\r\n","title":"What does `public static void main args` mean?","body":"<p>Please go through this video link -&gt;\n<a href=\"https://youtu.be/ggsRGcA8hnQVery\" rel=\"nofollow noreferrer\">https://youtu.be/ggsRGcA8hnQVery</a> for a clear and to the point explanation of public static void main(String args[]) method.</p>\n"}],"owner":{"account_id":5997762,"reputation":101,"user_id":4711962,"accept_rate":0,"display_name":"Nick Nicholas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26739,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":6,"score":7,"last_activity_date":1656341463,"creation_date":1427368184,"question_id":29276917,"body_markdown":"I am not sure what this means, whenever before you write a code, people say this \r\n\r\n    public static void main(String[] args) {\r\n\r\nWhat does that mean?","title":"What does `public static void main args` mean?","body":"<p>I am not sure what this means, whenever before you write a code, people say this </p>\n\n<pre><code>public static void main(String[] args) {\n</code></pre>\n\n<p>What does that mean?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2563335,"reputation":133,"user_id":2224008,"display_name":"Jszn"},"score":0,"creation_date":1643297002,"post_id":68368188,"comment_id":125306776,"body_markdown":"You are calling purchase too early, your IAP isnt yet ready I think..","body":"You are calling purchase too early, your IAP isnt yet ready I think.."}],"answers":[{"tags":[],"owner":{"account_id":1171261,"reputation":702,"user_id":1148405,"display_name":"Cesar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656341253,"creation_date":1656341253,"answer_id":72774056,"question_id":68368188,"body_markdown":"You need to call `registerListener` in your Application&#39;s `onCreate`, otherwise Amazon fails to detect there&#39;s an Activity being displayed and it will not show the purchase dialog.","title":"Amazon IAP not launching purchase dialog","body":"<p>You need to call <code>registerListener</code> in your Application's <code>onCreate</code>, otherwise Amazon fails to detect there's an Activity being displayed and it will not show the purchase dialog.</p>\n"}],"owner":{"account_id":6526701,"reputation":319,"user_id":5049238,"accept_rate":25,"display_name":"androidexpert35"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656341253,"creation_date":1626203604,"question_id":68368188,"body_markdown":"I&#39;m migrating an app from the play store to the Amazon App store, considering that in this way it will be avilable for Windows 11 too.\r\n\r\nFor this to make something very fast and easy i made an activity called PurchaseActivity which contains the codes brought by the amazon IAP guide PDF.\r\n\r\nThe activity is called from a &quot;buy now&quot; button of a dialog window with the following code:\r\n\r\n    public class PurchaseActivity extends Activity {\r\n    String parentSKU = &quot;com.amazon.sample.iap.subscription.mymagazine&quot;;\r\n    //Define UserId and MarketPlace\r\n    private String currentUserId;\r\n    private String currentMarketplace;\r\n    private ProgressDialog progress;\r\n\r\n    @Override\r\n    protected void onStart(){\r\n        super.onStart();\r\n        progress = new ProgressDialog(this);\r\n        progress.setTitle(&quot;Purchasing&quot;);\r\n        progress.setMessage(&quot;Wait while making the purchase...&quot;);\r\n        progress.setButton(DialogInterface.BUTTON_NEGATIVE, &quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                progress.dismiss();//dismiss dialog\r\n                finish();\r\n            }\r\n        });\r\n        progress.setCancelable(false); // disable dismiss by tapping outside of the dialog\r\n        progress.show();\r\n\r\n        PurchasingService.registerListener(this, purchasingListener);\r\n\r\n        PurchasingService.purchase(parentSKU);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        //getUserData() will query the Appstore for the Users information\r\n        PurchasingService.getUserData();\r\n        //getPurchaseUpdates() will query the Appstore for any previous purchase\r\n        PurchasingService.getPurchaseUpdates(true);\r\n        //getProductData will validate the SKUs with Amazon Appstore\r\n        final Set&lt;String&gt; productSkus = new HashSet&lt;String&gt;();\r\n        productSkus.add(parentSKU);\r\n        PurchasingService.getProductData(productSkus);\r\n        Log.v(&quot;Validating SKUs&quot;, &quot;Validating SKUs with Amazon&quot;);\r\n    }\r\n\r\n\r\n    PurchasingListener purchasingListener = new PurchasingListener() {\r\n        @Override\r\n        public void onUserDataResponse(UserDataResponse response) {\r\n            final UserDataResponse.RequestStatus status = response.getRequestStatus();\r\n            switch (status) {\r\n                case SUCCESSFUL:\r\n                    currentUserId = response.getUserData().getUserId();\r\n                    currentMarketplace = response.getUserData().getMarketplace();\r\n                    Log.v(&quot;IAP SDK&quot;, &quot;loaded userdataResponse&quot;);\r\n                    break;\r\n                case FAILED:\r\n                case NOT_SUPPORTED:\r\n                    // Fail gracefully.\r\n                    Log.v(&quot;IAP SDK&quot;, &quot;loading failed&quot;);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onProductDataResponse(ProductDataResponse productDataResponse) {\r\n            switch (productDataResponse.getRequestStatus()) {\r\n                case SUCCESSFUL:\r\n\r\n                    //get informations for all IAP Items (parent SKUs)\r\n                    final Map&lt;String, Product&gt; products = productDataResponse.getProductData();\r\n                    for (String key : products.keySet()) {\r\n                        Product product = products.get(key);\r\n                        Log.v(&quot;Product:&quot;, String.format(&quot;Product: %s\\n Type: %s\\n SKU: %s\\n Price: %s\\n Description: %s\\n&quot;, product.getTitle(), product.getProductType(),\r\n                                product.getSku(), product.getPrice(), product.getDescription()));\r\n                    }\r\n                    //get all unavailable SKUs\r\n                    for (String s : productDataResponse.getUnavailableSkus()) {\r\n                        Log.v(&quot;Unavailable SKU:&quot; + s, &quot;Unavailable SKU:&quot; + s);\r\n                    }\r\n                    break;\r\n                case FAILED:\r\n                    Log.v(&quot;FAILED&quot;, &quot;FAILED&quot;);\r\n                    progress.dismiss();\r\n                    finish();\r\n                    break;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onPurchaseResponse(PurchaseResponse purchaseResponse) {\r\n            switch (purchaseResponse.getRequestStatus()) {\r\n                case SUCCESSFUL:\r\n                    PurchasingService.notifyFulfillment(purchaseResponse.getReceipt().getReceiptId(),\r\n                            FulfillmentResult.FULFILLED);\r\n                    break;\r\n                case FAILED:\r\n                    progress.dismiss();\r\n                    finish();\r\n                    break;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onPurchaseUpdatesResponse(PurchaseUpdatesResponse response) {\r\n\r\n            // Process receipts\r\n            switch (response.getRequestStatus()) {\r\n                case SUCCESSFUL:\r\n                    for (final Receipt receipt : response.getReceipts()) {\r\n                        // Process receipts\r\n                        if (!receipt.isCanceled()) {\r\n                            // sharedprefs\r\n                             SharedPreferences sharedPreference = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\r\n                            SharedPreferences.Editor sharedPrefEditor = sharedPreference.edit();\r\n                            sharedPrefEditor.putBoolean(&quot;isPro&quot;,true);\r\n                            sharedPrefEditor.apply();\r\n                            progress.dismiss();\r\n                            finish();\r\n                        }\r\n                    }\r\n                    if (response.hasMore()) {\r\n                        PurchasingService.getPurchaseUpdates(true);\r\n                    }\r\n                    break;\r\n                case FAILED:\r\n                    Log.d(&quot;FAILED&quot;, &quot;FAILED&quot;);\r\n                    progress.dismiss();\r\n                    finish();\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n}\r\n\r\nYeah i know i should not call all that stuff in the onStart() method but i&#39;ll make an onCreate() with a UI later.\r\n\r\nAs you can see from this code, i&#39;m testing in sandbox mode.\r\n\r\nTHE PROBLEM: Actually when the activity starts, i see progressDialog, and i read in the debug logs that &quot;V/Validating&#160;SKUs: Validating SKUs with Amazon&quot; but i don&#39;t see then the amazon buy window. It also seems like the listener code is never called, even if i put some breakpoints in there, they&#39;re never reached which is very weird considering that apprently it gets initialized and called successfully by the method &quot;PurchasingService.registerListener(this, purchasingListener)&quot;\r\n\r\nAny help would be very apreciated!\r\n\r\nThanks and have a good evening","title":"Amazon IAP not launching purchase dialog","body":"<p>I'm migrating an app from the play store to the Amazon App store, considering that in this way it will be avilable for Windows 11 too.</p>\n<p>For this to make something very fast and easy i made an activity called PurchaseActivity which contains the codes brought by the amazon IAP guide PDF.</p>\n<p>The activity is called from a &quot;buy now&quot; button of a dialog window with the following code:</p>\n<pre><code>public class PurchaseActivity extends Activity {\nString parentSKU = &quot;com.amazon.sample.iap.subscription.mymagazine&quot;;\n//Define UserId and MarketPlace\nprivate String currentUserId;\nprivate String currentMarketplace;\nprivate ProgressDialog progress;\n\n@Override\nprotected void onStart(){\n    super.onStart();\n    progress = new ProgressDialog(this);\n    progress.setTitle(&quot;Purchasing&quot;);\n    progress.setMessage(&quot;Wait while making the purchase...&quot;);\n    progress.setButton(DialogInterface.BUTTON_NEGATIVE, &quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            progress.dismiss();//dismiss dialog\n            finish();\n        }\n    });\n    progress.setCancelable(false); // disable dismiss by tapping outside of the dialog\n    progress.show();\n\n    PurchasingService.registerListener(this, purchasingListener);\n\n    PurchasingService.purchase(parentSKU);\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n\n    //getUserData() will query the Appstore for the Users information\n    PurchasingService.getUserData();\n    //getPurchaseUpdates() will query the Appstore for any previous purchase\n    PurchasingService.getPurchaseUpdates(true);\n    //getProductData will validate the SKUs with Amazon Appstore\n    final Set&lt;String&gt; productSkus = new HashSet&lt;String&gt;();\n    productSkus.add(parentSKU);\n    PurchasingService.getProductData(productSkus);\n    Log.v(&quot;Validating SKUs&quot;, &quot;Validating SKUs with Amazon&quot;);\n}\n\n\nPurchasingListener purchasingListener = new PurchasingListener() {\n    @Override\n    public void onUserDataResponse(UserDataResponse response) {\n        final UserDataResponse.RequestStatus status = response.getRequestStatus();\n        switch (status) {\n            case SUCCESSFUL:\n                currentUserId = response.getUserData().getUserId();\n                currentMarketplace = response.getUserData().getMarketplace();\n                Log.v(&quot;IAP SDK&quot;, &quot;loaded userdataResponse&quot;);\n                break;\n            case FAILED:\n            case NOT_SUPPORTED:\n                // Fail gracefully.\n                Log.v(&quot;IAP SDK&quot;, &quot;loading failed&quot;);\n                break;\n        }\n    }\n\n    @Override\n    public void onProductDataResponse(ProductDataResponse productDataResponse) {\n        switch (productDataResponse.getRequestStatus()) {\n            case SUCCESSFUL:\n\n                //get informations for all IAP Items (parent SKUs)\n                final Map&lt;String, Product&gt; products = productDataResponse.getProductData();\n                for (String key : products.keySet()) {\n                    Product product = products.get(key);\n                    Log.v(&quot;Product:&quot;, String.format(&quot;Product: %s\\n Type: %s\\n SKU: %s\\n Price: %s\\n Description: %s\\n&quot;, product.getTitle(), product.getProductType(),\n                            product.getSku(), product.getPrice(), product.getDescription()));\n                }\n                //get all unavailable SKUs\n                for (String s : productDataResponse.getUnavailableSkus()) {\n                    Log.v(&quot;Unavailable SKU:&quot; + s, &quot;Unavailable SKU:&quot; + s);\n                }\n                break;\n            case FAILED:\n                Log.v(&quot;FAILED&quot;, &quot;FAILED&quot;);\n                progress.dismiss();\n                finish();\n                break;\n        }\n    }\n\n    @Override\n    public void onPurchaseResponse(PurchaseResponse purchaseResponse) {\n        switch (purchaseResponse.getRequestStatus()) {\n            case SUCCESSFUL:\n                PurchasingService.notifyFulfillment(purchaseResponse.getReceipt().getReceiptId(),\n                        FulfillmentResult.FULFILLED);\n                break;\n            case FAILED:\n                progress.dismiss();\n                finish();\n                break;\n        }\n    }\n\n    @Override\n    public void onPurchaseUpdatesResponse(PurchaseUpdatesResponse response) {\n\n        // Process receipts\n        switch (response.getRequestStatus()) {\n            case SUCCESSFUL:\n                for (final Receipt receipt : response.getReceipts()) {\n                    // Process receipts\n                    if (!receipt.isCanceled()) {\n                        // sharedprefs\n                         SharedPreferences sharedPreference = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\n                        SharedPreferences.Editor sharedPrefEditor = sharedPreference.edit();\n                        sharedPrefEditor.putBoolean(&quot;isPro&quot;,true);\n                        sharedPrefEditor.apply();\n                        progress.dismiss();\n                        finish();\n                    }\n                }\n                if (response.hasMore()) {\n                    PurchasingService.getPurchaseUpdates(true);\n                }\n                break;\n            case FAILED:\n                Log.d(&quot;FAILED&quot;, &quot;FAILED&quot;);\n                progress.dismiss();\n                finish();\n                break;\n        }\n    }\n};\n</code></pre>\n<p>}</p>\n<p>Yeah i know i should not call all that stuff in the onStart() method but i'll make an onCreate() with a UI later.</p>\n<p>As you can see from this code, i'm testing in sandbox mode.</p>\n<p>THE PROBLEM: Actually when the activity starts, i see progressDialog, and i read in the debug logs that &quot;V/Validating SKUs: Validating SKUs with Amazon&quot; but i don't see then the amazon buy window. It also seems like the listener code is never called, even if i put some breakpoints in there, they're never reached which is very weird considering that apprently it gets initialized and called successfully by the method &quot;PurchasingService.registerListener(this, purchasingListener)&quot;</p>\n<p>Any help would be very apreciated!</p>\n<p>Thanks and have a good evening</p>\n"},{"tags":["java","spring","spring-el","spring-properties","property-placeholder"],"comments":[{"owner":{"account_id":7460722,"reputation":2445,"user_id":6203078,"accept_rate":94,"display_name":"Ami Hollander"},"score":0,"creation_date":1489222347,"post_id":42733067,"comment_id":72585006,"body_markdown":"is `double` works?","body":"is <code>double</code> works?"},{"owner":{"account_id":893749,"reputation":8510,"user_id":931511,"accept_rate":76,"display_name":"guilhebl"},"score":0,"creation_date":1489222640,"post_id":42733067,"comment_id":72585059,"body_markdown":"@AmiHollander it fails even for primitive type double","body":"@AmiHollander it fails even for primitive type double"}],"answers":[{"tags":[],"owner":{"account_id":1002712,"reputation":602,"user_id":1017216,"accept_rate":81,"display_name":"Vitali Pom"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1489230636,"creation_date":1489230094,"answer_id":42734376,"question_id":42733067,"body_markdown":"How about storing a String and converting to numbers like integers and doubles through getters and setters? For safe code with Java injection you should always use getters and setters and only for other methods in any case. I advice you warmly to read about java security (Which is NOT for hackers), but more for code usage and writing likewise the one you uploaded, wich uses injection. ","title":"Spring @Value TypeMismatchException:Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;","body":"<p>How about storing a String and converting to numbers like integers and doubles through getters and setters? For safe code with Java injection you should always use getters and setters and only for other methods in any case. I advice you warmly to read about java security (Which is NOT for hackers), but more for code usage and writing likewise the one you uploaded, wich uses injection. </p>\n"},{"tags":[],"owner":{"account_id":4421189,"reputation":656,"user_id":3601099,"display_name":"pkoli"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1575381270,"creation_date":1489231592,"answer_id":42734588,"question_id":42733067,"body_markdown":"This should solve the problem-\r\n\r\n    @Value(&quot;#{T(Double).parseDouble(&#39;${item.priceFactor}&#39;)}&quot;)\r\n    private Double priceFactor;","title":"Spring @Value TypeMismatchException:Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;","body":"<p>This should solve the problem-</p>\n\n<pre><code>@Value(\"#{T(Double).parseDouble('${item.priceFactor}')}\")\nprivate Double priceFactor;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10434393,"reputation":2167,"user_id":7693190,"accept_rate":89,"display_name":"bcr666"},"down_vote_count":1,"up_vote_count":85,"is_accepted":true,"score":84,"last_activity_date":1489237730,"creation_date":1489237730,"answer_id":42735568,"question_id":42733067,"body_markdown":"Try changing the following line\r\n\r\n    @Value(&quot;${item.priceFactor}&quot;)\r\n\r\nto\r\n\r\n    @Value(&quot;#{new Double(&#39;${item.priceFactor}&#39;)}&quot;)","title":"Spring @Value TypeMismatchException:Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;","body":"<p>Try changing the following line</p>\n\n<pre><code>@Value(\"${item.priceFactor}\")\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Value(\"#{new Double('${item.priceFactor}')}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6834766,"reputation":674,"user_id":5257218,"display_name":"Omar YAYA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621470257,"creation_date":1621470257,"answer_id":67612468,"question_id":42733067,"body_markdown":"I had a similar problem but instead of `required type &#39;java.lang.Double&#39;` it was `required type &#39;java.lang.Long&#39;`. I was using env. variables from a YAML file. Turns out YAML doesn&#39;t support the `Long` data type.","title":"Spring @Value TypeMismatchException:Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;","body":"<p>I had a similar problem but instead of <code>required type 'java.lang.Double'</code> it was <code>required type 'java.lang.Long'</code>. I was using env. variables from a YAML file. Turns out YAML doesn't support the <code>Long</code> data type.</p>\n"},{"tags":[],"owner":{"account_id":11658165,"reputation":11,"user_id":8537276,"display_name":"Bojan Antonović"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640003700,"creation_date":1640003220,"answer_id":70421780,"question_id":42733067,"body_markdown":"You forgot the @PropertySource annotation with the name of the properties file as parameter.\r\n\r\nIt should come before or after your @Service annotation.\r\n\r\nPlease have a look for a working solution with @Configuration (the super type of @Service) at https://github.com/bojanantonovic/spring-properties-demo.","title":"Spring @Value TypeMismatchException:Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;","body":"<p>You forgot the @PropertySource annotation with the name of the properties file as parameter.</p>\n<p>It should come before or after your @Service annotation.</p>\n<p>Please have a look for a working solution with @Configuration (the super type of @Service) at <a href=\"https://github.com/bojanantonovic/spring-properties-demo\" rel=\"nofollow noreferrer\">https://github.com/bojanantonovic/spring-properties-demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656341198,"creation_date":1656341198,"answer_id":72774045,"question_id":42733067,"body_markdown":"Below logic works for me without using new Double:\r\n\r\n    @Value(&quot;${item.priceFactor}&quot;)\r\n    private Double priceFactor;\r\n\r\n    item.priceFactor=0.1\r\n\r\nSpring will automatically convert for you.","title":"Spring @Value TypeMismatchException:Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;","body":"<p>Below logic works for me without using new Double:</p>\n<pre><code>@Value(&quot;${item.priceFactor}&quot;)\nprivate Double priceFactor;\n\nitem.priceFactor=0.1\n</code></pre>\n<p>Spring will automatically convert for you.</p>\n"}],"owner":{"account_id":893749,"reputation":8510,"user_id":931511,"accept_rate":76,"display_name":"guilhebl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59191,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":42735568,"answer_count":6,"score":43,"last_activity_date":1656341198,"creation_date":1489220960,"question_id":42733067,"body_markdown":"I want to use the @Value annotation to inject a Double property such as:\r\n\r\n    @Service\r\n    public class MyService {\r\n    \t\r\n    \t@Value(&quot;${item.priceFactor}&quot;)\r\n    \tprivate Double priceFactor = 0.1;\r\n    \r\n    // ...\r\n\r\nand using Spring property placeholder (Properties files):\r\n\r\n    item.priceFactor=0.1\r\n\r\nI get Exception: \r\n\r\n    \r\n\r\n&gt; org.springframework.beans.TypeMismatchException: Failed to convert\r\n&gt; value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;;\r\n&gt; nested exception is java.lang.NumberFormatException: For input string:\r\n&gt; &quot;${item.priceFactor}&quot;\r\n\r\nIs there a way to use a Double value coming from a properties file?","title":"Spring @Value TypeMismatchException:Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;","body":"<p>I want to use the @Value annotation to inject a Double property such as:</p>\n\n<pre><code>@Service\npublic class MyService {\n\n    @Value(\"${item.priceFactor}\")\n    private Double priceFactor = 0.1;\n\n// ...\n</code></pre>\n\n<p>and using Spring property placeholder (Properties files):</p>\n\n<pre><code>item.priceFactor=0.1\n</code></pre>\n\n<p>I get Exception: </p>\n\n<blockquote>\n  <p>org.springframework.beans.TypeMismatchException: Failed to convert\n  value of type 'java.lang.String' to required type 'java.lang.Double';\n  nested exception is java.lang.NumberFormatException: For input string:\n  \"${item.priceFactor}\"</p>\n</blockquote>\n\n<p>Is there a way to use a Double value coming from a properties file?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"score":0,"creation_date":1501005558,"post_id":45310461,"comment_id":77583194,"body_markdown":"are you using maven?","body":"are you using maven?"},{"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"score":0,"creation_date":1501005629,"post_id":45310461,"comment_id":77583237,"body_markdown":"No. It is a simple java project. But I added the jar to the class path. Thank you.","body":"No. It is a simple java project. But I added the jar to the class path. Thank you."},{"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"score":0,"creation_date":1501005724,"post_id":45310461,"comment_id":77583296,"body_markdown":"What is your IDE Eclipse, Netbeans, Intellij Idea?","body":"What is your IDE Eclipse, Netbeans, Intellij Idea?"},{"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"score":0,"creation_date":1501005854,"post_id":45310461,"comment_id":77583355,"body_markdown":"@GhostCat I put that vote request just because I need the answer very urgently. Sorry, If you took it in a wrong way.","body":"@GhostCat I put that vote request just because I need the answer very urgently. Sorry, If you took it in a wrong way."},{"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"score":0,"creation_date":1501005895,"post_id":45310461,"comment_id":77583391,"body_markdown":"@DavidP&#233;rezCabrera I am using eclipse IDE. Thank you.","body":"@DavidP&#233;rezCabrera I am using eclipse IDE. Thank you."},{"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"score":0,"creation_date":1501005911,"post_id":45310461,"comment_id":77583399,"body_markdown":"If you add to main the line `s.setName(&quot;foo&quot;);` do It compile?","body":"If you add to main the line <code>s.setName(&quot;foo&quot;);</code> do It compile?"},{"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"score":0,"creation_date":1501005985,"post_id":45310461,"comment_id":77583446,"body_markdown":"@DavidP&#233;rezCabrera No, it did not compile. Thank you.","body":"@DavidP&#233;rezCabrera No, it did not compile. Thank you."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":3,"creation_date":1501012305,"post_id":45310461,"comment_id":77587102,"body_markdown":"Did you install it in Eclipse? You need to double click the jar and it will open an installation menu.","body":"Did you install it in Eclipse? You need to double click the jar and it will open an installation menu."}],"answers":[{"tags":[],"owner":{"account_id":3763024,"reputation":349,"user_id":3127379,"display_name":"Jurrian Fahner"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501006009,"creation_date":1501006009,"answer_id":45310696,"question_id":45310461,"body_markdown":"@Data on class level would be sufficient. Maybe it is a problem that you have put the @Data annotation between `public` and `class`.\r\n\r\nOther question is whether your lombok.jar is on the classpath. \r\n\r\nIf I would rewrite your class, I would come up with the following:\r\n\r\n    @Data\r\n    public class Student {\r\n    \r\n    private Integer id;\r\n\r\n    private String name;\r\n    \r\n    private String uid;\r\n    \r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n        Student s = new Student();\r\n        System.out.println(s);\r\n    \r\n    \r\n    }\r\n    }","title":"Generating getters and setters using project Lombok","body":"<p>@Data on class level would be sufficient. Maybe it is a problem that you have put the @Data annotation between <code>public</code> and <code>class</code>.</p>\n\n<p>Other question is whether your lombok.jar is on the classpath. </p>\n\n<p>If I would rewrite your class, I would come up with the following:</p>\n\n<pre><code>@Data\npublic class Student {\n\nprivate Integer id;\n\nprivate String name;\n\nprivate String uid;\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Student s = new Student();\n    System.out.println(s);\n\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501006103,"creation_date":1501006103,"answer_id":45310724,"question_id":45310461,"body_markdown":"Your configuration is incomplete. Review https://projectlombok.org/setup/eclipse and check if It compiles. \r\nWhen it does, try again!","title":"Generating getters and setters using project Lombok","body":"<p>Your configuration is incomplete. Review <a href=\"https://projectlombok.org/setup/eclipse\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/eclipse</a> and check if It compiles. \nWhen it does, try again!</p>\n"},{"tags":[],"owner":{"account_id":7665619,"reputation":518,"user_id":5809422,"accept_rate":50,"display_name":"Mesbah Gueffaf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501069678,"creation_date":1501069678,"answer_id":45326067,"question_id":45310461,"body_markdown":"If you use netbeans go to properties-&gt;Build-&gt;compiling for checked the option Enable Annotation processing \r\n\r\nor search this option in your editor\r\n","title":"Generating getters and setters using project Lombok","body":"<p>If you use netbeans go to properties->Build->compiling for checked the option Enable Annotation processing </p>\n\n<p>or search this option in your editor</p>\n"},{"tags":[],"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1501093272,"creation_date":1501091434,"answer_id":45334160,"question_id":45310461,"body_markdown":"thanks for your help. In eclipse IDE, I was not exporting the `lombok` jar. Even though, I added jar to the build path, it seems I should export it to the project in `order and export` section of eclipse.\r\n\r\nSo, In eclipse editor, \r\n\r\n&gt; right click on your project --&gt; `Build Path`--&gt; `Configure Build Path...`--&gt;select `order and export` tab and check the jar you want to export to your project.\r\n\r\nOr\r\n\r\nyou can also simply run the downloaded jar. This will detect the possible IDE&#39;s in the system and configure it to support all `lombok` features.\r\n\r\nThis solved my issue. Again thank you for your support.","title":"Generating getters and setters using project Lombok","body":"<p>thanks for your help. In eclipse IDE, I was not exporting the <code>lombok</code> jar. Even though, I added jar to the build path, it seems I should export it to the project in <code>order and export</code> section of eclipse.</p>\n\n<p>So, In eclipse editor, </p>\n\n<blockquote>\n  <p>right click on your project --> <code>Build Path</code>--> <code>Configure Build Path...</code>-->select <code>order and export</code> tab and check the jar you want to export to your project.</p>\n</blockquote>\n\n<p>Or</p>\n\n<p>you can also simply run the downloaded jar. This will detect the possible IDE's in the system and configure it to support all <code>lombok</code> features.</p>\n\n<p>This solved my issue. Again thank you for your support.</p>\n"},{"tags":[],"owner":{"account_id":9025175,"reputation":27,"user_id":6724705,"display_name":"Sudarshan Nagre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656340810,"creation_date":1656340810,"answer_id":72773949,"question_id":45310461,"body_markdown":"Simply download the lombok-1.18.24.jar(any version) and once download, double click on that file, so it checks your system and detects the IDE&#39;s that are available on your system. Then verify the IDE&#39;s and click on install/update button. Once the above process is completed, restart your IDE maybe, sts or eclipse.","title":"Generating getters and setters using project Lombok","body":"<p>Simply download the lombok-1.18.24.jar(any version) and once download, double click on that file, so it checks your system and detects the IDE's that are available on your system. Then verify the IDE's and click on install/update button. Once the above process is completed, restart your IDE maybe, sts or eclipse.</p>\n"}],"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3473,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45334160,"answer_count":5,"score":2,"last_activity_date":1656340810,"creation_date":1501005265,"question_id":45310461,"body_markdown":"I wanted to use Lombok dependency in my project. So, I downloaded `lombok-1.16.18.jar` and added to the build path of on of my classes. The configuration is shown below.\r\n\r\n\r\n    import lombok.Data;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n\r\n    @ToString(includeFieldNames=true)\r\n    public @Data class Student {\r\n\r\n\t@Getter\r\n\t@Setter\r\n\tprivate Integer id;\r\n\t\r\n\t@Getter\r\n\t@Setter\r\n\tprivate String name;\r\n\t\r\n\t//private Date dob;\r\n\t@Getter\r\n\t@Setter\r\n\tprivate String uid;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n        Student s = new Student();\r\n\t\tSystem.out.println(s);\r\n\t\t\r\n\t\t\r\n\t}\r\n    }\r\n\r\nBut, I am not getting proper output in console. I am getting `Object` classes `toString()` output like `com.selflearn.sandesha.Student@7852e922\r\n`. I am also not able to use getters and setters. How to make Lombok work or what wrong I am doing?","title":"Generating getters and setters using project Lombok","body":"<p>I wanted to use Lombok dependency in my project. So, I downloaded <code>lombok-1.16.18.jar</code> and added to the build path of on of my classes. The configuration is shown below.</p>\n\n<pre><code>import lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@ToString(includeFieldNames=true)\npublic @Data class Student {\n\n@Getter\n@Setter\nprivate Integer id;\n\n@Getter\n@Setter\nprivate String name;\n\n//private Date dob;\n@Getter\n@Setter\nprivate String uid;\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Student s = new Student();\n    System.out.println(s);\n\n\n}\n}\n</code></pre>\n\n<p>But, I am not getting proper output in console. I am getting <code>Object</code> classes <code>toString()</code> output like <code>com.selflearn.sandesha.Student@7852e922\n</code>. I am also not able to use getters and setters. How to make Lombok work or what wrong I am doing?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656324824,"post_id":72770021,"comment_id":128535519,"body_markdown":"Do you really need `LocalContainerEntityManagerFactoryBean` when using `@EnableJpaRepositories` ? You could attempt using `@EntityScan` to scane for the entities, remove `LocalContainerEntityManagerFactoryBean` definition and use the `@Repository` directly","body":"Do you really need <code>LocalContainerEntityManagerFactoryBean</code> when using <code>@EnableJpaRepositories</code> ? You could attempt using <code>@EntityScan</code> to scane for the entities, remove <code>LocalContainerEntityManagerFactoryBean</code> definition and use the <code>@Repository</code> directly"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656324980,"post_id":72770021,"comment_id":128535585,"body_markdown":"Do you suggest to remove only this bean? Anyway, I have two datasource, so I guess that I need two distinct configurations","body":"Do you suggest to remove only this bean? Anyway, I have two datasource, so I guess that I need two distinct configurations"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656325313,"post_id":72770021,"comment_id":128535706,"body_markdown":"You only need 2 configurations if its 2 different databases. Else you can use a single one and adjust the mapping.","body":"You only need 2 configurations if its 2 different databases. Else you can use a single one and adjust the mapping."},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656325399,"post_id":72770021,"comment_id":128535739,"body_markdown":"I have two catalogs","body":"I have two catalogs"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656325929,"post_id":72770021,"comment_id":128535897,"body_markdown":"I just realized that you have use `@Primary` on the &quot;data&quot; parts. Then you just use `@Autowired public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;` which would by default use the `@Primary` annotated dependency (as they are also by default autowired by type). You should specify which bean exactly you want. For this you need to add an `@Qualifier(&quot;dataEntityManagerFactory&quot;)` and `@Qualifier(&quot;userEntityManagerFactory&quot;)`. Then spring should properly set each instance","body":"I just realized that you have use <code>@Primary</code> on the &quot;data&quot; parts. Then you just use <code>@Autowired public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;</code> which would by default use the <code>@Primary</code> annotated dependency (as they are also by default autowired by type). You should specify which bean exactly you want. For this you need to add an <code>@Qualifier(&quot;dataEntityManagerFactory&quot;)</code> and <code>@Qualifier(&quot;userEntityManagerFactory&quot;)</code>. Then spring should properly set each instance"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656326290,"post_id":72770021,"comment_id":128536006,"body_markdown":"prefect observation. I also removed the basePackages from EnableJpaRepositories but now I have a new exception &quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.getObject()&quot; because &quot;this.userEntityManagerFactory&quot; is null&quot;. My correction is:   @Qualifier(&quot;dataEntityManagerFactory&quot;)\n  public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;\n  @Qualifier(&quot;userEntityManagerFactory&quot;)\n  public LocalContainerEntityManagerFactoryBean userEntityManagerFactory;","body":"prefect observation. I also removed the basePackages from EnableJpaRepositories but now I have a new exception &quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.orm.jpa.LocalContainerEntityManagerFact&zwnj;&#8203;oryBean.getObject()&quot; because &quot;this.userEntityManagerFactory&quot; is null&quot;. My correction is:   @Qualifier(&quot;dataEntityManagerFactory&quot;)   public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;   @Qualifier(&quot;userEntityManagerFactory&quot;)   public LocalContainerEntityManagerFactoryBean userEntityManagerFactory;"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656326595,"post_id":72770021,"comment_id":128536103,"body_markdown":"`@EnableJpaRepositories` should still define the `basePackages`. Also check out [this question](https://stackoverflow.com/questions/45663025/spring-data-jpa-multiple-enablejparepositories) and accepted answer. It looks like a duplicate to yours","body":"<code>@EnableJpaRepositories</code> should still define the <code>basePackages</code>. Also check out <a href=\"https://stackoverflow.com/questions/45663025/spring-data-jpa-multiple-enablejparepositories\">this question</a> and accepted answer. It looks like a duplicate to yours"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656327466,"post_id":72770021,"comment_id":128536403,"body_markdown":"with &quot;basepackages&quot; I have a duplicate bean error concerning the repositories, commenting them a &quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.getObject()&quot; because &quot;this.userEntityManagerFactory&quot; is null&quot;. I also checked the question  you posted.","body":"with &quot;basepackages&quot; I have a duplicate bean error concerning the repositories, commenting them a &quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.orm.jpa.LocalContainerEntityManagerFact&zwnj;&#8203;oryBean.getObject()&quot; because &quot;this.userEntityManagerFactory&quot; is null&quot;. I also checked the question  you posted."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656328055,"post_id":72770021,"comment_id":128536613,"body_markdown":"`@EnableJpaRepositories` and `lem.setPackagesToScan` both define the same packages. Properly split them. `lem.setPackagesToScan` likely only needs to know about the models, while `@EnableJpaRepositories` only needs to know about the repositories.","body":"<code>@EnableJpaRepositories</code> and <code>lem.setPackagesToScan</code> both define the same packages. Properly split them. <code>lem.setPackagesToScan</code> likely only needs to know about the models, while <code>@EnableJpaRepositories</code> only needs to know about the repositories."},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656335457,"post_id":72770021,"comment_id":128539473,"body_markdown":"Following the link and the comments you provided, I updated the two configurations in first post (see the bottom part). However now I have a java.lang.NullPointerException: Cannot invoke &quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.getObject()&quot; because &quot;this.userEntityManagerFactory&quot; is null, same for this.dataEntityManagerFactory","body":"Following the link and the comments you provided, I updated the two configurations in first post (see the bottom part). However now I have a java.lang.NullPointerException: Cannot invoke &quot;org.springframework.orm.jpa.LocalContainerEntityManagerFact&zwnj;&#8203;oryBean.getObject()&quot; because &quot;this.userEntityManagerFactory&quot; is null, same for this.dataEntityManagerFactory"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656336071,"post_id":72770021,"comment_id":128539730,"body_markdown":"Can you update the code? As it stands, the changes are not added","body":"Can you update the code? As it stands, the changes are not added"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656336271,"post_id":72770021,"comment_id":128539834,"body_markdown":"Sorry, I did it","body":"Sorry, I did it"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656337698,"post_id":72770021,"comment_id":128540451,"body_markdown":"Now you are missing the `@Autowired`. I said to **add** `@Qualifier` annotation, not replace. `@autowired @Qualifier(&quot;dataEntityManager&quot;)\npublic LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;` should do the trick","body":"Now you are missing the <code>@Autowired</code>. I said to <b>add</b> <code>@Qualifier</code> annotation, not replace. <code>@autowired @Qualifier(&quot;dataEntityManager&quot;) public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;</code> should do the trick"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656340803,"post_id":72770021,"comment_id":128541736,"body_markdown":"Now it seems wired correctly. I posted the final configuration, do you know why &quot;persist&quot; does not add entries to the database?","body":"Now it seems wired correctly. I posted the final configuration, do you know why &quot;persist&quot; does not add entries to the database?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656341221,"post_id":72770021,"comment_id":128541965,"body_markdown":"Without an exception impossible to tell. If it does create a database entry but everything is null, then you are not properly setting the field values. If nothing is created, then you should receive an exception","body":"Without an exception impossible to tell. If it does create a database entry but everything is null, then you are not properly setting the field values. If nothing is created, then you should receive an exception"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656341594,"post_id":72770021,"comment_id":128542109,"body_markdown":"Empty database, no exception thrown...","body":"Empty database, no exception thrown..."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656342498,"post_id":72770021,"comment_id":128542515,"body_markdown":"According to [this question](https://stackoverflow.com/questions/37053071/entitymanager-persist-not-saving-anything-to-database), you want to inject the `EntityManager` directly and not the `EntityManagerFactory`. Do `transactionManager.setEntityManagerFactory(serversEntityManager.getObject());` instead","body":"According to <a href=\"https://stackoverflow.com/questions/37053071/entitymanager-persist-not-saving-anything-to-database\">this question</a>, you want to inject the <code>EntityManager</code> directly and not the <code>EntityManagerFactory</code>. Do <code>transactionManager.setEntityManagerFactory(serversEntityMana&zwnj;&#8203;ger.getObject());</code> instead"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656342566,"post_id":72770021,"comment_id":128542543,"body_markdown":"It should be the same righ?","body":"It should be the same righ?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656342795,"post_id":72770021,"comment_id":128542649,"body_markdown":"Doesn&#39;t seem to be, according to the linked question","body":"Doesn&#39;t seem to be, according to the linked question"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656343986,"post_id":72770021,"comment_id":128543133,"body_markdown":"Ok, I&#39;m trying to inject EntityManager. In the method &quot;transactionManager&quot; the EntityManagerFactory has no getObject() method. In the question, one suggests to remove the parameters, but how I can inject the EntityManagerFactory within this function?","body":"Ok, I&#39;m trying to inject EntityManager. In the method &quot;transactionManager&quot; the EntityManagerFactory has no getObject() method. In the question, one suggests to remove the parameters, but how I can inject the EntityManagerFactory within this function?"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656347757,"post_id":72770021,"comment_id":128544537,"body_markdown":"Notice that I am able to read and write the database using the repositories but not using the EntityManager provided by the EntityManagerFactory","body":"Notice that I am able to read and write the database using the repositories but not using the EntityManager provided by the EntityManagerFactory"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656356581,"post_id":72770021,"comment_id":128547541,"body_markdown":"Solved, I need to call begin() before and commit() after the call to persist","body":"Solved, I need to call begin() before and commit() after the call to persist"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656398126,"post_id":72770021,"comment_id":128555266,"body_markdown":"That means your `@Transactional` is not working, as usually `@Transactional` would take over that work","body":"That means your <code>@Transactional</code> is not working, as usually <code>@Transactional</code> would take over that work"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656440072,"post_id":72770021,"comment_id":128571336,"body_markdown":"Do uou have idea why? Neither adding @Transactional to the class seems working","body":"Do uou have idea why? Neither adding @Transactional to the class seems working"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1656484641,"post_id":72770021,"comment_id":128580682,"body_markdown":"Seems to be because it is in a non `@Component`, `@Service` annotated class. Therefore the class is not being proxied and no transaction management added to it. You probably want to create a different class which you annotate with `@Component` and where you implement the `postConstruct` logic and autowire it back to `Application` to call it in the post construct","body":"Seems to be because it is in a non <code>@Component</code>, <code>@Service</code> annotated class. Therefore the class is not being proxied and no transaction management added to it. You probably want to create a different class which you annotate with <code>@Component</code> and where you implement the <code>postConstruct</code> logic and autowire it back to <code>Application</code> to call it in the post construct"}],"answers":[{"tags":[],"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656340752,"creation_date":1656340752,"answer_id":72773933,"question_id":72770021,"body_markdown":"Thanks to the comment, the fina configuration is:\r\n\r\n    package it.unict.spring.application.configurations.data;\r\n\r\n\r\n\r\n     import java.util.HashMap;\r\n     import java.util.Map;\r\n     import java.util.Properties;\r\n     import javax.persistence.EntityManagerFactory;\r\n     import javax.sql.DataSource;\r\n     import org.springframework.beans.factory.annotation.Qualifier;\r\n     import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n     import org.springframework.context.annotation.Bean;\r\n     import org.springframework.context.annotation.Configuration;\r\n     import org.springframework.context.annotation.Primary;\r\n     import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n     import org.springframework.orm.jpa.JpaTransactionManager;\r\n     import org.springframework.orm.jpa.JpaVendorAdapter;\r\n     import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n     import org.springframework.orm.jpa.vendor.Database;\r\n     import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n\r\n     @Configuration\r\n     @EnableJpaRepositories(\r\n                 entityManagerFactoryRef = &quot;dataEntityManager&quot;,\r\n                 transactionManagerRef = &quot;dataTransactionManager&quot;,\r\n                 basePackages = {&quot;it.unict.spring.application.repository.data&quot;}\r\n                      )\r\n\r\n    public class JpaTransactData\r\n       {\r\n           @Bean(name = &quot;dataEntityManager&quot;)\r\n            @Primary\r\n         public LocalContainerEntityManagerFactoryBean getServersEntityManager\r\n        (\r\n            EntityManagerFactoryBuilder builder,\r\n            @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\r\n                                   @Qualifier(&quot;dataJpaVendor&quot;) JpaVendorAdapter adapter)\r\n    {        \r\n         Properties properties = new Properties();        \r\n         properties.put(&quot;spring.jpa.properties.javax.persistence.schema-generation.scripts.action&quot;,&quot;create&quot;);\r\n         properties.put(&quot;spring.jpa.properties.javax.persistence.schema-generation.scripts.create-target&quot;, &quot;create.sql&quot;);\r\n         properties.put(&quot;spring.jpa.properties.javax.persistence.schema-generation.create-source&quot;,&quot;metadata&quot;);\r\n         \r\n         LocalContainerEntityManagerFactoryBean lem=new LocalContainerEntityManagerFactoryBean();\r\n         lem.setPackagesToScan(&quot;it.unict.spring.application.persistence.model.data&quot;);\r\n         lem.setJpaProperties(properties);\r\n         lem.setJpaVendorAdapter(adapter);\r\n         lem.setDataSource(dataSource);\r\n         return lem;\r\n    }\r\n    @Bean(&quot;dataJpaVendor&quot;)\r\n    @Primary\r\n    public JpaVendorAdapter jpaVendorAdapter()\r\n    {\r\n     HibernateJpaVendorAdapter hibernateJpaVendorAdapter = new \r\n     HibernateJpaVendorAdapter();\r\n     hibernateJpaVendorAdapter.setShowSql(true);\r\n     hibernateJpaVendorAdapter.setGenerateDdl(true); //Auto creating scheme \r\n     when true\r\n     //hibernateJpaVendorAdapter.setDatabase(Database.MYSQL);//Database type    \r\n     return hibernateJpaVendorAdapter;\r\n    }\r\n\r\n\r\n    @Bean(name = &quot;dataTransactionManager&quot;)\r\n    @Primary\r\n    public JpaTransactionManager \r\n     transactionManager(@Qualifier(&quot;dataEntityManager&quot;) EntityManagerFactory \r\n       serversEntityManager){\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(serversEntityManager);\r\n        return transactionManager;\r\n    }\r\n      }\r\n\r\nThen in  the main file:\r\n\r\n      @Autowired\r\n     @Qualifier(&quot;dataEntityManager&quot;)\r\n     public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;\r\n  \r\n     @Autowired\r\n     @Qualifier(&quot;userEntityManager&quot;)\r\n     public LocalContainerEntityManagerFactoryBean userEntityManagerFactory;\r\n\r\n","title":"Springboot and MariaDB multisource throws unknown entity","body":"<p>Thanks to the comment, the fina configuration is:</p>\n<pre><code>package it.unict.spring.application.configurations.data;\n\n\n\n import java.util.HashMap;\n import java.util.Map;\n import java.util.Properties;\n import javax.persistence.EntityManagerFactory;\n import javax.sql.DataSource;\n import org.springframework.beans.factory.annotation.Qualifier;\n import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\n import org.springframework.context.annotation.Bean;\n import org.springframework.context.annotation.Configuration;\n import org.springframework.context.annotation.Primary;\n import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n import org.springframework.orm.jpa.JpaTransactionManager;\n import org.springframework.orm.jpa.JpaVendorAdapter;\n import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\n import org.springframework.orm.jpa.vendor.Database;\n import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\n\n @Configuration\n @EnableJpaRepositories(\n             entityManagerFactoryRef = &quot;dataEntityManager&quot;,\n             transactionManagerRef = &quot;dataTransactionManager&quot;,\n             basePackages = {&quot;it.unict.spring.application.repository.data&quot;}\n                  )\n\npublic class JpaTransactData\n   {\n       @Bean(name = &quot;dataEntityManager&quot;)\n        @Primary\n     public LocalContainerEntityManagerFactoryBean getServersEntityManager\n    (\n        EntityManagerFactoryBuilder builder,\n        @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\n                               @Qualifier(&quot;dataJpaVendor&quot;) JpaVendorAdapter adapter)\n{        \n     Properties properties = new Properties();        \n     properties.put(&quot;spring.jpa.properties.javax.persistence.schema-generation.scripts.action&quot;,&quot;create&quot;);\n     properties.put(&quot;spring.jpa.properties.javax.persistence.schema-generation.scripts.create-target&quot;, &quot;create.sql&quot;);\n     properties.put(&quot;spring.jpa.properties.javax.persistence.schema-generation.create-source&quot;,&quot;metadata&quot;);\n     \n     LocalContainerEntityManagerFactoryBean lem=new LocalContainerEntityManagerFactoryBean();\n     lem.setPackagesToScan(&quot;it.unict.spring.application.persistence.model.data&quot;);\n     lem.setJpaProperties(properties);\n     lem.setJpaVendorAdapter(adapter);\n     lem.setDataSource(dataSource);\n     return lem;\n}\n@Bean(&quot;dataJpaVendor&quot;)\n@Primary\npublic JpaVendorAdapter jpaVendorAdapter()\n{\n HibernateJpaVendorAdapter hibernateJpaVendorAdapter = new \n HibernateJpaVendorAdapter();\n hibernateJpaVendorAdapter.setShowSql(true);\n hibernateJpaVendorAdapter.setGenerateDdl(true); //Auto creating scheme \n when true\n //hibernateJpaVendorAdapter.setDatabase(Database.MYSQL);//Database type    \n return hibernateJpaVendorAdapter;\n}\n\n\n@Bean(name = &quot;dataTransactionManager&quot;)\n@Primary\npublic JpaTransactionManager \n transactionManager(@Qualifier(&quot;dataEntityManager&quot;) EntityManagerFactory \n   serversEntityManager){\n    JpaTransactionManager transactionManager = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(serversEntityManager);\n    return transactionManager;\n}\n  }\n</code></pre>\n<p>Then in  the main file:</p>\n<pre><code>  @Autowired\n @Qualifier(&quot;dataEntityManager&quot;)\n public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;\n\n @Autowired\n @Qualifier(&quot;userEntityManager&quot;)\n public LocalContainerEntityManagerFactoryBean userEntityManagerFactory;\n</code></pre>\n"}],"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"comment_count":25,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656340752,"creation_date":1656323055,"question_id":72770021,"body_markdown":"I have a simple springboot application managing two MariaDB sources,  &quot;users&quot; and &quot;data&quot;. I have two distinct configurations:\r\n\r\n\r\nFor users:\r\n\r\n    package it.unict.spring.application.configurations.user;\r\n\r\n    import javax.sql.DataSource;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class JpaConfigUser {\r\n    \t@Value(&quot;${spring.datasource2.driver-class-name}&quot;)\r\n    \tprivate String driver;\r\n    \t@Value(&quot;${spring.datasource2.url}&quot;)\r\n    \tprivate String urlUser;\r\n    \t@Value(&quot;${spring.datasource2.username}&quot;)\r\n    \tprivate String username;\r\n    \t@Value(&quot;${spring.datasource2.password}&quot;)\r\n    \tprivate String password;\r\n    \r\n    \t@Bean(&quot;userSource&quot;)\r\n    \tpublic DataSource getUserSource() {\r\n    \t\treturn DataSourceBuilder.create().driverClassName(driver).url(urlUser)\r\n    \t\t\t\t.username(username).password(password).build();\r\n    \t}\r\n    }\r\n\r\nand\r\n\r\n    package it.unict.spring.application.configurations.user;\r\n\r\n    import java.util.Objects;\r\n    import java.util.Properties;\r\n    import javax.sql.DataSource;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.JpaVendorAdapter;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.Database;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = { &quot;it.unict.spring.application.repository.user&quot;,\r\n    \t\t&quot;it.unict.spring.application.persistence.model.user&quot; }, entityManagerFactoryRef = &quot;userEntityManagerFactory&quot;, transactionManagerRef = &quot;userTransactionManager&quot;)\r\n    public class JpaTransactUser {\r\n    \r\n    \t@Bean(&quot;userEntityManagerFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean userEntityManagerFactory(\r\n    \t\t\t@Qualifier(&quot;userSource&quot;) DataSource dataSource,\r\n    \t\t\t@Qualifier(&quot;userJpaVendor&quot;) JpaVendorAdapter adapter) {\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MariaDB103Dialect&quot;);\r\n    \t\tproperties.put(\r\n    \t\t\t\t&quot;spring.jpa.properties.javax.persistence.schema-generation.scripts.action&quot;,\r\n    \t\t\t\t&quot;create&quot;);\r\n    \t\tproperties.put(\r\n    \t\t\t\t&quot;spring.jpa.properties.javax.persistence.schema-generation.scripts.create-target&quot;,\r\n    \t\t\t\t&quot;create.sql&quot;);\r\n    \r\n    \t\tLocalContainerEntityManagerFactoryBean lem = new LocalContainerEntityManagerFactoryBean();\r\n    \t\tlem.setPackagesToScan(&quot;it.unict.spring.application.repository.user&quot;,\r\n    \t\t\t\t&quot;it.unict.spring.application.persistence.model.user&quot;);\r\n    \t\tlem.setJpaProperties(properties);\r\n    \t\tlem.setJpaVendorAdapter(adapter);\r\n    \r\n    \t\tlem.setDataSource(dataSource);\r\n    \t\treturn lem;\r\n    \t}\r\n    \r\n    \t@Bean(&quot;userTransactionManager&quot;)\r\n    \tpublic PlatformTransactionManager userTransactionManager(\r\n    \t\t\t@Qualifier(&quot;userEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean topicsEntityManagerFactory) {\r\n    \t\treturn new JpaTransactionManager(\r\n    \t\t\t\tObjects.requireNonNull(topicsEntityManagerFactory.getObject()));\r\n    \t}\r\n    \r\n    \t@Bean(&quot;userJpaVendor&quot;)\r\n    \tpublic JpaVendorAdapter jpaVendorAdapter() {\r\n    \t\tHibernateJpaVendorAdapter hibernateJpaVendorAdapter = new HibernateJpaVendorAdapter();\r\n    \t\thibernateJpaVendorAdapter.setShowSql(true);\r\n    \t\thibernateJpaVendorAdapter.setGenerateDdl(true); // Auto creating scheme when true\r\n    \t\thibernateJpaVendorAdapter.setDatabase(Database.MYSQL);// Database type\r\n    \t\treturn hibernateJpaVendorAdapter;\r\n    \t}\r\n    }\r\n\r\n \r\n while for data:\r\n\r\n \r\n\r\n    package it.unict.spring.application.configurations.data;\r\n\r\n\r\n    import javax.sql.DataSource;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class JpaConfigData {\r\n    \t@Value(&quot;${spring.datasource.driver-class-name}&quot;)\r\n    \tprivate String driver;\r\n    \t@Value(&quot;${spring.datasource.url}&quot;)\r\n    \tprivate String urlData;\r\n    \t@Value(&quot;${spring.datasource.username}&quot;)\r\n    \tprivate String username;\r\n    \t@Value(&quot;${spring.datasource.password}&quot;)\r\n    \tprivate String password;\r\n    \r\n    \t@Bean(&quot;dataSource&quot;)\r\n    \t@Primary\r\n    \tpublic DataSource getDataSource() {\r\n    \t\treturn DataSourceBuilder.create().driverClassName(driver).url(urlData)\r\n    \t\t\t\t.username(username).password(password).build();\r\n    \t}\r\n    \r\n    }\r\n\r\nand\r\n\r\n    package it.unict.spring.application.configurations.data;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Objects;\r\n    import java.util.Properties;\r\n    import javax.sql.DataSource;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.JpaVendorAdapter;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.Database;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = { &quot;it.unict.spring.application.repository.data&quot;,\r\n    \t\t&quot;it.unict.spring.application.persistence.model.data&quot; }, entityManagerFactoryRef = &quot;dataEntityManagerFactory&quot;, transactionManagerRef = &quot;dataTransactionManager&quot;)\r\n    public class JpaTransactData {\r\n    \r\n    \t@Bean(&quot;dataEntityManagerFactory&quot;) \r\n      @Primary\r\n      public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory(\r\n                               @Qualifier(&quot;dataSource&quot;) DataSource dataSource,                                \r\n                               @Qualifier(&quot;dataJpaVendor&quot;) JpaVendorAdapter adapter)\r\n      {        \r\n          Properties properties = new Properties();\r\n          properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MariaDB103Dialect&quot;);\r\n          properties.put(&quot;spring.jpa.properties.javax.persistence.schema- \r\n      generation.scripts.action&quot;,&quot;create&quot;);\r\n          properties.put(&quot;spring.jpa.properties.javax.persistence.schema- \r\n      generation.scripts.create-target&quot;, &quot;create.sql&quot;);\r\n          \r\n        \r\n        \r\n        LocalContainerEntityManagerFactoryBean lem=new \r\n       LocalContainerEntityManagerFactoryBean();\r\n        lem.setPackagesToScan(&quot;it.unict.spring.application.repository.data&quot;, \r\n       &quot;it.unict.spring.application.persistence.model.data&quot;);\r\n        lem.setJpaProperties(properties);\r\n        lem.setJpaVendorAdapter(adapter);\r\n    \r\n          lem.setDataSource(dataSource);\r\n          return lem;\r\n      }\r\n    \r\n    \t@Bean(&quot;dataTransactionManager&quot;)\r\n    \t@Primary\r\n    \tpublic PlatformTransactionManager dataTransactionManager(\r\n    \t\t\t@Qualifier(&quot;dataEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean topicsEntityManagerFactory) {\r\n    \t\treturn new JpaTransactionManager(\r\n    \t\t\t\tObjects.requireNonNull(topicsEntityManagerFactory.getObject()));\r\n    \t}\r\n    \r\n    \t@Bean(&quot;dataJpaVendor&quot;)\r\n    \t@Primary\r\n    \tpublic JpaVendorAdapter jpaVendorAdapter() {\r\n    \t\tHibernateJpaVendorAdapter hibernateJpaVendorAdapter = new HibernateJpaVendorAdapter();\r\n    \t\thibernateJpaVendorAdapter.setShowSql(true);\r\n    \t\thibernateJpaVendorAdapter.setGenerateDdl(true); // Auto creating scheme when true\r\n    \t\thibernateJpaVendorAdapter.setDatabase(Database.MYSQL);// Database type\r\n    \t\treturn hibernateJpaVendorAdapter;\r\n    \t}\r\n    }\r\n\r\nI know that some properties are unuseful, but the problem is that the main application:\r\n\r\n    package it.unict.spring.application;\r\n\r\n    import it.unict.spring.application.persistence.model.data.Todo;\r\n    import it.unict.spring.application.persistence.model.user.Privilege;\r\n    import java.sql.SQLException;\r\n    import javax.annotation.PostConstruct;\r\n    import javax.sql.DataSource;\r\n    import javax.transaction.Transactional;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \tprivate static final Logger applogger = LoggerFactory.getLogger(&quot;Application&quot;);\r\n    \t@Autowired\r\n    \tprivate ApplicationContext appContext;\r\n    \t@Autowired\r\n    \tpublic LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;\r\n    \t@Autowired\r\n    \tpublic LocalContainerEntityManagerFactoryBean userEntityManagerFactory;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \r\n    \t}\r\n    \r\n    \t@PostConstruct\r\n    \t@Transactional\r\n    \tpublic void postConstruct() {\r\n    \t\tapplogger.info(&quot;Post-construct message: Application started&quot;);\r\n    \t\tSystem.out.println(&quot;Console -- Application started&quot;);\r\n    \t\ttry {\r\n    \t\t\tapplogger.info(&quot;Connected to DB schema: &quot;\r\n    \t\t\t\t\t+ ((DataSource) appContext.getBean(&quot;userSource&quot;)).getConnection()\r\n    \t\t\t\t\t\t\t.getCatalog());\r\n    \t\t\tapplogger.info(&quot;Connected to DB schema: &quot;\r\n    \t\t\t\t\t+ ((DataSource) appContext.getBean(&quot;dataSource&quot;)).getConnection()\r\n    \t\t\t\t\t\t\t.getCatalog());\r\n    \t\t\tTodo p = new Todo(&quot;admin&quot;);\r\n    \t\t\tPrivilege s = new Privilege(&quot;admin&quot;);\r\n    \t\t\tuserEntityManagerFactory.getObject().createEntityManager().persist(s);\r\n    \t\t\tdataEntityManagerFactory.getObject().createEntityManager().persist(p);\r\n    \t\t} catch (SQLException ex) {\r\n    \t\t\tapplogger.info(&quot;Error on DBConnection: &quot; + ex.toString());\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nthrows a \r\n\r\n     java.lang.IllegalArgumentException: Unknown entity: it.unict.spring.application.persistence.model.user.Privilege\r\n\r\n\r\nthat prevents the deployment of the application due to \r\n\r\n    \r\n    userEntityManagerFactory.getObject().createEntityManager().persist(s);\r\n\r\nIf the above statement is omitted, the application starts but only null values are inserted in the DB.\r\n\r\nThe Privilege entity is:\r\n\r\n     package it.unict.spring.application.persistence.model.user;\r\n\r\n    import java.io.Serializable;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;privilege&quot;, catalog = &quot;users&quot;)\r\n    public class Privilege implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(nullable = false, unique = true)\r\n    \tprivate String name;\r\n    \r\n    \t//\r\n    \r\n    \tpublic Privilege() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic Privilege(String name) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t//\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t//\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tfinal StringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(&quot;Privilege [id=&quot;).append(id).append(&quot;, name=&quot;).append(name).append(&quot;]&quot;);\r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = (prime * result) + ((id == null) ? 0 : id.hashCode());\r\n    \t\tresult = (prime * result) + ((name == null) ? 0 : name.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\tif (obj == null) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (getClass() != obj.getClass()) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tfinal Privilege other = (Privilege) obj;\r\n    \t\tif (id == null) {\r\n    \t\t\tif (other.id != null) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t} else if (!id.equals(other.id)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (name == null) {\r\n    \t\t\tif (other.name != null) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t} else if (!name.equals(other.name)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nFollowing the comments I modified the configurations as follows. For user database:\r\n\r\n    package it.unict.spring.application.configurations.user;\r\n\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.sql.DataSource;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;userEntityManager&quot;, transactionManagerRef = &quot;userTransactionManager&quot;, basePackages = {\r\n    \t\t&quot;it.unict.spring.application.repository.user&quot; })\r\n    public class JpaTransactUser {\r\n    \t@Bean(name = &quot;userEntityManager&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean getServersEntityManager(\r\n    \t\t\tEntityManagerFactoryBuilder builder,\r\n    \t\t\t@Qualifier(&quot;userSource&quot;) DataSource dataDataSource) {\r\n    \r\n    \t\treturn builder.dataSource(dataDataSource)\r\n    \r\n    \t\t\t\t.packages(&quot;it.unict.spring.application.persistence.model.user&quot;)\r\n    \t\t\t\t.persistenceUnit(&quot;userUnit&quot;).build();\r\n    \r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;userTransactionManager&quot;)\r\n    \tpublic JpaTransactionManager transactionManager(\r\n    \t\t\t@Qualifier(&quot;userEntityManager&quot;) EntityManagerFactory serversEntityManager) {\r\n    \t\tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n    \r\n    \t\ttransactionManager.setEntityManagerFactory(serversEntityManager);\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    }\r\n\r\n\r\nFor data:\r\n\r\n       \r\n\r\n     package it.unict.spring.application.configurations.data;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.sql.DataSource;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;dataEntityManager&quot;, transactionManagerRef = &quot;dataTransactionManager&quot;, basePackages = {\r\n    \t\t&quot;it.unict.spring.application.repository.data&quot; })\r\n    public class JpaTransactData {\r\n    \t@Bean(name = &quot;dataEntityManager&quot;)\r\n    \t@Primary\r\n    \tpublic LocalContainerEntityManagerFactoryBean getServersEntityManager(\r\n    \t\t\tEntityManagerFactoryBuilder builder,\r\n    \t\t\t@Qualifier(&quot;dataSource&quot;) DataSource dataDataSource) {\r\n    \r\n    \t\treturn builder.dataSource(dataDataSource)\r\n    \r\n    \t\t\t\t.packages(&quot;it.unict.spring.application.persistence.model.data&quot;)\r\n    \t\t\t\t.persistenceUnit(&quot;dataUnit&quot;).properties(additionalJpaProperties()).build();\r\n    \r\n    \t}\r\n    \r\n    \tMap&lt;String, ?&gt; additionalJpaProperties() {\r\n    \t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    \r\n    \t\tmap.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\r\n    \t\tmap.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n    \t\tmap.put(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n    \r\n    \t\treturn map;\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;dataTransactionManager&quot;)\r\n    \t@Primary\r\n    \tpublic JpaTransactionManager transactionManager(\r\n    \t\t\t@Qualifier(&quot;dataEntityManager&quot;) EntityManagerFactory serversEntityManager) {\r\n    \t\tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n    \r\n    \t\ttransactionManager.setEntityManagerFactory(serversEntityManager);\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    }\r\n\r\nWith \r\n\r\n\t@Qualifier(&quot;dataEntityManager&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;\r\n\t@Qualifier(&quot;userEntityManager&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean userEntityManagerFactory;\r\n\r\n\r\nIn the main file. Now I have\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;application&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.getObject()&quot; because &quot;this.userEntityManagerFactory&quot; is null","title":"Springboot and MariaDB multisource throws unknown entity","body":"<p>I have a simple springboot application managing two MariaDB sources,  &quot;users&quot; and &quot;data&quot;. I have two distinct configurations:</p>\n<p>For users:</p>\n<pre><code>package it.unict.spring.application.configurations.user;\n\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement\npublic class JpaConfigUser {\n    @Value(&quot;${spring.datasource2.driver-class-name}&quot;)\n    private String driver;\n    @Value(&quot;${spring.datasource2.url}&quot;)\n    private String urlUser;\n    @Value(&quot;${spring.datasource2.username}&quot;)\n    private String username;\n    @Value(&quot;${spring.datasource2.password}&quot;)\n    private String password;\n\n    @Bean(&quot;userSource&quot;)\n    public DataSource getUserSource() {\n        return DataSourceBuilder.create().driverClassName(driver).url(urlUser)\n                .username(username).password(password).build();\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>package it.unict.spring.application.configurations.user;\n\nimport java.util.Objects;\nimport java.util.Properties;\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.JpaVendorAdapter;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.Database;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\n@Configuration\n@EnableJpaRepositories(basePackages = { &quot;it.unict.spring.application.repository.user&quot;,\n        &quot;it.unict.spring.application.persistence.model.user&quot; }, entityManagerFactoryRef = &quot;userEntityManagerFactory&quot;, transactionManagerRef = &quot;userTransactionManager&quot;)\npublic class JpaTransactUser {\n\n    @Bean(&quot;userEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean userEntityManagerFactory(\n            @Qualifier(&quot;userSource&quot;) DataSource dataSource,\n            @Qualifier(&quot;userJpaVendor&quot;) JpaVendorAdapter adapter) {\n        Properties properties = new Properties();\n        properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MariaDB103Dialect&quot;);\n        properties.put(\n                &quot;spring.jpa.properties.javax.persistence.schema-generation.scripts.action&quot;,\n                &quot;create&quot;);\n        properties.put(\n                &quot;spring.jpa.properties.javax.persistence.schema-generation.scripts.create-target&quot;,\n                &quot;create.sql&quot;);\n\n        LocalContainerEntityManagerFactoryBean lem = new LocalContainerEntityManagerFactoryBean();\n        lem.setPackagesToScan(&quot;it.unict.spring.application.repository.user&quot;,\n                &quot;it.unict.spring.application.persistence.model.user&quot;);\n        lem.setJpaProperties(properties);\n        lem.setJpaVendorAdapter(adapter);\n\n        lem.setDataSource(dataSource);\n        return lem;\n    }\n\n    @Bean(&quot;userTransactionManager&quot;)\n    public PlatformTransactionManager userTransactionManager(\n            @Qualifier(&quot;userEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean topicsEntityManagerFactory) {\n        return new JpaTransactionManager(\n                Objects.requireNonNull(topicsEntityManagerFactory.getObject()));\n    }\n\n    @Bean(&quot;userJpaVendor&quot;)\n    public JpaVendorAdapter jpaVendorAdapter() {\n        HibernateJpaVendorAdapter hibernateJpaVendorAdapter = new HibernateJpaVendorAdapter();\n        hibernateJpaVendorAdapter.setShowSql(true);\n        hibernateJpaVendorAdapter.setGenerateDdl(true); // Auto creating scheme when true\n        hibernateJpaVendorAdapter.setDatabase(Database.MYSQL);// Database type\n        return hibernateJpaVendorAdapter;\n    }\n}\n</code></pre>\n<p>while for data:</p>\n<pre><code>package it.unict.spring.application.configurations.data;\n\n\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n\n@Configuration\n@EnableTransactionManagement\npublic class JpaConfigData {\n    @Value(&quot;${spring.datasource.driver-class-name}&quot;)\n    private String driver;\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String urlData;\n    @Value(&quot;${spring.datasource.username}&quot;)\n    private String username;\n    @Value(&quot;${spring.datasource.password}&quot;)\n    private String password;\n\n    @Bean(&quot;dataSource&quot;)\n    @Primary\n    public DataSource getDataSource() {\n        return DataSourceBuilder.create().driverClassName(driver).url(urlData)\n                .username(username).password(password).build();\n    }\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>package it.unict.spring.application.configurations.data;\n\nimport java.util.HashMap;\nimport java.util.Objects;\nimport java.util.Properties;\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.JpaVendorAdapter;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.Database;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\n@Configuration\n@EnableJpaRepositories(basePackages = { &quot;it.unict.spring.application.repository.data&quot;,\n        &quot;it.unict.spring.application.persistence.model.data&quot; }, entityManagerFactoryRef = &quot;dataEntityManagerFactory&quot;, transactionManagerRef = &quot;dataTransactionManager&quot;)\npublic class JpaTransactData {\n\n    @Bean(&quot;dataEntityManagerFactory&quot;) \n  @Primary\n  public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory(\n                           @Qualifier(&quot;dataSource&quot;) DataSource dataSource,                                \n                           @Qualifier(&quot;dataJpaVendor&quot;) JpaVendorAdapter adapter)\n  {        \n      Properties properties = new Properties();\n      properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MariaDB103Dialect&quot;);\n      properties.put(&quot;spring.jpa.properties.javax.persistence.schema- \n  generation.scripts.action&quot;,&quot;create&quot;);\n      properties.put(&quot;spring.jpa.properties.javax.persistence.schema- \n  generation.scripts.create-target&quot;, &quot;create.sql&quot;);\n      \n    \n    \n    LocalContainerEntityManagerFactoryBean lem=new \n   LocalContainerEntityManagerFactoryBean();\n    lem.setPackagesToScan(&quot;it.unict.spring.application.repository.data&quot;, \n   &quot;it.unict.spring.application.persistence.model.data&quot;);\n    lem.setJpaProperties(properties);\n    lem.setJpaVendorAdapter(adapter);\n\n      lem.setDataSource(dataSource);\n      return lem;\n  }\n\n    @Bean(&quot;dataTransactionManager&quot;)\n    @Primary\n    public PlatformTransactionManager dataTransactionManager(\n            @Qualifier(&quot;dataEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean topicsEntityManagerFactory) {\n        return new JpaTransactionManager(\n                Objects.requireNonNull(topicsEntityManagerFactory.getObject()));\n    }\n\n    @Bean(&quot;dataJpaVendor&quot;)\n    @Primary\n    public JpaVendorAdapter jpaVendorAdapter() {\n        HibernateJpaVendorAdapter hibernateJpaVendorAdapter = new HibernateJpaVendorAdapter();\n        hibernateJpaVendorAdapter.setShowSql(true);\n        hibernateJpaVendorAdapter.setGenerateDdl(true); // Auto creating scheme when true\n        hibernateJpaVendorAdapter.setDatabase(Database.MYSQL);// Database type\n        return hibernateJpaVendorAdapter;\n    }\n}\n</code></pre>\n<p>I know that some properties are unuseful, but the problem is that the main application:</p>\n<pre><code>package it.unict.spring.application;\n\nimport it.unict.spring.application.persistence.model.data.Todo;\nimport it.unict.spring.application.persistence.model.user.Privilege;\nimport java.sql.SQLException;\nimport javax.annotation.PostConstruct;\nimport javax.sql.DataSource;\nimport javax.transaction.Transactional;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\n\n@SpringBootApplication\npublic class Application {\n    private static final Logger applogger = LoggerFactory.getLogger(&quot;Application&quot;);\n    @Autowired\n    private ApplicationContext appContext;\n    @Autowired\n    public LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;\n    @Autowired\n    public LocalContainerEntityManagerFactoryBean userEntityManagerFactory;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n\n    }\n\n    @PostConstruct\n    @Transactional\n    public void postConstruct() {\n        applogger.info(&quot;Post-construct message: Application started&quot;);\n        System.out.println(&quot;Console -- Application started&quot;);\n        try {\n            applogger.info(&quot;Connected to DB schema: &quot;\n                    + ((DataSource) appContext.getBean(&quot;userSource&quot;)).getConnection()\n                            .getCatalog());\n            applogger.info(&quot;Connected to DB schema: &quot;\n                    + ((DataSource) appContext.getBean(&quot;dataSource&quot;)).getConnection()\n                            .getCatalog());\n            Todo p = new Todo(&quot;admin&quot;);\n            Privilege s = new Privilege(&quot;admin&quot;);\n            userEntityManagerFactory.getObject().createEntityManager().persist(s);\n            dataEntityManagerFactory.getObject().createEntityManager().persist(p);\n        } catch (SQLException ex) {\n            applogger.info(&quot;Error on DBConnection: &quot; + ex.toString());\n        }\n\n    }\n}\n</code></pre>\n<p>throws a</p>\n<pre><code> java.lang.IllegalArgumentException: Unknown entity: it.unict.spring.application.persistence.model.user.Privilege\n</code></pre>\n<p>that prevents the deployment of the application due to</p>\n<pre><code>userEntityManagerFactory.getObject().createEntityManager().persist(s);\n</code></pre>\n<p>If the above statement is omitted, the application starts but only null values are inserted in the DB.</p>\n<p>The Privilege entity is:</p>\n<pre><code> package it.unict.spring.application.persistence.model.user;\n\nimport java.io.Serializable;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;privilege&quot;, catalog = &quot;users&quot;)\npublic class Privilege implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String name;\n\n    //\n\n    public Privilege() {\n        super();\n    }\n\n    public Privilege(String name) {\n        super();\n        this.name = name;\n    }\n\n    //\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    //\n\n    @Override\n    public String toString() {\n        final StringBuilder builder = new StringBuilder();\n        builder.append(&quot;Privilege [id=&quot;).append(id).append(&quot;, name=&quot;).append(name).append(&quot;]&quot;);\n        return builder.toString();\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = (prime * result) + ((id == null) ? 0 : id.hashCode());\n        result = (prime * result) + ((name == null) ? 0 : name.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        final Privilege other = (Privilege) obj;\n        if (id == null) {\n            if (other.id != null) {\n                return false;\n            }\n        } else if (!id.equals(other.id)) {\n            return false;\n        }\n        if (name == null) {\n            if (other.name != null) {\n                return false;\n            }\n        } else if (!name.equals(other.name)) {\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Following the comments I modified the configurations as follows. For user database:</p>\n<pre><code>package it.unict.spring.application.configurations.user;\n\nimport javax.persistence.EntityManagerFactory;\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\n\n@Configuration\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;userEntityManager&quot;, transactionManagerRef = &quot;userTransactionManager&quot;, basePackages = {\n        &quot;it.unict.spring.application.repository.user&quot; })\npublic class JpaTransactUser {\n    @Bean(name = &quot;userEntityManager&quot;)\n    public LocalContainerEntityManagerFactoryBean getServersEntityManager(\n            EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;userSource&quot;) DataSource dataDataSource) {\n\n        return builder.dataSource(dataDataSource)\n\n                .packages(&quot;it.unict.spring.application.persistence.model.user&quot;)\n                .persistenceUnit(&quot;userUnit&quot;).build();\n\n    }\n\n    @Bean(name = &quot;userTransactionManager&quot;)\n    public JpaTransactionManager transactionManager(\n            @Qualifier(&quot;userEntityManager&quot;) EntityManagerFactory serversEntityManager) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n\n        transactionManager.setEntityManagerFactory(serversEntityManager);\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>For data:</p>\n<pre><code> package it.unict.spring.application.configurations.data;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.persistence.EntityManagerFactory;\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\n\n@Configuration\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;dataEntityManager&quot;, transactionManagerRef = &quot;dataTransactionManager&quot;, basePackages = {\n        &quot;it.unict.spring.application.repository.data&quot; })\npublic class JpaTransactData {\n    @Bean(name = &quot;dataEntityManager&quot;)\n    @Primary\n    public LocalContainerEntityManagerFactoryBean getServersEntityManager(\n            EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;dataSource&quot;) DataSource dataDataSource) {\n\n        return builder.dataSource(dataDataSource)\n\n                .packages(&quot;it.unict.spring.application.persistence.model.data&quot;)\n                .persistenceUnit(&quot;dataUnit&quot;).properties(additionalJpaProperties()).build();\n\n    }\n\n    Map&lt;String, ?&gt; additionalJpaProperties() {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\n        map.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\n        map.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\n        map.put(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\n\n        return map;\n    }\n\n    @Bean(name = &quot;dataTransactionManager&quot;)\n    @Primary\n    public JpaTransactionManager transactionManager(\n            @Qualifier(&quot;dataEntityManager&quot;) EntityManagerFactory serversEntityManager) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n\n        transactionManager.setEntityManagerFactory(serversEntityManager);\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>With</p>\n<pre><code>@Qualifier(&quot;dataEntityManager&quot;)\npublic LocalContainerEntityManagerFactoryBean dataEntityManagerFactory;\n@Qualifier(&quot;userEntityManager&quot;)\npublic LocalContainerEntityManagerFactoryBean userEntityManagerFactory;\n</code></pre>\n<p>In the main file. Now I have</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'application': Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.getObject()&quot; because &quot;this.userEntityManagerFactory&quot; is null\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8762,"page":1230,"page_size":100}
