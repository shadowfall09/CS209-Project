{"items":[{"tags":["java","open-telemetry","jaeger","opentracing","distributed-tracing"],"comments":[{"owner":{"account_id":4505177,"reputation":80,"user_id":3763923,"display_name":"wallacesilva09"},"score":2,"creation_date":1678301857,"post_id":75619765,"comment_id":133507960,"body_markdown":"They don&#39;t have this implemented yet. For now, the best alternative is this thread, requiring this implementation. The suggestion is using extension to ignore endpoints.\n\n[https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/1060](https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/1060)","body":"They don&#39;t have this implemented yet. For now, the best alternative is this thread, requiring this implementation. The suggestion is using extension to ignore endpoints.  <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/1060\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrum&zwnj;&#8203;entation/issues/1060</a>"},{"owner":{"account_id":20284100,"reputation":59,"user_id":14877151,"display_name":"S317"},"score":0,"creation_date":1678425115,"post_id":75619765,"comment_id":133533517,"body_markdown":"@wallacesilva09 - Thanks for reply. I have already tried extension and it was working. But for that I need to add create extra jar and add it in args. So that I want to avoid.","body":"@wallacesilva09 - Thanks for reply. I have already tried extension and it was working. But for that I need to add create extra jar and add it in args. So that I want to avoid."}],"owner":{"account_id":20284100,"reputation":59,"user_id":14877151,"display_name":"S317"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":997,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677783501,"creation_date":1677783501,"question_id":75619765,"body_markdown":"I am using opentelemetry-javaagent.jar. Health check and actuator url are also coming in jaeger. Can I exclude those url patterns somehow in java command itself like -Dotel.exclude.url?","title":"Excluding health and actuator url in opentelemetry java agent","body":"<p>I am using opentelemetry-javaagent.jar. Health check and actuator url are also coming in jaeger. Can I exclude those url patterns somehow in java command itself like -Dotel.exclude.url?</p>\n"},{"tags":["java","regex","spring-boot","swagger-editor","swagger-3.0"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677783323,"creation_date":1677783323,"answer_id":75619744,"question_id":75616049,"body_markdown":"You could use:\r\n\r\n    ^[a-zA-Z0-9]{5,15}(?:,[a-zA-Z0-9]{5,15})*$\r\n\r\n**Explanation**\r\n\r\n- `^` Start of string\r\n- `[a-zA-Z0-9]{5,15}` Match 5-15 chars in the range a-zA-Z0-9\r\n- `(?:,[a-zA-Z0-9]{5,15})*` Optionally repeat `,` and again 5-15 chars\r\n- `$` End of string\r\n\r\n[Regex demo](https://regex101.com/r/q8ISfS/1)","title":"Regular Expression for Swagger3 in java. Allowed string with comma separated value","body":"<p>You could use:</p>\n<pre><code>^[a-zA-Z0-9]{5,15}(?:,[a-zA-Z0-9]{5,15})*$\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>[a-zA-Z0-9]{5,15}</code> Match 5-15 chars in the range a-zA-Z0-9</li>\n<li><code>(?:,[a-zA-Z0-9]{5,15})*</code> Optionally repeat <code>,</code> and again 5-15 chars</li>\n<li><code>$</code> End of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/q8ISfS/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}],"owner":{"account_id":16500264,"reputation":289,"user_id":11921751,"display_name":"Abdullah Imran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75619744,"answer_count":1,"score":1,"last_activity_date":1677783323,"creation_date":1677763539,"question_id":75616049,"body_markdown":"I was trying to write regular expression for string variable in swagger3(OAS).\r\n\r\nThe string can have multiple comma separated string. Each string&#39;s length can be between 5 and 15 and each character in a string can be either a-z or A-Z or 0-9.\r\n\r\nI tried this one **[a-zA-Z0-9]{5,15}**. This one does not work as expected\r\n\r\nFor example \r\nValid String eg\r\n1.   3OMYJF5V11MJL,3OMYJF5V11MOP\r\n2.   3OMYJF,3OMYJim,3OMYJF090\r\n\r\nInvalid eg:\r\n\r\n1. ??\r\n2. 123\r\n3. 123456789098765432","title":"Regular Expression for Swagger3 in java. Allowed string with comma separated value","body":"<p>I was trying to write regular expression for string variable in swagger3(OAS).</p>\n<p>The string can have multiple comma separated string. Each string's length can be between 5 and 15 and each character in a string can be either a-z or A-Z or 0-9.</p>\n<p>I tried this one <strong>[a-zA-Z0-9]{5,15}</strong>. This one does not work as expected</p>\n<p>For example\nValid String eg</p>\n<ol>\n<li>3OMYJF5V11MJL,3OMYJF5V11MOP</li>\n<li>3OMYJF,3OMYJim,3OMYJF090</li>\n</ol>\n<p>Invalid eg:</p>\n<ol>\n<li>??</li>\n<li>123</li>\n<li>123456789098765432</li>\n</ol>\n"},{"tags":["java","json","marshalling","unmarshalling"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1677774361,"post_id":75618205,"comment_id":133408033,"body_markdown":"What you are trying to unmarshal is a JSON array. You need to adapt your parsing code to allow that, currently you apparently try to make a single `EmploymentSalaryTypeResponse` out of it which won&#39;t work. Can you try changing the type of your controller parameter (assuming that&#39;s where you use it) to `EmploymentSalaryTypeResponse[]`?","body":"What you are trying to unmarshal is a JSON array. You need to adapt your parsing code to allow that, currently you apparently try to make a single <code>EmploymentSalaryTypeResponse</code> out of it which won&#39;t work. Can you try changing the type of your controller parameter (assuming that&#39;s where you use it) to <code>EmploymentSalaryTypeResponse[]</code>?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1677775067,"post_id":75618205,"comment_id":133408280,"body_markdown":"@experimentunit1998X why? doesn&#39;t the current code of `EmploymentSalaryTypeResponse` match the json?","body":"@experimentunit1998X why? doesn&#39;t the current code of <code>EmploymentSalaryTypeResponse</code> match the json?"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677782719,"creation_date":1677782719,"answer_id":75619654,"question_id":75618205,"body_markdown":"Firstly, consider making the inner classes static. Additionally, add `@JsonIgnoreProperties(ignoreUnknown = true)`.\r\n\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class EmploymentSalaryTypeResponse {\r\n    \r\n        @Data\r\n        public static class Fields{\r\n            private String type;\r\n        }\r\n    \r\n        @Data\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public static class Root{\r\n            private int index;\r\n            private String source_list_name;\r\n            private boolean allow_multiple_account_associates;\r\n            private int source_list_index;\r\n            private Fields fields;\r\n            private boolean is_editable;\r\n            private boolean allow_associates;\r\n        }\r\n    }\r\n\r\nAfter that, as you see, you are trying to parse a List&lt;Root&gt; object, so try to use the appropriate data type when parsing. If you want to manually do the parsing, you can use a `TypeReference`:\r\n\r\n\r\n    var mapper = new ObjectMapper();\r\n    var type = new TypeReference&lt;List&lt;EmploymentSalaryTypeResponse.Root&gt;&gt;(){};\r\n    var object = mapper.readValue(json, type);\r\n    System.out.println(object);\r\n\r\nOn the other hand, this is  automatically deserialized by Spring, you can change the method signature to accept a `List&lt;EmploymentSalaryTypeResponse.Root&gt;` and it should work.","title":"Trying to demarshal JSON response using Java Classes","body":"<p>Firstly, consider making the inner classes static. Additionally, add <code>@JsonIgnoreProperties(ignoreUnknown = true)</code>.</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class EmploymentSalaryTypeResponse {\n\n    @Data\n    public static class Fields{\n        private String type;\n    }\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public static class Root{\n        private int index;\n        private String source_list_name;\n        private boolean allow_multiple_account_associates;\n        private int source_list_index;\n        private Fields fields;\n        private boolean is_editable;\n        private boolean allow_associates;\n    }\n}\n</code></pre>\n<p>After that, as you see, you are trying to parse a List object, so try to use the appropriate data type when parsing. If you want to manually do the parsing, you can use a <code>TypeReference</code>:</p>\n<pre><code>var mapper = new ObjectMapper();\nvar type = new TypeReference&lt;List&lt;EmploymentSalaryTypeResponse.Root&gt;&gt;(){};\nvar object = mapper.readValue(json, type);\nSystem.out.println(object);\n</code></pre>\n<p>On the other hand, this is  automatically deserialized by Spring, you can change the method signature to accept a <code>List&lt;EmploymentSalaryTypeResponse.Root&gt;</code> and it should work.</p>\n"}],"owner":{"account_id":27920113,"reputation":1,"user_id":21320478,"display_name":"Kal C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677782719,"creation_date":1677774239,"question_id":75618205,"body_markdown":"I am trying to demarshal JSON response using Java Classes, I am new to Java so it may be a school boy error I am making.\r\n\r\nThe JSON response is:\r\n\r\n\r\n```\r\n[{\r\n\t&quot;index&quot;: 514042,\r\n\t&quot;source_list_name&quot;: &quot;insurance_group&quot;,\r\n\t&quot;allow_multiple_account_associates&quot;: false,\r\n\t&quot;source_list_index&quot;: 10078,\r\n\t&quot;fields&quot;: {\r\n\t\t&quot;type&quot;: &quot;e212&quot;\r\n\t},\r\n\t&quot;is_editable&quot;: false,\r\n\t&quot;allow_associates&quot;: false\r\n}, {\r\n\t&quot;is_editable&quot;: true,\r\n\t&quot;fields&quot;: {\r\n\t\t&quot;type&quot;: &quot;i120&quot;\r\n\t},\r\n\t&quot;allow_associates&quot;: false,\r\n\t&quot;allow_multiple_account_associates&quot;: false,\r\n\t&quot;index&quot;: 533402\r\n}, {\r\n\t&quot;is_editable&quot;: true,\r\n\t&quot;fields&quot;: {\r\n\t\t&quot;type&quot;: &quot;i119&quot;\r\n\t},\r\n\t&quot;allow_associates&quot;: false,\r\n\t&quot;allow_multiple_account_associates&quot;: false,\r\n\t&quot;index&quot;: 514519\r\n}]\r\n```\r\n\r\nThe Java Class is:\r\n\r\n\r\n```\r\npackage com.ls.json.pack\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@AllArgsConstructor\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class EmploymentSalaryTypeResponse {\r\n\r\n    public class Fields{\r\n        private String type;\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class Root{\r\n        private int index;\r\n        private String source_list_name;\r\n        private boolean allow_multiple_account_associates;\r\n        private int source_list_index;\r\n        private Fields fields;\r\n        private boolean is_editable;\r\n        private boolean allow_associates;\r\n    }\r\n}\r\n```\r\n\r\nThe error I get is:\r\n\r\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.ls.json.pack.EmploymentSalaryTypeResponse` from Array value (token `JsonToken.START_ARRAY`)\r\n at [Source: (org.springframework.core.io.buffer.DataBufferInputStream); line: 1, column: 1]\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1746)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1520)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1467)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:650)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n\r\n\r\nCan you see where I am going wrong please?\r\n\r\nI tried to re-vamp the class but no joy","title":"Trying to demarshal JSON response using Java Classes","body":"<p>I am trying to demarshal JSON response using Java Classes, I am new to Java so it may be a school boy error I am making.</p>\n<p>The JSON response is:</p>\n<pre><code>[{\n    &quot;index&quot;: 514042,\n    &quot;source_list_name&quot;: &quot;insurance_group&quot;,\n    &quot;allow_multiple_account_associates&quot;: false,\n    &quot;source_list_index&quot;: 10078,\n    &quot;fields&quot;: {\n        &quot;type&quot;: &quot;e212&quot;\n    },\n    &quot;is_editable&quot;: false,\n    &quot;allow_associates&quot;: false\n}, {\n    &quot;is_editable&quot;: true,\n    &quot;fields&quot;: {\n        &quot;type&quot;: &quot;i120&quot;\n    },\n    &quot;allow_associates&quot;: false,\n    &quot;allow_multiple_account_associates&quot;: false,\n    &quot;index&quot;: 533402\n}, {\n    &quot;is_editable&quot;: true,\n    &quot;fields&quot;: {\n        &quot;type&quot;: &quot;i119&quot;\n    },\n    &quot;allow_associates&quot;: false,\n    &quot;allow_multiple_account_associates&quot;: false,\n    &quot;index&quot;: 514519\n}]\n</code></pre>\n<p>The Java Class is:</p>\n<pre><code>package com.ls.json.pack\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@AllArgsConstructor\n@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class EmploymentSalaryTypeResponse {\n\n    public class Fields{\n        private String type;\n    }\n\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Data\n    public class Root{\n        private int index;\n        private String source_list_name;\n        private boolean allow_multiple_account_associates;\n        private int source_list_index;\n        private Fields fields;\n        private boolean is_editable;\n        private boolean allow_associates;\n    }\n}\n</code></pre>\n<p>The error I get is:</p>\n<p>Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>com.ls.json.pack.EmploymentSalaryTypeResponse</code> from Array value (token <code>JsonToken.START_ARRAY</code>)\nat [Source: (org.springframework.core.io.buffer.DataBufferInputStream); line: 1, column: 1]\nat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\nat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1746)\nat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1520)\nat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1467)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:650)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)</p>\n<p>Can you see where I am going wrong please?</p>\n<p>I tried to re-vamp the class but no joy</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":1297417,"reputation":41873,"user_id":1248114,"accept_rate":66,"display_name":"arkascha"},"score":0,"creation_date":1677784496,"post_id":75619547,"comment_id":133410828,"body_markdown":"Is that initial string you have really fixed or do you have control over how those placeholders are named? I ask because what you describe is _exactly_ what string format functions like `printf()` already offer in a very robust and comfortable manner ...","body":"Is that initial string you have really fixed or do you have control over how those placeholders are named? I ask because what you describe is <i>exactly</i> what string format functions like <code>printf()</code> already offer in a very robust and comfortable manner ..."},{"owner":{"account_id":7607742,"reputation":1114,"user_id":5769814,"accept_rate":80,"display_name":"Mate de Vita"},"score":0,"creation_date":1677785469,"post_id":75619547,"comment_id":133411049,"body_markdown":"I have some control over it but I&#39;m quite restricted. I&#39;m parsing commands from minecraft&#39;s console so I&#39;m constrained by the rules of the game&#39;s parser.","body":"I have some control over it but I&#39;m quite restricted. I&#39;m parsing commands from minecraft&#39;s console so I&#39;m constrained by the rules of the game&#39;s parser."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1677783488,"post_id":75619646,"comment_id":133410566,"body_markdown":"Note that you can avoid the implicit `substring` operation of `group(int)` by using [`parseInt` with offsets](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.CharSequence,int,int,int)): `replaceAll(mr -&gt; args[Integer.parseInt(str, mr.start(1), mr.end(1), 10)-1])`. It’s a bit more complicated but more efficient in most cases.","body":"Note that you can avoid the implicit <code>substring</code> operation of <code>group(int)</code> by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.CharSequence,int,int,int)\" rel=\"nofollow noreferrer\"><code>parseInt</code> with offsets</a>: <code>replaceAll(mr -&gt; args[Integer.parseInt(str, mr.start(1), mr.end(1), 10)-1])</code>. It’s a bit more complicated but more efficient in most cases."},{"owner":{"account_id":7607742,"reputation":1114,"user_id":5769814,"accept_rate":80,"display_name":"Mate de Vita"},"score":0,"creation_date":1677785403,"post_id":75619646,"comment_id":133411032,"body_markdown":"Lovely, this is exactly what I was looking for.","body":"Lovely, this is exactly what I was looking for."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677782615,"creation_date":1677782615,"answer_id":75619646,"question_id":75619547,"body_markdown":"You can pass a `Function` callback to `Matcher#replaceAll`.\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;\\\\$\\\\{?(\\\\d+)}?&quot;);\r\nString res = pattern.matcher(str).replaceAll(mr-&gt;args[Integer.parseInt(mr.group(1))-1]);\r\nSystem.out.println(res);\r\n```","title":"Replace $1, $2, $3... in a String with an array of values","body":"<p>You can pass a <code>Function</code> callback to <code>Matcher#replaceAll</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;\\\\$\\\\{?(\\\\d+)}?&quot;);\nString res = pattern.matcher(str).replaceAll(mr-&gt;args[Integer.parseInt(mr.group(1))-1]);\nSystem.out.println(res);\n</code></pre>\n"}],"owner":{"account_id":7607742,"reputation":1114,"user_id":5769814,"accept_rate":80,"display_name":"Mate de Vita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75619646,"answer_count":1,"score":-1,"last_activity_date":1677782615,"creation_date":1677782050,"question_id":75619547,"body_markdown":"I have a `String command` and a `String[] args` array of arguments passed to the command. Assuming the list is of the correct length, how would I replace all instances of `$1`, `$11`, `${12}` with the corresponding argument from the list?\r\n\r\nFor instance, if the command is `&quot;move $1 to $2 while using the ISO-${3}34 standard&quot;`, and `args = {&quot;X&quot;, &quot;Y&quot;, &quot;SC&quot;}`, the command should be changed to `&quot;move X to Y while using the ISO-SC34 standard&quot;`. \r\n\r\nWhat I&#39;m doing currently is:\r\n\r\n\tfor (int i = args.length - 1; i &gt;= 0; i--) {\r\n\t\tString bracketedArg = &quot;${&quot; + i + &quot;}&quot;;\r\n\t\tif (commandString.contains(bracketedArg)) {\r\n\t\t\tcommandString = commandString.replace(bracketedArg, args[i]);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tString arg = &quot;$&quot; + i;\r\n\t\t\tcommandString = commandString.replace(arg, args[i]);\r\n\t\t}\r\n\t}\r\n\r\nIs there a more robust way of accomplishing this? I tried to do it using a regex expression but I wasn&#39;t sure how to actually replace the matches:\r\n\r\n\tPattern pattern = Pattern.compile(&quot;\\\\{?\\\\$(\\\\d+)}&quot;);\r\n\tcommandString = pattern.matcher(commandString).replaceAll(???)","title":"Replace $1, $2, $3... in a String with an array of values","body":"<p>I have a <code>String command</code> and a <code>String[] args</code> array of arguments passed to the command. Assuming the list is of the correct length, how would I replace all instances of <code>$1</code>, <code>$11</code>, <code>${12}</code> with the corresponding argument from the list?</p>\n<p>For instance, if the command is <code>&quot;move $1 to $2 while using the ISO-${3}34 standard&quot;</code>, and <code>args = {&quot;X&quot;, &quot;Y&quot;, &quot;SC&quot;}</code>, the command should be changed to <code>&quot;move X to Y while using the ISO-SC34 standard&quot;</code>.</p>\n<p>What I'm doing currently is:</p>\n<pre><code>for (int i = args.length - 1; i &gt;= 0; i--) {\n    String bracketedArg = &quot;${&quot; + i + &quot;}&quot;;\n    if (commandString.contains(bracketedArg)) {\n        commandString = commandString.replace(bracketedArg, args[i]);\n        continue;\n    }\n    else {\n        String arg = &quot;$&quot; + i;\n        commandString = commandString.replace(arg, args[i]);\n    }\n}\n</code></pre>\n<p>Is there a more robust way of accomplishing this? I tried to do it using a regex expression but I wasn't sure how to actually replace the matches:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;\\\\{?\\\\$(\\\\d+)}&quot;);\ncommandString = pattern.matcher(commandString).replaceAll(???)\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":19171582,"reputation":61,"user_id":14005220,"display_name":"Lucia Cerchie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674486647,"creation_date":1674486647,"answer_id":75211390,"question_id":68589355,"body_markdown":"If you&#39;re running into this authentication error, the first thing to check is whether you&#39;re using the correct API key. \r\n\r\nFor example, you might be using the cluster API key and secret rather than the schema registry key and secret. \r\n\r\nThe cluster API key and the schema registry API key are different values to provide access on the cluster level and the schema registry level. They&#39;re called [resource-specific][1] API keys. \r\n\r\n\r\n  [1]: https://docs.confluent.io/cloud/current/access-management/authenticate/api-keys/api-keys.html#resource-specific-api-keys","title":"Kafka Confluent InvalidConfigurationException: Unauthorized; error code: 401","body":"<p>If you're running into this authentication error, the first thing to check is whether you're using the correct API key.</p>\n<p>For example, you might be using the cluster API key and secret rather than the schema registry key and secret.</p>\n<p>The cluster API key and the schema registry API key are different values to provide access on the cluster level and the schema registry level. They're called <a href=\"https://docs.confluent.io/cloud/current/access-management/authenticate/api-keys/api-keys.html#resource-specific-api-keys\" rel=\"nofollow noreferrer\">resource-specific</a> API keys.</p>\n"}],"owner":{"account_id":20745454,"reputation":123,"user_id":15234147,"display_name":"Charmee Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2283,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1677782546,"creation_date":1627640579,"question_id":68589355,"body_markdown":"I am reading a schema using SpecificAvroSerde from the kafka Confluent schema registry. but I am getting this error below:\r\n\r\n``` Exception caught during Deserialization, taskId: 0_0, topic: scored-poctest, partition: 0, offset: 0\r\norg.apache.kafka.common.errors.InvalidConfigurationException: Unauthorized; error code: 401\r\n[TestStreamProcess-StreamThread-1] ERROR org.apache.kafka.streams.KafkaStreams - stream-client [TestStreamProcess] Encountered the following exception during processing and the registered exception handler opted to SHUTDOWN_CLIENT. The streams client is going to shut down now. \r\norg.apache.kafka.streams.errors.StreamsException: Deserialization exception handler is set to fail upon a deserialization error. If you would rather have the streaming pipeline continue after a deserialization error, please set the default.deserialization.exception.handler appropriately.\r\n\tat org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:82)\r\n\tat org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:176)\r\n\tat org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:112)\r\n\tat org.apache.kafka.streams.processor.internals.PartitionGroup.addRawRecords(PartitionGroup.java:185)\r\n\tat org.apache.kafka.streams.processor.internals.StreamTask.addRecords(StreamTask.java:957)\r\n\tat org.apache.kafka.streams.processor.internals.TaskManager.addRecordsToTasks(TaskManager.java:1009)\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.pollPhase(StreamThread.java:907)\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:720)\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:583)\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:556)\r\nCaused by: org.apache.kafka.common.errors.InvalidConfigurationException: Unauthorized; error code: 401\r\n```\r\n\r\n\r\nI am loading from config.properties file with the required configurations to connect to Schema Registry successfully:\r\n```\r\nschema.registry.url=&lt;confluent Schema Registry URL&gt;\r\nbasic.auth.credentials.source=USER_INFO\r\nschema.registry.basic.auth.user.info=&lt;Schema Registry API Key&gt;:&lt;schema Registry Secret Key&gt;\r\n```\r\n\r\nserdesConfig has already been set up as well as the necessary imports:\r\n```\r\nimport static io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig.*;\r\n\r\n    public static SpecificAvroSerde&lt;TestStream&gt; getTestStreamSerde(Properties props) {\r\n        SpecificAvroSerde&lt;TestStream&gt; testStreamSerde= new SpecificAvroSerde&lt;&gt;();\r\n        testStreamSerde.configure(getSerdeProps(props), false);\r\n        return testStreamSerde;\r\n    }\r\n\r\n  protected static Map&lt;String, String&gt; getSerdeProps(Properties props) {\r\n        final HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n        final String schemaUrlConfig = props.getProperty(SCHEMA_REGISTRY_URL_CONFIG);\r\n        map.put(SCHEMA_REGISTRY_URL_CONFIG, ofNullable(schemaUrlConfig).orElse(&quot;&quot;));\r\n}\r\n\r\n        final KStream&lt;String, TestStream&gt; testStream = builder.stream(&quot;input-topic&quot;,\r\n                Consumed.with(String(), getTestStreamSerde(props.getProperties())));\r\n```\r\nSchema Registry artifact is already loaded in pom.xml:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka-schema-registry-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\nCan you help me identify what am I missing from my configuration?","title":"Kafka Confluent InvalidConfigurationException: Unauthorized; error code: 401","body":"<p>I am reading a schema using SpecificAvroSerde from the kafka Confluent schema registry. but I am getting this error below:</p>\n<pre><code>org.apache.kafka.common.errors.InvalidConfigurationException: Unauthorized; error code: 401\n[TestStreamProcess-StreamThread-1] ERROR org.apache.kafka.streams.KafkaStreams - stream-client [TestStreamProcess] Encountered the following exception during processing and the registered exception handler opted to SHUTDOWN_CLIENT. The streams client is going to shut down now. \norg.apache.kafka.streams.errors.StreamsException: Deserialization exception handler is set to fail upon a deserialization error. If you would rather have the streaming pipeline continue after a deserialization error, please set the default.deserialization.exception.handler appropriately.\n    at org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:82)\n    at org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:176)\n    at org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:112)\n    at org.apache.kafka.streams.processor.internals.PartitionGroup.addRawRecords(PartitionGroup.java:185)\n    at org.apache.kafka.streams.processor.internals.StreamTask.addRecords(StreamTask.java:957)\n    at org.apache.kafka.streams.processor.internals.TaskManager.addRecordsToTasks(TaskManager.java:1009)\n    at org.apache.kafka.streams.processor.internals.StreamThread.pollPhase(StreamThread.java:907)\n    at org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:720)\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:583)\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:556)\nCaused by: org.apache.kafka.common.errors.InvalidConfigurationException: Unauthorized; error code: 401\n</code></pre>\n<p>I am loading from config.properties file with the required configurations to connect to Schema Registry successfully:</p>\n<pre><code>schema.registry.url=&lt;confluent Schema Registry URL&gt;\nbasic.auth.credentials.source=USER_INFO\nschema.registry.basic.auth.user.info=&lt;Schema Registry API Key&gt;:&lt;schema Registry Secret Key&gt;\n</code></pre>\n<p>serdesConfig has already been set up as well as the necessary imports:</p>\n<pre><code>import static io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig.*;\n\n    public static SpecificAvroSerde&lt;TestStream&gt; getTestStreamSerde(Properties props) {\n        SpecificAvroSerde&lt;TestStream&gt; testStreamSerde= new SpecificAvroSerde&lt;&gt;();\n        testStreamSerde.configure(getSerdeProps(props), false);\n        return testStreamSerde;\n    }\n\n  protected static Map&lt;String, String&gt; getSerdeProps(Properties props) {\n        final HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\n        final String schemaUrlConfig = props.getProperty(SCHEMA_REGISTRY_URL_CONFIG);\n        map.put(SCHEMA_REGISTRY_URL_CONFIG, ofNullable(schemaUrlConfig).orElse(&quot;&quot;));\n}\n\n        final KStream&lt;String, TestStream&gt; testStream = builder.stream(&quot;input-topic&quot;,\n                Consumed.with(String(), getTestStreamSerde(props.getProperties())));\n</code></pre>\n<p>Schema Registry artifact is already loaded in pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-schema-registry-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Can you help me identify what am I missing from my configuration?</p>\n"},{"tags":["java","keyboard","shift","uikeyboard","capslock"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1677689533,"post_id":75606702,"comment_id":133388811,"body_markdown":"So what _is_ the problem?","body":"So what <i>is</i> the problem?"},{"owner":{"account_id":27375797,"reputation":3,"user_id":20881173,"display_name":"Zee Man"},"score":0,"creation_date":1677690030,"post_id":75606702,"comment_id":133388958,"body_markdown":"@tkausl The problem I am having is I have not clue how to make it to where the shift or caps key works. any insight would be very helpful :)","body":"@tkausl The problem I am having is I have not clue how to make it to where the shift or caps key works. any insight would be very helpful :)"},{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1677690119,"post_id":75606702,"comment_id":133388989,"body_markdown":"A flag for shift/caps lock keys, an conditional conversion to uppercase letters. That would be a start, at least.","body":"A flag for shift/caps lock keys, an conditional conversion to uppercase letters. That would be a start, at least."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1677690662,"post_id":75606702,"comment_id":133389173,"body_markdown":"`boolean shiftOn = false; boolean capsLockOn = false;`  When someone touches one, toggle the value:  `if (source.getText.equals(&quot;shift&quot;)) { shiftOn = ! shiftOn;}` for example. You would want to add code to change the look of the key to indicate its state.","body":"<code>boolean shiftOn = false; boolean capsLockOn = false;</code>  When someone touches one, toggle the value:  <code>if (source.getText.equals(&quot;shift&quot;)) { shiftOn = ! shiftOn;}</code> for example. You would want to add code to change the look of the key to indicate its state."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1677690730,"post_id":75606702,"comment_id":133389191,"body_markdown":"By the way, you might (or might not) have a problem with the way you are comparing `String` Objects.  https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","body":"By the way, you might (or might not) have a problem with the way you are comparing <code>String</code> Objects.  <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":27375797,"reputation":3,"user_id":20881173,"display_name":"Zee Man"},"score":0,"creation_date":1677691046,"post_id":75606702,"comment_id":133389279,"body_markdown":"@OldDogProgrammer, Thanks for the input, I understand that part but Don&#39;t know where to start as for the key values being uppercase or how to implement that part. And I don&#39;t have a problem comparing the objects, I tested that earlier on.","body":"@OldDogProgrammer, Thanks for the input, I understand that part but Don&#39;t know where to start as for the key values being uppercase or how to implement that part. And I don&#39;t have a problem comparing the objects, I tested that earlier on."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1677691309,"post_id":75606702,"comment_id":133389343,"body_markdown":"So, the question is about how to handle the shift / caps booleans in the part of the code where you have `userInput = userInput + source.getText();   // Do something with the button press, such as sending a value to the PLC or   // updating a display` ?","body":"So, the question is about how to handle the shift / caps booleans in the part of the code where you have <code>userInput = userInput + source.getText();   &#47;&#47; Do something with the button press, such as sending a value to the PLC or   &#47;&#47; updating a display</code> ?"},{"owner":{"account_id":27375797,"reputation":3,"user_id":20881173,"display_name":"Zee Man"},"score":1,"creation_date":1677691752,"post_id":75606702,"comment_id":133389476,"body_markdown":"@OldDogProgrammer yes, Ideally I would be able to change the value of the key grid to make a = A, 1 = !, ect. on a shift press or caps press. That is the part I am struggling with.","body":"@OldDogProgrammer yes, Ideally I would be able to change the value of the key grid to make a = A, 1 = !, ect. on a shift press or caps press. That is the part I am struggling with."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1677691902,"post_id":75606702,"comment_id":133389529,"body_markdown":"Do you want to redraw the keyboard when `shift` and or `caps lock` status is / are changed or do you just want to get the correct character when the following letter / number / punctuation key is pressed?","body":"Do you want to redraw the keyboard when <code>shift</code> and or <code>caps lock</code> status is / are changed or do you just want to get the correct character when the following letter / number / punctuation key is pressed?"},{"owner":{"account_id":27375797,"reputation":3,"user_id":20881173,"display_name":"Zee Man"},"score":0,"creation_date":1677692763,"post_id":75606702,"comment_id":133389829,"body_markdown":"@OldDogProgrammer I want both to happen. Redraw and get the correct character.","body":"@OldDogProgrammer I want both to happen. Redraw and get the correct character."}],"answers":[{"comments":[{"owner":{"account_id":27375797,"reputation":3,"user_id":20881173,"display_name":"Zee Man"},"score":0,"creation_date":1678149656,"post_id":75608888,"comment_id":133474235,"body_markdown":"This was exactly what I was looking for!! Thank you so much for the insight and help! I avoided the parallel arrays aswell!","body":"This was exactly what I was looking for!! Thank you so much for the insight and help! I avoided the parallel arrays aswell!"}],"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677782533,"creation_date":1677703893,"answer_id":75608888,"question_id":75606702,"body_markdown":"As was mentioned in the comments, have `boolean` variables to represent the states of the Caps Lock and Shift keys.\r\n\r\nFor letters, it&#39;s easy to shift a letter to uppercase or lowercase. For punctuation, my suggestion is to have code that maps characters between lowercase and uppercase for punctuation and digits. A `Map` would be useful:\r\n\r\n    \r\n    private boolean shiftOn = false, capsLockOn = false;\r\n    private final String [] shifted = {&quot;1!&quot;,&quot;2@&quot;,&quot;3#&quot;,&quot;4$&quot;,&quot;5%&quot;,&quot;6^&quot;,&quot;7&amp;&quot;,&quot;8*&quot;\r\n          ,&quot;9(&quot;,&quot;0)&quot;,&quot;-_&quot;,&quot;=+&quot;,&quot;`~&quot;,&quot;[{&quot;,&quot;]}&quot;,&quot;\\\\|&quot;,&quot;;:&quot;,&quot;&#39;\\&quot;&quot;,&quot;,&lt;&quot;,&quot;.&gt;&quot;,&quot;/?&quot;};\r\n    private Map &lt;Character, Character&gt; shiftMap;\r\n    \r\nwith a method:\r\n\r\n        private void loadShiftMap () {\r\n           shiftMap = new HashMap &lt;&gt; ();\r\n           for (String c: shifted) { \r\n               shiftMap.put (c.charAt(0), c.charAt(1));\r\n           }\r\n        }\r\n\r\nCall `loadShiftMap ()` within the constructor.\r\n\r\n**Note:** You will have make changes to match your keyboard layout. For example, to type `!`, I use (\\&lt;shift\\&gt; 1). But you have a separate key for `!` and other characters for your keyboard. This solution, therefore, has to be adapted.\r\n\r\nIf the `String` passed to the following method contains exaclty one character, it will return a result based on that character and the state of the Shift and Caps Lock keys. Otherwise, it will return what was passed:\r\n\r\n    private String getShiftedCharacter (String input) { \r\n        if (input.length() != 1) return input;\r\n        char theChar = input.charAt(0);\r\n        char result = theChar;\r\n        if (Character.isLetter(theChar)) { \r\n            if (shiftOn || capsLockOn) { \r\n                result = Character.toUpperCase(theChar);\r\n            } else { \r\n                result = Character.toLowerCase(theChar);            \r\n            }\r\n        } else { \r\n            if (shiftOn) { \r\n                result = shiftMap.get(theChar);\r\n            }\r\n        }\r\n        return Character.toString (result);\r\n    }\r\n\r\nWhen the Shift key or Caps Lock key is pressed, toggle the state of the appropriate  Boolean variable. For example, `shiftOn = ! shiftOn;`. In addition, after any letter, digit, or punctuation key is pressed, clear `shiftOn` to `false`. Otherwise, it will act as the Caps Lock key.\r\n\r\nIf you want to redraw the keyboard whenever the state of the Shift key or Caps Lock key is changed, change the labels on the buttons, and then repaint:\r\n\r\n    private void showShift () { \r\n        for (int i = 0; i &lt; buttons.length; ++i) {\r\n            buttons [i].setText(getshiftedCharacter(keyboardKeys.get(i)));\r\n        }\r\n        getContentPane().repaint();\r\n    }\r\n\r\nBecause the &quot;source&quot; comes from the label (text) on the button, and the labels on the button are updated when the state of a Shift Key or Caps Lock key is changed, the only place `getShiftedCharacter` is called is within the `showShift` method.\r\n\r\nNote: This code uses `char` / `Character` autoboxing and autounboxing. \r\n\r\nComment: I don&#39;t like parallel arrays. I might avoid parallel arrays by doing something like this:\r\n\r\n     String [][] keyboardKeys = {{&quot;`&quot;,&quot;~&quot;}, {&quot;1&quot;,&quot;!&quot;}, {&quot;2&quot;,&quot;@&quot;}, {&quot;3&quot;,&quot;#&quot;}, ... \r\n     ,{&quot;Tab&quot;,&quot;Tab&quot;},{&quot;q&quot;,&quot;Q&quot;},{&quot;w&quot;,&quot;W&quot;}, ... {&quot;[&quot;,&quot;{&quot;},{&quot;]&quot;,&quot;}&quot;},{&quot;\\&quot;,&quot;|&quot;}\r\n     ,{&quot;Caps&quot;,&quot;Caps&quot;},{&quot;a&quot;,&quot;A&quot;},{&quot;s&quot;,&quot;S&quot;}, ... };","title":"I need help on making a touch screen keyboard for an application that only uses touch screen. I am specifically having problems with shift and caps","body":"<p>As was mentioned in the comments, have <code>boolean</code> variables to represent the states of the Caps Lock and Shift keys.</p>\n<p>For letters, it's easy to shift a letter to uppercase or lowercase. For punctuation, my suggestion is to have code that maps characters between lowercase and uppercase for punctuation and digits. A <code>Map</code> would be useful:</p>\n<pre><code>private boolean shiftOn = false, capsLockOn = false;\nprivate final String [] shifted = {&quot;1!&quot;,&quot;2@&quot;,&quot;3#&quot;,&quot;4$&quot;,&quot;5%&quot;,&quot;6^&quot;,&quot;7&amp;&quot;,&quot;8*&quot;\n      ,&quot;9(&quot;,&quot;0)&quot;,&quot;-_&quot;,&quot;=+&quot;,&quot;`~&quot;,&quot;[{&quot;,&quot;]}&quot;,&quot;\\\\|&quot;,&quot;;:&quot;,&quot;'\\&quot;&quot;,&quot;,&lt;&quot;,&quot;.&gt;&quot;,&quot;/?&quot;};\nprivate Map &lt;Character, Character&gt; shiftMap;\n</code></pre>\n<p>with a method:</p>\n<pre><code>    private void loadShiftMap () {\n       shiftMap = new HashMap &lt;&gt; ();\n       for (String c: shifted) { \n           shiftMap.put (c.charAt(0), c.charAt(1));\n       }\n    }\n</code></pre>\n<p>Call <code>loadShiftMap ()</code> within the constructor.</p>\n<p><strong>Note:</strong> You will have make changes to match your keyboard layout. For example, to type <code>!</code>, I use (&lt;shift&gt; 1). But you have a separate key for <code>!</code> and other characters for your keyboard. This solution, therefore, has to be adapted.</p>\n<p>If the <code>String</code> passed to the following method contains exaclty one character, it will return a result based on that character and the state of the Shift and Caps Lock keys. Otherwise, it will return what was passed:</p>\n<pre><code>private String getShiftedCharacter (String input) { \n    if (input.length() != 1) return input;\n    char theChar = input.charAt(0);\n    char result = theChar;\n    if (Character.isLetter(theChar)) { \n        if (shiftOn || capsLockOn) { \n            result = Character.toUpperCase(theChar);\n        } else { \n            result = Character.toLowerCase(theChar);            \n        }\n    } else { \n        if (shiftOn) { \n            result = shiftMap.get(theChar);\n        }\n    }\n    return Character.toString (result);\n}\n</code></pre>\n<p>When the Shift key or Caps Lock key is pressed, toggle the state of the appropriate  Boolean variable. For example, <code>shiftOn = ! shiftOn;</code>. In addition, after any letter, digit, or punctuation key is pressed, clear <code>shiftOn</code> to <code>false</code>. Otherwise, it will act as the Caps Lock key.</p>\n<p>If you want to redraw the keyboard whenever the state of the Shift key or Caps Lock key is changed, change the labels on the buttons, and then repaint:</p>\n<pre><code>private void showShift () { \n    for (int i = 0; i &lt; buttons.length; ++i) {\n        buttons [i].setText(getshiftedCharacter(keyboardKeys.get(i)));\n    }\n    getContentPane().repaint();\n}\n</code></pre>\n<p>Because the &quot;source&quot; comes from the label (text) on the button, and the labels on the button are updated when the state of a Shift Key or Caps Lock key is changed, the only place <code>getShiftedCharacter</code> is called is within the <code>showShift</code> method.</p>\n<p>Note: This code uses <code>char</code> / <code>Character</code> autoboxing and autounboxing.</p>\n<p>Comment: I don't like parallel arrays. I might avoid parallel arrays by doing something like this:</p>\n<pre><code> String [][] keyboardKeys = {{&quot;`&quot;,&quot;~&quot;}, {&quot;1&quot;,&quot;!&quot;}, {&quot;2&quot;,&quot;@&quot;}, {&quot;3&quot;,&quot;#&quot;}, ... \n ,{&quot;Tab&quot;,&quot;Tab&quot;},{&quot;q&quot;,&quot;Q&quot;},{&quot;w&quot;,&quot;W&quot;}, ... {&quot;[&quot;,&quot;{&quot;},{&quot;]&quot;,&quot;}&quot;},{&quot;\\&quot;,&quot;|&quot;}\n ,{&quot;Caps&quot;,&quot;Caps&quot;},{&quot;a&quot;,&quot;A&quot;},{&quot;s&quot;,&quot;S&quot;}, ... };\n</code></pre>\n"}],"owner":{"account_id":27375797,"reputation":3,"user_id":20881173,"display_name":"Zee Man"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75608888,"answer_count":1,"score":0,"last_activity_date":1677782533,"creation_date":1677689417,"question_id":75606702,"body_markdown":"I am not sure where to go with shift and caps key, I don&#39;t know whether I can make different values on what I am already working on for this or not. I am new to Jpanel, so any help would be much appreciated.\r\n\r\nThis is my current code in VSCode right now. It will pull up a 5 by 12 keyboard that reads inputs and will output into the console on enter. Tab, Caps, Shift, and delete currently don&#39;t work. I am mostly focused on caps and shift right now, as I can get the other two pretty easily.\r\n\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\nimport javax.lang.model.util.ElementScanner6;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.plaf.ComponentUI;\r\n\r\npublic class Keyboard extends JFrame implements ActionListener {\r\n    private JButton[] buttons;\r\n    private JPanel keyboardPanel;\r\n    public String userInput = &quot;&quot;;\r\n    public ArrayList&lt;String&gt; keyboardKeys = new ArrayList&lt;&gt;(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;0&quot;, &quot;-&quot;, &quot;=&quot;,\r\n    &quot;q&quot;, &quot;w&quot;, &quot;e&quot;, &quot;r&quot;, &quot;t&quot;, &quot;y&quot;, &quot;u&quot;, &quot;i&quot;, &quot;o&quot;, &quot;p&quot;, &quot;\\\\&quot;, &quot;delete&quot;,\r\n    &quot;a&quot;, &quot;s&quot;, &quot;d&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;;&quot;, &quot;&#39;&quot;, &quot;enter&quot;,\r\n    &quot;shift&quot;, &quot;z&quot;, &quot;x&quot;, &quot;c&quot;, &quot;v&quot;, &quot;b&quot;, &quot;n&quot;, &quot;m&quot;, &quot;,&quot;, &quot;.&quot;, &quot;/&quot;, &quot;shift&quot;,\r\n    &quot;caps&quot;, &quot;tab&quot;, &quot;space&quot;, &quot;`&quot;, &quot;~&quot;, &quot;!&quot;, &quot;@&quot;, &quot;(&quot;, &quot;)&quot;, &quot;?&quot;, &quot;[&quot;, &quot;]&quot;));\r\n    public static ComponentUI newUI = new ComponentUI() {\r\n        \r\n    };\r\n\r\n    public Keyboard() {\r\n        super(&quot;Keyboard&quot;);\r\n        keyboardPanel = new JPanel();\r\n        keyboardPanel.setLayout(new GridLayout(5, 12));\r\n        buttons = new JButton[60];\r\n        for (int i = 0; i &lt; buttons.length; i++) {\r\n            buttons[i] = new JButton(keyboardKeys.get(i));\r\n            buttons[i].addActionListener(this);\r\n            keyboardPanel.add(buttons[i]);\r\n        }\r\n        add(keyboardPanel, BorderLayout.CENTER);\r\n        setSize(900, 300);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent event) {\r\n        JButton source = (JButton) event.getSource();\r\n        //System.out.println(source.getText());\r\n        //collect inputs into a String\r\n        if(source.getText() == &quot;shift&quot;)\r\n        {\r\n            //change keyboard for shift and caps keystrokes\r\n            System.out.println(&quot;shift key&quot;);\r\n        }\r\n        else if(source.getText() == &quot;caps&quot;)\r\n        {\r\n             //change keyboard for caps keystrokes\r\n             System.out.println(&quot;caps key&quot;);\r\n        }\r\n        else if((source.getText() == &quot;enter&quot;))\r\n        {\r\n            //on enter, send the input array out\r\n            //System.out.println(&quot;enter key&quot;);\r\n            System.out.println(userInput);\r\n        }\r\n        else if(source.getText() == &quot;space&quot;)\r\n        {\r\n            System.out.println(&quot;space bar&quot;);\r\n            userInput = userInput + &quot; &quot;;\r\n        }\r\n        else\r\n        {\r\n            userInput = userInput + source.getText();\r\n        }\r\n        // Do something with the button press, such as sending a value to the PLC or\r\n        // updating a display\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Keyboard();\r\n    }\r\n}\r\n```\r\n","title":"I need help on making a touch screen keyboard for an application that only uses touch screen. I am specifically having problems with shift and caps","body":"<p>I am not sure where to go with shift and caps key, I don't know whether I can make different values on what I am already working on for this or not. I am new to Jpanel, so any help would be much appreciated.</p>\n<p>This is my current code in VSCode right now. It will pull up a 5 by 12 keyboard that reads inputs and will output into the console on enter. Tab, Caps, Shift, and delete currently don't work. I am mostly focused on caps and shift right now, as I can get the other two pretty easily.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\nimport javax.lang.model.util.ElementScanner6;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.plaf.ComponentUI;\n\npublic class Keyboard extends JFrame implements ActionListener {\n    private JButton[] buttons;\n    private JPanel keyboardPanel;\n    public String userInput = &quot;&quot;;\n    public ArrayList&lt;String&gt; keyboardKeys = new ArrayList&lt;&gt;(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;0&quot;, &quot;-&quot;, &quot;=&quot;,\n    &quot;q&quot;, &quot;w&quot;, &quot;e&quot;, &quot;r&quot;, &quot;t&quot;, &quot;y&quot;, &quot;u&quot;, &quot;i&quot;, &quot;o&quot;, &quot;p&quot;, &quot;\\\\&quot;, &quot;delete&quot;,\n    &quot;a&quot;, &quot;s&quot;, &quot;d&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;;&quot;, &quot;'&quot;, &quot;enter&quot;,\n    &quot;shift&quot;, &quot;z&quot;, &quot;x&quot;, &quot;c&quot;, &quot;v&quot;, &quot;b&quot;, &quot;n&quot;, &quot;m&quot;, &quot;,&quot;, &quot;.&quot;, &quot;/&quot;, &quot;shift&quot;,\n    &quot;caps&quot;, &quot;tab&quot;, &quot;space&quot;, &quot;`&quot;, &quot;~&quot;, &quot;!&quot;, &quot;@&quot;, &quot;(&quot;, &quot;)&quot;, &quot;?&quot;, &quot;[&quot;, &quot;]&quot;));\n    public static ComponentUI newUI = new ComponentUI() {\n        \n    };\n\n    public Keyboard() {\n        super(&quot;Keyboard&quot;);\n        keyboardPanel = new JPanel();\n        keyboardPanel.setLayout(new GridLayout(5, 12));\n        buttons = new JButton[60];\n        for (int i = 0; i &lt; buttons.length; i++) {\n            buttons[i] = new JButton(keyboardKeys.get(i));\n            buttons[i].addActionListener(this);\n            keyboardPanel.add(buttons[i]);\n        }\n        add(keyboardPanel, BorderLayout.CENTER);\n        setSize(900, 300);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    public void actionPerformed(ActionEvent event) {\n        JButton source = (JButton) event.getSource();\n        //System.out.println(source.getText());\n        //collect inputs into a String\n        if(source.getText() == &quot;shift&quot;)\n        {\n            //change keyboard for shift and caps keystrokes\n            System.out.println(&quot;shift key&quot;);\n        }\n        else if(source.getText() == &quot;caps&quot;)\n        {\n             //change keyboard for caps keystrokes\n             System.out.println(&quot;caps key&quot;);\n        }\n        else if((source.getText() == &quot;enter&quot;))\n        {\n            //on enter, send the input array out\n            //System.out.println(&quot;enter key&quot;);\n            System.out.println(userInput);\n        }\n        else if(source.getText() == &quot;space&quot;)\n        {\n            System.out.println(&quot;space bar&quot;);\n            userInput = userInput + &quot; &quot;;\n        }\n        else\n        {\n            userInput = userInput + source.getText();\n        }\n        // Do something with the button press, such as sending a value to the PLC or\n        // updating a display\n    }\n\n    public static void main(String[] args) {\n        new Keyboard();\n    }\n}\n</code></pre>\n"},{"tags":["java","string","truncate"],"comments":[{"owner":{"account_id":46922,"reputation":14030,"user_id":138830,"accept_rate":86,"display_name":"gawi"},"score":0,"creation_date":1282837861,"post_id":3576754,"comment_id":3751268,"body_markdown":"I would rephrase your problem.  You are trying to fit a string into a byte array that cannot be larger than maxUTF8BytesLength.  You want to use UTF-8 for the encoding.  You want to copy as much character as possible.  Correct?","body":"I would rephrase your problem.  You are trying to fit a string into a byte array that cannot be larger than maxUTF8BytesLength.  You want to use UTF-8 for the encoding.  You want to copy as much character as possible.  Correct?"},{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":0,"creation_date":1282838642,"post_id":3576754,"comment_id":3751438,"body_markdown":"right, I would say that is correct. I also would like to do it efficiently.","body":"right, I would say that is correct. I also would like to do it efficiently."},{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":0,"creation_date":1282838973,"post_id":3576754,"comment_id":3751494,"body_markdown":"I just edited the question to not reference UTF-8. Sorry about that, it was misleading.","body":"I just edited the question to not reference UTF-8. Sorry about that, it was misleading."}],"answers":[{"comments":[{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":1,"creation_date":1282838693,"post_id":3576835,"comment_id":3751446,"body_markdown":"I definitely could do that. Is there any reason why using String.substring is any worse? It seems like doing it the way you describe would have to account for all the code points, which isn&#39;t a whole lot of fun. (depending on your definition of fun :) ).","body":"I definitely could do that. Is there any reason why using String.substring is any worse? It seems like doing it the way you describe would have to account for all the code points, which isn&#39;t a whole lot of fun. (depending on your definition of fun :) )."},{"owner":{"account_id":89797,"reputation":167211,"user_id":247533,"accept_rate":83,"display_name":"Rex Kerr"},"score":0,"creation_date":1282839764,"post_id":3576835,"comment_id":3751627,"body_markdown":"@stevebot - To be efficient, you need to take advantage of the known structure of the data.  If you don&#39;t care about efficiency and want it to be easy, or you want to support every possible Java encoding without having to know what it is, your method seems reasonable enough.","body":"@stevebot - To be efficient, you need to take advantage of the known structure of the data.  If you don&#39;t care about efficiency and want it to be easy, or you want to support every possible Java encoding without having to know what it is, your method seems reasonable enough."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1583918476,"post_id":3576835,"comment_id":107270069,"body_markdown":"Wouldn’t it be even more efficient to iterate over the String’s characters and predict their encoded length, instead of encoding the entire string, to iterate over the encoded bytes and reconstitute their character association? Similar to [this](https://stackoverflow.com/a/21766744/2711488), just with non-BMP character support and counting before doing `substring` like in your answer…","body":"Wouldn’t it be even more efficient to iterate over the String’s characters and predict their encoded length, instead of encoding the entire string, to iterate over the encoded bytes and reconstitute their character association? Similar to <a href=\"https://stackoverflow.com/a/21766744/2711488\">this</a>, just with non-BMP character support and counting before doing <code>substring</code> like in your answer…"}],"tags":[],"owner":{"account_id":89797,"reputation":167211,"user_id":247533,"accept_rate":83,"display_name":"Rex Kerr"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1409014548,"creation_date":1282837611,"answer_id":3576835,"question_id":3576754,"body_markdown":"Why not convert to bytes and walk forward--obeying UTF8 character boundaries as you do it--until you&#39;ve got the max number, then convert those bytes back into a string?\r\n\r\nOr you could just cut the original string if you keep track of where the cut should occur:\r\n\r\n    // Assuming that Java will always produce valid UTF8 from a string, so no error checking!\r\n    // (Is this always true, I wonder?)\r\n    public class UTF8Cutter {\r\n      public static String cut(String s, int n) {\r\n        byte[] utf8 = s.getBytes();\r\n        if (utf8.length &lt; n) n = utf8.length;\r\n        int n16 = 0;\r\n        int advance = 1;\r\n        int i = 0;\r\n        while (i &lt; n) {\r\n          advance = 1;\r\n          if ((utf8[i] &amp; 0x80) == 0) i += 1;\r\n          else if ((utf8[i] &amp; 0xE0) == 0xC0) i += 2;\r\n          else if ((utf8[i] &amp; 0xF0) == 0xE0) i += 3;\r\n          else { i += 4; advance = 2; }\r\n          if (i &lt;= n) n16 += advance;\r\n        }\r\n        return s.substring(0,n16);\r\n      }\r\n    }\r\n\r\n&lt;sup&gt;Note: edited to fix bugs on 2014-08-25&lt;/sup&gt;","title":"Truncating Strings by Bytes","body":"<p>Why not convert to bytes and walk forward--obeying UTF8 character boundaries as you do it--until you've got the max number, then convert those bytes back into a string?</p>\n\n<p>Or you could just cut the original string if you keep track of where the cut should occur:</p>\n\n<pre><code>// Assuming that Java will always produce valid UTF8 from a string, so no error checking!\n// (Is this always true, I wonder?)\npublic class UTF8Cutter {\n  public static String cut(String s, int n) {\n    byte[] utf8 = s.getBytes();\n    if (utf8.length &lt; n) n = utf8.length;\n    int n16 = 0;\n    int advance = 1;\n    int i = 0;\n    while (i &lt; n) {\n      advance = 1;\n      if ((utf8[i] &amp; 0x80) == 0) i += 1;\n      else if ((utf8[i] &amp; 0xE0) == 0xC0) i += 2;\n      else if ((utf8[i] &amp; 0xF0) == 0xE0) i += 3;\n      else { i += 4; advance = 2; }\n      if (i &lt;= n) n16 += advance;\n    }\n    return s.substring(0,n16);\n  }\n}\n</code></pre>\n\n<p><sup>Note: edited to fix bugs on 2014-08-25</sup></p>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1292586412,"post_id":3588370,"comment_id":4885849,"body_markdown":"@nguyendat, there is lots of reasons this is not very performant. The main one would be the object creation for the substring() and getBytes() However, you would be surprised how much you can do in a milli-second and that is usually enough.","body":"@nguyendat, there is lots of reasons this is not very performant. The main one would be the object creation for the substring() and getBytes() However, you would be surprised how much you can do in a milli-second and that is usually enough."},{"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"score":1,"creation_date":1361060083,"post_id":3588370,"comment_id":20927224,"body_markdown":"That method doesn&#39;t handle surrogate pairs properly, e.g. substring(&quot;\\uD800\\uDF30\\uD800\\uDF30&quot;, 4).getBytes(&quot;UTF-8&quot;).length will return 8, not 4. Half a surrogate pair is represented as a single-byte &quot;?&quot; by String.getBytes(&quot;UTF-8&quot;).","body":"That method doesn&#39;t handle surrogate pairs properly, e.g. substring(&quot;\\uD800\\uDF30\\uD800\\uDF30&quot;, 4).getBytes(&quot;UTF-8&quot;).length will return 8, not 4. Half a surrogate pair is represented as a single-byte &quot;?&quot; by String.getBytes(&quot;UTF-8&quot;)."},{"owner":{"account_id":2994613,"reputation":7964,"user_id":2599133,"accept_rate":83,"display_name":"Hans Brende"},"score":0,"creation_date":1481333475,"post_id":3588370,"comment_id":69349427,"body_markdown":"@StefanL I posted a variant of this answer [here](http://stackoverflow.com/a/41071240/2599133) which should handle surrogate pairs properly.","body":"@StefanL I posted a variant of this answer <a href=\"http://stackoverflow.com/a/41071240/2599133\">here</a> which should handle surrogate pairs properly."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282945912,"creation_date":1282945912,"answer_id":3588370,"question_id":3576754,"body_markdown":"you could convert the string to bytes and convert just those bytes back to a string.\r\n\r\n    public static String substring(String text, int maxBytes) {\r\n       StringBuilder ret = new StringBuilder();\r\n       for(int i = 0;i &lt; text.length(); i++) {\r\n           // works out how many bytes a character takes, \r\n           // and removes these from the total allowed.\r\n           if((maxBytes -= text.substring(i, i+1).getBytes().length) &lt; 0) break;\r\n           ret.append(text.charAt(i));\r\n       }\r\n       return ret.toString();\r\n    }\r\n\r\n","title":"Truncating Strings by Bytes","body":"<p>you could convert the string to bytes and convert just those bytes back to a string.</p>\n\n<pre><code>public static String substring(String text, int maxBytes) {\n   StringBuilder ret = new StringBuilder();\n   for(int i = 0;i &lt; text.length(); i++) {\n       // works out how many bytes a character takes, \n       // and removes these from the total allowed.\n       if((maxBytes -= text.substring(i, i+1).getBytes().length) &lt; 0) break;\n       ret.append(text.charAt(i));\n   }\n   return ret.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1303679498,"creation_date":1303679498,"answer_id":5773282,"question_id":3576754,"body_markdown":"Use the UTF-8 CharsetEncoder, and encode until the output ByteBuffer contains as many bytes as you are willing to take, by looking for CoderResult.OVERFLOW.","title":"Truncating Strings by Bytes","body":"<p>Use the UTF-8 CharsetEncoder, and encode until the output ByteBuffer contains as many bytes as you are willing to take, by looking for CoderResult.OVERFLOW.</p>\n"},{"comments":[{"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"score":0,"creation_date":1361057631,"post_id":14622888,"comment_id":20926632,"body_markdown":"Doesn&#39;t look like this solution prevents a trailing half surrogate pair? Second, in case getBytes().length would happen to be applied to both halves of a surrogate pair individually (not immediately obvious to me it never will), it&#39;d also underestimate the the size of the UTF-8 representation of the pair as a whole, assuming the &quot;replacement byte array&quot; is a single byte. Third, the 4-byte UTF-8 code points all require a two-char surrogate pair in Java, so effectively the max is just 3 bytes per Java character.","body":"Doesn&#39;t look like this solution prevents a trailing half surrogate pair? Second, in case getBytes().length would happen to be applied to both halves of a surrogate pair individually (not immediately obvious to me it never will), it&#39;d also underestimate the the size of the UTF-8 representation of the pair as a whole, assuming the &quot;replacement byte array&quot; is a single byte. Third, the 4-byte UTF-8 code points all require a two-char surrogate pair in Java, so effectively the max is just 3 bytes per Java character."}],"tags":[],"owner":{"account_id":2310300,"reputation":21,"user_id":2028574,"display_name":"Nissim Avitan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359633409,"creation_date":1359626083,"answer_id":14622888,"question_id":3576754,"body_markdown":"As noted, Peter Lawrey solution has major performance disadvantage (~3,500msc for 10,000 times), Rex Kerr was much better (~500msc for 10,000 times) but the result not was accurate - it cut much more than it needed (instead of remaining 4000 bytes it remainds 3500 for some example). attached here my solution (~250msc for 10,000 times) assuming that UTF-8 max length char in bytes is 4 (thanks WikiPedia):\r\n\r\n\r\n    public static String cutWord (String word, int dbLimit) throws UnsupportedEncodingException{\r\n        double MAX_UTF8_CHAR_LENGTH = 4.0;\r\n        if(word.length()&gt;dbLimit){\r\n            word = word.substring(0, dbLimit);\r\n        }\r\n        if(word.length() &gt; dbLimit/MAX_UTF8_CHAR_LENGTH){\r\n            int residual=word.getBytes(&quot;UTF-8&quot;).length-dbLimit;\r\n            if(residual&gt;0){\r\n                int tempResidual = residual,start, end = word.length();\r\n                while(tempResidual &gt; 0){\r\n                    start = end-((int) Math.ceil((double)tempResidual/MAX_UTF8_CHAR_LENGTH));\r\n                    tempResidual = tempResidual - word.substring(start,end).getBytes(&quot;UTF-8&quot;).length;\r\n                    end=start;\r\n                }\r\n                word = word.substring(0, end);\r\n            }\r\n        }\r\n        return word;\r\n    }","title":"Truncating Strings by Bytes","body":"<p>As noted, Peter Lawrey solution has major performance disadvantage (~3,500msc for 10,000 times), Rex Kerr was much better (~500msc for 10,000 times) but the result not was accurate - it cut much more than it needed (instead of remaining 4000 bytes it remainds 3500 for some example). attached here my solution (~250msc for 10,000 times) assuming that UTF-8 max length char in bytes is 4 (thanks WikiPedia):</p>\n\n<pre><code>public static String cutWord (String word, int dbLimit) throws UnsupportedEncodingException{\n    double MAX_UTF8_CHAR_LENGTH = 4.0;\n    if(word.length()&gt;dbLimit){\n        word = word.substring(0, dbLimit);\n    }\n    if(word.length() &gt; dbLimit/MAX_UTF8_CHAR_LENGTH){\n        int residual=word.getBytes(\"UTF-8\").length-dbLimit;\n        if(residual&gt;0){\n            int tempResidual = residual,start, end = word.length();\n            while(tempResidual &gt; 0){\n                start = end-((int) Math.ceil((double)tempResidual/MAX_UTF8_CHAR_LENGTH));\n                tempResidual = tempResidual - word.substring(start,end).getBytes(\"UTF-8\").length;\n                end=start;\n            }\n            word = word.substring(0, end);\n        }\n    }\n    return word;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4773584,"reputation":91,"user_id":3857457,"display_name":"Martin Rust"},"score":0,"creation_date":1596116472,"post_id":16716895,"comment_id":111713073,"body_markdown":"When the MAX_LENGTH interrupts the byte array in the middle of a multi-byte sequence, then the resulting string ends with a &quot;?&quot;.\nExample:\n`s = &quot;&#228;&#228;&quot;;`\n`MAX_LENGTH = 3;`\nresult: `&quot;&#228;?&quot;`\n\nGiven the simplicity of this code, however maybe in some situations this might be an option.","body":"When the MAX_LENGTH interrupts the byte array in the middle of a multi-byte sequence, then the resulting string ends with a &quot;?&quot;. Example: <code>s = &quot;&#228;&#228;&quot;;</code> <code>MAX_LENGTH = 3;</code> result: <code>&quot;&#228;?&quot;</code>  Given the simplicity of this code, however maybe in some situations this might be an option."},{"owner":{"account_id":4773584,"reputation":91,"user_id":3857457,"display_name":"Martin Rust"},"score":0,"creation_date":1596116975,"post_id":16716895,"comment_id":111713366,"body_markdown":"correct my comment: `MAX_LENGTH = 5` (why does the solution use `MAX_LENGTH - 2`?)\n\nAlso note that as of Java 1.6, `&quot;UTF-8&quot;` should be replaced by `StandardCharsets.UTF_8`.","body":"correct my comment: <code>MAX_LENGTH = 5</code> (why does the solution use <code>MAX_LENGTH - 2</code>?)  Also note that as of Java 1.6, <code>&quot;UTF-8&quot;</code> should be replaced by <code>StandardCharsets.UTF_8</code>."}],"tags":[],"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596392432,"creation_date":1369319997,"answer_id":16716895,"question_id":3576754,"body_markdown":"```java\r\nString s = &quot;FOOBAR&quot;;\r\n\r\nint limit = 3;\r\ns = new String(s.getBytes(), 0, limit);\r\n```\r\n\r\nResult value of `s`:\r\n\r\n    FOO","title":"Truncating Strings by Bytes","body":"<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;FOOBAR&quot;;\n\nint limit = 3;\ns = new String(s.getBytes(), 0, limit);\n</code></pre>\n<p>Result value of <code>s</code>:</p>\n<pre><code>FOO\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11146,"reputation":6120,"user_id":21348,"accept_rate":67,"display_name":"asalamon74"},"score":0,"creation_date":1432029868,"post_id":17893381,"comment_id":48739756,"body_markdown":"You should also catch UnsupportedEncodingException at s.getBytes(&quot;UTF-8&quot;)","body":"You should also catch UnsupportedEncodingException at s.getBytes(&quot;UTF-8&quot;)"},{"owner":{"account_id":2258483,"reputation":51,"user_id":1989110,"display_name":"Zsolt Taskai"},"score":0,"creation_date":1440807921,"post_id":17893381,"comment_id":52441479,"body_markdown":"I don&#39;t see getBytes throwing anything.\nAlthough http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes%28java.lang.String%29 says &quot;The behavior of this method when this string cannot be encoded in the given charset is unspecified.&quot;","body":"I don&#39;t see getBytes throwing anything. Although <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes%28java.lang.String%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> says &quot;The behavior of this method when this string cannot be encoded in the given charset is unspecified.&quot;"},{"owner":{"account_id":11146,"reputation":6120,"user_id":21348,"accept_rate":67,"display_name":"asalamon74"},"score":1,"creation_date":1440873932,"post_id":17893381,"comment_id":52456617,"body_markdown":"The page you linked shows that it throws UnsupportedEncodingException: &quot;public byte[] getBytes(String charsetName)\n                throws UnsupportedEncodingException&quot;","body":"The page you linked shows that it throws UnsupportedEncodingException: &quot;public byte[] getBytes(String charsetName)                 throws UnsupportedEncodingException&quot;"},{"owner":{"account_id":2258483,"reputation":51,"user_id":1989110,"display_name":"Zsolt Taskai"},"score":0,"creation_date":1442532449,"post_id":17893381,"comment_id":53131569,"body_markdown":"Thanks! Strange, I don&#39;t know what version I used when I posted this solution 2 years ago. Updating the code above.","body":"Thanks! Strange, I don&#39;t know what version I used when I posted this solution 2 years ago. Updating the code above."},{"owner":{"account_id":146489,"reputation":774,"user_id":356965,"display_name":"Pikachu"},"score":0,"creation_date":1490376764,"post_id":17893381,"comment_id":73100937,"body_markdown":"Instead of providing the encoding name as a String you can use the Charset constants from StandardCharsets class because the String#getBytes(Charset charset) method does not throw UnsupportedEncodingException.","body":"Instead of providing the encoding name as a String you can use the Charset constants from StandardCharsets class because the String#getBytes(Charset charset) method does not throw UnsupportedEncodingException."}],"tags":[],"owner":{"account_id":2258483,"reputation":51,"user_id":1989110,"display_name":"Zsolt Taskai"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1442532530,"creation_date":1374888416,"answer_id":17893381,"question_id":3576754,"body_markdown":"I think Rex Kerr&#39;s solution has 2 bugs.\r\n\r\n - First, it will truncate to limit+1 if a non-ASCII character is just before the limit. Truncating &quot;123456789&#225;1&quot; will result in &quot;123456789&#225;&quot; which is represented in 11 characters in UTF-8.\r\n - Second, I think he misinterpreted the UTF standard. https://en.wikipedia.org/wiki/UTF-8#Description shows that a 110xxxxx at the beginning of a UTF sequence tells us that the representation is 2 characters long (as opposed to 3). That&#39;s the reason his implementation usually doesn&#39;t use up all available space (as Nissim Avitan noted).\r\n\r\nPlease find my corrected version below:\r\n\r\n    public String cut(String s, int charLimit) throws UnsupportedEncodingException {\r\n        byte[] utf8 = s.getBytes(&quot;UTF-8&quot;);\r\n        if (utf8.length &lt;= charLimit) {\r\n            return s;\r\n        }\r\n        int n16 = 0;\r\n        boolean extraLong = false;\r\n        int i = 0;\r\n        while (i &lt; charLimit) {\r\n            // Unicode characters above U+FFFF need 2 words in utf16\r\n            extraLong = ((utf8[i] &amp; 0xF0) == 0xF0);\r\n            if ((utf8[i] &amp; 0x80) == 0) {\r\n                i += 1;\r\n            } else {\r\n                int b = utf8[i];\r\n                while ((b &amp; 0x80) &gt; 0) {\r\n                    ++i;\r\n                    b = b &lt;&lt; 1;\r\n                }\r\n            }\r\n            if (i &lt;= charLimit) {\r\n                n16 += (extraLong) ? 2 : 1;\r\n            }\r\n        }\r\n        return s.substring(0, n16);\r\n    }\r\n\r\nI still thought this was far from effective. So if you don&#39;t really need the String representation of the result and the byte array will do, you can use this:\r\n\r\n\r\n    private byte[] cutToBytes(String s, int charLimit) throws UnsupportedEncodingException {\r\n        byte[] utf8 = s.getBytes(&quot;UTF-8&quot;);\r\n        if (utf8.length &lt;= charLimit) {\r\n            return utf8;\r\n        }\r\n        if ((utf8[charLimit] &amp; 0x80) == 0) {\r\n            // the limit doesn&#39;t cut an UTF-8 sequence\r\n            return Arrays.copyOf(utf8, charLimit);\r\n        }\r\n        int i = 0;\r\n        while ((utf8[charLimit-i-1] &amp; 0x80) &gt; 0 &amp;&amp; (utf8[charLimit-i-1] &amp; 0x40) == 0) {\r\n            ++i;\r\n        }\r\n        if ((utf8[charLimit-i-1] &amp; 0x80) &gt; 0) {\r\n            // we have to skip the starter UTF-8 byte\r\n            return Arrays.copyOf(utf8, charLimit-i-1);\r\n        } else {\r\n            // we passed all UTF-8 bytes\r\n            return Arrays.copyOf(utf8, charLimit-i);\r\n        }\r\n    }\r\n\r\nFunny thing is that with a realistic 20-500 byte limit they perform pretty much the same **IF** you create a string from the byte array again.\r\n\r\nPlease note that both methods assume a valid utf-8 input which is a valid assumption after using Java&#39;s getBytes() function.","title":"Truncating Strings by Bytes","body":"<p>I think Rex Kerr's solution has 2 bugs.</p>\n\n<ul>\n<li>First, it will truncate to limit+1 if a non-ASCII character is just before the limit. Truncating \"123456789á1\" will result in \"123456789á\" which is represented in 11 characters in UTF-8.</li>\n<li>Second, I think he misinterpreted the UTF standard. <a href=\"https://en.wikipedia.org/wiki/UTF-8#Description\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/UTF-8#Description</a> shows that a 110xxxxx at the beginning of a UTF sequence tells us that the representation is 2 characters long (as opposed to 3). That's the reason his implementation usually doesn't use up all available space (as Nissim Avitan noted).</li>\n</ul>\n\n<p>Please find my corrected version below:</p>\n\n<pre><code>public String cut(String s, int charLimit) throws UnsupportedEncodingException {\n    byte[] utf8 = s.getBytes(\"UTF-8\");\n    if (utf8.length &lt;= charLimit) {\n        return s;\n    }\n    int n16 = 0;\n    boolean extraLong = false;\n    int i = 0;\n    while (i &lt; charLimit) {\n        // Unicode characters above U+FFFF need 2 words in utf16\n        extraLong = ((utf8[i] &amp; 0xF0) == 0xF0);\n        if ((utf8[i] &amp; 0x80) == 0) {\n            i += 1;\n        } else {\n            int b = utf8[i];\n            while ((b &amp; 0x80) &gt; 0) {\n                ++i;\n                b = b &lt;&lt; 1;\n            }\n        }\n        if (i &lt;= charLimit) {\n            n16 += (extraLong) ? 2 : 1;\n        }\n    }\n    return s.substring(0, n16);\n}\n</code></pre>\n\n<p>I still thought this was far from effective. So if you don't really need the String representation of the result and the byte array will do, you can use this:</p>\n\n<pre><code>private byte[] cutToBytes(String s, int charLimit) throws UnsupportedEncodingException {\n    byte[] utf8 = s.getBytes(\"UTF-8\");\n    if (utf8.length &lt;= charLimit) {\n        return utf8;\n    }\n    if ((utf8[charLimit] &amp; 0x80) == 0) {\n        // the limit doesn't cut an UTF-8 sequence\n        return Arrays.copyOf(utf8, charLimit);\n    }\n    int i = 0;\n    while ((utf8[charLimit-i-1] &amp; 0x80) &gt; 0 &amp;&amp; (utf8[charLimit-i-1] &amp; 0x40) == 0) {\n        ++i;\n    }\n    if ((utf8[charLimit-i-1] &amp; 0x80) &gt; 0) {\n        // we have to skip the starter UTF-8 byte\n        return Arrays.copyOf(utf8, charLimit-i-1);\n    } else {\n        // we passed all UTF-8 bytes\n        return Arrays.copyOf(utf8, charLimit-i);\n    }\n}\n</code></pre>\n\n<p>Funny thing is that with a realistic 20-500 byte limit they perform pretty much the same <strong>IF</strong> you create a string from the byte array again.</p>\n\n<p>Please note that both methods assume a valid utf-8 input which is a valid assumption after using Java's getBytes() function.</p>\n"},{"tags":[],"owner":{"account_id":2844078,"reputation":50,"user_id":2442975,"display_name":"Сергей Сенько"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392327111,"creation_date":1383043169,"answer_id":19655846,"question_id":3576754,"body_markdown":"  This is my :\r\n\r\n    private static final int FIELD_MAX = 2000;\r\n    private static final Charset CHARSET =  Charset.forName(&quot;UTF-8&quot;); \r\n    \r\n    public String trancStatus(String status) {\r\n    \r\n        if (status != null &amp;&amp; (status.getBytes(CHARSET).length &gt; FIELD_MAX)) {\r\n            int maxLength = FIELD_MAX;\r\n    \r\n            int left = 0, right = status.length();\r\n            int index = 0, bytes = 0, sizeNextChar = 0;\r\n    \r\n            while (bytes != maxLength &amp;&amp; (bytes &gt; maxLength || (bytes + sizeNextChar &lt; maxLength))) {\r\n    \r\n                index = left + (right - left) / 2;\r\n    \r\n                bytes = status.substring(0, index).getBytes(CHARSET).length;\r\n                sizeNextChar = String.valueOf(status.charAt(index + 1)).getBytes(CHARSET).length;\r\n    \r\n                if (bytes &lt; maxLength) {\r\n                    left = index - 1;\r\n                } else {\r\n                    right = index + 1;\r\n                }\r\n            }\r\n    \r\n            return status.substring(0, index);\r\n    \r\n        } else {\r\n            return status;\r\n        }\r\n    }\r\n\r\n","title":"Truncating Strings by Bytes","body":"<p>This is my :</p>\n\n<pre><code>private static final int FIELD_MAX = 2000;\nprivate static final Charset CHARSET =  Charset.forName(\"UTF-8\"); \n\npublic String trancStatus(String status) {\n\n    if (status != null &amp;&amp; (status.getBytes(CHARSET).length &gt; FIELD_MAX)) {\n        int maxLength = FIELD_MAX;\n\n        int left = 0, right = status.length();\n        int index = 0, bytes = 0, sizeNextChar = 0;\n\n        while (bytes != maxLength &amp;&amp; (bytes &gt; maxLength || (bytes + sizeNextChar &lt; maxLength))) {\n\n            index = left + (right - left) / 2;\n\n            bytes = status.substring(0, index).getBytes(CHARSET).length;\n            sizeNextChar = String.valueOf(status.charAt(index + 1)).getBytes(CHARSET).length;\n\n            if (bytes &lt; maxLength) {\n                left = index - 1;\n            } else {\n                right = index + 1;\n            }\n        }\n\n        return status.substring(0, index);\n\n    } else {\n        return status;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3815237,"reputation":1,"user_id":3164753,"display_name":"Gokul Limbe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388999298,"creation_date":1388998329,"answer_id":20946197,"question_id":3576754,"body_markdown":"By using below Regular Expression also you can remove leading and trailing white space of double byte character.\r\n\r\n    stringtoConvert = stringtoConvert.replaceAll(&quot;^[\\\\s　]*&quot;, &quot;&quot;).replaceAll(&quot;[\\\\s　]*$&quot;, &quot;&quot;);","title":"Truncating Strings by Bytes","body":"<p>By using below Regular Expression also you can remove leading and trailing white space of double byte character.</p>\n\n<pre><code>stringtoConvert = stringtoConvert.replaceAll(\"^[\\\\s　]*\", \"\").replaceAll(\"[\\\\s　]*$\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093658,"reputation":608,"user_id":2938519,"display_name":"Sa&#250;l Mart&#237;nez Vidals"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423208005,"creation_date":1423203242,"answer_id":28359630,"question_id":3576754,"body_markdown":"This one could not be the more efficient solution but works\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static String substring(String s, int byteLimit) {\r\n        if (s.getBytes().length &lt;= byteLimit) {\r\n            return s;\r\n        }\r\n\r\n        int n = Math.min(byteLimit-1, s.length()-1);\r\n        do {\r\n            s = s.substring(0, n--);\r\n        } while (s.getBytes().length &gt; byteLimit);\r\n\r\n        return s;\r\n    }","title":"Truncating Strings by Bytes","body":"<p>This one could not be the more efficient solution but works\n</p>\n\n<pre><code>public static String substring(String s, int byteLimit) {\n    if (s.getBytes().length &lt;= byteLimit) {\n        return s;\n    }\n\n    int n = Math.min(byteLimit-1, s.length()-1);\n    do {\n        s = s.substring(0, n--);\n    } while (s.getBytes().length &gt; byteLimit);\n\n    return s;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1583917731,"post_id":31828274,"comment_id":107269686,"body_markdown":"Cutting at an arbitrary byte index may create invalid encoded data, as a single character may use multiple bytes (especially with UTF-8). Worse, with other encodings it might produce wrong valid characters, which are not ignored. You could easily avoid this by first allocating a `ByteBuffer` with the desired size, then use it with a `CharsetEncoder`, which will automatically encode only as many valid characters as fit into the buffer, then decode the buffer to a `String`. Similar approach, but without the bug and even more efficient, as it won’t encode character beyond the intended limit.","body":"Cutting at an arbitrary byte index may create invalid encoded data, as a single character may use multiple bytes (especially with UTF-8). Worse, with other encodings it might produce wrong valid characters, which are not ignored. You could easily avoid this by first allocating a <code>ByteBuffer</code> with the desired size, then use it with a <code>CharsetEncoder</code>, which will automatically encode only as many valid characters as fit into the buffer, then decode the buffer to a <code>String</code>. Similar approach, but without the bug and even more efficient, as it won’t encode character beyond the intended limit."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1583918052,"post_id":31828274,"comment_id":107269832,"body_markdown":"See [this answer](https://stackoverflow.com/a/21765851/2711488). It does even eliminate the decoding step.","body":"See <a href=\"https://stackoverflow.com/a/21765851/2711488\">this answer</a>. It does even eliminate the decoding step."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":0,"creation_date":1625559473,"post_id":31828274,"comment_id":120651590,"body_markdown":"@Holger My solution ignores truncated multibyte chars by `CodingErrorAction.IGNORE`. So it works fine. I am interested to see an example when it fails. However I agree, your solution looks neater and could be more performant.","body":"@Holger My solution ignores truncated multibyte chars by <code>CodingErrorAction.IGNORE</code>. So it works fine. I am interested to see an example when it fails. However I agree, your solution looks neater and could be more performant."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1625561438,"post_id":31828274,"comment_id":120652362,"body_markdown":"Yes, for UTF-8 using CodingErrorAction.IGNORE will do the right thing. But the OP said “I would rather be able to do this for different storage types aswell” and for other encodings, tearing multibyte sequences apart may result in valid (but wrong) characters.","body":"Yes, for UTF-8 using CodingErrorAction.IGNORE will do the right thing. But the OP said “I would rather be able to do this for different storage types aswell” and for other encodings, tearing multibyte sequences apart may result in valid (but wrong) characters."}],"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1438771362,"creation_date":1438766258,"answer_id":31828274,"question_id":3576754,"body_markdown":"The more sane solution is using decoder:\r\n\r\n    final Charset CHARSET = Charset.forName(&quot;UTF-8&quot;); // or any other charset\r\n    final byte[] bytes = inputString.getBytes(CHARSET);\r\n    final CharsetDecoder decoder = CHARSET.newDecoder();\r\n    decoder.onMalformedInput(CodingErrorAction.IGNORE);\r\n    decoder.reset();\r\n    final CharBuffer decoded = decoder.decode(ByteBuffer.wrap(bytes, 0, limit));\r\n    final String outputString = decoded.toString();\r\n","title":"Truncating Strings by Bytes","body":"<p>The more sane solution is using decoder:</p>\n\n<pre><code>final Charset CHARSET = Charset.forName(\"UTF-8\"); // or any other charset\nfinal byte[] bytes = inputString.getBytes(CHARSET);\nfinal CharsetDecoder decoder = CHARSET.newDecoder();\ndecoder.onMalformedInput(CodingErrorAction.IGNORE);\ndecoder.reset();\nfinal CharBuffer decoded = decoder.decode(ByteBuffer.wrap(bytes, 0, limit));\nfinal String outputString = decoded.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2994613,"reputation":7964,"user_id":2599133,"accept_rate":83,"display_name":"Hans Brende"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481358377,"creation_date":1481333268,"answer_id":41071240,"question_id":3576754,"body_markdown":"I&#39;ve improved upon Peter Lawrey&#39;s solution to accurately handle surrogate pairs. In addition, I optimized based on the fact that the maximum number of bytes per `char` in UTF-8 encoding is 3.\r\n\r\n    public static String substring(String text, int maxBytes) {\r\n\t    for (int i = 0, len = text.length(); (len - i) * 3 &gt; maxBytes;) {\r\n\t        int j = text.offsetByCodePoints(i, 1);\r\n\t        if ((maxBytes -= text.substring(i, j).getBytes(StandardCharsets.UTF_8).length) &lt; 0)  \r\n\t            return text.substring(0, i);\r\n\t        i = j;\r\n\t    }\r\n\t    return text;\r\n\t}","title":"Truncating Strings by Bytes","body":"<p>I've improved upon Peter Lawrey's solution to accurately handle surrogate pairs. In addition, I optimized based on the fact that the maximum number of bytes per <code>char</code> in UTF-8 encoding is 3.</p>\n\n<pre><code>public static String substring(String text, int maxBytes) {\n    for (int i = 0, len = text.length(); (len - i) * 3 &gt; maxBytes;) {\n        int j = text.offsetByCodePoints(i, 1);\n        if ((maxBytes -= text.substring(i, j).getBytes(StandardCharsets.UTF_8).length) &lt; 0)  \n            return text.substring(0, i);\n        i = j;\n    }\n    return text;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":132750,"reputation":2444,"user_id":333643,"display_name":"nafg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587580387,"creation_date":1587580387,"answer_id":61372551,"question_id":3576754,"body_markdown":"Binary search approach in scala:\r\n\r\n    private def bytes(s: String) = s.getBytes(&quot;UTF-8&quot;)\r\n\r\n    def truncateToByteLength(string: String, length: Int): String =\r\n      if (length &lt;= 0 || string.isEmpty) &quot;&quot;\r\n      else {\r\n        @tailrec\r\n        def loop(badLen: Int, goodLen: Int, good: String): String = {\r\n          assert(badLen &gt; goodLen, s&quot;&quot;&quot;badLen is $badLen but goodLen is $goodLen (&quot;$good&quot;)&quot;&quot;&quot;)\r\n          if (badLen == goodLen + 1) good\r\n          else {\r\n            val mid = goodLen + (badLen - goodLen) / 2\r\n            val midStr = string.take(mid)\r\n            if (bytes(midStr).length &gt; length)\r\n              loop(mid, goodLen, good)\r\n            else\r\n              loop(badLen, mid, midStr)\r\n          }\r\n        }\r\n\r\n        loop(string.length * 2, 0, &quot;&quot;)\r\n      }","title":"Truncating Strings by Bytes","body":"<p>Binary search approach in scala:</p>\n\n<pre><code>private def bytes(s: String) = s.getBytes(\"UTF-8\")\n\ndef truncateToByteLength(string: String, length: Int): String =\n  if (length &lt;= 0 || string.isEmpty) \"\"\n  else {\n    @tailrec\n    def loop(badLen: Int, goodLen: Int, good: String): String = {\n      assert(badLen &gt; goodLen, s\"\"\"badLen is $badLen but goodLen is $goodLen (\"$good\")\"\"\")\n      if (badLen == goodLen + 1) good\n      else {\n        val mid = goodLen + (badLen - goodLen) / 2\n        val midStr = string.take(mid)\n        if (bytes(midStr).length &gt; length)\n          loop(mid, goodLen, good)\n        else\n          loop(badLen, mid, midStr)\n      }\n    }\n\n    loop(string.length * 2, 0, \"\")\n  }\n</code></pre>\n"}],"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26734,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":3576835,"answer_count":12,"score":9,"last_activity_date":1677782460,"creation_date":1282837104,"question_id":3576754,"body_markdown":"I create the following for truncating a string in java to a new string with a given number of bytes. \r\n\r\n            String truncatedValue = &quot;&quot;;\r\n            String currentValue = string;\r\n            int pivotIndex = (int) Math.round(((double) string.length())/2);\r\n            while(!truncatedValue.equals(currentValue)){\r\n                currentValue = string.substring(0,pivotIndex);\r\n                byte[] bytes = null;\r\n                bytes = currentValue.getBytes(encoding);\r\n                if(bytes==null){\r\n                    return string;\r\n                }\r\n                int byteLength = bytes.length;\r\n                int newIndex =  (int) Math.round(((double) pivotIndex)/2);\r\n                if(byteLength &gt; maxBytesLength){\r\n                    pivotIndex = newIndex;\r\n                } else if(byteLength &lt; maxBytesLength){\r\n                    pivotIndex = pivotIndex + 1;\r\n                } else {\r\n                    truncatedValue = currentValue;\r\n                }\r\n            }\r\n            return truncatedValue;\r\n\r\n\r\n\r\nThis is the first thing that came to my mind, and I know I could improve on it. I saw another post that was asking a similar question there, but they were truncating Strings using the bytes instead of `String.substring`. I think I would rather use `String.substring` in my case. \r\n\r\n\r\nEDIT: I just removed the UTF8 reference because I would rather be able to do this for different storage types as well.","title":"Truncating Strings by Bytes","body":"<p>I create the following for truncating a string in java to a new string with a given number of bytes.</p>\n<pre><code>        String truncatedValue = &quot;&quot;;\n        String currentValue = string;\n        int pivotIndex = (int) Math.round(((double) string.length())/2);\n        while(!truncatedValue.equals(currentValue)){\n            currentValue = string.substring(0,pivotIndex);\n            byte[] bytes = null;\n            bytes = currentValue.getBytes(encoding);\n            if(bytes==null){\n                return string;\n            }\n            int byteLength = bytes.length;\n            int newIndex =  (int) Math.round(((double) pivotIndex)/2);\n            if(byteLength &gt; maxBytesLength){\n                pivotIndex = newIndex;\n            } else if(byteLength &lt; maxBytesLength){\n                pivotIndex = pivotIndex + 1;\n            } else {\n                truncatedValue = currentValue;\n            }\n        }\n        return truncatedValue;\n</code></pre>\n<p>This is the first thing that came to my mind, and I know I could improve on it. I saw another post that was asking a similar question there, but they were truncating Strings using the bytes instead of <code>String.substring</code>. I think I would rather use <code>String.substring</code> in my case.</p>\n<p>EDIT: I just removed the UTF8 reference because I would rather be able to do this for different storage types as well.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":19171582,"reputation":61,"user_id":14005220,"display_name":"Lucia Cerchie"},"score":0,"creation_date":1677764069,"post_id":75615104,"comment_id":133404656,"body_markdown":"It&#39;s a piece of configuration called `transaction.state.log.replication.factor`. I also found some examples of the configuration that affects it in use on GitHub in case those are helpful.\n\n\nhttps://github.com/search?l=Java%20Properties&amp;q=transaction.state.log.replication.factor&amp;type=Code","body":"It&#39;s a piece of configuration called <code>transaction.state.log.replication.factor</code>. I also found some examples of the configuration that affects it in use on GitHub in case those are helpful.   <a href=\"https://github.com/search?l=Java%20Properties&amp;q=transaction.state.log.replication.factor&amp;type=Code\" rel=\"nofollow noreferrer\">github.com/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677782498,"post_id":75615104,"comment_id":133410319,"body_markdown":"@LuciaCerchie Transactions are not what the question is asking about","body":"@LuciaCerchie Transactions are not what the question is asking about"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677782424,"creation_date":1677782424,"answer_id":75619610,"question_id":75615104,"body_markdown":"&gt; don&#39;t want to use any cli/ui utility for that, I want to use java\r\n\r\n`kafka-reassign-partitions.sh` **is a wrapper around (compiled) Java**. You can look at the source code for how it works, but this is the only way to increase replication factor since you must manually determine where to place the replicas. \r\n\r\n","title":"How to modify replication factor of a topic using Java API?","body":"<blockquote>\n<p>don't want to use any cli/ui utility for that, I want to use java</p>\n</blockquote>\n<p><code>kafka-reassign-partitions.sh</code> <strong>is a wrapper around (compiled) Java</strong>. You can look at the source code for how it works, but this is the only way to increase replication factor since you must manually determine where to place the replicas.</p>\n"}],"owner":{"account_id":245689,"reputation":12018,"user_id":519333,"accept_rate":91,"display_name":"simPod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677782424,"creation_date":1677758226,"question_id":75615104,"body_markdown":"I&#39;d like to modify a replication factor of Kafka topic. I tried looking into AdminClient but found no suitable method.\r\n\r\nI don&#39;t want to use any cli/ui utility for that, I want to use java.\r\n\r\nIs it possible?","title":"How to modify replication factor of a topic using Java API?","body":"<p>I'd like to modify a replication factor of Kafka topic. I tried looking into AdminClient but found no suitable method.</p>\n<p>I don't want to use any cli/ui utility for that, I want to use java.</p>\n<p>Is it possible?</p>\n"},{"tags":["java","jackson","deserialization","json-deserialization","jsonparser"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1677781105,"post_id":75619366,"comment_id":133409963,"body_markdown":"You pass the class you want to deserialize as parameter. Why don&#39;t you just use one of the many available JSON parsers? Is this for learning purposes?","body":"You pass the class you want to deserialize as parameter. Why don&#39;t you just use one of the many available JSON parsers? Is this for learning purposes?"},{"owner":{"account_id":1781050,"reputation":187,"user_id":1623801,"accept_rate":14,"display_name":"zepol"},"score":0,"creation_date":1677781520,"post_id":75619366,"comment_id":133410064,"body_markdown":"yes, I am exploring more of Jackson, the class pass as a parameter is the Type PrivateInstance but it could be really ABCEntity or XYZEntity ( both extend PrivateInstance) present in the Jackson, so I would like to have the right object, and both classes are really different, the parent only has the @JsonDeserialize annotation","body":"yes, I am exploring more of Jackson, the class pass as a parameter is the Type PrivateInstance but it could be really ABCEntity or XYZEntity ( both extend PrivateInstance) present in the Jackson, so I would like to have the right object, and both classes are really different, the parent only has the @JsonDeserialize annotation"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1677782023,"post_id":75619366,"comment_id":133410213,"body_markdown":"You need to pass the correct class you want to deserialize. There&#39;s no way the parser knows which subclass class you want from the JSON. Or you need to include this information in the JSON itself.","body":"You need to pass the correct class you want to deserialize. There&#39;s no way the parser knows which subclass class you want from the JSON. Or you need to include this information in the JSON itself."},{"owner":{"account_id":1781050,"reputation":187,"user_id":1623801,"accept_rate":14,"display_name":"zepol"},"score":0,"creation_date":1677782125,"post_id":75619366,"comment_id":133410235,"body_markdown":"Basically I am trying to deserialized a XML where the spec has &lt;choice&gt; so it can be really only one, I was trying this approach of a parent component, but maybe it&#39;s not a good idea","body":"Basically I am trying to deserialized a XML where the spec has &lt;choice&gt; so it can be really only one, I was trying this approach of a parent component, but maybe it&#39;s not a good idea"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1677782233,"post_id":75619366,"comment_id":133410257,"body_markdown":"Is the parent class abstract?","body":"Is the parent class abstract?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1677782272,"post_id":75619366,"comment_id":133410267,"body_markdown":"You may start begin with one class, if you get an JsonParseException then try the other class.","body":"You may start begin with one class, if you get an JsonParseException then try the other class."},{"owner":{"account_id":1781050,"reputation":187,"user_id":1623801,"accept_rate":14,"display_name":"zepol"},"score":0,"creation_date":1677782328,"post_id":75619366,"comment_id":133410285,"body_markdown":"yes, the parent class is abstract","body":"yes, the parent class is abstract"}],"owner":{"account_id":1781050,"reputation":187,"user_id":1623801,"accept_rate":14,"display_name":"zepol"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677782279,"creation_date":1677780872,"question_id":75619366,"body_markdown":"I have the following Deserializer:\r\n\r\n```\r\n@Override\r\n  public PrivateInstance deserialize(\r\n      final JsonParser jsonParser,\r\n      final DeserializationContext deserializationContext)\r\n      throws IOException\r\n  {\r\n    ObjectMapper mapper = (ObjectMapper) jsonParser.getCodec();\r\n    ObjectNode root = (ObjectNode) mapper.readTree(jsonParser);\r\n\r\n    Class&lt;? extends PrivateInstance&gt; instanceClass;\r\n\r\n    if (true) {\r\n      instanceClass = ABCEntity.class;\r\n    } else {\r\n      instanceClass = XYZEntity.class;\r\n    }\r\n    if (instanceClass == null) {\r\n      return null;\r\n    }\r\n\r\n    return mapper.readValue((DataInput) root, instanceClass);\r\n  }\r\n}\r\n```\r\n\r\nMy idea is to deserialize XML content where the schema definition has **choice** so it can be really one, but at the moment of deserializing I have no idea which one it is but I want to return the right one\r\n\r\nI need to return either of those objects depending on what&#39;s being parsed, I&#39;ve been trying to find the best way but nothing works, how can I know what the object being parsed is an instance of? ","title":"Jackson deserialization classes that can be different types from XSD choice","body":"<p>I have the following Deserializer:</p>\n<pre><code>@Override\n  public PrivateInstance deserialize(\n      final JsonParser jsonParser,\n      final DeserializationContext deserializationContext)\n      throws IOException\n  {\n    ObjectMapper mapper = (ObjectMapper) jsonParser.getCodec();\n    ObjectNode root = (ObjectNode) mapper.readTree(jsonParser);\n\n    Class&lt;? extends PrivateInstance&gt; instanceClass;\n\n    if (true) {\n      instanceClass = ABCEntity.class;\n    } else {\n      instanceClass = XYZEntity.class;\n    }\n    if (instanceClass == null) {\n      return null;\n    }\n\n    return mapper.readValue((DataInput) root, instanceClass);\n  }\n}\n</code></pre>\n<p>My idea is to deserialize XML content where the schema definition has <strong>choice</strong> so it can be really one, but at the moment of deserializing I have no idea which one it is but I want to return the right one</p>\n<p>I need to return either of those objects depending on what's being parsed, I've been trying to find the best way but nothing works, how can I know what the object being parsed is an instance of?</p>\n"},{"tags":["java","java-8","migration","java-11","tools.jar"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1622679156,"post_id":67810741,"comment_id":119864168,"body_markdown":"Get rid of `&lt;source&gt;1.11&lt;/source&gt; &lt;target&gt;1.11&lt;/target&gt;` under configuration of compiler plugin and try executing with `-X` flag to debug. To analyse dependencies  try using `jdeps`,","body":"Get rid of <code>&lt;source&gt;1.11&lt;&#47;source&gt; &lt;target&gt;1.11&lt;&#47;target&gt;</code> under configuration of compiler plugin and try executing with <code>-X</code> flag to debug. To analyse dependencies  try using <code>jdeps</code>,"}],"answers":[{"tags":[],"owner":{"account_id":1256567,"reputation":99,"user_id":7574723,"display_name":"Thomas Pliakas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622789591,"creation_date":1622789247,"answer_id":67832614,"question_id":67810741,"body_markdown":"based on your above config, it is expected to get the following error: \r\n\r\n&gt; Fatal error compiling: error: invalid target release: 1.11\r\n\r\n I would recommend το change the source and release targets to be settled `11` not `1.11`, see the example below. \r\n\r\n```\r\n &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;11&lt;/source&gt; \r\n            &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\nThen using `mvn dependency:tree` and `mvn dependency:analyze` and/or using `-X`option to debug it. ","title":"migrating from using jdk8 to jdk11, getting errors related to tools.jar","body":"<p>based on your above config, it is expected to get the following error:</p>\n<blockquote>\n<p>Fatal error compiling: error: invalid target release: 1.11</p>\n</blockquote>\n<p>I would recommend το change the source and release targets to be settled <code>11</code> not <code>1.11</code>, see the example below.</p>\n<pre><code> &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;11&lt;/source&gt; \n            &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>Then using <code>mvn dependency:tree</code> and <code>mvn dependency:analyze</code> and/or using <code>-X</code>option to debug it.</p>\n"},{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677782241,"creation_date":1677782241,"answer_id":75619576,"question_id":67810741,"body_markdown":"Sometimes if this error occurs in Maven, it will totally prevent it from running, so `dependency:tree` goal will also give this error.\r\n\r\nIn my case I was getting it because of an old odfdom dependency mentioned [here](https://github.com/jferard/fastods/issues/119) - if you are in a similar situation you could try disabling your dependencies and enabling them one by one to see if the error goes away and at least Maven runs correctly.","title":"migrating from using jdk8 to jdk11, getting errors related to tools.jar","body":"<p>Sometimes if this error occurs in Maven, it will totally prevent it from running, so <code>dependency:tree</code> goal will also give this error.</p>\n<p>In my case I was getting it because of an old odfdom dependency mentioned <a href=\"https://github.com/jferard/fastods/issues/119\" rel=\"nofollow noreferrer\">here</a> - if you are in a similar situation you could try disabling your dependencies and enabling them one by one to see if the error goes away and at least Maven runs correctly.</p>\n"}],"owner":{"account_id":19952628,"reputation":51,"user_id":14621954,"display_name":"jiii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677782241,"creation_date":1622659081,"question_id":67810741,"body_markdown":"I am migrating an project from jdk8 to jdk11. \r\nin my pom.xml file, i have put \r\n   \r\n\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n\r\nand \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.11&lt;/source&gt;\r\n            &lt;target&gt;1.11&lt;/target&gt;\r\n            &lt;release&gt;11&lt;/release&gt;\r\n            &lt;fork&gt;true&lt;/fork&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nafter running mvn clean install command, i am getting an error: Could not find artifact jdk.tools:tools:jar:1 at specified path /opt/jdk-11.0.9/../lib/tools.jar. I am aware that tools.jar is removed from jdk11. I am thinking some dependencies in my pom.xml are relying on the tools.jar, and I have not find a good solution to figure out what these dependencies are. Or It could be some other issues. \r\n","title":"migrating from using jdk8 to jdk11, getting errors related to tools.jar","body":"<p>I am migrating an project from jdk8 to jdk11.\nin my pom.xml file, i have put</p>\n<pre><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;java.version&gt;11&lt;/java.version&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.11&lt;/source&gt;\n        &lt;target&gt;1.11&lt;/target&gt;\n        &lt;release&gt;11&lt;/release&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>after running mvn clean install command, i am getting an error: Could not find artifact jdk.tools:tools:jar:1 at specified path /opt/jdk-11.0.9/../lib/tools.jar. I am aware that tools.jar is removed from jdk11. I am thinking some dependencies in my pom.xml are relying on the tools.jar, and I have not find a good solution to figure out what these dependencies are. Or It could be some other issues.</p>\n"},{"tags":["java","maven","war"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1660051521,"post_id":73292434,"comment_id":129437520,"body_markdown":"The jar file was created at that date, not when you built the war?","body":"The jar file was created at that date, not when you built the war?"},{"owner":{"account_id":6494580,"reputation":177,"user_id":5027575,"accept_rate":100,"display_name":"pouyan021"},"score":0,"creation_date":1660052517,"post_id":73292434,"comment_id":129437979,"body_markdown":"@Thorbj&#248;rnRavnAndersen, I also guess, but I couldn&#39;t find anything to be sure if it&#39;s the case. How come it puts the creation date as &quot;changed date&quot;?","body":"@Thorbj&#248;rnRavnAndersen, I also guess, but I couldn&#39;t find anything to be sure if it&#39;s the case. How come it puts the creation date as &quot;changed date&quot;?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1660053340,"post_id":73292434,"comment_id":129438316,"body_markdown":"How do you see this date?","body":"How do you see this date?"},{"owner":{"account_id":6494580,"reputation":177,"user_id":5027575,"accept_rate":100,"display_name":"pouyan021"},"score":0,"creation_date":1660053452,"post_id":73292434,"comment_id":129438366,"body_markdown":"@Thorbj&#248;rnRavnAndersen By executing `ll`","body":"@Thorbj&#248;rnRavnAndersen By executing <code>ll</code>"},{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1660057323,"post_id":73292434,"comment_id":129440015,"body_markdown":"Did the unexpected jar dates cause a problem?  Do the jar all have the version number specified in the pom.xml?","body":"Did the unexpected jar dates cause a problem?  Do the jar all have the version number specified in the pom.xml?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1660058338,"post_id":73292434,"comment_id":129440481,"body_markdown":"Compare the date with the one of the artifact under .m2","body":"Compare the date with the one of the artifact under .m2"},{"owner":{"account_id":6494580,"reputation":177,"user_id":5027575,"accept_rate":100,"display_name":"pouyan021"},"score":0,"creation_date":1660076251,"post_id":73292434,"comment_id":129446409,"body_markdown":"@devdanke No problem is caused, and the version is correct. I&#39;m just curious how the date of the content inside of an archive that is just generated fresh is different","body":"@devdanke No problem is caused, and the version is correct. I&#39;m just curious how the date of the content inside of an archive that is just generated fresh is different"}],"answers":[{"comments":[{"owner":{"account_id":6494580,"reputation":177,"user_id":5027575,"accept_rate":100,"display_name":"pouyan021"},"score":0,"creation_date":1660052813,"post_id":73292633,"comment_id":129438099,"body_markdown":"If I get it right. You mean there were already some jar files (required by other projects) existed on the cache, and thus it puts the date it downloaded it to .m2 as the &quot;changed date&quot;? Is there any document or stuff to support this hypothesis?","body":"If I get it right. You mean there were already some jar files (required by other projects) existed on the cache, and thus it puts the date it downloaded it to .m2 as the &quot;changed date&quot;? Is there any document or stuff to support this hypothesis?"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1660053660,"post_id":73292633,"comment_id":129438470,"body_markdown":"Quite hard to find exist document. You can test/experiment by your self. Change your time of your PC.","body":"Quite hard to find exist document. You can test/experiment by your self. Change your time of your PC."}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660051454,"creation_date":1660051454,"answer_id":73292633,"question_id":73292434,"body_markdown":"Case 1: Lib A depend on `foo-3.2.5.jar` . Your war depend on Lib A.\r\n\r\nCase 2: Your other project B what created on Jan 1st 2022, depend on `foo-3.2.5.jar`\r\n\r\nYour WAR depend on `foo-3.2.4.jar` , then you upgrade to `foo-3.2.5.jar` (it was exist)\r\n\r\nIf you want see something brand new, delete all in `.m2` directory. Clear maven cache https://www.baeldung.com/maven-clear-cache","title":"Jar files within a war archive have old changed date","body":"<p>Case 1: Lib A depend on <code>foo-3.2.5.jar</code> . Your war depend on Lib A.</p>\n<p>Case 2: Your other project B what created on Jan 1st 2022, depend on <code>foo-3.2.5.jar</code></p>\n<p>Your WAR depend on <code>foo-3.2.4.jar</code> , then you upgrade to <code>foo-3.2.5.jar</code> (it was exist)</p>\n<p>If you want see something brand new, delete all in <code>.m2</code> directory. Clear maven cache <a href=\"https://www.baeldung.com/maven-clear-cache\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-clear-cache</a></p>\n"}],"owner":{"account_id":6494580,"reputation":177,"user_id":5027575,"accept_rate":100,"display_name":"pouyan021"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73292633,"answer_count":1,"score":0,"last_activity_date":1677781877,"creation_date":1660050737,"question_id":73292434,"body_markdown":"After upgrading the version of dependencies inside the pom.xml file, the version of the jar files inside the lib folder is getting upgraded, but the `changed date` of these files is somewhat old. In contrast, the war file was generated just moments before. Any idea why this is happening? \r\nThis is happening while the war file is generated on a date way ahead of this one. \r\n\r\n[![Example][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/7q5dT.png","title":"Jar files within a war archive have old changed date","body":"<p>After upgrading the version of dependencies inside the pom.xml file, the version of the jar files inside the lib folder is getting upgraded, but the <code>changed date</code> of these files is somewhat old. In contrast, the war file was generated just moments before. Any idea why this is happening?\nThis is happening while the war file is generated on a date way ahead of this one.</p>\n<p><a href=\"https://i.stack.imgur.com/7q5dT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7q5dT.png\" alt=\"Example\" /></a></p>\n"},{"tags":["java","cdi","hk2"],"answers":[{"tags":[],"owner":{"account_id":3683657,"reputation":2364,"user_id":3067964,"display_name":"jwells131313"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677781827,"creation_date":1677781827,"answer_id":75619521,"question_id":75611330,"body_markdown":"HK2 isn&#39;t magic, and needs to know what your service bindings are.  I highly recommend using the automatic service population as described [here][1].\r\n\r\nYou can also manually bind classes or service descriptions into your main, which is difficult to maintain but does the job.\r\n\r\nFirstly, add @Service to your UserResources (only hk2 services can inject other hk2 services [there are exceptions]):\r\n\r\n    @Service\r\n    public class UserResource {\r\n        @Inject\r\n        private IUserService service;\r\n    \r\n        public List&lt;User&gt; getAllUsers() {\r\n            return service.getAllUsers();\r\n        }\r\n    }\r\n\r\nThen fix up your main by getting a ServiceLocator and populating it with your services.  Then get your UserResource FROM hk2 rather than newing it up yourself.  In the end hk2 is a lazy system meaning no service is created without you first asking for a service yourself [again, there are some exceptions to that rule]:\r\n\r\n    public class App {\r\n        public static void main(String[] args) {\r\n            ServiceLocator locator = ServiceLocatorFactory.getInstance().create(&quot;myServiceLocator&quot;);\r\n    \t    \r\n    \t    ServiceLocatorUtilities.addClasses(locator\r\n                 , UserService.class\r\n                 , UserResource.class);\r\n    \t    \r\n    \t    UserResource myUserResource = locator.getService(UserResource.class);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/glassfish-hk2/getting-started.html","title":"Service injection issue with HK2: why doesn&#39;t @Inject work despite @Contract on interface and @Service on implementation?","body":"<p>HK2 isn't magic, and needs to know what your service bindings are.  I highly recommend using the automatic service population as described <a href=\"https://eclipse-ee4j.github.io/glassfish-hk2/getting-started.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can also manually bind classes or service descriptions into your main, which is difficult to maintain but does the job.</p>\n<p>Firstly, add @Service to your UserResources (only hk2 services can inject other hk2 services [there are exceptions]):</p>\n<pre><code>@Service\npublic class UserResource {\n    @Inject\n    private IUserService service;\n\n    public List&lt;User&gt; getAllUsers() {\n        return service.getAllUsers();\n    }\n}\n</code></pre>\n<p>Then fix up your main by getting a ServiceLocator and populating it with your services.  Then get your UserResource FROM hk2 rather than newing it up yourself.  In the end hk2 is a lazy system meaning no service is created without you first asking for a service yourself [again, there are some exceptions to that rule]:</p>\n<pre><code>public class App {\n    public static void main(String[] args) {\n        ServiceLocator locator = ServiceLocatorFactory.getInstance().create(&quot;myServiceLocator&quot;);\n        \n        ServiceLocatorUtilities.addClasses(locator\n             , UserService.class\n             , UserResource.class);\n        \n        UserResource myUserResource = locator.getService(UserResource.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20955267,"reputation":63,"user_id":15395946,"display_name":"emerick biron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75619521,"answer_count":1,"score":0,"last_activity_date":1677781827,"creation_date":1677731249,"question_id":75611330,"body_markdown":"I am using the HK2 framework to manage my services, and I have annotated my service interface with @Contract and the service implementation with @Service. However, when I try to inject the service into my code using @Inject, it doesn&#39;t work. I receive an error indicating that the service was not found. Why is this happening? Have I missed something in the HK2 configuration or in my code? Thank you in advance for your help.\r\n\r\nMy dependencies:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hk2-utils&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hk2-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIUserService:\r\n```java\r\n@Contract\r\npublic interface IUserService {\r\n    List&lt;User&gt; getAllUsers();\r\n}\r\n```\r\n\r\nUserService:\r\n```java\r\n@Service\r\npublic class UserService implements IUserService {\r\n\r\n    @Override\r\n    public List&lt;User&gt; getAllUsers() {\r\n        User user1 =new User();\r\n        User user2 =new User();\r\n        User user3 =new User();\r\n        // ... setup users fields\r\n        return List.of(user1, user2, user3);\r\n    }\r\n}\r\n```\r\n\r\nUserResource:\r\n```java\r\npublic class UserResource {\r\n    @Inject\r\n    private IUserService service;\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return service.getAllUsers();\r\n    }\r\n}\r\n```\r\n\r\nApp:\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        UserResource userResource = new UserResource();\r\n        System.out.println(userResource.getAllUsers());\r\n    }\r\n}\r\n```","title":"Service injection issue with HK2: why doesn&#39;t @Inject work despite @Contract on interface and @Service on implementation?","body":"<p>I am using the HK2 framework to manage my services, and I have annotated my service interface with @Contract and the service implementation with @Service. However, when I try to inject the service into my code using @Inject, it doesn't work. I receive an error indicating that the service was not found. Why is this happening? Have I missed something in the HK2 configuration or in my code? Thank you in advance for your help.</p>\n<p>My dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n    &lt;artifactId&gt;hk2-utils&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n    &lt;artifactId&gt;hk2-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n    &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>IUserService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Contract\npublic interface IUserService {\n    List&lt;User&gt; getAllUsers();\n}\n</code></pre>\n<p>UserService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService implements IUserService {\n\n    @Override\n    public List&lt;User&gt; getAllUsers() {\n        User user1 =new User();\n        User user2 =new User();\n        User user3 =new User();\n        // ... setup users fields\n        return List.of(user1, user2, user3);\n    }\n}\n</code></pre>\n<p>UserResource:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserResource {\n    @Inject\n    private IUserService service;\n\n    public List&lt;User&gt; getAllUsers() {\n        return service.getAllUsers();\n    }\n}\n</code></pre>\n<p>App:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) {\n        UserResource userResource = new UserResource();\n        System.out.println(userResource.getAllUsers());\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","model-view-controller","web-applications"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1677782002,"post_id":75619518,"comment_id":133410206,"body_markdown":"There are two parts to this: (1) return the collection of epidemic values, and (2) render in a Chart.js graph.  The first one is the service; the second one is clearly part of the UI.  You need something that calls the service, gets the collection of epidemic values back as JSON that&#39;s parsed and loaded into the Chart.js template.  I&#39;d have the Spring Boot service return a ResponseEntity&lt;List&lt;Epidemic&gt;&gt;.  Your client can indicate that it wants application/json in the HTTP header when it makes the GET request for data.","body":"There are two parts to this: (1) return the collection of epidemic values, and (2) render in a Chart.js graph.  The first one is the service; the second one is clearly part of the UI.  You need something that calls the service, gets the collection of epidemic values back as JSON that&#39;s parsed and loaded into the Chart.js template.  I&#39;d have the Spring Boot service return a ResponseEntity&lt;List&lt;Epidemic&gt;&gt;.  Your client can indicate that it wants application/json in the HTTP header when it makes the GET request for data."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677782106,"post_id":75619518,"comment_id":133410231,"body_markdown":"Take care of java naming conventions. Variable names should start with lower case character","body":"Take care of java naming conventions. Variable names should start with lower case character"}],"owner":{"account_id":25533238,"reputation":13,"user_id":19320835,"display_name":"Crownen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677781821,"creation_date":1677781821,"question_id":75619518,"body_markdown":"I&#39;m currently having two problems with code:\r\nFirst the values that I enter in the input from the HTML go to the controller and get calculated but, I can&#39;t get them back to the HTML so it get shown in the Chart.js chart.\r\nThe second but less problematic problem is that I also only could make it work that the calculation is done in the controller and not in the service class.\r\n\r\nHTML-File \r\n``` \r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;Simulation-Epidemie&lt;/title&gt;\r\n\r\n    &lt;!-- Referierte Libaries f&#252;r individuellen Font --&gt;\r\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;\r\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;\r\n    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&amp;display=swap&quot;\r\n          rel=&quot;stylesheet&quot;&gt;\r\n\r\n    &lt;!-- Link zur CDN f&#252;r Graphen --&gt;\r\n    &lt;script\r\n            src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js&quot;&gt;\r\n    &lt;/script&gt;\r\n\r\n    &lt;!-- CSS f&#252;r Style der Webseite --&gt;\r\n    &lt;style&gt;\r\n\r\n        body {\r\n            font-family: &#39;Open Sans&#39;, sans-serif;\r\n            background-color: gainsboro;\r\n            padding-left: 100px;\r\n            padding-right: 100px;\r\n            text-align: center;\r\n        }\r\n\r\n        .header-image {\r\n            width: 100%;\r\n        }\r\n\r\n        .headline {\r\n            color: blue;\r\n            text-align: center;\r\n            font-weight: bold;\r\n        }\r\n\r\n        .image-container {\r\n            background-color: grey;\r\n            padding: 5px;\r\n        }\r\n\r\n        .body-text {\r\n            background-color: lightslategrey;\r\n            width: 1200px;\r\n            margin: auto;\r\n            text-align: center;\r\n\r\n        }\r\n\r\n        .simulation {\r\n            background-color: lightslategrey;\r\n            width: 1200px;\r\n            margin: auto;\r\n            margin-bottom: 50px;\r\n            text-align: center;\r\n\r\n        }\r\n\r\n        footer {\r\n            font-family: &#39;Open Sans&#39;, sans-serif;\r\n            text-align: center;\r\n            padding: 3px;\r\n            background-color: lightblue;\r\n            color: black;\r\n            width: 100%;\r\n        }\r\n    &lt;/style&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;!-- Body seperiert in verschiedene Container zur besseren &#220;bersicht und Funktionalit&#228;t --&gt;\r\n&lt;body&gt;\r\n&lt;!-- Banner an der oberen Seite der Webseite --&gt;\r\n&lt;div class=&quot;image-container&quot;&gt;\r\n    &lt;img class=&quot;header-image&quot; src=&quot;https://i.ibb.co/hVsJ6hq/Banner.png&quot; alt=&quot;&quot;&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- &#220;berschrift f&#252;r den Body --&gt;\r\n&lt;h1 class=&quot;headline&quot;&gt;\r\n    &lt;br&gt;Simulation einer Epidemie\r\n&lt;/h1&gt;\r\n\r\n&lt;!-- Text zur Erkl&#228;rung der Simulation --&gt;\r\n&lt;div class=&quot;body-text&quot;&gt;\r\n    &lt;br&gt; Die Webseite dient zur Simulation und Einsch&#228;tzung von Epidemien, bezogen auf einer infektionellen Krankheit\r\n    wie z.B. Viren.\r\n    &lt;br&gt;\r\n    &lt;br&gt; Bitte geben Sie in den folgenden Feldern die entsprechenden Daten f&#252;r die Simulation ein.\r\n\r\n    &lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n    &lt;!-- Inputs f&#252;r die &#220;bergabe der eingegebenen als Post an den Controller --&gt;\r\n    &lt;form action=&quot;eingabe&quot; method=&quot;post&quot;&gt;\r\n        &lt;label for=&quot;Population&quot;&gt;Gr&#246;&#223;e der Population: &lt;/label&gt;\r\n        &lt;input type=&quot;number&quot; name=&quot;N&quot;/&gt; &lt;br/&gt;\r\n\r\n        &lt;label for=&quot;Infektionsrate&quot;&gt;Infektionsrate durch Virus: &lt;/label&gt;\r\n        &lt;input type=&quot;number&quot; name=&quot;beta&quot; placeholder=&quot; &quot; step=&quot;0.01&quot; min=&quot;0&quot; max=&quot;1&quot;/&gt; &lt;br/&gt;\r\n\r\n        &lt;!--  &lt;label for=&quot;Tage&quot;&gt;Laufzeitdauer: &lt;/label&gt;\r\n          &lt;input type=&quot;number&quot; name=&quot;time&quot;/&gt; &lt;br/&gt; --&gt;\r\n\r\n          &lt;!-- Submit-Button zur Best&#228;tigung der Eingaben --&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n        &lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n\r\n\r\n    &lt;/form&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;div style=&quot;width:800px; margin:0 auto;&quot; class=&quot;Simulation&quot;&gt;\r\n    &lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n    &lt;!-- Canvas-tag zur Initialisierung einer Grafik, in dem Fall des Graphen --&gt;\r\n    &lt;canvas id=&quot;graph&quot; style=&quot;width:100%;max-width:600px&quot;&gt;&lt;/canvas&gt;\r\n    &lt;script&gt;\r\n        //&#220;bergebene Daten f&#252;r die X- und Y-Achse\r\n        var xValues = [50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150];\r\n        var yValues = fetch(&quot;data.json&quot;);\r\n\r\n\r\n        //Erstellung eines neuen Graphen\r\n        new Chart(&quot;graph&quot;, {\r\n            type: &quot;line&quot;,\r\n            data: {\r\n                labels: xValues,\r\n                datasets: [{\r\n                    fill: false,\r\n                    lineTension: 0,\r\n                    backgroundColor: &quot;rgba(0,0,255,1.0)&quot;,\r\n                    borderColor: &quot;rgba(0,0,255,0.1)&quot;,\r\n                    data: yValues\r\n                }]\r\n            },\r\n            //Einstellungen f&#252;r den Graphen f&#252;r Titel, Achsen-Titel, Tickrate und Farben\r\n            options: {\r\n                title: {\r\n                    display: true,\r\n                    text: &#39;Ergebniss Epidemie-Simulation:&#39;\r\n                },\r\n                legend: {display: false,},\r\n                scales: {\r\n                    yAxes: [{\r\n                        ticks: {min: 6, max: 16},\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: &#39;Infizierte&#39;\r\n                        }\r\n                    }],\r\n                    xAxes: [{\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: &#39;Tage&#39;\r\n                        }\r\n                    }]\r\n                }\r\n\r\n            }\r\n        });\r\n    &lt;/script&gt;\r\n    &lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;footer&gt;\r\n    &lt;p&gt;Entwickler: &lt;br&gt;\r\n        Projekt: Web-Anwendung&lt;/p&gt;\r\n&lt;/footer&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nController with calculation:\r\n```\r\npackage com.example.testepi3.contorller.contorller;\r\n\r\n\r\nimport com.example.testepi3.model.EpidemieM;\r\nimport com.example.testepi3.service.EpidemieMService;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n\r\nimport java.awt.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Controller\r\n\r\npublic class IndexController {\r\n    // This method handles HTTP GET requests for the index page and returns the &quot;index&quot; view.\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index() {\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    // This method handles HTTP POST requests for simulating an epidemic using the input parameters, and returns the &quot;index&quot; view.\r\n    @PostMapping(&quot;/eingabe&quot;)\r\n    public String simulateEpidemic(@ModelAttribute EpidemieM epidemic) {\r\n\r\n        List&lt;Integer&gt; S = new ArrayList&lt;&gt;();\r\n        List&lt;Double&gt; I = new ArrayList&lt;&gt;();\r\n        List&lt;Double&gt; R = new ArrayList&lt;&gt;();\r\n        double[][] result = new double[3][epidemic.getTime() + 1];\r\n\r\n\r\n        I.add(epidemic.getN()*epidemic.getBeta());\r\n        R.add(0.0);\r\n        S.add((int) (epidemic.getN()-epidemic.getN()*epidemic.getBeta()));\r\n\r\n        for (int i = 1; i &lt; epidemic.getTime(); i++) {\r\n            double dS = (epidemic.getBeta() * S.get(i - 1) * I.get(i - 1) / epidemic.getN());\r\n            double newS = (S.get(i - 1) - dS);\r\n            double newI = (I.get(i - 1) + dS - epidemic.getGamma() * I.get(i - 1));\r\n            double newR = (R.get(i - 1) + epidemic.getGamma() * I.get(i - 1));\r\n            S.add((int) newS);\r\n            I.add((newI));\r\n            R.add(newR);\r\n        }\r\n\r\n        for (int i = 0; i &lt; epidemic.getTime(); i++) {\r\n            System.out.println(&quot;Bev&#195;&#182;lkerung: &quot; + S.get(i) + &quot;\\n&quot;);\r\n            System.out.println(&quot;Infiziert: &quot; +I.get(i)  + &quot;\\n&quot;);\r\n            System.out.println(&quot;Genesen: &quot; + R.get(i) + &quot;\\n&quot;);\r\n\r\n        }\r\n\r\n\r\n\r\n        // Return the &quot;index&quot; view.\r\n        return &quot;index&quot;;\r\n\r\n\r\n\r\n\r\n}}\r\n```\r\n\r\nModel with attributes:\r\n```\r\npackage com.example.testepi3.model;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class EpidemieM {\r\n    // The number of times to simulate the epidemic (default value: 24).\r\n    private int time = 24;\r\n    // The size of the population.\r\n    private int N;\r\n    // The infection rate.\r\n    private double beta;\r\n    // The recovery time (in days).\r\n    private double gamma = 0.14;\r\n    // The number of susceptible individuals at each time step.\r\n    List&lt;Integer&gt; S;\r\n    // The number of infected individuals at each time step.\r\n    List&lt;Double&gt; I;\r\n    // The number of recovered individuals at each time step.\r\n    List&lt;Double&gt; R ;\r\n\r\n\r\n    // Getter and setter methods for the properties.\r\n    public int getTime() {\r\n        return time;\r\n    }\r\n\r\n    public void setTime(int time) {\r\n        this.time = time;\r\n    }\r\n\r\n    public int getN() {\r\n        return N;\r\n    }\r\n\r\n    public void setN(int n) {\r\n        N = n;\r\n    }\r\n\r\n    public double getBeta() {\r\n        return beta;\r\n    }\r\n\r\n    public void setBeta(double beta) {\r\n        this.beta = beta;\r\n    }\r\n\r\n    public double getGamma() {\r\n        return gamma;\r\n    }\r\n\r\n    public void setGamma(double gamma) {\r\n        this.gamma = gamma;\r\n    }\r\n\r\n    public List&lt;Integer&gt; getS() {\r\n        return S;\r\n    }\r\n\r\n    public void setS(List&lt;Integer&gt; s) {\r\n        S = s;\r\n    }\r\n\r\n    public List&lt;Double&gt; getI() {\r\n        return I;\r\n    }\r\n\r\n    public void setI(List&lt;Double&gt; i) {\r\n        I = i;\r\n    }\r\n\r\n    public List&lt;Double&gt; getR() {\r\n        return R;\r\n    }\r\n\r\n    public void setR(List&lt;Double&gt; r) {\r\n        R = r;\r\n    }\r\n\r\n    // This method returns a string representation of the EpidemieM object.\r\n    @Override\r\n    public String toString() {\r\n        return &quot;EpidemieM{&quot; +\r\n                &quot;time=&quot; + time +\r\n                &quot;, N=&quot; + N +\r\n                &quot;, beta=&quot; + beta +\r\n                &quot;, gamma=&quot; + gamma +\r\n                &quot;, S=&quot; + S +\r\n                &quot;, I=&quot; + I +\r\n                &quot;, R=&quot; + R +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nThe code should calculate the course of a epidemic and show the results in a Chart.js graph.\r\nCan someone help me?","title":"Return values from a controller to a HTML file in Spring Boot","body":"<p>I'm currently having two problems with code:\nFirst the values that I enter in the input from the HTML go to the controller and get calculated but, I can't get them back to the HTML so it get shown in the Chart.js chart.\nThe second but less problematic problem is that I also only could make it work that the calculation is done in the controller and not in the service class.</p>\n<p>HTML-File</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;Simulation-Epidemie&lt;/title&gt;\n\n    &lt;!-- Referierte Libaries für individuellen Font --&gt;\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;\n    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&amp;display=swap&quot;\n          rel=&quot;stylesheet&quot;&gt;\n\n    &lt;!-- Link zur CDN für Graphen --&gt;\n    &lt;script\n            src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js&quot;&gt;\n    &lt;/script&gt;\n\n    &lt;!-- CSS für Style der Webseite --&gt;\n    &lt;style&gt;\n\n        body {\n            font-family: 'Open Sans', sans-serif;\n            background-color: gainsboro;\n            padding-left: 100px;\n            padding-right: 100px;\n            text-align: center;\n        }\n\n        .header-image {\n            width: 100%;\n        }\n\n        .headline {\n            color: blue;\n            text-align: center;\n            font-weight: bold;\n        }\n\n        .image-container {\n            background-color: grey;\n            padding: 5px;\n        }\n\n        .body-text {\n            background-color: lightslategrey;\n            width: 1200px;\n            margin: auto;\n            text-align: center;\n\n        }\n\n        .simulation {\n            background-color: lightslategrey;\n            width: 1200px;\n            margin: auto;\n            margin-bottom: 50px;\n            text-align: center;\n\n        }\n\n        footer {\n            font-family: 'Open Sans', sans-serif;\n            text-align: center;\n            padding: 3px;\n            background-color: lightblue;\n            color: black;\n            width: 100%;\n        }\n    &lt;/style&gt;\n\n&lt;/head&gt;\n&lt;!-- Body seperiert in verschiedene Container zur besseren Übersicht und Funktionalität --&gt;\n&lt;body&gt;\n&lt;!-- Banner an der oberen Seite der Webseite --&gt;\n&lt;div class=&quot;image-container&quot;&gt;\n    &lt;img class=&quot;header-image&quot; src=&quot;https://i.ibb.co/hVsJ6hq/Banner.png&quot; alt=&quot;&quot;&gt;\n&lt;/div&gt;\n\n&lt;!-- Überschrift für den Body --&gt;\n&lt;h1 class=&quot;headline&quot;&gt;\n    &lt;br&gt;Simulation einer Epidemie\n&lt;/h1&gt;\n\n&lt;!-- Text zur Erklärung der Simulation --&gt;\n&lt;div class=&quot;body-text&quot;&gt;\n    &lt;br&gt; Die Webseite dient zur Simulation und Einschätzung von Epidemien, bezogen auf einer infektionellen Krankheit\n    wie z.B. Viren.\n    &lt;br&gt;\n    &lt;br&gt; Bitte geben Sie in den folgenden Feldern die entsprechenden Daten für die Simulation ein.\n\n    &lt;br&gt;&lt;br&gt;&lt;br&gt;\n    &lt;!-- Inputs für die Übergabe der eingegebenen als Post an den Controller --&gt;\n    &lt;form action=&quot;eingabe&quot; method=&quot;post&quot;&gt;\n        &lt;label for=&quot;Population&quot;&gt;Größe der Population: &lt;/label&gt;\n        &lt;input type=&quot;number&quot; name=&quot;N&quot;/&gt; &lt;br/&gt;\n\n        &lt;label for=&quot;Infektionsrate&quot;&gt;Infektionsrate durch Virus: &lt;/label&gt;\n        &lt;input type=&quot;number&quot; name=&quot;beta&quot; placeholder=&quot; &quot; step=&quot;0.01&quot; min=&quot;0&quot; max=&quot;1&quot;/&gt; &lt;br/&gt;\n\n        &lt;!--  &lt;label for=&quot;Tage&quot;&gt;Laufzeitdauer: &lt;/label&gt;\n          &lt;input type=&quot;number&quot; name=&quot;time&quot;/&gt; &lt;br/&gt; --&gt;\n\n          &lt;!-- Submit-Button zur Bestätigung der Eingaben --&gt;\n        &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n        &lt;br&gt;&lt;br&gt;&lt;br&gt;\n\n\n    &lt;/form&gt;\n\n&lt;/div&gt;\n\n&lt;div style=&quot;width:800px; margin:0 auto;&quot; class=&quot;Simulation&quot;&gt;\n    &lt;br&gt;&lt;br&gt;&lt;br&gt;\n    &lt;!-- Canvas-tag zur Initialisierung einer Grafik, in dem Fall des Graphen --&gt;\n    &lt;canvas id=&quot;graph&quot; style=&quot;width:100%;max-width:600px&quot;&gt;&lt;/canvas&gt;\n    &lt;script&gt;\n        //Übergebene Daten für die X- und Y-Achse\n        var xValues = [50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150];\n        var yValues = fetch(&quot;data.json&quot;);\n\n\n        //Erstellung eines neuen Graphen\n        new Chart(&quot;graph&quot;, {\n            type: &quot;line&quot;,\n            data: {\n                labels: xValues,\n                datasets: [{\n                    fill: false,\n                    lineTension: 0,\n                    backgroundColor: &quot;rgba(0,0,255,1.0)&quot;,\n                    borderColor: &quot;rgba(0,0,255,0.1)&quot;,\n                    data: yValues\n                }]\n            },\n            //Einstellungen für den Graphen für Titel, Achsen-Titel, Tickrate und Farben\n            options: {\n                title: {\n                    display: true,\n                    text: 'Ergebniss Epidemie-Simulation:'\n                },\n                legend: {display: false,},\n                scales: {\n                    yAxes: [{\n                        ticks: {min: 6, max: 16},\n                        scaleLabel: {\n                            display: true,\n                            labelString: 'Infizierte'\n                        }\n                    }],\n                    xAxes: [{\n                        scaleLabel: {\n                            display: true,\n                            labelString: 'Tage'\n                        }\n                    }]\n                }\n\n            }\n        });\n    &lt;/script&gt;\n    &lt;br&gt;&lt;br&gt;&lt;br&gt;\n\n&lt;/div&gt;\n\n&lt;footer&gt;\n    &lt;p&gt;Entwickler: &lt;br&gt;\n        Projekt: Web-Anwendung&lt;/p&gt;\n&lt;/footer&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>Controller with calculation:</p>\n<pre><code>package com.example.testepi3.contorller.contorller;\n\n\nimport com.example.testepi3.model.EpidemieM;\nimport com.example.testepi3.service.EpidemieMService;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n\nimport java.awt.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Controller\n\npublic class IndexController {\n    // This method handles HTTP GET requests for the index page and returns the &quot;index&quot; view.\n    @GetMapping(&quot;/&quot;)\n    public String index() {\n        return &quot;index&quot;;\n    }\n\n    // This method handles HTTP POST requests for simulating an epidemic using the input parameters, and returns the &quot;index&quot; view.\n    @PostMapping(&quot;/eingabe&quot;)\n    public String simulateEpidemic(@ModelAttribute EpidemieM epidemic) {\n\n        List&lt;Integer&gt; S = new ArrayList&lt;&gt;();\n        List&lt;Double&gt; I = new ArrayList&lt;&gt;();\n        List&lt;Double&gt; R = new ArrayList&lt;&gt;();\n        double[][] result = new double[3][epidemic.getTime() + 1];\n\n\n        I.add(epidemic.getN()*epidemic.getBeta());\n        R.add(0.0);\n        S.add((int) (epidemic.getN()-epidemic.getN()*epidemic.getBeta()));\n\n        for (int i = 1; i &lt; epidemic.getTime(); i++) {\n            double dS = (epidemic.getBeta() * S.get(i - 1) * I.get(i - 1) / epidemic.getN());\n            double newS = (S.get(i - 1) - dS);\n            double newI = (I.get(i - 1) + dS - epidemic.getGamma() * I.get(i - 1));\n            double newR = (R.get(i - 1) + epidemic.getGamma() * I.get(i - 1));\n            S.add((int) newS);\n            I.add((newI));\n            R.add(newR);\n        }\n\n        for (int i = 0; i &lt; epidemic.getTime(); i++) {\n            System.out.println(&quot;BevÃ¶lkerung: &quot; + S.get(i) + &quot;\\n&quot;);\n            System.out.println(&quot;Infiziert: &quot; +I.get(i)  + &quot;\\n&quot;);\n            System.out.println(&quot;Genesen: &quot; + R.get(i) + &quot;\\n&quot;);\n\n        }\n\n\n\n        // Return the &quot;index&quot; view.\n        return &quot;index&quot;;\n\n\n\n\n}}\n</code></pre>\n<p>Model with attributes:</p>\n<pre><code>package com.example.testepi3.model;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class EpidemieM {\n    // The number of times to simulate the epidemic (default value: 24).\n    private int time = 24;\n    // The size of the population.\n    private int N;\n    // The infection rate.\n    private double beta;\n    // The recovery time (in days).\n    private double gamma = 0.14;\n    // The number of susceptible individuals at each time step.\n    List&lt;Integer&gt; S;\n    // The number of infected individuals at each time step.\n    List&lt;Double&gt; I;\n    // The number of recovered individuals at each time step.\n    List&lt;Double&gt; R ;\n\n\n    // Getter and setter methods for the properties.\n    public int getTime() {\n        return time;\n    }\n\n    public void setTime(int time) {\n        this.time = time;\n    }\n\n    public int getN() {\n        return N;\n    }\n\n    public void setN(int n) {\n        N = n;\n    }\n\n    public double getBeta() {\n        return beta;\n    }\n\n    public void setBeta(double beta) {\n        this.beta = beta;\n    }\n\n    public double getGamma() {\n        return gamma;\n    }\n\n    public void setGamma(double gamma) {\n        this.gamma = gamma;\n    }\n\n    public List&lt;Integer&gt; getS() {\n        return S;\n    }\n\n    public void setS(List&lt;Integer&gt; s) {\n        S = s;\n    }\n\n    public List&lt;Double&gt; getI() {\n        return I;\n    }\n\n    public void setI(List&lt;Double&gt; i) {\n        I = i;\n    }\n\n    public List&lt;Double&gt; getR() {\n        return R;\n    }\n\n    public void setR(List&lt;Double&gt; r) {\n        R = r;\n    }\n\n    // This method returns a string representation of the EpidemieM object.\n    @Override\n    public String toString() {\n        return &quot;EpidemieM{&quot; +\n                &quot;time=&quot; + time +\n                &quot;, N=&quot; + N +\n                &quot;, beta=&quot; + beta +\n                &quot;, gamma=&quot; + gamma +\n                &quot;, S=&quot; + S +\n                &quot;, I=&quot; + I +\n                &quot;, R=&quot; + R +\n                '}';\n    }\n}\n</code></pre>\n<p>The code should calculate the course of a epidemic and show the results in a Chart.js graph.\nCan someone help me?</p>\n"},{"tags":["java","gradle","protocol-buffers","protoc"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1674767322,"post_id":75214200,"comment_id":132789492,"body_markdown":"Could you add a `Delete` task to run after the generate task to clean up the build folder...?  `tasks.generateProtos.finalizedBy tasks.cleanUpBuildProtos` ?","body":"Could you add a <code>Delete</code> task to run after the generate task to clean up the build folder...?  <code>tasks.generateProtos.finalizedBy tasks.cleanUpBuildProtos</code> ?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674897787,"post_id":75252760,"comment_id":132815047,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75252760/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25649504,"reputation":144,"user_id":19417003,"display_name":"Larry Safran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674776435,"creation_date":1674776435,"answer_id":75252760,"question_id":75214200,"body_markdown":"generatedFilesBaseDir just causes a copy to be made, so this is working as intended.  Gradle needs the generated files to be in the build directory to identify whether or not to rebuild them.","title":"How to prevent generated Java Protobuf files to be created in the build directory?","body":"<p>generatedFilesBaseDir just causes a copy to be made, so this is working as intended.  Gradle needs the generated files to be in the build directory to identify whether or not to rebuild them.</p>\n"}],"owner":{"account_id":21260394,"reputation":5,"user_id":15641225,"display_name":"aaa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677781776,"creation_date":1674502328,"question_id":75214200,"body_markdown":"Currently I have my build.gradle being specified to generate the Java Protobuf files to a specific directory :\r\n\r\n    sourceSets {\r\n\tmain {\r\n\t\tproto {\r\n\t\t\tsrcDir(&quot;src/main/java/proto&quot;)\r\n\t\t}\r\n\t}\r\n \r\n    protobuf {\r\n\t  protoc { artifact = &quot;com.google.protobuf:protoc:$protocVersion&quot; }\r\n\t    plugins {\r\n\t\t  grpc {\r\n\t\t\tartifact = &quot;io.grpc:protoc-gen-grpc-java:$grpcVersion&quot;\r\n\t\t }\r\n\t   }\r\n\t  generateProtoTasks {\r\n\t\tofSourceSet(&quot;main&quot;).forEach {\r\n\t\t\tit.plugins {\r\n\t\t\t\tgrpc\r\n\t\t\t}\r\n\t\t }\r\n\t  }\r\n\r\n\t  generatedFilesBaseDir = &quot;src/main/java/proto&quot;\r\n    }\r\n\r\nHowever it continues to be generated in my gradle build directory, which is then causing issues because the generated Java Protobuf files sees the files in the build directory and views it as a duplicates. Is there any way to prevent it from being generated in the build directory and only having the Java Protobuf files generated in the directory I specify it to generate to?","title":"How to prevent generated Java Protobuf files to be created in the build directory?","body":"<p>Currently I have my build.gradle being specified to generate the Java Protobuf files to a specific directory :</p>\n<pre><code>sourceSets {\nmain {\n    proto {\n        srcDir(&quot;src/main/java/proto&quot;)\n    }\n}\n\nprotobuf {\n  protoc { artifact = &quot;com.google.protobuf:protoc:$protocVersion&quot; }\n    plugins {\n      grpc {\n        artifact = &quot;io.grpc:protoc-gen-grpc-java:$grpcVersion&quot;\n     }\n   }\n  generateProtoTasks {\n    ofSourceSet(&quot;main&quot;).forEach {\n        it.plugins {\n            grpc\n        }\n     }\n  }\n\n  generatedFilesBaseDir = &quot;src/main/java/proto&quot;\n}\n</code></pre>\n<p>However it continues to be generated in my gradle build directory, which is then causing issues because the generated Java Protobuf files sees the files in the build directory and views it as a duplicates. Is there any way to prevent it from being generated in the build directory and only having the Java Protobuf files generated in the directory I specify it to generate to?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","windowbuilder","palette"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1645727940,"post_id":71256483,"comment_id":125954614,"body_markdown":"Does the following help: https://stackoverflow.com/a/67430120/6505250","body":"Does the following help: <a href=\"https://stackoverflow.com/a/67430120/6505250\">stackoverflow.com/a/67430120/6505250</a>"},{"owner":{"account_id":23610428,"reputation":13,"user_id":17645530,"display_name":"Ayush Nobeen"},"score":0,"creation_date":1645780402,"post_id":71256483,"comment_id":125966409,"body_markdown":"@howlger nope, still not working","body":"@howlger nope, still not working"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1645868527,"post_id":71256483,"comment_id":125987644,"body_markdown":"At least it should help to improve your question: What is the exact version of the WindowBuilder you installed in which version of Eclipse? What is the content of the .java file you opened with WindowBuilder? Is the .java file located in a source folder, is it free of compile errors and the project free of build errors? Do you have a `module-info.java` file and if so, with what content? Unfortunately, you cropped your screenshot, so it&#39;s not possible to see it from that either.","body":"At least it should help to improve your question: What is the exact version of the WindowBuilder you installed in which version of Eclipse? What is the content of the .java file you opened with WindowBuilder? Is the .java file located in a source folder, is it free of compile errors and the project free of build errors? Do you have a <code>module-info.java</code> file and if so, with what content? Unfortunately, you cropped your screenshot, so it&#39;s not possible to see it from that either."}],"owner":{"account_id":23610428,"reputation":13,"user_id":17645530,"display_name":"Ayush Nobeen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677781714,"creation_date":1645726562,"question_id":71256483,"body_markdown":"My palette is not showing any widgets on eclipse.\r\nI installed the latest window builder software but still no sign of any widget.\r\n\r\nI found this similar issue on stack overflow--&gt; https://stackoverflow.com/questions/15963082/eclipse-juno-windowbuilder-palette-is-empty\r\nBut I still can&#39;t understand how to fix it.\r\nCan someone help me fix this.\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![Click here to see how my palette looks like][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZVJwf.jpg","title":"Palette is blank on eclipse","body":"<p>My palette is not showing any widgets on eclipse.\nI installed the latest window builder software but still no sign of any widget.</p>\n<p>I found this similar issue on stack overflow--&gt; <a href=\"https://stackoverflow.com/questions/15963082/eclipse-juno-windowbuilder-palette-is-empty\">Eclipse Juno WindowBuilder Palette is Empty</a>\nBut I still can't understand how to fix it.\nCan someone help me fix this.</p>\n<p><a href=\"https://i.stack.imgur.com/ZVJwf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZVJwf.jpg\" alt=\"Click here to see how my palette looks like\" /></a></p>\n"},{"tags":["java","email","smtp"],"answers":[{"comments":[{"owner":{"account_id":3285356,"reputation":393,"user_id":2765011,"accept_rate":0,"display_name":"hardy_sandy"},"score":0,"creation_date":1411204942,"post_id":25947194,"comment_id":40622218,"body_markdown":"Thanks for your reply. I did used your example for smtp authentication. I am getting same exception when I execute the program on Amazon Server. Things are working fine when same program runs on Windows machine.","body":"Thanks for your reply. I did used your example for smtp authentication. I am getting same exception when I execute the program on Amazon Server. Things are working fine when same program runs on Windows machine."},{"owner":{"account_id":5031641,"reputation":3025,"user_id":4041633,"accept_rate":100,"display_name":"Thomas Stets"},"score":0,"creation_date":1411205350,"post_id":25947194,"comment_id":40622293,"body_markdown":"@hardy_sandy Well, for some reason the mail server won&#39;t allow you to relay mails. Who owns the server? Your ISP? Do they have a policy not to accept relay requests from outside their network?","body":"@hardy_sandy Well, for some reason the mail server won&#39;t allow you to relay mails. Who owns the server? Your ISP? Do they have a policy not to accept relay requests from outside their network?"},{"owner":{"account_id":3285356,"reputation":393,"user_id":2765011,"accept_rate":0,"display_name":"hardy_sandy"},"score":0,"creation_date":1411208914,"post_id":25947194,"comment_id":40623043,"body_markdown":"it&#39;s  amail server from godaddy. But how come relays mails are working from Windows machine.","body":"it&#39;s  amail server from godaddy. But how come relays mails are working from Windows machine."}],"tags":[],"owner":{"account_id":5031641,"reputation":3025,"user_id":4041633,"accept_rate":100,"display_name":"Thomas Stets"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411204379,"creation_date":1411204379,"answer_id":25947194,"question_id":25947070,"body_markdown":"It seems you are trying to use the server smtpout.secureserver.net to send mail to an address not hosted by that server, asking the server to relay that mail.\r\n\r\nSince services like that are used by spammers to hide behind, nearly all servers block this, unless the server knows you, either because you are in his network (which you are not), or because you authenticate yourself.\r\n\r\nI don&#39;t know why it worked with your windows machine. Maybe you were in the local network of that server, maybe the server is run by your ISP.\r\n\r\nHere is an example on how to use smtp authentication: http://www.rgagnon.com/javadetails/java-0538.html\r\n\r\nOf course you need an user and password for the server, you have to talk to whoever runs that server for that.","title":"javax.mail exception while sending a email from amazon server","body":"<p>It seems you are trying to use the server smtpout.secureserver.net to send mail to an address not hosted by that server, asking the server to relay that mail.</p>\n\n<p>Since services like that are used by spammers to hide behind, nearly all servers block this, unless the server knows you, either because you are in his network (which you are not), or because you authenticate yourself.</p>\n\n<p>I don't know why it worked with your windows machine. Maybe you were in the local network of that server, maybe the server is run by your ISP.</p>\n\n<p>Here is an example on how to use smtp authentication: <a href=\"http://www.rgagnon.com/javadetails/java-0538.html\" rel=\"nofollow\">http://www.rgagnon.com/javadetails/java-0538.html</a></p>\n\n<p>Of course you need an user and password for the server, you have to talk to whoever runs that server for that.</p>\n"}],"owner":{"account_id":3285356,"reputation":393,"user_id":2765011,"accept_rate":0,"display_name":"hardy_sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677781264,"creation_date":1411203434,"question_id":25947070,"body_markdown":"I have a simple standalone java class that sends out the emails. I&#39;m using javax.mail to send my emails.\r\n\r\nWhen I run the class on Window machine it is working fine. When I ran the same class on Amazon Server it is giving below exceptions:\r\n\r\n    Exception in thread &quot;main&quot; javax.mail.MessagingException: Could not connect to SMTP  host: smtpout.secureserver.net, port: 25, response: 554\r\n    554 *.phx3.secureserver.net  ESMTP No Relay Access Allowed From xxx.xxx.xxx.xxx\r\n\r\nI tried to find help online. for e.g. by execution below command\r\n\r\n    nc -z -v smtpout.secureserver.net 25\r\n    Connection to smtpout.secureserver.net 25 port [tcp/smtp] succeeded!\r\n\r\nPlease help me.\r\n\r\nThanks in advance.\r\n","title":"javax.mail exception while sending a email from amazon server","body":"<p>I have a simple standalone java class that sends out the emails. I'm using javax.mail to send my emails.</p>\n\n<p>When I run the class on Window machine it is working fine. When I ran the same class on Amazon Server it is giving below exceptions:</p>\n\n<pre><code>Exception in thread \"main\" javax.mail.MessagingException: Could not connect to SMTP  host: smtpout.secureserver.net, port: 25, response: 554\n554 *.phx3.secureserver.net  ESMTP No Relay Access Allowed From xxx.xxx.xxx.xxx\n</code></pre>\n\n<p>I tried to find help online. for e.g. by execution below command</p>\n\n<pre><code>nc -z -v smtpout.secureserver.net 25\nConnection to smtpout.secureserver.net 25 port [tcp/smtp] succeeded!\n</code></pre>\n\n<p>Please help me.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1677781244,"post_id":75619397,"comment_id":133409997,"body_markdown":"Whenever you re-assign curr.","body":"Whenever you re-assign curr."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1677781733,"post_id":75619397,"comment_id":133410127,"body_markdown":"Ack! You have a **semi-colon** DIRECTLY after the closing parenthesis of your for loop: `for (currlevel = maxLevel; currlevel &gt;= 0 &amp;&amp; root[currlevel] == null; currlevel--);`. This means the `if` statement immediately following DOES NOT &quot;belong&quot; to the for loop. The for loop has an empty body and won&#39;t actually do anything. Get rid of that semi-colon! This type of bug is super hard to spot as it does not produce a compile-time error or warning.","body":"Ack! You have a <b>semi-colon</b> DIRECTLY after the closing parenthesis of your for loop: <code>for (currlevel = maxLevel; currlevel &gt;= 0 &amp;&amp; root[currlevel] == null; currlevel--);</code>. This means the <code>if</code> statement immediately following DOES NOT &quot;belong&quot; to the for loop. The for loop has an empty body and won&#39;t actually do anything. Get rid of that semi-colon! This type of bug is super hard to spot as it does not produce a compile-time error or warning."},{"owner":{"account_id":26071370,"reputation":1,"user_id":19770978,"display_name":"Coder"},"score":0,"creation_date":1677782153,"post_id":75619397,"comment_id":133410242,"body_markdown":"@Idle_Mind This was actually done purposfully and was also done in our textbook for my course. This forloop is used to check for empty levels of the skip list. The for loop is going to keep looping until the level is not null. Thus means there is a level with actual nodes in it. Hope this makes sense?","body":"@Idle_Mind This was actually done purposfully and was also done in our textbook for my course. This forloop is used to check for empty levels of the skip list. The for loop is going to keep looping until the level is not null. Thus means there is a level with actual nodes in it. Hope this makes sense?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677782703,"post_id":75619397,"comment_id":133410372,"body_markdown":"Ew...using a for loop like that is confusing. Shame on that book. I&#39;d change the declaration of &quot;currlevel&quot; to `int currlevel = maxLevel;` and then change the for loop to a while: `while (currlevel &gt;= 0 &amp;&amp; root[currlevel] == null) { currlevel--; }`.","body":"Ew...using a for loop like that is confusing. Shame on that book. I&#39;d change the declaration of &quot;currlevel&quot; to <code>int currlevel = maxLevel;</code> and then change the for loop to a while: <code>while (currlevel &gt;= 0 &amp;&amp; root[currlevel] == null) { currlevel--; }</code>."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677789711,"post_id":75619397,"comment_id":133412080,"body_markdown":"To answer your question, though, immediately after the `while (true) {` line, just output the node that `curr` points to?...","body":"To answer your question, though, immediately after the <code>while (true) {</code> line, just output the node that <code>curr</code> points to?..."}],"owner":{"account_id":26071370,"reputation":1,"user_id":19770978,"display_name":"Coder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677781188,"creation_date":1677781043,"question_id":75619397,"body_markdown":"I am busy with an assignment where I am expected to print out(display) all the nodes that the skip list visited when searchin for a specific element.  \r\n\r\n\r\n\r\nThe code that follows is my search algorithm. I am not sure where to put the output lines to show the search path of each node. \r\n\r\n    public SkipListNode&lt;T&gt; search(T key) {\r\n\r\n        SkipListNode&lt;T&gt; prev, curr;\r\n        int currlevel;\r\n\r\n        for (currlevel = maxLevel; currlevel &gt;= 0 &amp;&amp; root[currlevel] == null; currlevel--)\r\n            ;\r\n\r\n        if (root[0] == null)\r\n            return null;\r\n        prev = curr = root[currlevel];\r\n        while (true) {\r\n            if (key.equals(curr.key)) {\r\n                return curr;\r\n            } else if (key.compareTo(curr.key) &lt; 0) {\r\n                if (currlevel &lt; 1)\r\n                    return null;\r\n                else if (curr == root[currlevel])\r\n                    curr = root[--currlevel];\r\n                else {\r\n                    curr = prev.next[--currlevel];\r\n                }\r\n            } else if (key.compareTo(curr.key) &gt; 0) {\r\n                prev = curr;\r\n                if (curr.next[currlevel] != null)\r\n                    curr = curr.next[currlevel];\r\n                else {\r\n                    for (currlevel--; currlevel &gt;= 0 &amp;&amp; root[currlevel] == null; currlevel--)\r\n                        ;\r\n                    if (currlevel &gt;= 0)\r\n                        curr = curr.next[currlevel];\r\n                    else\r\n                        return null;\r\n                }\r\n\r\n            }\r\n\r\n        } ","title":"Don&#39;t understand how to print the search path of a skip list","body":"<p>I am busy with an assignment where I am expected to print out(display) all the nodes that the skip list visited when searchin for a specific element.</p>\n<p>The code that follows is my search algorithm. I am not sure where to put the output lines to show the search path of each node.</p>\n<pre><code>public SkipListNode&lt;T&gt; search(T key) {\n\n    SkipListNode&lt;T&gt; prev, curr;\n    int currlevel;\n\n    for (currlevel = maxLevel; currlevel &gt;= 0 &amp;&amp; root[currlevel] == null; currlevel--)\n        ;\n\n    if (root[0] == null)\n        return null;\n    prev = curr = root[currlevel];\n    while (true) {\n        if (key.equals(curr.key)) {\n            return curr;\n        } else if (key.compareTo(curr.key) &lt; 0) {\n            if (currlevel &lt; 1)\n                return null;\n            else if (curr == root[currlevel])\n                curr = root[--currlevel];\n            else {\n                curr = prev.next[--currlevel];\n            }\n        } else if (key.compareTo(curr.key) &gt; 0) {\n            prev = curr;\n            if (curr.next[currlevel] != null)\n                curr = curr.next[currlevel];\n            else {\n                for (currlevel--; currlevel &gt;= 0 &amp;&amp; root[currlevel] == null; currlevel--)\n                    ;\n                if (currlevel &gt;= 0)\n                    curr = curr.next[currlevel];\n                else\n                    return null;\n            }\n\n        }\n\n    } \n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller","http-status-code-415"],"answers":[{"comments":[{"owner":{"account_id":13141942,"reputation":11,"user_id":9493236,"display_name":"Serwur"},"score":0,"creation_date":1677770857,"post_id":75615728,"comment_id":133406854,"body_markdown":"Unfortunately when there is no parameter in consumes, then spring for some reason cannot map received failed. It is always null even file is given or not","body":"Unfortunately when there is no parameter in consumes, then spring for some reason cannot map received failed. It is always null even file is given or not"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1677781170,"post_id":75615728,"comment_id":133409983,"body_markdown":"@Serwur, good points. please see my updated answer. you also need to customize `MultipartResolver`","body":"@Serwur, good points. please see my updated answer. you also need to customize <code>MultipartResolver</code>"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677781078,"creation_date":1677761866,"answer_id":75615728,"question_id":75614891,"body_markdown":"To make the API endpoint can bind the upload file to `MultipartFile` without specifying its `Content-Type` in the HTTP request header as `multipart/form-data` , you first have to change the `@PostMapping` &#39;s `consumes` to :\r\n\r\n``` java\r\n@PostMapping(value = &quot;/foo&quot;)\r\npublic ResponseDTO foo(@ModelAttribute RequestDTO dto) {\r\n        \r\n}\r\n```\r\n\r\nSecond, you also need to customize  `MultipartResolver` because the default `StandardServletMultipartResolver` which only consider a HTTP request as the multipart request if its `Content-Type` is `multipart/form-data`. So also register the following beans : \r\n\r\n\r\n``` java\r\n@Bean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)\r\npublic StandardServletMultipartResolver multipartResolver() {\r\n    StandardServletMultipartResolver multipartResolver = new StandardServletMultipartResolver(){\r\n        @Override\r\n        public boolean isMultipart(HttpServletRequest request) {\r\n            return true;\r\n        }\r\n    };\r\n    return multipartResolver;\r\n}\r\n```\r\n","title":"Spring Boot Unsupported Media Type 415 Content type &#39;&#39; not supported for request with empty parameters","body":"<p>To make the API endpoint can bind the upload file to <code>MultipartFile</code> without specifying its <code>Content-Type</code> in the HTTP request header as <code>multipart/form-data</code> , you first have to change the <code>@PostMapping</code> 's <code>consumes</code> to :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/foo&quot;)\npublic ResponseDTO foo(@ModelAttribute RequestDTO dto) {\n        \n}\n</code></pre>\n<p>Second, you also need to customize  <code>MultipartResolver</code> because the default <code>StandardServletMultipartResolver</code> which only consider a HTTP request as the multipart request if its <code>Content-Type</code> is <code>multipart/form-data</code>. So also register the following beans :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)\npublic StandardServletMultipartResolver multipartResolver() {\n    StandardServletMultipartResolver multipartResolver = new StandardServletMultipartResolver(){\n        @Override\n        public boolean isMultipart(HttpServletRequest request) {\n            return true;\n        }\n    };\n    return multipartResolver;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11855973,"reputation":1,"user_id":8675954,"display_name":"ROBOT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677762340,"creation_date":1677762340,"answer_id":75615811,"question_id":75614891,"body_markdown":"looks like a possible duplicate. find the approved comment from the mentioned link. this helped me. i believe this will also help you.\r\n\r\nhttps://stackoverflow.com/questions/46517583/spring-cannot-process-multipart-form-data-post-request-error-400-bad-request","title":"Spring Boot Unsupported Media Type 415 Content type &#39;&#39; not supported for request with empty parameters","body":"<p>looks like a possible duplicate. find the approved comment from the mentioned link. this helped me. i believe this will also help you.</p>\n<p><a href=\"https://stackoverflow.com/questions/46517583/spring-cannot-process-multipart-form-data-post-request-error-400-bad-request\">Spring cannot process “multipart/form-data” POST request (error 400 “Bad request”)</a></p>\n"}],"owner":{"account_id":13141942,"reputation":11,"user_id":9493236,"display_name":"Serwur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677781078,"creation_date":1677756963,"question_id":75614891,"body_markdown":"I have following rest controller **RestController.class**:\r\n\r\n```\r\n@AllArgsConstructor\r\n@RestController\r\n@RequestMapping(value = &quot;/foo&quot;, produces = APPLICATION_JSON_VALUE)\r\n@Api(value = &quot;restController &quot;)\r\nclass RestController {\r\n    private final Service service;\r\n\r\n    @PostMapping(value = &quot;/foo&quot;, consumes = {MULTIPART_FORM_DATA_VALUE})\r\n    public ResponseDTO foo(\r\n            @ModelAttribute RequestDTO dto\r\n    ) {\r\n        return service.foo(dto);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand request dto **RequestDTO.class**:\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class RequestDTO {\r\n    private MultipartFile file;\r\n    private SomeOtherObject someOtherObject;\r\n}\r\n```\r\n\r\nThe problem is when I send a request with no given parameters I receives in logs:\r\n`.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;&#39; not supported]`\r\n\r\nand as response:\r\n\r\n\r\n```\r\n{\r\n  &quot;timestamp&quot;: 1677747390307,\r\n  &quot;status&quot;: 415,\r\n  &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n  &quot;trace&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;&#39; not supported\\r\\n\\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:267)\\r\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:442)\\r\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:383)\\r\\n\\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:125)\\r\\n\\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:67)\\r\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:498)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat \r\n```\r\n\r\nI would like to proceed even those parameters are missing, because I want to make a validation and return a proper message when e.g. field **file** in **RequestDTO.class** is missing, but it is not possible due to mentioned exception behined the scenes in spring.\r\n\r\nI&#39;m using spring:\r\n\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\n\r\nI have tried to use other media types.\r\n\r\nI do not want to handle that exception, because this seems to be not correct way.\r\nI do not want to use @RequestBody in that case, it have to be a @ModelAttribute","title":"Spring Boot Unsupported Media Type 415 Content type &#39;&#39; not supported for request with empty parameters","body":"<p>I have following rest controller <strong>RestController.class</strong>:</p>\n<pre><code>@AllArgsConstructor\n@RestController\n@RequestMapping(value = &quot;/foo&quot;, produces = APPLICATION_JSON_VALUE)\n@Api(value = &quot;restController &quot;)\nclass RestController {\n    private final Service service;\n\n    @PostMapping(value = &quot;/foo&quot;, consumes = {MULTIPART_FORM_DATA_VALUE})\n    public ResponseDTO foo(\n            @ModelAttribute RequestDTO dto\n    ) {\n        return service.foo(dto);\n    }\n\n}\n</code></pre>\n<p>and request dto <strong>RequestDTO.class</strong>:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RequestDTO {\n    private MultipartFile file;\n    private SomeOtherObject someOtherObject;\n}\n</code></pre>\n<p>The problem is when I send a request with no given parameters I receives in logs:\n<code>.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported]</code></p>\n<p>and as response:</p>\n<pre><code>{\n  &quot;timestamp&quot;: 1677747390307,\n  &quot;status&quot;: 415,\n  &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n  &quot;trace&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported\\r\\n\\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:267)\\r\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:442)\\r\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:383)\\r\\n\\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:125)\\r\\n\\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:67)\\r\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:498)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat \n</code></pre>\n<p>I would like to proceed even those parameters are missing, because I want to make a validation and return a proper message when e.g. field <strong>file</strong> in <strong>RequestDTO.class</strong> is missing, but it is not possible due to mentioned exception behined the scenes in spring.</p>\n<p>I'm using spring:</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>I have tried to use other media types.</p>\n<p>I do not want to handle that exception, because this seems to be not correct way.\nI do not want to use @RequestBody in that case, it have to be a @ModelAttribute</p>\n"},{"tags":["java","html","spring","hibernate","sublimetext2"],"comments":[{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":0,"creation_date":1342503539,"post_id":11516175,"comment_id":15219821,"body_markdown":"I suspect you want Sublime to do things beyond its reach. What do you expect it to do with a JSF-Spring-Hibernate project?","body":"I suspect you want Sublime to do things beyond its reach. What do you expect it to do with a JSF-Spring-Hibernate project?"},{"owner":{"account_id":1108799,"reputation":10647,"user_id":1099643,"accept_rate":80,"display_name":"Kushan"},"score":0,"creation_date":1342503634,"post_id":11516175,"comment_id":15219844,"body_markdown":"Add auto completion option to Sublime","body":"Add auto completion option to Sublime"}],"owner":{"account_id":1108799,"reputation":10647,"user_id":1099643,"accept_rate":80,"display_name":"Kushan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2612,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1677781004,"creation_date":1342500743,"question_id":11516175,"body_markdown":"I am currently using with Sublime Text 2, and I&#39;m working HTML, CSS, JS, JQuery and Java with this platform. But now i want to setup JSF, Spring, and Hibernate using  Sublime Text 2. I have looked at documentation but nothing is working for me. \r\n\r\nFirst I install **Package control** into ST2 and then install Java. Any one have a idea for configuring JSF, Spring, and Hibernate.\r\n\r\nThanks.","title":"How to Setting Up Sublime Text 2 For Spring and Hibernate Development","body":"<p>I am currently using with Sublime Text 2, and I'm working HTML, CSS, JS, JQuery and Java with this platform. But now i want to setup JSF, Spring, and Hibernate using  Sublime Text 2. I have looked at documentation but nothing is working for me. </p>\n\n<p>First I install <strong>Package control</strong> into ST2 and then install Java. Any one have a idea for configuring JSF, Spring, and Hibernate.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","swt"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677778400,"post_id":75618792,"comment_id":133409246,"body_markdown":"What paint listener is that? It is not a all clear where you are trying to do this.","body":"What paint listener is that? It is not a all clear where you are trying to do this."},{"owner":{"account_id":5583799,"reputation":437,"user_id":4424888,"accept_rate":100,"display_name":"Yair Cohen"},"score":0,"creation_date":1677781024,"post_id":75618792,"comment_id":133409932,"body_markdown":"@greg-449 Sorry, I edited the question and added more context.","body":"@greg-449 Sorry, I edited the question and added more context."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677787405,"post_id":75618792,"comment_id":133411501,"body_markdown":"I don&#39;t think there is going to be any way to make that work. If this is the Java editor it provides a lot of APIs for doing completions - you need to use those.","body":"I don&#39;t think there is going to be any way to make that work. If this is the Java editor it provides a lot of APIs for doing completions - you need to use those."}],"owner":{"account_id":5583799,"reputation":437,"user_id":4424888,"accept_rate":100,"display_name":"Yair Cohen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677780961,"creation_date":1677777490,"question_id":75618792,"body_markdown":"I started developing a small plugin for eclipse that should provide inline completions.\r\nWhen I render a single-line completion, it looks good:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI struggle with some issues when I try to render a multiline completion since I want to draw the next lines and push the preceding text to be after the completion text, but I can&#39;t figure out how to do that.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MuRUX.png\r\n  [2]: https://i.stack.imgur.com/UQjZa.png\r\n\r\nWhat I have done so far is listening to document changed event:\r\n\r\n    public class InlineDocumentListener implements IDocumentListener {\r\n\t    private ITextViewer textViewer;\r\n    \tprivate IPath path;\r\n\t    private Optional&lt;InlineCompletion&gt; activeCompletion;\r\n\r\n    \tpublic InlineDocumentListener(ITextViewer textViewer, IPath path) {\r\n    \t\tthis.textViewer = textViewer;\r\n\t    \tthis.path = path;\r\n\t\t    this.activeCompletion = Optional.empty();\r\n    \t}\r\n\r\n\t    @Override\r\n    \tpublic void documentChanged(DocumentEvent event) {\r\n    \t\tIDocument document = event.getDocument();\r\n    \t\tint offset = event.getOffset() + event.getText().length();\r\n    \t\tactiveCompletion = Optional.of(new InlineCompletion(offset, fetchCompletion(), textViewer, document));\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic void documentAboutToBeChanged(DocumentEvent event) {\r\n    \t}\r\n    }\r\n\r\n\r\nand then draw the completion using the paint listener:\r\n\r\n    public class InlineCompletion implements org.eclipse.swt.events.PaintListener {\r\n    \tprivate StyledText widget;\r\n    \tprivate Completion completion;\r\n    \tprivate int offset;\r\n\r\n\t    public InlineCompletion(int offset, Completion completion, ITextViewer textViewer, IDocument document) {\r\n    \t\tthis.widget = textViewer.getTextWidget();\r\n    \t\tthis.completion = completion;\r\n    \t\tthis.offset = offset;\r\n\r\n\t\t    widget.addPaintListener(this);\r\n\t    }\r\n\r\n    \t@Override\r\n\t    public void paintControl(PaintEvent e) {\r\n    \t\tString[] completionsLines = completion.text.split(&quot;\\n&quot;, 2);\r\n    \t\tPoint p = widget.getLocationAtOffset(this.offset);\r\n    \t\te.gc.setForeground(new Color(128, 128, 128));\r\n    \t\te.gc.drawText(completionsLines[0], p.x, p.y, true);\r\n    \t\tif (completionsLines.length &gt; 1) {\r\n    \t\t\te.gc.drawText(completionsLines[1].replace(&quot;\\t&quot;, &quot;    &quot;), 0, p.y + widget.getLineHeight(), true);\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nI also tried to use the StyleRange object with GlyphMetrics to increase the current line size, but it can&#39;t be applied to an empty text.\r\n\r\nAny suggestions?","title":"Inline completion for SWT based application","body":"<p>I started developing a small plugin for eclipse that should provide inline completions.\nWhen I render a single-line completion, it looks good:</p>\n<p><a href=\"https://i.stack.imgur.com/MuRUX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MuRUX.png\" alt=\"enter image description here\" /></a></p>\n<p>I struggle with some issues when I try to render a multiline completion since I want to draw the next lines and push the preceding text to be after the completion text, but I can't figure out how to do that.</p>\n<p><a href=\"https://i.stack.imgur.com/UQjZa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UQjZa.png\" alt=\"enter image description here\" /></a></p>\n<p>What I have done so far is listening to document changed event:</p>\n<pre><code>public class InlineDocumentListener implements IDocumentListener {\n    private ITextViewer textViewer;\n    private IPath path;\n    private Optional&lt;InlineCompletion&gt; activeCompletion;\n\n    public InlineDocumentListener(ITextViewer textViewer, IPath path) {\n        this.textViewer = textViewer;\n        this.path = path;\n        this.activeCompletion = Optional.empty();\n    }\n\n    @Override\n    public void documentChanged(DocumentEvent event) {\n        IDocument document = event.getDocument();\n        int offset = event.getOffset() + event.getText().length();\n        activeCompletion = Optional.of(new InlineCompletion(offset, fetchCompletion(), textViewer, document));\n    }\n\n    @Override\n    public void documentAboutToBeChanged(DocumentEvent event) {\n    }\n}\n</code></pre>\n<p>and then draw the completion using the paint listener:</p>\n<pre><code>public class InlineCompletion implements org.eclipse.swt.events.PaintListener {\n    private StyledText widget;\n    private Completion completion;\n    private int offset;\n\n    public InlineCompletion(int offset, Completion completion, ITextViewer textViewer, IDocument document) {\n        this.widget = textViewer.getTextWidget();\n        this.completion = completion;\n        this.offset = offset;\n\n        widget.addPaintListener(this);\n    }\n\n    @Override\n    public void paintControl(PaintEvent e) {\n        String[] completionsLines = completion.text.split(&quot;\\n&quot;, 2);\n        Point p = widget.getLocationAtOffset(this.offset);\n        e.gc.setForeground(new Color(128, 128, 128));\n        e.gc.drawText(completionsLines[0], p.x, p.y, true);\n        if (completionsLines.length &gt; 1) {\n            e.gc.drawText(completionsLines[1].replace(&quot;\\t&quot;, &quot;    &quot;), 0, p.y + widget.getLineHeight(), true);\n        }\n    }\n}\n</code></pre>\n<p>I also tried to use the StyleRange object with GlyphMetrics to increase the current line size, but it can't be applied to an empty text.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","spring","junit","spring-security","mockito"],"comments":[{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1677765269,"post_id":75615499,"comment_id":133405045,"body_markdown":"Your tests are not using anything from Spring, therefore they won&#39;t initialize the proxys and other infrastructure beans needed for method security. I&#39;d recommend creating an integration test using for example `@SpringBootTest` in order to verify method security.","body":"Your tests are not using anything from Spring, therefore they won&#39;t initialize the proxys and other infrastructure beans needed for method security. I&#39;d recommend creating an integration test using for example <code>@SpringBootTest</code> in order to verify method security."},{"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"score":0,"creation_date":1677766791,"post_id":75615499,"comment_id":133405579,"body_markdown":"But I already have Integration test and which are running fine, I want to strictly do it for Unit Test Cases.","body":"But I already have Integration test and which are running fine, I want to strictly do it for Unit Test Cases."}],"answers":[{"comments":[{"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"score":0,"creation_date":1677822687,"post_id":75619362,"comment_id":133416909,"body_markdown":"I tried this but it does not work and getting following issue :  ```Caused by: java.lang.IllegalStateException: Neither GenericXmlContextLoader nor AnnotationConfigContextLoader was able to load an ApplicationContext from [MergedContextConfiguration@2c3f046c testClass = \n\tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:255)``` it is not able to load the application context ```java.lang.IllegalStateException: Failed to load ApplicationContext```","body":"I tried this but it does not work and getting following issue :  <code>Caused by: java.lang.IllegalStateException: Neither GenericXmlContextLoader nor AnnotationConfigContextLoader was able to load an ApplicationContext from [MergedContextConfiguration@2c3f046c testClass =  \tat org.springframework.test.context.support.AbstractDelegatingS&zwnj;&#8203;martContextLoader.lo&zwnj;&#8203;adContext(AbstractDe&zwnj;&#8203;legatingSmartContext&zwnj;&#8203;Loader.java:255)</code> it is not able to load the application context <code>java.lang.IllegalStateException: Failed to load ApplicationContext</code>"},{"owner":{"account_id":17225477,"reputation":1,"user_id":12471204,"display_name":"Hamzaoui Haithem"},"score":0,"creation_date":1677837833,"post_id":75619362,"comment_id":133420125,"body_markdown":"You are missing the definition of the context with the `@ContextConfiguration(classes = ...)` annotation in your test. As classes you might define single configuration(s) or your whole production application context (that includes all the others). The benefit of declaring just the configuration classes you need is that the whole bootstrapping for the test is faster.","body":"You are missing the definition of the context with the <code>@ContextConfiguration(classes = ...)</code> annotation in your test. As classes you might define single configuration(s) or your whole production application context (that includes all the others). The benefit of declaring just the configuration classes you need is that the whole bootstrapping for the test is faster."}],"tags":[],"owner":{"account_id":17225477,"reputation":1,"user_id":12471204,"display_name":"Hamzaoui Haithem"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677780836,"creation_date":1677780836,"answer_id":75619362,"question_id":75615499,"body_markdown":"You must run Test with Spring, use `@RunWith(SpringJUnit4ClassRunner.class)` or `@SpringBootTest` annotations on your top class test","title":"Spring Security Test case Issue with @WithMockUser","body":"<p>You must run Test with Spring, use <code>@RunWith(SpringJUnit4ClassRunner.class)</code> or <code>@SpringBootTest</code> annotations on your top class test</p>\n"}],"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677780836,"creation_date":1677760560,"question_id":75615499,"body_markdown":"I have Service class as shown below with 1 method\r\n\r\nThis method will only be accessed if user has WRITE role but my test case with READ role is able to access but it **should not** be able to access. I don&#39;t know what&#39;s wrong I am doing here.\r\n```\r\n@Service\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class DownloadPhasesFilesService implements IDownloadPhasesFile {\r\n\r\n    @Override\r\n    @PreAuthorize(value = &quot;hasAnyRole(&#39;ROLE_WRITE&#39;)&quot;)\r\n    public String getPhase2FilePathRoleWise(final BatchJob batchJob) {\r\n        log.info(&quot;DownloadPhase2Service::getPhase2FilePathRoleWise for batchjob id {}&quot;, batchJob.getId());\r\n        return batchJob.getPhase2FilePath();\r\n    }\r\n}\r\n```\r\n\r\nHere is my Unit Test class\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\n@MockitoSettings(strictness = Strictness.LENIENT)\r\npublic class DownloadPhasesFilesServiceTest {\r\n\r\n    @InjectMocks\r\n    private DownloadPhasesFilesService downloadPhasesFilesService;\r\n\r\n    @Test\r\n    @WithMockUser(authorities = {&quot;ROLE_READ&quot; })\r\n    public void getPhase2FilePathRoleWise_asdfasdf_asdf() {\r\n        //Given:\r\n        final BatchJob batchJob = BatchJob.builder()\r\n                .id(1L)\r\n                .telSecJobId(&quot;123&quot;)\r\n                .status(PHASE_TWO_COMPLETED)\r\n                .phase2FilePath(&quot;phase2&quot;)\r\n                .baseMac(new MacAddress(&quot;aa:bb:cc:dd:ee:ff&quot;).getPlainMacAddress())\r\n                .tenant(Natco.builder().natcoCode(&quot;pl&quot;).build())\r\n                .model(Model.builder().modelName(&quot;modelName&quot;).oemName(&quot;oemName&quot;).build())\r\n                .build();\r\n\r\n        final String phase2FilePathRoleWise = downloadPhasesFilesService.getPhase2FilePathRoleWise(batchJob);\r\n        Assertions.assertEquals(&quot;phase2&quot;, phase2FilePathRoleWise);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have even used **@WithMockUser(authorities = {&quot;ROLE_READ&quot; })** with my Test, this does not help and test cases are passed but test case must **FAIL** here bec **READ** role is not equal to **WRITE** role.\r\n\r\n\r\nHere is my dependency in gradle:\r\n```\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n```\r\n\r\n\r\nCan anyone guid me here ?","title":"Spring Security Test case Issue with @WithMockUser","body":"<p>I have Service class as shown below with 1 method</p>\n<p>This method will only be accessed if user has WRITE role but my test case with READ role is able to access but it <strong>should not</strong> be able to access. I don't know what's wrong I am doing here.</p>\n<pre><code>@Service\n@AllArgsConstructor\n@Slf4j\npublic class DownloadPhasesFilesService implements IDownloadPhasesFile {\n\n    @Override\n    @PreAuthorize(value = &quot;hasAnyRole('ROLE_WRITE')&quot;)\n    public String getPhase2FilePathRoleWise(final BatchJob batchJob) {\n        log.info(&quot;DownloadPhase2Service::getPhase2FilePathRoleWise for batchjob id {}&quot;, batchJob.getId());\n        return batchJob.getPhase2FilePath();\n    }\n}\n</code></pre>\n<p>Here is my Unit Test class</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\npublic class DownloadPhasesFilesServiceTest {\n\n    @InjectMocks\n    private DownloadPhasesFilesService downloadPhasesFilesService;\n\n    @Test\n    @WithMockUser(authorities = {&quot;ROLE_READ&quot; })\n    public void getPhase2FilePathRoleWise_asdfasdf_asdf() {\n        //Given:\n        final BatchJob batchJob = BatchJob.builder()\n                .id(1L)\n                .telSecJobId(&quot;123&quot;)\n                .status(PHASE_TWO_COMPLETED)\n                .phase2FilePath(&quot;phase2&quot;)\n                .baseMac(new MacAddress(&quot;aa:bb:cc:dd:ee:ff&quot;).getPlainMacAddress())\n                .tenant(Natco.builder().natcoCode(&quot;pl&quot;).build())\n                .model(Model.builder().modelName(&quot;modelName&quot;).oemName(&quot;oemName&quot;).build())\n                .build();\n\n        final String phase2FilePathRoleWise = downloadPhasesFilesService.getPhase2FilePathRoleWise(batchJob);\n        Assertions.assertEquals(&quot;phase2&quot;, phase2FilePathRoleWise);\n    }\n}\n</code></pre>\n<p>I have even used <strong>@WithMockUser(authorities = {&quot;ROLE_READ&quot; })</strong> with my Test, this does not help and test cases are passed but test case must <strong>FAIL</strong> here bec <strong>READ</strong> role is not equal to <strong>WRITE</strong> role.</p>\n<p>Here is my dependency in gradle:</p>\n<pre><code>    testImplementation 'org.springframework.security:spring-security-test'\n</code></pre>\n<p>Can anyone guid me here ?</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1677781787,"post_id":75619289,"comment_id":133410138,"body_markdown":"Can it happen that you use IntelliJ IDEA?","body":"Can it happen that you use IntelliJ IDEA?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677782308,"post_id":75619289,"comment_id":133410281,"body_markdown":"Yes. I am using Intellij IDEA","body":"Yes. I am using Intellij IDEA"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1677782629,"post_id":75619289,"comment_id":133410350,"body_markdown":"According to this older topic you may simply need to reconfigure it: https://stackoverflow.com/questions/4618794/intellij-idea-cannot-resolve-symbol-and-cannot-resolve-method (while the question is Mac, answers and links mention encountering the problem on Windows and Linux too)","body":"According to this older topic you may simply need to reconfigure it: <a href=\"https://stackoverflow.com/questions/4618794/intellij-idea-cannot-resolve-symbol-and-cannot-resolve-method\" title=\"intellij idea cannot resolve symbol and cannot resolve method\">stackoverflow.com/questions/4618794/&hellip;</a> (while the question is Mac, answers and links mention encountering the problem on Windows and Linux too)"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677782878,"post_id":75619289,"comment_id":133410402,"body_markdown":"I&#39;ll read about it... About the key issue. Can you tell me if the key that must be informed is the secret Key of the IAM User of amazon s3?","body":"I&#39;ll read about it... About the key issue. Can you tell me if the key that must be informed is the secret Key of the IAM User of amazon s3?"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1677783230,"post_id":75619289,"comment_id":133410492,"body_markdown":"No, not at all, don&#39;t put your secret there. That &quot;key&quot; is simply the &quot;filename&quot; what the object will have after uploading. Like in ..../mybucket/mykey.","body":"No, not at all, don&#39;t put your secret there. That &quot;key&quot; is simply the &quot;filename&quot; what the object will have after uploading. Like in ..../mybucket/mykey."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677783324,"post_id":75619289,"comment_id":133410523,"body_markdown":"I understood. This key I must send to my database in url? Because I would like a url inside my model that references the image saved on amazon s3","body":"I understood. This key I must send to my database in url? Because I would like a url inside my model that references the image saved on amazon s3"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1677783687,"post_id":75619289,"comment_id":133410606,"body_markdown":"Yes, while your bucket may be hardcoded, the key is going to be unique for each object. For your credentials: you already used them when creating the `S3Client` object. While I haven&#39;t tried, this seems to be a complete example showing an upload: https://stackoverflow.com/a/72701635/7916438","body":"Yes, while your bucket may be hardcoded, the key is going to be unique for each object. For your credentials: you already used them when creating the <code>S3Client</code> object. While I haven&#39;t tried, this seems to be a complete example showing an upload: <a href=\"https://stackoverflow.com/a/72701635/7916438\">stackoverflow.com/a/72701635/7916438</a>"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677784226,"post_id":75619289,"comment_id":133410755,"body_markdown":"private final String KEY = &quot;/products/images/&quot; + UUID.randomUUID().toString()","body":"private final String KEY = &quot;/products/images/&quot; + UUID.randomUUID().toString()"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677784239,"post_id":75619289,"comment_id":133410760,"body_markdown":"this is okay for a key?","body":"this is okay for a key?"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1677784629,"post_id":75619289,"comment_id":133410862,"body_markdown":"Probably yes, https://stackoverflow.com/questions/2513573/how-good-is-javas-uuid-randomuuid","body":"Probably yes, <a href=\"https://stackoverflow.com/questions/2513573/how-good-is-javas-uuid-randomuuid\" title=\"how good is javas uuid randomuuid\">stackoverflow.com/questions/2513573/&hellip;</a>"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677780361,"creation_date":1677780361,"question_id":75619289,"body_markdown":"I have a product controller and my goal is to receive an upload image, save the url in my database and send the image to amazonS3. In my settings I have the S3Client configuration like this:\r\n\r\n```\r\npackage com.api.business_manager_api.Config;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport software.amazon.awssdk.auth.credentials.EnvironmentVariableCredentialsProvider;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.s3.S3Client;\r\n\r\n@Configuration\r\npublic class AmazonConfig {\r\n    private final String AWS_REGION = &quot;us-east-1&quot;;\r\n    private final String BUCKET_NAME = &quot;stockproducts&quot;;\r\n\r\n    @Bean\r\n    public S3Client s3Client() {\r\n        return S3Client.builder()\r\n                .region(Region.of(AWS_REGION))\r\n                .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo I get it in my controller like this\r\n\r\n```\r\npackage com.api.business_manager_api.Controllers;\r\n\r\nimport com.api.business_manager_api.Dtos.ProductDto;\r\nimport com.api.business_manager_api.Mappers.ProductMapper;\r\nimport com.api.business_manager_api.Models.CategoryModel;\r\nimport com.api.business_manager_api.Models.ProductModel;\r\nimport com.api.business_manager_api.Services.CategoryService;\r\nimport com.api.business_manager_api.Services.ProductService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport software.amazon.awssdk.services.s3.S3Client;\r\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/product&quot;)\r\npublic class ProductController {\r\n    final ProductService productService;\r\n    final CategoryService categoryService;\r\n    final ProductMapper productMapper;\r\n    final S3Client s3Client;\r\n\r\n    private final String BUCKET_NAME = &quot;stockproducts&quot; + System.currentTimeMillis();\r\n    private final String KEY = &quot;*my secret key*&quot;;\r\n\r\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\r\n        this.productService = productService;\r\n        this.productMapper = productMapper;\r\n        this.categoryService = categoryService;\r\n        this.s3Client = s3Client;\r\n    }\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestBody @Valid ProductDto productDto, @RequestParam(&quot;file&quot;)MultipartFile file) {\r\n        try {\r\n            if (productService.existsByProduct(productDto.getProduct())) {\r\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\r\n            }\r\n            ProductModel productModel = productMapper.toProductModel(productDto);\r\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\r\n            productModel.setProductCategory(categoryModel);\r\n\r\n            s3Client.putObject(PutObjectRequest\r\n                    .builder()\r\n                    .bucket(BUCKET_NAME)\r\n                    .key(KEY)\r\n                    .build(),\r\n                    RequestBody.fromString(&quot;Testing with the {sdk-java}&quot;));\r\n\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Cannot create product. Check if the fields sent in your request are correct.&quot;);\r\n        }\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;ProductModel&gt;&gt; getAllProducts() {\r\n        return ResponseEntity.status(HttpStatus.OK).body(productService.findAll());\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; getOneProduct(@PathVariable(value = &quot;id&quot;)UUID id) {\r\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\r\n        if (!productModelOptional.isPresent()) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found&quot;);\r\n        }\r\n        return ResponseEntity.status(HttpStatus.OK).body(productModelOptional.get());\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable(value = &quot;id&quot;) UUID id,\r\n                                                @RequestBody @Valid ProductDto productDto) {\r\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\r\n        if (!productModelOptional.isPresent()) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\r\n        }\r\n        ProductModel productModel = productModelOptional.get();\r\n        productModel.setProduct(productDto.getProduct());\r\n        productModel.setDescription(productDto.getDescription());\r\n        productModel.setPrice(productDto.getPrice());\r\n        productModel.setExtraPrice(productDto.getExtraPrice());\r\n        productModel.setStock(productDto.getStock());\r\n        productModel.setProductCategory(productDto.getProductCategory());\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(productService.save(productModel));\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteProduct(@PathVariable(value = &quot;id&quot;) UUID id) {\r\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\r\n        if (!productModelOptional.isPresent()) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\r\n        }\r\n        productService.delete(productModelOptional.get());\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Product deleted succesfully!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe problem is that when sending through s3Client exactly the way the documentation says, I have a syntax error\r\n\r\n```\r\nCannot resolve method &#39;fromString&#39; in &#39;RequestBody&#39;\r\n```\r\n\r\nI already tried to change it to StringOf, but without success. The documentation doesn&#39;t say anything about this. Another doubt I have, &quot;key&quot; would be my correct IAM user key? Because the documentation doesn&#39;t specify that either\r\n","title":"Syntax error sending upload file to amazon s3 fromString (Spring Boot)","body":"<p>I have a product controller and my goal is to receive an upload image, save the url in my database and send the image to amazonS3. In my settings I have the S3Client configuration like this:</p>\n<pre><code>package com.api.business_manager_api.Config;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport software.amazon.awssdk.auth.credentials.EnvironmentVariableCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\n\n@Configuration\npublic class AmazonConfig {\n    private final String AWS_REGION = &quot;us-east-1&quot;;\n    private final String BUCKET_NAME = &quot;stockproducts&quot;;\n\n    @Bean\n    public S3Client s3Client() {\n        return S3Client.builder()\n                .region(Region.of(AWS_REGION))\n                .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\n                .build();\n    }\n}\n\n</code></pre>\n<p>So I get it in my controller like this</p>\n<pre><code>package com.api.business_manager_api.Controllers;\n\nimport com.api.business_manager_api.Dtos.ProductDto;\nimport com.api.business_manager_api.Mappers.ProductMapper;\nimport com.api.business_manager_api.Models.CategoryModel;\nimport com.api.business_manager_api.Models.ProductModel;\nimport com.api.business_manager_api.Services.CategoryService;\nimport com.api.business_manager_api.Services.ProductService;\nimport jakarta.validation.Valid;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\n\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/product&quot;)\npublic class ProductController {\n    final ProductService productService;\n    final CategoryService categoryService;\n    final ProductMapper productMapper;\n    final S3Client s3Client;\n\n    private final String BUCKET_NAME = &quot;stockproducts&quot; + System.currentTimeMillis();\n    private final String KEY = &quot;*my secret key*&quot;;\n\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\n        this.productService = productService;\n        this.productMapper = productMapper;\n        this.categoryService = categoryService;\n        this.s3Client = s3Client;\n    }\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestBody @Valid ProductDto productDto, @RequestParam(&quot;file&quot;)MultipartFile file) {\n        try {\n            if (productService.existsByProduct(productDto.getProduct())) {\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\n            }\n            ProductModel productModel = productMapper.toProductModel(productDto);\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\n            productModel.setProductCategory(categoryModel);\n\n            s3Client.putObject(PutObjectRequest\n                    .builder()\n                    .bucket(BUCKET_NAME)\n                    .key(KEY)\n                    .build(),\n                    RequestBody.fromString(&quot;Testing with the {sdk-java}&quot;));\n\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Cannot create product. Check if the fields sent in your request are correct.&quot;);\n        }\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ProductModel&gt;&gt; getAllProducts() {\n        return ResponseEntity.status(HttpStatus.OK).body(productService.findAll());\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; getOneProduct(@PathVariable(value = &quot;id&quot;)UUID id) {\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\n        if (!productModelOptional.isPresent()) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found&quot;);\n        }\n        return ResponseEntity.status(HttpStatus.OK).body(productModelOptional.get());\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable(value = &quot;id&quot;) UUID id,\n                                                @RequestBody @Valid ProductDto productDto) {\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\n        if (!productModelOptional.isPresent()) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\n        }\n        ProductModel productModel = productModelOptional.get();\n        productModel.setProduct(productDto.getProduct());\n        productModel.setDescription(productDto.getDescription());\n        productModel.setPrice(productDto.getPrice());\n        productModel.setExtraPrice(productDto.getExtraPrice());\n        productModel.setStock(productDto.getStock());\n        productModel.setProductCategory(productDto.getProductCategory());\n\n        return ResponseEntity.status(HttpStatus.OK).body(productService.save(productModel));\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteProduct(@PathVariable(value = &quot;id&quot;) UUID id) {\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\n        if (!productModelOptional.isPresent()) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\n        }\n        productService.delete(productModelOptional.get());\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Product deleted succesfully!&quot;);\n    }\n}\n\n</code></pre>\n<p>The problem is that when sending through s3Client exactly the way the documentation says, I have a syntax error</p>\n<pre><code>Cannot resolve method 'fromString' in 'RequestBody'\n</code></pre>\n<p>I already tried to change it to StringOf, but without success. The documentation doesn't say anything about this. Another doubt I have, &quot;key&quot; would be my correct IAM user key? Because the documentation doesn't specify that either</p>\n"},{"tags":["java","servlets","jetty","forms-authentication"],"comments":[{"owner":{"account_id":60226,"reputation":2455,"user_id":179962,"display_name":"Alex"},"score":1,"creation_date":1422365256,"post_id":28170319,"comment_id":44712412,"body_markdown":"I would wager that a majority of people prefer not to rely on container-specific authentication/authorization mechanisms.  I believe most people use http://shiro.apache.org/index.html or http://projects.spring.io/spring-security/, personally I prefer Shiro","body":"I would wager that a majority of people prefer not to rely on container-specific authentication/authorization mechanisms.  I believe most people use <a href=\"http://shiro.apache.org/index.html\" rel=\"nofollow noreferrer\">shiro.apache.org/index.html</a> or <a href=\"http://projects.spring.io/spring-security/\" rel=\"nofollow noreferrer\">projects.spring.io/spring-security</a>, personally I prefer Shiro"},{"owner":{"account_id":88881,"reputation":37434,"user_id":245602,"accept_rate":55,"display_name":"George Hawkins"},"score":0,"creation_date":1422386266,"post_id":28170319,"comment_id":44725621,"body_markdown":"I agree - not using Shiro and trying to bake something myself was probably an act of idiocy :)","body":"I agree - not using Shiro and trying to bake something myself was probably an act of idiocy :)"}],"answers":[{"comments":[{"owner":{"account_id":88881,"reputation":37434,"user_id":245602,"accept_rate":55,"display_name":"George Hawkins"},"score":0,"creation_date":1422377702,"post_id":28171733,"comment_id":44720576,"body_markdown":"It&#39;s always embarrassing being pointed at the documentation :) You&#39;re right - if I set `cachetime = 0` in the config properties file for the `JDBCLoginService` then things aren&#39;t cached and any changes are picked up at login.","body":"It&#39;s always embarrassing being pointed at the documentation :) You&#39;re right - if I set <code>cachetime = 0</code> in the config properties file for the <code>JDBCLoginService</code> then things aren&#39;t cached and any changes are picked up at login."},{"owner":{"account_id":88881,"reputation":37434,"user_id":245602,"accept_rate":55,"display_name":"George Hawkins"},"score":0,"creation_date":1422378187,"post_id":28171733,"comment_id":44720898,"body_markdown":"Interestingly the javadoc is wrong - `JDBCLoginService` isn&#39;t a subclass of `HashLoginService` (and never was), rather both are subclasses of `MappedLoginService`. And the current behavior, if `cacheTime` is zero, in `JDBCLoginService.login(String, Object)` seems a bit *odd* - it doesn&#39;t just discard of the details for the user logging in (and hence force a refetch), it discards all cached user details. So each time *anyone* logs in all other users will incur a hit the next time they access a page (as the cache is used for role lookup etc. for each page access, not just for login).","body":"Interestingly the javadoc is wrong - <code>JDBCLoginService</code> isn&#39;t a subclass of <code>HashLoginService</code> (and never was), rather both are subclasses of <code>MappedLoginService</code>. And the current behavior, if <code>cacheTime</code> is zero, in <code>JDBCLoginService.login(String, Object)</code> seems a bit <i>odd</i> - it doesn&#39;t just discard of the details for the user logging in (and hence force a refetch), it discards all cached user details. So each time <i>anyone</i> logs in all other users will incur a hit the next time they access a page (as the cache is used for role lookup etc. for each page access, not just for login)."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1422382878,"post_id":28171733,"comment_id":44723732,"body_markdown":"@GeorgeHawkins the javadoc error had me curious, so I traced JDBCLoginService back 204 revisions (even back into pre-eclipse Jetty at svn.codehaus.org).  It truly [never was a subclass of HashLoginService](https://github.com/eclipse/jetty.project/blob/da627b843fe81fa0fe52a046c1be8595630e9ae7/jetty-security/src/main/java/org/eclipse/jetty/security/JDBCLoginService.java).","body":"@GeorgeHawkins the javadoc error had me curious, so I traced JDBCLoginService back 204 revisions (even back into pre-eclipse Jetty at svn.codehaus.org).  It truly <a href=\"https://github.com/eclipse/jetty.project/blob/da627b843fe81fa0fe52a046c1be8595630e9ae7/jetty-security/src/main/java/org/eclipse/jetty/security/JDBCLoginService.java\" rel=\"nofollow noreferrer\">never was a subclass of HashLoginService</a>."}],"tags":[],"owner":{"account_id":60226,"reputation":2455,"user_id":179962,"display_name":"Alex"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1422365512,"creation_date":1422365512,"answer_id":28171733,"question_id":28170319,"body_markdown":"What version of Jetty is this?  The `9.2.6` Javadocs for `JDBCLoginService` say this:\r\n\r\n&gt; HashMapped User Realm with JDBC as data source. JDBCLoginService extends HashULoginService and adds a method to fetch user information from database. The login() method checks the inherited Map for the user. If the user is not found, it will fetch details from the database and populate the inherited Map. It then calls the superclass login() method to perform the actual authentication. Periodically (controlled by configuration parameter), internal hashes are cleared. Caching can be disabled by setting cache refresh interval to zero. Uses one database connection that is initialized at startup. Reconnect on failures. authenticate() is &#39;synchronized&#39;. An example properties file for configuration is in $JETTY_HOME/etc/jdbcRealm.properties\r\n\r\nWhich means you can control the frequency at which the cache is invalidated, or disable caching altogether.\r\n\r\nBut see my comment&#39;s above, you may prefer to use a more robust authentication/authorization setup with Shiro or Spring Security (doesn&#39;t necessarily require Spring)","title":"Jetty JDBCLoginService doesn&#39;t pick up password changes?","body":"<p>What version of Jetty is this?  The <code>9.2.6</code> Javadocs for <code>JDBCLoginService</code> say this:</p>\n\n<blockquote>\n  <p>HashMapped User Realm with JDBC as data source. JDBCLoginService extends HashULoginService and adds a method to fetch user information from database. The login() method checks the inherited Map for the user. If the user is not found, it will fetch details from the database and populate the inherited Map. It then calls the superclass login() method to perform the actual authentication. Periodically (controlled by configuration parameter), internal hashes are cleared. Caching can be disabled by setting cache refresh interval to zero. Uses one database connection that is initialized at startup. Reconnect on failures. authenticate() is 'synchronized'. An example properties file for configuration is in $JETTY_HOME/etc/jdbcRealm.properties</p>\n</blockquote>\n\n<p>Which means you can control the frequency at which the cache is invalidated, or disable caching altogether.</p>\n\n<p>But see my comment's above, you may prefer to use a more robust authentication/authorization setup with Shiro or Spring Security (doesn't necessarily require Spring)</p>\n"},{"tags":[],"owner":{"account_id":3234933,"reputation":354,"user_id":2729389,"accept_rate":71,"display_name":"simpleusr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677780329,"creation_date":1677780329,"answer_id":75619281,"question_id":28170319,"body_markdown":"On 9.4.x this feature seems to be removed:\r\n\r\nhttps://github.com/eclipse/jetty.project/commit/81b2a6a4de22ebb3d3e1c857e686bccbfd636c4d\r\n\r\nhttps://github.com/eclipse/jetty.project/commit/81b2a6a4de22ebb3d3e1c857e686bccbfd636c4d#diff-4a6398c38fa91cfa934acb61be7e7e21100196b7c26fde7f403a9df3a0d8ee2c","title":"Jetty JDBCLoginService doesn&#39;t pick up password changes?","body":"<p>On 9.4.x this feature seems to be removed:</p>\n<p><a href=\"https://github.com/eclipse/jetty.project/commit/81b2a6a4de22ebb3d3e1c857e686bccbfd636c4d\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/commit/81b2a6a4de22ebb3d3e1c857e686bccbfd636c4d</a></p>\n<p><a href=\"https://github.com/eclipse/jetty.project/commit/81b2a6a4de22ebb3d3e1c857e686bccbfd636c4d#diff-4a6398c38fa91cfa934acb61be7e7e21100196b7c26fde7f403a9df3a0d8ee2c\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/commit/81b2a6a4de22ebb3d3e1c857e686bccbfd636c4d#diff-4a6398c38fa91cfa934acb61be7e7e21100196b7c26fde7f403a9df3a0d8ee2c</a></p>\n"}],"owner":{"account_id":88881,"reputation":37434,"user_id":245602,"accept_rate":55,"display_name":"George Hawkins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28171733,"answer_count":2,"score":0,"last_activity_date":1677780329,"creation_date":1422360939,"question_id":28170319,"body_markdown":"I&#39;m successfully using the Jetty `JDBCLoginService` for FORM authentication (just as described in the [Jetty configuring security authentication page](http://www.eclipse.org/jetty/documentation/current/configuring-security-authentication.html)).\r\n\r\nThe first time a user logs in the `JDBCLoginService` caches the user password details (if you follow the logic through from [`JDBCLoginService.loadUser(String)`](https://github.com/eclipse/jetty.project/blob/8c58a9a/jetty-security/src/main/java/org/eclipse/jetty/security/JDBCLoginService.java#L264) you pretty quickly get to the user identity being cached in the [`MappedLoginService._users` map](https://github.com/eclipse/jetty.project/blob/8c58a9a/jetty-security/src/main/java/org/eclipse/jetty/security/MappedLoginService.java#L199)).\r\n\r\nHowever nothing ever invalidates this cache - even if the user logs out the old details stay there forever.\r\n\r\nIn my webapp I&#39;ve provided my own user settings servlet that allows user&#39;s to change their password. This interacts with the database completely independently of `JDBCLoginService` so obviously changes it makes are not picked up by the `JDBCLoginService`.\r\n\r\nI can&#39;t see any obvious way for the webapp to signal such changes to the login service. I&#39;m going to try subclassing `JDBCLoginService` and overriding [`MappedLoginService.logout(UserIdentity)`](https://github.com/eclipse/jetty.project/blob/8c58a9a/jetty-security/src/main/java/org/eclipse/jetty/security/MappedLoginService.java#L138) to always remove the user from the cache on logout so that any password change is picked up when they next login.\r\n\r\nBut changing one&#39;s password is fairly normal so I&#39;m surprised I need to change the standard behavior - should I be handling things differently? Or using e.g. a more advanced library that builds on `JDBCLoginService`?","title":"Jetty JDBCLoginService doesn&#39;t pick up password changes?","body":"<p>I'm successfully using the Jetty <code>JDBCLoginService</code> for FORM authentication (just as described in the <a href=\"http://www.eclipse.org/jetty/documentation/current/configuring-security-authentication.html\" rel=\"nofollow\">Jetty configuring security authentication page</a>).</p>\n\n<p>The first time a user logs in the <code>JDBCLoginService</code> caches the user password details (if you follow the logic through from <a href=\"https://github.com/eclipse/jetty.project/blob/8c58a9a/jetty-security/src/main/java/org/eclipse/jetty/security/JDBCLoginService.java#L264\" rel=\"nofollow\"><code>JDBCLoginService.loadUser(String)</code></a> you pretty quickly get to the user identity being cached in the <a href=\"https://github.com/eclipse/jetty.project/blob/8c58a9a/jetty-security/src/main/java/org/eclipse/jetty/security/MappedLoginService.java#L199\" rel=\"nofollow\"><code>MappedLoginService._users</code> map</a>).</p>\n\n<p>However nothing ever invalidates this cache - even if the user logs out the old details stay there forever.</p>\n\n<p>In my webapp I've provided my own user settings servlet that allows user's to change their password. This interacts with the database completely independently of <code>JDBCLoginService</code> so obviously changes it makes are not picked up by the <code>JDBCLoginService</code>.</p>\n\n<p>I can't see any obvious way for the webapp to signal such changes to the login service. I'm going to try subclassing <code>JDBCLoginService</code> and overriding <a href=\"https://github.com/eclipse/jetty.project/blob/8c58a9a/jetty-security/src/main/java/org/eclipse/jetty/security/MappedLoginService.java#L138\" rel=\"nofollow\"><code>MappedLoginService.logout(UserIdentity)</code></a> to always remove the user from the cache on logout so that any password change is picked up when they next login.</p>\n\n<p>But changing one's password is fairly normal so I'm surprised I need to change the standard behavior - should I be handling things differently? Or using e.g. a more advanced library that builds on <code>JDBCLoginService</code>?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1677779325,"post_id":75618804,"comment_id":133409487,"body_markdown":"That&#39;s an unfortunate problem to have. My coworker and I discussed your problem at length and decided the best solution would be a [custom deserializer](https://www.baeldung.com/jackson-deserialization) that wraps the answer from @Koray.","body":"That&#39;s an unfortunate problem to have. My coworker and I discussed your problem at length and decided the best solution would be a <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">custom deserializer</a> that wraps the answer from @Koray."}],"answers":[{"tags":[],"owner":{"account_id":10646374,"reputation":154,"user_id":7838942,"display_name":"Koray"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677779421,"creation_date":1677777893,"answer_id":75618871,"question_id":75618804,"body_markdown":"POJO classes for your JSON data, ProviderInformation and PractitionerInformation, with the respective fields.\r\n\r\n````\r\npublic class ProviderInformation {\r\n    @JsonProperty(&quot;Provider Information&gt;&gt;Address Line 1&quot;)\r\n    private String addressLine1;\r\n\r\n    @JsonProperty(&quot;Provider Information&gt;&gt;Address Line 2&quot;)\r\n    private String addressLine2;\r\n}\r\n\r\npublic class PractitionerInformation {\r\n    @JsonProperty(&quot;Practitioner Information&gt;&gt;Email&quot;)\r\n    private String email;\r\n\r\n    @JsonProperty(&quot;Practitioner Information&gt;&gt;DOB&quot;)\r\n    private String dob;\r\n}\r\n````\r\n\r\nUse the `ObjectMapper` class from Jackson to deserialize your JSON string to Java objects\r\n\r\n````\r\nObjectMapper mapper = new ObjectMapper();\r\nProviderInformation providerInfo = mapper.readValue(jsonString, ProviderInformation.class);\r\nPractitionerInformation practitionerInfo = mapper.readValue(jsonString, PractitionerInformation.class);\r\n````","title":"How to do JSON String to Java Object mapping when JSON has a non-conventional format?","body":"<p>POJO classes for your JSON data, ProviderInformation and PractitionerInformation, with the respective fields.</p>\n<pre><code>public class ProviderInformation {\n    @JsonProperty(&quot;Provider Information&gt;&gt;Address Line 1&quot;)\n    private String addressLine1;\n\n    @JsonProperty(&quot;Provider Information&gt;&gt;Address Line 2&quot;)\n    private String addressLine2;\n}\n\npublic class PractitionerInformation {\n    @JsonProperty(&quot;Practitioner Information&gt;&gt;Email&quot;)\n    private String email;\n\n    @JsonProperty(&quot;Practitioner Information&gt;&gt;DOB&quot;)\n    private String dob;\n}\n</code></pre>\n<p>Use the <code>ObjectMapper</code> class from Jackson to deserialize your JSON string to Java objects</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nProviderInformation providerInfo = mapper.readValue(jsonString, ProviderInformation.class);\nPractitionerInformation practitionerInfo = mapper.readValue(jsonString, PractitionerInformation.class);\n</code></pre>\n"}],"owner":{"account_id":15565844,"reputation":375,"user_id":11229625,"display_name":"k92"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677779668,"creation_date":1677777533,"question_id":75618804,"body_markdown":"I want to convert JSON (which I am fetching from DB CLOB and later to String in code) to a java object. The problem is, JSON is not conventional to directly convert into an object using GSON or Jackson.\r\n\r\nJSON Format:\r\n\r\n    {\r\n      &quot;Provider Information&gt;&gt;Address Line 1&quot;:&quot;123 Street Road&quot;,\r\n      &quot;Provider Information&gt;&gt;Address Line 2&quot;:&quot;Some road&quot;,\r\n      &quot;Practitioner Information&gt;&gt;Email&quot;:&quot;testuser@gmail.com&quot;,\r\n      &quot;Practitioner Information&gt;&gt;DOB&quot;:&quot;03/11/1990&quot;,\r\n     }\r\n\r\nThere are only 2 sections to JSON like the above **&quot;Provider Information&quot;** &amp; **&quot;Practitioner Information&quot;** and the total fields are around 20 for each section.\r\n\r\nAnd their respective java classes - `ProviderInformation.java` &amp; `PractitionerInformation.java`\r\nwhich are having its respective fields:\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    public class ProviderInformation{\r\n       private String addressLine1;\r\n       private String addressLine2;\r\n       .....\r\n    }\r\n\r\nAnd similarly,\r\n\r\n    @Getter\r\n    @Setter\r\n    public class PractitionerInformation{\r\n      private String email;\r\n      private String dob;\r\n      ...\r\n    }\r\n\r\nOne solution I can think of is to read each section&#39;s values into a map - one for the provider, one for the practitioner, and then for each entry - match the key to a hardcoded enum value (like having an enum for fields of each section) and then use setter methods to assign values to the object.\r\n\r\nBut that looks a little complicated to me and I wanted to know if anything simpler is available to map these fields. I have no control over incoming data to change any format.\r\nThanks in advance!","title":"How to do JSON String to Java Object mapping when JSON has a non-conventional format?","body":"<p>I want to convert JSON (which I am fetching from DB CLOB and later to String in code) to a java object. The problem is, JSON is not conventional to directly convert into an object using GSON or Jackson.</p>\n<p>JSON Format:</p>\n<pre><code>{\n  &quot;Provider Information&gt;&gt;Address Line 1&quot;:&quot;123 Street Road&quot;,\n  &quot;Provider Information&gt;&gt;Address Line 2&quot;:&quot;Some road&quot;,\n  &quot;Practitioner Information&gt;&gt;Email&quot;:&quot;testuser@gmail.com&quot;,\n  &quot;Practitioner Information&gt;&gt;DOB&quot;:&quot;03/11/1990&quot;,\n }\n</code></pre>\n<p>There are only 2 sections to JSON like the above <strong>&quot;Provider Information&quot;</strong> &amp; <strong>&quot;Practitioner Information&quot;</strong> and the total fields are around 20 for each section.</p>\n<p>And their respective java classes - <code>ProviderInformation.java</code> &amp; <code>PractitionerInformation.java</code>\nwhich are having its respective fields:</p>\n<pre><code>@Getter\n@Setter\npublic class ProviderInformation{\n   private String addressLine1;\n   private String addressLine2;\n   .....\n}\n</code></pre>\n<p>And similarly,</p>\n<pre><code>@Getter\n@Setter\npublic class PractitionerInformation{\n  private String email;\n  private String dob;\n  ...\n}\n</code></pre>\n<p>One solution I can think of is to read each section's values into a map - one for the provider, one for the practitioner, and then for each entry - match the key to a hardcoded enum value (like having an enum for fields of each section) and then use setter methods to assign values to the object.</p>\n<p>But that looks a little complicated to me and I wanted to know if anything simpler is available to map these fields. I have no control over incoming data to change any format.\nThanks in advance!</p>\n"},{"tags":["java","node.js","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":0,"creation_date":1675111093,"post_id":75266412,"comment_id":132854668,"body_markdown":"If you can use any other (Node.js) JAVA library on AWS lambda, so you can surely use Aspose.Cells for Node.js via Java. By the way, you can use Aspose.Cells for .NET on  AWS lambda as tested, see the document (https://docs.aspose.com/cells/net/how-to-run-aspose-cells-in-aws-lambda/) for your reference.\n\nPS. I am working as Support developer/ Evangelist at Aspose.","body":"If you can use any other (Node.js) JAVA library on AWS lambda, so you can surely use Aspose.Cells for Node.js via Java. By the way, you can use Aspose.Cells for .NET on  AWS lambda as tested, see the document (<a href=\"https://docs.aspose.com/cells/net/how-to-run-aspose-cells-in-aws-lambda/\" rel=\"nofollow noreferrer\">docs.aspose.com/cells/net/how-to-run-aspose-cells-in-aws-la&zwnj;&#8203;mbda</a>) for your reference.  PS. I am working as Support developer/ Evangelist at Aspose."}],"answers":[{"tags":[],"owner":{"account_id":1380269,"reputation":1174,"user_id":3323395,"accept_rate":25,"display_name":"Ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677699201,"creation_date":1677699201,"answer_id":75608162,"question_id":75266412,"body_markdown":"I hit this issue too after battling with some bundling issues that aspose.cells has due to using node addons. I think this issue may then be due to the AWS Lambda runtime image not having jdk/jre installed to run the Java side of the aspose API. I think you would likely need to extend that AWS runtime image and add in what is required (Oracle JDK). It would be great if the aspose team could provide some samples of running the nodejs wrapper in Lambda like they do with .Net","title":"An error occurred in AWS Lambda when I tried to use java library on Node.js runtime","body":"<p>I hit this issue too after battling with some bundling issues that aspose.cells has due to using node addons. I think this issue may then be due to the AWS Lambda runtime image not having jdk/jre installed to run the Java side of the aspose API. I think you would likely need to extend that AWS runtime image and add in what is required (Oracle JDK). It would be great if the aspose team could provide some samples of running the nodejs wrapper in Lambda like they do with .Net</p>\n"}],"owner":{"account_id":27641463,"reputation":11,"user_id":21098341,"display_name":"Kohki Yokota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677779585,"creation_date":1674895431,"question_id":75266412,"body_markdown":"I want to use library called [Aspose.Cells for Node.js via Java](https://www.npmjs.com/package/aspose.cells).\r\n\r\nI uploaded aspose.cells and java library to Lambda Layer and coded simple program which worked perfect on my local machine.\r\n\r\n```\r\nvar java = require(&#39;java&#39;)\r\n\r\nvar aspose = aspose || {}\r\naspose.cells = require(&#39;aspose.cells&#39;)\r\n\r\nexports.handler = async (event) =&gt; {\r\n  // import XLSX file\r\n  var workbook = new aspose.cells.Workbook(&#39;input.xlsx&#39;)\r\n\r\n  // export PDF file\r\n  await workbook.save(&#39;output.pdf&#39;)\r\n}\r\n```\r\n\r\nBut when I tested this code, an error occurred. below is the logs.\r\n\r\n```\r\nFunction Logs\r\n2023-01-28T08:31:42.286Z\tundefined\tERROR\tUncaught Exception \t{&quot;errorType&quot;:&quot;Error&quot;,&quot;errorMessage&quot;:&quot;libjvm.so: cannot open shared object file: No such file or directory&quot;,&quot;stack&quot;:[&quot;Error: libjvm.so: cannot open shared object file: No such file or directory&quot;,&quot;    at Object.Module._extensions..node (internal/modules/cjs/loader.js:1057:18)&quot;,&quot;    at Module.load (internal/modules/cjs/loader.js:863:32)&quot;,&quot;    at Function.Module._load (internal/modules/cjs/loader.js:708:14)&quot;,&quot;    at Module.require (internal/modules/cjs/loader.js:887:19)&quot;,&quot;    at require (internal/modules/cjs/helpers.js:74:18)&quot;,&quot;    at Object.&lt;anonymous&gt; (/opt/nodejs/node_modules/java/lib/nodeJavaBridge.js:21:16)&quot;,&quot;    at Module._compile (internal/modules/cjs/loader.js:999:30)&quot;,&quot;    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)&quot;,&quot;    at Module.load (internal/modules/cjs/loader.js:863:32)&quot;,&quot;    at Function.Module._load (internal/modules/cjs/loader.js:708:14)&quot;]}\r\n2023-01-28T08:31:44.200Z\tundefined\tERROR\tUncaught Exception \t{&quot;errorType&quot;:&quot;Error&quot;,&quot;errorMessage&quot;:&quot;libjvm.so: cannot open shared object file: No such file or directory&quot;,&quot;stack&quot;:[&quot;Error: libjvm.so: cannot open shared object file: No such file or directory&quot;,&quot;    at Object.Module._extensions..node (internal/modules/cjs/loader.js:1057:18)&quot;,&quot;    at Module.load (internal/modules/cjs/loader.js:863:32)&quot;,&quot;    at Function.Module._load (internal/modules/cjs/loader.js:708:14)&quot;,&quot;    at Module.require (internal/modules/cjs/loader.js:887:19)&quot;,&quot;    at require (internal/modules/cjs/helpers.js:74:18)&quot;,&quot;    at Object.&lt;anonymous&gt; (/opt/nodejs/node_modules/java/lib/nodeJavaBridge.js:21:16)&quot;,&quot;    at Module._compile (internal/modules/cjs/loader.js:999:30)&quot;,&quot;    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)&quot;,&quot;    at Module.load (internal/modules/cjs/loader.js:863:32)&quot;,&quot;    at Function.Module._load (internal/modules/cjs/loader.js:708:14)&quot;]}\r\nSTART RequestId: af8c4f10-0288-42e0-8cd3-4337b734cb7e Version: $LATEST\r\nUnknown application error occurred\r\nRuntime.Unknown\r\nEND RequestId: af8c4f10-0288-42e0-8cd3-4337b734cb7e\r\nREPORT RequestId: af8c4f10-0288-42e0-8cd3-4337b734cb7e\tDuration: 2131.62 ms\tBilled Duration: 2132 ms\tMemory Size: 128 MB\tMax Memory Used: 16 MB\r\n```\r\n\r\nThough I don&#39;t much familiar with AWS Lambda, in the first place,  is it possible to use java library on Node.js runtime ?\r\n\r\nIf it isn&#39;t possible, are there any way to use Aspose.Cells on AWS Lambda?\r\n\r\nthanks\r\n\r\nI searched for about two days but I never solved this problem.\r\nI want to use Aspose.Cells on AWS Lambda.","title":"An error occurred in AWS Lambda when I tried to use java library on Node.js runtime","body":"<p>I want to use library called <a href=\"https://www.npmjs.com/package/aspose.cells\" rel=\"nofollow noreferrer\">Aspose.Cells for Node.js via Java</a>.</p>\n<p>I uploaded aspose.cells and java library to Lambda Layer and coded simple program which worked perfect on my local machine.</p>\n<pre><code>var java = require('java')\n\nvar aspose = aspose || {}\naspose.cells = require('aspose.cells')\n\nexports.handler = async (event) =&gt; {\n  // import XLSX file\n  var workbook = new aspose.cells.Workbook('input.xlsx')\n\n  // export PDF file\n  await workbook.save('output.pdf')\n}\n</code></pre>\n<p>But when I tested this code, an error occurred. below is the logs.</p>\n<pre><code>Function Logs\n2023-01-28T08:31:42.286Z    undefined   ERROR   Uncaught Exception  {&quot;errorType&quot;:&quot;Error&quot;,&quot;errorMessage&quot;:&quot;libjvm.so: cannot open shared object file: No such file or directory&quot;,&quot;stack&quot;:[&quot;Error: libjvm.so: cannot open shared object file: No such file or directory&quot;,&quot;    at Object.Module._extensions..node (internal/modules/cjs/loader.js:1057:18)&quot;,&quot;    at Module.load (internal/modules/cjs/loader.js:863:32)&quot;,&quot;    at Function.Module._load (internal/modules/cjs/loader.js:708:14)&quot;,&quot;    at Module.require (internal/modules/cjs/loader.js:887:19)&quot;,&quot;    at require (internal/modules/cjs/helpers.js:74:18)&quot;,&quot;    at Object.&lt;anonymous&gt; (/opt/nodejs/node_modules/java/lib/nodeJavaBridge.js:21:16)&quot;,&quot;    at Module._compile (internal/modules/cjs/loader.js:999:30)&quot;,&quot;    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)&quot;,&quot;    at Module.load (internal/modules/cjs/loader.js:863:32)&quot;,&quot;    at Function.Module._load (internal/modules/cjs/loader.js:708:14)&quot;]}\n2023-01-28T08:31:44.200Z    undefined   ERROR   Uncaught Exception  {&quot;errorType&quot;:&quot;Error&quot;,&quot;errorMessage&quot;:&quot;libjvm.so: cannot open shared object file: No such file or directory&quot;,&quot;stack&quot;:[&quot;Error: libjvm.so: cannot open shared object file: No such file or directory&quot;,&quot;    at Object.Module._extensions..node (internal/modules/cjs/loader.js:1057:18)&quot;,&quot;    at Module.load (internal/modules/cjs/loader.js:863:32)&quot;,&quot;    at Function.Module._load (internal/modules/cjs/loader.js:708:14)&quot;,&quot;    at Module.require (internal/modules/cjs/loader.js:887:19)&quot;,&quot;    at require (internal/modules/cjs/helpers.js:74:18)&quot;,&quot;    at Object.&lt;anonymous&gt; (/opt/nodejs/node_modules/java/lib/nodeJavaBridge.js:21:16)&quot;,&quot;    at Module._compile (internal/modules/cjs/loader.js:999:30)&quot;,&quot;    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)&quot;,&quot;    at Module.load (internal/modules/cjs/loader.js:863:32)&quot;,&quot;    at Function.Module._load (internal/modules/cjs/loader.js:708:14)&quot;]}\nSTART RequestId: af8c4f10-0288-42e0-8cd3-4337b734cb7e Version: $LATEST\nUnknown application error occurred\nRuntime.Unknown\nEND RequestId: af8c4f10-0288-42e0-8cd3-4337b734cb7e\nREPORT RequestId: af8c4f10-0288-42e0-8cd3-4337b734cb7e  Duration: 2131.62 ms    Billed Duration: 2132 ms    Memory Size: 128 MB Max Memory Used: 16 MB\n</code></pre>\n<p>Though I don't much familiar with AWS Lambda, in the first place,  is it possible to use java library on Node.js runtime ?</p>\n<p>If it isn't possible, are there any way to use Aspose.Cells on AWS Lambda?</p>\n<p>thanks</p>\n<p>I searched for about two days but I never solved this problem.\nI want to use Aspose.Cells on AWS Lambda.</p>\n"},{"tags":["java","junit","mockito","java-11"],"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1677703607,"post_id":75606206,"comment_id":133392703,"body_markdown":"`jakarta.ws.rs.core.Response`? Could you please also include (i) your test class and (ii) the stack trace?","body":"<code>jakarta.ws.rs.core.Response</code>? Could you please also include (i) your test class and (ii) the stack trace?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677704829,"post_id":75606206,"comment_id":133393022,"body_markdown":"the message says to check your stacktrace - you should at least provide it in the question, even if you checked it yourself. Which Java version are you using? Which dependency does the `Response` come from?","body":"the message says to check your stacktrace - you should at least provide it in the question, even if you checked it yourself. Which Java version are you using? Which dependency does the <code>Response</code> come from?"},{"owner":{"account_id":20051834,"reputation":41,"user_id":14700379,"display_name":"Peter Potoma"},"score":0,"creation_date":1677751400,"post_id":75606206,"comment_id":133400981,"body_markdown":"@beatngu13 I have added test class and stack trace cyberbrain the response comes from javax.ws.rs.core.Response;","body":"@beatngu13 I have added test class and stack trace cyberbrain the response comes from javax.ws.rs.core.Response;"},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1677877425,"post_id":75606206,"comment_id":133430914,"body_markdown":"@PeterPotoma Mockito / Byte Buddy cannot find `javax.xml.bind.annotation.adapters.XmlAdapter` (`ClassNotFoundException`). Could you please also include your build file (e.g. `pom.xml`)?","body":"@PeterPotoma Mockito / Byte Buddy cannot find <code>javax.xml.bind.annotation.adapters.XmlAdapter</code> (<code>ClassNotFoundException</code>). Could you please also include your build file (e.g. <code>pom.xml</code>)?"}],"answers":[{"comments":[{"owner":{"account_id":20051834,"reputation":41,"user_id":14700379,"display_name":"Peter Potoma"},"score":0,"creation_date":1677751819,"post_id":75609060,"comment_id":133401115,"body_markdown":"This is not good approach because I want to modify the value of mockResponse by mock behavior. Its parametrized test and I would need a lot of those and you cannot use this syntax in setting Mockito behavior because when I would want to use your syntax I cannot use Mockito.when(ResponseOk because when requires an argument which has to be a method call on a mock but thank you for the answer I tried it but it doesnt fix my problem.","body":"This is not good approach because I want to modify the value of mockResponse by mock behavior. Its parametrized test and I would need a lot of those and you cannot use this syntax in setting Mockito behavior because when I would want to use your syntax I cannot use Mockito.when(ResponseOk because when requires an argument which has to be a method call on a mock but thank you for the answer I tried it but it doesnt fix my problem."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677779506,"post_id":75609060,"comment_id":133409537,"body_markdown":"@PeterPotoma I added an example of how you could simplify your test (didn&#39;t have the test code available when I wrote my answer), let me know if it works for you.","body":"@PeterPotoma I added an example of how you could simplify your test (didn&#39;t have the test code available when I wrote my answer), let me know if it works for you."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677779471,"creation_date":1677705256,"answer_id":75609060,"question_id":75606206,"body_markdown":"You don&#39;t have to `mock` a `javax.ws.rs.core.Response`- even for a test you could simply build the real thing quite easily:\r\n\r\n``` lang-java\r\nResponse responseOk = Response.ok().build();\r\n```\r\nThis should give you a response with an OK state. Or if you don&#39;t trust the word &quot;ok&quot;, you could do something like\r\n```\r\nResponse response200 = Response.status(200).build();\r\n```\r\n\r\nBoth ways seem a lot more elegant to me, and are shorter to write and read.\r\n\r\nTo adapt your test, you could change the mocking like this:\r\n``` lang-java\r\nMockito.when(builder.build()).thenReturn(Response.status(errorCode).build());\r\n```\r\nAnd then you should be able to skip your whole `if` afterwards. As it is &quot;the real thing&quot; it should behave correctly when it comes to the statustype, family, etc.","title":"Cannot mock response class or nullpointerException?","body":"<p>You don't have to <code>mock</code> a <code>javax.ws.rs.core.Response</code>- even for a test you could simply build the real thing quite easily:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response responseOk = Response.ok().build();\n</code></pre>\n<p>This should give you a response with an OK state. Or if you don't trust the word &quot;ok&quot;, you could do something like</p>\n<pre><code>Response response200 = Response.status(200).build();\n</code></pre>\n<p>Both ways seem a lot more elegant to me, and are shorter to write and read.</p>\n<p>To adapt your test, you could change the mocking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(builder.build()).thenReturn(Response.status(errorCode).build());\n</code></pre>\n<p>And then you should be able to skip your whole <code>if</code> afterwards. As it is &quot;the real thing&quot; it should behave correctly when it comes to the statustype, family, etc.</p>\n"}],"owner":{"account_id":20051834,"reputation":41,"user_id":14700379,"display_name":"Peter Potoma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677779471,"creation_date":1677686854,"question_id":75606206,"body_markdown":"I am trying to write a unit test for Response using JUnit 5 and mockito-junit-jupiter:4.8.0.\r\nThe method is simply checking the error codes :\r\n \r\n```java\r\npublic Response toResponse(Throwable t) {\r\n    LOGGER.error(t.getMessage(), t);\r\n    if (t instanceof WebApplicationException) {\r\n        return getResponse(t, ((WebApplicationException) t).getResponse().getStatus());\r\n    }\r\n    if (t instanceof IllegalArgumentException) {\r\n        return getResponse(t, Response.Status.BAD_REQUEST.getStatusCode());\r\n    }\r\n    if (t instanceof PersistenceException) {\r\n        return getDatabaseExceptionResponse(Response.Status.INTERNAL_SERVER_ERROR.getStatusCode());\r\n    }\r\n    \r\n    return getResponse(t, Response.Status.INTERNAL_SERVER_ERROR.getStatusCode());\r\n}\r\n```\r\n\r\nAnd I found pretty interesting thing.. in older project I used to mock Response class like this \r\n\r\n```java\r\nResponse response = Mockito.mock(Response.class);\r\nMockito.when(response.getStatus()).thenReturn(200);\r\n```\r\n\r\nwhich was working just fine with no issues at all. But now when I try to mock response class I either get \r\n\r\n```none\r\nMockito cannot mock this class: class javax.ws.rs.core.Response.\r\n    \r\n    Mockito can only mock non-private &amp; non-final classes, but the root cause of this error might be different.\r\n    Please check the full stacktrace to understand what the issue is.\r\n    If you&#39;re still not sure why you&#39;re getting this error, please open an issue on GitHub.\r\n```\r\n\r\nOr `NullPointerException` when i try to run test without `@ExtendWith(MockitoExtension.class)`.\r\n\r\n\r\n\r\n Can anyone help me with that ? thank you Peter\r\n\r\n@edit\r\nThis is the test its parametrized junit 5 test. Please dont mind assert equals on the end I was just trying to put anything there so I can get past error\r\n \r\n\r\n            @Mock\r\n            Response mockResponse;\r\n        \r\n            @Mock\r\n            Response.ResponseBuilder builder;\r\n        \r\n            @Mock\r\n            Response.StatusType statusType;\r\n    \r\n    \r\n        @ParameterizedTest\r\n            @CsvSource({\r\n                &quot;java.lang.IllegalArgumentException,400&quot;,\r\n                &quot;javax.ws.rs.NotFoundException,404&quot;,\r\n                &quot;javax.ws.rs.NotAcceptableException,406&quot;,\r\n                &quot;javax.ws.rs.ServiceUnavailableException,503&quot;,\r\n                &quot;java.lang.NullPointerException,500&quot;\r\n            })\r\n            void testToResponse(String className, int errorCode) throws ClassNotFoundException, NoSuchMethodException, InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, InvocationTargetException {\r\n        \r\n                \r\n         Mockito.when(Response.status(anyInt())).thenReturn(builder)\r\n         Mockito.when(builder.entity(any())).thenReturn(builder);\r\n         Mockito.when(builder.header(anyString(), anyString())).thenReturn(builder);\r\n         Mockito.when(builder.build()).thenReturn(mockResponse);\r\n                \r\n        \r\n                if (className.startsWith(&quot;javax.ws.rs.&quot;)) {\r\n                    switch (className) {\r\n                        case &quot;javax.ws.rs.NotFoundException&quot;:\r\n                            when(mockResponse.getStatus()).thenReturn(404);\r\n                            break;\r\n                        case &quot;javax.ws.rs.NotAcceptableException&quot;:\r\n                            when(mockResponse.getStatus()).thenReturn(406);\r\n                            break;\r\n                        case &quot;javax.ws.rs.ServiceUnavailableException&quot;:\r\n                            when(mockResponse.getStatus()).thenReturn(503);\r\n                            break;\r\n                    }\r\n                    when(mockResponse.getStatusInfo()).thenReturn(statusType);\r\n                    when(statusType.getFamily()).thenReturn(Response.Status.Family.familyOf(errorCode));\r\n                }\r\n        \r\n                Constructor&lt;?&gt; constructor = Class.forName(className).getConstructor(String.class);\r\n                Object e = constructor.newInstance(MESSAGE);\r\n        \r\n                mapper.toResponse((Throwable) e);\r\n                System.out.print(mockResponse.getStatus());\r\n                assertEquals(&quot;&quot;, mockResponse.getStatus());\r\n            }\r\n\r\nStacktrace for mockito cannot mock this class :\r\n\r\n    Underlying exception : java.lang.IllegalStateException: Failed to invoke proxy for public abstract java.lang.reflect.AnnotatedElement net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$ForLoadedMethodReturnType$Dispatcher.getAnnotatedReturnType(java.lang.reflect.Method)\r\n    \tat org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:153)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:163)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:162)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:129)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:226)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:204)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:139)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:107)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n    \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:135)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \tSuppressed: java.lang.NullPointerException\r\n    \t\tat org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:184)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$12(TestMethodTestDescriptor.java:257)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:273)\r\n    \t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:273)\r\n    \t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:272)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:256)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:141)\r\n    \t\t... 114 more\r\n    Caused by: java.lang.IllegalStateException: Failed to invoke proxy for public abstract java.lang.reflect.AnnotatedElement net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$ForLoadedMethodReturnType$Dispatcher.getAnnotatedReturnType(java.lang.reflect.Method)\r\n    \tat net.bytebuddy.utility.dispatcher.JavaDispatcher$ProxiedInvocationHandler.invoke(JavaDispatcher.java:1173)\r\n    \tat net.bytebuddy.description.type.$Proxy33.getAnnotatedReturnType(Unknown Source)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$ForLoadedMethodReturnType.resolve(TypeDescription.java:2947)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:2692)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:3889)\r\n    \tat net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.apply(AnnotationAppender.java:743)\r\n    \tat net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:723)\r\n    \tat net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:425)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType.accept(TypeDescription.java:3670)\r\n    \tat net.bytebuddy.implementation.attribute.MethodAttributeAppender$ForInstrumentedMethod.apply(MethodAttributeAppender.java:196)\r\n    \tat net.bytebuddy.implementation.attribute.MethodAttributeAppender$Compound.apply(MethodAttributeAppender.java:484)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyAttributes(TypeWriter.java:712)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:702)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:611)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForCreation.create(TypeWriter.java:5959)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2213)\r\n    \tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:232)\r\n    \tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:204)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3668)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:288)\r\n    \tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\r\n    \tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:168)\r\n    \tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:399)\r\n    \tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:190)\r\n    \tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:410)\r\n    \tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:77)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:43)\r\n    \tat org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:42)\r\n    \tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:53)\r\n    \tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:96)\r\n    \tat org.mockito.Mockito.mock(Mockito.java:1965)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:66)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:27)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:24)\r\n    \tat org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:44)\r\n    \tat org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:72)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:73)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:47)\r\n    \tat org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:81)\r\n    \tat org.mockito.internal.framework.DefaultMockitoSession.&lt;init&gt;(DefaultMockitoSession.java:43)\r\n    \tat org.mockito.internal.session.DefaultMockitoSessionBuilder.startMocking(DefaultMockitoSessionBuilder.java:83)\r\n    \t... 121 more\r\n    Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/annotation/adapters/XmlAdapter\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \tat java.base/java.lang.Class.getDeclaringClass0(Native Method)\r\n    \tat java.base/java.lang.Class.getEnclosingClass(Class.java:1517)\r\n    \tat java.base/sun.reflect.annotation.AnnotatedTypeFactory.nestingForType(AnnotatedTypeFactory.java:96)\r\n    \tat java.base/sun.reflect.annotation.TypeAnnotationParser.buildAnnotatedType(TypeAnnotationParser.java:79)\r\n    \tat java.base/java.lang.reflect.Executable.getAnnotatedReturnType0(Executable.java:642)\r\n    \tat java.base/java.lang.reflect.Method.getAnnotatedReturnType(Method.java:721)\r\n    \tat java.base/jdk.internal.reflect.GeneratedMethodAccessor13.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat net.bytebuddy.utility.Invoker$Dispatcher.invoke(Unknown Source)\r\n    \tat net.bytebuddy.utility.dispatcher.JavaDispatcher$Dispatcher$ForNonStaticMethod.invoke(JavaDispatcher.java:1028)\r\n    \tat net.bytebuddy.utility.dispatcher.JavaDispatcher$ProxiedInvocationHandler.invoke(JavaDispatcher.java:1158)\r\n    \t... 162 more\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.adapters.XmlAdapter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 183 more\r\n\r\nI found some older articles that had this issue mockito cannot mock the class but it was from version 2.15 to 2.22. I am using 4.8.0. The issue was that when the mockito dependency was installed it downloaded unsupported version of bytebudby which was causing the issue. Bytebuddy version in my project is 1.12.9. Now there are newev version but its not the dependency I installed but dependency that mockito installed i dont have control over the version easily and I would want to avoid installing agents and stuff like that. Thanks\r\n","title":"Cannot mock response class or nullpointerException?","body":"<p>I am trying to write a unit test for Response using JUnit 5 and mockito-junit-jupiter:4.8.0.\nThe method is simply checking the error codes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Response toResponse(Throwable t) {\n    LOGGER.error(t.getMessage(), t);\n    if (t instanceof WebApplicationException) {\n        return getResponse(t, ((WebApplicationException) t).getResponse().getStatus());\n    }\n    if (t instanceof IllegalArgumentException) {\n        return getResponse(t, Response.Status.BAD_REQUEST.getStatusCode());\n    }\n    if (t instanceof PersistenceException) {\n        return getDatabaseExceptionResponse(Response.Status.INTERNAL_SERVER_ERROR.getStatusCode());\n    }\n    \n    return getResponse(t, Response.Status.INTERNAL_SERVER_ERROR.getStatusCode());\n}\n</code></pre>\n<p>And I found pretty interesting thing.. in older project I used to mock Response class like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = Mockito.mock(Response.class);\nMockito.when(response.getStatus()).thenReturn(200);\n</code></pre>\n<p>which was working just fine with no issues at all. But now when I try to mock response class I either get</p>\n<pre class=\"lang-none prettyprint-override\"><code>Mockito cannot mock this class: class javax.ws.rs.core.Response.\n    \n    Mockito can only mock non-private &amp; non-final classes, but the root cause of this error might be different.\n    Please check the full stacktrace to understand what the issue is.\n    If you're still not sure why you're getting this error, please open an issue on GitHub.\n</code></pre>\n<p>Or <code>NullPointerException</code> when i try to run test without <code>@ExtendWith(MockitoExtension.class)</code>.</p>\n<p>Can anyone help me with that ? thank you Peter</p>\n<p>@edit\nThis is the test its parametrized junit 5 test. Please dont mind assert equals on the end I was just trying to put anything there so I can get past error</p>\n<pre><code>        @Mock\n        Response mockResponse;\n    \n        @Mock\n        Response.ResponseBuilder builder;\n    \n        @Mock\n        Response.StatusType statusType;\n\n\n    @ParameterizedTest\n        @CsvSource({\n            &quot;java.lang.IllegalArgumentException,400&quot;,\n            &quot;javax.ws.rs.NotFoundException,404&quot;,\n            &quot;javax.ws.rs.NotAcceptableException,406&quot;,\n            &quot;javax.ws.rs.ServiceUnavailableException,503&quot;,\n            &quot;java.lang.NullPointerException,500&quot;\n        })\n        void testToResponse(String className, int errorCode) throws ClassNotFoundException, NoSuchMethodException, InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, InvocationTargetException {\n    \n            \n     Mockito.when(Response.status(anyInt())).thenReturn(builder)\n     Mockito.when(builder.entity(any())).thenReturn(builder);\n     Mockito.when(builder.header(anyString(), anyString())).thenReturn(builder);\n     Mockito.when(builder.build()).thenReturn(mockResponse);\n            \n    \n            if (className.startsWith(&quot;javax.ws.rs.&quot;)) {\n                switch (className) {\n                    case &quot;javax.ws.rs.NotFoundException&quot;:\n                        when(mockResponse.getStatus()).thenReturn(404);\n                        break;\n                    case &quot;javax.ws.rs.NotAcceptableException&quot;:\n                        when(mockResponse.getStatus()).thenReturn(406);\n                        break;\n                    case &quot;javax.ws.rs.ServiceUnavailableException&quot;:\n                        when(mockResponse.getStatus()).thenReturn(503);\n                        break;\n                }\n                when(mockResponse.getStatusInfo()).thenReturn(statusType);\n                when(statusType.getFamily()).thenReturn(Response.Status.Family.familyOf(errorCode));\n            }\n    \n            Constructor&lt;?&gt; constructor = Class.forName(className).getConstructor(String.class);\n            Object e = constructor.newInstance(MESSAGE);\n    \n            mapper.toResponse((Throwable) e);\n            System.out.print(mockResponse.getStatus());\n            assertEquals(&quot;&quot;, mockResponse.getStatus());\n        }\n</code></pre>\n<p>Stacktrace for mockito cannot mock this class :</p>\n<pre><code>Underlying exception : java.lang.IllegalStateException: Failed to invoke proxy for public abstract java.lang.reflect.AnnotatedElement net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$ForLoadedMethodReturnType$Dispatcher.getAnnotatedReturnType(java.lang.reflect.Method)\n    at org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:153)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:163)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:162)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:129)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:226)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:204)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:139)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:107)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:135)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: java.lang.NullPointerException\n        at org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:184)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$12(TestMethodTestDescriptor.java:257)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:273)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:273)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:272)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:256)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:141)\n        ... 114 more\nCaused by: java.lang.IllegalStateException: Failed to invoke proxy for public abstract java.lang.reflect.AnnotatedElement net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$ForLoadedMethodReturnType$Dispatcher.getAnnotatedReturnType(java.lang.reflect.Method)\n    at net.bytebuddy.utility.dispatcher.JavaDispatcher$ProxiedInvocationHandler.invoke(JavaDispatcher.java:1173)\n    at net.bytebuddy.description.type.$Proxy33.getAnnotatedReturnType(Unknown Source)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$ForLoadedMethodReturnType.resolve(TypeDescription.java:2947)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:2692)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:3889)\n    at net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.apply(AnnotationAppender.java:743)\n    at net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:723)\n    at net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:425)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType.accept(TypeDescription.java:3670)\n    at net.bytebuddy.implementation.attribute.MethodAttributeAppender$ForInstrumentedMethod.apply(MethodAttributeAppender.java:196)\n    at net.bytebuddy.implementation.attribute.MethodAttributeAppender$Compound.apply(MethodAttributeAppender.java:484)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyAttributes(TypeWriter.java:712)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:702)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:611)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForCreation.create(TypeWriter.java:5959)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2213)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:232)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:204)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3668)\n    at org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:288)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:168)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:399)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:190)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:410)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:77)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:43)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:42)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:53)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:96)\n    at org.mockito.Mockito.mock(Mockito.java:1965)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:66)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:27)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:24)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:44)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:72)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:73)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:47)\n    at org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:81)\n    at org.mockito.internal.framework.DefaultMockitoSession.&lt;init&gt;(DefaultMockitoSession.java:43)\n    at org.mockito.internal.session.DefaultMockitoSessionBuilder.startMocking(DefaultMockitoSessionBuilder.java:83)\n    ... 121 more\nCaused by: java.lang.NoClassDefFoundError: javax/xml/bind/annotation/adapters/XmlAdapter\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at java.base/java.lang.Class.getDeclaringClass0(Native Method)\n    at java.base/java.lang.Class.getEnclosingClass(Class.java:1517)\n    at java.base/sun.reflect.annotation.AnnotatedTypeFactory.nestingForType(AnnotatedTypeFactory.java:96)\n    at java.base/sun.reflect.annotation.TypeAnnotationParser.buildAnnotatedType(TypeAnnotationParser.java:79)\n    at java.base/java.lang.reflect.Executable.getAnnotatedReturnType0(Executable.java:642)\n    at java.base/java.lang.reflect.Method.getAnnotatedReturnType(Method.java:721)\n    at java.base/jdk.internal.reflect.GeneratedMethodAccessor13.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at net.bytebuddy.utility.Invoker$Dispatcher.invoke(Unknown Source)\n    at net.bytebuddy.utility.dispatcher.JavaDispatcher$Dispatcher$ForNonStaticMethod.invoke(JavaDispatcher.java:1028)\n    at net.bytebuddy.utility.dispatcher.JavaDispatcher$ProxiedInvocationHandler.invoke(JavaDispatcher.java:1158)\n    ... 162 more\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.adapters.XmlAdapter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 183 more\n</code></pre>\n<p>I found some older articles that had this issue mockito cannot mock the class but it was from version 2.15 to 2.22. I am using 4.8.0. The issue was that when the mockito dependency was installed it downloaded unsupported version of bytebudby which was causing the issue. Bytebuddy version in my project is 1.12.9. Now there are newev version but its not the dependency I installed but dependency that mockito installed i dont have control over the version easily and I would want to avoid installing agents and stuff like that. Thanks</p>\n"},{"tags":["java","hibernate","hibernate-validator"],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677779042,"creation_date":1677779042,"question_id":75619050,"body_markdown":"I am using Hibernate validator in a REST API to validate database entities after getting parse from JSON. This works fine, however usually if one of the members of the object violates one of the constraints declared with hibernate validation, the response is an object containing a collection of constraint violations with the corresponding messages as seen here:\r\n\r\n    {&quot;title&quot;:&quot;Constraint Violation&quot;,&quot;status&quot;:400,&quot;violations&quot;:[{&quot;field&quot;:&quot;createJob.arg0.sourceDatabaseURL&quot;,&quot;message&quot;:&quot;Source database connection has to be a valid URL&quot;}, ...]}\r\n\r\nThe entity mapping class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;job_requests&quot;)\r\n    // Used for conditional validation, not present in others where response is still same schema\r\n    @GroupSequenceProvider(JobRequestSequenceProvider.class)\r\n    public class JobRequest extends BaseEntity {\r\n        @Size(min = 1, max = 256, message = &quot;Source database URL should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\r\n        @URL(message = &quot;Source database connection has to be a valid URL&quot;, groups = SourceConditionalValidation.class)\r\n        //... other attributes and get/set\r\n    }\r\n\r\n**For one route however i am getting a different weird object response, regardless of whether it is one multiple violations (it will just use the last one):**\r\n\r\n    {&quot;objectName&quot;:&quot;Settings&quot;,&quot;attributeName&quot;:&quot;requestDelayInMiliseconds&quot;,&quot;line&quot;:1,&quot;column&quot;:65,&quot;value&quot;:&quot;gdfgdfg&quot;}\r\n\r\nThe entity mapping class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;settings&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = {&quot;is_default&quot;}) })\r\n    public class Settings extends BaseEntity {\r\n        // Removed some constants to reduce code snippet    \r\n        private static final int MAX_DIGITS = 5;\r\n        private static final String ERROR_MESSAGE \r\n            = &quot;This value has to be a number with up to &quot; + MAX_DIGITS + &quot; digits&quot;;\r\n    \r\n        @NotNull(message = ERROR_MESSAGE)\r\n        @Digits(fraction = 0, integer = MAX_DIGITS, message = ERROR_MESSAGE)\r\n        @Column(name = &quot;request_limit_before_delay&quot;, nullable = false)\r\n        private int requestLimitBeforeDelay = DEFAULT_REQUEST_LIMIT_BEFORE_DELAY;\r\n        \r\n        @NotNull(message = ERROR_MESSAGE)\r\n        @Digits(fraction = 0, integer = MAX_DIGITS, message = ERROR_MESSAGE)\r\n        @Column(name = &quot;request_delay_in_miliseconds&quot;, nullable = false)\r\n        private int requestDelayInMiliseconds = DEFAULT_REQUEST_DELAY_IN_MS;\r\n        \r\n        @NotNull(message = ERROR_MESSAGE)\r\n        @Digits(fraction = 0, integer = MAX_DIGITS, message = ERROR_MESSAGE)\r\n        @Column(name = &quot;db_paging_size&quot;, nullable = false)\r\n        private int dbPagingSize = DEFAULT_DB_PAGING_SIZE;\r\n        \r\n        @NotNull(message = ERROR_MESSAGE)\r\n        @Digits(fraction = 0, integer = MAX_DIGITS, message = ERROR_MESSAGE)\r\n        @Column(name = &quot;repeated_error_threshold&quot;, nullable = false)\r\n        private int repeatedErrorThreshold = DEFAULT_REPEATED_ERROR_THRESHOLD;\r\n        \r\n        //get/set...\r\n    }\r\n\r\nWhy is this happening? Not only does it break my client side handling of error responses, it also seems very inconsistent.","title":"Why does Hibernate validator give different response formats for similar setups?","body":"<p>I am using Hibernate validator in a REST API to validate database entities after getting parse from JSON. This works fine, however usually if one of the members of the object violates one of the constraints declared with hibernate validation, the response is an object containing a collection of constraint violations with the corresponding messages as seen here:</p>\n<pre><code>{&quot;title&quot;:&quot;Constraint Violation&quot;,&quot;status&quot;:400,&quot;violations&quot;:[{&quot;field&quot;:&quot;createJob.arg0.sourceDatabaseURL&quot;,&quot;message&quot;:&quot;Source database connection has to be a valid URL&quot;}, ...]}\n</code></pre>\n<p>The entity mapping class:</p>\n<pre><code>@Entity\n@Table(name = &quot;job_requests&quot;)\n// Used for conditional validation, not present in others where response is still same schema\n@GroupSequenceProvider(JobRequestSequenceProvider.class)\npublic class JobRequest extends BaseEntity {\n    @Size(min = 1, max = 256, message = &quot;Source database URL should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\n    @URL(message = &quot;Source database connection has to be a valid URL&quot;, groups = SourceConditionalValidation.class)\n    //... other attributes and get/set\n}\n</code></pre>\n<p><strong>For one route however i am getting a different weird object response, regardless of whether it is one multiple violations (it will just use the last one):</strong></p>\n<pre><code>{&quot;objectName&quot;:&quot;Settings&quot;,&quot;attributeName&quot;:&quot;requestDelayInMiliseconds&quot;,&quot;line&quot;:1,&quot;column&quot;:65,&quot;value&quot;:&quot;gdfgdfg&quot;}\n</code></pre>\n<p>The entity mapping class:</p>\n<pre><code>@Entity\n@Table(name = &quot;settings&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = {&quot;is_default&quot;}) })\npublic class Settings extends BaseEntity {\n    // Removed some constants to reduce code snippet    \n    private static final int MAX_DIGITS = 5;\n    private static final String ERROR_MESSAGE \n        = &quot;This value has to be a number with up to &quot; + MAX_DIGITS + &quot; digits&quot;;\n\n    @NotNull(message = ERROR_MESSAGE)\n    @Digits(fraction = 0, integer = MAX_DIGITS, message = ERROR_MESSAGE)\n    @Column(name = &quot;request_limit_before_delay&quot;, nullable = false)\n    private int requestLimitBeforeDelay = DEFAULT_REQUEST_LIMIT_BEFORE_DELAY;\n    \n    @NotNull(message = ERROR_MESSAGE)\n    @Digits(fraction = 0, integer = MAX_DIGITS, message = ERROR_MESSAGE)\n    @Column(name = &quot;request_delay_in_miliseconds&quot;, nullable = false)\n    private int requestDelayInMiliseconds = DEFAULT_REQUEST_DELAY_IN_MS;\n    \n    @NotNull(message = ERROR_MESSAGE)\n    @Digits(fraction = 0, integer = MAX_DIGITS, message = ERROR_MESSAGE)\n    @Column(name = &quot;db_paging_size&quot;, nullable = false)\n    private int dbPagingSize = DEFAULT_DB_PAGING_SIZE;\n    \n    @NotNull(message = ERROR_MESSAGE)\n    @Digits(fraction = 0, integer = MAX_DIGITS, message = ERROR_MESSAGE)\n    @Column(name = &quot;repeated_error_threshold&quot;, nullable = false)\n    private int repeatedErrorThreshold = DEFAULT_REPEATED_ERROR_THRESHOLD;\n    \n    //get/set...\n}\n</code></pre>\n<p>Why is this happening? Not only does it break my client side handling of error responses, it also seems very inconsistent.</p>\n"},{"tags":["java","android"],"owner":{"account_id":27920000,"reputation":1,"user_id":21320389,"display_name":"Shivam Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677778919,"creation_date":1677773597,"question_id":75618068,"body_markdown":"I am making a tab layout in android using java.\r\n\r\n\r\n    vpAdapter = new VPAdapter(getChildFragmentManager(), FragmentPagerAdapter.BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n\r\n    add_tab_button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    vpAdapter.addFragment(new VideoPlayer(), &quot;New Tab&quot;);\r\n                    viewPager.setAdapter(vpAdapter);\r\n                }\r\n            });\r\n\r\n\r\n\r\nThe main issue in above scenario is that whenever i add new tab, the video playing in older tab gets cleared and doesn&#39;t play at all.\r\n\r\n\r\nHow to add a new tab by keeping other tabs as it is and process running in them should not get cleared","title":"How to add new tab in android java tab layout using viewpager without clearing older tabs?","body":"<p>I am making a tab layout in android using java.</p>\n<pre><code>vpAdapter = new VPAdapter(getChildFragmentManager(), FragmentPagerAdapter.BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n\nadd_tab_button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                vpAdapter.addFragment(new VideoPlayer(), &quot;New Tab&quot;);\n                viewPager.setAdapter(vpAdapter);\n            }\n        });\n</code></pre>\n<p>The main issue in above scenario is that whenever i add new tab, the video playing in older tab gets cleared and doesn't play at all.</p>\n<p>How to add a new tab by keeping other tabs as it is and process running in them should not get cleared</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":2606749,"reputation":747,"user_id":2257776,"accept_rate":75,"display_name":"Mohammad Sadegh"},"score":0,"creation_date":1547414508,"post_id":54172913,"comment_id":95175562,"body_markdown":"419 code is not an official code. sometimes it shows Authentication Timeout. also Laravel framework sends it when CSRF token is missing or expired. see this page for more info: http://getstatuscode.com/419","body":"419 code is not an official code. sometimes it shows Authentication Timeout. also Laravel framework sends it when CSRF token is missing or expired. see this page for more info: <a href=\"http://getstatuscode.com/419\" rel=\"nofollow noreferrer\">getstatuscode.com/419</a>"},{"owner":{"account_id":72317,"reputation":137,"user_id":208861,"accept_rate":80,"display_name":"Tom Henricksen"},"score":0,"creation_date":1547428877,"post_id":54172913,"comment_id":95178383,"body_markdown":"@MohammadSadegh should the code be able to handle that? Or work around that status code?","body":"@MohammadSadegh should the code be able to handle that? Or work around that status code?"}],"answers":[{"tags":[],"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581842347,"creation_date":1570650643,"answer_id":58311326,"question_id":54172913,"body_markdown":"I was making a get request through HttpClient library as well as from POSTMAN and facing same 419 error. To solve this 419 error we need to add `csrf` token while making form submission.\r\n\r\nHowever, In-case if you are still wondering how to find `csrf` token even when you are making a **GET** request and facing status **419**. In my case **I solved the problem by adding the `user-agent: xxxx` token in header**.\r\n\r\nExample:\r\n\r\n    user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\r\n\r\n\r\nHttpClient Code:\r\n\r\n      connectionManager = new PoolingHttpClientConnectionManager();\r\n      ...\r\n      ...\r\n      ...\r\n    \r\n      httpClient = HttpClients.custom()\r\n                    .setConnectionManager(connectionManager)\r\n                    .setRedirectStrategy(new LaxRedirectStrategy())\r\n                    .setUserAgent(&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36&quot;)\r\n                    .build();\r\n\r\n","title":"How to handle 419 http response in Java","body":"<p>I was making a get request through HttpClient library as well as from POSTMAN and facing same 419 error. To solve this 419 error we need to add <code>csrf</code> token while making form submission.</p>\n\n<p>However, In-case if you are still wondering how to find <code>csrf</code> token even when you are making a <strong>GET</strong> request and facing status <strong>419</strong>. In my case <strong>I solved the problem by adding the <code>user-agent: xxxx</code> token in header</strong>.</p>\n\n<p>Example:</p>\n\n<pre><code>user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n</code></pre>\n\n<p>HttpClient Code:</p>\n\n<pre><code>  connectionManager = new PoolingHttpClientConnectionManager();\n  ...\n  ...\n  ...\n\n  httpClient = HttpClients.custom()\n                .setConnectionManager(connectionManager)\n                .setRedirectStrategy(new LaxRedirectStrategy())\n                .setUserAgent(\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\")\n                .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11059588,"reputation":315,"user_id":8121365,"display_name":"Md.Habibur Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677778499,"creation_date":1677778499,"answer_id":75618968,"question_id":54172913,"body_markdown":"If you hit the website URL from any browser then you can easily get the content, but when you hit the url from postman or from your code, then it says the status code 419, which actually means that it expects a csrf token. But how does the browser get the content then? it is because the site you are trying to hit is configured in such a way that when it gets request from browser Only then it will render the result. When the browser hits the http request, it sends a param called &quot;user-agent&quot; where it sends some information.\r\nfor example- \r\n\r\n    user-agent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&quot;\r\n        \r\n- &quot;Mozilla/5.0&quot; - Indicates that the browser is compatible with Mozilla, which is a common web browser engine.\r\n\r\n    \r\n\r\n - &quot;(Windows NT 10.0; Win64; x64)&quot; - Indicates that the operating system is Windows 10, and that it is running on a 64-bit processor.\r\n\r\n\r\n - &quot;AppleWebKit/537.36 (KHTML, like Gecko)&quot; - Indicates that the browser is using the WebKit rendering engine, which is also used by other popular browsers like Safari and Opera. &quot;KHTML&quot; refers to the fact that WebKit is based on the KHTML layout engine.\r\n\r\n- &quot;Chrome/58.0.3029.110&quot; - Indicates that the browser is Google Chrome version 58.0.3029.110.\r\n\r\n- &quot;Safari/537.36&quot; - Indicates that the browser is also using some components from the Safari browser.\r\n\r\nSo, if we can fake the http call from our java code(below) as if sending from a browser then it no longer will give the 419 status.\r\n\r\n                String url = &quot;your-site-url&quot;;\r\n                HttpClient client = HttpClientBuilder.create().build();\r\n                request = new HttpGet(url);\r\n    \r\n                String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&quot;;\r\n                request.addHeader(&quot;User-Agent&quot;, userAgent);\r\n                HttpResponse response = client.execute(request);\r\n    \r\n                HttpEntity entity = response.getEntity();\r\n                String content = EntityUtils.toString(entity);\r\n                System.out.println(content);\r\n    \r\n\r\np.s- apache httpclient is used here, make sure to add the dependency to the pom.xml","title":"How to handle 419 http response in Java","body":"<p>If you hit the website URL from any browser then you can easily get the content, but when you hit the url from postman or from your code, then it says the status code 419, which actually means that it expects a csrf token. But how does the browser get the content then? it is because the site you are trying to hit is configured in such a way that when it gets request from browser Only then it will render the result. When the browser hits the http request, it sends a param called &quot;user-agent&quot; where it sends some information.\nfor example-</p>\n<pre><code>user-agent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&quot;\n    \n</code></pre>\n<ul>\n<li><p>&quot;Mozilla/5.0&quot; - Indicates that the browser is compatible with Mozilla, which is a common web browser engine.</p>\n</li>\n<li><p>&quot;(Windows NT 10.0; Win64; x64)&quot; - Indicates that the operating system is Windows 10, and that it is running on a 64-bit processor.</p>\n</li>\n<li><p>&quot;AppleWebKit/537.36 (KHTML, like Gecko)&quot; - Indicates that the browser is using the WebKit rendering engine, which is also used by other popular browsers like Safari and Opera. &quot;KHTML&quot; refers to the fact that WebKit is based on the KHTML layout engine.</p>\n</li>\n<li><p>&quot;Chrome/58.0.3029.110&quot; - Indicates that the browser is Google Chrome version 58.0.3029.110.</p>\n</li>\n<li><p>&quot;Safari/537.36&quot; - Indicates that the browser is also using some components from the Safari browser.</p>\n</li>\n</ul>\n<p>So, if we can fake the http call from our java code(below) as if sending from a browser then it no longer will give the 419 status.</p>\n<pre><code>            String url = &quot;your-site-url&quot;;\n            HttpClient client = HttpClientBuilder.create().build();\n            request = new HttpGet(url);\n\n            String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&quot;;\n            request.addHeader(&quot;User-Agent&quot;, userAgent);\n            HttpResponse response = client.execute(request);\n\n            HttpEntity entity = response.getEntity();\n            String content = EntityUtils.toString(entity);\n            System.out.println(content);\n</code></pre>\n<p>p.s- apache httpclient is used here, make sure to add the dependency to the pom.xml</p>\n"}],"owner":{"account_id":72317,"reputation":137,"user_id":208861,"accept_rate":80,"display_name":"Tom Henricksen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1152,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677778499,"creation_date":1547411176,"question_id":54172913,"body_markdown":"I am trying to parse through a particular website and am getting an HTTP response code of 419 when my java code calls it. I need to parse through the response to find content and I am stuck on the response code.\r\n\r\nI have tried putting together a Java program using apache http client(version 4.5.6) to call a website that I need to parse. The http response code I get back is 419.\r\n\r\n    try (CloseableHttpClient httpclient = HttpClients.createDefault()) {\r\n        HttpGet httpGet = new HttpGet(&quot;http://www.website.com&quot;);\r\n        try (CloseableHttpResponse response1 = httpclient.execute(httpGet)) {\r\n\t\t    System.out.println(response1.getStatusLine());\r\n\t\t    HttpEntity entity1 = response1.getEntity();\r\n\t\t    EntityUtils.consume(entity1);\r\n\t\t}\r\n    }\r\n\r\nThe result that it prints out is this:\r\n```none\r\nHTTP/1.1 419 status code 419\r\n```\r\n\r\nI am expecting a 200\r\n```none\r\nHTTP/1.1 200 OK\r\n```\r\nI get that when I change the website to google or other sites.\r\n\r\n","title":"How to handle 419 http response in Java","body":"<p>I am trying to parse through a particular website and am getting an HTTP response code of 419 when my java code calls it. I need to parse through the response to find content and I am stuck on the response code.</p>\n\n<p>I have tried putting together a Java program using apache http client(version 4.5.6) to call a website that I need to parse. The http response code I get back is 419.</p>\n\n<pre><code>try (CloseableHttpClient httpclient = HttpClients.createDefault()) {\n    HttpGet httpGet = new HttpGet(\"http://www.website.com\");\n    try (CloseableHttpResponse response1 = httpclient.execute(httpGet)) {\n        System.out.println(response1.getStatusLine());\n        HttpEntity entity1 = response1.getEntity();\n        EntityUtils.consume(entity1);\n    }\n}\n</code></pre>\n\n<p>The result that it prints out is this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HTTP/1.1 419 status code 419\n</code></pre>\n\n<p>I am expecting a 200</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HTTP/1.1 200 OK\n</code></pre>\n\n<p>I get that when I change the website to google or other sites.</p>\n"},{"tags":["java","database","command-line","connection","sqlplus"],"owner":{"account_id":27916389,"reputation":1,"user_id":21317465,"display_name":"Ken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677778304,"creation_date":1677747633,"question_id":75613231,"body_markdown":"After launching my program from command line, it returns the following error message when the program is routed to get a connection to retrieve data from a database :\r\n \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\r\n&gt; invoke &quot;java.sql.Connection.createStatement()&quot; because the return\r\n&gt; value of &quot;capstone.bankRev6b.Conn.connect()&quot; is null\r\n\r\nHow do you setup the connection from commandline?\r\n\r\nI have tried the following suggestion but did not work:\r\n\r\n    set oracle_sid=ORCL\r\n    net start oracleserviceORCL\r\n\r\n","title":"How do you get a connection to Oracle database when running the program from the command line?","body":"<p>After launching my program from command line, it returns the following error message when the program is routed to get a connection to retrieve data from a database :</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\ninvoke &quot;java.sql.Connection.createStatement()&quot; because the return\nvalue of &quot;capstone.bankRev6b.Conn.connect()&quot; is null</p>\n</blockquote>\n<p>How do you setup the connection from commandline?</p>\n<p>I have tried the following suggestion but did not work:</p>\n<pre><code>set oracle_sid=ORCL\nnet start oracleserviceORCL\n</code></pre>\n"},{"tags":["java","struts2"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1494574417,"post_id":43931892,"comment_id":74896237,"body_markdown":"please show the relevant code and read  [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve)","body":"please show the relevant code and read  <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}],"answers":[{"comments":[{"owner":{"account_id":10883122,"reputation":1,"user_id":8001404,"display_name":"Jason Wang"},"score":0,"creation_date":1494589005,"post_id":43934235,"comment_id":74905570,"body_markdown":"Amazing! I forgot to post the source code and you &#39;ve solved my question! Thank you.","body":"Amazing! I forgot to post the source code and you &#39;ve solved my question! Thank you."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1494593942,"post_id":43934235,"comment_id":74908869,"body_markdown":"You are welcome! Don&#39;t forget to explore [showcase applications](https://github.com/apache/struts/tree/master/apps) that are really cookbook examples.","body":"You are welcome! Don&#39;t forget to explore <a href=\"https://github.com/apache/struts/tree/master/apps\" rel=\"nofollow noreferrer\">showcase applications</a> that are really cookbook examples."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635167324,"creation_date":1494581592,"answer_id":43934235,"question_id":43931892,"body_markdown":"If you have followed the example tutorial the file should be in the same package folder as the action class. The maven structure divided the source folders to use `resources` for the properties files. See the [`Register.ptoperties` file][1] for the example of source code.\r\n\r\n&gt;Put the text below in a file named `Register.properties` in the `org.apache.struts.register.action` package in the `src/resources/java` folder.\r\n\r\nThen you can use a `key` attribute of the `textfield` tag to retrieve resources for label.\r\n\r\n&gt;     &lt;s:textfield key=&quot;personBean.firstName&quot;  /&gt;\r\n\r\n  [1]: https://github.com/apache/struts-examples/blob/master/message-resource/src/main/resources/org/apache/struts/register/action/Register.properties","title":"Values in Java properties file didn&#39;t show up","body":"<p>If you have followed the example tutorial the file should be in the same package folder as the action class. The maven structure divided the source folders to use <code>resources</code> for the properties files. See the <a href=\"https://github.com/apache/struts-examples/blob/master/message-resource/src/main/resources/org/apache/struts/register/action/Register.properties\" rel=\"nofollow noreferrer\"><code>Register.ptoperties</code> file</a> for the example of source code.</p>\n<blockquote>\n<p>Put the text below in a file named <code>Register.properties</code> in the <code>org.apache.struts.register.action</code> package in the <code>src/resources/java</code> folder.</p>\n</blockquote>\n<p>Then you can use a <code>key</code> attribute of the <code>textfield</code> tag to retrieve resources for label.</p>\n<blockquote>\n<pre><code>&lt;s:textfield key=&quot;personBean.firstName&quot;  /&gt;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":10883122,"reputation":1,"user_id":8001404,"display_name":"Jason Wang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677778184,"creation_date":1494574268,"question_id":43931892,"body_markdown":"I am learning Struts2. When I am in [Message Resource File sector][1], I wrote down some key value pairs in Java properties file and expected them show in form tag after a action class. However, they didn&#39;t show up.\r\nThey&#39;re supposed to look like this &lt;p&gt;\r\n![][2]\r\n\r\n\r\n  [1]: http://struts.apache.org/docs/message-resource-files.html\r\n  [2]: https://i.stack.imgur.com/KHllF.png","title":"Values in Java properties file didn&#39;t show up","body":"<p>I am learning Struts2. When I am in <a href=\"http://struts.apache.org/docs/message-resource-files.html\" rel=\"nofollow noreferrer\">Message Resource File sector</a>, I wrote down some key value pairs in Java properties file and expected them show in form tag after a action class. However, they didn't show up.\nThey're supposed to look like this <p>\n<img src=\"https://i.stack.imgur.com/KHllF.png\" alt=\"\" /></p>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1677781018,"post_id":75618876,"comment_id":133409928,"body_markdown":"Consider using a Linux distro with reproducibility as a stronger design goal. NixOS in particular lets you get packages as they existed of a specific prior point in time. (It also provides [its own tooling for building Docker images](https://nixos.org/manual/nixpkgs/stable/#sec-pkgs-dockerTools), so one doesn&#39;t need to use Dockerfiles at all in the first place... though with Nix&#39;s much stronger isolation features, one doesn&#39;t have as much need for containerization as a whole either).","body":"Consider using a Linux distro with reproducibility as a stronger design goal. NixOS in particular lets you get packages as they existed of a specific prior point in time. (It also provides <a href=\"https://nixos.org/manual/nixpkgs/stable/#sec-pkgs-dockerTools\" rel=\"nofollow noreferrer\">its own tooling for building Docker images</a>, so one doesn&#39;t need to use Dockerfiles at all in the first place... though with Nix&#39;s much stronger isolation features, one doesn&#39;t have as much need for containerization as a whole either)."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677781998,"post_id":75618876,"comment_id":133410201,"body_markdown":"I&#39;m intrigued by why you need a specific build. Could you elaborate on it a bit? Just for curiosity&#39;s sake. I&#39;ve used different builds and vendors of Java 8 in a single project without issues, so I might need to keep your reasons in mind.","body":"I&#39;m intrigued by why you need a specific build. Could you elaborate on it a bit? Just for curiosity&#39;s sake. I&#39;ve used different builds and vendors of Java 8 in a single project without issues, so I might need to keep your reasons in mind."},{"owner":{"account_id":14526363,"reputation":1,"user_id":10492501,"display_name":"John_Che"},"score":0,"creation_date":1677783179,"post_id":75618876,"comment_id":133410475,"body_markdown":"I want to use it set JAVA_HOME in the container. When the Build number change the path changes and script fails.","body":"I want to use it set JAVA_HOME in the container. When the Build number change the path changes and script fails."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1677808626,"post_id":75618876,"comment_id":133415273,"body_markdown":"You know you can write code to detect the path that actually exists and make a constant symlink to it? Most distros have Java packaging do that for you so you don&#39;t need to know the real path at all","body":"You know you can write code to detect the path that actually exists and make a constant symlink to it? Most distros have Java packaging do that for you so you don&#39;t need to know the real path at all"}],"owner":{"account_id":14526363,"reputation":1,"user_id":10492501,"display_name":"John_Che"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677777909,"creation_date":1677777909,"question_id":75618876,"body_markdown":"The open-jdk build number is changing and it is affecting JAVA path set  in the Dockerfile.\r\n\r\nThe build number changed from java-1.8.0-openjdk-**1.8.0.352.b08-2.**amzn2.0.1.x86_64 to java-1.8.0-openjdk-**1.8.0.362.b08-1**.amzn2.0.1.x86_64 \r\n\r\nbelow is the code\r\n\r\n```\r\nRUN yum update -y &amp;&amp; \r\n    yum -y install yum-plugin-versionlock &amp;&amp; \\\r\n    yum -y versionlock add java-1.8.0-openjdk-1.8.0.362.b08-0.amzn2.0.1.x86_64 &amp;&amp; \\\r\n    yum -y install java-1.8.0-openjdk &amp;&amp; \\\r\n    yum clean all\r\n```\r\n\r\nI tried adding a version lock, but it doesn&#39;t control the build number. I understand the RUN commad in docker starts a new shell and none of the variable persist. Two ways I tried to solve the problem\r\n\r\n1. Capture path using JAVA_PATH=$(ls /usr/lib/jvm |grep java) and then use it for JAVA_HOME\r\n2. Used a shell script to RUN the above the command\r\n3. Which java may not work if it not backward compatible.\r\n\r\n\r\nThe solution should run in Dockerfile and consistently get the same openJDK build number. thanks in advance.","title":"The open-jdk build number is changing and it is affecting JAVA path set in the Dockerfile","body":"<p>The open-jdk build number is changing and it is affecting JAVA path set  in the Dockerfile.</p>\n<p>The build number changed from java-1.8.0-openjdk-<strong>1.8.0.352.b08-2.<strong>amzn2.0.1.x86_64 to java-1.8.0-openjdk-</strong>1.8.0.362.b08-1</strong>.amzn2.0.1.x86_64</p>\n<p>below is the code</p>\n<pre><code>RUN yum update -y &amp;&amp; \n    yum -y install yum-plugin-versionlock &amp;&amp; \\\n    yum -y versionlock add java-1.8.0-openjdk-1.8.0.362.b08-0.amzn2.0.1.x86_64 &amp;&amp; \\\n    yum -y install java-1.8.0-openjdk &amp;&amp; \\\n    yum clean all\n</code></pre>\n<p>I tried adding a version lock, but it doesn't control the build number. I understand the RUN commad in docker starts a new shell and none of the variable persist. Two ways I tried to solve the problem</p>\n<ol>\n<li>Capture path using JAVA_PATH=$(ls /usr/lib/jvm |grep java) and then use it for JAVA_HOME</li>\n<li>Used a shell script to RUN the above the command</li>\n<li>Which java may not work if it not backward compatible.</li>\n</ol>\n<p>The solution should run in Dockerfile and consistently get the same openJDK build number. thanks in advance.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677776618,"creation_date":1677776618,"answer_id":75618639,"question_id":75618427,"body_markdown":"It seems there&#39;s no way to get access to these things without reflection, unless someone proves me wrong.\r\n\r\nSo here&#39;s how to get a `List&lt;UnicodeBlock&gt;`:\r\n```\r\n   List&lt;UnicodeBlock&gt; collect = Arrays.stream(UnicodeBlock.class.getFields())\r\n                                 .filter(f -&gt; f.getType() == UnicodeBlock.class)\r\n                                 .map(field -&gt; {\r\n                                   try {\r\n                                     return (UnicodeBlock)field.get(null);\r\n                                   } catch (IllegalAccessException e) {\r\n                                     throw new RuntimeException(e);\r\n                                   }\r\n                                 })\r\n                                 .collect(Collectors.toList());\r\n```\r\n\r\nExceptions in lambdas are always ugly, but it does the job.","title":"What is best way to get all UnicodeBlocks?","body":"<p>It seems there's no way to get access to these things without reflection, unless someone proves me wrong.</p>\n<p>So here's how to get a <code>List&lt;UnicodeBlock&gt;</code>:</p>\n<pre><code>   List&lt;UnicodeBlock&gt; collect = Arrays.stream(UnicodeBlock.class.getFields())\n                                 .filter(f -&gt; f.getType() == UnicodeBlock.class)\n                                 .map(field -&gt; {\n                                   try {\n                                     return (UnicodeBlock)field.get(null);\n                                   } catch (IllegalAccessException e) {\n                                     throw new RuntimeException(e);\n                                   }\n                                 })\n                                 .collect(Collectors.toList());\n</code></pre>\n<p>Exceptions in lambdas are always ugly, but it does the job.</p>\n"}],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75618639,"answer_count":1,"score":0,"last_activity_date":1677777697,"creation_date":1677775430,"question_id":75618427,"body_markdown":"I need to iterate over all instances of the `Character.UnicodeBlock`. For some weird reason it is not an enum. How can I get the values inside a Collection or array. The HashMap that holds them all is private.","title":"What is best way to get all UnicodeBlocks?","body":"<p>I need to iterate over all instances of the <code>Character.UnicodeBlock</code>. For some weird reason it is not an enum. How can I get the values inside a Collection or array. The HashMap that holds them all is private.</p>\n"},{"tags":["java","micronaut-client"],"owner":{"account_id":2305297,"reputation":1882,"user_id":2024692,"accept_rate":100,"display_name":"Cromax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677777530,"creation_date":1677777530,"question_id":75618802,"body_markdown":"Several days ago I decided to give the Micronaut a try and I am highly enthusiastic. Unfortunately Javadocs are rather poor (less than terse whether rudimentary descriptions and/or no examples provided) and I&#39;ve just hit the wall with the declarative client (which OTOH is a great thing).\r\n\r\nSo here&#39;s the case: I declared a client for selected operations of remote 3-rd party service. Everything works as expected. Yet there&#39;s this op, that returns JSON data in form:\r\n\r\n```json\r\n{ &quot;foos&quot;: [ {...}, {...}, ... ] }\r\n```\r\nwhere each object in `foos` array is object of the same “class”, let&#39;s say `Foo`. So I got this class:\r\n\r\n```java\r\n@Introspected\r\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\npublic class Foo {\r\n    @JsonProperty @NonNull private String name;\r\n}\r\n```\r\n(I omit other fields and getters/setters for brevity). In declarative client I have this:\r\n```java\r\n@Client(id=&quot;third-party-service&quot;, path=&quot;/3.0&quot;)\r\n@Header(name=HttpHeaders.ACCEPT, value=&quot;application/problem+json, application/json&quot;)\r\npublic interface ThirdPartyClient {\r\n\r\n    @Get(&quot;/items/{item-id}/categories/{category-id}/foos&quot;) String fetchFoos(\r\n            @NonNull @PathVariable(&quot;item-id&quot;) String itemId,\r\n            @NonNull @PathVariable(&quot;category-id&quot;) String categoryId);\r\n}\r\n```\r\nAnd `fetchFoos` gets the JSON as String of above described response. And this is okay.\r\n\r\nNow what I can&#39;t figure out is how to, declaratively, tell the client to get `foos` field (the array) and return it as `List&lt;Foo&gt;` instead of being forced to declare some class like `FetchFoosResponse` with single field `foos`.\r\n\r\nI wasn&#39;t able to find any useful example on the Internet, thou there&#39;s pretty interesting guide on declarative clients on Micronaut site: https://guides.micronaut.io/latest/micronaut-http-client-maven-java.html – there&#39;s a lot about configuring client&#39;s requests, but nothing on the client&#39;s results.\r\n\r\nIs it even possible to do in Micronaut what I try to accomplish? (I am stuck with version 3.4.4).","title":"How to extract json field from response in declarative client in micronaut?","body":"<p>Several days ago I decided to give the Micronaut a try and I am highly enthusiastic. Unfortunately Javadocs are rather poor (less than terse whether rudimentary descriptions and/or no examples provided) and I've just hit the wall with the declarative client (which OTOH is a great thing).</p>\n<p>So here's the case: I declared a client for selected operations of remote 3-rd party service. Everything works as expected. Yet there's this op, that returns JSON data in form:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ &quot;foos&quot;: [ {...}, {...}, ... ] }\n</code></pre>\n<p>where each object in <code>foos</code> array is object of the same “class”, let's say <code>Foo</code>. So I got this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Introspected\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic class Foo {\n    @JsonProperty @NonNull private String name;\n}\n</code></pre>\n<p>(I omit other fields and getters/setters for brevity). In declarative client I have this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Client(id=&quot;third-party-service&quot;, path=&quot;/3.0&quot;)\n@Header(name=HttpHeaders.ACCEPT, value=&quot;application/problem+json, application/json&quot;)\npublic interface ThirdPartyClient {\n\n    @Get(&quot;/items/{item-id}/categories/{category-id}/foos&quot;) String fetchFoos(\n            @NonNull @PathVariable(&quot;item-id&quot;) String itemId,\n            @NonNull @PathVariable(&quot;category-id&quot;) String categoryId);\n}\n</code></pre>\n<p>And <code>fetchFoos</code> gets the JSON as String of above described response. And this is okay.</p>\n<p>Now what I can't figure out is how to, declaratively, tell the client to get <code>foos</code> field (the array) and return it as <code>List&lt;Foo&gt;</code> instead of being forced to declare some class like <code>FetchFoosResponse</code> with single field <code>foos</code>.</p>\n<p>I wasn't able to find any useful example on the Internet, thou there's pretty interesting guide on declarative clients on Micronaut site: <a href=\"https://guides.micronaut.io/latest/micronaut-http-client-maven-java.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-http-client-maven-java.html</a> – there's a lot about configuring client's requests, but nothing on the client's results.</p>\n<p>Is it even possible to do in Micronaut what I try to accomplish? (I am stuck with version 3.4.4).</p>\n"},{"tags":["java","spring-boot","gradle","oracle21c"],"owner":{"account_id":16680300,"reputation":23,"user_id":12055573,"display_name":"yaksh patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677777408,"creation_date":1677777408,"question_id":75618777,"body_markdown":"I have a Spring application that uses Gradle and is implementing Mongo DB currently. I want to use Oracle 21c XE db instead.\r\nI have installed 12c XE and am able to connect to he DB using SQL Plus but that&#39;s about it. \r\nMy questions:\r\n- What changes do I need to make to the application.properties file\r\n- What dependencies to I need to add to the build.gradle file \r\n- Any other items I need to consider?\r\n\r\n","title":"Using Oracle 21c XE with Spring boot project with Gradle","body":"<p>I have a Spring application that uses Gradle and is implementing Mongo DB currently. I want to use Oracle 21c XE db instead.\nI have installed 12c XE and am able to connect to he DB using SQL Plus but that's about it.\nMy questions:</p>\n<ul>\n<li>What changes do I need to make to the application.properties file</li>\n<li>What dependencies to I need to add to the build.gradle file</li>\n<li>Any other items I need to consider?</li>\n</ul>\n"},{"tags":["java","time","timezone"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1623319114,"post_id":67918503,"comment_id":120047727,"body_markdown":"It&#39;s a bit unclear about what you mean by &quot;the local time zone&quot;. Keep in mind that you are working with _offset_ date times, not _zoned_ date times, so I&#39;ll assume you mean &quot;the local offset&quot;. However, that is ambiguous. Do you mean the local offset at the instant `2011-12-03T10:00:00Z`, or do you mean the local offset _now_? Note that local offsets can change.","body":"It&#39;s a bit unclear about what you mean by &quot;the local time zone&quot;. Keep in mind that you are working with <i>offset</i> date times, not <i>zoned</i> date times, so I&#39;ll assume you mean &quot;the local offset&quot;. However, that is ambiguous. Do you mean the local offset at the instant <code>2011-12-03T10:00:00Z</code>, or do you mean the local offset <i>now</i>? Note that local offsets can change."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1623319461,"post_id":67918503,"comment_id":120047885,"body_markdown":"*&quot;It seems that it only truncates the date, removing the offset part, without adjusting the time&quot;* .. that&#39;s correct and that&#39;s what the method description says (https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toLocalDateTime--). Also, the &quot;local&quot; part in `LocalDateTime` doesn&#39;t mean it bothers about your actual local timezone, it just means that it represents a time that is valid for any current local timezone/offset, whatever that might be.","body":"<i>&quot;It seems that it only truncates the date, removing the offset part, without adjusting the time&quot;</i> .. that&#39;s correct and that&#39;s what the method description says (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toLocalDateTime--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>). Also, the &quot;local&quot; part in <code>LocalDateTime</code> doesn&#39;t mean it bothers about your actual local timezone, it just means that it represents a time that is valid for any current local timezone/offset, whatever that might be."}],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1623322516,"post_id":67919331,"comment_id":120049132,"body_markdown":"Which part of all that code is supposed to be an answer to the question?","body":"Which part of all that code is supposed to be an answer to the question?"},{"owner":{"account_id":18682087,"reputation":461,"user_id":13618407,"display_name":"stic-lab"},"score":0,"creation_date":1623322730,"post_id":67919331,"comment_id":120049206,"body_markdown":"According to the output I given, you can choose one function you want to use.","body":"According to the output I given, you can choose one function you want to use."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1623329073,"post_id":67919331,"comment_id":120051985,"body_markdown":"And which of those *changes* `2011-12-03T10:00:00Z` (type `OffsetDateTime`) to `2011-12-03T12:00:00` (type `LocalDateTime`)? There is no `LocalDateTime` in this answer, and there is no conversion of a `OffsetDateTime` for changing the time from 10 to 12, so that would be: None of them.","body":"And which of those <i>changes</i> <code>2011-12-03T10:00:00Z</code> (type <code>OffsetDateTime</code>) to <code>2011-12-03T12:00:00</code> (type <code>LocalDateTime</code>)? There is no <code>LocalDateTime</code> in this answer, and there is no conversion of a <code>OffsetDateTime</code> for changing the time from 10 to 12, so that would be: None of them."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1623329237,"post_id":67919331,"comment_id":120052067,"body_markdown":"For #7, `OffsetDateTime.ofInstant(Instant.now(), ZoneId.systemDefault())` is the long way of saying `OffsetDateTime.now()`.","body":"For #7, <code>OffsetDateTime.ofInstant(Instant.now(), ZoneId.systemDefault())</code> is the long way of saying <code>OffsetDateTime.now()</code>."}],"tags":[],"owner":{"account_id":18682087,"reputation":461,"user_id":13618407,"display_name":"stic-lab"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1623320829,"creation_date":1623320829,"answer_id":67919331,"question_id":67918503,"body_markdown":"Here is some code you can try :\r\n\r\n````java\r\npublic static void main(String[] args) {\r\n        OffsetDateTime offsetDT1 = OffsetDateTime.now();\r\n        System.out.println(&quot;OffsetDateTime1: &quot; + offsetDT1);\r\n \r\n        OffsetDateTime offsetDT2 = OffsetDateTime.now(Clock.systemUTC());\r\n        System.out.println(&quot;OffsetDateTime2: &quot; + offsetDT2);\r\n        \r\n        OffsetDateTime offsetDT3 = OffsetDateTime.now(ZoneId.of(&quot;Asia/Jakarta&quot;));\r\n        System.out.println(&quot;OffsetDateTime3: &quot; + offsetDT3);\r\n        \r\n        OffsetDateTime offsetDT4 = OffsetDateTime.of(1980, 4, 9, 20, 15, 45, 345875000, ZoneOffset.of(&quot;+07:00&quot;));\r\n        System.out.println(&quot;OffsetDateTime4: &quot; + offsetDT4);\r\n        \r\n        OffsetDateTime offsetDT5 = OffsetDateTime.of(LocalDate.now(), LocalTime.of(15, 50, 25), ZoneOffset.of(&quot;+07:00&quot;));\r\n        System.out.println(&quot;OffsetDateTime5: &quot; + offsetDT5);\r\n        \r\n        OffsetDateTime offsetDT6 = OffsetDateTime.of(LocalDateTime.now(), ZoneOffset.of(&quot;+07:00&quot;));\r\n        System.out.println(&quot;OffsetDateTime6: &quot; + offsetDT6);\r\n        \r\n        OffsetDateTime offsetDT7 = OffsetDateTime.ofInstant(Instant.now(), ZoneId.systemDefault());\r\n        System.out.println(&quot;OffsetDateTime7: &quot; + offsetDT7);\r\n        \r\n        OffsetDateTime offsetDT8 = OffsetDateTime.parse(&quot;2019-08-31T15:20:30+08:00&quot;);\r\n        System.out.println(&quot;OffsetDateTime8: &quot; + offsetDT8);\r\n        \r\n        OffsetDateTime offsetDT9 = OffsetDateTime.parse(&quot;1980-04-09T08:20:45+07:00&quot;, DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n        System.out.println(&quot;OffsetDateTime9: &quot; + offsetDT9);\r\n````\r\n\r\n**Output**\r\n\r\n    OffsetDateTime1: 2019-08-31T23:49:05.629+08:00\r\n    OffsetDateTime2: 2019-08-31T15:49:05.630Z\r\n    OffsetDateTime3: 2019-08-31T22:49:05.630+07:00\r\n    OffsetDateTime4: 1980-04-09T20:15:45.345875+07:00\r\n    OffsetDateTime5: 2019-08-31T15:50:25+07:00   \r\n    OffsetDateTime6: 2019-08-31T23:49:05.631+07:00\r\n    OffsetDateTime7: 2019-08-31T23:49:05.631+08:00\r\n    OffsetDateTime8: 2019-08-31T15:20:30+08:00\r\n    OffsetDateTime9: 1980-04-09T08:20:45+07:00\r\n\r\n\r\nYou can take a look on this [website][1] for more explaination or browse [javadoc wbsite][2].\r\n\r\n\r\n  [1]: https://www.dariawan.com/tutorials/java/java-offsetdatetime-tutorial-examples/\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html#toLocalDate--","title":"Convert OffsetDateTime to LocalDateTime with correct offset in java 8","body":"<p>Here is some code you can try :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        OffsetDateTime offsetDT1 = OffsetDateTime.now();\n        System.out.println(&quot;OffsetDateTime1: &quot; + offsetDT1);\n \n        OffsetDateTime offsetDT2 = OffsetDateTime.now(Clock.systemUTC());\n        System.out.println(&quot;OffsetDateTime2: &quot; + offsetDT2);\n        \n        OffsetDateTime offsetDT3 = OffsetDateTime.now(ZoneId.of(&quot;Asia/Jakarta&quot;));\n        System.out.println(&quot;OffsetDateTime3: &quot; + offsetDT3);\n        \n        OffsetDateTime offsetDT4 = OffsetDateTime.of(1980, 4, 9, 20, 15, 45, 345875000, ZoneOffset.of(&quot;+07:00&quot;));\n        System.out.println(&quot;OffsetDateTime4: &quot; + offsetDT4);\n        \n        OffsetDateTime offsetDT5 = OffsetDateTime.of(LocalDate.now(), LocalTime.of(15, 50, 25), ZoneOffset.of(&quot;+07:00&quot;));\n        System.out.println(&quot;OffsetDateTime5: &quot; + offsetDT5);\n        \n        OffsetDateTime offsetDT6 = OffsetDateTime.of(LocalDateTime.now(), ZoneOffset.of(&quot;+07:00&quot;));\n        System.out.println(&quot;OffsetDateTime6: &quot; + offsetDT6);\n        \n        OffsetDateTime offsetDT7 = OffsetDateTime.ofInstant(Instant.now(), ZoneId.systemDefault());\n        System.out.println(&quot;OffsetDateTime7: &quot; + offsetDT7);\n        \n        OffsetDateTime offsetDT8 = OffsetDateTime.parse(&quot;2019-08-31T15:20:30+08:00&quot;);\n        System.out.println(&quot;OffsetDateTime8: &quot; + offsetDT8);\n        \n        OffsetDateTime offsetDT9 = OffsetDateTime.parse(&quot;1980-04-09T08:20:45+07:00&quot;, DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n        System.out.println(&quot;OffsetDateTime9: &quot; + offsetDT9);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>OffsetDateTime1: 2019-08-31T23:49:05.629+08:00\nOffsetDateTime2: 2019-08-31T15:49:05.630Z\nOffsetDateTime3: 2019-08-31T22:49:05.630+07:00\nOffsetDateTime4: 1980-04-09T20:15:45.345875+07:00\nOffsetDateTime5: 2019-08-31T15:50:25+07:00   \nOffsetDateTime6: 2019-08-31T23:49:05.631+07:00\nOffsetDateTime7: 2019-08-31T23:49:05.631+08:00\nOffsetDateTime8: 2019-08-31T15:20:30+08:00\nOffsetDateTime9: 1980-04-09T08:20:45+07:00\n</code></pre>\n<p>You can take a look on this <a href=\"https://www.dariawan.com/tutorials/java/java-offsetdatetime-tutorial-examples/\" rel=\"nofollow noreferrer\">website</a> for more explaination or browse <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html#toLocalDate--\" rel=\"nofollow noreferrer\">javadoc wbsite</a>.</p>\n"},{"tags":[],"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1623320954,"creation_date":1623320954,"answer_id":67919362,"question_id":67918503,"body_markdown":"LocalDateTime would give you the time of a wall clock of your OffsetDateTime. That&#39;s 10:00\r\n\r\nYou need to first convert to a ZonedDatedTime in your time zone\r\n\r\nLike this\r\n\r\n    OffsetDateTime off = OffsetDateTime.of(2011,12,3,10,00,0,0, ZoneOffset.UTC);\r\n    ZonedDateTime zoned = off.atZoneSameInstant(ZoneId.of(&quot;Europe/Athens&quot;));\r\n    LocalDateTime athensWallTime = zoned.toLocalDateTime();\r\n    System.out.println(athensWallTime);","title":"Convert OffsetDateTime to LocalDateTime with correct offset in java 8","body":"<p>LocalDateTime would give you the time of a wall clock of your OffsetDateTime. That's 10:00</p>\n<p>You need to first convert to a ZonedDatedTime in your time zone</p>\n<p>Like this</p>\n<pre><code>OffsetDateTime off = OffsetDateTime.of(2011,12,3,10,00,0,0, ZoneOffset.UTC);\nZonedDateTime zoned = off.atZoneSameInstant(ZoneId.of(&quot;Europe/Athens&quot;));\nLocalDateTime athensWallTime = zoned.toLocalDateTime();\nSystem.out.println(athensWallTime);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623321955,"creation_date":1623321082,"answer_id":67919398,"question_id":67918503,"body_markdown":"# [`OffsetDateTime#withOffsetSameInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#withOffsetSameInstant-java.time.ZoneOffset-)\r\n\r\nIf you need to convert an object of `OffsetDateTime` to an `OffsetDateTime` object with a different `ZoneOffset`, you can do so by using `OffsetDateTime#withOffsetSameInstant`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tOffsetDateTime odt = OffsetDateTime.parse(&quot;2011-12-03T10:00:00Z&quot;);\r\n    \r\n    \t\tOffsetDateTime odtWithOffsetTwoHours = odt.withOffsetSameInstant(ZoneOffset.of(&quot;+02:00&quot;));\r\n    \t\tSystem.out.println(odtWithOffsetTwoHours);\r\n    \r\n    \t\tLocalDateTime ldt = odtWithOffsetTwoHours.toLocalDateTime();\r\n    \t\tSystem.out.println(ldt);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2011-12-03T12:00+02:00\r\n    2011-12-03T12:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nI suggest you keep using `OffsetDateTime` because `LocalDateTime`, as the name suggests, throws away the useful timezone information. Nevertheless, `LocalDateTime` is useful in some scenarios as mentioned on [this page][2].\r\n\r\nIf you are dealing with JDBC, check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573).\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n  [1]: https://ideone.com/wzOpgw\r\n  [2]: https://docs.oracle.com/javase/tutorial/datetime/iso/datetime.html","title":"Convert OffsetDateTime to LocalDateTime with correct offset in java 8","body":"<h1><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#withOffsetSameInstant-java.time.ZoneOffset-\" rel=\"nofollow noreferrer\"><code>OffsetDateTime#withOffsetSameInstant</code></a></h1>\n<p>If you need to convert an object of <code>OffsetDateTime</code> to an <code>OffsetDateTime</code> object with a different <code>ZoneOffset</code>, you can do so by using <code>OffsetDateTime#withOffsetSameInstant</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\n\npublic class Main {\n    public static void main(String[] args) {\n        OffsetDateTime odt = OffsetDateTime.parse(&quot;2011-12-03T10:00:00Z&quot;);\n\n        OffsetDateTime odtWithOffsetTwoHours = odt.withOffsetSameInstant(ZoneOffset.of(&quot;+02:00&quot;));\n        System.out.println(odtWithOffsetTwoHours);\n\n        LocalDateTime ldt = odtWithOffsetTwoHours.toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2011-12-03T12:00+02:00\n2011-12-03T12:00\n</code></pre>\n<p><a href=\"https://ideone.com/wzOpgw\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>I suggest you keep using <code>OffsetDateTime</code> because <code>LocalDateTime</code>, as the name suggests, throws away the useful timezone information. Nevertheless, <code>LocalDateTime</code> is useful in some scenarios as mentioned on <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/datetime.html\" rel=\"nofollow noreferrer\">this page</a>.</p>\n<p>If you are dealing with JDBC, check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1623321245,"creation_date":1623321245,"answer_id":67919452,"question_id":67918503,"body_markdown":"I think what you are looking for is [`OffsetDateTime.atZoneSameInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#atZoneSameInstant-java.time.ZoneId-):\r\n\r\n    OffsetDateTime.parse(&quot;2011-12-03T10:00:00Z&quot;)\r\n        .atZoneSameInstant(ZoneId.systemDefault())\r\n        .toLocalDateTime()","title":"Convert OffsetDateTime to LocalDateTime with correct offset in java 8","body":"<p>I think what you are looking for is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#atZoneSameInstant-java.time.ZoneId-\" rel=\"noreferrer\"><code>OffsetDateTime.atZoneSameInstant</code></a>:</p>\n<pre><code>OffsetDateTime.parse(&quot;2011-12-03T10:00:00Z&quot;)\n    .atZoneSameInstant(ZoneId.systemDefault())\n    .toLocalDateTime()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337494,"reputation":106,"user_id":2049476,"display_name":"Semyon Evgrafov"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659697423,"creation_date":1659697423,"answer_id":73248739,"question_id":67918503,"body_markdown":"I think the most concise solution is\r\n\r\n    LocalDateTime.ofInstant(Instant.now(), ZoneOffset.UTC)","title":"Convert OffsetDateTime to LocalDateTime with correct offset in java 8","body":"<p>I think the most concise solution is</p>\n<pre><code>LocalDateTime.ofInstant(Instant.now(), ZoneOffset.UTC)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4997462,"reputation":10007,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677777379,"creation_date":1677777379,"answer_id":75618770,"question_id":67918503,"body_markdown":"The answer marked as correct put me in the right direction to make it a little bit more production oriented. Also, I need this for Kotlin, so considering it is retro-compatible, here it goes.\r\n\r\nFor me, what worked was using `withOffsetSameInstant`. This method requires the offset, and I think the key is to obtain it from the system to provide the user with the visualization in its own time.\r\n\r\nThe offset can be obtained like this:\r\n\r\n```\r\nval offset = OffsetDateTime.now().offset\r\n```\r\n\r\nAnd then we proceed to parse the date-time text to `OffsetDateTime`:\r\n\r\n```\r\nval dateTime = &quot;2023-01-20T01:00:00+00:00&quot;\r\n\r\nval offsetDateTime =  OffsetDateTime.parse(dateTime).withOffsetSameInstant(offset)\r\n```\r\n\r\nThen we can obtain the local date-time like this:\r\n\r\n\r\n```\r\nval localDateTime = offsetDateTime.toLocalDateTime()\r\nprintln(localDateTime)\r\n```\r\n\r\nLet&#39;s say that my offset is minus 3 (-03:00). Then that should print:\r\n\r\n```\r\n2023-01-19T22:00\r\n```\r\n\r\nThis, for me, seems ok because it was day 20th at 1:00 am, so with minus 3, it should be the day 19th.\r\n\r\n\r\nA small clarification regarding using a formatter. For the format above, you don&#39;t need to provide a `DateTimeFormatter` because the method `parse` with a single argument; assumes it is ISO, and the format above is ISO (`DateTimeFormatter.ISO_OFFSET_DATE_TIME`).\r\n\r\nThis is how you can create a formatter in case you need it:\r\n\r\n```\r\nval formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)\r\n```\r\n\r\n\r\n","title":"Convert OffsetDateTime to LocalDateTime with correct offset in java 8","body":"<p>The answer marked as correct put me in the right direction to make it a little bit more production oriented. Also, I need this for Kotlin, so considering it is retro-compatible, here it goes.</p>\n<p>For me, what worked was using <code>withOffsetSameInstant</code>. This method requires the offset, and I think the key is to obtain it from the system to provide the user with the visualization in its own time.</p>\n<p>The offset can be obtained like this:</p>\n<pre><code>val offset = OffsetDateTime.now().offset\n</code></pre>\n<p>And then we proceed to parse the date-time text to <code>OffsetDateTime</code>:</p>\n<pre><code>val dateTime = &quot;2023-01-20T01:00:00+00:00&quot;\n\nval offsetDateTime =  OffsetDateTime.parse(dateTime).withOffsetSameInstant(offset)\n</code></pre>\n<p>Then we can obtain the local date-time like this:</p>\n<pre><code>val localDateTime = offsetDateTime.toLocalDateTime()\nprintln(localDateTime)\n</code></pre>\n<p>Let's say that my offset is minus 3 (-03:00). Then that should print:</p>\n<pre><code>2023-01-19T22:00\n</code></pre>\n<p>This, for me, seems ok because it was day 20th at 1:00 am, so with minus 3, it should be the day 19th.</p>\n<p>A small clarification regarding using a formatter. For the format above, you don't need to provide a <code>DateTimeFormatter</code> because the method <code>parse</code> with a single argument; assumes it is ISO, and the format above is ISO (<code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code>).</p>\n<p>This is how you can create a formatter in case you need it:</p>\n<pre><code>val formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;)\n</code></pre>\n"}],"owner":{"account_id":1130506,"reputation":325,"user_id":1116714,"accept_rate":0,"display_name":"user1116714"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21347,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":67919362,"answer_count":6,"score":13,"last_activity_date":1677777379,"creation_date":1623317515,"question_id":67918503,"body_markdown":"When I try to convert `OffsetDateTime` to `LocalDateTime` from java.time, I expect the resulting `LocalDateTime` to be updated with the local time zone. So, If I have an `OffsetDateTime` of `2011-12-03T10:00:00Z`, and my local timezone is UTC+2, I expect the LocalDateTime to be `2011-12-03T12:00:00`, but I get instead `2011-12-03T10:00:00`. I&#39;m converting it with the method `toLocalDateTime()` that `OffsetDateTime` has. It seems that it only truncates the date, removing the offset part, without adjusting the time. \r\n\r\nSo I&#39;m trying to figure out a way to get a `LocalDateTime` that represents the local date time taking into account the zone offset. Following the example, I would like to get `2011-12-03T12:00:00` ","title":"Convert OffsetDateTime to LocalDateTime with correct offset in java 8","body":"<p>When I try to convert <code>OffsetDateTime</code> to <code>LocalDateTime</code> from java.time, I expect the resulting <code>LocalDateTime</code> to be updated with the local time zone. So, If I have an <code>OffsetDateTime</code> of <code>2011-12-03T10:00:00Z</code>, and my local timezone is UTC+2, I expect the LocalDateTime to be <code>2011-12-03T12:00:00</code>, but I get instead <code>2011-12-03T10:00:00</code>. I'm converting it with the method <code>toLocalDateTime()</code> that <code>OffsetDateTime</code> has. It seems that it only truncates the date, removing the offset part, without adjusting the time.</p>\n<p>So I'm trying to figure out a way to get a <code>LocalDateTime</code> that represents the local date time taking into account the zone offset. Following the example, I would like to get <code>2011-12-03T12:00:00</code></p>\n"},{"tags":["java","angular","spring","spring-boot","maven-plugin"],"owner":{"account_id":27920467,"reputation":1,"user_id":21320747,"display_name":"ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677777169,"creation_date":1677777144,"question_id":75618735,"body_markdown":"`&quot;/**/{[path:[^\\\\.]*}&quot;\r\n\tpublic String redirect() {\r\n\t\treturn &quot;forward:/&quot;;\r\n\t}`\r\n\r\nSpringboot version is 2.7.4 java - 1.8\r\n\r\nis the path value changed for the upgraded version?`Invalid mapping`","title":"Error creating bean &#39;requestMappingHandlerMapping&#39; defined class path resource method failed; nested exception is java.lang.IllegalStateException","body":"<p><code>&quot;/**/{[path:[^\\\\.]*}&quot; public String redirect() { return &quot;forward:/&quot;; }</code></p>\n<p>Springboot version is 2.7.4 java - 1.8</p>\n<p>is the path value changed for the upgraded version?<code>Invalid mapping</code></p>\n"},{"tags":["java","aws-lambda","sftp","jsch"],"owner":{"account_id":3495420,"reputation":53,"user_id":2923804,"display_name":"Srikanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678171855,"answer_count":0,"score":0,"last_activity_date":1677776738,"creation_date":1677776738,"question_id":75618657,"body_markdown":"I have a standalone java code with a main() method and this code has logic to SFTP a file from my local machine to another remote machine using JSch API. This code is working fine when I run it as a standalone program in my machine and I see the file is SFTPed to remote machine. \r\n\r\nBut I then moved the same above code to AWS Lambda Handler written in Java and when I test the AWS Lambda function from AWS Console, I am getting below exception. It looks like the JSch code is not able to create a socket when I run the code from Lambda Function. \r\n\r\nCan’t it get the IP Address &amp; Port# (Socket) where the AWS Lambda Function is executing?\r\n\r\nBelow is the code I am using to SFTP a file.\r\nPlease help me to understand why the socket is not able to be created when I run the code from Lambda Function? \r\n\r\n**Exception:**\r\ntimeout: socket is not established:    com.jcraft.jsch.JSchException\r\ncom.jcraft.jsch.JSchException: timeout: socket is not established ","title":"“Socket Not Established” Error in JSch session.connect() when called from AWS Lambda","body":"<p>I have a standalone java code with a main() method and this code has logic to SFTP a file from my local machine to another remote machine using JSch API. This code is working fine when I run it as a standalone program in my machine and I see the file is SFTPed to remote machine.</p>\n<p>But I then moved the same above code to AWS Lambda Handler written in Java and when I test the AWS Lambda function from AWS Console, I am getting below exception. It looks like the JSch code is not able to create a socket when I run the code from Lambda Function.</p>\n<p>Can’t it get the IP Address &amp; Port# (Socket) where the AWS Lambda Function is executing?</p>\n<p>Below is the code I am using to SFTP a file.\nPlease help me to understand why the socket is not able to be created when I run the code from Lambda Function?</p>\n<p><strong>Exception:</strong>\ntimeout: socket is not established:    com.jcraft.jsch.JSchException\ncom.jcraft.jsch.JSchException: timeout: socket is not established</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1513175048,"post_id":47795245,"comment_id":82551454,"body_markdown":"The &quot;correct&quot; way to do this would probably be by defining a custom skin, but that would be a lot of work... What are the drawbacks of `promptText`? It&#39;s possible there may be workarounds for that which would be better...","body":"The &quot;correct&quot; way to do this would probably be by defining a custom skin, but that would be a lot of work... What are the drawbacks of <code>promptText</code>? It&#39;s possible there may be workarounds for that which would be better..."},{"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"score":0,"creation_date":1513175990,"post_id":47795245,"comment_id":82552104,"body_markdown":"@James_D: `MyTextField` adds some functionality to the standard implementation, but an `init()` method needs to be called first so that this functionality works properly. The `init()` cannot be called from the constructor. The `Label` should give a hint to the developer(!) that he did not call the `init()` properly. I know there are plenty of other ways to remind the developer that he is doing something wrong, but this approach of a visible warning seemed to be the shortest. Can I interpret your comment that this code actually IS wrong?","body":"@James_D: <code>MyTextField</code> adds some functionality to the standard implementation, but an <code>init()</code> method needs to be called first so that this functionality works properly. The <code>init()</code> cannot be called from the constructor. The <code>Label</code> should give a hint to the developer(!) that he did not call the <code>init()</code> properly. I know there are plenty of other ways to remind the developer that he is doing something wrong, but this approach of a visible warning seemed to be the shortest. Can I interpret your comment that this code actually IS wrong?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1513176257,"post_id":47795245,"comment_id":82552271,"body_markdown":"It&#39;s probably not good practice to add a node as a child of a control, because you really have no idea whatsoever how child nodes of a control will be laid out; that&#39;s undefined in the UI and controls are simply not intended to be used that way. But modifying the UI as a signal to the *developer* that they have not used your classes correctly is far worse practice imho. You should throw an assertion error in this case, not modify the UI. (Just one example: what if you use some automated testing in the future; how is your label going to be detected in that case?)","body":"It&#39;s probably not good practice to add a node as a child of a control, because you really have no idea whatsoever how child nodes of a control will be laid out; that&#39;s undefined in the UI and controls are simply not intended to be used that way. But modifying the UI as a signal to the <i>developer</i> that they have not used your classes correctly is far worse practice imho. You should throw an assertion error in this case, not modify the UI. (Just one example: what if you use some automated testing in the future; how is your label going to be detected in that case?)"},{"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"score":0,"creation_date":1513177285,"post_id":47795245,"comment_id":82553063,"body_markdown":"@James_D: ok, many thanks, this answered my question!","body":"@James_D: ok, many thanks, this answered my question!"},{"owner":{"account_id":10231365,"reputation":2456,"user_id":7551963,"accept_rate":86,"display_name":"Menai Ala Eddine - Aladdin"},"score":1,"creation_date":1513181692,"post_id":47795245,"comment_id":82556017,"body_markdown":"@mrmcwolf he can not add label as graphic because `setGrahic(node`) is not available for `TextField` class.","body":"@mrmcwolf he can not add label as graphic because <code>setGrahic(node</code>) is not available for <code>TextField</code> class."},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":1,"creation_date":1513194341,"post_id":47795245,"comment_id":82563116,"body_markdown":"If you really really need a label inside a text field, use a stack pane and stack the label over the field.","body":"If you really really need a label inside a text field, use a stack pane and stack the label over the field."},{"owner":{"account_id":2650810,"reputation":939,"user_id":2292548,"accept_rate":89,"display_name":"RonSiven"},"score":0,"creation_date":1513358413,"post_id":47795245,"comment_id":82637795,"body_markdown":"You could use JFoenix&#39;s JFXTextField. You can float the label above the text field. [JFoenix](https://github.com/jfoenixadmin/JFoenix) is a very nice set of components if you like material design..","body":"You could use JFoenix&#39;s JFXTextField. You can float the label above the text field. <a href=\"https://github.com/jfoenixadmin/JFoenix\" rel=\"nofollow noreferrer\">JFoenix</a> is a very nice set of components if you like material design.."}],"answers":[{"tags":[],"owner":{"account_id":10231365,"reputation":2456,"user_id":7551963,"accept_rate":86,"display_name":"Menai Ala Eddine - Aladdin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522081626,"creation_date":1513183944,"answer_id":47798385,"question_id":47795245,"body_markdown":"**Based on :**\r\n&gt;  Does the following code violate any JavaFX principles or is it safe\r\n&gt; to use?\r\n\r\nIn **java** this code is not safe to use because you call [Overridable method in constructor ][1]\r\nand if you use Netbeans or any intellegent IDE,it will warn you with the message `&quot;Overridable method call in constructor&quot;` and the descritpion of the problem here is :\r\n\r\n&gt;  Calling methods that can be overridden can be dangerous in the\r\n&gt; contructor because in the moment when the overridden method is called\r\n&gt; the object is not fully initialized.\r\n\r\nSecond,you can add children nodes in Region,Group,Containers but it is not good practice to add child node to control ,and if you need add a label to TextField you can use CustomTextField of  [ControlFx ][2] ,and this example of code maybe is helpful for your need :\r\n\r\n   \r\n\r\n         Label myLabel=new Label(&quot;Hello&quot;);\r\n        /*You use a container if you need add many nodes in CustomTextField*/\r\n        //HBox box=new HBox();\r\n        //box.getChildren().add(myLabel);\r\n        CustomTextField customField=new CustomTextField();\r\n        customField.setRight(mylabel);\r\n        //customField.setLeft(mylabel);\r\n        //customField.setRight(box);\r\n    \r\n\r\nOr by extending CustomTextField :\r\n\r\n  \r\n    //This code is safe and the warning is removing here\r\n    public class MyTextField extends CustomTextField {\r\n    \r\n            public MyTextField() {\r\n                Label label = new Label(&quot;test&quot;);\r\n                this.setRight(label); \r\n            }\r\n        }\r\n\r\n  [1]: https://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors\r\n  [2]: http://fxexperience.com/controlsfx/","title":"JavaFX: Adding a Label as child to a TextField","body":"<p><strong>Based on :</strong></p>\n\n<blockquote>\n  <p>Does the following code violate any JavaFX principles or is it safe\n  to use?</p>\n</blockquote>\n\n<p>In <strong>java</strong> this code is not safe to use because you call <a href=\"https://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors\">Overridable method in constructor </a>\nand if you use Netbeans or any intellegent IDE,it will warn you with the message <code>\"Overridable method call in constructor\"</code> and the descritpion of the problem here is :</p>\n\n<blockquote>\n  <p>Calling methods that can be overridden can be dangerous in the\n  contructor because in the moment when the overridden method is called\n  the object is not fully initialized.</p>\n</blockquote>\n\n<p>Second,you can add children nodes in Region,Group,Containers but it is not good practice to add child node to control ,and if you need add a label to TextField you can use CustomTextField of  <a href=\"http://fxexperience.com/controlsfx/\" rel=\"nofollow noreferrer\">ControlFx </a> ,and this example of code maybe is helpful for your need :</p>\n\n<pre><code>     Label myLabel=new Label(\"Hello\");\n    /*You use a container if you need add many nodes in CustomTextField*/\n    //HBox box=new HBox();\n    //box.getChildren().add(myLabel);\n    CustomTextField customField=new CustomTextField();\n    customField.setRight(mylabel);\n    //customField.setLeft(mylabel);\n    //customField.setRight(box);\n</code></pre>\n\n<p>Or by extending CustomTextField :</p>\n\n<pre><code>//This code is safe and the warning is removing here\npublic class MyTextField extends CustomTextField {\n\n        public MyTextField() {\n            Label label = new Label(\"test\");\n            this.setRight(label); \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3219748,"reputation":115,"user_id":2717481,"accept_rate":20,"display_name":"JeroenV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677776392,"creation_date":1677776392,"answer_id":75618602,"question_id":47795245,"body_markdown":"Actually, what you can do and seems allowed by JavaFX (SceneBuilder shows it correctly) is add the TextField to the Pane on which you&#39;re working first and then on the next line of the fxml file add the label with a location inside the TextField.\r\nLike this:\r\n```\r\n        &lt;TextField fx:id=&quot;txtUsername&quot; alignment=&quot;BOTTOM_LEFT&quot; layoutX=&quot;20.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;250.0&quot; promptText=&quot;User name / id&quot; /&gt;\r\n        &lt;Label layoutX=&quot;24.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;10.0&quot; prefWidth=&quot;100.0&quot; styleClass=&quot;label-small&quot; text=&quot;User name&quot; /&gt;\r\n```\r\nThen the label seems to be inside the TextField and with the alignment to bottom left of the TextField itself (and making it a bit higher; 40 instead of 32) the label shows up above the text in the TextField, but inside the boundaries of it\r\n\r\nThe -fx-font-size for label-small in my css file is 10","title":"JavaFX: Adding a Label as child to a TextField","body":"<p>Actually, what you can do and seems allowed by JavaFX (SceneBuilder shows it correctly) is add the TextField to the Pane on which you're working first and then on the next line of the fxml file add the label with a location inside the TextField.\nLike this:</p>\n<pre><code>        &lt;TextField fx:id=&quot;txtUsername&quot; alignment=&quot;BOTTOM_LEFT&quot; layoutX=&quot;20.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;250.0&quot; promptText=&quot;User name / id&quot; /&gt;\n        &lt;Label layoutX=&quot;24.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;10.0&quot; prefWidth=&quot;100.0&quot; styleClass=&quot;label-small&quot; text=&quot;User name&quot; /&gt;\n</code></pre>\n<p>Then the label seems to be inside the TextField and with the alignment to bottom left of the TextField itself (and making it a bit higher; 40 instead of 32) the label shows up above the text in the TextField, but inside the boundaries of it</p>\n<p>The -fx-font-size for label-small in my css file is 10</p>\n"}],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4316,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677776392,"creation_date":1513174801,"question_id":47795245,"body_markdown":"I want to have a text displayed above a JavaFX-`TextField`. Setting the `prompText` is almost what I want, but has some drawbacks for my use case. The following code seems to work, but it feels wrong to add a `Label` to the children of the `TextField`. Does the following code violate any JavaFX principles or is it safe to use?\r\n\r\n    public class MyTextField extends TextField {  \t\r\n    \tpublic MyTextField() {\r\n    \t\tLabel label = new Label(&quot;test&quot;);\r\n    \t\tthis.getChildren().add(label);\r\n    \t}  \r\n    }","title":"JavaFX: Adding a Label as child to a TextField","body":"<p>I want to have a text displayed above a JavaFX-<code>TextField</code>. Setting the <code>prompText</code> is almost what I want, but has some drawbacks for my use case. The following code seems to work, but it feels wrong to add a <code>Label</code> to the children of the <code>TextField</code>. Does the following code violate any JavaFX principles or is it safe to use?</p>\n\n<pre><code>public class MyTextField extends TextField {    \n    public MyTextField() {\n        Label label = new Label(\"test\");\n        this.getChildren().add(label);\n    }  \n}\n</code></pre>\n"},{"tags":["java","spring-boot","jboss"],"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677776186,"creation_date":1677776186,"question_id":75618561,"body_markdown":"I have a Spring Boot application that was created using the built-in Tomcat server. Our production server is on JBoss, so I&#39;m working to update the configuration to run on JBoss. \r\n\r\nI am able to get the application deployed and can see the context in the JBoss management. When I click on the link, I get a 403 error. \r\n\r\nI enabled DEBUG level logging and I see this in the logs: \r\n\r\n    09:32:27,061 DEBUG [io.undertow.request] (default I/O-1) Matched prefix path /SupportCenterV2 for path /SupportCenterV2/\r\n    09:32:27,061 DEBUG [io.undertow.request.security] (default task-1) Attempting to authenticate /SupportCenterV2/, authentication required: false\r\n    09:32:27,061 DEBUG [io.undertow.request.security] (default task-1) Authentication outcome was NOT_ATTEMPTED with method io.undertow.security.impl.CachedAuthenticatedSessionMechanism@5252cced for /SupportCenterV2/\r\n    09:32:27,061 DEBUG [io.undertow.request.security] (default task-1) Authentication result was ATTEMPTED for /SupportCenterV2/\r\n\r\nIt looks like Undertow is attempting to authenticate my application before it even loads and is rejecting it? \r\n\r\nI have various logging and console outputs throughout my application and none of them are flagged, so it looks like it isn&#39;t even hitting the application. \r\n\r\nAssuming this is in fact the issue causing the 403 error, how do I get around it? \r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.7&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.onlinesol&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;SupportCenterV2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;SupportCenterV2&lt;/name&gt;\r\n    \t&lt;description&gt;Support Center using Spring Framework&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- For Production --&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; \r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \r\n    \t\t\t&lt;!-- For Production --&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \r\n    \r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; \r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.10.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Comment for testing --&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; \r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; --&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;!-- Uncomment for production --&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nSpring boot application\r\n\r\n    @ComponentScan\r\n    @SpringBootApplication\r\n    public class SupportCenterV2Application extends SpringBootServletInitializer {\r\n    \t\r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n    \t\tSystem.out.println(&quot;SpringApplicationBuilder&quot;);\r\n    \t\t\r\n    \t\treturn builder.sources(SupportCenterV2Application.class);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void onStartup(ServletContext servletContext) throws ServletException{\r\n    \t\tSystem.out.println(&quot;onStartup&quot;);\r\n    \t\t\r\n    \t\tsuper.onStartup(servletContext);\r\n    \r\n    \t     }\r\n    \t\r\n    \tpublic static void main(String[] args) {\t\t\r\n    \t\tSystem.out.println(&quot;void main&quot;);\r\n    \t\t\r\n    \t\tSpringApplication.run(SupportCenterV2Application.class, args);\t\t\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic WebMvcConfigurer corsConfigurer() {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;WebMvcConfigurer&quot;);\r\n    \t\t\r\n    \t\treturn new WebMvcConfigurer() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n    \t\t\t\tregistry.addMapping(&quot;/**&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nSecurity\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \t\r\n    \t@Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\t\t\t\t\r\n    \t\tUtil.logVersion();\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;SecurityFilterChain&quot;);\r\n    \t\t\r\n    \t\thttp\r\n    \t\t\t.authorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/feedback&quot;).permitAll()\r\n    \t\t\t.antMatchers(&quot;/submitfeedback&quot;).permitAll()\r\n    \t\t\t.antMatchers(&quot;/index&quot;).permitAll()\r\n    \t\t\t.antMatchers(&quot;/&quot;).permitAll()\r\n    \t\t\t.anyRequest()\r\n    \t\t\t.authenticated()\t\t\t\r\n    \t\t\t.and()\r\n    \t\t\t.oauth2Login();\r\n    \t\t\t\t\r\n    \t\treturn http.build();\r\n        }\r\n    }\r\n\r\n","title":"JBoss EAP 7.4 returning 403 when attempting to access Spring Boot application","body":"<p>I have a Spring Boot application that was created using the built-in Tomcat server. Our production server is on JBoss, so I'm working to update the configuration to run on JBoss.</p>\n<p>I am able to get the application deployed and can see the context in the JBoss management. When I click on the link, I get a 403 error.</p>\n<p>I enabled DEBUG level logging and I see this in the logs:</p>\n<pre><code>09:32:27,061 DEBUG [io.undertow.request] (default I/O-1) Matched prefix path /SupportCenterV2 for path /SupportCenterV2/\n09:32:27,061 DEBUG [io.undertow.request.security] (default task-1) Attempting to authenticate /SupportCenterV2/, authentication required: false\n09:32:27,061 DEBUG [io.undertow.request.security] (default task-1) Authentication outcome was NOT_ATTEMPTED with method io.undertow.security.impl.CachedAuthenticatedSessionMechanism@5252cced for /SupportCenterV2/\n09:32:27,061 DEBUG [io.undertow.request.security] (default task-1) Authentication result was ATTEMPTED for /SupportCenterV2/\n</code></pre>\n<p>It looks like Undertow is attempting to authenticate my application before it even loads and is rejecting it?</p>\n<p>I have various logging and console outputs throughout my application and none of them are flagged, so it looks like it isn't even hitting the application.</p>\n<p>Assuming this is in fact the issue causing the 403 error, how do I get around it?</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.onlinesol&lt;/groupId&gt;\n    &lt;artifactId&gt;SupportCenterV2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SupportCenterV2&lt;/name&gt;\n    &lt;description&gt;Support Center using Spring Framework&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- For Production --&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; \n            &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n            &lt;!-- For Production --&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; \n            &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Comment for testing --&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; \n            &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; --&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;!-- Uncomment for production --&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Spring boot application</p>\n<pre><code>@ComponentScan\n@SpringBootApplication\npublic class SupportCenterV2Application extends SpringBootServletInitializer {\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        System.out.println(&quot;SpringApplicationBuilder&quot;);\n        \n        return builder.sources(SupportCenterV2Application.class);\n    }\n    \n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException{\n        System.out.println(&quot;onStartup&quot;);\n        \n        super.onStartup(servletContext);\n\n         }\n    \n    public static void main(String[] args) {        \n        System.out.println(&quot;void main&quot;);\n        \n        SpringApplication.run(SupportCenterV2Application.class, args);      \n    }\n    \n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        \n        System.out.println(&quot;WebMvcConfigurer&quot;);\n        \n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>Security</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {                \n        Util.logVersion();\n        \n        \n        \n        System.out.println(&quot;SecurityFilterChain&quot;);\n        \n        http\n            .authorizeRequests()\n            .antMatchers(&quot;/feedback&quot;).permitAll()\n            .antMatchers(&quot;/submitfeedback&quot;).permitAll()\n            .antMatchers(&quot;/index&quot;).permitAll()\n            .antMatchers(&quot;/&quot;).permitAll()\n            .anyRequest()\n            .authenticated()            \n            .and()\n            .oauth2Login();\n                \n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","watchservice"],"comments":[{"owner":{"account_id":11863476,"reputation":15,"user_id":8681544,"display_name":"Glaha"},"score":0,"creation_date":1587018326,"post_id":61243910,"comment_id":108344589,"body_markdown":"Update file actual.txt , but monitor folder where link exists","body":"Update file actual.txt , but monitor folder where link exists"},{"owner":{"account_id":11863476,"reputation":15,"user_id":8681544,"display_name":"Glaha"},"score":0,"creation_date":1587018534,"post_id":61243910,"comment_id":108344661,"body_markdown":"If monitor the directory of actual.txt , is ok , but I just want to monitor link file. How to do ?","body":"If monitor the directory of actual.txt , is ok , but I just want to monitor link file. How to do ?"}],"owner":{"account_id":11863476,"reputation":15,"user_id":8681544,"display_name":"Glaha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677775498,"creation_date":1587018124,"question_id":61243910,"body_markdown":"How to monitor a file updated (file is actual.txt below)? But I just want to monitor the link folder.\r\n\r\nln -s ../actual.txt link\r\n\r\n        Path path = Paths.get(&quot;.&quot;);\r\n\r\n        WatchService watchService =  path.getFileSystem().newWatchService();\r\n        path.register(watchService, StandardWatchEventKinds.ENTRY_MODIFY);\r\n        WatchKey watchKey = null;\r\n        while (true) {\r\n            watchKey = watchService.poll(10, TimeUnit.MINUTES);\r\n            if(watchKey != null) {\r\n                watchKey.pollEvents().stream().forEach(event -&gt; System.out.println(event.context()));\r\n            }\r\n            watchKey.reset();\r\n        }\r\n\r\nBut this code is not work.","title":"How to monitor link with java watchservice","body":"<p>How to monitor a file updated (file is actual.txt below)? But I just want to monitor the link folder.</p>\n\n<p>ln -s ../actual.txt link</p>\n\n<pre><code>    Path path = Paths.get(\".\");\n\n    WatchService watchService =  path.getFileSystem().newWatchService();\n    path.register(watchService, StandardWatchEventKinds.ENTRY_MODIFY);\n    WatchKey watchKey = null;\n    while (true) {\n        watchKey = watchService.poll(10, TimeUnit.MINUTES);\n        if(watchKey != null) {\n            watchKey.pollEvents().stream().forEach(event -&gt; System.out.println(event.context()));\n        }\n        watchKey.reset();\n    }\n</code></pre>\n\n<p>But this code is not work.</p>\n"},{"tags":["java","postgresql","nativequery","hibernate-entitymanager"],"answers":[{"tags":[],"owner":{"account_id":7648377,"reputation":471,"user_id":5798141,"display_name":"flags"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671732047,"creation_date":1671732047,"answer_id":74892261,"question_id":74891116,"body_markdown":"This question seems related to [this one][1] where it&#39;s suggested to convert the list of Strings into a single-quoted comma-separated String and then passing the String onto JPA Query.\r\n\r\nFor instance:\r\n\r\n        var params = Arrays.asList(&quot;param1&quot;, &quot;param2&quot;, &quot;param3&quot;);\r\n        var queryParam = params.stream().map(p -&gt; &quot;&#39;&quot; + p + &quot;&#39;&quot;).collect(Collectors.joining(&quot;,&quot;));\r\n\r\n  [1]: https://stackoverflow.com/questions/64891004/how-to-pass-parameter-of-list-in-jpa-query-with","title":"insert the list parameter into the nativeQuery","body":"<p>This question seems related to <a href=\"https://stackoverflow.com/questions/64891004/how-to-pass-parameter-of-list-in-jpa-query-with\">this one</a> where it's suggested to convert the list of Strings into a single-quoted comma-separated String and then passing the String onto JPA Query.</p>\n<p>For instance:</p>\n<pre><code>    var params = Arrays.asList(&quot;param1&quot;, &quot;param2&quot;, &quot;param3&quot;);\n    var queryParam = params.stream().map(p -&gt; &quot;'&quot; + p + &quot;'&quot;).collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1672040532,"post_id":74897926,"comment_id":132210649,"body_markdown":"Is this an answer of further details for the question?","body":"Is this an answer of further details for the question?"}],"tags":[],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671786549,"creation_date":1671786549,"answer_id":74897926,"question_id":74891116,"body_markdown":"rather the problem here is that the value from the .setParameters method puts the parameter in &#39;&#39; e.g. &#39;exampleParameter&#39; and I need it not to be &#39;&#39;","title":"insert the list parameter into the nativeQuery","body":"<p>rather the problem here is that the value from the .setParameters method puts the parameter in '' e.g. 'exampleParameter' and I need it not to be ''</p>\n"}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677775251,"creation_date":1671725464,"question_id":74891116,"body_markdown":"I have a query like this that works well :\r\n\r\n```\r\n&quot;SELECT * FROM elements we WHERE jsonb_exists_all(CAST(we.elements AS jsonb), ARRAY[&#39;TEST&#39;])&quot;\r\n```\r\n\r\nI need to use the .setParameter method from EntityManager to insert a whole array instead of [&quot;CHEST&quot;] e.g. [&quot;TEST&quot;, &quot;TEST1&quot;, &quot;TEST2&quot;]. It seems to me that .setParameter converts the argument into a string. So far I have only found a workaround for assigning 2 values to the same key:\r\n\r\n```\r\nString queryFromFilter = &quot;SELECT * FROM elements we WHERE jsonb_exists_all(CAST(we.elements AS jsonb), ARRAY[:array])&quot;;\r\n\r\n        Query query = entityManager.createNativeQuery(queryFromFilter, Checklist.class);\r\n\r\n\r\n        return query\r\n                .setParameter(&quot;array&quot;, &quot;TEST&#39;&quot;)\r\n                .setParameter(&quot;array&quot;, &quot;TEST&quot;)\r\n                .getResultList();\r\n    }\r\n\r\n\r\n\r\n```","title":"insert the list parameter into the nativeQuery","body":"<p>I have a query like this that works well :</p>\n<pre><code>&quot;SELECT * FROM elements we WHERE jsonb_exists_all(CAST(we.elements AS jsonb), ARRAY['TEST'])&quot;\n</code></pre>\n<p>I need to use the .setParameter method from EntityManager to insert a whole array instead of [&quot;CHEST&quot;] e.g. [&quot;TEST&quot;, &quot;TEST1&quot;, &quot;TEST2&quot;]. It seems to me that .setParameter converts the argument into a string. So far I have only found a workaround for assigning 2 values to the same key:</p>\n<pre><code>String queryFromFilter = &quot;SELECT * FROM elements we WHERE jsonb_exists_all(CAST(we.elements AS jsonb), ARRAY[:array])&quot;;\n\n        Query query = entityManager.createNativeQuery(queryFromFilter, Checklist.class);\n\n\n        return query\n                .setParameter(&quot;array&quot;, &quot;TEST'&quot;)\n                .setParameter(&quot;array&quot;, &quot;TEST&quot;)\n                .getResultList();\n    }\n\n\n\n</code></pre>\n"},{"tags":["java","mongodb","performance","count","mongo-shell"],"answers":[{"comments":[{"owner":{"account_id":6265815,"reputation":1844,"user_id":4871597,"accept_rate":81,"display_name":"Peter"},"score":0,"creation_date":1677767608,"post_id":75615644,"comment_id":133405820,"body_markdown":"I&#39;d assume that this would be the java equivalent:\n`// build the aggregation pipeline\n    List&lt;Bson&gt; pipeline = Arrays.asList(\n        Aggregates.match(Filters.gte(&quot;_id&quot;, new MinKey())),\n        Aggregates.group(&quot;$1&quot;, Accumulators.sum(&quot;n&quot;, 1)));\n\n    // explain the execution stats of the aggregation pipeline\n    var findPublisher = this.cachedFormalizedInvoices.aggregate(pipeline).explain();` however, this executes also a `FETCH` stage before a `IXSCAN` stage","body":"I&#39;d assume that this would be the java equivalent: <code>&#47;&#47; build the aggregation pipeline     List&lt;Bson&gt; pipeline = Arrays.asList(         Aggregates.match(Filters.gte(&quot;_id&quot;, new MinKey())),         Aggregates.group(&quot;$1&quot;, Accumulators.sum(&quot;n&quot;, 1)));      &#47;&#47; explain the execution stats of the aggregation pipeline     var findPublisher = this.cachedFormalizedInvoices.aggregate(pipeline).explain();</code> however, this executes also a <code>FETCH</code> stage before a <code>IXSCAN</code> stage"},{"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"score":1,"creation_date":1677774979,"post_id":75615644,"comment_id":133408252,"body_markdown":"What is &quot;$1&quot;. just change it to &quot;1&quot;. It should work.","body":"What is &quot;$1&quot;. just change it to &quot;1&quot;. It should work."},{"owner":{"account_id":6265815,"reputation":1844,"user_id":4871597,"accept_rate":81,"display_name":"Peter"},"score":0,"creation_date":1678092325,"post_id":75615644,"comment_id":133459535,"body_markdown":"Can this query also be as effective when having a non-empty filter?","body":"Can this query also be as effective when having a non-empty filter?"},{"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"score":0,"creation_date":1678094329,"post_id":75615644,"comment_id":133460051,"body_markdown":"As long as the filter uses the index, it should work.","body":"As long as the filter uses the index, it should work."}],"tags":[],"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677774949,"creation_date":1677761412,"answer_id":75615644,"question_id":75614580,"body_markdown":"I think you should be targetting to get COUNT_SCAN as the winning plan.\r\nThis query uses index on _id to count.\r\n\r\n\tdb.collection.explain(&quot;executionStats&quot;).aggregate([\r\n\t{\r\n\t\t$match: {\r\n\t\t\t&quot;_id&quot;: {&quot;$gte&quot;: MinKey}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\t$group: {\r\n\t\t\t&quot;_id&quot;: 1, &quot;n&quot;: {&quot;$sum&quot;: 1}\r\n\t\t}\r\n\t}\r\n\t]);\r\n\r\nJava:\r\n\r\n    List&lt;Bson&gt; pipeline = Arrays.asList(\r\n    \t\tAggregates.match(Filters.gte(&quot;_id&quot;, new MinKey())),\r\n    \t\tAggregates.group(&quot;1&quot;, Accumulators.sum(&quot;n&quot;, 1))\r\n    );  \r\n\r\n**Note: This may not trigger COUNT_SCAN on sharded collections.**\r\n\r\nStats:\r\n\r\n\t&quot;winningPlan&quot; : {\r\n        &quot;stage&quot; : &quot;COUNT_SCAN&quot;,\r\n        &quot;keyPattern&quot; : {\r\n            &quot;_id&quot; : 1\r\n        },\r\n        &quot;indexName&quot; : &quot;_id_&quot;,\r\n        &quot;isMultiKey&quot; : false,\r\n        &quot;multiKeyPaths&quot; : {\r\n            &quot;_id&quot; : []\r\n        },\r\n        &quot;isUnique&quot; : true,\r\n        &quot;isSparse&quot; : false,\r\n        &quot;isPartial&quot; : false,\r\n        &quot;indexVersion&quot; : 2,\r\n        &quot;indexBounds&quot; : {\r\n            &quot;startKey&quot; : {\r\n                &quot;_id&quot; : { &quot;$minKey&quot; : 1 }\r\n            },\r\n            &quot;startKeyInclusive&quot; : true,\r\n            &quot;endKey&quot; : {\r\n                &quot;_id&quot; : { &quot;$maxKey&quot; : 1 }\r\n            },\r\n            &quot;endKeyInclusive&quot; : true\r\n        }\r\n    }\r\n\t\t\t\t\t\r\n\t&quot;executionStats&quot; : {\r\n\t\t&quot;executionSuccess&quot; : true,\r\n\t\t&quot;nReturned&quot; : 9,\r\n\t\t&quot;executionTimeMillis&quot; : 0,\r\n\t\t&quot;totalKeysExamined&quot; : 10,\r\n\t\t&quot;totalDocsExamined&quot; : 0,\r\n\t\t&quot;executionStages&quot; : {\r\n\t\t\t&quot;stage&quot; : &quot;COUNT_SCAN&quot;,\r\n\t\t\t&quot;nReturned&quot; : 9,\r\n\t\t\t&quot;executionTimeMillisEstimate&quot; : 0,\r\n\t\t\t&quot;works&quot; : 10,\r\n\t\t\t&quot;advanced&quot; : 9,\r\n\t\t\t&quot;needTime&quot; : 0,\r\n\t\t\t&quot;needYield&quot; : 0,\r\n\t\t\t&quot;saveState&quot; : 1,\r\n\t\t\t&quot;restoreState&quot; : 1,\r\n\t\t\t&quot;isEOF&quot; : 1,\r\n\t\t\t&quot;keysExamined&quot; : 10,\r\n\t\t\t&quot;keyPattern&quot; : {\r\n\t\t\t\t&quot;_id&quot; : 1\r\n\t\t\t},\r\n\t\t\t&quot;indexName&quot; : &quot;_id_&quot;,\r\n\t\t\t&quot;isMultiKey&quot; : false,\r\n\t\t\t&quot;multiKeyPaths&quot; : {\r\n\t\t\t\t&quot;_id&quot; : []\r\n\t\t\t},\r\n\t\t\t&quot;isUnique&quot; : true,\r\n\t\t\t&quot;isSparse&quot; : false,\r\n\t\t\t&quot;isPartial&quot; : false,\r\n\t\t\t&quot;indexVersion&quot; : 2,\r\n\t\t\t&quot;indexBounds&quot; : {\r\n\t\t\t\t&quot;startKey&quot; : {\r\n\t\t\t\t\t&quot;_id&quot; : { &quot;$minKey&quot; : 1 }\r\n\t\t\t\t},\r\n\t\t\t\t&quot;startKeyInclusive&quot; : true,\r\n\t\t\t\t&quot;endKey&quot; : {\r\n\t\t\t\t\t&quot;_id&quot; : { &quot;$maxKey&quot; : 1 }\r\n\t\t\t\t},\r\n\t\t\t\t&quot;endKeyInclusive&quot; : true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n","title":"Count documents in Java MongoDB driver only without FETCH phase","body":"<p>I think you should be targetting to get COUNT_SCAN as the winning plan.\nThis query uses index on _id to count.</p>\n<pre><code>db.collection.explain(&quot;executionStats&quot;).aggregate([\n{\n    $match: {\n        &quot;_id&quot;: {&quot;$gte&quot;: MinKey}\n    }\n},\n{\n    $group: {\n        &quot;_id&quot;: 1, &quot;n&quot;: {&quot;$sum&quot;: 1}\n    }\n}\n]);\n</code></pre>\n<p>Java:</p>\n<pre><code>List&lt;Bson&gt; pipeline = Arrays.asList(\n        Aggregates.match(Filters.gte(&quot;_id&quot;, new MinKey())),\n        Aggregates.group(&quot;1&quot;, Accumulators.sum(&quot;n&quot;, 1))\n);  \n</code></pre>\n<p><strong>Note: This may not trigger COUNT_SCAN on sharded collections.</strong></p>\n<p>Stats:</p>\n<pre><code>&quot;winningPlan&quot; : {\n    &quot;stage&quot; : &quot;COUNT_SCAN&quot;,\n    &quot;keyPattern&quot; : {\n        &quot;_id&quot; : 1\n    },\n    &quot;indexName&quot; : &quot;_id_&quot;,\n    &quot;isMultiKey&quot; : false,\n    &quot;multiKeyPaths&quot; : {\n        &quot;_id&quot; : []\n    },\n    &quot;isUnique&quot; : true,\n    &quot;isSparse&quot; : false,\n    &quot;isPartial&quot; : false,\n    &quot;indexVersion&quot; : 2,\n    &quot;indexBounds&quot; : {\n        &quot;startKey&quot; : {\n            &quot;_id&quot; : { &quot;$minKey&quot; : 1 }\n        },\n        &quot;startKeyInclusive&quot; : true,\n        &quot;endKey&quot; : {\n            &quot;_id&quot; : { &quot;$maxKey&quot; : 1 }\n        },\n        &quot;endKeyInclusive&quot; : true\n    }\n}\n                \n&quot;executionStats&quot; : {\n    &quot;executionSuccess&quot; : true,\n    &quot;nReturned&quot; : 9,\n    &quot;executionTimeMillis&quot; : 0,\n    &quot;totalKeysExamined&quot; : 10,\n    &quot;totalDocsExamined&quot; : 0,\n    &quot;executionStages&quot; : {\n        &quot;stage&quot; : &quot;COUNT_SCAN&quot;,\n        &quot;nReturned&quot; : 9,\n        &quot;executionTimeMillisEstimate&quot; : 0,\n        &quot;works&quot; : 10,\n        &quot;advanced&quot; : 9,\n        &quot;needTime&quot; : 0,\n        &quot;needYield&quot; : 0,\n        &quot;saveState&quot; : 1,\n        &quot;restoreState&quot; : 1,\n        &quot;isEOF&quot; : 1,\n        &quot;keysExamined&quot; : 10,\n        &quot;keyPattern&quot; : {\n            &quot;_id&quot; : 1\n        },\n        &quot;indexName&quot; : &quot;_id_&quot;,\n        &quot;isMultiKey&quot; : false,\n        &quot;multiKeyPaths&quot; : {\n            &quot;_id&quot; : []\n        },\n        &quot;isUnique&quot; : true,\n        &quot;isSparse&quot; : false,\n        &quot;isPartial&quot; : false,\n        &quot;indexVersion&quot; : 2,\n        &quot;indexBounds&quot; : {\n            &quot;startKey&quot; : {\n                &quot;_id&quot; : { &quot;$minKey&quot; : 1 }\n            },\n            &quot;startKeyInclusive&quot; : true,\n            &quot;endKey&quot; : {\n                &quot;_id&quot; : { &quot;$maxKey&quot; : 1 }\n            },\n            &quot;endKeyInclusive&quot; : true\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6265815,"reputation":1844,"user_id":4871597,"accept_rate":81,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75615644,"answer_count":1,"score":1,"last_activity_date":1677774949,"creation_date":1677755076,"question_id":75614580,"body_markdown":"I&#39;m trying to count the documents in a collection for a given filter. Using `countDocuments` uses up to `1s per 100&#39;000 documents`, which is kind of slow and not consdering the impact is has on the db if multiple users trigger this count every few seconds to minutes.\r\n\r\nUnder the hood `countDocuments()` translates to this `aggregate` query:\r\n```lang-js\r\ndb.collection.aggregate([\r\n  {\r\n    &quot;$match&quot;: {\r\n      &quot;_id&quot;: {&quot;$exists&quot;: true}\r\n    }\r\n  },\r\n  {\r\n    &quot;$group&quot;: {\r\n      &quot;_id&quot;: 1,\r\n      &quot;n&quot;: {&quot;$sum&quot;: 1}\r\n    }\r\n  }\r\n])\r\n```\r\nCalling `explain()` on it yields:\r\n\r\n    {\r\n      explainVersion: &#39;1&#39;,\r\n      stages: [\r\n        {\r\n          &#39;$cursor&#39;: {\r\n            queryPlanner: {\r\n              namespace: &#39;collection&#39;,\r\n              indexFilterSet: false,\r\n              parsedQuery: { _id: { &#39;$exists&#39;: true } },\r\n              queryHash: &#39;BA029CD5&#39;,\r\n              planCacheKey: &#39;4D66BB31&#39;,\r\n              maxIndexedOrSolutionsReached: false,\r\n              maxIndexedAndSolutionsReached: false,\r\n              maxScansToExplodeReached: false,\r\n              winningPlan: {\r\n                stage: &#39;FETCH&#39;,\r\n                filter: { _id: { &#39;$exists&#39;: true } },\r\n                inputStage: {\r\n                  stage: &#39;IXSCAN&#39;,\r\n                  keyPattern: { _id: 1 },\r\n                  indexName: &#39;_id_&#39;,\r\n                  isMultiKey: false,\r\n                  multiKeyPaths: { _id: [] },\r\n                  isUnique: true,\r\n                  isSparse: false,\r\n                  isPartial: false,\r\n                  indexVersion: 2,\r\n                  direction: &#39;forward&#39;,\r\n                  indexBounds: { _id: [ &#39;[MinKey, MaxKey]&#39; ] }\r\n                }\r\n              },\r\n              rejectedPlans: []\r\n            },\r\n            executionStats: {\r\n              executionSuccess: true,\r\n              nReturned: 614833,\r\n              executionTimeMillis: 6589,\r\n              totalKeysExamined: 614833,\r\n              totalDocsExamined: 614833,\r\n              executionStages: {\r\n                stage: &#39;FETCH&#39;,\r\n                filter: { _id: { &#39;$exists&#39;: true } },\r\n                nReturned: 614833,\r\n                executionTimeMillisEstimate: 4219,\r\n                works: 614834,\r\n                advanced: 614833,\r\n                needTime: 0,\r\n                needYield: 0,\r\n                saveState: 668,\r\n                restoreState: 668,\r\n                isEOF: 1,\r\n                docsExamined: 614833,\r\n                alreadyHasObj: 0,\r\n                inputStage: {\r\n                  stage: &#39;IXSCAN&#39;,\r\n                  nReturned: 614833,\r\n                  executionTimeMillisEstimate: 568,\r\n                  works: 614834,\r\n                  advanced: 614833,\r\n                  needTime: 0,\r\n                  needYield: 0,\r\n                  saveState: 668,\r\n                  restoreState: 668,\r\n                  isEOF: 1,\r\n                  keyPattern: { _id: 1 },\r\n                  indexName: &#39;_id_&#39;,\r\n                  isMultiKey: false,\r\n                  multiKeyPaths: { _id: [] },\r\n                  isUnique: true,\r\n                  isSparse: false,\r\n                  isPartial: false,\r\n                  indexVersion: 2,\r\n                  direction: &#39;forward&#39;,\r\n                  indexBounds: { _id: [ &#39;[MinKey, MaxKey]&#39; ] },\r\n                  keysExamined: 614833,\r\n                  seeks: 1,\r\n                  dupsTested: 0,\r\n                  dupsDropped: 0\r\n                }\r\n              },\r\n              allPlansExecution: []\r\n            }\r\n          },\r\n          nReturned: Long(&quot;614833&quot;),\r\n          executionTimeMillisEstimate: Long(&quot;6510&quot;)\r\n        },\r\n        {\r\n          &#39;$group&#39;: { _id: { &#39;$const&#39;: 1 }, n: { &#39;$sum&#39;: { &#39;$const&#39;: 1 } } },\r\n          maxAccumulatorMemoryUsageBytes: { n: Long(&quot;80&quot;) },\r\n          totalOutputDataSizeBytes: Long(&quot;237&quot;),\r\n          usedDisk: false,\r\n          spills: Long(&quot;0&quot;),\r\n          nReturned: Long(&quot;1&quot;),\r\n          executionTimeMillisEstimate: Long(&quot;6584&quot;)\r\n        }\r\n      ],\r\n      command: {\r\n        aggregate: &#39;collection&#39;,\r\n        pipeline: [\r\n          { &#39;$match&#39;: { _id: { &#39;$exists&#39;: true } } },\r\n          { &#39;$group&#39;: { _id: 1, n: { &#39;$sum&#39;: 1 } } }\r\n        ],\r\n        cursor: {},\r\n        &#39;$db&#39;: &#39;db&#39;\r\n      },\r\n      ok: 1,\r\n      &#39;$clusterTime&#39;: {\r\n        clusterTime: Timestamp({ t: 1677593996, i: 1 }),\r\n        signature: {\r\n          hash: Binary(Buffer.from(&quot;0000000000000000000000000000000000000000&quot;, &quot;hex&quot;), 0),\r\n          keyId: Long(&quot;0&quot;)\r\n        }\r\n      },\r\n      operationTime: Timestamp({ t: 1677593996, i: 1 })\r\n    }\r\n\r\nNotice how the winning strategy consists of 2 phases: First `FETCH` and only after this of `IXSCAN`\r\n\r\nA query that uses `find()` that does not include the `_id` field and instead projects onto an indexed field (called `origin`) will only go for an `IXSCAN` instead:\r\n\r\n    db.collection.find({}, {&quot;_id&quot;:0, &quot;origin&quot;: 1}).count()\r\n\r\nWill count the correct result and can also use a `filter`. `.explain()` will yield:\r\n\r\n    {\r\n        explainVersion: &#39;1&#39;,\r\n        queryPlanner: {\r\n            namespace: &#39;db.collection&#39;,\r\n            indexFilterSet: false,\r\n            parsedQuery: { origin: { &#39;$eq&#39;: &#39;WF&#39; } },\r\n            queryHash: &#39;2428EDD1&#39;,\r\n            planCacheKey: &#39;85C94249&#39;,\r\n            maxIndexedOrSolutionsReached: false,\r\n            maxIndexedAndSolutionsReached: false,\r\n            maxScansToExplodeReached: false,\r\n            winningPlan: {\r\n            stage: &#39;PROJECTION_COVERED&#39;,\r\n            transformBy: { _id: 0, origin: 1 },\r\n            inputStage: {\r\n                stage: &#39;IXSCAN&#39;,\r\n                keyPattern: { origin: 1, &#39;metadata.iv&#39;: -1 },\r\n                indexName: &#39;originAscending&#39;,\r\n                isMultiKey: false,\r\n                multiKeyPaths: { origin: [], &#39;metadata.iv&#39;: [] },\r\n                isUnique: false,\r\n                isSparse: false,\r\n                isPartial: false,\r\n                indexVersion: 2,\r\n                direction: &#39;forward&#39;,\r\n                indexBounds: {\r\n                origin: [ &#39;[&quot;WF&quot;, &quot;WF&quot;]&#39; ],\r\n                &#39;metadata.iv&#39;: [ &#39;[MaxKey, MinKey]&#39; ]\r\n                }\r\n            }\r\n            },\r\n            rejectedPlans: [\r\n            {\r\n                stage: &#39;PROJECTION_COVERED&#39;,\r\n                transformBy: { _id: 0, origin: 1 },\r\n                inputStage: {\r\n                stage: &#39;IXSCAN&#39;,\r\n                keyPattern: { origin: -1, &#39;metadata.iv&#39;: -1 },\r\n                indexName: &#39;originDescending&#39;,\r\n                isMultiKey: false,\r\n                multiKeyPaths: { origin: [], &#39;metadata.iv&#39;: [] },\r\n                isUnique: false,\r\n                isSparse: false,\r\n                isPartial: false,\r\n                indexVersion: 2,\r\n                direction: &#39;forward&#39;,\r\n                indexBounds: {\r\n                    origin: [ &#39;[&quot;WF&quot;, &quot;WF&quot;]&#39; ],\r\n                    &#39;metadata.iv&#39;: [ &#39;[MaxKey, MinKey]&#39; ]\r\n                }\r\n                }\r\n            }\r\n            ]\r\n        },\r\n        command: {\r\n            find: &#39;collection&#39;,\r\n            filter: { origin: &#39;WF&#39; },\r\n            projection: { _id: 0, origin: 1 },\r\n            &#39;$db&#39;: &#39;db&#39;\r\n        },\r\n        ok: 1,\r\n        &#39;$clusterTime&#39;: {\r\n            clusterTime: Timestamp({ t: 1677593816, i: 1 }),\r\n            signature: {\r\n            hash: Binary(Buffer.from(&quot;0000000000000000000000000000000000000000&quot;, &quot;hex&quot;), 0),\r\n            keyId: Long(&quot;0&quot;)\r\n            }\r\n        },\r\n        operationTime: Timestamp({ t: 1677593816, i: 1 })\r\n    }\r\n\r\nThis will only use an `IXSCAN` phase and execute much faster.\r\n\r\nI tried building this query in MongoDB Java driver version 4.8.0 by writing this (still in progress):\r\n\r\n    private int aggregate(InvoiceQuery query) {\r\n        var filter = new MongoInvoiceFilterCriteria(query.getFilter()).asBson();\r\n    \r\n        var projection = Projections.fields(Projections.excludeId(), Projections.include(&quot;origin&quot;));\r\n    \r\n        var findPublisher =\r\n            this.collection.find(filter).projection(projection).explain();\r\n    \r\n        var result = Flowable.fromPublisher(findPublisher).blockingFirst();\r\n    \r\n        LOGGER.info(&quot;Aggregate &quot; + result.toJson());\r\n    \r\n        return 0;\r\n      }\r\n\r\nWhich will yield the follwing:\r\n\r\n    {\r\n        &quot;explainVersion&quot;: &quot;1&quot;,\r\n        &quot;queryPlanner&quot;: {\r\n            &quot;namespace&quot;: &quot;db.collection&quot;,\r\n            &quot;indexFilterSet&quot;: false,\r\n            &quot;parsedQuery&quot;: {\r\n                &quot;_id&quot;: {\r\n                    &quot;$exists&quot;: true\r\n                }\r\n            },\r\n            &quot;queryHash&quot;: &quot;88DBAD21&quot;,\r\n            &quot;planCacheKey&quot;: &quot;D9A2E277&quot;,\r\n            &quot;maxIndexedOrSolutionsReached&quot;: false,\r\n            &quot;maxIndexedAndSolutionsReached&quot;: false,\r\n            &quot;maxScansToExplodeReached&quot;: false,\r\n            &quot;winningPlan&quot;: {\r\n                &quot;stage&quot;: &quot;PROJECTION_SIMPLE&quot;,\r\n                &quot;transformBy&quot;: {\r\n                    &quot;_id&quot;: 0,\r\n                    &quot;origin&quot;: 1\r\n                },\r\n                &quot;inputStage&quot;: {\r\n                    &quot;stage&quot;: &quot;FETCH&quot;,\r\n                    &quot;filter&quot;: {\r\n                        &quot;_id&quot;: {\r\n                            &quot;$exists&quot;: true\r\n                        }\r\n                    },\r\n                    &quot;inputStage&quot;: {\r\n                        &quot;stage&quot;: &quot;IXSCAN&quot;,\r\n                        &quot;keyPattern&quot;: {\r\n                            &quot;_id&quot;: 1\r\n                        },\r\n                        &quot;indexName&quot;: &quot;_id_&quot;,\r\n                        &quot;isMultiKey&quot;: false,\r\n                        &quot;multiKeyPaths&quot;: {\r\n                            &quot;_id&quot;: []\r\n                        },\r\n                        &quot;isUnique&quot;: true,\r\n                        &quot;isSparse&quot;: false,\r\n                        &quot;isPartial&quot;: false,\r\n                        &quot;indexVersion&quot;: 2,\r\n                        &quot;direction&quot;: &quot;forward&quot;,\r\n                        &quot;indexBounds&quot;: {\r\n                            &quot;_id&quot;: [\r\n                                &quot;[MinKey, MaxKey]&quot;\r\n                            ]\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            &quot;rejectedPlans&quot;: []\r\n        },\r\n        &quot;executionStats&quot;: {\r\n            &quot;executionSuccess&quot;: true,\r\n            &quot;nReturned&quot;: 9533,\r\n            &quot;executionTimeMillis&quot;: 18,\r\n            &quot;totalKeysExamined&quot;: 9533,\r\n            &quot;totalDocsExamined&quot;: 9533,\r\n            &quot;executionStages&quot;: {\r\n                &quot;stage&quot;: &quot;PROJECTION_SIMPLE&quot;,\r\n                &quot;nReturned&quot;: 9533,\r\n                &quot;executionTimeMillisEstimate&quot;: 4,\r\n                &quot;works&quot;: 9534,\r\n                &quot;advanced&quot;: 9533,\r\n                &quot;needTime&quot;: 0,\r\n                &quot;needYield&quot;: 0,\r\n                &quot;saveState&quot;: 9,\r\n                &quot;restoreState&quot;: 9,\r\n                &quot;isEOF&quot;: 1,\r\n                &quot;transformBy&quot;: {\r\n                    &quot;_id&quot;: 0,\r\n                    &quot;origin&quot;: 1\r\n                },\r\n                &quot;inputStage&quot;: {\r\n                    &quot;stage&quot;: &quot;FETCH&quot;,\r\n                    &quot;filter&quot;: {\r\n                        &quot;_id&quot;: {\r\n                            &quot;$exists&quot;: true\r\n                        }\r\n                    },\r\n                    &quot;nReturned&quot;: 9533,\r\n                    &quot;executionTimeMillisEstimate&quot;: 4,\r\n                    &quot;works&quot;: 9534,\r\n                    &quot;advanced&quot;: 9533,\r\n                    &quot;needTime&quot;: 0,\r\n                    &quot;needYield&quot;: 0,\r\n                    &quot;saveState&quot;: 9,\r\n                    &quot;restoreState&quot;: 9,\r\n                    &quot;isEOF&quot;: 1,\r\n                    &quot;docsExamined&quot;: 9533,\r\n                    &quot;alreadyHasObj&quot;: 0,\r\n                    &quot;inputStage&quot;: {\r\n                        &quot;stage&quot;: &quot;IXSCAN&quot;,\r\n                        &quot;nReturned&quot;: 9533,\r\n                        &quot;executionTimeMillisEstimate&quot;: 0,\r\n                        &quot;works&quot;: 9534,\r\n                        &quot;advanced&quot;: 9533,\r\n                        &quot;needTime&quot;: 0,\r\n                        &quot;needYield&quot;: 0,\r\n                        &quot;saveState&quot;: 9,\r\n                        &quot;restoreState&quot;: 9,\r\n                        &quot;isEOF&quot;: 1,\r\n                        &quot;keyPattern&quot;: {\r\n                            &quot;_id&quot;: 1\r\n                        },\r\n                        &quot;indexName&quot;: &quot;_id_&quot;,\r\n                        &quot;isMultiKey&quot;: false,\r\n                        &quot;multiKeyPaths&quot;: {\r\n                            &quot;_id&quot;: []\r\n                        },\r\n                        &quot;isUnique&quot;: true,\r\n                        &quot;isSparse&quot;: false,\r\n                        &quot;isPartial&quot;: false,\r\n                        &quot;indexVersion&quot;: 2,\r\n                        &quot;direction&quot;: &quot;forward&quot;,\r\n                        &quot;indexBounds&quot;: {\r\n                            &quot;_id&quot;: [\r\n                                &quot;[MinKey, MaxKey]&quot;\r\n                            ]\r\n                        },\r\n                        &quot;keysExamined&quot;: 9533,\r\n                        &quot;seeks&quot;: 1,\r\n                        &quot;dupsTested&quot;: 0,\r\n                        &quot;dupsDropped&quot;: 0\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        &quot;command&quot;: {\r\n            &quot;find&quot;: &quot;collection&quot;,\r\n            &quot;filter&quot;: {\r\n                &quot;_id&quot;: {\r\n                    &quot;$exists&quot;: true\r\n                }\r\n            },\r\n            &quot;projection&quot;: {\r\n                &quot;_id&quot;: 0,\r\n                &quot;origin&quot;: 1\r\n            },\r\n            &quot;$db&quot;: &quot;db&quot;\r\n        },\r\n        &quot;ok&quot;: 1.0,\r\n        &quot;$clusterTime&quot;: {\r\n            &quot;clusterTime&quot;: {\r\n                &quot;$timestamp&quot;: {\r\n                    &quot;t&quot;: 1677769219,\r\n                    &quot;i&quot;: 1\r\n                }\r\n            },\r\n            &quot;signature&quot;: {\r\n                &quot;hash&quot;: {\r\n                    &quot;$binary&quot;: {\r\n                        &quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;,\r\n                        &quot;subType&quot;: &quot;00&quot;\r\n                    }\r\n                },\r\n                &quot;keyId&quot;: 0\r\n            }\r\n        },\r\n        &quot;operationTime&quot;: {\r\n            &quot;$timestamp&quot;: {\r\n                &quot;t&quot;: 1677769219,\r\n                &quot;i&quot;: 1\r\n            }\r\n        }\r\n    }\r\n\r\nSo again for some reason, mongo executes a `FETCH` and an `IXSCAN` phase although the query should to my understanding perform the same.\r\n\r\nI considered using `documentCount()`, `estimatedDocumentCount()`, different `aggregates()` and `find()` queries. But I couldn&#39;t find any query that was as efficient as `db.collection.find({}, {&quot;_id&quot;:0, &quot;origin&quot;: 1}).count()` on mongosh directly.\r\n\r\nHow can I improve the performance of the document count in java?\r\n\r\nEdit for the answer provided by @Noel:\r\n\r\n    // build the aggregation pipeline\r\n    List&lt;Bson&gt; pipeline = Arrays.asList(\r\n        Aggregates.match(Filters.gte(&quot;_id&quot;, new MinKey())),\r\n        Aggregates.group(&quot;$1&quot;, Accumulators.sum(&quot;n&quot;, 1)));\r\n    \r\n    // explain the execution stats of the aggregation pipeline\r\n    var findPublisher = \r\n        this.collection.aggregate(pipeline).explain();\r\n\r\nWhich also has a `FETCH` step first:\r\n\r\n    {\r\n        &quot;explainVersion&quot;: &quot;2&quot;,\r\n        &quot;queryPlanner&quot;: {\r\n            &quot;namespace&quot;: &quot;db.collection&quot;,\r\n            &quot;indexFilterSet&quot;: false,\r\n            &quot;parsedQuery&quot;: {\r\n                &quot;_id&quot;: {\r\n                    &quot;$gte&quot;: {\r\n                        &quot;$minKey&quot;: 1\r\n                    }\r\n                }\r\n            },\r\n            &quot;queryHash&quot;: &quot;D1046F5E&quot;,\r\n            &quot;planCacheKey&quot;: &quot;7E518BFB&quot;,\r\n            &quot;optimizedPipeline&quot;: true,\r\n            &quot;maxIndexedOrSolutionsReached&quot;: false,\r\n            &quot;maxIndexedAndSolutionsReached&quot;: false,\r\n            &quot;maxScansToExplodeReached&quot;: false,\r\n            &quot;winningPlan&quot;: {\r\n                &quot;queryPlan&quot;: {\r\n                    &quot;stage&quot;: &quot;GROUP&quot;,\r\n                    &quot;planNodeId&quot;: 3,\r\n                    &quot;inputStage&quot;: {\r\n                        &quot;stage&quot;: &quot;FETCH&quot;,\r\n                        &quot;planNodeId&quot;: 2,\r\n                        &quot;inputStage&quot;: {\r\n                            &quot;stage&quot;: &quot;IXSCAN&quot;,\r\n                            &quot;planNodeId&quot;: 1,\r\n                            &quot;keyPattern&quot;: {\r\n                                &quot;_id&quot;: 1\r\n                            },\r\n                            &quot;indexName&quot;: &quot;_id_&quot;,\r\n                            &quot;isMultiKey&quot;: false,\r\n                            &quot;multiKeyPaths&quot;: {\r\n                                &quot;_id&quot;: []\r\n                            },\r\n                            &quot;isUnique&quot;: true,\r\n                            &quot;isSparse&quot;: false,\r\n                            &quot;isPartial&quot;: false,\r\n                            &quot;indexVersion&quot;: 2,\r\n                            &quot;direction&quot;: &quot;forward&quot;,\r\n                            &quot;indexBounds&quot;: {\r\n                                &quot;_id&quot;: [\r\n                                    &quot;[MinKey, MaxKey]&quot;\r\n                                ]\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                &quot;slotBasedPlan&quot;: {\r\n                }\r\n            },\r\n            &quot;rejectedPlans&quot;: []\r\n        },\r\n        &quot;executionStats&quot;: {\r\n        },\r\n        &quot;command&quot;: {\r\n            &quot;aggregate&quot;: &quot;collection&quot;,\r\n            &quot;pipeline&quot;: [\r\n                {\r\n                    &quot;$match&quot;: {\r\n                        &quot;_id&quot;: {\r\n                            &quot;$gte&quot;: {\r\n                                &quot;$minKey&quot;: 1\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    &quot;$group&quot;: {\r\n                        &quot;_id&quot;: &quot;$1&quot;,\r\n                        &quot;n&quot;: {\r\n                            &quot;$sum&quot;: 1\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            &quot;cursor&quot;: {\r\n                &quot;batchSize&quot;: 1\r\n            },\r\n            &quot;$db&quot;: &quot;db&quot;\r\n        }\r\n    }","title":"Count documents in Java MongoDB driver only without FETCH phase","body":"<p>I'm trying to count the documents in a collection for a given filter. Using <code>countDocuments</code> uses up to <code>1s per 100'000 documents</code>, which is kind of slow and not consdering the impact is has on the db if multiple users trigger this count every few seconds to minutes.</p>\n<p>Under the hood <code>countDocuments()</code> translates to this <code>aggregate</code> query:</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.aggregate([\n  {\n    &quot;$match&quot;: {\n      &quot;_id&quot;: {&quot;$exists&quot;: true}\n    }\n  },\n  {\n    &quot;$group&quot;: {\n      &quot;_id&quot;: 1,\n      &quot;n&quot;: {&quot;$sum&quot;: 1}\n    }\n  }\n])\n</code></pre>\n<p>Calling <code>explain()</code> on it yields:</p>\n<pre><code>{\n  explainVersion: '1',\n  stages: [\n    {\n      '$cursor': {\n        queryPlanner: {\n          namespace: 'collection',\n          indexFilterSet: false,\n          parsedQuery: { _id: { '$exists': true } },\n          queryHash: 'BA029CD5',\n          planCacheKey: '4D66BB31',\n          maxIndexedOrSolutionsReached: false,\n          maxIndexedAndSolutionsReached: false,\n          maxScansToExplodeReached: false,\n          winningPlan: {\n            stage: 'FETCH',\n            filter: { _id: { '$exists': true } },\n            inputStage: {\n              stage: 'IXSCAN',\n              keyPattern: { _id: 1 },\n              indexName: '_id_',\n              isMultiKey: false,\n              multiKeyPaths: { _id: [] },\n              isUnique: true,\n              isSparse: false,\n              isPartial: false,\n              indexVersion: 2,\n              direction: 'forward',\n              indexBounds: { _id: [ '[MinKey, MaxKey]' ] }\n            }\n          },\n          rejectedPlans: []\n        },\n        executionStats: {\n          executionSuccess: true,\n          nReturned: 614833,\n          executionTimeMillis: 6589,\n          totalKeysExamined: 614833,\n          totalDocsExamined: 614833,\n          executionStages: {\n            stage: 'FETCH',\n            filter: { _id: { '$exists': true } },\n            nReturned: 614833,\n            executionTimeMillisEstimate: 4219,\n            works: 614834,\n            advanced: 614833,\n            needTime: 0,\n            needYield: 0,\n            saveState: 668,\n            restoreState: 668,\n            isEOF: 1,\n            docsExamined: 614833,\n            alreadyHasObj: 0,\n            inputStage: {\n              stage: 'IXSCAN',\n              nReturned: 614833,\n              executionTimeMillisEstimate: 568,\n              works: 614834,\n              advanced: 614833,\n              needTime: 0,\n              needYield: 0,\n              saveState: 668,\n              restoreState: 668,\n              isEOF: 1,\n              keyPattern: { _id: 1 },\n              indexName: '_id_',\n              isMultiKey: false,\n              multiKeyPaths: { _id: [] },\n              isUnique: true,\n              isSparse: false,\n              isPartial: false,\n              indexVersion: 2,\n              direction: 'forward',\n              indexBounds: { _id: [ '[MinKey, MaxKey]' ] },\n              keysExamined: 614833,\n              seeks: 1,\n              dupsTested: 0,\n              dupsDropped: 0\n            }\n          },\n          allPlansExecution: []\n        }\n      },\n      nReturned: Long(&quot;614833&quot;),\n      executionTimeMillisEstimate: Long(&quot;6510&quot;)\n    },\n    {\n      '$group': { _id: { '$const': 1 }, n: { '$sum': { '$const': 1 } } },\n      maxAccumulatorMemoryUsageBytes: { n: Long(&quot;80&quot;) },\n      totalOutputDataSizeBytes: Long(&quot;237&quot;),\n      usedDisk: false,\n      spills: Long(&quot;0&quot;),\n      nReturned: Long(&quot;1&quot;),\n      executionTimeMillisEstimate: Long(&quot;6584&quot;)\n    }\n  ],\n  command: {\n    aggregate: 'collection',\n    pipeline: [\n      { '$match': { _id: { '$exists': true } } },\n      { '$group': { _id: 1, n: { '$sum': 1 } } }\n    ],\n    cursor: {},\n    '$db': 'db'\n  },\n  ok: 1,\n  '$clusterTime': {\n    clusterTime: Timestamp({ t: 1677593996, i: 1 }),\n    signature: {\n      hash: Binary(Buffer.from(&quot;0000000000000000000000000000000000000000&quot;, &quot;hex&quot;), 0),\n      keyId: Long(&quot;0&quot;)\n    }\n  },\n  operationTime: Timestamp({ t: 1677593996, i: 1 })\n}\n</code></pre>\n<p>Notice how the winning strategy consists of 2 phases: First <code>FETCH</code> and only after this of <code>IXSCAN</code></p>\n<p>A query that uses <code>find()</code> that does not include the <code>_id</code> field and instead projects onto an indexed field (called <code>origin</code>) will only go for an <code>IXSCAN</code> instead:</p>\n<pre><code>db.collection.find({}, {&quot;_id&quot;:0, &quot;origin&quot;: 1}).count()\n</code></pre>\n<p>Will count the correct result and can also use a <code>filter</code>. <code>.explain()</code> will yield:</p>\n<pre><code>{\n    explainVersion: '1',\n    queryPlanner: {\n        namespace: 'db.collection',\n        indexFilterSet: false,\n        parsedQuery: { origin: { '$eq': 'WF' } },\n        queryHash: '2428EDD1',\n        planCacheKey: '85C94249',\n        maxIndexedOrSolutionsReached: false,\n        maxIndexedAndSolutionsReached: false,\n        maxScansToExplodeReached: false,\n        winningPlan: {\n        stage: 'PROJECTION_COVERED',\n        transformBy: { _id: 0, origin: 1 },\n        inputStage: {\n            stage: 'IXSCAN',\n            keyPattern: { origin: 1, 'metadata.iv': -1 },\n            indexName: 'originAscending',\n            isMultiKey: false,\n            multiKeyPaths: { origin: [], 'metadata.iv': [] },\n            isUnique: false,\n            isSparse: false,\n            isPartial: false,\n            indexVersion: 2,\n            direction: 'forward',\n            indexBounds: {\n            origin: [ '[&quot;WF&quot;, &quot;WF&quot;]' ],\n            'metadata.iv': [ '[MaxKey, MinKey]' ]\n            }\n        }\n        },\n        rejectedPlans: [\n        {\n            stage: 'PROJECTION_COVERED',\n            transformBy: { _id: 0, origin: 1 },\n            inputStage: {\n            stage: 'IXSCAN',\n            keyPattern: { origin: -1, 'metadata.iv': -1 },\n            indexName: 'originDescending',\n            isMultiKey: false,\n            multiKeyPaths: { origin: [], 'metadata.iv': [] },\n            isUnique: false,\n            isSparse: false,\n            isPartial: false,\n            indexVersion: 2,\n            direction: 'forward',\n            indexBounds: {\n                origin: [ '[&quot;WF&quot;, &quot;WF&quot;]' ],\n                'metadata.iv': [ '[MaxKey, MinKey]' ]\n            }\n            }\n        }\n        ]\n    },\n    command: {\n        find: 'collection',\n        filter: { origin: 'WF' },\n        projection: { _id: 0, origin: 1 },\n        '$db': 'db'\n    },\n    ok: 1,\n    '$clusterTime': {\n        clusterTime: Timestamp({ t: 1677593816, i: 1 }),\n        signature: {\n        hash: Binary(Buffer.from(&quot;0000000000000000000000000000000000000000&quot;, &quot;hex&quot;), 0),\n        keyId: Long(&quot;0&quot;)\n        }\n    },\n    operationTime: Timestamp({ t: 1677593816, i: 1 })\n}\n</code></pre>\n<p>This will only use an <code>IXSCAN</code> phase and execute much faster.</p>\n<p>I tried building this query in MongoDB Java driver version 4.8.0 by writing this (still in progress):</p>\n<pre><code>private int aggregate(InvoiceQuery query) {\n    var filter = new MongoInvoiceFilterCriteria(query.getFilter()).asBson();\n\n    var projection = Projections.fields(Projections.excludeId(), Projections.include(&quot;origin&quot;));\n\n    var findPublisher =\n        this.collection.find(filter).projection(projection).explain();\n\n    var result = Flowable.fromPublisher(findPublisher).blockingFirst();\n\n    LOGGER.info(&quot;Aggregate &quot; + result.toJson());\n\n    return 0;\n  }\n</code></pre>\n<p>Which will yield the follwing:</p>\n<pre><code>{\n    &quot;explainVersion&quot;: &quot;1&quot;,\n    &quot;queryPlanner&quot;: {\n        &quot;namespace&quot;: &quot;db.collection&quot;,\n        &quot;indexFilterSet&quot;: false,\n        &quot;parsedQuery&quot;: {\n            &quot;_id&quot;: {\n                &quot;$exists&quot;: true\n            }\n        },\n        &quot;queryHash&quot;: &quot;88DBAD21&quot;,\n        &quot;planCacheKey&quot;: &quot;D9A2E277&quot;,\n        &quot;maxIndexedOrSolutionsReached&quot;: false,\n        &quot;maxIndexedAndSolutionsReached&quot;: false,\n        &quot;maxScansToExplodeReached&quot;: false,\n        &quot;winningPlan&quot;: {\n            &quot;stage&quot;: &quot;PROJECTION_SIMPLE&quot;,\n            &quot;transformBy&quot;: {\n                &quot;_id&quot;: 0,\n                &quot;origin&quot;: 1\n            },\n            &quot;inputStage&quot;: {\n                &quot;stage&quot;: &quot;FETCH&quot;,\n                &quot;filter&quot;: {\n                    &quot;_id&quot;: {\n                        &quot;$exists&quot;: true\n                    }\n                },\n                &quot;inputStage&quot;: {\n                    &quot;stage&quot;: &quot;IXSCAN&quot;,\n                    &quot;keyPattern&quot;: {\n                        &quot;_id&quot;: 1\n                    },\n                    &quot;indexName&quot;: &quot;_id_&quot;,\n                    &quot;isMultiKey&quot;: false,\n                    &quot;multiKeyPaths&quot;: {\n                        &quot;_id&quot;: []\n                    },\n                    &quot;isUnique&quot;: true,\n                    &quot;isSparse&quot;: false,\n                    &quot;isPartial&quot;: false,\n                    &quot;indexVersion&quot;: 2,\n                    &quot;direction&quot;: &quot;forward&quot;,\n                    &quot;indexBounds&quot;: {\n                        &quot;_id&quot;: [\n                            &quot;[MinKey, MaxKey]&quot;\n                        ]\n                    }\n                }\n            }\n        },\n        &quot;rejectedPlans&quot;: []\n    },\n    &quot;executionStats&quot;: {\n        &quot;executionSuccess&quot;: true,\n        &quot;nReturned&quot;: 9533,\n        &quot;executionTimeMillis&quot;: 18,\n        &quot;totalKeysExamined&quot;: 9533,\n        &quot;totalDocsExamined&quot;: 9533,\n        &quot;executionStages&quot;: {\n            &quot;stage&quot;: &quot;PROJECTION_SIMPLE&quot;,\n            &quot;nReturned&quot;: 9533,\n            &quot;executionTimeMillisEstimate&quot;: 4,\n            &quot;works&quot;: 9534,\n            &quot;advanced&quot;: 9533,\n            &quot;needTime&quot;: 0,\n            &quot;needYield&quot;: 0,\n            &quot;saveState&quot;: 9,\n            &quot;restoreState&quot;: 9,\n            &quot;isEOF&quot;: 1,\n            &quot;transformBy&quot;: {\n                &quot;_id&quot;: 0,\n                &quot;origin&quot;: 1\n            },\n            &quot;inputStage&quot;: {\n                &quot;stage&quot;: &quot;FETCH&quot;,\n                &quot;filter&quot;: {\n                    &quot;_id&quot;: {\n                        &quot;$exists&quot;: true\n                    }\n                },\n                &quot;nReturned&quot;: 9533,\n                &quot;executionTimeMillisEstimate&quot;: 4,\n                &quot;works&quot;: 9534,\n                &quot;advanced&quot;: 9533,\n                &quot;needTime&quot;: 0,\n                &quot;needYield&quot;: 0,\n                &quot;saveState&quot;: 9,\n                &quot;restoreState&quot;: 9,\n                &quot;isEOF&quot;: 1,\n                &quot;docsExamined&quot;: 9533,\n                &quot;alreadyHasObj&quot;: 0,\n                &quot;inputStage&quot;: {\n                    &quot;stage&quot;: &quot;IXSCAN&quot;,\n                    &quot;nReturned&quot;: 9533,\n                    &quot;executionTimeMillisEstimate&quot;: 0,\n                    &quot;works&quot;: 9534,\n                    &quot;advanced&quot;: 9533,\n                    &quot;needTime&quot;: 0,\n                    &quot;needYield&quot;: 0,\n                    &quot;saveState&quot;: 9,\n                    &quot;restoreState&quot;: 9,\n                    &quot;isEOF&quot;: 1,\n                    &quot;keyPattern&quot;: {\n                        &quot;_id&quot;: 1\n                    },\n                    &quot;indexName&quot;: &quot;_id_&quot;,\n                    &quot;isMultiKey&quot;: false,\n                    &quot;multiKeyPaths&quot;: {\n                        &quot;_id&quot;: []\n                    },\n                    &quot;isUnique&quot;: true,\n                    &quot;isSparse&quot;: false,\n                    &quot;isPartial&quot;: false,\n                    &quot;indexVersion&quot;: 2,\n                    &quot;direction&quot;: &quot;forward&quot;,\n                    &quot;indexBounds&quot;: {\n                        &quot;_id&quot;: [\n                            &quot;[MinKey, MaxKey]&quot;\n                        ]\n                    },\n                    &quot;keysExamined&quot;: 9533,\n                    &quot;seeks&quot;: 1,\n                    &quot;dupsTested&quot;: 0,\n                    &quot;dupsDropped&quot;: 0\n                }\n            }\n        }\n    },\n    &quot;command&quot;: {\n        &quot;find&quot;: &quot;collection&quot;,\n        &quot;filter&quot;: {\n            &quot;_id&quot;: {\n                &quot;$exists&quot;: true\n            }\n        },\n        &quot;projection&quot;: {\n            &quot;_id&quot;: 0,\n            &quot;origin&quot;: 1\n        },\n        &quot;$db&quot;: &quot;db&quot;\n    },\n    &quot;ok&quot;: 1.0,\n    &quot;$clusterTime&quot;: {\n        &quot;clusterTime&quot;: {\n            &quot;$timestamp&quot;: {\n                &quot;t&quot;: 1677769219,\n                &quot;i&quot;: 1\n            }\n        },\n        &quot;signature&quot;: {\n            &quot;hash&quot;: {\n                &quot;$binary&quot;: {\n                    &quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;,\n                    &quot;subType&quot;: &quot;00&quot;\n                }\n            },\n            &quot;keyId&quot;: 0\n        }\n    },\n    &quot;operationTime&quot;: {\n        &quot;$timestamp&quot;: {\n            &quot;t&quot;: 1677769219,\n            &quot;i&quot;: 1\n        }\n    }\n}\n</code></pre>\n<p>So again for some reason, mongo executes a <code>FETCH</code> and an <code>IXSCAN</code> phase although the query should to my understanding perform the same.</p>\n<p>I considered using <code>documentCount()</code>, <code>estimatedDocumentCount()</code>, different <code>aggregates()</code> and <code>find()</code> queries. But I couldn't find any query that was as efficient as <code>db.collection.find({}, {&quot;_id&quot;:0, &quot;origin&quot;: 1}).count()</code> on mongosh directly.</p>\n<p>How can I improve the performance of the document count in java?</p>\n<p>Edit for the answer provided by @Noel:</p>\n<pre><code>// build the aggregation pipeline\nList&lt;Bson&gt; pipeline = Arrays.asList(\n    Aggregates.match(Filters.gte(&quot;_id&quot;, new MinKey())),\n    Aggregates.group(&quot;$1&quot;, Accumulators.sum(&quot;n&quot;, 1)));\n\n// explain the execution stats of the aggregation pipeline\nvar findPublisher = \n    this.collection.aggregate(pipeline).explain();\n</code></pre>\n<p>Which also has a <code>FETCH</code> step first:</p>\n<pre><code>{\n    &quot;explainVersion&quot;: &quot;2&quot;,\n    &quot;queryPlanner&quot;: {\n        &quot;namespace&quot;: &quot;db.collection&quot;,\n        &quot;indexFilterSet&quot;: false,\n        &quot;parsedQuery&quot;: {\n            &quot;_id&quot;: {\n                &quot;$gte&quot;: {\n                    &quot;$minKey&quot;: 1\n                }\n            }\n        },\n        &quot;queryHash&quot;: &quot;D1046F5E&quot;,\n        &quot;planCacheKey&quot;: &quot;7E518BFB&quot;,\n        &quot;optimizedPipeline&quot;: true,\n        &quot;maxIndexedOrSolutionsReached&quot;: false,\n        &quot;maxIndexedAndSolutionsReached&quot;: false,\n        &quot;maxScansToExplodeReached&quot;: false,\n        &quot;winningPlan&quot;: {\n            &quot;queryPlan&quot;: {\n                &quot;stage&quot;: &quot;GROUP&quot;,\n                &quot;planNodeId&quot;: 3,\n                &quot;inputStage&quot;: {\n                    &quot;stage&quot;: &quot;FETCH&quot;,\n                    &quot;planNodeId&quot;: 2,\n                    &quot;inputStage&quot;: {\n                        &quot;stage&quot;: &quot;IXSCAN&quot;,\n                        &quot;planNodeId&quot;: 1,\n                        &quot;keyPattern&quot;: {\n                            &quot;_id&quot;: 1\n                        },\n                        &quot;indexName&quot;: &quot;_id_&quot;,\n                        &quot;isMultiKey&quot;: false,\n                        &quot;multiKeyPaths&quot;: {\n                            &quot;_id&quot;: []\n                        },\n                        &quot;isUnique&quot;: true,\n                        &quot;isSparse&quot;: false,\n                        &quot;isPartial&quot;: false,\n                        &quot;indexVersion&quot;: 2,\n                        &quot;direction&quot;: &quot;forward&quot;,\n                        &quot;indexBounds&quot;: {\n                            &quot;_id&quot;: [\n                                &quot;[MinKey, MaxKey]&quot;\n                            ]\n                        }\n                    }\n                }\n            },\n            &quot;slotBasedPlan&quot;: {\n            }\n        },\n        &quot;rejectedPlans&quot;: []\n    },\n    &quot;executionStats&quot;: {\n    },\n    &quot;command&quot;: {\n        &quot;aggregate&quot;: &quot;collection&quot;,\n        &quot;pipeline&quot;: [\n            {\n                &quot;$match&quot;: {\n                    &quot;_id&quot;: {\n                        &quot;$gte&quot;: {\n                            &quot;$minKey&quot;: 1\n                        }\n                    }\n                }\n            },\n            {\n                &quot;$group&quot;: {\n                    &quot;_id&quot;: &quot;$1&quot;,\n                    &quot;n&quot;: {\n                        &quot;$sum&quot;: 1\n                    }\n                }\n            }\n        ],\n        &quot;cursor&quot;: {\n            &quot;batchSize&quot;: 1\n        },\n        &quot;$db&quot;: &quot;db&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","tuples","java-stream","treemap"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1677713827,"post_id":75610051,"comment_id":133394890,"body_markdown":"Just add some parameters to `toMap(..., (a, b) -&gt; a, TreeMap::new)`","body":"Just add some parameters to <code>toMap(..., (a, b) -&gt; a, TreeMap::new)</code>"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1677715886,"post_id":75610051,"comment_id":133395172,"body_markdown":"Looks like you’ve already asked the database to sort your data. Use a map that has a defined order - `LinkedHashMap`.","body":"Looks like you’ve already asked the database to sort your data. Use a map that has a defined order - <code>LinkedHashMap</code>."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1677716105,"post_id":75610051,"comment_id":133395201,"body_markdown":"Why do you want to sort a hash map? General hash maps are used for storing data that doesn&#39;t have any intrinsic ordering. You may need to think about using a different data structure than a map if you care about the order.","body":"Why do you want to sort a hash map? General hash maps are used for storing data that doesn&#39;t have any intrinsic ordering. You may need to think about using a different data structure than a map if you care about the order."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677722383,"post_id":75610051,"comment_id":133395973,"body_markdown":"For completeness, you should mention from what framework you are obtaining the `createQuery` &amp; `getResultStream` methods.","body":"For completeness, you should mention from what framework you are obtaining the <code>createQuery</code> &amp; <code>getResultStream</code> methods."}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677723828,"post_id":75610236,"comment_id":133396143,"body_markdown":"`oldTuple` and `newTuple` are String values, not Tuples.","body":"<code>oldTuple</code> and <code>newTuple</code> are String values, not Tuples."},{"owner":{"account_id":23475675,"reputation":5,"user_id":17528508,"display_name":"CheckDeck"},"score":0,"creation_date":1677725156,"post_id":75610236,"comment_id":133396347,"body_markdown":"Thank you very much, this was very helpful and solved my issue. I have one more bug, one of my values is CAN that I want to ignore. It&#39;s the only value in the key value pair with 3 characters in the string instead of 2. Do you have any suggestions on how to remove value name from my return? @BasilBourque","body":"Thank you very much, this was very helpful and solved my issue. I have one more bug, one of my values is CAN that I want to ignore. It&#39;s the only value in the key value pair with 3 characters in the string instead of 2. Do you have any suggestions on how to remove value name from my return? @BasilBourque"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677725300,"post_id":75610236,"comment_id":133396362,"body_markdown":"@shmosel You are correct again. Fixed. Thank you again.","body":"@shmosel You are correct again. Fixed. Thank you again."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677725351,"post_id":75610236,"comment_id":133396370,"body_markdown":"@CheckDeck I am curious, what province is `CAN`?","body":"@CheckDeck I am curious, what province is <code>CAN</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677725495,"post_id":75610236,"comment_id":133396391,"body_markdown":"@CheckDeck Add a data element to my example, `{ &quot;Federal&quot; , &quot;CAN&quot; } ,`.  Add a call to `Stream::filter` like this: `.filter( ( String[] input ) -&gt; ! input[ 1 ].equalsIgnoreCase( &quot;CAN&quot; ) )` before you call `.collect`.","body":"@CheckDeck Add a data element to my example, <code>{ &quot;Federal&quot; , &quot;CAN&quot; } ,</code>.  Add a call to <code>Stream::filter</code> like this: <code>.filter( ( String[] input ) -&gt; ! input[ 1 ].equalsIgnoreCase( &quot;CAN&quot; ) )</code> before you call <code>.collect</code>."},{"owner":{"account_id":23475675,"reputation":5,"user_id":17528508,"display_name":"CheckDeck"},"score":0,"creation_date":1677725547,"post_id":75610236,"comment_id":133396396,"body_markdown":"@BasilBourque it&#39;s not a province, this program is iterating over tax info and so CAN holds federal tax info, but for this method I want to ignore it","body":"@BasilBourque it&#39;s not a province, this program is iterating over tax info and so CAN holds federal tax info, but for this method I want to ignore it"},{"owner":{"account_id":23475675,"reputation":5,"user_id":17528508,"display_name":"CheckDeck"},"score":0,"creation_date":1677726842,"post_id":75610236,"comment_id":133396554,"body_markdown":"You&#39;re an absolute legend @BasilBourque thanks again","body":"You&#39;re an absolute legend @BasilBourque thanks again"},{"owner":{"account_id":23475675,"reputation":5,"user_id":17528508,"display_name":"CheckDeck"},"score":0,"creation_date":1677772404,"post_id":75610236,"comment_id":133407383,"body_markdown":"@BasilBourque one more question for you if you don&#39;t mind. I&#39;m using an Arquillian test to test this method, and want to return both the key and value for the first and last province. I Am currently returning the provinceName key, but I&#39;m unsure how to extract the value pair to match as well. I&#39;ve updated the question to show what my test currently looks like","body":"@BasilBourque one more question for you if you don&#39;t mind. I&#39;m using an Arquillian test to test this method, and want to return both the key and value for the first and last province. I Am currently returning the provinceName key, but I&#39;m unsure how to extract the value pair to match as well. I&#39;ve updated the question to show what my test currently looks like"},{"owner":{"account_id":23475675,"reputation":5,"user_id":17528508,"display_name":"CheckDeck"},"score":0,"creation_date":1677773623,"post_id":75610236,"comment_id":133407774,"body_markdown":"@BasilBourque I figured out my issue, cheers","body":"@BasilBourque I figured out my issue, cheers"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677781285,"post_id":75610236,"comment_id":133410009,"body_markdown":"@CheckDeck Either a record or an enum (with member fields populated by arguments passed to a constructor) are two common ways to manage such data.","body":"@CheckDeck Either a record or an enum (with member fields populated by arguments passed to a constructor) are two common ways to manage such data."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677726984,"creation_date":1677715694,"answer_id":75610236,"question_id":75610051,"body_markdown":"# Pass `TreeMap :: new` \r\n\r\nChange the declaration of your result to indicate you want a map sorted by key. Use `NavigableMap`.\r\n\r\nThis:\r\n\r\n    public Map&lt;String, String&gt; regionMap() { \r\n\r\n… should be:\r\n\r\n    public NavigableMap&lt;String, String&gt; regionMap() {\r\n\r\nSpecify a concrete implementation of `NavigableMap` by passing another argument, a map factory such as `TreeMap :: new`, to your `Collectors.toMap` call. We must also pass a merge function to decide what to do in case of duplicate elements. See the Javadoc for [this overload](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)) of `Collectors.toMap`. \r\n\r\n```java\r\n          Collectors.toMap(\r\n                tuple -&gt; tuple.get( 0 , String.class ) ,\r\n                tuple -&gt; tuple.get( 1 , String.class ) ,\r\n                ( oldValue , newValue ) -&gt; oldValue ) ,\r\n                TreeMap :: new\r\n            )\r\n```\r\n\r\nYour database sorting becomes superfluous in this approach. Since you are sorting on the Java side, you could delete the line of SQL:\r\n\r\n```sql\r\nORDER BY p.provinceName ASC\r\n```\r\n\r\nBut then again, adding elements to the `TreeMap` in pre-sorted order might help performance of the map’s sorting (just a guess on my part). So I would consider keeping the `ORDER BY`. \r\n\r\nIf you want to return an [unmodifiable map][1], use [`Collectors.toUnmodifiableMap`][2] with same arguments.\r\n\r\n## Example code\r\n\r\nHere is some example code.\r\n\r\nFirst, some input data, to simulate your database query.\r\n\r\n```java\r\nString[][] inputs =\r\n        {\r\n                { &quot;Ontario&quot; , &quot;ON&quot; } ,\r\n                { &quot;Qu&#233;bec&quot; , &quot;QA&quot; } ,\r\n                { &quot;Nova Scotia&quot; , &quot;NS&quot; } ,\r\n                { &quot;New Brunswick&quot; , &quot;NB&quot; } ,\r\n                { &quot;Manatob&quot; , &quot;MB&quot; } ,\r\n                { &quot;British Columbia&quot; , &quot;BC&quot; } ,\r\n                { &quot;Prince Edward Island&quot; , &quot;PE&quot; } ,\r\n                { &quot;Saskatchewan&quot; , &quot;SK&quot; } ,\r\n                { &quot;Alberta&quot; , &quot;AB&quot; } ,\r\n                { &quot;Newfoundland and Labrador&quot; , &quot;NL&quot; }\r\n        };\r\n```\r\n\r\nAnd the logic. We retrieve each row from the array of arrays. We extract the first and second element from each row/array by zero-based index counting (`0` &amp; `1`). And we collect those into a `NavigableMap`, specifically a `TreeMap`.\r\n\r\n```java\r\nNavigableMap &lt; String, String &gt; map =\r\n        Arrays\r\n                .stream( inputs )\r\n                .collect(\r\n                        Collectors.toMap(\r\n                                ( String[] input ) -&gt; input[ 0 ] ,\r\n                                ( String[] input ) -&gt; input[ 1 ] ,\r\n                                ( String oldValue , String newValue ) -&gt; oldValue ,\r\n                                TreeMap :: new\r\n                        )\r\n                );\r\n```\r\n\r\nOr, if you don&#39;t need to see the type declarations, use the following. Your situation is complicated enough that I would personally retain the type declarations for clarity. Doing so would have prevented the error you made in naming `oldTuple , newTuple` when really it is the `String` value objects that are being merged, `oldValue, newValue`.\r\n\r\n```java\r\nNavigableMap &lt; String, String &gt; map =\r\n        Arrays\r\n                .stream( inputs )\r\n                .collect(\r\n                        Collectors.toMap(\r\n                                input -&gt; input[ 0 ] ,\r\n                                input -&gt; input[ 1 ] ,\r\n                                ( oldValue , newValue ) -&gt; oldValue ,\r\n                                TreeMap :: new\r\n                        )\r\n                );\r\n```\r\n\r\nResult:\r\n\r\n&gt;map.toString() = {Alberta=AB, British Columbia=BC, Manatob=MB, New Brunswick=NB, Newfoundland and Labrador=NL, Nova Scotia=NS, Ontario=ON, Prince Edward Island=PE, Qu&#233;bec=QA, Saskatchewan=SK}\r\n\r\nWe can skip over unwanted rows. \r\n\r\n - Add a call to [`Stream :: filter`][3]. \r\n - Pass a [`Predicate`][4]. Notice the `!` in our predicate. We are filtering for elements to *keep*, not *lose*. \r\n\r\n```java\r\nString[][] inputs =\r\n        {\r\n                { &quot;Ontario&quot; , &quot;ON&quot; } ,\r\n                { &quot;Federal&quot; , &quot;CAN&quot; } ,  // &lt;-- Unwanted row.\r\n                { &quot;Qu&#233;bec&quot; , &quot;QA&quot; } ,\r\n                { &quot;Nova Scotia&quot; , &quot;NS&quot; } ,\r\n                { &quot;New Brunswick&quot; , &quot;NB&quot; } ,\r\n                { &quot;Manatob&quot; , &quot;MB&quot; } ,\r\n                { &quot;British Columbia&quot; , &quot;BC&quot; } ,\r\n                { &quot;Prince Edward Island&quot; , &quot;PE&quot; } ,\r\n                { &quot;Saskatchewan&quot; , &quot;SK&quot; } ,\r\n                { &quot;Alberta&quot; , &quot;AB&quot; } ,\r\n                { &quot;Newfoundland and Labrador&quot; , &quot;NL&quot; }\r\n        };\r\n\r\nNavigableMap &lt; String, String &gt; map =\r\n        Arrays\r\n                .stream( inputs )\r\n                .filter( ( String[] input ) -&gt; ! input[ 1 ].equalsIgnoreCase( &quot;CAN&quot; ) )\r\n                .collect(\r\n                        Collectors.toMap(\r\n                                input -&gt; input[ 0 ] ,\r\n                                input -&gt; input[ 1 ] ,\r\n                                ( oldValue , newValue ) -&gt; oldValue ,\r\n                                TreeMap :: new\r\n                        )\r\n                );\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toUnmodifiableMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html","title":"Sorting a Map in Java by Key","body":"<h1>Pass <code>TreeMap :: new</code></h1>\n<p>Change the declaration of your result to indicate you want a map sorted by key. Use <code>NavigableMap</code>.</p>\n<p>This:</p>\n<pre><code>public Map&lt;String, String&gt; regionMap() { \n</code></pre>\n<p>… should be:</p>\n<pre><code>public NavigableMap&lt;String, String&gt; regionMap() {\n</code></pre>\n<p>Specify a concrete implementation of <code>NavigableMap</code> by passing another argument, a map factory such as <code>TreeMap :: new</code>, to your <code>Collectors.toMap</code> call. We must also pass a merge function to decide what to do in case of duplicate elements. See the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)\" rel=\"nofollow noreferrer\">this overload</a> of <code>Collectors.toMap</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>          Collectors.toMap(\n                tuple -&gt; tuple.get( 0 , String.class ) ,\n                tuple -&gt; tuple.get( 1 , String.class ) ,\n                ( oldValue , newValue ) -&gt; oldValue ) ,\n                TreeMap :: new\n            )\n</code></pre>\n<p>Your database sorting becomes superfluous in this approach. Since you are sorting on the Java side, you could delete the line of SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ORDER BY p.provinceName ASC\n</code></pre>\n<p>But then again, adding elements to the <code>TreeMap</code> in pre-sorted order might help performance of the map’s sorting (just a guess on my part). So I would consider keeping the <code>ORDER BY</code>.</p>\n<p>If you want to return an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable map</a>, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toUnmodifiableMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>Collectors.toUnmodifiableMap</code></a> with same arguments.</p>\n<h2>Example code</h2>\n<p>Here is some example code.</p>\n<p>First, some input data, to simulate your database query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] inputs =\n        {\n                { &quot;Ontario&quot; , &quot;ON&quot; } ,\n                { &quot;Québec&quot; , &quot;QA&quot; } ,\n                { &quot;Nova Scotia&quot; , &quot;NS&quot; } ,\n                { &quot;New Brunswick&quot; , &quot;NB&quot; } ,\n                { &quot;Manatob&quot; , &quot;MB&quot; } ,\n                { &quot;British Columbia&quot; , &quot;BC&quot; } ,\n                { &quot;Prince Edward Island&quot; , &quot;PE&quot; } ,\n                { &quot;Saskatchewan&quot; , &quot;SK&quot; } ,\n                { &quot;Alberta&quot; , &quot;AB&quot; } ,\n                { &quot;Newfoundland and Labrador&quot; , &quot;NL&quot; }\n        };\n</code></pre>\n<p>And the logic. We retrieve each row from the array of arrays. We extract the first and second element from each row/array by zero-based index counting (<code>0</code> &amp; <code>1</code>). And we collect those into a <code>NavigableMap</code>, specifically a <code>TreeMap</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NavigableMap &lt; String, String &gt; map =\n        Arrays\n                .stream( inputs )\n                .collect(\n                        Collectors.toMap(\n                                ( String[] input ) -&gt; input[ 0 ] ,\n                                ( String[] input ) -&gt; input[ 1 ] ,\n                                ( String oldValue , String newValue ) -&gt; oldValue ,\n                                TreeMap :: new\n                        )\n                );\n</code></pre>\n<p>Or, if you don't need to see the type declarations, use the following. Your situation is complicated enough that I would personally retain the type declarations for clarity. Doing so would have prevented the error you made in naming <code>oldTuple , newTuple</code> when really it is the <code>String</code> value objects that are being merged, <code>oldValue, newValue</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NavigableMap &lt; String, String &gt; map =\n        Arrays\n                .stream( inputs )\n                .collect(\n                        Collectors.toMap(\n                                input -&gt; input[ 0 ] ,\n                                input -&gt; input[ 1 ] ,\n                                ( oldValue , newValue ) -&gt; oldValue ,\n                                TreeMap :: new\n                        )\n                );\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>map.toString() = {Alberta=AB, British Columbia=BC, Manatob=MB, New Brunswick=NB, Newfoundland and Labrador=NL, Nova Scotia=NS, Ontario=ON, Prince Edward Island=PE, Québec=QA, Saskatchewan=SK}</p>\n</blockquote>\n<p>We can skip over unwanted rows.</p>\n<ul>\n<li>Add a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Stream :: filter</code></a>.</li>\n<li>Pass a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>Predicate</code></a>. Notice the <code>!</code> in our predicate. We are filtering for elements to <em>keep</em>, not <em>lose</em>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] inputs =\n        {\n                { &quot;Ontario&quot; , &quot;ON&quot; } ,\n                { &quot;Federal&quot; , &quot;CAN&quot; } ,  // &lt;-- Unwanted row.\n                { &quot;Québec&quot; , &quot;QA&quot; } ,\n                { &quot;Nova Scotia&quot; , &quot;NS&quot; } ,\n                { &quot;New Brunswick&quot; , &quot;NB&quot; } ,\n                { &quot;Manatob&quot; , &quot;MB&quot; } ,\n                { &quot;British Columbia&quot; , &quot;BC&quot; } ,\n                { &quot;Prince Edward Island&quot; , &quot;PE&quot; } ,\n                { &quot;Saskatchewan&quot; , &quot;SK&quot; } ,\n                { &quot;Alberta&quot; , &quot;AB&quot; } ,\n                { &quot;Newfoundland and Labrador&quot; , &quot;NL&quot; }\n        };\n\nNavigableMap &lt; String, String &gt; map =\n        Arrays\n                .stream( inputs )\n                .filter( ( String[] input ) -&gt; ! input[ 1 ].equalsIgnoreCase( &quot;CAN&quot; ) )\n                .collect(\n                        Collectors.toMap(\n                                input -&gt; input[ 0 ] ,\n                                input -&gt; input[ 1 ] ,\n                                ( oldValue , newValue ) -&gt; oldValue ,\n                                TreeMap :: new\n                        )\n                );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677715921,"creation_date":1677715921,"answer_id":75610253,"question_id":75610051,"body_markdown":"TreeMap and LinkedHashMap are good candidates to serve the above requirement.\r\n\r\n\r\n&gt;A TreeMap is a map implementation that maintains the keys in sorted order.\r\n\r\n    return em.createQuery(&quot;&quot;&quot;\r\n                SELECT DISTINCT p.provinceName AS prov_id ,p.provinceAbbreviation AS prov_value\r\n                FROM CanadianPersonalIncomeTaxRate p         \r\n                ORDER BY p.provinceName ASC\r\n                &quot;&quot;&quot;, Tuple.class)\r\n                .getResultStream()\r\n                .collect(Collectors.toMap(\r\n                        tuple -&gt; tuple.get(0, String.class),\r\n                        tuple -&gt; tuple.get(1, String.class),\r\n                        (a, b) -&gt; a,TreeMap::new // use TreeMap to maintain sorted order\r\n                ));\r\n\r\n&gt;LinkedHashMap instance to maintain the insertion order.\r\n\r\n    return em.createQuery(&quot;&quot;&quot;\r\n                SELECT DISTINCT p.provinceName AS prov_id ,p.provinceAbbreviation AS prov_value\r\n                FROM CanadianPersonalIncomeTaxRate p         \r\n                ORDER BY p.provinceAbbreviation ASC\r\n                &quot;&quot;&quot;, Tuple.class)\r\n                .getResultStream()\r\n                .sorted(Comparator.comparing(tuple -&gt; tuple.get(1, String.class))) // sort by value\r\n                .collect(Collectors.toMap(\r\n                        tuple -&gt; tuple.get(0, String.class),\r\n                        tuple -&gt; tuple.get(1, String.class),\r\n                        (a, b) -&gt; a,\r\n                        LinkedHashMap::new // use LinkedHashMap to maintain insertion order\r\n                ));","title":"Sorting a Map in Java by Key","body":"<p>TreeMap and LinkedHashMap are good candidates to serve the above requirement.</p>\n<blockquote>\n<p>A TreeMap is a map implementation that maintains the keys in sorted order.</p>\n</blockquote>\n<pre><code>return em.createQuery(&quot;&quot;&quot;\n            SELECT DISTINCT p.provinceName AS prov_id ,p.provinceAbbreviation AS prov_value\n            FROM CanadianPersonalIncomeTaxRate p         \n            ORDER BY p.provinceName ASC\n            &quot;&quot;&quot;, Tuple.class)\n            .getResultStream()\n            .collect(Collectors.toMap(\n                    tuple -&gt; tuple.get(0, String.class),\n                    tuple -&gt; tuple.get(1, String.class),\n                    (a, b) -&gt; a,TreeMap::new // use TreeMap to maintain sorted order\n            ));\n</code></pre>\n<blockquote>\n<p>LinkedHashMap instance to maintain the insertion order.</p>\n</blockquote>\n<pre><code>return em.createQuery(&quot;&quot;&quot;\n            SELECT DISTINCT p.provinceName AS prov_id ,p.provinceAbbreviation AS prov_value\n            FROM CanadianPersonalIncomeTaxRate p         \n            ORDER BY p.provinceAbbreviation ASC\n            &quot;&quot;&quot;, Tuple.class)\n            .getResultStream()\n            .sorted(Comparator.comparing(tuple -&gt; tuple.get(1, String.class))) // sort by value\n            .collect(Collectors.toMap(\n                    tuple -&gt; tuple.get(0, String.class),\n                    tuple -&gt; tuple.get(1, String.class),\n                    (a, b) -&gt; a,\n                    LinkedHashMap::new // use LinkedHashMap to maintain insertion order\n            ));\n</code></pre>\n"}],"owner":{"account_id":23475675,"reputation":5,"user_id":17528508,"display_name":"CheckDeck"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75610236,"answer_count":2,"score":-1,"last_activity_date":1677773644,"creation_date":1677713576,"question_id":75610051,"body_markdown":"I checked out some related questions but none answered my question. I&#39;m trying to sort a Map ascending alphabetically, but am having issues. Here is the code currently:\r\n```\r\n    // provinceName is key\r\n    public Map&lt;String, String&gt; regionMap() {\r\n        return \r\n            em\r\n            .createQuery(\r\n                &quot;&quot;&quot;\r\n                SELECT DISTINCT p.provinceName AS prov_id ,p.provinceAbbreviation AS prov_value\r\n                FROM CanadianPersonalIncomeTaxRate p         \r\n                ORDER BY p.provinceName ASC\r\n                &quot;&quot;&quot;,\r\n                Tuple.class\r\n            )\r\n            .getResultStream()\r\n                //    .filter(prov_value -&gt; prov_value.get())\r\n                //    .sorted(Comparator.comparing(prov_value -&gt; prov_value))\r\n            .collect(\r\n                Collectors.toMap(\r\n                    tuple -&gt; tuple.get(0, String.class),\r\n                    tuple -&gt; tuple.get(1, String.class)\r\n                )\r\n            );\r\n    }\r\n```\r\nI was thinking about using .sorted or TreeMap, but am open to suggestions on how I can do it the cleanest/simply. Any help is greatly appreciated. ","title":"Sorting a Map in Java by Key","body":"<p>I checked out some related questions but none answered my question. I'm trying to sort a Map ascending alphabetically, but am having issues. Here is the code currently:</p>\n<pre><code>    // provinceName is key\n    public Map&lt;String, String&gt; regionMap() {\n        return \n            em\n            .createQuery(\n                &quot;&quot;&quot;\n                SELECT DISTINCT p.provinceName AS prov_id ,p.provinceAbbreviation AS prov_value\n                FROM CanadianPersonalIncomeTaxRate p         \n                ORDER BY p.provinceName ASC\n                &quot;&quot;&quot;,\n                Tuple.class\n            )\n            .getResultStream()\n                //    .filter(prov_value -&gt; prov_value.get())\n                //    .sorted(Comparator.comparing(prov_value -&gt; prov_value))\n            .collect(\n                Collectors.toMap(\n                    tuple -&gt; tuple.get(0, String.class),\n                    tuple -&gt; tuple.get(1, String.class)\n                )\n            );\n    }\n</code></pre>\n<p>I was thinking about using .sorted or TreeMap, but am open to suggestions on how I can do it the cleanest/simply. Any help is greatly appreciated.</p>\n"},{"tags":["java","android","libgdx","game-physics","parallax"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1424670542,"post_id":28664655,"comment_id":45629620,"body_markdown":"Sounds like a garbage collection issue. Are you allocating a lot of objects in the render loop?","body":"Sounds like a garbage collection issue. Are you allocating a lot of objects in the render loop?"},{"owner":{"account_id":1677391,"reputation":493,"user_id":1542594,"accept_rate":93,"display_name":"J. Arenas"},"score":0,"creation_date":1424678091,"post_id":28664655,"comment_id":45632275,"body_markdown":"I don&#39;t think it is garbage collection, I don&#39;t use that much objects. I think that it has something to do with the second draw of each background with the assing of the width that it dont have any aplying of the delta, but I tried some things and It still doesn`t work","body":"I don&#39;t think it is garbage collection, I don&#39;t use that much objects. I think that it has something to do with the second draw of each background with the assing of the width that it dont have any aplying of the delta, but I tried some things and It still doesn`t work"},{"owner":{"account_id":2359423,"reputation":2015,"user_id":2066474,"accept_rate":80,"display_name":"rbennett485"},"score":0,"creation_date":1424700699,"post_id":28664655,"comment_id":45644578,"body_markdown":"What kind of framerate is this running at? It seems a little unlikely that a drop of 1 fps would produce visible stuttering","body":"What kind of framerate is this running at? It seems a little unlikely that a drop of 1 fps would produce visible stuttering"},{"owner":{"account_id":1677391,"reputation":493,"user_id":1542594,"accept_rate":93,"display_name":"J. Arenas"},"score":0,"creation_date":1424701351,"post_id":28664655,"comment_id":45645024,"body_markdown":"@rbennett485 It is running at 60fps. In log the minimum value is about 59.2 to 59.9 fps","body":"@rbennett485 It is running at 60fps. In log the minimum value is about 59.2 to 59.9 fps"}],"answers":[{"comments":[{"owner":{"account_id":1677391,"reputation":493,"user_id":1542594,"accept_rate":93,"display_name":"J. Arenas"},"score":0,"creation_date":1424712652,"post_id":28676047,"comment_id":45652331,"body_markdown":"The 2* is because the texture is double the camera width. I am still drawing two copies, so when the first has just disappeared from the screen it is moved its length to match the end of the other one.\n\nI will give it a try as it makes sense to me, I will reply ASAP","body":"The 2* is because the texture is double the camera width. I am still drawing two copies, so when the first has just disappeared from the screen it is moved its length to match the end of the other one.  I will give it a try as it makes sense to me, I will reply ASAP"},{"owner":{"account_id":1677391,"reputation":493,"user_id":1542594,"accept_rate":93,"display_name":"J. Arenas"},"score":0,"creation_date":1424714112,"post_id":28676047,"comment_id":45653135,"body_markdown":"I&#39;ve donde that but still same behaviour. I noticed that it occurs randomly, not necessary when it has to correct the position.","body":"I&#39;ve donde that but still same behaviour. I noticed that it occurs randomly, not necessary when it has to correct the position."}],"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424701748,"creation_date":1424701748,"answer_id":28676047,"question_id":28664655,"body_markdown":"I see one possible reason that has nothing to do with FPS drops:\r\n\r\nHere&#39;s your first line, separated out for legibility:\r\n\r\n    if (bckgndmiddle_x &lt;= -Const.VIEWPORT_W*2+(game_speed*delta)/2) \r\n        bckgndmiddle_x = -(game_speed*delta)/2; \r\n    else \r\n        bckgndmiddle_x -= (game_speed*delta)/2;\r\n\r\nUsually, the `else` statement is used to move the background at a constant speed. But whenever it gets to the `if` statement, the position is explicitly set without regard to its previous position, so the movement will not be smooth. You need to move it to a position where it looks like it has moved exactly `-(game_speed*delta)/2` from its previous position.\r\n\r\nOne way to do this is to always move the object with speed, and shift it forward by the texture&#39;s width only when necessary as a correction. For example, assuming you are keeping the bottom left of the screen at (0, 0)::\r\n\r\n    float midWidth = floor.getRegionWidth();\r\n    \r\n    bckgndmiddle_x -= game_speed*delta/2; //Always move it at constant speed.\r\n    if (bckgndmiddle_x + 2*midWidth &lt; Const.VIEWPORT_W) //Right edge starting to show. \r\n        bckgndmiddle_x += midWidth; // Shift it exactly by its width so the jump is undetectable\r\n\r\nThe `2*` above is because I&#39;m assuming from your other code that you are actually drawing two copies of the background texture side by side. If you were drawing a single, wider texture that&#39;s wider than the viewport width constant, then you&#39;d remove the `2*`.\r\n\r\nThis same issue applies of course to your second line of code as well, where you are setting the far background displacement.","title":"LibGDX movement not smooth","body":"<p>I see one possible reason that has nothing to do with FPS drops:</p>\n\n<p>Here's your first line, separated out for legibility:</p>\n\n<pre><code>if (bckgndmiddle_x &lt;= -Const.VIEWPORT_W*2+(game_speed*delta)/2) \n    bckgndmiddle_x = -(game_speed*delta)/2; \nelse \n    bckgndmiddle_x -= (game_speed*delta)/2;\n</code></pre>\n\n<p>Usually, the <code>else</code> statement is used to move the background at a constant speed. But whenever it gets to the <code>if</code> statement, the position is explicitly set without regard to its previous position, so the movement will not be smooth. You need to move it to a position where it looks like it has moved exactly <code>-(game_speed*delta)/2</code> from its previous position.</p>\n\n<p>One way to do this is to always move the object with speed, and shift it forward by the texture's width only when necessary as a correction. For example, assuming you are keeping the bottom left of the screen at (0, 0)::</p>\n\n<pre><code>float midWidth = floor.getRegionWidth();\n\nbckgndmiddle_x -= game_speed*delta/2; //Always move it at constant speed.\nif (bckgndmiddle_x + 2*midWidth &lt; Const.VIEWPORT_W) //Right edge starting to show. \n    bckgndmiddle_x += midWidth; // Shift it exactly by its width so the jump is undetectable\n</code></pre>\n\n<p>The <code>2*</code> above is because I'm assuming from your other code that you are actually drawing two copies of the background texture side by side. If you were drawing a single, wider texture that's wider than the viewport width constant, then you'd remove the <code>2*</code>.</p>\n\n<p>This same issue applies of course to your second line of code as well, where you are setting the far background displacement.</p>\n"},{"tags":[],"owner":{"account_id":6269855,"reputation":111,"user_id":4874408,"display_name":"Yurij Skalskyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677773486,"creation_date":1677773486,"answer_id":75618044,"question_id":28664655,"body_markdown":"Had similar issue, fixed by disabling vsync\r\n\r\n        LwjglApplicationConfiguration config = new LwjglApplicationConfiguration();\r\n        config.vSyncEnabled = false; ","title":"LibGDX movement not smooth","body":"<p>Had similar issue, fixed by disabling vsync</p>\n<pre><code>    LwjglApplicationConfiguration config = new LwjglApplicationConfiguration();\n    config.vSyncEnabled = false; \n</code></pre>\n"}],"owner":{"account_id":1677391,"reputation":493,"user_id":1542594,"accept_rate":93,"display_name":"J. Arenas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1492,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1677773486,"creation_date":1424647593,"question_id":28664655,"body_markdown":"I&#39;m making a game in LibGDX. I have 4 textures as a parallax background and some obstacles (one in the upper part and others in the bottom part of the screen), this is the movement part:\r\n\r\n    //Parallax    \r\n    if (bckgndmiddle_x &lt;= -Const.VIEWPORT_W*2+(game_speed*delta)/2) bckgndmiddle_x=-(game_speed*delta)/2; else bckgndmiddle_x-=(game_speed*delta)/2;\r\n\t\tif (bckgndfar_x &lt;= -Const.VIEWPORT_W*2+(game_speed*delta)/5)      bckgndfar_x=-(game_speed*delta)/5; else bckgndfar_x-=(game_speed*delta)/5;\r\n\t\t\r\n\t\tfor (Obstacle obst:obstacles) {\r\n\t\t\tobst.update(game_speed*delta);\r\n\t\t}\r\n\t\t\r\n\t\t//End Main game loop\r\n\t\t\r\n\t\tplayer.update();\r\n\t\tgame.batch.begin();\r\n\t\tgame.batch.draw(wall, bckgndfar_x,floor.getRegionHeight()+100);\r\n\t\tgame.batch.draw(wall, bckgndfar_x+wall.getRegionWidth(),floor.getRegionHeight()+100);\r\n\t\tgame.batch.draw(bot_furniture, bckgndmiddle_x,floor.getRegionHeight());\r\n\t\tgame.batch.draw(bot_furniture, bckgndmiddle_x+bot_furniture.getRegionWidth(),floor.getRegionHeight());\r\n\t\tgame.batch.draw(floor, bckgndmiddle_x,0);\r\n\t\tgame.batch.draw(floor, bckgndmiddle_x+floor.getRegionWidth(),0);\r\n\t\tgame.batch.draw(ceiling, bckgndfar_x,Const.VIEWPORT_H-ceiling.getRegionHeight());\r\n\t\tgame.batch.draw(ceiling, bckgndfar_x+ceiling.getRegionWidth(),Const.VIEWPORT_H-ceiling.getRegionHeight());\r\n\r\n\r\nThe obstacle update method is just  x-= speed;   as speed is the parameter received\r\n\r\n\r\nThe problem is that from time to time the textures wiggles strange, like if the device cannot handle the game and freezes for a split second.\r\n\r\nAny clue why is this happening?\r\n\r\n\r\n***EDIT***\r\n\r\nWhat happens is that the textures stutters from time to time\r\n(I&#39;m Spanish and I didn&#39;t know that word)\r\n\r\nI think that it must be something related to the second image of each part of the background, that adding of the width. Like it adds the width, but sometimes it is too much because of a drop of fps (like 1 or 2 fps) and the next time it &quot;moves&quot; back to the good position because fps are back to normal.\r\n\r\n***EDIT 2***\r\nI tried it without the obstacles and it still stutters, I tried it again with the obstacles and without the background and it doesnt, so it must be something with what I said in the first edit.\r\n\r\nBTW, the FPS drop is less than 1 (checked)\r\n\r\nI have just tried to draw a entire background image (no parallax) and still the same issue.","title":"LibGDX movement not smooth","body":"<p>I'm making a game in LibGDX. I have 4 textures as a parallax background and some obstacles (one in the upper part and others in the bottom part of the screen), this is the movement part:</p>\n\n<pre><code>//Parallax    \nif (bckgndmiddle_x &lt;= -Const.VIEWPORT_W*2+(game_speed*delta)/2) bckgndmiddle_x=-(game_speed*delta)/2; else bckgndmiddle_x-=(game_speed*delta)/2;\n    if (bckgndfar_x &lt;= -Const.VIEWPORT_W*2+(game_speed*delta)/5)      bckgndfar_x=-(game_speed*delta)/5; else bckgndfar_x-=(game_speed*delta)/5;\n\n    for (Obstacle obst:obstacles) {\n        obst.update(game_speed*delta);\n    }\n\n    //End Main game loop\n\n    player.update();\n    game.batch.begin();\n    game.batch.draw(wall, bckgndfar_x,floor.getRegionHeight()+100);\n    game.batch.draw(wall, bckgndfar_x+wall.getRegionWidth(),floor.getRegionHeight()+100);\n    game.batch.draw(bot_furniture, bckgndmiddle_x,floor.getRegionHeight());\n    game.batch.draw(bot_furniture, bckgndmiddle_x+bot_furniture.getRegionWidth(),floor.getRegionHeight());\n    game.batch.draw(floor, bckgndmiddle_x,0);\n    game.batch.draw(floor, bckgndmiddle_x+floor.getRegionWidth(),0);\n    game.batch.draw(ceiling, bckgndfar_x,Const.VIEWPORT_H-ceiling.getRegionHeight());\n    game.batch.draw(ceiling, bckgndfar_x+ceiling.getRegionWidth(),Const.VIEWPORT_H-ceiling.getRegionHeight());\n</code></pre>\n\n<p>The obstacle update method is just  x-= speed;   as speed is the parameter received</p>\n\n<p>The problem is that from time to time the textures wiggles strange, like if the device cannot handle the game and freezes for a split second.</p>\n\n<p>Any clue why is this happening?</p>\n\n<p><strong><em>EDIT</em></strong></p>\n\n<p>What happens is that the textures stutters from time to time\n(I'm Spanish and I didn't know that word)</p>\n\n<p>I think that it must be something related to the second image of each part of the background, that adding of the width. Like it adds the width, but sometimes it is too much because of a drop of fps (like 1 or 2 fps) and the next time it \"moves\" back to the good position because fps are back to normal.</p>\n\n<p><strong><em>EDIT 2</em></strong>\nI tried it without the obstacles and it still stutters, I tried it again with the obstacles and without the background and it doesnt, so it must be something with what I said in the first edit.</p>\n\n<p>BTW, the FPS drop is less than 1 (checked)</p>\n\n<p>I have just tried to draw a entire background image (no parallax) and still the same issue.</p>\n"},{"tags":["java","apache-poi","testng","sha256"],"answers":[{"comments":[{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1470059739,"post_id":38699169,"comment_id":64779242,"body_markdown":"Thanks for your thoughts on this. I&#39;ll have to test and write the actual files to doublecheck it. But shouldn&#39;t setting the CoreProperty meta data (creation and modifying time, as done above) prevent a situation like this? Or does it only affect internal meta data, not those of the archive?","body":"Thanks for your thoughts on this. I&#39;ll have to test and write the actual files to doublecheck it. But shouldn&#39;t setting the CoreProperty meta data (creation and modifying time, as done above) prevent a situation like this? Or does it only affect internal meta data, not those of the archive?"},{"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"score":0,"creation_date":1470060447,"post_id":38699169,"comment_id":64779706,"body_markdown":"I think the best way to check this would be as you said: write the file and check the zip-contents. In my existing files I had not modified the CoreProterties, so I can&#39;t tell if that&#39;s what is causing the difference in my case.","body":"I think the best way to check this would be as you said: write the file and check the zip-contents. In my existing files I had not modified the CoreProterties, so I can&#39;t tell if that&#39;s what is causing the difference in my case."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1470062162,"post_id":38699169,"comment_id":64780834,"body_markdown":"Looks like you&#39;ve put me on the right track, piet! I&#39;ve extracted the generated expected and actual contents, and everything was similar, files, folders, CRC&#39;s, but the modification times differed by 2 secs. Given the fact, that I&#39;ve explicitly told POI to clear the modification times, this is odd. Unless, this affects other, internal modification times. Now I just need to figure out, how to manipulate the modification times of the files inside the XLSX, prior or after creation. Otherwise, I see no other way, but to un-zip, touch and re-zip the files. What do you think?","body":"Looks like you&#39;ve put me on the right track, piet! I&#39;ve extracted the generated expected and actual contents, and everything was similar, files, folders, CRC&#39;s, but the modification times differed by 2 secs. Given the fact, that I&#39;ve explicitly told POI to clear the modification times, this is odd. Unless, this affects other, internal modification times. Now I just need to figure out, how to manipulate the modification times of the files inside the XLSX, prior or after creation. Otherwise, I see no other way, but to un-zip, touch and re-zip the files. What do you think?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1470070533,"post_id":38699169,"comment_id":64786098,"body_markdown":"@fozzybear Your code tells POI to change the document-level metadata, which is what gets shown in Office if you check the document properties. It doesn&#39;t affect the zip-level metadata, which is automatically set by the low-level zip library","body":"@fozzybear Your code tells POI to change the document-level metadata, which is what gets shown in Office if you check the document properties. It doesn&#39;t affect the zip-level metadata, which is automatically set by the low-level zip library"},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1470073033,"post_id":38699169,"comment_id":64787451,"body_markdown":"@Gagravarr Yes, I&#39;ve figured it out, but need to find a way to change the zip content&#39;s properties. Think I&#39;ve found a possible solution here [link](http://stackoverflow.com/questions/15667125/read-content-from-files-which-are-inside-zip-file)","body":"@Gagravarr Yes, I&#39;ve figured it out, but need to find a way to change the zip content&#39;s properties. Think I&#39;ve found a possible solution here <a href=\"http://stackoverflow.com/questions/15667125/read-content-from-files-which-are-inside-zip-file\">link</a>"},{"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"score":0,"creation_date":1470117146,"post_id":38699169,"comment_id":64802205,"body_markdown":"@fozzybear I added some code that should change the timestamp in the zip-file. it is untested, so feel free to correct all errors you find ;)","body":"@fozzybear I added some code that should change the timestamp in the zip-file. it is untested, so feel free to correct all errors you find ;)"},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1470237722,"post_id":38699169,"comment_id":64869153,"body_markdown":"@piet.t I&#39;ve tried your ZipFile code snippet, but it seemed not to be possible to alter zip-internal file attributes. Extracting and looking at them in cygwin terminal with `ls -la --full-time` reveals, that neither the file&#39;s lastmodified attributes, nor the directorie&#39;s attributes are affected (which seem not be be iterated with the Enumeration anyway). Or is this only inteded for reading a zip file and neccessary to write a new ZipFile from the modified ZipFile entries - or using a ZipOutputStream in the first place?","body":"@piet.t I&#39;ve tried your ZipFile code snippet, but it seemed not to be possible to alter zip-internal file attributes. Extracting and looking at them in cygwin terminal with <code>ls -la --full-time</code> reveals, that neither the file&#39;s lastmodified attributes, nor the directorie&#39;s attributes are affected (which seem not be be iterated with the Enumeration anyway). Or is this only inteded for reading a zip file and neccessary to write a new ZipFile from the modified ZipFile entries - or using a ZipOutputStream in the first place?"}],"tags":[],"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470117107,"creation_date":1470055210,"answer_id":38699169,"question_id":38698734,"body_markdown":"This is not a definitive answer but this is my suspicion what happens:\r\n\r\ndocx and xlsx file formats are basically a bunch of zipped-up xml-files. This can easily be seen when renaming them to .zip and opening with your favorite zip-tool.\r\n\r\nWhen examining a file created by word I noticed that the change-timestamp of all files contained in the archive is always `1980-01-01 00:00:00` while in those created with POI it will show the actual timestamp the file was created.\r\n\r\nSo my I suspect that your problem occurs when there is a timestamp-difference between one or more of the files in `excelAdHoc1` and `excelAdHoc2`. This might happen when the clock switches to the next second while creating one or the other file.\r\n\r\nThis would not affect XLS-files since the HSSF-format is not of the &quot;zipped xml&quot;-type and thus does not contain any nested files that might have different timestamps.\r\n\r\nTo change the timestamps after writing the file you could try using the `java.util.zip``-package. I haven&#39;t tested it but this should do the trick:\r\n\r\n    ZipFile file = new ZipFile(pathToFile);\r\n    Enumeration&lt;ZipEntry&gt; e = file.entries();\r\n    while(e.hasMoreElements()) {\r\n        ZipEntry entry = e.nextElement();\r\n        entry.setTime(0L);\r\n    }","title":"POI XSSF / XLSX hashing indeterminism with MessageDigest SHA-256","body":"<p>This is not a definitive answer but this is my suspicion what happens:</p>\n\n<p>docx and xlsx file formats are basically a bunch of zipped-up xml-files. This can easily be seen when renaming them to .zip and opening with your favorite zip-tool.</p>\n\n<p>When examining a file created by word I noticed that the change-timestamp of all files contained in the archive is always <code>1980-01-01 00:00:00</code> while in those created with POI it will show the actual timestamp the file was created.</p>\n\n<p>So my I suspect that your problem occurs when there is a timestamp-difference between one or more of the files in <code>excelAdHoc1</code> and <code>excelAdHoc2</code>. This might happen when the clock switches to the next second while creating one or the other file.</p>\n\n<p>This would not affect XLS-files since the HSSF-format is not of the \"zipped xml\"-type and thus does not contain any nested files that might have different timestamps.</p>\n\n<p>To change the timestamps after writing the file you could try using the `java.util.zip``-package. I haven't tested it but this should do the trick:</p>\n\n<pre><code>ZipFile file = new ZipFile(pathToFile);\nEnumeration&lt;ZipEntry&gt; e = file.entries();\nwhile(e.hasMoreElements()) {\n    ZipEntry entry = e.nextElement();\n    entry.setTime(0L);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1557852,"reputation":4589,"user_id":1448419,"accept_rate":64,"display_name":"rcomblen"},"score":0,"creation_date":1677772378,"post_id":38794756,"comment_id":133407378,"body_markdown":"I get into an infinite loop with this implementation, as subparts points to the initial parts","body":"I get into an infinite loop with this implementation, as subparts points to the initial parts"}],"tags":[],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1474387960,"creation_date":1470417768,"answer_id":38794756,"question_id":38698734,"body_markdown":"Ok, I&#39;ve found a way to reset all XSLX file entry file time attributes, according to some example found here at SO. Unfortunately, only file entries seem to be accessible by methods like via ZipFile or OPCPackage. I could not find a solution to also access and reset the folders inside the archive, which also have differing time attributes. \r\n\r\nSo far, I didn&#39;t succeed in eliminating the differing properties of the POI-generated XLSX-archives, to get same SHA256 hashes out of two otherwise identical files, for which the differing attributes seem to be the reason.\r\n\r\n    private void resetOPCPTimeAttributes(File file)\r\n\t\t\tthrows InvalidFormatException, IOException, OpenXML4JException, XmlException {\r\n\t\t\r\n        OPCPackage opcp = ZipPackage.open(file);\r\n\t\tresetZipfileContentTimeAttributes(opcp.getParts());\r\n\t\t\r\n\t\topcp.flush();\r\n\t\topcp.close();\r\n\t}\r\n\r\n\tprivate void resetZipfileContentTimeAttributes(List&lt;PackagePart&gt; parts) throws InvalidFormatException {\r\n\t\t\r\n        ArrayList&lt;PackagePart&gt; subParts = null;\r\n\t\tfor (PackagePart part: parts) {\r\n\t\t\t\r\n            PackageProperties props = part.getPackage().getPackageProperties();\r\n            props.setLastModifiedByProperty(&quot;&quot;);\r\n\t\t\tprops.setCreatedProperty(&quot;&quot;);\r\n\t\t\tprops.setModifiedProperty(&quot;&quot;);\r\n\r\n\t\t\tsubParts = part.getPackage().getParts();\r\n\t\t\t\r\n\t\t\twhile (subParts != null) {\r\n\t\t\t\tresetZipfileContentTimeAttributes(subParts);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\r\nEdit:\r\n\r\nIn the meantime (until I or someone else finds a solution for manipulating folder meta data inside the Zip archive), I&#39;ve switched to the deep comparing solution here: [Comparing XLSX files][1]\r\n\r\n\r\n  [1]: http://blog.sodhanalibrary.com/2015/03/compare-excel-sheets-using-java.html#.V6Ri_XrJ2xU","title":"POI XSSF / XLSX hashing indeterminism with MessageDigest SHA-256","body":"<p>Ok, I've found a way to reset all XSLX file entry file time attributes, according to some example found here at SO. Unfortunately, only file entries seem to be accessible by methods like via ZipFile or OPCPackage. I could not find a solution to also access and reset the folders inside the archive, which also have differing time attributes. </p>\n\n<p>So far, I didn't succeed in eliminating the differing properties of the POI-generated XLSX-archives, to get same SHA256 hashes out of two otherwise identical files, for which the differing attributes seem to be the reason.</p>\n\n<pre><code>private void resetOPCPTimeAttributes(File file)\n        throws InvalidFormatException, IOException, OpenXML4JException, XmlException {\n\n    OPCPackage opcp = ZipPackage.open(file);\n    resetZipfileContentTimeAttributes(opcp.getParts());\n\n    opcp.flush();\n    opcp.close();\n}\n\nprivate void resetZipfileContentTimeAttributes(List&lt;PackagePart&gt; parts) throws InvalidFormatException {\n\n    ArrayList&lt;PackagePart&gt; subParts = null;\n    for (PackagePart part: parts) {\n\n        PackageProperties props = part.getPackage().getPackageProperties();\n        props.setLastModifiedByProperty(\"\");\n        props.setCreatedProperty(\"\");\n        props.setModifiedProperty(\"\");\n\n        subParts = part.getPackage().getParts();\n\n        while (subParts != null) {\n            resetZipfileContentTimeAttributes(subParts);\n        }\n    }\n}\n</code></pre>\n\n<p>Edit:</p>\n\n<p>In the meantime (until I or someone else finds a solution for manipulating folder meta data inside the Zip archive), I've switched to the deep comparing solution here: <a href=\"http://blog.sodhanalibrary.com/2015/03/compare-excel-sheets-using-java.html#.V6Ri_XrJ2xU\" rel=\"nofollow\">Comparing XLSX files</a></p>\n"},{"comments":[{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1679499908,"post_id":75617972,"comment_id":133733924,"body_markdown":"I&#39;m not involved with this issue anymore, but I&#39;ll forward your input, thank you.","body":"I&#39;m not involved with this issue anymore, but I&#39;ll forward your input, thank you."}],"tags":[],"owner":{"account_id":1557852,"reputation":4589,"user_id":1448419,"accept_rate":64,"display_name":"rcomblen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677773098,"creation_date":1677773098,"answer_id":75617972,"question_id":38698734,"body_markdown":"The issue is indeed the timestamps on the `ZipEntry`s of the ZipFile.\r\n\r\nThe following code resets the timestamps of an xlsx archive, without any write to disk (i.e. no usage of `File` API).\r\n\r\n    private byte[] resetZipTimestamps(byte[] bytes) {\r\n    try {\r\n      ZipInputStream zipInputStream = new ZipInputStream(\r\n        new ByteArrayInputStream(bytes)\r\n      );\r\n      ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n      ZipOutputStream zipOutputStream = new ZipOutputStream(\r\n        byteArrayOutputStream\r\n      );\r\n      ZipEntry zipEntry;\r\n      while ((zipEntry = zipInputStream.getNextEntry()) != null) {\r\n        Instant instant = ZonedDateTime\r\n          .of(2023, 1, 1, 0, 0, 0, 0, ZoneId.systemDefault())\r\n          .toInstant();\r\n        zipEntry.setLastModifiedTime(FileTime.from(instant));\r\n        zipEntry.setCreationTime(FileTime.from(instant));\r\n        zipOutputStream.putNextEntry(zipEntry);\r\n        byte[] buffer = new byte[256];\r\n        int readLength;\r\n        while ((readLength = zipInputStream.read(buffer, 0, 256)) &gt; 0) {\r\n          zipOutputStream.write(buffer, 0, readLength);\r\n        }\r\n      }\r\n      zipOutputStream.close();\r\n      return byteArrayOutputStream.toByteArray();\r\n    } catch (IOException e) {\r\n      throw new IllegalStateException(e);\r\n    }\r\n  }\r\n\r\nTested successfully on Java 17 with an XLSX generated with Apache POI 5.2.3.\r\n`md5sum` is now deterministic, so checksums can be used in regression testing of Excel file generation.\r\n\r\n`zipinfo` before:\r\n\r\n    $ zipinfo report_before.xlsx \r\n    Archive:  report_before.xlsx\r\n    Zip file size: 66564 bytes, number of entries: 15\r\n    -rw----     2.0 fat     2197 bl defN 23-Mar-02 17:01 [Content_Types].xml\r\n    -rw----     2.0 fat      592 bl defN 23-Mar-02 17:01 _rels/.rels\r\n    -rw----     2.0 fat      383 bl defN 23-Mar-02 17:01 docProps/app.xml\r\n    -rw----     2.0 fat      540 bl defN 23-Mar-02 17:01 docProps/core.xml\r\n    -rw----     2.0 fat    17076 bl defN 23-Mar-02 17:01 xl/sharedStrings.xml\r\n    -rw----     2.0 fat     5837 bl defN 23-Mar-02 17:01 xl/styles.xml\r\n    -rw----     2.0 fat     1236 bl defN 23-Mar-02 17:01 xl/workbook.xml\r\n    -rw----     2.0 fat     1409 bl defN 23-Mar-02 17:01 xl/_rels/workbook.xml.rels\r\n    -rw----     2.0 fat     1988 bl defN 23-Mar-02 17:01 xl/worksheets/sheet1.xml\r\n    -rw----     2.0 fat     2756 bl defN 23-Mar-02 17:01 xl/worksheets/sheet2.xml\r\n    -rw----     2.0 fat     1874 bl defN 23-Mar-02 17:01 xl/worksheets/sheet3.xml\r\n    -rw----     2.0 fat     3203 bl defN 23-Mar-02 17:01 xl/worksheets/sheet4.xml\r\n    -rw----     2.0 fat     8227 bl defN 23-Mar-02 17:01 xl/worksheets/sheet5.xml\r\n    -rw----     2.0 fat    27795 bl defN 23-Mar-02 17:01 xl/worksheets/sheet6.xml\r\n    -rw----     2.0 fat   370197 bl defN 23-Mar-02 17:01 xl/worksheets/sheet7.xml\r\n    15 files, 445310 bytes uncompressed, 64552 bytes compressed:  85.5%\r\n\r\n\r\n`zipinfo` after:\r\n\r\n    $ zipinfo report.xlsx \r\n    Archive:  report.xlsx\r\n    Zip file size: 66894 bytes, number of entries: 15\r\n    -rw----     2.0 fat     2197 bX defN 23-Jan-01 00:00 [Content_Types].xml\r\n    -rw----     2.0 fat      592 bX defN 23-Jan-01 00:00 _rels/.rels\r\n    -rw----     2.0 fat      383 bX defN 23-Jan-01 00:00 docProps/app.xml\r\n    -rw----     2.0 fat      540 bX defN 23-Jan-01 00:00 docProps/core.xml\r\n    -rw----     2.0 fat    17076 bX defN 23-Jan-01 00:00 xl/sharedStrings.xml\r\n    -rw----     2.0 fat     5837 bX defN 23-Jan-01 00:00 xl/styles.xml\r\n    -rw----     2.0 fat     1236 bX defN 23-Jan-01 00:00 xl/workbook.xml\r\n    -rw----     2.0 fat     1409 bX defN 23-Jan-01 00:00 xl/_rels/workbook.xml.rels\r\n    -rw----     2.0 fat     1988 bX defN 23-Jan-01 00:00 xl/worksheets/sheet1.xml\r\n    -rw----     2.0 fat     2756 bX defN 23-Jan-01 00:00 xl/worksheets/sheet2.xml\r\n    -rw----     2.0 fat     1874 bX defN 23-Jan-01 00:00 xl/worksheets/sheet3.xml\r\n    -rw----     2.0 fat     3203 bX defN 23-Jan-01 00:00 xl/worksheets/sheet4.xml\r\n    -rw----     2.0 fat     8227 bX defN 23-Jan-01 00:00 xl/worksheets/sheet5.xml\r\n    -rw----     2.0 fat    27795 bX defN 23-Jan-01 00:00 xl/worksheets/sheet6.xml\r\n    -rw----     2.0 fat   370197 bX defN 23-Jan-01 00:00 xl/worksheets/sheet7.xml\r\n    15 files, 445310 bytes uncompressed, 64552 bytes compressed:  85.5%\r\n\r\n","title":"POI XSSF / XLSX hashing indeterminism with MessageDigest SHA-256","body":"<p>The issue is indeed the timestamps on the <code>ZipEntry</code>s of the ZipFile.</p>\n<p>The following code resets the timestamps of an xlsx archive, without any write to disk (i.e. no usage of <code>File</code> API).</p>\n<pre><code>private byte[] resetZipTimestamps(byte[] bytes) {\ntry {\n  ZipInputStream zipInputStream = new ZipInputStream(\n    new ByteArrayInputStream(bytes)\n  );\n  ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n  ZipOutputStream zipOutputStream = new ZipOutputStream(\n    byteArrayOutputStream\n  );\n  ZipEntry zipEntry;\n  while ((zipEntry = zipInputStream.getNextEntry()) != null) {\n    Instant instant = ZonedDateTime\n      .of(2023, 1, 1, 0, 0, 0, 0, ZoneId.systemDefault())\n      .toInstant();\n    zipEntry.setLastModifiedTime(FileTime.from(instant));\n    zipEntry.setCreationTime(FileTime.from(instant));\n    zipOutputStream.putNextEntry(zipEntry);\n    byte[] buffer = new byte[256];\n    int readLength;\n    while ((readLength = zipInputStream.read(buffer, 0, 256)) &gt; 0) {\n      zipOutputStream.write(buffer, 0, readLength);\n    }\n  }\n  zipOutputStream.close();\n  return byteArrayOutputStream.toByteArray();\n} catch (IOException e) {\n  throw new IllegalStateException(e);\n}\n</code></pre>\n<p>}</p>\n<p>Tested successfully on Java 17 with an XLSX generated with Apache POI 5.2.3.\n<code>md5sum</code> is now deterministic, so checksums can be used in regression testing of Excel file generation.</p>\n<p><code>zipinfo</code> before:</p>\n<pre><code>$ zipinfo report_before.xlsx \nArchive:  report_before.xlsx\nZip file size: 66564 bytes, number of entries: 15\n-rw----     2.0 fat     2197 bl defN 23-Mar-02 17:01 [Content_Types].xml\n-rw----     2.0 fat      592 bl defN 23-Mar-02 17:01 _rels/.rels\n-rw----     2.0 fat      383 bl defN 23-Mar-02 17:01 docProps/app.xml\n-rw----     2.0 fat      540 bl defN 23-Mar-02 17:01 docProps/core.xml\n-rw----     2.0 fat    17076 bl defN 23-Mar-02 17:01 xl/sharedStrings.xml\n-rw----     2.0 fat     5837 bl defN 23-Mar-02 17:01 xl/styles.xml\n-rw----     2.0 fat     1236 bl defN 23-Mar-02 17:01 xl/workbook.xml\n-rw----     2.0 fat     1409 bl defN 23-Mar-02 17:01 xl/_rels/workbook.xml.rels\n-rw----     2.0 fat     1988 bl defN 23-Mar-02 17:01 xl/worksheets/sheet1.xml\n-rw----     2.0 fat     2756 bl defN 23-Mar-02 17:01 xl/worksheets/sheet2.xml\n-rw----     2.0 fat     1874 bl defN 23-Mar-02 17:01 xl/worksheets/sheet3.xml\n-rw----     2.0 fat     3203 bl defN 23-Mar-02 17:01 xl/worksheets/sheet4.xml\n-rw----     2.0 fat     8227 bl defN 23-Mar-02 17:01 xl/worksheets/sheet5.xml\n-rw----     2.0 fat    27795 bl defN 23-Mar-02 17:01 xl/worksheets/sheet6.xml\n-rw----     2.0 fat   370197 bl defN 23-Mar-02 17:01 xl/worksheets/sheet7.xml\n15 files, 445310 bytes uncompressed, 64552 bytes compressed:  85.5%\n</code></pre>\n<p><code>zipinfo</code> after:</p>\n<pre><code>$ zipinfo report.xlsx \nArchive:  report.xlsx\nZip file size: 66894 bytes, number of entries: 15\n-rw----     2.0 fat     2197 bX defN 23-Jan-01 00:00 [Content_Types].xml\n-rw----     2.0 fat      592 bX defN 23-Jan-01 00:00 _rels/.rels\n-rw----     2.0 fat      383 bX defN 23-Jan-01 00:00 docProps/app.xml\n-rw----     2.0 fat      540 bX defN 23-Jan-01 00:00 docProps/core.xml\n-rw----     2.0 fat    17076 bX defN 23-Jan-01 00:00 xl/sharedStrings.xml\n-rw----     2.0 fat     5837 bX defN 23-Jan-01 00:00 xl/styles.xml\n-rw----     2.0 fat     1236 bX defN 23-Jan-01 00:00 xl/workbook.xml\n-rw----     2.0 fat     1409 bX defN 23-Jan-01 00:00 xl/_rels/workbook.xml.rels\n-rw----     2.0 fat     1988 bX defN 23-Jan-01 00:00 xl/worksheets/sheet1.xml\n-rw----     2.0 fat     2756 bX defN 23-Jan-01 00:00 xl/worksheets/sheet2.xml\n-rw----     2.0 fat     1874 bX defN 23-Jan-01 00:00 xl/worksheets/sheet3.xml\n-rw----     2.0 fat     3203 bX defN 23-Jan-01 00:00 xl/worksheets/sheet4.xml\n-rw----     2.0 fat     8227 bX defN 23-Jan-01 00:00 xl/worksheets/sheet5.xml\n-rw----     2.0 fat    27795 bX defN 23-Jan-01 00:00 xl/worksheets/sheet6.xml\n-rw----     2.0 fat   370197 bX defN 23-Jan-01 00:00 xl/worksheets/sheet7.xml\n15 files, 445310 bytes uncompressed, 64552 bytes compressed:  85.5%\n</code></pre>\n"}],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38794756,"answer_count":3,"score":3,"last_activity_date":1677773098,"creation_date":1470054034,"question_id":38698734,"body_markdown":"There seems to be a problem with getting deterministic hash values for the POI XLSX format, with MessageDigest SHA-256 implementation, even for empty ByteArray streams. This happens randomly, after several hundreds or even only thousands of iterations.\r\n\r\nThe relevant code snippets used to reproduce the problem:\r\n\r\n    // TestNG FileTest:\r\n    @Test(enabled = true) // indeterminism at random iterations, such as 400 or 1290\r\n    public void emptyXLSXTest() throws IOException, NoSuchAlgorithmException {\r\n        final Hasher hasher = new HasherImpl();\r\n        boolean differentSHA256Hash = false;\r\n        for (int i = 0; i &lt; 10000; i++) {\r\n            final ByteArrayOutputStream excelAdHoc1 = BusinessPlanInMemory.getEmptyExcel(&quot;xlsx&quot;);\r\n            final ByteArrayOutputStream excelAdHoc2 = BusinessPlanInMemory.getEmptyExcel(&quot;xlsx&quot;);\r\n            \r\n            byte[] expectedByteArray = excelAdHoc1.toByteArray();\r\n\tString expectedSha256 = hasher.sha256(expectedByteArray);\r\n\tbyte[] actualByteArray = excelAdHoc2.toByteArray();\r\n\tString actualSha256 = hasher.sha256(actualByteArray);\r\n\t\t\t\r\n\tif (!expectedSha256.equals(actualSha256)) {\r\n                differentSHA256Hash = true;\r\n                System.out.println(&quot;ITERATION: &quot; + i);\r\n                System.out.println(&quot;EXPECTED HASH: &quot; + expectedSha256);\r\n                System.out.println(&quot;ACTUAL HASH: &quot; + actualSha256);\r\n                break;\r\n            }\r\n        }\r\n        Assert.assertTrue(differentSHA256Hash, &quot;Indeterminism did not occur&quot;);\r\n    }\r\n\r\n\r\nReferenced Hasher and POI code:\r\n\r\n    // HasherImpl class:\r\n    public String sha256(final InputStream stream) throws IOException, NoSuchAlgorithmException {\r\n        final MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        final byte[] bytesBuffer = new byte[300000]; \r\n        int bytesRead = -1;\r\n        while ((bytesRead = stream.read(bytesBuffer)) != -1) {\r\n            digest.update(bytesBuffer, 0, bytesRead);\r\n        }\r\n        final byte[] hashedBytes = digest.digest();\r\n        return bytesToHex(hashedBytes);\r\n    }\r\n\r\n\r\nTried to eliminate indeterminism due to meta data like creation time, to no avail:\r\n\r\n    // POI BusinessPlanInMemory helper class:\r\n    public static ByteArrayOutputStream getEmptyExcel(final String fileextension) throws IOException {\r\n        Workbook wb;\r\n\r\n        if (fileextension.equals(&quot;xls&quot;)) {\r\n            wb = new HSSFWorkbook();\r\n        }\r\n        else {\r\n            wb = new XSSFWorkbook();\r\n            final POIXMLProperties props = ((XSSFWorkbook) wb).getProperties();\r\n            final POIXMLProperties.CoreProperties coreProp = props.getCoreProperties();\r\n            coreProp.setCreated(&quot;&quot;);\r\n            coreProp.setIdentifier(&quot;1&quot;);\r\n            coreProp.setModified(&quot;&quot;);\r\n        }\r\n\r\n        wb.createSheet();\r\n\r\n        final ByteArrayOutputStream excelStream = new ByteArrayOutputStream();\r\n        wb.write(excelStream);\r\n        wb.close();\r\n        return excelStream;\r\n    }\r\n\r\nThe HSSF / XLS format seems not to be affected by the problem described.\r\nDoes anybody have a clue, what could be causing this, if not a bug in POI itself? Basically, the code above refers to \r\n&lt;https://poi.apache.org/spreadsheet/examples.html&gt;&lt;a href=&quot;https://poi.apache.org/spreadsheet/examples.html&quot;&gt;BusinessPlan example\r\n&lt;/a&gt;\r\n\r\nThanks for your input!","title":"POI XSSF / XLSX hashing indeterminism with MessageDigest SHA-256","body":"<p>There seems to be a problem with getting deterministic hash values for the POI XLSX format, with MessageDigest SHA-256 implementation, even for empty ByteArray streams. This happens randomly, after several hundreds or even only thousands of iterations.</p>\n\n<p>The relevant code snippets used to reproduce the problem:</p>\n\n<pre><code>// TestNG FileTest:\n@Test(enabled = true) // indeterminism at random iterations, such as 400 or 1290\npublic void emptyXLSXTest() throws IOException, NoSuchAlgorithmException {\n    final Hasher hasher = new HasherImpl();\n    boolean differentSHA256Hash = false;\n    for (int i = 0; i &lt; 10000; i++) {\n        final ByteArrayOutputStream excelAdHoc1 = BusinessPlanInMemory.getEmptyExcel(\"xlsx\");\n        final ByteArrayOutputStream excelAdHoc2 = BusinessPlanInMemory.getEmptyExcel(\"xlsx\");\n\n        byte[] expectedByteArray = excelAdHoc1.toByteArray();\nString expectedSha256 = hasher.sha256(expectedByteArray);\nbyte[] actualByteArray = excelAdHoc2.toByteArray();\nString actualSha256 = hasher.sha256(actualByteArray);\n\nif (!expectedSha256.equals(actualSha256)) {\n            differentSHA256Hash = true;\n            System.out.println(\"ITERATION: \" + i);\n            System.out.println(\"EXPECTED HASH: \" + expectedSha256);\n            System.out.println(\"ACTUAL HASH: \" + actualSha256);\n            break;\n        }\n    }\n    Assert.assertTrue(differentSHA256Hash, \"Indeterminism did not occur\");\n}\n</code></pre>\n\n<p>Referenced Hasher and POI code:</p>\n\n<pre><code>// HasherImpl class:\npublic String sha256(final InputStream stream) throws IOException, NoSuchAlgorithmException {\n    final MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\n    final byte[] bytesBuffer = new byte[300000]; \n    int bytesRead = -1;\n    while ((bytesRead = stream.read(bytesBuffer)) != -1) {\n        digest.update(bytesBuffer, 0, bytesRead);\n    }\n    final byte[] hashedBytes = digest.digest();\n    return bytesToHex(hashedBytes);\n}\n</code></pre>\n\n<p>Tried to eliminate indeterminism due to meta data like creation time, to no avail:</p>\n\n<pre><code>// POI BusinessPlanInMemory helper class:\npublic static ByteArrayOutputStream getEmptyExcel(final String fileextension) throws IOException {\n    Workbook wb;\n\n    if (fileextension.equals(\"xls\")) {\n        wb = new HSSFWorkbook();\n    }\n    else {\n        wb = new XSSFWorkbook();\n        final POIXMLProperties props = ((XSSFWorkbook) wb).getProperties();\n        final POIXMLProperties.CoreProperties coreProp = props.getCoreProperties();\n        coreProp.setCreated(\"\");\n        coreProp.setIdentifier(\"1\");\n        coreProp.setModified(\"\");\n    }\n\n    wb.createSheet();\n\n    final ByteArrayOutputStream excelStream = new ByteArrayOutputStream();\n    wb.write(excelStream);\n    wb.close();\n    return excelStream;\n}\n</code></pre>\n\n<p>The HSSF / XLS format seems not to be affected by the problem described.\nDoes anybody have a clue, what could be causing this, if not a bug in POI itself? Basically, the code above refers to \n<a href=\"https://poi.apache.org/spreadsheet/examples.html\" rel=\"nofollow\">https://poi.apache.org/spreadsheet/examples.html</a><a href=\"https://poi.apache.org/spreadsheet/examples.html\" rel=\"nofollow\">BusinessPlan example\n</a></p>\n\n<p>Thanks for your input!</p>\n"},{"tags":["java","utf-8","iso-8859-1"],"comments":[{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1504612486,"post_id":46054288,"comment_id":79068016,"body_markdown":"I&#39;m not sure You understand subject, or I understand You. Java String has only one legal form (unicode under the mask), Bytes can hold 8 bit characters in codepage what is wanted.","body":"I&#39;m not sure You understand subject, or I understand You. Java String has only one legal form (unicode under the mask), Bytes can hold 8 bit characters in codepage what is wanted."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1504612503,"post_id":46054288,"comment_id":79068031,"body_markdown":"I don&#39;t think we can help you without details for your DB (i.e. the vendor) and the way that you have configured it, and are connecting to it.  What you are doing should not be necessary ... if the DB / connection are configured appropriately.","body":"I don&#39;t think we can help you without details for your DB (i.e. the vendor) and the way that you have configured it, and are connecting to it.  What you are doing should not be necessary ... if the DB / connection are configured appropriately."},{"owner":{"account_id":11696962,"reputation":3,"user_id":8563373,"display_name":"Alejandro RV"},"score":0,"creation_date":1504613434,"post_id":46054288,"comment_id":79068634,"body_markdown":"The problem is not the DB because I am trying it too in a simple project where I give the String and it does not work. I only change a String in UTF-8, with characters like ESPA&#195;‘A, to Latin1 like ESPA&#209;A. It could be too like a replace from UTF-8 characters to the sepecific Latin1 character.","body":"The problem is not the DB because I am trying it too in a simple project where I give the String and it does not work. I only change a String in UTF-8, with characters like ESPA&#195;‘A, to Latin1 like ESPA&#209;A. It could be too like a replace from UTF-8 characters to the sepecific Latin1 character."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":1,"creation_date":1504613981,"post_id":46054288,"comment_id":79068958,"body_markdown":"Agreed with @StephenC. I&#39;d add : if you have a java String object, and this string shows a bad charset interpretation has been done, then the game is already over. There is (in the general case) no amount of converting that can revert this damage (information has been lost). So, like Stephen said, we should see what gave the damaged String in the first place, and prevent that. Sidenote : there is no way to change a char&#39;s encoding because chars are an encoding-free concept in Java (at the language level at least). Char to byte *conversion* (and vice versa) is where encodings come into play.","body":"Agreed with @StephenC. I&#39;d add : if you have a java String object, and this string shows a bad charset interpretation has been done, then the game is already over. There is (in the general case) no amount of converting that can revert this damage (information has been lost). So, like Stephen said, we should see what gave the damaged String in the first place, and prevent that. Sidenote : there is no way to change a char&#39;s encoding because chars are an encoding-free concept in Java (at the language level at least). Char to byte <i>conversion</i> (and vice versa) is where encodings come into play."}],"answers":[{"comments":[{"owner":{"account_id":11696962,"reputation":3,"user_id":8563373,"display_name":"Alejandro RV"},"score":0,"creation_date":1504613179,"post_id":46054382,"comment_id":79068466,"body_markdown":"The main thing that I want to do is change a UTF-8 String to Latin1. From ESPA&#195;‘A to ESPA&#209;A. But it has to be for all UTF-8 characters to Latin1 characters.","body":"The main thing that I want to do is change a UTF-8 String to Latin1. From ESPA&#195;‘A to ESPA&#209;A. But it has to be for all UTF-8 characters to Latin1 characters."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1504614964,"post_id":46054382,"comment_id":79069644,"body_markdown":"Even though a lot of people always keep answering this, `new String(foo.getBytes(encoding1), encoding2)` has never worked, doesn&#39;t work nor will it ever work. It will however corrupt the contents of the String in most cases. When it doesn&#39;t corrupt the String, it&#39;s just unnecessary.","body":"Even though a lot of people always keep answering this, <code>new String(foo.getBytes(encoding1), encoding2)</code> has never worked, doesn&#39;t work nor will it ever work. It will however corrupt the contents of the String in most cases. When it doesn&#39;t corrupt the String, it&#39;s just unnecessary."},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1504615258,"post_id":46054382,"comment_id":79069836,"body_markdown":"@Kayaman Sorry but your statement isn&#39;t true if UTF-8 data is read in as ISO-8859-1 which seems to be the case here. In that case my solution perfectly works and I&#39;ve used it a couple of times already to solve problems like this in production environments. So if you were the reason for the downvote, please consider reversing that.","body":"@Kayaman Sorry but your statement isn&#39;t true if UTF-8 data is read in as ISO-8859-1 which seems to be the case here. In that case my solution perfectly works and I&#39;ve used it a couple of times already to solve problems like this in production environments. So if you were the reason for the downvote, please consider reversing that."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1504615339,"post_id":46054382,"comment_id":79069891,"body_markdown":"I won&#39;t. The correct course of action is to read the data in properly. Not try to fix it when it&#39;s already corrupted. If you&#39;ve used this in production environments, it really isn&#39;t something you want to boast about.","body":"I won&#39;t. The correct course of action is to read the data in properly. Not try to fix it when it&#39;s already corrupted. If you&#39;ve used this in production environments, it really isn&#39;t something you want to boast about."},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1504615581,"post_id":46054382,"comment_id":79070087,"body_markdown":"@Kayaman It seems you haven&#39;t read the answer till the end where I explicitly said that fixing the source of the problem is better than trying workarounds like the one I specified.","body":"@Kayaman It seems you haven&#39;t read the answer till the end where I explicitly said that fixing the source of the problem is better than trying workarounds like the one I specified."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1504615698,"post_id":46054382,"comment_id":79070179,"body_markdown":"Remove your &quot;workaround&quot; and I&#39;ll remove my downvote. I can&#39;t allow you to propagate this sort of false information, when people get easily confused about encoding. That&#39;s not a workaround, that&#39;s a glaring bug in code.","body":"Remove your &quot;workaround&quot; and I&#39;ll remove my downvote. I can&#39;t allow you to propagate this sort of false information, when people get easily confused about encoding. That&#39;s not a workaround, that&#39;s a glaring bug in code."},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1504616017,"post_id":46054382,"comment_id":79070429,"body_markdown":"After this comment this is EOD for me. The workaround I specified is valid for certain situations and I described where. I don&#39;t brag for votes and I stand by what I&#39;ve said, so I won&#39;t change my answer just for that. I think readers of my answer and the following discussion in form of these comments will help to see the boundaries of the solution and avoid &quot;confusion&quot;.","body":"After this comment this is EOD for me. The workaround I specified is valid for certain situations and I described where. I don&#39;t brag for votes and I stand by what I&#39;ve said, so I won&#39;t change my answer just for that. I think readers of my answer and the following discussion in form of these comments will help to see the boundaries of the solution and avoid &quot;confusion&quot;."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1504616874,"post_id":46054382,"comment_id":79071084,"body_markdown":"Unfortunately I can tell you from experience that the readers won&#39;t see that. I have been answering these kinds of questions for a while, and it&#39;s really hard for people to get their head around encodings, even with plenty of examples. Suggesting `new String(foo.getBytes(encoding1), encoding2)` is dangerous, because the readers don&#39;t understand what that really means and why it is wrong.","body":"Unfortunately I can tell you from experience that the readers won&#39;t see that. I have been answering these kinds of questions for a while, and it&#39;s really hard for people to get their head around encodings, even with plenty of examples. Suggesting <code>new String(foo.getBytes(encoding1), encoding2)</code> is dangerous, because the readers don&#39;t understand what that really means and why it is wrong."}],"tags":[],"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"comment_count":8,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1504612496,"creation_date":1504612496,"answer_id":46054382,"question_id":46054288,"body_markdown":"`String#getBytes()` returns the text as bytes using the system encoding. What you need is a byte array containing the value of each character without any conversion taking place to keep the UTF8 encoding. You can do that by calling\r\n\r\n    myString.getBytes(&quot;8859_1&quot;);\r\n\r\nSo your line in the code should be changed to\r\n\r\n    String utf8 = new String(myString.getBytes(&quot;8859_1&quot;), &quot;UTF8&quot;);\r\n\r\nBut this is just a workaround. What you should do before is check the access to the database, since the data should come out this way when selecting data from it. As a first test, use a regular DB-client and see if the text shows up correctly in it. If that&#39;s the case, the table contains the data correctly and there is something wrong with your data retrieval from the DB. This might be wrong charset settings in the connection-string or you don&#39;t use `resultset#getString()` to get the data as text but maybe you get it as byte-array and create the String in a wrong way.\r\n\r\nTry to find the source of this and fix that. Then you don&#39;t need hacks like the above to get correct data.","title":"Change UTF-8 character to Latin1 Java","body":"<p><code>String#getBytes()</code> returns the text as bytes using the system encoding. What you need is a byte array containing the value of each character without any conversion taking place to keep the UTF8 encoding. You can do that by calling</p>\n\n<pre><code>myString.getBytes(\"8859_1\");\n</code></pre>\n\n<p>So your line in the code should be changed to</p>\n\n<pre><code>String utf8 = new String(myString.getBytes(\"8859_1\"), \"UTF8\");\n</code></pre>\n\n<p>But this is just a workaround. What you should do before is check the access to the database, since the data should come out this way when selecting data from it. As a first test, use a regular DB-client and see if the text shows up correctly in it. If that's the case, the table contains the data correctly and there is something wrong with your data retrieval from the DB. This might be wrong charset settings in the connection-string or you don't use <code>resultset#getString()</code> to get the data as text but maybe you get it as byte-array and create the String in a wrong way.</p>\n\n<p>Try to find the source of this and fix that. Then you don't need hacks like the above to get correct data.</p>\n"},{"comments":[{"owner":{"account_id":11696962,"reputation":3,"user_id":8563373,"display_name":"Alejandro RV"},"score":0,"creation_date":1504613640,"post_id":46054641,"comment_id":79068767,"body_markdown":"Thanks, that is useful. But in fact it is only the main characters as the Alphabet that I want to convert, like in this table: http://www.merinomartinez.com/2012/06/tabla-de-conversion-de-simbolos-utf-8-a-iso-8859-1-ansi/ . I think that it would be enough for my Strings that I want to convert.","body":"Thanks, that is useful. But in fact it is only the main characters as the Alphabet that I want to convert, like in this table: <a href=\"http://www.merinomartinez.com/2012/06/tabla-de-conversion-de-simbolos-utf-8-a-iso-8859-1-ansi/\" rel=\"nofollow noreferrer\">merinomartinez.com/2012/06/&hellip;</a> . I think that it would be enough for my Strings that I want to convert."},{"owner":{"account_id":10121872,"reputation":2186,"user_id":7478530,"display_name":"Dragonthoughts"},"score":0,"creation_date":1504684073,"post_id":46054641,"comment_id":79099679,"body_markdown":"I would still strongly suggest that you try to keep all your strings in a Unicode form rather than trying to downgrade them.\nYou seem pretty decided that you want them in Latin-1, but that means your code will break if, at any time in the future, even one character outside that set is used.\n\nThe reason that Java was designed to use Unicode natively is to try to ensure that these type breakages don&#39;t occur.\n\nThis is why all the standards from the World Wide Web Consortium have, for a very long time defaulted to a unicode encoding such as UTF-8.","body":"I would still strongly suggest that you try to keep all your strings in a Unicode form rather than trying to downgrade them. You seem pretty decided that you want them in Latin-1, but that means your code will break if, at any time in the future, even one character outside that set is used.  The reason that Java was designed to use Unicode natively is to try to ensure that these type breakages don&#39;t occur.  This is why all the standards from the World Wide Web Consortium have, for a very long time defaulted to a unicode encoding such as UTF-8."}],"tags":[],"owner":{"account_id":10121872,"reputation":2186,"user_id":7478530,"display_name":"Dragonthoughts"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677772591,"creation_date":1504613342,"answer_id":46054641,"question_id":46054288,"body_markdown":"If you don&#39;t know the encoding of the original bytes, you can&#39;t transcode them to a known form. I wrote a paper for the Unicode consortium on this problem. see [Mapping Text in Unspecified Character Sets to Unicode as a Canonical Representation in a Hostile Environment][1]\r\n\r\nThis code \r\n`new String(myString.getBytes(), Charset.forName(&quot;UTF-8&quot;)`\r\nmeans, I have the bytes in UTF-8, convert them into a Java String.\r\n\r\nUTF-8 can support the full range of Unicode characters (about 2^21 at the moment). Latin 1 can only support 2^8 characters.\r\n\r\nSo, transcoding from UTF-8 to Latin-1 is dangerous, as some characters will be lost, and you will need lost character exception handling.\r\n\r\nTranscoding from Latin-1 to UTF-8 is fine, as all characters in Latin-1 are supported in UTF-8.\r\n\r\n\r\n  [1]: http://unicode.org/iuc/iuc26/abstracts.html#a303","title":"Change UTF-8 character to Latin1 Java","body":"<p>If you don't know the encoding of the original bytes, you can't transcode them to a known form. I wrote a paper for the Unicode consortium on this problem. see <a href=\"http://unicode.org/iuc/iuc26/abstracts.html#a303\" rel=\"nofollow noreferrer\">Mapping Text in Unspecified Character Sets to Unicode as a Canonical Representation in a Hostile Environment</a></p>\n<p>This code\n<code>new String(myString.getBytes(), Charset.forName(&quot;UTF-8&quot;)</code>\nmeans, I have the bytes in UTF-8, convert them into a Java String.</p>\n<p>UTF-8 can support the full range of Unicode characters (about 2^21 at the moment). Latin 1 can only support 2^8 characters.</p>\n<p>So, transcoding from UTF-8 to Latin-1 is dangerous, as some characters will be lost, and you will need lost character exception handling.</p>\n<p>Transcoding from Latin-1 to UTF-8 is fine, as all characters in Latin-1 are supported in UTF-8.</p>\n"}],"owner":{"account_id":11696962,"reputation":3,"user_id":8563373,"display_name":"Alejandro RV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4286,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":46054641,"answer_count":2,"score":-2,"last_activity_date":1677772591,"creation_date":1504612176,"question_id":46054288,"body_markdown":"In my project I read Strings from my database, where I can not do any change because of permissions. I take a string in any codification, and I change it to UTF-8 without any problem for instance: \r\n\r\n    String countryName= &quot;ESPA&#195;ƒ&#226;€˜A&quot;;\t//get from de DataBase in unkwon encode\r\n    String utf8 = new String(myString.getBytes(), Charset.forName(&quot;UTF-8&quot;));\r\n    System.out.println(utf8); //prints -&gt; ESPA&#195;‘A and it should be ESPA&#209;A\r\n\r\nI need to change it, with all the strings that are parse to UTF-8, and covert it to Latin1\r\n\r\nI have found many methods in the page but anything it is doing correctly.\r\n\r\n\r\n\r\n\r\n","title":"Change UTF-8 character to Latin1 Java","body":"<p>In my project I read Strings from my database, where I can not do any change because of permissions. I take a string in any codification, and I change it to UTF-8 without any problem for instance: </p>\n\n<pre><code>String countryName= \"ESPAÃƒâ€˜A\";   //get from de DataBase in unkwon encode\nString utf8 = new String(myString.getBytes(), Charset.forName(\"UTF-8\"));\nSystem.out.println(utf8); //prints -&gt; ESPAÃ‘A and it should be ESPAÑA\n</code></pre>\n\n<p>I need to change it, with all the strings that are parse to UTF-8, and covert it to Latin1</p>\n\n<p>I have found many methods in the page but anything it is doing correctly.</p>\n"},{"tags":["java","gradle","logging","log4j","build.gradle"],"comments":[{"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"score":0,"creation_date":1677341739,"post_id":75566587,"comment_id":133320572,"body_markdown":"please share the pom.xml and log4j.properties files with us.","body":"please share the pom.xml and log4j.properties files with us."},{"owner":{"account_id":24770889,"reputation":13,"user_id":18654586,"display_name":"GoodKing"},"score":0,"creation_date":1677341862,"post_id":75566587,"comment_id":133320593,"body_markdown":"Where ist the log4j.properties file? build.gradle: https://pastebin.com/JftEB0QD","body":"Where ist the log4j.properties file? build.gradle: <a href=\"https://pastebin.com/JftEB0QD\" rel=\"nofollow noreferrer\">pastebin.com/JftEB0QD</a>"}],"answers":[{"tags":[],"owner":{"account_id":24770889,"reputation":13,"user_id":18654586,"display_name":"GoodKing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677772441,"creation_date":1677772441,"answer_id":75617847,"question_id":75566587,"body_markdown":"I&#39;ve found the error. The Log4J-Library wasn&#39;t included in the single jar-file. I&#39;ve installed and configured the Gradle plugin ShadowJAR and now, it works!","title":"NoClassDefFoundError when using Log4J","body":"<p>I've found the error. The Log4J-Library wasn't included in the single jar-file. I've installed and configured the Gradle plugin ShadowJAR and now, it works!</p>\n"}],"owner":{"account_id":24770889,"reputation":13,"user_id":18654586,"display_name":"GoodKing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75617847,"answer_count":1,"score":0,"last_activity_date":1677772441,"creation_date":1677339982,"question_id":75566587,"body_markdown":"I wrote a small script to try Log4J, but always an error occurs:&lt;br&gt;\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\r\n        at de.redstonepfalz.cachebuilder.CacheBuilder.&lt;clinit&gt;(CacheBuilder.java:7)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 1 more\r\n\r\n```\r\n\r\nIn the build.gradle file I have entered log4j-core and log4j-api in the latest version and the libraries are also installed. IntelliJ does not show me any error.\r\nAlso when compiling no error message appears.\r\n\r\nDoes anyone know what I did wrong?\r\n\r\nHere is the Java-Code:\r\n```Java\r\npackage de.redstonepfalz.cachebuilder;\r\n\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.logging.log4j.LogManager;\r\n\r\npublic class CacheBuilder {\r\n    private static final Logger logger = LogManager.getLogger(CacheBuilder.class);\r\n\r\n    public static void main(String[] args) {\r\n        logger.trace(&quot;Skript wird gestartet&quot;);\r\n        logger.error(&quot;Ein Fehler ist aufgetreten&quot;);\r\n        logger.fatal(&quot;Fatal&quot;);\r\n        logger.info(&quot;Ein Infofall ist aufgetreten&quot;);\r\n        logger.warn(&quot;Ein Warnung ist aufgetreten&quot;);\r\n        logger.debug(&quot;Debug messsage&quot;);\r\n        logger.trace(&quot;Skript wird beendet&quot;);\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }\r\n}\r\n```\r\nbuild.gradle: https://pastebin.com/JftEB0QD","title":"NoClassDefFoundError when using Log4J","body":"<p>I wrote a small script to try Log4J, but always an error occurs:<br></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\n        at de.redstonepfalz.cachebuilder.CacheBuilder.&lt;clinit&gt;(CacheBuilder.java:7)\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 1 more\n\n</code></pre>\n<p>In the build.gradle file I have entered log4j-core and log4j-api in the latest version and the libraries are also installed. IntelliJ does not show me any error.\nAlso when compiling no error message appears.</p>\n<p>Does anyone know what I did wrong?</p>\n<p>Here is the Java-Code:</p>\n<pre><code>package de.redstonepfalz.cachebuilder;\n\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.LogManager;\n\npublic class CacheBuilder {\n    private static final Logger logger = LogManager.getLogger(CacheBuilder.class);\n\n    public static void main(String[] args) {\n        logger.trace(&quot;Skript wird gestartet&quot;);\n        logger.error(&quot;Ein Fehler ist aufgetreten&quot;);\n        logger.fatal(&quot;Fatal&quot;);\n        logger.info(&quot;Ein Infofall ist aufgetreten&quot;);\n        logger.warn(&quot;Ein Warnung ist aufgetreten&quot;);\n        logger.debug(&quot;Debug messsage&quot;);\n        logger.trace(&quot;Skript wird beendet&quot;);\n        System.out.println(&quot;Hello world!&quot;);\n    }\n}\n</code></pre>\n<p>build.gradle: <a href=\"https://pastebin.com/JftEB0QD\" rel=\"nofollow noreferrer\">https://pastebin.com/JftEB0QD</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1583091758,"post_id":60478872,"comment_id":106991144,"body_markdown":"tools.jar does not exist anymore since JDK9+....","body":"tools.jar does not exist anymore since JDK9+...."},{"owner":{"account_id":16095880,"reputation":71,"user_id":11618066,"display_name":"Michal S"},"score":0,"creation_date":1583430090,"post_id":60478872,"comment_id":107123151,"body_markdown":"I would be interested why &quot;com.sun.xml.ws:jaxws-tools:pom:2.2.8&quot; is attempted to be used by Maven when there is far more new version of the artifact available - version 2.3.2. Is there a way I can change this?","body":"I would be interested why &quot;com.sun.xml.ws:jaxws-tools:pom:2.2.8&quot; is attempted to be used by Maven when there is far more new version of the artifact available - version 2.3.2. Is there a way I can change this?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1583480304,"post_id":60478872,"comment_id":107138408,"body_markdown":"The version of the plugin is seven years old (https://search.maven.org/artifact/org.jvnet.jax-ws-commons/jaxws-maven-plugin/2.3/maven-plugin)  ...apart from that it&#39;s plugin and not Maven itself. Furthermore the plugin versions is used cause it&#39;s defined in the pom file ...?","body":"The version of the plugin is seven years old (<a href=\"https://search.maven.org/artifact/org.jvnet.jax-ws-commons/jaxws-maven-plugin/2.3/maven-plugin\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.jvnet.jax-ws-commons/&hellip;</a>)  ...apart from that it&#39;s plugin and not Maven itself. Furthermore the plugin versions is used cause it&#39;s defined in the pom file ...?"}],"answers":[{"comments":[{"owner":{"account_id":15578493,"reputation":67,"user_id":11239001,"display_name":"Daniel Saito"},"score":0,"creation_date":1627099333,"post_id":60905920,"comment_id":121072218,"body_markdown":"I&#39;m counting... 4h trying to solve this problem, thanks for the partial solution, now I now that `org.apache.maven.plugins` `&lt;artifactId&gt; maven-war-plugin&lt;/artifactId&gt;` may as well be wrong","body":"I&#39;m counting... 4h trying to solve this problem, thanks for the partial solution, now I now that <code>org.apache.maven.plugins</code> <code>&lt;artifactId&gt; maven-war-plugin&lt;&#47;artifactId&gt;</code> may as well be wrong"}],"tags":[],"owner":{"account_id":16095880,"reputation":71,"user_id":11618066,"display_name":"Michal S"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585423772,"creation_date":1585423772,"answer_id":60905920,"question_id":60478872,"body_markdown":"Thanks to khmarbaise I attempted to use a more recent version of *jaxws-maven-plugin*, version 2.6 and the build has been successful.\r\n\r\nE.g. despite the Netbeans IDE generated these POM entries:\r\n\r\n    &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3&lt;/version&gt;\r\n\r\nThe solution was to use these instead:\r\n\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6&lt;/version&gt;\r\n\r\nCheers,\r\nMichal\r\n\r\n\r\n","title":"dependency.systemPath&#39; for com.sun:tools:jar must specify an absolute path but is ${tools.jar}","body":"<p>Thanks to khmarbaise I attempted to use a more recent version of <em>jaxws-maven-plugin</em>, version 2.6 and the build has been successful.</p>\n\n<p>E.g. despite the Netbeans IDE generated these POM entries:</p>\n\n<pre><code>&lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.3&lt;/version&gt;\n</code></pre>\n\n<p>The solution was to use these instead:</p>\n\n<pre><code>&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.6&lt;/version&gt;\n</code></pre>\n\n<p>Cheers,\nMichal</p>\n"},{"tags":[],"owner":{"account_id":20352770,"reputation":111,"user_id":14929045,"display_name":"Haylemicheal Berihun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642084150,"creation_date":1642084150,"answer_id":70698282,"question_id":60478872,"body_markdown":"In my case, I was using hyperjaxb3 maven plugin version 0.6.1 in a java 11 project. The hyperjaxb3 plugin is using JAXB version 2.2.11 internally. In the pom file of JAXB 2.2.11, the tools.jar is used. tools.jar is removed from java 11 so that&#39;s why it is raising this warning. I tried to solve this problem by cloning the hyperjaxb3 maven plugin repository and modifying it to be compatible with java 11. here is the git repo https://github.com/Haylemicheal/hyperjaxb3 . Build it by yourself and use the snapshot version in your project.","title":"dependency.systemPath&#39; for com.sun:tools:jar must specify an absolute path but is ${tools.jar}","body":"<p>In my case, I was using hyperjaxb3 maven plugin version 0.6.1 in a java 11 project. The hyperjaxb3 plugin is using JAXB version 2.2.11 internally. In the pom file of JAXB 2.2.11, the tools.jar is used. tools.jar is removed from java 11 so that's why it is raising this warning. I tried to solve this problem by cloning the hyperjaxb3 maven plugin repository and modifying it to be compatible with java 11. here is the git repo <a href=\"https://github.com/Haylemicheal/hyperjaxb3\" rel=\"nofollow noreferrer\">https://github.com/Haylemicheal/hyperjaxb3</a> . Build it by yourself and use the snapshot version in your project.</p>\n"},{"tags":[],"owner":{"account_id":27919925,"reputation":1,"user_id":21320332,"display_name":"Jan-Rudolph Buhrmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677772428,"creation_date":1677772428,"answer_id":75617845,"question_id":60478872,"body_markdown":"In my case my JAVA_HOME was set to a JRE and not a JDK on Linux","title":"dependency.systemPath&#39; for com.sun:tools:jar must specify an absolute path but is ${tools.jar}","body":"<p>In my case my JAVA_HOME was set to a JRE and not a JDK on Linux</p>\n"}],"owner":{"account_id":16095880,"reputation":71,"user_id":11618066,"display_name":"Michal S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6707,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677772428,"creation_date":1583090504,"question_id":60478872,"body_markdown":"i&#39;m trying to compile a web service client generated out of Netbeans 11.2.\r\nThe following pom.xml is being used:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;sk_simo_examples&lt;/groupId&gt;\r\n        &lt;artifactId&gt;CalculatorWS_Client_Application&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;build&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n                    &lt;directory&gt;src&lt;/directory&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;jax-ws-catalog.xml&lt;/include&gt;\r\n                        &lt;include&gt;wsdl/**&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;wsdlFiles&gt;\r\n                                    &lt;wsdlFile&gt;localhost_8080/CalculatorWSApplication/CalculatorWS.wsdl&lt;/wsdlFile&gt;\r\n                                &lt;/wsdlFiles&gt;\r\n                                &lt;packageName&gt;&lt;/packageName&gt;\r\n                                &lt;vmArgs&gt;\r\n                                    &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\r\n                                &lt;/vmArgs&gt;\r\n                                &lt;wsdlLocation&gt;http://localhost:8080/CalculatorWSApplication/CalculatorWS?wsdl&lt;/wsdlLocation&gt;\r\n                                &lt;staleFile&gt;${project.build.directory}/jaxws/stale/CalculatorWS.stale&lt;/staleFile&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;id&gt;wsimport-generate-CalculatorWS&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;wsdlFiles&gt;\r\n                                    &lt;wsdlFile&gt;localhost_8080/CalculatorWSApplication/CalculatorWS.wsdl&lt;/wsdlFile&gt;\r\n                                &lt;/wsdlFiles&gt;\r\n                                &lt;packageName&gt;&lt;/packageName&gt;\r\n                                &lt;vmArgs&gt;\r\n                                    &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\r\n                                &lt;/vmArgs&gt;\r\n                                &lt;wsdlLocation&gt;http://localhost:8080/CalculatorWSApplication/CalculatorWS?wsdl&lt;/wsdlLocation&gt;\r\n                                &lt;staleFile&gt;${project.build.directory}/jaxws/stale/CalculatorWS_1.stale&lt;/staleFile&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;id&gt;wsimport-generate-CalculatorWS_1&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;javax.xml&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;sourceDestDir&gt;${project.build.directory}/generated-sources/jaxws-wsimport&lt;/sourceDestDir&gt;\r\n                        &lt;xnocompile&gt;true&lt;/xnocompile&gt;\r\n                        &lt;verbose&gt;true&lt;/verbose&gt;\r\n                        &lt;extension&gt;true&lt;/extension&gt;\r\n                        &lt;catalog&gt;${basedir}/src/jax-ws-catalog.xml&lt;/catalog&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nThe build fails with a main error:\r\n\r\n    [ERROR] Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport (wsimport-generate-CalculatorWS) on project CalculatorWS_Client_Application: Mojo failed - check output -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport (wsimport-generate-CalculatorWS) on project CalculatorWS_Client_Application: Mojo failed - check output \r\n\r\nHowever I suspect these lines being a reason for failed compilation:\r\n\r\n    [WARNING] Failed to build parent project for com.sun.xml.ws:jaxws-tools:pom:2.2.8\r\n    org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\r\n    [ERROR] &#39;dependencyManagement.dependencies.dependency.systemPath&#39; for com.sun:tools:jar must specify an absolute path but is ${tools.jar} @ com.sun.xml.ws:jaxws-ri-bom:2.2.8, /home/miso/.m2/repository/com/sun/xml/ws/jaxws-ri-bom/2.2.8/jaxws-ri-bom-2.2.8.pom, line 395, column 29\r\n\r\nWhen checked the pom file from local repository indeed contains the lines:\r\n\r\n    &lt;!-- JDK dependencies --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.6&lt;/version&gt;\r\n                    &lt;scope&gt;system&lt;/scope&gt;\r\n                    &lt;systemPath&gt;${tools.jar}&lt;/systemPath&gt;\r\n                &lt;/dependency&gt;\r\n\r\nI&#39;m not aware how to solve this, i&#39;m a n00b when it comes to Java and Maven. Any ideas appreciated.\r\n\r\nI have used to compile directly from command line.\r\nMy environment:\r\n\r\n    Maven home: /opt/maven/apache-maven-3.6.3\r\n    Java version: 11.0.6, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;linux&quot;, version: &quot;4.15.0-88-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\nChears,\r\nMichal","title":"dependency.systemPath&#39; for com.sun:tools:jar must specify an absolute path but is ${tools.jar}","body":"<p>i'm trying to compile a web service client generated out of Netbeans 11.2.\nThe following pom.xml is being used:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;sk_simo_examples&lt;/groupId&gt;\n    &lt;artifactId&gt;CalculatorWS_Client_Application&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n                &lt;directory&gt;src&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;jax-ws-catalog.xml&lt;/include&gt;\n                    &lt;include&gt;wsdl/**&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;wsdlFiles&gt;\n                                &lt;wsdlFile&gt;localhost_8080/CalculatorWSApplication/CalculatorWS.wsdl&lt;/wsdlFile&gt;\n                            &lt;/wsdlFiles&gt;\n                            &lt;packageName&gt;&lt;/packageName&gt;\n                            &lt;vmArgs&gt;\n                                &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\n                            &lt;/vmArgs&gt;\n                            &lt;wsdlLocation&gt;http://localhost:8080/CalculatorWSApplication/CalculatorWS?wsdl&lt;/wsdlLocation&gt;\n                            &lt;staleFile&gt;${project.build.directory}/jaxws/stale/CalculatorWS.stale&lt;/staleFile&gt;\n                        &lt;/configuration&gt;\n                        &lt;id&gt;wsimport-generate-CalculatorWS&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;wsdlFiles&gt;\n                                &lt;wsdlFile&gt;localhost_8080/CalculatorWSApplication/CalculatorWS.wsdl&lt;/wsdlFile&gt;\n                            &lt;/wsdlFiles&gt;\n                            &lt;packageName&gt;&lt;/packageName&gt;\n                            &lt;vmArgs&gt;\n                                &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\n                            &lt;/vmArgs&gt;\n                            &lt;wsdlLocation&gt;http://localhost:8080/CalculatorWSApplication/CalculatorWS?wsdl&lt;/wsdlLocation&gt;\n                            &lt;staleFile&gt;${project.build.directory}/jaxws/stale/CalculatorWS_1.stale&lt;/staleFile&gt;\n                        &lt;/configuration&gt;\n                        &lt;id&gt;wsimport-generate-CalculatorWS_1&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n                        &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\n                        &lt;version&gt;2.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;sourceDestDir&gt;${project.build.directory}/generated-sources/jaxws-wsimport&lt;/sourceDestDir&gt;\n                    &lt;xnocompile&gt;true&lt;/xnocompile&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;extension&gt;true&lt;/extension&gt;\n                    &lt;catalog&gt;${basedir}/src/jax-ws-catalog.xml&lt;/catalog&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\n            &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The build fails with a main error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport (wsimport-generate-CalculatorWS) on project CalculatorWS_Client_Application: Mojo failed - check output -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport (wsimport-generate-CalculatorWS) on project CalculatorWS_Client_Application: Mojo failed - check output \n</code></pre>\n\n<p>However I suspect these lines being a reason for failed compilation:</p>\n\n<pre><code>[WARNING] Failed to build parent project for com.sun.xml.ws:jaxws-tools:pom:2.2.8\norg.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\n[ERROR] 'dependencyManagement.dependencies.dependency.systemPath' for com.sun:tools:jar must specify an absolute path but is ${tools.jar} @ com.sun.xml.ws:jaxws-ri-bom:2.2.8, /home/miso/.m2/repository/com/sun/xml/ws/jaxws-ri-bom/2.2.8/jaxws-ri-bom-2.2.8.pom, line 395, column 29\n</code></pre>\n\n<p>When checked the pom file from local repository indeed contains the lines:</p>\n\n<pre><code>&lt;!-- JDK dependencies --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun&lt;/groupId&gt;\n                &lt;artifactId&gt;tools&lt;/artifactId&gt;\n                &lt;version&gt;1.6&lt;/version&gt;\n                &lt;scope&gt;system&lt;/scope&gt;\n                &lt;systemPath&gt;${tools.jar}&lt;/systemPath&gt;\n            &lt;/dependency&gt;\n</code></pre>\n\n<p>I'm not aware how to solve this, i'm a n00b when it comes to Java and Maven. Any ideas appreciated.</p>\n\n<p>I have used to compile directly from command line.\nMy environment:</p>\n\n<pre><code>Maven home: /opt/maven/apache-maven-3.6.3\nJava version: 11.0.6, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"4.15.0-88-generic\", arch: \"amd64\", family: \"unix\"\n</code></pre>\n\n<p>Chears,\nMichal</p>\n"},{"tags":["java","typescript","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":13979585,"reputation":211,"user_id":10096086,"display_name":"Abraham Ciokler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677772258,"creation_date":1677772258,"answer_id":75617808,"question_id":75617007,"body_markdown":"If you need to pass a large number of query parameters then you need to be mindful that `GET` requests have a limit of how many parameters you can pass. However, if you really need to use query parameters then you can do the following:\r\n\r\n#### Using GET\r\nIf you want to pass an object through query parameters you can pass the properties of the object individually through the query parameters and spring will collect those and build the object for you. Just make sure the object has a public default constructor and the properties have public getter/setters, ex:\r\n```java\r\npublic class RequestDTO {\r\n     private String property1;\r\n     private String property2;\r\n     \r\n     // make sure you have a default constructor\r\n\r\n     // make sure you have setter/getter for the properties\r\n}\r\n```\r\nThen the endpoint itself will look like:\r\n```java\r\n@GetMapping(&quot;/endpoint&quot;)\r\npublic ResponseEntity&lt;String&gt; get(RequestDTO request) {\r\n     // ...\r\n}\r\n```\r\nthe request url will look something like this:\r\n```\r\nhttp://hostname/endpoint?property1=test1&amp;property2\r\n```\r\n\r\n### Using POST/PUT/PATCH\r\n\r\nIf you are able to get away from query parameters then use POST/PUT/PATCH instead. This is what it looks like:\r\n```java\r\n@PostMapping(&quot;/endpoint&quot;)\r\npublic ResponseEntity&lt;String&gt; post(@RequestBody RequestDTO request) {\r\n     // ...\r\n}\r\n```\r\n\r\nHope this helps!","title":"How to generate request param as object in spring using habarta-typescript-generator","body":"<p>If you need to pass a large number of query parameters then you need to be mindful that <code>GET</code> requests have a limit of how many parameters you can pass. However, if you really need to use query parameters then you can do the following:</p>\n<h4>Using GET</h4>\n<p>If you want to pass an object through query parameters you can pass the properties of the object individually through the query parameters and spring will collect those and build the object for you. Just make sure the object has a public default constructor and the properties have public getter/setters, ex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RequestDTO {\n     private String property1;\n     private String property2;\n     \n     // make sure you have a default constructor\n\n     // make sure you have setter/getter for the properties\n}\n</code></pre>\n<p>Then the endpoint itself will look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/endpoint&quot;)\npublic ResponseEntity&lt;String&gt; get(RequestDTO request) {\n     // ...\n}\n</code></pre>\n<p>the request url will look something like this:</p>\n<pre><code>http://hostname/endpoint?property1=test1&amp;property2\n</code></pre>\n<h3>Using POST/PUT/PATCH</h3>\n<p>If you are able to get away from query parameters then use POST/PUT/PATCH instead. This is what it looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/endpoint&quot;)\npublic ResponseEntity&lt;String&gt; post(@RequestBody RequestDTO request) {\n     // ...\n}\n</code></pre>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":21925683,"reputation":11,"user_id":16208335,"display_name":"Almir Omerovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677772258,"creation_date":1677768165,"question_id":75617007,"body_markdown":"I&#39;m trying to generated a spring endpoint that has a request param as an object (not annotated with `@RequestParam` annotation). The reason why I want to do this is because some endpoint consist of a large number of query params and I want to group then within models of their own.\r\n\r\nExpected behaviour:\r\n\r\n`@GetMapping(&quot;/foo&quot;)\r\nfun foo(req: RequestDTO): String`\r\n\r\nshould be generated to:\r\n`foo(queryParams: { req: RequestDTO; }, options?: any): RestResponse&lt;string&gt;`\r\n\r\nbut actually generates to:\r\n`foo(options?: any): RestResponse&lt;string&gt;`","title":"How to generate request param as object in spring using habarta-typescript-generator","body":"<p>I'm trying to generated a spring endpoint that has a request param as an object (not annotated with <code>@RequestParam</code> annotation). The reason why I want to do this is because some endpoint consist of a large number of query params and I want to group then within models of their own.</p>\n<p>Expected behaviour:</p>\n<p><code>@GetMapping(&quot;/foo&quot;) fun foo(req: RequestDTO): String</code></p>\n<p>should be generated to:\n<code>foo(queryParams: { req: RequestDTO; }, options?: any): RestResponse&lt;string&gt;</code></p>\n<p>but actually generates to:\n<code>foo(options?: any): RestResponse&lt;string&gt;</code></p>\n"},{"tags":["java","spring","spring-webflux","flux"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677761408,"post_id":75614880,"comment_id":133403868,"body_markdown":"show brandRepo.saveAll method signature","body":"show brandRepo.saveAll method signature"},{"owner":{"account_id":16040505,"reputation":63,"user_id":11577026,"display_name":"richardstone"},"score":0,"creation_date":1677805173,"post_id":75614880,"comment_id":133414935,"body_markdown":"&lt;S extends T&gt; Flux&lt;S&gt; saveAll(Iterable&lt;S&gt; entities);@kerbermeister","body":"&lt;S extends T&gt; Flux&lt;S&gt; saveAll(Iterable&lt;S&gt; entities);@kerbermeister"},{"owner":{"account_id":16040505,"reputation":63,"user_id":11577026,"display_name":"richardstone"},"score":0,"creation_date":1677809609,"post_id":75614880,"comment_id":133415377,"body_markdown":"I resolved it\n\n`return Mono.fromCallable(commonService::parseProduct)\n                .subscribeOn(Schedulers.boundedElastic())\n                .publishOn(Schedulers.parallel())\n                .flatMapMany(Flux::fromIterable)\n                .flatMap(this::fetchBrandsWithWebClient)\n                .filter(Brand::isNotEmptyBrand)\n                .distinct()\n                .collectList()\n                .flatMapMany(brandRepo::saveAll);`","body":"I resolved it  <code>return Mono.fromCallable(commonService::parseProduct)                 .subscribeOn(Schedulers.boundedElastic())                 .publishOn(Schedulers.parallel())                 .flatMapMany(Flux::fromIterable)                 .flatMap(this::fetchBrandsWithWebClient)                 .filter(Brand::isNotEmptyBrand)                 .distinct()                 .collectList()                 .flatMapMany(brandRepo::saveAll);</code>"}],"owner":{"account_id":16040505,"reputation":63,"user_id":11577026,"display_name":"richardstone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677772208,"creation_date":1677756904,"question_id":75614880,"body_markdown":"I use spring webflux. I want to save some objects into database with R2dbc mysql, this save function return Flux&lt;Object&gt; , so I got a Mono&lt;Flux&lt;Object&gt;&gt; finally but I want to a Flux&lt;Object&gt;\r\n\r\n\r\n```\r\npublic Mono&lt;Flux&lt;Brand&gt;&gt; refreshBrands() {\r\n        return Flux.fromIterable(commonService.parseProduct())// retrieve products\r\n                .flatMap(this::fetchBrandsWithWebClient)// map product to it&#39;s brands\r\n                .filter(Brand::isNotEmptyBrand) // filter invalid ones\r\n                .distinct()\r\n                .collectList() // get all with list\r\n                .map(brandRepo::saveAll); // save brands into database\r\n```\r\nAt the beginning I retrieved some defined products and transfer them to brands with a crawler based on spring webclient , then I save them all with saveAll function with R2dbc operation. I actually need a Flux&lt;Brand&gt; publisher but right now this function return a Mono&lt;Flux&lt;Brand&gt;&gt;. How to implement this? Thanks.","title":"How to convert Mono&lt;Flux&lt;T&gt;&gt; to Flux&lt;T&gt;","body":"<p>I use spring webflux. I want to save some objects into database with R2dbc mysql, this save function return Flux , so I got a Mono&lt;Flux&gt; finally but I want to a Flux</p>\n<pre><code>public Mono&lt;Flux&lt;Brand&gt;&gt; refreshBrands() {\n        return Flux.fromIterable(commonService.parseProduct())// retrieve products\n                .flatMap(this::fetchBrandsWithWebClient)// map product to it's brands\n                .filter(Brand::isNotEmptyBrand) // filter invalid ones\n                .distinct()\n                .collectList() // get all with list\n                .map(brandRepo::saveAll); // save brands into database\n</code></pre>\n<p>At the beginning I retrieved some defined products and transfer them to brands with a crawler based on spring webclient , then I save them all with saveAll function with R2dbc operation. I actually need a Flux publisher but right now this function return a Mono&lt;Flux&gt;. How to implement this? Thanks.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1655477256,"post_id":72661063,"comment_id":128348749,"body_markdown":"How is the connection via the SSH of the usual git terminal or client?","body":"How is the connection via the SSH of the usual git terminal or client?"},{"owner":{"account_id":19993238,"reputation":555,"user_id":14710362,"display_name":"WhiteBite"},"score":0,"creation_date":1655477293,"post_id":72661063,"comment_id":128348768,"body_markdown":"@WBLord Via git bash with password and private key","body":"@WBLord Via git bash with password and private key"},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1655477421,"post_id":72661063,"comment_id":128348812,"body_markdown":"Do you have pass-phrase  and default name key?","body":"Do you have pass-phrase  and default name key?"},{"owner":{"account_id":19993238,"reputation":555,"user_id":14710362,"display_name":"WhiteBite"},"score":0,"creation_date":1655477573,"post_id":72661063,"comment_id":128348872,"body_markdown":"@WBLord not default name","body":"@WBLord not default name"}],"answers":[{"tags":[],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655477858,"creation_date":1655477858,"answer_id":72661297,"question_id":72661063,"body_markdown":"Most likely, this error occurs due to a *passphrase* or a *non-default name* of the SSH key.\r\nTry changing the private and public key to **id_rsa** and **id_rsa.pub**\r\nTo remove the passphrase, use ```ssh-keygen -p```","title":"Maven install failed: com.jcraft.jsch.JSchException: Auth cancel","body":"<p>Most likely, this error occurs due to a <em>passphrase</em> or a <em>non-default name</em> of the SSH key.\nTry changing the private and public key to <strong>id_rsa</strong> and <strong>id_rsa.pub</strong>\nTo remove the passphrase, use <code>ssh-keygen -p</code></p>\n"},{"comments":[{"owner":{"account_id":1239676,"reputation":44,"user_id":1207796,"display_name":"carlos.romel"},"score":0,"creation_date":1677782613,"post_id":75617800,"comment_id":133410346,"body_markdown":"For some reason, jsch use a quite different authentication method.\n\nTLDL;\n[https://stackoverflow.com/questions/2901248/com-jcraft-jsch-jschexception-auth-cancel/75619432#75619432]Create a rsa-sha2-512 key (using a PEM format))\n\n[https://unix.stackexchange.com/questions/721606/ssh-server-gives-userauth-pubkey-key-type-ssh-rsa-not-in-pubkeyacceptedalgorit](Original solution)","body":"For some reason, jsch use a quite different authentication method.  TLDL; [<a href=\"https://stackoverflow.com/questions/2901248/com-jcraft-jsch-jschexception-auth-cancel/75619432#75619432]Create\" title=\"com jcraft jsch jschexception auth cancel\">stackoverflow.com/questions/2901248/&hellip;</a> a rsa-sha2-512 key (using a PEM format))  [<a href=\"https://unix.stackexchange.com/questions/721606/ssh-server-gives-userauth-pubkey-key-type-ssh-rsa-not-in-pubkeyacceptedalgorit](Original\" title=\"ssh server gives userauth pubkey key type ssh rsa not in pubkeyacceptedalgorit%5d(Original\">unix.stackexchange.com/questions/721606/&hellip;</a> solution)"}],"tags":[],"owner":{"account_id":1239676,"reputation":44,"user_id":1207796,"display_name":"carlos.romel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677772192,"creation_date":1677772192,"answer_id":75617800,"question_id":72661063,"body_markdown":"**Environment:**\r\nJava.: 1.8.0_282\r\nMaven: 3.8.6\r\n\r\n**Plugin version:**\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9.1&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\n**Site configuration:**\r\n\r\n    &lt;distributionManagement&gt;\r\n      &lt;site&gt;\r\n        &lt;id&gt;server_to_deploy&lt;/id&gt;\r\n        &lt;name&gt;Project documentation&lt;/name&gt;\r\n        &lt;url&gt;scp://server_to_deploy/var/www/html/ref/${project.artifactId}&lt;/url&gt;\r\n      &lt;/site&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n**Credential configuration:**\r\n\r\n    &lt;server&gt;\r\n      &lt;id&gt;server_to_deploy&lt;/id&gt;\r\n      &lt;username&gt;username&lt;/username&gt;\r\n      &lt;privateKey&gt;/home/user/.ssh/id_rsa_deploy_server&lt;/privateKey&gt;\r\n      &lt;configuration&gt;\r\n        &lt;strictHostKeyChecking&gt;no&lt;/strictHostKeyChecking&gt;\r\n        &lt;preferredAuthentications&gt;publicKey&lt;/preferredAuthentications&gt;\r\n        &lt;interactive&gt;false&lt;/interactive&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/server&gt;\r\n\r\n**Key generation:**\r\n\r\n    ssh-keygen -t rsa -N &#39;&#39; -f ~/.ssh/id_rsa_deploy_server\r\n\r\n**Key implantation:**\r\n\r\n    ssh-copy-id -i ~/.ssh/id_rsa_deploy_server server_to_deploy\r\n\r\nNote: on first run, password will be asked.\r\n\r\n**Key test:**\r\n\r\n    ssh -i ~/.ssh/id_rsa server_to_deploy date\r\n    qui 02 mar 2023 11:24:10 -03\r\n\r\n**Maven deploy:**\r\n\r\n    mvn site-deploy\r\n    server_to_deploymvn site:deploy -X\r\n    ```[DEBUG] Deploying to &#39;scp://server_to_deploy/home/username/public_html/ref/test&#39;,\r\n        Using credentials from server id &#39;server_to_deploy&#39;\r\n    [DEBUG]  configureWagon \r\n    [DEBUG] configureWagon server nexus\r\n    [DEBUG] configureWagon server nexus-snapshots\r\n    [DEBUG] configureWagon server nexus-releases\r\n    [DEBUG] repository protocol scp\r\n    [DEBUG] getProxy &#39;protocol&#39;: scp\r\n    [DEBUG] getProxy &#39;protocol&#39;: scp no ProxyInfo found\r\n    [DEBUG] Mapping url source calculation: \r\n    [DEBUG] Mapped url: scp://server_to_deploy/home/username/public_html/ref/test to relative path: \r\n    [DEBUG] authenticationInfo with id &#39;server_to_deploy&#39;: username\r\n    [DEBUG] connect with authenticationInfo and without proxyInfo\r\n    Using private key: /home/username/.ssh/id_rsa\r\n    scp://server_to_deploy/home/username/public_html/ref/test - Session: Connection refused\r\n    scp://server_to_deploy/home/username/public_html/ref/test - Session: Disconnecting  \r\n    scp://server_to_deploy/home/username/public_html/ref/test - Session: Disconnected\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  6.747 s\r\n    [INFO] Finished at: 2023-03-02T11:59:45-03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:deploy (default-deploy) on project test: Error uploading site: Cannot connect. Reason: invalid privatekey: [B@a6dffdb -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:deploy (default-deploy) on project test: Error uploading site\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Error uploading site\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.push (AbstractDeployMojo.java:454)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:311)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deployTo (AbstractDeployMojo.java:294)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.execute (AbstractDeployMojo.java:169)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.wagon.authentication.AuthenticationException: Cannot connect. Reason: invalid privatekey: [B@a6dffdb\r\n        at org.apache.maven.wagon.providers.ssh.jsch.AbstractJschWagon.openConnectionInternal (AbstractJschWagon.java:146)\r\n        at org.apache.maven.wagon.AbstractWagon.openConnection (AbstractWagon.java:139)\r\n        at org.apache.maven.wagon.AbstractWagon.connect (AbstractWagon.java:239)\r\n        at org.apache.maven.wagon.AbstractWagon.connect (AbstractWagon.java:176)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.push (AbstractDeployMojo.java:418)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:311)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deployTo (AbstractDeployMojo.java:294)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.execute (AbstractDeployMojo.java:169)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: com.jcraft.jsch.JSchException: invalid privatekey: [B@a6dffdb\r\n        at com.jcraft.jsch.KeyPair.load (KeyPair.java:664)\r\n        at com.jcraft.jsch.KeyPair.load (KeyPair.java:561)\r\n        at com.jcraft.jsch.IdentityFile.newInstance (IdentityFile.java:40)\r\n        at com.jcraft.jsch.JSch.addIdentity (JSch.java:407)\r\n        at com.jcraft.jsch.JSch.addIdentity (JSch.java:388)\r\n        at org.apache.maven.wagon.providers.ssh.jsch.AbstractJschWagon.openConnectionInternal (AbstractJschWagon.java:142)\r\n        at org.apache.maven.wagon.AbstractWagon.openConnection (AbstractWagon.java:139)\r\n        at org.apache.maven.wagon.AbstractWagon.connect (AbstractWagon.java:239)\r\n        at org.apache.maven.wagon.AbstractWagon.connect (AbstractWagon.java:176)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.push (AbstractDeployMojo.java:418)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:311)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deployTo (AbstractDeployMojo.java:294)\r\n        at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.execute (AbstractDeployMojo.java:169)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)","title":"Maven install failed: com.jcraft.jsch.JSchException: Auth cancel","body":"<p><strong>Environment:</strong>\nJava.: 1.8.0_282\nMaven: 3.8.6</p>\n<p><strong>Plugin version:</strong></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.9.1&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\n            &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>Site configuration:</strong></p>\n<pre><code>&lt;distributionManagement&gt;\n  &lt;site&gt;\n    &lt;id&gt;server_to_deploy&lt;/id&gt;\n    &lt;name&gt;Project documentation&lt;/name&gt;\n    &lt;url&gt;scp://server_to_deploy/var/www/html/ref/${project.artifactId}&lt;/url&gt;\n  &lt;/site&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n<p><strong>Credential configuration:</strong></p>\n<pre><code>&lt;server&gt;\n  &lt;id&gt;server_to_deploy&lt;/id&gt;\n  &lt;username&gt;username&lt;/username&gt;\n  &lt;privateKey&gt;/home/user/.ssh/id_rsa_deploy_server&lt;/privateKey&gt;\n  &lt;configuration&gt;\n    &lt;strictHostKeyChecking&gt;no&lt;/strictHostKeyChecking&gt;\n    &lt;preferredAuthentications&gt;publicKey&lt;/preferredAuthentications&gt;\n    &lt;interactive&gt;false&lt;/interactive&gt;\n  &lt;/configuration&gt;\n&lt;/server&gt;\n</code></pre>\n<p><strong>Key generation:</strong></p>\n<pre><code>ssh-keygen -t rsa -N '' -f ~/.ssh/id_rsa_deploy_server\n</code></pre>\n<p><strong>Key implantation:</strong></p>\n<pre><code>ssh-copy-id -i ~/.ssh/id_rsa_deploy_server server_to_deploy\n</code></pre>\n<p>Note: on first run, password will be asked.</p>\n<p><strong>Key test:</strong></p>\n<pre><code>ssh -i ~/.ssh/id_rsa server_to_deploy date\nqui 02 mar 2023 11:24:10 -03\n</code></pre>\n<p><strong>Maven deploy:</strong></p>\n<pre><code>mvn site-deploy\nserver_to_deploymvn site:deploy -X\n```[DEBUG] Deploying to 'scp://server_to_deploy/home/username/public_html/ref/test',\n    Using credentials from server id 'server_to_deploy'\n[DEBUG]  configureWagon \n[DEBUG] configureWagon server nexus\n[DEBUG] configureWagon server nexus-snapshots\n[DEBUG] configureWagon server nexus-releases\n[DEBUG] repository protocol scp\n[DEBUG] getProxy 'protocol': scp\n[DEBUG] getProxy 'protocol': scp no ProxyInfo found\n[DEBUG] Mapping url source calculation: \n[DEBUG] Mapped url: scp://server_to_deploy/home/username/public_html/ref/test to relative path: \n[DEBUG] authenticationInfo with id 'server_to_deploy': username\n[DEBUG] connect with authenticationInfo and without proxyInfo\nUsing private key: /home/username/.ssh/id_rsa\nscp://server_to_deploy/home/username/public_html/ref/test - Session: Connection refused\nscp://server_to_deploy/home/username/public_html/ref/test - Session: Disconnecting  \nscp://server_to_deploy/home/username/public_html/ref/test - Session: Disconnected\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.747 s\n[INFO] Finished at: 2023-03-02T11:59:45-03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:deploy (default-deploy) on project test: Error uploading site: Cannot connect. Reason: invalid privatekey: [B@a6dffdb -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:deploy (default-deploy) on project test: Error uploading site\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Error uploading site\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.push (AbstractDeployMojo.java:454)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:311)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deployTo (AbstractDeployMojo.java:294)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.execute (AbstractDeployMojo.java:169)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.wagon.authentication.AuthenticationException: Cannot connect. Reason: invalid privatekey: [B@a6dffdb\n    at org.apache.maven.wagon.providers.ssh.jsch.AbstractJschWagon.openConnectionInternal (AbstractJschWagon.java:146)\n    at org.apache.maven.wagon.AbstractWagon.openConnection (AbstractWagon.java:139)\n    at org.apache.maven.wagon.AbstractWagon.connect (AbstractWagon.java:239)\n    at org.apache.maven.wagon.AbstractWagon.connect (AbstractWagon.java:176)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.push (AbstractDeployMojo.java:418)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:311)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deployTo (AbstractDeployMojo.java:294)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.execute (AbstractDeployMojo.java:169)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: com.jcraft.jsch.JSchException: invalid privatekey: [B@a6dffdb\n    at com.jcraft.jsch.KeyPair.load (KeyPair.java:664)\n    at com.jcraft.jsch.KeyPair.load (KeyPair.java:561)\n    at com.jcraft.jsch.IdentityFile.newInstance (IdentityFile.java:40)\n    at com.jcraft.jsch.JSch.addIdentity (JSch.java:407)\n    at com.jcraft.jsch.JSch.addIdentity (JSch.java:388)\n    at org.apache.maven.wagon.providers.ssh.jsch.AbstractJschWagon.openConnectionInternal (AbstractJschWagon.java:142)\n    at org.apache.maven.wagon.AbstractWagon.openConnection (AbstractWagon.java:139)\n    at org.apache.maven.wagon.AbstractWagon.connect (AbstractWagon.java:239)\n    at org.apache.maven.wagon.AbstractWagon.connect (AbstractWagon.java:176)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.push (AbstractDeployMojo.java:418)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:311)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.deployTo (AbstractDeployMojo.java:294)\n    at org.apache.maven.plugins.site.deploy.AbstractDeployMojo.execute (AbstractDeployMojo.java:169)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n"}],"owner":{"account_id":19993238,"reputation":555,"user_id":14710362,"display_name":"WhiteBite"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72661297,"answer_count":2,"score":1,"last_activity_date":1677772192,"creation_date":1655476791,"question_id":72661063,"body_markdown":"I try to deploy to my work VDS. \r\nI have bad error and don`t know how solve it.\r\nI can&#39;t figure out what the problem is.\r\nThrough the terminal, the connection via the SSH protocol is stable\r\n```\r\n[ERROR] Failed to execute goal org.local.maven.plugins:dpkg-maven-plugin:1.13:install (install) on project service: Execution install of goal org.local.maven.plugins:dpkg-maven-plugin:1.13:install failed: com.jcraft.jsch.JSchException: Auth fail -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.local.maven.plugins:dpkg-maven-plugin:1.13:install (install) on project service: Execution install of goal org.local.maven.plugins:dpkg-maven-plugin:1.13:install failed: com.jcraft.jsch.JSchException: Auth fail\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n\r\n```\r\n\r\n\r\n\r\n","title":"Maven install failed: com.jcraft.jsch.JSchException: Auth cancel","body":"<p>I try to deploy to my work VDS.\nI have bad error and don`t know how solve it.\nI can't figure out what the problem is.\nThrough the terminal, the connection via the SSH protocol is stable</p>\n<pre><code>[ERROR] Failed to execute goal org.local.maven.plugins:dpkg-maven-plugin:1.13:install (install) on project service: Execution install of goal org.local.maven.plugins:dpkg-maven-plugin:1.13:install failed: com.jcraft.jsch.JSchException: Auth fail -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.local.maven.plugins:dpkg-maven-plugin:1.13:install (install) on project service: Execution install of goal org.local.maven.plugins:dpkg-maven-plugin:1.13:install failed: com.jcraft.jsch.JSchException: Auth fail\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","appium","winappdriver","appium-desktop"],"answers":[{"comments":[{"owner":{"account_id":8590856,"reputation":83,"user_id":6435493,"display_name":"Karlo Petravić"},"score":0,"creation_date":1684845865,"post_id":75617787,"comment_id":134574210,"body_markdown":"What version of appium java-client and WinAppDriver are you using? Because I tried this solution on 8.5 java-client and 1.2.1 WinAppDriver and it not working anymore. Error is: `org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: WinAppDriver server is not listening within 10000ms timeout. Make sure it could be started manually ` of course manually it starts.","body":"What version of appium java-client and WinAppDriver are you using? Because I tried this solution on 8.5 java-client and 1.2.1 WinAppDriver and it not working anymore. Error is: <code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: WinAppDriver server is not listening within 10000ms timeout. Make sure it could be started manually </code> of course manually it starts."},{"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"score":0,"creation_date":1684941730,"post_id":75617787,"comment_id":134591947,"body_markdown":"I am using Java client version of 17.0.5 and WinApp driver version of 1.2.1","body":"I am using Java client version of 17.0.5 and WinApp driver version of 1.2.1"}],"tags":[],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677772132,"creation_date":1677772132,"answer_id":75617787,"question_id":75577921,"body_markdown":"Finally I was able to solve the problem of my own. Here are the steps.\r\n\r\n1. Download the Appium. - https://appium.io/downloads.html\r\n2. Install the downloaded Appium.\r\n3. Start the Appium server and give a host and port number - Here I have given as shown in below screenshot.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n4. You can use the below source code to connect to the Appium server and open the notepad application (In the URL section you have to give the correct host and port number as given in step 3, Also appname is the parameter where you can pass the application you want to open)   \r\n \r\n\r\n    DesiredCapabilities caps = new DesiredCapabilities();\r\n    \r\n     caps.setCapability(&quot;app&quot;, appName);\r\n    \r\n     windowsDriver = new WindowsDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), \r\n     caps);\r\n\r\nPre-Requisite:\r\n\r\n&gt; java.lang.RuntimeException:\r\n&gt; org.openqa.selenium.SessionNotCreatedException: Could not start a new\r\n&gt; session. Response code 500. Message: An unknown server-side error\r\n&gt; occurred while processing the command. Original error:\r\n&gt; WinAppDriver.exe has not been found in any of these locations:\r\n&gt; C:\\Program Files (x86)\\Windows Application\r\n&gt; Driver\\WinAppDriver.exe,C:\\Program Files\\Windows Application\r\n&gt; Driver\\WinAppDriver.exe,C:\\Program Files\\Windows Application\r\n&gt; Driver\\WinAppDriver.exe. Is it installed?\r\n\r\nI got the above error when initially execute the Appium driver, so I had manually downloaded WinApp driver to one of the above locations. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GLBlm.jpg","title":"&quot;Bad capabilities. Specify either app or appTopLevelWindow to create a session&quot; Error given by the WinApp driver","body":"<p>Finally I was able to solve the problem of my own. Here are the steps.</p>\n<ol>\n<li>Download the Appium. - <a href=\"https://appium.io/downloads.html\" rel=\"nofollow noreferrer\">https://appium.io/downloads.html</a></li>\n<li>Install the downloaded Appium.</li>\n<li>Start the Appium server and give a host and port number - Here I have given as shown in below screenshot.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/GLBlm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLBlm.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li><p>You can use the below source code to connect to the Appium server and open the notepad application (In the URL section you have to give the correct host and port number as given in step 3, Also appname is the parameter where you can pass the application you want to open)</p>\n<p>DesiredCapabilities caps = new DesiredCapabilities();</p>\n<p>caps.setCapability(&quot;app&quot;, appName);</p>\n<p>windowsDriver = new WindowsDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;),\ncaps);</p>\n</li>\n</ol>\n<p>Pre-Requisite:</p>\n<blockquote>\n<p>java.lang.RuntimeException:\norg.openqa.selenium.SessionNotCreatedException: Could not start a new\nsession. Response code 500. Message: An unknown server-side error\noccurred while processing the command. Original error:\nWinAppDriver.exe has not been found in any of these locations:\nC:\\Program Files (x86)\\Windows Application\nDriver\\WinAppDriver.exe,C:\\Program Files\\Windows Application\nDriver\\WinAppDriver.exe,C:\\Program Files\\Windows Application\nDriver\\WinAppDriver.exe. Is it installed?</p>\n</blockquote>\n<p>I got the above error when initially execute the Appium driver, so I had manually downloaded WinApp driver to one of the above locations.</p>\n"}],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1836,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75617787,"answer_count":1,"score":4,"last_activity_date":1677772132,"creation_date":1677484182,"question_id":75577921,"body_markdown":"I am getting the below error screenshot when using the WinApp driver for the desktop automation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe source code I am using to initiate the WinApp driver session as below.\r\n\r\n    public void setupDesktopAutomation(String appName, String platformName, String deviceName) {\r\n\r\n    try {\r\n\r\n        Desktop desktop = Desktop.getDesktop();\r\n        desktop.open(new File(&quot;D:\\\\Software\\\\Windows Application Driver\\\\WinApp\\\\WinAppDriver.exe&quot;));\r\n        \r\n        DesiredCapabilities caps = new DesiredCapabilities();\r\n        caps.setCapability(&quot;app&quot;, appName);\r\n        caps.setCapability(&quot;platformName&quot;, platformName);\r\n        caps.setCapability(&quot;deviceName&quot;, deviceName);\r\n        windowsDriver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723/&quot;), caps);\r\n        windowsDriver.manage().wait(5000);\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n}\r\n\r\nI did many research on this and found that the Selenium version 4 (I am using the Selenium Version 4.7.2) is not compatible with the latest WinApp driver. There are many articles found in the web that we need to downgrade the Selenium version to 3.141.1 in order to WinApp driver to work \r\n\r\n 1. https://github.com/microsoft/WinAppDriver/issues/1774.\r\n 2. https://github.com/microsoft/WinAppDriver/issues/1839\r\n\r\nAlso I found that in few articles that we can use Selenium Version 4 and still connect to the WinApp driver using the Appium as a middle man. But those articles does not shown how we can do this. Please check the below article.\r\n\r\n 1. https://github.com/nightwatchjs/nightwatch/issues/3579\r\n\r\nSo I want to know without downgrading the selenium version, how I can modify the above source code to initiate the WinApp driver successfully.\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oqWjP.jpg","title":"&quot;Bad capabilities. Specify either app or appTopLevelWindow to create a session&quot; Error given by the WinApp driver","body":"<p>I am getting the below error screenshot when using the WinApp driver for the desktop automation.</p>\n<p><a href=\"https://i.stack.imgur.com/oqWjP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oqWjP.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The source code I am using to initiate the WinApp driver session as below.</p>\n<pre><code>public void setupDesktopAutomation(String appName, String platformName, String deviceName) {\n\ntry {\n\n    Desktop desktop = Desktop.getDesktop();\n    desktop.open(new File(&quot;D:\\\\Software\\\\Windows Application Driver\\\\WinApp\\\\WinAppDriver.exe&quot;));\n    \n    DesiredCapabilities caps = new DesiredCapabilities();\n    caps.setCapability(&quot;app&quot;, appName);\n    caps.setCapability(&quot;platformName&quot;, platformName);\n    caps.setCapability(&quot;deviceName&quot;, deviceName);\n    windowsDriver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723/&quot;), caps);\n    windowsDriver.manage().wait(5000);\n} catch (Exception e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>}</p>\n<p>I did many research on this and found that the Selenium version 4 (I am using the Selenium Version 4.7.2) is not compatible with the latest WinApp driver. There are many articles found in the web that we need to downgrade the Selenium version to 3.141.1 in order to WinApp driver to work</p>\n<ol>\n<li><a href=\"https://github.com/microsoft/WinAppDriver/issues/1774\" rel=\"nofollow noreferrer\">https://github.com/microsoft/WinAppDriver/issues/1774</a>.</li>\n<li><a href=\"https://github.com/microsoft/WinAppDriver/issues/1839\" rel=\"nofollow noreferrer\">https://github.com/microsoft/WinAppDriver/issues/1839</a></li>\n</ol>\n<p>Also I found that in few articles that we can use Selenium Version 4 and still connect to the WinApp driver using the Appium as a middle man. But those articles does not shown how we can do this. Please check the below article.</p>\n<ol>\n<li><a href=\"https://github.com/nightwatchjs/nightwatch/issues/3579\" rel=\"nofollow noreferrer\">https://github.com/nightwatchjs/nightwatch/issues/3579</a></li>\n</ol>\n<p>So I want to know without downgrading the selenium version, how I can modify the above source code to initiate the WinApp driver successfully.</p>\n"},{"tags":["java","mysql","constructor","minecraft","bukkit"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1677770926,"post_id":75617514,"comment_id":133406877,"body_markdown":"How did you construct `TarafSecim` and `SQLGetter`?","body":"How did you construct <code>TarafSecim</code> and <code>SQLGetter</code>?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1677771209,"post_id":75617514,"comment_id":133406985,"body_markdown":"Whichever code creates an instance of `TarafSecim` also needs to create an instance of `SQLGetter`. It sounds like your code calls `new TarafSecim(null)` somewhere instead.","body":"Whichever code creates an instance of <code>TarafSecim</code> also needs to create an instance of <code>SQLGetter</code>. It sounds like your code calls <code>new TarafSecim(null)</code> somewhere instead."},{"owner":{"account_id":27912546,"reputation":17,"user_id":21314417,"display_name":"professorchemist"},"score":0,"creation_date":1677771931,"post_id":75617514,"comment_id":133407228,"body_markdown":"I looked that link but im not quite sure it is the answer. Could you please be more clear with first question &quot;How did you construct tarafSecim and SQLGetter&quot;","body":"I looked that link but im not quite sure it is the answer. Could you please be more clear with first question &quot;How did you construct tarafSecim and SQLGetter&quot;"},{"owner":{"account_id":27912546,"reputation":17,"user_id":21314417,"display_name":"professorchemist"},"score":0,"creation_date":1677772239,"post_id":75617514,"comment_id":133407335,"body_markdown":"Im sorry for my lack of knowledge. Im newbie to object oriented programming","body":"Im sorry for my lack of knowledge. Im newbie to object oriented programming"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677772787,"post_id":75617514,"comment_id":133407507,"body_markdown":"Your pastes do not contain the relevant code, hence, nobody can answer your question. The problem is that somebody calls `onCommand` on an instance of `TarafSecim`, and that instance has a `null` ref for its `SQLGetter sqlgetter;` field. Hence, you or some other code constructed that instance by calling `new TarafSecim(x)` where x is `null`. THAT code is broken, but it&#39;s not in your paste, so we can&#39;t help.","body":"Your pastes do not contain the relevant code, hence, nobody can answer your question. The problem is that somebody calls <code>onCommand</code> on an instance of <code>TarafSecim</code>, and that instance has a <code>null</code> ref for its <code>SQLGetter sqlgetter;</code> field. Hence, you or some other code constructed that instance by calling <code>new TarafSecim(x)</code> where x is <code>null</code>. THAT code is broken, but it&#39;s not in your paste, so we can&#39;t help."},{"owner":{"account_id":27912546,"reputation":17,"user_id":21314417,"display_name":"professorchemist"},"score":0,"creation_date":1677773119,"post_id":75617514,"comment_id":133407621,"body_markdown":"Actually it was all of it. There are other classes but not relevant. But let me check if i miss some","body":"Actually it was all of it. There are other classes but not relevant. But let me check if i miss some"}],"owner":{"account_id":27912546,"reputation":17,"user_id":21314417,"display_name":"professorchemist"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677774335,"answer_count":0,"score":0,"last_activity_date":1677772123,"creation_date":1677770746,"question_id":75617514,"body_markdown":"[enter image description here][1]Im trying to code a minecraft bukkit plugin and i wanted to use mysql.\r\nI set up mysql and sqlgetter with no problem. In my other class, i wanted to call sqlgetter function so i put constructor but whenever i call function by constructor, it returns null.\r\nI tried everything that eclipse advised. But im kinda stuck. I got no error while starting up my server but as i said, when i use command sqlgetter constructor returns null.\r\n\r\nOTHER CLASS TO CALL FUNCTION\r\n```\r\npackage net.linex.komutlar;\r\n\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\n\r\nimport net.linex.mysql.SQLGetter;\r\n\r\npublic class TarafSecim implements CommandExecutor{\r\n\r\n\r\n\r\n\tprivate SQLGetter sqlgetter;\r\n\t\r\n\tpublic TarafSecim(SQLGetter sqlgetter) {\r\n\t\tthis.sqlgetter = sqlgetter;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n\t\r\n\t\tPlayer p = (Player) sender;\r\n\t\t\r\n\t\tif(label.equalsIgnoreCase(&quot;side&quot;)) {\r\n\t\t\t\r\n\t\t\tif(args[0] == null) {\r\n\t\t\t\tp.sendMessage(&quot;You can choose Red or Blue sides&quot;);\r\n\t\t\t}\r\n\t\t\r\n\t\t\t\r\n\t\t\tif(args[0].equalsIgnoreCase(&quot;red&quot;)) {\r\n\t\t\t\tif(!sqlgetter.tarafvar(p.getUniqueId())) {\r\n\t\t\t\t\tsqlgetter.tarafEkle(p.getUniqueId(), &quot;kirmizi&quot;);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tp.sendMessage(&quot;You are already in a side.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}  \r\n\t\t\tif(args[0].equalsIgnoreCase(&quot;blue&quot;)) {\r\n\t\t\t\tif(!sqlgetter.tarafvar(p.getUniqueId())) {\r\n\t\t\t\t\tsqlgetter.tarafEkle(p.getUniqueId(), &quot;mavi&quot;);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tp.sendMessage(&quot;You are already in a side.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\nSQLGETTER CLASS\r\n```\r\npublic class SQLGetter {\r\n\t\r\n\tprivate Main plugin;\r\n\t\r\n\tpublic SQLGetter(Main plugin) {\r\n\t\tthis.plugin = plugin;\r\n\t}\r\n\r\n\t\r\n\r\n\tpublic void createTable() {\r\n\t\tPreparedStatement ps;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tps = plugin.mysql.getConnection().prepareStatement(&quot;CREATE TABLE IF NOT EXISTS taraf&quot; + &quot;(NAME VARCHAR(100),UUID VARCHAR(100), TARAF VARCHAR(100), PRIMARY KEY(NAME))&quot;);\r\n\t\t\tps.executeUpdate();\r\n\t\t}catch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void createPlayer(Player p) {\r\n\t\tPreparedStatement ps;\r\n\t\ttry {\r\n\t\t\tUUID uuid = p.getUniqueId();\r\n\t\t\tps = plugin.mysql.getConnection().prepareStatement(&quot;SELECT * FROM taraf WHERE UUID=?&quot;);\r\n\t\t\tps.setString(1, uuid.toString());\r\n\t\t\tResultSet results = ps.executeQuery();\r\n\t\t\tresults.next();\r\n\t\t\t\r\n\t\t\tif(!exist(uuid)) {\r\n\t\t\t\tPreparedStatement ps2 = plugin.mysql.getConnection().prepareStatement(&quot;INSERT IGNORE INFO taraf &quot;\r\n\t\t\t\t\t\t+ &quot;(NAME,UUID) VALUES(?,?)&quot;);\r\n\t\t\t\tps2.setString(1, p.getName());\r\n\t\t\t\tps2.setString(2, p.getUniqueId().toString());\r\n\t\t\t\tps2.executeUpdate();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}catch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\nEDIT: \r\n```\r\npublic class Main extends JavaPlugin{\r\n\r\n\tpublic MySQL mysql;\r\n\tpublic SQLGetter sqlgetter;\r\n\t\r\n\t\r\n\t\r\n//BAŞLANGI&#199;\t\r\n\tpublic void onEnable() {\r\n\t\tLogger log = Bukkit.getLogger();\r\n\t\tlog.info(&quot;TheLine plugin is active&quot;);\r\n\t\tthis.mysql = new MySQL();\r\n\t\tthis.sqlgetter = new SQLGetter(this);\r\n\t\ttry {\r\n\t\t\tmysql.connect();\r\n\t\t} catch (ClassNotFoundException | SQLException e) {\r\n\t\t\t//e.printStackTrace();\r\n\t\t\tlog.info(&quot;Database is not activeted&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif(mysql.isConnected()) {\r\n\t\t\tlog.info(&quot;database is activated&quot;);\r\n\t\t\tsqlgetter.createTable();\r\n\t\t}\r\n```\r\n\r\nI wrote that in main class before. Is that a reason to return null?\r\n  [1]: https://i.stack.imgur.com/WVKZz.png","title":"MySQL Constructor returns null?","body":"<p>[enter image description here][1]Im trying to code a minecraft bukkit plugin and i wanted to use mysql.\nI set up mysql and sqlgetter with no problem. In my other class, i wanted to call sqlgetter function so i put constructor but whenever i call function by constructor, it returns null.\nI tried everything that eclipse advised. But im kinda stuck. I got no error while starting up my server but as i said, when i use command sqlgetter constructor returns null.</p>\n<p>OTHER CLASS TO CALL FUNCTION</p>\n<pre><code>package net.linex.komutlar;\n\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\n\nimport net.linex.mysql.SQLGetter;\n\npublic class TarafSecim implements CommandExecutor{\n\n\n\n    private SQLGetter sqlgetter;\n    \n    public TarafSecim(SQLGetter sqlgetter) {\n        this.sqlgetter = sqlgetter;\n    }\n\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n    \n        Player p = (Player) sender;\n        \n        if(label.equalsIgnoreCase(&quot;side&quot;)) {\n            \n            if(args[0] == null) {\n                p.sendMessage(&quot;You can choose Red or Blue sides&quot;);\n            }\n        \n            \n            if(args[0].equalsIgnoreCase(&quot;red&quot;)) {\n                if(!sqlgetter.tarafvar(p.getUniqueId())) {\n                    sqlgetter.tarafEkle(p.getUniqueId(), &quot;kirmizi&quot;);\n                }else {\n                    p.sendMessage(&quot;You are already in a side.&quot;);\n                }\n            }  \n            if(args[0].equalsIgnoreCase(&quot;blue&quot;)) {\n                if(!sqlgetter.tarafvar(p.getUniqueId())) {\n                    sqlgetter.tarafEkle(p.getUniqueId(), &quot;mavi&quot;);\n                }else {\n                    p.sendMessage(&quot;You are already in a side.&quot;);\n                }\n            }\n        }\n        \n        \n        \n        return false;\n    }\n}\n</code></pre>\n<p>SQLGETTER CLASS</p>\n<pre><code>public class SQLGetter {\n    \n    private Main plugin;\n    \n    public SQLGetter(Main plugin) {\n        this.plugin = plugin;\n    }\n\n    \n\n    public void createTable() {\n        PreparedStatement ps;\n        \n        try {\n            ps = plugin.mysql.getConnection().prepareStatement(&quot;CREATE TABLE IF NOT EXISTS taraf&quot; + &quot;(NAME VARCHAR(100),UUID VARCHAR(100), TARAF VARCHAR(100), PRIMARY KEY(NAME))&quot;);\n            ps.executeUpdate();\n        }catch(SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public void createPlayer(Player p) {\n        PreparedStatement ps;\n        try {\n            UUID uuid = p.getUniqueId();\n            ps = plugin.mysql.getConnection().prepareStatement(&quot;SELECT * FROM taraf WHERE UUID=?&quot;);\n            ps.setString(1, uuid.toString());\n            ResultSet results = ps.executeQuery();\n            results.next();\n            \n            if(!exist(uuid)) {\n                PreparedStatement ps2 = plugin.mysql.getConnection().prepareStatement(&quot;INSERT IGNORE INFO taraf &quot;\n                        + &quot;(NAME,UUID) VALUES(?,?)&quot;);\n                ps2.setString(1, p.getName());\n                ps2.setString(2, p.getUniqueId().toString());\n                ps2.executeUpdate();\n                return;\n            }\n        }catch(SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>EDIT:</p>\n<pre><code>public class Main extends JavaPlugin{\n\n    public MySQL mysql;\n    public SQLGetter sqlgetter;\n    \n    \n    \n//BAŞLANGIÇ \n    public void onEnable() {\n        Logger log = Bukkit.getLogger();\n        log.info(&quot;TheLine plugin is active&quot;);\n        this.mysql = new MySQL();\n        this.sqlgetter = new SQLGetter(this);\n        try {\n            mysql.connect();\n        } catch (ClassNotFoundException | SQLException e) {\n            //e.printStackTrace();\n            log.info(&quot;Database is not activeted&quot;);\n        }\n        \n        if(mysql.isConnected()) {\n            log.info(&quot;database is activated&quot;);\n            sqlgetter.createTable();\n        }\n</code></pre>\n<p>I wrote that in main class before. Is that a reason to return null?\n[1]: <a href=\"https://i.stack.imgur.com/WVKZz.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/WVKZz.png</a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677744722,"post_id":75612374,"comment_id":133399224,"body_markdown":"The code in your question does not compile for me. Where is method `isImage`? Where is method `getImage`? What is class `RelativeLayout`? Consider posting a [mcve]. In the meantime, perhaps [How to Use BoxLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html) will help?","body":"The code in your question does not compile for me. Where is method <code>isImage</code>? Where is method <code>getImage</code>? What is class <code>RelativeLayout</code>? Consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. In the meantime, perhaps <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html\" rel=\"nofollow noreferrer\">How to Use BoxLayout</a> will help?"},{"owner":{"account_id":10441754,"reputation":109,"user_id":7698156,"display_name":"Denny Williams"},"score":0,"creation_date":1677746329,"post_id":75612374,"comment_id":133399606,"body_markdown":"@Abra I thought it wasn&#39;t really relevant. It just looks up the word in a hashmap and returns an ImageIcon. That part can just be deleted and have it be: for (String word : text.split(&quot; &quot;))\n\t\t\tpanel.add(new JLabel(word)); RelativeLayout is just a layout manager that has a component take up x percent of the container. https://tips4java.wordpress.com/2008/11/02/relative-layout/","body":"@Abra I thought it wasn&#39;t really relevant. It just looks up the word in a hashmap and returns an ImageIcon. That part can just be deleted and have it be: for (String word : text.split(&quot; &quot;)) \t\t\tpanel.add(new JLabel(word)); RelativeLayout is just a layout manager that has a component take up x percent of the container. <a href=\"https://tips4java.wordpress.com/2008/11/02/relative-layout/\" rel=\"nofollow noreferrer\">tips4java.wordpress.com/2008/11/02/relative-layout</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1677750719,"post_id":75612374,"comment_id":133400757,"body_markdown":"In order for me to help you with your code, I initially need to copy it, compile it and run it and have it reproduce the behavior that you describe. Then I can start to change it and after I change it , test it to make sure that it produces your desired behavior. I believe anyone else who wants to help you will need to do the same thing. That&#39;s why I suggested that you post a [mcve]. I also suggest that you post the code for `RelativeLayout` in your question, rather than a link to it. Alternatively, you can just leave your question as is and hope that someone will be able to help you.","body":"In order for me to help you with your code, I initially need to copy it, compile it and run it and have it reproduce the behavior that you describe. Then I can start to change it and after I change it , test it to make sure that it produces your desired behavior. I believe anyone else who wants to help you will need to do the same thing. That&#39;s why I suggested that you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I also suggest that you post the code for <code>RelativeLayout</code> in your question, rather than a link to it. Alternatively, you can just leave your question as is and hope that someone will be able to help you."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677759041,"post_id":75612374,"comment_id":133403210,"body_markdown":"beware: don&#39;t set sizing constraints - if you do, you are most probably interfering with a layoutManager&#39;s job","body":"beware: don&#39;t set sizing constraints - if you do, you are most probably interfering with a layoutManager&#39;s job"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677766253,"post_id":75612374,"comment_id":133405382,"body_markdown":"the problem is the nesting of a FlowLayout in a BoxLayout: the latter respects the max of the children which is unbounded by default. The usual way out (implement the custom panel to report the pref as max) doesn&#39;t work because the former reports its sizing hints based on a single row (the wrapping happens only while doing the layout). A solution is to replace the FlowLayout - it&#39;s simply too weak (as are most in-built manager, IMO). Options to are to extend it yourself (see f.i. https://gist.github.com/jirkapenzes/4560255) or go for a full-fledge manager like MigLayout et al","body":"the problem is the nesting of a FlowLayout in a BoxLayout: the latter respects the max of the children which is unbounded by default. The usual way out (implement the custom panel to report the pref as max) doesn&#39;t work because the former reports its sizing hints based on a single row (the wrapping happens only while doing the layout). A solution is to replace the FlowLayout - it&#39;s simply too weak (as are most in-built manager, IMO). Options to are to extend it yourself (see f.i. <a href=\"https://gist.github.com/jirkapenzes/4560255\" rel=\"nofollow noreferrer\">gist.github.com/jirkapenzes/4560255</a>) or go for a full-fledge manager like MigLayout et al"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677766460,"post_id":75612374,"comment_id":133405467,"body_markdown":"btw: neither relativeLayout nor maxed frame are of any relevance here .. a plain BorderLayout with the box (containing) flows in a scrollpane is all that&#39;s needed to demonstrate the problem","body":"btw: neither relativeLayout nor maxed frame are of any relevance here .. a plain BorderLayout with the box (containing) flows in a scrollpane is all that&#39;s needed to demonstrate the problem"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677772066,"creation_date":1677771736,"answer_id":75617710,"question_id":75612374,"body_markdown":"&gt; I&#39;m adding the text word by word is so that certain words will be replaced by images.\r\n\r\n1. Instead of using a panel of JLabels, you can use a `JTextPane`. You can use the `setIcon(...)` method to insert images. The benefit of using a JTextPane is that it will automatically wrap the text for you based on the width of the text pane.\r\n\r\n2. The next problem is that you need to restrict the width of the panel added to the viewport of the scroll pane so that the text can wrap automatically as the width of the scroll pane changes. To do this you can use the [Scrollable Panel](https://tips4java.wordpress.com/2009/12/20/scrollable-panel/). \r\n\r\n3. Finally to limit the height of each text pane you can use a wrapper panel in the viewport with a `BorderLayout`. The rightPanel is then added to the `PAGE_START` which will respect the height of each component.\r\n\r\nPutting it all together:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.util.concurrent.*;\r\n    \r\n    public class Main\r\n    {\r\n        private static JPanel rightPanel;\r\n    \r\n        public static int getHeight(String text, int width, int fontSize)\r\n        {\r\n            final String html = &quot;&lt;html&gt;&lt;body style=&#39;width: %1spx; font-size: %1spx;&#39;&gt;%1s&quot;;\r\n            String formatted = String.format(html, width, fontSize, text);\r\n            JLabel label = new JLabel(formatted);\r\n            return label.getPreferredSize().height;\r\n        }\r\n    \r\n        public static JComponent createTextPanel(String sender, String text)\r\n        {\r\n    /*\r\n            JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n            panel.setBackground(new Color(ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255)));\r\n    \r\n            JLabel name = new JLabel(sender + &quot;:&quot;);\r\n            panel.add(name);\r\n    \r\n            for (String word : text.split(&quot; &quot;))\r\n            {\r\n    //            if (isImage(word))\r\n    //                panel.add(new JLabel(getImage(word)));\r\n    //            else\r\n                    panel.add(new JLabel(word));\r\n            }\r\n    \r\n            //Sorta close but not reliable\r\n    //        int width = rightPanel.getPreferredSize().width;\r\n    //        panel.setMaximumSize(new Dimension(width, getHeight(text, width, 12)));\r\n    //        panel.setMaximumSize(new Dimension(width, getHeight(text, width, 12)));\r\n            return panel;\r\n    */\r\n    \t\tJTextPane textPane = new JTextPane();\r\n    \t\ttextPane.setText(text);\r\n            textPane.setBackground(new Color(ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255)));\r\n    \r\n    \t\treturn textPane;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setPreferredSize(Toolkit.getDefaultToolkit().getScreenSize());\r\n    \r\n            RelativeLayout relativeLayout = new RelativeLayout();\r\n            relativeLayout.setFill(true);\r\n    \r\n            Container container = frame.getContentPane();\r\n            container.setLayout(relativeLayout);\r\n    \r\n            JLabel centerPanel = new JLabel();\r\n            centerPanel.setOpaque(true);\r\n            centerPanel.setBackground(Color.BLACK);\r\n            container.add(centerPanel, 0.8f);\r\n    \r\n            rightPanel = new JPanel();\r\n            rightPanel.setLayout(new BoxLayout(rightPanel, BoxLayout.Y_AXIS));\r\n    \r\n    //\t\tJPanel wrapper = new JPanel( new BorderLayout() );\r\n    \t\tScrollablePanel wrapper = new ScrollablePanel( new BorderLayout() );\r\n    \t\twrapper.setScrollableWidth( ScrollablePanel.ScrollableSizeHint.FIT );\r\n    \t\twrapper.add(rightPanel, BorderLayout.PAGE_START);\r\n            JScrollPane scrollPane = new JScrollPane(wrapper);\r\n    //        JScrollPane scrollPane = new JScrollPane(rightPanel);\r\n            container.add(scrollPane, 0.2f);\r\n    \r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n            frame.setExtendedState(frame.getExtendedState() | JFrame.MAXIMIZED_BOTH);\r\n    \r\n    //        rightPanel.setPreferredSize(rightPanel.getSize());\r\n    //        wrapper.setPreferredSize(wrapper.getSize());\r\n    \r\n            String message = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;;\r\n            rightPanel.add(createTextPanel(&quot;Sender&quot;, message));\r\n            rightPanel.add(createTextPanel(&quot;Sender&quot;, message));\r\n            rightPanel.revalidate();\r\n        }\r\n    }\r\n\r\n","title":"How to stop panels from filling space in BoxLayout?","body":"<blockquote>\n<p>I'm adding the text word by word is so that certain words will be replaced by images.</p>\n</blockquote>\n<ol>\n<li><p>Instead of using a panel of JLabels, you can use a <code>JTextPane</code>. You can use the <code>setIcon(...)</code> method to insert images. The benefit of using a JTextPane is that it will automatically wrap the text for you based on the width of the text pane.</p>\n</li>\n<li><p>The next problem is that you need to restrict the width of the panel added to the viewport of the scroll pane so that the text can wrap automatically as the width of the scroll pane changes. To do this you can use the <a href=\"https://tips4java.wordpress.com/2009/12/20/scrollable-panel/\" rel=\"nofollow noreferrer\">Scrollable Panel</a>.</p>\n</li>\n<li><p>Finally to limit the height of each text pane you can use a wrapper panel in the viewport with a <code>BorderLayout</code>. The rightPanel is then added to the <code>PAGE_START</code> which will respect the height of each component.</p>\n</li>\n</ol>\n<p>Putting it all together:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.util.concurrent.*;\n\npublic class Main\n{\n    private static JPanel rightPanel;\n\n    public static int getHeight(String text, int width, int fontSize)\n    {\n        final String html = &quot;&lt;html&gt;&lt;body style='width: %1spx; font-size: %1spx;'&gt;%1s&quot;;\n        String formatted = String.format(html, width, fontSize, text);\n        JLabel label = new JLabel(formatted);\n        return label.getPreferredSize().height;\n    }\n\n    public static JComponent createTextPanel(String sender, String text)\n    {\n/*\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n        panel.setBackground(new Color(ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255)));\n\n        JLabel name = new JLabel(sender + &quot;:&quot;);\n        panel.add(name);\n\n        for (String word : text.split(&quot; &quot;))\n        {\n//            if (isImage(word))\n//                panel.add(new JLabel(getImage(word)));\n//            else\n                panel.add(new JLabel(word));\n        }\n\n        //Sorta close but not reliable\n//        int width = rightPanel.getPreferredSize().width;\n//        panel.setMaximumSize(new Dimension(width, getHeight(text, width, 12)));\n//        panel.setMaximumSize(new Dimension(width, getHeight(text, width, 12)));\n        return panel;\n*/\n        JTextPane textPane = new JTextPane();\n        textPane.setText(text);\n        textPane.setBackground(new Color(ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255)));\n\n        return textPane;\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setPreferredSize(Toolkit.getDefaultToolkit().getScreenSize());\n\n        RelativeLayout relativeLayout = new RelativeLayout();\n        relativeLayout.setFill(true);\n\n        Container container = frame.getContentPane();\n        container.setLayout(relativeLayout);\n\n        JLabel centerPanel = new JLabel();\n        centerPanel.setOpaque(true);\n        centerPanel.setBackground(Color.BLACK);\n        container.add(centerPanel, 0.8f);\n\n        rightPanel = new JPanel();\n        rightPanel.setLayout(new BoxLayout(rightPanel, BoxLayout.Y_AXIS));\n\n//      JPanel wrapper = new JPanel( new BorderLayout() );\n        ScrollablePanel wrapper = new ScrollablePanel( new BorderLayout() );\n        wrapper.setScrollableWidth( ScrollablePanel.ScrollableSizeHint.FIT );\n        wrapper.add(rightPanel, BorderLayout.PAGE_START);\n        JScrollPane scrollPane = new JScrollPane(wrapper);\n//        JScrollPane scrollPane = new JScrollPane(rightPanel);\n        container.add(scrollPane, 0.2f);\n\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n        frame.setExtendedState(frame.getExtendedState() | JFrame.MAXIMIZED_BOTH);\n\n//        rightPanel.setPreferredSize(rightPanel.getSize());\n//        wrapper.setPreferredSize(wrapper.getSize());\n\n        String message = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;;\n        rightPanel.add(createTextPanel(&quot;Sender&quot;, message));\n        rightPanel.add(createTextPanel(&quot;Sender&quot;, message));\n        rightPanel.revalidate();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10441754,"reputation":109,"user_id":7698156,"display_name":"Denny Williams"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75617710,"answer_count":1,"score":-1,"last_activity_date":1677772066,"creation_date":1677741833,"question_id":75612374,"body_markdown":"I&#39;m adding panels to a parent panel (rightPanel) with a BoxLayout, but I want it so that when the panels are added they remain the same size rather than resizing to fill the parent panel. The only way I&#39;ve found of doing this is setting the max size, but I can&#39;t find a way to reliably set the max size to the correct absolute size. Either that or the text won&#39;t wrap correctly, and I want it so that the horizontal scroll bar is never used. The closest I&#39;ve come is by getting the estimating the text height by creating a JLabel of html text that should be the same height, but this is unreliable, and the panel could have images in it so it could be thrown off. The reason I&#39;m adding the text word by word is so that certain words will be replaced by images. Here&#39;s what I have so far:\r\n\r\n    public class Main\r\n    {\r\n    \tprivate static JPanel rightPanel;\r\n    \r\n    \tpublic static int getHeight(String text, int width, int fontSize)\r\n    \t{\r\n    \t\tfinal String html = &quot;&lt;html&gt;&lt;body style=&#39;width: %1spx; font-size: %1spx;&#39;&gt;%1s&quot;;\r\n    \t\tString formatted = String.format(html, width, fontSize, text);\r\n    \t\tJLabel label = new JLabel(formatted);\r\n    \t\treturn label.getPreferredSize().height;\r\n    \t}\r\n    \r\n    \tpublic static JPanel createTextPanel(String sender, String text)\r\n    \t{\r\n    \t\tJPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n    \t\tpanel.setBackground(new Color(ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255)));\r\n    \r\n    \t\tJLabel name = new JLabel(sender + &quot;:&quot;);\r\n    \t\tpanel.add(name);\r\n    \r\n    \t\tfor (String word : text.split(&quot; &quot;))\r\n    \t\t{\r\n    \t\t\tif (isImage(word))\r\n    \t\t\t\tpanel.add(new JLabel(getImage(word)));\r\n    \t\t\telse\r\n    \t\t\t\tpanel.add(new JLabel(word));\r\n    \t\t}\r\n    \r\n            //Sorta close but not reliable\r\n    \t\tint width = rightPanel.getPreferredSize().width;\r\n    \t\tpanel.setMaximumSize(new Dimension(width, getHeight(text, width, 12)));\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setPreferredSize(Toolkit.getDefaultToolkit().getScreenSize());\r\n    \r\n    \t\tRelativeLayout relativeLayout = new RelativeLayout();\r\n    \t\trelativeLayout.setFill(true);\r\n    \r\n    \t\tContainer container = frame.getContentPane();\r\n    \t\tcontainer.setLayout(relativeLayout);\r\n    \r\n    \t\tJLabel centerPanel = new JLabel();\r\n    \t\tcenterPanel.setOpaque(true);\r\n    \t\tcenterPanel.setBackground(Color.BLACK);\r\n    \t\tcontainer.add(centerPanel, 0.8f);\r\n    \r\n    \t\trightPanel = new JPanel();\r\n    \t\trightPanel.setLayout(new BoxLayout(rightPanel, BoxLayout.Y_AXIS));\r\n    \t\tJScrollPane scrollPane = new JScrollPane(rightPanel);\r\n    \t\tcontainer.add(scrollPane, 0.2f);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.setExtendedState(frame.getExtendedState() | JFrame.MAXIMIZED_BOTH);\r\n    \r\n    \t\trightPanel.setPreferredSize(rightPanel.getSize());\r\n    \r\n    \t\tString message = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;;\r\n    \t\trightPanel.add(createTextPanel(&quot;Sender&quot;, message));\r\n    \t\trightPanel.add(createTextPanel(&quot;Sender&quot;, message));\r\n    \t\trightPanel.revalidate();\r\n    \t}\r\n    }\r\nHow it looks right now:\r\n[![enter image description here][1]][1]\r\nHow I want it to look: \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5uioN.png\r\n  [2]: https://i.stack.imgur.com/vzsXl.png","title":"How to stop panels from filling space in BoxLayout?","body":"<p>I'm adding panels to a parent panel (rightPanel) with a BoxLayout, but I want it so that when the panels are added they remain the same size rather than resizing to fill the parent panel. The only way I've found of doing this is setting the max size, but I can't find a way to reliably set the max size to the correct absolute size. Either that or the text won't wrap correctly, and I want it so that the horizontal scroll bar is never used. The closest I've come is by getting the estimating the text height by creating a JLabel of html text that should be the same height, but this is unreliable, and the panel could have images in it so it could be thrown off. The reason I'm adding the text word by word is so that certain words will be replaced by images. Here's what I have so far:</p>\n<pre><code>public class Main\n{\n    private static JPanel rightPanel;\n\n    public static int getHeight(String text, int width, int fontSize)\n    {\n        final String html = &quot;&lt;html&gt;&lt;body style='width: %1spx; font-size: %1spx;'&gt;%1s&quot;;\n        String formatted = String.format(html, width, fontSize, text);\n        JLabel label = new JLabel(formatted);\n        return label.getPreferredSize().height;\n    }\n\n    public static JPanel createTextPanel(String sender, String text)\n    {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n        panel.setBackground(new Color(ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255), ThreadLocalRandom.current().nextInt(255)));\n\n        JLabel name = new JLabel(sender + &quot;:&quot;);\n        panel.add(name);\n\n        for (String word : text.split(&quot; &quot;))\n        {\n            if (isImage(word))\n                panel.add(new JLabel(getImage(word)));\n            else\n                panel.add(new JLabel(word));\n        }\n\n        //Sorta close but not reliable\n        int width = rightPanel.getPreferredSize().width;\n        panel.setMaximumSize(new Dimension(width, getHeight(text, width, 12)));\n        return panel;\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setPreferredSize(Toolkit.getDefaultToolkit().getScreenSize());\n\n        RelativeLayout relativeLayout = new RelativeLayout();\n        relativeLayout.setFill(true);\n\n        Container container = frame.getContentPane();\n        container.setLayout(relativeLayout);\n\n        JLabel centerPanel = new JLabel();\n        centerPanel.setOpaque(true);\n        centerPanel.setBackground(Color.BLACK);\n        container.add(centerPanel, 0.8f);\n\n        rightPanel = new JPanel();\n        rightPanel.setLayout(new BoxLayout(rightPanel, BoxLayout.Y_AXIS));\n        JScrollPane scrollPane = new JScrollPane(rightPanel);\n        container.add(scrollPane, 0.2f);\n\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n        frame.setExtendedState(frame.getExtendedState() | JFrame.MAXIMIZED_BOTH);\n\n        rightPanel.setPreferredSize(rightPanel.getSize());\n\n        String message = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;;\n        rightPanel.add(createTextPanel(&quot;Sender&quot;, message));\n        rightPanel.add(createTextPanel(&quot;Sender&quot;, message));\n        rightPanel.revalidate();\n    }\n}\n</code></pre>\n<p>How it looks right now:\n<a href=\"https://i.stack.imgur.com/5uioN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5uioN.png\" alt=\"enter image description here\" /></a>\nHow I want it to look:\n<a href=\"https://i.stack.imgur.com/vzsXl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vzsXl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":12862695,"reputation":467,"user_id":9303950,"display_name":"ashish pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521141127,"creation_date":1521141127,"answer_id":49307519,"question_id":35845422,"body_markdown":"You can create an outer table of one column. then add your paragraph(title). after that create another table innerTable, here you can place your data, then add inner table to a cell and then add that cell to outer table. So that your title and table will be together, and also make outer table setsplitLate(false).","title":"Keeping a (title-) Paragraph and a Table together on one page?","body":"<p>You can create an outer table of one column. then add your paragraph(title). after that create another table innerTable, here you can place your data, then add inner table to a cell and then add that cell to outer table. So that your title and table will be together, and also make outer table setsplitLate(false).</p>\n"},{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677771325,"creation_date":1677771325,"answer_id":75617627,"question_id":35845422,"body_markdown":"iText 7.2.5, java11:\r\n\r\n    static Table createKeepTogetherContainer( List&lt;IBlockElement&gt; aLines )\r\n    {\r\n        Table result = new Table( 1 )\r\n                .setWidth( UnitValue.createPercentValue( 100 ) )\r\n                .setPadding( 0 )\r\n                .setMargin( 0 )\r\n                .setBorder( Border.NO_BORDER )\r\n                .setKeepTogether( true );\r\n        aLines.forEach( l -&gt; result.addCell( new Cell()\r\n                                             .add( l )\r\n                                             .setPadding( 0 )\r\n                                             .setMargin( 0 )\r\n                                             .setBorder( Border.NO_BORDER )\r\n                                             ) );\r\n        return result;\r\n    }\r\n\r\n","title":"Keeping a (title-) Paragraph and a Table together on one page?","body":"<p>iText 7.2.5, java11:</p>\n<pre><code>static Table createKeepTogetherContainer( List&lt;IBlockElement&gt; aLines )\n{\n    Table result = new Table( 1 )\n            .setWidth( UnitValue.createPercentValue( 100 ) )\n            .setPadding( 0 )\n            .setMargin( 0 )\n            .setBorder( Border.NO_BORDER )\n            .setKeepTogether( true );\n    aLines.forEach( l -&gt; result.addCell( new Cell()\n                                         .add( l )\n                                         .setPadding( 0 )\n                                         .setMargin( 0 )\n                                         .setBorder( Border.NO_BORDER )\n                                         ) );\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":7991593,"reputation":51,"user_id":6029293,"display_name":"Carel Bast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677771325,"creation_date":1457358396,"question_id":35845422,"body_markdown":"I&#39;m generating a PDF document with iText 5.5.8\r\nIn this document there are numbered paragraphs that only contain a title Paragraph and a PdfPTable.\r\n\r\n        for (Item item : getItems()) {\r\n            Paragraph title = new Paragraph();\r\n            Chunk chunk = new Chunk(new Chunk(getIcon(item), 0, 0));\r\n            addBookmark(item, chunk);\r\n            title.add(chunk);\r\n            Chunk chunk2 = new Chunk(getName(item), catFont_u);\r\n            title.add(chunk2);\r\n            title.setSpacingBefore(20);\r\n            title.setSpacingAfter(14);\r\n            PdfPTable table = createTable(item); // can be more than a page!\r\n\t\t\ttable.setKeepTogether(true);\r\n\t\t\tSection subSection = chapter.addSection(title);\r\n            subSection.add(table);\r\n\t\t}\r\n\r\nNow when the table is larger that te space left in the rest of the page, the table will be &#39;moved&#39; to the next page (setKeepTogether()). This is good.\r\nHowever, I want the title Paragraph to always be on the same page as the PdfPTable. So the title Paragraph should be moved to the next page also.\r\n\r\nHow do I accomplish this?\r\n\r\nThanks, \r\n\r\nCarel","title":"Keeping a (title-) Paragraph and a Table together on one page?","body":"<p>I'm generating a PDF document with iText 5.5.8\nIn this document there are numbered paragraphs that only contain a title Paragraph and a PdfPTable.</p>\n\n<pre><code>    for (Item item : getItems()) {\n        Paragraph title = new Paragraph();\n        Chunk chunk = new Chunk(new Chunk(getIcon(item), 0, 0));\n        addBookmark(item, chunk);\n        title.add(chunk);\n        Chunk chunk2 = new Chunk(getName(item), catFont_u);\n        title.add(chunk2);\n        title.setSpacingBefore(20);\n        title.setSpacingAfter(14);\n        PdfPTable table = createTable(item); // can be more than a page!\n        table.setKeepTogether(true);\n        Section subSection = chapter.addSection(title);\n        subSection.add(table);\n    }\n</code></pre>\n\n<p>Now when the table is larger that te space left in the rest of the page, the table will be 'moved' to the next page (setKeepTogether()). This is good.\nHowever, I want the title Paragraph to always be on the same page as the PdfPTable. So the title Paragraph should be moved to the next page also.</p>\n\n<p>How do I accomplish this?</p>\n\n<p>Thanks, </p>\n\n<p>Carel</p>\n"},{"tags":["java","mysql","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1515778146,"post_id":48231215,"comment_id":83444698,"body_markdown":"_You_ might want to show your mapping, then _we_ might be able to help you spot the error.","body":"<i>You</i> might want to show your mapping, then <i>we</i> might be able to help you spot the error."},{"owner":{"account_id":7060628,"reputation":8333,"user_id":5406012,"display_name":"Ramanlfc"},"score":0,"creation_date":1515778148,"post_id":48231215,"comment_id":83444703,"body_markdown":"your probably triggering lazy loading after accessing a collection of `Author` type","body":"your probably triggering lazy loading after accessing a collection of <code>Author</code> type"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1515778247,"post_id":48231215,"comment_id":83444758,"body_markdown":"Please don&#39;t post code snippets as images but rather as a code block (nicely formatted text).","body":"Please don&#39;t post code snippets as images but rather as a code block (nicely formatted text)."},{"owner":{"account_id":8457469,"reputation":241,"user_id":6344251,"display_name":"Israel Merljak"},"score":0,"creation_date":1515778684,"post_id":48231215,"comment_id":83444965,"body_markdown":"If you could please post the tables schema here too..","body":"If you could please post the tables schema here too.."},{"owner":{"account_id":8457469,"reputation":241,"user_id":6344251,"display_name":"Israel Merljak"},"score":1,"creation_date":1515778857,"post_id":48231215,"comment_id":83445041,"body_markdown":"You can take a look here also.. might help.\n\nhttps://stackoverflow.com/questions/33234546/spring-boot-jpa-onetomany-relationship-causes-infinite-loop","body":"You can take a look here also.. might help.  <a href=\"https://stackoverflow.com/questions/33234546/spring-boot-jpa-onetomany-relationship-causes-infinite-loop\" title=\"spring boot jpa onetomany relationship causes infinite loop\">stackoverflow.com/questions/33234546/&hellip;</a>"},{"owner":{"account_id":12038445,"reputation":332,"user_id":8806199,"accept_rate":75,"display_name":"Nikzin"},"score":0,"creation_date":1515779820,"post_id":48231215,"comment_id":83445546,"body_markdown":"CREATE DATABASE testAuthor;\nUSE testAuthor;\n\nCREATE TABLE Author\n(\n  authorid   INT AUTO_INCREMENT PRIMARY KEY,\n  authorname VARCHAR(255) NOT NULL\n);\n\nCREATE TABLE Book\n(\n  bookid   INT AUTO_INCREMENT PRIMARY KEY,\n  bookname VARCHAR(255) NOT NULL\n);\n\nCREATE TABLE author2books\n(\n  authorid INT,\n  bookid   INT,\n\n  PRIMARY KEY (authorid, bookid),\n  FOREIGN KEY (authorid) REFERENCES Author (authorid),\n  FOREIGN KEY (bookid) REFERENCES Book (bookid)\n);","body":"CREATE DATABASE testAuthor; USE testAuthor;  CREATE TABLE Author (   authorid   INT AUTO_INCREMENT PRIMARY KEY,   authorname VARCHAR(255) NOT NULL );  CREATE TABLE Book (   bookid   INT AUTO_INCREMENT PRIMARY KEY,   bookname VARCHAR(255) NOT NULL );  CREATE TABLE author2books (   authorid INT,   bookid   INT,    PRIMARY KEY (authorid, bookid),   FOREIGN KEY (authorid) REFERENCES Author (authorid),   FOREIGN KEY (bookid) REFERENCES Book (bookid) );"},{"owner":{"account_id":12038445,"reputation":332,"user_id":8806199,"accept_rate":75,"display_name":"Nikzin"},"score":0,"creation_date":1515780847,"post_id":48231215,"comment_id":83446056,"body_markdown":"I tried to add images with code. once it worked, another time it wasn&#39;t with an error &quot;you need at least 10 points of reputation to add images&quot;.","body":"I tried to add images with code. once it worked, another time it wasn&#39;t with an error &quot;you need at least 10 points of reputation to add images&quot;."},{"owner":{"account_id":8457469,"reputation":241,"user_id":6344251,"display_name":"Israel Merljak"},"score":0,"creation_date":1515785692,"post_id":48231215,"comment_id":83448227,"body_markdown":"@NikolayZ It&#39;s best if you actually post the written code when asking a question instead of an image so that we can easily copy/paste it for testing. Anyway.. have you seen the link i&#39;ve mentioned in the comment before? The OP was having a similar problem and it was because he was referencing the relationship entity in a customized toString method, thus incurring in an infinite loop when loading the entities. Please review your code for possible changes like that, and/or post it here so that we can help you find the problem.","body":"@NikolayZ It&#39;s best if you actually post the written code when asking a question instead of an image so that we can easily copy/paste it for testing. Anyway.. have you seen the link i&#39;ve mentioned in the comment before? The OP was having a similar problem and it was because he was referencing the relationship entity in a customized toString method, thus incurring in an infinite loop when loading the entities. Please review your code for possible changes like that, and/or post it here so that we can help you find the problem."},{"owner":{"account_id":12038445,"reputation":332,"user_id":8806199,"accept_rate":75,"display_name":"Nikzin"},"score":0,"creation_date":1515790648,"post_id":48231215,"comment_id":83450318,"body_markdown":"@Israel Merljak Added code. and somebody allowed my pictures.","body":"@Israel Merljak Added code. and somebody allowed my pictures."}],"answers":[{"comments":[{"owner":{"account_id":7060628,"reputation":8333,"user_id":5406012,"display_name":"Ramanlfc"},"score":0,"creation_date":1515778224,"post_id":48231259,"comment_id":83444746,"body_markdown":"that&#39;s probably reduntant bcoz entity relationships involving collections are by default lazy loaded","body":"that&#39;s probably reduntant bcoz entity relationships involving collections are by default lazy loaded"},{"owner":{"account_id":8457469,"reputation":241,"user_id":6344251,"display_name":"Israel Merljak"},"score":0,"creation_date":1515778559,"post_id":48231259,"comment_id":83444892,"body_markdown":"Yeah you&#39;re right. it is the default way, but it can&#39;t hurt to try right? His mapping doesn&#39;t seem to be the problem here anyways. Or perhaps it is..","body":"Yeah you&#39;re right. it is the default way, but it can&#39;t hurt to try right? His mapping doesn&#39;t seem to be the problem here anyways. Or perhaps it is.."},{"owner":{"account_id":12038445,"reputation":332,"user_id":8806199,"accept_rate":75,"display_name":"Nikzin"},"score":0,"creation_date":1515780212,"post_id":48231259,"comment_id":83445746,"body_markdown":"Thank you, I tried: but no changes: an infinite loop.","body":"Thank you, I tried: but no changes: an infinite loop."},{"owner":{"account_id":12038445,"reputation":332,"user_id":8806199,"accept_rate":75,"display_name":"Nikzin"},"score":1,"creation_date":1515800398,"post_id":48231259,"comment_id":83453526,"body_markdown":"After long time searching for the answer in Google and Stackoverflow I found one which actually helped. But I don&#39;t know if that may give side effects: using JsonBackReference and JsonManagedReference  annotations like here: http://keenformatics.blogspot.se/2013/08/how-to-solve-json-infinite-recursion.html . Maybe there is another way. I need to test those annotations.","body":"After long time searching for the answer in Google and Stackoverflow I found one which actually helped. But I don&#39;t know if that may give side effects: using JsonBackReference and JsonManagedReference  annotations like here: <a href=\"http://keenformatics.blogspot.se/2013/08/how-to-solve-json-infinite-recursion.html\" rel=\"nofollow noreferrer\">keenformatics.blogspot.se/2013/08/&hellip;</a> . Maybe there is another way. I need to test those annotations."}],"tags":[],"owner":{"account_id":8457469,"reputation":241,"user_id":6344251,"display_name":"Israel Merljak"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515778132,"creation_date":1515778132,"answer_id":48231259,"question_id":48231215,"body_markdown":"You can try to mark the relationship Book -&gt; author / Author -&gt; book Lazy loaded to avoid entering an infinite loop :)\r\n\r\n&gt; \r\n@ManyToMany(fetch = LAZY)\r\n","title":"How to get a list of entity members which has manyToMany relationship with other entity mapped with JPA?","body":"<p>You can try to mark the relationship Book -> author / Author -> book Lazy loaded to avoid entering an infinite loop :)</p>\n\n<blockquote>\n  <p>@ManyToMany(fetch = LAZY)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12038445,"reputation":332,"user_id":8806199,"accept_rate":75,"display_name":"Nikzin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677770669,"creation_date":1515873271,"answer_id":48243748,"question_id":48231215,"body_markdown":"I was surprised that there was not easy to find a solution for this in my opinion standard situation. I found two ways to solve it. \r\nThe first is a bit indirect: Making a query returning entity without including ManytoMany list field like described here:https://stackoverflow.com/questions/22007341/spring-jpa-selecting-specific-columns/22007664.\r\nSecond way is more direct but looks quite exotic: using JsonBackReference and JsonManagedReference annotations like here: https://www.keenformatics.com/how-to-solve-json-infinite-recursion/\r\n","title":"How to get a list of entity members which has manyToMany relationship with other entity mapped with JPA?","body":"<p>I was surprised that there was not easy to find a solution for this in my opinion standard situation. I found two ways to solve it.\nThe first is a bit indirect: Making a query returning entity without including ManytoMany list field like described here:<a href=\"https://stackoverflow.com/questions/22007341/spring-jpa-selecting-specific-columns/22007664\">Spring JPA selecting specific columns</a>.\nSecond way is more direct but looks quite exotic: using JsonBackReference and JsonManagedReference annotations like here: <a href=\"https://www.keenformatics.com/how-to-solve-json-infinite-recursion/\" rel=\"nofollow noreferrer\">https://www.keenformatics.com/how-to-solve-json-infinite-recursion/</a></p>\n"}],"owner":{"account_id":12038445,"reputation":332,"user_id":8806199,"accept_rate":75,"display_name":"Nikzin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677770669,"creation_date":1515777934,"question_id":48231215,"body_markdown":"I have tables *Authors* and *Books* (with join table *Authorsbooks*) in database. I created and initiated tables with `MySQL`. I have also made (a standard) `JPA` mapping with two entities Authors and Books using `@manyToMany` and `@Jointable` in one entity and `mappedBy` in the other and connected it to database. \r\n\r\nWhen I try to get all members of *Authors* entity with Java with method `findAll()` it returns an endless sequence: like a first member of authors with list of books, in which a first *Book* contain list of *Authors* where it contain first Book which contain list of authors and so on, endless. How to get only authors w/o field listOfBooks (like I have it in the database table)?\r\n\r\n    @Entity\r\npublic class Author {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;authorid&quot;)\r\n    private Integer authorid;\r\n\r\n    @Column(name = &quot;authorname&quot;)\r\n    private String authorname;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;listOfAuthors&quot;)\r\n    private List&lt;Book&gt; listOfBooks = new ArrayList&lt;Book&gt;();\r\n    //getters and setters\r\n\r\n    @Entity\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;bookid&quot;)\r\n    private Integer bookid;\r\n    @Column(name = &quot;bookname&quot;)\r\n    private String bookname;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;author2books&quot;, joinColumns = @JoinColumn(name = &quot;bookid&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;authorid&quot;))\r\n    private List&lt;Author&gt; listOfAuthors = new ArrayList&lt;Author&gt;();\r\n\r\n    //getters and setters\r\n\r\n    @RestController\r\n@RequestMapping(value = &quot;/rest/authors&quot;)\r\npublic class AuthorResource {\r\n\r\n    @Autowired\r\n    AuthorsRepository authorsRepository;\r\n\r\n    @GetMapping(value = &quot;/all&quot;)\r\n    public List&lt;Author&gt; getAll() {\r\n        return authorsRepository.findAll();\r\n    }\r\n}\r\n\r\n\r\n    CREATE TABLE author\r\n(\r\n  authorid   INT AUTO_INCREMENT PRIMARY KEY,\r\n  authorname VARCHAR(255) NOT NULL\r\n);\r\n\r\nCREATE TABLE Book\r\n(\r\n  bookid   INT AUTO_INCREMENT PRIMARY KEY,\r\n  bookname VARCHAR(255) NOT NULL\r\n);\r\n\r\nCREATE TABLE author2books\r\n(\r\n  authorid INT,\r\n  bookid   INT,\r\n\r\n  PRIMARY KEY (authorid, bookid),\r\n  FOREIGN KEY (authorid) REFERENCES Author (authorid),\r\n  FOREIGN KEY (bookid) REFERENCES Book (bookid)\r\n);\r\n\r\n-- Create Author values\r\nINSERT INTO Author VALUES (authorid, &#39;Sven&#39;);\r\nINSERT INTO Author VALUES (authorid, &#39;Peter&#39;);\r\n\r\n-- Create Book values\r\nINSERT INTO Book VALUES (bookid, &#39;Biology&#39;);\r\nINSERT INTO Book VALUES (bookid, &#39;Chemistry&#39;);\r\n\r\n-- Create author2books values\r\n\r\nINSERT INTO author2books VALUES (1, 2);\r\n\r\n\r\n[![Entities mapping schema][1]][1]\r\n\r\n[![Tables creation SQL script][2]][2]\r\n\r\n[Entities mapping/relationship][1]\r\n\r\n[Database script][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/737ZB.jpg\r\n  [2]: https://i.stack.imgur.com/sKBoo.jpg","title":"How to get a list of entity members which has manyToMany relationship with other entity mapped with JPA?","body":"<p>I have tables <em>Authors</em> and <em>Books</em> (with join table <em>Authorsbooks</em>) in database. I created and initiated tables with <code>MySQL</code>. I have also made (a standard) <code>JPA</code> mapping with two entities Authors and Books using <code>@manyToMany</code> and <code>@Jointable</code> in one entity and <code>mappedBy</code> in the other and connected it to database. </p>\n\n<p>When I try to get all members of <em>Authors</em> entity with Java with method <code>findAll()</code> it returns an endless sequence: like a first member of authors with list of books, in which a first <em>Book</em> contain list of <em>Authors</em> where it contain first Book which contain list of authors and so on, endless. How to get only authors w/o field listOfBooks (like I have it in the database table)?</p>\n\n<pre><code>@Entity\n</code></pre>\n\n<p>public class Author {</p>\n\n<pre><code>@Id\n@GeneratedValue\n@Column(name = \"authorid\")\nprivate Integer authorid;\n\n@Column(name = \"authorname\")\nprivate String authorname;\n\n@ManyToMany(fetch = FetchType.LAZY, mappedBy = \"listOfAuthors\")\nprivate List&lt;Book&gt; listOfBooks = new ArrayList&lt;Book&gt;();\n//getters and setters\n\n@Entity\n</code></pre>\n\n<p>public class Book {</p>\n\n<pre><code>@Id\n@GeneratedValue\n@Column(name = \"bookid\")\nprivate Integer bookid;\n@Column(name = \"bookname\")\nprivate String bookname;\n\n@ManyToMany(fetch = FetchType.LAZY)\n@JoinTable(name = \"author2books\", joinColumns = @JoinColumn(name = \"bookid\"),\n        inverseJoinColumns = @JoinColumn(name = \"authorid\"))\nprivate List&lt;Author&gt; listOfAuthors = new ArrayList&lt;Author&gt;();\n\n//getters and setters\n\n@RestController\n</code></pre>\n\n<p>@RequestMapping(value = \"/rest/authors\")\npublic class AuthorResource {</p>\n\n<pre><code>@Autowired\nAuthorsRepository authorsRepository;\n\n@GetMapping(value = \"/all\")\npublic List&lt;Author&gt; getAll() {\n    return authorsRepository.findAll();\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>CREATE TABLE author\n</code></pre>\n\n<p>(\n  authorid   INT AUTO_INCREMENT PRIMARY KEY,\n  authorname VARCHAR(255) NOT NULL\n);</p>\n\n<p>CREATE TABLE Book\n(\n  bookid   INT AUTO_INCREMENT PRIMARY KEY,\n  bookname VARCHAR(255) NOT NULL\n);</p>\n\n<p>CREATE TABLE author2books\n(\n  authorid INT,\n  bookid   INT,</p>\n\n<p>PRIMARY KEY (authorid, bookid),\n  FOREIGN KEY (authorid) REFERENCES Author (authorid),\n  FOREIGN KEY (bookid) REFERENCES Book (bookid)\n);</p>\n\n<p>-- Create Author values\nINSERT INTO Author VALUES (authorid, 'Sven');\nINSERT INTO Author VALUES (authorid, 'Peter');</p>\n\n<p>-- Create Book values\nINSERT INTO Book VALUES (bookid, 'Biology');\nINSERT INTO Book VALUES (bookid, 'Chemistry');</p>\n\n<p>-- Create author2books values</p>\n\n<p>INSERT INTO author2books VALUES (1, 2);</p>\n\n<p><a href=\"https://i.stack.imgur.com/737ZB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/737ZB.jpg\" alt=\"Entities mapping schema\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sKBoo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sKBoo.jpg\" alt=\"Tables creation SQL script\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/737ZB.jpg\" rel=\"nofollow noreferrer\">Entities mapping/relationship</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sKBoo.jpg\" rel=\"nofollow noreferrer\">Database script</a></p>\n"},{"tags":["java","security","password-protection","cyber-ark"],"answers":[{"comments":[{"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"score":0,"creation_date":1677750211,"post_id":75613475,"comment_id":133400627,"body_markdown":"`However, if you have obtained the password with a REST call there may well be a string with it somewhere already` wasn&#39;t aware of this- can you explain this a bit more, not sure where and how this string will be stored, and how it can be accessed ,also the REST call itself will be  using https","body":"<code>However, if you have obtained the password with a REST call there may well be a string with it somewhere already</code> wasn&#39;t aware of this- can you explain this a bit more, not sure where and how this string will be stored, and how it can be accessed ,also the REST call itself will be  using https"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1677758975,"post_id":75613475,"comment_id":133403193,"body_markdown":"The REST call probably returns JSON, which may have an intermediate string representation. Regardless, the Java object that the JSON is translated into most likely has a String field for the password, right? If it does, that String can remain on the heap or in the java string pool (https://www.baeldung.com/java-string-pool) just as a String created by you would do. If the String is already there, converting it to a char array makes no difference. The original is still there and can remain for quite some time. The protocol used for the call makes no difference here.","body":"The REST call probably returns JSON, which may have an intermediate string representation. Regardless, the Java object that the JSON is translated into most likely has a String field for the password, right? If it does, that String can remain on the heap or in the java string pool (<a href=\"https://www.baeldung.com/java-string-pool\" rel=\"nofollow noreferrer\">baeldung.com/java-string-pool</a>) just as a String created by you would do. If the String is already there, converting it to a char array makes no difference. The original is still there and can remain for quite some time. The protocol used for the call makes no difference here."}],"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677749123,"creation_date":1677749123,"answer_id":75613475,"question_id":75613244,"body_markdown":"If someone has access to perform a memory dump (java heap dump or OS-level dump) they can get the password. This is true if you store it as a string and if you store it as a character array.\r\n\r\nA character array is better because you can clear the data (set the characters in the array to 0 or some other value) when you are done with it to get rid of the sensitive values. However, if you have obtained the password with a REST call there may well be a string with it somewhere already, so this may just provide a false sense of security.\r\n\r\nOn the other hand, if someone can dump your memory to get the cached password they can probably obtain the credentials for calling the cyberArk API as well? So you may be better served focusing on locking down the server and keeping the password cached. Your call, really.","title":"Is it safe to keep a plain text password retrieved from a password vault(CyberArk) in memory in a Java application?","body":"<p>If someone has access to perform a memory dump (java heap dump or OS-level dump) they can get the password. This is true if you store it as a string and if you store it as a character array.</p>\n<p>A character array is better because you can clear the data (set the characters in the array to 0 or some other value) when you are done with it to get rid of the sensitive values. However, if you have obtained the password with a REST call there may well be a string with it somewhere already, so this may just provide a false sense of security.</p>\n<p>On the other hand, if someone can dump your memory to get the cached password they can probably obtain the credentials for calling the cyberArk API as well? So you may be better served focusing on locking down the server and keeping the password cached. Your call, really.</p>\n"}],"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677770558,"creation_date":1677747722,"question_id":75613244,"body_markdown":"I have an application that has an image upload feature, the images are stored on a 3rd party service which is basically an SFTP server. The credentials for accessing this storage were initially hard-coded in the java service class itself, and to secure it, I am planning to keep the SFTP server credentials in a password vault(CyberArk) and then retrieve the credential programmatically (when the application starts up) using the cyberArk REST API and certificate auth method.\r\nAfter retrieving the credentials from the vault, I plan to keep the password in memory and use it for subsequent communication with the SFTP server. Is this the correct approach? Or will this still be a security risk?\r\n\r\nNote1: this is a Java Struts2 application and deployed as a war on JBoss server.\r\n\r\nNote2: I read in some places that its safer to use char array instead of a string to store a password, but not sure if that is enough.","title":"Is it safe to keep a plain text password retrieved from a password vault(CyberArk) in memory in a Java application?","body":"<p>I have an application that has an image upload feature, the images are stored on a 3rd party service which is basically an SFTP server. The credentials for accessing this storage were initially hard-coded in the java service class itself, and to secure it, I am planning to keep the SFTP server credentials in a password vault(CyberArk) and then retrieve the credential programmatically (when the application starts up) using the cyberArk REST API and certificate auth method.\nAfter retrieving the credentials from the vault, I plan to keep the password in memory and use it for subsequent communication with the SFTP server. Is this the correct approach? Or will this still be a security risk?</p>\n<p>Note1: this is a Java Struts2 application and deployed as a war on JBoss server.</p>\n<p>Note2: I read in some places that its safer to use char array instead of a string to store a password, but not sure if that is enough.</p>\n"},{"tags":["java","g1gc","java-mission-control"],"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677770187,"creation_date":1677770187,"question_id":75617420,"body_markdown":"Mission Control shows:\r\n\r\n - GC ID: 301 \r\n - GC Duration: 2.595 s\r\n\r\nFor id 301, the log shows:\r\n\r\n    [2023-03-02T14:55:45.298+0000][info ][gc,cpu        ] GC(301) User=24.55s Sys=0.85s Real=0.64s\r\n\r\nI have 2.59s (which would be 2.595 truncated and not rounded to 2.60) for id=303:\r\n\r\n    [2023-03-02T14:56:49.677+0000][info ][gc,cpu        ] GC(303) User=37.38s Sys=9.15s Real=2.59s\r\n","title":"Why does Mission Control show a different GC time to the GC log for a given GC ID?","body":"<p>Mission Control shows:</p>\n<ul>\n<li>GC ID: 301</li>\n<li>GC Duration: 2.595 s</li>\n</ul>\n<p>For id 301, the log shows:</p>\n<pre><code>[2023-03-02T14:55:45.298+0000][info ][gc,cpu        ] GC(301) User=24.55s Sys=0.85s Real=0.64s\n</code></pre>\n<p>I have 2.59s (which would be 2.595 truncated and not rounded to 2.60) for id=303:</p>\n<pre><code>[2023-03-02T14:56:49.677+0000][info ][gc,cpu        ] GC(303) User=37.38s Sys=9.15s Real=2.59s\n</code></pre>\n"},{"tags":["java","intellij-idea","javadoc"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677771152,"post_id":75617400,"comment_id":133406962,"body_markdown":"This has nothing to do with disassembly, right? You just want to see the javadoc description of a certain class. Point the mouse cursor to the `println()` of `System.out.println();`, and IDEA will automatically jump out of the corresponding Javadoc Instructions, and then you can click [...] to pop up `Open in Documentation Tool Window Ctrl + Q` or `Jump to Source F4`, especially `Jump to Source F4` is probably what you thought it was disassembled source code. but","body":"This has nothing to do with disassembly, right? You just want to see the javadoc description of a certain class. Point the mouse cursor to the <code>println()</code> of <code>System.out.println();</code>, and IDEA will automatically jump out of the corresponding Javadoc Instructions, and then you can click [...] to pop up <code>Open in Documentation Tool Window Ctrl + Q</code> or <code>Jump to Source F4</code>, especially <code>Jump to Source F4</code> is probably what you thought it was disassembled source code. but"},{"owner":{"account_id":11773701,"reputation":1,"user_id":8615942,"display_name":"Chistyak"},"score":0,"creation_date":1677771753,"post_id":75617400,"comment_id":133407170,"body_markdown":"I tried this but when i hover the cursor over println() it only says: java.io.PrintStream  public void println()  &lt;1.8&gt;. As well as when i open it in documentation tool window","body":"I tried this but when i hover the cursor over println() it only says: java.io.PrintStream  public void println()  &lt;1.8&gt;. As well as when i open it in documentation tool window"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677772298,"post_id":75617400,"comment_id":133407352,"body_markdown":"My IDEA version is `IntelliJ IDEA 2022.3.2 (Community Edition)`, My IDEA is use default config. Test Project create step: `File` -&gt; `New` -&gt; `Project`, Build system: `Intellij`, JDK: `temurin-1.8(Eclipse Temurin version 1.8)`.","body":"My IDEA version is <code>IntelliJ IDEA 2022.3.2 (Community Edition)</code>, My IDEA is use default config. Test Project create step: <code>File</code> -&gt; <code>New</code> -&gt; <code>Project</code>, Build system: <code>Intellij</code>, JDK: <code>temurin-1.8(Eclipse Temurin version 1.8)</code>."},{"owner":{"account_id":11773701,"reputation":1,"user_id":8615942,"display_name":"Chistyak"},"score":0,"creation_date":1677772837,"post_id":75617400,"comment_id":133407527,"body_markdown":"I&#39;ve just tried to do so, but the result is the same. It seems that i have somehow changed the default config for this and don&#39;t know how to change it back.","body":"I&#39;ve just tried to do so, but the result is the same. It seems that i have somehow changed the default config for this and don&#39;t know how to change it back."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677775441,"post_id":75617400,"comment_id":133408419,"body_markdown":"Can you Point the mouse cursor to the println() of System.out.println();, then press `F4` ?","body":"Can you Point the mouse cursor to the println() of System.out.println();, then press <code>F4</code> ?"},{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1677776393,"post_id":75617400,"comment_id":133408705,"body_markdown":"do you have Sourcepath set up in the &quot;Platform Settings | SDKs&quot;? https://stackoverflow.com/a/56053801/18430882","body":"do you have Sourcepath set up in the &quot;Platform Settings | SDKs&quot;? <a href=\"https://stackoverflow.com/a/56053801/18430882\">stackoverflow.com/a/56053801/18430882</a>"}],"owner":{"account_id":11773701,"reputation":1,"user_id":8615942,"display_name":"Chistyak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677770089,"creation_date":1677770089,"question_id":75617400,"body_markdown":"I&#39;m using IntelliJ IDEA Community edition and i previously used to read decompiled source code with javadoc simply by clicking CTRL + ClassName or methodName or so.\r\n\r\nBut i have messed up with some settings which i don&#39;t remember and therefore can&#39;t find it again and now decompiled classes just show me the code with no javadoc.\r\n\r\nPlease help, how do i get everything back?\r\n\r\nFor example, \r\nSystem.out.println();\r\nI&#39;m holding Ctrl and click on the &quot;println&quot;\r\nWhat i expect is opening decompiled PrintStream.class with description of all methods and fields, but now that description is missing and i only see the code.\r\nI did not use any extra plugins, just the one that ide offers by default.","title":"How to include javadoc into a decompiled code in IntelliJ IDEA?","body":"<p>I'm using IntelliJ IDEA Community edition and i previously used to read decompiled source code with javadoc simply by clicking CTRL + ClassName or methodName or so.</p>\n<p>But i have messed up with some settings which i don't remember and therefore can't find it again and now decompiled classes just show me the code with no javadoc.</p>\n<p>Please help, how do i get everything back?</p>\n<p>For example,\nSystem.out.println();\nI'm holding Ctrl and click on the &quot;println&quot;\nWhat i expect is opening decompiled PrintStream.class with description of all methods and fields, but now that description is missing and i only see the code.\nI did not use any extra plugins, just the one that ide offers by default.</p>\n"},{"tags":["java","spring-boot","applicationcontext","embedded-tomcat"],"comments":[{"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"İsmail Y."},"score":0,"creation_date":1632390289,"post_id":69297525,"comment_id":122481066,"body_markdown":"I&#39;m currently testing with the same versions and it works fine with `server.servlet.context-path=/MyApp` attached. See https://stackoverflow.com/questions/20405474/add-context-path-to-spring-boot-application","body":"I&#39;m currently testing with the same versions and it works fine with <code>server.servlet.context-path=&#47;MyApp</code> attached. See <a href=\"https://stackoverflow.com/questions/20405474/add-context-path-to-spring-boot-application\" title=\"add context path to spring boot application\">stackoverflow.com/questions/20405474/&hellip;</a>"},{"owner":{"account_id":7563098,"reputation":133,"user_id":5739797,"display_name":"Waseem"},"score":0,"creation_date":1632390582,"post_id":69297525,"comment_id":122481209,"body_markdown":"@İsmailY. Not working in my case.","body":"@İsmailY. Not working in my case."},{"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"İsmail Y."},"score":0,"creation_date":1632391292,"post_id":69297525,"comment_id":122481484,"body_markdown":"Share your files (application.properties etc.) in your case with us.","body":"Share your files (application.properties etc.) in your case with us."},{"owner":{"account_id":7563098,"reputation":133,"user_id":5739797,"display_name":"Waseem"},"score":0,"creation_date":1632391607,"post_id":69297525,"comment_id":122481616,"body_markdown":"application.properties\n`server.servlet.context-path=/MyApp`\n\nController:\n`@RequestMapping(&quot;/some-url&quot;)\n\tpublic String somePage(Model model) {\n\t\t\n\t\tmodel.addAttribute(&quot;message&quot;, &quot;Hello world!&quot;);\n\n\t\treturn &quot;some-page&quot;;\n\t}`","body":"application.properties <code>server.servlet.context-path=&#47;MyApp</code>  Controller: <code>@RequestMapping(&quot;&#47;some-url&quot;) \tpublic String somePage(Model model) { \t\t \t\tmodel.addAttribute(&quot;message&quot;, &quot;Hello world!&quot;);  \t\treturn &quot;some-page&quot;; \t}</code>"}],"answers":[{"tags":[],"owner":{"account_id":155944,"reputation":1010,"user_id":1467744,"display_name":"Mohamad Eghlima"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677769902,"creation_date":1677769902,"answer_id":75617364,"question_id":69297525,"body_markdown":"Spring boot: 2.7.9 and its embedded tomcat which is above 9.0.0.\r\n\r\nI noticed that `server.servlet.contextPath=/my-path` does not work and it picks the executable jar file name which gradle builds. I mean the name of the jar file when we build it (it will get deployed in a openjdk:11-jre-slim container to aws fargate).\r\n\r\nThis one works for us:\r\n\r\n```\r\n@Bean\r\npublic WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; webServerFactoryCustomizer() {\r\n    return factory -&gt; factory.setContextPath(&quot;my-path&quot;);\r\n}\r\n````\r\n\r\nYou may define this bean in any configuration classes.\r\nI know that this one will work with embedded tomcat too but it is more like a deployment time config:\r\n```\r\njava -jar -Dserver.servlet.context-path=/my-path your-jar-file-name.jar\r\n```","title":"How to set context root path in spring boot embedded tomcat?","body":"<p>Spring boot: 2.7.9 and its embedded tomcat which is above 9.0.0.</p>\n<p>I noticed that <code>server.servlet.contextPath=/my-path</code> does not work and it picks the executable jar file name which gradle builds. I mean the name of the jar file when we build it (it will get deployed in a openjdk:11-jre-slim container to aws fargate).</p>\n<p>This one works for us:</p>\n<pre><code>@Bean\npublic WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; webServerFactoryCustomizer() {\n    return factory -&gt; factory.setContextPath(&quot;my-path&quot;);\n}\n</code></pre>\n<p>You may define this bean in any configuration classes.\nI know that this one will work with embedded tomcat too but it is more like a deployment time config:</p>\n<pre><code>java -jar -Dserver.servlet.context-path=/my-path your-jar-file-name.jar\n</code></pre>\n"}],"owner":{"account_id":7563098,"reputation":133,"user_id":5739797,"display_name":"Waseem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1724,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1677769902,"creation_date":1632389680,"question_id":69297525,"body_markdown":"I want to add my own application name as the prefix. Example: http://localhost:8084/MyApp/some-url. But when I click on some link (href) it redirects me to http://localhost:8084/some-url.\r\nAlso I&#39;ve added server.servlet.context-path=/MyApp in properties file. **Note:** I&#39;m using spring boot 2.5.4v and embedded tomcat 9.0.53v","title":"How to set context root path in spring boot embedded tomcat?","body":"<p>I want to add my own application name as the prefix. Example: http://localhost:8084/MyApp/some-url. But when I click on some link (href) it redirects me to http://localhost:8084/some-url.\nAlso I've added server.servlet.context-path=/MyApp in properties file. <strong>Note:</strong> I'm using spring boot 2.5.4v and embedded tomcat 9.0.53v</p>\n"},{"tags":["java","hibernate","hibernate-envers"],"comments":[{"owner":{"account_id":149784,"reputation":8168,"user_id":362531,"accept_rate":69,"display_name":"adamw"},"score":0,"creation_date":1423425387,"post_id":28382181,"comment_id":45133039,"body_markdown":"Did you take a look at audit queries? http://docs.jboss.org/hibernate/core/4.1/devguide/en-US/html/ch15.html#envers-queries","body":"Did you take a look at audit queries? <a href=\"http://docs.jboss.org/hibernate/core/4.1/devguide/en-US/html/ch15.html#envers-queries\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/core/4.1/devguide/en-US/html/&hellip;</a>"},{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1423431498,"post_id":28382181,"comment_id":45134955,"body_markdown":"Thx a lot but if i understand now , to get All datas of Audited table i can do this :\n\nthis.getAuditReader().createQuery().forRevisionsOfEntity(MyEnitity.class, false, true).getResultList();","body":"Thx a lot but if i understand now , to get All datas of Audited table i can do this :  this.getAuditReader().createQuery().forRevisionsOfEntity(MyE&zwnj;&#8203;nitity.class, false, true).getResultList();"},{"owner":{"account_id":149784,"reputation":8168,"user_id":362531,"accept_rate":69,"display_name":"adamw"},"score":0,"creation_date":1423564155,"post_id":28382181,"comment_id":45189786,"body_markdown":"Yes, as far as I understand your question that should work","body":"Yes, as far as I understand your question that should work"}],"answers":[{"tags":[],"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1424386309,"creation_date":1424386309,"answer_id":28618566,"question_id":28382181,"body_markdown":"Because i want to get a lot of data from an audited table (in some table i find the millions of revisions so to get that they take a lot of time whitch cause a timout for the server , specialy when i use hibernate envers , that why i change to native query and i found a lot of possibilities and fonctionalities in.","title":"How to get all data in Audited table with hibernate envers?","body":"<p>Because i want to get a lot of data from an audited table (in some table i find the millions of revisions so to get that they take a lot of time whitch cause a timout for the server , specialy when i use hibernate envers , that why i change to native query and i found a lot of possibilities and fonctionalities in.</p>\n"}],"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28618566,"answer_count":1,"score":1,"last_activity_date":1677769862,"creation_date":1423312514,"question_id":28382181,"body_markdown":"I have a project where i have all my entities. And I have another project where I try to get all the data of each Audited table of each given Entity.\r\nWith Hibernate envers i know how to retrieve an object in a previous version.\r\n\r\n    AuditReaderFactory.get(Session sess) and Object AuditReader.find(Class&lt;T&gt; cls, Object primaryKey, Number revision)\r\n\r\n But I don&#39;t know how to get All records data in an audited X with the rev et typerev field too.\r\n\r\nAny idea?","title":"How to get all data in Audited table with hibernate envers?","body":"<p>I have a project where i have all my entities. And I have another project where I try to get all the data of each Audited table of each given Entity.\nWith Hibernate envers i know how to retrieve an object in a previous version.</p>\n\n<pre><code>AuditReaderFactory.get(Session sess) and Object AuditReader.find(Class&lt;T&gt; cls, Object primaryKey, Number revision)\n</code></pre>\n\n<p>But I don't know how to get All records data in an audited X with the rev et typerev field too.</p>\n\n<p>Any idea?</p>\n"},{"tags":["java","keytool"],"comments":[{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":1,"creation_date":1649427962,"post_id":71798568,"comment_id":126880265,"body_markdown":"I think you need to put the path in quotes.","body":"I think you need to put the path in quotes."},{"owner":{"account_id":11240005,"reputation":59,"user_id":8244682,"display_name":"Daenerys"},"score":1,"creation_date":1649428135,"post_id":71798568,"comment_id":126880332,"body_markdown":"That seems to have solved it. Thanks!","body":"That seems to have solved it. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649439518,"creation_date":1649428107,"answer_id":71798756,"question_id":71798568,"body_markdown":"First make sure you’re in your jdk bin dir.\r\n\r\nThen try again, but with the path in quotes:\r\n\r\nkeytool -importcert -trustcacerts -keystore keystore.p12 -storetype pkcs12 -alias myAlias -file “C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\SSL\\my_ssl_certificate.cer”","title":"How do I specify a file path to an existing SSL certificate using Java Keytool via Windows Command Prompt?","body":"<p>First make sure you’re in your jdk bin dir.</p>\n<p>Then try again, but with the path in quotes:</p>\n<p>keytool -importcert -trustcacerts -keystore keystore.p12 -storetype pkcs12 -alias myAlias -file “C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\SSL\\my_ssl_certificate.cer”</p>\n"}],"owner":{"account_id":11240005,"reputation":59,"user_id":8244682,"display_name":"Daenerys"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71798756,"answer_count":1,"score":2,"last_activity_date":1677769753,"creation_date":1649427284,"question_id":71798568,"body_markdown":"I cannot find any real world examples of how to specify a path to my existing certificate in Keytool. Only documentation that states -file &quot;path to file&quot;. How do I enter the file path? When I run this command:&lt;br&gt; `keytool -importcert -trustcacerts -keystore keystore.p12 -storetype pkcs12 -alias myAlias -file C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\SSL\\my_ssl_certificate.cer`&lt;br&gt;&lt;br&gt;I get the error:&lt;br&gt;Illegal option:  Files\\Apache&lt;br&gt;&lt;br&gt;Can someone please explain and provide an example of correct file path syntax? Thanks!","title":"How do I specify a file path to an existing SSL certificate using Java Keytool via Windows Command Prompt?","body":"<p>I cannot find any real world examples of how to specify a path to my existing certificate in Keytool. Only documentation that states -file &quot;path to file&quot;. How do I enter the file path? When I run this command:<br> <code>keytool -importcert -trustcacerts -keystore keystore.p12 -storetype pkcs12 -alias myAlias -file C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\SSL\\my_ssl_certificate.cer</code><br><br>I get the error:<br>Illegal option:  Files\\Apache<br><br>Can someone please explain and provide an example of correct file path syntax? Thanks!</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"comments":[{"owner":{"account_id":9472425,"reputation":582,"user_id":9741277,"display_name":"leun4m"},"score":0,"creation_date":1677768011,"post_id":75616855,"comment_id":133405944,"body_markdown":"Just to be clear: `max-history` determines not the amount of files but the number of days to keep the logs, so in your case everything older than 5 days will be deleted.","body":"Just to be clear: <code>max-history</code> determines not the amount of files but the number of days to keep the logs, so in your case everything older than 5 days will be deleted."},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677768131,"post_id":75616855,"comment_id":133405984,"body_markdown":"Hmm, good information. Then I have 2 questions. **1.** Will the delete operation occurs only initializing the app?","body":"Hmm, good information. Then I have 2 questions. <b>1.</b> Will the delete operation occurs only initializing the app?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677768187,"post_id":75616855,"comment_id":133405997,"body_markdown":"**2.** Do you have an idea how can I solve this problem? O I have to use `max-history` and wait the log files to be deleted by older than x days ?","body":"<b>2.</b> Do you have an idea how can I solve this problem? O I have to use <code>max-history</code> and wait the log files to be deleted by older than x days ?"},{"owner":{"account_id":9472425,"reputation":582,"user_id":9741277,"display_name":"leun4m"},"score":0,"creation_date":1677768334,"post_id":75616855,"comment_id":133406055,"body_markdown":"It will do so, if you set `logging.file.clean-history-on-start=true`","body":"It will do so, if you set <code>logging.file.clean-history-on-start=true</code>"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677768469,"post_id":75616855,"comment_id":133406095,"body_markdown":"If I do not do this? When will it clean or what is the meaning of that setting (max-history)?","body":"If I do not do this? When will it clean or what is the meaning of that setting (max-history)?"},{"owner":{"account_id":9472425,"reputation":582,"user_id":9741277,"display_name":"leun4m"},"score":0,"creation_date":1677768497,"post_id":75616855,"comment_id":133406103,"body_markdown":"You might make use of `logging.file.total-size-cap` (instead of `max-size`) this will make sure your total size of all log files won&#39;t exceed the limit and delete the oldest files _on demand_ (`max-size` is for **one** file)","body":"You might make use of <code>logging.file.total-size-cap</code> (instead of <code>max-size</code>) this will make sure your total size of all log files won&#39;t exceed the limit and delete the oldest files <i>on demand</i> (<code>max-size</code> is for <b>one</b> file)"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677768630,"post_id":75616855,"comment_id":133406148,"body_markdown":"@leun4m Thank you so much. Could you pls post an example by using these properties? Because there are several properties that has name with file and I am not sure the correct place for yml. Any idea?","body":"@leun4m Thank you so much. Could you pls post an example by using these properties? Because there are several properties that has name with file and I am not sure the correct place for yml. Any idea?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677768921,"post_id":75616855,"comment_id":133406248,"body_markdown":"I tried but none of them is worked (as I said, using wrong hyerarchy). Any example usage pls?","body":"I tried but none of them is worked (as I said, using wrong hyerarchy). Any example usage pls?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677769190,"post_id":75616855,"comment_id":133406300,"body_markdown":"I used all of them below `logging` setting, but not working: `  file.max-size: 5KB # Roll the log file when it reaches max size\n  file.max-history: 1\n  file.total-size-cap: 3\n  file.clean-history-on-start: true`","body":"I used all of them below <code>logging</code> setting, but not working: `  file.max-size: 5KB # Roll the log file when it reaches max size   file.max-history: 1   file.total-size-cap: 3   file.clean-history-on-start: true`"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677769245,"post_id":75616855,"comment_id":133406316,"body_markdown":"I used all of them below `logging` setting, but not working: `file.max-size: 5KB # Roll the log file when it reaches max size\n  file.max-history: 1\n  file.total-size-cap: 3\n  file.clean-history-on-start: true`","body":"I used all of them below <code>logging</code> setting, but not working: <code>file.max-size: 5KB # Roll the log file when it reaches max size   file.max-history: 1   file.total-size-cap: 3   file.clean-history-on-start: true</code>"}],"answers":[{"tags":[],"owner":{"account_id":9472425,"reputation":582,"user_id":9741277,"display_name":"leun4m"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677769289,"creation_date":1677769289,"answer_id":75617246,"question_id":75616855,"body_markdown":"I think there is misunderstanding about what the properties mean.\r\n\r\nAccording to https://www.codejava.net/frameworks/spring-boot/logback-rolling-files-example#\r\n\r\n`max-size`\r\n\r\nSets the maximum size of one file, if the file size gets exceeded a new file will be created.\r\n\r\n`max-history`\r\n\r\nSets the number of days the logs are kept. Older files will be deleted, if `clean-history-on-start` is set to true.\r\n\r\n`total-size-cap`\r\n\r\nSets the limit for the total size of all log files.\r\n\r\n**You may instead consider this:**\r\n\r\n```yml\r\nlogging:\r\n  file:\r\n    name: &#39;./logs/application.log&#39;\r\n    max-history: 5\r\n    total-size-cap: 10KB\r\n    clean-history-on-start: true\r\n```","title":"logging.file.max-history is not working in Spring Boot","body":"<p>I think there is misunderstanding about what the properties mean.</p>\n<p>According to <a href=\"https://www.codejava.net/frameworks/spring-boot/logback-rolling-files-example#\" rel=\"nofollow noreferrer\">https://www.codejava.net/frameworks/spring-boot/logback-rolling-files-example#</a></p>\n<p><code>max-size</code></p>\n<p>Sets the maximum size of one file, if the file size gets exceeded a new file will be created.</p>\n<p><code>max-history</code></p>\n<p>Sets the number of days the logs are kept. Older files will be deleted, if <code>clean-history-on-start</code> is set to true.</p>\n<p><code>total-size-cap</code></p>\n<p>Sets the limit for the total size of all log files.</p>\n<p><strong>You may instead consider this:</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  file:\n    name: './logs/application.log'\n    max-history: 5\n    total-size-cap: 10KB\n    clean-history-on-start: true\n</code></pre>\n"}],"owner":{"display_name":"user21263160"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1947,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75617246,"answer_count":1,"score":0,"last_activity_date":1677769289,"creation_date":1677767387,"question_id":75616855,"body_markdown":"I want to delete log files automatically in my Spring Boot apps and use the following settings:\r\n\r\n```\r\nlogging:\r\n  file:\r\n    name: &#39;./logs/application.log&#39;\r\n    max-size: 10KB # for test purpose keep small\r\n    max-history: 5\r\n```\r\n\r\nHere is the documentation page:\r\nhttps://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html\r\n\r\n\r\n\r\nHowever, neither `max-size` nor `max-history` is working and new log files are created more than 5. \r\n\r\nI am not sure if I have to set `logback` config, but if I have to, is the following approach suitable for deleting log files automatically?\r\n\r\nhttps://www.codejava.net/frameworks/spring-boot/logback-rolling-files-example\r\n\r\n","title":"logging.file.max-history is not working in Spring Boot","body":"<p>I want to delete log files automatically in my Spring Boot apps and use the following settings:</p>\n<pre><code>logging:\n  file:\n    name: './logs/application.log'\n    max-size: 10KB # for test purpose keep small\n    max-history: 5\n</code></pre>\n<p>Here is the documentation page:\n<a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html</a></p>\n<p>However, neither <code>max-size</code> nor <code>max-history</code> is working and new log files are created more than 5.</p>\n<p>I am not sure if I have to set <code>logback</code> config, but if I have to, is the following approach suitable for deleting log files automatically?</p>\n<p><a href=\"https://www.codejava.net/frameworks/spring-boot/logback-rolling-files-example\" rel=\"nofollow noreferrer\">https://www.codejava.net/frameworks/spring-boot/logback-rolling-files-example</a></p>\n"},{"tags":["java","spring-boot","spring-security","swagger-ui","springdoc"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1677753645,"post_id":75613380,"comment_id":133401673,"body_markdown":"Springfox and Springdoc are incompatible. You probably need to remove &quot;springfox-boot-starter-3.0.0&quot; or maybe replace it with an equivalent Springdoc lib.","body":"Springfox and Springdoc are incompatible. You probably need to remove &quot;springfox-boot-starter-3.0.0&quot; or maybe replace it with an equivalent Springdoc lib."},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1679129801,"post_id":75613380,"comment_id":133668628,"body_markdown":"Please check my answer on **[How to run Swagger 3 on Spring Boot 3](https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3)**","body":"Please check my answer on <b><a href=\"https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3\">How to run Swagger 3 on Spring Boot 3</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677769238,"creation_date":1677769238,"answer_id":75617221,"question_id":75613380,"body_markdown":"Both `springdoc-openapi-starter-webmvc-ui` and `springdoc-openapi-starter-webmvc-api` are required in the classpath for Swagger to work in Spring boot 3 (Web Starter). Probably you might need to remove `springdoc-openapi-core - 1.1.49`. Also not sure if *springfox* will cause any trouble. \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot 3 Swagger issue 403 with JWT with Springdoc OpenAPI","body":"<p>Both <code>springdoc-openapi-starter-webmvc-ui</code> and <code>springdoc-openapi-starter-webmvc-api</code> are required in the classpath for Swagger to work in Spring boot 3 (Web Starter). Probably you might need to remove <code>springdoc-openapi-core - 1.1.49</code>. Also not sure if <em>springfox</em> will cause any trouble.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23608230,"reputation":39,"user_id":17643637,"display_name":"Umesh Goti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":836,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677769238,"creation_date":1677748661,"question_id":75613380,"body_markdown":"I have migrated to Spring Boot version 3 from 2.7 and Swagger UI stopped working.\r\n\r\nBelow are the dependencies I have used:\r\n\r\nspring-boot-starter-parent - 3.0.0&lt;br/&gt;\r\nspringfox-boot-starter-3.0.0&lt;br/&gt;\r\nspringdoc-openapi-starter-webmvc-ui - 2.0.2&lt;br/&gt;\r\nspringdoc-openapi-core - 1.1.49 \r\n\r\nI have configured the following property in `application.properties`:\r\n```\r\nspringdoc.api-docs.path=/api-docs\r\n```\r\n\r\nbut I am still getting 403 error while opening Swagger UI in the bowser (http://localhost:8080/swagger-ui/index.html):\r\n\r\n![](https://i.stack.imgur.com/tFPEt.png)\r\n\r\nwebsecurityconfig class made the Swagger UI URL as public with the following code:\r\n```java\r\nString[] PUBLIC_URL = {&quot;/v3/api-docs&quot;,\r\n            &quot;/v2/api-docs&quot;, &quot;/swagger-resources/**&quot;,\r\n            &quot;/swagger-ui/**&quot;,\r\n            &quot;/swagger-ui.html&quot;,\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/api-docs/**&quot;,\r\n            &quot;api-docs&quot; }\r\nhttp.authorizeHttpRequests().requestMatchers(PUBLIC_URL).permitAll();\r\n```","title":"Spring Boot 3 Swagger issue 403 with JWT with Springdoc OpenAPI","body":"<p>I have migrated to Spring Boot version 3 from 2.7 and Swagger UI stopped working.</p>\n<p>Below are the dependencies I have used:</p>\n<p>spring-boot-starter-parent - 3.0.0<br/>\nspringfox-boot-starter-3.0.0<br/>\nspringdoc-openapi-starter-webmvc-ui - 2.0.2<br/>\nspringdoc-openapi-core - 1.1.49</p>\n<p>I have configured the following property in <code>application.properties</code>:</p>\n<pre><code>springdoc.api-docs.path=/api-docs\n</code></pre>\n<p>but I am still getting 403 error while opening Swagger UI in the bowser (http://localhost:8080/swagger-ui/index.html):</p>\n<p><img src=\"https://i.stack.imgur.com/tFPEt.png\" alt=\"\" /></p>\n<p>websecurityconfig class made the Swagger UI URL as public with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] PUBLIC_URL = {&quot;/v3/api-docs&quot;,\n            &quot;/v2/api-docs&quot;, &quot;/swagger-resources/**&quot;,\n            &quot;/swagger-ui/**&quot;,\n            &quot;/swagger-ui.html&quot;,\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/api-docs/**&quot;,\n            &quot;api-docs&quot; }\nhttp.authorizeHttpRequests().requestMatchers(PUBLIC_URL).permitAll();\n</code></pre>\n"},{"tags":["java","encryption","aes"],"answers":[{"comments":[{"owner":{"account_id":930090,"reputation":4490,"user_id":960115,"accept_rate":92,"display_name":"Jeff G"},"score":0,"creation_date":1480527130,"post_id":3283834,"comment_id":69003097,"body_markdown":"Note that at least one padding byte is always added, even when the input length is an exact multiple of 16.","body":"Note that at least one padding byte is always added, even when the input length is an exact multiple of 16."}],"tags":[],"owner":{"account_id":117977,"reputation":51321,"user_id":308661,"display_name":"In silico"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1279563635,"creation_date":1279563635,"answer_id":3283834,"question_id":3283787,"body_markdown":"The AES cipher always works on 16-byte (128-bit) blocks. If the number of input bytes is not an exact multiple of 16, it is padded. That&#39;s why 16 appears to be the &quot;magic number&quot; in your calculation. What you have should work for all input sizes.","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<p>The AES cipher always works on 16-byte (128-bit) blocks. If the number of input bytes is not an exact multiple of 16, it is padded. That's why 16 appears to be the \"magic number\" in your calculation. What you have should work for all input sizes.</p>\n"},{"comments":[{"owner":{"account_id":42143,"reputation":169179,"user_id":122718,"accept_rate":88,"display_name":"usr"},"score":2,"creation_date":1347543443,"post_id":3283841,"comment_id":16674428,"body_markdown":"There are padding schemes which do not require changing the data size.","body":"There are padding schemes which do not require changing the data size."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":6,"creation_date":1419273652,"post_id":3283841,"comment_id":43639287,"body_markdown":"@usr No, there are *modes of operation* that do not require changing the data size (although usually an IV and/or authentication tag are required as overhead). Padding modes by definition make the data input larger for the cipher.","body":"@usr No, there are <i>modes of operation</i> that do not require changing the data size (although usually an IV and/or authentication tag are required as overhead). Padding modes by definition make the data input larger for the cipher."}],"tags":[],"owner":{"account_id":37082,"reputation":289774,"user_id":105929,"accept_rate":67,"display_name":"Remus Rusanu"},"comment_count":2,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1279563678,"creation_date":1279563678,"answer_id":3283841,"question_id":3283787,"body_markdown":"AES, as a block cipher,  does not change the size. The input size is always the output size.\r\n\r\nBut AES, being a block cipher, requires the input to be multiple of block size (16 bytes). For this, **padding schemes** are used like the popular [PKCS5][1]. So the answer is that the size of your encrypted data depends on the padding scheme used. But at the same time *all* known padding schemes will round up to the next module 16 size (size AES has a 16 bytes block size). \r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2898","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<p>AES, as a block cipher,  does not change the size. The input size is always the output size.</p>\n<p>But AES, being a block cipher, requires the input to be multiple of block size (16 bytes). For this, <strong>padding schemes</strong> are used like the popular <a href=\"https://www.rfc-editor.org/rfc/rfc2898\" rel=\"nofollow noreferrer\">PKCS5</a>. So the answer is that the size of your encrypted data depends on the padding scheme used. But at the same time <em>all</em> known padding schemes will round up to the next module 16 size (size AES has a 16 bytes block size).</p>\n"},{"tags":[],"owner":{"account_id":39399,"reputation":25192,"user_id":113586,"accept_rate":87,"display_name":"wRAR"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1279563747,"creation_date":1279563747,"answer_id":3283853,"question_id":3283787,"body_markdown":"AES works in 128-bit (16 bytes) blocks and converts cleartext blocks into cyphertext blocks of the same length. It pads the last block if it is shorter than 16 bytes, so your formula looks correct.","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<p>AES works in 128-bit (16 bytes) blocks and converts cleartext blocks into cyphertext blocks of the same length. It pads the last block if it is shorter than 16 bytes, so your formula looks correct.</p>\n"},{"tags":[],"owner":{"account_id":60200,"reputation":479685,"user_id":179910,"display_name":"Jerry Coffin"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1279564040,"creation_date":1279564040,"answer_id":3283886,"question_id":3283787,"body_markdown":"It depends on the mode in which you use AES. What you have is accurate for most of the block oriented modes, such as ECB and CBC. OTOH, in CFB mode (for one example) you&#39;re basically just using AES to produce a stream of bytes, which you XOR with bytes of the input. In this case, the size of the output can remain the size of the input rather than being rounded up to the next block size as you&#39;ve given above.","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<p>It depends on the mode in which you use AES. What you have is accurate for most of the block oriented modes, such as ECB and CBC. OTOH, in CFB mode (for one example) you're basically just using AES to produce a stream of bytes, which you XOR with bytes of the input. In this case, the size of the output can remain the size of the input rather than being rounded up to the next block size as you've given above.</p>\n"},{"comments":[{"owner":{"account_id":275137,"reputation":2090,"user_id":567812,"accept_rate":74,"display_name":"Durin"},"score":9,"creation_date":1303404779,"post_id":3284136,"comment_id":6577400,"body_markdown":"why is it necessary to add a whole new block for a plaintext of 16 bytes. Its already a multiple of 16. \nthanks in advance","body":"why is it necessary to add a whole new block for a plaintext of 16 bytes. Its already a multiple of 16.  thanks in advance"},{"owner":{"account_id":379877,"reputation":578,"user_id":733537,"accept_rate":100,"display_name":"Shane Chin"},"score":7,"creation_date":1312827756,"post_id":3284136,"comment_id":8337167,"body_markdown":"Without a least one bit of padding, the block has no endpoint.","body":"Without a least one bit of padding, the block has no endpoint."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1419273881,"post_id":3284136,"comment_id":43639394,"body_markdown":"@sleske Padding for security reasons is required for e.g. RSA, but not for block cipher modes of operation. Usually padding makes a protocol *less secure* because of padding oracle attacks. It&#39;s adviced to use an authenticated mode of operation like GCM that 1) does not require padding and 2) provides integrity and authenticity to the ciphertext.","body":"@sleske Padding for security reasons is required for e.g. RSA, but not for block cipher modes of operation. Usually padding makes a protocol <i>less secure</i> because of padding oracle attacks. It&#39;s adviced to use an authenticated mode of operation like GCM that 1) does not require padding and 2) provides integrity and authenticity to the ciphertext."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":9,"creation_date":1419274122,"post_id":3284136,"comment_id":43639501,"body_markdown":"The question of @Durin is a good one. The reason is that there is no method of distinguishing a plaintext of e.g. `10 0F 0E ... 02 01` from a padded plaintext of `10 0F 0E ... 02` + padding `01`. That&#39;s why padding is always performed. Sometimes zero padding up to the block size is used if the plaintext size is known &quot;out of band&quot;, or if it is known that the value doesn&#39;t contain `00` at the end (e.g. for ASCII strings).","body":"The question of @Durin is a good one. The reason is that there is no method of distinguishing a plaintext of e.g. <code>10 0F 0E ... 02 01</code> from a padded plaintext of <code>10 0F 0E ... 02</code> + padding <code>01</code>. That&#39;s why padding is always performed. Sometimes zero padding up to the block size is used if the plaintext size is known &quot;out of band&quot;, or if it is known that the value doesn&#39;t contain <code>00</code> at the end (e.g. for ASCII strings)."},{"owner":{"account_id":4392464,"reputation":5898,"user_id":3580433,"accept_rate":89,"display_name":"Ebrahim Ghasemi"},"score":0,"creation_date":1431495371,"post_id":3284136,"comment_id":48517748,"body_markdown":"@MaartenBodewes I read here http://www.di-mgt.com.au/cryptopad.html and as far as I understood, padding in cases that the original plaintext was already an exact multiple of cipher block length, is dependent to the padding mode. i.e for example, for  _Pad with zeroes_ method, we always pad the input, but in _pad with spaces_ mode, we pad in cases that the input size is not multiple of cipher block length. Am I right?","body":"@MaartenBodewes I read here <a href=\"http://www.di-mgt.com.au/cryptopad.html\" rel=\"nofollow noreferrer\">di-mgt.com.au/cryptopad.html</a> and as far as I understood, padding in cases that the original plaintext was already an exact multiple of cipher block length, is dependent to the padding mode. i.e for example, for  <i>Pad with zeroes</i> method, we always pad the input, but in <i>pad with spaces</i> mode, we pad in cases that the input size is not multiple of cipher block length. Am I right?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":4,"creation_date":1431519120,"post_id":3284136,"comment_id":48532831,"body_markdown":"Padding with zero&#39;s and padding with spaces are not standardized modes. Bouncy always pads, even with zero&#39;s. PHP does not. Neither padding with zeros nor padding with spaces are *deterministic* padding modes. The reason they work at all is that either the plaintext (as bytes) has a known length or that the plaintext has a predetermined format (e.g. just printable ASCII characters). Zero padding may however fail spectacularly if these conditions are not met; e.g. if UTF16LE text ends with `00` (which is likely). In other words, these padding modes exist but they do put constraints on the input","body":"Padding with zero&#39;s and padding with spaces are not standardized modes. Bouncy always pads, even with zero&#39;s. PHP does not. Neither padding with zeros nor padding with spaces are <i>deterministic</i> padding modes. The reason they work at all is that either the plaintext (as bytes) has a known length or that the plaintext has a predetermined format (e.g. just printable ASCII characters). Zero padding may however fail spectacularly if these conditions are not met; e.g. if UTF16LE text ends with <code>00</code> (which is likely). In other words, these padding modes exist but they do put constraints on the input"},{"owner":{"account_id":4392464,"reputation":5898,"user_id":3580433,"accept_rate":89,"display_name":"Ebrahim Ghasemi"},"score":1,"creation_date":1431927525,"post_id":3284136,"comment_id":48687815,"body_markdown":"@MaartenBodewes Thank you for your comment dear Maarten. May I ask you to explain me why the _ZZ-Coder&#39;s_ answer is correct please? I expect _cipherLen_ to be multiple of  cipher&#39;s block length always. i.e I expect output of AES to be 16/32/ ... bytes always (with padding). But based on the _ZZ-Coder&#39;s_ answer, we may have post encryption sizes of any value. I see that the output of above formula is enough for AES output, but I think it is not efficient. In the other word I think the formula that is written in the question is better than the formula that is written in the answer. Am I wrong?","body":"@MaartenBodewes Thank you for your comment dear Maarten. May I ask you to explain me why the <i>ZZ-Coder&#39;s</i> answer is correct please? I expect <i>cipherLen</i> to be multiple of  cipher&#39;s block length always. i.e I expect output of AES to be 16/32/ ... bytes always (with padding). But based on the <i>ZZ-Coder&#39;s</i> answer, we may have post encryption sizes of any value. I see that the output of above formula is enough for AES output, but I think it is not efficient. In the other word I think the formula that is written in the question is better than the formula that is written in the answer. Am I wrong?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":3,"creation_date":1431935217,"post_id":3284136,"comment_id":48691461,"body_markdown":"@Abraham No, that&#39;s because the answer is indeed wrong. It&#39;s just a quick way of calculating an upper limit. For Java of course you can just question your `Cipher` instance for the correct length (nowadays). On stackoverflow upvotes don&#39;t count for hardly anything.","body":"@Abraham No, that&#39;s because the answer is indeed wrong. It&#39;s just a quick way of calculating an upper limit. For Java of course you can just question your <code>Cipher</code> instance for the correct length (nowadays). On stackoverflow upvotes don&#39;t count for hardly anything."}],"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":8,"down_vote_count":3,"up_vote_count":116,"is_accepted":true,"score":113,"last_activity_date":1677768578,"creation_date":1279566188,"answer_id":3284136,"question_id":3283787,"body_markdown":"AES has a fixed block size of 16 bytes regardless of key size. Assuming you use PKCS 5/7 padding, use this formula:\r\n\r\n     cipherLen = clearLen + 16 - (clearLen mod 16)\r\n\r\nPlease note that if the clear-text is a multiple of the block size then a whole new block is needed for padding. For example, if your clear-text is 16 bytes then the cipher-text will take 32 bytes.\r\n\r\nYou might want to store the IV (Initial Vector) with the cipher-text. In that case, you need to add 16 more bytes for the IV.","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<p>AES has a fixed block size of 16 bytes regardless of key size. Assuming you use PKCS 5/7 padding, use this formula:</p>\n<pre><code> cipherLen = clearLen + 16 - (clearLen mod 16)\n</code></pre>\n<p>Please note that if the clear-text is a multiple of the block size then a whole new block is needed for padding. For example, if your clear-text is 16 bytes then the cipher-text will take 32 bytes.</p>\n<p>You might want to store the IV (Initial Vector) with the cipher-text. In that case, you need to add 16 more bytes for the IV.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1279570548,"creation_date":1279570548,"answer_id":3284683,"question_id":3283787,"body_markdown":"There are approaches to storing encrypted information which avoid the need for any padding provided the data size is at least equal to the block size.  One slight difficulty is that if the data size is allowed to be smaller than the block size, and if it must be possible to reconstruct the precise size of the data, even for small blocks, the output must be at least one bit larger than the input, [i]regardless[/i] of the data size.\r\n\r\nTo understand the problem, realize that there are 256^N possible files that are N bytes long, and the number of possible files that are no longer than N bytes long is 256^N plus the number of possible files that are no longer than N-1 bytes long (there is one possible file that&#39;s zero bytes long, and 257 possible files that are no longer than one byte long).\r\n\r\nIf the block size is 16 bytes, there will be 256^16 + 256^14 + 256^13 etc. possible input files that are no more than 16 bytes long, but only 256^16 possible output files that are no more than 16 bytes long (since output files can&#39;t be shorter than 16 bytes).  So at least some possible 16-byte input files must grow.  Suppose they would become 17 bytes.  There are 256^17 possible seventeen-byte output files; if any of those are used to handle inputs of 16 bytes or less, there won&#39;t be enough available to handle all possible 17-byte input files.  No matter how big the input can get, some files of that size or larger must grow.","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<p>There are approaches to storing encrypted information which avoid the need for any padding provided the data size is at least equal to the block size.  One slight difficulty is that if the data size is allowed to be smaller than the block size, and if it must be possible to reconstruct the precise size of the data, even for small blocks, the output must be at least one bit larger than the input, [i]regardless[/i] of the data size.</p>\n\n<p>To understand the problem, realize that there are 256^N possible files that are N bytes long, and the number of possible files that are no longer than N bytes long is 256^N plus the number of possible files that are no longer than N-1 bytes long (there is one possible file that's zero bytes long, and 257 possible files that are no longer than one byte long).</p>\n\n<p>If the block size is 16 bytes, there will be 256^16 + 256^14 + 256^13 etc. possible input files that are no more than 16 bytes long, but only 256^16 possible output files that are no more than 16 bytes long (since output files can't be shorter than 16 bytes).  So at least some possible 16-byte input files must grow.  Suppose they would become 17 bytes.  There are 256^17 possible seventeen-byte output files; if any of those are used to handle inputs of 16 bytes or less, there won't be enough available to handle all possible 17-byte input files.  No matter how big the input can get, some files of that size or larger must grow.</p>\n"},{"tags":[],"owner":{"account_id":1471359,"reputation":91,"user_id":1382864,"display_name":"Zaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466076565,"creation_date":1466073793,"answer_id":37856899,"question_id":3283787,"body_markdown":"Generally speaking, for a block cipher encryption:\r\n\r\n&gt; CipherText = PlainText + Block - (PlainText MOD Block)\r\n&gt; \r\n&gt; ciphertext size is computed as the size of the plaintext extended to\r\n&gt; the next block. If padding is used and the size of the plaintext is an\r\n&gt; exact multiple of the block size, one extra block containing padding\r\n&gt; information will be added.\r\n\r\nAES uses block size of 16 bytes, which produces:\r\n\r\nCipherText = PlainText + 16 - (PlainText MOD 16)\r\n\r\nSource:\r\nhttp://www.obviex.com/articles/CiphertextSize.pdf\r\n\r\nNote:\r\n\r\n 1. CipherText and PlainText represent the size of the cipher text and the size of the plain text accordingly.","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<p>Generally speaking, for a block cipher encryption:</p>\n\n<blockquote>\n  <p>CipherText = PlainText + Block - (PlainText MOD Block)</p>\n  \n  <p>ciphertext size is computed as the size of the plaintext extended to\n  the next block. If padding is used and the size of the plaintext is an\n  exact multiple of the block size, one extra block containing padding\n  information will be added.</p>\n</blockquote>\n\n<p>AES uses block size of 16 bytes, which produces:</p>\n\n<p>CipherText = PlainText + 16 - (PlainText MOD 16)</p>\n\n<p>Source:\n<a href=\"http://www.obviex.com/articles/CiphertextSize.pdf\" rel=\"noreferrer\">http://www.obviex.com/articles/CiphertextSize.pdf</a></p>\n\n<p>Note:</p>\n\n<ol>\n<li>CipherText and PlainText represent the size of the cipher text and the size of the plain text accordingly.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":221017,"reputation":1137,"user_id":478765,"accept_rate":50,"display_name":"ed22"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519219008,"creation_date":1519219008,"answer_id":48906971,"question_id":3283787,"body_markdown":"If your input length is smaller than max size of int you could use [Cipher.getOutputSize(int)][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/javax/crypto/Cipher.html#getOutputSize-int-","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<p>If your input length is smaller than max size of int you could use <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/crypto/Cipher.html#getOutputSize-int-\" rel=\"nofollow noreferrer\">Cipher.getOutputSize(int)</a></p>\n"},{"tags":[],"owner":{"account_id":8818968,"reputation":80,"user_id":6589471,"display_name":"Joseph Stephen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593165110,"creation_date":1593165110,"answer_id":62592220,"question_id":3283787,"body_markdown":"    long post_AES_Size = size + (16 - (size % 16));\r\n\r\n    cipherLen = (clearLen/16 + 1) * 16\r\n\r\nwhat @zz-coder and @OP mentioned are same.\r\n\r\n    int(clearLen/16) + 1) * 16\r\n    = ((clearLen - clearLen % 16) / 16 + 1) * 16\r\n    = clearLen - clearLen % 16 + 16;\r\n    = clearLen + (16  - clearLen % 16)","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<pre><code>long post_AES_Size = size + (16 - (size % 16));\n\ncipherLen = (clearLen/16 + 1) * 16\n</code></pre>\n<p>what @zz-coder and @OP mentioned are same.</p>\n<pre><code>int(clearLen/16) + 1) * 16\n= ((clearLen - clearLen % 16) / 16 + 1) * 16\n= clearLen - clearLen % 16 + 16;\n= clearLen + (16  - clearLen % 16)\n</code></pre>\n"}],"owner":{"account_id":169800,"reputation":853,"user_id":396104,"display_name":"Ramson Tutte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112296,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":3284136,"answer_count":9,"score":80,"last_activity_date":1677768578,"creation_date":1279563289,"question_id":3283787,"body_markdown":"I would like to know the size of data after AES encryption so that I can avoid buffering my post-AES data(on disk or memory) mainly for knowing the size.\r\n\r\nI use 128 bit AES and `javax.crypto.Cipher` and `javax.crypto.CipherInputStream` for encryption.\r\n\r\nA few tests performed with various input sizes show that, the post encryption size calculated as below is correct:\r\n\r\n    long size = input_Size_In_Bytes; \r\n    long post_AES_Size = size + (16 - (size % 16));\r\n\r\nBut I am not sure whether the above formula is applicable for all possible input sizes.\r\n\r\nIs there a way to calculate the size of data after applying AES encryption – in advance without having to buffer the encrypted data(on disk or memory) to know its post-encryption size?","title":"Size of data after AES/CBC and AES/ECB encryption","body":"<p>I would like to know the size of data after AES encryption so that I can avoid buffering my post-AES data(on disk or memory) mainly for knowing the size.</p>\n\n<p>I use 128 bit AES and <code>javax.crypto.Cipher</code> and <code>javax.crypto.CipherInputStream</code> for encryption.</p>\n\n<p>A few tests performed with various input sizes show that, the post encryption size calculated as below is correct:</p>\n\n<pre><code>long size = input_Size_In_Bytes; \nlong post_AES_Size = size + (16 - (size % 16));\n</code></pre>\n\n<p>But I am not sure whether the above formula is applicable for all possible input sizes.</p>\n\n<p>Is there a way to calculate the size of data after applying AES encryption – in advance without having to buffer the encrypted data(on disk or memory) to know its post-encryption size?</p>\n"},{"tags":["java","spring-boot","microservices","netflix-eureka","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677769788,"post_id":75617108,"comment_id":133406517,"body_markdown":"Show the healthContributorRegistry bean&#39;s class. Also, there should be more details about the bean creation failure after that one, such as which dependency is missing, etc.","body":"Show the healthContributorRegistry bean&#39;s class. Also, there should be more details about the bean creation failure after that one, such as which dependency is missing, etc."}],"owner":{"account_id":16978735,"reputation":109,"user_id":12281325,"display_name":"Md Shayon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677768544,"creation_date":1677768544,"question_id":75617108,"body_markdown":"I can not figure out what is went wrong, everything was working but after adding `spring-cloud-starter-netflix-eureka-client` I am getting this error. Eureka server (discovery service) is working properly. \r\n\r\n**pom.xml**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.tss&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;currency-exchange-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;currency-exchange-service&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n**application.properties**\r\n\r\n```\r\n# debug=true\r\nspring.application.name=currency-exchange\r\nserver.port=8080 \r\n\r\nspring.jpa.show-sql=true \r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.h2.console.enabled=true\r\n\r\n# Will run query from data.sql after running the application\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\neureka.instance.hostname=localhost\r\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka\r\neureka.client.healthcheck.enabled= true\r\n```\r\n\r\nI am creating a discovery service and some microservices, I want all the microservices connect to the discovery service properly","title":"springboot microservice - UnsatisfiedDependencyException Error creating bean with name &#39;healthContributorRegistry&#39; defined in class path resource","body":"<p>I can not figure out what is went wrong, everything was working but after adding <code>spring-cloud-starter-netflix-eureka-client</code> I am getting this error. Eureka server (discovery service) is working properly.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.tss&lt;/groupId&gt;\n    &lt;artifactId&gt;currency-exchange-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;currency-exchange-service&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code># debug=true\nspring.application.name=currency-exchange\nserver.port=8080 \n\nspring.jpa.show-sql=true \nspring.datasource.url=jdbc:h2:mem:testdb\nspring.h2.console.enabled=true\n\n# Will run query from data.sql after running the application\nspring.jpa.defer-datasource-initialization=true\n\nspring.jpa.hibernate.ddl-auto=update\n\neureka.instance.hostname=localhost\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka\neureka.client.healthcheck.enabled= true\n</code></pre>\n<p>I am creating a discovery service and some microservices, I want all the microservices connect to the discovery service properly</p>\n"},{"tags":["java","android","kotlin","box2d","jbox2d"],"owner":{"account_id":5479106,"reputation":1088,"user_id":4356169,"accept_rate":57,"display_name":"jdleung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677767953,"creation_date":1677767953,"question_id":75616978,"body_markdown":"The effect to be achieved is to let the bodies drop down one by one.\r\n\r\nThe previous code was to set all the bodies DYNAMIC when they were created, when the index increased the position.y increased, this made them ordered in a high column, some bodies crossed through the other after they dropped down, so I choose the plan below.\r\n\r\nThe bodies&#39; type are set to STATIC when they are created, and then animationTimer set the body to DYNAMIC one by one so that they keep a certain distance when they fall. \r\n\r\nThe problem is that the bodies are sometime fixed on the top (checked, still STATIC type), 1 out of 15-20 on my test. I can&#39;t figure out why this is happening, is it a problem of timestep or something else?\r\n\r\n\r\n    for (i in 0..20) {\r\n        val bodyDef = BodyDef()\r\n        bodyDef.type = BodyType.STATIC\r\n        bodyDef.position = Vec2(3.6f, 0f)\r\n\r\n        val shape = PolygonShape()\r\n        shape.setAsBox(2.0f, 1.0f)\r\n\r\n        val fixture = FixtureDef()\r\n        fixture.shape = shape\r\n        fixture.friction = 0.2f\r\n        fixture.restitution = 0.1f\r\n        fixture.density = 0.6f\r\n        val body = mWorld!!.createBody(bodyDef)\r\n        body.isFixedRotation = true\r\n        body.createFixture(fixture)\r\n        discBodies.add(body)\r\n    }\r\n\r\n    var i = 0\r\n    val animationTimer = Timer()\r\n    animationTimer.schedule(object: TimerTask() {\r\n        override fun run() {\r\n            val body = discBodies[i]\r\n            body.type = BodyType.DYNAMIC\r\n            body.isAwake = true\r\n            body.applyForceToCenter(Vec2(0.0f, 3f))\r\n            if (i == discBodies.size - 1) {\r\n                animationTimer.cancel()\r\n            }\r\n            i += 1\r\n        }\r\n    }, 0, 80)","title":"JBox2d set body type dynamic sometimes failed","body":"<p>The effect to be achieved is to let the bodies drop down one by one.</p>\n<p>The previous code was to set all the bodies DYNAMIC when they were created, when the index increased the position.y increased, this made them ordered in a high column, some bodies crossed through the other after they dropped down, so I choose the plan below.</p>\n<p>The bodies' type are set to STATIC when they are created, and then animationTimer set the body to DYNAMIC one by one so that they keep a certain distance when they fall.</p>\n<p>The problem is that the bodies are sometime fixed on the top (checked, still STATIC type), 1 out of 15-20 on my test. I can't figure out why this is happening, is it a problem of timestep or something else?</p>\n<pre><code>for (i in 0..20) {\n    val bodyDef = BodyDef()\n    bodyDef.type = BodyType.STATIC\n    bodyDef.position = Vec2(3.6f, 0f)\n\n    val shape = PolygonShape()\n    shape.setAsBox(2.0f, 1.0f)\n\n    val fixture = FixtureDef()\n    fixture.shape = shape\n    fixture.friction = 0.2f\n    fixture.restitution = 0.1f\n    fixture.density = 0.6f\n    val body = mWorld!!.createBody(bodyDef)\n    body.isFixedRotation = true\n    body.createFixture(fixture)\n    discBodies.add(body)\n}\n\nvar i = 0\nval animationTimer = Timer()\nanimationTimer.schedule(object: TimerTask() {\n    override fun run() {\n        val body = discBodies[i]\n        body.type = BodyType.DYNAMIC\n        body.isAwake = true\n        body.applyForceToCenter(Vec2(0.0f, 3f))\n        if (i == discBodies.size - 1) {\n            animationTimer.cancel()\n        }\n        i += 1\n    }\n}, 0, 80)\n</code></pre>\n"},{"tags":["java","apache-kafka","persistence"],"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1677768705,"post_id":75616906,"comment_id":133406183,"body_markdown":"You could keep a &quot;last updated&quot; timestamp together with your data in the database, and then have a job delete expired data once in a while. The expiration time should be at least as long as the retention time on Kafka.","body":"You could keep a &quot;last updated&quot; timestamp together with your data in the database, and then have a job delete expired data once in a while. The expiration time should be at least as long as the retention time on Kafka."},{"owner":{"account_id":7985439,"reputation":747,"user_id":6025132,"accept_rate":7,"display_name":"Philippe MESMEUR"},"score":0,"creation_date":1677769242,"post_id":75616906,"comment_id":133406313,"body_markdown":"Thank you for this answer. I have such a solution in mind but my problem is that the &quot;the job&quot; becomes more and more complex when the message is used in many topics, having different retentions\n\nWriting such a job is of course possible but I wanted to know if there were &quot;best practices&quot; for my problem or if there were tools on which I can rely.\n\nOnce again, thank you","body":"Thank you for this answer. I have such a solution in mind but my problem is that the &quot;the job&quot; becomes more and more complex when the message is used in many topics, having different retentions  Writing such a job is of course possible but I wanted to know if there were &quot;best practices&quot; for my problem or if there were tools on which I can rely.  Once again, thank you"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1677770346,"post_id":75616906,"comment_id":133406697,"body_markdown":"You could create the expiration date early and send it with the event on Kafka. Then that expiration date could be propagated to all other topics as well. Each consumer would then need to check the expiration date of the link before trying to fetch the data.","body":"You could create the expiration date early and send it with the event on Kafka. Then that expiration date could be propagated to all other topics as well. Each consumer would then need to check the expiration date of the link before trying to fetch the data."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677782034,"post_id":75616906,"comment_id":133410216,"body_markdown":"You cannot target a single message to delete in a Kafka topic. If that is your goal, then you shouldn&#39;t persist those events in Kafka. Use a different message-queue like SNS that sends only one notification (that is not persistent after sent/consumed), then distribute that deletion event to all systems that do store the data","body":"You cannot target a single message to delete in a Kafka topic. If that is your goal, then you shouldn&#39;t persist those events in Kafka. Use a different message-queue like SNS that sends only one notification (that is not persistent after sent/consumed), then distribute that deletion event to all systems that do store the data"}],"owner":{"account_id":7985439,"reputation":747,"user_id":6025132,"accept_rate":7,"display_name":"Philippe MESMEUR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677767612,"creation_date":1677767612,"question_id":75616906,"body_markdown":"I am designing a project based on Kafka. In this project messages have a payload whose **size  can reach 4Mb to 10Mb** (this is what I considered as *long messages*)\r\n\r\n*I know it is possible to configure Kafka so that it accept such messages but I also know that it is **not recommended** and that it would decrease the overall performance*\r\n\r\nI would prefer to **persist the payload of my messages**... for the moment I don&#39;t know in what, it could be in a Database *(Sybase, Hadoop, ...)*, on the FileSystem *(Webdav, ...)* or anything else\r\n\r\nThe payload of my messages would only contain a way to access the data in the persistence system *(it could be a SQL query, or a URL, a path...)*\r\n\r\n----------\r\n\r\nI found this way of doing rather elegant and perfectly suited to the requirements of my project until I realized that it will also **have to delete the long data from the persistence system** once there are no more messages referencing it\r\n\r\n&gt; I other words:\r\n&gt; - when a message reaches the limit of its retention policy, **Kafka may remove it from its topic**.\r\n&gt; - if the message was referencing data in the persistence system, the data **may not be accessible anymore**\r\n&gt; - so it **could/should be removed**\r\n\r\n\r\nMy question is about the best way to do it? I guess I am not the first one to get this situation and I would like to know the solutions available to solve it:\r\n- is there a way to synchronize the Broker with a Persistence system?\r\n- or is there a way to get messages that were &quot;removed&quot; from a topic?\r\n- or any other solution?\r\n\r\nThanks for helping","title":"Long Messages in Kafka: Persistence and Retention","body":"<p>I am designing a project based on Kafka. In this project messages have a payload whose <strong>size  can reach 4Mb to 10Mb</strong> (this is what I considered as <em>long messages</em>)</p>\n<p><em>I know it is possible to configure Kafka so that it accept such messages but I also know that it is <strong>not recommended</strong> and that it would decrease the overall performance</em></p>\n<p>I would prefer to <strong>persist the payload of my messages</strong>... for the moment I don't know in what, it could be in a Database <em>(Sybase, Hadoop, ...)</em>, on the FileSystem <em>(Webdav, ...)</em> or anything else</p>\n<p>The payload of my messages would only contain a way to access the data in the persistence system <em>(it could be a SQL query, or a URL, a path...)</em></p>\n<hr />\n<p>I found this way of doing rather elegant and perfectly suited to the requirements of my project until I realized that it will also <strong>have to delete the long data from the persistence system</strong> once there are no more messages referencing it</p>\n<blockquote>\n<p>I other words:</p>\n<ul>\n<li>when a message reaches the limit of its retention policy, <strong>Kafka may remove it from its topic</strong>.</li>\n<li>if the message was referencing data in the persistence system, the data <strong>may not be accessible anymore</strong></li>\n<li>so it <strong>could/should be removed</strong></li>\n</ul>\n</blockquote>\n<p>My question is about the best way to do it? I guess I am not the first one to get this situation and I would like to know the solutions available to solve it:</p>\n<ul>\n<li>is there a way to synchronize the Broker with a Persistence system?</li>\n<li>or is there a way to get messages that were &quot;removed&quot; from a topic?</li>\n<li>or any other solution?</li>\n</ul>\n<p>Thanks for helping</p>\n"},{"tags":["java","spring","spring-boot","docker"],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677711493,"creation_date":1677711493,"answer_id":75609831,"question_id":75608969,"body_markdown":"This is a common thing when you start working heavily with SpringBoot\r\n\r\nHere is an example of how I would do it.\r\n\r\n### ./src/main/java/com/example/dockerconfig/DockerConfigApplication.java\r\n```Java\r\npackage com.example.dockerconfig;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\n\r\n@SpringBootApplication\r\npublic class DockerConfigApplication implements CommandLineRunner {\r\n\r\n    @Value(&quot;${other.properties.path}&quot;)\r\n    private String propPath;\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        System.out.println(&quot;Properties Path = &quot; + propPath);\r\n        var externalProps = Files.readString(Path.of(propPath));\r\n        System.out.println(&quot;******************&quot;);\r\n        System.out.println(externalProps);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DockerConfigApplication.class, args);\r\n    }\r\n}\r\n```\r\n### ./src/main/resources/application.properties\r\n```properties\r\nother.properties.path=default.properties\r\n```\r\n### ./default.properties\r\n```properties\r\nprop.for.external.app=foo\r\n```\r\n### ./Dockerfile\r\n```dockerfile\r\nFROM openjdk:19-alpine\r\nVOLUME /tmp\r\nCOPY build/libs/*.jar app.jar\r\nCOPY default.properties .\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\n## Build image\r\n```console\r\n$ docker build -t docker-config .\r\n```\r\n## Run Image with default config\r\n```console\r\n~/work/docker-config &gt;  docker run --rm -it docker-config\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.3)\r\n\r\n2023-03-01T22:47:00.378Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : Starting DockerConfigApplication v0.1 using Java 19-ea with PID 1 (/app.jar started by root in /)\r\n2023-03-01T22:47:00.381Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-01T22:47:01.090Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : Started DockerConfigApplication in 1.256 seconds (process running for 1.705)\r\nProperties Path = default.properties\r\n******************\r\nprop.for.external.app=foo\r\n\r\n~/work/docker-config &gt;\r\n```\r\n\r\n## Override with new file\r\n### ./extern.properties\r\n```properties\r\nprop.for.external.app=somethingdifferent\r\n```\r\n\r\nTo override with this file, we have to mount the file into the container and also override the config property.\r\n\r\n`-v &quot;$(pwd)&quot;/extern.properties:/extern.properties`  makes the file available in the container.\r\n\r\n`-e other.properties.path=extern.properties`  overrides the config value.\r\n```console\r\n~/work/docker-config &gt;  docker run --rm -it -v &quot;$(pwd)&quot;/extern.properties:/extern.properties -e other.properties.path=extern.properties  docker-config\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.3)\r\n\r\n2023-03-01T22:55:57.578Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : Starting DockerConfigApplication v0.1 using Java 19-ea with PID 1 (/app.jar started by root in /)\r\n2023-03-01T22:55:57.580Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-01T22:55:58.298Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : Started DockerConfigApplication in 1.281 seconds (process running for 1.752)\r\nProperties Path = extern.properties\r\n******************\r\nprop.for.external.app=somethingdifferent\r\n\r\n~/work/docker-config &gt;\r\n```","title":"Docker spring-boot environment variable to file: better implementation","body":"<p>This is a common thing when you start working heavily with SpringBoot</p>\n<p>Here is an example of how I would do it.</p>\n<h3>./src/main/java/com/example/dockerconfig/DockerConfigApplication.java</h3>\n<pre><code>package com.example.dockerconfig;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport java.nio.file.Files;\nimport java.nio.file.Path;\n\n@SpringBootApplication\npublic class DockerConfigApplication implements CommandLineRunner {\n\n    @Value(&quot;${other.properties.path}&quot;)\n    private String propPath;\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(&quot;Properties Path = &quot; + propPath);\n        var externalProps = Files.readString(Path.of(propPath));\n        System.out.println(&quot;******************&quot;);\n        System.out.println(externalProps);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DockerConfigApplication.class, args);\n    }\n}\n</code></pre>\n<h3>./src/main/resources/application.properties</h3>\n<pre><code>other.properties.path=default.properties\n</code></pre>\n<h3>./default.properties</h3>\n<pre><code>prop.for.external.app=foo\n</code></pre>\n<h3>./Dockerfile</h3>\n<pre><code>FROM openjdk:19-alpine\nVOLUME /tmp\nCOPY build/libs/*.jar app.jar\nCOPY default.properties .\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<h2>Build image</h2>\n<pre><code>$ docker build -t docker-config .\n</code></pre>\n<h2>Run Image with default config</h2>\n<pre><code>~/work/docker-config &gt;  docker run --rm -it docker-config\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.3)\n\n2023-03-01T22:47:00.378Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : Starting DockerConfigApplication v0.1 using Java 19-ea with PID 1 (/app.jar started by root in /)\n2023-03-01T22:47:00.381Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-01T22:47:01.090Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : Started DockerConfigApplication in 1.256 seconds (process running for 1.705)\nProperties Path = default.properties\n******************\nprop.for.external.app=foo\n\n~/work/docker-config &gt;\n</code></pre>\n<h2>Override with new file</h2>\n<h3>./extern.properties</h3>\n<pre><code>prop.for.external.app=somethingdifferent\n</code></pre>\n<p>To override with this file, we have to mount the file into the container and also override the config property.</p>\n<p><code>-v &quot;$(pwd)&quot;/extern.properties:/extern.properties</code>  makes the file available in the container.</p>\n<p><code>-e other.properties.path=extern.properties</code>  overrides the config value.</p>\n<pre><code>~/work/docker-config &gt;  docker run --rm -it -v &quot;$(pwd)&quot;/extern.properties:/extern.properties -e other.properties.path=extern.properties  docker-config\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.3)\n\n2023-03-01T22:55:57.578Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : Starting DockerConfigApplication v0.1 using Java 19-ea with PID 1 (/app.jar started by root in /)\n2023-03-01T22:55:57.580Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-01T22:55:58.298Z  INFO 1 --- [           main] c.e.d.DockerConfigApplication            : Started DockerConfigApplication in 1.281 seconds (process running for 1.752)\nProperties Path = extern.properties\n******************\nprop.for.external.app=somethingdifferent\n\n~/work/docker-config &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677767181,"creation_date":1677767181,"answer_id":75616806,"question_id":75608969,"body_markdown":"Thanks to egeorge I got it working. \r\n\r\nHow I implemented it was the following:\r\n\r\n````\r\n#create properties volume\r\ndocker volume create propertiesvolume\r\n\r\n#copy propertiesfile and other relevant files to propertiesvolume volume with the help of a temporary container named alpine\r\ndocker run -d --name alpine --mount type=volume,source=propertiesvolume,target=/data alpine\r\ndocker cp ./local-properties-directory alpine:/data\r\ndocker stop alpine\r\ndocker rm alpine\r\n\r\n#run container with propertiesvolume volume\r\ndocker run -d \\\r\n        --name containername \\\r\n        --mount type=volume,source=propertiesvolume,target=/home/properties \\\r\n        -e external.properties.path=/home/properties/propertiesvolume/external.properties \\\r\n        -e spring.profiles.active=ssl \\\r\n        -p8443:8443 \\\r\n        image:1.0.0\r\n````","title":"Docker spring-boot environment variable to file: better implementation","body":"<p>Thanks to egeorge I got it working.</p>\n<p>How I implemented it was the following:</p>\n<pre><code>#create properties volume\ndocker volume create propertiesvolume\n\n#copy propertiesfile and other relevant files to propertiesvolume volume with the help of a temporary container named alpine\ndocker run -d --name alpine --mount type=volume,source=propertiesvolume,target=/data alpine\ndocker cp ./local-properties-directory alpine:/data\ndocker stop alpine\ndocker rm alpine\n\n#run container with propertiesvolume volume\ndocker run -d \\\n        --name containername \\\n        --mount type=volume,source=propertiesvolume,target=/home/properties \\\n        -e external.properties.path=/home/properties/propertiesvolume/external.properties \\\n        -e spring.profiles.active=ssl \\\n        -p8443:8443 \\\n        image:1.0.0\n</code></pre>\n"}],"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75609831,"answer_count":2,"score":0,"last_activity_date":1677767181,"creation_date":1677704488,"question_id":75608969,"body_markdown":"I have a spring boot application, which picks up a series of properties from a file, and which path is set as an environment variable. So when I start the spring boot application, I pass the following variable:\r\n\r\n```\r\n--other.properties.path=external/directories/path/otherpropertiesfile.properties\r\n```\r\n\r\nThe reason why we use a separate properties file, other than the application properties, is because the spring boot application relies on an underlying (different) application, with a separate properties file parser.\r\n\r\nNow that we have moved the spring boot application to a docker image, we would like to pass this path in the environment variables of the docker container. What is currently working, is setting the path at the creation of the container, and then copying the necessary files into the container. After restarting the container, the property file is found and the application runs properly.\r\n\r\nI am wondering if there is a better solution, making the external properties file (which is thus not the application.properties) file, available to the docker container, and reading the properties files at startup. \r\n\r\nNote: it doesn&#39;t make sense to pack the external properties file at the creation of the image. The properties file needs to be changed easily and regularly, and the different properties included in it are each time different (e.g. containing an encryption key). The best that we could do is copy a template.\r\n\r\nThx a lot!","title":"Docker spring-boot environment variable to file: better implementation","body":"<p>I have a spring boot application, which picks up a series of properties from a file, and which path is set as an environment variable. So when I start the spring boot application, I pass the following variable:</p>\n<pre><code>--other.properties.path=external/directories/path/otherpropertiesfile.properties\n</code></pre>\n<p>The reason why we use a separate properties file, other than the application properties, is because the spring boot application relies on an underlying (different) application, with a separate properties file parser.</p>\n<p>Now that we have moved the spring boot application to a docker image, we would like to pass this path in the environment variables of the docker container. What is currently working, is setting the path at the creation of the container, and then copying the necessary files into the container. After restarting the container, the property file is found and the application runs properly.</p>\n<p>I am wondering if there is a better solution, making the external properties file (which is thus not the application.properties) file, available to the docker container, and reading the properties files at startup.</p>\n<p>Note: it doesn't make sense to pack the external properties file at the creation of the image. The properties file needs to be changed easily and regularly, and the different properties included in it are each time different (e.g. containing an encryption key). The best that we could do is copy a template.</p>\n<p>Thx a lot!</p>\n"},{"tags":["java","url"],"answers":[{"comments":[{"owner":{"account_id":127195,"reputation":2075,"user_id":324204,"accept_rate":73,"display_name":"Sogartar"},"score":2,"creation_date":1358513799,"post_id":10159300,"comment_id":20033978,"body_markdown":"On Windows this introduces back slashes.","body":"On Windows this introduces back slashes."}],"tags":[],"owner":{"account_id":1252167,"reputation":5353,"user_id":1212363,"accept_rate":82,"display_name":"ulmangt"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1334460817,"creation_date":1334460817,"answer_id":10159300,"question_id":10159186,"body_markdown":"I don&#39;t know of library function to do this in one step. However, the following (admittedly cumbersome) bit of code I believe accomplishes what you&#39;re after (and you could wrap this up in your own utility function):\r\n\r\n    import java.io.File;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    public class URLTest\r\n    {\r\n    \tpublic static void main( String[] args ) throws MalformedURLException\r\n    \t{\r\n    \t\t// make a test url\r\n    \t\tURL url = new URL( &quot;http://stackoverflow.com/questions/10159186/how-to-get-parent-url-in-java&quot; );\r\n    \r\n    \t\t// represent the path portion of the URL as a file\r\n    \t\tFile file = new File( url.getPath( ) );\r\n    \r\n    \t\t// get the parent of the file\r\n    \t\tString parentPath = file.getParent( );\r\n    \r\n    \t\t// construct a new url with the parent path\r\n    \t\tURL parentUrl = new URL( url.getProtocol( ), url.getHost( ), url.getPort( ), parentPath );\r\n    \r\n    \t\tSystem.out.println( &quot;Child: &quot; + url );\r\n    \t\tSystem.out.println( &quot;Parent: &quot; + parentUrl );\r\n    \t}\r\n    }\r\n\r\n","title":"How to get parent URL in Java?","body":"<p>I don't know of library function to do this in one step. However, the following (admittedly cumbersome) bit of code I believe accomplishes what you're after (and you could wrap this up in your own utility function):</p>\n\n<pre><code>import java.io.File;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class URLTest\n{\n    public static void main( String[] args ) throws MalformedURLException\n    {\n        // make a test url\n        URL url = new URL( \"http://stackoverflow.com/questions/10159186/how-to-get-parent-url-in-java\" );\n\n        // represent the path portion of the URL as a file\n        File file = new File( url.getPath( ) );\n\n        // get the parent of the file\n        String parentPath = file.getParent( );\n\n        // construct a new url with the parent path\n        URL parentUrl = new URL( url.getProtocol( ), url.getHost( ), url.getPort( ), parentPath );\n\n        System.out.println( \"Child: \" + url );\n        System.out.println( \"Parent: \" + parentUrl );\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1726190,"reputation":388,"user_id":1580785,"accept_rate":83,"display_name":"David"},"score":1,"creation_date":1382297151,"post_id":10159309,"comment_id":28893830,"body_markdown":"URI.resolve is also great for more complex operations... like uri.resolve(&quot;dir/file.txt&quot;)","body":"URI.resolve is also great for more complex operations... like uri.resolve(&quot;dir/file.txt&quot;)"},{"owner":{"account_id":1250250,"reputation":699,"user_id":1210793,"display_name":"Dr. Daniel Thommes"},"score":2,"creation_date":1475351568,"post_id":10159309,"comment_id":66913113,"body_markdown":"This does not seem to work for URIs with the protocol &quot;jar:file:...&quot;, which occurs with resources that are located in JAR files.","body":"This does not seem to work for URIs with the protocol &quot;jar:file:...&quot;, which occurs with resources that are located in JAR files."}],"tags":[],"owner":{"account_id":946395,"reputation":7030,"user_id":973580,"display_name":"ɲeuroburɳ"},"comment_count":2,"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1599138217,"creation_date":1334460928,"answer_id":10159309,"question_id":10159186,"body_markdown":"Shortest snippet of code I can think of is this:\r\n\r\n    URI uri = new URI(&quot;http://www.stackoverflow.com/path/to/something&quot;);\r\n    \r\n    URI parent = uri.getPath().endsWith(&quot;/&quot;) ? uri.resolve(&quot;..&quot;) : uri.resolve(&quot;.&quot;);\r\n","title":"How to get parent URL in Java?","body":"<p>Shortest snippet of code I can think of is this:</p>\n<pre><code>URI uri = new URI(&quot;http://www.stackoverflow.com/path/to/something&quot;);\n\nURI parent = uri.getPath().endsWith(&quot;/&quot;) ? uri.resolve(&quot;..&quot;) : uri.resolve(&quot;.&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3112410,"reputation":2023,"user_id":2633906,"display_name":"Tomasz Szymulewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490007200,"creation_date":1490005794,"answer_id":42901239,"question_id":10159186,"body_markdown":"Here is very simple solution which was the best approach in my use case:\r\n\r\n    private String getParent(String resourcePath) {\r\n        int index = resourcePath.lastIndexOf(&#39;/&#39;);\r\n        if (index &gt; 0) {\r\n            return resourcePath.substring(0, index);\r\n        }\r\n        return &quot;/&quot;;\r\n    }\r\nI created simple function, I was inspired by the code of `File::getParent`. In my code there is no issue with back slashes on Windows. I assume that `resourcePath` is resource part of URL, without protocol, domain and port number. (e.g. `/articles/sport/atricle_nr_1234` )","title":"How to get parent URL in Java?","body":"<p>Here is very simple solution which was the best approach in my use case:</p>\n\n<pre><code>private String getParent(String resourcePath) {\n    int index = resourcePath.lastIndexOf('/');\n    if (index &gt; 0) {\n        return resourcePath.substring(0, index);\n    }\n    return \"/\";\n}\n</code></pre>\n\n<p>I created simple function, I was inspired by the code of <code>File::getParent</code>. In my code there is no issue with back slashes on Windows. I assume that <code>resourcePath</code> is resource part of URL, without protocol, domain and port number. (e.g. <code>/articles/sport/atricle_nr_1234</code> )</p>\n"},{"tags":[],"owner":{"account_id":8328700,"reputation":168,"user_id":7676653,"display_name":"Karan Arora"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590733159,"creation_date":1590732671,"answer_id":62079713,"question_id":10159186,"body_markdown":"The simple solution offered by Guava library.\r\n\r\n***Code:*** \r\n\r\n    URL url = new URL(&quot;https://www.ibm.watson.co.uk&quot;);\r\n    String host = url.getHost();\r\n\r\n    InternetDomainName parent = InternetDomainName.from(host).parent(); // returns ibm.watson.co.uk\r\n    System.out.println(&quot;Immediate ancestor: &quot;+parent);\r\n\r\n\r\n    ImmutableList&lt;String&gt; parts = InternetDomainName.from(host).parts(); \r\n    System.out.println(&quot;Individual components:  &quot;+parts);\r\n\r\n\r\n    InternetDomainName name = InternetDomainName.from(host).topPrivateDomain(); // watson.co.uk\r\n    System.out.println(&quot;Top private domain - &quot; + name);\r\n\r\n\r\n***Output:***\r\n\r\n    Immediate ancestor: ibm.watson.co.uk\r\n\r\n    Individual components:  [www, ibm, watson, co, uk]\r\n\r\n    Top private domain - watson.co.uk\r\n\r\n\r\nFor reference: \r\nhttps://guava.dev/releases/snapshot/api/docs/com/google/common/net/InternetDomainName.html\r\n\r\n\r\nDependency required:\r\n\r\nhttps://mvnrepository.com/artifact/com.google.guava/guava \r\n\r\nI&#39;m using version 19.0\r\n\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd, many more related functionalities are provided by this class **InternetDomainName**.","title":"How to get parent URL in Java?","body":"<p>The simple solution offered by Guava library.</p>\n\n<p><strong><em>Code:</em></strong> </p>\n\n<pre><code>URL url = new URL(\"https://www.ibm.watson.co.uk\");\nString host = url.getHost();\n\nInternetDomainName parent = InternetDomainName.from(host).parent(); // returns ibm.watson.co.uk\nSystem.out.println(\"Immediate ancestor: \"+parent);\n\n\nImmutableList&lt;String&gt; parts = InternetDomainName.from(host).parts(); \nSystem.out.println(\"Individual components:  \"+parts);\n\n\nInternetDomainName name = InternetDomainName.from(host).topPrivateDomain(); // watson.co.uk\nSystem.out.println(\"Top private domain - \" + name);\n</code></pre>\n\n<p><strong><em>Output:</em></strong></p>\n\n<pre><code>Immediate ancestor: ibm.watson.co.uk\n\nIndividual components:  [www, ibm, watson, co, uk]\n\nTop private domain - watson.co.uk\n</code></pre>\n\n<p>For reference: \n<a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/net/InternetDomainName.html\" rel=\"nofollow noreferrer\">https://guava.dev/releases/snapshot/api/docs/com/google/common/net/InternetDomainName.html</a></p>\n\n<p>Dependency required:</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.google.guava/guava\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.guava/guava</a> </p>\n\n<p>I'm using version 19.0</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And, many more related functionalities are provided by this class <strong>InternetDomainName</strong>.</p>\n"},{"tags":[],"owner":{"account_id":5115366,"reputation":580,"user_id":4104551,"accept_rate":83,"display_name":"Akumaburn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650219841,"creation_date":1643756490,"answer_id":70948688,"question_id":10159186,"body_markdown":"Using java.nio.file.Paths this can be done in a single line.\r\n\r\nEg:\r\n\r\n    String parent = Paths.get(&quot;https://stackoverflow.com/questions/10159186/how-to-get-parent-url-in-java/&quot;).getParent().toString();\r\n    System.out.println(parent);\r\n\r\nWill print:\r\n\r\n    https:/stackoverflow.com/questions/10159186\r\n\r\nKeep in mind the https:/ is missing a slash so you can add that in with another replace:\r\n\r\n    String parent = Paths.get(&quot;https://stackoverflow.com/questions/10159186/how-to-get-parent-url-in-java/&quot;).getParent().toString().replace(&quot;https:/&quot;,&quot;https://&quot;);\r\n\r\n    System.out.println(parent);\r\n\r\nWill print:\r\n\r\n    https://stackoverflow.com/questions/10159186","title":"How to get parent URL in Java?","body":"<p>Using java.nio.file.Paths this can be done in a single line.</p>\n<p>Eg:</p>\n<pre><code>String parent = Paths.get(&quot;https://stackoverflow.com/questions/10159186/how-to-get-parent-url-in-java/&quot;).getParent().toString();\nSystem.out.println(parent);\n</code></pre>\n<p>Will print:</p>\n<pre><code>https:/stackoverflow.com/questions/10159186\n</code></pre>\n<p>Keep in mind the https:/ is missing a slash so you can add that in with another replace:</p>\n<pre><code>String parent = Paths.get(&quot;https://stackoverflow.com/questions/10159186/how-to-get-parent-url-in-java/&quot;).getParent().toString().replace(&quot;https:/&quot;,&quot;https://&quot;);\n\nSystem.out.println(parent);\n</code></pre>\n<p>Will print:</p>\n<pre><code>https://stackoverflow.com/questions/10159186\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24942797,"reputation":1,"user_id":18808448,"display_name":"Cisco Serata"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649995180,"creation_date":1649987002,"answer_id":71879225,"question_id":10159186,"body_markdown":"Much more concise way\r\n```java\r\nimport java.nio.file.Paths;\r\nURI child=....;\r\nURI parent=Paths.get(child).getParent().toUri();\r\n```\r\nThat&#39;s it..","title":"How to get parent URL in Java?","body":"<p>Much more concise way</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Paths;\nURI child=....;\nURI parent=Paths.get(child).getParent().toUri();\n</code></pre>\n<p>That's it..</p>\n"},{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677767159,"creation_date":1677767159,"answer_id":75616799,"question_id":10159186,"body_markdown":"If you have a `javax.ws.rs.core.UriBuilder` :\r\n\r\n    URI location;\r\n    UriBuilder.fromUri(location).path(&quot;..&quot;).build().normalize();\r\n\r\n","title":"How to get parent URL in Java?","body":"<p>If you have a <code>javax.ws.rs.core.UriBuilder</code> :</p>\n<pre><code>URI location;\nUriBuilder.fromUri(location).path(&quot;..&quot;).build().normalize();\n</code></pre>\n"}],"owner":{"account_id":89442,"reputation":84096,"user_id":246776,"accept_rate":75,"display_name":"eonil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19527,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":10159309,"answer_count":7,"score":16,"last_activity_date":1677767159,"creation_date":1334458790,"question_id":10159186,"body_markdown":"In Objective-C I use `-[NSURL URLByDeletingLastPathComponent]` to get parent URL. What&#39;s the equivalent of this in Java?","title":"How to get parent URL in Java?","body":"<p>In Objective-C I use <code>-[NSURL URLByDeletingLastPathComponent]</code> to get parent URL. What's the equivalent of this in Java?</p>\n"},{"tags":["java","spring-boot","spring-kafka","spring-cloud-stream","spring-cloud-stream-binder"],"owner":{"account_id":13388248,"reputation":31,"user_id":10380850,"display_name":"guttosm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677767107,"creation_date":1677766700,"question_id":75616695,"body_markdown":"I’m developing a Spring Boot Application to gain more Spring Cloud Stream knowledge. Basically, I want to send/receive messages from Kafka Broker. I previously built an application using Spring Kafka and the Spring Cloud Stream. Still, I use annotation configuration, like using @Output, @Input, and @Enablebind. I’m having problems migrating this into a more updated version that is based on Functions, Defining Beans using Consumer, Supplier, and StreamBridge. I know how to configure the application YML, but I’m trying to develop a generic method in my application that can send any Object(DTO) and at the RunTime knows which topic(Channel) the message needs to be sent. Still, I don’t know how to call the Supplier and if the Supplier approach is It the best option for me. In my scenario, I receive from a RestController a Payload. On my service layer, I do some data validation, and if everything It&#39;s ok, I send one DTO as a message to kafka-topic.\r\n\r\n\r\napplication.yml\r\n```\r\nspring:\r\n  application:\r\n    name: cloud-stream-study\r\n  cloud:\r\n    function:\r\n      definition: sendEvent;\r\n    stream:\r\n      bindings:\r\n        sendEvent-out-0:\r\n          destination: tax-calculation\r\n          contentType: application/json\r\n          producer:\r\n            partition-count: 1\r\n        update-user-info-out-0:\r\n          destination: user-registration\r\n          contentType: application/json\r\n          producer:\r\n            partition-count: 1\r\n      kafka:\r\n        binder:\r\n          auto-create-topics: false\r\n          auto-add-partitions: false\r\n          brokers: ${KAFKA_HOST_IP}\r\n          replication-factor: 1\r\n          producer-properties:\r\n            value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n```\r\n\r\nMy class using StreamBrigde:\r\n\r\n\r\n```\r\n@Service\r\npublic class CloudStream {\r\n\r\n    private final Map&lt;Class&lt;?&gt;, Function&lt;Object, String&gt;&gt; topicResolvers = new HashMap&lt;&gt;();\r\n\r\n    @Autowired\r\n    private StreamBridge streamBridge;\r\n\r\n    public CloudStream() {\r\n        topicResolvers.put(TaxDTO.class, obj -&gt; &quot;tax-calculation&quot;);\r\n    }\r\n\r\n    public &lt;T&gt; void produce(T message) {\r\n        Function&lt;Object, String&gt; topicResolver = topicResolvers.get(message.getClass());\r\n        if (topicResolver == null) {\r\n            throw new IllegalArgumentException(&quot;No topic resolver found for message type &quot; + message.getClass());\r\n        }\r\n        String topic = topicResolver.apply(message);\r\n        streamBridge.send(topic, message);\r\n    }\r\n\r\n}\r\n```\r\n\r\nOn my Service layer I called CloudStream like this: \r\n\r\n\r\n```\r\ncloudStream.produce(tax);\r\n```\r\n\r\nWorks just fine.\r\n\r\n\r\nMy class with Function:\r\n\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\npublic class KafkaConfiguration {\r\n\r\n    @Bean\r\n    public Function&lt;Message&lt;?&gt;, Message&lt;?&gt;&gt; produceMessage() {\r\n        return event -&gt; MessageBuilder\r\n                .withPayload(event.getPayload())\r\n                .build();\r\n    }\r\n\r\n}\r\n\r\n```\r\nThis is where it is not clear to me because I want a Function that sends any object, and how do I call this, Am I not supposed to define a parameter on this function ?\r\n\r\nAlso, every time my spring application run&#39;s creates a topic automatically, even if I set it to auto-create-topics:  false into my application.yml. And I need to have a Function for each topic that I need to produce a message.","title":"Spring Cloud Stream with Kafka Binder","body":"<p>I’m developing a Spring Boot Application to gain more Spring Cloud Stream knowledge. Basically, I want to send/receive messages from Kafka Broker. I previously built an application using Spring Kafka and the Spring Cloud Stream. Still, I use annotation configuration, like using @Output, @Input, and @Enablebind. I’m having problems migrating this into a more updated version that is based on Functions, Defining Beans using Consumer, Supplier, and StreamBridge. I know how to configure the application YML, but I’m trying to develop a generic method in my application that can send any Object(DTO) and at the RunTime knows which topic(Channel) the message needs to be sent. Still, I don’t know how to call the Supplier and if the Supplier approach is It the best option for me. In my scenario, I receive from a RestController a Payload. On my service layer, I do some data validation, and if everything It's ok, I send one DTO as a message to kafka-topic.</p>\n<p>application.yml</p>\n<pre><code>spring:\n  application:\n    name: cloud-stream-study\n  cloud:\n    function:\n      definition: sendEvent;\n    stream:\n      bindings:\n        sendEvent-out-0:\n          destination: tax-calculation\n          contentType: application/json\n          producer:\n            partition-count: 1\n        update-user-info-out-0:\n          destination: user-registration\n          contentType: application/json\n          producer:\n            partition-count: 1\n      kafka:\n        binder:\n          auto-create-topics: false\n          auto-add-partitions: false\n          brokers: ${KAFKA_HOST_IP}\n          replication-factor: 1\n          producer-properties:\n            value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n</code></pre>\n<p>My class using StreamBrigde:</p>\n<pre><code>@Service\npublic class CloudStream {\n\n    private final Map&lt;Class&lt;?&gt;, Function&lt;Object, String&gt;&gt; topicResolvers = new HashMap&lt;&gt;();\n\n    @Autowired\n    private StreamBridge streamBridge;\n\n    public CloudStream() {\n        topicResolvers.put(TaxDTO.class, obj -&gt; &quot;tax-calculation&quot;);\n    }\n\n    public &lt;T&gt; void produce(T message) {\n        Function&lt;Object, String&gt; topicResolver = topicResolvers.get(message.getClass());\n        if (topicResolver == null) {\n            throw new IllegalArgumentException(&quot;No topic resolver found for message type &quot; + message.getClass());\n        }\n        String topic = topicResolver.apply(message);\n        streamBridge.send(topic, message);\n    }\n\n}\n</code></pre>\n<p>On my Service layer I called CloudStream like this:</p>\n<pre><code>cloudStream.produce(tax);\n</code></pre>\n<p>Works just fine.</p>\n<p>My class with Function:</p>\n<pre><code>@Slf4j\n@Configuration\npublic class KafkaConfiguration {\n\n    @Bean\n    public Function&lt;Message&lt;?&gt;, Message&lt;?&gt;&gt; produceMessage() {\n        return event -&gt; MessageBuilder\n                .withPayload(event.getPayload())\n                .build();\n    }\n\n}\n\n</code></pre>\n<p>This is where it is not clear to me because I want a Function that sends any object, and how do I call this, Am I not supposed to define a parameter on this function ?</p>\n<p>Also, every time my spring application run's creates a topic automatically, even if I set it to auto-create-topics:  false into my application.yml. And I need to have a Function for each topic that I need to produce a message.</p>\n"},{"tags":["java","mysql","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677764801,"post_id":75616252,"comment_id":133404896,"body_markdown":"do you start off with a SpringApplication annotated class?","body":"do you start off with a SpringApplication annotated class?"},{"owner":{"account_id":24582100,"reputation":1,"user_id":18487067,"display_name":"Badas"},"score":0,"creation_date":1677765199,"post_id":75616252,"comment_id":133405023,"body_markdown":"Yes .. \npackage com.badas.todo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ToDoApp4TryApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(ToDoApp4TryApplication.class, args);\n\t}\n\n}","body":"Yes ..  package com.badas.todo;  import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication&zwnj;&#8203;;  @SpringBootApplication public class ToDoApp4TryApplication {  \tpublic static void main(String[] args) { \t\tSpringApplication.run(ToDoApp4TryApplication.class, args); \t}  }"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1677765495,"post_id":75616252,"comment_id":133405114,"body_markdown":"don&#39;t put code in comments, that&#39;s beyond unreadable. edit your question and add it in there","body":"don&#39;t put code in comments, that&#39;s beyond unreadable. edit your question and add it in there"}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677767092,"creation_date":1677767092,"answer_id":75616782,"question_id":75616252,"body_markdown":"SpringBoot 101: SpringBoot scans for components starting from the directory where the class annotated with `@SpringBootApplication` is and going from that directory down. **IT DOES NOT LOOK FOR SIBLING OR PARENT directories** (unless you tell him explicitly the package to look for with `@ComponentScan` annotation)\r\n\r\nSolution: put you `ToDoApp4TryApplication` class in the top directory, and all components in child directories.\r\n\r\n---\r\n\r\nAlternatively use `@ComponentScan` under `@SpringBootApplicaiton` annotation to specify packages for components:\r\n\r\n`@ComponentScan(basePackages = {&quot;com.foo.bar&quot;, &quot;com.foo.car&quot;})`","title":"Spring main class not scanning components","body":"<p>SpringBoot 101: SpringBoot scans for components starting from the directory where the class annotated with <code>@SpringBootApplication</code> is and going from that directory down. <strong>IT DOES NOT LOOK FOR SIBLING OR PARENT directories</strong> (unless you tell him explicitly the package to look for with <code>@ComponentScan</code> annotation)</p>\n<p>Solution: put you <code>ToDoApp4TryApplication</code> class in the top directory, and all components in child directories.</p>\n<hr />\n<p>Alternatively use <code>@ComponentScan</code> under <code>@SpringBootApplicaiton</code> annotation to specify packages for components:</p>\n<p><code>@ComponentScan(basePackages = {&quot;com.foo.bar&quot;, &quot;com.foo.car&quot;})</code></p>\n"}],"owner":{"account_id":24582100,"reputation":1,"user_id":18487067,"display_name":"Badas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677767092,"creation_date":1677764575,"question_id":75616252,"body_markdown":"Im having the same problem in every project that i start, i&#39;ve checked my project structure, recreated, using Spring intlizr, STS4, i&#39;ve checked application.properties configuration, dependencies, looked thousands of stack overflow questions, asked to GTP, prayed, but NOTHING work, im about to give up Spring\r\n\r\nmy components appearently arent being scanned\r\n\r\napplication.properties :\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/todos?useSSL=false\r\nspring.datasource.username = user\r\nspring.datasource.password = pass\r\n\r\n## Hibernate Properties\r\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n# Hibernate ddl auto (create, create-drop, validate, update)\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.generate-ddl=true\r\n\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=TRACE\r\n\r\n```\r\n\r\nEntity : \r\n\r\n```\r\npackage com.badas.todo.models;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;taks&quot;)\r\npublic class Tasks {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate String task;\r\n\t\r\n\t@Column\r\n\tprivate Boolean completed;\r\n\t\r\n\t@Column\r\n\tprivate String comment;\r\n\r\n\tpublic Tasks(String task, Boolean completed, String comment) {\r\n\t\tsuper();\r\n\t\tthis.task = task;\r\n\t\tthis.completed = completed;\r\n\t\tthis.comment = comment;\r\n\t}\r\n\r\n\tpublic Tasks() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic String getTask() {\r\n\t\treturn task;\r\n\t}\r\n\r\n\tpublic void setTask(String task) {\r\n\t\tthis.task = task;\r\n\t}\r\n\r\n\tpublic Boolean getCompleted() {\r\n\t\treturn completed;\r\n\t}\r\n\r\n\tpublic void setCompleted(Boolean completed) {\r\n\t\tthis.completed = completed;\r\n\t}\r\n\r\n\tpublic String getComment() {\r\n\t\treturn comment;\r\n\t}\r\n\r\n\tpublic void setComment(String comment) {\r\n\t\tthis.comment = comment;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nstructure :\r\n\r\n[enter image description here](https://i.stack.imgur.com/dUsai.png)\r\n\r\n\r\nIm trying to create a table but even if i try to broke my code, by doing something like \r\n\r\npublic Task(){ \r\n}\r\n\r\nto \r\n\r\npublic TaskASLKFHASDFUOPGIJEHABSIFUPAHSBFUOIASHBFOIUASHBFouaidgf(AAAAAAAAAAA){ \r\n}\r\n\r\nSpring server still running without broke","title":"Spring main class not scanning components","body":"<p>Im having the same problem in every project that i start, i've checked my project structure, recreated, using Spring intlizr, STS4, i've checked application.properties configuration, dependencies, looked thousands of stack overflow questions, asked to GTP, prayed, but NOTHING work, im about to give up Spring</p>\n<p>my components appearently arent being scanned</p>\n<p>application.properties :</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/todos?useSSL=false\nspring.datasource.username = user\nspring.datasource.password = pass\n\n## Hibernate Properties\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n\n# Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.generate-ddl=true\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\n\n</code></pre>\n<p>Entity :</p>\n<pre><code>package com.badas.todo.models;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;taks&quot;)\npublic class Tasks {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private String task;\n    \n    @Column\n    private Boolean completed;\n    \n    @Column\n    private String comment;\n\n    public Tasks(String task, Boolean completed, String comment) {\n        super();\n        this.task = task;\n        this.completed = completed;\n        this.comment = comment;\n    }\n\n    public Tasks() {\n        super();\n    }\n\n    public String getTask() {\n        return task;\n    }\n\n    public void setTask(String task) {\n        this.task = task;\n    }\n\n    public Boolean getCompleted() {\n        return completed;\n    }\n\n    public void setCompleted(Boolean completed) {\n        this.completed = completed;\n    }\n\n    public String getComment() {\n        return comment;\n    }\n\n    public void setComment(String comment) {\n        this.comment = comment;\n    }\n    \n    \n    \n}\n\n</code></pre>\n<p>structure :</p>\n<p><a href=\"https://i.stack.imgur.com/dUsai.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Im trying to create a table but even if i try to broke my code, by doing something like</p>\n<p>public Task(){\n}</p>\n<p>to</p>\n<p>public TaskASLKFHASDFUOPGIJEHABSIFUPAHSBFUOIASHBFOIUASHBFouaidgf(AAAAAAAAAAA){\n}</p>\n<p>Spring server still running without broke</p>\n"},{"tags":["java","copy-constructor"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677732263,"post_id":75611054,"comment_id":133397184,"body_markdown":"I don&#39;t see any array in the [pseudo] code in your question. Can you post a more concrete example? Something like a [mcve]?","body":"I don&#39;t see any array in the [pseudo] code in your question. Can you post a more concrete example? Something like a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":19304267,"reputation":21,"user_id":14111459,"display_name":"Gray"},"score":0,"creation_date":1677732812,"post_id":75611054,"comment_id":133397239,"body_markdown":"@Abra Sorry about that! I added the current version I am using to (try and) call the copy constructor.","body":"@Abra Sorry about that! I added the current version I am using to (try and) call the copy constructor."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677733637,"post_id":75611054,"comment_id":133397348,"body_markdown":"Maybe try [reflection](https://docs.oracle.com/javase/tutorial/reflect/index.html)?","body":"Maybe try <a href=\"https://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"nofollow noreferrer\">reflection</a>?"}],"answers":[{"comments":[{"owner":{"account_id":19304267,"reputation":21,"user_id":14111459,"display_name":"Gray"},"score":0,"creation_date":1677773919,"post_id":75616733,"comment_id":133407881,"body_markdown":"Very detailed answer, I appreciate it. If I consider the restrictions that I cannot typecast anywhere (be it in the driver or in the Building class), import any foreign Classes, nor use the Cloneable interface. Would it still be possible?","body":"Very detailed answer, I appreciate it. If I consider the restrictions that I cannot typecast anywhere (be it in the driver or in the Building class), import any foreign Classes, nor use the Cloneable interface. Would it still be possible?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1677801711,"post_id":75616733,"comment_id":133414416,"body_markdown":"No.  Not possible.  Even the reflection approach requires type casting, and switch patterns are a fancy form of `instanceof` + type cast.  (Though I guess it depends on exactly what you mean by &quot;typecast&quot;; i.e. whether you are talking about the syntax ... or what the syntax causes to happen.)","body":"No.  Not possible.  Even the reflection approach requires type casting, and switch patterns are a fancy form of <code>instanceof</code> + type cast.  (Though I guess it depends on exactly what you mean by &quot;typecast&quot;; i.e. whether you are talking about the syntax ... or what the syntax causes to happen.)"},{"owner":{"account_id":19304267,"reputation":21,"user_id":14111459,"display_name":"Gray"},"score":0,"creation_date":1677810328,"post_id":75616733,"comment_id":133415479,"body_markdown":"By typecast, I&#39;m referring to syntax itself. I am restricted in finding the actual type of the object being copied. Though it is much clearer now thanks to you, I wasn&#39;t sure what sort of hidden solution there was (if any). Thanks again!","body":"By typecast, I&#39;m referring to syntax itself. I am restricted in finding the actual type of the object being copied. Though it is much clearer now thanks to you, I wasn&#39;t sure what sort of hidden solution there was (if any). Thanks again!"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677766878,"creation_date":1677766878,"answer_id":75616733,"question_id":75611054,"body_markdown":"Apparently, you have a `Building[]` that contains various kinds of `Building` subtype.  And you want to create a deep copy.\r\n\r\nYou cannot do this by implementing a `Building` copy constructor.\r\n\r\nWhy?  \r\n\r\nBecause a constructor for `Building` can *only* construct a `Building` instance.  It *cannot* construct a `House` instance ... or `Hotel` or a `Church` or ...\r\n\r\n------------------------\r\n\r\nHowever, there are various alternatives that *will* work:\r\n\r\n  - Implement `Cloneable` in `Building` and each of its subtypes.\r\n\r\n  - Implement a *factory* method or class for creating a `Building` from another one.  Have it use `instanceof` (or Java 18+ pattern switches) to discriminate the subclasses and then use appropriate constructors for each subtype; e.g:\r\n\r\n        if (building instanceof House) {\r\n            return new House((House) building);\r\n        } else if (building instanceof Hotel) {\r\n            return new Hotel((Hotel) building);\r\n        } else ...\r\n\r\n  - Use reflection.  It is complicated, but you don&#39;t need to write code for each individual class or subclass in the hierarchy.\r\n\r\nEach alternative has pro&#39;s and con&#39;s, and we can&#39;t advise which one is best for each use-case.  Certainly, none of them are perfect for all use-cases.\r\n","title":"How to use a copy constructor to create a deep-copy of an Object array&#39;s contents without implementing cloneable() or arraycopy()?","body":"<p>Apparently, you have a <code>Building[]</code> that contains various kinds of <code>Building</code> subtype.  And you want to create a deep copy.</p>\n<p>You cannot do this by implementing a <code>Building</code> copy constructor.</p>\n<p>Why?</p>\n<p>Because a constructor for <code>Building</code> can <em>only</em> construct a <code>Building</code> instance.  It <em>cannot</em> construct a <code>House</code> instance ... or <code>Hotel</code> or a <code>Church</code> or ...</p>\n<hr />\n<p>However, there are various alternatives that <em>will</em> work:</p>\n<ul>\n<li><p>Implement <code>Cloneable</code> in <code>Building</code> and each of its subtypes.</p>\n</li>\n<li><p>Implement a <em>factory</em> method or class for creating a <code>Building</code> from another one.  Have it use <code>instanceof</code> (or Java 18+ pattern switches) to discriminate the subclasses and then use appropriate constructors for each subtype; e.g:</p>\n<pre><code>if (building instanceof House) {\n    return new House((House) building);\n} else if (building instanceof Hotel) {\n    return new Hotel((Hotel) building);\n} else ...\n</code></pre>\n</li>\n<li><p>Use reflection.  It is complicated, but you don't need to write code for each individual class or subclass in the hierarchy.</p>\n</li>\n</ul>\n<p>Each alternative has pro's and con's, and we can't advise which one is best for each use-case.  Certainly, none of them are perfect for all use-cases.</p>\n"}],"owner":{"account_id":19304267,"reputation":21,"user_id":14111459,"display_name":"Gray"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677766878,"creation_date":1677727500,"question_id":75611054,"body_markdown":"I need to create a copy of an array&#39;s contents, which are made up of various Objects of different types. However, I cannot use explicit casting to check the type of the Object, nor use the cloneable interface/arraycopy method. \r\n\r\n\r\n\r\nTo start, I created a superclass that all other classes extend from, but I&#39;m not sure how I would go about using the specific classes&#39; copy constructors. My initial attempt was: \r\n```\r\npublic Building(Object obj) {\r\n    try {\r\n        this.windows= ((House)obj).windows; \r\n        this.basement = ((House)obj).basement; \r\n    } catch (ClassCastException ex) {\r\n        this.windows = 0; \r\n        this.basement = false;\r\n    }\r\n    ... (various other try-catch blocks here)\r\n}\r\n```\r\nWith the driver being:\r\n```\r\npublic static Building[] copyBuildings(Building[] objects) {\r\n\r\n    Building[] objList = new Building[objects.length];\r\n        \r\n    for (int i = 0; i &lt; objects.length; i++) {    \r\n        objList[i] = new Building(objects[i]);\r\n    }\r\n        \r\n    return objList; \r\n}\r\n```\r\n\r\nBut, this doesn&#39;t properly call the subclass&#39;s copy constructor as I intended it to do, because it doesn&#39;t refer to them at all. I&#39;m not sure how to continue.\r\n\r\nBearing in mind the lack of explicit typecasting, if I do not know the explicit type of an object during runtime, is it possible to call an Object&#39;s copy constructor (do I need to alter my current code)? or does polymorphism not function in this way?\r\n\r\nAny help would be greatly appreciated! (as well as general feedback, I&#39;m not really used to using stackoverflow)","title":"How to use a copy constructor to create a deep-copy of an Object array&#39;s contents without implementing cloneable() or arraycopy()?","body":"<p>I need to create a copy of an array's contents, which are made up of various Objects of different types. However, I cannot use explicit casting to check the type of the Object, nor use the cloneable interface/arraycopy method.</p>\n<p>To start, I created a superclass that all other classes extend from, but I'm not sure how I would go about using the specific classes' copy constructors. My initial attempt was:</p>\n<pre><code>public Building(Object obj) {\n    try {\n        this.windows= ((House)obj).windows; \n        this.basement = ((House)obj).basement; \n    } catch (ClassCastException ex) {\n        this.windows = 0; \n        this.basement = false;\n    }\n    ... (various other try-catch blocks here)\n}\n</code></pre>\n<p>With the driver being:</p>\n<pre><code>public static Building[] copyBuildings(Building[] objects) {\n\n    Building[] objList = new Building[objects.length];\n        \n    for (int i = 0; i &lt; objects.length; i++) {    \n        objList[i] = new Building(objects[i]);\n    }\n        \n    return objList; \n}\n</code></pre>\n<p>But, this doesn't properly call the subclass's copy constructor as I intended it to do, because it doesn't refer to them at all. I'm not sure how to continue.</p>\n<p>Bearing in mind the lack of explicit typecasting, if I do not know the explicit type of an object during runtime, is it possible to call an Object's copy constructor (do I need to alter my current code)? or does polymorphism not function in this way?</p>\n<p>Any help would be greatly appreciated! (as well as general feedback, I'm not really used to using stackoverflow)</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1677768282,"post_id":75614410,"comment_id":133406039,"body_markdown":"While it’s possible to do what you describe, you really should use [ServiceLoader](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ServiceLoader.html) for finding implementations of an abstract class or interface.","body":"While it’s possible to do what you describe, you really should use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> for finding implementations of an abstract class or interface."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677772653,"post_id":75614410,"comment_id":133407466,"body_markdown":"Your `id` fields are instance fields. So you’d have to create instances of a class you don’t known, in order to read the field. If you know the classes in advance, there is no point in comparing an additional id. What would be the advantage of `c = hypotheticalMethod(&quot;id_for_class3&quot;)` over `c = class3.class`? Also worth reading [What is the XY problem?](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378)","body":"Your <code>id</code> fields are instance fields. So you’d have to create instances of a class you don’t known, in order to read the field. If you know the classes in advance, there is no point in comparing an additional id. What would be the advantage of <code>c = hypotheticalMethod(&quot;id_for_class3&quot;)</code> over <code>c = class3.class</code>? Also worth reading <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">What is the XY problem?</a>"}],"answers":[{"tags":[],"owner":{"account_id":27916655,"reputation":11,"user_id":21317664,"display_name":"ooz60"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677766842,"creation_date":1677766842,"answer_id":75616729,"question_id":75614410,"body_markdown":"You can get the value of id like below. This example will print &quot;id_for_class2&quot;.\r\n\r\n```\r\nimport java.lang.reflect.Field;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception{\r\n\r\n        class1 a = new class2();\r\n\r\n        Class cls = a.getClass();\r\n        Field field = cls.getDeclaredField(&quot;id&quot;);\r\n        Object value = field.get(a);\r\n\r\n        System.out.println(value);\r\n    }\r\n}\r\n```","title":"is there a way to use java reflection to find a class using the classes variable?","body":"<p>You can get the value of id like below. This example will print &quot;id_for_class2&quot;.</p>\n<pre><code>import java.lang.reflect.Field;\n\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception{\n\n        class1 a = new class2();\n\n        Class cls = a.getClass();\n        Field field = cls.getDeclaredField(&quot;id&quot;);\n        Object value = field.get(a);\n\n        System.out.println(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14782020,"reputation":31,"user_id":10675304,"display_name":"computerprogram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677766842,"creation_date":1677754120,"question_id":75614410,"body_markdown":"for example \r\n\r\nsay you had \r\n\r\n    public abstract class class1 {\r\n    \r\n    }\r\n    \r\n    public class2 extends class1 {\r\n    String id = &quot;id_for_class2&quot;\r\n    }\r\n    \r\n    public class3 extends class1 {\r\n    String id = &quot;id_for_class3&quot;\r\n    }\r\n    \r\n    public class4 extends class1 {\r\n    String id = &quot;id_for_class4&quot;}\r\n\r\n\r\nAnd you want to use reflection to get a specific class based on the id. \r\n\r\nIs there a way to do this using reflection in java? \r\n\r\n\r\n\r\n","title":"is there a way to use java reflection to find a class using the classes variable?","body":"<p>for example</p>\n<p>say you had</p>\n<pre><code>public abstract class class1 {\n\n}\n\npublic class2 extends class1 {\nString id = &quot;id_for_class2&quot;\n}\n\npublic class3 extends class1 {\nString id = &quot;id_for_class3&quot;\n}\n\npublic class4 extends class1 {\nString id = &quot;id_for_class4&quot;}\n</code></pre>\n<p>And you want to use reflection to get a specific class based on the id.</p>\n<p>Is there a way to do this using reflection in java?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1677576968,"post_id":75590089,"comment_id":133360779,"body_markdown":"It seems to say that long/double operations are *atomic* if the variable is *volatile*. It does **not** say that int variables are inherently volatile.","body":"It seems to say that long/double operations are <i>atomic</i> if the variable is <i>volatile</i>. It does <b>not</b> say that int variables are inherently volatile."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1677577897,"post_id":75590089,"comment_id":133361024,"body_markdown":"It says that _reading or writing a variable_ of a variable (of type `int`) is an atomic operation (i.e. you can never observe it reading or writing two halves separately). It doesn&#39;t say that _changes_ are atomic.","body":"It says that <i>reading or writing a variable</i> of a variable (of type <code>int</code>) is an atomic operation (i.e. you can never observe it reading or writing two halves separately). It doesn&#39;t say that <i>changes</i> are atomic."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1677578284,"post_id":75590089,"comment_id":133361145,"body_markdown":"There is literally nothing about visibility in the quote.","body":"There is literally nothing about visibility in the quote."},{"owner":{"account_id":27898384,"reputation":23,"user_id":21303173,"display_name":"mkarmi"},"score":0,"creation_date":1677578462,"post_id":75590089,"comment_id":133361192,"body_markdown":"@Sweeper what I want to understand is if that atomic guarantees visibility for other threads.","body":"@Sweeper what I want to understand is if that atomic guarantees visibility for other threads."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1677579300,"post_id":75590089,"comment_id":133361432,"body_markdown":"&quot;atomic&quot; will guarantee that a thread always reads a complete change at once, but not that it reads every change from another thread at the right time (e.g. due to register read optimiziations). `volatile` ensures that a thread reads in a field &quot;freshly&quot; from memory before an operation.","body":"&quot;atomic&quot; will guarantee that a thread always reads a complete change at once, but not that it reads every change from another thread at the right time (e.g. due to register read optimiziations). <code>volatile</code> ensures that a thread reads in a field &quot;freshly&quot; from memory before an operation."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677585430,"creation_date":1677585430,"answer_id":75591757,"question_id":75590089,"body_markdown":"An atomic write means that all the bits of a value a transfered from the CPU core into memory in one chunk. An atomic read means similarly that all the bits of a value are transfered from the memory into the CPU core in one chunk.\r\n\r\nA non-atomic write or read means that the value is transfered in two (or more) separate chunks.\r\n\r\n----\r\n\r\nConsider a field\r\n\r\n    long someField = 0x00000000_12345678;\r\n\r\nand two threads: thread one reads that field at the same time thread two updates that field to `0x12345678_00000000`.\r\n\r\nWith non-atomic reads and writes the following can happen:\r\n\r\n* thread two writes the first 32 bits to memory (0x12345678)\r\n* thread one reads the first 32 bits from memory (0x12345678)\r\n* thread one reads the second 32 bits from memory (0x12345678)\r\n* thread two writes the second 32 bits to memory (0x00000000)\r\n\r\nAfter this sequence, the value that thread one has read is 0x12345678_12345678 - a value that was never written as a whole.\r\n\r\nThe statement in the JLS states that for `long` and `double` this can happen unless you declare the field as `volatile`.\r\n\r\nIt also states that a similar behaviour for all other types will never occur. For example with `int` values:\r\n\r\n    int someOtherField = 0x1234_0000;\r\n\r\nand one thread reading that field while another thread updates that field to 0x0000_1234: the value that the first thread reads will either be 0x1234_0000 or 0x0000_1234.\r\n\r\n---\r\n\r\nFor non-volatile fields however another outcome is possible (not related to atomicity, but to `volatile` fields):\r\n\r\n    while (someOtherField == 0x1234_0000) {\r\n        // do something\r\n    }\r\n\r\nA thread executing this piece of code is allowed to read the field only once and evaluate the condition to `true`, even if some other thread later changes the value of `someOtherField`.\r\n\r\n---\r\n\r\nWhy did the designers of Java use the `volatile` designator to also guarantee atomic reads and writes of `long` and `double`?\r\n\r\nProbably because they didn&#39;t want to introduce another designator for &quot;these values must be read and written atomically&quot;.\r\n\r\nEither your code cares about values (of type double or long) being written atomically - and then you are working with different threads, so you are most probably also interested in these changed values being visible to other threads, so you need the field to be volatile anyway.\r\n\r\nOr the values are only accessed from a single thread - in this case atomicity is not required (because reading both halves and writing both halves are never interleaved) and visibility in other threads is also not required.","title":"Does atomic guarantee visibility ? JAVA","body":"<p>An atomic write means that all the bits of a value a transfered from the CPU core into memory in one chunk. An atomic read means similarly that all the bits of a value are transfered from the memory into the CPU core in one chunk.</p>\n<p>A non-atomic write or read means that the value is transfered in two (or more) separate chunks.</p>\n<hr />\n<p>Consider a field</p>\n<pre><code>long someField = 0x00000000_12345678;\n</code></pre>\n<p>and two threads: thread one reads that field at the same time thread two updates that field to <code>0x12345678_00000000</code>.</p>\n<p>With non-atomic reads and writes the following can happen:</p>\n<ul>\n<li>thread two writes the first 32 bits to memory (0x12345678)</li>\n<li>thread one reads the first 32 bits from memory (0x12345678)</li>\n<li>thread one reads the second 32 bits from memory (0x12345678)</li>\n<li>thread two writes the second 32 bits to memory (0x00000000)</li>\n</ul>\n<p>After this sequence, the value that thread one has read is 0x12345678_12345678 - a value that was never written as a whole.</p>\n<p>The statement in the JLS states that for <code>long</code> and <code>double</code> this can happen unless you declare the field as <code>volatile</code>.</p>\n<p>It also states that a similar behaviour for all other types will never occur. For example with <code>int</code> values:</p>\n<pre><code>int someOtherField = 0x1234_0000;\n</code></pre>\n<p>and one thread reading that field while another thread updates that field to 0x0000_1234: the value that the first thread reads will either be 0x1234_0000 or 0x0000_1234.</p>\n<hr />\n<p>For non-volatile fields however another outcome is possible (not related to atomicity, but to <code>volatile</code> fields):</p>\n<pre><code>while (someOtherField == 0x1234_0000) {\n    // do something\n}\n</code></pre>\n<p>A thread executing this piece of code is allowed to read the field only once and evaluate the condition to <code>true</code>, even if some other thread later changes the value of <code>someOtherField</code>.</p>\n<hr />\n<p>Why did the designers of Java use the <code>volatile</code> designator to also guarantee atomic reads and writes of <code>long</code> and <code>double</code>?</p>\n<p>Probably because they didn't want to introduce another designator for &quot;these values must be read and written atomically&quot;.</p>\n<p>Either your code cares about values (of type double or long) being written atomically - and then you are working with different threads, so you are most probably also interested in these changed values being visible to other threads, so you need the field to be volatile anyway.</p>\n<p>Or the values are only accessed from a single thread - in this case atomicity is not required (because reading both halves and writing both halves are never interleaved) and visibility in other threads is also not required.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677766764,"creation_date":1677762773,"answer_id":75615898,"question_id":75590089,"body_markdown":"In simple terms, volatile provides the following 3 properties:\r\n - atomicity\r\n - ordering\r\n - visibility\r\n\r\nAs Thomas Klager already explained, atomicity guarantees that an operation is atomic so isn&#39;t some interleaving of other operations like torn read or write. This is only a problem on 32 bits JVMs in combination with long/doubles.\r\n\r\nOrdering guarantees that surrounding loads and stores are ordered. E.g.:\r\n\r\n```\r\nint a;\r\nvolatile int b;\r\n\r\nthread1(){\r\n   a=1; \r\n   b=1;\r\n}\r\n\r\nthread2(){\r\n    while(b==0);\r\n    print(&quot;a=:&quot;+a);\r\n}\r\n```\r\n\r\nCan it happen that a=0 is printed? In the above example this can&#39;t happen because the &#39;b&#39; orders the accesses to &#39;b&#39;. But if &#39;b&#39; would be a plain variable, then the &#39;a=0&#39; could be printed.\r\n\r\nThe last one is visibility. So will a write to a variable on one CPU, be seen on another CPU? On modern hardware visibility isn&#39;t a concern because caches are coherent and store buffers eventually get written to the coherent cache. It is mostly a compiler concern, e.g the compiler could optimize this:\r\n\r\n```\r\nboolean stop;\r\n\r\nthread1(){\r\n   while(!stop){\r\n      print(&quot;loop&quot;);\r\n   }\r\n}\r\n\r\nthread2(){\r\n  stop = true;\r\n}\r\n```\r\n\r\nTo:\r\n\r\n```\r\nboolean stop;\r\n\r\nthread1(){\r\n   if(!stop){\r\n      while(true){\r\n         print(&quot;loop&quot;);\r\n      }\r\n   }\r\n}\r\n\r\nthread2(){\r\n  stop = true;\r\n}\r\n```\r\n\r\nNow it is clear that this loop never needs to see the updated stop value. With volatile, such compiler optimizations are prohibited.","title":"Does atomic guarantee visibility ? JAVA","body":"<p>In simple terms, volatile provides the following 3 properties:</p>\n<ul>\n<li>atomicity</li>\n<li>ordering</li>\n<li>visibility</li>\n</ul>\n<p>As Thomas Klager already explained, atomicity guarantees that an operation is atomic so isn't some interleaving of other operations like torn read or write. This is only a problem on 32 bits JVMs in combination with long/doubles.</p>\n<p>Ordering guarantees that surrounding loads and stores are ordered. E.g.:</p>\n<pre><code>int a;\nvolatile int b;\n\nthread1(){\n   a=1; \n   b=1;\n}\n\nthread2(){\n    while(b==0);\n    print(&quot;a=:&quot;+a);\n}\n</code></pre>\n<p>Can it happen that a=0 is printed? In the above example this can't happen because the 'b' orders the accesses to 'b'. But if 'b' would be a plain variable, then the 'a=0' could be printed.</p>\n<p>The last one is visibility. So will a write to a variable on one CPU, be seen on another CPU? On modern hardware visibility isn't a concern because caches are coherent and store buffers eventually get written to the coherent cache. It is mostly a compiler concern, e.g the compiler could optimize this:</p>\n<pre><code>boolean stop;\n\nthread1(){\n   while(!stop){\n      print(&quot;loop&quot;);\n   }\n}\n\nthread2(){\n  stop = true;\n}\n</code></pre>\n<p>To:</p>\n<pre><code>boolean stop;\n\nthread1(){\n   if(!stop){\n      while(true){\n         print(&quot;loop&quot;);\n      }\n   }\n}\n\nthread2(){\n  stop = true;\n}\n</code></pre>\n<p>Now it is clear that this loop never needs to see the updated stop value. With volatile, such compiler optimizations are prohibited.</p>\n"}],"owner":{"account_id":27898384,"reputation":23,"user_id":21303173,"display_name":"mkarmi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75591757,"answer_count":2,"score":2,"last_activity_date":1677766764,"creation_date":1677576354,"question_id":75590089,"body_markdown":"I was reading this statement :\r\n\r\n&gt; The Java language specification guarantees that reading or writing a variable is an atomic operation(unless the variable is of type long or double). Operations variables of type long or double are only atomic if they declared with the volatile keyword.\r\n\r\nnow I wonder if I need really to use volatile on &quot;int&quot; or any variable that is not long or double for example considering it&#39;s atomic, are the changes to that variable guaranteed to be visible by other thread ?\r\n\r\n\r\n-------\r\nWhat I want to understand if that atomic guarantees visibility for other thread without using volatile.","title":"Does atomic guarantee visibility ? JAVA","body":"<p>I was reading this statement :</p>\n<blockquote>\n<p>The Java language specification guarantees that reading or writing a variable is an atomic operation(unless the variable is of type long or double). Operations variables of type long or double are only atomic if they declared with the volatile keyword.</p>\n</blockquote>\n<p>now I wonder if I need really to use volatile on &quot;int&quot; or any variable that is not long or double for example considering it's atomic, are the changes to that variable guaranteed to be visible by other thread ?</p>\n<hr />\n<p>What I want to understand if that atomic guarantees visibility for other thread without using volatile.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":4102217,"reputation":312,"user_id":3367392,"display_name":"aboudirawas"},"score":1,"creation_date":1677766679,"post_id":75616639,"comment_id":133405543,"body_markdown":"Try a Map&lt;String, List&lt;String&gt;&gt; having key: employee name for example and value: is list of documents","body":"Try a Map&lt;String, List&lt;String&gt;&gt; having key: employee name for example and value: is list of documents"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1677767339,"post_id":75616639,"comment_id":133405749,"body_markdown":"You can also make your own `#print` method that would keep this log.","body":"You can also make your own <code>#print</code> method that would keep this log."}],"owner":{"account_id":27918951,"reputation":1,"user_id":21319541,"display_name":"Jakob Huuse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677766428,"creation_date":1677766428,"question_id":75616639,"body_markdown":"I&#39;m making a printer-class where I need to keep track of the print-history of objects with the Employee interface. \r\n\r\n```\r\npublic void printDocument(String document, Employee employee) {\r\n        System.out.println(document);\r\n        \r\n    }\r\n```\r\nHow could I store the history of an employee in a good way, so I can return the print-history of a specific employee with a method like\r\n\r\n```\r\npublic List&lt;String&gt; getPrintHistory(Employee employee) {\r\n        \r\n    }\r\n```\r\n\r\n\r\nI have tried storing the print-history of objects in a specific class with the employee interface in a list. The problem is that I want a more general method where I store the information in the Printer class, so I won&#39;t have to make a field for print-history for all the classes with the employee interface.","title":"Keep a printer-history for objects with a specific interface in java","body":"<p>I'm making a printer-class where I need to keep track of the print-history of objects with the Employee interface.</p>\n<pre><code>public void printDocument(String document, Employee employee) {\n        System.out.println(document);\n        \n    }\n</code></pre>\n<p>How could I store the history of an employee in a good way, so I can return the print-history of a specific employee with a method like</p>\n<pre><code>public List&lt;String&gt; getPrintHistory(Employee employee) {\n        \n    }\n</code></pre>\n<p>I have tried storing the print-history of objects in a specific class with the employee interface in a list. The problem is that I want a more general method where I store the information in the Printer class, so I won't have to make a field for print-history for all the classes with the employee interface.</p>\n"},{"tags":["java","ansible","jvm","jmx"],"comments":[{"owner":{"account_id":5284837,"reputation":40522,"user_id":9401096,"display_name":"Zeitounator"},"score":0,"creation_date":1677769661,"post_id":75616524,"comment_id":133406479,"body_markdown":"How would you get access to those attributes without ansible ?","body":"How would you get access to those attributes without ansible ?"},{"owner":{"account_id":9097660,"reputation":9382,"user_id":6771046,"display_name":"U880D"},"score":0,"creation_date":1677776947,"post_id":75616524,"comment_id":133408864,"body_markdown":"Unless there is not already an Ansible module available, one would need to create one in Python, see [How to connect to JMX agent using Python](https://stackoverflow.com/questions/3491082/). Since that seems to be not a quick and easy task, create an Ansible Custom Module in Java might be easier, or use an other script as wrapper. Overall it possible to achieve.","body":"Unless there is not already an Ansible module available, one would need to create one in Python, see <a href=\"https://stackoverflow.com/questions/3491082/\">How to connect to JMX agent using Python</a>. Since that seems to be not a quick and easy task, create an Ansible Custom Module in Java might be easier, or use an other script as wrapper. Overall it possible to achieve."},{"owner":{"account_id":9097660,"reputation":9382,"user_id":6771046,"display_name":"U880D"},"score":0,"creation_date":1677777666,"post_id":75616524,"comment_id":133409068,"body_markdown":"You could start with a research on [jmxQuery to monitor Java via Python](https://davidgildeh.com/2018/03/14/introducing-jmxquery-to-monitor-java-via-python/) and also search further for `jmx-exporter`, `prometheus jmx`. Please take note that just looking for tools, libraries, modules, further documentation, etc. is not on-topic here ...","body":"You could start with a research on <a href=\"https://davidgildeh.com/2018/03/14/introducing-jmxquery-to-monitor-java-via-python/\" rel=\"nofollow noreferrer\">jmxQuery to monitor Java via Python</a> and also search further for <code>jmx-exporter</code>, <code>prometheus jmx</code>. Please take note that just looking for tools, libraries, modules, further documentation, etc. is not on-topic here ..."},{"owner":{"account_id":9097660,"reputation":9382,"user_id":6771046,"display_name":"U880D"},"score":0,"creation_date":1677778663,"post_id":75616524,"comment_id":133409317,"body_markdown":"An other approach could be to something like [`ansible-javax`](https://github.com/tima/ansible-javax) &quot;_A module for executing an arbitrary java class or jar in a cleaner, more Ansible-like way._&quot;. Slowly it turns out and because of the many possibilities to achieve your goal, you would probably need to define before how do you like to access the JMX interface and make a design and decission upfront.","body":"An other approach could be to something like <a href=\"https://github.com/tima/ansible-javax\" rel=\"nofollow noreferrer\"><code>ansible-javax</code></a> &quot;<i>A module for executing an arbitrary java class or jar in a cleaner, more Ansible-like way.</i>&quot;. Slowly it turns out and because of the many possibilities to achieve your goal, you would probably need to define before how do you like to access the JMX interface and make a design and decission upfront."}],"owner":{"account_id":5061102,"reputation":607,"user_id":4062670,"display_name":"Valery Ryaboshapko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677765845,"creation_date":1677765845,"question_id":75616524,"body_markdown":"I use an Ansible playbook to start my JVM application and want to have a health-check task to ensure the application is running. That application has no HTTP interface but exposes several attributes via MBeans. So can I get access to those attributes from Ansible?","title":"How to read a JMX MBean attribute using Ansible?","body":"<p>I use an Ansible playbook to start my JVM application and want to have a health-check task to ensure the application is running. That application has no HTTP interface but exposes several attributes via MBeans. So can I get access to those attributes from Ansible?</p>\n"},{"tags":["java","git","kubernetes","jenkins","groovy"],"owner":{"account_id":11755625,"reputation":421,"user_id":8603405,"accept_rate":80,"display_name":"EilonA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677765825,"creation_date":1677765825,"question_id":75616519,"body_markdown":"I am using Kubernetes plugin and using my own image.\r\nThis image has git and worked before when I was using ec2 slaves.\r\n\r\nFrom some reason, after moving to container using K8s plugin I&#39;m getting this issue after using GitSCM checkout plugin.\r\n\r\nBut when I use &quot;sh git clone...&quot; it works perfectly.\r\n\r\nwhat am I missing?  JENKINS-30600? Permission denied?\r\n\r\nHow could it be?\r\n\r\n\r\n```\r\nWarning: JENKINS-30600: special launcher org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1@6c6a5bef; decorates RemoteLauncher[hudson.remoting.Channel@124fe7dc:JNLP4-connect connection from ip-10-20-119-149.us-west-2.compute.internal/10.20.119.149:53594] will be ignored (a typical symptom is the Git executable not being run inside a designated container)\r\n15:02:29  Cloning the remote Git repository\r\n15:02:29  ERROR: Error cloning remote repo &#39;origin&#39;\r\n15:02:29  hudson.plugins.git.GitException: Could not init /home/jenkins/agent/workspace/PR__test_container_main/infra-kit\r\n15:02:29  \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$5.execute(CliGitAPIImpl.java:1049)\r\n15:02:29  \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$2.execute(CliGitAPIImpl.java:802)\r\n15:02:29  \tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:158)\r\n15:02:29  \tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:151)\r\n15:02:29  \tat hudson.remoting.UserRequest.perform(UserRequest.java:211)\r\n15:02:29  \tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n15:02:29  \tat hudson.remoting.Request$2.run(Request.java:377)\r\n15:02:29  \tat hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\r\n15:02:29  \tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n15:02:29  \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n15:02:29  \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n15:02:29  \tat hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:125)\r\n15:02:29  \tat java.base/java.lang.Thread.run(Unknown Source)\r\n15:02:29  \tSuppressed: hudson.remoting.Channel$CallSiteStackTrace: Remote call to JNLP4-connect connection from ip-10-20-119-149.us-west-2.compute.internal/10.20.119.149:53594\r\n15:02:29  \t\tat hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1784)\r\n15:02:29  \t\tat hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:356)\r\n15:02:29  \t\tat hudson.remoting.Channel.call(Channel.java:1000)\r\n15:02:29  \t\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.execute(RemoteGitImpl.java:143)\r\n15:02:29  \t\tat jdk.internal.reflect.GeneratedMethodAccessor745.invoke(Unknown Source)\r\n15:02:29  \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n15:02:29  \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n15:02:29  \t\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.invoke(RemoteGitImpl.java:129)\r\n15:02:29  \t\tat com.sun.proxy.$Proxy108.execute(Unknown Source)\r\n15:02:29  \t\tat hudson.plugins.git.GitSCM.retrieveChanges(GitSCM.java:1226)\r\n15:02:29  \t\tat hudson.plugins.git.GitSCM.checkout(GitSCM.java:1309)\r\n15:02:29  \t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:129)\r\n15:02:29  \t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:97)\r\n15:02:29  \t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:84)\r\n15:02:29  \t\tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n15:02:29  \t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n15:02:29  \t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n15:02:29  \t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n15:02:29  \t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n15:02:29  \t\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n15:02:29  Caused by: hudson.plugins.git.GitException: Command &quot;/usr/bin/git init /home/jenkins/agent/workspace/test_container_main/infra-kit&quot; returned status code 1:\r\n15:02:29  stdout: \r\n15:02:29  stderr: /home/jenkins/agent/workspace/test_container_main/infra-kit/.git: Permission denied\r\n15:02:29  \r\n15:02:29  \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2734)\r\n15:02:29  \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2660)\r\n15:02:29  \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2656)\r\n15:02:29  \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommand(CliGitAPIImpl.java:1981)\r\n15:02:29  \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$5.execute(CliGitAPIImpl.java:1047)\r\n15:02:29  \t... 12 more\r\n```","title":"Jenkins - Git SCM plugin not working when checking out in K8S container slave","body":"<p>I am using Kubernetes plugin and using my own image.\nThis image has git and worked before when I was using ec2 slaves.</p>\n<p>From some reason, after moving to container using K8s plugin I'm getting this issue after using GitSCM checkout plugin.</p>\n<p>But when I use &quot;sh git clone...&quot; it works perfectly.</p>\n<p>what am I missing?  JENKINS-30600? Permission denied?</p>\n<p>How could it be?</p>\n<pre><code>Warning: JENKINS-30600: special launcher org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1@6c6a5bef; decorates RemoteLauncher[hudson.remoting.Channel@124fe7dc:JNLP4-connect connection from ip-10-20-119-149.us-west-2.compute.internal/10.20.119.149:53594] will be ignored (a typical symptom is the Git executable not being run inside a designated container)\n15:02:29  Cloning the remote Git repository\n15:02:29  ERROR: Error cloning remote repo 'origin'\n15:02:29  hudson.plugins.git.GitException: Could not init /home/jenkins/agent/workspace/PR__test_container_main/infra-kit\n15:02:29    at org.jenkinsci.plugins.gitclient.CliGitAPIImpl$5.execute(CliGitAPIImpl.java:1049)\n15:02:29    at org.jenkinsci.plugins.gitclient.CliGitAPIImpl$2.execute(CliGitAPIImpl.java:802)\n15:02:29    at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:158)\n15:02:29    at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:151)\n15:02:29    at hudson.remoting.UserRequest.perform(UserRequest.java:211)\n15:02:29    at hudson.remoting.UserRequest.perform(UserRequest.java:54)\n15:02:29    at hudson.remoting.Request$2.run(Request.java:377)\n15:02:29    at hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\n15:02:29    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n15:02:29    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n15:02:29    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n15:02:29    at hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:125)\n15:02:29    at java.base/java.lang.Thread.run(Unknown Source)\n15:02:29    Suppressed: hudson.remoting.Channel$CallSiteStackTrace: Remote call to JNLP4-connect connection from ip-10-20-119-149.us-west-2.compute.internal/10.20.119.149:53594\n15:02:29        at hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1784)\n15:02:29        at hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:356)\n15:02:29        at hudson.remoting.Channel.call(Channel.java:1000)\n15:02:29        at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.execute(RemoteGitImpl.java:143)\n15:02:29        at jdk.internal.reflect.GeneratedMethodAccessor745.invoke(Unknown Source)\n15:02:29        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n15:02:29        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n15:02:29        at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.invoke(RemoteGitImpl.java:129)\n15:02:29        at com.sun.proxy.$Proxy108.execute(Unknown Source)\n15:02:29        at hudson.plugins.git.GitSCM.retrieveChanges(GitSCM.java:1226)\n15:02:29        at hudson.plugins.git.GitSCM.checkout(GitSCM.java:1309)\n15:02:29        at org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:129)\n15:02:29        at org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:97)\n15:02:29        at org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:84)\n15:02:29        at org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\n15:02:29        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n15:02:29        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n15:02:29        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n15:02:29        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n15:02:29        at java.base/java.lang.Thread.run(Thread.java:829)\n15:02:29  Caused by: hudson.plugins.git.GitException: Command &quot;/usr/bin/git init /home/jenkins/agent/workspace/test_container_main/infra-kit&quot; returned status code 1:\n15:02:29  stdout: \n15:02:29  stderr: /home/jenkins/agent/workspace/test_container_main/infra-kit/.git: Permission denied\n15:02:29  \n15:02:29    at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2734)\n15:02:29    at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2660)\n15:02:29    at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2656)\n15:02:29    at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommand(CliGitAPIImpl.java:1981)\n15:02:29    at org.jenkinsci.plugins.gitclient.CliGitAPIImpl$5.execute(CliGitAPIImpl.java:1047)\n15:02:29    ... 12 more\n</code></pre>\n"},{"tags":["java","sql","postgresql","hibernate","hibernate-envers"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1677765754,"post_id":75616463,"comment_id":133405222,"body_markdown":"Why do you have a CROSS JOIN with a join condition in the WHERE clause? Can&#39;t you do a regular INNER JOIN instead?","body":"Why do you have a CROSS JOIN with a join condition in the WHERE clause? Can&#39;t you do a regular INNER JOIN instead?"},{"owner":{"account_id":27103103,"reputation":1,"user_id":20649348,"display_name":"ggrigorov"},"score":0,"creation_date":1677766088,"post_id":75616463,"comment_id":133405328,"body_markdown":"Hibernate does that. For me, that is the long way to write inner join and I don&#39;t understand why Envers does that.","body":"Hibernate does that. For me, that is the long way to write inner join and I don&#39;t understand why Envers does that."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1677830357,"post_id":75616463,"comment_id":133418284,"body_markdown":"What strange database version are you using that does not see this SQL is the same as an inner join?","body":"What strange database version are you using that does not see this SQL is the same as an inner join?"}],"owner":{"account_id":27103103,"reputation":1,"user_id":20649348,"display_name":"ggrigorov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677765707,"creation_date":1677765571,"question_id":75616463,"body_markdown":"i need to take the entries from **entity_name_aud** and **revinfo** tables using filter for **contract_id**. \r\n\r\n```\r\n...\r\nAuditQuery query = auditReader.createQuery()\r\n            .forRevisionsOfEntity(EntityName.class, false, true)\r\n            .add(filter);\r\n\r\n return query.getResultList();\r\n}\r\n```\r\nHibernate: \r\n\r\n```\r\n    select\r\n        e0_.id,\r\n        e0_.content_id,\r\n        e0_.rev,\r\n        r1_.rev,\r\n        e0_.revtype,\r\n        e0_.content,\r\n        r1_.revtstmp,\r\n        r1_.updated_by \r\n    from\r\n        entity_name_aud e0_ \r\n    cross join\r\n        revinfo r1_ \r\n    where\r\n        e0_.contract_id=? \r\n        and e0_.rev=r1_.rev\r\n```\r\n\r\nUnfortunately, this code generates cross join between those tables, which results in bad performance. Is it possible to change the cross join to left join. \r\n\r\n\r\nI checked Hibernate Envers documentation and didn&#39;t help much. \r\n\r\nPS: I have simplified the hibernate log for the cross join.","title":"How to avoid Hibernate Envers cross join?","body":"<p>i need to take the entries from <strong>entity_name_aud</strong> and <strong>revinfo</strong> tables using filter for <strong>contract_id</strong>.</p>\n<pre><code>...\nAuditQuery query = auditReader.createQuery()\n            .forRevisionsOfEntity(EntityName.class, false, true)\n            .add(filter);\n\n return query.getResultList();\n}\n</code></pre>\n<p>Hibernate:</p>\n<pre><code>    select\n        e0_.id,\n        e0_.content_id,\n        e0_.rev,\n        r1_.rev,\n        e0_.revtype,\n        e0_.content,\n        r1_.revtstmp,\n        r1_.updated_by \n    from\n        entity_name_aud e0_ \n    cross join\n        revinfo r1_ \n    where\n        e0_.contract_id=? \n        and e0_.rev=r1_.rev\n</code></pre>\n<p>Unfortunately, this code generates cross join between those tables, which results in bad performance. Is it possible to change the cross join to left join.</p>\n<p>I checked Hibernate Envers documentation and didn't help much.</p>\n<p>PS: I have simplified the hibernate log for the cross join.</p>\n"},{"tags":["java","edi"],"comments":[{"owner":{"account_id":18109258,"reputation":447,"user_id":13166430,"display_name":"Eimantas G"},"score":0,"creation_date":1677766022,"post_id":75616256,"comment_id":133405307,"body_markdown":"I think you should try using newer versions of these dependencies. Looks like for most of them newer version `1.7.1.0` is available. Use this https://mvnrepository.com/search?q=org.milyn.edi.unedifact page to find newest versions of your dependencies.","body":"I think you should try using newer versions of these dependencies. Looks like for most of them newer version <code>1.7.1.0</code> is available. Use this <a href=\"https://mvnrepository.com/search?q=org.milyn.edi.unedifact\" rel=\"nofollow noreferrer\">mvnrepository.com/search?q=org.milyn.edi.unedifact</a> page to find newest versions of your dependencies."},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1677772978,"post_id":75616256,"comment_id":133407575,"body_markdown":"I tried but still doesn&#39;t work","body":"I tried but still doesn&#39;t work"},{"owner":{"account_id":18109258,"reputation":447,"user_id":13166430,"display_name":"Eimantas G"},"score":0,"creation_date":1677773988,"post_id":75616256,"comment_id":133407907,"body_markdown":"Then maybe you are missing https://mvnrepository.com/artifact/org.milyn.edi.unedifact/d03b-mapping this dependecy?","body":"Then maybe you are missing <a href=\"https://mvnrepository.com/artifact/org.milyn.edi.unedifact/d03b-mapping\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.milyn.edi.unedifact/d03b-mapp&zwnj;&#8203;ing</a> this dependecy?"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1677777522,"post_id":75616256,"comment_id":133409029,"body_markdown":"@EimantasG still doesn&#39;t work.","body":"@EimantasG still doesn&#39;t work."}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677764582,"creation_date":1677764582,"question_id":75616256,"body_markdown":"I am trying to following this tutorial [https://sites.google.com/site/smooksorg/documentation/documentation-smooks-1-1-x/examples/example---edi-to-xml][1] but I am getting in the following error:\r\n\r\n    Failed to locate jar file for EDI Mapping Model URN &#39;org.milyn.edi.unedifact:d03b-mapping:1.7.1.0&#39;.  Jar must be available on classpath.\r\n\r\nThis is my code snippet:\r\n\r\n    public class Main {\r\n    \r\n        protected static String runSmooksTransform() throws IOException, SAXException, SmooksException {\r\n    \r\n            // Configure Smooks using a Smooks config...\r\n            //Smooks smooks = new Smooks(&quot;smooks-config.xml&quot;);\r\n    \r\n            // Or, configure Smooks programmatically...\r\n            Smooks smooks = new Smooks();\r\n            smooks.setReaderConfig(new UNEdifactReaderConfigurator(&quot;urn:org.milyn.edi.unedifact:d03b-mapping:1.7.1.0&quot;));\r\n    \r\n            try {\r\n                StringWriter writer = new StringWriter();\r\n    //I AM GETTING ERROR THIS LINE\r\n                smooks.filterSource(new StreamSource(new FileInputStream(&quot;to-xml/apis.txt&quot;)), new StreamResult(writer));\r\n    \r\n                return writer.toString();\r\n            } finally {\r\n                smooks.close();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException, SAXException, SmooksException {\r\n            System.out.println(&quot;\\n\\n==============Message In==============&quot;);\r\n            System.out.println(readInputMessage());\r\n            System.out.println(&quot;======================================\\n&quot;);\r\n    \r\n            String messageOut = Main.runSmooksTransform();\r\n    \r\n            System.out.println(&quot;==============Message Out=============&quot;);\r\n            System.out.println(messageOut);\r\n            System.out.println(&quot;======================================\\n\\n&quot;);\r\n        }\r\n    \r\n        private static String readInputMessage() throws IOException {\r\n            return StreamUtils.readStreamAsString(new FileInputStream(&quot;to-xml/apis.txt&quot;));\r\n        }\r\n    }\r\n    \r\nand this is my pom xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.milyn&lt;/groupId&gt;\r\n            &lt;artifactId&gt;unedifact-examples&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5-SNAPSHOT&lt;/version&gt; &lt;!-- base pom version - do not remove this comment --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;name&gt;Milyn Smooks Example - UN/EDIFACT - To XML&lt;/name&gt;\r\n        &lt;artifactId&gt;milyn-smooks-example-unedifact-to-xml&lt;/artifactId&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;!-- Smooks --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.milyn&lt;/groupId&gt;\r\n                &lt;artifactId&gt;milyn-smooks-all&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.milyn&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testres&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.milyn&lt;/groupId&gt;\r\n                &lt;artifactId&gt;milyn-edisax-parser&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Smooks EDI Cartridge --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.milyn&lt;/groupId&gt;\r\n                &lt;artifactId&gt;milyn-smooks-edi&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    &lt;!--        &lt;dependency&gt;--&gt;\r\n    &lt;!--            &lt;groupId&gt;org.milyn&lt;/groupId&gt;--&gt;\r\n    &lt;!--            &lt;artifactId&gt;milyn-smooks-edi&lt;/artifactId&gt;--&gt;\r\n    &lt;!--            &lt;version&gt;1.7.1&lt;/version&gt;--&gt;\r\n    &lt;!--        &lt;/dependency&gt;--&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.milyn.edi.unedifact&lt;/groupId&gt;\r\n                &lt;artifactId&gt;d99b-mapping&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.milyn.edi.unedifact&lt;/groupId&gt;\r\n                &lt;artifactId&gt;d95a-mapping&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.milyn.edi.unedifact&lt;/groupId&gt;\r\n                &lt;artifactId&gt;d95b-mapping&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        \r\n    \r\n    &lt;/project&gt;\r\n\r\nWhat exactly do am I? I don&#39;t know where I went wrong? I would be glad if you help. \r\n\r\n  [1]: https://sites.google.com/site/smooksorg/documentation/documentation-smooks-1-1-x/examples/example---edi-to-xml","title":"Failed to locate jar file for EDI Mapping Model URN &#39;org.milyn.edi.unedifact:d03b-mapping:1.7.1.0&#39;. Jar must be available on classpath","body":"<p>I am trying to following this tutorial <a href=\"https://sites.google.com/site/smooksorg/documentation/documentation-smooks-1-1-x/examples/example---edi-to-xml\" rel=\"nofollow noreferrer\">https://sites.google.com/site/smooksorg/documentation/documentation-smooks-1-1-x/examples/example---edi-to-xml</a> but I am getting in the following error:</p>\n<pre><code>Failed to locate jar file for EDI Mapping Model URN 'org.milyn.edi.unedifact:d03b-mapping:1.7.1.0'.  Jar must be available on classpath.\n</code></pre>\n<p>This is my code snippet:</p>\n<pre><code>public class Main {\n\n    protected static String runSmooksTransform() throws IOException, SAXException, SmooksException {\n\n        // Configure Smooks using a Smooks config...\n        //Smooks smooks = new Smooks(&quot;smooks-config.xml&quot;);\n\n        // Or, configure Smooks programmatically...\n        Smooks smooks = new Smooks();\n        smooks.setReaderConfig(new UNEdifactReaderConfigurator(&quot;urn:org.milyn.edi.unedifact:d03b-mapping:1.7.1.0&quot;));\n\n        try {\n            StringWriter writer = new StringWriter();\n//I AM GETTING ERROR THIS LINE\n            smooks.filterSource(new StreamSource(new FileInputStream(&quot;to-xml/apis.txt&quot;)), new StreamResult(writer));\n\n            return writer.toString();\n        } finally {\n            smooks.close();\n        }\n    }\n\n    public static void main(String[] args) throws IOException, SAXException, SmooksException {\n        System.out.println(&quot;\\n\\n==============Message In==============&quot;);\n        System.out.println(readInputMessage());\n        System.out.println(&quot;======================================\\n&quot;);\n\n        String messageOut = Main.runSmooksTransform();\n\n        System.out.println(&quot;==============Message Out=============&quot;);\n        System.out.println(messageOut);\n        System.out.println(&quot;======================================\\n\\n&quot;);\n    }\n\n    private static String readInputMessage() throws IOException {\n        return StreamUtils.readStreamAsString(new FileInputStream(&quot;to-xml/apis.txt&quot;));\n    }\n}\n</code></pre>\n<p>and this is my pom xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.milyn&lt;/groupId&gt;\n        &lt;artifactId&gt;unedifact-examples&lt;/artifactId&gt;\n        &lt;version&gt;1.5-SNAPSHOT&lt;/version&gt; &lt;!-- base pom version - do not remove this comment --&gt;\n    &lt;/parent&gt;\n    &lt;name&gt;Milyn Smooks Example - UN/EDIFACT - To XML&lt;/name&gt;\n    &lt;artifactId&gt;milyn-smooks-example-unedifact-to-xml&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Smooks --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.milyn&lt;/groupId&gt;\n            &lt;artifactId&gt;milyn-smooks-all&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.milyn&lt;/groupId&gt;\n            &lt;artifactId&gt;testres&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.milyn&lt;/groupId&gt;\n            &lt;artifactId&gt;milyn-edisax-parser&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Smooks EDI Cartridge --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.milyn&lt;/groupId&gt;\n            &lt;artifactId&gt;milyn-smooks-edi&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.milyn&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;milyn-smooks-edi&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.7.1&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.milyn.edi.unedifact&lt;/groupId&gt;\n            &lt;artifactId&gt;d99b-mapping&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.milyn.edi.unedifact&lt;/groupId&gt;\n            &lt;artifactId&gt;d95a-mapping&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.milyn.edi.unedifact&lt;/groupId&gt;\n            &lt;artifactId&gt;d95b-mapping&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    \n\n&lt;/project&gt;\n</code></pre>\n<p>What exactly do am I? I don't know where I went wrong? I would be glad if you help.</p>\n"},{"tags":["java","arrays","byte"],"comments":[{"owner":{"account_id":217925,"reputation":711,"user_id":473973,"accept_rate":62,"display_name":"user473973"},"score":1,"creation_date":1394639457,"post_id":22356792,"comment_id":33981318,"body_markdown":"What do you mean by &quot;can&#39;t seem to get the length of the array correctly&quot;?","body":"What do you mean by &quot;can&#39;t seem to get the length of the array correctly&quot;?"},{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1394639487,"post_id":22356792,"comment_id":33981342,"body_markdown":"Why not? What error do you get?","body":"Why not? What error do you get?"},{"owner":{"display_name":"user3383062"},"score":0,"creation_date":1394639489,"post_id":22356792,"comment_id":33981343,"body_markdown":"Netbeans shows an error &#39;cannot find symbol&#39;.","body":"Netbeans shows an error &#39;cannot find symbol&#39;."},{"owner":{"account_id":1626752,"reputation":9002,"user_id":1502148,"accept_rate":25,"display_name":"G&#225;bor Bakos"},"score":0,"creation_date":1394639527,"post_id":22356792,"comment_id":33981381,"body_markdown":"Why do you think that is the case? Did you get an error? (You should use `bytes.length` instead of `bytes.length()`.)","body":"Why do you think that is the case? Did you get an error? (You should use <code>bytes.length</code> instead of <code>bytes.length()</code>.)"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":2,"creation_date":1394639581,"post_id":22356792,"comment_id":33981424,"body_markdown":"-1 for not including the exact compiler error message.","body":"-1 for not including the exact compiler error message."},{"owner":{"display_name":"user3383062"},"score":0,"creation_date":1394639636,"post_id":22356792,"comment_id":33981478,"body_markdown":"Sorry, fairly new to stack.","body":"Sorry, fairly new to stack."},{"owner":{"account_id":1220565,"reputation":3341,"user_id":1187293,"accept_rate":88,"display_name":"SteveL"},"score":0,"creation_date":1394639807,"post_id":22356792,"comment_id":33981630,"body_markdown":"Your should accept one of the answers,thats how SO works","body":"Your should accept one of the answers,thats how SO works"},{"owner":{"display_name":"user3383062"},"score":0,"creation_date":1394640000,"post_id":22356792,"comment_id":33981786,"body_markdown":"It asks me to wait 10 minutes before doing that.","body":"It asks me to wait 10 minutes before doing that."}],"answers":[{"tags":[],"owner":{"account_id":2789385,"reputation":7148,"user_id":2399935,"accept_rate":86,"display_name":"Brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1394639460,"creation_date":1394639460,"answer_id":22356830,"question_id":22356792,"body_markdown":"Use `bytes.length` without the `()`","title":"Length of byte[] array","body":"<p>Use <code>bytes.length</code> without the <code>()</code></p>\n"},{"tags":[],"owner":{"account_id":3534754,"reputation":38579,"user_id":2953344,"accept_rate":75,"display_name":"Sabuj Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394639507,"creation_date":1394639507,"answer_id":22356855,"question_id":22356792,"body_markdown":"Its not `bytes.length()`, its `bytes.length`","title":"Length of byte[] array","body":"<p>Its not <code>bytes.length()</code>, its <code>bytes.length</code></p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1394639522,"creation_date":1394639522,"answer_id":22356869,"question_id":22356792,"body_markdown":"See the [JLS - 10.7. Array Members][1]:\r\n\r\n&gt; The members of an array type are all of the following:\r\n&gt; \r\n&gt; The `public final field length`, which contains the number of components\r\n&gt; of the array. length may be positive or zero.\r\n\r\n`length` is a *property*, not a method. You should write:\r\n\r\n    bytes.length\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.7\r\n","title":"Length of byte[] array","body":"<p>See the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.7\">JLS - 10.7. Array Members</a>:</p>\n\n<blockquote>\n  <p>The members of an array type are all of the following:</p>\n  \n  <p>The <code>public final field length</code>, which contains the number of components\n  of the array. length may be positive or zero.</p>\n</blockquote>\n\n<p><code>length</code> is a <em>property</em>, not a method. You should write:</p>\n\n<pre><code>bytes.length\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394639645,"creation_date":1394639645,"answer_id":22356927,"question_id":22356792,"body_markdown":"In order to get the length of an array, use `length`. For example:\r\n\r\n    int[] arr = {1,2,3};\r\n    int length = arr.length;\r\n\r\nIn order to get the length of a string, use `length()`. For example:\r\n\r\n    String str = &quot;123&quot;;\r\n    int length = str.length();\r\n","title":"Length of byte[] array","body":"<p>In order to get the length of an array, use <code>length</code>. For example:</p>\n\n<pre><code>int[] arr = {1,2,3};\nint length = arr.length;\n</code></pre>\n\n<p>In order to get the length of a string, use <code>length()</code>. For example:</p>\n\n<pre><code>String str = \"123\";\nint length = str.length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2077900,"reputation":4268,"user_id":1850710,"accept_rate":43,"display_name":"Sudz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394639762,"creation_date":1394639762,"answer_id":22356980,"question_id":22356792,"body_markdown":"getBytes() Encodes the String into a sequence of bytes using the platform&#39;s default charset, storing the result into a new byte array.\r\n\r\nTry to print the bytes you will see the encoded values which may differ in length compare to original string.","title":"Length of byte[] array","body":"<p>getBytes() Encodes the String into a sequence of bytes using the platform's default charset, storing the result into a new byte array.</p>\n\n<p>Try to print the bytes you will see the encoded values which may differ in length compare to original string.</p>\n"},{"tags":[],"owner":{"account_id":27918798,"reputation":1,"user_id":21319414,"display_name":"AYUSH KUMAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677764405,"creation_date":1677764405,"answer_id":75616214,"question_id":22356792,"body_markdown":"I second Sabuj&#39;s comment. It should be `bytes.length`","title":"Length of byte[] array","body":"<p>I second Sabuj's comment. It should be <code>bytes.length</code></p>\n"}],"owner":{"display_name":"user3383062"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126853,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":22356830,"answer_count":6,"score":30,"last_activity_date":1677764405,"creation_date":1394639374,"question_id":22356792,"body_markdown":"    String str = &quot;123456789&quot;;\r\n    byte[] bytes = str.getBytes();\r\n\r\nI want to make the following loop\r\n\r\n    for (int j = 0; j &lt; bytes.length(); j++) {\r\n      b = bytes[j];\r\n    }\r\n\r\n`b` will store each byte of my array, but I can&#39;t seem to get the length of the array correctly.\r\n\r\n    Error:cannot find symbol\r\n    Problem solved:  bytes.length instead of  bytes.length()","title":"Length of byte[] array","body":"<pre><code>String str = \"123456789\";\nbyte[] bytes = str.getBytes();\n</code></pre>\n\n<p>I want to make the following loop</p>\n\n<pre><code>for (int j = 0; j &lt; bytes.length(); j++) {\n  b = bytes[j];\n}\n</code></pre>\n\n<p><code>b</code> will store each byte of my array, but I can't seem to get the length of the array correctly.</p>\n\n<pre><code>Error:cannot find symbol\nProblem solved:  bytes.length instead of  bytes.length()\n</code></pre>\n"},{"tags":["java","flutter","oop"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1677764407,"post_id":75616124,"comment_id":133404772,"body_markdown":"Ok. What did you set it to? What happens when you `echo %JAVA_HOME%`? Are you on Windows? Where did you install Java? Please don&#39;t ask us to guess.","body":"Ok. What did you set it to? What happens when you <code>echo %JAVA_HOME%</code>? Are you on Windows? Where did you install Java? Please don&#39;t ask us to guess."},{"owner":{"account_id":9472425,"reputation":582,"user_id":9741277,"display_name":"leun4m"},"score":0,"creation_date":1677764800,"post_id":75616124,"comment_id":133404895,"body_markdown":"Did you restart your terminal after setting `JAVA_HOME`? If you adjust your environment, properties might not be reloaded. To be completely sure it might be wise to restart or simply logout / login in your OS :)","body":"Did you restart your terminal after setting <code>JAVA_HOME</code>? If you adjust your environment, properties might not be reloaded. To be completely sure it might be wise to restart or simply logout / login in your OS :)"},{"owner":{"account_id":26610498,"reputation":1,"user_id":20230760,"display_name":"Barış G&#252;neri"},"score":0,"creation_date":1677767038,"post_id":75616124,"comment_id":133405663,"body_markdown":"Already answered. this will help https://stackoverflow.com/a/68496027/20230760","body":"Already answered. this will help <a href=\"https://stackoverflow.com/a/68496027/20230760\">stackoverflow.com/a/68496027/20230760</a>"},{"owner":{"account_id":26542412,"reputation":2015,"user_id":20172954,"display_name":"Yash Mehta"},"score":0,"creation_date":1677837829,"post_id":75616124,"comment_id":133420124,"body_markdown":"Does this answer your question? [ERROR: JAVA\\_HOME is not set and no &#39;java&#39; command could be found in your flutter PATH. In Flutter](https://stackoverflow.com/questions/64359564/error-java-home-is-not-set-and-no-java-command-could-be-found-in-your-flutter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64359564/error-java-home-is-not-set-and-no-java-command-could-be-found-in-your-flutter\">ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your flutter PATH. In Flutter</a>"}],"owner":{"account_id":27202585,"reputation":1,"user_id":20734654,"display_name":"genius"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677764171,"creation_date":1677763939,"question_id":75616124,"body_markdown":"When I am using command prompt then write a doctor flutter --android-licenses then an error show on \r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\n\r\n\r\nI tied to add a java variable in system environment but when I open it again command prompt writes again the error remains same ","title":"java variable path in system envirnoment","body":"<p>When I am using command prompt then write a doctor flutter --android-licenses then an error show on\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.</p>\n<p>I tied to add a java variable in system environment but when I open it again command prompt writes again the error remains same</p>\n"},{"tags":["java","session","https","jmeter","jmeter-plugins"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677757431,"post_id":75614890,"comment_id":133402770,"body_markdown":"An internal server error is just that: something happens on the server. Check the server logs. If it&#39;s a java application, look for a stacktrace. Without more details, nobody can help you.","body":"An internal server error is just that: something happens on the server. Check the server logs. If it&#39;s a java application, look for a stacktrace. Without more details, nobody can help you."},{"owner":{"account_id":1922777,"reputation":25,"user_id":1733869,"display_name":"ankit dasani"},"score":0,"creation_date":1677757673,"post_id":75614890,"comment_id":133402833,"body_markdown":"I just want to know why only the login failed and the rest of the requests are passed successfully.","body":"I just want to know why only the login failed and the rest of the requests are passed successfully."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677759918,"post_id":75614890,"comment_id":133403476,"body_markdown":"as I said before: the error happens on the server. There&#39;s no way to tell that without inspecting what happens on the server.","body":"as I said before: the error happens on the server. There&#39;s no way to tell that without inspecting what happens on the server."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677764157,"creation_date":1677764157,"answer_id":75616167,"question_id":75614890,"body_markdown":" 1. [HTTP Status Code 500][1] means **Internal Server Error**, from JMeter&#39;s perspective you can only cross-check the request and compare it with the request sent by the real browser (or other application). The requests must be exactly the same (apart from dynamic values which need to be [correlated][2])\r\n\r\n    Once you configure JMeter to behave like a real browser (or other application) the request should be executed successfully. \r\n\r\n    Also given HTTP 5xx errors are **server** side errors it worth checking your application logs for any suspicious entries, most probably you will be able to figure out what&#39;s wrong from there. \r\n\r\n 2. &gt;other responses it passed\r\n\r\n    If JMeter shows &quot;green&quot; marks it doesn&#39;t necessarily mean that the request is &quot;passed&quot;. JMeter automatically considers responses with [status codes][3] below 400 as successful. If you&#39;re getting [HTTP 200 OK][4] it means that the request is successful from the HTTP protocol perspective and it doesn&#39;t mean that the request is doing what it is supposed to be doing. Most probably you&#39;re hitting login page and no CRUD operations are being performed. Check response body using [View Results Tree][5] listener to see if this is the case. \r\n\r\n    In order to avoid such &quot;false positive&quot; results going forward consider adding [Response Assertions][6] to your samplers to check if the response contains anticipated values or doesn&#39;t contain errors or both. This way you will get confidence that your script is doing what it is supposed to be doing and you&#39;re getting expected response back from the server    \r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500\r\n  [2]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#correlate-start\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\r\n  [4]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200\r\n  [5]: https://jmeter.apache.org/usermanual/component_reference.html#View_Results_Tree\r\n  [6]: https://www.blazemeter.com/blog/response-assertions-in-jmeter","title":"In login response throws 500 error but script is run successfully","body":"<ol>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500\" rel=\"nofollow noreferrer\">HTTP Status Code 500</a> means <strong>Internal Server Error</strong>, from JMeter's perspective you can only cross-check the request and compare it with the request sent by the real browser (or other application). The requests must be exactly the same (apart from dynamic values which need to be <a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#correlate-start\" rel=\"nofollow noreferrer\">correlated</a>)</p>\n<p>Once you configure JMeter to behave like a real browser (or other application) the request should be executed successfully.</p>\n<p>Also given HTTP 5xx errors are <strong>server</strong> side errors it worth checking your application logs for any suspicious entries, most probably you will be able to figure out what's wrong from there.</p>\n</li>\n<li>\n<blockquote>\n<p>other responses it passed</p>\n</blockquote>\n<p>If JMeter shows &quot;green&quot; marks it doesn't necessarily mean that the request is &quot;passed&quot;. JMeter automatically considers responses with <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\" rel=\"nofollow noreferrer\">status codes</a> below 400 as successful. If you're getting <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200\" rel=\"nofollow noreferrer\">HTTP 200 OK</a> it means that the request is successful from the HTTP protocol perspective and it doesn't mean that the request is doing what it is supposed to be doing. Most probably you're hitting login page and no CRUD operations are being performed. Check response body using <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#View_Results_Tree\" rel=\"nofollow noreferrer\">View Results Tree</a> listener to see if this is the case.</p>\n<p>In order to avoid such &quot;false positive&quot; results going forward consider adding <a href=\"https://www.blazemeter.com/blog/response-assertions-in-jmeter\" rel=\"nofollow noreferrer\">Response Assertions</a> to your samplers to check if the response contains anticipated values or doesn't contain errors or both. This way you will get confidence that your script is doing what it is supposed to be doing and you're getting expected response back from the server</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1922777,"reputation":25,"user_id":1733869,"display_name":"ankit dasani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677764157,"creation_date":1677756954,"question_id":75614890,"body_markdown":"I have a script that performs login then some operations and logout.\r\n\r\nBut when I run the script with 1 user. at that time login request failed and in response throws a 500(internal server error) error message. when I checked the other responses it passed, the operation was successfully performed including logout as well.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn addition, when I changed the Login request from POST to GET and run again the same script at that time login is passed but the creation operation failed. \r\n\r\nkindly suggest how to manage login requests and how to overcome the 500 error codes for this login request.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w5dFW.png\r\n  [2]: https://i.stack.imgur.com/SSg8u.png","title":"In login response throws 500 error but script is run successfully","body":"<p>I have a script that performs login then some operations and logout.</p>\n<p>But when I run the script with 1 user. at that time login request failed and in response throws a 500(internal server error) error message. when I checked the other responses it passed, the operation was successfully performed including logout as well.</p>\n<p><a href=\"https://i.stack.imgur.com/w5dFW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w5dFW.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SSg8u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SSg8u.png\" alt=\"enter image description here\" /></a></p>\n<p>In addition, when I changed the Login request from POST to GET and run again the same script at that time login is passed but the creation operation failed.</p>\n<p>kindly suggest how to manage login requests and how to overcome the 500 error codes for this login request.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1677762133,"post_id":75615124,"comment_id":133404068,"body_markdown":"Exit code 1 means: (spring boot app) failed to start! (Try to get more logs)...upgrading from 2.7 to 3 is not trivial!! Please follow [upgrade guide](https://docs.spring.io/spring-boot/docs/current/reference/html/upgrading.html#upgrading).","body":"Exit code 1 means: (spring boot app) failed to start! (Try to get more logs)...upgrading from 2.7 to 3 is not trivial!! Please follow <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/upgrading.html#upgrading\" rel=\"nofollow noreferrer\">upgrade guide</a>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1677762468,"post_id":75615124,"comment_id":133404152,"body_markdown":"&quot;Since this is a major release of Spring Boot, upgrading existing applications can be a little more involved that usual...&quot; from [3.0 release notes](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes)","body":"&quot;Since this is a major release of Spring Boot, upgrading existing applications can be a little more involved that usual...&quot; from <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">3.0 release notes</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1677762564,"post_id":75615124,"comment_id":133404182,"body_markdown":"How about `mvn clean install`? (Or `package`;)","body":"How about <code>mvn clean install</code>? (Or <code>package</code>;)"},{"owner":{"account_id":5243888,"reputation":101,"user_id":4190206,"display_name":"iron24"},"score":1,"creation_date":1677762603,"post_id":75615124,"comment_id":133404189,"body_markdown":"Did all lof the above things. Went through the upgrade guide. Mvn clean and package works. I just can&#39;t run the application.","body":"Did all lof the above things. Went through the upgrade guide. Mvn clean and package works. I just can&#39;t run the application."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1677762784,"post_id":75615124,"comment_id":133404254,"body_markdown":"Also: &quot;IMPORTANT:For spring-boot v3 support, make sure you use [springdoc-openapi v2](https://springdoc.org/v2)&quot; ..from [springdoc](https://springdoc.org/)","body":"Also: &quot;IMPORTANT:For spring-boot v3 support, make sure you use <a href=\"https://springdoc.org/v2\" rel=\"nofollow noreferrer\">springdoc-openapi v2</a>&quot; ..from <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">springdoc</a>"},{"owner":{"account_id":5243888,"reputation":101,"user_id":4190206,"display_name":"iron24"},"score":1,"creation_date":1677763958,"post_id":75615124,"comment_id":133404614,"body_markdown":"Didn&#39;t work sadly, upgraded springdocs to 2.0.2. This part would have caused issues too I guess, so thank you anyway!","body":"Didn&#39;t work sadly, upgraded springdocs to 2.0.2. This part would have caused issues too I guess, so thank you anyway!"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677765277,"post_id":75615124,"comment_id":133405048,"body_markdown":"Remove the properties you are using to define of spring-boot dependencies. Let the parent define them... that&#39;s the idea of using the parent... things like spring-security etc. also check the release notes of Spring Boot... what has changed in 3.X","body":"Remove the properties you are using to define of spring-boot dependencies. Let the parent define them... that&#39;s the idea of using the parent... things like spring-security etc. also check the release notes of Spring Boot... what has changed in 3.X"}],"owner":{"account_id":5243888,"reputation":101,"user_id":4190206,"display_name":"iron24"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677764126,"creation_date":1677758322,"question_id":75615124,"body_markdown":"Upgraded a Spring boot 2.7 project to 3.0.3 (current latest). When I&#39;m trying to start it with `mvn -e -X spring-boot:run -Dspring-boot.run.profiles=local`. Then I get the following error: \r\n\r\n```\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.3:run (default-cli) on project my-project: Process terminated with exit code: 1 -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.3:run (default-cli) on project my-project: Process terminated with exit code: 1\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Process terminated with exit code: 1\r\n    at org.springframework.boot.maven.JavaProcessExecutor.run (JavaProcessExecutor.java:74)\r\n    at org.springframework.boot.maven.RunMojo.run (RunMojo.java:69)\r\n    at org.springframework.boot.maven.AbstractRunMojo.run (AbstractRunMojo.java:218)\r\n    at org.springframework.boot.maven.AbstractRunMojo.execute (AbstractRunMojo.java:205)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n```\r\n\r\nHere are the relevant pom.xml parts:\r\n\r\n```\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.3&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;my-project&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.3&lt;/version&gt;\r\n\r\n  &lt;name&gt;my-project&lt;/name&gt;\r\n\r\n\r\n\r\n    &lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n    &lt;spring-boot.version&gt;${project.parent.version}&lt;/spring-boot.version&gt;\r\n    &lt;spring-cloud.version&gt;2.2.6.RELEASE&lt;/spring-cloud.version&gt;\r\n    &lt;springdoc.version&gt;2.0.2&lt;/springdoc.version&gt;\r\n    &lt;spring-security.version&gt;6.0.2&lt;/spring-security.version&gt;\r\n    &lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\r\n    &lt;mapstruct.version&gt;1.5.3.Final&lt;/mapstruct.version&gt;\r\n    &lt;awssdk.version&gt;2.20.15&lt;/awssdk.version&gt;\r\n\r\n    ...\r\n  &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;2022.0.1&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n        &lt;version&gt;${awssdk.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- SQS listeners --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n      &lt;version&gt;${awssdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- API security --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-starter-common&lt;/artifactId&gt;\r\n      &lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    ....\r\n  &lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;${java.version}&lt;/source&gt;\r\n          &lt;target&gt;${java.version}&lt;/target&gt;\r\n          &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n              &lt;version&gt;0.2.0&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n              &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n          &lt;compilerArgument&gt;-Xlint:unchecked,deprecation&lt;/compilerArgument&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;compilerArg&gt;\r\n              -Amapstruct.suppressGeneratorTimestamp=true\r\n            &lt;/compilerArg&gt;\r\n            &lt;compilerArg&gt;\r\n              -Amapstruct.suppressGeneratorVersionInfoComment=true\r\n            &lt;/compilerArg&gt;\r\n            &lt;compilerArg&gt;\r\n              -Amapstruct.defaultComponentModel=spring\r\n            &lt;/compilerArg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.resources.plugin}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;delimiters&gt;\r\n            &lt;delimiter&gt;@&lt;/delimiter&gt;\r\n          &lt;/delimiters&gt;\r\n          &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n```\r\n\r\nWhat am I missing? There are no more error messages (at least I can&#39;t produce them), and it was working fine with the earlier version of spring. ","title":"Unable to run spring boot 3.0.3 mojo error on run spring-boot-maven-plugin","body":"<p>Upgraded a Spring boot 2.7 project to 3.0.3 (current latest). When I'm trying to start it with <code>mvn -e -X spring-boot:run -Dspring-boot.run.profiles=local</code>. Then I get the following error:</p>\n<pre><code>[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.3:run (default-cli) on project my-project: Process terminated with exit code: 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.3:run (default-cli) on project my-project: Process terminated with exit code: 1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Process terminated with exit code: 1\n    at org.springframework.boot.maven.JavaProcessExecutor.run (JavaProcessExecutor.java:74)\n    at org.springframework.boot.maven.RunMojo.run (RunMojo.java:69)\n    at org.springframework.boot.maven.AbstractRunMojo.run (AbstractRunMojo.java:218)\n    at org.springframework.boot.maven.AbstractRunMojo.execute (AbstractRunMojo.java:205)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n<p>Here are the relevant pom.xml parts:</p>\n<pre><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;my-project&lt;/artifactId&gt;\n  &lt;version&gt;3.0.3&lt;/version&gt;\n\n  &lt;name&gt;my-project&lt;/name&gt;\n\n\n\n    &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n    &lt;spring-boot.version&gt;${project.parent.version}&lt;/spring-boot.version&gt;\n    &lt;spring-cloud.version&gt;2.2.6.RELEASE&lt;/spring-cloud.version&gt;\n    &lt;springdoc.version&gt;2.0.2&lt;/springdoc.version&gt;\n    &lt;spring-security.version&gt;6.0.2&lt;/spring-security.version&gt;\n    &lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\n    &lt;mapstruct.version&gt;1.5.3.Final&lt;/mapstruct.version&gt;\n    &lt;awssdk.version&gt;2.20.15&lt;/awssdk.version&gt;\n\n    ...\n  &lt;/properties&gt;\n\n\n    &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;2022.0.1&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;bom&lt;/artifactId&gt;\n        &lt;version&gt;${awssdk.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- SQS listeners --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\n      &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n          &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\n      &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n      &lt;artifactId&gt;s3&lt;/artifactId&gt;\n      &lt;version&gt;${awssdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- API security --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n      &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n      &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n      &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n         &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;${springdoc.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-common&lt;/artifactId&gt;\n      &lt;version&gt;${springdoc.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\n      &lt;version&gt;${springdoc.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    ....\n  &lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${java.version}&lt;/source&gt;\n          &lt;target&gt;${java.version}&lt;/target&gt;\n          &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n              &lt;version&gt;0.2.0&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n              &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n              &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n          &lt;compilerArgument&gt;-Xlint:unchecked,deprecation&lt;/compilerArgument&gt;\n          &lt;compilerArgs&gt;\n            &lt;compilerArg&gt;\n              -Amapstruct.suppressGeneratorTimestamp=true\n            &lt;/compilerArg&gt;\n            &lt;compilerArg&gt;\n              -Amapstruct.suppressGeneratorVersionInfoComment=true\n            &lt;/compilerArg&gt;\n            &lt;compilerArg&gt;\n              -Amapstruct.defaultComponentModel=spring\n            &lt;/compilerArg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.resources.plugin}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;delimiters&gt;\n            &lt;delimiter&gt;@&lt;/delimiter&gt;\n          &lt;/delimiters&gt;\n          &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n</code></pre>\n<p>What am I missing? There are no more error messages (at least I can't produce them), and it was working fine with the earlier version of spring.</p>\n"},{"tags":["java","xml","soap"],"comments":[{"owner":{"account_id":9472425,"reputation":582,"user_id":9741277,"display_name":"leun4m"},"score":0,"creation_date":1677763815,"post_id":75615650,"comment_id":133404571,"body_markdown":"Are you sure `\\n` in your XML file will be interpreted as newline? And not just the character sequence.","body":"Are you sure <code>\\n</code> in your XML file will be interpreted as newline? And not just the character sequence."}],"answers":[{"comments":[{"owner":{"account_id":7322177,"reputation":1011,"user_id":5577819,"accept_rate":100,"display_name":"Zia"},"score":0,"creation_date":1678099929,"post_id":75616131,"comment_id":133461591,"body_markdown":"I am using this regex but when i am passing \\n then its not getting strip out value.replaceAll(&quot;\\\\\\\\\\\\\\\\[tnbrf&#39;\\&quot;\\\\\\\\]&quot;, &quot;&quot;); with \\\\n its working fine, i also want to replace single \\ with space.","body":"I am using this regex but when i am passing \\n then its not getting strip out value.replaceAll(&quot;\\\\\\\\\\\\\\&#91;tnbrf&#39;\\&quot;\\\\\\&#93;&quot;, &quot;&quot;); with \\\\n its working fine, i also want to replace single \\ with space."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677763983,"creation_date":1677763983,"answer_id":75616131,"question_id":75615650,"body_markdown":"As far as XML is concerned, `\\n` is not a special character or a newline, it is a backslash followed by an `n`. If you want to match it in a regular expression, you want `\\\\n`.","title":"Strip out Special Char Sequence from XML Element","body":"<p>As far as XML is concerned, <code>\\n</code> is not a special character or a newline, it is a backslash followed by an <code>n</code>. If you want to match it in a regular expression, you want <code>\\\\n</code>.</p>\n"}],"owner":{"account_id":7322177,"reputation":1011,"user_id":5577819,"accept_rate":100,"display_name":"Zia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677763983,"creation_date":1677761477,"question_id":75615650,"body_markdown":"I am having a soap request which contains the one element `&lt;NickName&gt;\\nickname&lt;/NickName&gt;` and in my java end i am trying to strip out the special char `\\n` (new line) from it so my nickname property will hold `ickname`.\r\nAt java end i am calling the below code\r\n\r\n     nickName.replaceAll(&quot;[^&quot;\r\n                    + &quot;\\u0009\\r\\n&quot;\r\n                    + &quot;\\u0020-\\uD7FF&quot;\r\n                    + &quot;\\uE000-\\uFFFD&quot;\r\n                    + &quot;\\ud800\\udc00-\\udbff\\udfff&quot;\r\n                    + &quot;]&quot;, &quot;&quot;);\r\n\r\nbut its not stripping the new line and i am getting result as \\nickname. i am expecting it should return me as `ickname`.","title":"Strip out Special Char Sequence from XML Element","body":"<p>I am having a soap request which contains the one element <code>&lt;NickName&gt;\\nickname&lt;/NickName&gt;</code> and in my java end i am trying to strip out the special char <code>\\n</code> (new line) from it so my nickname property will hold <code>ickname</code>.\nAt java end i am calling the below code</p>\n<pre><code> nickName.replaceAll(&quot;[^&quot;\n                + &quot;\\u0009\\r\\n&quot;\n                + &quot;\\u0020-\\uD7FF&quot;\n                + &quot;\\uE000-\\uFFFD&quot;\n                + &quot;\\ud800\\udc00-\\udbff\\udfff&quot;\n                + &quot;]&quot;, &quot;&quot;);\n</code></pre>\n<p>but its not stripping the new line and i am getting result as \\nickname. i am expecting it should return me as <code>ickname</code>.</p>\n"},{"tags":["java","json","hashmap"],"comments":[{"owner":{"account_id":1694567,"reputation":911,"user_id":1556234,"accept_rate":40,"display_name":"ema"},"score":1,"creation_date":1434104757,"post_id":30799635,"comment_id":49649852,"body_markdown":"read this https://github.com/elastic/elasticsearch/issues/1394. maybe it will be useful","body":"read this <a href=\"https://github.com/elastic/elasticsearch/issues/1394\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch/issues/1394</a>. maybe it will be useful"},{"owner":{"account_id":4777729,"reputation":161,"user_id":4117071,"display_name":"Sergey K"},"score":1,"creation_date":1619527709,"post_id":30799635,"comment_id":118927786,"body_markdown":"May be `pathCustomerFile` is a String? \n\nI had a similar problem, I was wrong with the input parameter. Fixed by replacing with `new File (pathCustomerFile)`","body":"May be <code>pathCustomerFile</code> is a String?   I had a similar problem, I was wrong with the input parameter. Fixed by replacing with <code>new File (pathCustomerFile)</code>"}],"answers":[{"tags":[],"owner":{"account_id":4690297,"reputation":3860,"user_id":3796586,"accept_rate":64,"display_name":"zbig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434111877,"creation_date":1434102095,"answer_id":30799976,"question_id":30799635,"body_markdown":"Please double check your input JSON string you don&#39;t have it wrongly escaped or `/` dangling somewhere. For example `/\\&quot;name\\&quot;`. Then Provide the correct type mapping tis way:\r\n\r\n    new ObjectMapper().readValue(pathCustomerFile, new TypeReference&lt;HashMap&lt;String, Customer&gt;&gt;(){});\r\n\r\nMy answer was tested with jackson-mapper-asl 1.9.13.\r\n\r\n** Your mapping just with `HashMap.class` will not give you desired results as Jackson will map your JSON into `Map&lt;String, Map&gt;`. You will find out, when you will try to get a value from Map and operate as if it were type of Customer.","title":"org.codehaus.jackson.JsonParseException: Unexpected character (&#39;/&#39; (code 47))","body":"<p>Please double check your input JSON string you don't have it wrongly escaped or <code>/</code> dangling somewhere. For example <code>/\\\"name\\\"</code>. Then Provide the correct type mapping tis way:</p>\n\n<pre><code>new ObjectMapper().readValue(pathCustomerFile, new TypeReference&lt;HashMap&lt;String, Customer&gt;&gt;(){});\n</code></pre>\n\n<p>My answer was tested with jackson-mapper-asl 1.9.13.</p>\n\n<p>** Your mapping just with <code>HashMap.class</code> will not give you desired results as Jackson will map your JSON into <code>Map&lt;String, Map&gt;</code>. You will find out, when you will try to get a value from Map and operate as if it were type of Customer.</p>\n"},{"comments":[{"owner":{"account_id":5778058,"reputation":1442,"user_id":4559577,"accept_rate":33,"display_name":"Dave"},"score":0,"creation_date":1434105558,"post_id":30800470,"comment_id":49650275,"body_markdown":"mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n\n**Error**:\nno suitable method found for configure(DeserializationFeature,boolean)","body":"mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_&zwnj;&#8203;AS_ARRAY, true);  <b>Error</b>: no suitable method found for configure(DeserializationFeature,boolean)"},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1434106994,"post_id":30800470,"comment_id":49651242,"body_markdown":"what version of jackson do you use?","body":"what version of jackson do you use?"},{"owner":{"account_id":5778058,"reputation":1442,"user_id":4559577,"accept_rate":33,"display_name":"Dave"},"score":0,"creation_date":1434107179,"post_id":30800470,"comment_id":49651370,"body_markdown":"gson 2.3.1, jackson-mapper-asl 1.9.13","body":"gson 2.3.1, jackson-mapper-asl 1.9.13"},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1434114494,"post_id":30800470,"comment_id":49656068,"body_markdown":"@DavideFruci see my UPDATE, also try it without configuring the mapper to accept the single value as array","body":"@DavideFruci see my UPDATE, also try it without configuring the mapper to accept the single value as array"},{"owner":{"account_id":5778058,"reputation":1442,"user_id":4559577,"accept_rate":33,"display_name":"Dave"},"score":0,"creation_date":1434221206,"post_id":30800470,"comment_id":49690564,"body_markdown":"I added your dependecies but I have the same error again.","body":"I added your dependecies but I have the same error again."},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1434346212,"post_id":30800470,"comment_id":49720001,"body_markdown":"Try to use &#39;objectMapper.configure(JsonParser.Feature.ALLOW_COMMENTS, true);&#39;","body":"Try to use &#39;objectMapper.configure(JsonParser.Feature.ALLOW_COMMENTS, true);&#39;"},{"owner":{"account_id":5778058,"reputation":1442,"user_id":4559577,"accept_rate":33,"display_name":"Dave"},"score":0,"creation_date":1434358148,"post_id":30800470,"comment_id":49725637,"body_markdown":"mapper.configure(JsonParser.Feature.ALLOW_COMMENTS, true); **error** no suitable method found for configure(com.fasterxml.jackson.core.JsonParser.Feature.boolean);\n\n---\n\nLike dependecies I have: jackson-annotations (2.4.1), jackson-core (2.4.1), jackson-databind (2.4.1), json (20090211) and jackson-mapper-asl (1.9.13)","body":"mapper.configure(JsonParser.Feature.ALLOW_COMMENTS, true); <b>error</b> no suitable method found for configure(com.fasterxml.jackson.core.JsonParser.Feature.bool&zwnj;&#8203;ean);  ---  Like dependecies I have: jackson-annotations (2.4.1), jackson-core (2.4.1), jackson-databind (2.4.1), json (20090211) and jackson-mapper-asl (1.9.13)"},{"owner":{"account_id":5778058,"reputation":1442,"user_id":4559577,"accept_rate":33,"display_name":"Dave"},"score":0,"creation_date":1434445875,"post_id":30800470,"comment_id":49768710,"body_markdown":"In the end I converted file json in string and then this string in HashMap using: **mapCustomer = mapper.readValue(jsonString,\n                    new TypeReference&lt;HashMap&lt;String, Customer&gt;&gt;() {\n                    });**","body":"In the end I converted file json in string and then this string in HashMap using: <b>mapCustomer = mapper.readValue(jsonString,                     new TypeReference&lt;HashMap&lt;String, Customer&gt;&gt;() {                     });</b>"}],"tags":[],"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434114480,"creation_date":1434103662,"answer_id":30800470,"question_id":30799635,"body_markdown":"I would create a POJO for customers having the list with the customers and the getter/setter pair, like that:\r\n\r\n    class CustomersFile{\r\n      List&lt;Customer&gt; customers;\r\n\r\n      //getter and setter\r\n    }\r\n\r\nThen I would create class Customer with the field name and customerDetails, like that:\r\n\r\n    class Customer {\r\n      String name;\r\n      CustomerDetails details;\r\n\r\n      //getters and setters for both fields\r\n    }\r\n\r\nAnd finally I would create the class CustomerDetails with all the fields, like that:\r\n\r\n    class CustomerDetails {\r\n      String name;\r\n      String telephone;\r\n      int pi; // and so on\r\n\r\n      //getters and setters for all fields  \r\n    }\r\n \r\nThen using object mapper I would map all the customers from json to my CustomersFile object:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    //this configuration is needed in case you have only one customer in your json.\r\n    objectMapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n    CustomersFile customersFile = mapper.readValue(pathCustomerFile, CustomersFile.class);\r\n\r\nTo access the list of customers, just call:\r\n\r\n    List&lt;Customer&gt; customers = customersFile.getCustomers();\r\n\r\nIf you really need a HashMap&lt;String, Customer&gt; then loop through the list and fill this hash map:\r\n\r\n    HashMap&lt;String, Customer&gt; map = new HashMap&lt;&gt;();\r\n    for(Customer customer : customers) {\r\n      // as string you can use the id of the customer (pi) but its no necessary, just use your desired String\r\n      map.put(&quot;String.valueOf(customer.getPi())&quot;, customer);\r\n    }\r\n\r\n**UPDATE**\r\n\r\nBelow are the dependencies I use in my project&#39;s pom:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"org.codehaus.jackson.JsonParseException: Unexpected character (&#39;/&#39; (code 47))","body":"<p>I would create a POJO for customers having the list with the customers and the getter/setter pair, like that:</p>\n\n<pre><code>class CustomersFile{\n  List&lt;Customer&gt; customers;\n\n  //getter and setter\n}\n</code></pre>\n\n<p>Then I would create class Customer with the field name and customerDetails, like that:</p>\n\n<pre><code>class Customer {\n  String name;\n  CustomerDetails details;\n\n  //getters and setters for both fields\n}\n</code></pre>\n\n<p>And finally I would create the class CustomerDetails with all the fields, like that:</p>\n\n<pre><code>class CustomerDetails {\n  String name;\n  String telephone;\n  int pi; // and so on\n\n  //getters and setters for all fields  \n}\n</code></pre>\n\n<p>Then using object mapper I would map all the customers from json to my CustomersFile object:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n//this configuration is needed in case you have only one customer in your json.\nobjectMapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\nCustomersFile customersFile = mapper.readValue(pathCustomerFile, CustomersFile.class);\n</code></pre>\n\n<p>To access the list of customers, just call:</p>\n\n<pre><code>List&lt;Customer&gt; customers = customersFile.getCustomers();\n</code></pre>\n\n<p>If you really need a HashMap then loop through the list and fill this hash map:</p>\n\n<pre><code>HashMap&lt;String, Customer&gt; map = new HashMap&lt;&gt;();\nfor(Customer customer : customers) {\n  // as string you can use the id of the customer (pi) but its no necessary, just use your desired String\n  map.put(\"String.valueOf(customer.getPi())\", customer);\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Below are the dependencies I use in my project's pom:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":443973,"reputation":4509,"user_id":835523,"accept_rate":85,"display_name":"Steve"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1469112974,"creation_date":1469112974,"answer_id":38507637,"question_id":30799635,"body_markdown":"I had this issue recently. I was trying to pass a path (in the form of a string) to readValue. You need to pass it either a string to parse, or a file object. Based on your variable nameI think you may have passed it the path to a file.\r\n\r\n(Basically, it&#39;s reading the &#39;/&#39; in the file path and throwing errors on them.","title":"org.codehaus.jackson.JsonParseException: Unexpected character (&#39;/&#39; (code 47))","body":"<p>I had this issue recently. I was trying to pass a path (in the form of a string) to readValue. You need to pass it either a string to parse, or a file object. Based on your variable nameI think you may have passed it the path to a file.</p>\n\n<p>(Basically, it's reading the '/' in the file path and throwing errors on them.</p>\n"},{"tags":[],"owner":{"account_id":2357627,"reputation":89,"user_id":2065095,"display_name":"Thierry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598613980,"creation_date":1598613980,"answer_id":63632883,"question_id":30799635,"body_markdown":"I had the same error when I add comments in JSON.\r\nI find solution on https://github.com/elastic/elasticsearch/issues/1394\r\n\r\n\r\n\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configure(JsonParser.Feature.ALLOW_COMMENTS, true);\r\n    final HashMap&lt;String, Customer&gt; listCustomer = mapper.readValue(pathCustomerFile, HashMap.class); //This line gives me no error\r\n\r\n","title":"org.codehaus.jackson.JsonParseException: Unexpected character (&#39;/&#39; (code 47))","body":"<p>I had the same error when I add comments in JSON.\nI find solution on <a href=\"https://github.com/elastic/elasticsearch/issues/1394\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch/issues/1394</a></p>\n<pre><code>final ObjectMapper mapper = new ObjectMapper();\nmapper.configure(JsonParser.Feature.ALLOW_COMMENTS, true);\nfinal HashMap&lt;String, Customer&gt; listCustomer = mapper.readValue(pathCustomerFile, HashMap.class); //This line gives me no error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10462244,"reputation":69,"user_id":7712620,"display_name":"Swati"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612333188,"creation_date":1612333188,"answer_id":66022248,"question_id":30799635,"body_markdown":"I had the same issue. I was mistakenly sending comments in my request payload like &#39;//&#39;. \r\nRemoving &#39;//&#39; worked for me.","title":"org.codehaus.jackson.JsonParseException: Unexpected character (&#39;/&#39; (code 47))","body":"<p>I had the same issue. I was mistakenly sending comments in my request payload like '//'.\nRemoving '//' worked for me.</p>\n"},{"tags":[],"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646915143,"creation_date":1646915143,"answer_id":71424154,"question_id":30799635,"body_markdown":"In my case, this was exactly as @Sergey K pointed out in the earliest comments. So the credit goes to him.\r\n\r\n    String pathCustomerFile = &quot;/blah/blah.json&quot;;  // &lt;-- Problematic line\r\n    listCustomer = new ObjectMapper().readValue(pathCustomerFile, HashMap.class);\r\n\r\nTurns out `pathCustomerFile` was `String` and jackson runtime was trying to interpret the value of this string as a JSON object, hence the error. \r\n\r\n**Unexpected character &#39;/&#39;** is the very first character of the path value `&quot;/blah/blah.json&quot;`\r\n\r\nYou can also tell this by the checked exception that the `readValue` method throws, if it is `ProcessingException`, then chances are the parameter itself is going to be interpreted as the JSON string.\r\n\r\n\r\n**SOLUTION:** \r\n\r\nWrapping the path string with `File` resolves the problem:\r\n\r\n    new ObjectMapper().readValue(new File(pathCustomerFile), HashMap.class);\r\nYou can verify this by the checked exception being thrown changing to `IOException` as well.","title":"org.codehaus.jackson.JsonParseException: Unexpected character (&#39;/&#39; (code 47))","body":"<p>In my case, this was exactly as @Sergey K pointed out in the earliest comments. So the credit goes to him.</p>\n<pre><code>String pathCustomerFile = &quot;/blah/blah.json&quot;;  // &lt;-- Problematic line\nlistCustomer = new ObjectMapper().readValue(pathCustomerFile, HashMap.class);\n</code></pre>\n<p>Turns out <code>pathCustomerFile</code> was <code>String</code> and jackson runtime was trying to interpret the value of this string as a JSON object, hence the error.</p>\n<p><strong>Unexpected character '/'</strong> is the very first character of the path value <code>&quot;/blah/blah.json&quot;</code></p>\n<p>You can also tell this by the checked exception that the <code>readValue</code> method throws, if it is <code>ProcessingException</code>, then chances are the parameter itself is going to be interpreted as the JSON string.</p>\n<p><strong>SOLUTION:</strong></p>\n<p>Wrapping the path string with <code>File</code> resolves the problem:</p>\n<pre><code>new ObjectMapper().readValue(new File(pathCustomerFile), HashMap.class);\n</code></pre>\n<p>You can verify this by the checked exception being thrown changing to <code>IOException</code> as well.</p>\n"}],"owner":{"account_id":5778058,"reputation":1442,"user_id":4559577,"accept_rate":33,"display_name":"Dave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21783,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":6,"score":14,"last_activity_date":1677763973,"creation_date":1434101113,"question_id":30799635,"body_markdown":"I have a file that contains a HashMap customer list in json format.\r\n\r\nLike this: \r\n\r\n    {&quot;Davide&quot;:{&quot;name&quot;:&quot;Davide&quot;,&quot;cf&quot;:&quot;FRCDVD&quot;,&quot;pi&quot;:&quot;1234&quot;,\r\n        &quot;telephone&quot;:&quot;333&quot;,&quot;website&quot;:&quot;www&quot;,&quot;sector&quot;:&quot;Student&quot;,&quot;address&quot;:&quot;Rome&quot;}}\r\n\r\nThis is just a one customer of list. \r\nEverytime the controller is called I want to take datas from the file and convert them into HashMap list. \r\n\r\nI tried to do this with:\r\n\r\n    HashMap&lt;String, Customer&gt; listCustomer = new HashMap&lt;&gt;();\r\n    listCustomer = new ObjectMapper().readValue(pathCustomerFile, HashMap.class); //This line gives me error\r\n\r\nI got this error:\r\n\r\n&gt;  org.codehaus.jackson.JsonParseException: Unexpected character (&#39;/&#39; (code 47)): maybe a (non-standard) comment? (not recognized as one since Feature &#39;ALLOW_COMMENTS&#39; not enabled for parser)\r\n\r\nHow can I do that?","title":"org.codehaus.jackson.JsonParseException: Unexpected character (&#39;/&#39; (code 47))","body":"<p>I have a file that contains a HashMap customer list in json format.</p>\n\n<p>Like this: </p>\n\n<pre><code>{\"Davide\":{\"name\":\"Davide\",\"cf\":\"FRCDVD\",\"pi\":\"1234\",\n    \"telephone\":\"333\",\"website\":\"www\",\"sector\":\"Student\",\"address\":\"Rome\"}}\n</code></pre>\n\n<p>This is just a one customer of list. \nEverytime the controller is called I want to take datas from the file and convert them into HashMap list. </p>\n\n<p>I tried to do this with:</p>\n\n<pre><code>HashMap&lt;String, Customer&gt; listCustomer = new HashMap&lt;&gt;();\nlistCustomer = new ObjectMapper().readValue(pathCustomerFile, HashMap.class); //This line gives me error\n</code></pre>\n\n<p>I got this error:</p>\n\n<blockquote>\n  <p>org.codehaus.jackson.JsonParseException: Unexpected character ('/' (code 47)): maybe a (non-standard) comment? (not recognized as one since Feature 'ALLOW_COMMENTS' not enabled for parser)</p>\n</blockquote>\n\n<p>How can I do that?</p>\n"},{"tags":["java","spring","spring-boot","ssh","spring-cloud-config"],"owner":{"account_id":8411933,"reputation":2534,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677763605,"creation_date":1677763605,"question_id":75616062,"body_markdown":"I am trying to create a spring cloud config server to connect to git repository(bitbucket) using an SSH URI. I am following Spring Cloud Config.\r\n\r\nI generated key pair using the command\r\n```\r\nssh-keygen -m PEM -t rsa -b 4096 -C &quot;sweta&quot;\r\n```\r\n\r\nI tried to run below command for known_hosts file\r\n```\r\nssh webprod-cvs2.test.com\r\n```\r\nBelow is the outcome of above command\r\n```\r\nThe authenticity of host &#39;webprod-cvs2.test.com (161.134.126.61)&#39; can&#39;t be established.\r\nECDSA key fingerprint is SHA256:rOc67c4dj1nBlEnNJvB5e6u2TkcJo8k7X1VJCWk.\r\nThis key is not known by any other names\r\n```\r\n\r\nBelow is the entry in known_hosts file\r\n```\r\nwebprod-cvs2.test.com ecdsa-sha2-nistp256 AAAAE2VjZHNhLXAAAIbmlzdHAyNTYAAABBBOJeugo5WQ2UlUBDH7UWJUOSCp0f20thcUw8G8ZoKP54OBIgsBXeb8x5PxTq86jOmY+K4yYQFHGVdH8Vmz6HsgM=\r\n```\r\n\r\nBelow is application.properties file\r\n```\r\nspring.cloud.config.server.git.uri=git@webprod-cvs2.test.com:7999/micro/config-properties.git\r\nspring.cloud.config.server.git.ignoreLocalSshSettings=true\r\nspring.cloud.config.server.git.strictHostKeyChecking=false\r\nspring.cloud.config.server.git.host-key=AAAAE2VjZHNhLXAAAIbmlzdHAyNTYAAABBBOJeugo5WQ2UlUBDH7UWJUOSCp0f20thcUw8G8ZoKP54OBIgsBXeb8x5PxTq86jOmY+K4yYQFHGVdH8Vmz6HsgM=\r\nspring.cloud.config.server.git.hostKeyAlgorithm=ecdsa-sha2-nistp256\r\nspring.cloud.config.server.git.passphrase=secret123\r\nspring.cloud.config.server.git.privateKey=-----BEGIN RSA PRIVATE KEY-----\\n\\\r\nProc-Type: 4,ENCRYPTED\\n\\\r\nDEK-Info: AES-128-CBC,327F2601F22244F902A89CF70200FDE2\\n\\\r\n\\n\\\r\nO0SRZZ7qiC0fp6eNGahkd50MQHV0Li3S4wzqbIDsncDpSlp8WJ3wMFAKPDRV++0a\\\r\nN54jjVaDzPUVJkDJJvZpX6q5KT8sv54q7EzD8IX5DSnvrRaw8iR12GJF0MC77mCA\\\r\nnK3R9FE/iNa/Sg/Ui3woyEfyDR4ocgGYzQHCTdfPgBcV4SihU3503MLEa9yhCoCP\\\r\nmbfyEXI6NpfsbZ5ETY8Qek6r5E5XECw8HoU63x858St9Oti1/y36a6kj9cmX/iD7\\\r\nI50txX9mW+C/126NoHjYUzb4o5iGxtfB6vP/McBhcw9aEuFYcTJyTepM/nK1IlbL\\\r\ny8hQkoEiIz9Ijja6wYkP/0s/6DBhJPTpTMlijyd0yS+xGmCvJLmiqricZHbDAGwr\\\r\nL8Xgdp6as3VDgDCR5wQ+jzhFAEt7qToZt3oqD/XeWw0UTYlx5DnvNZGlVWSlvvPe\\\r\n7nH1ZqY2S5O6RpPgxsrj/x8nELYGGRp7kftcV28Fu3mlpOGwB2nXQK0uB6JsFKGh\\\r\nDEfCKtUZ2L1gEc+R3rNeq3Nji3ZlYzTbEdptuqXr7nQGX/7n5yRL90rNwUuDjv5Z\\\r\nHnX/ul5c8kwRbUz5/ZLviJ6gl5KFG8xUJErNcajFTdUaxlqN0plUUtP5X7Bld2M7\\\r\nzjv5C3KhOWp6mle82WB09ur1lZPFufhDRXedUm83rtOiWN5gG79EzzgOtybO1R0e\\\r\nOTId2A45EdNvnk2f2lHs5c/SQk8Q7VVE2/CHGyIPDnyWH1tiI6+V0Bjcl64kzxnP\\\r\n5RhWZ4gJGhS3mLLw3sRzwN5I/16VGc6yJ5qsoAMOYm5Nq4PVk51iKw1lI5NGDvLm\\\r\nYYLocfAnsT7L1ro+QfGYKHFWQXMbmxPtyHgWle60er08OufllilXotNjZ47b1xUn\\\r\n+XzJzQCmjoVsRjq3wjWiYOyLkR6UXsSJ86F8rYEXkHJ83ZXxPD+8pVm8py2C0/79\\\r\nGuWhlkYV6FJPJHXgw3JIp7S7LsyiEftJMFbADpk4KEghKb3oeDKMGkQ5xwCMhoY/\\\r\n+NfEWCK6EE9h9Nz2Fzyp3xl/C4ZHd6HtciqNpvrEZZP0BpNbt6EnAItvCdoAKAsh\\\r\nlD5Tmh/EdWjrPo29CYV2AvE1KXoa8HWojbiWIv+1SPrBPsfVz0B3hSIihkTmBS2C\\\r\nvWZfthHh568UO3kPoRPD0KD8wBrFf433xbzoUxLsTcZadgLqVmhngKmeMtWDdcRt\\\r\nbnae/QQQB0GyPaT+EUtJilWPqwFVaBK1qf0fhkRrC8YFcATQP+PyGkQg0CqfCXqS\\\r\nCnPjnQQMz+X/K7u952YJTb+CDRaZfD8X5ARZQhJN2yDvr+tEY+DE6A1Jn6QDyM4m\\\r\ngcgeIPoWFs237uRvzZ8cNazd6FUgz4inmEVyhkIVE91hUJU3nFeuNggxN8pSEz5j\\\r\nz1zTKSCfmCwUOPI6rnbTJKn0UtwLY7TaTFKZQYIOG5rgBGg4y5Qu3hDlvScDt6LS\\\r\nISV0Deve8XqgZtr5hgJrUMsHX4ebzmnoJjRVEA8Ye1cINbJ9EaJ1Q1sjeXD6K+Lb\\\r\nI5COg+H7NvZ8+UPrDforLOMxjQUXB0Ri+RRgES7WpKPxzHaYjPM7ynSZn+uw66zT\\\r\nh9xNcnkj+MknDQeeTccIHjl7KQuLstfsYJe9TF4AjPdRUEtf5O9OItD/maEhYAvD\\\r\ndLgmNMzgVnkrS6bx9RRF4njA/OSTOEu/9YGEfX5qH0ggAOh3BB+jzvwZdKKHHeeO\\\r\nyqav4GaCYSbLrUoJeSDyF04QiU7q/kr2/bMDNm1ZP+E1nCORZST0bA71oYOCyCZK\\\r\nck6QrvePe0hRRReHJN6dSeLs8JdmgWzmsbUugb4cZykjBaFro7ZJCitxZuBpj7Iv\\\r\nGdXlCYgUxZ4P+O5b0/LJPdSRuAgQDUd4rvX5PHs1E+AU3qyyFhjnQGb3c5rDJSCR\\\r\nty24xkuubD8CLUlP4YPwDK6NS6ywJnSSAFKvneZifo0O50rYqY90PiVyRZclArwM\\n\\\r\n-----END RSA PRIVATE KEY-----\r\n```\r\n\r\nBelow is the error log:\r\n```\r\nCaused by: org.apache.sshd.common.SshException: No more authentication methods available\r\n\tat org.apache.sshd.client.session.ClientUserAuthService.tryNext(ClientUserAuthService.java:353) ~[sshd-osgi-2.7.0.jar:2.7.0]\r\n\tat org.apache.sshd.client.session.ClientUserAuthService.processUserAuth(ClientUserAuthService.java:288) ~[sshd-osgi-2.7.0.jar:2.7.0]\r\n\tat org.apache.sshd.client.session.ClientUserAuthService.process(ClientUserAuthService.java:225) ~[sshd-osgi-2.7.0.jar:2.7.0]\r\n```\r\n\r\nCan someone please guide me what am I missing?","title":"Spring cloud config server connection to Bitbucket using SSH keys gives No more authentication methods available error","body":"<p>I am trying to create a spring cloud config server to connect to git repository(bitbucket) using an SSH URI. I am following Spring Cloud Config.</p>\n<p>I generated key pair using the command</p>\n<pre><code>ssh-keygen -m PEM -t rsa -b 4096 -C &quot;sweta&quot;\n</code></pre>\n<p>I tried to run below command for known_hosts file</p>\n<pre><code>ssh webprod-cvs2.test.com\n</code></pre>\n<p>Below is the outcome of above command</p>\n<pre><code>The authenticity of host 'webprod-cvs2.test.com (161.134.126.61)' can't be established.\nECDSA key fingerprint is SHA256:rOc67c4dj1nBlEnNJvB5e6u2TkcJo8k7X1VJCWk.\nThis key is not known by any other names\n</code></pre>\n<p>Below is the entry in known_hosts file</p>\n<pre><code>webprod-cvs2.test.com ecdsa-sha2-nistp256 AAAAE2VjZHNhLXAAAIbmlzdHAyNTYAAABBBOJeugo5WQ2UlUBDH7UWJUOSCp0f20thcUw8G8ZoKP54OBIgsBXeb8x5PxTq86jOmY+K4yYQFHGVdH8Vmz6HsgM=\n</code></pre>\n<p>Below is application.properties file</p>\n<pre><code>spring.cloud.config.server.git.uri=git@webprod-cvs2.test.com:7999/micro/config-properties.git\nspring.cloud.config.server.git.ignoreLocalSshSettings=true\nspring.cloud.config.server.git.strictHostKeyChecking=false\nspring.cloud.config.server.git.host-key=AAAAE2VjZHNhLXAAAIbmlzdHAyNTYAAABBBOJeugo5WQ2UlUBDH7UWJUOSCp0f20thcUw8G8ZoKP54OBIgsBXeb8x5PxTq86jOmY+K4yYQFHGVdH8Vmz6HsgM=\nspring.cloud.config.server.git.hostKeyAlgorithm=ecdsa-sha2-nistp256\nspring.cloud.config.server.git.passphrase=secret123\nspring.cloud.config.server.git.privateKey=-----BEGIN RSA PRIVATE KEY-----\\n\\\nProc-Type: 4,ENCRYPTED\\n\\\nDEK-Info: AES-128-CBC,327F2601F22244F902A89CF70200FDE2\\n\\\n\\n\\\nO0SRZZ7qiC0fp6eNGahkd50MQHV0Li3S4wzqbIDsncDpSlp8WJ3wMFAKPDRV++0a\\\nN54jjVaDzPUVJkDJJvZpX6q5KT8sv54q7EzD8IX5DSnvrRaw8iR12GJF0MC77mCA\\\nnK3R9FE/iNa/Sg/Ui3woyEfyDR4ocgGYzQHCTdfPgBcV4SihU3503MLEa9yhCoCP\\\nmbfyEXI6NpfsbZ5ETY8Qek6r5E5XECw8HoU63x858St9Oti1/y36a6kj9cmX/iD7\\\nI50txX9mW+C/126NoHjYUzb4o5iGxtfB6vP/McBhcw9aEuFYcTJyTepM/nK1IlbL\\\ny8hQkoEiIz9Ijja6wYkP/0s/6DBhJPTpTMlijyd0yS+xGmCvJLmiqricZHbDAGwr\\\nL8Xgdp6as3VDgDCR5wQ+jzhFAEt7qToZt3oqD/XeWw0UTYlx5DnvNZGlVWSlvvPe\\\n7nH1ZqY2S5O6RpPgxsrj/x8nELYGGRp7kftcV28Fu3mlpOGwB2nXQK0uB6JsFKGh\\\nDEfCKtUZ2L1gEc+R3rNeq3Nji3ZlYzTbEdptuqXr7nQGX/7n5yRL90rNwUuDjv5Z\\\nHnX/ul5c8kwRbUz5/ZLviJ6gl5KFG8xUJErNcajFTdUaxlqN0plUUtP5X7Bld2M7\\\nzjv5C3KhOWp6mle82WB09ur1lZPFufhDRXedUm83rtOiWN5gG79EzzgOtybO1R0e\\\nOTId2A45EdNvnk2f2lHs5c/SQk8Q7VVE2/CHGyIPDnyWH1tiI6+V0Bjcl64kzxnP\\\n5RhWZ4gJGhS3mLLw3sRzwN5I/16VGc6yJ5qsoAMOYm5Nq4PVk51iKw1lI5NGDvLm\\\nYYLocfAnsT7L1ro+QfGYKHFWQXMbmxPtyHgWle60er08OufllilXotNjZ47b1xUn\\\n+XzJzQCmjoVsRjq3wjWiYOyLkR6UXsSJ86F8rYEXkHJ83ZXxPD+8pVm8py2C0/79\\\nGuWhlkYV6FJPJHXgw3JIp7S7LsyiEftJMFbADpk4KEghKb3oeDKMGkQ5xwCMhoY/\\\n+NfEWCK6EE9h9Nz2Fzyp3xl/C4ZHd6HtciqNpvrEZZP0BpNbt6EnAItvCdoAKAsh\\\nlD5Tmh/EdWjrPo29CYV2AvE1KXoa8HWojbiWIv+1SPrBPsfVz0B3hSIihkTmBS2C\\\nvWZfthHh568UO3kPoRPD0KD8wBrFf433xbzoUxLsTcZadgLqVmhngKmeMtWDdcRt\\\nbnae/QQQB0GyPaT+EUtJilWPqwFVaBK1qf0fhkRrC8YFcATQP+PyGkQg0CqfCXqS\\\nCnPjnQQMz+X/K7u952YJTb+CDRaZfD8X5ARZQhJN2yDvr+tEY+DE6A1Jn6QDyM4m\\\ngcgeIPoWFs237uRvzZ8cNazd6FUgz4inmEVyhkIVE91hUJU3nFeuNggxN8pSEz5j\\\nz1zTKSCfmCwUOPI6rnbTJKn0UtwLY7TaTFKZQYIOG5rgBGg4y5Qu3hDlvScDt6LS\\\nISV0Deve8XqgZtr5hgJrUMsHX4ebzmnoJjRVEA8Ye1cINbJ9EaJ1Q1sjeXD6K+Lb\\\nI5COg+H7NvZ8+UPrDforLOMxjQUXB0Ri+RRgES7WpKPxzHaYjPM7ynSZn+uw66zT\\\nh9xNcnkj+MknDQeeTccIHjl7KQuLstfsYJe9TF4AjPdRUEtf5O9OItD/maEhYAvD\\\ndLgmNMzgVnkrS6bx9RRF4njA/OSTOEu/9YGEfX5qH0ggAOh3BB+jzvwZdKKHHeeO\\\nyqav4GaCYSbLrUoJeSDyF04QiU7q/kr2/bMDNm1ZP+E1nCORZST0bA71oYOCyCZK\\\nck6QrvePe0hRRReHJN6dSeLs8JdmgWzmsbUugb4cZykjBaFro7ZJCitxZuBpj7Iv\\\nGdXlCYgUxZ4P+O5b0/LJPdSRuAgQDUd4rvX5PHs1E+AU3qyyFhjnQGb3c5rDJSCR\\\nty24xkuubD8CLUlP4YPwDK6NS6ywJnSSAFKvneZifo0O50rYqY90PiVyRZclArwM\\n\\\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>Below is the error log:</p>\n<pre><code>Caused by: org.apache.sshd.common.SshException: No more authentication methods available\n    at org.apache.sshd.client.session.ClientUserAuthService.tryNext(ClientUserAuthService.java:353) ~[sshd-osgi-2.7.0.jar:2.7.0]\n    at org.apache.sshd.client.session.ClientUserAuthService.processUserAuth(ClientUserAuthService.java:288) ~[sshd-osgi-2.7.0.jar:2.7.0]\n    at org.apache.sshd.client.session.ClientUserAuthService.process(ClientUserAuthService.java:225) ~[sshd-osgi-2.7.0.jar:2.7.0]\n</code></pre>\n<p>Can someone please guide me what am I missing?</p>\n"},{"tags":["java","hibernate","grails-orm"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1677757112,"post_id":75614885,"comment_id":133402682,"body_markdown":"Do you ask for an SQL answer? If you do, add your current SQL attempt, otherwise you can remove the &lt;sql&gt; tag.","body":"Do you ask for an SQL answer? If you do, add your current SQL attempt, otherwise you can remove the &lt;sql&gt; tag."}],"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677763444,"creation_date":1677756925,"question_id":75614885,"body_markdown":"I have a grails application where I have a domain class Person that has a field called uniqId (and other fields, but no persons_idx specifically mentioned). However, in db I have the table Person which has besides person_id column, also a persons_idx column that is a integer column (I think this column is autogenerated by hibernate). Here is the domain class :\r\n```\r\nclass Person {\r\n\r\n\tString unqId\r\n\r\n    static constraints = {\r\n\t\tunqId blank: false, minSize: 4, nullable: false\r\n    }\r\n\r\n\tstatic mapping = {\r\n\t\tid generator: &#39;assigned&#39;, name: &#39;unqId&#39;\r\n\t\tunqId column: &#39;person_id&#39;\r\n    }\r\n```\r\n\r\nI have another domain class Hospital that has a List of persons.\r\nI&#39;ve noticed if persons_idx values are not in ascending order (starting with 0,1,..n) then a NPE is thrown when writing something like:```hospital.persons.find {it.unqId.equals(personId)}```.  \r\nCaused by: java.lang.NullPointerException: Cannot get property &#39;unqId&#39; on null object.  Why do I get it?\r\nThe NPE exception is received for entries such as in Person table:\r\n\r\n| hid |persond_id |persons_idx |\r\n| -------- | -------------- | -------------- |\r\n| First    | 1            |5\r\n| Second   | 1            |6\r\n\r\nbut not if I have records as:\r\n\r\n| hid |persond_id |persons_idx |\r\n| -------- | -------------- | -------------- |\r\n| First    | 1            |0\r\n| Second   | 1            |1\r\n\r\n\r\nIn debug for the first example the List is a PersistedList of persons and has size 7 (because the last idx is 6)but only 2 displayed values.","title":"why i&#39;m getting NPE when trying to access a field from a domain class if tables_idx column values are not in ascending order using hibernate?","body":"<p>I have a grails application where I have a domain class Person that has a field called uniqId (and other fields, but no persons_idx specifically mentioned). However, in db I have the table Person which has besides person_id column, also a persons_idx column that is a integer column (I think this column is autogenerated by hibernate). Here is the domain class :</p>\n<pre><code>class Person {\n\n    String unqId\n\n    static constraints = {\n        unqId blank: false, minSize: 4, nullable: false\n    }\n\n    static mapping = {\n        id generator: 'assigned', name: 'unqId'\n        unqId column: 'person_id'\n    }\n</code></pre>\n<p>I have another domain class Hospital that has a List of persons.\nI've noticed if persons_idx values are not in ascending order (starting with 0,1,..n) then a NPE is thrown when writing something like:<code>hospital.persons.find {it.unqId.equals(personId)}</code>.<br />\nCaused by: java.lang.NullPointerException: Cannot get property 'unqId' on null object.  Why do I get it?\nThe NPE exception is received for entries such as in Person table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>hid</th>\n<th>persond_id</th>\n<th>persons_idx</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>First</td>\n<td>1</td>\n<td>5</td>\n</tr>\n<tr>\n<td>Second</td>\n<td>1</td>\n<td>6</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>but not if I have records as:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>hid</th>\n<th>persond_id</th>\n<th>persons_idx</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>First</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>Second</td>\n<td>1</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>In debug for the first example the List is a PersistedList of persons and has size 7 (because the last idx is 6)but only 2 displayed values.</p>\n"},{"tags":["java","macos","configuration"],"comments":[{"owner":{"account_id":94841,"reputation":50527,"user_id":258689,"accept_rate":88,"display_name":"Olivier Refalo"},"score":0,"creation_date":1377870676,"post_id":1348842,"comment_id":27259111,"body_markdown":"possible duplicate of [Where is JAVA\\_HOME on OSX Lion (10.7) , Mountain Lion (10.8) or Mavericks (10.9)?](http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-lion-10-7-mountain-lion-10-8-or-mavericks-10-9)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-lion-10-7-mountain-lion-10-8-or-mavericks-10-9\">Where is JAVA_HOME on OSX Lion (10.7) , Mountain Lion (10.8) or Mavericks (10.9)?</a>"}],"answers":[{"comments":[{"owner":{"account_id":1712951,"reputation":3348,"user_id":1570601,"accept_rate":50,"display_name":"JRun"},"score":0,"creation_date":1393499422,"post_id":1348867,"comment_id":33461373,"body_markdown":"/bin . and check that it points to the /Library/java and not /System/Library/.. as that one may be outdated.","body":"/bin . and check that it points to the /Library/java and not /System/Library/.. as that one may be outdated."},{"owner":{"account_id":896,"reputation":81678,"user_id":1175,"accept_rate":80,"display_name":"Kristopher Johnson"},"score":1,"creation_date":1461768987,"post_id":1348867,"comment_id":61351224,"body_markdown":"This is no longer accurate. On OS X 10.5 and later, use /usr/libexec/java_home to find the path.","body":"This is no longer accurate. On OS X 10.5 and later, use /usr/libexec/java_home to find the path."}],"tags":[],"owner":{"account_id":25027,"reputation":9018,"user_id":64044,"display_name":"Clint"},"comment_count":2,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1251487421,"creation_date":1251487421,"answer_id":1348867,"question_id":1348842,"body_markdown":"I tend to use `/Library/Java/Home`.  The way the preferences pane works this should be up to date with your preferred version.","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>I tend to use <code>/Library/Java/Home</code>.  The way the preferences pane works this should be up to date with your preferred version.</p>\n"},{"comments":[{"owner":{"account_id":6552,"reputation":20287,"user_id":11069,"accept_rate":100,"display_name":"Robert Christie"},"score":8,"creation_date":1251492056,"post_id":1348940,"comment_id":1185203,"body_markdown":"Snow Leopard does still have /usr/libexec/java_home. Thanks","body":"Snow Leopard does still have /usr/libexec/java_home. Thanks"},{"owner":{"account_id":2189095,"reputation":2139,"user_id":1936718,"accept_rate":34,"display_name":"drlobo"},"score":1,"creation_date":1365201656,"post_id":1348940,"comment_id":22546817,"body_markdown":"what is this &quot;/usr/libexec/java_home&quot; ?","body":"what is this &quot;/usr/libexec/java_home&quot; ?"},{"owner":{"account_id":14130,"reputation":401475,"user_id":28804,"accept_rate":74,"display_name":"mipadi"},"score":0,"creation_date":1365202881,"post_id":1348940,"comment_id":22547241,"body_markdown":"@drlobo: It&#39;s a tool for figuring out where `JAVA_HOME` is that ships with Macs.","body":"@drlobo: It&#39;s a tool for figuring out where <code>JAVA_HOME</code> is that ships with Macs."},{"owner":{"account_id":49770,"reputation":16873,"user_id":148335,"accept_rate":58,"display_name":"Pascal"},"score":59,"creation_date":1376015812,"post_id":1348940,"comment_id":26565815,"body_markdown":"Still valid for Mavericks","body":"Still valid for Mavericks"},{"owner":{"account_id":37073,"reputation":23568,"user_id":105904,"display_name":"Andrew Janke"},"score":0,"creation_date":1394943587,"post_id":1348940,"comment_id":34114091,"body_markdown":"I like to conditionalize it (in zsh) with `if /usr/libexec/java_home &amp;&gt; /dev/null; then export JAVA_HOME=$(/usr/libexec/java_home); fi`, so I can use the same .rc file on multiple machines whether they have the JDK installed or not. Unconditionalized; you&#39;ll get a warning on each shell startup.","body":"I like to conditionalize it (in zsh) with <code>if &#47;usr&#47;libexec&#47;java_home &amp;&gt; &#47;dev&#47;null; then export JAVA_HOME=$(&#47;usr&#47;libexec&#47;java_home); fi</code>, so I can use the same .rc file on multiple machines whether they have the JDK installed or not. Unconditionalized; you&#39;ll get a warning on each shell startup."},{"owner":{"account_id":1165812,"reputation":2692,"user_id":1144176,"display_name":"Jake Stoeffler"},"score":1,"creation_date":1403288840,"post_id":1348940,"comment_id":37616071,"body_markdown":"In Mavericks I had to put it in `~/.bash_profile` instead of `~/.bashrc`.","body":"In Mavericks I had to put it in <code>~&#47;.bash_profile</code> instead of <code>~&#47;.bashrc</code>."},{"owner":{"account_id":2541259,"reputation":630,"user_id":2207018,"display_name":"Heckscheibe"},"score":0,"creation_date":1407398249,"post_id":1348940,"comment_id":39201415,"body_markdown":"thanks especially for the part with the -v extension ;)","body":"thanks especially for the part with the -v extension ;)"},{"owner":{"account_id":105552,"reputation":3260,"user_id":281600,"display_name":"St&#233;phane B."},"score":0,"creation_date":1409752927,"post_id":1348940,"comment_id":40072809,"body_markdown":"If you want to share this environment variable with all users, you must update /etc/profile","body":"If you want to share this environment variable with all users, you must update /etc/profile"},{"owner":{"account_id":47591,"reputation":5499,"user_id":141042,"accept_rate":86,"display_name":"Geoffrey Wiseman"},"score":43,"creation_date":1414526816,"post_id":1348940,"comment_id":41846159,"body_markdown":"Still valid for Yosemite. ;)","body":"Still valid for Yosemite. ;)"},{"owner":{"account_id":303732,"reputation":1397,"user_id":612847,"accept_rate":67,"display_name":"Sergiu"},"score":4,"creation_date":1460012778,"post_id":1348940,"comment_id":60548857,"body_markdown":"I get an error when setting the path: `ln: /usr/libexec/java_home: Operation not permitted`. Anybody knows what could be the problem?","body":"I get an error when setting the path: <code>ln: &#47;usr&#47;libexec&#47;java_home: Operation not permitted</code>. Anybody knows what could be the problem?"},{"owner":{"account_id":392397,"reputation":28086,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"score":0,"creation_date":1460816533,"post_id":1348940,"comment_id":60922544,"body_markdown":"I have multiple versions installed. I did what you wrote but it still shows the newest version. Running on El Capitan. Like someone else posted elsewhere, if you don&#39;t want it using the newest version, then you will have to rename the directory where it is installed, move it elsewhere or delete it. Seriously, this is 2016 and nobody has bothered to post a comment here on this???","body":"I have multiple versions installed. I did what you wrote but it still shows the newest version. Running on El Capitan. Like someone else posted elsewhere, if you don&#39;t want it using the newest version, then you will have to rename the directory where it is installed, move it elsewhere or delete it. Seriously, this is 2016 and nobody has bothered to post a comment here on this???"},{"owner":{"account_id":187852,"reputation":723,"user_id":426209,"accept_rate":75,"display_name":"Yichuan Wang"},"score":1,"creation_date":1461805250,"post_id":1348940,"comment_id":61370732,"body_markdown":"For fish shell users, use something like the following: `alias java7 &quot;set -gx JAVA_HOME (/usr/libexec/java_home -v1.7)&quot;` (Works on El Capitan)","body":"For fish shell users, use something like the following: <code>alias java7 &quot;set -gx JAVA_HOME (&#47;usr&#47;libexec&#47;java_home -v1.7)&quot;</code> (Works on El Capitan)"},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1478877990,"post_id":1348940,"comment_id":68340549,"body_markdown":"https://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/","body":"<a href=\"https://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\" rel=\"nofollow noreferrer\">mkyong.com/java/&hellip;</a>"},{"owner":{"account_id":6393977,"reputation":2307,"user_id":4959049,"accept_rate":80,"display_name":"Robert Moore"},"score":0,"creation_date":1479389111,"post_id":1348940,"comment_id":68543152,"body_markdown":"@JakeStoeffler I think that&#39;s true for all versions of mac. I&#39;m on Sierra right now","body":"@JakeStoeffler I think that&#39;s true for all versions of mac. I&#39;m on Sierra right now"},{"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"score":0,"creation_date":1486556242,"post_id":1348940,"comment_id":71394404,"body_markdown":"I can not FIND Java path anywhere for Java 8 Update 121. (macOS 10.12.3)  Any ideas?","body":"I can not FIND Java path anywhere for Java 8 Update 121. (macOS 10.12.3)  Any ideas?"},{"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"score":0,"creation_date":1510431829,"post_id":1348940,"comment_id":81435441,"body_markdown":"Works for High Sierra 10.13.1 with modification of version to 9.0 (possibly due to Homebrew)","body":"Works for High Sierra 10.13.1 with modification of version to 9.0 (possibly due to Homebrew)"},{"owner":{"account_id":49297,"reputation":8006,"user_id":146718,"accept_rate":60,"display_name":"Crysfel"},"score":10,"creation_date":1511112295,"post_id":1348940,"comment_id":81711662,"body_markdown":"High Sierra 10.13.1 check!!","body":"High Sierra 10.13.1 check!!"},{"owner":{"account_id":425057,"reputation":644,"user_id":805422,"accept_rate":80,"display_name":"DiableNoir"},"score":2,"creation_date":1522695105,"post_id":1348940,"comment_id":86240909,"body_markdown":"Works on High Sierra 10.13.4","body":"Works on High Sierra 10.13.4"},{"owner":{"account_id":5414025,"reputation":295,"user_id":4309748,"display_name":"Keuha"},"score":11,"creation_date":1543502272,"post_id":1348940,"comment_id":93949687,"body_markdown":"Still valid for Mojave","body":"Still valid for Mojave"},{"owner":{"account_id":16333890,"reputation":150,"user_id":11796570,"display_name":"Akhilesh Sharma"},"score":1,"creation_date":1568885845,"post_id":1348940,"comment_id":102420464,"body_markdown":"Still valid for Mojave","body":"Still valid for Mojave"},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":2,"creation_date":1571802296,"post_id":1348940,"comment_id":103357097,"body_markdown":"As mentioned by Kristopher Johnson below, this is officially documented at [Technical Q&amp;A QA1170 - Important Java Directories on Mac OS X](https://developer.apple.com/library/archive/qa/qa1170/_index.html).","body":"As mentioned by Kristopher Johnson below, this is officially documented at <a href=\"https://developer.apple.com/library/archive/qa/qa1170/_index.html\" rel=\"nofollow noreferrer\">Technical Q&amp;A QA1170 - Important Java Directories on Mac OS X</a>."},{"owner":{"account_id":7604100,"reputation":517,"user_id":5767592,"display_name":"KeepLearning"},"score":0,"creation_date":1586002069,"post_id":1348940,"comment_id":107967025,"body_markdown":"Remember to log in and log out, otherwise you will not see the change","body":"Remember to log in and log out, otherwise you will not see the change"},{"owner":{"account_id":1985735,"reputation":3193,"user_id":1781024,"accept_rate":84,"display_name":"Vikas Prasad"},"score":0,"creation_date":1613551265,"post_id":1348940,"comment_id":117106074,"body_markdown":"Big Sur 11.2.1 check!","body":"Big Sur 11.2.1 check!"}],"tags":[],"owner":{"account_id":14130,"reputation":401475,"user_id":28804,"accept_rate":74,"display_name":"mipadi"},"comment_count":23,"down_vote_count":2,"up_vote_count":883,"is_accepted":true,"score":881,"last_activity_date":1578704843,"creation_date":1251488211,"answer_id":1348940,"question_id":1348842,"body_markdown":"I just set `JAVA_HOME` to the output of that command, which should give you the Java path specified in your Java preferences. Here&#39;s a snippet from my `.bashrc` file, which sets this variable:\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\nI haven&#39;t experienced any problems with that technique.\r\n\r\nOccasionally I do have to change the value of `JAVA_HOME` to an earlier version of Java. For example, one program I&#39;m maintaining requires 32-bit Java 5 on OS X, so when using that program, I set `JAVA_HOME` by running: \r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 1.5)\r\n\r\nFor those of you who don&#39;t have `java_home` in your path add it like this.\r\n\r\n    sudo ln -s /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java_home /usr/libexec/java_home\r\n\r\n**References**: \r\n\r\n - [Oracle explains the java_home command] [1]\r\n\r\n - [An article for configuring the JDK in Spring Tool Suite (Eclipse\r\n   2019) on MacOS][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-7EB4F697-F3D1-40EA-ACDF-07FA90F02D57\r\n\r\n  [2]: https://confessionsofanagilecoach.blogspot.com/2019/12/setting-jdk-in-sts-4-on-macos.html","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>I just set <code>JAVA_HOME</code> to the output of that command, which should give you the Java path specified in your Java preferences. Here's a snippet from my <code>.bashrc</code> file, which sets this variable:</p>\n\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n\n<p>I haven't experienced any problems with that technique.</p>\n\n<p>Occasionally I do have to change the value of <code>JAVA_HOME</code> to an earlier version of Java. For example, one program I'm maintaining requires 32-bit Java 5 on OS X, so when using that program, I set <code>JAVA_HOME</code> by running: </p>\n\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 1.5)\n</code></pre>\n\n<p>For those of you who don't have <code>java_home</code> in your path add it like this.</p>\n\n<pre><code>sudo ln -s /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java_home /usr/libexec/java_home\n</code></pre>\n\n<p><strong>References</strong>: </p>\n\n<ul>\n<li><p><a href=\"https://docs.oracle.com/javase/9/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-7EB4F697-F3D1-40EA-ACDF-07FA90F02D57\" rel=\"noreferrer\">Oracle explains the java_home command</a></p></li>\n<li><p><a href=\"https://confessionsofanagilecoach.blogspot.com/2019/12/setting-jdk-in-sts-4-on-macos.html\" rel=\"noreferrer\">An article for configuring the JDK in Spring Tool Suite (Eclipse\n2019) on MacOS</a></p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":183028,"reputation":10861,"user_id":418150,"accept_rate":52,"display_name":"Lee Goddard"},"score":0,"creation_date":1406538742,"post_id":2403860,"comment_id":38854938,"body_markdown":"For OSX running default bash, I generally use the bash `.bash_profile` —&#160;why do you use than the generic `.profile`?","body":"For OSX running default bash, I generally use the bash <code>.bash_profile</code> — why do you use than the generic <code>.profile</code>?"},{"owner":{"account_id":45993,"reputation":1472,"user_id":135767,"accept_rate":71,"display_name":"lucasarruda"},"score":1,"creation_date":1406751230,"post_id":2403860,"comment_id":38957367,"body_markdown":"Since `.profile` is generic, it will work with `sh` or `bash`, while `.bash_profile` is exclusive to `bash`. Also this isolates settings from apps that use `.bash_profile`, like `MacPorts`. But you can safely use any of the two. See more about it [here](http://stackoverflow.com/questions/6751252/difference-between-profile-and-bash-profile-on-snow-leopard)","body":"Since <code>.profile</code> is generic, it will work with <code>sh</code> or <code>bash</code>, while <code>.bash_profile</code> is exclusive to <code>bash</code>. Also this isolates settings from apps that use <code>.bash_profile</code>, like <code>MacPorts</code>. But you can safely use any of the two. See more about it <a href=\"http://stackoverflow.com/questions/6751252/difference-between-profile-and-bash-profile-on-snow-leopard\">here</a>"},{"owner":{"account_id":183028,"reputation":10861,"user_id":418150,"accept_rate":52,"display_name":"Lee Goddard"},"score":1,"creation_date":1406799825,"post_id":2403860,"comment_id":38975152,"body_markdown":"—&#160;FYI, the link you provided confirms my suspicion that under bash (ie by default), use of `.bash_profile` overrides `.profile`.","body":"— FYI, the link you provided confirms my suspicion that under bash (ie by default), use of <code>.bash_profile</code> overrides <code>.profile</code>."},{"owner":{"account_id":45993,"reputation":1472,"user_id":135767,"accept_rate":71,"display_name":"lucasarruda"},"score":0,"creation_date":1407186501,"post_id":2403860,"comment_id":39110100,"body_markdown":"@LeeGee yes, and it does that because `.bash_profile` is specific, whereas `.profile` is generic, for all `sh` variations.","body":"@LeeGee yes, and it does that because <code>.bash_profile</code> is specific, whereas <code>.profile</code> is generic, for all <code>sh</code> variations."},{"owner":{"account_id":5798934,"reputation":1387,"user_id":4573774,"accept_rate":76,"display_name":"Zaphod"},"score":1,"creation_date":1489955091,"post_id":2403860,"comment_id":72884882,"body_markdown":"Since OS/X puts a link to `java` in your `/usr/bin` there shouldn&#39;t be a need to explicitly add `$JAVA_HOME` to your path.","body":"Since OS/X puts a link to <code>java</code> in your <code>&#47;usr&#47;bin</code> there shouldn&#39;t be a need to explicitly add <code>$JAVA_HOME</code> to your path."}],"tags":[],"owner":{"account_id":45993,"reputation":1472,"user_id":135767,"accept_rate":71,"display_name":"lucasarruda"},"comment_count":5,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1268074559,"creation_date":1268074559,"answer_id":2403860,"question_id":1348842,"body_markdown":"Also, it`s interesting to set your PATH to reflect the JDK. After adding JAVA_HOME (which can be done with the example cited by &#39;mipadi&#39;):\r\n\r\n`export JAVA_HOME=$(/usr/libexec/java_home)`\r\n\r\nAdd also in ~/.profile:\r\n\r\n`export PATH=${JAVA_HOME}/bin:$PATH`\r\n\r\n\r\n**P.S.:** For OSX, I generally use .profile in the HOME dir instead of .bashrc","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>Also, it`s interesting to set your PATH to reflect the JDK. After adding JAVA_HOME (which can be done with the example cited by 'mipadi'):</p>\n\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n\n<p>Add also in ~/.profile:</p>\n\n<p><code>export PATH=${JAVA_HOME}/bin:$PATH</code></p>\n\n<p><strong>P.S.:</strong> For OSX, I generally use .profile in the HOME dir instead of .bashrc</p>\n"},{"comments":[{"owner":{"account_id":124949,"reputation":2835,"user_id":320399,"accept_rate":90,"display_name":"blong"},"score":1,"creation_date":1368739835,"post_id":16428639,"comment_id":23857474,"body_markdown":"Related: [Where is JAVA_HOME on OSX Lion (10.7) or Mountain Lion (10.8)?](http://stackoverflow.com/q/6588390/320399)","body":"Related: <a href=\"http://stackoverflow.com/q/6588390/320399\">Where is JAVA_HOME on OSX Lion (10.7) or Mountain Lion (10.8)?</a>"}],"tags":[],"owner":{"account_id":128400,"reputation":3225,"user_id":326206,"accept_rate":76,"display_name":"Nicolas Mommaerts"},"comment_count":1,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1549466562,"creation_date":1367961197,"answer_id":16428639,"question_id":1348842,"body_markdown":"Nowadays Java seems to be installed in `/Library/Java/JavaVirtualMachines`","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>Nowadays Java seems to be installed in <code>/Library/Java/JavaVirtualMachines</code></p>\n"},{"tags":[],"owner":{"account_id":5158572,"reputation":457,"user_id":4131074,"display_name":"Rae"},"comment_count":0,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1423773615,"creation_date":1423773615,"answer_id":28487345,"question_id":1348842,"body_markdown":"I&#39;m on Mac OS 10.6.8\r\n\r\nThe easiest solution works for me is simply put in\r\n\r\n    $ export JAVA_HOME=$(/usr/libexec/java_home)\r\nTo test whether it works, put in\r\n\r\n    $ echo $JAVA_HOME\r\nit shows\r\n\r\n    /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\r\nyou can also test \r\n\r\n    $ which java\r\n","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>I'm on Mac OS 10.6.8</p>\n\n<p>The easiest solution works for me is simply put in</p>\n\n<pre><code>$ export JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n\n<p>To test whether it works, put in</p>\n\n<pre><code>$ echo $JAVA_HOME\n</code></pre>\n\n<p>it shows</p>\n\n<pre><code>/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\n</code></pre>\n\n<p>you can also test </p>\n\n<pre><code>$ which java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6289460,"reputation":111,"user_id":4887626,"display_name":"P&#225;lossy L&#225;szl&#243;"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1549466576,"creation_date":1431352378,"answer_id":30169515,"question_id":1348842,"body_markdown":"That above works not any more in YOSEMITE for GRAPHICAL APPLICATIONS! Like eclipse, or anything started with Spotlight. (.bash_profile, launchd.conf works for terminal sessions only.) \r\nBefore starting eclipse, just open a terminal window, and give out the following command:\r\n\r\n    launchctl setenv JAVA_HOME /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\r\n\r\n(With your installation path! Perhaps works with $(/usr/libexec/java_home) instead of the full path too.)\r\n\r\nView the whole excellent article about the permanent solution here:\r\nhttps://stackoverflow.com/questions/25385934/setting-environment-variables-via-launchd-conf-no-longer-works-in-os-x-yosemite","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>That above works not any more in YOSEMITE for GRAPHICAL APPLICATIONS! Like eclipse, or anything started with Spotlight. (.bash_profile, launchd.conf works for terminal sessions only.) \nBefore starting eclipse, just open a terminal window, and give out the following command:</p>\n\n<pre><code>launchctl setenv JAVA_HOME /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\n</code></pre>\n\n<p>(With your installation path! Perhaps works with $(/usr/libexec/java_home) instead of the full path too.)</p>\n\n<p>View the whole excellent article about the permanent solution here:\n<a href=\"https://stackoverflow.com/questions/25385934/setting-environment-variables-via-launchd-conf-no-longer-works-in-os-x-yosemite\">Setting environment variables via launchd.conf no longer works in OS X Yosemite/El Capitan/macOS Sierra?</a></p>\n"},{"tags":[],"owner":{"account_id":1581969,"reputation":70,"user_id":1467169,"display_name":"Shirow"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444765335,"creation_date":1444765335,"answer_id":33111263,"question_id":1348842,"body_markdown":"I&#39;ve found this [stack][1] to help, i was having the same issue and i could fix:\r\n\r\nMy java path was here:\r\n\r\n`/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home`\r\n\r\nand was needed to put into my `.bash_profile`:\r\n\r\n`export JAVA_HOME=\\&quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\\&quot;`\r\n\r\nHope help\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19582689/1467169","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>I've found this <a href=\"https://stackoverflow.com/a/19582689/1467169\">stack</a> to help, i was having the same issue and i could fix:</p>\n\n<p>My java path was here:</p>\n\n<p><code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</code></p>\n\n<p>and was needed to put into my <code>.bash_profile</code>:</p>\n\n<p><code>export JAVA_HOME=\\\"/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\\\"</code></p>\n\n<p>Hope help</p>\n"},{"comments":[{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":0,"creation_date":1567196844,"post_id":36893647,"comment_id":101905683,"body_markdown":"This is a duplicate!","body":"This is a duplicate!"},{"owner":{"account_id":896,"reputation":81678,"user_id":1175,"accept_rate":80,"display_name":"Kristopher Johnson"},"score":0,"creation_date":1571764484,"post_id":36893647,"comment_id":103346399,"body_markdown":"I think the inclusion of the link to official Apple documentation makes it not redundant.\n\nBut if it is, the correct action is to flag it as a Duplicate, not make a comment.","body":"I think the inclusion of the link to official Apple documentation makes it not redundant.  But if it is, the correct action is to flag it as a Duplicate, not make a comment."},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":0,"creation_date":1571792470,"post_id":36893647,"comment_id":103355260,"body_markdown":"I made a comment because I cannot mark an *answer* as a duplicate. Stack Overflow only allows user to mark a *question* as a duplicate (unfortunately). The link is helpful, but I think a comment to the current answer (or just edit it with the link since you already have the capability) would be better since it concentrates all useful information in one single answer. I believe there was guideline somewhere that Stack Overflow prefers fixing current answers over writing a new one.","body":"I made a comment because I cannot mark an <i>answer</i> as a duplicate. Stack Overflow only allows user to mark a <i>question</i> as a duplicate (unfortunately). The link is helpful, but I think a comment to the current answer (or just edit it with the link since you already have the capability) would be better since it concentrates all useful information in one single answer. I believe there was guideline somewhere that Stack Overflow prefers fixing current answers over writing a new one."}],"tags":[],"owner":{"account_id":896,"reputation":81678,"user_id":1175,"accept_rate":80,"display_name":"Kristopher Johnson"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461769295,"creation_date":1461769295,"answer_id":36893647,"question_id":1348842,"body_markdown":"As other answers note, the correct way to find the Java home directory is to use `/usr/libexec/java_home`.\r\n\r\nThe official documentation for this is in Apple&#39;s _Technical Q&amp;A QA1170: Important Java Directories on OS X_: https://developer.apple.com/library/mac/qa/qa1170/_index.html","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>As other answers note, the correct way to find the Java home directory is to use <code>/usr/libexec/java_home</code>.</p>\n\n<p>The official documentation for this is in Apple's <em>Technical Q&amp;A QA1170: Important Java Directories on OS X</em>: <a href=\"https://developer.apple.com/library/mac/qa/qa1170/_index.html\" rel=\"nofollow\">https://developer.apple.com/library/mac/qa/qa1170/_index.html</a></p>\n"},{"tags":[],"owner":{"account_id":187852,"reputation":723,"user_id":426209,"accept_rate":75,"display_name":"Yichuan Wang"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1461805285,"creation_date":1461805285,"answer_id":36903447,"question_id":1348842,"body_markdown":"For Fish Shell users, use something like the following: `alias java7 &quot;set -gx JAVA_HOME (/usr/libexec/java_home -v1.7)&quot;`","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>For Fish Shell users, use something like the following: <code>alias java7 \"set -gx JAVA_HOME (/usr/libexec/java_home -v1.7)\"</code></p>\n"},{"tags":[],"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478632955,"creation_date":1478632955,"answer_id":40494854,"question_id":1348842,"body_markdown":"For me maven seems to work off the `.mavenrc` file:\r\n\r\n    echo &quot;export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)&quot; &gt; ~/.mavenrc\r\n\r\nI&#39;m sure I picked it up on SO too, just can&#39;t remember where.","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>For me maven seems to work off the <code>.mavenrc</code> file:</p>\n\n<pre><code>echo \"export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)\" &gt; ~/.mavenrc\n</code></pre>\n\n<p>I'm sure I picked it up on SO too, just can't remember where.</p>\n"},{"comments":[{"owner":{"account_id":3612523,"reputation":7494,"user_id":3013206,"accept_rate":20,"display_name":"Spindizzy"},"score":1,"creation_date":1540636564,"post_id":41367448,"comment_id":92944333,"body_markdown":"I like this approach, because it allows me to change the Java version very easy within the .mavenrc file.","body":"I like this approach, because it allows me to change the Java version very easy within the .mavenrc file."}],"tags":[],"owner":{"account_id":3733569,"reputation":5130,"user_id":3105145,"display_name":"KhaledMohamedP"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482948437,"creation_date":1482948437,"answer_id":41367448,"question_id":1348842,"body_markdown":"Create file `~/.mavenrc`\r\n\r\nthen paste this into the file \r\n\r\n`export JAVA_HOME=$(/usr/libexec/java_home)`\r\n\r\ntest\r\n\r\n`mvn -v`\r\n","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>Create file <code>~/.mavenrc</code></p>\n\n<p>then paste this into the file </p>\n\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n\n<p>test</p>\n\n<p><code>mvn -v</code></p>\n"},{"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497175483,"creation_date":1497175483,"answer_id":44482574,"question_id":1348842,"body_markdown":"Skipping Terminal setup since you mentioned applications, permanent system environment variable set up (works for macOS Sierra; should work for El Capitan too):  \r\n\r\n    launchctl setenv JAVA_HOME $(/usr/libexec/java_home -v 1.8)\r\n\r\n  \r\n(this will set JAVA_HOME to the latest 1.8 JDK, chances are you have gone through serveral updates e.g. javac 1.8.0_101, javac 1.8.0_131)  \r\nOf course, change 1.8 to 1.7 or 1.6 (really?) to suit your need and your system  ","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>Skipping Terminal setup since you mentioned applications, permanent system environment variable set up (works for macOS Sierra; should work for El Capitan too):  </p>\n\n<pre><code>launchctl setenv JAVA_HOME $(/usr/libexec/java_home -v 1.8)\n</code></pre>\n\n<p>(this will set JAVA_HOME to the latest 1.8 JDK, chances are you have gone through serveral updates e.g. javac 1.8.0_101, javac 1.8.0_131)<br>\nOf course, change 1.8 to 1.7 or 1.6 (really?) to suit your need and your system  </p>\n"},{"comments":[{"owner":{"account_id":428408,"reputation":926,"user_id":810715,"accept_rate":69,"display_name":"TheProletariat"},"score":0,"creation_date":1521130438,"post_id":44667955,"comment_id":85610712,"body_markdown":"This is helpful, thanks.  But I believe you missed including the last step, which is then setting JAVA_HOME to the returned value in .bashrc / .bash_profile / .zshrc / etc.  Please correct me if I&#39;m mistaken.","body":"This is helpful, thanks.  But I believe you missed including the last step, which is then setting JAVA_HOME to the returned value in .bashrc / .bash_profile / .zshrc / etc.  Please correct me if I&#39;m mistaken."},{"owner":{"account_id":8858034,"reputation":8530,"user_id":6615163,"display_name":"hygull"},"score":2,"creation_date":1521198876,"post_id":44667955,"comment_id":85639737,"body_markdown":"It is not required. In my case, `$JAVA_HOME` refers `$(/usr/libexec/java_home)` and `$(/usr/libexec/java_home)` \n is internally referred as `/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home` by the System.","body":"It is not required. In my case, <code>$JAVA_HOME</code> refers <code>$(&#47;usr&#47;libexec&#47;java_home)</code> and <code>$(&#47;usr&#47;libexec&#47;java_home)</code>   is internally referred as <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_131.jdk&#47;Contents&#47;&zwnj;&#8203;Home</code> by the System."},{"owner":{"account_id":428408,"reputation":926,"user_id":810715,"accept_rate":69,"display_name":"TheProletariat"},"score":1,"creation_date":1521481233,"post_id":44667955,"comment_id":85739276,"body_markdown":"Got it.  It was required in my case.  Thanks.","body":"Got it.  It was required in my case.  Thanks."}],"tags":[],"owner":{"account_id":8858034,"reputation":8530,"user_id":6615163,"display_name":"hygull"},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1498024970,"creation_date":1498024970,"answer_id":44667955,"question_id":1348842,"body_markdown":"I am having **MAC OS X(Sierra) 10.12.2**. \r\n\r\nI set **JAVA_HOME** to work on **React Native**(for Android apps) by following the following steps.\r\n\r\n* Open Terminal (Command+R, type Terminal, Hit ENTER).\r\n\r\n* Add the following lines to **~/.bash_profile**.\r\n```\r\nexport JAVA_HOME=$(/usr/libexec/java_home)\r\n```\r\n\r\n* Now run the following command. \r\n```\r\nsource ~/.bash_profile\r\n```\r\n\r\n* You can check the exact value of **JAVA_HOME** by typing the following command.\r\n```\r\necho $JAVA_HOME\r\n```\r\n\r\nThe value(output) returned will be something like below.\r\n```\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home\r\n```\r\n\r\n**That&#39;s it.**\r\n","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>I am having <strong>MAC OS X(Sierra) 10.12.2</strong>. </p>\n\n<p>I set <strong>JAVA_HOME</strong> to work on <strong>React Native</strong>(for Android apps) by following the following steps.</p>\n\n<ul>\n<li><p>Open Terminal (Command+R, type Terminal, Hit ENTER).</p></li>\n<li><p>Add the following lines to <strong>~/.bash_profile</strong>.\n<code>\nexport JAVA_HOME=$(/usr/libexec/java_home)\n</code></p></li>\n<li><p>Now run the following command. \n<code>\nsource ~/.bash_profile\n</code></p></li>\n<li><p>You can check the exact value of <strong>JAVA_HOME</strong> by typing the following command.\n<code>\necho $JAVA_HOME\n</code></p></li>\n</ul>\n\n<p>The value(output) returned will be something like below.\n<code>\n/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home\n</code></p>\n\n<p><strong>That's it.</strong></p>\n"},{"tags":[],"owner":{"account_id":7827419,"reputation":8252,"user_id":5918539,"display_name":"Jerry Chong"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586856900,"creation_date":1586856900,"answer_id":61204631,"question_id":1348842,"body_markdown":"It is recommended to check **default terminal shell** before set **JAVA_HOME** environment variable, via following commands:\r\n\r\n    $ echo $SHELL\r\n    /bin/bash\r\n\r\nIf your default terminal is **/bin/bash** (Bash), then you should use **@hygull** method\r\n\r\nIf your default terminal is **/bin/zsh** (Z Shell), then you should set these environment variable in **~/.zshenv** file with following contents:\r\n\r\n    export JAVA_HOME=&quot;$(/usr/libexec/java_home)&quot;\r\n\r\nSimilarly, any other terminal type not mentioned above, you should set environment variable in its respective terminal env file.\r\n\r\nThis method tested working in **macOS Mojave Version 10.14.6**.","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>It is recommended to check <strong>default terminal shell</strong> before set <strong>JAVA_HOME</strong> environment variable, via following commands:</p>\n\n<pre><code>$ echo $SHELL\n/bin/bash\n</code></pre>\n\n<p>If your default terminal is <strong>/bin/bash</strong> (Bash), then you should use <strong>@hygull</strong> method</p>\n\n<p>If your default terminal is <strong>/bin/zsh</strong> (Z Shell), then you should set these environment variable in <strong>~/.zshenv</strong> file with following contents:</p>\n\n<pre><code>export JAVA_HOME=\"$(/usr/libexec/java_home)\"\n</code></pre>\n\n<p>Similarly, any other terminal type not mentioned above, you should set environment variable in its respective terminal env file.</p>\n\n<p>This method tested working in <strong>macOS Mojave Version 10.14.6</strong>.</p>\n"},{"tags":[],"owner":{"account_id":27890380,"reputation":11,"user_id":21296891,"display_name":"Raj Kumar Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677763370,"creation_date":1677499422,"answer_id":75580261,"question_id":1348842,"body_markdown":"MacBook Pro machine - MAC OS Ventura 13\r\n\r\nI set JAVA_HOME to work with the following the following steps:\r\n\r\n1. Open Command prompt/Terminal (Command+R, type Terminal in search and hit Enter)\r\n\r\n1. Open ~/.bash_profile file (`vi ~/.bash_profile`)\r\n\r\n1. Add/Update this lines to `~/.bash_profile` (`export JAVA_HOME=$(/usr/libexec/java_home)`)\r\n\r\n1. Run the following command (`source ~/.bash_profile`)\r\n\r\n1. Verify the java home path (`echo $JAVA_HOME`)\r\n\r\nOutput: It will be similar to your java path ( `/Library/Java/JavaVirtualMachines/applejdk-17.0.5.8.2.jdk/Contents/Home`)","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>MacBook Pro machine - MAC OS Ventura 13</p>\n<p>I set JAVA_HOME to work with the following the following steps:</p>\n<ol>\n<li><p>Open Command prompt/Terminal (Command+R, type Terminal in search and hit Enter)</p>\n</li>\n<li><p>Open ~/.bash_profile file (<code>vi ~/.bash_profile</code>)</p>\n</li>\n<li><p>Add/Update this lines to <code>~/.bash_profile</code> (<code>export JAVA_HOME=$(/usr/libexec/java_home)</code>)</p>\n</li>\n<li><p>Run the following command (<code>source ~/.bash_profile</code>)</p>\n</li>\n<li><p>Verify the java home path (<code>echo $JAVA_HOME</code>)</p>\n</li>\n</ol>\n<p>Output: It will be similar to your java path ( <code>/Library/Java/JavaVirtualMachines/applejdk-17.0.5.8.2.jdk/Contents/Home</code>)</p>\n"}],"owner":{"account_id":6552,"reputation":20287,"user_id":11069,"accept_rate":100,"display_name":"Robert Christie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314301,"favorite_count":0,"down_vote_count":0,"up_vote_count":462,"accepted_answer_id":1348940,"answer_count":15,"score":462,"last_activity_date":1677763370,"creation_date":1251487078,"question_id":1348842,"body_markdown":"Many Java applications that use shell scripts to configure their environment use the `JAVA_HOME` environment variable to start the correct version of Java, locate JRE JARs, and so on.\r\n\r\nIn macOS X 10.6, the following paths seem to be valid for this variable\r\n\r\n    /Library/Java/Home\r\n    /System/Library/Frameworks/JavaVM.framework/Home\r\n    /System/Library/Frameworks/JavaVM.framework/Versions/Current\r\n\r\nSome of these are symlinks to the actual current VM (as defined in the Java Preference pane). \r\n\r\nBut which one should be used—or is it okay to use any of them?","title":"What should I set JAVA_HOME environment variable on macOS X 10.6?","body":"<p>Many Java applications that use shell scripts to configure their environment use the <code>JAVA_HOME</code> environment variable to start the correct version of Java, locate JRE JARs, and so on.</p>\n\n<p>In macOS X 10.6, the following paths seem to be valid for this variable</p>\n\n<pre><code>/Library/Java/Home\n/System/Library/Frameworks/JavaVM.framework/Home\n/System/Library/Frameworks/JavaVM.framework/Versions/Current\n</code></pre>\n\n<p>Some of these are symlinks to the actual current VM (as defined in the Java Preference pane). </p>\n\n<p>But which one should be used—or is it okay to use any of them?</p>\n"},{"tags":["java","junit","jmh"],"answers":[{"comments":[{"owner":{"account_id":2094629,"reputation":5281,"user_id":1863694,"accept_rate":53,"display_name":"Ivan Voroshilin"},"score":3,"creation_date":1454100545,"post_id":30486197,"comment_id":57909348,"body_markdown":"This is not a recommended option to run tests under JMH. Unit-tests and other IDE interferes with the measurements. Do it right from the command line.","body":"This is not a recommended option to run tests under JMH. Unit-tests and other IDE interferes with the measurements. Do it right from the command line."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1454176548,"post_id":30486197,"comment_id":57931086,"body_markdown":"@IvanVoroshilin I&#39;ve tried it both ways and did not see a difference in results. Do you have concrete advice under what conditions this becomes a problem?","body":"@IvanVoroshilin I&#39;ve tried it both ways and did not see a difference in results. Do you have concrete advice under what conditions this becomes a problem?"},{"owner":{"account_id":2094629,"reputation":5281,"user_id":1863694,"accept_rate":53,"display_name":"Ivan Voroshilin"},"score":1,"creation_date":1454219891,"post_id":30486197,"comment_id":57942523,"body_markdown":"The results are less reliable, it is just a recommendation. Eliminate the external factors. This gets in the way when it comes to microbenchmarking.","body":"The results are less reliable, it is just a recommendation. Eliminate the external factors. This gets in the way when it comes to microbenchmarking."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":28,"creation_date":1454249081,"post_id":30486197,"comment_id":57949803,"body_markdown":"@IvanVoroshilin Sounds like FUD spread by people who hate IDEs (I am referring to some of the core JVM developers, who also develop JMH). If we want to split hairs, we should also advise people to shutdown the window manager, stop all daemons, etc, etc. In practice, warming up and averaging over several iterations smooths out most timing noise.","body":"@IvanVoroshilin Sounds like FUD spread by people who hate IDEs (I am referring to some of the core JVM developers, who also develop JMH). If we want to split hairs, we should also advise people to shutdown the window manager, stop all daemons, etc, etc. In practice, warming up and averaging over several iterations smooths out most timing noise."},{"owner":{"account_id":190525,"reputation":458,"user_id":430550,"display_name":"garkin"},"score":0,"creation_date":1474446319,"post_id":30486197,"comment_id":66529775,"body_markdown":"Forking should negate most possible side effects.","body":"Forking should negate most possible side effects."},{"owner":{"account_id":4150445,"reputation":154,"user_id":3403066,"accept_rate":67,"display_name":"dsmith"},"score":4,"creation_date":1476303794,"post_id":30486197,"comment_id":67293372,"body_markdown":"If only we had a benchmarking framework to measure the differences... ;)","body":"If only we had a benchmarking framework to measure the differences... ;)"},{"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"score":0,"creation_date":1507715753,"post_id":30486197,"comment_id":80317957,"body_markdown":"@AleksandrDubinsky are you sure that LookUtils belongs to standard libs or to those JMH dependencies?","body":"@AleksandrDubinsky are you sure that LookUtils belongs to standard libs or to those JMH dependencies?"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1507820350,"post_id":30486197,"comment_id":80372075,"body_markdown":"@JeanValjean I don&#39;t see a reference to &quot;LookUtils&quot; anywhere on this page.","body":"@JeanValjean I don&#39;t see a reference to &quot;LookUtils&quot; anywhere on this page."},{"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"score":0,"creation_date":1507898322,"post_id":30486197,"comment_id":80406271,"body_markdown":"@AleksandrDubinsky weird! I probably got access to a cached version, then! Thanks!","body":"@AleksandrDubinsky weird! I probably got access to a cached version, then! Thanks!"},{"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"score":1,"creation_date":1559914007,"post_id":30486197,"comment_id":99579348,"body_markdown":"@AleksandrDubinsky I&#39;d suggest to add the StackProfiler which prints very useful profiling results at the end: `.addProfiler(StackProfiler.class)` like:\n\n....[Thread state: RUNNABLE]........................................................................\n 50.0%  50.0% java.net.SocketInputStream.socketRead0\n 21.5%  21.5% com.mycompany.myapp.MyProfiledClass.myMethod\n  9.4%   9.4% java.io.WinNTFileSystem.getBooleanAttributes\n  4.7%   4.7% java.util.zip.ZipFile.getEntry\n  3.0%   3.0% java.lang.String.regionMatches\n...","body":"@AleksandrDubinsky I&#39;d suggest to add the StackProfiler which prints very useful profiling results at the end: <code>.addProfiler(StackProfiler.class)</code> like:  ....[Thread state: RUNNABLE]...................................................&zwnj;&#8203;....................&zwnj;&#8203;.  50.0%  50.0% java.net.SocketInputStream.socketRead0  21.5%  21.5% com.mycompany.myapp.MyProfiledClass.myMethod   9.4%   9.4% java.io.WinNTFileSystem.getBooleanAttributes   4.7%   4.7% java.util.zip.ZipFile.getEntry   3.0%   3.0% java.lang.String.regionMatches ..."}],"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"comment_count":10,"down_vote_count":1,"up_vote_count":74,"is_accepted":true,"score":73,"last_activity_date":1529058953,"creation_date":1432738751,"answer_id":30486197,"question_id":30485856,"body_markdown":"I&#39;ve been running JMH inside my existing Maven project using JUnit with no apparent ill effects. I cannot answer why the authors recommend doing things differently. I have not observed a difference in results. JMH launches a separate JVM to run benchmarks to isolate them. Here is what I do:\r\n\r\n * Add the JMH dependencies to your POM:\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\r\n          &lt;version&gt;1.21&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\r\n          &lt;version&gt;1.21&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    Note that I&#39;ve placed them in scope `test`.\r\n\r\n    In Eclipse, you may need to configure the annotation processor manually. NetBeans handles this automatically.\r\n\r\n * Create your JUnit and JMH class. I&#39;ve chosen to combine both into a single class, but that is up to you. Notice that `OptionsBuilder.include` is what actually determines which benchmarks will be run from your JUnit test!\r\n\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        import java.util.Random;\r\n        import java.util.concurrent.TimeUnit;\r\n        import org.junit.Test;\r\n        import org.openjdk.jmh.annotations.*;\r\n        import org.openjdk.jmh.infra.Blackhole;\r\n        import org.openjdk.jmh.runner.Runner;\r\n        import org.openjdk.jmh.runner.options.*;\r\n\r\n\r\n        public class TestBenchmark \r\n        {\r\n\r\n              @Test public void \r\n            launchBenchmark() throws Exception {\r\n\r\n                    Options opt = new OptionsBuilder()\r\n                        // Specify which benchmarks to run. \r\n                        // You can be more specific if you&#39;d like to run only one benchmark per test.\r\n                        .include(this.getClass().getName() + &quot;.*&quot;)\r\n                        // Set the following options as needed\r\n                        .mode (Mode.AverageTime)\r\n                        .timeUnit(TimeUnit.MICROSECONDS)\r\n                        .warmupTime(TimeValue.seconds(1))\r\n                        .warmupIterations(2)\r\n                        .measurementTime(TimeValue.seconds(1))\r\n                        .measurementIterations(2)\r\n                        .threads(2)\r\n                        .forks(1)\r\n                        .shouldFailOnError(true)\r\n                        .shouldDoGC(true)\r\n                        //.jvmArgs(&quot;-XX:+UnlockDiagnosticVMOptions&quot;, &quot;-XX:+PrintInlining&quot;)\r\n                        //.addProfiler(WinPerfAsmProfiler.class)\r\n                        .build();\r\n\r\n                    new Runner(opt).run();\r\n                }\r\n\r\n            // The JMH samples are the best documentation for how to use it\r\n            // http://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/\r\n            @State (Scope.Thread)\r\n            public static class BenchmarkState\r\n            {\r\n                List&lt;Integer&gt; list;\r\n\r\n                  @Setup (Level.Trial) public void\r\n                initialize() {\r\n\r\n                        Random rand = new Random();\r\n\r\n                        list = new ArrayList&lt;&gt;();\r\n                        for (int i = 0; i &lt; 1000; i++)\r\n                            list.add (rand.nextInt());\r\n                    }\r\n            }\r\n\r\n              @Benchmark public void \r\n            benchmark1 (BenchmarkState state, Blackhole bh) {\r\n\r\n                    List&lt;Integer&gt; list = state.list;\r\n\r\n                    for (int i = 0; i &lt; 1000; i++)\r\n                        bh.consume (list.get (i));\r\n                }\r\n        }\r\n\r\n * JMH&#39;s annotation processor seems to not work well with compile-on-save in NetBeans. You may need to do a full `Clean and Build` whenever you modify the benchmarks. (Any suggestions appreciated!)\r\n * Run your `launchBenchmark` test and watch the results!\r\n\r\n        -------------------------------------------------------\r\n         T E S T S\r\n        -------------------------------------------------------\r\n        Running com.Foo\r\n        # JMH version: 1.21\r\n        # VM version: JDK 1.8.0_172, Java HotSpot(TM) 64-Bit Server VM, 25.172-b11\r\n        # VM invoker: /usr/lib/jvm/java-8-jdk/jre/bin/java\r\n        # VM options: &lt;none&gt;\r\n        # Warmup: 2 iterations, 1 s each\r\n        # Measurement: 2 iterations, 1 s each\r\n        # Timeout: 10 min per iteration\r\n        # Threads: 2 threads, will synchronize iterations\r\n        # Benchmark mode: Average time, time/op\r\n        # Benchmark: com.Foo.benchmark1\r\n\r\n        # Run progress: 0.00% complete, ETA 00:00:04\r\n        # Fork: 1 of 1\r\n        # Warmup Iteration   1: 4.258 us/op\r\n        # Warmup Iteration   2: 4.359 us/op\r\n        Iteration   1: 4.121 us/op\r\n        Iteration   2: 4.029 us/op\r\n\r\n\r\n        Result &quot;benchmark1&quot;:\r\n          4.075 us/op\r\n\r\n\r\n        # Run complete. Total time: 00:00:06\r\n\r\n        REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on\r\n        why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial\r\n        experiments, perform baseline and negative tests that provide experimental control, make sure\r\n        the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.\r\n        Do not assume the numbers tell you what you want them to tell.\r\n\r\n        Benchmark                                Mode  Cnt  Score   Error  Units\r\n        Foo.benchmark1                           avgt    2  4.075          us/op\r\n        Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.013 sec\r\n\r\n\r\n * `Runner.run` even returns `RunResult` objects on which you can do assertions, etc.","title":"How to run JMH from inside JUnit tests?","body":"<p>I've been running JMH inside my existing Maven project using JUnit with no apparent ill effects. I cannot answer why the authors recommend doing things differently. I have not observed a difference in results. JMH launches a separate JVM to run benchmarks to isolate them. Here is what I do:</p>\n\n<ul>\n<li><p>Add the JMH dependencies to your POM:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n  &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\n  &lt;version&gt;1.21&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n  &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\n  &lt;version&gt;1.21&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Note that I've placed them in scope <code>test</code>.</p>\n\n<p>In Eclipse, you may need to configure the annotation processor manually. NetBeans handles this automatically.</p></li>\n<li><p>Create your JUnit and JMH class. I've chosen to combine both into a single class, but that is up to you. Notice that <code>OptionsBuilder.include</code> is what actually determines which benchmarks will be run from your JUnit test!</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.TimeUnit;\nimport org.junit.Test;\nimport org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.infra.Blackhole;\nimport org.openjdk.jmh.runner.Runner;\nimport org.openjdk.jmh.runner.options.*;\n\n\npublic class TestBenchmark \n{\n\n      @Test public void \n    launchBenchmark() throws Exception {\n\n            Options opt = new OptionsBuilder()\n                // Specify which benchmarks to run. \n                // You can be more specific if you'd like to run only one benchmark per test.\n                .include(this.getClass().getName() + \".*\")\n                // Set the following options as needed\n                .mode (Mode.AverageTime)\n                .timeUnit(TimeUnit.MICROSECONDS)\n                .warmupTime(TimeValue.seconds(1))\n                .warmupIterations(2)\n                .measurementTime(TimeValue.seconds(1))\n                .measurementIterations(2)\n                .threads(2)\n                .forks(1)\n                .shouldFailOnError(true)\n                .shouldDoGC(true)\n                //.jvmArgs(\"-XX:+UnlockDiagnosticVMOptions\", \"-XX:+PrintInlining\")\n                //.addProfiler(WinPerfAsmProfiler.class)\n                .build();\n\n            new Runner(opt).run();\n        }\n\n    // The JMH samples are the best documentation for how to use it\n    // http://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/\n    @State (Scope.Thread)\n    public static class BenchmarkState\n    {\n        List&lt;Integer&gt; list;\n\n          @Setup (Level.Trial) public void\n        initialize() {\n\n                Random rand = new Random();\n\n                list = new ArrayList&lt;&gt;();\n                for (int i = 0; i &lt; 1000; i++)\n                    list.add (rand.nextInt());\n            }\n    }\n\n      @Benchmark public void \n    benchmark1 (BenchmarkState state, Blackhole bh) {\n\n            List&lt;Integer&gt; list = state.list;\n\n            for (int i = 0; i &lt; 1000; i++)\n                bh.consume (list.get (i));\n        }\n}\n</code></pre></li>\n<li><p>JMH's annotation processor seems to not work well with compile-on-save in NetBeans. You may need to do a full <code>Clean and Build</code> whenever you modify the benchmarks. (Any suggestions appreciated!)</p></li>\n<li><p>Run your <code>launchBenchmark</code> test and watch the results!</p>\n\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning com.Foo\n# JMH version: 1.21\n# VM version: JDK 1.8.0_172, Java HotSpot(TM) 64-Bit Server VM, 25.172-b11\n# VM invoker: /usr/lib/jvm/java-8-jdk/jre/bin/java\n# VM options: &lt;none&gt;\n# Warmup: 2 iterations, 1 s each\n# Measurement: 2 iterations, 1 s each\n# Timeout: 10 min per iteration\n# Threads: 2 threads, will synchronize iterations\n# Benchmark mode: Average time, time/op\n# Benchmark: com.Foo.benchmark1\n\n# Run progress: 0.00% complete, ETA 00:00:04\n# Fork: 1 of 1\n# Warmup Iteration   1: 4.258 us/op\n# Warmup Iteration   2: 4.359 us/op\nIteration   1: 4.121 us/op\nIteration   2: 4.029 us/op\n\n\nResult \"benchmark1\":\n  4.075 us/op\n\n\n# Run complete. Total time: 00:00:06\n\nREMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on\nwhy the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial\nexperiments, perform baseline and negative tests that provide experimental control, make sure\nthe benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.\nDo not assume the numbers tell you what you want them to tell.\n\nBenchmark                                Mode  Cnt  Score   Error  Units\nFoo.benchmark1                           avgt    2  4.075          us/op\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.013 sec\n</code></pre></li>\n<li><p><code>Runner.run</code> even returns <code>RunResult</code> objects on which you can do assertions, etc.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1577446652,"post_id":59437235,"comment_id":105172848,"body_markdown":"Code-only answers are frowned-upon. How is this solution different and/or better than the existing answer? How does calling jmh.Main cause the correct tests to be run?","body":"Code-only answers are frowned-upon. How is this solution different and/or better than the existing answer? How does calling jmh.Main cause the correct tests to be run?"},{"owner":{"account_id":1215767,"reputation":1710,"user_id":1183404,"display_name":"Cristian Florescu"},"score":1,"creation_date":1577472134,"post_id":59437235,"comment_id":105182039,"body_markdown":"This is other simplified approach. That&#39;s all.","body":"This is other simplified approach. That&#39;s all."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1577957741,"post_id":59437235,"comment_id":105289885,"body_markdown":"I wasn&#39;t trying to criticize. I was listing questions that you should answer in the text of your post. It is bad to post some code without explanation.","body":"I wasn&#39;t trying to criticize. I was listing questions that you should answer in the text of your post. It is bad to post some code without explanation."},{"owner":{"account_id":1717188,"reputation":935,"user_id":1574012,"accept_rate":67,"display_name":"cljk"},"score":1,"creation_date":1579697461,"post_id":59437235,"comment_id":105851725,"body_markdown":"The difference is more or less obvious!?: The code obove provides the test-setup as annotations - the other one is a programmatic approach.\nBoth have in common that JUnit is just used to start JMH. It&#180;s a personal preference - I prefer the annotation approach.","body":"The difference is more or less obvious!?: The code obove provides the test-setup as annotations - the other one is a programmatic approach. Both have in common that JUnit is just used to start JMH. It&#180;s a personal preference - I prefer the annotation approach."},{"owner":{"account_id":1534150,"reputation":934,"user_id":1430630,"display_name":"Luke"},"score":1,"creation_date":1585701854,"post_id":59437235,"comment_id":107853713,"body_markdown":"Thanks, although I do get a message about &quot;Unable to find the resource: /META-INF/BenchmarkList&quot;","body":"Thanks, although I do get a message about &quot;Unable to find the resource: /META-INF/BenchmarkList&quot;"},{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1596294313,"post_id":59437235,"comment_id":111769017,"body_markdown":"+1 Benchmark annotation-config is **shared** when running from Junit, build plugin or command-line. This supports running quick benchmarks from IDE (via Junit) and formal ones from build environment","body":"+1 Benchmark annotation-config is <b>shared</b> when running from Junit, build plugin or command-line. This supports running quick benchmarks from IDE (via Junit) and formal ones from build environment"},{"owner":{"account_id":6292124,"reputation":443,"user_id":4889421,"accept_rate":25,"display_name":"Chuck C"},"score":0,"creation_date":1644011942,"post_id":59437235,"comment_id":125501249,"body_markdown":"To make it more obvious what is happening and make it more similar to the above answer, the benchmark method should probably be converted to this:\n\n    @Test\n    public void benchmark() throws Exception {\n        Options opt = new OptionsBuilder()\n                .include(TestBenchmark.class.getSimpleName())\n                .build();\n\n        //how to run benchmark and collect results\n        Collection&lt;RunResult&gt; runResults = new Runner(opt).run();\n    }","body":"To make it more obvious what is happening and make it more similar to the above answer, the benchmark method should probably be converted to this:      @Test     public void benchmark() throws Exception {         Options opt = new OptionsBuilder()                 .include(TestBenchmark.class.getSimpleName())                 .build();          //how to run benchmark and collect results         Collection&lt;RunResult&gt; runResults = new Runner(opt).run();     }"}],"tags":[],"owner":{"account_id":1215767,"reputation":1710,"user_id":1183404,"display_name":"Cristian Florescu"},"comment_count":7,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1643810302,"creation_date":1576940581,"answer_id":59437235,"question_id":30485856,"body_markdown":"A declarative approach using annotations:\r\n\r\n        \r\n    @State(Scope.Benchmark)\r\n    @Threads(1)\r\n    public class TestBenchmark {\r\n           \r\n        @Param({&quot;10&quot;,&quot;100&quot;,&quot;1000&quot;})\r\n        public int iterations;\r\n    \r\n    \r\n        @Setup(Level.Invocation)\r\n        public void setupInvokation() throws Exception {\r\n            // executed before each invocation of the benchmark\r\n        }\r\n    \r\n        @Setup(Level.Iteration)\r\n        public void setupIteration() throws Exception {\r\n            // executed before each invocation of the iteration\r\n        }\r\n    \r\n        @Benchmark\r\n        @BenchmarkMode(Mode.AverageTime)\r\n        @Fork(warmups = 1, value = 1)\r\n        @Warmup(batchSize = -1, iterations = 3, time = 10, timeUnit = TimeUnit.MILLISECONDS)\r\n        @Measurement(batchSize = -1, iterations = 10, time = 10, timeUnit = TimeUnit.MILLISECONDS)\r\n        @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n        public void test() throws Exception {\r\n           Thread.sleep(ThreadLocalRandom.current().nextInt(0, iterations));\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void benchmark() throws Exception {\r\n            String[] argv = {};\r\n            org.openjdk.jmh.Main.main(argv);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to run JMH from inside JUnit tests?","body":"<p>A declarative approach using annotations:</p>\n<pre><code>@State(Scope.Benchmark)\n@Threads(1)\npublic class TestBenchmark {\n       \n    @Param({&quot;10&quot;,&quot;100&quot;,&quot;1000&quot;})\n    public int iterations;\n\n\n    @Setup(Level.Invocation)\n    public void setupInvokation() throws Exception {\n        // executed before each invocation of the benchmark\n    }\n\n    @Setup(Level.Iteration)\n    public void setupIteration() throws Exception {\n        // executed before each invocation of the iteration\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.AverageTime)\n    @Fork(warmups = 1, value = 1)\n    @Warmup(batchSize = -1, iterations = 3, time = 10, timeUnit = TimeUnit.MILLISECONDS)\n    @Measurement(batchSize = -1, iterations = 10, time = 10, timeUnit = TimeUnit.MILLISECONDS)\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\n    public void test() throws Exception {\n       Thread.sleep(ThreadLocalRandom.current().nextInt(0, iterations));\n    }\n\n\n    @Test\n    public void benchmark() throws Exception {\n        String[] argv = {};\n        org.openjdk.jmh.Main.main(argv);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1647852124,"post_id":71552000,"comment_id":126465978,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71552000/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1647935277,"post_id":71552000,"comment_id":126489706,"body_markdown":"Code-only answers are frowned upon. At the least, please explain how your answer is different from other, similar answers.","body":"Code-only answers are frowned upon. At the least, please explain how your answer is different from other, similar answers."}],"tags":[],"owner":{"account_id":15805079,"reputation":11,"user_id":11403802,"display_name":"欲穷三千界"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647826851,"creation_date":1647826851,"answer_id":71552000,"question_id":30485856,"body_markdown":"    @State(Scope.Benchmark)\r\n    @Threads(1)\r\n    @Fork(1)\r\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    @Warmup(iterations = 5, time = 1)\r\n    @Measurement(iterations = 5, time = 1)\r\n    @BenchmarkMode(Mode.All)\r\n    public class ToBytesTest {\r\n    \r\n      public static void main(String[] args) {\r\n        ToBytesTest test = new ToBytesTest();\r\n        System.out.println(test.string()[0] == test.charBufferWrap()[0] &amp;&amp; test.charBufferWrap()[0] == test.charBufferAllocate()[0]);\r\n      }\r\n    \r\n      @Test\r\n      public void benchmark() throws Exception {\r\n        org.openjdk.jmh.Main.main(new String[]{ToBytesTest.class.getName()});\r\n      }\r\n    \r\n      char[] chars = new char[]{&#39;中&#39;, &#39;国&#39;};\r\n    \r\n      @Benchmark\r\n      public byte[] string() {\r\n        return new String(chars).getBytes(StandardCharsets.UTF_8);\r\n      }\r\n    \r\n      @Benchmark\r\n      public byte[] charBufferWrap() {\r\n        return StandardCharsets.UTF_8.encode(CharBuffer.wrap(chars)).array();\r\n      }\r\n    \r\n      @Benchmark\r\n      public byte[] charBufferAllocate() {\r\n        CharBuffer cb = CharBuffer.allocate(chars.length).put(chars);\r\n        cb.flip();\r\n        return StandardCharsets.UTF_8.encode(cb).array();\r\n      }\r\n    }","title":"How to run JMH from inside JUnit tests?","body":"<pre><code>@State(Scope.Benchmark)\n@Threads(1)\n@Fork(1)\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\n@Warmup(iterations = 5, time = 1)\n@Measurement(iterations = 5, time = 1)\n@BenchmarkMode(Mode.All)\npublic class ToBytesTest {\n\n  public static void main(String[] args) {\n    ToBytesTest test = new ToBytesTest();\n    System.out.println(test.string()[0] == test.charBufferWrap()[0] &amp;&amp; test.charBufferWrap()[0] == test.charBufferAllocate()[0]);\n  }\n\n  @Test\n  public void benchmark() throws Exception {\n    org.openjdk.jmh.Main.main(new String[]{ToBytesTest.class.getName()});\n  }\n\n  char[] chars = new char[]{'中', '国'};\n\n  @Benchmark\n  public byte[] string() {\n    return new String(chars).getBytes(StandardCharsets.UTF_8);\n  }\n\n  @Benchmark\n  public byte[] charBufferWrap() {\n    return StandardCharsets.UTF_8.encode(CharBuffer.wrap(chars)).array();\n  }\n\n  @Benchmark\n  public byte[] charBufferAllocate() {\n    CharBuffer cb = CharBuffer.allocate(chars.length).put(chars);\n    cb.flip();\n    return StandardCharsets.UTF_8.encode(cb).array();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4073057,"reputation":3037,"user_id":3441063,"display_name":"Vlad Bochenin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677763156,"creation_date":1677709319,"answer_id":75609598,"question_id":30485856,"body_markdown":"You may write your own JUnit Runner to run benchmark.\r\nIt allows you to run and debug benchmarks from Eclipse IDE\r\n\r\n1. write class extending org.junit.runner.Runner class\r\n\r\n       public class BenchmarkRunner extends Runner {\r\n         //...\r\n       }\r\n\r\n2. implement constructor and few methods\r\n   \r\n\r\n       public class BenchmarkRunner extends Runner {\r\n          public BenchmarkRunner(Class&lt;?&gt; benchmarkClass) {\r\n          }\r\n    \r\n          public Description getDescription() {\r\n           //...\r\n          }  \r\n    \r\n          public void run(RunNotifier notifier) {\r\n           //...\r\n          }\r\n       }\r\n\r\n3. add the runner to your test class\r\n\r\n       @RunWith(BenchmarkRunner.class)  \r\n       public class CustomCollectionBenchmark {\r\n           //...\r\n       }  \r\n\r\nI&#39;ve described it detailed in my blog post:\r\nhttps://vbochenin.github.io/running-jmh-from-eclipse\r\n\r\n","title":"How to run JMH from inside JUnit tests?","body":"<p>You may write your own JUnit Runner to run benchmark.\nIt allows you to run and debug benchmarks from Eclipse IDE</p>\n<ol>\n<li><p>write class extending org.junit.runner.Runner class</p>\n<pre><code>public class BenchmarkRunner extends Runner {\n  //...\n}\n</code></pre>\n</li>\n<li><p>implement constructor and few methods</p>\n<pre><code>public class BenchmarkRunner extends Runner {\n   public BenchmarkRunner(Class&lt;?&gt; benchmarkClass) {\n   }\n\n   public Description getDescription() {\n    //...\n   }  \n\n   public void run(RunNotifier notifier) {\n    //...\n   }\n}\n</code></pre>\n</li>\n<li><p>add the runner to your test class</p>\n<pre><code>@RunWith(BenchmarkRunner.class)  \npublic class CustomCollectionBenchmark {\n    //...\n}  \n</code></pre>\n</li>\n</ol>\n<p>I've described it detailed in my blog post:\n<a href=\"https://vbochenin.github.io/running-jmh-from-eclipse\" rel=\"nofollow noreferrer\">https://vbochenin.github.io/running-jmh-from-eclipse</a></p>\n"}],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20968,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":30486197,"answer_count":4,"score":43,"last_activity_date":1677763156,"creation_date":1432737910,"question_id":30485856,"body_markdown":"How can I run JMH benchmarks inside my existing project using JUnit tests? The official documentation recommends making a separate project, using Maven shade plugin, and launching JMH inside the `main` method. Is this necessary and why is it recommended?","title":"How to run JMH from inside JUnit tests?","body":"<p>How can I run JMH benchmarks inside my existing project using JUnit tests? The official documentation recommends making a separate project, using Maven shade plugin, and launching JMH inside the <code>main</code> method. Is this necessary and why is it recommended?</p>\n"},{"tags":["java","maven","chromium","chromium-embedded"],"answers":[{"tags":[],"owner":{"account_id":9952528,"reputation":1034,"user_id":7364588,"display_name":"user7364588"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562587464,"creation_date":1562587464,"answer_id":56934545,"question_id":56932419,"body_markdown":"[Answer is at following link][1].\r\n\r\nCall `CefApp.startup();` **before** any call of `CefApp.getInstance()` to let it load libjcef.so.\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004138000/comments/360000563279","title":"UnsatisfiedLinkError with JCEF","body":"<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004138000/comments/360000563279\" rel=\"nofollow noreferrer\">Answer is at following link</a>.</p>\n\n<p>Call <code>CefApp.startup();</code> <strong>before</strong> any call of <code>CefApp.getInstance()</code> to let it load libjcef.so.</p>\n"},{"tags":[],"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677763127,"creation_date":1677496082,"answer_id":75579683,"question_id":56932419,"body_markdown":"I faced a similar problem. The problem is the Chrome version.\r\nadd the jcef version according to your chrome version\r\n\r\n - implementation `me.friwi:jcefmaven:110.0.25` \r\n - implementation `me.friwi:jcefmaven:109.1.11`","title":"UnsatisfiedLinkError with JCEF","body":"<p>I faced a similar problem. The problem is the Chrome version.\nadd the jcef version according to your chrome version</p>\n<ul>\n<li>implementation <code>me.friwi:jcefmaven:110.0.25</code></li>\n<li>implementation <code>me.friwi:jcefmaven:109.1.11</code></li>\n</ul>\n"}],"owner":{"account_id":9952528,"reputation":1034,"user_id":7364588,"display_name":"user7364588"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1263,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677763127,"creation_date":1562579658,"question_id":56932419,"body_markdown":"Context :\r\n---\r\n- **Linux 64 debian**\r\n- Java **jdk 1.8.0_181**\r\n- **CEF_VERSION 75.0.13+g2c92fcd+chromium-75.0.3770.100** into `CMakeLists.txt`\r\n- Commit **467f8fc** 2019-07-02\r\n\r\n\r\nHere is the project tree :\r\n```\r\n.\r\n├── pom.yml\r\n├── java-cef/. &lt;------- the cloned java-cef repository\r\n├── lib/ &lt;------------- where builded jar cef and dependencies are stored\r\n|   ├── jogamp/gluegen/1.0/gluegen-1.0.jar\r\n|   ├── jogamp/jogl/1.0/jogl-1.0.jar\r\n|   └── org/cef/1.0/cef-1.0.jar\r\n└── src/\r\n```\r\n\r\nI am building the **JCEF** native sources, here are the followed commands :\r\n\r\n```sh\r\n# Build the JCEF natives and jar\r\ncd java-cef\r\nmkdir jcef_build &amp;&amp; cd jcef_build\r\ncmake -G &quot;Unix Makefiles&quot; -DCMAKE_BUILD_TYPE=Release ..\r\nmake -j4\r\ncd ../tools\r\n./compile.sh linux64\r\n./make_jar.sh linux64\r\n\r\n# Install the CEF jar and it&#39;s jar dependencies into lib/ folder\r\ncd ../../\r\nmvn install:install-file -Dfile=java-cef/out/linux64/jcef.jar -DgroupId=org -DartifactId=cef -Dversion=1.0 -Dpackaging=jar -DlocalRepositoryPath=lib\r\nmvn install:install-file -Dfile=java-cef/third_party/jogamp/jar/jogl-all-natives-linux-amd64.jar -DgroupId=jogamp -DartifactId=jogl -Dversion=1.0 -Dpackaging=jar -DlocalRepositoryPath=lib\r\nmvn install:install-file -Dfile=java-cef/third_party/jogamp/jar/gluegen-rt.jar -DgroupId=jogamp -DartifactId=gluegen -Dversion=1.0 -Dpackaging=jar -DlocalRepositoryPath=lib\r\n\r\n# Link to avoid ICU internal errors of CEF\r\nln -s $PWD/native/Release/icudtl.dat $JAVA_HOME/jre/bin/icudtl.dat\r\nln -s $PWD/native/Release/natives_blob.bin $JAVA_HOME/jre/bin/natives_blob.bin\r\nln -s $PWD/native/Release/snapshot_blob.bin $JAVA_HOME/jre/bin/snapshot_blob.bin\r\n\r\nmvn install\r\n```\r\n\r\nHere is the `pom.xml` :\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;my.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    &lt;!-- JCEF dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cef&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jogamp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gluegen&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jogamp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jogl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;        \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;!-- All about bash/bat creation --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;programs&gt;\r\n                        &lt;!-- generic --&gt;\r\n                        &lt;program&gt;\r\n                            &lt;mainClass&gt;my.app.boot.Boot&lt;/mainClass&gt;\r\n                            &lt;id&gt;player&lt;/id&gt;\r\n                            &lt;jvmSettings&gt;\r\n                                &lt;extraArguments&gt;\r\n                                    &lt;extraArgument&gt;-Djava.library.path=${project.basedir}/java-cef/jcef_build/native/Release:/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib&lt;/extraArgument&gt;\r\n                                &lt;/extraArguments&gt;\r\n                            &lt;/jvmSettings&gt;\r\n                        &lt;/program&gt;\r\n                    &lt;/programs&gt;\r\n                    &lt;assembleDirectory&gt;${project.basedir}&lt;/assembleDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;assemble&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt; \r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIssue :\r\n---\r\n\r\nWhen src code runs `CefApp.getInstance(args, settings).getVersion();`, it returns `null` and throws the following error :\r\n```\r\nCaused by: java.lang.UnsatisfiedLinkError: org.cef.CefApp.N_PreInitialize()Z\r\n\tat org.cef.CefApp.N_PreInitialize(Native Method)\r\n\tat org.cef.CefApp.access$000(CefApp.java:24)\r\n\tat org.cef.CefApp$1.run(CefApp.java:162)\r\n\tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:301)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\t...\r\n\r\njava.lang.UnsatisfiedLinkError: org.cef.CefApp.N_GetVersion()Lorg/cef/CefApp$CefVersion;\r\n\tat org.cef.CefApp.N_GetVersion(Native Method)\r\n\tat org.cef.CefApp.getVersion(CefApp.java:235)\r\n\tat my.app.boot.Browser.&lt;init&gt;(Browser.java:42)\r\n\tat my.app.boot.Boot.main(Boot.java:52)\r\n```\r\n\r\nAny idea ?","title":"UnsatisfiedLinkError with JCEF","body":"<h2>Context :</h2>\n\n<ul>\n<li><strong>Linux 64 debian</strong></li>\n<li>Java <strong>jdk 1.8.0_181</strong></li>\n<li><strong>CEF_VERSION 75.0.13+g2c92fcd+chromium-75.0.3770.100</strong> into <code>CMakeLists.txt</code></li>\n<li>Commit <strong>467f8fc</strong> 2019-07-02</li>\n</ul>\n\n<p>Here is the project tree :</p>\n\n<pre><code>.\n├── pom.yml\n├── java-cef/. &lt;------- the cloned java-cef repository\n├── lib/ &lt;------------- where builded jar cef and dependencies are stored\n|   ├── jogamp/gluegen/1.0/gluegen-1.0.jar\n|   ├── jogamp/jogl/1.0/jogl-1.0.jar\n|   └── org/cef/1.0/cef-1.0.jar\n└── src/\n</code></pre>\n\n<p>I am building the <strong>JCEF</strong> native sources, here are the followed commands :</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># Build the JCEF natives and jar\ncd java-cef\nmkdir jcef_build &amp;&amp; cd jcef_build\ncmake -G \"Unix Makefiles\" -DCMAKE_BUILD_TYPE=Release ..\nmake -j4\ncd ../tools\n./compile.sh linux64\n./make_jar.sh linux64\n\n# Install the CEF jar and it's jar dependencies into lib/ folder\ncd ../../\nmvn install:install-file -Dfile=java-cef/out/linux64/jcef.jar -DgroupId=org -DartifactId=cef -Dversion=1.0 -Dpackaging=jar -DlocalRepositoryPath=lib\nmvn install:install-file -Dfile=java-cef/third_party/jogamp/jar/jogl-all-natives-linux-amd64.jar -DgroupId=jogamp -DartifactId=jogl -Dversion=1.0 -Dpackaging=jar -DlocalRepositoryPath=lib\nmvn install:install-file -Dfile=java-cef/third_party/jogamp/jar/gluegen-rt.jar -DgroupId=jogamp -DartifactId=gluegen -Dversion=1.0 -Dpackaging=jar -DlocalRepositoryPath=lib\n\n# Link to avoid ICU internal errors of CEF\nln -s $PWD/native/Release/icudtl.dat $JAVA_HOME/jre/bin/icudtl.dat\nln -s $PWD/native/Release/natives_blob.bin $JAVA_HOME/jre/bin/natives_blob.bin\nln -s $PWD/native/Release/snapshot_blob.bin $JAVA_HOME/jre/bin/snapshot_blob.bin\n\nmvn install\n</code></pre>\n\n<p>Here is the <code>pom.xml</code> :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;my.app&lt;/groupId&gt;\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n    &lt;!-- JCEF dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org&lt;/groupId&gt;\n            &lt;artifactId&gt;cef&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jogamp&lt;/groupId&gt;\n            &lt;artifactId&gt;gluegen&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jogamp&lt;/groupId&gt;\n            &lt;artifactId&gt;jogl&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;        \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- All about bash/bat creation --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;programs&gt;\n                        &lt;!-- generic --&gt;\n                        &lt;program&gt;\n                            &lt;mainClass&gt;my.app.boot.Boot&lt;/mainClass&gt;\n                            &lt;id&gt;player&lt;/id&gt;\n                            &lt;jvmSettings&gt;\n                                &lt;extraArguments&gt;\n                                    &lt;extraArgument&gt;-Djava.library.path=${project.basedir}/java-cef/jcef_build/native/Release:/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib&lt;/extraArgument&gt;\n                                &lt;/extraArguments&gt;\n                            &lt;/jvmSettings&gt;\n                        &lt;/program&gt;\n                    &lt;/programs&gt;\n                    &lt;assembleDirectory&gt;${project.basedir}&lt;/assembleDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;assemble&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt; \n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<h2>Issue :</h2>\n\n<p>When src code runs <code>CefApp.getInstance(args, settings).getVersion();</code>, it returns <code>null</code> and throws the following error :</p>\n\n<pre><code>Caused by: java.lang.UnsatisfiedLinkError: org.cef.CefApp.N_PreInitialize()Z\n    at org.cef.CefApp.N_PreInitialize(Native Method)\n    at org.cef.CefApp.access$000(CefApp.java:24)\n    at org.cef.CefApp$1.run(CefApp.java:162)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:301)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    ...\n\njava.lang.UnsatisfiedLinkError: org.cef.CefApp.N_GetVersion()Lorg/cef/CefApp$CefVersion;\n    at org.cef.CefApp.N_GetVersion(Native Method)\n    at org.cef.CefApp.getVersion(CefApp.java:235)\n    at my.app.boot.Browser.&lt;init&gt;(Browser.java:42)\n    at my.app.boot.Boot.main(Boot.java:52)\n</code></pre>\n\n<p>Any idea ?</p>\n"},{"tags":["java","inputstream","java.util.scanner"],"answers":[{"comments":[{"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"score":0,"creation_date":1442720578,"post_id":4232614,"comment_id":53196416,"body_markdown":"broken link looks like it should be --&gt; https://www.securecoding.cert.org/confluence/display/java/FIO06-J.+Do+not+create+multiple+buffered+wrappers+on+a+single+byte+or+character+stream","body":"broken link looks like it should be --&gt; <a href=\"https://www.securecoding.cert.org/confluence/display/java/FIO06-J.+Do+not+create+multiple+buffered+wrappers+on+a+single+byte+or+character+stream\" rel=\"nofollow noreferrer\">securecoding.cert.org/confluence/display/java/&hellip;</a>"}],"tags":[],"owner":{"display_name":"user166390"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1677762890,"creation_date":1290254656,"answer_id":4232614,"question_id":4232588,"body_markdown":"&gt; What am I doing wrong?\r\n\r\nUsing multiple scanners on the same stream is the underlying problem. Scanners can (and will) consume the stream - this may (will) lead to unexpected side-effects. Best not to do it.\r\n\r\nIf the input is closed, then the input (but Strings have no `close` method) is closed for everyone - and that&#39;s not much fun for anyone.\r\n\r\n**Edit:**  \r\n&quot;Details&quot; on why multiple scanners are bad:  \r\n[Do not create multiple buffered wrappers on a single byte or character stream](https://wiki.sei.cmu.edu/confluence/display/java/FIO06-J.+Do+not+create+multiple+buffered+wrappers+on+a+single+byte+or+character+stream)\r\n\r\n&gt; ...any buffered wrapper is unsafe; this condition is also exploitable if a Scanner is used instead...","title":"How to use multiple Scanner objects on System.in in Java?","body":"<blockquote>\n<p>What am I doing wrong?</p>\n</blockquote>\n<p>Using multiple scanners on the same stream is the underlying problem. Scanners can (and will) consume the stream - this may (will) lead to unexpected side-effects. Best not to do it.</p>\n<p>If the input is closed, then the input (but Strings have no <code>close</code> method) is closed for everyone - and that's not much fun for anyone.</p>\n<p><strong>Edit:</strong><br />\n&quot;Details&quot; on why multiple scanners are bad:<br />\n<a href=\"https://wiki.sei.cmu.edu/confluence/display/java/FIO06-J.+Do+not+create+multiple+buffered+wrappers+on+a+single+byte+or+character+stream\" rel=\"nofollow noreferrer\">Do not create multiple buffered wrappers on a single byte or character stream</a></p>\n<blockquote>\n<p>...any buffered wrapper is unsafe; this condition is also exploitable if a Scanner is used instead...</p>\n</blockquote>\n"}],"owner":{"account_id":44762,"reputation":331269,"user_id":131527,"accept_rate":83,"display_name":"ghostdog74"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18018,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":4232614,"answer_count":1,"score":9,"last_activity_date":1677762890,"creation_date":1290254315,"question_id":4232588,"body_markdown":"What&#39;s the correct way to use multiple Scanner objects in my program?  \r\n\r\nFor example, I use the scanner to read a file, then depending on what is found in the file, I prompt for user input and use the scanner again.  \r\n\r\nHere is an extraction of my code:\r\n\r\n    Scanner f = new Scanner (System.in); // Get the file name\r\n    String fileName = f.next();\r\n\r\n    Scanner input = new Scanner(new File(fileName));\r\n    while (input.hasNext()) {\r\n       String currentLine = input.nextLine();\r\n       if (some pattern found) {\r\n           Scanner getUserInput = new Scanner (System.in);\r\n           String userInput = getUserInput.next();\r\n           ...\r\n       }\r\n    }\r\n    ...\r\n\r\nIt doesn&#39;t seem to work. What am I doing wrong?  \r\n\r\nDo I need to use `userInput.close()`?  \r\n\r\nWhat I don&#39;t understand is, the first `System.in` is just getting the file name. After that, why does it interfere with the second `System.in`?  \r\nAs for the `input` object, it&#39;s reading from a file and not from `System.in`. \r\n\r\n","title":"How to use multiple Scanner objects on System.in in Java?","body":"<p>What's the correct way to use multiple Scanner objects in my program?</p>\n<p>For example, I use the scanner to read a file, then depending on what is found in the file, I prompt for user input and use the scanner again.</p>\n<p>Here is an extraction of my code:</p>\n<pre><code>Scanner f = new Scanner (System.in); // Get the file name\nString fileName = f.next();\n\nScanner input = new Scanner(new File(fileName));\nwhile (input.hasNext()) {\n   String currentLine = input.nextLine();\n   if (some pattern found) {\n       Scanner getUserInput = new Scanner (System.in);\n       String userInput = getUserInput.next();\n       ...\n   }\n}\n...\n</code></pre>\n<p>It doesn't seem to work. What am I doing wrong?</p>\n<p>Do I need to use <code>userInput.close()</code>?</p>\n<p>What I don't understand is, the first <code>System.in</code> is just getting the file name. After that, why does it interfere with the second <code>System.in</code>?<br />\nAs for the <code>input</code> object, it's reading from a file and not from <code>System.in</code>.</p>\n"},{"tags":["java","queue"],"answers":[{"comments":[{"owner":{"account_id":18234,"reputation":47478,"user_id":41613,"accept_rate":68,"display_name":"ʞɔıu"},"score":0,"creation_date":1299614208,"post_id":5237375,"comment_id":5895057,"body_markdown":"good but not optimal as the normal BlockingQueue implementation of contains() requires a traversal of entire queue","body":"good but not optimal as the normal BlockingQueue implementation of contains() requires a traversal of entire queue"},{"owner":{"account_id":111602,"reputation":8153,"user_id":294738,"accept_rate":67,"display_name":"M. Jessup"},"score":0,"creation_date":1299618207,"post_id":5237375,"comment_id":5896105,"body_markdown":"I would say &quot;optimal&quot; is subjective. Unless you roll your own the other simple option is the one suggested by spike and that is a classic space vs. time tradeoff. So while either could be argued as the best solution depending on the use I give my up vote to this because of its simplicity.","body":"I would say &quot;optimal&quot; is subjective. Unless you roll your own the other simple option is the one suggested by spike and that is a classic space vs. time tradeoff. So while either could be argued as the best solution depending on the use I give my up vote to this because of its simplicity."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":11,"creation_date":1353513457,"post_id":5237375,"comment_id":18470673,"body_markdown":"if &quot;optimal&quot; includes correct, then this implementation would fail as it is a race condition.","body":"if &quot;optimal&quot; includes correct, then this implementation would fail as it is a race condition."}],"tags":[],"owner":{"account_id":281244,"reputation":38779,"user_id":577423,"display_name":"Howard"},"comment_count":3,"down_vote_count":7,"up_vote_count":7,"is_accepted":false,"score":0,"last_activity_date":1299613176,"creation_date":1299613176,"answer_id":5237375,"question_id":5237283,"body_markdown":"You can override add and put methods of any implementation of `BlockingQueue&lt;T&gt;` to check first if the element is already within the queue, e.g.\r\n\r\n\t@Override\r\n\tpublic boolean add(T elem) {\r\n\t\tif (contains(elem))\r\n\t\t\treturn true;\r\n\t\treturn super.add(elem);\r\n\t}\r\n","title":"Java blocking queue containing only unique elements","body":"<p>You can override add and put methods of any implementation of <code>BlockingQueue&lt;T&gt;</code> to check first if the element is already within the queue, e.g.</p>\n\n<pre><code>@Override\npublic boolean add(T elem) {\n    if (contains(elem))\n        return true;\n    return super.add(elem);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195556,"reputation":6174,"user_id":438512,"display_name":"Spike Gronim"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1299613281,"creation_date":1299613281,"answer_id":5237403,"question_id":5237283,"body_markdown":"You can create a new class that composes a BlockingQueue, a Set, and a lock. When you put() you test against the set while holding a lock that prevents get() from running. When you get() you remove the item from the set so that it can be put() again in the future.","title":"Java blocking queue containing only unique elements","body":"<p>You can create a new class that composes a BlockingQueue, a Set, and a lock. When you put() you test against the set while holding a lock that prevents get() from running. When you get() you remove the item from the set so that it can be put() again in the future.</p>\n"},{"comments":[{"owner":{"account_id":386004,"reputation":2061,"user_id":743522,"accept_rate":38,"display_name":"Jonathan Leung"},"score":0,"creation_date":1365773028,"post_id":5237416,"comment_id":22766975,"body_markdown":"The implementation of `contains` iterates over the list, this would be really slow...","body":"The implementation of <code>contains</code> iterates over the list, this would be really slow..."}],"tags":[],"owner":{"account_id":217190,"reputation":1365,"user_id":472872,"accept_rate":82,"display_name":"brayne"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1344916097,"creation_date":1299613378,"answer_id":5237416,"question_id":5237283,"body_markdown":"    class BlockingSet extends ArrayBlockingQueue&lt;E&gt; {\r\n       /*Retain all other methods except put*/\r\n       public void put(E o) throws InterruptedException {\r\n          if (!this.contains(o)){\r\n             super.put(o);\r\n          }\r\n       }\r\n    }","title":"Java blocking queue containing only unique elements","body":"<pre><code>class BlockingSet extends ArrayBlockingQueue&lt;E&gt; {\n   /*Retain all other methods except put*/\n   public void put(E o) throws InterruptedException {\n      if (!this.contains(o)){\n         super.put(o);\n      }\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":476430,"reputation":11691,"user_id":887343,"accept_rate":77,"display_name":"forhas"},"score":0,"creation_date":1451983699,"post_id":29389075,"comment_id":56960105,"body_markdown":"@horec - Is that feeling coming from looking at the code or from actually trying it? Looking at t he code I had the same concern but have&#39;t really give it a shot yet","body":"@horec - Is that feeling coming from looking at the code or from actually trying it? Looking at t he code I had the same concern but have&#39;t really give it a shot yet"},{"owner":{"account_id":1557852,"reputation":4589,"user_id":1448419,"accept_rate":64,"display_name":"rcomblen"},"score":0,"creation_date":1496138159,"post_id":29389075,"comment_id":75526063,"body_markdown":"Your link is dead :-(","body":"Your link is dead :-("},{"owner":{"account_id":476430,"reputation":11691,"user_id":887343,"accept_rate":77,"display_name":"forhas"},"score":1,"creation_date":1496751634,"post_id":29389075,"comment_id":75779276,"body_markdown":"@rcomblen - fixed.","body":"@rcomblen - fixed."},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":1,"creation_date":1632328431,"post_id":29389075,"comment_id":122464573,"body_markdown":"@forhas Your link died again.","body":"@forhas Your link died again."}],"tags":[],"owner":{"account_id":476430,"reputation":11691,"user_id":887343,"accept_rate":77,"display_name":"forhas"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496751608,"creation_date":1427886075,"answer_id":29389075,"question_id":5237283,"body_markdown":"A blocking queue implementation backed by a linked hash set for predictable iteration order and constant time addition, removal and contains operations:\r\n\r\n[There you go][1].\r\n\r\n\r\n  [1]: https://github.com/abayer/incubator-marmotta/blob/master/platform/marmotta-core/src/main/java/org/apache/marmotta/platform/core/util/LinkedHashSetBlockingQueue.java","title":"Java blocking queue containing only unique elements","body":"<p>A blocking queue implementation backed by a linked hash set for predictable iteration order and constant time addition, removal and contains operations:</p>\n\n<p><a href=\"https://github.com/abayer/incubator-marmotta/blob/master/platform/marmotta-core/src/main/java/org/apache/marmotta/platform/core/util/LinkedHashSetBlockingQueue.java\" rel=\"nofollow noreferrer\">There you go</a>.</p>\n"},{"comments":[{"owner":{"account_id":1687748,"reputation":2947,"user_id":1550682,"accept_rate":73,"display_name":"Alan Evangelista"},"score":0,"creation_date":1636508068,"post_id":34265218,"comment_id":123574434,"body_markdown":"What if we cared about removing the element from the queue and from the set atomically ?","body":"What if we cared about removing the element from the queue and from the set atomically ?"}],"tags":[],"owner":{"account_id":2644515,"reputation":394,"user_id":2287514,"display_name":"horec"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1450090488,"creation_date":1450090488,"answer_id":34265218,"question_id":5237283,"body_markdown":"I wrote this class to solve a similar problem:\r\n\r\n    /**\r\n     * Linked blocking queue with {@link #add(Object)} method, which adds only element, that is not already in the queue.\r\n     */\r\n    public class SetBlockingQueue&lt;T&gt; extends LinkedBlockingQueue&lt;T&gt; {\r\n\r\n        private Set&lt;T&gt; set = Collections.newSetFromMap(new ConcurrentHashMap&lt;&gt;());\r\n\r\n        /**\r\n         * Add only element, that is not already enqueued.\r\n         * The method is synchronized, so that the duplicate elements can&#39;t get in during race condition.\r\n         * @param t object to put in\r\n         * @return true, if the queue was changed, false otherwise\r\n         */\r\n        @Override\r\n        public synchronized boolean add(T t) {\r\n            if (set.contains(t)) {\r\n                return false;\r\n            } else {\r\n                set.add(t);\r\n                return super.add(t);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Takes the element from the queue.\r\n         * Note that no synchronization with {@link #add(Object)} is here, as we don&#39;t care about the element staying in the set longer needed.\r\n         * @return taken element\r\n         * @throws InterruptedException\r\n         */\r\n        @Override\r\n        public T take() throws InterruptedException {\r\n            T t = super.take();\r\n            set.remove(t);\r\n            return t;\r\n        }\r\n    }\r\n","title":"Java blocking queue containing only unique elements","body":"<p>I wrote this class to solve a similar problem:</p>\n\n<pre><code>/**\n * Linked blocking queue with {@link #add(Object)} method, which adds only element, that is not already in the queue.\n */\npublic class SetBlockingQueue&lt;T&gt; extends LinkedBlockingQueue&lt;T&gt; {\n\n    private Set&lt;T&gt; set = Collections.newSetFromMap(new ConcurrentHashMap&lt;&gt;());\n\n    /**\n     * Add only element, that is not already enqueued.\n     * The method is synchronized, so that the duplicate elements can't get in during race condition.\n     * @param t object to put in\n     * @return true, if the queue was changed, false otherwise\n     */\n    @Override\n    public synchronized boolean add(T t) {\n        if (set.contains(t)) {\n            return false;\n        } else {\n            set.add(t);\n            return super.add(t);\n        }\n    }\n\n    /**\n     * Takes the element from the queue.\n     * Note that no synchronization with {@link #add(Object)} is here, as we don't care about the element staying in the set longer needed.\n     * @return taken element\n     * @throws InterruptedException\n     */\n    @Override\n    public T take() throws InterruptedException {\n        T t = super.take();\n        set.remove(t);\n        return t;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11367052,"reputation":21,"user_id":8333677,"display_name":"Tulio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677762558,"creation_date":1677762558,"answer_id":75615852,"question_id":5237283,"body_markdown":"I&#39;m working in this exact same issue. The solution that was proposed has some problems, like not keeping the set and the queue with the same elements. \r\n\r\nI&#39;m not 100% sure if it&#39;s necessary, but I&#39;m guessing it is. Also, it doesn&#39;t contemplate other methods, ie offer and put. \r\n\r\nIf we use &#39;BlockingQueue&#39; as the backing queue for keeping things in sync, none of the relevant methods work. The lock of the inner queue conflicts with the  monitor lock and the interactions between blocking methods\r\n\r\nAt the end I have to implement something like that (full implementation in [UniqueBlockingQueue](https://gist.github.com/tulioballari/d85094e6b951ee2258e3ae67c774b36c) and test in [UniqueBlockingQueueTest]( https://gist.github.com/tulioballari/9d8806360147dc0241708cd460eaa615) ) based in the blocking queues already present in the jdk.\r\n\r\n\r\n    public class UniqueBlockingQueue&lt;E&gt; extends AbstractQueue&lt;E&gt; implements BlockingQueue&lt;E&gt; {\r\n\r\n      private final ReentrantLock lock = new ReentrantLock();\r\n      private final Condition notEmpty = lock.newCondition();\r\n      private final Condition notFull = lock.newCondition();\r\n\r\n      private HashSet&lt;E&gt; set = new HashSet&lt;&gt;();\r\n      private LinkedList&lt;E&gt; queue = new LinkedList&lt;&gt;();\r\n\r\n      private final int capacity;\r\n      private final AtomicInteger count = new AtomicInteger();\r\n    \r\n      @Override\r\n      public void put(E e) throws InterruptedException {\r\n        Objects.requireNonNull(e);\r\n\r\n        final var lock = this.lock;\r\n        final var count = this.count;\r\n        lock.lockInterruptibly();\r\n        try {\r\n            while (count.get() == capacity || set.contains(e)) {\r\n                notFull.await();\r\n            }\r\n            queue.add(e);\r\n            set.add(e);\r\n\r\n            final var c = count.getAndIncrement();\r\n            if (c + 1 &lt; capacity) {\r\n                notFull.signal();\r\n            }\r\n            if (c == 0) {\r\n                notEmpty.signal();\r\n            }\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n      }\r\n\r\n      @Override\r\n      public E take() throws InterruptedException {\r\n        final var lock = this.lock;\r\n        final var count = this.count;\r\n        lock.lockInterruptibly();\r\n        try {\r\n            while (count.get() == 0) {\r\n                notEmpty.await();\r\n            }\r\n            var e = queue.poll();\r\n            set.remove(e);\r\n\r\n            final var c = count.getAndDecrement();\r\n            if (c &gt; 1) {\r\n                notEmpty.signal();\r\n            }\r\n            if (c == capacity) {\r\n                notFull.signal();\r\n            }\r\n            return e;\r\n       } finally {\r\n           lock.unlock();\r\n       }\r\n      }\r\n    }","title":"Java blocking queue containing only unique elements","body":"<p>I'm working in this exact same issue. The solution that was proposed has some problems, like not keeping the set and the queue with the same elements.</p>\n<p>I'm not 100% sure if it's necessary, but I'm guessing it is. Also, it doesn't contemplate other methods, ie offer and put.</p>\n<p>If we use 'BlockingQueue' as the backing queue for keeping things in sync, none of the relevant methods work. The lock of the inner queue conflicts with the  monitor lock and the interactions between blocking methods</p>\n<p>At the end I have to implement something like that (full implementation in <a href=\"https://gist.github.com/tulioballari/d85094e6b951ee2258e3ae67c774b36c\" rel=\"nofollow noreferrer\">UniqueBlockingQueue</a> and test in <a href=\"https://gist.github.com/tulioballari/9d8806360147dc0241708cd460eaa615\" rel=\"nofollow noreferrer\">UniqueBlockingQueueTest</a> ) based in the blocking queues already present in the jdk.</p>\n<pre><code>public class UniqueBlockingQueue&lt;E&gt; extends AbstractQueue&lt;E&gt; implements BlockingQueue&lt;E&gt; {\n\n  private final ReentrantLock lock = new ReentrantLock();\n  private final Condition notEmpty = lock.newCondition();\n  private final Condition notFull = lock.newCondition();\n\n  private HashSet&lt;E&gt; set = new HashSet&lt;&gt;();\n  private LinkedList&lt;E&gt; queue = new LinkedList&lt;&gt;();\n\n  private final int capacity;\n  private final AtomicInteger count = new AtomicInteger();\n\n  @Override\n  public void put(E e) throws InterruptedException {\n    Objects.requireNonNull(e);\n\n    final var lock = this.lock;\n    final var count = this.count;\n    lock.lockInterruptibly();\n    try {\n        while (count.get() == capacity || set.contains(e)) {\n            notFull.await();\n        }\n        queue.add(e);\n        set.add(e);\n\n        final var c = count.getAndIncrement();\n        if (c + 1 &lt; capacity) {\n            notFull.signal();\n        }\n        if (c == 0) {\n            notEmpty.signal();\n        }\n    } finally {\n        lock.unlock();\n    }\n  }\n\n  @Override\n  public E take() throws InterruptedException {\n    final var lock = this.lock;\n    final var count = this.count;\n    lock.lockInterruptibly();\n    try {\n        while (count.get() == 0) {\n            notEmpty.await();\n        }\n        var e = queue.poll();\n        set.remove(e);\n\n        final var c = count.getAndDecrement();\n        if (c &gt; 1) {\n            notEmpty.signal();\n        }\n        if (c == capacity) {\n            notFull.signal();\n        }\n        return e;\n   } finally {\n       lock.unlock();\n   }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18234,"reputation":47478,"user_id":41613,"accept_rate":68,"display_name":"ʞɔıu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14472,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":6,"score":15,"last_activity_date":1677762558,"creation_date":1299612540,"question_id":5237283,"body_markdown":"sort of like a &quot;blocking set&quot;. How can I implement a blocking queue where adding a member that is already in the set is ignored?","title":"Java blocking queue containing only unique elements","body":"<p>sort of like a \"blocking set\". How can I implement a blocking queue where adding a member that is already in the set is ignored?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":19103228,"reputation":75,"user_id":13956589,"display_name":"HamsterofDeath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677762536,"creation_date":1677760858,"question_id":75615553,"body_markdown":"i have ~50 mvc tests that were green with spring boot 2.7.7 but became red with 3.0.3\r\n\r\neverything was and is still allowed:\r\n```\r\nrequestMatchers(applicationProperties.getBasePath() + &quot;internal/api/**&quot;).permitAll()\r\n```\r\nthe simplest test i have is this:\r\n\r\n```\r\nmockMvc.perform(MockMvcRequestBuilders.get(BASE_PATH))\r\n                .andExpect(status().isOk())\r\n```\r\nwhat i found out is that this bean\r\n```\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http, JwtIssuerAuthenticationManagerResolver authenticationManagerResolver) throws Exception {\r\n```\r\n\r\nis not created in 3.0. but the code is executed in 2.7.7\r\n\r\nany hints? \r\n","title":"after upgrading to spring boot 3, all my mockMvc tests return 403","body":"<p>i have ~50 mvc tests that were green with spring boot 2.7.7 but became red with 3.0.3</p>\n<p>everything was and is still allowed:</p>\n<pre><code>requestMatchers(applicationProperties.getBasePath() + &quot;internal/api/**&quot;).permitAll()\n</code></pre>\n<p>the simplest test i have is this:</p>\n<pre><code>mockMvc.perform(MockMvcRequestBuilders.get(BASE_PATH))\n                .andExpect(status().isOk())\n</code></pre>\n<p>what i found out is that this bean</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, JwtIssuerAuthenticationManagerResolver authenticationManagerResolver) throws Exception {\n</code></pre>\n<p>is not created in 3.0. but the code is executed in 2.7.7</p>\n<p>any hints?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23370524,"reputation":27,"user_id":17441457,"display_name":"Adejumobi Daniel"},"score":1,"creation_date":1677755146,"post_id":75614428,"comment_id":133402130,"body_markdown":"is this okay...","body":"is this okay..."},{"owner":{"account_id":9213036,"reputation":754,"user_id":6845412,"display_name":"Utkarsh Dubey"},"score":0,"creation_date":1677755420,"post_id":75614428,"comment_id":133402206,"body_markdown":"You are calling your function twice, `calResult` and there is no if condition.","body":"You are calling your function twice, <code>calResult</code> and there is no if condition."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1677755438,"post_id":75614428,"comment_id":133402212,"body_markdown":"And note: your code is really hard to read ... why? Because of the inconsistent indentation. Be really diligent about this things: indent in on opening {, and go back one level after the closing }. Code is written so that HUMANs can read it. Also note: when asking questions here, focus on just bringing the MINIMUM of code here. The only thing that you care right here: that loop, and input/output. That class around it, with all the getters/setters ... doesn&#39;t contribute to your problem.","body":"And note: your code is really hard to read ... why? Because of the inconsistent indentation. Be really diligent about this things: indent in on opening {, and go back one level after the closing }. Code is written so that HUMANs can read it. Also note: when asking questions here, focus on just bringing the MINIMUM of code here. The only thing that you care right here: that loop, and input/output. That class around it, with all the getters/setters ... doesn&#39;t contribute to your problem."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677755562,"post_id":75614428,"comment_id":133402256,"body_markdown":"so, your question is: why does it print the &quot;Dear Tobi&quot; line twice? It&#39;s because you call that method twice","body":"so, your question is: why does it print the &quot;Dear Tobi&quot; line twice? It&#39;s because you call that method twice"},{"owner":{"account_id":23370524,"reputation":27,"user_id":17441457,"display_name":"Adejumobi Daniel"},"score":0,"creation_date":1677755655,"post_id":75614428,"comment_id":133402284,"body_markdown":"Now I understand where the issue lies, but I dont know what to do.","body":"Now I understand where the issue lies, but I dont know what to do."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1677756081,"post_id":75614428,"comment_id":133402407,"body_markdown":"You are (perhaps inadvertently) using recursion: you call `calResult` before you come out of the first call to `calResult`. One way to fix this is to use a while loop instead, and make `confirmDetails` return a boolean.","body":"You are (perhaps inadvertently) using recursion: you call <code>calResult</code> before you come out of the first call to <code>calResult</code>. One way to fix this is to use a while loop instead, and make <code>confirmDetails</code> return a boolean."},{"owner":{"account_id":9213036,"reputation":754,"user_id":6845412,"display_name":"Utkarsh Dubey"},"score":0,"creation_date":1677756663,"post_id":75614428,"comment_id":133402568,"body_markdown":"Call `confirmDetails` from the main function and use return type in `confirmDetails` and `calResult` then do `System.out.println` also in main function.","body":"Call <code>confirmDetails</code> from the main function and use return type in <code>confirmDetails</code> and <code>calResult</code> then do <code>System.out.println</code> also in main function."}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677756398,"creation_date":1677756398,"answer_id":75614801,"question_id":75614428,"body_markdown":"Here is a minimal reproducible example of your problem:\r\n\r\n    public class Input {\r\n    \r\n        static Scanner scanner = new Scanner(System.in);\r\n        public static void main(String[] args) {\r\n            provideInput();\r\n        }\r\n        static String input;\r\n    \r\n        public static void provideInput() {\r\n            System.out.println(&quot;Read name:&quot; );\r\n            input = scanner.next();\r\n            if ( input.equals(&quot;false&quot;)) {\r\n                provideInput(); // here you recursively call the same method again. That does not mean that the original execution ends.\r\n            }\r\n            System.out.println(&quot;input = &quot; + input);\r\n        }\r\n    }\r\n\r\nIf I enter &quot;false&quot;, and the second time &quot;true&quot;,it&#39;ll give me \r\n\r\n    input = true\r\n    input = true\r\n\r\nas output.\r\n\r\nIf you want only once, move the print statement to the calling method:\r\n\r\n    public class Input {\r\n    \r\n        static Scanner scanner = new Scanner(System.in);\r\n        public static void main(String[] args) {\r\n            provideInput();\r\n            System.out.println(&quot;input = &quot; + input);\r\n        }\r\n        static String input;\r\n    \r\n        public static void provideInput() {\r\n            System.out.println(&quot;Read name:&quot; );\r\n            input = scanner.next();\r\n            if ( input.equals(&quot;false&quot;)) {\r\n                provideInput();\r\n            }\r\n        }\r\n    }\r\n\r\nThis will only print after the original execution of that method is finished.\r\n\r\n","title":"Prompt user input, getting multiple values","body":"<p>Here is a minimal reproducible example of your problem:</p>\n<pre><code>public class Input {\n\n    static Scanner scanner = new Scanner(System.in);\n    public static void main(String[] args) {\n        provideInput();\n    }\n    static String input;\n\n    public static void provideInput() {\n        System.out.println(&quot;Read name:&quot; );\n        input = scanner.next();\n        if ( input.equals(&quot;false&quot;)) {\n            provideInput(); // here you recursively call the same method again. That does not mean that the original execution ends.\n        }\n        System.out.println(&quot;input = &quot; + input);\n    }\n}\n</code></pre>\n<p>If I enter &quot;false&quot;, and the second time &quot;true&quot;,it'll give me</p>\n<pre><code>input = true\ninput = true\n</code></pre>\n<p>as output.</p>\n<p>If you want only once, move the print statement to the calling method:</p>\n<pre><code>public class Input {\n\n    static Scanner scanner = new Scanner(System.in);\n    public static void main(String[] args) {\n        provideInput();\n        System.out.println(&quot;input = &quot; + input);\n    }\n    static String input;\n\n    public static void provideInput() {\n        System.out.println(&quot;Read name:&quot; );\n        input = scanner.next();\n        if ( input.equals(&quot;false&quot;)) {\n            provideInput();\n        }\n    }\n}\n</code></pre>\n<p>This will only print after the original execution of that method is finished.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677756843,"creation_date":1677756843,"answer_id":75614863,"question_id":75614428,"body_markdown":"The `confirmDetails()` method is invoking `calResult()` which results in additional output.  Everytime `calResult()` is called you are going to have a line of output.  Since `confirmDetails()` is invoked by `calResult()` and may itself call `calResult()` you are producing additional lines of output.\r\n\r\n    calResult() {\r\n      ... stuff happen ...\r\n      confirmDetails()\r\n      output()\r\n    }\r\n\r\n    confirmDetails() {\r\n      ... stuff happens ...\r\n      calResults(..)\r\n    }\r\n\r\nYou need to re-organize your code a bit.  One thing that should help is to limit the responsibility of each method. Consider writing methods for each operation and your entry point manage flow of control.  For example.\r\n\r\n    public void calResult() {\r\n      while (true) {\r\n        getUserInput();\r\n        if (confirmDetails()) {\r\n          break;\r\n        }\r\n      }\r\n      double aggregate = calculateAggregate();\r\n      emitAggregate(aggregate);\r\n    }\r\n\r\n","title":"Prompt user input, getting multiple values","body":"<p>The <code>confirmDetails()</code> method is invoking <code>calResult()</code> which results in additional output.  Everytime <code>calResult()</code> is called you are going to have a line of output.  Since <code>confirmDetails()</code> is invoked by <code>calResult()</code> and may itself call <code>calResult()</code> you are producing additional lines of output.</p>\n<pre><code>calResult() {\n  ... stuff happen ...\n  confirmDetails()\n  output()\n}\n\nconfirmDetails() {\n  ... stuff happens ...\n  calResults(..)\n}\n</code></pre>\n<p>You need to re-organize your code a bit.  One thing that should help is to limit the responsibility of each method. Consider writing methods for each operation and your entry point manage flow of control.  For example.</p>\n<pre><code>public void calResult() {\n  while (true) {\n    getUserInput();\n    if (confirmDetails()) {\n      break;\n    }\n  }\n  double aggregate = calculateAggregate();\n  emitAggregate(aggregate);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677756918,"creation_date":1677756918,"answer_id":75614882,"question_id":75614428,"body_markdown":"It&#39;s executing twice because the `confirmDetails();` is called from the same `calResult()`, and after `confirmDetails();` is called, you are printing the value.   So once the first call is executed, the control flow will come back to the first call and will execute the remaining part of the code, which is printing the value again. \r\n\r\nThe suggestion is to move the confirmation call to be the main class. \r\n\r\nHere is sample I have written where the input is taken from Main class itself. But this would give you a better idea. \r\n\r\n    public class Calculate {\r\n    \r\n    \tprivate String name;\r\n    \tprivate float jamb, postUtme, aggregate;\r\n    \r\n    \tpublic Calculate(String name, float jamb, float postUtme) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.jamb = jamb;\r\n    \t\tthis.postUtme = postUtme;\r\n    \t\tthis.aggregate = (jamb / 8) + (postUtme / 2);\r\n    \t}\r\n    \r\n    \tpublic void calResult() {\r\n    \t\tSystem.out.println(&quot;Dear &quot; + name + &quot; your aggregate is &quot; + aggregate);\r\n    \t}\r\n    \r\n       //Getters &amp; Setters\r\n    }\r\n\r\nMain Class\r\n\r\n    public static void main(String[] args) {\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tString name = &quot;PlaceHolderValue&quot;;\r\n    \t\tint jamb = 0;\r\n    \t\tint postUtme = 0;\r\n    \t\tboolean retry = true;\r\n    \t\tdo {\r\n    \t\t\tSystem.out.println(&quot;Enter your name&quot;);\r\n    \t\t\tname = input.next();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Enter Jamb score&quot;);\r\n    \t\t\tjamb = input.nextInt();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Enter PostUtme score&quot;);\r\n    \t\t\tpostUtme = input.nextInt();\r\n    \r\n    \t\t\tSystem.out.println(&quot;&quot;&quot;\r\n    \t\t\t\t\tCorrect??\r\n    \t\t\t\t\t\t\\t1 to confirm\r\n    \t\t\t\t\t\t\\t2 to re-enter&quot;&quot;&quot;);\r\n    \t\t\tint confirmD = input.nextInt();\r\n    \t\t\tretry = confirmD == 2;\r\n    \t\t} while (retry);\r\n    \r\n    \t\tinput.close();\r\n    \r\n    \t\tCalculate c = new Calculate(name, jamb, postUtme);\r\n    \t\tc.calResult();\r\n    \t}","title":"Prompt user input, getting multiple values","body":"<p>It's executing twice because the <code>confirmDetails();</code> is called from the same <code>calResult()</code>, and after <code>confirmDetails();</code> is called, you are printing the value.   So once the first call is executed, the control flow will come back to the first call and will execute the remaining part of the code, which is printing the value again.</p>\n<p>The suggestion is to move the confirmation call to be the main class.</p>\n<p>Here is sample I have written where the input is taken from Main class itself. But this would give you a better idea.</p>\n<pre><code>public class Calculate {\n\n    private String name;\n    private float jamb, postUtme, aggregate;\n\n    public Calculate(String name, float jamb, float postUtme) {\n        this.name = name;\n        this.jamb = jamb;\n        this.postUtme = postUtme;\n        this.aggregate = (jamb / 8) + (postUtme / 2);\n    }\n\n    public void calResult() {\n        System.out.println(&quot;Dear &quot; + name + &quot; your aggregate is &quot; + aggregate);\n    }\n\n   //Getters &amp; Setters\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        String name = &quot;PlaceHolderValue&quot;;\n        int jamb = 0;\n        int postUtme = 0;\n        boolean retry = true;\n        do {\n            System.out.println(&quot;Enter your name&quot;);\n            name = input.next();\n\n            System.out.println(&quot;Enter Jamb score&quot;);\n            jamb = input.nextInt();\n\n            System.out.println(&quot;Enter PostUtme score&quot;);\n            postUtme = input.nextInt();\n\n            System.out.println(&quot;&quot;&quot;\n                    Correct??\n                        \\t1 to confirm\n                        \\t2 to re-enter&quot;&quot;&quot;);\n            int confirmD = input.nextInt();\n            retry = confirmD == 2;\n        } while (retry);\n\n        input.close();\n\n        Calculate c = new Calculate(name, jamb, postUtme);\n        c.calResult();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677762452,"creation_date":1677762452,"answer_id":75615832,"question_id":75614428,"body_markdown":"Just another concept. The code below just uses [Scanner.nextLine()](https://www.tutorialspoint.com/java/util/scanner_nextline.htm) and validates all User inputs using the [String.matches()](https://www.tutorialspoint.com/java/java_string_matches.htm) method along with small [Regular Expressions](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html). \r\n\r\nThe `confirmDetails()` method is actually re-written to return a boolean value (true for confirm and false for re-write).\r\n\r\n**Regular Expressions Used In Code:**\r\n\r\n - `&quot;-?\\\\d+&quot;` Does the Input match a string representation of a signed\r\n   or unsigned Integer value;\r\n - `&quot;[12]&quot;` Does the Input match a string representation of a unsigned\r\n   Integer value of either `1` or `2`.\r\n\r\n**The Code:**\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    String final LS = System.lineSeparator();\r\n    \r\n    public void calResult() {\r\n        String name = &quot;&quot;;\r\n        int jamb, postUtme;\r\n        double aggregate = 0.0d;\r\n                \r\n        boolean validInfo = false;\r\n        while (!validInfo) {\r\n            // Name\r\n            String aName = &quot;&quot;;\r\n            while (aName.isEmpty()) {\r\n                System.out.print(&quot;Enter your name: -&gt; &quot;);\r\n                aName = input.nextLine().trim();\r\n                // Entry Validation: Is the entry empty?  \r\n                if (aName.isEmpty()) {\r\n                    // Yes...inform User and allow for retry...\r\n                    System.out.println(&quot;Invalid Entry! You must enter a valid name! &quot;\r\n                                     + &quot;Try again...&quot; + LS);\r\n                    aName = &quot;&quot;;\r\n                }\r\n            }\r\n            name = aName;\r\n            \r\n            // Jamb\r\n            String jam = &quot;&quot;;\r\n            while (jam.isEmpty()) {\r\n                System.out.print(&quot;Enter Jamb score: -&gt; &quot;);\r\n                jam = input.nextLine().trim();\r\n                /* Entry Validation: Is the entry a string representation of\r\n                   a signed of unsigned integer value?           */\r\n                if (!jam.matches(&quot;-?\\\\d+&quot;)) {\r\n                    // No...Inform User and allow retry:\r\n                    System.out.println(&quot;Invalid Entry! (&quot; + jam + &quot;) You must enter &quot;\r\n                                     + &quot;a valid Jamb score! Try again...&quot; + LS);\r\n                    jam = &quot;&quot;;\r\n                }\r\n            }\r\n            jamb = Integer.parseInt(jam);\r\n            \r\n            // PostUtime\r\n            String postUt = &quot;&quot;;\r\n            while (postUt.isEmpty()) {\r\n                System.out.print(&quot;Enter PostUtime score: -&gt; &quot;);\r\n                postUt = input.nextLine().trim();\r\n                /* Entry Validation: Is the entry a string representation of\r\n                   a signed of unsigned integer value?           */\r\n                if (!postUt.matches(&quot;-?\\\\d+&quot;)) {\r\n                    // No...Inform User and allow retry:\r\n                    System.out.println(&quot;Invalid Entry! (&quot; + postUt + &quot;) You must enter &quot;\r\n                                     + &quot;a valid PostUTime score! Try again...&quot; + LS);\r\n                    postUt = &quot;&quot;;\r\n                }\r\n            }\r\n            postUtme = Integer.parseInt(postUt);\r\n            aggregate = ((double)(jamb / 8.0d) + (double)(postUtme / 2.0d));\r\n            System.out.println();\r\n            \r\n            // Confirm Entry Details:\r\n            validInfo = confirmDetails();\r\n        }\r\n        \r\n        System.out.println();\r\n        System.out.println(&quot;Dear &quot; + name + &quot; your aggregate is &quot; + aggregate);\r\n    }\r\n\r\n    public boolean confirmDetails() {\r\n        String confirmD = &quot;&quot;;\r\n        while (confirmD.isEmpty()) {\r\n            System.out.println(&quot;Is the above information Correct?&quot;);\r\n            System.out.println(&quot;  1) To confirm&quot;);\r\n            System.out.println(&quot;  2) To re-enter&quot;);\r\n            System.out.print(&quot;Choice: -&gt; &quot;);\r\n            confirmD = input.nextLine().trim();\r\n            if (!confirmD.matches(&quot;[12]&quot;)) {\r\n                System.out.println(&quot;Invalid Menu Choice! (&quot; + confirmD + &quot;) &quot;\r\n                                 + &quot;Try again...&quot; + LS);\r\n                confirmD = &quot;&quot;;\r\n            }\r\n        }\r\n        return !confirmD.equals(&quot;2&quot;);\r\n    }","title":"Prompt user input, getting multiple values","body":"<p>Just another concept. The code below just uses <a href=\"https://www.tutorialspoint.com/java/util/scanner_nextline.htm\" rel=\"nofollow noreferrer\">Scanner.nextLine()</a> and validates all User inputs using the <a href=\"https://www.tutorialspoint.com/java/java_string_matches.htm\" rel=\"nofollow noreferrer\">String.matches()</a> method along with small <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">Regular Expressions</a>.</p>\n<p>The <code>confirmDetails()</code> method is actually re-written to return a boolean value (true for confirm and false for re-write).</p>\n<p><strong>Regular Expressions Used In Code:</strong></p>\n<ul>\n<li><code>&quot;-?\\\\d+&quot;</code> Does the Input match a string representation of a signed\nor unsigned Integer value;</li>\n<li><code>&quot;[12]&quot;</code> Does the Input match a string representation of a unsigned\nInteger value of either <code>1</code> or <code>2</code>.</li>\n</ul>\n<p><strong>The Code:</strong></p>\n<pre><code>Scanner input = new Scanner(System.in);\nString final LS = System.lineSeparator();\n\npublic void calResult() {\n    String name = &quot;&quot;;\n    int jamb, postUtme;\n    double aggregate = 0.0d;\n            \n    boolean validInfo = false;\n    while (!validInfo) {\n        // Name\n        String aName = &quot;&quot;;\n        while (aName.isEmpty()) {\n            System.out.print(&quot;Enter your name: -&gt; &quot;);\n            aName = input.nextLine().trim();\n            // Entry Validation: Is the entry empty?  \n            if (aName.isEmpty()) {\n                // Yes...inform User and allow for retry...\n                System.out.println(&quot;Invalid Entry! You must enter a valid name! &quot;\n                                 + &quot;Try again...&quot; + LS);\n                aName = &quot;&quot;;\n            }\n        }\n        name = aName;\n        \n        // Jamb\n        String jam = &quot;&quot;;\n        while (jam.isEmpty()) {\n            System.out.print(&quot;Enter Jamb score: -&gt; &quot;);\n            jam = input.nextLine().trim();\n            /* Entry Validation: Is the entry a string representation of\n               a signed of unsigned integer value?           */\n            if (!jam.matches(&quot;-?\\\\d+&quot;)) {\n                // No...Inform User and allow retry:\n                System.out.println(&quot;Invalid Entry! (&quot; + jam + &quot;) You must enter &quot;\n                                 + &quot;a valid Jamb score! Try again...&quot; + LS);\n                jam = &quot;&quot;;\n            }\n        }\n        jamb = Integer.parseInt(jam);\n        \n        // PostUtime\n        String postUt = &quot;&quot;;\n        while (postUt.isEmpty()) {\n            System.out.print(&quot;Enter PostUtime score: -&gt; &quot;);\n            postUt = input.nextLine().trim();\n            /* Entry Validation: Is the entry a string representation of\n               a signed of unsigned integer value?           */\n            if (!postUt.matches(&quot;-?\\\\d+&quot;)) {\n                // No...Inform User and allow retry:\n                System.out.println(&quot;Invalid Entry! (&quot; + postUt + &quot;) You must enter &quot;\n                                 + &quot;a valid PostUTime score! Try again...&quot; + LS);\n                postUt = &quot;&quot;;\n            }\n        }\n        postUtme = Integer.parseInt(postUt);\n        aggregate = ((double)(jamb / 8.0d) + (double)(postUtme / 2.0d));\n        System.out.println();\n        \n        // Confirm Entry Details:\n        validInfo = confirmDetails();\n    }\n    \n    System.out.println();\n    System.out.println(&quot;Dear &quot; + name + &quot; your aggregate is &quot; + aggregate);\n}\n\npublic boolean confirmDetails() {\n    String confirmD = &quot;&quot;;\n    while (confirmD.isEmpty()) {\n        System.out.println(&quot;Is the above information Correct?&quot;);\n        System.out.println(&quot;  1) To confirm&quot;);\n        System.out.println(&quot;  2) To re-enter&quot;);\n        System.out.print(&quot;Choice: -&gt; &quot;);\n        confirmD = input.nextLine().trim();\n        if (!confirmD.matches(&quot;[12]&quot;)) {\n            System.out.println(&quot;Invalid Menu Choice! (&quot; + confirmD + &quot;) &quot;\n                             + &quot;Try again...&quot; + LS);\n            confirmD = &quot;&quot;;\n        }\n    }\n    return !confirmD.equals(&quot;2&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23370524,"reputation":27,"user_id":17441457,"display_name":"Adejumobi Daniel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75614801,"answer_count":4,"score":0,"last_activity_date":1677762452,"creation_date":1677754206,"question_id":75614428,"body_markdown":"I am working on a basic Java program, whereby the user is prompted to enter it details.\r\nAfter entering it details, it ask the user if the entered details are correct.\r\nIf yes, the user details get printed out, if not the user has to re-enter it details again.\r\n\r\nNow the issue is, if the user entered it detail for the second time and they are okay, I get 2 print statement, the old one plus the new one, if they enter it N times, i get and N times print statment.\r\n\r\n \r\n\r\n        import java.util.Scanner;\r\n         \r\n         public class Calculate {\r\n         \r\n         private String name;\r\n         private float jamb, postUtme, aggregate;\r\n         \r\n         public Calculate(String name, float jamb, float postUtme, float aggregate) {\r\n         this.name = name;\r\n         this.jamb = jamb;\r\n         this.postUtme = postUtme;\r\n         this.aggregate = aggregate;\r\n             }\r\n         \r\n         Scanner input = new Scanner(System.in);\r\n         \r\n         public void calResult(){\r\n         System.out.println(&quot;Enter your name&quot;);\r\n         name = input.next();\r\n         \r\n         \r\n         System.out.println(&quot;Enter Jamb score&quot;);\r\n         jamb = input.nextInt();\r\n         \r\n         System.out.println(&quot;Enter PostUtme score&quot;);\r\n         postUtme = input.nextInt();\r\n         \r\n         aggregate = (jamb/8) + (postUtme/2);\r\n         \r\n         confirmDetails();\r\n         \r\n         System.out.println(&quot;Dear &quot; + name +  &quot; your aggregate is &quot; +  aggregate);\r\n            }\r\n         \r\n         public void confirmDetails(){\r\n         System.out.println(&quot;&quot;&quot;\r\n         Correct??\r\n                         \\t1 to confirm\r\n                         \\t2 to re-enter&quot;&quot;&quot;);\r\n         int confirmD = input.nextInt();\r\n         if (confirmD == 2){\r\n         calResult();\r\n                 }\r\n             }\r\n         \r\n         public String getName() {\r\n         return name;\r\n             }\r\n         \r\n         public void setName(String name) {\r\n         this.name = name;\r\n             }\r\n         \r\n         public float getJamb() {\r\n         return jamb;\r\n             }\r\n         \r\n         public void setJamb(float jamb) {\r\n         this.jamb = jamb;\r\n             }\r\n         \r\n         public float getPostUtme() {\r\n         return postUtme;\r\n             }\r\n         \r\n         public void setPostUtme(float postUtme) {\r\n         this.postUtme = postUtme;\r\n             }\r\n         \r\n         public float getAggregate() {\r\n         return aggregate;\r\n             }\r\n         \r\n         public void setAggregate(float aggregate) {\r\n         this.aggregate = aggregate;\r\n             }\r\n         }\r\n    \r\n Main class:\r\n      \r\n    \r\n         public class Main {\r\n         public static void main(String[] args) {\r\n         Calculate c = new Calculate(&quot;PlaceHolderValue&quot;, 0, 0, 0);\r\n         c.calResult();\r\n             }\r\n         }\r\n    \r\noutput from multiple entries:\r\n\r\n    Enter your name\r\n    Daniel\r\n    Enter Jamb score\r\n    50\r\n    Enter PostUtme score\r\n    40\r\n    Correct??\r\n    \t1 to confirm\r\n    \t2 to re-enter\r\n    2\r\n    Enter your name\r\n    Tobi\r\n    Enter Jamb score\r\n    30\r\n    Enter PostUtme score\r\n    20\r\n    Correct??\r\n    \t1 to confirm\r\n    \t2 to re-enter\r\n    1\r\n    Dear Tobi your aggregate is 13.75\r\n    Dear Tobi your aggregate is 13.75\r\n    \r\n    \r\nDesired output:\r\n\r\n    Enter your name\r\n    Daniel\r\n    Enter Jamb score\r\n    50\r\n    Enter PostUtme score\r\n    40\r\n    Correct??\r\n    \t1 to confirm\r\n    \t2 to re-enter\r\n    2\r\n    Enter your name\r\n    Tobi\r\n    Enter Jamb score\r\n    30\r\n    Enter PostUtme score\r\n    20\r\n    Correct??\r\n    \t1 to confirm\r\n    \t2 to re-enter\r\n    1\r\n    Dear Tobi your aggregate is 13.75","title":"Prompt user input, getting multiple values","body":"<p>I am working on a basic Java program, whereby the user is prompted to enter it details.\nAfter entering it details, it ask the user if the entered details are correct.\nIf yes, the user details get printed out, if not the user has to re-enter it details again.</p>\n<p>Now the issue is, if the user entered it detail for the second time and they are okay, I get 2 print statement, the old one plus the new one, if they enter it N times, i get and N times print statment.</p>\n<pre><code>    import java.util.Scanner;\n     \n     public class Calculate {\n     \n     private String name;\n     private float jamb, postUtme, aggregate;\n     \n     public Calculate(String name, float jamb, float postUtme, float aggregate) {\n     this.name = name;\n     this.jamb = jamb;\n     this.postUtme = postUtme;\n     this.aggregate = aggregate;\n         }\n     \n     Scanner input = new Scanner(System.in);\n     \n     public void calResult(){\n     System.out.println(&quot;Enter your name&quot;);\n     name = input.next();\n     \n     \n     System.out.println(&quot;Enter Jamb score&quot;);\n     jamb = input.nextInt();\n     \n     System.out.println(&quot;Enter PostUtme score&quot;);\n     postUtme = input.nextInt();\n     \n     aggregate = (jamb/8) + (postUtme/2);\n     \n     confirmDetails();\n     \n     System.out.println(&quot;Dear &quot; + name +  &quot; your aggregate is &quot; +  aggregate);\n        }\n     \n     public void confirmDetails(){\n     System.out.println(&quot;&quot;&quot;\n     Correct??\n                     \\t1 to confirm\n                     \\t2 to re-enter&quot;&quot;&quot;);\n     int confirmD = input.nextInt();\n     if (confirmD == 2){\n     calResult();\n             }\n         }\n     \n     public String getName() {\n     return name;\n         }\n     \n     public void setName(String name) {\n     this.name = name;\n         }\n     \n     public float getJamb() {\n     return jamb;\n         }\n     \n     public void setJamb(float jamb) {\n     this.jamb = jamb;\n         }\n     \n     public float getPostUtme() {\n     return postUtme;\n         }\n     \n     public void setPostUtme(float postUtme) {\n     this.postUtme = postUtme;\n         }\n     \n     public float getAggregate() {\n     return aggregate;\n         }\n     \n     public void setAggregate(float aggregate) {\n     this.aggregate = aggregate;\n         }\n     }\n</code></pre>\n<p>Main class:</p>\n<pre><code>     public class Main {\n     public static void main(String[] args) {\n     Calculate c = new Calculate(&quot;PlaceHolderValue&quot;, 0, 0, 0);\n     c.calResult();\n         }\n     }\n</code></pre>\n<p>output from multiple entries:</p>\n<pre><code>Enter your name\nDaniel\nEnter Jamb score\n50\nEnter PostUtme score\n40\nCorrect??\n    1 to confirm\n    2 to re-enter\n2\nEnter your name\nTobi\nEnter Jamb score\n30\nEnter PostUtme score\n20\nCorrect??\n    1 to confirm\n    2 to re-enter\n1\nDear Tobi your aggregate is 13.75\nDear Tobi your aggregate is 13.75\n</code></pre>\n<p>Desired output:</p>\n<pre><code>Enter your name\nDaniel\nEnter Jamb score\n50\nEnter PostUtme score\n40\nCorrect??\n    1 to confirm\n    2 to re-enter\n2\nEnter your name\nTobi\nEnter Jamb score\n30\nEnter PostUtme score\n20\nCorrect??\n    1 to confirm\n    2 to re-enter\n1\nDear Tobi your aggregate is 13.75\n</code></pre>\n"},{"tags":["java","jvm","anonymous-inner-class","anonymous-objects"],"comments":[{"owner":{"account_id":2378568,"reputation":2040,"user_id":4489263,"display_name":"Stefan Wuebbe"},"score":1,"creation_date":1667404590,"post_id":74287813,"comment_id":131160253,"body_markdown":"Would it make sense to add `java` and/or `jvm` Tags in order to address the desired audience?","body":"Would it make sense to add <code>java</code> and/or <code>jvm</code> Tags in order to address the desired audience?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677761610,"post_id":74287813,"comment_id":133403910,"body_markdown":"All objects are stored in the heap memory. The fact that you don’t store a reference to the object doesn’t change the nature or storage type of the object. Of course, if you don’t store a reference to the object, it may get garbage collected at any point. There is no reason to assume that you can get the hash code of an unreachable object. By the way, your inner class is not anonymous, as it has the name `Inner`.","body":"All objects are stored in the heap memory. The fact that you don’t store a reference to the object doesn’t change the nature or storage type of the object. Of course, if you don’t store a reference to the object, it may get garbage collected at any point. There is no reason to assume that you can get the hash code of an unreachable object. By the way, your inner class is not anonymous, as it has the name <code>Inner</code>."}],"owner":{"account_id":26805084,"reputation":1,"user_id":20396508,"display_name":"Venkatesh Nambiyar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677761621,"creation_date":1667385333,"question_id":74287813,"body_markdown":"Where will Anonymous objects are stored in JVM memory. How to get hashcode of the Object?\r\n\r\n```\r\npublic class Outer {\r\n\t\r\n\tpublic class Inner {\r\n\t\t\r\n\t\tpublic void display() {\r\n\t\t\tSystem.out.println(&quot;Inner class method&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\tnew Outer().new Inner().display();\r\n\t}\r\n}\r\n``\r\n","title":"Anonymous Object in Java / JVM","body":"<p>Where will Anonymous objects are stored in JVM memory. How to get hashcode of the Object?</p>\n<pre><code>public class Outer {\n    \n    public class Inner {\n        \n        public void display() {\n            System.out.println(&quot;Inner class method&quot;);\n        }\n    }\n    \n    public static void main(String[] args) {\n            \n        new Outer().new Inner().display();\n    }\n}\n``\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch","etl"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677761224,"creation_date":1677761224,"answer_id":75615607,"question_id":75605755,"body_markdown":"You can do that with an `ItemWriteListener#beforeWrite(Chunk&lt;Product&gt; products)`. This callback gives you access to the chunk or items just before they are written, so you can perform your REST batch request at that point and transform them as needed before the `write` operation.","title":"Spring Batch - How to handle an object buffering on the ItemProcessor&#39;s level","body":"<p>You can do that with an <code>ItemWriteListener#beforeWrite(Chunk&lt;Product&gt; products)</code>. This callback gives you access to the chunk or items just before they are written, so you can perform your REST batch request at that point and transform them as needed before the <code>write</code> operation.</p>\n"}],"owner":{"account_id":13664954,"reputation":23,"user_id":9859086,"display_name":"Hubert Stasiuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677761224,"creation_date":1677684384,"question_id":75605755,"body_markdown":"I am using a Spring Batch under the hood in my application. \r\nI have a lot of the already written ItemReader(s), ItemWriter(s) and a composite ItemProcessor(s) that allow me to build a Job that contains a chunk steps. All of the components share the same domain object &quot;Product&quot;.  \r\n\r\n    public class CustomReader implements ItemReader&lt;Product&gt; {\r\n    \r\n    @Override\r\n    public Product read() throws Exception {\r\n        //business logic for reading a products\r\n        return null;\r\n     }\r\n    }\r\n\r\n   \r\n\r\n    public class CustomWriter implements ItemWriter&lt;Product&gt; {\r\n\r\n    @Override\r\n    public void write(List&lt;? extends Product&gt; items) throws Exception {\r\n        //business logic for writing a products\r\n      }\r\n    }\r\n\r\n\r\n    public class CustomProcessor extends ItemProcessor&lt;Product, Product&gt; {\r\n    \r\n    @Override\r\n    public Product process(Product product) throws Exception {\r\n        //custom logic for data processing\r\n        return null;\r\n     }\r\n    }\r\n\r\n\r\n\r\nCurrently I need to have a possibility to use a new ItemProcessor that will be sending an http requests. However, from the Processor&#39;s perspective I have an access only to the individual Product object, but instead of sending an http request for a single product, I need to gather a 10 products together (get their ids) and execute a batch request. Then I need to map the response and return a multiple Products back to the ItemWriter.\r\n\r\n\r\n    public class CustomHttpProcessor extends ItemProcessor&lt;Product, Product&gt; {\r\n    @Override\r\n    public List&lt;Product&gt; process(List&lt;Product&gt; product) throws Exception {\r\n        //custom logic for sending a batch requests via http\r\n        return null;\r\n     }\r\n    }\r\n\r\n\r\nIs there any other option than changing the base domain object from Product to List&lt;Product&gt; everywhere in the codebase (I have a feeling that I will significantly decrease the performance of the entire application and skyrocket the memory usage?) Are there any other Spring Batch&#39;s features that I can use, or any patterns that I can use? \r\n\r\nThanks in advance for any help!","title":"Spring Batch - How to handle an object buffering on the ItemProcessor&#39;s level","body":"<p>I am using a Spring Batch under the hood in my application.\nI have a lot of the already written ItemReader(s), ItemWriter(s) and a composite ItemProcessor(s) that allow me to build a Job that contains a chunk steps. All of the components share the same domain object &quot;Product&quot;.</p>\n<pre><code>public class CustomReader implements ItemReader&lt;Product&gt; {\n\n@Override\npublic Product read() throws Exception {\n    //business logic for reading a products\n    return null;\n }\n}\n\n\n\npublic class CustomWriter implements ItemWriter&lt;Product&gt; {\n\n@Override\npublic void write(List&lt;? extends Product&gt; items) throws Exception {\n    //business logic for writing a products\n  }\n}\n\n\npublic class CustomProcessor extends ItemProcessor&lt;Product, Product&gt; {\n\n@Override\npublic Product process(Product product) throws Exception {\n    //custom logic for data processing\n    return null;\n }\n}\n</code></pre>\n<p>Currently I need to have a possibility to use a new ItemProcessor that will be sending an http requests. However, from the Processor's perspective I have an access only to the individual Product object, but instead of sending an http request for a single product, I need to gather a 10 products together (get their ids) and execute a batch request. Then I need to map the response and return a multiple Products back to the ItemWriter.</p>\n<pre><code>public class CustomHttpProcessor extends ItemProcessor&lt;Product, Product&gt; {\n@Override\npublic List&lt;Product&gt; process(List&lt;Product&gt; product) throws Exception {\n    //custom logic for sending a batch requests via http\n    return null;\n }\n}\n</code></pre>\n<p>Is there any other option than changing the base domain object from Product to List everywhere in the codebase (I have a feeling that I will significantly decrease the performance of the entire application and skyrocket the memory usage?) Are there any other Spring Batch's features that I can use, or any patterns that I can use?</p>\n<p>Thanks in advance for any help!</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1677768091,"post_id":75615163,"comment_id":133405973,"body_markdown":"There is nothing wrong here.  Your data has not been altered.  The `:` character is a special character in properties files, so the java.util.Properties class escaped it.  Read [the entire file format specification](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Properties.html#load(java.io.Reader)) for details.","body":"There is nothing wrong here.  Your data has not been altered.  The <code>:</code> character is a special character in properties files, so the java.util.Properties class escaped it.  Read <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Properties.html#load(java.io.Reader)\" rel=\"nofollow noreferrer\">the entire file format specification</a> for details."},{"owner":{"account_id":1794689,"reputation":301,"user_id":1634358,"accept_rate":80,"display_name":"Ranjeet"},"score":0,"creation_date":1677768661,"post_id":75615163,"comment_id":133406165,"body_markdown":"Once I hardcode path in log4j.properties to &#39;C:\\temp\\logs\\myapp&#39;, it creates log file successfully. Issue is there only if I try to update this property from java code.","body":"Once I hardcode path in log4j.properties to &#39;C:\\temp\\logs\\myapp&#39;, it creates log file successfully. Issue is there only if I try to update this property from java code."}],"owner":{"account_id":1794689,"reputation":301,"user_id":1634358,"accept_rate":80,"display_name":"Ranjeet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677761196,"creation_date":1677758581,"question_id":75615163,"body_markdown":"I am trying to update log file path into a properties file. However, it is not updating properly and it is not creating the log file as well.\r\n\r\nCode:\r\n\r\n    private void updateLog4jProperties(String operationName) {\r\n    \tFileInputStream in;\r\n    \ttry {\r\n    \t\tin = new FileInputStream(&quot;config/log4j.properties&quot;);\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.load(in);\r\n    \t\tin.close();\r\n    \t\tFileOutputStream out = new FileOutputStream(&quot;config/log4j.properties&quot;);\r\n    \t\tif (System.getProperty(&quot;os.name&quot;).toLowerCase().indexOf(&quot;windows&quot;) &gt;= 0) {\r\n    \t\t\tprops.setProperty(&quot;log&quot;, &quot;C:/temp/logs/myapp&quot;);\r\n    \t\t\tFiles.createDirectories(Paths.get(&quot;C:/temp/logs/myapp&quot;));\r\n    \t\t} else {\r\n    \t\t\tprops.setProperty(&quot;log&quot;, &quot;/var/tmp/logs/myapp&quot;);\r\n    \t\t\tFiles.createDirectories(Paths.get(&quot;/var/tmp/logs/myapp&quot;));\r\n    \t\t}\r\n    \t\tprops.setProperty(&quot;log4j.appender.FILE.File&quot;, props.getProperty(&quot;log&quot;) + &quot;/&quot; + &quot;myapp_&quot;\r\n    \t\t\t\t+ operationName + &quot;_&quot; + new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(new Date()) + &quot;.log&quot;);\r\n    \t\tprops.store(out, null);\r\n    \t\tout.close();\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\nResulting log4j.properties after execution:\r\n\r\n    #Thu Mar 02 17:24:46 IST 2023\r\n    log4j.rootLogger=DEBUG, FILE\r\n    log4j.appender.FILE.File=C\\:/temp/logs/myapp/myapp_Test_20230302172446.log\r\n    log4j.appender.FILE=org.apache.log4j.FileAppender\r\n    log4j.appender.FILE.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.FILE.layout.conversionPattern=%d{HH\\:mm\\:ss.SSS} %-5level %logger{36} - %msg%n\r\n    log=C\\:/temp/logs/myapp\r\nIf you see, value for both `&#39;log&#39;` and `&#39;log4j.appender.FILE.File&#39;` contains `&#39;C\\:&#39;`.\r\nThough it is creating the folder structure `&#39;C:\\temp\\logs\\myapp&#39;`, log file `&#39;myapp_Test_20230302172446.log&#39;` is not present inside this folder.\r\n\r\nCan you please help to identify the issue here.","title":"Java - How to update file path in properties file for Windiows","body":"<p>I am trying to update log file path into a properties file. However, it is not updating properly and it is not creating the log file as well.</p>\n<p>Code:</p>\n<pre><code>private void updateLog4jProperties(String operationName) {\n    FileInputStream in;\n    try {\n        in = new FileInputStream(&quot;config/log4j.properties&quot;);\n        Properties props = new Properties();\n        props.load(in);\n        in.close();\n        FileOutputStream out = new FileOutputStream(&quot;config/log4j.properties&quot;);\n        if (System.getProperty(&quot;os.name&quot;).toLowerCase().indexOf(&quot;windows&quot;) &gt;= 0) {\n            props.setProperty(&quot;log&quot;, &quot;C:/temp/logs/myapp&quot;);\n            Files.createDirectories(Paths.get(&quot;C:/temp/logs/myapp&quot;));\n        } else {\n            props.setProperty(&quot;log&quot;, &quot;/var/tmp/logs/myapp&quot;);\n            Files.createDirectories(Paths.get(&quot;/var/tmp/logs/myapp&quot;));\n        }\n        props.setProperty(&quot;log4j.appender.FILE.File&quot;, props.getProperty(&quot;log&quot;) + &quot;/&quot; + &quot;myapp_&quot;\n                + operationName + &quot;_&quot; + new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;).format(new Date()) + &quot;.log&quot;);\n        props.store(out, null);\n        out.close();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Resulting log4j.properties after execution:</p>\n<pre><code>#Thu Mar 02 17:24:46 IST 2023\nlog4j.rootLogger=DEBUG, FILE\nlog4j.appender.FILE.File=C\\:/temp/logs/myapp/myapp_Test_20230302172446.log\nlog4j.appender.FILE=org.apache.log4j.FileAppender\nlog4j.appender.FILE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.FILE.layout.conversionPattern=%d{HH\\:mm\\:ss.SSS} %-5level %logger{36} - %msg%n\nlog=C\\:/temp/logs/myapp\n</code></pre>\n<p>If you see, value for both <code>'log'</code> and <code>'log4j.appender.FILE.File'</code> contains <code>'C\\:'</code>.\nThough it is creating the folder structure <code>'C:\\temp\\logs\\myapp'</code>, log file <code>'myapp_Test_20230302172446.log'</code> is not present inside this folder.</p>\n<p>Can you please help to identify the issue here.</p>\n"},{"tags":["java","global-variables","java.util.scanner"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":2,"creation_date":1390006276,"post_id":21198652,"comment_id":31921535,"body_markdown":"No, it&#39;s not necessarily bad practice in my experience.","body":"No, it&#39;s not necessarily bad practice in my experience."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":3,"creation_date":1390006361,"post_id":21198652,"comment_id":31921559,"body_markdown":"It is bad object oriented programming since that thing is not part of any object.","body":"It is bad object oriented programming since that thing is not part of any object."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":2,"creation_date":1390006614,"post_id":21198652,"comment_id":31921610,"body_markdown":"might be a good use case for [Singleton pattern](http://en.wikipedia.org/wiki/Singleton_pattern).","body":"might be a good use case for <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">Singleton pattern</a>."},{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":1,"creation_date":1390006616,"post_id":21198652,"comment_id":31921611,"body_markdown":"Utility objects are a necessity in large java programs. This object being a static member of some utility class would be extremely common practice. Maybe not ideal OO practice, but I don&#39;t think &lt;i&gt;bad&lt;/i&gt;.","body":"Utility objects are a necessity in large java programs. This object being a static member of some utility class would be extremely common practice. Maybe not ideal OO practice, but I don&#39;t think &lt;i&gt;bad&lt;/i&gt;."},{"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"score":1,"creation_date":1390006619,"post_id":21198652,"comment_id":31921612,"body_markdown":"If you pass the keyboard, it will be much easier to mock when testing...","body":"If you pass the keyboard, it will be much easier to mock when testing..."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1390006692,"post_id":21198652,"comment_id":31921631,"body_markdown":"Generally speaking, you should give a variable the smallest scope that works. If you use the scanner in many places, it&#39;s probably OK,","body":"Generally speaking, you should give a variable the smallest scope that works. If you use the scanner in many places, it&#39;s probably OK,"}],"answers":[{"tags":[],"owner":{"account_id":16658,"reputation":4013,"user_id":36532,"accept_rate":70,"display_name":"LuRsT"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1390006701,"creation_date":1390006701,"answer_id":21198718,"question_id":21198652,"body_markdown":"It seems a lot easier to use a global variable, but in the long run, it can make the code very hard to maintain, have you thought about creating a class to handle the keyboard input? By having a good separation of concerns, you end up with cleaner code.\r\n\r\nhttps://en.wikipedia.org/wiki/Separation_of_concerns","title":"Is using Scanner as global variable in Java bad practice?","body":"<p>It seems a lot easier to use a global variable, but in the long run, it can make the code very hard to maintain, have you thought about creating a class to handle the keyboard input? By having a good separation of concerns, you end up with cleaner code.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Separation_of_concerns</a></p>\n"},{"tags":[],"owner":{"account_id":2619509,"reputation":93,"user_id":2267871,"display_name":"Jaso333"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390006725,"creation_date":1390006725,"answer_id":21198721,"question_id":21198652,"body_markdown":"Depending on how the object should be used would define where to put it.\r\n\r\nIf the Scanner is something that there MUST be only one instance of, then consider making it a singleton instead of creating it using the constructor. The following link describes singletons:\r\n\r\nhttp://www.javaworld.com/article/2073352/core-java/simply-singleton.html\r\n\r\nThen, rather than having it as a static global, the Scanner class can have a public static method called &#39;getInstance&#39;. Therefore, you aren&#39;t tieing the instance of a scanner to any particular location and whenever you need to use it, call Scanner.getInstance from anywhere to access the underlying instance of the class.","title":"Is using Scanner as global variable in Java bad practice?","body":"<p>Depending on how the object should be used would define where to put it.</p>\n\n<p>If the Scanner is something that there MUST be only one instance of, then consider making it a singleton instead of creating it using the constructor. The following link describes singletons:</p>\n\n<p><a href=\"http://www.javaworld.com/article/2073352/core-java/simply-singleton.html\" rel=\"nofollow\">http://www.javaworld.com/article/2073352/core-java/simply-singleton.html</a></p>\n\n<p>Then, rather than having it as a static global, the Scanner class can have a public static method called 'getInstance'. Therefore, you aren't tieing the instance of a scanner to any particular location and whenever you need to use it, call Scanner.getInstance from anywhere to access the underlying instance of the class.</p>\n"},{"tags":[],"owner":{"account_id":1328608,"reputation":16312,"user_id":1272950,"display_name":"yǝsʞǝla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390007096,"creation_date":1390007096,"answer_id":21198766,"question_id":21198652,"body_markdown":"Overall it&#39;s ok since it&#39;s a very commonly used object in your application. However there are 2 problems you can face as far as I can see:\r\n\r\n - Concurrent access and mutable state of Scanner can be a problem. You might want to synchronize that.\r\n - Unit testing might be a problem since you can&#39;t override static members. It might still be ok if in classes that use it it can be overridden.\r\n\r\nSo it depends on the size of your app and how it&#39;s used in terms of multithreading. I would do it at home but not at work.","title":"Is using Scanner as global variable in Java bad practice?","body":"<p>Overall it's ok since it's a very commonly used object in your application. However there are 2 problems you can face as far as I can see:</p>\n\n<ul>\n<li>Concurrent access and mutable state of Scanner can be a problem. You might want to synchronize that.</li>\n<li>Unit testing might be a problem since you can't override static members. It might still be ok if in classes that use it it can be overridden.</li>\n</ul>\n\n<p>So it depends on the size of your app and how it's used in terms of multithreading. I would do it at home but not at work.</p>\n"},{"tags":[],"owner":{"account_id":1437810,"reputation":2352,"user_id":1358817,"display_name":"Exorcismus"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1677761152,"creation_date":1390007189,"answer_id":21198774,"question_id":21198652,"body_markdown":"It&#39;s best if you created a special class for getting Inputs and/or produce Outputs.  \r\nFor example:\r\n\r\n    class IO {\r\n        Scanner scanner ;\r\n        \r\n        public Scanner getScanner() {\r\n            return new Scanner();\r\n        }\r\n\r\n        public Scanner getScanner(File file) {\r\n            return new Scanner(new FileReader(file));\r\n        }\r\n\r\n        // Other types of scanners...\r\n    }","title":"Is using Scanner as global variable in Java bad practice?","body":"<p>It's best if you created a special class for getting Inputs and/or produce Outputs.<br />\nFor example:</p>\n<pre><code>class IO {\n    Scanner scanner ;\n    \n    public Scanner getScanner() {\n        return new Scanner();\n    }\n\n    public Scanner getScanner(File file) {\n        return new Scanner(new FileReader(file));\n    }\n\n    // Other types of scanners...\n}\n</code></pre>\n"}],"owner":{"account_id":2351379,"reputation":1892,"user_id":2060096,"accept_rate":91,"display_name":"Ris"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13317,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1390012173,"accepted_answer_id":21198718,"answer_count":4,"score":9,"last_activity_date":1677761152,"creation_date":1390006234,"question_id":21198652,"body_markdown":"Is it considered bad programming practice to have an input scanner (such as a keyboard) declared as a global var in a class?  \r\nSuch as:\r\n\r\n    public static Scanner input  = new Scanner(System.in);\r\n\r\nI&#39;m working with alot of input from various methods, and it just seems a lot easier to use a public var then having to send the keyboard to each method.\r\n\r\n\t\r\n\r\n    ","title":"Is using Scanner as global variable in Java bad practice?","body":"<p>Is it considered bad programming practice to have an input scanner (such as a keyboard) declared as a global var in a class?<br />\nSuch as:</p>\n<pre><code>public static Scanner input  = new Scanner(System.in);\n</code></pre>\n<p>I'm working with alot of input from various methods, and it just seems a lot easier to use a public var then having to send the keyboard to each method.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9618,"page":607,"page_size":100}
