{"items":[{"tags":["java","spring-boot","mssql-jdbc"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1676045121,"post_id":75412886,"comment_id":133064570,"body_markdown":"You are missing the port and database in your `spring.datasource.url`. Your param is also wrong. Please try with `jdbc:sqlserver://localhost:1433/db?encrypt=false`","body":"You are missing the port and database in your <code>spring.datasource.url</code>. Your param is also wrong. Please try with <code>jdbc:sqlserver:&#47;&#47;localhost:1433&#47;db?encrypt=false</code>"},{"owner":{"account_id":4136672,"reputation":417,"user_id":3393192,"accept_rate":75,"display_name":"Sheradil"},"score":0,"creation_date":1676046324,"post_id":75412886,"comment_id":133064955,"body_markdown":"Nope. That actually makes things worse. Then I get: &#39;Invalid port number:1433/db?encrypt=false&#39;. The seperator definitely is &#39;;&#39; instead of &#39;?&#39;. But even if I use the &#39;;&#39; in that place, I get: invalid port number: &#39;1433/db&#39;. And the port is optional, as 1433 is the standard port for MSSQL and should be used by default by the MSSQL driver","body":"Nope. That actually makes things worse. Then I get: &#39;Invalid port number:1433/db?encrypt=false&#39;. The seperator definitely is &#39;;&#39; instead of &#39;?&#39;. But even if I use the &#39;;&#39; in that place, I get: invalid port number: &#39;1433/db&#39;. And the port is optional, as 1433 is the standard port for MSSQL and should be used by default by the MSSQL driver"}],"answers":[{"tags":[],"owner":{"account_id":27085849,"reputation":291,"user_id":20634376,"display_name":"Georgii Vlasov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677753167,"creation_date":1677753167,"answer_id":75614218,"question_id":75412886,"body_markdown":"In the JPA Buddy discord channel, it&#39;s recommended to use:\r\nencrypt=true and trustServerCertificate=true\r\n\r\nHere is the reference: https://discord.com/channels/779011925748219934/995025376222920775/995963092359991317","title":"How to connect springboot with MSSQL Server using Hibernate","body":"<p>In the JPA Buddy discord channel, it's recommended to use:\nencrypt=true and trustServerCertificate=true</p>\n<p>Here is the reference: <a href=\"https://discord.com/channels/779011925748219934/995025376222920775/995963092359991317\" rel=\"nofollow noreferrer\">https://discord.com/channels/779011925748219934/995025376222920775/995963092359991317</a></p>\n"}],"owner":{"account_id":4136672,"reputation":417,"user_id":3393192,"accept_rate":75,"display_name":"Sheradil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677753167,"creation_date":1676041918,"question_id":75412886,"body_markdown":"I try to connect my Springboot application to my local MSSQL Server with hibernate. For now I&#39;ve set up a local ms sql server. I couldn&#39;t establish a connection to my database using IntelliJ CE and the JPA buddy. \r\n\r\nOn the net I found a guide that used IntelliJ UE. I installed the 30 day trial and with the ultimate version I could establish a connection with the database (using View-&gt;Tool Windows-&gt;Database, SSL is not enabled).\r\n [![IntelliJ Ultimate Database Screenshot][1]][1]\r\n\r\nEven though the URL is kinda messy with &quot;...server://./db&quot;. If I replace the &#39;//./&#39; with &#39;//localhost/&#39; it does not work anymore.\r\n\r\nNow, I soon won&#39;t have access to the ultimate version anymore. So, my question is: **How do I get the same behaviour with the JPA buddy and IntelliJ Community Edition?**\r\n\r\nI guess that it is related to the selected driver &#39;MS SQL Server -&gt;LocalDB&lt;-&#39;. \r\n\r\nWhen I use the following JPA settings, it does not work in the community version (it doesnt matter if I use the &#39;jtds&#39; driver or not):\r\n\r\n[![IntelliJ Community Database Screenshot][2]][2]\r\n\r\nIn both cases I get &quot;Error during login for the user &#39;dbuser&#39;&quot;. (The server is local and I don&#39;t have SSL enabled, therefore the &#39;;encrypt=false&#39;)\r\n\r\nI also tried to use the application.properties with the following content:\r\n\r\n    spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.datasource.url=jdbc:sqlserver://localhost;encrypt=false\r\n    spring.datasource.username=dbuser\r\n    spring.datasource.password=...\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nBut this didn&#39;t work either.\r\nAny help is appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iq3Jm.jpg\r\n  [2]: https://i.stack.imgur.com/Fg5fk.jpg","title":"How to connect springboot with MSSQL Server using Hibernate","body":"<p>I try to connect my Springboot application to my local MSSQL Server with hibernate. For now I've set up a local ms sql server. I couldn't establish a connection to my database using IntelliJ CE and the JPA buddy.</p>\n<p>On the net I found a guide that used IntelliJ UE. I installed the 30 day trial and with the ultimate version I could establish a connection with the database (using View-&gt;Tool Windows-&gt;Database, SSL is not enabled).\n<a href=\"https://i.stack.imgur.com/Iq3Jm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iq3Jm.jpg\" alt=\"IntelliJ Ultimate Database Screenshot\" /></a></p>\n<p>Even though the URL is kinda messy with &quot;...server://./db&quot;. If I replace the '//./' with '//localhost/' it does not work anymore.</p>\n<p>Now, I soon won't have access to the ultimate version anymore. So, my question is: <strong>How do I get the same behaviour with the JPA buddy and IntelliJ Community Edition?</strong></p>\n<p>I guess that it is related to the selected driver 'MS SQL Server -&gt;LocalDB&lt;-'.</p>\n<p>When I use the following JPA settings, it does not work in the community version (it doesnt matter if I use the 'jtds' driver or not):</p>\n<p><a href=\"https://i.stack.imgur.com/Fg5fk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fg5fk.jpg\" alt=\"IntelliJ Community Database Screenshot\" /></a></p>\n<p>In both cases I get &quot;Error during login for the user 'dbuser'&quot;. (The server is local and I don't have SSL enabled, therefore the ';encrypt=false')</p>\n<p>I also tried to use the application.properties with the following content:</p>\n<pre><code>spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.url=jdbc:sqlserver://localhost;encrypt=false\nspring.datasource.username=dbuser\nspring.datasource.password=...\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>But this didn't work either.\nAny help is appreciated.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":290516,"reputation":40761,"user_id":592111,"accept_rate":93,"display_name":"Jon Egerton"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1515001133,"creation_date":1300041994,"answer_id":5291542,"question_id":5291503,"body_markdown":"Here&#39;s an example android age calculation that you should be able to work from:\r\n\r\n        public int getAge (int _year, int _month, int _day) {\r\n                \r\n                GregorianCalendar cal = new GregorianCalendar();\r\n                int y, m, d, a;         \r\n\r\n                y = cal.get(Calendar.YEAR);\r\n                m = cal.get(Calendar.MONTH);\r\n                d = cal.get(Calendar.DAY_OF_MONTH);\r\n                cal.set(_year, _month, _day);\r\n                a = y - cal.get(Calendar.YEAR);\r\n                if ((m &lt; cal.get(Calendar.MONTH))\r\n                                || ((m == cal.get(Calendar.MONTH)) &amp;&amp; (d &lt; cal\r\n                                                .get(Calendar.DAY_OF_MONTH)))) {\r\n                        --a;\r\n                }\r\n                if(a &lt; 0)\r\n                        throw new IllegalArgumentException(&quot;Age &lt; 0&quot;);\r\n                return a;\r\n        }\r\n\r\n  [1]: http://www.androidsnippets.com/calculate-age","title":"How to create method for age calculation method in android","body":"<p>Here's an example android age calculation that you should be able to work from:</p>\n\n<pre><code>    public int getAge (int _year, int _month, int _day) {\n\n            GregorianCalendar cal = new GregorianCalendar();\n            int y, m, d, a;         \n\n            y = cal.get(Calendar.YEAR);\n            m = cal.get(Calendar.MONTH);\n            d = cal.get(Calendar.DAY_OF_MONTH);\n            cal.set(_year, _month, _day);\n            a = y - cal.get(Calendar.YEAR);\n            if ((m &lt; cal.get(Calendar.MONTH))\n                            || ((m == cal.get(Calendar.MONTH)) &amp;&amp; (d &lt; cal\n                                            .get(Calendar.DAY_OF_MONTH)))) {\n                    --a;\n            }\n            if(a &lt; 0)\n                    throw new IllegalArgumentException(\"Age &lt; 0\");\n            return a;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263738,"reputation":1868,"user_id":549510,"accept_rate":89,"display_name":"Kingsolmn"},"down_vote_count":2,"up_vote_count":55,"is_accepted":true,"score":53,"last_activity_date":1300168009,"creation_date":1300168009,"answer_id":5307965,"question_id":5291503,"body_markdown":"Here is my solution to the problem:\r\n\r\n\t/**\r\n\t * Method to extract the user&#39;s age from the entered Date of Birth.\r\n\t * \r\n\t * @param DoB String The user&#39;s date of birth.\r\n\t * \r\n\t * @return ageS String The user&#39;s age in years based on the supplied DoB.\r\n\t */\r\n\tprivate String getAge(int year, int month, int day){\r\n\t\tCalendar dob = Calendar.getInstance();\r\n\t\tCalendar today = Calendar.getInstance();\r\n\r\n\t\tdob.set(year, month, day); \r\n\r\n\t\tint age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\r\n\r\n\t\tif (today.get(Calendar.DAY_OF_YEAR) &lt; dob.get(Calendar.DAY_OF_YEAR)){\r\n\t\t\tage--; \r\n\t\t}\r\n\r\n\t\tInteger ageInt = new Integer(age);\r\n\t\tString ageS = ageInt.toString();\r\n\r\n\t\treturn ageS;  \r\n\t}\r\n\r\nI used a [DatePicker][1] to get the input values required here. This method, together with the date picker, is specifically to get the user&#39;s DoB and calculate their age. A slight modification can be made to allow for String input(s) of the user&#39;s DoB, depending upon your specific implementation. The return type of String is for updating a TextView, a slight mod can be made to allow for type `int` output also.\r\n\r\n\r\n  [1]: http://developer.android.com/resources/tutorials/views/hello-datepicker.html","title":"How to create method for age calculation method in android","body":"<p>Here is my solution to the problem:</p>\n\n<pre><code>/**\n * Method to extract the user's age from the entered Date of Birth.\n * \n * @param DoB String The user's date of birth.\n * \n * @return ageS String The user's age in years based on the supplied DoB.\n */\nprivate String getAge(int year, int month, int day){\n    Calendar dob = Calendar.getInstance();\n    Calendar today = Calendar.getInstance();\n\n    dob.set(year, month, day); \n\n    int age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\n\n    if (today.get(Calendar.DAY_OF_YEAR) &lt; dob.get(Calendar.DAY_OF_YEAR)){\n        age--; \n    }\n\n    Integer ageInt = new Integer(age);\n    String ageS = ageInt.toString();\n\n    return ageS;  \n}\n</code></pre>\n\n<p>I used a <a href=\"http://developer.android.com/resources/tutorials/views/hello-datepicker.html\" rel=\"noreferrer\">DatePicker</a> to get the input values required here. This method, together with the date picker, is specifically to get the user's DoB and calculate their age. A slight modification can be made to allow for String input(s) of the user's DoB, depending upon your specific implementation. The return type of String is for updating a TextView, a slight mod can be made to allow for type <code>int</code> output also.</p>\n"},{"tags":[],"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365505425,"creation_date":1365505425,"answer_id":15900166,"question_id":5291503,"body_markdown":"Here is the fully tested and working code\r\n\r\nBelow is an example using date picker dialog\r\n\r\n    @Override\r\n    \tpublic void onDateSet(DatePicker view, int mBirthYear, int mMonthOfYear, int mDayOfMonth) \r\n    \t{\r\n    \t\t\tmAge = year - mBirthYear;\r\n    \t\t\t  \t\t\t\r\n    \t\t\tif( (mMonthOfYear == month &amp;&amp; day &lt; mDayOfMonth) || ( month &lt; mMonthOfYear) ) \r\n    \t\t\t{\r\n    \t\t\t\tmAge--;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tString years = getString(R.string.years);\r\n    \t\t\t\r\n    \t\t\tetAge.setText(mAge+years);\t\t\r\n    \t\t\r\n    \t}","title":"How to create method for age calculation method in android","body":"<p>Here is the fully tested and working code</p>\n\n<p>Below is an example using date picker dialog</p>\n\n<pre><code>@Override\n    public void onDateSet(DatePicker view, int mBirthYear, int mMonthOfYear, int mDayOfMonth) \n    {\n            mAge = year - mBirthYear;\n\n            if( (mMonthOfYear == month &amp;&amp; day &lt; mDayOfMonth) || ( month &lt; mMonthOfYear) ) \n            {\n                mAge--;\n            }\n\n            String years = getString(R.string.years);\n\n            etAge.setText(mAge+years);      \n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3346968,"reputation":1224,"user_id":2811956,"accept_rate":80,"display_name":"W I Z A R D"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1525331030,"creation_date":1413010685,"answer_id":26311990,"question_id":5291503,"body_markdown":"This works Perfectly.....\r\n\r\n    public int getAge(int DOByear, int DOBmonth, int DOBday) {\r\n    \r\n    \t\tint age;\r\n    \r\n    \t\tfinal Calendar calenderToday = Calendar.getInstance();\r\n    \t\tint currentYear = calenderToday.get(Calendar.YEAR);\r\n    \t\tint currentMonth = 1 + calenderToday.get(Calendar.MONTH);\r\n    \t\tint todayDay = calenderToday.get(Calendar.DAY_OF_MONTH);\r\n    \t\t\r\n    \t\tage = currentYear - DOByear;\r\n    \t\r\n    \t\tif(DOBmonth &gt; currentMonth) {\r\n    \t\t\t--age;\r\n    \t\t} else if(DOBmonth == currentMonth) {\r\n    \t\t\tif(DOBday &gt; todayDay){\r\n    \t\t\t\t--age;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn age;\r\n    \t}","title":"How to create method for age calculation method in android","body":"<p>This works Perfectly.....</p>\n\n<pre><code>public int getAge(int DOByear, int DOBmonth, int DOBday) {\n\n        int age;\n\n        final Calendar calenderToday = Calendar.getInstance();\n        int currentYear = calenderToday.get(Calendar.YEAR);\n        int currentMonth = 1 + calenderToday.get(Calendar.MONTH);\n        int todayDay = calenderToday.get(Calendar.DAY_OF_MONTH);\n\n        age = currentYear - DOByear;\n\n        if(DOBmonth &gt; currentMonth) {\n            --age;\n        } else if(DOBmonth == currentMonth) {\n            if(DOBday &gt; todayDay){\n                --age;\n            }\n        }\n        return age;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12186457,"reputation":1,"user_id":8896040,"display_name":"Shawn Triscari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509994854,"creation_date":1509994854,"answer_id":47143905,"question_id":5291503,"body_markdown":"None of the posted solutions worked for me. So, I worked my own logic and got this, which works 100% for me:\r\n\r\n    \r\n\r\n     Integer getAge(Integer year, Integer month, Integer day) {\r\n         Calendar dob = Calendar.getInstance();\r\n         Calendar today = Calendar.getInstance();\r\n\r\n         dob.set(year, month, day);\r\n         int age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\r\n\r\n         if(month == (today.get(Calendar.MONTH)+1) &amp;&amp; day &gt; today.get(Calendar.DAY_OF_MONTH)) {\r\n             age--;\r\n         }\r\n\r\n         return age;\r\n     }","title":"How to create method for age calculation method in android","body":"<p>None of the posted solutions worked for me. So, I worked my own logic and got this, which works 100% for me:</p>\n\n<pre><code> Integer getAge(Integer year, Integer month, Integer day) {\n     Calendar dob = Calendar.getInstance();\n     Calendar today = Calendar.getInstance();\n\n     dob.set(year, month, day);\n     int age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\n\n     if(month == (today.get(Calendar.MONTH)+1) &amp;&amp; day &gt; today.get(Calendar.DAY_OF_MONTH)) {\n         age--;\n     }\n\n     return age;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5876042,"reputation":3033,"user_id":4626826,"accept_rate":46,"display_name":"Vishwajit Palankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519735309,"creation_date":1519735309,"answer_id":49008991,"question_id":5291503,"body_markdown":"The below will provide you age in the most accurate way possible\r\n\r\n    public static String getAgeFromLong(String birthday) {\r\n\r\n        SimpleDateFormat sdf= new SimpleDateFormat(&quot;ddMMyyyy&quot;,Locale.ENGLISH);\r\n        Calendar dobCal=Calendar.getInstance();\r\n        dobCal.setTime(sdf.parse(birthday));\r\n\r\n        Calendar diffCal = Calendar.getInstance();\r\n        diffCal.setTimeInMillis(Calendar.getInstance().getTimeInMillis() - dobCal.getInstance().getTimeInMillis());\r\n\r\n        String ageS = &quot;&quot;;\r\n\r\n        int age = diffCal.get(Calendar.YEAR) - 1970;\r\n        //Check if less than a year\r\n        if (age == 0) {\r\n            age = diffCal.get(Calendar.MONTH);\r\n            //Check if less than a month\r\n            if (age == 0) {\r\n                age = diffCal.get(Calendar.WEEK_OF_YEAR);\r\n                //Check if less than a week\r\n                if (age == 1) {\r\n                    age = diffCal.get(Calendar.DAY_OF_YEAR);\r\n                    ageS = (age - 1) + &quot; Days&quot;;\r\n                } else {\r\n                    ageS = (age - 1) + &quot; Weeks&quot;;\r\n                }\r\n            } else {\r\n                ageS = age + &quot; Months&quot;;\r\n            }\r\n        } else {\r\n            ageS = age + &quot; Years&quot;;\r\n        }\r\n\r\n        return ageS;\r\n    }","title":"How to create method for age calculation method in android","body":"<p>The below will provide you age in the most accurate way possible</p>\n\n<pre><code>public static String getAgeFromLong(String birthday) {\n\n    SimpleDateFormat sdf= new SimpleDateFormat(\"ddMMyyyy\",Locale.ENGLISH);\n    Calendar dobCal=Calendar.getInstance();\n    dobCal.setTime(sdf.parse(birthday));\n\n    Calendar diffCal = Calendar.getInstance();\n    diffCal.setTimeInMillis(Calendar.getInstance().getTimeInMillis() - dobCal.getInstance().getTimeInMillis());\n\n    String ageS = \"\";\n\n    int age = diffCal.get(Calendar.YEAR) - 1970;\n    //Check if less than a year\n    if (age == 0) {\n        age = diffCal.get(Calendar.MONTH);\n        //Check if less than a month\n        if (age == 0) {\n            age = diffCal.get(Calendar.WEEK_OF_YEAR);\n            //Check if less than a week\n            if (age == 1) {\n                age = diffCal.get(Calendar.DAY_OF_YEAR);\n                ageS = (age - 1) + \" Days\";\n            } else {\n                ageS = (age - 1) + \" Weeks\";\n            }\n        } else {\n            ageS = age + \" Months\";\n        }\n    } else {\n        ageS = age + \" Years\";\n    }\n\n    return ageS;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673000811,"creation_date":1673000811,"answer_id":75029721,"question_id":5291503,"body_markdown":"# *java.time*\r\n\r\nDue to the existence of a new(er) date and time library it is not recommended to use `java.util.Date` and `java.util.Calendar` anymore. The only exception should be a situation where you have to involve considerably large amounts of legacy code.\r\n\r\nSo… here is the modern way using `java.time` (Java 8+).\r\n\r\n**Java**\r\n```Java\r\npublic int getAge(int year, int month, int dayOfMonth) {\r\n\treturn Period.between(\r\n\t\t\t\tLocalDate.of(year, month, dayOfMonth),\r\n\t\t\t\tLocalDate.now()\r\n\t\t\t).getYears();\r\n}\r\n```\r\n\r\n**Kotlin**\r\n```lang-kotlin\r\nfun getAge(year: Int, month: Int, dayOfMonth: Int): Int {\r\n\treturn Period.between(\r\n\t\t\t\tLocalDate.of(year, month, dayOfMonth),\r\n\t\t\t\tLocalDate.now()\r\n\t\t\t).years\r\n}\r\n```\r\n\r\nBoth snippets need the following imports from `java.time`:\r\n\r\n```Java\r\nimport java.time.LocalDate;\r\nimport java.time.Period\r\n```\r\n\r\nSee also [Oracle Tutorial](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).\r\n\r\nSince there&#39;s [API Desugaring](https://developer.android.com/studio/write/java8-support) in Android now, there&#39;s even no/little need for a backport like \r\n[ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) which only supported API levels 26 and above in Android.\r\n\r\n\r\nAPI desugaring makes (a subset of) `java.time` directly available to API levels below 26 (well, not really down to version 1, but will do for most of the API levels that should be supported nowadays).","title":"How to create method for age calculation method in android","body":"<h1><em>java.time</em></h1>\n<p>Due to the existence of a new(er) date and time library it is not recommended to use <code>java.util.Date</code> and <code>java.util.Calendar</code> anymore. The only exception should be a situation where you have to involve considerably large amounts of legacy code.</p>\n<p>So… here is the modern way using <code>java.time</code> (Java 8+).</p>\n<p><strong>Java</strong></p>\n<pre><code>public int getAge(int year, int month, int dayOfMonth) {\n    return Period.between(\n                LocalDate.of(year, month, dayOfMonth),\n                LocalDate.now()\n            ).getYears();\n}\n</code></pre>\n<p><strong>Kotlin</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getAge(year: Int, month: Int, dayOfMonth: Int): Int {\n    return Period.between(\n                LocalDate.of(year, month, dayOfMonth),\n                LocalDate.now()\n            ).years\n}\n</code></pre>\n<p>Both snippets need the following imports from <code>java.time</code>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Period\n</code></pre>\n<p>See also <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>.</p>\n<p>Since there's <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">API Desugaring</a> in Android now, there's even no/little need for a backport like\n<a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> which only supported API levels 26 and above in Android.</p>\n<p>API desugaring makes (a subset of) <code>java.time</code> directly available to API levels below 26 (well, not really down to version 1, but will do for most of the API levels that should be supported nowadays).</p>\n"},{"tags":[],"owner":{"account_id":3816054,"reputation":181,"user_id":3165400,"display_name":"Artem_Iens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677753154,"creation_date":1677049246,"answer_id":75529212,"question_id":5291503,"body_markdown":"Using [kotlinx-datetime][1] , also works for KMM.\r\n\r\nThe birthdate in ISO format: `2003-02-22`\r\n\r\n```kotlin\r\nfun calculateAgeFromBirthdate(birthdate: String): Int {\r\n    val birthdateParts = birthdate.split(&quot;-&quot;)\r\n    val birthYear = birthdateParts[0].toInt()\r\n    val birthMonth = birthdateParts[1].toInt()\r\n    val birthDay = birthdateParts[2].toInt()\r\n\r\n    val currentMoment = Clock.System.now()\r\n    val currentDate = currentMoment.toLocalDateTime(TimeZone.currentSystemDefault()).date\r\n    val currentYear = currentDate.year\r\n    val currentMonth = currentDate.monthNumber\r\n    val currentDay = currentDate.dayOfMonth\r\n\r\n    var age = currentYear - birthYear\r\n    if (currentMonth &lt; birthMonth || (currentMonth == birthMonth &amp;&amp; currentDay &lt; birthDay)) {\r\n        age--\r\n    }\r\n    return age\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://github.com/Kotlin/kotlinx-datetime","title":"How to create method for age calculation method in android","body":"<p>Using <a href=\"https://github.com/Kotlin/kotlinx-datetime\" rel=\"nofollow noreferrer\">kotlinx-datetime</a> , also works for KMM.</p>\n<p>The birthdate in ISO format: <code>2003-02-22</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun calculateAgeFromBirthdate(birthdate: String): Int {\n    val birthdateParts = birthdate.split(&quot;-&quot;)\n    val birthYear = birthdateParts[0].toInt()\n    val birthMonth = birthdateParts[1].toInt()\n    val birthDay = birthdateParts[2].toInt()\n\n    val currentMoment = Clock.System.now()\n    val currentDate = currentMoment.toLocalDateTime(TimeZone.currentSystemDefault()).date\n    val currentYear = currentDate.year\n    val currentMonth = currentDate.monthNumber\n    val currentDay = currentDate.dayOfMonth\n\n    var age = currentYear - birthYear\n    if (currentMonth &lt; birthMonth || (currentMonth == birthMonth &amp;&amp; currentDay &lt; birthDay)) {\n        age--\n    }\n    return age\n}\n</code></pre>\n"}],"owner":{"account_id":325468,"reputation":209,"user_id":646662,"accept_rate":67,"display_name":"Heba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28375,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":5307965,"answer_count":8,"score":17,"last_activity_date":1677753154,"creation_date":1300041592,"question_id":5291503,"body_markdown":"I want to write a method to calculate the age from the birth date, is the logic correct and how to write it in android Java:\r\n\r\n\r\n    public int calculateAge(String birthday){ \r\n     // consider that birthday format is ddmmyyyy;\r\n\r\n     String today = SystemDate(ddmmyyyy);\r\n     int bDay = birthday(1,2).toInteger;\r\n     int bMonth = birthday(3,4).toInteger;\r\n     int bYear = birhtday(5,8).toInteger;\r\n\r\n     int tDay = today(1,2).toInteger;\r\n     int tMonth = today(3,4).toInteger;\r\n     int tYear = today(5,8).toInteger;\r\n  \r\n     if (tMonth == bMonth){\r\n         if (tday&gt;= bDay){ \r\n            age = tYear - bYear;\r\n          else \r\n            age = tYear - bYear - 1;}\r\n     else\r\n       if (tMonth &gt; bMonth) {\r\n           age = tYear - bYear;\r\n       else \r\n           age = tYear - bYear - 1;}\r\n     }\r\n     return age;\r\n    }\r\n \r\n\r\n\r\n\r\n","title":"How to create method for age calculation method in android","body":"<p>I want to write a method to calculate the age from the birth date, is the logic correct and how to write it in android Java:</p>\n\n<pre><code>public int calculateAge(String birthday){ \n // consider that birthday format is ddmmyyyy;\n\n String today = SystemDate(ddmmyyyy);\n int bDay = birthday(1,2).toInteger;\n int bMonth = birthday(3,4).toInteger;\n int bYear = birhtday(5,8).toInteger;\n\n int tDay = today(1,2).toInteger;\n int tMonth = today(3,4).toInteger;\n int tYear = today(5,8).toInteger;\n\n if (tMonth == bMonth){\n     if (tday&gt;= bDay){ \n        age = tYear - bYear;\n      else \n        age = tYear - bYear - 1;}\n else\n   if (tMonth &gt; bMonth) {\n       age = tYear - bYear;\n   else \n       age = tYear - bYear - 1;}\n }\n return age;\n}\n</code></pre>\n"},{"tags":["java","image","opencv","crop"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1609095126,"post_id":65469133,"comment_id":115746998,"body_markdown":"What image format is that?","body":"What image format is that?"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1609095994,"post_id":65469133,"comment_id":115747234,"body_markdown":"Typically the transparency is stored in the alpha channel, if the image format supports that.  You can try using `Color c = new Color(255, 255, 255, 0);`.  Keep in mind that 1) Only some image formats support an alpha channel and 2) Programs reading the image file are free to interpret the alpha channel in any way they choose, so some may use it for a bump map or something.  There&#39;s no sure fire way to make something transparent.","body":"Typically the transparency is stored in the alpha channel, if the image format supports that.  You can try using <code>Color c = new Color(255, 255, 255, 0);</code>.  Keep in mind that 1) Only some image formats support an alpha channel and 2) Programs reading the image file are free to interpret the alpha channel in any way they choose, so some may use it for a bump map or something.  There&#39;s no sure fire way to make something transparent."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1609106532,"creation_date":1609099188,"answer_id":65469901,"question_id":65469133,"body_markdown":"Try this.  This will paint the image on the screen inside a circle.  If you want to create a new image, get the Graphics context from a `BufferedImage` and write the image to that instead of the graphics context in `paintComponent`. Any image format will work as this does not rely on any transparency mode of the graphics image.\r\n\r\nThe main idea behind this is setting the `clip region` to that of a circle.  Then whatever you paint will only appear in that region.\r\n\r\nIn this example, I made the diameter of the circle the minimum of the width and height of the image.  This way, the entire circle will fit in a rectangle.  \r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Image;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\n\r\n\r\npublic class ImageInCircle extends JPanel {\r\n\tJFrame f = new JFrame();\r\n\tImage img;\r\n\tint width;\r\n\tint height;\r\n\tstatic String imgFile =\r\n\t         &quot;location/of/image/img.gif&quot;;\r\n\r\n\t  \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(()-&gt;new ImageInCircle().start());\r\n\t\t  \r\n\t}\r\n\t@Override\r\n\tpublic Dimension getPreferredSize() {\r\n\t\t return new Dimension(width, height);\r\n\t}\r\n\tpublic ImageInCircle () {\r\n\t\tf.add(this);\r\n\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t}\r\n\tpublic void start() {\r\n\t\ttry {\r\n\t\timg = ImageIO.read(new File(imgFile));\r\n\t\t} catch (IOException fne) {\r\n\t\t\tfne.printStackTrace();\r\n\t\t}\r\n\t\twidth = img.getWidth(null);\r\n\t\theight = img.getHeight(null);\r\n\t\trevalidate();\r\n\t\tf.setVisible(true);\r\n\t\tf.pack();\r\n\r\n\t\tf.setLocationRelativeTo(null);\r\n\t\trepaint(); \r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\t super.paintComponent(g);\r\n\t\t  setBackground(Color.white);\r\n\t\t  Graphics2D g2 = (Graphics2D) g;\r\n\r\n\t\t  g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n\t\t        RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t  int circleDiameter = Math.min(width,height);\r\n\t\t  Ellipse2D.Double circle = new Ellipse2D.Double(0,0,circleDiameter,circleDiameter);\r\n\t      g2.setClip(circle);\r\n\t\t  g2.drawImage(img,0,0,this);\r\n\t}\r\n\t\t\r\n\t  \r\n}\r\n","title":"How to crop an image into a circle with java?","body":"<p>Try this.  This will paint the image on the screen inside a circle.  If you want to create a new image, get the Graphics context from a <code>BufferedImage</code> and write the image to that instead of the graphics context in <code>paintComponent</code>. Any image format will work as this does not rely on any transparency mode of the graphics image.</p>\n<p>The main idea behind this is setting the <code>clip region</code> to that of a circle.  Then whatever you paint will only appear in that region.</p>\n<p>In this example, I made the diameter of the circle the minimum of the width and height of the image.  This way, the entire circle will fit in a rectangle.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.RenderingHints;\nimport java.awt.geom.Ellipse2D;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\n\n\npublic class ImageInCircle extends JPanel {\n    JFrame f = new JFrame();\n    Image img;\n    int width;\n    int height;\n    static String imgFile =\n             &quot;location/of/image/img.gif&quot;;\n\n      \n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(()-&gt;new ImageInCircle().start());\n          \n    }\n    @Override\n    public Dimension getPreferredSize() {\n         return new Dimension(width, height);\n    }\n    public ImageInCircle () {\n        f.add(this);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n    }\n    public void start() {\n        try {\n        img = ImageIO.read(new File(imgFile));\n        } catch (IOException fne) {\n            fne.printStackTrace();\n        }\n        width = img.getWidth(null);\n        height = img.getHeight(null);\n        revalidate();\n        f.setVisible(true);\n        f.pack();\n\n        f.setLocationRelativeTo(null);\n        repaint(); \n    }\n    \n    public void paintComponent(Graphics g) {\n         super.paintComponent(g);\n          setBackground(Color.white);\n          Graphics2D g2 = (Graphics2D) g;\n\n          g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n          int circleDiameter = Math.min(width,height);\n          Ellipse2D.Double circle = new Ellipse2D.Double(0,0,circleDiameter,circleDiameter);\n          g2.setClip(circle);\n          g2.drawImage(img,0,0,this);\n    }\n        \n      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16965497,"reputation":332,"user_id":12271495,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677753141,"creation_date":1677753141,"answer_id":75614208,"question_id":65469133,"body_markdown":"If you want to crop the image and save as new image, then you can do this:\r\n\r\n```java\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.*;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class ImageInCircle {\r\n    Image img;\r\n    public void cropImageIntoCircle(String imgFile) {\r\n        try {\r\n            img = ImageIO.read(new File(imgFile));\r\n        } catch (IOException fne) {\r\n            fne.printStackTrace();\r\n        }\r\n        int width = img.getWidth(null);\r\n        int height = img.getHeight(null);\r\n\r\n        BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2 = bi.createGraphics();\r\n\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n        int circleDiameter = Math.min(width,height);\r\n        Ellipse2D.Double circle = new Ellipse2D.Double(0,0,circleDiameter,circleDiameter);\r\n        g2.setClip(circle);\r\n        g2.drawImage(img,0,0,null);\r\n        try {\r\n            ImageIO.write(bi, &quot;PNG&quot;, new File(&quot;assets/&quot; + imgFile.substring(0, imgFile.lastIndexOf(&quot;.&quot;)) + &quot;.png&quot;));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSimilar to @WJS solution, but just a tweak on saving the image","title":"How to crop an image into a circle with java?","body":"<p>If you want to crop the image and save as new image, then you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class ImageInCircle {\n    Image img;\n    public void cropImageIntoCircle(String imgFile) {\n        try {\n            img = ImageIO.read(new File(imgFile));\n        } catch (IOException fne) {\n            fne.printStackTrace();\n        }\n        int width = img.getWidth(null);\n        int height = img.getHeight(null);\n\n        BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2 = bi.createGraphics();\n\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        int circleDiameter = Math.min(width,height);\n        Ellipse2D.Double circle = new Ellipse2D.Double(0,0,circleDiameter,circleDiameter);\n        g2.setClip(circle);\n        g2.drawImage(img,0,0,null);\n        try {\n            ImageIO.write(bi, &quot;PNG&quot;, new File(&quot;assets/&quot; + imgFile.substring(0, imgFile.lastIndexOf(&quot;.&quot;)) + &quot;.png&quot;));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Similar to @WJS solution, but just a tweak on saving the image</p>\n"}],"owner":{"account_id":20310329,"reputation":11,"user_id":14897571,"display_name":"Sofia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":65469901,"answer_count":2,"score":0,"last_activity_date":1677753141,"creation_date":1609093897,"question_id":65469133,"body_markdown":"I really need some help with that. \r\nI&#39;m trying to crop an image into a circle and it&#39;s fine but the pixels outside the circle stay white. How can I put them transparent?\r\n\r\nMy code it&#39;s:\r\n\r\n    static ColorImage Circulo(ColorImage img, int radius) {\r\n\t\tfor (int x=0; x &lt; img.getWidth(); x++ ) {\r\n\t\t\t\tfor(int y=0; y &lt; img.getHeight(); y++) {\r\n\t\t\t\t\tif((x - (img.getWidth()/2)) * (x - (img.getWidth()/2)) + (y - (img.getHeight()/2) )* (y - (img.getHeight()/2)) &lt;= (radius*radius)) {\r\n\t\t\t\t\t\timg.setColor(x, y, img.getColor(x, y));\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tColor c = new Color (255, 255, 255);\r\n\t\t\t\t\t\timg.setColor(x, y, c );\t\t\r\n\t\t\t\t\t}\r\n\t\t\t     }\r\n\t\t\t}\r\n\t\t\treturn img;\r\n\t\t}\r\n\r\n","title":"How to crop an image into a circle with java?","body":"<p>I really need some help with that.\nI'm trying to crop an image into a circle and it's fine but the pixels outside the circle stay white. How can I put them transparent?</p>\n<p>My code it's:</p>\n<pre><code>static ColorImage Circulo(ColorImage img, int radius) {\n    for (int x=0; x &lt; img.getWidth(); x++ ) {\n            for(int y=0; y &lt; img.getHeight(); y++) {\n                if((x - (img.getWidth()/2)) * (x - (img.getWidth()/2)) + (y - (img.getHeight()/2) )* (y - (img.getHeight()/2)) &lt;= (radius*radius)) {\n                    img.setColor(x, y, img.getColor(x, y));\n                }else {\n                    Color c = new Color (255, 255, 255);\n                    img.setColor(x, y, c );     \n                }\n             }\n        }\n        return img;\n    }\n</code></pre>\n"},{"tags":["java","sftp","edtftpj"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582891657,"creation_date":1582891657,"answer_id":60451413,"question_id":60451215,"body_markdown":"Call [`SSHFTPClient.setModTime`](https://enterprisedt.com/products/edtftpjssl/doc/api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#setModTime-java.lang.String-java.util.Date-) after the upload.\r\n\r\n\r\n```\r\nsshFtpClient.setModTime(remotePath, new Date(new File(localPath).lastModified());\r\n```\r\n\r\n","title":"Preserving modified timestamp of file while uploading to SFTP","body":"<p>Call <a href=\"https://enterprisedt.com/products/edtftpjssl/doc/api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#setModTime-java.lang.String-java.util.Date-\" rel=\"nofollow noreferrer\"><code>SSHFTPClient.setModTime</code></a> after the upload.</p>\n\n<pre><code>sshFtpClient.setModTime(remotePath, new Date(new File(localPath).lastModified());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677752940,"creation_date":1582900226,"answer_id":60453774,"question_id":60451215,"body_markdown":"&gt; Let me know if there is any way. \r\n\r\nThere is no way to preserve the timestamps while transferring the file.  The SFTP protocol does not allow it.\r\n\r\nThe SFTP wire protocol specification documents were never completed and ratified, but the most recent draft (for version 6 of the protocol) is [draft-ietf-secsh-filexfer-13][1].\r\n\r\nIf you look at Section 8.1 and 8.2, you will see that the client requests for opening a file (`SSH_FXP_OPEN`) and writing a file (`SSH_FXP_WRITE`) do not pass any time-stamp information from the client to the server.  Since the request doesn&#39;t pass timestamps, they cannot be preserved in the transfer.\r\n\r\nIf you want to &quot;preserve&quot; the timestamp, the protocol document says that the client needs to send an `SSH_FXP_SETSTAT` or `SSH_FXP_FSETSTAT` request to update the relevant file attributes.\r\n\r\n[Martin&#39;s Answer][2] has code for doing this using the `SSHFTPClient` library.\r\n\r\nI have not checked, but I am confident that this applies to the earlier versions of the SFTP protocol as well.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-ietf-secsh-filexfer-13\r\n  [2]: https://stackoverflow.com/a/60451413/139985","title":"Preserving modified timestamp of file while uploading to SFTP","body":"<blockquote>\n<p>Let me know if there is any way.</p>\n</blockquote>\n<p>There is no way to preserve the timestamps while transferring the file.  The SFTP protocol does not allow it.</p>\n<p>The SFTP wire protocol specification documents were never completed and ratified, but the most recent draft (for version 6 of the protocol) is <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-secsh-filexfer-13\" rel=\"nofollow noreferrer\">draft-ietf-secsh-filexfer-13</a>.</p>\n<p>If you look at Section 8.1 and 8.2, you will see that the client requests for opening a file (<code>SSH_FXP_OPEN</code>) and writing a file (<code>SSH_FXP_WRITE</code>) do not pass any time-stamp information from the client to the server.  Since the request doesn't pass timestamps, they cannot be preserved in the transfer.</p>\n<p>If you want to &quot;preserve&quot; the timestamp, the protocol document says that the client needs to send an <code>SSH_FXP_SETSTAT</code> or <code>SSH_FXP_FSETSTAT</code> request to update the relevant file attributes.</p>\n<p><a href=\"https://stackoverflow.com/a/60451413/139985\">Martin's Answer</a> has code for doing this using the <code>SSHFTPClient</code> library.</p>\n<p>I have not checked, but I am confident that this applies to the earlier versions of the SFTP protocol as well.</p>\n"}],"owner":{"account_id":5876005,"reputation":27,"user_id":4626801,"display_name":"Ramya Murugesan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60451413,"answer_count":2,"score":1,"last_activity_date":1677752940,"creation_date":1582890886,"question_id":60451215,"body_markdown":"I need to preserve modified timestamp of my file while uploading it to SFTP site.\r\n\r\nI am using com.enterprisedt.net.ftp.ssh.SSHFTPclient for the transfer.\r\n \r\nPlease let me know if there is any way. \r\n","title":"Preserving modified timestamp of file while uploading to SFTP","body":"<p>I need to preserve modified timestamp of my file while uploading it to SFTP site.</p>\n\n<p>I am using com.enterprisedt.net.ftp.ssh.SSHFTPclient for the transfer.</p>\n\n<p>Please let me know if there is any way. </p>\n"},{"tags":["java","image","pdf","png","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1455484398,"creation_date":1455484398,"answer_id":35398054,"question_id":35397634,"body_markdown":"The issue is that you add a new page to the document\r\n\r\n    doc.addPage(new PDPage());\r\n\r\nbut then create a content stream for yet another new page which you don&#39;t add to the document:\r\n\r\n    PDPageContentStream contentStream = new PDPageContentStream(doc, new PDPage(), true, false);\r\n\r\nYou should create the content stream for the page you added to the document, e.g. like this:\r\n\r\n    PDDocument doc = null;\r\n    doc = new PDDocument();\r\n    PDPage page = new PDPage();\r\n    doc.addPage(page);\r\n    try{\r\n        BufferedImage awtImage = ImageIO.read( new File( &quot;c://temp//line_chart.png&quot; ) );\r\n        PDImageXObject  pdImageXObject = LosslessFactory.createFromImage(doc, awtImage);\r\n        PDPageContentStream contentStream = new PDPageContentStream(doc, page, true, false);\r\n        contentStream.drawImage(pdImageXObject, 200, 300, awtImage.getWidth() / 2, awtImage.getHeight() / 2);\r\n        contentStream.close();\r\n        doc.save( &quot;c://temp//pdf//PDF_image.pdf&quot; );\r\n        doc.close();\r\n    } catch (Exception io){\r\n        System.out.println(&quot; -- fail --&quot; + io);\r\n    }\r\n","title":"PDFBox v2 write PNG image to PDF file, getting empty file","body":"<p>The issue is that you add a new page to the document</p>\n\n<pre><code>doc.addPage(new PDPage());\n</code></pre>\n\n<p>but then create a content stream for yet another new page which you don't add to the document:</p>\n\n<pre><code>PDPageContentStream contentStream = new PDPageContentStream(doc, new PDPage(), true, false);\n</code></pre>\n\n<p>You should create the content stream for the page you added to the document, e.g. like this:</p>\n\n<pre><code>PDDocument doc = null;\ndoc = new PDDocument();\nPDPage page = new PDPage();\ndoc.addPage(page);\ntry{\n    BufferedImage awtImage = ImageIO.read( new File( \"c://temp//line_chart.png\" ) );\n    PDImageXObject  pdImageXObject = LosslessFactory.createFromImage(doc, awtImage);\n    PDPageContentStream contentStream = new PDPageContentStream(doc, page, true, false);\n    contentStream.drawImage(pdImageXObject, 200, 300, awtImage.getWidth() / 2, awtImage.getHeight() / 2);\n    contentStream.close();\n    doc.save( \"c://temp//pdf//PDF_image.pdf\" );\n    doc.close();\n} catch (Exception io){\n    System.out.println(\" -- fail --\" + io);\n}\n</code></pre>\n"}],"owner":{"account_id":6886346,"reputation":93,"user_id":5291275,"display_name":"Danny L."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10223,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35398054,"answer_count":1,"score":5,"last_activity_date":1677752874,"creation_date":1455481926,"question_id":35397634,"body_markdown":"I&#39;m using PDFBox 2. Trying to write a PNG image file to new PDF file.\r\n\r\nI saw there was already an answer that mention it was fixed on PDFBox2:\r\nhttps://stackoverflow.com/questions/22317706/how-to-add-png-images-to-pdf-using-apache-pdfbox and \r\nhttps://issues.apache.org/jira/browse/PDFBOX-1990\r\n\r\nThis is my code:\r\n\r\n    package pdfProj;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.graphics.image.LosslessFactory;\r\n    import org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject;\r\n    \r\n    public class b {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n        \tPDDocument doc = null;\r\n            doc = new PDDocument();        \r\n            doc.addPage(new PDPage());\r\n            try{\r\n            \tBufferedImage awtImage = ImageIO.read( new File( &quot;c://temp//line_chart.png&quot; ) );\r\n            \tPDImageXObject  pdImageXObject = LosslessFactory.createFromImage(doc, awtImage);\r\n     \t    \tPDPageContentStream contentStream = new PDPageContentStream(doc, new PDPage(), true, false);\r\n     \t        contentStream.drawImage(pdImageXObject, 200, 300, awtImage.getWidth() / 2, awtImage.getHeight() / 2);\r\n    \t            contentStream.close();\r\n    \t            doc.save( &quot;c://temp//pdf//PDF_image.pdf&quot; );\r\n               \tdoc.close();\r\n            } catch (Exception io){\r\n                System.out.println(&quot; -- fail --&quot; + io);\r\n            }\r\n    \r\n    \t}\r\n    }\r\n\r\nThere is no exception. Just getting an empty PDF file created.","title":"PDFBox v2 write PNG image to PDF file, getting empty file","body":"<p>I'm using PDFBox 2. Trying to write a PNG image file to new PDF file.</p>\n\n<p>I saw there was already an answer that mention it was fixed on PDFBox2:\n<a href=\"https://stackoverflow.com/questions/22317706/how-to-add-png-images-to-pdf-using-apache-pdfbox\">How to add .png images to pdf using Apache PDFBox</a> and \n<a href=\"https://issues.apache.org/jira/browse/PDFBOX-1990\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/PDFBOX-1990</a></p>\n\n<p>This is my code:</p>\n\n<pre><code>package pdfProj;\n\nimport java.awt.image.BufferedImage;\nimport java.io.File;\n\nimport javax.imageio.ImageIO;\n\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.graphics.image.LosslessFactory;\nimport org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject;\n\npublic class b {\n\n    public static void main(String[] args) {\n        PDDocument doc = null;\n        doc = new PDDocument();        \n        doc.addPage(new PDPage());\n        try{\n            BufferedImage awtImage = ImageIO.read( new File( \"c://temp//line_chart.png\" ) );\n            PDImageXObject  pdImageXObject = LosslessFactory.createFromImage(doc, awtImage);\n            PDPageContentStream contentStream = new PDPageContentStream(doc, new PDPage(), true, false);\n            contentStream.drawImage(pdImageXObject, 200, 300, awtImage.getWidth() / 2, awtImage.getHeight() / 2);\n                contentStream.close();\n                doc.save( \"c://temp//pdf//PDF_image.pdf\" );\n            doc.close();\n        } catch (Exception io){\n            System.out.println(\" -- fail --\" + io);\n        }\n\n    }\n}\n</code></pre>\n\n<p>There is no exception. Just getting an empty PDF file created.</p>\n"},{"tags":["java","gradle","maven-bom"],"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677752675,"creation_date":1677752675,"question_id":75614127,"body_markdown":"Just playing with Gradle `java-library` plugin and noticed that I can do something like this\r\n\r\n```groovy\r\n// project :a\r\n\r\ndependencies {\r\n  // notice that I&#39;m using &#39;api&#39; here, not &#39;implementation&#39;\r\n  api platform(&#39;org.springframework.boot:spring-boot-dependencies:2.7.5&#39;)\r\n\r\n  // the following works as expected\r\n  implementation &#39;org.springframework.boot:spring-boot&#39;\r\n}\r\n\r\n// project :b\r\n\r\ndependencies {\r\n  implementation project(&#39;:a&#39;)\r\n\r\n  // and this works too!!!\r\n  implementation &#39;org.springframework.boot:spring-boot&#39;\r\n}\r\n\r\n```\r\n\r\nThe above example works completely the same as if I added `spring-boot-dependencies` artifact in `:b`\r\n\r\nIs it illegal? Or I&#39;ve just discovered new strange way of creating platform+lib artifacts for Gradle?","title":"Gradle java-library transitive api dependency for a platform (BOM) artifact","body":"<p>Just playing with Gradle <code>java-library</code> plugin and noticed that I can do something like this</p>\n<pre><code>// project :a\n\ndependencies {\n  // notice that I'm using 'api' here, not 'implementation'\n  api platform('org.springframework.boot:spring-boot-dependencies:2.7.5')\n\n  // the following works as expected\n  implementation 'org.springframework.boot:spring-boot'\n}\n\n// project :b\n\ndependencies {\n  implementation project(':a')\n\n  // and this works too!!!\n  implementation 'org.springframework.boot:spring-boot'\n}\n\n</code></pre>\n<p>The above example works completely the same as if I added <code>spring-boot-dependencies</code> artifact in <code>:b</code></p>\n<p>Is it illegal? Or I've just discovered new strange way of creating platform+lib artifacts for Gradle?</p>\n"},{"tags":["java","apache-commons-config"],"comments":[{"owner":{"account_id":2919487,"reputation":436,"user_id":2502066,"display_name":"Preetam Kumar"},"score":0,"creation_date":1470319186,"post_id":38769198,"comment_id":64910067,"body_markdown":"can you tell the version of the Commons-configuration jar are you using?","body":"can you tell the version of the Commons-configuration jar are you using?"}],"answers":[{"tags":[],"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1471172036,"creation_date":1471170772,"answer_id":38941352,"question_id":38769198,"body_markdown":"You cannot save a configuration that points to a file within a JAR. Try using a configuration file that is located outside of your JAR and you&#39;ll see that auto-save option works correctly.\n\n**EDIT**\n\nYou can put the file both in a JAR and in the same relative path in one of the default locations. Here&#39;s what [the documentation][1] says.\n\n&gt; If you do not specify an absolute path, the file will be searched automatically in the following locations:\n&gt;\n&gt; - in the current directory\n&gt; - in the user home directory\n&gt; - in the classpath\n\nSo, if for instance you have a default properties file in you JAR, located at `conf/configuration.properties`, you can put the properties either in user&#39;s home directory under the same relative path - e.g. on Linux `/home/username/conf/configuration.properties` or in the same directory with your JAR file. Both should be secure enough.\n\n  [1]: https://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_properties.html#Properties_files","title":"Apache Commons Configuration Cant save","body":"<p>You cannot save a configuration that points to a file within a JAR. Try using a configuration file that is located outside of your JAR and you'll see that auto-save option works correctly.</p>\n<p><strong>EDIT</strong></p>\n<p>You can put the file both in a JAR and in the same relative path in one of the default locations. Here's what <a href=\"https://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_properties.html#Properties_files\" rel=\"nofollow noreferrer\">the documentation</a> says.</p>\n<blockquote>\n<p>If you do not specify an absolute path, the file will be searched automatically in the following locations:</p>\n<ul>\n<li>in the current directory</li>\n<li>in the user home directory</li>\n<li>in the classpath</li>\n</ul>\n</blockquote>\n<p>So, if for instance you have a default properties file in you JAR, located at <code>conf/configuration.properties</code>, you can put the properties either in user's home directory under the same relative path - e.g. on Linux <code>/home/username/conf/configuration.properties</code> or in the same directory with your JAR file. Both should be secure enough.</p>\n"},{"tags":[],"owner":{"account_id":16438960,"reputation":21,"user_id":11875847,"display_name":"kmat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677752667,"creation_date":1677752655,"answer_id":75614124,"question_id":38769198,"body_markdown":"That issue can be connected with inproper version of commons configuration. I had exactly same dependency in my pom and problems arose from it. What I&#39;ve done is included such dependencies instead\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-configuration2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nCommons-configuration2 uses commons-beanutils which is optional, that is why I&#39;ve\r\nalso included second dependency.\r\n\r\n","title":"Apache Commons Configuration Cant save","body":"<p>That issue can be connected with inproper version of commons configuration. I had exactly same dependency in my pom and problems arose from it. What I've done is included such dependencies instead</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-configuration2&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n        &lt;version&gt;1.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Commons-configuration2 uses commons-beanutils which is optional, that is why I've\nalso included second dependency.</p>\n"}],"owner":{"account_id":2807267,"reputation":1120,"user_id":2414254,"accept_rate":74,"display_name":"Yunus Einsteinium"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1963,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38941352,"answer_count":2,"score":1,"last_activity_date":1677752667,"creation_date":1470318458,"question_id":38769198,"body_markdown":"I am using Apache Commons Configuration to keep some properties in a properties file located in a package `re/iprocu/coperativeerp/config/payment/configurations.properties`\r\n\r\n    private PropertiesConfiguration configs = new  PropertiesConfiguration(&quot;re/iprocu/coperativeerp/config/payment/configurations.properties&quot;);\r\n    configs.setAutoSave(true);\r\n    configs.setProperty(date.getYear()+&quot;-&quot;+date.getMonthValue()+&quot;-01&quot;, offsetMember);\r\n\r\nThe problem is when i run the above code i get the following error\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; org.apache.commons.configuration.ConfigurationRuntimeException: Failed to auto-save\r\n\tat org.apache.commons.configuration.AbstractFileConfiguration.possiblySave(AbstractFileConfiguration.java:753)\r\n\tat org.apache.commons.configuration.AbstractFileConfiguration.clearProperty(AbstractFileConfiguration.java:799)\r\n\tat org.apache.commons.configuration.AbstractConfiguration.setProperty(AbstractConfiguration.java:485)\r\n\tat org.apache.commons.configuration.AbstractFileConfiguration.setProperty(AbstractFileConfiguration.java:788)\r\n\r\n\r\n**Update**\r\n\r\nApache Commons Configuration V. 1.10 \r\n\r\nMaven dependency\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n         &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n         &lt;version&gt;1.10&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Apache Commons Configuration Cant save","body":"<p>I am using Apache Commons Configuration to keep some properties in a properties file located in a package <code>re/iprocu/coperativeerp/config/payment/configurations.properties</code></p>\n\n<pre><code>private PropertiesConfiguration configs = new  PropertiesConfiguration(\"re/iprocu/coperativeerp/config/payment/configurations.properties\");\nconfigs.setAutoSave(true);\nconfigs.setProperty(date.getYear()+\"-\"+date.getMonthValue()+\"-01\", offsetMember);\n</code></pre>\n\n<p>The problem is when i run the above code i get the following error</p>\n\n<pre><code>Exception in thread \"JavaFX Application Thread\" org.apache.commons.configuration.ConfigurationRuntimeException: Failed to auto-save\nat org.apache.commons.configuration.AbstractFileConfiguration.possiblySave(AbstractFileConfiguration.java:753)\nat org.apache.commons.configuration.AbstractFileConfiguration.clearProperty(AbstractFileConfiguration.java:799)\nat org.apache.commons.configuration.AbstractConfiguration.setProperty(AbstractConfiguration.java:485)\nat org.apache.commons.configuration.AbstractFileConfiguration.setProperty(AbstractFileConfiguration.java:788)\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Apache Commons Configuration V. 1.10 </p>\n\n<p>Maven dependency</p>\n\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n     &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n     &lt;version&gt;1.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","zip","unzip"],"answers":[{"tags":[],"owner":{"account_id":24409604,"reputation":11,"user_id":18337295,"display_name":"Максим Белый"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677561910,"creation_date":1677561910,"answer_id":75588156,"question_id":75584749,"body_markdown":"In fact, it was because of the &quot;Deflate&quot; compression method. The file was over 4 GB a bit. And because of this, the compression method was Deflate+Store. That it was impossible to process normally. As I understand it, only compressed sections were processed, and as soon as I tried to process uncompressed ones, it immediately crashed, probably due to the fact that the class is not intended for uncompressed data. Please check my theory and give feedback.","title":"When the archive is unzipped into a directory, only 100 MB of 1.5 GB is unzipped. Then - crash","body":"<p>In fact, it was because of the &quot;Deflate&quot; compression method. The file was over 4 GB a bit. And because of this, the compression method was Deflate+Store. That it was impossible to process normally. As I understand it, only compressed sections were processed, and as soon as I tried to process uncompressed ones, it immediately crashed, probably due to the fact that the class is not intended for uncompressed data. Please check my theory and give feedback.</p>\n"},{"tags":[],"owner":{"account_id":24409604,"reputation":11,"user_id":18337295,"display_name":"Максим Белый"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677752457,"creation_date":1677752457,"answer_id":75614090,"question_id":75584749,"body_markdown":"the code was moved to the Zip4j library. the problem has disappeared","title":"When the archive is unzipped into a directory, only 100 MB of 1.5 GB is unzipped. Then - crash","body":"<p>the code was moved to the Zip4j library. the problem has disappeared</p>\n"}],"owner":{"account_id":24409604,"reputation":11,"user_id":18337295,"display_name":"Максим Белый"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75614090,"answer_count":2,"score":0,"last_activity_date":1677752457,"creation_date":1677525911,"question_id":75584749,"body_markdown":"\r\n \r\n```\r\nprivate class UnZipTask extends AsyncTask &lt;String, Integer, String&gt; {\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            String filePath = params[0];\r\n            String destinationPath = params[1];\r\n            try {\r\n                File outdir = new File(destinationPath);\r\n                if (!outdir.exists()) {\r\n                    outdir.mkdirs();\r\n                }\r\n                File file = new File(filePath);\r\n                if (!file.exists()) {\r\n                    System.out.println(&quot;DEBUGLOG_0&quot;);\r\n                    return null;\r\n                }\r\n                ZipInputStream zin = new ZipInputStream(new FileInputStream(file));\r\n                ZipEntry entry;\r\n                String name, dir;\r\n                while ((entry = zin.getNextEntry()) != null) {\r\n                    name = entry.getName();\r\n                    if (entry.isDirectory()) {\r\n                        mkdirs(outdir, name);\r\n                        continue;\r\n                    }\r\n                    dir = dirpart(name);\r\n                    if (dir != null) {\r\n                        mkdirs(outdir, dir);\r\n                    }\r\n                    byte[] buffer = new byte[4096];\r\n                    BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(new File(outdir, name)));\r\n\r\n                    int publishprogress = 0;\r\n                    long length = entry.getSize();\r\n                    int count;\r\n                    while ((count = zin.read(buffer)) != -1) {\r\n                        out.write(buffer, 0, count);\r\n                        publishprogress += count;\r\n                        publishProgress((int) (publishprogress * 100 / length));\r\n                        System.out.println(&quot;DEBUGLOG_19 &quot; + count + &quot;-------publishprogress &quot; + (int) (publishprogress * 100 / length) +&quot;         &quot;+ entry.getName());\r\n                    }\r\n                    System.out.println(&quot;DEBUGLOG_05&quot;);\r\n                    out.close();\r\n                }\r\n                System.out.println(&quot;DEBUGLOG_06&quot;);\r\n                zin.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                writeLog(e);\r\n            }\r\n            return null;\r\n        }\r\n\r\n\r\n        @Override\r\n        protected void onProgressUpdate(Integer... progress) {\r\n            super.onProgressUpdate(progress);\r\n            loading.setText(&quot;Unzipping...                  &quot;+progress[0] + &quot;%&quot;);\r\n            progressloading.setProgress(progress[0]);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            loading.setVisibility(View.INVISIBLE);\r\n            progressloading.setVisibility(View.INVISIBLE);\r\n            com.luxury.launcher.other.Utils.delete(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/game.zip&quot;));\r\n\r\n            StartGame();\r\n        }\r\n\r\n        @Override\r\n\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            loading.setVisibility(View.VISIBLE);\r\n            progressloading.setVisibility(View.VISIBLE);\r\n            progressloading.setIndeterminate(false);\r\n            progressloading.setMax(100);\r\n        }\r\n\r\n\r\n        private void mkdirs(File outdir, String path) {\r\n            File file = new File(outdir, path);\r\n            if (!file.exists()) {\r\n                file.mkdirs();\r\n            }\r\n        }\r\n\r\n        private String dirpart(String name) {\r\n            int index = name.lastIndexOf(File.separator);\r\n            return index == -1 ? null : name.substring(0, index);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to solve the problem related to the archive, but changing the buffer size and rewriting the class did not bring the desired result. At the same time, I made sure that the archive itself is not damaged, and the cause of the problem should be found elsewhere. It may be worth paying attention to other parameters or functions that may affect the work with the archive.","title":"When the archive is unzipped into a directory, only 100 MB of 1.5 GB is unzipped. Then - crash","body":"<pre><code>private class UnZipTask extends AsyncTask &lt;String, Integer, String&gt; {\n        @Override\n        protected String doInBackground(String... params) {\n            String filePath = params[0];\n            String destinationPath = params[1];\n            try {\n                File outdir = new File(destinationPath);\n                if (!outdir.exists()) {\n                    outdir.mkdirs();\n                }\n                File file = new File(filePath);\n                if (!file.exists()) {\n                    System.out.println(&quot;DEBUGLOG_0&quot;);\n                    return null;\n                }\n                ZipInputStream zin = new ZipInputStream(new FileInputStream(file));\n                ZipEntry entry;\n                String name, dir;\n                while ((entry = zin.getNextEntry()) != null) {\n                    name = entry.getName();\n                    if (entry.isDirectory()) {\n                        mkdirs(outdir, name);\n                        continue;\n                    }\n                    dir = dirpart(name);\n                    if (dir != null) {\n                        mkdirs(outdir, dir);\n                    }\n                    byte[] buffer = new byte[4096];\n                    BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(new File(outdir, name)));\n\n                    int publishprogress = 0;\n                    long length = entry.getSize();\n                    int count;\n                    while ((count = zin.read(buffer)) != -1) {\n                        out.write(buffer, 0, count);\n                        publishprogress += count;\n                        publishProgress((int) (publishprogress * 100 / length));\n                        System.out.println(&quot;DEBUGLOG_19 &quot; + count + &quot;-------publishprogress &quot; + (int) (publishprogress * 100 / length) +&quot;         &quot;+ entry.getName());\n                    }\n                    System.out.println(&quot;DEBUGLOG_05&quot;);\n                    out.close();\n                }\n                System.out.println(&quot;DEBUGLOG_06&quot;);\n                zin.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n                writeLog(e);\n            }\n            return null;\n        }\n\n\n        @Override\n        protected void onProgressUpdate(Integer... progress) {\n            super.onProgressUpdate(progress);\n            loading.setText(&quot;Unzipping...                  &quot;+progress[0] + &quot;%&quot;);\n            progressloading.setProgress(progress[0]);\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            loading.setVisibility(View.INVISIBLE);\n            progressloading.setVisibility(View.INVISIBLE);\n            com.luxury.launcher.other.Utils.delete(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/game.zip&quot;));\n\n            StartGame();\n        }\n\n        @Override\n\n        protected void onPreExecute() {\n            super.onPreExecute();\n            loading.setVisibility(View.VISIBLE);\n            progressloading.setVisibility(View.VISIBLE);\n            progressloading.setIndeterminate(false);\n            progressloading.setMax(100);\n        }\n\n\n        private void mkdirs(File outdir, String path) {\n            File file = new File(outdir, path);\n            if (!file.exists()) {\n                file.mkdirs();\n            }\n        }\n\n        private String dirpart(String name) {\n            int index = name.lastIndexOf(File.separator);\n            return index == -1 ? null : name.substring(0, index);\n        }\n    }\n}\n</code></pre>\n<p>I tried to solve the problem related to the archive, but changing the buffer size and rewriting the class did not bring the desired result. At the same time, I made sure that the archive itself is not damaged, and the cause of the problem should be found elsewhere. It may be worth paying attention to other parameters or functions that may affect the work with the archive.</p>\n"},{"tags":["java","infix-notation","postfix-notation"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1364980465,"post_id":15780817,"comment_id":22438964,"body_markdown":"Why? What do you care how many parentheses there are?","body":"Why? What do you care how many parentheses there are?"}],"answers":[{"tags":[],"owner":{"account_id":2509313,"reputation":4808,"user_id":2182172,"display_name":"Lone nebula"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1364995855,"creation_date":1364974389,"answer_id":15781419,"question_id":15780817,"body_markdown":"What you need to do if you really want as few parentheses as possible, is similar to what the algorithm you linked to says. However...\r\n\r\n - You should store an operator for each *composite* operand in the `Stack`. Namely, the last operator used in the operand. You could use a second `Stack` for this. If the operand is not composite, you could add `null` to the second `Stack`, since there is no operator.\r\n - Don&#39;t encapsulate the resulted `String` with parentheses. That is done elsewhere in the algorithm (see below).\r\n\r\nWhen you pop the top two values from each of the `Stack`s, you have 3 operators at hand: \r\n\r\n - The current operator\r\n - The last used operator in the first operand (if the operator exists)\r\n - The last used operator in the second operand (if the operator exists)\r\n\r\nDepending on these three operators, you should encapsulate the first and/or second operand with parentheses, before combining them.\r\n\r\nYou could use operator precedence to determine whether there should be parentheses. The order goes like this: `(none), {&quot;*&quot;, &quot;/&quot;}, {&quot;+&quot;, &quot;-&quot;}`\r\n\r\n - The first operand needs parentheses if and only if its operator has a lower precedence than the current operator.\r\n - The second operand needs parentheses if its operator has a lower precedence than the current operator, or if they have equal precedence where the current operator is either `&quot;/&quot;` or `&quot;-&quot;`.\r\n\r\nThe rest should be done the way your algorithm described.","title":"Postfix to Infix with minimum number of parentheses","body":"<p>What you need to do if you really want as few parentheses as possible, is similar to what the algorithm you linked to says. However...</p>\n\n<ul>\n<li>You should store an operator for each <em>composite</em> operand in the <code>Stack</code>. Namely, the last operator used in the operand. You could use a second <code>Stack</code> for this. If the operand is not composite, you could add <code>null</code> to the second <code>Stack</code>, since there is no operator.</li>\n<li>Don't encapsulate the resulted <code>String</code> with parentheses. That is done elsewhere in the algorithm (see below).</li>\n</ul>\n\n<p>When you pop the top two values from each of the <code>Stack</code>s, you have 3 operators at hand: </p>\n\n<ul>\n<li>The current operator</li>\n<li>The last used operator in the first operand (if the operator exists)</li>\n<li>The last used operator in the second operand (if the operator exists)</li>\n</ul>\n\n<p>Depending on these three operators, you should encapsulate the first and/or second operand with parentheses, before combining them.</p>\n\n<p>You could use operator precedence to determine whether there should be parentheses. The order goes like this: <code>(none), {\"*\", \"/\"}, {\"+\", \"-\"}</code></p>\n\n<ul>\n<li>The first operand needs parentheses if and only if its operator has a lower precedence than the current operator.</li>\n<li>The second operand needs parentheses if its operator has a lower precedence than the current operator, or if they have equal precedence where the current operator is either <code>\"/\"</code> or <code>\"-\"</code>.</li>\n</ul>\n\n<p>The rest should be done the way your algorithm described.</p>\n"},{"tags":[],"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1457542032,"creation_date":1457542032,"answer_id":35897601,"question_id":15780817,"body_markdown":"Here is the implementation:\r\n\r\n    public class PostfixToInfixConverter implements ExpressionConverter {\r\n\r\n\t@Override\r\n\tpublic String convert(String postfix) {\r\n\t\tString[] expressions = postfix.split(&quot;\\\\s&quot;);\r\n\t\t Deque&lt;Expression&gt; stack = new LinkedList&lt;Expression&gt;();\r\n\t\tfor (String exp : expressions) {\r\n\t\t\tif (exp.equals(&quot;+&quot;) || exp.equals(&quot;-&quot;)) {\r\n\t\t\t\tString right = stack.pop().getExpression();\r\n\t\t\t\tString left = stack.pop().getExpression();\r\n\t\t\t\tExpression newExp = new Expression(right + exp + left, exp);\r\n\t\t\t\tstack.push(newExp);\r\n\t\t\t} else if (exp.equals(&quot;*&quot;) || exp.equals(&quot;/&quot;)) {\r\n\t\t\t\tString right = correctExpression(stack.pop());\r\n\t\t\t\tString left = correctExpression(stack.pop());\r\n\t\t\t\tstack.push(new Expression(right +  exp +  left, exp));\r\n\t\t\t} else {\r\n\t\t\t\tstack.push(new Expression(exp, &quot;&quot;));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn stack.pop().getExpression();\r\n\t}\r\n\t\r\n\tprivate String correctExpression(Expression exp) {\r\n\t\tString result = exp.getExpression();\r\n\t\tif (exp.getOperatorUsed().equals(&quot;+&quot;) || exp.getOperatorUsed().equals(&quot;-&quot;)) {\r\n\t\t\tresult = &quot;(&quot; + result + &quot;)&quot;;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate static class Expression {\r\n\t\tString expression;\r\n\t\tString operatorUsed;\r\n\t\tpublic Expression(String exp, String operator) {\r\n\t\t\tthis.expression = exp;\r\n\t\t\tthis.operatorUsed = operator;\r\n\t\t}\r\n\t\tpublic String getExpression() {\r\n\t\t\treturn expression;\r\n\t\t}\r\n\t\tpublic String getOperatorUsed() {\r\n\t\t\treturn operatorUsed;\r\n\t\t}\t\t\r\n\t}\t\r\n}\r\n\r\n\r\nHere is the unit tests\r\n    \r\n    @Test\r\n\tpublic void test() {\r\n\t\tExpressionConverter converter = new PostfixToInfixConverter();\r\n\t\tassertThat(converter.convert(&quot;1 2 * 3 4 * + 5 *&quot;), equalTo(&quot;5*(4*3+2*1)&quot;));\r\n\t\tassertThat(converter.convert(&quot;a b + c + 2 *&quot;), equalTo(&quot;2*(c+b+a)&quot;));\r\n\t}","title":"Postfix to Infix with minimum number of parentheses","body":"<p>Here is the implementation:</p>\n\n<pre><code>public class PostfixToInfixConverter implements ExpressionConverter {\n\n@Override\npublic String convert(String postfix) {\n    String[] expressions = postfix.split(\"\\\\s\");\n     Deque&lt;Expression&gt; stack = new LinkedList&lt;Expression&gt;();\n    for (String exp : expressions) {\n        if (exp.equals(\"+\") || exp.equals(\"-\")) {\n            String right = stack.pop().getExpression();\n            String left = stack.pop().getExpression();\n            Expression newExp = new Expression(right + exp + left, exp);\n            stack.push(newExp);\n        } else if (exp.equals(\"*\") || exp.equals(\"/\")) {\n            String right = correctExpression(stack.pop());\n            String left = correctExpression(stack.pop());\n            stack.push(new Expression(right +  exp +  left, exp));\n        } else {\n            stack.push(new Expression(exp, \"\"));\n        }\n    }\n    return stack.pop().getExpression();\n}\n\nprivate String correctExpression(Expression exp) {\n    String result = exp.getExpression();\n    if (exp.getOperatorUsed().equals(\"+\") || exp.getOperatorUsed().equals(\"-\")) {\n        result = \"(\" + result + \")\";\n    }\n    return result;\n}\n\nprivate static class Expression {\n    String expression;\n    String operatorUsed;\n    public Expression(String exp, String operator) {\n        this.expression = exp;\n        this.operatorUsed = operator;\n    }\n    public String getExpression() {\n        return expression;\n    }\n    public String getOperatorUsed() {\n        return operatorUsed;\n    }       \n}   \n</code></pre>\n\n<p>}</p>\n\n<p>Here is the unit tests</p>\n\n<pre><code>@Test\npublic void test() {\n    ExpressionConverter converter = new PostfixToInfixConverter();\n    assertThat(converter.convert(\"1 2 * 3 4 * + 5 *\"), equalTo(\"5*(4*3+2*1)\"));\n    assertThat(converter.convert(\"a b + c + 2 *\"), equalTo(\"2*(c+b+a)\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3650734,"reputation":123,"user_id":3042989,"accept_rate":25,"display_name":"shranet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677752178,"creation_date":1677752178,"answer_id":75614036,"question_id":15780817,"body_markdown":"I found an example to solve this problem. There is a _Unparsing class in [ast][1] library of python to unparse AST tree.\r\n\r\nThere is a require_parens function in the library to check parentheses.\r\n\r\nExample:\r\n\r\n    ~% python3.11\r\n    &gt;&gt;&gt; import ast\r\n    &gt;&gt;&gt; ast.unparse(ast.parse(&quot;(-(-1+2)+((2*3))-4)&quot;))\r\n    &#39;-(-1 + 2) + 2 * 3 - 4&#39;\r\n    &gt;&gt;&gt;\r\n\r\nIf you want you can convert AST tree to postfix notation using a ast.walk function. [Link][2]\r\n\r\n\r\n  [1]: https://github.com/python/cpython/blob/main/Lib/ast.py#L684\r\n  [2]: https://stackoverflow.com/questions/42590512/how-to-convert-from-infix-to-postfix-prefix-using-ast-python-module","title":"Postfix to Infix with minimum number of parentheses","body":"<p>I found an example to solve this problem. There is a _Unparsing class in <a href=\"https://github.com/python/cpython/blob/main/Lib/ast.py#L684\" rel=\"nofollow noreferrer\">ast</a> library of python to unparse AST tree.</p>\n<p>There is a require_parens function in the library to check parentheses.</p>\n<p>Example:</p>\n<pre><code>~% python3.11\n&gt;&gt;&gt; import ast\n&gt;&gt;&gt; ast.unparse(ast.parse(&quot;(-(-1+2)+((2*3))-4)&quot;))\n'-(-1 + 2) + 2 * 3 - 4'\n&gt;&gt;&gt;\n</code></pre>\n<p>If you want you can convert AST tree to postfix notation using a ast.walk function. <a href=\"https://stackoverflow.com/questions/42590512/how-to-convert-from-infix-to-postfix-prefix-using-ast-python-module\">Link</a></p>\n"}],"owner":{"account_id":1138466,"reputation":17496,"user_id":1123020,"accept_rate":60,"display_name":"Yoda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5695,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15781419,"answer_count":3,"score":4,"last_activity_date":1677752178,"creation_date":1364972353,"question_id":15780817,"body_markdown":"I am looking for algorithm postfix to infix notation which will produce the minimum number of the parentheses. \r\n\r\nI have found that but it will produce many, many parentheses: http://tajendrasengar.blogspot.com/2011/09/postfix-to-infix-algorithm.html\r\n\r\n**For example**\r\n\r\nThe input:\r\n\r\n    &lt;ONP&gt;abcd*/+~\r\n\r\nThe result:\r\n\r\n    &lt;INF&gt;~(a+b/(c*d))\r\n\r\n\r\n\r\n","title":"Postfix to Infix with minimum number of parentheses","body":"<p>I am looking for algorithm postfix to infix notation which will produce the minimum number of the parentheses. </p>\n\n<p>I have found that but it will produce many, many parentheses: <a href=\"http://tajendrasengar.blogspot.com/2011/09/postfix-to-infix-algorithm.html\" rel=\"nofollow\">http://tajendrasengar.blogspot.com/2011/09/postfix-to-infix-algorithm.html</a></p>\n\n<p><strong>For example</strong></p>\n\n<p>The input:</p>\n\n<pre><code>&lt;ONP&gt;abcd*/+~\n</code></pre>\n\n<p>The result:</p>\n\n<pre><code>&lt;INF&gt;~(a+b/(c*d))\n</code></pre>\n"},{"tags":["java","function","jersey","cloud","multipart"],"owner":{"account_id":16167353,"reputation":3,"user_id":11672023,"display_name":"Filippo Angileri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677751613,"creation_date":1677751613,"question_id":75613934,"body_markdown":"I try to use Google Cloud Functions for produce a response in multipart/form-data and i want use jersey Multipart object \r\nI need help to convert the object to byte array to put it on the respose of the GCF \r\n```\r\nresponse.getOutputStream().write(convertMultiPartToByteArray(multiPart));\r\n\r\n```\r\nSome people can help me to make the function convertMultiPartToByteArray? \r\n\r\ni try\r\n```\r\npublic byte[] convertMultiPartToByteArray(MultiPart multiPart) {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        for (BodyPart bodyPart : multiPart.getBodyParts()) {\r\n            byte[] bodyPartBytes = bodyPart.getEntityAs(byte[].class);\r\n            baos.write(bodyPartBytes, 0, bodyPartBytes.length);\r\n        }\r\n        byte[] multiPartBytes = baos.toByteArray();\r\n        return multiPartBytes;\r\n    }\r\n```\r\nbut it return \r\n\r\n```\r\njava.lang.IllegalStateException: Entity instance does not contain the unconverted content.\r\n\tat org.glassfish.jersey.media.multipart.BodyPart.getEntityAs(BodyPart.java:267)\r\n\tat com.example.HelloWorld.convertMultiPartToByteArray(HelloWorld.java:132)\r\n\tat com.example.HelloWorld.service(HelloWorld.java:107)\r\n\tat com.google.cloud.functions.invoker.HttpFunctionExecutor.service(HttpFunctionExecutor.java:69)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat com.google.cloud.functions.invoker.runner.Invoker$NotFoundHandler.handle(Invoker.java:466)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n```\r\n","title":"Use jersey Multipart Object as HttpResponse for Google Cloud Functions","body":"<p>I try to use Google Cloud Functions for produce a response in multipart/form-data and i want use jersey Multipart object\nI need help to convert the object to byte array to put it on the respose of the GCF</p>\n<pre><code>response.getOutputStream().write(convertMultiPartToByteArray(multiPart));\n\n</code></pre>\n<p>Some people can help me to make the function convertMultiPartToByteArray?</p>\n<p>i try</p>\n<pre><code>public byte[] convertMultiPartToByteArray(MultiPart multiPart) {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        for (BodyPart bodyPart : multiPart.getBodyParts()) {\n            byte[] bodyPartBytes = bodyPart.getEntityAs(byte[].class);\n            baos.write(bodyPartBytes, 0, bodyPartBytes.length);\n        }\n        byte[] multiPartBytes = baos.toByteArray();\n        return multiPartBytes;\n    }\n</code></pre>\n<p>but it return</p>\n<pre><code>java.lang.IllegalStateException: Entity instance does not contain the unconverted content.\n    at org.glassfish.jersey.media.multipart.BodyPart.getEntityAs(BodyPart.java:267)\n    at com.example.HelloWorld.convertMultiPartToByteArray(HelloWorld.java:132)\n    at com.example.HelloWorld.service(HelloWorld.java:107)\n    at com.google.cloud.functions.invoker.HttpFunctionExecutor.service(HttpFunctionExecutor.java:69)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at com.google.cloud.functions.invoker.runner.Invoker$NotFoundHandler.handle(Invoker.java:466)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.Server.handle(Server.java:516)\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","testing","mapstruct"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677741544,"post_id":75612023,"comment_id":133398550,"body_markdown":"Anybody else have ever write unit test for a method that uses MapStruct ?","body":"Anybody else have ever write unit test for a method that uses MapStruct ?"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677749188,"creation_date":1677744741,"answer_id":75612793,"question_id":75612023,"body_markdown":"## Unit Test\r\nFor a unit test, try using a [spy][1] instead. By using a spy, the real instance will be wrapped by Mockito so that you can stub or verify against it, but when not stubbed, the real methods will be executed when called. By annotating it with `@Spy`, Mockito will consider it as well for injecting the dependencies in the class annotated with `@InjectMocks`.\r\n\r\n#### Example\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass CategoryServiceTest {\r\n\r\n    @InjectMocks\r\n    private CategoryService service;\r\n\r\n    @Mock\r\n    private CategoryRepository categoryRepository;\r\n\r\n    @Spy\r\n    private CategoryRequestMapper categoryRequestMapper = new CategoryRequestMapperImpl();\r\n\r\n    // your tests go here\r\n```\r\n\r\n## Integration Test\r\nIf your mapper needs other autowired beans (like other mappers) as well, you might want to change it to a reduced integration test. You can instruct Spring to create an application context with only the beans you specify instead of the whole application context with all auto configurations etc. If you want to verify that your mapper was called, you can use [`@SpyBean`][2] like in the example below. If you don&#39;t want to verify or stub it, you can omit it as well.\r\n\r\n#### Example\r\n```java\r\n@SpringBootTest(classes = {CategoryService.class, CategoryRequestMapper.class, ...}) // other beans that should be automatically created by Spring go here\r\nclass CategoryServiceTest {\r\n\r\n    @Autowired\r\n    private CategoryService service;\r\n\r\n    @MockBean\r\n    private CategoryRepository categoryRepository;\r\n\r\n    @SpyBean\r\n    private CategoryRequestMapper categoryRequestMapper\r\n\r\n    // your tests go here\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Spy.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/SpyBean.html","title":"Cannot use MapStruct in Unit Test for a service method","body":"<h2>Unit Test</h2>\n<p>For a unit test, try using a <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Spy.html\" rel=\"nofollow noreferrer\">spy</a> instead. By using a spy, the real instance will be wrapped by Mockito so that you can stub or verify against it, but when not stubbed, the real methods will be executed when called. By annotating it with <code>@Spy</code>, Mockito will consider it as well for injecting the dependencies in the class annotated with <code>@InjectMocks</code>.</p>\n<h4>Example</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass CategoryServiceTest {\n\n    @InjectMocks\n    private CategoryService service;\n\n    @Mock\n    private CategoryRepository categoryRepository;\n\n    @Spy\n    private CategoryRequestMapper categoryRequestMapper = new CategoryRequestMapperImpl();\n\n    // your tests go here\n</code></pre>\n<h2>Integration Test</h2>\n<p>If your mapper needs other autowired beans (like other mappers) as well, you might want to change it to a reduced integration test. You can instruct Spring to create an application context with only the beans you specify instead of the whole application context with all auto configurations etc. If you want to verify that your mapper was called, you can use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/SpyBean.html\" rel=\"nofollow noreferrer\"><code>@SpyBean</code></a> like in the example below. If you don't want to verify or stub it, you can omit it as well.</p>\n<h4>Example</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {CategoryService.class, CategoryRequestMapper.class, ...}) // other beans that should be automatically created by Spring go here\nclass CategoryServiceTest {\n\n    @Autowired\n    private CategoryService service;\n\n    @MockBean\n    private CategoryRepository categoryRepository;\n\n    @SpyBean\n    private CategoryRequestMapper categoryRequestMapper\n\n    // your tests go here\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75612793,"answer_count":1,"score":1,"last_activity_date":1677751278,"creation_date":1677739130,"question_id":75612023,"body_markdown":"I write unit test for testing mappings and it works without any problem. However, when I try to test a service method that makes mapping via MapperStruct, the mapper instance throws &quot;_Null pointer exception_&quot;. Here is the approach I am following (before that, I have tried many different ways as suggested on Stackoverflow, but none of them has worked :(\r\n\r\n***UnitTest:***\r\n\r\n```\r\n@SpringBootTest // ???\r\n@ExtendWith(MockitoExtension.class)\r\nclass CategoryServiceTest {\r\n\r\n    @InjectMocks\r\n    private CategoryService service;\r\n\r\n    @Mock\r\n    private CategoryRepository categoryRepository;\r\n\r\n    @Mock\r\n    public CategoryRequestMapper categoryRequestMapper;\r\n\r\n\r\n    @ParameterizedTest\r\n    @CsvFileSource(resources = &quot;/data/categories.csv&quot;)\r\n    void test_create(Long id, String name, Integer ordinal) {\r\n        CategoryRequest request = new CategoryRequest(id, name, ordinal);\r\n           when(categoryRepository.existsByNameIgnoreCase(request.getName()))\r\n    .thenReturn(false);\r\n\r\n        service.create(request);\r\n\r\n        // validations ...\r\n    }\r\n}\r\n```\r\n\r\n\r\n***ServiceMethod:***\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class CategoryService {\r\n\r\n    private final CategoryRepository categoryRepository;\r\n    private final CategoryRequestMapper categoryRequestMapper;\r\n\r\n    public CommandResponse create(CategoryRequest request) {\r\n\r\n        // !!! categoryRequestMapper is null\r\n        final Category category = categoryRequestMapper.toEntity(request);\r\n        categoryRepository.save(category);\r\n        return CommandResponse.builder().id(category.getId()).build();\r\n    }\r\n}\r\n```\r\n\r\nSo, should I also stub `categoryRequestMapper` in the test method? \r\n\r\n\r\n\r\n\r\n**Update:***\r\n\r\n```\r\n@SpringBootTest(classes = {CategoryController.class, CategoryService.class, CategoryResponseMapperImpl.class})\r\nclass CategoryControllerTest {\r\n\r\n    @Autowired\r\n    private CategoryController categoryController;\r\n\r\n    @MockBean\r\n    private CategoryRepository categoryRepository;\r\n\r\n    @MockBean\r\n    private CategoryService categoryService;\r\n\r\n    @Spy\r\n    // @SpyBean\r\n    public CategoryResponseMapper categoryResponseMapper = new CategoryResponseMapperImpl();\r\n\r\n    @Test\r\n    void test_findById() throws Exception {\r\n        LocalDateTime dateTime = LocalDate.of(2022, 1, 1).atStartOfDay();\r\n\r\n        Category category = new Category();\r\n        category.setId(123L);\r\n        category.setName(&quot;Category&quot;);\r\n        category.setOrdinal(1);\r\n\r\n        when(clock.instant()).thenReturn(dateTime.atZone(ZoneId.of(&quot;UTC&quot;)).toInstant());\r\n        when(categoryRepository.findById(any())).thenReturn(Optional.of(category));\r\n\r\n        MockHttpServletRequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/api/v1/categories/{id}&quot;, 123L);\r\n        MockMvcBuilders.standaloneSetup(categoryController)\r\n                .build()\r\n                .perform(requestBuilder)\r\n                .andExpect(MockMvcResultMatchers.status().isOk())\r\n                .andExpect(MockMvcResultMatchers.content().contentType(&quot;application/json&quot;))\r\n                .andExpect(MockMvcResultMatchers.content()\r\n                        .string(\r\n                                &quot;{\\&quot;timestamp\\&quot;:1640995200000,\\&quot;message\\&quot;:\\&quot;Success\\&quot;,\\&quot;data\\&quot;:{\\&quot;id\\&quot;:123,\\&quot;name\\&quot;:\\&quot;Category\\&quot;,\\&quot;ordinal\\&quot;:1}}&quot;));\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@GetMapping(&quot;/categories/{id}&quot;)\r\npublic ResponseEntity&lt;ApiResponse&lt;CategoryResponse&gt;&gt; findById(@PathVariable long id) {\r\n    final CategoryResponse response = categoryService.findById(id);\r\n    return ResponseEntity.ok(new ApiResponse&lt;&gt;(Instant.now(clock).toEpochMilli(), SUCCESS, response));\r\n}\r\n```\r\n\r\n```\r\nprivate final CategoryRepository categoryRepository;\r\nprivate final CategoryRequestMapper categoryRequestMapper;\r\nprivate final CategoryResponseMapper categoryResponseMapper;\r\n\r\npublic CategoryResponse findById(Long id) {\r\n    return categoryRepository.findById(id)\r\n            .map(categoryResponseMapper::toDto)\r\n            .orElseThrow(() -&gt; {\r\n                return new NoSuchElementFoundException(NOT_FOUND);\r\n            });\r\n}\r\n```","title":"Cannot use MapStruct in Unit Test for a service method","body":"<p>I write unit test for testing mappings and it works without any problem. However, when I try to test a service method that makes mapping via MapperStruct, the mapper instance throws &quot;<em>Null pointer exception</em>&quot;. Here is the approach I am following (before that, I have tried many different ways as suggested on Stackoverflow, but none of them has worked :(</p>\n<p><em><strong>UnitTest:</strong></em></p>\n<pre><code>@SpringBootTest // ???\n@ExtendWith(MockitoExtension.class)\nclass CategoryServiceTest {\n\n    @InjectMocks\n    private CategoryService service;\n\n    @Mock\n    private CategoryRepository categoryRepository;\n\n    @Mock\n    public CategoryRequestMapper categoryRequestMapper;\n\n\n    @ParameterizedTest\n    @CsvFileSource(resources = &quot;/data/categories.csv&quot;)\n    void test_create(Long id, String name, Integer ordinal) {\n        CategoryRequest request = new CategoryRequest(id, name, ordinal);\n           when(categoryRepository.existsByNameIgnoreCase(request.getName()))\n    .thenReturn(false);\n\n        service.create(request);\n\n        // validations ...\n    }\n}\n</code></pre>\n<p><em><strong>ServiceMethod:</strong></em></p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class CategoryService {\n\n    private final CategoryRepository categoryRepository;\n    private final CategoryRequestMapper categoryRequestMapper;\n\n    public CommandResponse create(CategoryRequest request) {\n\n        // !!! categoryRequestMapper is null\n        final Category category = categoryRequestMapper.toEntity(request);\n        categoryRepository.save(category);\n        return CommandResponse.builder().id(category.getId()).build();\n    }\n}\n</code></pre>\n<p>So, should I also stub <code>categoryRequestMapper</code> in the test method?</p>\n<p><strong>Update:</strong>*</p>\n<pre><code>@SpringBootTest(classes = {CategoryController.class, CategoryService.class, CategoryResponseMapperImpl.class})\nclass CategoryControllerTest {\n\n    @Autowired\n    private CategoryController categoryController;\n\n    @MockBean\n    private CategoryRepository categoryRepository;\n\n    @MockBean\n    private CategoryService categoryService;\n\n    @Spy\n    // @SpyBean\n    public CategoryResponseMapper categoryResponseMapper = new CategoryResponseMapperImpl();\n\n    @Test\n    void test_findById() throws Exception {\n        LocalDateTime dateTime = LocalDate.of(2022, 1, 1).atStartOfDay();\n\n        Category category = new Category();\n        category.setId(123L);\n        category.setName(&quot;Category&quot;);\n        category.setOrdinal(1);\n\n        when(clock.instant()).thenReturn(dateTime.atZone(ZoneId.of(&quot;UTC&quot;)).toInstant());\n        when(categoryRepository.findById(any())).thenReturn(Optional.of(category));\n\n        MockHttpServletRequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/api/v1/categories/{id}&quot;, 123L);\n        MockMvcBuilders.standaloneSetup(categoryController)\n                .build()\n                .perform(requestBuilder)\n                .andExpect(MockMvcResultMatchers.status().isOk())\n                .andExpect(MockMvcResultMatchers.content().contentType(&quot;application/json&quot;))\n                .andExpect(MockMvcResultMatchers.content()\n                        .string(\n                                &quot;{\\&quot;timestamp\\&quot;:1640995200000,\\&quot;message\\&quot;:\\&quot;Success\\&quot;,\\&quot;data\\&quot;:{\\&quot;id\\&quot;:123,\\&quot;name\\&quot;:\\&quot;Category\\&quot;,\\&quot;ordinal\\&quot;:1}}&quot;));\n    }\n}\n</code></pre>\n<pre><code>@GetMapping(&quot;/categories/{id}&quot;)\npublic ResponseEntity&lt;ApiResponse&lt;CategoryResponse&gt;&gt; findById(@PathVariable long id) {\n    final CategoryResponse response = categoryService.findById(id);\n    return ResponseEntity.ok(new ApiResponse&lt;&gt;(Instant.now(clock).toEpochMilli(), SUCCESS, response));\n}\n</code></pre>\n<pre><code>private final CategoryRepository categoryRepository;\nprivate final CategoryRequestMapper categoryRequestMapper;\nprivate final CategoryResponseMapper categoryResponseMapper;\n\npublic CategoryResponse findById(Long id) {\n    return categoryRepository.findById(id)\n            .map(categoryResponseMapper::toDto)\n            .orElseThrow(() -&gt; {\n                return new NoSuchElementFoundException(NOT_FOUND);\n            });\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","maven"],"answers":[{"tags":[],"owner":{"account_id":18089135,"reputation":450,"user_id":13149219,"display_name":"Utsav10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677750677,"creation_date":1677750677,"answer_id":75613754,"question_id":75611989,"body_markdown":"try returning `ResponseEntity&lt;String&gt;` as your controller output","title":"Unable to get proper response of endpoints in restful-web services","body":"<p>try returning <code>ResponseEntity&lt;String&gt;</code> as your controller output</p>\n"}],"owner":{"account_id":23586307,"reputation":1,"user_id":17624713,"display_name":"Azmat Hayat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677750677,"creation_date":1677738835,"question_id":75611989,"body_markdown":"My Rest Application is **UP** and **RUNNING** Without any error but still not getting correct output\r\nthe same project is working fine in mac book but not working in windows please help me to resolve it \r\n\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class UserController {\r\n\t\r\n\t\r\n\t@GetMapping(&quot;/hello&quot;)\r\n\tpublic String hello() {\r\n\t\t\r\n\t\treturn &quot;Hello Good Morning&quot;;\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0-M1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nwhile hitting the url:- http://localhost:8080/hello\r\ngetting below response\r\n\r\n\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nThu Mar 02 11:44:12 IST 2023\r\nThere was an unexpected error (type=Not Found, status=404).\r\n\r\n\r\n\r\nI tried in eclipse and and STS as well \r\nI also tried by changing the perspective -&gt; java to Java browsing","title":"Unable to get proper response of endpoints in restful-web services","body":"<p>My Rest Application is <strong>UP</strong> and <strong>RUNNING</strong> Without any error but still not getting correct output\nthe same project is working fine in mac book but not working in windows please help me to resolve it</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class UserController {\n    \n    \n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        \n        return &quot;Hello Good Morning&quot;;\n        \n    }\n\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0-M1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>while hitting the url:- http://localhost:8080/hello\ngetting below response</p>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Thu Mar 02 11:44:12 IST 2023\nThere was an unexpected error (type=Not Found, status=404).</p>\n<p>I tried in eclipse and and STS as well\nI also tried by changing the perspective -&gt; java to Java browsing</p>\n"},{"tags":["java","android","logging"],"comments":[{"owner":{"account_id":424143,"reputation":2103,"user_id":803975,"display_name":"whaleberg"},"score":0,"creation_date":1480606865,"post_id":40914629,"comment_id":69041611,"body_markdown":"Couldn&#39;t you leave the log statements in the code and configure the logging framework to not emit debug level logs?  The ability to configure different logging parameters in production and testing is one of the major features in almost every logging framework.","body":"Couldn&#39;t you leave the log statements in the code and configure the logging framework to not emit debug level logs?  The ability to configure different logging parameters in production and testing is one of the major features in almost every logging framework."}],"answers":[{"tags":[],"owner":{"account_id":1186977,"reputation":3351,"user_id":3361863,"accept_rate":54,"display_name":"vkislicins"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1480606879,"creation_date":1480606879,"answer_id":40914773,"question_id":40914629,"body_markdown":"You can use ProGuard to delete logs when building for release. Simply add the following to your `proguard-rules.pro`\r\n\r\n    -assumenosideeffects class android.util.Log {\r\n        public static boolean isLoggable(java.lang.String, int);\r\n        public static int v(...);\r\n        public static int i(...);\r\n        public static int d(...);\r\n    }\r\n\r\nThis will remove the logs when you&#39;re building for release. Obviously, make sure you have proguard on for release and off for debug. Also, this will keep your error logs in the app, cause you probably want those there anyway.","title":"Android Studio, delete all logs quickly from project","body":"<p>You can use ProGuard to delete logs when building for release. Simply add the following to your <code>proguard-rules.pro</code></p>\n\n<pre><code>-assumenosideeffects class android.util.Log {\n    public static boolean isLoggable(java.lang.String, int);\n    public static int v(...);\n    public static int i(...);\n    public static int d(...);\n}\n</code></pre>\n\n<p>This will remove the logs when you're building for release. Obviously, make sure you have proguard on for release and off for debug. Also, this will keep your error logs in the app, cause you probably want those there anyway.</p>\n"},{"tags":[],"owner":{"account_id":5894482,"reputation":678,"user_id":4640003,"accept_rate":50,"display_name":"megaturbo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1480606894,"creation_date":1480606894,"answer_id":40914779,"question_id":40914629,"body_markdown":"I would do that:\r\n\r\n 1. Right click on app\r\n 2.  Replace in path\r\n 3. Find : &quot;Log.d(&quot; (or whatever you need)\r\n 4. Replace with : &quot;&quot;\r\n 5. Find","title":"Android Studio, delete all logs quickly from project","body":"<p>I would do that:</p>\n\n<ol>\n<li>Right click on app</li>\n<li>Replace in path</li>\n<li>Find : \"Log.d(\" (or whatever you need)</li>\n<li>Replace with : \"\"</li>\n<li>Find</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6546218,"reputation":469,"user_id":5062157,"display_name":"Eugene Styer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1480608402,"creation_date":1480608402,"answer_id":40915279,"question_id":40914629,"body_markdown":"I&#39;ll give the Java equivalent of something I&#39;ve done in C++:\r\n\r\n    class MyLog {\r\n        static int d( String t, String m ) { return Log.d(t,m); }\r\n        // static int d( String t, String m) { return 0; }\r\n        static dx( String t, String m ) { return 0; }\r\n    \r\n        static int v( String t, String m ) { return Log.d(t,m); }\r\n        // static int v( String t, String m) { return 0; }\r\n        static vx( String t, String m ) { return 0; }\r\n    \r\n        ...\r\n    }\r\n\r\nIn my program I use:\r\n\r\nMyLog.d( TAG, &quot;Message&quot; );\r\n\r\nNow if I want to disable logging entirely, then I can go to the MyLog class and simply comment out the first (real) entry, and uncomment the dummy line. If I want to disable a specific entry, then change &quot;.d&quot; to &quot;.dx&quot; and the log entry stays in the source in case I want to enable it later.","title":"Android Studio, delete all logs quickly from project","body":"<p>I'll give the Java equivalent of something I've done in C++:</p>\n\n<pre><code>class MyLog {\n    static int d( String t, String m ) { return Log.d(t,m); }\n    // static int d( String t, String m) { return 0; }\n    static dx( String t, String m ) { return 0; }\n\n    static int v( String t, String m ) { return Log.d(t,m); }\n    // static int v( String t, String m) { return 0; }\n    static vx( String t, String m ) { return 0; }\n\n    ...\n}\n</code></pre>\n\n<p>In my program I use:</p>\n\n<p>MyLog.d( TAG, \"Message\" );</p>\n\n<p>Now if I want to disable logging entirely, then I can go to the MyLog class and simply comment out the first (real) entry, and uncomment the dummy line. If I want to disable a specific entry, then change \".d\" to \".dx\" and the log entry stays in the source in case I want to enable it later.</p>\n"},{"tags":[],"owner":{"account_id":13919619,"reputation":684,"user_id":10050419,"display_name":"Ronny Bigler"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578220941,"creation_date":1577962567,"answer_id":59562151,"question_id":40914629,"body_markdown":"my Way:\r\n\r\n**1)** enable Column Selection Mode (`alt+shift+insert`)\r\n\r\n**2)** select on one LOG.d(TAG, &quot;text&quot;); the part &#39;LOG.&#39;\r\n\r\n**3)** then do `shift + ctrl + alt + j`\r\n\r\n**4)** click left arrow\r\n\r\n**5)** do shift+end\r\n\r\n**6)** hit delete.\r\n\r\nthis removes all LOG calls at once in a java file.","title":"Android Studio, delete all logs quickly from project","body":"<p>my Way:</p>\n\n<p><strong>1)</strong> enable Column Selection Mode (<code>alt+shift+insert</code>)</p>\n\n<p><strong>2)</strong> select on one LOG.d(TAG, \"text\"); the part 'LOG.'</p>\n\n<p><strong>3)</strong> then do <code>shift + ctrl + alt + j</code></p>\n\n<p><strong>4)</strong> click left arrow</p>\n\n<p><strong>5)</strong> do shift+end</p>\n\n<p><strong>6)</strong> hit delete.</p>\n\n<p>this removes all LOG calls at once in a java file.</p>\n"},{"tags":[],"owner":{"account_id":5867720,"reputation":527,"user_id":4621089,"accept_rate":73,"display_name":"Afshin Izadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677750026,"creation_date":1677750026,"answer_id":75613638,"question_id":40914629,"body_markdown":"Press \r\n\r\n    ctrl+shift+r\r\n\r\nThen enable Regex button in the opned window, its like \r\n\r\n&gt; .*\r\n\r\nWrite \r\n \r\n\r\n    Log.[edivw]\\(.*;\r\n\r\nIn the first textbox\r\n\r\nAnd be sure the second textbook is empty, then press replace all\r\n\r\n*But recommend just replace Log. with //Log.\r\nBy this you just comment all logs.\r\n","title":"Android Studio, delete all logs quickly from project","body":"<p>Press</p>\n<pre><code>ctrl+shift+r\n</code></pre>\n<p>Then enable Regex button in the opned window, its like</p>\n<blockquote>\n<p>.*</p>\n</blockquote>\n<p>Write</p>\n<pre><code>Log.[edivw]\\(.*;\n</code></pre>\n<p>In the first textbox</p>\n<p>And be sure the second textbook is empty, then press replace all</p>\n<p>*But recommend just replace Log. with //Log.\nBy this you just comment all logs.</p>\n"}],"owner":{"account_id":6015349,"reputation":368,"user_id":4724407,"accept_rate":25,"display_name":"Alexey Simchenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2929,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1677750026,"creation_date":1480606484,"question_id":40914629,"body_markdown":"When I work with big project I often use logs in development branch. But I don&#39;t want to have logs in release/master branches. When I am doing some card I use 10-50 logs depending on the difficulty of the task.\r\nIt takes 2-5 min to delete 50 logs in different classes. It&#39;s not a lot compared with a time of fulfilling of a task but I want to reduce this time.\r\n\r\nFor example I have logs like this:\r\n\r\n    Log.d(TAG, &quot;Method: constantScrolling&quot;);\r\n....\r\n\r\n    Log.d(TAG, &quot;constantScrolling 2609 scrollTimer.cancel&quot;);\r\n\r\n\r\n\r\n\r\nThey all have the same beginning - Log.d(TAG\r\n\r\nTo find all logs to delete I use this: in java class &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; -&gt; insert Log.d(TAG -&gt; press arrow down -&gt; press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Y&lt;/kbd&gt; on every log.\r\nSo, I quickly delete all logs which having the same beginning Log.d(TAG\r\n\r\nIs there a way to do that quicker? \r\nFor example if there are some equal strings to delete I can use: right click on app -&gt; Replace in path.. -&gt; Text to find: Log.d(TAG, &quot;Method: constantScrolling&quot;); -&gt; Replace with: (empty) -&gt; Find\r\nSo, in some seconds I can delete equal strings on whole project.\r\nMaybe there is some combination for deleting strings that having the same beginning?","title":"Android Studio, delete all logs quickly from project","body":"<p>When I work with big project I often use logs in development branch. But I don't want to have logs in release/master branches. When I am doing some card I use 10-50 logs depending on the difficulty of the task.\nIt takes 2-5 min to delete 50 logs in different classes. It's not a lot compared with a time of fulfilling of a task but I want to reduce this time.</p>\n\n<p>For example I have logs like this:</p>\n\n<pre><code>Log.d(TAG, \"Method: constantScrolling\");\n</code></pre>\n\n<p>....</p>\n\n<pre><code>Log.d(TAG, \"constantScrolling 2609 scrollTimer.cancel\");\n</code></pre>\n\n<p>They all have the same beginning - Log.d(TAG</p>\n\n<p>To find all logs to delete I use this: in java class <kbd>Ctrl</kbd>+<kbd>F</kbd> -> insert Log.d(TAG -> press arrow down -> press <kbd>Ctrl</kbd>+<kbd>Y</kbd> on every log.\nSo, I quickly delete all logs which having the same beginning Log.d(TAG</p>\n\n<p>Is there a way to do that quicker? \nFor example if there are some equal strings to delete I can use: right click on app -> Replace in path.. -> Text to find: Log.d(TAG, \"Method: constantScrolling\"); -> Replace with: (empty) -> Find\nSo, in some seconds I can delete equal strings on whole project.\nMaybe there is some combination for deleting strings that having the same beginning?</p>\n"},{"tags":["java","android","android-studio","play-billing-library","google-play-billing"],"answers":[{"tags":[],"owner":{"account_id":4093834,"reputation":1,"user_id":3361173,"display_name":"D.Djaber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677749770,"creation_date":1677749770,"answer_id":75613591,"question_id":74751143,"body_markdown":"To check if user has bought a subscription use  queryPurchasesAsync() function.","title":"Check if the user has bought subscription in android java","body":"<p>To check if user has bought a subscription use  queryPurchasesAsync() function.</p>\n"}],"owner":{"account_id":27044541,"reputation":13,"user_id":20598914,"display_name":"IT Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677749770,"creation_date":1670657262,"question_id":74751143,"body_markdown":"How do I write a function that checks whether a user has bought a subscription or not whenever my App opens?\r\n\r\nThese function only tells that the user successfully bought the subscription or cancel the procedure during the payment procedure.\r\n\r\n    private PurchasesUpdatedListener purchasesUpdatedListener = new PurchasesUpdatedListener() {\r\n        @Override\r\n        public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n            // To be implemented in a later section.\r\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null) {\r\n                for (Purchase purchase : purchases) {\r\n                    handlePurchase(purchase);\r\n                    Log.d(&quot;purchaseListners&quot;, purchase.toString());\r\n                }\r\n                Log.d(&quot;purchaseListners&quot;, &quot;true&quot;);\r\n    \r\n         \r\n    \r\n            } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED){\r\n                // Handle an error caused by a user cancelling the purchase flow.\r\n                Log.d(&quot;purchaseListners&quot;, &quot;false&quot;);\r\n                Constant.subscription = false;\r\n            } else {\r\n                Log.d(&quot;purchaseListners&quot;, &quot;shh&quot;);\r\n            }\r\n    \r\n        }\r\n    };\r\n\r\n\r\n    void handlePurchase(Purchase purchase) {\r\n        ConsumeParams consumeParams =\r\n                ConsumeParams.newBuilder()\r\n                        .setPurchaseToken(purchase.getPurchaseToken())\r\n                        .build();\r\n    \r\n        ConsumeResponseListener listener = new ConsumeResponseListener() {\r\n            @Override\r\n            public void onConsumeResponse(BillingResult billingResult, String purchaseToken) {\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                    Constant.subscription = true;\r\n                    // Handle the success of the consume operation.\r\n\r\n                    Log.d(&quot;purchaseListners&quot;, billingResult.toString());\r\n                }\r\n            }\r\n        };\r\n    \r\n        billingClient.consumeAsync(consumeParams, listener);\r\n    }","title":"Check if the user has bought subscription in android java","body":"<p>How do I write a function that checks whether a user has bought a subscription or not whenever my App opens?</p>\n<p>These function only tells that the user successfully bought the subscription or cancel the procedure during the payment procedure.</p>\n<pre><code>private PurchasesUpdatedListener purchasesUpdatedListener = new PurchasesUpdatedListener() {\n    @Override\n    public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n        // To be implemented in a later section.\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null) {\n            for (Purchase purchase : purchases) {\n                handlePurchase(purchase);\n                Log.d(&quot;purchaseListners&quot;, purchase.toString());\n            }\n            Log.d(&quot;purchaseListners&quot;, &quot;true&quot;);\n\n     \n\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED){\n            // Handle an error caused by a user cancelling the purchase flow.\n            Log.d(&quot;purchaseListners&quot;, &quot;false&quot;);\n            Constant.subscription = false;\n        } else {\n            Log.d(&quot;purchaseListners&quot;, &quot;shh&quot;);\n        }\n\n    }\n};\n\n\nvoid handlePurchase(Purchase purchase) {\n    ConsumeParams consumeParams =\n            ConsumeParams.newBuilder()\n                    .setPurchaseToken(purchase.getPurchaseToken())\n                    .build();\n\n    ConsumeResponseListener listener = new ConsumeResponseListener() {\n        @Override\n        public void onConsumeResponse(BillingResult billingResult, String purchaseToken) {\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                Constant.subscription = true;\n                // Handle the success of the consume operation.\n\n                Log.d(&quot;purchaseListners&quot;, billingResult.toString());\n            }\n        }\n    };\n\n    billingClient.consumeAsync(consumeParams, listener);\n}\n</code></pre>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1599564397,"post_id":63792686,"comment_id":112806479,"body_markdown":"There is a mismatch between the version of `JSONArray` that you compiled against and the one that you are using at runtime.","body":"There is a mismatch between the version of <code>JSONArray</code> that you compiled against and the one that you are using at runtime."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599565202,"creation_date":1599565202,"answer_id":63793132,"question_id":63792686,"body_markdown":"&gt; Any idea why I am having this error ?\r\n\r\nThere is a mismatch between the version of `JSONArray` that you compiled against and the one that you are using at runtime.  That causes the error.\r\n\r\nAccording to the [javadoc][1] for the 20160810 version in your POM file, there is a `forEach` method on `org.json.JSONArray` that is defined by the `Iterable` interface.  \r\n\r\nHowever it is clear from the exception that the version of `JSONArray` that you are using at runtime does not have that method.\r\n\r\nNote that the method is not present in the Android version (see https://developer.android.com/reference/org/json/JSONArray) and won&#39;t be present in versions prior to Java 8 ... because Java 7 `Iterable` doesn&#39;t have a `forEach` method ([javadoc][2]).\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.json/json/20160810/org/json/JSONArray.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html","title":"NoSuchMethodError in JAVA when using forEach Method","body":"<blockquote>\n<p>Any idea why I am having this error ?</p>\n</blockquote>\n<p>There is a mismatch between the version of <code>JSONArray</code> that you compiled against and the one that you are using at runtime.  That causes the error.</p>\n<p>According to the <a href=\"https://javadoc.io/doc/org.json/json/20160810/org/json/JSONArray.html\" rel=\"nofollow noreferrer\">javadoc</a> for the 20160810 version in your POM file, there is a <code>forEach</code> method on <code>org.json.JSONArray</code> that is defined by the <code>Iterable</code> interface.</p>\n<p>However it is clear from the exception that the version of <code>JSONArray</code> that you are using at runtime does not have that method.</p>\n<p>Note that the method is not present in the Android version (see <a href=\"https://developer.android.com/reference/org/json/JSONArray\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/org/json/JSONArray</a>) and won't be present in versions prior to Java 8 ... because Java 7 <code>Iterable</code> doesn't have a <code>forEach</code> method (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">javadoc</a>).</p>\n"},{"tags":[],"owner":{"account_id":10035537,"reputation":66,"user_id":7420332,"display_name":"vikas dl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599568631,"creation_date":1599568631,"answer_id":63794111,"question_id":63792686,"body_markdown":"Check for correct import statement.Your Code seems fine.\r\nI did quick check in Eclipse works fine.\r\n\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t  \r\n    \t\t\t\tJSONObject jo =   new JSONObject(5);\r\n    \t\t\t\tjo.put(&quot;red&quot;,new JSONArray(List.of(1,2,3,4,5)));\r\n    \t\t\t\tjo.put(&quot;blue&quot;, &quot;green&quot;);\r\n    \r\n    \t     \r\n    \t      \r\n    \t      jo.getJSONArray(&quot;red&quot;).forEach(item -&gt; {String var = item.toString();});\r\n    \r\n    \t}\r\n    \r\n    }","title":"NoSuchMethodError in JAVA when using forEach Method","body":"<p>Check for correct import statement.Your Code seems fine.\nI did quick check in Eclipse works fine.</p>\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONObject;\n\npublic class Test {\n\n    public static void main(String[] args) {\n          \n                JSONObject jo =   new JSONObject(5);\n                jo.put(&quot;red&quot;,new JSONArray(List.of(1,2,3,4,5)));\n                jo.put(&quot;blue&quot;, &quot;green&quot;);\n\n         \n          \n          jo.getJSONArray(&quot;red&quot;).forEach(item -&gt; {String var = item.toString();});\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8998843,"reputation":21,"user_id":6708140,"display_name":"Ratheesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645602970,"creation_date":1645212174,"answer_id":71178839,"question_id":63792686,"body_markdown":"This is because while running, the jar is picking from the jar folder of Spark, inorder to override this, specify the jar in --jar of spark submit and also add conf like this :\r\n\r\n    --conf spark.driver.extraClassPath=json-20200518.jar \r\n    --conf spark.executor.extraClassPath=json-20200518.jar\r\n\r\nhttps://hadoopsters.com/2019/05/08/how-to-override-a-spark-dependency-in-client-or-cluster-mode/","title":"NoSuchMethodError in JAVA when using forEach Method","body":"<p>This is because while running, the jar is picking from the jar folder of Spark, inorder to override this, specify the jar in --jar of spark submit and also add conf like this :</p>\n<pre><code>--conf spark.driver.extraClassPath=json-20200518.jar \n--conf spark.executor.extraClassPath=json-20200518.jar\n</code></pre>\n<p><a href=\"https://hadoopsters.com/2019/05/08/how-to-override-a-spark-dependency-in-client-or-cluster-mode/\" rel=\"nofollow noreferrer\">https://hadoopsters.com/2019/05/08/how-to-override-a-spark-dependency-in-client-or-cluster-mode/</a></p>\n"},{"tags":[],"owner":{"account_id":10390033,"reputation":76,"user_id":7661683,"display_name":"Radzivon Hrechukha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677749762,"creation_date":1677749762,"answer_id":75613590,"question_id":63792686,"body_markdown":"I have faced the same problem while running my Spring Boot application together with [Spring Boot Configuration Properties Migrator][1].\r\nThe problem is correctly described [in the answer by Stephen C][2] : Spring Boot Migrator depends on old JSON handling library - `android-json:0.0.20131108.vaadin1` and another library in my application depends on newer `json:20210307`. \r\n\r\nThe solution for this case is to add the Migrator library excluding the old JSON handling library to avoid later loading of classes from it during runtime:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-properties-migrator\r\n  [2]: https://stackoverflow.com/questions/63792686/nosuchmethoderror-in-java-when-using-foreach-method/63793132#63793132","title":"NoSuchMethodError in JAVA when using forEach Method","body":"<p>I have faced the same problem while running my Spring Boot application together with <a href=\"https://www.baeldung.com/spring-boot-properties-migrator\" rel=\"nofollow noreferrer\">Spring Boot Configuration Properties Migrator</a>.\nThe problem is correctly described <a href=\"https://stackoverflow.com/questions/63792686/nosuchmethoderror-in-java-when-using-foreach-method/63793132#63793132\">in the answer by Stephen C</a> : Spring Boot Migrator depends on old JSON handling library - <code>android-json:0.0.20131108.vaadin1</code> and another library in my application depends on newer <code>json:20210307</code>.</p>\n<p>The solution for this case is to add the Migrator library excluding the old JSON handling library to avoid later loading of classes from it during runtime:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18258323,"reputation":109,"user_id":13291702,"display_name":"Neha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1677749762,"creation_date":1599563456,"question_id":63792686,"body_markdown":"I have below code snipet : \r\n\r\n    JSONArray processNodes = new JSONObject(customCon.geteOutput())\r\n    \t\t\t\t\t\t.getJSONArray(&quot;process-node&quot;);\r\n    processNodes.forEach(item -&gt; {JSONObject node = (JSONObject) item;});\r\n\r\nI added dependency in pom.xml as : \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20160810&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut runtime it gives error as java.lang.NoSuchMethodError :org.json.JSONArray.forEach(Ljava/util/function/Consumer;)\r\n\r\nAny idea why i am having this error ?\r\n\r\n","title":"NoSuchMethodError in JAVA when using forEach Method","body":"<p>I have below code snipet :</p>\n<pre><code>JSONArray processNodes = new JSONObject(customCon.geteOutput())\n                        .getJSONArray(&quot;process-node&quot;);\nprocessNodes.forEach(item -&gt; {JSONObject node = (JSONObject) item;});\n</code></pre>\n<p>I added dependency in pom.xml as :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20160810&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But runtime it gives error as java.lang.NoSuchMethodError :org.json.JSONArray.forEach(Ljava/util/function/Consumer;)</p>\n<p>Any idea why i am having this error ?</p>\n"},{"tags":["java","spring-boot","data-migration"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":2,"creation_date":1677749997,"post_id":75613567,"comment_id":133400569,"body_markdown":"This is not a suitable question for this page. Please do some research on your own first and then ask again if you&#39;re stuck. You could start improving this question by e.g. providing us with _how_ you even want to validate the records; by checking every single value to the corresponding value in the other DB? A normal job should do the trick :)","body":"This is not a suitable question for this page. Please do some research on your own first and then ask again if you&#39;re stuck. You could start improving this question by e.g. providing us with <i>how</i> you even want to validate the records; by checking every single value to the corresponding value in the other DB? A normal job should do the trick :)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677755208,"post_id":75613567,"comment_id":133402146,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":11562818,"reputation":1,"user_id":8472044,"display_name":"Manjunath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677749641,"creation_date":1677749641,"question_id":75613567,"body_markdown":"Hi We have recently migrated the data from postgres to mongo db with some additional columns in mongo db.\r\nWe have migrated around 150M records . \r\n\r\nIs there anyway I can validate the data ( not 150M but atleast some data) using spring boot.","title":"How to validate the data from postgres to mongodb","body":"<p>Hi We have recently migrated the data from postgres to mongo db with some additional columns in mongo db.\nWe have migrated around 150M records .</p>\n<p>Is there anyway I can validate the data ( not 150M but atleast some data) using spring boot.</p>\n"},{"tags":["java","android-studio","apk"],"answers":[{"tags":[],"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677749555,"creation_date":1677749555,"answer_id":75613551,"question_id":75613293,"body_markdown":"If i am getting it right, you transported the .apk file to your phone and tried to open it there. First of all, you need an android phone. There you navigate to the play store and download the &quot;APK Installer&quot; app. Open this app and install your .apk file like instructed there, hope i could help.","title":"Cannot open apk after install","body":"<p>If i am getting it right, you transported the .apk file to your phone and tried to open it there. First of all, you need an android phone. There you navigate to the play store and download the &quot;APK Installer&quot; app. Open this app and install your .apk file like instructed there, hope i could help.</p>\n"}],"owner":{"account_id":24206884,"reputation":11,"user_id":18163944,"display_name":"Alex Montsarj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677749555,"creation_date":1677747990,"question_id":75613293,"body_markdown":"I developed an android studio application with custom chrome tab for my website.\r\n\r\n\r\n```\r\npublic class AnnaStudio {\r\n    String url = &quot;https://www.example.com/&quot;;\r\n    CustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\r\n    CustomTabsIntent customTabsIntent = builder.build();\r\n    customTabsIntent.launchUrl(this, Uri.parse(url));\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &quot;androidx.browser:browser:1.4.0&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\n\r\n[![Cannot run the app after install](https://i.stack.imgur.com/XUv9u.jpg)](https://i.stack.imgur.com/XUv9u.jpg)\r\n\r\n\r\nI tried building both as debug and as a signed release.\r\n\r\nI followed https://stackoverflow.com/questions/49629821/cant-open-to-install-apk-built-from-android-studio But it seems to address other issue, and the solutions weren&#39;t good for me.\r\n","title":"Cannot open apk after install","body":"<p>I developed an android studio application with custom chrome tab for my website.</p>\n<pre><code>public class AnnaStudio {\n    String url = &quot;https://www.example.com/&quot;;\n    CustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\n    CustomTabsIntent customTabsIntent = builder.build();\n    customTabsIntent.launchUrl(this, Uri.parse(url));\n\n}\n</code></pre>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation &quot;androidx.browser:browser:1.4.0&quot;\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XUv9u.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XUv9u.jpg\" alt=\"Cannot run the app after install\" /></a></p>\n<p>I tried building both as debug and as a signed release.</p>\n<p>I followed <a href=\"https://stackoverflow.com/questions/49629821/cant-open-to-install-apk-built-from-android-studio\">can&#39;t open (to install) apk built from android studio</a> But it seems to address other issue, and the solutions weren't good for me.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3817409,"reputation":12833,"user_id":3166417,"accept_rate":39,"display_name":"itzhar"},"score":0,"creation_date":1530614029,"post_id":51152228,"comment_id":89288114,"body_markdown":"add all items to the menu and change their visibility according to your needs. i don&#39;t think u can change the text","body":"add all items to the menu and change their visibility according to your needs. i don&#39;t think u can change the text"},{"owner":{"account_id":9168132,"reputation":517,"user_id":6816893,"display_name":"Anjani Mittal"},"score":0,"creation_date":1530615331,"post_id":51152228,"comment_id":89288948,"body_markdown":"refer to this https://stackoverflow.com/questions/7066657/android-how-to-dynamically-change-menu-item-text-outside-of-onoptionsitemssele","body":"refer to this <a href=\"https://stackoverflow.com/questions/7066657/android-how-to-dynamically-change-menu-item-text-outside-of-onoptionsitemssele\" title=\"android how to dynamically change menu item text outside of onoptionsitemssele\">stackoverflow.com/questions/7066657/&hellip;</a>"},{"owner":{"display_name":"user8959091"},"score":0,"creation_date":1530616767,"post_id":51152228,"comment_id":89289817,"body_markdown":"Where do you click? Is it a ListView or RecyclerView item, or a simple view like a TextView?","body":"Where do you click? Is it a ListView or RecyclerView item, or a simple view like a TextView?"}],"answers":[{"tags":[],"owner":{"account_id":4363176,"reputation":1175,"user_id":3559661,"display_name":"vbp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530613902,"creation_date":1530613902,"answer_id":51152358,"question_id":51152228,"body_markdown":"Inflate another menu when showing popup again.\r\n\r\n   \r\n\r\n      public void showPopup(View v) {\r\n        Context wrapper = new ContextThemeWrapper(this, R.style.PopupPerfilAjeno);\r\n        PopupMenu popup = new PopupMenu(wrapper, v);\r\n        popup.setOnMenuItemClickListener(this);\r\n        if (condition) popup.inflate(R.menu.menu);\r\n        else popup.inflate(R.menu.menu2);\r\n        popup.show();\r\n\r\n        menuOpts = popup.getMenu();\r\n    }","title":"Change PopupMenu items&#39; title programmatically","body":"<p>Inflate another menu when showing popup again.</p>\n\n<pre><code>  public void showPopup(View v) {\n    Context wrapper = new ContextThemeWrapper(this, R.style.PopupPerfilAjeno);\n    PopupMenu popup = new PopupMenu(wrapper, v);\n    popup.setOnMenuItemClickListener(this);\n    if (condition) popup.inflate(R.menu.menu);\n    else popup.inflate(R.menu.menu2);\n    popup.show();\n\n    menuOpts = popup.getMenu();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5746592,"reputation":954,"user_id":4537666,"accept_rate":77,"display_name":"guillefix"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1530616839,"creation_date":1530616839,"answer_id":51153331,"question_id":51152228,"body_markdown":"I&#39;ve found a solution. I added 4 boolean variables and modified the showPopup and addContact methods like this:\r\n\r\n\r\n    private boolean friend, workmate, neighbour, fan;\r\n    \r\n    public void showPopup(View v) {\r\n        Context wrapper = new ContextThemeWrapper(this, R.style.PopupPerfilAjeno);\r\n        PopupMenu popup = new PopupMenu(wrapper, v);\r\n        popup.setOnMenuItemClickListener(this);\r\n        popup.inflate(R.menu.menu);\r\n\r\n        Menu menuOpts = popup.getMenu();\r\n\r\n        if (friend) {\r\n            menuOpts.getItem(0).setTitle(R.string.remove_friends);\r\n        }\r\n        if (workmate) {\r\n            menuOpts.getItem(1).setTitle(R.string.remove_workamtes);\r\n        }\r\n        if (neighbour) {\r\n            menuOpts.getItem(2).setTitle(R.string.remove_neighbours);\r\n        }\r\n        if (fan) {\r\n            menuOpts.getItem(3).setTitle(R.string.remove_fans);\r\n        }\r\n\r\n        popup.show();\r\n    }\r\n\r\n    private void addContact(final int circle) {\r\n    \r\n        switch (circle) {\r\n            case 1:\r\n                 friend = true;\r\n                 workmate = false;\r\n                 neighbour = false;\r\n                 fan = false;\r\n                 break;\r\n            case 2:\r\n                 friend = false;\r\n                 workmate = true;\r\n                 neighbour = false;\r\n                 fan = false;\r\n                 break;\r\n            case 3:\r\n                 friend = false;\r\n                 workmate = false;\r\n                 neighbour = true;\r\n                 fan = false;\r\n                 break;\r\n            case 4:\r\n                 friend = false;\r\n                 workmate = false;\r\n                 neighbour = false;\r\n                 fan = true;\r\n                 break;\r\n         }\r\n     }","title":"Change PopupMenu items&#39; title programmatically","body":"<p>I've found a solution. I added 4 boolean variables and modified the showPopup and addContact methods like this:</p>\n\n<pre><code>private boolean friend, workmate, neighbour, fan;\n\npublic void showPopup(View v) {\n    Context wrapper = new ContextThemeWrapper(this, R.style.PopupPerfilAjeno);\n    PopupMenu popup = new PopupMenu(wrapper, v);\n    popup.setOnMenuItemClickListener(this);\n    popup.inflate(R.menu.menu);\n\n    Menu menuOpts = popup.getMenu();\n\n    if (friend) {\n        menuOpts.getItem(0).setTitle(R.string.remove_friends);\n    }\n    if (workmate) {\n        menuOpts.getItem(1).setTitle(R.string.remove_workamtes);\n    }\n    if (neighbour) {\n        menuOpts.getItem(2).setTitle(R.string.remove_neighbours);\n    }\n    if (fan) {\n        menuOpts.getItem(3).setTitle(R.string.remove_fans);\n    }\n\n    popup.show();\n}\n\nprivate void addContact(final int circle) {\n\n    switch (circle) {\n        case 1:\n             friend = true;\n             workmate = false;\n             neighbour = false;\n             fan = false;\n             break;\n        case 2:\n             friend = false;\n             workmate = true;\n             neighbour = false;\n             fan = false;\n             break;\n        case 3:\n             friend = false;\n             workmate = false;\n             neighbour = true;\n             fan = false;\n             break;\n        case 4:\n             friend = false;\n             workmate = false;\n             neighbour = false;\n             fan = true;\n             break;\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5969539,"reputation":43,"user_id":4692271,"accept_rate":25,"display_name":"thefatb0b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677749034,"creation_date":1677749034,"answer_id":75613454,"question_id":51152228,"body_markdown":"kotlin solution:\r\n\r\n    var popup = PopupMenu(this,view)\r\n    popup.inflate(R.menu.my_popup)\r\n    popup.menu[0].title = &quot;custom string&quot;\r\n    popup.show()","title":"Change PopupMenu items&#39; title programmatically","body":"<p>kotlin solution:</p>\n<pre><code>var popup = PopupMenu(this,view)\npopup.inflate(R.menu.my_popup)\npopup.menu[0].title = &quot;custom string&quot;\npopup.show()\n</code></pre>\n"}],"owner":{"account_id":5746592,"reputation":954,"user_id":4537666,"accept_rate":77,"display_name":"guillefix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6181,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51153331,"answer_count":3,"score":6,"last_activity_date":1677749034,"creation_date":1530613492,"question_id":51152228,"body_markdown":"I have a PopupMenu with 4 options: add as friend, as neighbour, as workmate and as fan. What I want to do is if you click, lets say, on &quot;Add as friend&quot;, then that option changes into &quot;remove friend&quot;.\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n\r\nActivity:\r\n\r\n    private Menu menuOpts;\r\n    \r\n    public void showPopup(View v) {\r\n        Context wrapper = new ContextThemeWrapper(this, R.style.PopupPerfilAjeno);\r\n        PopupMenu popup = new PopupMenu(wrapper, v);\r\n        popup.setOnMenuItemClickListener(this);\r\n        popup.inflate(R.menu.menu);\r\n        popup.show();\r\n\r\n        menuOpts = popup.getMenu();\r\n    }\r\n\r\n    @Override\r\n    public boolean onMenuItemClick(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.add_friend:\r\n                String add_as_friend = getString(R.string.add_as_friend );\r\n\r\n                if (item.getTitle().toString().equals(add_as_friend )) {\r\n                    addContact(1, item);\r\n                }\r\n                else {\r\n                    removeContact(1, item);\r\n                }\r\n                return true;\r\n            case R.id.add_workmate:\r\n                //\r\n                return true;\r\n            case R.id.add_neighbour:\r\n                //\r\n                return true;\r\n            case R.id.add_fan:\r\n                //\r\n                return true;\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n    // circle: 1 = friend, 2 = workmate, 3 = neighbour, 4 = fan\r\n    private void addContact(final int circle, final MenuItem item) {\r\n            \r\n        switch (circle) {\r\n            case 1:\r\n                menuOpts.findItem(R.id.add_friend).setTitle(R.string.remove_friend);\r\n                 // this won&#39;t work either:\r\n                 // item.setTitle(R.string.remove_friend);\r\n                 break;\r\n            case 2:\r\n                menuOpts.findItem(R.id.add_workmate).setTitle(R.string.remove_workmate);\r\n                 break;\r\n            case 3:\r\n                menuOpts.findItem(R.id.add_neighbour).setTitle(R.string.remove_neighbour);\r\n                 break;\r\n            case 4:\r\n                menuOpts.findItem(R.id.add_fan).setTitle(R.string.remove_fan);\r\n                 break;\r\n         }\r\n     }\r\n\r\n\r\nmenu.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/add_friend&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/add_as_friend&quot;\r\n            app:showAsAction=&quot;always&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/add_workmate&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/add_as_workmate&quot;\r\n            app:showAsAction=&quot;always&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/add_neighbour&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/add_as_neighbour&quot;\r\n            app:showAsAction=&quot;always&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/add_fan&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/add_as_fan&quot;\r\n            app:showAsAction=&quot;always&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\n","title":"Change PopupMenu items&#39; title programmatically","body":"<p>I have a PopupMenu with 4 options: add as friend, as neighbour, as workmate and as fan. What I want to do is if you click, lets say, on \"Add as friend\", then that option changes into \"remove friend\".</p>\n\n<p>Here's what I've tried so far:</p>\n\n<p>Activity:</p>\n\n<pre><code>private Menu menuOpts;\n\npublic void showPopup(View v) {\n    Context wrapper = new ContextThemeWrapper(this, R.style.PopupPerfilAjeno);\n    PopupMenu popup = new PopupMenu(wrapper, v);\n    popup.setOnMenuItemClickListener(this);\n    popup.inflate(R.menu.menu);\n    popup.show();\n\n    menuOpts = popup.getMenu();\n}\n\n@Override\npublic boolean onMenuItemClick(MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.add_friend:\n            String add_as_friend = getString(R.string.add_as_friend );\n\n            if (item.getTitle().toString().equals(add_as_friend )) {\n                addContact(1, item);\n            }\n            else {\n                removeContact(1, item);\n            }\n            return true;\n        case R.id.add_workmate:\n            //\n            return true;\n        case R.id.add_neighbour:\n            //\n            return true;\n        case R.id.add_fan:\n            //\n            return true;\n        default:\n            return false;\n    }\n}\n// circle: 1 = friend, 2 = workmate, 3 = neighbour, 4 = fan\nprivate void addContact(final int circle, final MenuItem item) {\n\n    switch (circle) {\n        case 1:\n            menuOpts.findItem(R.id.add_friend).setTitle(R.string.remove_friend);\n             // this won't work either:\n             // item.setTitle(R.string.remove_friend);\n             break;\n        case 2:\n            menuOpts.findItem(R.id.add_workmate).setTitle(R.string.remove_workmate);\n             break;\n        case 3:\n            menuOpts.findItem(R.id.add_neighbour).setTitle(R.string.remove_neighbour);\n             break;\n        case 4:\n            menuOpts.findItem(R.id.add_fan).setTitle(R.string.remove_fan);\n             break;\n     }\n }\n</code></pre>\n\n<p>menu.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item\n        android:id=\"@+id/add_friend\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/add_as_friend\"\n        app:showAsAction=\"always\" /&gt;\n    &lt;item\n        android:id=\"@+id/add_workmate\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/add_as_workmate\"\n        app:showAsAction=\"always\" /&gt;\n    &lt;item\n        android:id=\"@+id/add_neighbour\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/add_as_neighbour\"\n        app:showAsAction=\"always\" /&gt;\n    &lt;item\n        android:id=\"@+id/add_fan\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/add_as_fan\"\n        app:showAsAction=\"always\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","record","java-14"],"answers":[{"tags":[],"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1601745490,"creation_date":1601745490,"answer_id":64186934,"question_id":64186922,"body_markdown":"You can do like that: \r\n\r\n    public record SomeData(@NotNull(message = &quot;Data not be null&quot;) String data) {}","title":"Java records validation anotation","body":"<p>You can do like that:</p>\n<pre><code>public record SomeData(@NotNull(message = &quot;Data not be null&quot;) String data) {}\n</code></pre>\n"}],"owner":{"account_id":16656303,"reputation":161,"user_id":14353673,"display_name":"Valdy B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14058,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":64186934,"answer_count":1,"score":8,"last_activity_date":1677748777,"creation_date":1601745392,"question_id":64186922,"body_markdown":"I have old POJO with valid annotation:\r\n```\r\npublic class SomeData {\r\n\r\n    @NotNull(message = &quot;Data not be null&quot;)\r\n    private String data;\r\n\r\n    public FormData(String data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public String getData() {\r\n        return data;\r\n    }\r\n\r\n   public String setData(String data) {\r\n        this.data = data\r\n    }\r\n    \r\n}\r\n```\r\n\r\nBut know I have `records`\r\n\r\n```\r\npublic record SomeData(String data) {}\r\n```\r\n\r\nHow I can add annotation in records?\r\n","title":"Java records validation anotation","body":"<p>I have old POJO with valid annotation:</p>\n<pre><code>public class SomeData {\n\n    @NotNull(message = &quot;Data not be null&quot;)\n    private String data;\n\n    public FormData(String data) {\n        this.data = data;\n    }\n\n    public String getData() {\n        return data;\n    }\n\n   public String setData(String data) {\n        this.data = data\n    }\n    \n}\n</code></pre>\n<p>But know I have <code>records</code></p>\n<pre><code>public record SomeData(String data) {}\n</code></pre>\n<p>How I can add annotation in records?</p>\n"},{"tags":["javascript","java","android","firebase","retrofit"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1677455851,"post_id":75575341,"comment_id":133336067,"body_markdown":"Please show the Java implementation","body":"Please show the Java implementation"},{"owner":{"account_id":20600038,"reputation":9,"user_id":15121497,"display_name":"Taha Younis"},"score":0,"creation_date":1677472583,"post_id":75575341,"comment_id":133337800,"body_markdown":"I edited the question now you can see it","body":"I edited the question now you can see it"}],"owner":{"account_id":20600038,"reputation":9,"user_id":15121497,"display_name":"Taha Younis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677748662,"creation_date":1677449888,"question_id":75575341,"body_markdown":"I Using firebase realtime database to store tokens, and I can send notification to one device which I specify it \r\nbut when I read all tokens in List of string and try to send notification to all the tokens by send the list of string it just send to one device the first\r\nany one have idea to make \r\n\r\n**API**\r\n\r\n    public interface API {\r\n    @FormUrlEncoded\r\n    @POST(&quot;send&quot;)\r\n    Call&lt;ResponseBody&gt; sendNotification(\r\n            @Field(&quot;token&quot;) List &lt;String&gt; tokens,\r\n            @Field(&quot;title&quot;) String title,\r\n            @Field(&quot;body&quot;) String body\r\n    );\r\n\r\n**Activity**\r\n\r\n     binding.btnSend.setOnClickListener(v -&gt; {\r\n            db.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot: snapshot.getChildren()){\r\n                        User_Model userModel = dataSnapshot.getValue(User_Model.class);\r\n                        tokens.add(userModel.getToken());\r\n                        // send notification to admin\r\n                        API api = retrofit.create(API.class);\r\n                        Call &lt;ResponseBody&gt; call = api.sendNotification(tokens,binding.etNotificationTitle.getText().toString(),binding.etNotificationBody.getText().toString());\r\n                        call.enqueue(new Callback &lt;ResponseBody&gt;() {\r\n                            @Override\r\n                            public void onResponse(Call &lt;ResponseBody&gt; call, Response &lt;ResponseBody&gt; response) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Call &lt;ResponseBody&gt; call, Throwable t) {\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Toast.makeText(AddNotificationActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        });\r\n\r\n**NotificationHelper**\r\n\r\n    public class NotificationHelper {\r\n\r\n    public static void displayNotification(Context context,String title, String body){\r\n        String id = &quot;my_channel_id_01&quot;;\r\n        Intent notificationIntent = new Intent(context, Cart_Fragment.class);\r\n        notificationIntent.putExtra(&quot;cartId&quot;,2);\r\n        notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context,\r\n                0,notificationIntent,0);\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context,id)\r\n                .setContentTitle(title)\r\n                .setContentText(body)\r\n                .setSmallIcon(R.drawable.img_logo)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setVibrate(new long[]{100,1000,200,340})\r\n                .setAutoCancel(false);\r\n        builder.addAction(R.drawable.img_logo,&quot;تاكيد الطلب&quot;,pendingIntent);\r\n        builder.setColor(Color.BLUE);\r\n        builder.setContentIntent(pendingIntent);\r\n\r\n        NotificationManagerCompat managerCompat= NotificationManagerCompat.from(context);\r\n        managerCompat.notify(1,builder.build());\r\n    }\r\n    }\r\n**MyFirebaseMessagingService**\r\n\r\n    public class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage message) {\r\n        super.onMessageReceived(message);\r\n\r\n        if (message.getNotification() != null){\r\n            String title = message.getNotification().getTitle();\r\n            String body = message.getNotification().getBody();\r\n\r\n            NotificationHelper.displayNotification(getApplicationContext(),title,body);\r\n        }\r\n    }\r\n    }\r\n\r\n**index.js**\r\n\r\n    const functions = require(&#39;firebase-functions&#39;);\r\n    var {google} = require(&#39;googleapis&#39;);\r\n    var MESSAGING_SCOPE = &quot;https://www.googleapis.com/auth/firebase.messaging&quot;;\r\n    var SCOPES = [MESSAGING_SCOPE];\r\n\r\n    var express = require(&#39;express&#39;);\r\n    var app = express(); \r\n\r\n    var bodyParser = require(&#39;body-parser&#39;);\r\n    var router = express.Router(); \r\n\r\n    var request = require(&#39;request&#39;);\r\n\r\n\r\n    app.use(bodyParser.urlencoded({extended:true}));\r\n    app.use(bodyParser.json());\r\n\r\n    router.post(&#39;/send&#39;, function(req, res){\r\n\r\n    getAccessToken().then(function(access_token){\r\n\r\n        var title = req.body.title; \r\n        var body = req.body.body; \r\n        var token = req.body.token; \r\n\r\n        request.post({\r\n            headers:{\r\n                Authorization: &#39;Bearer &#39;+access_token\r\n            }, \r\n            url: &quot;my url&quot;, \r\n            body: JSON.stringify(\r\n                {\r\n                    &quot;message&quot;:{\r\n                        &quot;token&quot; : token,\r\n                        &quot;notification&quot; : {\r\n                            &quot;body&quot; : body,\r\n                            &quot;title&quot; : title,\r\n                        }\r\n                    }\r\n                }\r\n            )\r\n        }, function(error, response, body){\r\n            res.end(body);\r\n            console.log(body);\r\n        });\r\n    });\r\n    });\r\n\r\n    app.use(&#39;/api&#39;, router);\r\n\r\n\r\n    function getAccessToken(){\r\n    return new Promise(function(resolve, reject){\r\n        var key = require(&quot;./service-account.json&quot;);\r\n        var jwtClient = new google.auth.JWT(\r\n            key.client_email,\r\n            null,\r\n            key.private_key,\r\n            SCOPES,\r\n            null\r\n        );\r\n        jwtClient.authorize(function(err, tokens){\r\n            if(err){\r\n                reject(err);\r\n                return; \r\n            }\r\n            resolve(tokens.access_token);\r\n        });\r\n    });\r\n    }\r\n\r\n    exports.api = functions.https.onRequest(app);\r\n\r\n","title":"send notification to all devices using FCM","body":"<p>I Using firebase realtime database to store tokens, and I can send notification to one device which I specify it\nbut when I read all tokens in List of string and try to send notification to all the tokens by send the list of string it just send to one device the first\nany one have idea to make</p>\n<p><strong>API</strong></p>\n<pre><code>public interface API {\n@FormUrlEncoded\n@POST(&quot;send&quot;)\nCall&lt;ResponseBody&gt; sendNotification(\n        @Field(&quot;token&quot;) List &lt;String&gt; tokens,\n        @Field(&quot;title&quot;) String title,\n        @Field(&quot;body&quot;) String body\n);\n</code></pre>\n<p><strong>Activity</strong></p>\n<pre><code> binding.btnSend.setOnClickListener(v -&gt; {\n        db.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot: snapshot.getChildren()){\n                    User_Model userModel = dataSnapshot.getValue(User_Model.class);\n                    tokens.add(userModel.getToken());\n                    // send notification to admin\n                    API api = retrofit.create(API.class);\n                    Call &lt;ResponseBody&gt; call = api.sendNotification(tokens,binding.etNotificationTitle.getText().toString(),binding.etNotificationBody.getText().toString());\n                    call.enqueue(new Callback &lt;ResponseBody&gt;() {\n                        @Override\n                        public void onResponse(Call &lt;ResponseBody&gt; call, Response &lt;ResponseBody&gt; response) {\n\n                        }\n\n                        @Override\n                        public void onFailure(Call &lt;ResponseBody&gt; call, Throwable t) {\n\n                        }\n                    });\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(AddNotificationActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    });\n</code></pre>\n<p><strong>NotificationHelper</strong></p>\n<pre><code>public class NotificationHelper {\n\npublic static void displayNotification(Context context,String title, String body){\n    String id = &quot;my_channel_id_01&quot;;\n    Intent notificationIntent = new Intent(context, Cart_Fragment.class);\n    notificationIntent.putExtra(&quot;cartId&quot;,2);\n    notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n    PendingIntent pendingIntent = PendingIntent.getActivity(context,\n            0,notificationIntent,0);\n\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(context,id)\n            .setContentTitle(title)\n            .setContentText(body)\n            .setSmallIcon(R.drawable.img_logo)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setVibrate(new long[]{100,1000,200,340})\n            .setAutoCancel(false);\n    builder.addAction(R.drawable.img_logo,&quot;تاكيد الطلب&quot;,pendingIntent);\n    builder.setColor(Color.BLUE);\n    builder.setContentIntent(pendingIntent);\n\n    NotificationManagerCompat managerCompat= NotificationManagerCompat.from(context);\n    managerCompat.notify(1,builder.build());\n}\n}\n</code></pre>\n<p><strong>MyFirebaseMessagingService</strong></p>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n\n@Override\npublic void onMessageReceived(@NonNull RemoteMessage message) {\n    super.onMessageReceived(message);\n\n    if (message.getNotification() != null){\n        String title = message.getNotification().getTitle();\n        String body = message.getNotification().getBody();\n\n        NotificationHelper.displayNotification(getApplicationContext(),title,body);\n    }\n}\n}\n</code></pre>\n<p><strong>index.js</strong></p>\n<pre><code>const functions = require('firebase-functions');\nvar {google} = require('googleapis');\nvar MESSAGING_SCOPE = &quot;https://www.googleapis.com/auth/firebase.messaging&quot;;\nvar SCOPES = [MESSAGING_SCOPE];\n\nvar express = require('express');\nvar app = express(); \n\nvar bodyParser = require('body-parser');\nvar router = express.Router(); \n\nvar request = require('request');\n\n\napp.use(bodyParser.urlencoded({extended:true}));\napp.use(bodyParser.json());\n\nrouter.post('/send', function(req, res){\n\ngetAccessToken().then(function(access_token){\n\n    var title = req.body.title; \n    var body = req.body.body; \n    var token = req.body.token; \n\n    request.post({\n        headers:{\n            Authorization: 'Bearer '+access_token\n        }, \n        url: &quot;my url&quot;, \n        body: JSON.stringify(\n            {\n                &quot;message&quot;:{\n                    &quot;token&quot; : token,\n                    &quot;notification&quot; : {\n                        &quot;body&quot; : body,\n                        &quot;title&quot; : title,\n                    }\n                }\n            }\n        )\n    }, function(error, response, body){\n        res.end(body);\n        console.log(body);\n    });\n});\n});\n\napp.use('/api', router);\n\n\nfunction getAccessToken(){\nreturn new Promise(function(resolve, reject){\n    var key = require(&quot;./service-account.json&quot;);\n    var jwtClient = new google.auth.JWT(\n        key.client_email,\n        null,\n        key.private_key,\n        SCOPES,\n        null\n    );\n    jwtClient.authorize(function(err, tokens){\n        if(err){\n            reject(err);\n            return; \n        }\n        resolve(tokens.access_token);\n    });\n});\n}\n\nexports.api = functions.https.onRequest(app);\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1677746863,"post_id":75612776,"comment_id":133399736,"body_markdown":"For what purpose do you need to create the `MultipartFile`?","body":"For what purpose do you need to create the <code>MultipartFile</code>?"},{"owner":{"account_id":8911546,"reputation":412,"user_id":6651590,"display_name":"Bartłomiej Adamczyk"},"score":0,"creation_date":1677747114,"post_id":75612776,"comment_id":133399802,"body_markdown":"I have a method contract that I need to maintain","body":"I have a method contract that I need to maintain"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677748531,"creation_date":1677748155,"answer_id":75613312,"question_id":75612776,"body_markdown":"You could always just implement the interface which is straight-forward in your case:\r\n```java\r\npublic class FileMultipartFile implements MultiartFile{\r\n    private Path path;\r\n    public FileMultipartFile(Path path){\r\n        this.path=path;\r\n    }\r\n    @Override \r\n    public String&#160;getName(){\r\n        return path.getFileName().toString();\r\n    }\r\n    @Override \r\n    public String&#160;getOriginalFilename() {\r\n        return getName();\r\n    }\r\n    @Override\r\n    public String&#160;getContentType() {\r\n        try{\r\n             //not ideal as mentioned in the comments of https://stackoverflow.com/a/8973468/10871900 \r\n             return Files.probeContentType(path); \r\n        }catch(IOException e){\r\n             return null;\r\n        }\r\n    }\r\n    @Override\r\n    public long&#160;getSize() {\r\n        return Files.size(path);\r\n    }\r\n    @Override\r\n    public boolean&#160;isEmpty() {\r\n        return getSize()==0;\r\n    }\r\n    @Override \r\n    public byte[]&#160;getBytes() throws IOException {\r\n        return Files.readAllBytes(path);\r\n    }\r\n    @Override \r\n    public InputStream&#160;getInputStream() throws IOException {\r\n         return Files.newInputStream(path);\r\n    }\r\n    @Override \r\n    public void&#160;transferTo(File&#160;dest) throws IOException, IllegalStateException {\r\n        transferTo(dest.toPath());\r\n    }\r\n    @Override \r\n    public void&#160;transferTo(Path&#160;dest) throws IOException, IllegalStateException {\r\n        Files.copy(path, dest);\r\n    }\r\n}\r\n```\r\n\r\nYou can create instances using `new FileMultipartFile(yourFile.toPath());`\r\n\r\nIn case you want to use a custom name, mime type or similar, you can add additional fields.","title":"How to create MultipartFile with Spring 6.x.x without using MockMultipartFile","body":"<p>You could always just implement the interface which is straight-forward in your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileMultipartFile implements MultiartFile{\n    private Path path;\n    public FileMultipartFile(Path path){\n        this.path=path;\n    }\n    @Override \n    public String getName(){\n        return path.getFileName().toString();\n    }\n    @Override \n    public String getOriginalFilename() {\n        return getName();\n    }\n    @Override\n    public String getContentType() {\n        try{\n             //not ideal as mentioned in the comments of https://stackoverflow.com/a/8973468/10871900 \n             return Files.probeContentType(path); \n        }catch(IOException e){\n             return null;\n        }\n    }\n    @Override\n    public long getSize() {\n        return Files.size(path);\n    }\n    @Override\n    public boolean isEmpty() {\n        return getSize()==0;\n    }\n    @Override \n    public byte[] getBytes() throws IOException {\n        return Files.readAllBytes(path);\n    }\n    @Override \n    public InputStream getInputStream() throws IOException {\n         return Files.newInputStream(path);\n    }\n    @Override \n    public void transferTo(File dest) throws IOException, IllegalStateException {\n        transferTo(dest.toPath());\n    }\n    @Override \n    public void transferTo(Path dest) throws IOException, IllegalStateException {\n        Files.copy(path, dest);\n    }\n}\n</code></pre>\n<p>You can create instances using <code>new FileMultipartFile(yourFile.toPath());</code></p>\n<p>In case you want to use a custom name, mime type or similar, you can add additional fields.</p>\n"}],"owner":{"account_id":8911546,"reputation":412,"user_id":6651590,"display_name":"Bartłomiej Adamczyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75613312,"answer_count":1,"score":1,"last_activity_date":1677748531,"creation_date":1677744686,"question_id":75612776,"body_markdown":"Up until Spring 5.x I was creating the multipart files that way (using now deprecated **CommonsMultipartFile**):\r\n\r\n```\r\nOutputStream outputStream;\r\nfinal DiskFileItem diskFileItem = new DiskFileItem(&quot;file&quot;, mimeType, false, fileName, fileSize, repo));\r\ntry (InputStream inputStream = new FileInputStream(actualFile)) {\r\n    outputStream = diskFileItem.getOutputStream();\r\n    IOUtils.copy(inputStream, outputStream);\r\n    return new CommonsMultipartFile(diskFileItem);\r\n} catch (Exception e) {\r\n    throw new GoogleConversionFailedException(&quot;Cannot build MultipartFile&quot;, e);\r\n}\r\n```\r\n\r\nHow to achieve the same result (create MultipartFile out of java.io.File) on Spring 6 **without using MockMultipartFile** (documentation states that it&#39;s supposed to be used for testing i *really* want to avoid that route)?","title":"How to create MultipartFile with Spring 6.x.x without using MockMultipartFile","body":"<p>Up until Spring 5.x I was creating the multipart files that way (using now deprecated <strong>CommonsMultipartFile</strong>):</p>\n<pre><code>OutputStream outputStream;\nfinal DiskFileItem diskFileItem = new DiskFileItem(&quot;file&quot;, mimeType, false, fileName, fileSize, repo));\ntry (InputStream inputStream = new FileInputStream(actualFile)) {\n    outputStream = diskFileItem.getOutputStream();\n    IOUtils.copy(inputStream, outputStream);\n    return new CommonsMultipartFile(diskFileItem);\n} catch (Exception e) {\n    throw new GoogleConversionFailedException(&quot;Cannot build MultipartFile&quot;, e);\n}\n</code></pre>\n<p>How to achieve the same result (create MultipartFile out of java.io.File) on Spring 6 <strong>without using MockMultipartFile</strong> (documentation states that it's supposed to be used for testing i <em>really</em> want to avoid that route)?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1677709025,"post_id":75608688,"comment_id":133393974,"body_markdown":"You can add the values as parameters of the bean method and use them in the creation of the appropriate class.","body":"You can add the values as parameters of the bean method and use them in the creation of the appropriate class."}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677707704,"creation_date":1677707704,"answer_id":75609390,"question_id":75608688,"body_markdown":"Spring is not going to process those annotations unless you let it do the instantiation. You will want to use the application context like so.\r\n\r\n```Java\r\n@Bean\r\npublic SomeInterface someinterface(){\r\n\r\n    @Autowired private ApplicationContext context;\r\n\r\n    switch(type) {\r\n        case &quot;type1&quot;:\r\n            return context.getBean(Type1.class);\r\n        case &quot;type2&quot;:\r\n            return context.getBean(Type2.class);\r\n        default:\r\n            throw Exception\r\n    }\r\n}\r\n```","title":"Spring Boot @Value is null, cant be solved with @Component","body":"<p>Spring is not going to process those annotations unless you let it do the instantiation. You will want to use the application context like so.</p>\n<pre><code>@Bean\npublic SomeInterface someinterface(){\n\n    @Autowired private ApplicationContext context;\n\n    switch(type) {\n        case &quot;type1&quot;:\n            return context.getBean(Type1.class);\n        case &quot;type2&quot;:\n            return context.getBean(Type2.class);\n        default:\n            throw Exception\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677748476,"creation_date":1677748476,"answer_id":75613347,"question_id":75608688,"body_markdown":"The accepted answer is a somewhat risky thing to do because it relies on the `TypeX` classes already having been instantiated when the `@Configuration` containing the `@Bean` is evaluated. \r\n\r\nThe canonical way to do this is to not declare the implementing classes as `@Component`s if you declare them as `@Bean`s anyway, but to create them in the `@Bean` method.\r\n\r\n```\r\n@Configuration\r\nclass MyBeans {\r\n @Bean\r\n SomeInterface(@Value(@Value(&quot;${some.property}&quot;) prop1, \r\n                      @Value(&quot;${some.property2}&quot;) prop2) {\r\n  var type = ...; // not clear where this comes from in your example\r\n\r\n  SomeInterface result;\r\n  switch(type) {\r\n   case &quot;type1&quot;: return new Type1(prop1, prop2);\r\n   case &quot;type2&quot;: return new Type2(prop1, prop2);\r\n   default: throw new IllegalArgumentException(&quot;cannot evaluate type&quot;);\r\n  }\r\n }\r\n}\r\n```\r\n\r\n","title":"Spring Boot @Value is null, cant be solved with @Component","body":"<p>The accepted answer is a somewhat risky thing to do because it relies on the <code>TypeX</code> classes already having been instantiated when the <code>@Configuration</code> containing the <code>@Bean</code> is evaluated.</p>\n<p>The canonical way to do this is to not declare the implementing classes as <code>@Component</code>s if you declare them as <code>@Bean</code>s anyway, but to create them in the <code>@Bean</code> method.</p>\n<pre><code>@Configuration\nclass MyBeans {\n @Bean\n SomeInterface(@Value(@Value(&quot;${some.property}&quot;) prop1, \n                      @Value(&quot;${some.property2}&quot;) prop2) {\n  var type = ...; // not clear where this comes from in your example\n\n  SomeInterface result;\n  switch(type) {\n   case &quot;type1&quot;: return new Type1(prop1, prop2);\n   case &quot;type2&quot;: return new Type2(prop1, prop2);\n   default: throw new IllegalArgumentException(&quot;cannot evaluate type&quot;);\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":15891300,"reputation":72,"user_id":11466340,"display_name":"DLarcom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75609390,"answer_count":2,"score":0,"last_activity_date":1677748476,"creation_date":1677702679,"question_id":75608688,"body_markdown":"I have a bean in my spring boot project that needs to return one or the other depending on what settings are provided in an external application.properties file.\r\n\r\nThe setting that will always exist is &quot;type&quot;. Each of the 2 types implement &quot;SomeInterface&quot;, but have their own unique settings from the properties file to be fetched.\r\n```\r\n@Bean\r\npublic SomeInterface someinterface(){\r\n\r\n\tswitch(type) {\r\n\t\tcase &quot;type1&quot;:\r\n\t\t\treturn new Type1();\r\n\t\tcase &quot;type2&quot;:\r\n\t\t\treturn new Type2();\r\n\t\tdefault:\r\n\t\t\tthrow Exception\r\n\t}\r\n}\r\n```\r\n```\r\npublic class Type1 implements SomeInterface {\r\n\r\n\t@Value(&quot;${some.property}&quot;)\r\n\tprivate String property1;\t//Always null\r\n\r\n\t@Value(&quot;${some.property2}&quot;)\r\n\tprivate String property2;\t//Always null\r\n}\r\n```\r\n\r\nI&#39;ve looked around and it seems I cant fetch the values using `@Value` within each of the two types because of the class being instantiated with `new`. Other posts I&#39;ve seen fix this issue use `@Component` to have spring instantiate the bean for you, but this doesnt work in my case. When properties for 1 type exists, the properties for the other will not. Is there a simple way to be able to fetch these properties with `@Value` in each of the type classes while also only instantiating the type that is needed instead of trying to instantiate both?","title":"Spring Boot @Value is null, cant be solved with @Component","body":"<p>I have a bean in my spring boot project that needs to return one or the other depending on what settings are provided in an external application.properties file.</p>\n<p>The setting that will always exist is &quot;type&quot;. Each of the 2 types implement &quot;SomeInterface&quot;, but have their own unique settings from the properties file to be fetched.</p>\n<pre><code>@Bean\npublic SomeInterface someinterface(){\n\n    switch(type) {\n        case &quot;type1&quot;:\n            return new Type1();\n        case &quot;type2&quot;:\n            return new Type2();\n        default:\n            throw Exception\n    }\n}\n</code></pre>\n<pre><code>public class Type1 implements SomeInterface {\n\n    @Value(&quot;${some.property}&quot;)\n    private String property1;   //Always null\n\n    @Value(&quot;${some.property2}&quot;)\n    private String property2;   //Always null\n}\n</code></pre>\n<p>I've looked around and it seems I cant fetch the values using <code>@Value</code> within each of the two types because of the class being instantiated with <code>new</code>. Other posts I've seen fix this issue use <code>@Component</code> to have spring instantiate the bean for you, but this doesnt work in my case. When properties for 1 type exists, the properties for the other will not. Is there a simple way to be able to fetch these properties with <code>@Value</code> in each of the type classes while also only instantiating the type that is needed instead of trying to instantiate both?</p>\n"},{"tags":["python","java","image","opencv","computer-vision"],"comments":[{"owner":{"account_id":12652010,"reputation":2782,"user_id":10626495,"display_name":"maciek97x"},"score":0,"creation_date":1677743970,"post_id":75612479,"comment_id":133399051,"body_markdown":"Can you show the results?","body":"Can you show the results?"},{"owner":{"account_id":9897892,"reputation":57150,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":0,"creation_date":1677763290,"post_id":75612479,"comment_id":133404405,"body_markdown":"In Python you not only convert to RGB, but you also change the order of dimensions of the array, going from interleaved (the three values for each pixel being together in memory) to planar order (all the red values being together, and all the green values being together, etc). Why do you need this? Are you sure you want to copy this in Java?","body":"In Python you not only convert to RGB, but you also change the order of dimensions of the array, going from interleaved (the three values for each pixel being together in memory) to planar order (all the red values being together, and all the green values being together, etc). Why do you need this? Are you sure you want to copy this in Java?"}],"answers":[{"tags":[],"owner":{"account_id":26589772,"reputation":582,"user_id":20213170,"display_name":"nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677748437,"creation_date":1677748437,"answer_id":75613344,"question_id":75612479,"body_markdown":"It&#39;s pretty straight forward, and you already got the right function (````cvtColor()````). \r\n\r\nAre you using the right flag ? ````COLOR_RGB2BGR```` means converting RGB-&gt;BGR, but you say you want BGR-&gt;RGB ? That would be ````COLOR_BGR2RGB````. \\\r\nHere is the full list: https://docs.opencv.org/3.4/d8/d01/group__imgproc__color__conversions.html\r\n\r\nYou can also tell ````imread()```` in what color space to read the image file, btw: \\\r\n````Mat cv::imread \t(const String&amp; filename, int flags = IMREAD_COLOR)```` \\\r\nhttps://docs.opencv.org/3.4/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56","title":"How to convert OpenCV Java BGR Image Matrix to RGB?","body":"<p>It's pretty straight forward, and you already got the right function (<code>cvtColor()</code>).</p>\n<p>Are you using the right flag ? <code>COLOR_RGB2BGR</code> means converting RGB-&gt;BGR, but you say you want BGR-&gt;RGB ? That would be <code>COLOR_BGR2RGB</code>. <br />\nHere is the full list: <a href=\"https://docs.opencv.org/3.4/d8/d01/group__imgproc__color__conversions.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/3.4/d8/d01/group__imgproc__color__conversions.html</a></p>\n<p>You can also tell <code>imread()</code> in what color space to read the image file, btw: <br />\n<code>Mat cv::imread  (const String&amp; filename, int flags = IMREAD_COLOR)</code> <br />\n<a href=\"https://docs.opencv.org/3.4/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56\" rel=\"nofollow noreferrer\">https://docs.opencv.org/3.4/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56</a></p>\n"}],"owner":{"account_id":19096069,"reputation":149,"user_id":13945310,"display_name":"BayanR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677748437,"creation_date":1677742576,"question_id":75612479,"body_markdown":"In python we can do the following to convert CV BGR value to RGB\r\n\r\n    im = cv2.imread(&quot;image.jpg&quot;) # BGR\r\n    im = im.transpose((2, 0, 1))[::-1]  # HWC to CHW, BGR to RGB\r\n\r\nI can&#39;t figure out how to do this with Java. \r\nI&#39;ve tried the following but it gives a completely different value when the second line is executed.\r\n\r\n    Mat image = Imgcodecs.imread(&quot;image.jpg&quot;); // BGR matches the python thus far\r\n    Imgproc.cvtColor(image, image, Imgproc.COLOR_RGB2BGR); // doesnt match the python","title":"How to convert OpenCV Java BGR Image Matrix to RGB?","body":"<p>In python we can do the following to convert CV BGR value to RGB</p>\n<pre><code>im = cv2.imread(&quot;image.jpg&quot;) # BGR\nim = im.transpose((2, 0, 1))[::-1]  # HWC to CHW, BGR to RGB\n</code></pre>\n<p>I can't figure out how to do this with Java.\nI've tried the following but it gives a completely different value when the second line is executed.</p>\n<pre><code>Mat image = Imgcodecs.imread(&quot;image.jpg&quot;); // BGR matches the python thus far\nImgproc.cvtColor(image, image, Imgproc.COLOR_RGB2BGR); // doesnt match the python\n</code></pre>\n"},{"tags":["java","android","android-studio","licensing","android-lvl"],"comments":[{"owner":{"account_id":15387165,"reputation":23,"user_id":14521298,"display_name":"Jade Kush"},"score":0,"creation_date":1677741764,"post_id":75606500,"comment_id":133398593,"body_markdown":"Could you provide a more detailed answer? Thanks.","body":"Could you provide a more detailed answer? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677748123,"creation_date":1677747058,"answer_id":75613137,"question_id":75606500,"body_markdown":"I don&#39;t know why but when you download this library using the SDK manager then the `build.gradle` of the library is missing. And so you can&#39;t import it.\r\n\r\nPlease download the code from the git repository directly. Also note that this is the official way to download the library as described under [https://developer.android.com/google/play/licensing/setting-up][1].\r\n\r\nYou can use the `git` command or download it using the browser. You can find the repo under [https://github.com/google/play-licensing][2]. Download/extract it to an folder which is **not** inside your Android project.\r\n\r\nIf you don&#39;t have git select the green button and then select `Download ZIP`. Extract the ZIP to a folder which is **not** in your Android project folder.\r\n\r\nNow open your Android Studio project and click `File &gt; New &gt; Import Module...`. Select the `lvl_library` folder of the library.\r\n\r\nIf it asks you select that you want to trust the library.\r\n\r\nYou are done.\r\n\r\nPlease note when there are updates for this library you have to do it manually. Close Android Studio. Delete `lvl_library` from your project. Copy the new `lvl_library` to your project. Done.\r\n\r\n  [1]: https://developer.android.com/google/play/licensing/setting-up\r\n  [2]: https://github.com/google/play-licensing","title":"Importing module from source (google play licensing) doesn&#39;t actually import anything","body":"<p>I don't know why but when you download this library using the SDK manager then the <code>build.gradle</code> of the library is missing. And so you can't import it.</p>\n<p>Please download the code from the git repository directly. Also note that this is the official way to download the library as described under <a href=\"https://developer.android.com/google/play/licensing/setting-up\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/licensing/setting-up</a>.</p>\n<p>You can use the <code>git</code> command or download it using the browser. You can find the repo under <a href=\"https://github.com/google/play-licensing\" rel=\"nofollow noreferrer\">https://github.com/google/play-licensing</a>. Download/extract it to an folder which is <strong>not</strong> inside your Android project.</p>\n<p>If you don't have git select the green button and then select <code>Download ZIP</code>. Extract the ZIP to a folder which is <strong>not</strong> in your Android project folder.</p>\n<p>Now open your Android Studio project and click <code>File &gt; New &gt; Import Module...</code>. Select the <code>lvl_library</code> folder of the library.</p>\n<p>If it asks you select that you want to trust the library.</p>\n<p>You are done.</p>\n<p>Please note when there are updates for this library you have to do it manually. Close Android Studio. Delete <code>lvl_library</code> from your project. Copy the new <code>lvl_library</code> to your project. Done.</p>\n"}],"owner":{"account_id":15387165,"reputation":23,"user_id":14521298,"display_name":"Jade Kush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75613137,"answer_count":1,"score":1,"last_activity_date":1677748123,"creation_date":1677688310,"question_id":75606500,"body_markdown":"I am following this answer in order to setup Google Play Licensing: https://stackoverflow.com/questions/62852617/google-play-licencing-for-an-android-app-in-android-studio?fbclid=IwAR3JJ4fm9Jm-Q8aifuQlfPOaMfgi32IvESqANpkvzIl-lEtKibADds7K47E\r\n\r\nEverything perfect until **.10**\r\nHowever when I finish importing the module I don&#39;t have any module/folder in my project. I tried to check in the path of my android studio project and there is a folder with the module name I&#39;ve chosen but it&#39;s empty. What am I doing wrong?\r\n","title":"Importing module from source (google play licensing) doesn&#39;t actually import anything","body":"<p>I am following this answer in order to setup Google Play Licensing: <a href=\"https://stackoverflow.com/questions/62852617/google-play-licencing-for-an-android-app-in-android-studio?fbclid=IwAR3JJ4fm9Jm-Q8aifuQlfPOaMfgi32IvESqANpkvzIl-lEtKibADds7K47E\">Google Play Licencing for an Android app in Android Studio</a></p>\n<p>Everything perfect until <strong>.10</strong>\nHowever when I finish importing the module I don't have any module/folder in my project. I tried to check in the path of my android studio project and there is a folder with the module name I've chosen but it's empty. What am I doing wrong?</p>\n"},{"tags":["java","c#","c++","visual-studio"],"comments":[{"owner":{"account_id":9472425,"reputation":582,"user_id":9741277,"display_name":"leun4m"},"score":1,"creation_date":1677748370,"post_id":75613240,"comment_id":133400118,"body_markdown":"Food for thought: I wouldn&#39;t soley advise to make such a decision on IDE convenience. So what do you mean to express; if it&#39;s just a selection of values I would go with an enum, if you would actually have some logic behind it, the usage of classes might come in handy.","body":"Food for thought: I wouldn&#39;t soley advise to make such a decision on IDE convenience. So what do you mean to express; if it&#39;s just a selection of values I would go with an enum, if you would actually have some logic behind it, the usage of classes might come in handy."},{"owner":{"account_id":22579674,"reputation":975,"user_id":16764510,"display_name":"Yujian Yao - MSFT"},"score":0,"creation_date":1677832574,"post_id":75613240,"comment_id":133418771,"body_markdown":"You couldn&#39;t avoid &quot;.&quot; when you use class, enum is already a good way to go.","body":"You couldn&#39;t avoid &quot;.&quot; when you use class, enum is already a good way to go."}],"owner":{"account_id":11562141,"reputation":53,"user_id":8471533,"display_name":"pippo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677747665,"creation_date":1677747665,"question_id":75613240,"body_markdown":"I have a tree-structured categories parameter that I want to pass to a function. I hope that it can be friendly enough to the coding assistance like Visual Assist or IntelliSense, and it can directly pop up the current possible options. Currently, the best option I can think of to achieve this is to use an Enum type as a parameter. For example:\r\n\r\n    enum CategoriesTree\r\n    {\r\n            ModuleA,\r\n            ModuleA_SubModuleA,\r\n            ModuleA_SubModuleB,\r\n            ModuleA_SubModuleC,\r\n            ModuleA_SubModuleC_ClassA,\r\n            ModuleA_SubModuleC_ClassB,\r\n            ModuleA_SubModuleC_ClassC,\r\n            ModuleA_SubModuleD,\r\n            ModuleB,\r\n            ModuleB_SubModuleA,\r\n            ModuleB_SubModuleB,\r\n            ModuleB_SubModuleC,\r\n    }\r\n    \r\n    void MyFunction(CategoriesTree category);\r\n\r\nIn an IDE like Visual Studio, after I type &quot;void MyFunction(&quot;, the code assist will directly list all the enumeration types for me to choose from. This achieves half of what I expect. However, the drawback is that it directly gives all the enumerations. In actual situations, there may be thousands of enumerations, so it is not convenient. What I hope for is to give me a hierarchical tree structure level by level, such as starting with two options, **ModuleA** and **ModuleB**, and then when I choose **ModuleA**, press Tab or &quot;.&quot;, and then give me the next level of options: **SubModuleA**, **SubModuleB**, **SubModuleC** and **SubModuleD**, and so on.\r\n\r\nTherefore, I have come up with another solution:\r\n\r\n    public class category_base\r\n    {\r\n    \r\n    };\r\n    \r\n    public class CategoriesTree\r\n    {\r\n        public class ModuleA_Def : category_base\r\n        {\r\n            public class SubModuleA_Def : category_base\r\n            {\r\n            };\r\n            public class SubModuleB_Def : category_base\r\n            {\r\n            };\r\n            public class SubModuleC_Def : category_base\r\n            {\r\n                public class ClassA_Def : category_base\r\n                {\r\n                };\r\n                public class ClassB_Def : category_base\r\n                {\r\n                };\r\n                public class ClassC_Def : category_base\r\n                {\r\n                };\r\n                public ClassA_Def ClassA = new ClassA_Def();\r\n                public ClassB_Def ClassB = new ClassB_Def();\r\n                public ClassC_Def ClassC = new ClassC_Def();\r\n            };\r\n            public class SubModuleD_Def : category_base\r\n            {\r\n            };\r\n            public SubModuleA_Def SubModuleA = new SubModuleA_Def();\r\n            public SubModuleB_Def SubModuleB = new SubModuleB_Def();\r\n            public SubModuleC_Def SubModuleC = new SubModuleC_Def();\r\n            public SubModuleD_Def SubModuleD = new SubModuleD_Def();\r\n        };\r\n    \r\n        public class ModuleB_Def : category_base\r\n        {\r\n            public class SubModuleA_Def : category_base\r\n            {\r\n            };\r\n            public class SubModuleB_Def : category_base\r\n            {\r\n            };\r\n            public class SubModuleC_Def : category_base\r\n            {\r\n            };\r\n            public SubModuleA_Def SubModuleA = new SubModuleA_Def();\r\n            public SubModuleB_Def SubModuleB = new SubModuleB_Def();\r\n            public SubModuleC_Def SubModuleC = new SubModuleC_Def();\r\n        };\r\n        public static ModuleA_Def ModuleA = new ModuleA_Def();\r\n        public static ModuleB_Def ModuleB = new ModuleB_Def();\r\n    }\r\n\r\nNow, I need to call this function:\r\n\r\n    void MyFunction(category_base category);\r\n\r\nThis method can indeed do what the enumeration method cannot do: my entire parameter has been structured into a tree. However, it cannot achieve what the enumeration can do: when I type &quot;void MyFunction(&quot;, there is no code prompt popping up. I have to manually enter &quot;CategoriesTree&quot; and add a &quot;.&quot; to start.\r\n\r\nI would like to ask if there is a solution that can achieve the advantages of both these 2 methods? And the solution should be used in C++, C# and Java, event Typescript.\r\n","title":"The best practice to pass hierrachy category value to functions","body":"<p>I have a tree-structured categories parameter that I want to pass to a function. I hope that it can be friendly enough to the coding assistance like Visual Assist or IntelliSense, and it can directly pop up the current possible options. Currently, the best option I can think of to achieve this is to use an Enum type as a parameter. For example:</p>\n<pre><code>enum CategoriesTree\n{\n        ModuleA,\n        ModuleA_SubModuleA,\n        ModuleA_SubModuleB,\n        ModuleA_SubModuleC,\n        ModuleA_SubModuleC_ClassA,\n        ModuleA_SubModuleC_ClassB,\n        ModuleA_SubModuleC_ClassC,\n        ModuleA_SubModuleD,\n        ModuleB,\n        ModuleB_SubModuleA,\n        ModuleB_SubModuleB,\n        ModuleB_SubModuleC,\n}\n\nvoid MyFunction(CategoriesTree category);\n</code></pre>\n<p>In an IDE like Visual Studio, after I type &quot;void MyFunction(&quot;, the code assist will directly list all the enumeration types for me to choose from. This achieves half of what I expect. However, the drawback is that it directly gives all the enumerations. In actual situations, there may be thousands of enumerations, so it is not convenient. What I hope for is to give me a hierarchical tree structure level by level, such as starting with two options, <strong>ModuleA</strong> and <strong>ModuleB</strong>, and then when I choose <strong>ModuleA</strong>, press Tab or &quot;.&quot;, and then give me the next level of options: <strong>SubModuleA</strong>, <strong>SubModuleB</strong>, <strong>SubModuleC</strong> and <strong>SubModuleD</strong>, and so on.</p>\n<p>Therefore, I have come up with another solution:</p>\n<pre><code>public class category_base\n{\n\n};\n\npublic class CategoriesTree\n{\n    public class ModuleA_Def : category_base\n    {\n        public class SubModuleA_Def : category_base\n        {\n        };\n        public class SubModuleB_Def : category_base\n        {\n        };\n        public class SubModuleC_Def : category_base\n        {\n            public class ClassA_Def : category_base\n            {\n            };\n            public class ClassB_Def : category_base\n            {\n            };\n            public class ClassC_Def : category_base\n            {\n            };\n            public ClassA_Def ClassA = new ClassA_Def();\n            public ClassB_Def ClassB = new ClassB_Def();\n            public ClassC_Def ClassC = new ClassC_Def();\n        };\n        public class SubModuleD_Def : category_base\n        {\n        };\n        public SubModuleA_Def SubModuleA = new SubModuleA_Def();\n        public SubModuleB_Def SubModuleB = new SubModuleB_Def();\n        public SubModuleC_Def SubModuleC = new SubModuleC_Def();\n        public SubModuleD_Def SubModuleD = new SubModuleD_Def();\n    };\n\n    public class ModuleB_Def : category_base\n    {\n        public class SubModuleA_Def : category_base\n        {\n        };\n        public class SubModuleB_Def : category_base\n        {\n        };\n        public class SubModuleC_Def : category_base\n        {\n        };\n        public SubModuleA_Def SubModuleA = new SubModuleA_Def();\n        public SubModuleB_Def SubModuleB = new SubModuleB_Def();\n        public SubModuleC_Def SubModuleC = new SubModuleC_Def();\n    };\n    public static ModuleA_Def ModuleA = new ModuleA_Def();\n    public static ModuleB_Def ModuleB = new ModuleB_Def();\n}\n</code></pre>\n<p>Now, I need to call this function:</p>\n<pre><code>void MyFunction(category_base category);\n</code></pre>\n<p>This method can indeed do what the enumeration method cannot do: my entire parameter has been structured into a tree. However, it cannot achieve what the enumeration can do: when I type &quot;void MyFunction(&quot;, there is no code prompt popping up. I have to manually enter &quot;CategoriesTree&quot; and add a &quot;.&quot; to start.</p>\n<p>I would like to ask if there is a solution that can achieve the advantages of both these 2 methods? And the solution should be used in C++, C# and Java, event Typescript.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":73589,"reputation":5327,"user_id":211794,"accept_rate":58,"display_name":"Ashok Koyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677747534,"creation_date":1677698769,"answer_id":75608116,"question_id":75555866,"body_markdown":"I&#39;m not sure if that can be done out of the box. If I remember correctly Spring security team is working on enabling more OpenId connect specific features with the future versions of Spring Security Authz Server. I am not sure if they would be implementing this out of the box (or) we have to do it ourselves.\r\n\r\nSince `email` is just a scope, we can register this scope at authz server level for that specific client (`ClientRegistration`) &amp; also at the client end (in `OAuth2ClientProperties.Registration`).\r\n\r\nOnce you setup this, what needs to be done is customisation of `/userinfo` endpoint. Since `/userinfo` is secured at Spring Authz server i.e that can only be accessed using Access token (which spring login client automatically accesses as soon as the authz code flow is complete), we need to customise it so that we can send email details of the logged in resource owner at this endpoint.\r\n\r\nIt can be done in this manner.\r\n\r\n```\r\n@Component\r\nclass UserInfoResponseCustomizer implements Function&lt;OidcUserInfoAuthenticationContext, OidcUserInfo&gt; {\r\n  private final UserDetailsService userDetailsService;\r\n\r\n  public UserInfoResponseCustomizer(UserDetailsService userDetailsService) {\r\n    this.userDetailsService = userDetailsService;\r\n  }\r\n\r\n  @Override\r\n  public OidcUserInfo apply(OidcUserInfoAuthenticationContext oidcUserInfoAuthenticationContext) {\r\n    final var authToken = ((JwtAuthenticationToken) SecurityContextHolder.getContext().getAuthentication());\r\n    final var resourceOwnerUsername = authToken.getName();\r\n    final var builder = OidcUserInfo.builder().subject(resourceOwnerUsername);\r\n    if (authToken.getAuthorities().stream().anyMatch(authority -&gt; authority.getAuthority().equals(&quot;SCOPE_email&quot;))) {\r\n      final var userWithEmail = (UserWithEmail) userDetailsService.loadUserByUsername(resourceOwnerUsername);\r\n      builder.email(userWithEmail.getEmail()); //UserWithEmail is a custom spring `UserDetails` object that contains email property\r\n    }\r\n    return builder.build();\r\n  }\r\n}\r\n```\r\n\r\nand link this upto Authz server \r\n\r\n```\r\n@Bean\r\n@Order(1)\r\npublic SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http, UserInfoResponseCustomizer userInfoResponseCustomizer) throws Exception {\r\n  OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n  http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n      .oidc(customizer -&gt; customizer.userInfoEndpoint(oidcUserInfoEndpointConfigurer -&gt; oidcUserInfoEndpointConfigurer.userInfoMapper(userInfoResponseCustomizer)));\t// Enable OpenID Connect 1.0\r\n\r\n  http\r\n      // Redirect to the login page when not authenticated from the\r\n      // authorization endpoint\r\n      .exceptionHandling((exceptions) -&gt; exceptions.authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;)))\r\n      // Accept access tokens for User Info and/or Client Registration\r\n      .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n\r\n  return http.build();\r\n}\r\n```\r\n\r\nWhen you are registering your client, ensure the client is allowed to request for that `email` scope\r\n\r\n```\r\n@Bean\r\npublic RegisteredClientRepository registeredClientRepository() {\r\n  RegisteredClient frontendClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n      .clientId(&quot;my-client&quot;)\r\n      .clientSecret(&quot;{noop}my-client-secret&quot;)\r\n      .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n      .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n      .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n      .redirectUri(&quot;http://my-client.com/login/oauth2/code/my-client&quot;)\r\n      .scope(OidcScopes.OPENID)\r\n      .scope(OidcScopes.PROFILE)\r\n      .scope(OidcScopes.EMAIL)\r\n      .build();\r\n}\r\n```\r\n\r\nWith these changes in place on Authz server end, you should be able complete Auth code flow &amp; hit the `/userinfo` endpoint on Authz server &amp; access email address of the user.\r\n\r\nPlease note that with default settings in spring login module, when a client complete authz `code` flow for `openid` flow, the library automatically fetches `/userinfo` endpoint. So, you should be able access this email address at the oauth client end by accessing the claims inside this object `(OidcUser)((OAuth2LoginAuthenticationToken)SecurityContextHolder.getContext().getAuthentication())).getPrincipal())`.","title":"Customise scopes_supported in spring security authorisation server","body":"<p>I'm not sure if that can be done out of the box. If I remember correctly Spring security team is working on enabling more OpenId connect specific features with the future versions of Spring Security Authz Server. I am not sure if they would be implementing this out of the box (or) we have to do it ourselves.</p>\n<p>Since <code>email</code> is just a scope, we can register this scope at authz server level for that specific client (<code>ClientRegistration</code>) &amp; also at the client end (in <code>OAuth2ClientProperties.Registration</code>).</p>\n<p>Once you setup this, what needs to be done is customisation of <code>/userinfo</code> endpoint. Since <code>/userinfo</code> is secured at Spring Authz server i.e that can only be accessed using Access token (which spring login client automatically accesses as soon as the authz code flow is complete), we need to customise it so that we can send email details of the logged in resource owner at this endpoint.</p>\n<p>It can be done in this manner.</p>\n<pre><code>@Component\nclass UserInfoResponseCustomizer implements Function&lt;OidcUserInfoAuthenticationContext, OidcUserInfo&gt; {\n  private final UserDetailsService userDetailsService;\n\n  public UserInfoResponseCustomizer(UserDetailsService userDetailsService) {\n    this.userDetailsService = userDetailsService;\n  }\n\n  @Override\n  public OidcUserInfo apply(OidcUserInfoAuthenticationContext oidcUserInfoAuthenticationContext) {\n    final var authToken = ((JwtAuthenticationToken) SecurityContextHolder.getContext().getAuthentication());\n    final var resourceOwnerUsername = authToken.getName();\n    final var builder = OidcUserInfo.builder().subject(resourceOwnerUsername);\n    if (authToken.getAuthorities().stream().anyMatch(authority -&gt; authority.getAuthority().equals(&quot;SCOPE_email&quot;))) {\n      final var userWithEmail = (UserWithEmail) userDetailsService.loadUserByUsername(resourceOwnerUsername);\n      builder.email(userWithEmail.getEmail()); //UserWithEmail is a custom spring `UserDetails` object that contains email property\n    }\n    return builder.build();\n  }\n}\n</code></pre>\n<p>and link this upto Authz server</p>\n<pre><code>@Bean\n@Order(1)\npublic SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http, UserInfoResponseCustomizer userInfoResponseCustomizer) throws Exception {\n  OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n  http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n      .oidc(customizer -&gt; customizer.userInfoEndpoint(oidcUserInfoEndpointConfigurer -&gt; oidcUserInfoEndpointConfigurer.userInfoMapper(userInfoResponseCustomizer)));    // Enable OpenID Connect 1.0\n\n  http\n      // Redirect to the login page when not authenticated from the\n      // authorization endpoint\n      .exceptionHandling((exceptions) -&gt; exceptions.authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;)))\n      // Accept access tokens for User Info and/or Client Registration\n      .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n\n  return http.build();\n}\n</code></pre>\n<p>When you are registering your client, ensure the client is allowed to request for that <code>email</code> scope</p>\n<pre><code>@Bean\npublic RegisteredClientRepository registeredClientRepository() {\n  RegisteredClient frontendClient = RegisteredClient.withId(UUID.randomUUID().toString())\n      .clientId(&quot;my-client&quot;)\n      .clientSecret(&quot;{noop}my-client-secret&quot;)\n      .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n      .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n      .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n      .redirectUri(&quot;http://my-client.com/login/oauth2/code/my-client&quot;)\n      .scope(OidcScopes.OPENID)\n      .scope(OidcScopes.PROFILE)\n      .scope(OidcScopes.EMAIL)\n      .build();\n}\n</code></pre>\n<p>With these changes in place on Authz server end, you should be able complete Auth code flow &amp; hit the <code>/userinfo</code> endpoint on Authz server &amp; access email address of the user.</p>\n<p>Please note that with default settings in spring login module, when a client complete authz <code>code</code> flow for <code>openid</code> flow, the library automatically fetches <code>/userinfo</code> endpoint. So, you should be able access this email address at the oauth client end by accessing the claims inside this object <code>(OidcUser)((OAuth2LoginAuthenticationToken)SecurityContextHolder.getContext().getAuthentication())).getPrincipal())</code>.</p>\n"}],"owner":{"account_id":3135323,"reputation":468,"user_id":2651934,"accept_rate":33,"display_name":"Anoop Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75608116,"answer_count":1,"score":0,"last_activity_date":1677747534,"creation_date":1677237167,"question_id":75555866,"body_markdown":"I have following configuration for spring oauth server\r\n\r\n```java\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n                .oidc(Customizer.withDefaults());\t// Enable OpenID Connect 1.0\r\n        http\r\n                // Redirect to the login page when not authenticated from the\r\n                // authorization endpoint\r\n                .exceptionHandling((exceptions) -&gt; exceptions\r\n                        .authenticationEntryPoint(\r\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\r\n                )\r\n\r\n                // Accept access tokens for User Info and/or Client Registration\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n\r\n        return http.build();\r\n    }\r\n```\r\nWith this configuration well-known (http://[host]/.well-known/openid-configuration) endpoint gives only `openid` for `scopes_supported`.\r\n\r\nIs there a way to customise this to return `[&quot;openid&quot;, &quot;email&quot;, &quot;profile&quot;]`\r\n\r\nscopes_supported is hardcoded in [OidcProviderConfigurationEndpointFilter](https://github.com/spring-projects/spring-authorization-server/blob/98e3fe807a56da3236bc92b4c07f61e61a80efbc/oauth2-authorization-server/src/main/java/org/springframework/security/oauth2/server/authorization/oidc/web/OidcProviderConfigurationEndpointFilter.java#L112)\r\n","title":"Customise scopes_supported in spring security authorisation server","body":"<p>I have following configuration for spring oauth server</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Order(1)\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http) throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n                .oidc(Customizer.withDefaults());   // Enable OpenID Connect 1.0\n        http\n                // Redirect to the login page when not authenticated from the\n                // authorization endpoint\n                .exceptionHandling((exceptions) -&gt; exceptions\n                        .authenticationEntryPoint(\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\n                )\n\n                // Accept access tokens for User Info and/or Client Registration\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n\n        return http.build();\n    }\n</code></pre>\n<p>With this configuration well-known (http://[host]/.well-known/openid-configuration) endpoint gives only <code>openid</code> for <code>scopes_supported</code>.</p>\n<p>Is there a way to customise this to return <code>[&quot;openid&quot;, &quot;email&quot;, &quot;profile&quot;]</code></p>\n<p>scopes_supported is hardcoded in <a href=\"https://github.com/spring-projects/spring-authorization-server/blob/98e3fe807a56da3236bc92b4c07f61e61a80efbc/oauth2-authorization-server/src/main/java/org/springframework/security/oauth2/server/authorization/oidc/web/OidcProviderConfigurationEndpointFilter.java#L112\" rel=\"nofollow noreferrer\">OidcProviderConfigurationEndpointFilter</a></p>\n"},{"tags":["java","jar","ant"],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677746982,"creation_date":1677746982,"answer_id":75613119,"question_id":75612787,"body_markdown":"jar -uf .../test.jar Test.class\r\n\r\naccording documetation &quot;Updates an existing file jarfile (when f is specified) by adding to it files and directories specified by inputfiles.&quot;\r\n\r\nhttps://docs.oracle.com/javase/7/docs/technotes/tools/windows/jar.html","title":"How to move a file into an existing Jar using Ant","body":"<p>jar -uf .../test.jar Test.class</p>\n<p>according documetation &quot;Updates an existing file jarfile (when f is specified) by adding to it files and directories specified by inputfiles.&quot;</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jar.html</a></p>\n"}],"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677746982,"creation_date":1677744719,"question_id":75612787,"body_markdown":"Can anyone please explain to me what thatt code do :`&lt;target&#160;name=&quot;MoveFIle&quot;&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;exec&#160;executable=&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_131\\\\bin\\\\jar&quot;&#160;dir=&quot;${basedir}/classes/&quot;&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&lt;arg&#160;value=&quot;-uf&quot;&#160;/&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;arg&#160;value=&quot;${basedir}/test.jar&quot;&#160;/&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&lt;argvalue=&quot;Test.class&quot;&#160;/&gt;&#160;&#160;&#160;&#160;&#160;\r\n &lt;/exec&gt;`\r\n\r\nIw there any possibility to move the file into a special path when the Jar is unzipped ?\r\n\r\n","title":"How to move a file into an existing Jar using Ant","body":"<p>Can anyone please explain to me what thatt code do :<code>&lt;target name=&quot;MoveFIle&quot;&gt;             &lt;exec executable=&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_131\\\\bin\\\\jar&quot; dir=&quot;${basedir}/classes/&quot;&gt;         &lt;arg value=&quot;-uf&quot; /&gt;                    &lt;arg value=&quot;${basedir}/test.jar&quot; /&gt;                &lt;argvalue=&quot;Test.class&quot; /&gt;      &lt;/exec&gt;</code></p>\n<p>Iw there any possibility to move the file into a special path when the Jar is unzipped ?</p>\n"},{"tags":["java","internationalization","locale","currency"],"answers":[{"tags":[],"owner":{"account_id":27899,"reputation":4492,"user_id":74057,"accept_rate":82,"display_name":"aldrin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1309607662,"creation_date":1309607662,"answer_id":6556831,"question_id":6556792,"body_markdown":"You can either create the locale,\r\n\r\n    new Locale(&quot;en&quot;, &quot;US&quot;)\r\n    new Locale(&quot;fr&quot;, &quot;FR&quot;)\r\n\r\nor\r\n\r\niterate through `Locale.getAvailableLocales()` till you find your locale and then use that instance.","title":"If you have the ISO country code `US`, `FR`, how do you get the Locale code (`Locale.US`, `Locale.FRANCE`)?","body":"<p>You can either create the locale,</p>\n\n<pre><code>new Locale(\"en\", \"US\")\nnew Locale(\"fr\", \"FR\")\n</code></pre>\n\n<p>or</p>\n\n<p>iterate through <code>Locale.getAvailableLocales()</code> till you find your locale and then use that instance.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1526473252,"creation_date":1309607669,"answer_id":6556832,"question_id":6556792,"body_markdown":"In Java7 there is the `Locale.Builder`, but before that there isn&#39;t an easy way. You can, however create a utility method:\r\n\r\n1. loop `Locale.getAvailableLocales()`\r\n2. for each check if `locale.getCountryCode().equals(countryCodeParam)` and return it","title":"If you have the ISO country code `US`, `FR`, how do you get the Locale code (`Locale.US`, `Locale.FRANCE`)?","body":"<p>In Java7 there is the <code>Locale.Builder</code>, but before that there isn't an easy way. You can, however create a utility method:</p>\n\n<ol>\n<li>loop <code>Locale.getAvailableLocales()</code></li>\n<li>for each check if <code>locale.getCountryCode().equals(countryCodeParam)</code> and return it</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309607746,"creation_date":1309607746,"answer_id":6556839,"question_id":6556792,"body_markdown":"A locale is specified most importantly by the ISO-639 language code, possible also a ISO-3166 country code and a variant. The `Locale` class has constructors that take either only a language code, or additionally a country code, or additionally a variant.\r\n\r\nIf you only have the country code, you first need a map that converts it to a language code - but that does not necessarily produce a unique result, many countries use more than one official language.","title":"If you have the ISO country code `US`, `FR`, how do you get the Locale code (`Locale.US`, `Locale.FRANCE`)?","body":"<p>A locale is specified most importantly by the ISO-639 language code, possible also a ISO-3166 country code and a variant. The <code>Locale</code> class has constructors that take either only a language code, or additionally a country code, or additionally a variant.</p>\n\n<p>If you only have the country code, you first need a map that converts it to a language code - but that does not necessarily produce a unique result, many countries use more than one official language.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1309607788,"creation_date":1309607788,"answer_id":6556841,"question_id":6556792,"body_markdown":"You can&#39;t, because a Locale is used to hold a language, not a country. It can hold a language for a specific country, and for a specific variant in this country, but it&#39;s a language first. And there is no one-to-one relationship between a language and a country. Most languages are spoken in various countries, and many countries have several languages.\r\n\r\nIf you had the country code for a language, you could use `new Locale(code)`. But with a country code, all you can do is call `getAvailableLocales`, loop through the results, and find one which has your country code. But there might be several ones.","title":"If you have the ISO country code `US`, `FR`, how do you get the Locale code (`Locale.US`, `Locale.FRANCE`)?","body":"<p>You can't, because a Locale is used to hold a language, not a country. It can hold a language for a specific country, and for a specific variant in this country, but it's a language first. And there is no one-to-one relationship between a language and a country. Most languages are spoken in various countries, and many countries have several languages.</p>\n\n<p>If you had the country code for a language, you could use <code>new Locale(code)</code>. But with a country code, all you can do is call <code>getAvailableLocales</code>, loop through the results, and find one which has your country code. But there might be several ones.</p>\n"},{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677746833,"creation_date":1677746833,"answer_id":75613092,"question_id":6556792,"body_markdown":"The accepted answer is of course correct, but a solution is still needed. So, here is my attempt to implement it:\r\n\r\n```java\r\n   public static Locale countryCodeToLocate(String countryCode) {\r\n\r\n        for(Locale l : Locale.getAvailableLocales()) {\r\n            // try to convert `en_US` into `us`\r\n            String lang = l.toString().toLowerCase();\r\n            String prefix = l.getLanguage().toLowerCase();\r\n            if (lang.startsWith(prefix + &quot;_&quot; + countryCode)) {\r\n                return l;\r\n            }\r\n        }\r\n        return Locale.getDefault();\r\n    }\r\n```","title":"If you have the ISO country code `US`, `FR`, how do you get the Locale code (`Locale.US`, `Locale.FRANCE`)?","body":"<p>The accepted answer is of course correct, but a solution is still needed. So, here is my attempt to implement it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static Locale countryCodeToLocate(String countryCode) {\n\n        for(Locale l : Locale.getAvailableLocales()) {\n            // try to convert `en_US` into `us`\n            String lang = l.toString().toLowerCase();\n            String prefix = l.getLanguage().toLowerCase();\n            if (lang.startsWith(prefix + &quot;_&quot; + countryCode)) {\n                return l;\n            }\n        }\n        return Locale.getDefault();\n    }\n</code></pre>\n"}],"owner":{"account_id":772317,"reputation":253,"user_id":816587,"display_name":"Pascal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51471,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":6556841,"answer_count":5,"score":25,"last_activity_date":1677746833,"creation_date":1309607056,"question_id":6556792,"body_markdown":"If you have the country code `US`, `FR` (ISO-3166-1 alpha-2 country code), how do you get the Locale code (`Locale.US`, `Locale.FRANCE`) to do something like this:\r\n\r\n    System.out.println(DecimalFormat.getCurrencyInstance(Locale.US).format(12.34));\r\n    System.out.println(DecimalFormat.getCurrencyInstance(Locale.FRANCE).format(12.34));\r\n\r\n    $12.34\r\n    12,34 €","title":"If you have the ISO country code `US`, `FR`, how do you get the Locale code (`Locale.US`, `Locale.FRANCE`)?","body":"<p>If you have the country code <code>US</code>, <code>FR</code> (ISO-3166-1 alpha-2 country code), how do you get the Locale code (<code>Locale.US</code>, <code>Locale.FRANCE</code>) to do something like this:</p>\n\n<pre><code>System.out.println(DecimalFormat.getCurrencyInstance(Locale.US).format(12.34));\nSystem.out.println(DecimalFormat.getCurrencyInstance(Locale.FRANCE).format(12.34));\n\n$12.34\n12,34 €\n</code></pre>\n"},{"tags":["java","debugging","kotlin","gradle"],"comments":[{"owner":{"account_id":969586,"reputation":2499,"user_id":992380,"display_name":"Alexey Belkov"},"score":5,"creation_date":1598877030,"post_id":63668477,"comment_id":112590896,"body_markdown":"This is a bug in the new Kotlin coroutine debugger. As a workaround please do in Intellij: &quot;File | Settings | Build, Execution, Deployment | Debugger | Data Views | Kotlin | Disable coroutine agent&quot;.","body":"This is a bug in the new Kotlin coroutine debugger. As a workaround please do in Intellij: &quot;File | Settings | Build, Execution, Deployment | Debugger | Data Views | Kotlin | Disable coroutine agent&quot;."},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":1,"creation_date":1598880732,"post_id":63668477,"comment_id":112592663,"body_markdown":"Please add this as an answer, this works! Thanks!","body":"Please add this as an answer, this works! Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":969586,"reputation":2499,"user_id":992380,"display_name":"Alexey Belkov"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1616515573,"creation_date":1598966793,"answer_id":63688652,"question_id":63668477,"body_markdown":"This is a bug in the new Kotlin 1.4 coroutine debugger: https://youtrack.jetbrains.com/issue/KT-41175. As a workaround please do in Intellij IDEA: **File | Settings (Preferences) | Build, Execution, Deployment | Debugger | Data Views | Kotlin | Disable coroutine agent.**\r\n\r\nThe coroutine debugger is going to be disabled in MPP projects by default in Kotlin 1.4.10.","title":"Debug mode stopped working in IDEA with Kotlin","body":"<p>This is a bug in the new Kotlin 1.4 coroutine debugger: <a href=\"https://youtrack.jetbrains.com/issue/KT-41175\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-41175</a>. As a workaround please do in Intellij IDEA: <strong>File | Settings (Preferences) | Build, Execution, Deployment | Debugger | Data Views | Kotlin | Disable coroutine agent.</strong></p>\n<p>The coroutine debugger is going to be disabled in MPP projects by default in Kotlin 1.4.10.</p>\n"},{"tags":[],"owner":{"account_id":4429916,"reputation":11,"user_id":3607297,"display_name":"DupontC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677746579,"creation_date":1677746579,"answer_id":75613054,"question_id":63668477,"body_markdown":"In some Intellij version : **File | Settings (Preferences) | Build, Execution, Deployment | Debugger**\r\n\r\n[![coroutime location][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/plby3.png","title":"Debug mode stopped working in IDEA with Kotlin","body":"<p>In some Intellij version : <strong>File | Settings (Preferences) | Build, Execution, Deployment | Debugger</strong></p>\n<p><a href=\"https://i.stack.imgur.com/plby3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/plby3.png\" alt=\"coroutime location\" /></a></p>\n"}],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3065,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":63688652,"answer_count":2,"score":10,"last_activity_date":1677746579,"creation_date":1598867253,"question_id":63668477,"body_markdown":"I have been working on a project for a while now and on one day I tried to run my project in debug mode and I got this error message:\r\n\r\n```\r\nFailed to find Premain-Class manifest attribute in C:\\Users\\myuser\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlinx\\kotlinx-coroutines-core-metadata\\1.3.8-native-mt-1.4.0-rc\\5b54677a19ebb20ec7dac0d9e4dfc806df327df\\kotlinx-coroutines-core-metadata-1.3.8-native-mt-1.4.0-rc.jar\r\nError occurred during initialization of VM\r\nagent library failed to init: instrument\r\n```\r\n\r\nI tried\r\n\r\n - Invalidate cache and restart\r\n - Reimporting the project\r\n - Deleting the `.gradle` folder from the project **and** my HOME dir\r\n\r\nbut nothing helped.\r\n\r\nWhat can I do to solve this? I did no code change that could make this happen, it was working a day ago.","title":"Debug mode stopped working in IDEA with Kotlin","body":"<p>I have been working on a project for a while now and on one day I tried to run my project in debug mode and I got this error message:</p>\n<pre><code>Failed to find Premain-Class manifest attribute in C:\\Users\\myuser\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlinx\\kotlinx-coroutines-core-metadata\\1.3.8-native-mt-1.4.0-rc\\5b54677a19ebb20ec7dac0d9e4dfc806df327df\\kotlinx-coroutines-core-metadata-1.3.8-native-mt-1.4.0-rc.jar\nError occurred during initialization of VM\nagent library failed to init: instrument\n</code></pre>\n<p>I tried</p>\n<ul>\n<li>Invalidate cache and restart</li>\n<li>Reimporting the project</li>\n<li>Deleting the <code>.gradle</code> folder from the project <strong>and</strong> my HOME dir</li>\n</ul>\n<p>but nothing helped.</p>\n<p>What can I do to solve this? I did no code change that could make this happen, it was working a day ago.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677746125,"creation_date":1677745288,"answer_id":75612869,"question_id":75612741,"body_markdown":"You can use Java&#39;s CompletableFuture :\r\n\r\n    List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n    if (mobile != null) {\r\n       futures.add(checkDuplicateMobileNo(mobile).thenAccept(duplicateExists -&gt; {\r\n       if (duplicateExists) {\r\n           throw new BadRequestException();\r\n       }\r\n       }));\r\n    }\r\n\r\n    if (email != null) {\r\n        futures.add(checkDuplicateEmail(email).thenAccept(duplicateExists -&gt; {\r\n       if (duplicateExists) {\r\n           throw new BadRequestException();\r\n       }\r\n       }));\r\n    }\r\n\r\n    if (uniqueId1 != null) {\r\n        futures.add(checkDuplicateUniqueId1(uniqueId1).thenAccept(duplicateExists -&gt; {\r\n       if (duplicateExists) {\r\n           throw new BadRequestException();\r\n       }\r\n       }));\r\n    }\r\n\r\n    if (uniqueId2 != null) {\r\n       futures.add(checkDuplicateUniqueId2(uniqueId2).thenAccept(duplicateExists -&gt; {\r\n       if (duplicateExists) {\r\n           throw new BadRequestException();\r\n       }\r\n       }));\r\n    }\r\n\r\n    CompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();\r\n\r\n    // then do post request\r\n\r\nYes, if you write the duplicate checks using if statements, they will be executed in sequence, one after another. This means that the next check will only be performed after the previous one has completed. This can cause delays and slow down the overall execution of your code.\r\n\r\nTo make the duplicate checks execute in parallel:\r\n\r\n    List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n    if(mobile!=null){\r\n        futures.add(CompletableFuture.runAsync(() -&gt; {\r\n      if(checkDuplicateMobileNo(mobile)){\r\n         throw new BadRequestException();\r\n      }\r\n       }));\r\n    }\r\n\r\n    if(email!=null){\r\n       futures.add(CompletableFuture.runAsync(() -&gt; {\r\n      if(checkDuplicateEmail(email)){\r\n         throw new BadRequestException();\r\n      }\r\n       }));\r\n    }\r\n\r\n    if(uniqueId1!=null){\r\n       futures.add(CompletableFuture.runAsync(() -&gt; {\r\n      if(checkDuplicateUniqueId1(uniqueId1)){\r\n         throw new BadRequestException();\r\n      }\r\n       }));\r\n    }\r\n\r\n    if(uniqueId2!=null){\r\n       futures.add(CompletableFuture.runAsync(() -&gt; {\r\n      if(checkDuplicateUniqueId2(uniqueId2)){\r\n         throw new BadRequestException();\r\n      }\r\n       }));\r\n    }\r\n\r\n    CompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();\r\n\r\n    // then do post request\r\n","title":"make multiple REST API calls parallel in Spring","body":"<p>You can use Java's CompletableFuture :</p>\n<pre><code>List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\n\nif (mobile != null) {\n   futures.add(checkDuplicateMobileNo(mobile).thenAccept(duplicateExists -&gt; {\n   if (duplicateExists) {\n       throw new BadRequestException();\n   }\n   }));\n}\n\nif (email != null) {\n    futures.add(checkDuplicateEmail(email).thenAccept(duplicateExists -&gt; {\n   if (duplicateExists) {\n       throw new BadRequestException();\n   }\n   }));\n}\n\nif (uniqueId1 != null) {\n    futures.add(checkDuplicateUniqueId1(uniqueId1).thenAccept(duplicateExists -&gt; {\n   if (duplicateExists) {\n       throw new BadRequestException();\n   }\n   }));\n}\n\nif (uniqueId2 != null) {\n   futures.add(checkDuplicateUniqueId2(uniqueId2).thenAccept(duplicateExists -&gt; {\n   if (duplicateExists) {\n       throw new BadRequestException();\n   }\n   }));\n}\n\nCompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();\n\n// then do post request\n</code></pre>\n<p>Yes, if you write the duplicate checks using if statements, they will be executed in sequence, one after another. This means that the next check will only be performed after the previous one has completed. This can cause delays and slow down the overall execution of your code.</p>\n<p>To make the duplicate checks execute in parallel:</p>\n<pre><code>List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\n\nif(mobile!=null){\n    futures.add(CompletableFuture.runAsync(() -&gt; {\n  if(checkDuplicateMobileNo(mobile)){\n     throw new BadRequestException();\n  }\n   }));\n}\n\nif(email!=null){\n   futures.add(CompletableFuture.runAsync(() -&gt; {\n  if(checkDuplicateEmail(email)){\n     throw new BadRequestException();\n  }\n   }));\n}\n\nif(uniqueId1!=null){\n   futures.add(CompletableFuture.runAsync(() -&gt; {\n  if(checkDuplicateUniqueId1(uniqueId1)){\n     throw new BadRequestException();\n  }\n   }));\n}\n\nif(uniqueId2!=null){\n   futures.add(CompletableFuture.runAsync(() -&gt; {\n  if(checkDuplicateUniqueId2(uniqueId2)){\n     throw new BadRequestException();\n  }\n   }));\n}\n\nCompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();\n\n// then do post request\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10848746,"reputation":239,"user_id":7977273,"display_name":"Dishant Kamble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677745662,"creation_date":1677745662,"answer_id":75612928,"question_id":75612741,"body_markdown":"It&#39;s difficult to comprehend your question as to what exactly you want to achieve. But with the initial understanding, I believe you can do the following.\r\n\r\n1. Make your client reactive (i.e. use `WebClient` instead of `RestTemplate`)\r\n2. Do **NOT** `block` the response of the client call immediately (i.e. you will have a `Mono` as a return)\r\n3. Make all 4 client calls within a `Mono.zip`\r\n4. Perform your computation and registration\r\n5. `blockOptional` to complete the flow.\r\n\r\nHope this gives a baseline.\r\n\r\nIf unclear, feel free to add a comment.","title":"make multiple REST API calls parallel in Spring","body":"<p>It's difficult to comprehend your question as to what exactly you want to achieve. But with the initial understanding, I believe you can do the following.</p>\n<ol>\n<li>Make your client reactive (i.e. use <code>WebClient</code> instead of <code>RestTemplate</code>)</li>\n<li>Do <strong>NOT</strong> <code>block</code> the response of the client call immediately (i.e. you will have a <code>Mono</code> as a return)</li>\n<li>Make all 4 client calls within a <code>Mono.zip</code></li>\n<li>Perform your computation and registration</li>\n<li><code>blockOptional</code> to complete the flow.</li>\n</ol>\n<p>Hope this gives a baseline.</p>\n<p>If unclear, feel free to add a comment.</p>\n"}],"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677746125,"creation_date":1677744494,"question_id":75612741,"body_markdown":"My API does the POST request for registration ,to find the duplicate records in the request body it does 4 GET calls to other API.\r\n1. Checks mobile number already exists or not\r\n2. Email ID already exists or not\r\n3. Check for other 2 unique IDs already exists or not.\r\n\r\nCode:\r\n\r\n    if(mobile!=null){\r\n       if(checkDuplicateMobileNo(mobile)){ // restTemplate call to GET API\r\n         throw new BadRequestException();\r\n    }\r\n    \r\n    if(email!=null){\r\n       if(checkDuplicateEmail(email)){ // restTemplate call to GET API\r\n         throw new BadRequestException();\r\n    }\r\n    \r\n    if(uniqueId1!=null){\r\n       if(checkDuplicateUniqueId1(uniqueId1)){ // restTemplate call to GET API\r\n         throw new BadRequestException();\r\n    }\r\n    \r\n    if(uniqueId2!=null){\r\n       if(checkDuplicateUniqueId1(uniqueId1)){ // restTemplate call to GET API\r\n         throw new BadRequestException();\r\n    }\r\n\r\n// then do post request\r\n\r\nHow can I do duplicate checks parallelly in Spring?\r\n\r\n\r\n","title":"make multiple REST API calls parallel in Spring","body":"<p>My API does the POST request for registration ,to find the duplicate records in the request body it does 4 GET calls to other API.</p>\n<ol>\n<li>Checks mobile number already exists or not</li>\n<li>Email ID already exists or not</li>\n<li>Check for other 2 unique IDs already exists or not.</li>\n</ol>\n<p>Code:</p>\n<pre><code>if(mobile!=null){\n   if(checkDuplicateMobileNo(mobile)){ // restTemplate call to GET API\n     throw new BadRequestException();\n}\n\nif(email!=null){\n   if(checkDuplicateEmail(email)){ // restTemplate call to GET API\n     throw new BadRequestException();\n}\n\nif(uniqueId1!=null){\n   if(checkDuplicateUniqueId1(uniqueId1)){ // restTemplate call to GET API\n     throw new BadRequestException();\n}\n\nif(uniqueId2!=null){\n   if(checkDuplicateUniqueId1(uniqueId1)){ // restTemplate call to GET API\n     throw new BadRequestException();\n}\n</code></pre>\n<p>// then do post request</p>\n<p>How can I do duplicate checks parallelly in Spring?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4246990,"reputation":113,"user_id":3475366,"display_name":"user3475366"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677745783,"creation_date":1677745783,"answer_id":75612948,"question_id":75609628,"body_markdown":"OMG I didn&#39;t realize that \r\n```\r\n@ManyToOne(cascade = CascadeType.ALL)\r\n```\r\ndoes save of A again. After removing ```cascade = CascadeType.ALL``` everything works as expected.","title":"orphanRemoval generates additional delete-statement","body":"<p>OMG I didn't realize that</p>\n<pre><code>@ManyToOne(cascade = CascadeType.ALL)\n</code></pre>\n<p>does save of A again. After removing <code>cascade = CascadeType.ALL</code> everything works as expected.</p>\n"}],"owner":{"account_id":4246990,"reputation":113,"user_id":3475366,"display_name":"user3475366"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677745783,"creation_date":1677709625,"question_id":75609628,"body_markdown":"I have the following: \r\n```\r\nclass A {\r\n\r\n @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = &quot;a&quot;)\r\n    private Set&lt;B&gt; bs;\r\n \r\n @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;a&quot;)\r\n private Set&lt;C&gt; cs;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;B&quot;)\r\n@IdClass(BKey.class)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\nclass B {\r\n    @Id\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;a_id&quot;)\r\n    private A a;\r\n\r\n    @Id\r\n    private String anotherKey;\r\n}\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\npublic class BKey implements Serializable {\r\n\r\n    private A a;\r\n\r\n    private String anotherKey;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;C&quot;)\r\n@IdClass(CKey.class)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\nclass C {\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;a_id&quot;)\r\n    private A a;\r\n\r\n    @Id\r\n    private String anotherKey;\r\n}\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\npublic class CKey implements Serializable {\r\n\r\n    private A a;\r\n\r\n    private String anotherKey;\r\n}\r\n\r\n```\r\n\r\nwhen I&#39;m doing \r\n\r\n```myRepo.save(objectA);```\r\n\r\nit does what I need actually, if there are new items of class B, then insert-statement is generated, if some of them removed, then delete-statement is generated because of orphanRemoval. \r\nBut for some reason when new items are added for class C, then correct insert-statements are generated but in addition one delete-statement is generated which always remove first added item. I totally don&#39;t get this. Any reasons what can cause this ? When I remove orphanRemoval from B, then the delete-statement is not generated which is expected behaviour. But as you see there is just no relation between B and C.   ","title":"orphanRemoval generates additional delete-statement","body":"<p>I have the following:</p>\n<pre><code>class A {\n\n @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = &quot;a&quot;)\n    private Set&lt;B&gt; bs;\n \n @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;a&quot;)\n private Set&lt;C&gt; cs;\n}\n\n@Entity\n@Table(name = &quot;B&quot;)\n@IdClass(BKey.class)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\nclass B {\n    @Id\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;a_id&quot;)\n    private A a;\n\n    @Id\n    private String anotherKey;\n}\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class BKey implements Serializable {\n\n    private A a;\n\n    private String anotherKey;\n}\n\n@Entity\n@Table(name = &quot;C&quot;)\n@IdClass(CKey.class)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\nclass C {\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;a_id&quot;)\n    private A a;\n\n    @Id\n    private String anotherKey;\n}\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class CKey implements Serializable {\n\n    private A a;\n\n    private String anotherKey;\n}\n\n</code></pre>\n<p>when I'm doing</p>\n<p><code>myRepo.save(objectA);</code></p>\n<p>it does what I need actually, if there are new items of class B, then insert-statement is generated, if some of them removed, then delete-statement is generated because of orphanRemoval.\nBut for some reason when new items are added for class C, then correct insert-statements are generated but in addition one delete-statement is generated which always remove first added item. I totally don't get this. Any reasons what can cause this ? When I remove orphanRemoval from B, then the delete-statement is not generated which is expected behaviour. But as you see there is just no relation between B and C.</p>\n"},{"tags":["java","email","microsoft-graph-api","email-attachments"],"answers":[{"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677745530,"creation_date":1677673279,"answer_id":75603664,"question_id":75603350,"body_markdown":"One way can be this\r\n\r\n    GET https://graph.microsoft.com/v1.0/me/messages/{messageId}/attachments/$count\r\n\r\nCode\r\n\r\n    int attachmentsCount = graphClient.me().messages(messageId).attachments().count()\r\n\t.buildRequest()\r\n\t.get();\r\n\r\nThe correct way based on ODATA should be\r\n\r\n    Message message = graphClient.me().messages(messageId)\r\n\t.buildRequest()\r\n\t.expand(&quot;attachments($count=true)&quot;)\r\n\t.select(&quot;id,subject,receivedDatetime,isRead&quot;)\r\n\t.get();\r\n\r\nIn `$expand` you should be able specify query parameter for expanded properties but Graph API ignores it","title":"How to fetch count of attachments (only) in graph api using java","body":"<p>One way can be this</p>\n<pre><code>GET https://graph.microsoft.com/v1.0/me/messages/{messageId}/attachments/$count\n</code></pre>\n<p>Code</p>\n<pre><code>int attachmentsCount = graphClient.me().messages(messageId).attachments().count()\n.buildRequest()\n.get();\n</code></pre>\n<p>The correct way based on ODATA should be</p>\n<pre><code>Message message = graphClient.me().messages(messageId)\n.buildRequest()\n.expand(&quot;attachments($count=true)&quot;)\n.select(&quot;id,subject,receivedDatetime,isRead&quot;)\n.get();\n</code></pre>\n<p>In <code>$expand</code> you should be able specify query parameter for expanded properties but Graph API ignores it</p>\n"}],"owner":{"account_id":5338579,"reputation":89,"user_id":4256613,"display_name":"Afsar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677745530,"creation_date":1677671577,"question_id":75603350,"body_markdown":"I want to fetch count of attachments in a mail using grapgClient in java.\r\nOne way is there is fetch AttachmentCollectionPage and then get number. But I want to get count attachment count while I am fetching subject, received. I do not want to download content of attachments.\r\n\r\nSo do we have any way to call like this:\r\n\r\n    graphClientService.messages(messageId)\r\n                     .buildRequest()\r\n                        .select(&quot;subject,receivedDatetime,isRead,attachments.count&quot;)\r\n                                .get();\r\n\r\n  \r\n\r\n\r\nDo we have any way to fetch count like this ***attachments.count*** ?\r\n","title":"How to fetch count of attachments (only) in graph api using java","body":"<p>I want to fetch count of attachments in a mail using grapgClient in java.\nOne way is there is fetch AttachmentCollectionPage and then get number. But I want to get count attachment count while I am fetching subject, received. I do not want to download content of attachments.</p>\n<p>So do we have any way to call like this:</p>\n<pre><code>graphClientService.messages(messageId)\n                 .buildRequest()\n                    .select(&quot;subject,receivedDatetime,isRead,attachments.count&quot;)\n                            .get();\n</code></pre>\n<p>Do we have any way to fetch count like this <em><strong>attachments.count</strong></em> ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677744978,"post_id":75612720,"comment_id":133399291,"body_markdown":"`Uri uri = Uri.parse(&quot;//download:&quot;+url)` ??? What should that be? Please start with a valud url","body":"<code>Uri uri = Uri.parse(&quot;&#47;&#47;download:&quot;+url)</code> ??? What should that be? Please start with a valud url"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677745083,"post_id":75612720,"comment_id":133399315,"body_markdown":"If you catch that exception your app would not crash.","body":"If you catch that exception your app would not crash."},{"owner":{"account_id":27916120,"reputation":3,"user_id":21317247,"display_name":"Habie Putra"},"score":0,"creation_date":1677747447,"post_id":75612720,"comment_id":133399909,"body_markdown":"@blackapps im trying something before and forgot to delete that, any thanks! my app didnt crash anymore","body":"@blackapps im trying something before and forgot to delete that, any thanks! my app didnt crash anymore"}],"answers":[{"tags":[],"owner":{"account_id":15410355,"reputation":95,"user_id":11117247,"display_name":"Nasimuddin Bhanej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677745454,"creation_date":1677745454,"answer_id":75612894,"question_id":75612720,"body_markdown":"Try this inside *onDownloadStart*:\r\n\r\n    Intent aIntent = new Intent(Intent.ACTION_VIEW);\r\n    aIntent.setData(Uri.parse(url));\r\n    startActivity(aIntent);\r\n\r\nIf that doesn&#39;t work, We can use DownloadManager to download content from url under *onDownloadStart*:\r\n\r\n    DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\r\n\r\n    request.allowScanningByMediaScanner();\r\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, &quot;&lt;&lt;FileName&gt;&gt;&quot;);\r\n\r\n    DownloadManager dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    dm.enqueue(request);\r\n    Toast.makeText(getApplicationContext(), &quot;Downloading File&quot;, Toast.LENGTH_LONG).show();\r\n\r\nAlong with this permission in *AndroidManifest.xml* file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;","title":"Android: No Activity found to handle Intent ( Download .xml file)","body":"<p>Try this inside <em>onDownloadStart</em>:</p>\n<pre><code>Intent aIntent = new Intent(Intent.ACTION_VIEW);\naIntent.setData(Uri.parse(url));\nstartActivity(aIntent);\n</code></pre>\n<p>If that doesn't work, We can use DownloadManager to download content from url under <em>onDownloadStart</em>:</p>\n<pre><code>DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\n\nrequest.allowScanningByMediaScanner();\nrequest.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n\nrequest.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, &quot;&lt;&lt;FileName&gt;&gt;&quot;);\n\nDownloadManager dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\ndm.enqueue(request);\nToast.makeText(getApplicationContext(), &quot;Downloading File&quot;, Toast.LENGTH_LONG).show();\n</code></pre>\n<p>Along with this permission in <em>AndroidManifest.xml</em> file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":27916120,"reputation":3,"user_id":21317247,"display_name":"Habie Putra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75612894,"answer_count":1,"score":0,"last_activity_date":1677745454,"creation_date":1677744316,"question_id":75612720,"body_markdown":"Crash after trigger download button that contains url to download .xml file\r\n\r\nI am new in Android Development, i want to create a android app source from my web using webView but always crashing when i trying to download .xml file in emulator, can someone help me to correcting this code?\r\n\r\nError i face\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.webview, PID: 2422\r\n    android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=//download:blob:http:mydownloadurl\r\n```\r\n\r\n\r\n```\r\nimport ...\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    WebView mWebView;\r\n\r\n\r\n\r\n    String URL = &quot;myWebsite&quot;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        mWebView = (WebView) findViewById(R.id.webView);\r\n\r\n\r\n        //menghidupkan javascript\r\n        mWebView.getSettings().setJavaScriptEnabled(true);\r\n        mWebView.loadUrl(URL);\r\n        mWebView.setWebViewClient(new MyWebViewClient());\r\n        mWebView.getSettings().setAllowContentAccess(true);\r\n        mWebView.getSettings().setDomStorageEnabled(true);\r\n        mWebView.getSettings().setAllowFileAccess(true);\r\n\r\n        mWebView.setDownloadListener(new DownloadListener() {\r\n            public void onDownloadStart(String url, String userAgent,\r\n                                        String contentDisposition, String mimetype,\r\n                                        long contentLength) {\r\n                Uri uri = Uri.parse(&quot;//download:&quot;+url);\r\n                Intent aIntent = new Intent(Intent.ACTION_VIEW,uri);\r\n                startActivity(aIntent);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    //method ini perlu ditambahkan agar saat halaman web diload tetap diload di aplikasi, tidak diload di webbrowseer\r\n    private class MyWebViewClient extends WebViewClient {\r\n\r\n\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n        @Override\r\n        public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\r\n            handler.proceed();\r\n        }\r\n\r\n    }\r\n\r\n    //tambahkan method ini agar saat tombol back ditekan, tidak keluar dari aplikasi tapi kembali ke halaman sebelumnya\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n\r\n        if ((keyCode == KeyEvent.KEYCODE_BACK) &amp;&amp; mWebView.canGoBack()) {\r\n            mWebView.goBack();\r\n            return true;\r\n        }\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n```\r\n","title":"Android: No Activity found to handle Intent ( Download .xml file)","body":"<p>Crash after trigger download button that contains url to download .xml file</p>\n<p>I am new in Android Development, i want to create a android app source from my web using webView but always crashing when i trying to download .xml file in emulator, can someone help me to correcting this code?</p>\n<p>Error i face</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.webview, PID: 2422\n    android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=//download:blob:http:mydownloadurl\n</code></pre>\n<pre><code>import ...\n\npublic class MainActivity extends AppCompatActivity {\n    WebView mWebView;\n\n\n\n    String URL = &quot;myWebsite&quot;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        mWebView = (WebView) findViewById(R.id.webView);\n\n\n        //menghidupkan javascript\n        mWebView.getSettings().setJavaScriptEnabled(true);\n        mWebView.loadUrl(URL);\n        mWebView.setWebViewClient(new MyWebViewClient());\n        mWebView.getSettings().setAllowContentAccess(true);\n        mWebView.getSettings().setDomStorageEnabled(true);\n        mWebView.getSettings().setAllowFileAccess(true);\n\n        mWebView.setDownloadListener(new DownloadListener() {\n            public void onDownloadStart(String url, String userAgent,\n                                        String contentDisposition, String mimetype,\n                                        long contentLength) {\n                Uri uri = Uri.parse(&quot;//download:&quot;+url);\n                Intent aIntent = new Intent(Intent.ACTION_VIEW,uri);\n                startActivity(aIntent);\n            }\n        });\n\n    }\n\n    //method ini perlu ditambahkan agar saat halaman web diload tetap diload di aplikasi, tidak diload di webbrowseer\n    private class MyWebViewClient extends WebViewClient {\n\n\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n\n            view.loadUrl(url);\n            return true;\n        }\n        @Override\n        public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\n            handler.proceed();\n        }\n\n    }\n\n    //tambahkan method ini agar saat tombol back ditekan, tidak keluar dari aplikasi tapi kembali ke halaman sebelumnya\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n\n        if ((keyCode == KeyEvent.KEYCODE_BACK) &amp;&amp; mWebView.canGoBack()) {\n            mWebView.goBack();\n            return true;\n        }\n        return super.onKeyDown(keyCode, event);\n    }\n</code></pre>\n"},{"tags":["java","virtual-machine","openstack","openstack-glance","openstacksdk"],"comments":[{"owner":{"account_id":23891810,"reputation":11,"user_id":17891346,"display_name":"Аа Аа"},"score":0,"creation_date":1678450703,"post_id":75612887,"comment_id":133539354,"body_markdown":"Issue: https://github.com/openstack4j/openstack4j/issues/202","body":"Issue: <a href=\"https://github.com/openstack4j/openstack4j/issues/202\" rel=\"nofollow noreferrer\">github.com/openstack4j/openstack4j/issues/202</a>"}],"owner":{"account_id":23891810,"reputation":11,"user_id":17891346,"display_name":"Аа Аа"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677745402,"creation_date":1677745402,"question_id":75612887,"body_markdown":"**Environment**\r\nJava 17 + Spring\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.openstack4j.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;openstack4j&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n**Call**\r\n```\r\nString imageId = &lt;id that was used to create VM image metadata through osClientV3.imagesV2().create(image)&gt;;\r\nImageUpdate imageUpdate = &lt;patch data&gt;;\r\nOSClientV3 osClientV3 = &lt;create client&gt;;\r\nImage image = osClientV3\r\n                .imagesV2()\r\n                .update(imageId, imageUpdate);\r\n```\r\n\r\n**Created request**\r\n```\r\n\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.impl.conn.DefaultHttpClientConnectionOperator : Connection established 10.16.104.31:62444&lt;-&gt;&lt;my_os_ip&gt;:9292\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.impl.execchain.MainClientExec : Executing request PATCH /v2/images/5b9acfbb-1e19-4127-8bac-fe1eae2ed1ad HTTP/1.1\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.impl.execchain.MainClientExec : Target auth state: UNCHALLENGED\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.impl.execchain.MainClientExec : Proxy auth state: UNCHALLENGED\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; PATCH /v2/images/5b9acfbb-1e19-4127-8bac-fe1eae2ed1ad HTTP/1.1\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Content-Type: application/json\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; User-Agent: OpenStack4j / OpenStack Client\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; X-Auth-Token: my-auth-token\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; X-OpenStack-Nova-API-Version: 2.90\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Content-Length: 246\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Host:  my-correct-os-hostname:9292\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Connection: Keep-Alive\r\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate\r\n```\r\nMistake here: \r\n```\r\nContent-Type: application/json\r\n```\r\n\r\n**Response log:**\r\n```\r\n2023-03-01 19:44:38,123 DEBUG [http-nio-8104-exec-9] org.apache.http.wire : http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 415 Unsupported Media Type[\\r][\\n]&quot;\r\n2023-03-01 19:44:38,123 DEBUG [http-nio-8104-exec-9] org.apache.http.wire : http-outgoing-57 &lt;&lt; &quot;accept-patch: application/openstack-images-v2.0-json-patch, application/openstack-images-v2.1-json-patch[\\r][\\n]&quot;\r\n2023-03-01 19:44:38,123 DEBUG [http-nio-8104-exec-9] org.apache.http.wire : http-outgoing-57 &lt;&lt; &quot;content-length: 104[\\r][\\n]&quot;\r\n2023-03-01 19:44:38,123 DEBUG [http-nio-8104-exec-9] org.apache.http.wire : http-outgoing-57 &lt;&lt; &quot;content-type: text/plain; charset=UTF-8[\\r][\\n]&quot;\r\n\r\n```\r\n**Expected behavior**\r\nWhen i call it in Insomnia i use other headers (it works well)\r\n```\r\n&gt; PATCH /v2/images/d55969b2-7e83-474e-84ff-29212e80efa4 HTTP/1.1\r\n&gt; Host:  my-correct-os-hostname:9292\r\n&gt; User-Agent: insomnia/2022.7.5\r\n&gt; X-OpenStack-Nova-API-Version: 2.90\r\n&gt; X-Auth-Token: my-auth-token\r\n&gt; Content-Type: application/openstack-images-v2.1-json-patch\r\n&gt; Accept: */*\r\n&gt; Content-Length: 207\r\n```\r\n\r\n**Proofs**\r\nOfficial doc: https://specs.openstack.org/openstack/glance-specs/specs/api/v2/http-patch-image-api-v2.html\r\nUser case: https://www.sebastien-han.fr/blog/2015/05/13/openstack-glance-use-multiple-location-for-an-image/\r\n\r\nIs documentation correct?\r\nAre there any ways to set custom headers to `osClientV3` ?\r\n\r\nI tried to invoke PATCH method for precreated virtual machine image metadata.","title":"Weird behavior of Openstack SDK for java: PATCH calls with incorrect headers","body":"<p><strong>Environment</strong>\nJava 17 + Spring</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.openstack4j.core&lt;/groupId&gt;\n            &lt;artifactId&gt;openstack4j&lt;/artifactId&gt;\n            &lt;version&gt;3.10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>Call</strong></p>\n<pre><code>String imageId = &lt;id that was used to create VM image metadata through osClientV3.imagesV2().create(image)&gt;;\nImageUpdate imageUpdate = &lt;patch data&gt;;\nOSClientV3 osClientV3 = &lt;create client&gt;;\nImage image = osClientV3\n                .imagesV2()\n                .update(imageId, imageUpdate);\n</code></pre>\n<p><strong>Created request</strong></p>\n<pre><code>\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.impl.conn.DefaultHttpClientConnectionOperator : Connection established 10.16.104.31:62444&lt;-&gt;&lt;my_os_ip&gt;:9292\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.impl.execchain.MainClientExec : Executing request PATCH /v2/images/5b9acfbb-1e19-4127-8bac-fe1eae2ed1ad HTTP/1.1\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.impl.execchain.MainClientExec : Target auth state: UNCHALLENGED\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.impl.execchain.MainClientExec : Proxy auth state: UNCHALLENGED\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; PATCH /v2/images/5b9acfbb-1e19-4127-8bac-fe1eae2ed1ad HTTP/1.1\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Content-Type: application/json\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; User-Agent: OpenStack4j / OpenStack Client\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; X-Auth-Token: my-auth-token\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; X-OpenStack-Nova-API-Version: 2.90\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Content-Length: 246\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Host:  my-correct-os-hostname:9292\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Connection: Keep-Alive\n2023-03-01 19:44:38,113 DEBUG [http-nio-8104-exec-9] org.apache.http.headers : http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate\n</code></pre>\n<p>Mistake here:</p>\n<pre><code>Content-Type: application/json\n</code></pre>\n<p><strong>Response log:</strong></p>\n<pre><code>2023-03-01 19:44:38,123 DEBUG [http-nio-8104-exec-9] org.apache.http.wire : http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 415 Unsupported Media Type[\\r][\\n]&quot;\n2023-03-01 19:44:38,123 DEBUG [http-nio-8104-exec-9] org.apache.http.wire : http-outgoing-57 &lt;&lt; &quot;accept-patch: application/openstack-images-v2.0-json-patch, application/openstack-images-v2.1-json-patch[\\r][\\n]&quot;\n2023-03-01 19:44:38,123 DEBUG [http-nio-8104-exec-9] org.apache.http.wire : http-outgoing-57 &lt;&lt; &quot;content-length: 104[\\r][\\n]&quot;\n2023-03-01 19:44:38,123 DEBUG [http-nio-8104-exec-9] org.apache.http.wire : http-outgoing-57 &lt;&lt; &quot;content-type: text/plain; charset=UTF-8[\\r][\\n]&quot;\n\n</code></pre>\n<p><strong>Expected behavior</strong>\nWhen i call it in Insomnia i use other headers (it works well)</p>\n<pre><code>&gt; PATCH /v2/images/d55969b2-7e83-474e-84ff-29212e80efa4 HTTP/1.1\n&gt; Host:  my-correct-os-hostname:9292\n&gt; User-Agent: insomnia/2022.7.5\n&gt; X-OpenStack-Nova-API-Version: 2.90\n&gt; X-Auth-Token: my-auth-token\n&gt; Content-Type: application/openstack-images-v2.1-json-patch\n&gt; Accept: */*\n&gt; Content-Length: 207\n</code></pre>\n<p><strong>Proofs</strong>\nOfficial doc: <a href=\"https://specs.openstack.org/openstack/glance-specs/specs/api/v2/http-patch-image-api-v2.html\" rel=\"nofollow noreferrer\">https://specs.openstack.org/openstack/glance-specs/specs/api/v2/http-patch-image-api-v2.html</a>\nUser case: <a href=\"https://www.sebastien-han.fr/blog/2015/05/13/openstack-glance-use-multiple-location-for-an-image/\" rel=\"nofollow noreferrer\">https://www.sebastien-han.fr/blog/2015/05/13/openstack-glance-use-multiple-location-for-an-image/</a></p>\n<p>Is documentation correct?\nAre there any ways to set custom headers to <code>osClientV3</code> ?</p>\n<p>I tried to invoke PATCH method for precreated virtual machine image metadata.</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1677758158,"post_id":75612853,"comment_id":133402964,"body_markdown":"What about `double a = 3 / 2.0` so you&#39;re not doing integer division?","body":"What about <code>double a = 3 &#47; 2.0</code> so you&#39;re not doing integer division?"},{"owner":{"account_id":27916168,"reputation":1,"user_id":21317292,"display_name":"lucky dog"},"score":0,"creation_date":1677838150,"post_id":75612853,"comment_id":133420217,"body_markdown":"when I want verify difference between groovy divide  and  java divide. \nI find this strange phenomenon with open or close  invoke dynamic","body":"when I want verify difference between groovy divide  and  java divide.  I find this strange phenomenon with open or close  invoke dynamic"},{"owner":{"account_id":27916168,"reputation":1,"user_id":21317292,"display_name":"lucky dog"},"score":0,"creation_date":1677838411,"post_id":75612853,"comment_id":133420280,"body_markdown":"if I switch `def a = 3 / 2`, it will work well and meet expectations","body":"if I switch <code>def a = 3 &#47; 2</code>, it will work well and meet expectations"}],"owner":{"account_id":27916168,"reputation":1,"user_id":21317292,"display_name":"lucky dog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677745363,"creation_date":1677745174,"question_id":75612853,"body_markdown":"## my evniment:\r\ngroovy 3.0.8  \r\njvm 1.8   \r\nsystem window10  \r\n\r\n\r\n## my problem\r\nSame groovy source code,\r\nif I close invoke dynamic the run result is inconsistent with open invoke dynamic.\r\n\r\nmy source code:\r\n\r\n```groovy  \r\nstatic void main(String[] args) {\r\n        double a = 3 / 2\r\n        println a\r\n    }\r\n```\r\n\r\n\r\ncompile with close invoke dynamic. will print result: 1.0\r\n```\r\n\r\n    public static void main(String... args) {\r\n        CallSite[] var1 = $getCallSiteArray();\r\n        double a = 0.0D;\r\n        if (BytecodeInterface8.isOrigInt() &amp;&amp; BytecodeInterface8.isOrigD() &amp;&amp; !__$stMC &amp;&amp; !BytecodeInterface8.disabledStandardMetaClass()) {\r\n            int var5 = 3 / 2;\r\n            a = (double)var5;\r\n        } else {\r\n            Object var4 = var1[0].call(3, 2);\r\n            a = DefaultTypeTransformation.doubleUnbox(var4);\r\n        }\r\n\r\n        var1[1].callStatic(AA.class, a);\r\n    }\r\n\r\n```\r\n\r\n\r\ncompile with open invoke dynamic,will print result 1.5\r\n```\r\n    public static void main(String... args) {\r\n        double a = DefaultTypeTransformation.doubleUnbox(true.invoke&lt;invokedynamic&gt;(3, 2));\r\n        AA.class.invoke&lt;invokedynamic&gt;(AA.class, a);\r\n    }\r\n```\r\n\r\n\r\n## my expect result\r\nThe output should be the same whether it is closed or open","title":"groovy invoke dynamic Impact on divide operation","body":"<h2>my evniment:</h2>\n<p>groovy 3.0.8<br />\njvm 1.8<br />\nsystem window10</p>\n<h2>my problem</h2>\n<p>Same groovy source code,\nif I close invoke dynamic the run result is inconsistent with open invoke dynamic.</p>\n<p>my source code:</p>\n<pre><code>static void main(String[] args) {\n        double a = 3 / 2\n        println a\n    }\n</code></pre>\n<p>compile with close invoke dynamic. will print result: 1.0</p>\n<pre><code>\n    public static void main(String... args) {\n        CallSite[] var1 = $getCallSiteArray();\n        double a = 0.0D;\n        if (BytecodeInterface8.isOrigInt() &amp;&amp; BytecodeInterface8.isOrigD() &amp;&amp; !__$stMC &amp;&amp; !BytecodeInterface8.disabledStandardMetaClass()) {\n            int var5 = 3 / 2;\n            a = (double)var5;\n        } else {\n            Object var4 = var1[0].call(3, 2);\n            a = DefaultTypeTransformation.doubleUnbox(var4);\n        }\n\n        var1[1].callStatic(AA.class, a);\n    }\n\n</code></pre>\n<p>compile with open invoke dynamic,will print result 1.5</p>\n<pre><code>    public static void main(String... args) {\n        double a = DefaultTypeTransformation.doubleUnbox(true.invoke&lt;invokedynamic&gt;(3, 2));\n        AA.class.invoke&lt;invokedynamic&gt;(AA.class, a);\n    }\n</code></pre>\n<h2>my expect result</h2>\n<p>The output should be the same whether it is closed or open</p>\n"},{"tags":["java","compiler-errors","char"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677744942,"post_id":75612786,"comment_id":133399280,"body_markdown":"Interesting question. Why do you want this, what are you trying to obtain? The short answer is that the funny and unexpected behaviour is taken over from C and C++","body":"Interesting question. Why do you want this, what are you trying to obtain? The short answer is that the funny and unexpected behaviour is taken over from C and C++"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677745722,"post_id":75612786,"comment_id":133399461,"body_markdown":"I am afraid you over-interpreted [the tutorial](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html). It says that bitwise operators can be applied to integral types and that `~` (complement) *can be applied to any of the integral types*. Easy to misunderstand. What it does not say is that using `|` (or) on `char` first promotes the operands to `int`. Yeah, it’s confusing.","body":"I am afraid you over-interpreted <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">the tutorial</a>. It says that bitwise operators can be applied to integral types and that <code>~</code> (complement) <i>can be applied to any of the integral types</i>. Easy to misunderstand. What it does not say is that using <code>|</code> (or) on <code>char</code> first promotes the operands to <code>int</code>. Yeah, it’s confusing."},{"owner":{"account_id":27915978,"reputation":11,"user_id":21317124,"display_name":"Tempally Smith"},"score":1,"creation_date":1678102372,"post_id":75612786,"comment_id":133462271,"body_markdown":"Thank you all! I have found [the complete answer](https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.6.2). From now on I will carefully read the tutorial: &quot;perform bitwise and bit shift operations on integral types&quot; does not mean that it preserves that types.","body":"Thank you all! I have found <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.6.2\" rel=\"nofollow noreferrer\">the complete answer</a>. From now on I will carefully read the tutorial: &quot;perform bitwise and bit shift operations on integral types&quot; does not mean that it preserves that types."}],"owner":{"account_id":27915978,"reputation":11,"user_id":21317124,"display_name":"Tempally Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1677744887,"answer_count":0,"score":1,"last_activity_date":1677745332,"creation_date":1677744714,"question_id":75612786,"body_markdown":"For example, we have\r\n\r\n    char char1 = 0, char2 = 0;\r\n\r\nThis works fine:\r\n\r\n    char1 |= char2;\r\n\r\nThis does not:\r\n\r\n    char1 = char1 | char2;\r\n\r\nThe latter leads to &quot;error: incompatible types: possible lossy conversion from int to char&quot;\r\n\r\nWhy these options have different behavior?\r\n&lt;br/&gt;Where &quot;int&quot; has emerged? According to Oracle:\r\n- bitwise operators &quot;can be applied to any of the integral types&quot;\r\n- char is an integral type\r\n\r\n","title":"Java: why char1|=char2 is not equal to char1=char1|char2?","body":"<p>For example, we have</p>\n<pre><code>char char1 = 0, char2 = 0;\n</code></pre>\n<p>This works fine:</p>\n<pre><code>char1 |= char2;\n</code></pre>\n<p>This does not:</p>\n<pre><code>char1 = char1 | char2;\n</code></pre>\n<p>The latter leads to &quot;error: incompatible types: possible lossy conversion from int to char&quot;</p>\n<p>Why these options have different behavior?\n<br/>Where &quot;int&quot; has emerged? According to Oracle:</p>\n<ul>\n<li>bitwise operators &quot;can be applied to any of the integral types&quot;</li>\n<li>char is an integral type</li>\n</ul>\n"},{"tags":["java","jpa","enums","eclipselink"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1399640121,"post_id":23564506,"comment_id":36160277,"body_markdown":"Beware that this is likely to be fragile, especially because it&#39;s perfectly legal for an enum to have values `AVALUE` and `AValue`.","body":"Beware that this is likely to be fragile, especially because it&#39;s perfectly legal for an enum to have values <code>AVALUE</code> and <code>AValue</code>."},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1399644280,"post_id":23564506,"comment_id":36163280,"body_markdown":"yes thats true but I define that as completly forbidden :D","body":"yes thats true but I define that as completly forbidden :D"}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1430118582,"creation_date":1399638256,"answer_id":23564597,"question_id":23564506,"body_markdown":"What you need to do is write a generic base class and then extend that for each enum type you want to persist. Then use the extended type in the `@Converter` annotation:\r\n\r\n    public abstract class GenericEnumUppercaseConverter&lt;E extends Enum&lt;E&gt;&gt; implements AttributeConverter&lt;E, String&gt; {\r\n        ...\r\n    }\r\n  \r\n    public FooConverter\r\n        extends GenericEnumUppercaseConverter&lt;Foo&gt; \r\n        implements AttributeConverter&lt;Foo, String&gt; // See Bug HHH-8854\r\n    {\r\n        public FooConverter() {\r\n            super(Foo.class);\r\n        }\r\n    }\r\n\r\nwhere `Foo` is the enum you want to handle.\r\n\r\nThe alternative would be to define a custom annotation, patch the JPA provider to recognize this annotation. That way, you could examine the field type as you build the mapping information and feed the necessary enum type into a purely generic converter.\r\n\r\nRelated:\r\n\r\n* https://hibernate.atlassian.net/browse/HHH-8854","title":"Is it possible to write a generic enum converter for JPA?","body":"<p>What you need to do is write a generic base class and then extend that for each enum type you want to persist. Then use the extended type in the <code>@Converter</code> annotation:</p>\n\n<pre><code>public abstract class GenericEnumUppercaseConverter&lt;E extends Enum&lt;E&gt;&gt; implements AttributeConverter&lt;E, String&gt; {\n    ...\n}\n\npublic FooConverter\n    extends GenericEnumUppercaseConverter&lt;Foo&gt; \n    implements AttributeConverter&lt;Foo, String&gt; // See Bug HHH-8854\n{\n    public FooConverter() {\n        super(Foo.class);\n    }\n}\n</code></pre>\n\n<p>where <code>Foo</code> is the enum you want to handle.</p>\n\n<p>The alternative would be to define a custom annotation, patch the JPA provider to recognize this annotation. That way, you could examine the field type as you build the mapping information and feed the necessary enum type into a purely generic converter.</p>\n\n<p>Related:</p>\n\n<ul>\n<li><a href=\"https://hibernate.atlassian.net/browse/HHH-8854\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-8854</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1619352410,"creation_date":1465166471,"answer_id":37647496,"question_id":23564506,"body_markdown":"This answer has been modified to take advantage of `default` interface methods in Java 8.\r\n\r\nThe number of components of the facility (enumerated below) remains at four, but the amount of required boilerplate is much less.  The erstwhile `AbstractEnumConverter` class has been replaced by an interface named `JpaEnumConverter` which now extends the JPA `AttributeConverter` interface. Moreover, each placeholder JPA `@Converter` class now only requires the implementation of a single abstract method that returns the `Class&lt;E&gt;` object for the enum (for even less boilerplate).\r\n\r\nThis solution is similar to others and also makes use of the JPA Converter facility introduced in JPA 2.1.  As generic types in Java 8 are not reified,  there does not appear to be an easy way to avoid writing a separate placeholder class for each Java enum that you want to be able to convert to/from a database format.\r\n\r\nYou can however reduce the process of writing an enum converter class to pure boilerplate.  The components of this solution are:\r\n\r\n 1. `Encodable` interface; the contract for an enum class that grants access to a `String` token for each enum constant.  This is written only once and is implemented by all enum classes that are to be persisted via JPA.  This interface also contains a static factory method for getting back the enum constant for its matching token.\r\n 2. `JpaEnumConverter` interface; provides the common code for translating tokens to/from enum constants.  This is also only written once and is implemented by all the placeholder `@Converter` classes in the project.\r\n 3. Each Java enum class in the project implements the `Encodable` interface.\r\n 4. Each JPA placeholder @Converter class implements the `JpaEnumConverter` interface.\r\n\r\nThe `Encodable` interface is simple and contains a static factory method, `forToken()`, for obtaining enum constants:\r\n\r\n    public interface Encodable{\r\n    \r\n        String token();\r\n    \r\n        public static &lt;E extends Enum&lt;E&gt; &amp; Encodable&gt; E forToken(Class&lt;E&gt; cls, String tok) {\r\n            final String t = tok.trim();\r\n            return Stream.of(cls.getEnumConstants())\r\n                    .filter(e -&gt; e.token().equalsIgnoreCase(t))\r\n                    .findAny()\r\n                    .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unknown token &#39;&quot; +\r\n                            tok + &quot;&#39; for enum &quot; + cls.getName()));\r\n        }\r\n    }\r\n\r\nThe `JpaEnumConverter` interface is a generic interface that is also simple.  It extends the JPA 2.1 `AttributeConverter` interface and implements its methods for translating back and forth between entity and database.  These are then inherited by each of the JPA @Converter classes.  The only abstract method that each placeholder class must implement, is the one that returns the `Class&lt;E&gt;` object for the enum.\r\n\r\n    public interface JpaEnumConverter&lt;E extends Enum&lt;E&gt; &amp; Encodable&gt;\r\n                extends AttributeConverter&lt;E, String&gt; {\r\n        \r\n        public abstract Class&lt;E&gt; getEnumClass();\r\n\r\n        @Override\r\n        public default String convertToDatabaseColumn(E attribute) {\r\n            return (attribute == null)\r\n                ? null\r\n                : attribute.token();\r\n        }\r\n\r\n        @Override\r\n        public default E convertToEntityAttribute(String dbData) {\r\n            return (dbData == null)\r\n                ? null\r\n                : Encodeable.forToken(getEnumClass(), dbData);\r\n        }\r\n    }\r\n\r\nAn example of a concrete enum class that could now be persisted to a database with the JPA 2.1 Converter facility is shown below (note that it implements `Encodable`, and that the token for each enum constant is defined as a private field):\r\n\r\n    public enum GenderCode implements Encodable{\r\n        \r\n        MALE   (&quot;M&quot;), \r\n        FEMALE (&quot;F&quot;), \r\n        OTHER  (&quot;O&quot;);\r\n        \r\n        final String e_token;\r\n    \r\n        GenderCode(String v) {\r\n            this.e_token = v;\r\n        }\r\n    \r\n        @Override\r\n        public String token() {    // the only abstract method of Encodable\r\n            return this.e_token;\r\n        }\r\n    }\r\n\r\nThe boilerplate for every placeholder JPA 2.1 `@Converter` class would now look like the code below. Note that every such converter will need to implement `JpaEnumConverter` and provide the implementation for `getEnumClass()` ... and that&#39;s all!  The implementations for the JPA `AttributeConverter` interface methods are inherited.\r\n\r\n    @Converter\r\n    public class GenderCodeConverter \r\n                     implements JpaEnumConverter&lt;GenderCode&gt; {\r\n\r\n        @Override\r\n        public Class&lt;GenderCode&gt; getEnumClass() {    // sole abstract method\r\n            return GenderCode.class;  \r\n        }\r\n    } \r\n\r\nThese placeholder `@Converter` classes can be readily nested as `static` member classes of their associated enum classes.\r\n\r\n","title":"Is it possible to write a generic enum converter for JPA?","body":"<p>This answer has been modified to take advantage of <code>default</code> interface methods in Java 8.</p>\n<p>The number of components of the facility (enumerated below) remains at four, but the amount of required boilerplate is much less.  The erstwhile <code>AbstractEnumConverter</code> class has been replaced by an interface named <code>JpaEnumConverter</code> which now extends the JPA <code>AttributeConverter</code> interface. Moreover, each placeholder JPA <code>@Converter</code> class now only requires the implementation of a single abstract method that returns the <code>Class&lt;E&gt;</code> object for the enum (for even less boilerplate).</p>\n<p>This solution is similar to others and also makes use of the JPA Converter facility introduced in JPA 2.1.  As generic types in Java 8 are not reified,  there does not appear to be an easy way to avoid writing a separate placeholder class for each Java enum that you want to be able to convert to/from a database format.</p>\n<p>You can however reduce the process of writing an enum converter class to pure boilerplate.  The components of this solution are:</p>\n<ol>\n<li><code>Encodable</code> interface; the contract for an enum class that grants access to a <code>String</code> token for each enum constant.  This is written only once and is implemented by all enum classes that are to be persisted via JPA.  This interface also contains a static factory method for getting back the enum constant for its matching token.</li>\n<li><code>JpaEnumConverter</code> interface; provides the common code for translating tokens to/from enum constants.  This is also only written once and is implemented by all the placeholder <code>@Converter</code> classes in the project.</li>\n<li>Each Java enum class in the project implements the <code>Encodable</code> interface.</li>\n<li>Each JPA placeholder @Converter class implements the <code>JpaEnumConverter</code> interface.</li>\n</ol>\n<p>The <code>Encodable</code> interface is simple and contains a static factory method, <code>forToken()</code>, for obtaining enum constants:</p>\n<pre><code>public interface Encodable{\n\n    String token();\n\n    public static &lt;E extends Enum&lt;E&gt; &amp; Encodable&gt; E forToken(Class&lt;E&gt; cls, String tok) {\n        final String t = tok.trim();\n        return Stream.of(cls.getEnumConstants())\n                .filter(e -&gt; e.token().equalsIgnoreCase(t))\n                .findAny()\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unknown token '&quot; +\n                        tok + &quot;' for enum &quot; + cls.getName()));\n    }\n}\n</code></pre>\n<p>The <code>JpaEnumConverter</code> interface is a generic interface that is also simple.  It extends the JPA 2.1 <code>AttributeConverter</code> interface and implements its methods for translating back and forth between entity and database.  These are then inherited by each of the JPA @Converter classes.  The only abstract method that each placeholder class must implement, is the one that returns the <code>Class&lt;E&gt;</code> object for the enum.</p>\n<pre><code>public interface JpaEnumConverter&lt;E extends Enum&lt;E&gt; &amp; Encodable&gt;\n            extends AttributeConverter&lt;E, String&gt; {\n    \n    public abstract Class&lt;E&gt; getEnumClass();\n\n    @Override\n    public default String convertToDatabaseColumn(E attribute) {\n        return (attribute == null)\n            ? null\n            : attribute.token();\n    }\n\n    @Override\n    public default E convertToEntityAttribute(String dbData) {\n        return (dbData == null)\n            ? null\n            : Encodeable.forToken(getEnumClass(), dbData);\n    }\n}\n</code></pre>\n<p>An example of a concrete enum class that could now be persisted to a database with the JPA 2.1 Converter facility is shown below (note that it implements <code>Encodable</code>, and that the token for each enum constant is defined as a private field):</p>\n<pre><code>public enum GenderCode implements Encodable{\n    \n    MALE   (&quot;M&quot;), \n    FEMALE (&quot;F&quot;), \n    OTHER  (&quot;O&quot;);\n    \n    final String e_token;\n\n    GenderCode(String v) {\n        this.e_token = v;\n    }\n\n    @Override\n    public String token() {    // the only abstract method of Encodable\n        return this.e_token;\n    }\n}\n</code></pre>\n<p>The boilerplate for every placeholder JPA 2.1 <code>@Converter</code> class would now look like the code below. Note that every such converter will need to implement <code>JpaEnumConverter</code> and provide the implementation for <code>getEnumClass()</code> ... and that's all!  The implementations for the JPA <code>AttributeConverter</code> interface methods are inherited.</p>\n<pre><code>@Converter\npublic class GenderCodeConverter \n                 implements JpaEnumConverter&lt;GenderCode&gt; {\n\n    @Override\n    public Class&lt;GenderCode&gt; getEnumClass() {    // sole abstract method\n        return GenderCode.class;  \n    }\n} \n</code></pre>\n<p>These placeholder <code>@Converter</code> classes can be readily nested as <code>static</code> member classes of their associated enum classes.</p>\n"},{"tags":[],"owner":{"account_id":233072,"reputation":880,"user_id":498316,"accept_rate":100,"display_name":"ChRoNoN"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1520022217,"creation_date":1520022217,"answer_id":49076788,"question_id":23564506,"body_markdown":"Based on @scottb solution I made this, tested against hibernate 4.3: (no hibernate classes, should run on JPA just fine)\r\n\r\nInterface enum must implement:\r\n\r\n    public interface PersistableEnum&lt;T&gt; {\r\n    \tpublic T getValue();\r\n    }\r\n\r\nBase abstract converter:\r\n\r\n    @Converter\r\n    public abstract class AbstractEnumConverter&lt;T extends Enum&lt;T&gt; &amp; PersistableEnum&lt;E&gt;, E&gt; implements AttributeConverter&lt;T, E&gt; {\r\n    \tprivate final Class&lt;T&gt; clazz;\r\n    \r\n    \tpublic AbstractEnumConverter(Class&lt;T&gt; clazz) {\r\n    \t\tthis.clazz = clazz;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic E convertToDatabaseColumn(T attribute) {\r\n    \t\treturn attribute != null ? attribute.getValue() : null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T convertToEntityAttribute(E dbData) {\r\n    \t\tT[] enums = clazz.getEnumConstants();\r\n    \r\n    \t\tfor (T e : enums) {\r\n    \t\t\tif (e.getValue().equals(dbData)) {\r\n    \t\t\t\treturn e;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tthrow new UnsupportedOperationException();\r\n    \t}\r\n    }\r\n\r\nYou must create a converter class for each enum, I find it easier to create static class inside the enum: (jpa/hibernate could just provide the interface for the enum, oh well...)\r\n\r\n    public enum IndOrientation implements PersistableEnum&lt;String&gt; {\r\n    \tLANDSCAPE(&quot;L&quot;), PORTRAIT(&quot;P&quot;);\r\n    \r\n    \tprivate final String value;\r\n    \r\n    \t@Override\r\n    \tpublic String getValue() {\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \tprivate IndOrientation(String value) {\r\n    \t\tthis.value= value;\r\n    \t}\r\n    \r\n    \tpublic static class Converter extends AbstractEnumConverter&lt;IndOrientation, String&gt; {\r\n    \t\tpublic Converter() {\r\n    \t\t\tsuper(IndOrientation.class);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd mapping example with annotation:\r\n\r\n    ...\r\n    @Convert(converter = IndOrientation.Converter.class)\r\n    private IndOrientation indOrientation;\r\n    ...\r\n\r\nWith some changes you can create a IntegerEnum interface and generify for that.\r\n\r\n","title":"Is it possible to write a generic enum converter for JPA?","body":"<p>Based on @scottb solution I made this, tested against hibernate 4.3: (no hibernate classes, should run on JPA just fine)</p>\n\n<p>Interface enum must implement:</p>\n\n<pre><code>public interface PersistableEnum&lt;T&gt; {\n    public T getValue();\n}\n</code></pre>\n\n<p>Base abstract converter:</p>\n\n<pre><code>@Converter\npublic abstract class AbstractEnumConverter&lt;T extends Enum&lt;T&gt; &amp; PersistableEnum&lt;E&gt;, E&gt; implements AttributeConverter&lt;T, E&gt; {\n    private final Class&lt;T&gt; clazz;\n\n    public AbstractEnumConverter(Class&lt;T&gt; clazz) {\n        this.clazz = clazz;\n    }\n\n    @Override\n    public E convertToDatabaseColumn(T attribute) {\n        return attribute != null ? attribute.getValue() : null;\n    }\n\n    @Override\n    public T convertToEntityAttribute(E dbData) {\n        T[] enums = clazz.getEnumConstants();\n\n        for (T e : enums) {\n            if (e.getValue().equals(dbData)) {\n                return e;\n            }\n        }\n\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n\n<p>You must create a converter class for each enum, I find it easier to create static class inside the enum: (jpa/hibernate could just provide the interface for the enum, oh well...)</p>\n\n<pre><code>public enum IndOrientation implements PersistableEnum&lt;String&gt; {\n    LANDSCAPE(\"L\"), PORTRAIT(\"P\");\n\n    private final String value;\n\n    @Override\n    public String getValue() {\n        return value;\n    }\n\n    private IndOrientation(String value) {\n        this.value= value;\n    }\n\n    public static class Converter extends AbstractEnumConverter&lt;IndOrientation, String&gt; {\n        public Converter() {\n            super(IndOrientation.class);\n        }\n    }\n}\n</code></pre>\n\n<p>And mapping example with annotation:</p>\n\n<pre><code>...\n@Convert(converter = IndOrientation.Converter.class)\nprivate IndOrientation indOrientation;\n...\n</code></pre>\n\n<p>With some changes you can create a IntegerEnum interface and generify for that.</p>\n"},{"tags":[],"owner":{"account_id":441792,"reputation":377,"user_id":832091,"display_name":"marcel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597344402,"creation_date":1597344402,"answer_id":63401422,"question_id":23564506,"body_markdown":"The above solutions are really fine. My small additions here. \r\n\r\nI also added the following to enforce when implementing the interface writing a converter class. When you forget jpa starts using default mechanisms which are really fuzzy solutions (especially when mapping to some number value, which I always do).\r\n\r\nThe interface class looks like this:\r\n\r\n    public interface PersistedEnum&lt;E extends Enum&lt;E&gt; &amp; PersistedEnum&lt;E&gt;&gt; {\r\n      int getCode();\r\n      Class&lt;? extends PersistedEnumConverter&lt;E&gt;&gt; getConverterClass();\r\n    }\r\n\r\nWith the PersistedEnumConverter similar to previous posts. However when the implementing this interface you have to deal with the getConverterClass implementation, which is, besides being an enforcement to provide the specific converter class, completely useless.\r\n\r\nHere is an example implementation:\r\n\r\n    public enum Status implements PersistedEnum&lt;Status&gt; {\r\n      ...\r\n\r\n      @javax.persistence.Converter(autoApply = true)\r\n      static class Converter extends PersistedEnumConverter&lt;Status&gt; {\r\n          public Converter() {\r\n              super(Status.class);\r\n          }\r\n      }\r\n\r\n      @Override\r\n      public Class&lt;? extends PersistedEnumConverter&lt;Status&gt;&gt; getConverterClass() {\r\n          return Converter.class;\r\n      }\r\n\r\n      ...\r\n    }\r\n\r\nAnd what I do in the database is always make a companion table per enum with a row per enum value \r\n\r\n     create table e_status\r\n        (\r\n           id    int\r\n               constraint pk_status primary key,\r\n           label varchar(100)\r\n        );\r\n\r\n      insert into e_status\r\n      values (0, &#39;Status1&#39;);\r\n      insert into e_status\r\n      values (1, &#39;Status2&#39;);\r\n      insert into e_status\r\n      values (5, &#39;Status3&#39;);\r\n\r\n\r\nand put a fk constraint from wherever the enum type is used. Like this the usage of correct enum values is always guaranteed. I especially put values 0, 1 and 5 here to show how flexible it is, and still solid.\r\n\r\n    create table using_table\r\n       (\r\n            ...\r\n        status         int          not null\r\n            constraint using_table_status_fk references e_status,\r\n            ...\r\n       );\r\n\r\n","title":"Is it possible to write a generic enum converter for JPA?","body":"<p>The above solutions are really fine. My small additions here.</p>\n<p>I also added the following to enforce when implementing the interface writing a converter class. When you forget jpa starts using default mechanisms which are really fuzzy solutions (especially when mapping to some number value, which I always do).</p>\n<p>The interface class looks like this:</p>\n<pre><code>public interface PersistedEnum&lt;E extends Enum&lt;E&gt; &amp; PersistedEnum&lt;E&gt;&gt; {\n  int getCode();\n  Class&lt;? extends PersistedEnumConverter&lt;E&gt;&gt; getConverterClass();\n}\n</code></pre>\n<p>With the PersistedEnumConverter similar to previous posts. However when the implementing this interface you have to deal with the getConverterClass implementation, which is, besides being an enforcement to provide the specific converter class, completely useless.</p>\n<p>Here is an example implementation:</p>\n<pre><code>public enum Status implements PersistedEnum&lt;Status&gt; {\n  ...\n\n  @javax.persistence.Converter(autoApply = true)\n  static class Converter extends PersistedEnumConverter&lt;Status&gt; {\n      public Converter() {\n          super(Status.class);\n      }\n  }\n\n  @Override\n  public Class&lt;? extends PersistedEnumConverter&lt;Status&gt;&gt; getConverterClass() {\n      return Converter.class;\n  }\n\n  ...\n}\n</code></pre>\n<p>And what I do in the database is always make a companion table per enum with a row per enum value</p>\n<pre><code> create table e_status\n    (\n       id    int\n           constraint pk_status primary key,\n       label varchar(100)\n    );\n\n  insert into e_status\n  values (0, 'Status1');\n  insert into e_status\n  values (1, 'Status2');\n  insert into e_status\n  values (5, 'Status3');\n</code></pre>\n<p>and put a fk constraint from wherever the enum type is used. Like this the usage of correct enum values is always guaranteed. I especially put values 0, 1 and 5 here to show how flexible it is, and still solid.</p>\n<pre><code>create table using_table\n   (\n        ...\n    status         int          not null\n        constraint using_table_status_fk references e_status,\n        ...\n   );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3023933,"reputation":37,"user_id":2564360,"accept_rate":20,"display_name":"Popescu M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634043005,"creation_date":1634042544,"answer_id":69540751,"question_id":23564506,"body_markdown":"I found a way to do this without using java.lang.Class, default methods or reflection. I did this by using a Function that is passed to the Convertor in the constructor from the enum, using method reference. Also, the Convertos from the enum should be private, no need for them outside.\r\n\r\n1. Interface that Enums should implement in order to be persisted\r\n   \r\n```\r\npublic interface PersistableEnum&lt;T&gt; {\r\n            \r\n /** A mapping from an enum value to a type T (usually a String, Integer etc).*/\r\n T getCode();\r\n            \r\n}\r\n```\r\n2. The abstract converter will use a Function in order to cover convertToEntityAttribute transformation\r\n ```  \r\n@Converter\r\npublic abstract class AbstractEnumConverter&lt;E extends Enum&lt;E&gt; &amp; PersistableEnum&lt;T&gt;, T&gt; implements AttributeConverter&lt;E, T&gt; {\r\n\r\n  private Function&lt;T, E&gt; fromCodeToEnum;\r\n\r\n  protected AbstractEnumConverter(Function&lt;T, E&gt; fromCodeToEnum) {\r\n    this.fromCodeToEnum = fromCodeToEnum;\r\n  }\r\n\r\n  @Override\r\n  public T convertToDatabaseColumn(E persistableEnum) {\r\n    return persistableEnum == null ? null : persistableEnum.getCode();\r\n  }\r\n\r\n  @Override\r\n  public E convertToEntityAttribute(T code) {\r\n    return code == null ? null : fromCodeToEnum.apply(code);\r\n  }\r\n\r\n}\r\n```\r\n3. The enum will implement the interface (I am using lombok for the getter) and create the converted by using a constructor \r\nthat receives a Function, I pass the ofCode using method reference. I prefer this instead of working with java.lang.Class or using reflection, I have more freedom in the enums. \r\n \r\n```\r\n@Getter \r\npublic enum CarType implements PersistableEnum&lt;String&gt; {\r\n\r\n    DACIA(&quot;dacia&quot;),\r\n    FORD(&quot;ford&quot;),\r\n    BMW(&quot;bmw&quot;);\r\n    \r\n    public static CarType ofCode(String code) {\r\n      return Arrays.stream(values())\r\n                .filter(carType -&gt; carType.code.equalsIgnoreCase(code))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid car type code.&quot;));\r\n      }\r\n    \r\n    private final String code;\r\n    \r\n    CarType(String code) {\r\n      this.code = code;\r\n    }\r\n       \r\n    @Converter(autoApply = true)\r\n    private static class CarTypeConverter extends AbstractEnumConverter&lt;CarType, String&gt; {\r\n      protected CarTypeConverter () {\r\n        super(CarType::ofCode);\r\n      }\r\n    }    \r\n}\r\n```\r\n4.In the entity you just have to use the enum type and it will save it&#39;s String code.\r\n\r\n      @Column(name = &quot;CAR_TYPE&quot;)\r\n      private CarType workflowType;","title":"Is it possible to write a generic enum converter for JPA?","body":"<p>I found a way to do this without using java.lang.Class, default methods or reflection. I did this by using a Function that is passed to the Convertor in the constructor from the enum, using method reference. Also, the Convertos from the enum should be private, no need for them outside.</p>\n<ol>\n<li>Interface that Enums should implement in order to be persisted</li>\n</ol>\n<pre><code>public interface PersistableEnum&lt;T&gt; {\n            \n /** A mapping from an enum value to a type T (usually a String, Integer etc).*/\n T getCode();\n            \n}\n</code></pre>\n<ol start=\"2\">\n<li>The abstract converter will use a Function in order to cover convertToEntityAttribute transformation</li>\n</ol>\n<pre><code>@Converter\npublic abstract class AbstractEnumConverter&lt;E extends Enum&lt;E&gt; &amp; PersistableEnum&lt;T&gt;, T&gt; implements AttributeConverter&lt;E, T&gt; {\n\n private Function&lt;T, E&gt; fromCodeToEnum;\n\n protected AbstractEnumConverter(Function&lt;T, E&gt; fromCodeToEnum) {\n   this.fromCodeToEnum = fromCodeToEnum;\n }\n\n @Override\n public T convertToDatabaseColumn(E persistableEnum) {\n   return persistableEnum == null ? null : persistableEnum.getCode();\n }\n\n @Override\n public E convertToEntityAttribute(T code) {\n   return code == null ? null : fromCodeToEnum.apply(code);\n }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>The enum will implement the interface (I am using lombok for the getter) and create the converted by using a constructor\nthat receives a Function, I pass the ofCode using method reference. I prefer this instead of working with java.lang.Class or using reflection, I have more freedom in the enums.</li>\n</ol>\n<pre><code>@Getter \npublic enum CarType implements PersistableEnum&lt;String&gt; {\n\n    DACIA(&quot;dacia&quot;),\n    FORD(&quot;ford&quot;),\n    BMW(&quot;bmw&quot;);\n    \n    public static CarType ofCode(String code) {\n      return Arrays.stream(values())\n                .filter(carType -&gt; carType.code.equalsIgnoreCase(code))\n                .findFirst()\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid car type code.&quot;));\n      }\n    \n    private final String code;\n    \n    CarType(String code) {\n      this.code = code;\n    }\n       \n    @Converter(autoApply = true)\n    private static class CarTypeConverter extends AbstractEnumConverter&lt;CarType, String&gt; {\n      protected CarTypeConverter () {\n        super(CarType::ofCode);\n      }\n    }    \n}\n</code></pre>\n<p>4.In the entity you just have to use the enum type and it will save it's String code.</p>\n<pre><code>  @Column(name = &quot;CAR_TYPE&quot;)\n  private CarType workflowType;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4015385,"reputation":5418,"user_id":3307720,"accept_rate":51,"display_name":"nasch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643336416,"creation_date":1643333984,"answer_id":70887910,"question_id":23564506,"body_markdown":"If you don&#39;t mind reflection, this works.  Credit to another SO answer inline.\r\n\r\n    abstract class EnumTypeConverter&lt;EnumType,ValueType&gt; implements AttributeConverter&lt;EnumType, ValueType&gt; {\r\n    \r\n        private EnumType[] values\r\n    \r\n        @Override\r\n        ValueType convertToDatabaseColumn(EnumType enumInstance) {\r\n            return enumInstance ? enumInstance.getProperty(getValueColumnName()) : null\r\n        }\r\n    \r\n        @Override\r\n        EnumType convertToEntityAttribute(ValueType dbData) {\r\n    \r\n            if(dbData == null){\r\n                return null\r\n            }\r\n    \r\n            EnumType[] values = getValues()\r\n            EnumType rtn = values.find {\r\n                it.getProperty(getValueColumnName()).equals(dbData)\r\n            }\r\n            if(!rtn) {\r\n                throw new IllegalArgumentException(&quot;Unknown ${values.first().class.name} value: ${dbData}&quot;)\r\n            }\r\n            rtn\r\n        }\r\n    \r\n        private EnumType[] getValues() {\r\n            if(values == null){\r\n                Class cls = getTypeParameterType(getClass(), EnumTypeConverter.class, 0)\r\n                Method m = cls.getMethod(&quot;values&quot;)\r\n                values = m.invoke(null) as EnumType[]\r\n            }\r\n            values\r\n        }\r\n    \r\n        abstract String getValueColumnName()\r\n    \r\n        // https://stackoverflow.com/a/59205754/3307720\r\n        private static Class&lt;?&gt; getTypeParameterType(Class&lt;?&gt; subClass, Class&lt;?&gt; superClass, int typeParameterIndex) {\r\n            return getTypeVariableType(subClass, superClass.getTypeParameters()[typeParameterIndex])\r\n        }\r\n    \r\n        private static Class&lt;?&gt; getTypeVariableType(Class&lt;?&gt; subClass, TypeVariable&lt;?&gt; typeVariable) {\r\n            Map&lt;TypeVariable&lt;?&gt;, Type&gt; subMap = new HashMap&lt;&gt;()\r\n            Class&lt;?&gt; superClass\r\n            while ((superClass = subClass.getSuperclass()) != null) {\r\n    \r\n                Map&lt;TypeVariable&lt;?&gt;, Type&gt; superMap = new HashMap&lt;&gt;()\r\n                Type superGeneric = subClass.getGenericSuperclass()\r\n                if (superGeneric instanceof ParameterizedType) {\r\n    \r\n                    TypeVariable&lt;?&gt;[] typeParams = superClass.getTypeParameters()\r\n                    Type[] actualTypeArgs = ((ParameterizedType) superGeneric).getActualTypeArguments()\r\n    \r\n                    for (int i = 0; i &lt; typeParams.length; i++) {\r\n                        Type actualType = actualTypeArgs[i]\r\n                        if (actualType instanceof TypeVariable) {\r\n                            actualType = subMap.get(actualType)\r\n                        }\r\n                        if (typeVariable == typeParams[i]) return (Class&lt;?&gt;) actualType\r\n                        superMap.put(typeParams[i], actualType)\r\n                    }\r\n                }\r\n                subClass = superClass\r\n                subMap = superMap\r\n            }\r\n            return null\r\n        }\r\n    }\r\n\r\nThen in the entity class:\r\n\r\n    enum Type {\r\n            ATYPE(&quot;A&quot;), ANOTHER_TYPE(&quot;B&quot;)\r\n            final String name\r\n    \r\n            private Type(String nm) {\r\n                name = nm\r\n            }\r\n        }\r\n    \r\n    ...\r\n    \r\n    @Column\r\n    Type type\r\n    \r\n    ...\r\n    \r\n    @Converter(autoApply = true)\r\n        static class TypeConverter extends EnumTypeConverter&lt;Type,String&gt; {\r\n            String getValueColumnName(){\r\n                &quot;name&quot;\r\n            }\r\n    }\r\n\r\nThis is written in groovy, so you&#39;ll need some adjustments for Java.","title":"Is it possible to write a generic enum converter for JPA?","body":"<p>If you don't mind reflection, this works.  Credit to another SO answer inline.</p>\n<pre><code>abstract class EnumTypeConverter&lt;EnumType,ValueType&gt; implements AttributeConverter&lt;EnumType, ValueType&gt; {\n\n    private EnumType[] values\n\n    @Override\n    ValueType convertToDatabaseColumn(EnumType enumInstance) {\n        return enumInstance ? enumInstance.getProperty(getValueColumnName()) : null\n    }\n\n    @Override\n    EnumType convertToEntityAttribute(ValueType dbData) {\n\n        if(dbData == null){\n            return null\n        }\n\n        EnumType[] values = getValues()\n        EnumType rtn = values.find {\n            it.getProperty(getValueColumnName()).equals(dbData)\n        }\n        if(!rtn) {\n            throw new IllegalArgumentException(&quot;Unknown ${values.first().class.name} value: ${dbData}&quot;)\n        }\n        rtn\n    }\n\n    private EnumType[] getValues() {\n        if(values == null){\n            Class cls = getTypeParameterType(getClass(), EnumTypeConverter.class, 0)\n            Method m = cls.getMethod(&quot;values&quot;)\n            values = m.invoke(null) as EnumType[]\n        }\n        values\n    }\n\n    abstract String getValueColumnName()\n\n    // https://stackoverflow.com/a/59205754/3307720\n    private static Class&lt;?&gt; getTypeParameterType(Class&lt;?&gt; subClass, Class&lt;?&gt; superClass, int typeParameterIndex) {\n        return getTypeVariableType(subClass, superClass.getTypeParameters()[typeParameterIndex])\n    }\n\n    private static Class&lt;?&gt; getTypeVariableType(Class&lt;?&gt; subClass, TypeVariable&lt;?&gt; typeVariable) {\n        Map&lt;TypeVariable&lt;?&gt;, Type&gt; subMap = new HashMap&lt;&gt;()\n        Class&lt;?&gt; superClass\n        while ((superClass = subClass.getSuperclass()) != null) {\n\n            Map&lt;TypeVariable&lt;?&gt;, Type&gt; superMap = new HashMap&lt;&gt;()\n            Type superGeneric = subClass.getGenericSuperclass()\n            if (superGeneric instanceof ParameterizedType) {\n\n                TypeVariable&lt;?&gt;[] typeParams = superClass.getTypeParameters()\n                Type[] actualTypeArgs = ((ParameterizedType) superGeneric).getActualTypeArguments()\n\n                for (int i = 0; i &lt; typeParams.length; i++) {\n                    Type actualType = actualTypeArgs[i]\n                    if (actualType instanceof TypeVariable) {\n                        actualType = subMap.get(actualType)\n                    }\n                    if (typeVariable == typeParams[i]) return (Class&lt;?&gt;) actualType\n                    superMap.put(typeParams[i], actualType)\n                }\n            }\n            subClass = superClass\n            subMap = superMap\n        }\n        return null\n    }\n}\n</code></pre>\n<p>Then in the entity class:</p>\n<pre><code>enum Type {\n        ATYPE(&quot;A&quot;), ANOTHER_TYPE(&quot;B&quot;)\n        final String name\n\n        private Type(String nm) {\n            name = nm\n        }\n    }\n\n...\n\n@Column\nType type\n\n...\n\n@Converter(autoApply = true)\n    static class TypeConverter extends EnumTypeConverter&lt;Type,String&gt; {\n        String getValueColumnName(){\n            &quot;name&quot;\n        }\n}\n</code></pre>\n<p>This is written in groovy, so you'll need some adjustments for Java.</p>\n"},{"tags":[],"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"Šimon Koc&#250;rek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677745165,"creation_date":1677745165,"answer_id":75612851,"question_id":23564506,"body_markdown":"For those working in Kotlin, here is an example of an abstract converter:\r\n```Kotlin\r\nenum class MyEnum(override val serializedAs: Int) : SerializableEnum {\r\n    A(0),\r\n    B(1),\r\n    C(2),\r\n}\r\n\r\n@Converter(autoApply = true)\r\nclass MyEnumConverter : AbstractEnumConverter&lt;MyEnum&gt;(MyEnum::class)\r\n```\r\n\r\n```Kotlin\r\ninterface SerializableEnum {\r\n    val serializedAs: Int\r\n}\r\n\r\nabstract class AbstractEnumConverter&lt;TEnum&gt;(enumType: KClass&lt;TEnum&gt;) : AttributeConverter&lt;TEnum, Int&gt; where TEnum : SerializableEnum {\r\n\r\n    var fromSerialized = enumType.java.enumConstants.associateBy { it.serializedAs }\r\n\r\n    init {\r\n        if (fromSerialized.size != enumType.java.enumConstants.size) {\r\n            throw IllegalStateException(&quot;Serializable enum $enumType must have unique `serializedAs` values.&quot;)\r\n        }\r\n    }\r\n\r\n    override fun convertToDatabaseColumn(enum: TEnum?) = enum?.serializedAs\r\n\r\n    override fun convertToEntityAttribute(enum: Int?) = enum?.let { fromSerialized[it] }\r\n}\r\n\r\n```","title":"Is it possible to write a generic enum converter for JPA?","body":"<p>For those working in Kotlin, here is an example of an abstract converter:</p>\n<pre><code>enum class MyEnum(override val serializedAs: Int) : SerializableEnum {\n    A(0),\n    B(1),\n    C(2),\n}\n\n@Converter(autoApply = true)\nclass MyEnumConverter : AbstractEnumConverter&lt;MyEnum&gt;(MyEnum::class)\n</code></pre>\n<pre><code>interface SerializableEnum {\n    val serializedAs: Int\n}\n\nabstract class AbstractEnumConverter&lt;TEnum&gt;(enumType: KClass&lt;TEnum&gt;) : AttributeConverter&lt;TEnum, Int&gt; where TEnum : SerializableEnum {\n\n    var fromSerialized = enumType.java.enumConstants.associateBy { it.serializedAs }\n\n    init {\n        if (fromSerialized.size != enumType.java.enumConstants.size) {\n            throw IllegalStateException(&quot;Serializable enum $enumType must have unique `serializedAs` values.&quot;)\n        }\n    }\n\n    override fun convertToDatabaseColumn(enum: TEnum?) = enum?.serializedAs\n\n    override fun convertToEntityAttribute(enum: Int?) = enum?.let { fromSerialized[it] }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33297,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":23564597,"answer_count":7,"score":45,"last_activity_date":1677745165,"creation_date":1399637930,"question_id":23564506,"body_markdown":"I wanted to write a Converter for JPA that stores any enum as UPPERCASE. Some enums we encounter do not follow yet the convention to use only Uppercase letters so until they are refactored I still store the future value.\r\n\r\nWhat I got so far:\r\n\r\n    package student;\r\n\r\n    public enum StudentState {\r\n    \r\n        Started,\r\n        Mentoring,\r\n        Repeating,\r\n        STUPID,\r\n        GENIUS;\r\n    }\r\n\r\nI want &quot;Started&quot; to be stored as &quot;STARTED&quot; and so on.\r\n\r\n    package student;\r\n    \r\n    import jpa.EnumUppercaseConverter;\r\n    \r\n    import javax.persistence.*;\r\n    import java.io.Serializable;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;STUDENTS&quot;)\r\n    public class Student implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long mId;\r\n    \r\n        @Column(name = &quot;LAST_NAME&quot;, length = 35)\r\n        private String mLastName;\r\n    \r\n        @Column(name = &quot;FIRST_NAME&quot;, nullable = false, length = 35)\r\n        private String mFirstName;\r\n    \r\n        @Column(name = &quot;BIRTH_DATE&quot;, nullable = false)\r\n        @Temporal(TemporalType.DATE)\r\n        private Date mBirthDate;\r\n    \r\n        @Column(name = &quot;STUDENT_STATE&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        @Convert(converter = EnumUppercaseConverter.class)\r\n        private StudentState studentState;\r\n    \r\n    }\r\n\r\nthe converter currently looks like this:\r\n\r\n    package jpa;\r\n    \r\n    \r\n    import javax.persistence.AttributeConverter;\r\n    import java.util.EnumSet;\r\n    \r\n    public class EnumUppercaseConverter&lt;E extends Enum&lt;E&gt;&gt; implements AttributeConverter&lt;E, String&gt; {\r\n    \r\n        private Class&lt;E&gt; enumClass;\r\n    \r\n        @Override\r\n        public String convertToDatabaseColumn(E e) {\r\n            return e.name().toUpperCase();\r\n        }\r\n    \r\n        @Override\r\n        public E convertToEntityAttribute(String s) {\r\n            // which enum is it?\r\n            for (E en : EnumSet.allOf(enumClass)) {\r\n                if (en.name().equalsIgnoreCase(s)) {\r\n                    return en;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nwhat will not work is that I do not know what enumClass will be at runtime. And I could not figure out a way to pass this information to the converter in the @Converter annotation.\r\n\r\nSo is there a way to add parameters to the converter or cheat a bit? Or is there another way? \r\n\r\nI&#39;m using EclipseLink 2.4.2\r\n\r\nThanks!","title":"Is it possible to write a generic enum converter for JPA?","body":"<p>I wanted to write a Converter for JPA that stores any enum as UPPERCASE. Some enums we encounter do not follow yet the convention to use only Uppercase letters so until they are refactored I still store the future value.</p>\n\n<p>What I got so far:</p>\n\n<pre><code>package student;\n\npublic enum StudentState {\n\n    Started,\n    Mentoring,\n    Repeating,\n    STUPID,\n    GENIUS;\n}\n</code></pre>\n\n<p>I want \"Started\" to be stored as \"STARTED\" and so on.</p>\n\n<pre><code>package student;\n\nimport jpa.EnumUppercaseConverter;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.Date;\n\n@Entity\n@Table(name = \"STUDENTS\")\npublic class Student implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = \"ID\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long mId;\n\n    @Column(name = \"LAST_NAME\", length = 35)\n    private String mLastName;\n\n    @Column(name = \"FIRST_NAME\", nullable = false, length = 35)\n    private String mFirstName;\n\n    @Column(name = \"BIRTH_DATE\", nullable = false)\n    @Temporal(TemporalType.DATE)\n    private Date mBirthDate;\n\n    @Column(name = \"STUDENT_STATE\")\n    @Enumerated(EnumType.STRING)\n    @Convert(converter = EnumUppercaseConverter.class)\n    private StudentState studentState;\n\n}\n</code></pre>\n\n<p>the converter currently looks like this:</p>\n\n<pre><code>package jpa;\n\n\nimport javax.persistence.AttributeConverter;\nimport java.util.EnumSet;\n\npublic class EnumUppercaseConverter&lt;E extends Enum&lt;E&gt;&gt; implements AttributeConverter&lt;E, String&gt; {\n\n    private Class&lt;E&gt; enumClass;\n\n    @Override\n    public String convertToDatabaseColumn(E e) {\n        return e.name().toUpperCase();\n    }\n\n    @Override\n    public E convertToEntityAttribute(String s) {\n        // which enum is it?\n        for (E en : EnumSet.allOf(enumClass)) {\n            if (en.name().equalsIgnoreCase(s)) {\n                return en;\n            }\n        }\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>what will not work is that I do not know what enumClass will be at runtime. And I could not figure out a way to pass this information to the converter in the @Converter annotation.</p>\n\n<p>So is there a way to add parameters to the converter or cheat a bit? Or is there another way? </p>\n\n<p>I'm using EclipseLink 2.4.2</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","midi","javasound"],"comments":[{"owner":{"account_id":6852,"reputation":175273,"user_id":11654,"display_name":"CL."},"score":0,"creation_date":1677794847,"post_id":75612805,"comment_id":133413311,"body_markdown":"The Gervill test proves that your program works correctly. This appears to be a problem with the MyVirtualPort.","body":"The Gervill test proves that your program works correctly. This appears to be a problem with the MyVirtualPort."},{"owner":{"account_id":1382040,"reputation":1055,"user_id":1314824,"accept_rate":67,"display_name":"Jos"},"score":0,"creation_date":1678090550,"post_id":75612805,"comment_id":133459045,"body_markdown":"Thanks @CL . The loopMidi receives a midi note when send from a stream deck, so that one is functioning fine. It does not receive the midi not from my program, so there must be something different here.","body":"Thanks @CL . The loopMidi receives a midi note when send from a stream deck, so that one is functioning fine. It does not receive the midi not from my program, so there must be something different here."},{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":0,"creation_date":1678214959,"post_id":75612805,"comment_id":133489041,"body_markdown":"Have you connected a software synth to the other side of the virtual port ? If not it&#39;s possible that the virtual port simply discards your message. Your code looks OK. I use a similar approach in Java with loopMidi on Windows (or virmidi on linux), it works. Also in the first print loop, use MidiDevice.getMaxReceivers() to detect the output MidiDevices.","body":"Have you connected a software synth to the other side of the virtual port ? If not it&#39;s possible that the virtual port simply discards your message. Your code looks OK. I use a similar approach in Java with loopMidi on Windows (or virmidi on linux), it works. Also in the first print loop, use MidiDevice.getMaxReceivers() to detect the output MidiDevices."},{"owner":{"account_id":1382040,"reputation":1055,"user_id":1314824,"accept_rate":67,"display_name":"Jos"},"score":0,"creation_date":1678299716,"post_id":75612805,"comment_id":133507448,"body_markdown":"Thanks @jjazzboss. On windows I tried to connect to ableton live using the same loopMidi channel. Maybe I did that wrong, but stream deck is able to send midi notes to to ableton live using that loopMidi channel. On my mac, when adding MidiSystem.getMidiDevice(info).getMaxReceivers() to the printing loop, it prints -1 for the first 3 and 0 for the last one.","body":"Thanks @jjazzboss. On windows I tried to connect to ableton live using the same loopMidi channel. Maybe I did that wrong, but stream deck is able to send midi notes to to ableton live using that loopMidi channel. On my mac, when adding MidiSystem.getMidiDevice(info).getMaxReceivers() to the printing loop, it prints -1 for the first 3 and 0 for the last one."}],"owner":{"account_id":1382040,"reputation":1055,"user_id":1314824,"accept_rate":67,"display_name":"Jos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677744821,"creation_date":1677744821,"question_id":75612805,"body_markdown":"I want to send a MIDI note to a virtual port using Java. To send a MIDI note middle C (60), I do this:\r\n\r\n    public static void main(String[] main) throws MidiUnavailableException, InvalidMidiDataException, InterruptedException {\r\n        final MidiDevice.Info[] midiDeviceInfo = MidiSystem.getMidiDeviceInfo();\r\n        for (MidiDevice.Info info : midiDeviceInfo) {\r\n            System.out.println(info.getName());\r\n        }\r\n\r\n        MidiDevice.Info midiInfo = Arrays.stream(midiDeviceInfo)\r\n                .filter(midiDefInfo -&gt; main[0].equalsIgnoreCase(midiDefInfo.getName()))\r\n                .findFirst().orElseThrow();\r\n\r\n        final MidiDevice midiDevice = MidiSystem.getMidiDevice(midiInfo);\r\n        midiDevice.open();\r\n        Receiver receiver = midiDevice.getReceiver();\r\n        final ShortMessage messageOn = new ShortMessage();\r\n        final ShortMessage messageOff = new ShortMessage();\r\n        messageOn.setMessage(ShortMessage.NOTE_ON, 1, 60, 112);\r\n        messageOff.setMessage(ShortMessage.NOTE_OFF, 1, 60, 0);\r\n\r\n        receiver.send(messageOn, -1);\r\n        Thread.sleep(1000L);\r\n        receiver.send(messageOff, -1);\r\n    }\r\n\r\n\r\nUsing MIDI-studio from MacOS, I created &#39;MyVirtualPort&#39;:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/sqYE9.png\r\n\r\nWhen running the program, it prints the available devices:\r\n\r\n    Gervill\r\n    Real Time Sequencer\r\n    MyVirtualPort\r\n    MyVirtualPort\r\n\r\nWhen I pass &quot;Gervill&quot; as param, I hear the middle C for 1 second from my speakers. When picking the second &quot;MyVirtualPort&quot;, an Exception is thrown for MIDI IN not available. When picking the first &quot;MyVirtualPort&quot;, the program runs fine and it seems to send the messages. However, I see no activity on the virtual port. \r\n\r\nI tried to run the program on Windows using loopMidi (https://www.tobias-erichsen.de/software/loopmidi.html), but the same thing happens: program runs fine and seems to send messages correctly, but nothing happens on the virtual device. Setting it to the default plays the middle C successfully on Windows as well.\r\n\r\nWhat am I missing here? I am a newby to MIDI, so it is perfectly possible this is something trivial.","title":"Send MIDI note to virtual port with Java","body":"<p>I want to send a MIDI note to a virtual port using Java. To send a MIDI note middle C (60), I do this:</p>\n<pre><code>public static void main(String[] main) throws MidiUnavailableException, InvalidMidiDataException, InterruptedException {\n    final MidiDevice.Info[] midiDeviceInfo = MidiSystem.getMidiDeviceInfo();\n    for (MidiDevice.Info info : midiDeviceInfo) {\n        System.out.println(info.getName());\n    }\n\n    MidiDevice.Info midiInfo = Arrays.stream(midiDeviceInfo)\n            .filter(midiDefInfo -&gt; main[0].equalsIgnoreCase(midiDefInfo.getName()))\n            .findFirst().orElseThrow();\n\n    final MidiDevice midiDevice = MidiSystem.getMidiDevice(midiInfo);\n    midiDevice.open();\n    Receiver receiver = midiDevice.getReceiver();\n    final ShortMessage messageOn = new ShortMessage();\n    final ShortMessage messageOff = new ShortMessage();\n    messageOn.setMessage(ShortMessage.NOTE_ON, 1, 60, 112);\n    messageOff.setMessage(ShortMessage.NOTE_OFF, 1, 60, 0);\n\n    receiver.send(messageOn, -1);\n    Thread.sleep(1000L);\n    receiver.send(messageOff, -1);\n}\n</code></pre>\n<p>Using MIDI-studio from MacOS, I created 'MyVirtualPort':</p>\n<p><a href=\"https://i.stack.imgur.com/sqYE9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sqYE9.png\" alt=\"enter image description here\" /></a></p>\n<p>When running the program, it prints the available devices:</p>\n<pre><code>Gervill\nReal Time Sequencer\nMyVirtualPort\nMyVirtualPort\n</code></pre>\n<p>When I pass &quot;Gervill&quot; as param, I hear the middle C for 1 second from my speakers. When picking the second &quot;MyVirtualPort&quot;, an Exception is thrown for MIDI IN not available. When picking the first &quot;MyVirtualPort&quot;, the program runs fine and it seems to send the messages. However, I see no activity on the virtual port.</p>\n<p>I tried to run the program on Windows using loopMidi (<a href=\"https://www.tobias-erichsen.de/software/loopmidi.html\" rel=\"nofollow noreferrer\">https://www.tobias-erichsen.de/software/loopmidi.html</a>), but the same thing happens: program runs fine and seems to send messages correctly, but nothing happens on the virtual device. Setting it to the default plays the middle C successfully on Windows as well.</p>\n<p>What am I missing here? I am a newby to MIDI, so it is perfectly possible this is something trivial.</p>\n"},{"tags":["java","guice"],"owner":{"account_id":4083510,"reputation":139,"user_id":3353393,"accept_rate":57,"display_name":"user3353393"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677744491,"creation_date":1677744491,"question_id":75612739,"body_markdown":"So I have pretty big ConfigModule (extends AbstractModule) that have definition of all services etc. For testing purposes I want to override Jedis (Redis library) - to use some mock data. So this is my main module: \r\n\r\n    public final class ConfigModule extends AbstractModule {\r\n    \r\n        @Singleton\r\n        @Provides\r\n        public Jedis jedis(\r\n            final ParametersStoreConfig config\r\n        ) {\r\n            final Jedis jedis = new Jedis(config.redisHost(), config.redisPort(), 200000);\r\n            return jedis;\r\n        }\r\n    \r\n        @Singleton\r\n        @Provides\r\n        public BeanA() {\r\n            return BeanA();\r\n        }\r\n    \r\n        @Singleton\r\n        @Provides\r\n        public BeanB() {\r\n            return BeanB();\r\n        }\r\n    \r\n        @Singleton\r\n        @Provides\r\n        public BeanC() {\r\n            return BeanC();\r\n        }\r\n    \r\n        @Singleton\r\n        @Provides\r\n        public BeanD() {\r\n            return BeanD();\r\n        }\r\n    \r\n    }\r\n\r\nHere is my simple try to override it: \r\n\r\n    public final class TestPricingConfigModule extends AbstractModule{\r\n    \r\n        @Override\r\n        protected void configure() {\r\n            this.install(new ConfigModule());\r\n        }\r\n    \r\n        @Singleton\r\n        @Provides\r\n        public Jedis jedis(ParametersStoreConfig config) {\r\n            System.out.println(&quot;TEST JEDIS ?&quot;);\r\n            Jedis jedis = new Jedis(config.redisHost(), config.redisPort(), 200000);\r\n            return jedis;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nSo at this approach I have: \r\n\r\nA binding to redis.clients.jedis.Jedis was already configured at com.test.domain.ConfigModule.jedis() (via modules: com.test.domain.TestPricingConfigModule -&gt; com.test.domain.ConfigModule.jedis).\r\n\r\nWhen I try @Override It says that @Procvided beans cannot be overriden. Are there any option to get this working ? I just want to override one service from full module as rest should remain exactly the same \r\n","title":"GUICE - override one service for testing purposes","body":"<p>So I have pretty big ConfigModule (extends AbstractModule) that have definition of all services etc. For testing purposes I want to override Jedis (Redis library) - to use some mock data. So this is my main module:</p>\n<pre><code>public final class ConfigModule extends AbstractModule {\n\n    @Singleton\n    @Provides\n    public Jedis jedis(\n        final ParametersStoreConfig config\n    ) {\n        final Jedis jedis = new Jedis(config.redisHost(), config.redisPort(), 200000);\n        return jedis;\n    }\n\n    @Singleton\n    @Provides\n    public BeanA() {\n        return BeanA();\n    }\n\n    @Singleton\n    @Provides\n    public BeanB() {\n        return BeanB();\n    }\n\n    @Singleton\n    @Provides\n    public BeanC() {\n        return BeanC();\n    }\n\n    @Singleton\n    @Provides\n    public BeanD() {\n        return BeanD();\n    }\n\n}\n</code></pre>\n<p>Here is my simple try to override it:</p>\n<pre><code>public final class TestPricingConfigModule extends AbstractModule{\n\n    @Override\n    protected void configure() {\n        this.install(new ConfigModule());\n    }\n\n    @Singleton\n    @Provides\n    public Jedis jedis(ParametersStoreConfig config) {\n        System.out.println(&quot;TEST JEDIS ?&quot;);\n        Jedis jedis = new Jedis(config.redisHost(), config.redisPort(), 200000);\n        return jedis;\n    }\n\n\n}\n</code></pre>\n<p>So at this approach I have:</p>\n<p>A binding to redis.clients.jedis.Jedis was already configured at com.test.domain.ConfigModule.jedis() (via modules: com.test.domain.TestPricingConfigModule -&gt; com.test.domain.ConfigModule.jedis).</p>\n<p>When I try @Override It says that @Procvided beans cannot be overriden. Are there any option to get this working ? I just want to override one service from full module as rest should remain exactly the same</p>\n"},{"tags":["java","workflow","activiti","bpmn"],"comments":[{"owner":{"account_id":1527773,"reputation":2385,"user_id":1425771,"accept_rate":25,"display_name":"Banukobhan Nagendram"},"score":0,"creation_date":1577938505,"post_id":59557824,"comment_id":105284735,"body_markdown":"If you get the exception, please give the details of the exception.","body":"If you get the exception, please give the details of the exception."},{"owner":{"account_id":17435469,"reputation":1,"user_id":12638534,"display_name":"J.Solongo"},"score":0,"creation_date":1577953615,"post_id":59557824,"comment_id":105288456,"body_markdown":"Thank you for your answer,but the problem is Activiti didn`t throw any exception , so it`s hard to locate what the problem is.","body":"Thank you for your answer,but the problem is Activiti didn<code>t throw any exception , so it</code>s hard to locate what the problem is."}],"owner":{"account_id":17435469,"reputation":1,"user_id":12638534,"display_name":"J.Solongo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677744157,"creation_date":1577933247,"question_id":59557824,"body_markdown":"I&#39;ve got a very strange question in `RuntimeServiceImpl::startProcessInstanceByKey`.\r\n\r\nThe code is like this:\r\n```java\r\n@Override\r\npublic String startProcessInstanceByKey(String processDefinitionKey, String businessKey,\r\n    String authenticatedUserId, Map &lt; String, Object &gt; variables) throws RiskManageException {\r\n    log.info(&quot;startProcessInstanceByKey,收到开启工作流 processDefinitionKey:{} ,businessKey:{},authenticatedUserId:{},variables:{}&quot;, //This can be printed normally\r\n        processDefinitionKey, businessKey, authenticatedUserId, JSON.toJSON(variables));\r\n\r\n    try {\r\n        Assert.notNull(authenticatedUserId, &quot;userCode 不能为空&quot;);\r\n\r\n        Assert.notNull(processDefinitionKey, &quot;流程定义key 不能为空&quot;);\r\n\r\n        processCoreService.getIdentityService().setAuthenticatedUserId(authenticatedUserId);\r\n\r\n        return processCoreService.getRuntimeService()\r\n            .startProcessInstanceByKey(processDefinitionKey, businessKey, variables).getProcessInstanceId(); //This statement didn`t execute\r\n    } catch (Exception e) {\r\n        throw new RiskManageException(ExceptionCodeEnum.START_PROCESS_ERROR, e); //Here throws an exception but the caller didn`t catch any\r\n    }\r\n}\r\n```\r\nThe process instance couldn&#39;t be created sometimes in a concurrent environment without any exception. It often happens when JDBC connections are about to use up. I want to know more detailed information, what should I do?","title":"Activiti`s RuntimeServiceImpl::startProcessInstanceByKey cannot work well in a concurrent environment","body":"<p>I've got a very strange question in <code>RuntimeServiceImpl::startProcessInstanceByKey</code>.</p>\n\n<p>The code is like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String startProcessInstanceByKey(String processDefinitionKey, String businessKey,\n    String authenticatedUserId, Map &lt; String, Object &gt; variables) throws RiskManageException {\n    log.info(\"startProcessInstanceByKey,收到开启工作流 processDefinitionKey:{} ,businessKey:{},authenticatedUserId:{},variables:{}\", //This can be printed normally\n        processDefinitionKey, businessKey, authenticatedUserId, JSON.toJSON(variables));\n\n    try {\n        Assert.notNull(authenticatedUserId, \"userCode 不能为空\");\n\n        Assert.notNull(processDefinitionKey, \"流程定义key 不能为空\");\n\n        processCoreService.getIdentityService().setAuthenticatedUserId(authenticatedUserId);\n\n        return processCoreService.getRuntimeService()\n            .startProcessInstanceByKey(processDefinitionKey, businessKey, variables).getProcessInstanceId(); //This statement didn`t execute\n    } catch (Exception e) {\n        throw new RiskManageException(ExceptionCodeEnum.START_PROCESS_ERROR, e); //Here throws an exception but the caller didn`t catch any\n    }\n}\n</code></pre>\n\n<p>The process instance couldn't be created sometimes in a concurrent environment without any exception. It often happens when JDBC connections are about to use up. I want to know more detailed information, what should I do?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","swagger","microservices"],"owner":{"account_id":2970719,"reputation":2977,"user_id":2522819,"accept_rate":18,"display_name":"KCS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677744002,"creation_date":1677744002,"question_id":75612682,"body_markdown":"I an using `@JsonView` on different params of DTO, do that RequestBody will have different params for different types of operation. But Now problem I am facing is some params are optional in some operations while same params are mandatory in other operations , like id is optional in search operation, but mandatory in some PUT operation. \r\n\r\n\r\n \r\n \r\n\r\n      class MyClassDTO {\r\n        //  .. some code ...\r\n        @JsonView({\r\n              Test1.class\r\n              Test2.class\r\n            })\r\n            @Valid\r\n            @NotNull(message = &quot;field1 cannot be empty&quot;,\r\n              groups = {\r\n                Test1.class //field1 is mandatory for Test1.class group but Not for Test2.class\r\n              })\r\n            private AnotherNestedDTO field1;\r\n            ..\r\n            //further code\r\n    }\r\n\r\nMy Controiller looks something like below:\r\n \r\n\r\n    public ResponseEntity&lt;MyClassDTO&gt; updateOperations1(@RequestBody @JsonView({Test1.class}) MyClassDTO myclassDTO) {\r\n        //some operations;\r\n      }\r\n\r\n    public ResponseEntity&lt;MyClassDTO&gt; updateOperation2(@RequestBody @JsonView({Test2.class}) MyClassDTO myclassDTO) {\r\n        //some more operations;\r\n      }\r\n\r\nI need to document it in swagger using `@ApiParam` or `@ApiModel` or any such solution based on condition or group, where i an set based different values of these annotation along with `required={true/false}`. I didn&#39;t found some group concept , like we have in javax validation. One problem I am facing wiuth `@ApiParam` is , I am accepting DTO in request param, which is nested to N&#39;th Depth , so its making swagger doc unreadable. \r\n\r\nBelow is swagger dependency I added in `pom.xml`:\r\n\r\n \r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nI went through many old threads, but no solution. Any idea, how to solve this problem.\r\n\r\n\r\n","title":"Conditional messages for ApiModelProperty annotations","body":"<p>I an using <code>@JsonView</code> on different params of DTO, do that RequestBody will have different params for different types of operation. But Now problem I am facing is some params are optional in some operations while same params are mandatory in other operations , like id is optional in search operation, but mandatory in some PUT operation.</p>\n<pre><code>  class MyClassDTO {\n    //  .. some code ...\n    @JsonView({\n          Test1.class\n          Test2.class\n        })\n        @Valid\n        @NotNull(message = &quot;field1 cannot be empty&quot;,\n          groups = {\n            Test1.class //field1 is mandatory for Test1.class group but Not for Test2.class\n          })\n        private AnotherNestedDTO field1;\n        ..\n        //further code\n}\n</code></pre>\n<p>My Controiller looks something like below:</p>\n<pre><code>public ResponseEntity&lt;MyClassDTO&gt; updateOperations1(@RequestBody @JsonView({Test1.class}) MyClassDTO myclassDTO) {\n    //some operations;\n  }\n\npublic ResponseEntity&lt;MyClassDTO&gt; updateOperation2(@RequestBody @JsonView({Test2.class}) MyClassDTO myclassDTO) {\n    //some more operations;\n  }\n</code></pre>\n<p>I need to document it in swagger using <code>@ApiParam</code> or <code>@ApiModel</code> or any such solution based on condition or group, where i an set based different values of these annotation along with <code>required={true/false}</code>. I didn't found some group concept , like we have in javax validation. One problem I am facing wiuth <code>@ApiParam</code> is , I am accepting DTO in request param, which is nested to N'th Depth , so its making swagger doc unreadable.</p>\n<p>Below is swagger dependency I added in <code>pom.xml</code>:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I went through many old threads, but no solution. Any idea, how to solve this problem.</p>\n"},{"tags":["java","spring","spring-boot","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":27915104,"reputation":11,"user_id":21316413,"display_name":"ianperfitt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677737787,"creation_date":1677735563,"answer_id":75611676,"question_id":75611567,"body_markdown":"You need to return a Class object that has two members from your Controller:\r\n\r\n1. an int called &quot;total_records&quot;\r\n2. a List of TableModel objects called &quot;data&quot; \r\n\r\nThe class could be called TableModelDTO where DTO stands for data transfer object. \r\n\r\nThe JSON would look slightly different than the JSON you provided in the second image\r\n\r\n    { &quot;total_records&quot; : 100,\r\n      &quot;data&quot; : [{\r\n        &quot;name&quot;: &quot;wrvee&quot;,\r\n        &quot;email_id&quot;: &quot;as@gmail.com&quot;,\r\n        &quot;check_in&quot;: null,\r\n        &quot;check_out&quot;: null,\r\n        &quot;data&quot;: null\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;sefse&quot;,\r\n        &quot;email_id&quot;: &quot;vsd@gmail.com&quot;,\r\n        &quot;check_in&quot;: null,\r\n        &quot;check_out&quot;: null,\r\n        &quot;data&quot;: null\r\n     }]\r\n    }","title":"How can I add Total records in the Json object with Spring Boot","body":"<p>You need to return a Class object that has two members from your Controller:</p>\n<ol>\n<li>an int called &quot;total_records&quot;</li>\n<li>a List of TableModel objects called &quot;data&quot;</li>\n</ol>\n<p>The class could be called TableModelDTO where DTO stands for data transfer object.</p>\n<p>The JSON would look slightly different than the JSON you provided in the second image</p>\n<pre><code>{ &quot;total_records&quot; : 100,\n  &quot;data&quot; : [{\n    &quot;name&quot;: &quot;wrvee&quot;,\n    &quot;email_id&quot;: &quot;as@gmail.com&quot;,\n    &quot;check_in&quot;: null,\n    &quot;check_out&quot;: null,\n    &quot;data&quot;: null\n},\n{\n    &quot;name&quot;: &quot;sefse&quot;,\n    &quot;email_id&quot;: &quot;vsd@gmail.com&quot;,\n    &quot;check_in&quot;: null,\n    &quot;check_out&quot;: null,\n    &quot;data&quot;: null\n }]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27915685,"reputation":26,"user_id":21316889,"display_name":"a_display_named_bob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677743844,"creation_date":1677743671,"answer_id":75612622,"question_id":75611567,"body_markdown":"You can do what ianperfitt said and create a class like \r\n\r\n```java\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\nclass MyResponse {\r\n   private List&lt;Records&gt; records;\r\n   private int count;\r\n}\r\n```\r\n\r\nor exactly as you asked as\r\n\r\n```java\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\nclass MyResponse {\r\n   private List&lt;Records&gt; data;\r\n   private int total_records;\r\n}\r\n```\r\n\r\nand then in your controller\r\n\r\n```\r\n@GetMapping(&quot;/{pageOROffset}/{size}&quot;)\r\npublic MyResponse someMethodName(@PathVariable(name = &quot;pageOrOffset&quot;) int page, @PathVariable(name = &quot;size&quot;) int batchSize) {\r\n  List&lt;Records&gt; records = dao.findAll(PageRequest.of(page, size));\r\n  return new MyResponse(records, records.size());\r\n}\r\n```\r\nor you could be lazy and pretend the class is class and skip it and just do\r\n\r\n```\r\n@GetMapping(&quot;/{pageOROffset}/{size}&quot;)\r\npublic Map&lt;String, Object&gt; someMethodName(@PathVariable(name = &quot;pageOrOffset&quot;) int page, @PathVariable(name = &quot;size&quot;) int batchSize) {\r\n  List&lt;Records&gt; records = dao.findAll(PageRequest.of(page, size));\r\n  return Map.of(&quot;data&quot;, records, &quot;total_record_count&quot;, records.size());\r\n}\r\n```\r\n\r\nNote: Map.of() is a feature of Java 11+ and if you&#39;re not up to that version you could just do\r\n\r\n```\r\n@GetMapping(&quot;/{pageOROffset}/{size}&quot;)\r\npublic Map&lt;String, Object&gt; someMethodName(@PathVariable(name = &quot;pageOrOffset&quot;) int page, @PathVariable(name = &quot;size&quot;) int batchSize) {\r\n  List&lt;Records&gt; records = dao.findAll(PageRequest.of(page, size));\r\n  HashMap&lt;String, Object&gt; res = new HashMap&lt;&gt;();\r\n  res.put(&quot;data&quot;, records);\r\n  res.put(&quot;total_record_count&quot;, records.size();\r\n  return res;\r\n}\r\n```\r\n\r\nMap&lt;String, Object&gt; is the closest thing we have to a javascript object in terms of just being able to create a loosely defined pojo on the fly. \r\n\r\nNote: @AllArgsConstructor, @NoArgsConstructor, @Data are all annotations provided by lombok, which saves you a lot of boiler plate code","title":"How can I add Total records in the Json object with Spring Boot","body":"<p>You can do what ianperfitt said and create a class like</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\nclass MyResponse {\n   private List&lt;Records&gt; records;\n   private int count;\n}\n</code></pre>\n<p>or exactly as you asked as</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\nclass MyResponse {\n   private List&lt;Records&gt; data;\n   private int total_records;\n}\n</code></pre>\n<p>and then in your controller</p>\n<pre><code>@GetMapping(&quot;/{pageOROffset}/{size}&quot;)\npublic MyResponse someMethodName(@PathVariable(name = &quot;pageOrOffset&quot;) int page, @PathVariable(name = &quot;size&quot;) int batchSize) {\n  List&lt;Records&gt; records = dao.findAll(PageRequest.of(page, size));\n  return new MyResponse(records, records.size());\n}\n</code></pre>\n<p>or you could be lazy and pretend the class is class and skip it and just do</p>\n<pre><code>@GetMapping(&quot;/{pageOROffset}/{size}&quot;)\npublic Map&lt;String, Object&gt; someMethodName(@PathVariable(name = &quot;pageOrOffset&quot;) int page, @PathVariable(name = &quot;size&quot;) int batchSize) {\n  List&lt;Records&gt; records = dao.findAll(PageRequest.of(page, size));\n  return Map.of(&quot;data&quot;, records, &quot;total_record_count&quot;, records.size());\n}\n</code></pre>\n<p>Note: Map.of() is a feature of Java 11+ and if you're not up to that version you could just do</p>\n<pre><code>@GetMapping(&quot;/{pageOROffset}/{size}&quot;)\npublic Map&lt;String, Object&gt; someMethodName(@PathVariable(name = &quot;pageOrOffset&quot;) int page, @PathVariable(name = &quot;size&quot;) int batchSize) {\n  List&lt;Records&gt; records = dao.findAll(PageRequest.of(page, size));\n  HashMap&lt;String, Object&gt; res = new HashMap&lt;&gt;();\n  res.put(&quot;data&quot;, records);\n  res.put(&quot;total_record_count&quot;, records.size();\n  return res;\n}\n</code></pre>\n<p>Map&lt;String, Object&gt; is the closest thing we have to a javascript object in terms of just being able to create a loosely defined pojo on the fly.</p>\n<p>Note: @AllArgsConstructor, @NoArgsConstructor, @Data are all annotations provided by lombok, which saves you a lot of boiler plate code</p>\n"}],"owner":{"account_id":27906986,"reputation":27,"user_id":21309960,"display_name":"Mustafa Dahodwala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75612622,"answer_count":2,"score":0,"last_activity_date":1677743844,"creation_date":1677734449,"question_id":75611567,"body_markdown":"I had implemented pagination on my fronted side thus it requires total records in the Json object with the data inside it for the specific page number, But i don&#39;t know how can i append total records to the Json object which i am returning from my sprinBoot main controller.\r\n\r\nCurrently i am getting Json object of \r\n\r\n```\r\n[\r\n    {\r\n        &quot;name&quot;: &quot;wrvee&quot;,\r\n        &quot;email_id&quot;: &quot;as@gmail.com&quot;,\r\n        &quot;check_in&quot;: null,\r\n        &quot;check_out&quot;: null,\r\n        &quot;data&quot;: null\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;sefse&quot;,\r\n        &quot;email_id&quot;: &quot;vsd@gmail.com&quot;,\r\n        &quot;check_in&quot;: null,\r\n        &quot;check_out&quot;: null,\r\n        &quot;data&quot;: null\r\n    }\r\n]\r\n```\r\n\r\nBut I am looking for :\r\n\r\n```\r\n[\r\n   total_records:100\r\n   data: {\r\n        &quot;name&quot;: &quot;wrvee&quot;,\r\n        &quot;email_id&quot;: &quot;as@gmail.com&quot;,\r\n        &quot;check_in&quot;: null,\r\n        &quot;check_out&quot;: null,\r\n        &quot;data&quot;: null\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;sefse&quot;,\r\n        &quot;email_id&quot;: &quot;vsd@gmail.com&quot;,\r\n        &quot;check_in&quot;: null,\r\n        &quot;check_out&quot;: null,\r\n        &quot;data&quot;: null\r\n    }\r\n]\r\n```\r\nMy SpringBoot Code of main controller where i am getting the data from the service class using List&lt;Model&gt; and returning it in the method.\r\n\r\n```\r\n@GetMapping(&quot;/view&quot;)\r\n\tpublic List&lt;TableModel&gt; view(\r\n\t\t\t@RequestParam(value=&quot;page&quot;,defaultValue = &quot;1&quot;,required = false) Integer page\r\n\t\t\t) {\r\n\t\t\r\n\t\treturn service.view(page);\r\n\t}\r\n```\r\n\r\n","title":"How can I add Total records in the Json object with Spring Boot","body":"<p>I had implemented pagination on my fronted side thus it requires total records in the Json object with the data inside it for the specific page number, But i don't know how can i append total records to the Json object which i am returning from my sprinBoot main controller.</p>\n<p>Currently i am getting Json object of</p>\n<pre><code>[\n    {\n        &quot;name&quot;: &quot;wrvee&quot;,\n        &quot;email_id&quot;: &quot;as@gmail.com&quot;,\n        &quot;check_in&quot;: null,\n        &quot;check_out&quot;: null,\n        &quot;data&quot;: null\n    },\n    {\n        &quot;name&quot;: &quot;sefse&quot;,\n        &quot;email_id&quot;: &quot;vsd@gmail.com&quot;,\n        &quot;check_in&quot;: null,\n        &quot;check_out&quot;: null,\n        &quot;data&quot;: null\n    }\n]\n</code></pre>\n<p>But I am looking for :</p>\n<pre><code>[\n   total_records:100\n   data: {\n        &quot;name&quot;: &quot;wrvee&quot;,\n        &quot;email_id&quot;: &quot;as@gmail.com&quot;,\n        &quot;check_in&quot;: null,\n        &quot;check_out&quot;: null,\n        &quot;data&quot;: null\n    },\n    {\n        &quot;name&quot;: &quot;sefse&quot;,\n        &quot;email_id&quot;: &quot;vsd@gmail.com&quot;,\n        &quot;check_in&quot;: null,\n        &quot;check_out&quot;: null,\n        &quot;data&quot;: null\n    }\n]\n</code></pre>\n<p>My SpringBoot Code of main controller where i am getting the data from the service class using List and returning it in the method.</p>\n<pre><code>@GetMapping(&quot;/view&quot;)\n    public List&lt;TableModel&gt; view(\n            @RequestParam(value=&quot;page&quot;,defaultValue = &quot;1&quot;,required = false) Integer page\n            ) {\n        \n        return service.view(page);\n    }\n</code></pre>\n"},{"tags":["java","arrays","json","katalon-studio","jsonnode"],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677667061,"creation_date":1677667061,"answer_id":75602550,"question_id":75602371,"body_markdown":"Below code for add field names and values of a JSON object into List&lt;String&lt;s&gt;&gt; using jsonNode:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class JsonToListExample {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tString jsonStr = &quot;{\\&quot;contact_info\\&quot;:[{\\&quot;contact_id\\&quot;:\\&quot;Contact_001\\&quot;,\\&quot;contact_status\\&quot;:{\\&quot;exam_status\\&quot;:0,\\&quot;term_list\\&quot;:[{\\&quot;term_code\\&quot;:110,\\&quot;t_list\\&quot;:[{\\&quot;s_code\\&quot;:12001,\\&quot;sexam_status\\&quot;:0},{\\&quot;s_code\\&quot;:13001,\\&quot;sexam_status\\&quot;:1}]}]}}]}&quot;;\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tJsonNode rootNode = mapper.readTree(jsonStr);\r\n    \t\tList&lt;String&gt; fieldList = new ArrayList&lt;&gt;();\r\n    \t\tcheckFields(rootNode, fieldList);\r\n    \t\tSystem.out.println(fieldList);\r\n    \r\n    \t}\r\n    \r\n    \tprivate static void checkFields(JsonNode node, List&lt;String&gt; fieldList) {\r\n    \t\tIterator&lt;String&gt; fieldNames = node.fieldNames();\r\n    \t\twhile (fieldNames.hasNext()) {\r\n    \t\t\tString fieldName = fieldNames.next();\r\n    \t\t\tJsonNode fieldValue = node.get(fieldName);\r\n    \t\t\tif (fieldValue.isObject()) {\r\n    \t\t\t\tcheckFields(fieldValue, fieldList);\r\n    \t\t\t} else if (fieldValue.isArray()) {\r\n    \t\t\t\tfor (JsonNode arrayNode : fieldValue) {\r\n    \t\t\t\t\tcheckFields(arrayNode, fieldList);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tString fieldStr = fieldName + &quot;: &quot; + fieldValue.toString();\r\n    \t\t\t\tfieldList.add(fieldStr);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to add field names and values of a json object into List&lt;String&gt; using jsonNode","body":"<p>Below code for add field names and values of a JSON object into List&lt;String&gt; using jsonNode:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class JsonToListExample {\n    public static void main(String[] args) throws Exception {\n        String jsonStr = &quot;{\\&quot;contact_info\\&quot;:[{\\&quot;contact_id\\&quot;:\\&quot;Contact_001\\&quot;,\\&quot;contact_status\\&quot;:{\\&quot;exam_status\\&quot;:0,\\&quot;term_list\\&quot;:[{\\&quot;term_code\\&quot;:110,\\&quot;t_list\\&quot;:[{\\&quot;s_code\\&quot;:12001,\\&quot;sexam_status\\&quot;:0},{\\&quot;s_code\\&quot;:13001,\\&quot;sexam_status\\&quot;:1}]}]}}]}&quot;;\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode rootNode = mapper.readTree(jsonStr);\n        List&lt;String&gt; fieldList = new ArrayList&lt;&gt;();\n        checkFields(rootNode, fieldList);\n        System.out.println(fieldList);\n\n    }\n\n    private static void checkFields(JsonNode node, List&lt;String&gt; fieldList) {\n        Iterator&lt;String&gt; fieldNames = node.fieldNames();\n        while (fieldNames.hasNext()) {\n            String fieldName = fieldNames.next();\n            JsonNode fieldValue = node.get(fieldName);\n            if (fieldValue.isObject()) {\n                checkFields(fieldValue, fieldList);\n            } else if (fieldValue.isArray()) {\n                for (JsonNode arrayNode : fieldValue) {\n                    checkFields(arrayNode, fieldList);\n                }\n            } else {\n                String fieldStr = fieldName + &quot;: &quot; + fieldValue.toString();\n                fieldList.add(fieldStr);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677672102,"creation_date":1677672102,"answer_id":75603444,"question_id":75602371,"body_markdown":"This code does what you want.\r\n\r\n    private static String jsonParserTest() {\r\n        try {\r\n            Map createdMap = new HashMap&lt;String, Object&gt;();\r\n            Map&lt;String, Object&gt; tempMap  = new HashMap&lt;&gt;();\r\n            List&lt;Map&gt; tempList = new ArrayList&lt;&gt;();\r\n            tempMap.put(&quot;s_code&quot;, 12001);\r\n            tempMap.put(&quot;sexam_status&quot;, 0);\r\n            tempList.add(tempMap);\r\n            tempMap = new HashMap&lt;&gt;();\r\n            tempMap.put(&quot;s_code&quot;, 13001);\r\n            tempMap.put(&quot;sexam_status&quot;, 1);\r\n            tempList.add(tempMap);\r\n            tempMap  = new HashMap&lt;&gt;();\r\n            tempMap.put(&quot;term_code&quot;, 110);\r\n            tempMap.put(&quot;t_list&quot;, tempList);\r\n            tempList = new ArrayList&lt;&gt;();\r\n            tempList.add(tempMap);\r\n            tempList = new ArrayList&lt;&gt;();\r\n            tempList.add(tempMap);\r\n            tempMap  = new HashMap&lt;&gt;();\r\n            tempMap.put(&quot;exam_status&quot;, 0);\r\n            tempMap.put(&quot;term_list&quot;, tempList);\r\n            Map&lt;String, Object&gt; tempMap2  = new HashMap&lt;&gt;();\r\n            tempMap2.put(&quot;contact_status&quot;, tempMap);\r\n            tempMap2.put(&quot;contact_id&quot;, &quot;Contact_001&quot;);\r\n            tempList = new ArrayList&lt;&gt;();\r\n            tempList.add(tempMap2);\r\n            createdMap.put(&quot;contact_info&quot;, tempList);\r\n            String jsonString = JsonUtils.writeObjectToJsonString(createdMap);\r\n            System.out.println(jsonString);\r\n            return jsonString;\r\n        } catch (IOException e) {\r\n            System.out.println(TextUtils.getStacktrace(e));\r\n        }\r\n    }\r\nThe return String is:\r\n\r\n    {\r\n       &quot;contact_info&quot;: {\r\n          &quot;contact_status&quot;: {\r\n             &quot;exam_status&quot;: 0,\r\n             &quot;term_list&quot;: [\r\n                {\r\n                   &quot;t_list&quot;: [\r\n                      {\r\n                         &quot;s_code&quot;: 12001,\r\n                         &quot;sexam_status&quot;: 0\r\n                      },\r\n                      {\r\n                         &quot;s_code&quot;: 13001,\r\n                         &quot;sexam_status&quot;: 1\r\n                      }\r\n                   ],\r\n                   &quot;term_code&quot;: 110\r\n                }\r\n             ]\r\n          },\r\n          &quot;contact_id&quot;: &quot;Contact_001&quot;\r\n       }\r\n    }\r\nAnd this String is the same Json as yours. Basically you need to build your map the way you want your JSON to look and than just serialize it to Json. In This code I used classes `JsonUtils` and `TextUtils`. `JsonUtils` class is a thin wrapper over Jason-Jackson library and it makes serializing and parsing simpler. Thise classes come from Open Source MgntUtils library written and maintained by me. You can get this library as Maven artifact [here][1] or [here][2] and also on [Github][3] with source code and Javadoc. Here is `JsoonUtils` [Javadoc][4]\r\n\r\n\r\n  [1]: https://central.sonatype.com/artifact/com.github.michaelgantman/MgntUtils/1.6.0.6/versions\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases\r\n  [4]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html","title":"How to add field names and values of a json object into List&lt;String&gt; using jsonNode","body":"<p>This code does what you want.</p>\n<pre><code>private static String jsonParserTest() {\n    try {\n        Map createdMap = new HashMap&lt;String, Object&gt;();\n        Map&lt;String, Object&gt; tempMap  = new HashMap&lt;&gt;();\n        List&lt;Map&gt; tempList = new ArrayList&lt;&gt;();\n        tempMap.put(&quot;s_code&quot;, 12001);\n        tempMap.put(&quot;sexam_status&quot;, 0);\n        tempList.add(tempMap);\n        tempMap = new HashMap&lt;&gt;();\n        tempMap.put(&quot;s_code&quot;, 13001);\n        tempMap.put(&quot;sexam_status&quot;, 1);\n        tempList.add(tempMap);\n        tempMap  = new HashMap&lt;&gt;();\n        tempMap.put(&quot;term_code&quot;, 110);\n        tempMap.put(&quot;t_list&quot;, tempList);\n        tempList = new ArrayList&lt;&gt;();\n        tempList.add(tempMap);\n        tempList = new ArrayList&lt;&gt;();\n        tempList.add(tempMap);\n        tempMap  = new HashMap&lt;&gt;();\n        tempMap.put(&quot;exam_status&quot;, 0);\n        tempMap.put(&quot;term_list&quot;, tempList);\n        Map&lt;String, Object&gt; tempMap2  = new HashMap&lt;&gt;();\n        tempMap2.put(&quot;contact_status&quot;, tempMap);\n        tempMap2.put(&quot;contact_id&quot;, &quot;Contact_001&quot;);\n        tempList = new ArrayList&lt;&gt;();\n        tempList.add(tempMap2);\n        createdMap.put(&quot;contact_info&quot;, tempList);\n        String jsonString = JsonUtils.writeObjectToJsonString(createdMap);\n        System.out.println(jsonString);\n        return jsonString;\n    } catch (IOException e) {\n        System.out.println(TextUtils.getStacktrace(e));\n    }\n}\n</code></pre>\n<p>The return String is:</p>\n<pre><code>{\n   &quot;contact_info&quot;: {\n      &quot;contact_status&quot;: {\n         &quot;exam_status&quot;: 0,\n         &quot;term_list&quot;: [\n            {\n               &quot;t_list&quot;: [\n                  {\n                     &quot;s_code&quot;: 12001,\n                     &quot;sexam_status&quot;: 0\n                  },\n                  {\n                     &quot;s_code&quot;: 13001,\n                     &quot;sexam_status&quot;: 1\n                  }\n               ],\n               &quot;term_code&quot;: 110\n            }\n         ]\n      },\n      &quot;contact_id&quot;: &quot;Contact_001&quot;\n   }\n}\n</code></pre>\n<p>And this String is the same Json as yours. Basically you need to build your map the way you want your JSON to look and than just serialize it to Json. In This code I used classes <code>JsonUtils</code> and <code>TextUtils</code>. <code>JsonUtils</code> class is a thin wrapper over Jason-Jackson library and it makes serializing and parsing simpler. Thise classes come from Open Source MgntUtils library written and maintained by me. You can get this library as Maven artifact <a href=\"https://central.sonatype.com/artifact/com.github.michaelgantman/MgntUtils/1.6.0.6/versions\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a> and also on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> with source code and Javadoc. Here is <code>JsoonUtils</code> <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677743612,"creation_date":1677681601,"answer_id":75605158,"question_id":75602371,"body_markdown":"You can use JSON library such as _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;contact_info\\&quot;: [{&quot; +\r\n        &quot;        \\&quot;contact_id\\&quot;: \\&quot;Contact_001\\&quot;,&quot; +\r\n        &quot;        \\&quot;contact_status\\&quot;: {&quot; +\r\n        &quot;            \\&quot;exam_status\\&quot;: 0,&quot; +\r\n        &quot;            \\&quot;term_list\\&quot;: [{&quot; +\r\n        &quot;                \\&quot;term_code\\&quot;: 110,&quot; +\r\n        &quot;                \\&quot;t_list\\&quot;: [{&quot; +\r\n        &quot;                        \\&quot;s_code\\&quot;: 12001,&quot; +\r\n        &quot;                        \\&quot;sexam_status\\&quot;: 0&quot; +\r\n        &quot;                    },&quot; +\r\n        &quot;                    {&quot; +\r\n        &quot;                        \\&quot;s_code\\&quot;: 13001,&quot; +\r\n        &quot;                        \\&quot;sexam_status\\&quot;: 1&quot; +\r\n        &quot;                    }&quot; +\r\n        &quot;                ]&quot; +\r\n        &quot;            }]&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    }]&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Query the keys and values in separate arrays__\r\n\r\n    Josson flattened = josson.getJosson(&quot;contact_info[0].flatten(&#39;.&#39;,&#39;[%d]&#39;)&quot;);\r\n    \r\n    System.out.println(&quot;-- Keys --&quot;);\r\n    JsonNode node = flattened.getNode(&quot;keys()&quot;);\r\n    List&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n    node.elements().forEachRemaining(elem -&gt; keys.add(elem.asText()));\r\n    keys.forEach(System.out::println);\r\n    \r\n    System.out.println(&quot;-- Values --&quot;);\r\n    node = flattened.getNode(&quot;toArray()&quot;);\r\n    List&lt;String&gt; values = new ArrayList&lt;&gt;();\r\n    node.elements().forEachRemaining(elem -&gt; values.add(elem.toString()));\r\n    values.forEach(System.out::println);\r\n\r\n__Output__\r\n\r\n    -- Keys --\r\n    contact_id\r\n    contact_status.exam_status\r\n    contact_status.term_list[0].term_code\r\n    contact_status.term_list[0].t_list[0].s_code\r\n    contact_status.term_list[0].t_list[0].sexam_status\r\n    contact_status.term_list[0].t_list[1].s_code\r\n    contact_status.term_list[0].t_list[1].sexam_status\r\n    -- Values --\r\n    &quot;Contact_001&quot;\r\n    0\r\n    110\r\n    12001\r\n    0\r\n    13001\r\n    1\r\n\r\n__Query the keys and values in single array__\r\n\r\n    JsonNode node = josson.getNode(&quot;contact_info[0].flatten(&#39;.&#39;,&#39;[%d]&#39;).entries().concat(key,&#39; = &#39;,value)&quot;);\r\n    List&lt;String&gt; keyValues = new ArrayList&lt;&gt;();\r\n    node.elements().forEachRemaining(elem -&gt; keyValues.add(elem.asText()));\r\n    keyValues.forEach(System.out::println);\r\n\r\n__Output__\r\n\r\n    contact_id = Contact_001\r\n    contact_status.exam_status = 0\r\n    contact_status.term_list[0].term_code = 110\r\n    contact_status.term_list[0].t_list[0].s_code = 12001\r\n    contact_status.term_list[0].t_list[0].sexam_status = 0\r\n    contact_status.term_list[0].t_list[1].s_code = 13001\r\n    contact_status.term_list[0].t_list[1].sexam_status = 1\r\n","title":"How to add field names and values of a json object into List&lt;String&gt; using jsonNode","body":"<p>You can use JSON library such as <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;contact_info\\&quot;: [{&quot; +\n    &quot;        \\&quot;contact_id\\&quot;: \\&quot;Contact_001\\&quot;,&quot; +\n    &quot;        \\&quot;contact_status\\&quot;: {&quot; +\n    &quot;            \\&quot;exam_status\\&quot;: 0,&quot; +\n    &quot;            \\&quot;term_list\\&quot;: [{&quot; +\n    &quot;                \\&quot;term_code\\&quot;: 110,&quot; +\n    &quot;                \\&quot;t_list\\&quot;: [{&quot; +\n    &quot;                        \\&quot;s_code\\&quot;: 12001,&quot; +\n    &quot;                        \\&quot;sexam_status\\&quot;: 0&quot; +\n    &quot;                    },&quot; +\n    &quot;                    {&quot; +\n    &quot;                        \\&quot;s_code\\&quot;: 13001,&quot; +\n    &quot;                        \\&quot;sexam_status\\&quot;: 1&quot; +\n    &quot;                    }&quot; +\n    &quot;                ]&quot; +\n    &quot;            }]&quot; +\n    &quot;        }&quot; +\n    &quot;    }]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Query the keys and values in separate arrays</strong></p>\n<pre><code>Josson flattened = josson.getJosson(&quot;contact_info[0].flatten('.','[%d]')&quot;);\n\nSystem.out.println(&quot;-- Keys --&quot;);\nJsonNode node = flattened.getNode(&quot;keys()&quot;);\nList&lt;String&gt; keys = new ArrayList&lt;&gt;();\nnode.elements().forEachRemaining(elem -&gt; keys.add(elem.asText()));\nkeys.forEach(System.out::println);\n\nSystem.out.println(&quot;-- Values --&quot;);\nnode = flattened.getNode(&quot;toArray()&quot;);\nList&lt;String&gt; values = new ArrayList&lt;&gt;();\nnode.elements().forEachRemaining(elem -&gt; values.add(elem.toString()));\nvalues.forEach(System.out::println);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>-- Keys --\ncontact_id\ncontact_status.exam_status\ncontact_status.term_list[0].term_code\ncontact_status.term_list[0].t_list[0].s_code\ncontact_status.term_list[0].t_list[0].sexam_status\ncontact_status.term_list[0].t_list[1].s_code\ncontact_status.term_list[0].t_list[1].sexam_status\n-- Values --\n&quot;Contact_001&quot;\n0\n110\n12001\n0\n13001\n1\n</code></pre>\n<p><strong>Query the keys and values in single array</strong></p>\n<pre><code>JsonNode node = josson.getNode(&quot;contact_info[0].flatten('.','[%d]').entries().concat(key,' = ',value)&quot;);\nList&lt;String&gt; keyValues = new ArrayList&lt;&gt;();\nnode.elements().forEachRemaining(elem -&gt; keyValues.add(elem.asText()));\nkeyValues.forEach(System.out::println);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>contact_id = Contact_001\ncontact_status.exam_status = 0\ncontact_status.term_list[0].term_code = 110\ncontact_status.term_list[0].t_list[0].s_code = 12001\ncontact_status.term_list[0].t_list[0].sexam_status = 0\ncontact_status.term_list[0].t_list[1].s_code = 13001\ncontact_status.term_list[0].t_list[1].sexam_status = 1\n</code></pre>\n"}],"owner":{"account_id":27197140,"reputation":17,"user_id":20729888,"display_name":"TaraNG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75605158,"answer_count":3,"score":0,"last_activity_date":1677743612,"creation_date":1677666180,"question_id":75602371,"body_markdown":"I have an expected json file as below. It is a nested object\r\n\r\n    {\r\n        &quot;contact_info&quot;: [{\r\n            &quot;contact_id&quot;: &quot;Contact_001&quot;,\r\n            &quot;contact_status&quot;: {\r\n                &quot;exam_status&quot;: 0,\r\n                &quot;term_list&quot;: [{\r\n                    &quot;term_code&quot;: 110,\r\n                    &quot;t_list&quot;: [{\r\n                            &quot;s_code&quot;: &quot;12001&quot;,\r\n                            &quot;sexam_status&quot;: 0\r\n                        },\r\n                        {\r\n                            &quot;s_code&quot;: &quot;13001&quot;,\r\n                            &quot;sexam_status&quot;: 1\r\n                        }\r\n                    ]\r\n                }]\r\n            }\r\n        }]\r\n    }\r\n\r\nHow to add all field name and value of all items inside this object into List&lt;String&gt;?\r\nI tried using the following way but it is not as expected.\r\n\r\n//Get all key name in json object\r\n\t\r\n\t```public static List&lt;String&gt; getAllKeysInJsonUsingJsonNodeFieldNames(String json) {\r\n\t\tObjectMapper mapper = new ObjectMapper()\r\n\t\tList&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n\t\tJsonNode jsonNode = mapper.readTree(json);\r\n\t\tgetAllKeysUsingJsonNodeFields(jsonNode, keys);\r\n\t\treturn keys;\r\n\t}\r\n\r\n\tpublic static void getAllKeysUsingJsonNodeFields(JsonNode jsonNode, List&lt;String&gt; keys) {\r\n\t\tif (jsonNode.isObject()) {\r\n\t\t\tIterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fields = jsonNode.fields();\r\n\t\t\tfields.forEachRemaining({def field -&gt;\r\n\t\t\t\tkeys.add(field.getKey());\r\n\t\t\t\tgetAllKeysUsingJsonNodeFields((JsonNode) field.getValue(), keys);\r\n\t\t\t});\r\n\t\t} else if (jsonNode.isArray()) {\r\n\t\t\tArrayNode arrayField = (ArrayNode) jsonNode;\r\n\t\t\tarrayField.forEach({def node -&gt;\r\n\t\t\t\tgetAllKeysUsingJsonNodeFields(node, keys);\r\n\t\t\t});\r\n\t\t}\r\n\t}```\r\n\r\nThe result as below =&gt; It only shows only field name without figure out that field belong to which object\r\n\r\nTagName[i] = s_code\r\n\r\nI expect that the result should be below, specifically, I want to field name should be shown it belongs to which object =&gt; Could you tell me how to resolve it?\r\n\r\nTagName[i] = contact_status.term_list[0].t_list[0].s_code\r\n\r\nSorry for I&#39;m a new in Java =&gt; If anyone know a way to resolve it please tell me in more details. Thank you so much!","title":"How to add field names and values of a json object into List&lt;String&gt; using jsonNode","body":"<p>I have an expected json file as below. It is a nested object</p>\n<pre><code>{\n    &quot;contact_info&quot;: [{\n        &quot;contact_id&quot;: &quot;Contact_001&quot;,\n        &quot;contact_status&quot;: {\n            &quot;exam_status&quot;: 0,\n            &quot;term_list&quot;: [{\n                &quot;term_code&quot;: 110,\n                &quot;t_list&quot;: [{\n                        &quot;s_code&quot;: &quot;12001&quot;,\n                        &quot;sexam_status&quot;: 0\n                    },\n                    {\n                        &quot;s_code&quot;: &quot;13001&quot;,\n                        &quot;sexam_status&quot;: 1\n                    }\n                ]\n            }]\n        }\n    }]\n}\n</code></pre>\n<p>How to add all field name and value of all items inside this object into List?\nI tried using the following way but it is not as expected.</p>\n<p>//Get all key name in json object</p>\n<pre><code>```public static List&lt;String&gt; getAllKeysInJsonUsingJsonNodeFieldNames(String json) {\n    ObjectMapper mapper = new ObjectMapper()\n    List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n    JsonNode jsonNode = mapper.readTree(json);\n    getAllKeysUsingJsonNodeFields(jsonNode, keys);\n    return keys;\n}\n\npublic static void getAllKeysUsingJsonNodeFields(JsonNode jsonNode, List&lt;String&gt; keys) {\n    if (jsonNode.isObject()) {\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fields = jsonNode.fields();\n        fields.forEachRemaining({def field -&gt;\n            keys.add(field.getKey());\n            getAllKeysUsingJsonNodeFields((JsonNode) field.getValue(), keys);\n        });\n    } else if (jsonNode.isArray()) {\n        ArrayNode arrayField = (ArrayNode) jsonNode;\n        arrayField.forEach({def node -&gt;\n            getAllKeysUsingJsonNodeFields(node, keys);\n        });\n    }\n}```\n</code></pre>\n<p>The result as below =&gt; It only shows only field name without figure out that field belong to which object</p>\n<p>TagName[i] = s_code</p>\n<p>I expect that the result should be below, specifically, I want to field name should be shown it belongs to which object =&gt; Could you tell me how to resolve it?</p>\n<p>TagName[i] = contact_status.term_list[0].t_list[0].s_code</p>\n<p>Sorry for I'm a new in Java =&gt; If anyone know a way to resolve it please tell me in more details. Thank you so much!</p>\n"},{"tags":["java","android","kotlin","realm"],"comments":[{"owner":{"account_id":438563,"reputation":16902,"user_id":1511776,"accept_rate":92,"display_name":"hardartcore"},"score":0,"creation_date":1636974578,"post_id":69972354,"comment_id":123692317,"body_markdown":"Running transactions on the UI thread is not something you should consider doing at all.","body":"Running transactions on the UI thread is not something you should consider doing at all."},{"owner":{"account_id":23288861,"reputation":1,"user_id":17371243,"display_name":"Javad Mirzaiee"},"score":0,"creation_date":1636976987,"post_id":69972354,"comment_id":123693147,"body_markdown":"thanks for answering my problem.to fix that what should i do?","body":"thanks for answering my problem.to fix that what should i do?"},{"owner":{"account_id":438563,"reputation":16902,"user_id":1511776,"accept_rate":92,"display_name":"hardartcore"},"score":0,"creation_date":1636977205,"post_id":69972354,"comment_id":123693242,"body_markdown":"Execute the transaction in background thread. Realm already has a function: `executeTransactionAsync` .","body":"Execute the transaction in background thread. Realm already has a function: <code>executeTransactionAsync</code> ."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637075714,"post_id":69972354,"comment_id":123725580,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":27577821,"reputation":1,"user_id":21047616,"display_name":"Mohd Anas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677742837,"creation_date":1677434521,"answer_id":75573998,"question_id":69972354,"body_markdown":"    Realm.init(getApplicationContext());\r\n    \r\n    //Use this code after Realm.init(context)\r\n    RealmConfiguration realmConfiguration = new RealmConfiguration.Builder().name(Realm.DEFAULT_REALM_NAME)\r\n                    .schemaVersion(0)\r\n                    .allowWritesOnUiThread(true)\r\n                    .deleteRealmIfMigrationNeeded()\r\n                    .build();\r\n            realm = Realm.getInstance(realmConfiguration);","title":"Realm database execute","body":"<pre><code>Realm.init(getApplicationContext());\n\n//Use this code after Realm.init(context)\nRealmConfiguration realmConfiguration = new RealmConfiguration.Builder().name(Realm.DEFAULT_REALM_NAME)\n                .schemaVersion(0)\n                .allowWritesOnUiThread(true)\n                .deleteRealmIfMigrationNeeded()\n                .build();\n        realm = Realm.getInstance(realmConfiguration);\n</code></pre>\n"}],"owner":{"account_id":23288861,"reputation":1,"user_id":17371243,"display_name":"Javad Mirzaiee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677742837,"creation_date":1636969804,"question_id":69972354,"body_markdown":"when I want to execute realm database I got this error, how can I solve this error , Running transactions on the UI thread has been disabled. It can be enabled by setting \r\n &#39;RealmConfiguration.Builder.allowWritesOnUiThread(true)&#39;","title":"Realm database execute","body":"<p>when I want to execute realm database I got this error, how can I solve this error , Running transactions on the UI thread has been disabled. It can be enabled by setting\n'RealmConfiguration.Builder.allowWritesOnUiThread(true)'</p>\n"},{"tags":["java","sorting","sort-object"],"comments":[{"owner":{"account_id":72695,"reputation":411,"user_id":529985,"display_name":"gunalmel"},"score":0,"creation_date":1347768266,"post_id":5805602,"comment_id":16732873,"body_markdown":"[Answer by @Yishai in this post](http://stackoverflow.com/questions/1421322/how-do-i-sort-a-list-with-multiple-sort-parameters#1421537) demonstrates elegant use of enum for custom sorting and grouped  sorting (multiple arguments) utilizing comparator chaining.","body":"<a href=\"http://stackoverflow.com/questions/1421322/how-do-i-sort-a-list-with-multiple-sort-parameters#1421537\">Answer by @Yishai in this post</a> demonstrates elegant use of enum for custom sorting and grouped  sorting (multiple arguments) utilizing comparator chaining."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":159,"is_accepted":false,"score":159,"last_activity_date":1622495891,"creation_date":1303914021,"answer_id":5805621,"question_id":5805602,"body_markdown":"Using [`Comparator`][1]\r\n\r\n\r\n**For Example:**\r\n\r\n    class Score {\r\n    \r\n        private String name;\r\n        private List&lt;Integer&gt; scores;\r\n        // +accessor methods\r\n    }\r\n\r\n---------------\r\n\r\n        Collections.sort(scores, new Comparator&lt;Score&gt;() {\r\n\r\n            public int compare(Score o1, Score o2) {\r\n                // compare two instance of `Score` and return `int` as result.\r\n                return o2.getScores().get(0).compareTo(o1.getScores().get(0));\r\n            }\r\n        });\r\n\r\nWith Java 8 onwards, you can simply use lambda expression to represent Comparator instance.\r\n\r\n    Collections.sort(scores, (s1, s2) -&gt; { /* compute and return int */ });\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\r\n","title":"How to sort List of objects by some property","body":"<p>Using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a></p>\n<p><strong>For Example:</strong></p>\n<pre><code>class Score {\n\n    private String name;\n    private List&lt;Integer&gt; scores;\n    // +accessor methods\n}\n</code></pre>\n<hr />\n<pre><code>    Collections.sort(scores, new Comparator&lt;Score&gt;() {\n\n        public int compare(Score o1, Score o2) {\n            // compare two instance of `Score` and return `int` as result.\n            return o2.getScores().get(0).compareTo(o1.getScores().get(0));\n        }\n    });\n</code></pre>\n<p>With Java 8 onwards, you can simply use lambda expression to represent Comparator instance.</p>\n<pre><code>Collections.sort(scores, (s1, s2) -&gt; { /* compute and return int */ });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303914062,"creation_date":1303914062,"answer_id":5805632,"question_id":5805602,"body_markdown":"You can call Collections.sort() and pass in a Comparator which you need to write to compare different properties of the object.","title":"How to sort List of objects by some property","body":"<p>You can call Collections.sort() and pass in a Comparator which you need to write to compare different properties of the object.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":153,"is_accepted":false,"score":153,"last_activity_date":1386896502,"creation_date":1303914063,"answer_id":5805633,"question_id":5805602,"body_markdown":"Either make `ActiveAlarm` implement `Comparable&lt;ActiveAlarm&gt;` or implement `Comparator&lt;ActiveAlarm&gt;` in a separate class. Then call:\r\n\r\n    Collections.sort(list);\r\n\r\nor\r\n\r\n    Collections.sort(list, comparator);\r\n\r\nIn general, it&#39;s a good idea to implement [`Comparable&lt;T&gt;`][1] if there&#39;s a single &quot;natural&quot; sort order... otherwise (if you *happen* to want to sort in a particular order, but might equally easily want a different one) it&#39;s better to implement [`Comparator&lt;T&gt;`][2]. This particular situation could go either way, to be honest... but I&#39;d *probably* stick with the more flexible [`Comparator&lt;T&gt;`][2] option. \r\n\r\nEDIT: Sample implementation:\r\n\r\n    public class AlarmByTimesComparer implements Comparator&lt;ActiveAlarm&gt; {\r\n      @Override\r\n      public int compare(ActiveAlarm x, ActiveAlarm y) {\r\n        // TODO: Handle null x or y values\r\n        int startComparison = compare(x.timeStarted, y.timeStarted);\r\n        return startComparison != 0 ? startComparison\r\n                                    : compare(x.timeEnded, y.timeEnded);\r\n      }\r\n\r\n      // I don&#39;t know why this isn&#39;t in Long...\r\n      private static int compare(long a, long b) {\r\n        return a &lt; b ? -1\r\n             : a &gt; b ? 1\r\n             : 0;\r\n      }\r\n    }\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Comparable.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html","title":"How to sort List of objects by some property","body":"<p>Either make <code>ActiveAlarm</code> implement <code>Comparable&lt;ActiveAlarm&gt;</code> or implement <code>Comparator&lt;ActiveAlarm&gt;</code> in a separate class. Then call:</p>\n\n<pre><code>Collections.sort(list);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Collections.sort(list, comparator);\n</code></pre>\n\n<p>In general, it's a good idea to implement <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\"><code>Comparable&lt;T&gt;</code></a> if there's a single \"natural\" sort order... otherwise (if you <em>happen</em> to want to sort in a particular order, but might equally easily want a different one) it's better to implement <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator&lt;T&gt;</code></a>. This particular situation could go either way, to be honest... but I'd <em>probably</em> stick with the more flexible <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator&lt;T&gt;</code></a> option. </p>\n\n<p>EDIT: Sample implementation:</p>\n\n<pre><code>public class AlarmByTimesComparer implements Comparator&lt;ActiveAlarm&gt; {\n  @Override\n  public int compare(ActiveAlarm x, ActiveAlarm y) {\n    // TODO: Handle null x or y values\n    int startComparison = compare(x.timeStarted, y.timeStarted);\n    return startComparison != 0 ? startComparison\n                                : compare(x.timeEnded, y.timeEnded);\n  }\n\n  // I don't know why this isn't in Long...\n  private static int compare(long a, long b) {\n    return a &lt; b ? -1\n         : a &gt; b ? 1\n         : 0;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303914110,"creation_date":1303914110,"answer_id":5805644,"question_id":5805602,"body_markdown":"You can use [`Collections.sort`][1] and pass your own [`Comparator&lt;ActiveAlarm&gt;`][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html","title":"How to sort List of objects by some property","body":"<p>You can use <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\" rel=\"nofollow\"><code>Collections.sort</code></a> and pass your own <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow\"><code>Comparator&lt;ActiveAlarm&gt;</code></a></p>\n"},{"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472750478,"creation_date":1303914230,"answer_id":5805672,"question_id":5805602,"body_markdown":"Guava&#39;s [ComparisonChain][1]:\r\n\r\n    Collections.sort(list, new Comparator&lt;ActiveAlarm&gt;(){\r\n                @Override\r\n                public int compare(ActiveAlarm a1, ActiveAlarm a2) {\r\n                     return ComparisonChain.start()\r\n                           .compare(a1.timestarted, a2.timestarted)\r\n                           //...\r\n                           .compare(a1.timeEnded, a1.timeEnded).result();\r\n                }});\r\n\r\n\r\n  [1]:https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ComparisonChain.html","title":"How to sort List of objects by some property","body":"<p>Guava's <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ComparisonChain.html\" rel=\"nofollow\">ComparisonChain</a>:</p>\n\n<pre><code>Collections.sort(list, new Comparator&lt;ActiveAlarm&gt;(){\n            @Override\n            public int compare(ActiveAlarm a1, ActiveAlarm a2) {\n                 return ComparisonChain.start()\n                       .compare(a1.timestarted, a2.timestarted)\n                       //...\n                       .compare(a1.timeEnded, a1.timeEnded).result();\n            }});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61630,"reputation":38237,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539525269,"creation_date":1303914265,"answer_id":5805680,"question_id":5805602,"body_markdown":"In java you need to use the static `Collections.sort` method. Here is an example for a list of CompanyRole objects, sorted first by begin and then by end. You can easily adapt for your own object. \r\n\r\n    private static void order(List&lt;TextComponent&gt; roles) {\r\n\t\t\r\n\t\tCollections.sort(roles, new Comparator() {\r\n            @Override\r\n\t\t\tpublic int compare(Object o1, Object o2) {\r\n\t\t\t\tint x1 = ((CompanyRole) o1).getBegin();\r\n\t\t\t\tint x2 = ((CompanyRole) o2).getBegin();\r\n\t\t\t\t\r\n\t\t\t\tif (x1 != x2) {\r\n\t\t\t\t\treturn x1 - x2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tint y1 = ((CompanyRole) o1).getEnd();\r\n\t\t\t\t\tint y2 = ((CompanyRole) o2).getEnd();\r\n\t\t\t\t\treturn y2 - y1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n","title":"How to sort List of objects by some property","body":"<p>In java you need to use the static <code>Collections.sort</code> method. Here is an example for a list of CompanyRole objects, sorted first by begin and then by end. You can easily adapt for your own object. </p>\n\n<pre><code>private static void order(List&lt;TextComponent&gt; roles) {\n\n    Collections.sort(roles, new Comparator() {\n        @Override\n        public int compare(Object o1, Object o2) {\n            int x1 = ((CompanyRole) o1).getBegin();\n            int x2 = ((CompanyRole) o2).getBegin();\n\n            if (x1 != x2) {\n                return x1 - x2;\n            } else {\n                int y1 = ((CompanyRole) o1).getEnd();\n                int y2 = ((CompanyRole) o2).getEnd();\n                return y2 - y1;\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":373975,"reputation":24834,"user_id":723920,"accept_rate":60,"display_name":"Kal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1458140972,"creation_date":1303914307,"answer_id":5805692,"question_id":5805602,"body_markdown":"    public class ActiveAlarm implements Comparable&lt;ActiveAlarm&gt; {\r\n        public long timeStarted;\r\n        public long timeEnded;\r\n        private String name = &quot;&quot;;\r\n        private String description = &quot;&quot;;\r\n        private String event;\r\n        private boolean live = false;\r\n\r\n        public int compareTo(ActiveAlarm a) {\r\n            if ( this.timeStarted &gt; a.timeStarted )\r\n                return 1;\r\n            else if ( this.timeStarted &lt; a.timeStarted )\r\n                return -1;\r\n            else {\r\n                 if ( this.timeEnded &gt; a.timeEnded )\r\n                     return 1;\r\n                 else\r\n                     return -1;\r\n            }\r\n     }\r\n\r\nThat should give you a rough idea. Once that&#39;s done, you can call `Collections.sort()` on the list. ","title":"How to sort List of objects by some property","body":"<pre><code>public class ActiveAlarm implements Comparable&lt;ActiveAlarm&gt; {\n    public long timeStarted;\n    public long timeEnded;\n    private String name = \"\";\n    private String description = \"\";\n    private String event;\n    private boolean live = false;\n\n    public int compareTo(ActiveAlarm a) {\n        if ( this.timeStarted &gt; a.timeStarted )\n            return 1;\n        else if ( this.timeStarted &lt; a.timeStarted )\n            return -1;\n        else {\n             if ( this.timeEnded &gt; a.timeEnded )\n                 return 1;\n             else\n                 return -1;\n        }\n }\n</code></pre>\n\n<p>That should give you a rough idea. Once that's done, you can call <code>Collections.sort()</code> on the list. </p>\n"},{"tags":[],"owner":{"account_id":1046415,"reputation":2760,"user_id":1051305,"accept_rate":66,"display_name":"Jagadeesh"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1345555465,"creation_date":1345551456,"answer_id":12054668,"question_id":5805602,"body_markdown":"**We can sort the list in one of two ways:**\r\n\r\n**1. Using Comparator** : When required to use the sort logic in multiple places\r\nIf you want to use the sorting logic in a single place, then you can write an anonymous inner class as follows, or else extract the comparator and use it in multiple places\r\n\r\n      Collections.sort(arrayList, new Comparator&lt;ActiveAlarm&gt;() {\r\n\t\t\tpublic int compare(ActiveAlarm o1, ActiveAlarm o2) {\r\n\t\t\t\t//Sorts by &#39;TimeStarted&#39; property\r\n\t\t\t\treturn o1.getTimeStarted()&lt;o2.getTimeStarted()?-1:o1.getTimeStarted()&gt;o2.getTimeStarted()?1:doSecodaryOrderSort(o1,o2);\r\n\t\t\t}\r\n\r\n\t\t\t//If &#39;TimeStarted&#39; property is equal sorts by &#39;TimeEnded&#39; property\r\n\t\t\tpublic int doSecodaryOrderSort(ActiveAlarm o1,ActiveAlarm o2) {\r\n\t\t\t\treturn o1.getTimeEnded()&lt;o2.getTimeEnded()?-1:o1.getTimeEnded()&gt;o2.getTimeEnded()?1:0;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\nWe can have null check for the properties, if we could have used &#39;Long&#39; instead of &#39;long&#39;.\r\n\r\n\r\n**2. Using Comparable(natural ordering)**: If sort algorithm always stick to one property:\r\nwrite a class that implements &#39;Comparable&#39; and override &#39;compareTo&#39; method as defined below\r\n\r\n\r\n    class ActiveAlarm implements Comparable&lt;ActiveAlarm&gt;{\r\n\r\n    public long timeStarted;\r\n    public long timeEnded;\r\n    private String name = &quot;&quot;;\r\n    private String description = &quot;&quot;;\r\n    private String event;\r\n    private boolean live = false;\r\n    \r\n    public ActiveAlarm(long timeStarted,long timeEnded) {\r\n    \tthis.timeStarted=timeStarted;\r\n    \tthis.timeEnded=timeEnded;\r\n\t}\r\n\r\n\tpublic long getTimeStarted() {\r\n\t\treturn timeStarted;\r\n\t}\r\n\r\n\tpublic long getTimeEnded() {\r\n\t\treturn timeEnded;\r\n\t}\r\n\r\n\tpublic int compareTo(ActiveAlarm o) {\r\n\t\treturn timeStarted&lt;o.getTimeStarted()?-1:timeStarted&gt;o.getTimeStarted()?1:doSecodaryOrderSort(o);\r\n\t}\r\n    \r\n\tpublic int doSecodaryOrderSort(ActiveAlarm o) {\r\n\t\treturn timeEnded&lt;o.getTimeEnded()?-1:timeEnded&gt;o.getTimeEnded()?1:0;\r\n\t}\r\n}\r\n\r\n\r\ncall sort method to sort based on natural ordering\r\n\r\n    Collections.sort(list);\r\n","title":"How to sort List of objects by some property","body":"<p><strong>We can sort the list in one of two ways:</strong></p>\n\n<p><strong>1. Using Comparator</strong> : When required to use the sort logic in multiple places\nIf you want to use the sorting logic in a single place, then you can write an anonymous inner class as follows, or else extract the comparator and use it in multiple places</p>\n\n<pre><code>  Collections.sort(arrayList, new Comparator&lt;ActiveAlarm&gt;() {\n        public int compare(ActiveAlarm o1, ActiveAlarm o2) {\n            //Sorts by 'TimeStarted' property\n            return o1.getTimeStarted()&lt;o2.getTimeStarted()?-1:o1.getTimeStarted()&gt;o2.getTimeStarted()?1:doSecodaryOrderSort(o1,o2);\n        }\n\n        //If 'TimeStarted' property is equal sorts by 'TimeEnded' property\n        public int doSecodaryOrderSort(ActiveAlarm o1,ActiveAlarm o2) {\n            return o1.getTimeEnded()&lt;o2.getTimeEnded()?-1:o1.getTimeEnded()&gt;o2.getTimeEnded()?1:0;\n        }\n    });\n</code></pre>\n\n<p>We can have null check for the properties, if we could have used 'Long' instead of 'long'.</p>\n\n<p><strong>2. Using Comparable(natural ordering)</strong>: If sort algorithm always stick to one property:\nwrite a class that implements 'Comparable' and override 'compareTo' method as defined below</p>\n\n<pre><code>class ActiveAlarm implements Comparable&lt;ActiveAlarm&gt;{\n\npublic long timeStarted;\npublic long timeEnded;\nprivate String name = \"\";\nprivate String description = \"\";\nprivate String event;\nprivate boolean live = false;\n\npublic ActiveAlarm(long timeStarted,long timeEnded) {\n    this.timeStarted=timeStarted;\n    this.timeEnded=timeEnded;\n}\n\npublic long getTimeStarted() {\n    return timeStarted;\n}\n\npublic long getTimeEnded() {\n    return timeEnded;\n}\n\npublic int compareTo(ActiveAlarm o) {\n    return timeStarted&lt;o.getTimeStarted()?-1:timeStarted&gt;o.getTimeStarted()?1:doSecodaryOrderSort(o);\n}\n\npublic int doSecodaryOrderSort(ActiveAlarm o) {\n    return timeEnded&lt;o.getTimeEnded()?-1:timeEnded&gt;o.getTimeEnded()?1:0;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>call sort method to sort based on natural ordering</p>\n\n<pre><code>Collections.sort(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456725144,"creation_date":1456725144,"answer_id":35692813,"question_id":5805602,"body_markdown":"As mentioned you can sort by:\r\n\r\n - Making your object implement `Comparable` \r\n - Or pass a `Comparator` to `Collections.sort`\r\n\r\nIf you do both, the `Comparable` will be ignored and `Comparator` will be used. This helps that the value objects has their own  logical  `Comparable` which is most reasonable sort for your value object, while each individual use case has its own implementation.","title":"How to sort List of objects by some property","body":"<p>As mentioned you can sort by:</p>\n\n<ul>\n<li>Making your object implement <code>Comparable</code> </li>\n<li>Or pass a <code>Comparator</code> to <code>Collections.sort</code></li>\n</ul>\n\n<p>If you do both, the <code>Comparable</code> will be ignored and <code>Comparator</code> will be used. This helps that the value objects has their own  logical  <code>Comparable</code> which is most reasonable sort for your value object, while each individual use case has its own implementation.</p>\n"},{"tags":[],"owner":{"account_id":1905795,"reputation":3201,"user_id":1720704,"accept_rate":94,"display_name":"John Fowler"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1509628199,"creation_date":1457125037,"answer_id":35805892,"question_id":5805602,"body_markdown":"**JAVA 8 and Above Answer (Using Lambda Expressions)**\r\n\r\nIn Java 8, Lambda expressions were introduced to make this even easier!  Instead of creating a Comparator() object with all of it&#39;s scaffolding, you can simplify it as follows: (Using your object as an example)\r\n\r\n    Collections.sort(list, (ActiveAlarm a1, ActiveAlarm a2) -&gt; a1.timeStarted-a2.timeStarted);\r\n\r\nor even shorter:\r\n\r\n    Collections.sort(list, Comparator.comparingInt(ActiveAlarm ::getterMethod));\r\n\r\n\r\nThat one statement is equivalent to the following:\r\n\r\n    Collections.sort(list, new Comparator&lt;ActiveAlarm&gt;() {\r\n        @Override\r\n        public int compare(ActiveAlarm a1, ActiveAlarm a2) {\r\n            return a1.timeStarted - a2.timeStarted;\r\n        }\r\n    });\r\n\r\nThink of Lambda expressions as only requiring you to put in the relevant parts of the code:  the method signature and what gets returned.\r\n\r\nAnother part of your question was how to compare against multiple fields.  To do that with Lambda expressions, you can use the `.thenComparing()` function to effectively combine two comparisons into one:\r\n\r\n    Collections.sort(list, (ActiveAlarm a1, ActiveAlarm a2) -&gt; a1.timeStarted-a2.timeStarted             \r\n           .thenComparing ((ActiveAlarm a1, ActiveAlarm a2) -&gt; a1.timeEnded-a2.timeEnded)\r\n    );\r\n\r\nThe above code will sort the list first by `timeStarted`, and then by `timeEnded` (for those records that have the same `timeStarted`).\r\n\r\nOne last note: It is easy to compare &#39;long&#39; or &#39;int&#39; primitives, you can just subtract one from the other.  If you are comparing objects (&#39;Long&#39; or &#39;String&#39;), I suggest you use their built-in comparison.  Example:\r\n\r\n    Collections.sort(list, (ActiveAlarm a1, ActiveAlarm a2) -&gt; a1.name.compareTo(a2.name) );\r\n\r\nEDIT:  Thanks to Lukas Eder for pointing me to `.thenComparing()` function.\r\n","title":"How to sort List of objects by some property","body":"<p><strong>JAVA 8 and Above Answer (Using Lambda Expressions)</strong></p>\n\n<p>In Java 8, Lambda expressions were introduced to make this even easier!  Instead of creating a Comparator() object with all of it's scaffolding, you can simplify it as follows: (Using your object as an example)</p>\n\n<pre><code>Collections.sort(list, (ActiveAlarm a1, ActiveAlarm a2) -&gt; a1.timeStarted-a2.timeStarted);\n</code></pre>\n\n<p>or even shorter:</p>\n\n<pre><code>Collections.sort(list, Comparator.comparingInt(ActiveAlarm ::getterMethod));\n</code></pre>\n\n<p>That one statement is equivalent to the following:</p>\n\n<pre><code>Collections.sort(list, new Comparator&lt;ActiveAlarm&gt;() {\n    @Override\n    public int compare(ActiveAlarm a1, ActiveAlarm a2) {\n        return a1.timeStarted - a2.timeStarted;\n    }\n});\n</code></pre>\n\n<p>Think of Lambda expressions as only requiring you to put in the relevant parts of the code:  the method signature and what gets returned.</p>\n\n<p>Another part of your question was how to compare against multiple fields.  To do that with Lambda expressions, you can use the <code>.thenComparing()</code> function to effectively combine two comparisons into one:</p>\n\n<pre><code>Collections.sort(list, (ActiveAlarm a1, ActiveAlarm a2) -&gt; a1.timeStarted-a2.timeStarted             \n       .thenComparing ((ActiveAlarm a1, ActiveAlarm a2) -&gt; a1.timeEnded-a2.timeEnded)\n);\n</code></pre>\n\n<p>The above code will sort the list first by <code>timeStarted</code>, and then by <code>timeEnded</code> (for those records that have the same <code>timeStarted</code>).</p>\n\n<p>One last note: It is easy to compare 'long' or 'int' primitives, you can just subtract one from the other.  If you are comparing objects ('Long' or 'String'), I suggest you use their built-in comparison.  Example:</p>\n\n<pre><code>Collections.sort(list, (ActiveAlarm a1, ActiveAlarm a2) -&gt; a1.name.compareTo(a2.name) );\n</code></pre>\n\n<p>EDIT:  Thanks to Lukas Eder for pointing me to <code>.thenComparing()</code> function.</p>\n"},{"tags":[],"owner":{"account_id":2397695,"reputation":4935,"user_id":2096177,"accept_rate":61,"display_name":"Mathias G."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493891526,"creation_date":1493888957,"answer_id":43778541,"question_id":5805602,"body_markdown":"Since Java8 this can be done even cleaner using a combination of [`Comparator`][1] and [`Lambda expressions`][2]\r\n\r\n\r\n**For Example:**\r\n\r\n    class Student{\r\n    \r\n        private String name;\r\n        private List&lt;Score&gt; scores;\r\n        \r\n        // +accessor methods\r\n    }\r\n\r\n    class Score {\r\n    \r\n        private int grade;\r\n        // +accessor methods\r\n    }\r\n\r\n---------------\r\n\r\n        Collections.sort(student.getScores(), Comparator.comparing(Score::getGrade);\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n","title":"How to sort List of objects by some property","body":"<p>Since Java8 this can be done even cleaner using a combination of <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\"><code>Lambda expressions</code></a></p>\n\n<p><strong>For Example:</strong></p>\n\n<pre><code>class Student{\n\n    private String name;\n    private List&lt;Score&gt; scores;\n\n    // +accessor methods\n}\n\nclass Score {\n\n    private int grade;\n    // +accessor methods\n}\n</code></pre>\n\n<hr>\n\n<pre><code>    Collections.sort(student.getScores(), Comparator.comparing(Score::getGrade);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177142,"reputation":2654,"user_id":1927543,"accept_rate":74,"display_name":"Karthikeyan"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1593088283,"creation_date":1522649442,"answer_id":49606190,"question_id":5805602,"body_markdown":"In java8+ this can be written in single line as follows:\r\n\r\n`collectionObjec.sort(comparator_lamda)` or `comparator.comparing(CollectionType::getterOfProperty)`\r\n\r\ncode: \r\n\r\n    ListOfActiveAlarmObj.sort((a,b-&gt;a.getTimeStarted().compareTo(b.getTimeStarted())))\r\n     \r\nor\r\n\r\n    ListOfActiveAlarmObj.sort(Comparator.comparing(ActiveAlarm::getTimeStarted))\r\n\r\n","title":"How to sort List of objects by some property","body":"<p>In java8+ this can be written in single line as follows:</p>\n<p><code>collectionObjec.sort(comparator_lamda)</code> or <code>comparator.comparing(CollectionType::getterOfProperty)</code></p>\n<p>code:</p>\n<pre><code>ListOfActiveAlarmObj.sort((a,b-&gt;a.getTimeStarted().compareTo(b.getTimeStarted())))\n \n</code></pre>\n<p>or</p>\n<pre><code>ListOfActiveAlarmObj.sort(Comparator.comparing(ActiveAlarm::getTimeStarted))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609229553,"creation_date":1609227728,"answer_id":65488881,"question_id":5805602,"body_markdown":"## Java-8 solution using [Stream API][1]:\r\n\r\n**A.** When `timeStarted` and `timeEnded` are `public` (as mentioned in the requirement) and therefore do not (need to) have `public` getter methods:\r\n\r\n    List&lt;ActiveAlarm&gt; sorted = \r\n    \tlist.stream()\r\n            .sorted(Comparator.comparingLong((ActiveAlarm alarm) -&gt; alarm.timeStarted)\r\n                            .thenComparingLong((ActiveAlarm alarm) -&gt; alarm.timeEnded))\r\n            .collect(Collectors.toList());\r\n\r\n**B.** When `timeStarted` and `timeEnded` have `public` getter methods:\r\n\r\n    List&lt;ActiveAlarm&gt; sorted = \r\n    \tlist.stream()\r\n    \t\t.sorted(Comparator.comparingLong(ActiveAlarm::getTimeStarted)\r\n    \t\t\t\t\t\t.thenComparingLong(ActiveAlarm::getTimeEnded))\r\n    \t\t.collect(Collectors.toList());\r\n\r\n## If you want to sort the original `list` itself:\r\n\r\n**A.** When `timeStarted` and `timeEnded` are `public` (as mentioned in the requirement) and therefore do not (need to) have `public` getter methods:\r\n\r\n    list.sort(Comparator.comparingLong((ActiveAlarm alarm) -&gt; alarm.timeStarted)\r\n    \t\t\t\t\t.thenComparingLong((ActiveAlarm alarm) -&gt; alarm.timeEnded));\r\n\r\n**B.** When `timeStarted` and `timeEnded` have `public` getter methods:\r\n\r\n    list.sort(Comparator.comparingLong(ActiveAlarm::getTimeStarted)\r\n    \t\t\t\t\t.thenComparingLong(ActiveAlarm::getTimeEnded));\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/ma14-java-se-8-streams.html","title":"How to sort List of objects by some property","body":"<h2>Java-8 solution using <a href=\"https://www.oracle.com/technical-resources/articles/java/ma14-java-se-8-streams.html\" rel=\"nofollow noreferrer\">Stream API</a>:</h2>\n<p><strong>A.</strong> When <code>timeStarted</code> and <code>timeEnded</code> are <code>public</code> (as mentioned in the requirement) and therefore do not (need to) have <code>public</code> getter methods:</p>\n<pre><code>List&lt;ActiveAlarm&gt; sorted = \n    list.stream()\n        .sorted(Comparator.comparingLong((ActiveAlarm alarm) -&gt; alarm.timeStarted)\n                        .thenComparingLong((ActiveAlarm alarm) -&gt; alarm.timeEnded))\n        .collect(Collectors.toList());\n</code></pre>\n<p><strong>B.</strong> When <code>timeStarted</code> and <code>timeEnded</code> have <code>public</code> getter methods:</p>\n<pre><code>List&lt;ActiveAlarm&gt; sorted = \n    list.stream()\n        .sorted(Comparator.comparingLong(ActiveAlarm::getTimeStarted)\n                        .thenComparingLong(ActiveAlarm::getTimeEnded))\n        .collect(Collectors.toList());\n</code></pre>\n<h2>If you want to sort the original <code>list</code> itself:</h2>\n<p><strong>A.</strong> When <code>timeStarted</code> and <code>timeEnded</code> are <code>public</code> (as mentioned in the requirement) and therefore do not (need to) have <code>public</code> getter methods:</p>\n<pre><code>list.sort(Comparator.comparingLong((ActiveAlarm alarm) -&gt; alarm.timeStarted)\n                    .thenComparingLong((ActiveAlarm alarm) -&gt; alarm.timeEnded));\n</code></pre>\n<p><strong>B.</strong> When <code>timeStarted</code> and <code>timeEnded</code> have <code>public</code> getter methods:</p>\n<pre><code>list.sort(Comparator.comparingLong(ActiveAlarm::getTimeStarted)\n                    .thenComparingLong(ActiveAlarm::getTimeEnded));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20347433,"reputation":21,"user_id":14924911,"display_name":"Frank Kevy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611948899,"creation_date":1611948555,"answer_id":65960629,"question_id":5805602,"body_markdown":"We can use the `Comparator.comparing()` method to sort a list based on an object&#39;s property.\r\n\r\n    class SortTest{\r\n        public static void main(String[] args) {\r\n            ArrayList&lt;ActiveAlarm&gt; activeAlarms = new ArrayList&lt;&gt;(){{\r\n                add(new ActiveAlarm(&quot;Alarm 1&quot;, 5, 10));\r\n                add(new ActiveAlarm(&quot;Alarm 2&quot;, 2, 12));\r\n                add(new ActiveAlarm(&quot;Alarm 3&quot;, 0, 8));\r\n            }};\r\n    \r\n            /* I sort the arraylist here using the getter methods */\r\n            activeAlarms.sort(Comparator.comparing(ActiveAlarm::getTimeStarted)\r\n                    .thenComparing(ActiveAlarm::getTimeEnded));\r\n    \r\n            System.out.println(activeAlarms);\r\n        }\r\n    }\r\n\r\nNote that before doing it, you&#39;ll have to define at least the getter methods of the properties you want to base your sort on.\r\n\r\n    public class ActiveAlarm {\r\n        public long timeStarted;\r\n        public long timeEnded;\r\n        private String name = &quot;&quot;;\r\n        private String description = &quot;&quot;;\r\n        private String event;\r\n        private boolean live = false;\r\n    \r\n        public ActiveAlarm(String name, long timeStarted, long timeEnded) {\r\n            this.name = name;\r\n            this.timeStarted = timeStarted;\r\n            this.timeEnded = timeEnded;\r\n        }\r\n    \r\n        public long getTimeStarted() {\r\n            return timeStarted;\r\n        }\r\n    \r\n        public long getTimeEnded() {\r\n            return timeEnded;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    [Alarm 3, Alarm 2, Alarm 1]\r\n\r\n","title":"How to sort List of objects by some property","body":"<p>We can use the <code>Comparator.comparing()</code> method to sort a list based on an object's property.</p>\n<pre><code>class SortTest{\n    public static void main(String[] args) {\n        ArrayList&lt;ActiveAlarm&gt; activeAlarms = new ArrayList&lt;&gt;(){{\n            add(new ActiveAlarm(&quot;Alarm 1&quot;, 5, 10));\n            add(new ActiveAlarm(&quot;Alarm 2&quot;, 2, 12));\n            add(new ActiveAlarm(&quot;Alarm 3&quot;, 0, 8));\n        }};\n\n        /* I sort the arraylist here using the getter methods */\n        activeAlarms.sort(Comparator.comparing(ActiveAlarm::getTimeStarted)\n                .thenComparing(ActiveAlarm::getTimeEnded));\n\n        System.out.println(activeAlarms);\n    }\n}\n</code></pre>\n<p>Note that before doing it, you'll have to define at least the getter methods of the properties you want to base your sort on.</p>\n<pre><code>public class ActiveAlarm {\n    public long timeStarted;\n    public long timeEnded;\n    private String name = &quot;&quot;;\n    private String description = &quot;&quot;;\n    private String event;\n    private boolean live = false;\n\n    public ActiveAlarm(String name, long timeStarted, long timeEnded) {\n        this.name = name;\n        this.timeStarted = timeStarted;\n        this.timeEnded = timeEnded;\n    }\n\n    public long getTimeStarted() {\n        return timeStarted;\n    }\n\n    public long getTimeEnded() {\n        return timeEnded;\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[Alarm 3, Alarm 2, Alarm 1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263843,"reputation":149,"user_id":549698,"accept_rate":33,"display_name":"nayan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618810782,"creation_date":1618810782,"answer_id":67156482,"question_id":5805602,"body_markdown":"Employee POJO Class\r\n\r\n    package in.ac.adit.oop.sort;\r\n    \r\n    public class Employee {\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate String department;\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic Employee() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic Employee(int id, String name, String department) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.department = department;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Employee [id=&quot; + id + &quot;, name=&quot; + name + &quot;, department=&quot; + department + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getDepartment() {\r\n    \t\treturn department;\r\n    \t}\r\n    \r\n    \tpublic void setDepartment(String department) {\r\n    \t\tthis.department = department;\r\n    \t}\r\n    }\r\n\r\n\r\nEmployee Class To Manage Employee\r\n\r\n    package in.ac.adit.oop.sort;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n        public class Example {\r\n        \tpublic static void main(String[] args) {\r\n        \r\n        \t\t/*\r\n        \t\t * Create 10 Employee Object\r\n        \t\t */\r\n        \t\tEmployee emp1 = new Employee(1, &quot;Nayan&quot;, &quot;IT&quot;);\r\n        \t\tEmployee emp2 = new Employee(2, &quot;Siddarth&quot;, &quot;CP&quot;);\r\n        \t\tEmployee emp3 = new Employee(3, &quot;Samarth&quot;, &quot;AE&quot;);\r\n        \t\tEmployee emp4 = new Employee(4, &quot;Bhavesh&quot;, &quot;CV&quot;);\r\n        \t\tEmployee emp5 = new Employee(5, &quot;Sam&quot;, &quot;FT&quot;);\r\n        \t\tEmployee emp6 = new Employee(6, &quot;Keyur&quot;, &quot;IT&quot;);\r\n        \t\tEmployee emp7 = new Employee(7, &quot;Bala&quot;, &quot;ME&quot;);\r\n        \t\tEmployee emp8 = new Employee(8, &quot;Mitul&quot;, &quot;ME&quot;);\r\n        \t\tEmployee emp9 = new Employee(9, &quot;Kamlesh&quot;, &quot;EE&quot;);\r\n        \t\tEmployee emp10 = new Employee(10, &quot;Piyush&quot;, &quot;EE&quot;);\r\n        \r\n        \t\t/*\r\n        \t\t * List of Employee Object\r\n        \t\t */\r\n        \t\tList&lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\r\n        \t\temployeeList.add(emp1);\r\n        \t\temployeeList.add(emp2);\r\n        \t\temployeeList.add(emp3);\r\n        \t\temployeeList.add(emp4);\r\n        \t\temployeeList.add(emp5);\r\n        \t\temployeeList.add(emp6);\r\n        \t\temployeeList.add(emp7);\r\n        \t\temployeeList.add(emp8);\r\n        \t\temployeeList.add(emp9);\r\n        \t\temployeeList.add(emp10);\r\n        \r\n        \t\tCustomObjectSort customObjectSort = new CustomObjectSort();\r\n        \t\tList&lt;Employee&gt; sortByDepartment = customObjectSort.sortByDepartment(employeeList);\r\n        \r\n        \t\t/*\r\n        \t\t * Sorted By Department\r\n        \t\t */\r\n        \t\tfor (Employee employee : sortByDepartment) {\r\n        \t\t\tSystem.out.println(employee);\r\n        \t\t}\r\n        \r\n        \t\t/*\r\n        \t\t * Sorted By Name\r\n        \t\t */\r\n        \t\tList&lt;Employee&gt; sortByName = customObjectSort.sortByName(employeeList);\r\n        \r\n        \t\tfor (Employee employee : sortByName) {\r\n        \t\t\tSystem.out.println(employee);\r\n        \t\t}\r\n        \r\n        \t\t/*\r\n        \t\t * Sorted By Id\r\n        \t\t */\r\n        \t\tList&lt;Employee&gt; sortById = customObjectSort.sortById(employeeList);\r\n        \r\n        \t\tfor (Employee employee : sortById) {\r\n        \t\t\tSystem.out.println(employee);\r\n        \t\t}\r\n        \r\n        \t}\r\n        }\r\n\r\nCustom Sorting \r\n\r\n    package in.ac.adit.oop.sort;\r\n    \r\n    \r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class CustomObjectSort {\r\n    \r\n    \tpublic List&lt;Employee&gt; sortByName(List&lt;Employee&gt; employeeList) {\r\n    \r\n    \t\tCollections.sort(employeeList, new Comparator&lt;Employee&gt;() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Employee employee1, Employee employee2) {\r\n    \t\t\t\treturn employee1.getName().compareTo(employee2.getName());\r\n    \t\t\t}\r\n    \r\n    \t\t});\r\n    \t\treturn employeeList;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Employee&gt; sortByDepartment(List&lt;Employee&gt; employeeList) {\r\n    \r\n    \t\tCollections.sort(employeeList, new Comparator&lt;Employee&gt;() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Employee employee1, Employee employee2) {\r\n    \t\t\t\treturn employee1.getDepartment().compareTo(employee2.getDepartment());\r\n    \t\t\t}\r\n    \r\n    \t\t});\r\n    \t\treturn employeeList;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Employee&gt; sortById(List&lt;Employee&gt; employeeList) {\r\n    \r\n    \t\tCollections.sort(employeeList, new Comparator&lt;Employee&gt;() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Employee employee1, Employee employee2) {\r\n    \t\t\t\treturn employee1.getId() - employee2.getId();\r\n    \t\t\t}\r\n    \r\n    \t\t});\r\n    \t\treturn employeeList;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to sort List of objects by some property","body":"<p>Employee POJO Class</p>\n<pre><code>package in.ac.adit.oop.sort;\n\npublic class Employee {\n    private int id;\n    private String name;\n    private String department;\n\n    public int getId() {\n        return id;\n    }\n\n    public Employee() {\n        super();\n    }\n\n    public Employee(int id, String name, String department) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.department = department;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee [id=&quot; + id + &quot;, name=&quot; + name + &quot;, department=&quot; + department + &quot;]&quot;;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n}\n</code></pre>\n<p>Employee Class To Manage Employee</p>\n<pre><code>package in.ac.adit.oop.sort;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n    public class Example {\n        public static void main(String[] args) {\n    \n            /*\n             * Create 10 Employee Object\n             */\n            Employee emp1 = new Employee(1, &quot;Nayan&quot;, &quot;IT&quot;);\n            Employee emp2 = new Employee(2, &quot;Siddarth&quot;, &quot;CP&quot;);\n            Employee emp3 = new Employee(3, &quot;Samarth&quot;, &quot;AE&quot;);\n            Employee emp4 = new Employee(4, &quot;Bhavesh&quot;, &quot;CV&quot;);\n            Employee emp5 = new Employee(5, &quot;Sam&quot;, &quot;FT&quot;);\n            Employee emp6 = new Employee(6, &quot;Keyur&quot;, &quot;IT&quot;);\n            Employee emp7 = new Employee(7, &quot;Bala&quot;, &quot;ME&quot;);\n            Employee emp8 = new Employee(8, &quot;Mitul&quot;, &quot;ME&quot;);\n            Employee emp9 = new Employee(9, &quot;Kamlesh&quot;, &quot;EE&quot;);\n            Employee emp10 = new Employee(10, &quot;Piyush&quot;, &quot;EE&quot;);\n    \n            /*\n             * List of Employee Object\n             */\n            List&lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\n            employeeList.add(emp1);\n            employeeList.add(emp2);\n            employeeList.add(emp3);\n            employeeList.add(emp4);\n            employeeList.add(emp5);\n            employeeList.add(emp6);\n            employeeList.add(emp7);\n            employeeList.add(emp8);\n            employeeList.add(emp9);\n            employeeList.add(emp10);\n    \n            CustomObjectSort customObjectSort = new CustomObjectSort();\n            List&lt;Employee&gt; sortByDepartment = customObjectSort.sortByDepartment(employeeList);\n    \n            /*\n             * Sorted By Department\n             */\n            for (Employee employee : sortByDepartment) {\n                System.out.println(employee);\n            }\n    \n            /*\n             * Sorted By Name\n             */\n            List&lt;Employee&gt; sortByName = customObjectSort.sortByName(employeeList);\n    \n            for (Employee employee : sortByName) {\n                System.out.println(employee);\n            }\n    \n            /*\n             * Sorted By Id\n             */\n            List&lt;Employee&gt; sortById = customObjectSort.sortById(employeeList);\n    \n            for (Employee employee : sortById) {\n                System.out.println(employee);\n            }\n    \n        }\n    }\n</code></pre>\n<p>Custom Sorting</p>\n<pre><code>package in.ac.adit.oop.sort;\n\n\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class CustomObjectSort {\n\n    public List&lt;Employee&gt; sortByName(List&lt;Employee&gt; employeeList) {\n\n        Collections.sort(employeeList, new Comparator&lt;Employee&gt;() {\n\n            @Override\n            public int compare(Employee employee1, Employee employee2) {\n                return employee1.getName().compareTo(employee2.getName());\n            }\n\n        });\n        return employeeList;\n    }\n\n    public List&lt;Employee&gt; sortByDepartment(List&lt;Employee&gt; employeeList) {\n\n        Collections.sort(employeeList, new Comparator&lt;Employee&gt;() {\n\n            @Override\n            public int compare(Employee employee1, Employee employee2) {\n                return employee1.getDepartment().compareTo(employee2.getDepartment());\n            }\n\n        });\n        return employeeList;\n    }\n\n    public List&lt;Employee&gt; sortById(List&lt;Employee&gt; employeeList) {\n\n        Collections.sort(employeeList, new Comparator&lt;Employee&gt;() {\n\n            @Override\n            public int compare(Employee employee1, Employee employee2) {\n                return employee1.getId() - employee2.getId();\n            }\n\n        });\n        return employeeList;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16068520,"reputation":19,"user_id":11597506,"display_name":"djklicks-dhananjay"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631086406,"creation_date":1631083839,"answer_id":69098216,"question_id":5805602,"body_markdown":"The best and the easiest way to sort any list of objects in Java (Java 8 and above).\r\nLets sort a basket of fruits based on the property &quot;fruitName&quot;\r\n\r\nFruit POJO:\r\n\r\n    class Fruit\r\n    {\r\n    \tint price;\r\n    \tString fruitName;\r\n    \t\r\n    \t\r\n    \tpublic Fruit(int price, String fruitName) {\r\n    \t\tsuper();\r\n    \t\tthis.price = price;\r\n    \t\tthis.fruitName = fruitName;\r\n    \t}\r\n    \r\n    \r\n    \tpublic int getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setPrice(int price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getFruitName() {\r\n    \t\treturn fruitName;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setFruitName(String fruitName) {\r\n    \t\tthis.fruitName = fruitName;\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Fruits [price=&quot; + price + &quot;, fruitName=&quot; + fruitName + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nNow lets add fruits into a list and then sort it\r\n\r\n    List&lt;Fruit&gt; basketOfFruits = new ArrayList&lt;&gt;();\r\n    \t\tbasketOfFruits.add(new Fruit(123, &quot;oranges&quot;));\r\n    \t\tbasketOfFruits.add(new Fruit(45, &quot;nectarine&quot;));\r\n    \t\tbasketOfFruits.add(new Fruit(369, &quot;blueberries&quot;));\r\n    \t\tbasketOfFruits.add(new Fruit(248, &quot;apple&quot;));\r\n    \t\tbasketOfFruits.add(new Fruit(968, &quot;peaches&quot;));\r\n    \t\tbasketOfFruits.add(new Fruit(436, &quot;grapes&quot;));\r\n    \t\tbasketOfFruits.add(new Fruit(596, &quot;figs&quot;));\r\n    \t\t\r\n           //sorting by the property fruitName\r\n    \t\tCollections.sort(basketOfFruits, (f1, f2)-&gt;{return f1.getFruitName().compareTo(f2.getFruitName());}); \r\n\r\nYou can now print the list (i.e basketOfFruits) and the fruits in the list would be sorted in ASCENDING order (lexicographically).\r\nThe output would look like this:\r\n\r\n    [Fruits [price=248, fruitName=apple], Fruits [price=369, fruitName=blueberries], Fruits [price=596, fruitName=figs], Fruits [price=436, fruitName=grapes], Fruits [price=45, fruitName=nectarine], Fruits [price=123, fruitName=oranges], Fruits [price=968, fruitName=peaches]]\r\n\r\nInstead of Collections.sort(), Java streams can also be used (Java 8 and above). The following is the code using Java streams\r\n\r\n    List&lt;Fruit&gt; sortedFruits = basketOfFruits.stream().sorted( (f1, f2)-&gt;{return f1.getFruitName().compareTo(f2.getFruitName());}).collect(Collectors.toList());\r\n\r\n   \r\n\r\nhere the list is sorted in the same manner as Collections.sort(), but the sorted items would be stored/collected in another list &quot;sortedFruits&quot;. So, if we want to print the sorted items of the list, we need to print &quot;sortedFruits&quot; instead of &quot;basketOfFruits&quot; in this case","title":"How to sort List of objects by some property","body":"<p>The best and the easiest way to sort any list of objects in Java (Java 8 and above).\nLets sort a basket of fruits based on the property &quot;fruitName&quot;</p>\n<p>Fruit POJO:</p>\n<pre><code>class Fruit\n{\n    int price;\n    String fruitName;\n    \n    \n    public Fruit(int price, String fruitName) {\n        super();\n        this.price = price;\n        this.fruitName = fruitName;\n    }\n\n\n    public int getPrice() {\n        return price;\n    }\n\n\n    public void setPrice(int price) {\n        this.price = price;\n    }\n\n\n    public String getFruitName() {\n        return fruitName;\n    }\n\n\n    public void setFruitName(String fruitName) {\n        this.fruitName = fruitName;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;Fruits [price=&quot; + price + &quot;, fruitName=&quot; + fruitName + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>Now lets add fruits into a list and then sort it</p>\n<pre><code>List&lt;Fruit&gt; basketOfFruits = new ArrayList&lt;&gt;();\n        basketOfFruits.add(new Fruit(123, &quot;oranges&quot;));\n        basketOfFruits.add(new Fruit(45, &quot;nectarine&quot;));\n        basketOfFruits.add(new Fruit(369, &quot;blueberries&quot;));\n        basketOfFruits.add(new Fruit(248, &quot;apple&quot;));\n        basketOfFruits.add(new Fruit(968, &quot;peaches&quot;));\n        basketOfFruits.add(new Fruit(436, &quot;grapes&quot;));\n        basketOfFruits.add(new Fruit(596, &quot;figs&quot;));\n        \n       //sorting by the property fruitName\n        Collections.sort(basketOfFruits, (f1, f2)-&gt;{return f1.getFruitName().compareTo(f2.getFruitName());}); \n</code></pre>\n<p>You can now print the list (i.e basketOfFruits) and the fruits in the list would be sorted in ASCENDING order (lexicographically).\nThe output would look like this:</p>\n<pre><code>[Fruits [price=248, fruitName=apple], Fruits [price=369, fruitName=blueberries], Fruits [price=596, fruitName=figs], Fruits [price=436, fruitName=grapes], Fruits [price=45, fruitName=nectarine], Fruits [price=123, fruitName=oranges], Fruits [price=968, fruitName=peaches]]\n</code></pre>\n<p>Instead of Collections.sort(), Java streams can also be used (Java 8 and above). The following is the code using Java streams</p>\n<pre><code>List&lt;Fruit&gt; sortedFruits = basketOfFruits.stream().sorted( (f1, f2)-&gt;{return f1.getFruitName().compareTo(f2.getFruitName());}).collect(Collectors.toList());\n</code></pre>\n<p>here the list is sorted in the same manner as Collections.sort(), but the sorted items would be stored/collected in another list &quot;sortedFruits&quot;. So, if we want to print the sorted items of the list, we need to print &quot;sortedFruits&quot; instead of &quot;basketOfFruits&quot; in this case</p>\n"},{"tags":[],"owner":{"account_id":27273840,"reputation":1,"user_id":20794777,"display_name":"Gergana Toncheva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673019178,"creation_date":1673019158,"answer_id":75032930,"question_id":5805602,"body_markdown":"    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class ActiveAlarm {\r\n        public long timeStarted;\r\n        public long timeEnded;\r\n        private String name = &quot;&quot;;\r\n        private String description = &quot;&quot;;\r\n        private String event;\r\n        private boolean live = false;\r\n    }\r\n\r\n    List&lt;ActiveAlarm&gt; con = new ArrayList&lt;ActiveAlarm&gt;();\r\n\r\n    Collections.sort(con , (a1, a2) -&gt; a1.timeStarted.compareTo(a2.timeStarted));\r\n    Collections.sort(con , (a1, a2) -&gt; a1.timeEnded.compareTo(a2.timeEnded));\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"How to sort List of objects by some property","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public class ActiveAlarm {\n    public long timeStarted;\n    public long timeEnded;\n    private String name = \"\";\n    private String description = \"\";\n    private String event;\n    private boolean live = false;\n}\n\nList&lt;ActiveAlarm&gt; con = new ArrayList&lt;ActiveAlarm&gt;();\n\nCollections.sort(con , (a1, a2) -&gt; a1.timeStarted.compareTo(a2.timeStarted));\nCollections.sort(con , (a1, a2) -&gt; a1.timeEnded.compareTo(a2.timeEnded));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":27817631,"reputation":21,"user_id":21238692,"display_name":"Dimitar Milanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677742769,"creation_date":1677410324,"answer_id":75571614,"question_id":5805602,"body_markdown":"Here&#39;s what did the trick for me.\r\nWas much shorter and easier than everything else I found:\r\n\r\n    Collections.sort(listName, Comparator.comparing(Object::getProperty).reversed());\r\n\r\nThe &quot;.reversed()&quot; part at the end was a requirement for my specific project but I&#39;m sharing it too, as it took a while to find it\r\n","title":"How to sort List of objects by some property","body":"<p>Here's what did the trick for me.\nWas much shorter and easier than everything else I found:</p>\n<pre><code>Collections.sort(listName, Comparator.comparing(Object::getProperty).reversed());\n</code></pre>\n<p>The &quot;.reversed()&quot; part at the end was a requirement for my specific project but I'm sharing it too, as it took a while to find it</p>\n"}],"owner":{"account_id":747567,"reputation":1927,"user_id":727466,"display_name":"Jennifer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435602,"favorite_count":0,"down_vote_count":2,"up_vote_count":193,"answer_count":18,"score":191,"last_activity_date":1677742769,"creation_date":1303913892,"question_id":5805602,"body_markdown":"I have simple class \r\n\r\n    public class ActiveAlarm {\r\n    \tpublic long timeStarted;\r\n    \tpublic long timeEnded;\r\n    \tprivate String name = &quot;&quot;;\r\n    \tprivate String description = &quot;&quot;;\r\n    \tprivate String event;\r\n    \tprivate boolean live = false;\r\n    }\r\nand `List&lt;ActiveAlarm&gt;` con. How to sort in ascending order by `timeStarted`, then by `timeEnded`? Can anybody help? I know in C++ with generic algorithm and overload operator &lt;, but I am new to Java.","title":"How to sort List of objects by some property","body":"<p>I have simple class </p>\n\n<pre><code>public class ActiveAlarm {\n    public long timeStarted;\n    public long timeEnded;\n    private String name = \"\";\n    private String description = \"\";\n    private String event;\n    private boolean live = false;\n}\n</code></pre>\n\n<p>and <code>List&lt;ActiveAlarm&gt;</code> con. How to sort in ascending order by <code>timeStarted</code>, then by <code>timeEnded</code>? Can anybody help? I know in C++ with generic algorithm and overload operator &lt;, but I am new to Java.</p>\n"},{"tags":["java","rest-assured","simplejson","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1589107161,"creation_date":1426531166,"answer_id":29084522,"question_id":28982412,"body_markdown":"You can also use the &lt;a href=&quot;https://github.com/json-path/JsonPath&quot;&gt;JsonPath&lt;/a&gt; project provided by &lt;a href=&quot;https://code.google.com/p/rest-assured/&quot;&gt;REST Assured&lt;/a&gt;. This JsonPath project uses Groovy GPath expressions. In Maven you can depend on it like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Examples:**\r\n\r\nTo get a list of all book categories:\r\n\r\n    List&lt;String&gt; categories = JsonPath.from(json).get(&quot;store.book.category&quot;);\r\n\r\n \r\nGet the first book category:\r\n\r\n    String category = JsonPath.from(json).get(&quot;store.book[0].category&quot;);\r\n\r\n \r\nGet the last book category:\r\n\r\n    String category = JsonPath.from(json).get(&quot;store.book[-1].category&quot;);\r\n\r\n \r\nGet all books with price between 5 and 15:\r\n\r\n    List&lt;Map&gt; books = JsonPath.from(json).get(&quot;store.book.findAll { book -&gt; book.price &gt;= 5 &amp;&amp; book.price &lt;= 15 }&quot;);\r\n\r\nGPath is very powerful and you can make use of higher order functions and all Groovy data structures in your path expressions.\r\n\r\n","title":"How to search/find In JSON with java","body":"<p>You can also use the <a href=\"https://github.com/json-path/JsonPath\" rel=\"noreferrer\">JsonPath</a> project provided by <a href=\"https://code.google.com/p/rest-assured/\" rel=\"noreferrer\">REST Assured</a>. This JsonPath project uses Groovy GPath expressions. In Maven you can depend on it like this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Examples:</strong></p>\n\n<p>To get a list of all book categories:</p>\n\n<pre><code>List&lt;String&gt; categories = JsonPath.from(json).get(\"store.book.category\");\n</code></pre>\n\n<p>Get the first book category:</p>\n\n<pre><code>String category = JsonPath.from(json).get(\"store.book[0].category\");\n</code></pre>\n\n<p>Get the last book category:</p>\n\n<pre><code>String category = JsonPath.from(json).get(\"store.book[-1].category\");\n</code></pre>\n\n<p>Get all books with price between 5 and 15:</p>\n\n<pre><code>List&lt;Map&gt; books = JsonPath.from(json).get(\"store.book.findAll { book -&gt; book.price &gt;= 5 &amp;&amp; book.price &lt;= 15 }\");\n</code></pre>\n\n<p>GPath is very powerful and you can make use of higher order functions and all Groovy data structures in your path expressions.</p>\n"},{"tags":[],"owner":{"account_id":2527555,"reputation":535,"user_id":2196607,"display_name":"Usman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501501475,"creation_date":1501496588,"answer_id":45413271,"question_id":28982412,"body_markdown":"First of all you have to add dependency    \r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20090211&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\nThen you can use this code:    \r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.json.XML;\r\n    \r\n    public class Main {\r\n    \r\n        public static int PRETTY_PRINT_INDENT_FACTOR = 4;\r\n        public static String TEST_XML_STRING =\r\n            &quot;&lt;Result&gt;&lt;ResultParameters&gt;&lt;ResultParameter&gt;&lt;Key&gt;TransEndDate&lt;/Key&gt;&lt;Value&gt;20170731&lt;/Value&gt;&lt;/ResultParameter&gt;&lt;ResultParameter&gt;&lt;Key&gt;Failed Reason&lt;/Key&gt;&lt;Value&gt;Operator 03058361178\\03058365278 has no permission to perform the Check Balance service.&lt;/Value&gt;&lt;/ResultParameter&gt;&lt;ResultParameter&gt;&lt;Key&gt;TransEndTime&lt;/Key&gt;&lt;Value&gt;123611&lt;/Value&gt;&lt;/ResultParameter&gt;&lt;/ResultParameters&gt;&lt;ResultCode&gt;2000&lt;/ResultCode&gt;&lt;ResultType&gt;0&lt;/ResultType&gt;&lt;OriginatorConversationID&gt;S_X20130129210125&lt;/OriginatorConversationID&gt;&lt;ResultDesc&gt;Initiator authentication error.&lt;/ResultDesc&gt;&lt;TransactionID&gt;000749213589&lt;/TransactionID&gt;&lt;ConversationID&gt;AG_20170731_00004c28e51f1f822e9e&lt;/ConversationID&gt;&lt;/Result&gt;&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                JSONObject xmlJSONObj = XML.toJSONObject(TEST_XML_STRING);\r\n                String jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\r\n                System.out.println(jsonPrettyPrintString);\r\n      \r\n                \t\r\n                System.out.println(&quot;Element=&quot;+xmlJSONObj.getJSONObject(&quot;Result&quot;).getInt(&quot;ResultCode&quot;));\r\n                \r\n            } catch (JSONException je) {\r\n                System.out.println(je.toString());\r\n            }\r\n        }\r\n    }\r\n    \r\n    // in it i am searching an element which is present in a json object ","title":"How to search/find In JSON with java","body":"<p>First of all you have to add dependency    </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20090211&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then you can use this code:    </p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.json.XML;\n\npublic class Main {\n\n    public static int PRETTY_PRINT_INDENT_FACTOR = 4;\n    public static String TEST_XML_STRING =\n        \"&lt;Result&gt;&lt;ResultParameters&gt;&lt;ResultParameter&gt;&lt;Key&gt;TransEndDate&lt;/Key&gt;&lt;Value&gt;20170731&lt;/Value&gt;&lt;/ResultParameter&gt;&lt;ResultParameter&gt;&lt;Key&gt;Failed Reason&lt;/Key&gt;&lt;Value&gt;Operator 03058361178\\03058365278 has no permission to perform the Check Balance service.&lt;/Value&gt;&lt;/ResultParameter&gt;&lt;ResultParameter&gt;&lt;Key&gt;TransEndTime&lt;/Key&gt;&lt;Value&gt;123611&lt;/Value&gt;&lt;/ResultParameter&gt;&lt;/ResultParameters&gt;&lt;ResultCode&gt;2000&lt;/ResultCode&gt;&lt;ResultType&gt;0&lt;/ResultType&gt;&lt;OriginatorConversationID&gt;S_X20130129210125&lt;/OriginatorConversationID&gt;&lt;ResultDesc&gt;Initiator authentication error.&lt;/ResultDesc&gt;&lt;TransactionID&gt;000749213589&lt;/TransactionID&gt;&lt;ConversationID&gt;AG_20170731_00004c28e51f1f822e9e&lt;/ConversationID&gt;&lt;/Result&gt;\";\n\n    public static void main(String[] args) {\n        try {\n            JSONObject xmlJSONObj = XML.toJSONObject(TEST_XML_STRING);\n            String jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\n            System.out.println(jsonPrettyPrintString);\n\n\n            System.out.println(\"Element=\"+xmlJSONObj.getJSONObject(\"Result\").getInt(\"ResultCode\"));\n\n        } catch (JSONException je) {\n            System.out.println(je.toString());\n        }\n    }\n}\n\n// in it i am searching an element which is present in a json object \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19099098,"reputation":151,"user_id":13947737,"display_name":"Navpreet Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595017360,"creation_date":1595017360,"answer_id":62961295,"question_id":28982412,"body_markdown":"Firstly, add json-path dependency in pom\r\n````\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n     &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n     &lt;version&gt;2.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n````\r\n\r\nCreate a utility in Base Class that can be reused :\r\n````\r\n public static String getValueFromJsonPath(String apiResponse, String jsonPath) {\r\n        return JsonPath.read(apiResponse, jsonPath);\r\n    }\r\n````\r\n\r\nOne example of using this method : \r\n````\r\ngetValueFromJsonPath(apiResponse, &quot;$.store.book[0].category&quot;);\r\n````\r\nNOTE : Create overloaded method with different return types depending upon the expected result (like List&lt;Object&gt; for fetching a list from json)","title":"How to search/find In JSON with java","body":"<p>Firstly, add json-path dependency in pom</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n     &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n     &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Create a utility in Base Class that can be reused :</p>\n<pre><code> public static String getValueFromJsonPath(String apiResponse, String jsonPath) {\n        return JsonPath.read(apiResponse, jsonPath);\n    }\n</code></pre>\n<p>One example of using this method :</p>\n<pre><code>getValueFromJsonPath(apiResponse, &quot;$.store.book[0].category&quot;);\n</code></pre>\n<p>NOTE : Create overloaded method with different return types depending upon the expected result (like List for fetching a list from json)</p>\n"},{"tags":[],"owner":{"account_id":11002673,"reputation":27,"user_id":8082755,"display_name":"Ashutosh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677742586,"creation_date":1677357591,"answer_id":75568279,"question_id":28982412,"body_markdown":"we can write generic json utility but before that we should have org.json dependency should be exist in to maven pom.xml.\r\n\r\n\r\n\r\n    public class PrintJsonPath_Version02 {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString jsonStr = new String(Files.readAllBytes(Paths.get(TestData.ECOMMERCE_TEST_DATA)));\r\n\r\n\t\tJSONObject jsonObject = new JSONObject(jsonStr);\r\n\t\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\n\t\tprintJsonPath(&quot;&quot;, jsonObject, map);\r\n\t\tfor (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n\t\t\tSystem.out.println(entry.getKey() + &quot; = &quot; + entry.getValue());\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate static void printJsonPath(String path, Object object, Map&lt;String, Object&gt; map) {\r\n\t\tObject value = &quot;&quot;;\r\n\r\n\t\tif (object instanceof JSONObject) {\r\n\t\t\tJSONObject jsonObject = (JSONObject) object;\r\n\t\t\tfor (String key : jsonObject.keySet()) {\r\n\t\t\t\tvalue = jsonObject.get(key);\r\n\t\t\t\tString newPath = path.isEmpty() ? key : path + &quot;.&quot; + key;\r\n\t\t\t\tprintJsonPath(newPath, value, map);\r\n\t\t\t}\r\n\t\t} else if (object instanceof JSONArray) {\r\n\t\t\tJSONArray jsonArray = (JSONArray) object;\r\n\t\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\t\t\t\tvalue = jsonArray.get(i);\r\n\t\t\t\tString newPath = path + &quot;[&quot; + i + &quot;]&quot;;\r\n\t\t\t\tprintJsonPath(newPath, value, map);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!path.isEmpty() &amp;&amp; path.charAt(0) == &#39;.&#39;) {\r\n\t\t\t\tpath = path.substring(1);\r\n\t\t\t}\r\n\r\n\t\t\tmap.put(path, object);\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\n\r\n\r\n**Output will be like below**\r\n&gt; \r\n&gt; Left Side will be JsonPath = Right Side will value \r\n&gt; \r\n&gt; orders[0].customer.billing_address.city = bangalore\r\n&gt; orders[1].items[0].product_id = P003\r\n\r\n&gt; orders[1].customer.phone = 555-555-5678","title":"How to search/find In JSON with java","body":"<p>we can write generic json utility but before that we should have org.json dependency should be exist in to maven pom.xml.</p>\n<pre><code>public class PrintJsonPath_Version02 {\n\npublic static void main(String[] args) throws IOException {\n    String jsonStr = new String(Files.readAllBytes(Paths.get(TestData.ECOMMERCE_TEST_DATA)));\n\n    JSONObject jsonObject = new JSONObject(jsonStr);\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n    printJsonPath(&quot;&quot;, jsonObject, map);\n    for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n        System.out.println(entry.getKey() + &quot; = &quot; + entry.getValue());\n    }\n\n}\n\nprivate static void printJsonPath(String path, Object object, Map&lt;String, Object&gt; map) {\n    Object value = &quot;&quot;;\n\n    if (object instanceof JSONObject) {\n        JSONObject jsonObject = (JSONObject) object;\n        for (String key : jsonObject.keySet()) {\n            value = jsonObject.get(key);\n            String newPath = path.isEmpty() ? key : path + &quot;.&quot; + key;\n            printJsonPath(newPath, value, map);\n        }\n    } else if (object instanceof JSONArray) {\n        JSONArray jsonArray = (JSONArray) object;\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            value = jsonArray.get(i);\n            String newPath = path + &quot;[&quot; + i + &quot;]&quot;;\n            printJsonPath(newPath, value, map);\n        }\n    } else {\n        if (!path.isEmpty() &amp;&amp; path.charAt(0) == '.') {\n            path = path.substring(1);\n        }\n\n        map.put(path, object);\n    }\n}\n\n}\n</code></pre>\n<p><strong>Output will be like below</strong></p>\n<blockquote>\n<p>Left Side will be JsonPath = Right Side will value</p>\n<p>orders[0].customer.billing_address.city = bangalore\norders[1].items[0].product_id = P003</p>\n</blockquote>\n<blockquote>\n<p>orders[1].customer.phone = 555-555-5678</p>\n</blockquote>\n"}],"owner":{"account_id":5727897,"reputation":123,"user_id":4524381,"display_name":"Ssire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33458,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29084522,"answer_count":4,"score":11,"last_activity_date":1677742586,"creation_date":1426065089,"question_id":28982412,"body_markdown":"I have a below JSON string from the below i  want to find/search criteria in JSON String.\r\n\r\n1. To find the Number of keys present.\r\n2. To get the values of given key(if we have array)\r\n```\r\n    {\r\n    &quot;store&quot;: {\r\n        &quot;book&quot;: [\r\n            {\r\n                &quot;category&quot;: &quot;reference&quot;,\r\n                &quot;author&quot;: &quot;Nigel Rees&quot;,\r\n                &quot;title&quot;: &quot;Sayings of the Century&quot;,\r\n                &quot;price&quot;: 8.95\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;Evelyn Waugh&quot;,\r\n                &quot;title&quot;: &quot;Sword of Honour&quot;,\r\n                &quot;price&quot;: 12.99\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;Herman Melville&quot;,\r\n                &quot;title&quot;: &quot;Moby Dick&quot;,\r\n                &quot;isbn&quot;: &quot;0-553-21311-3&quot;,\r\n                &quot;price&quot;: 8.99\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;J. R. R. Tolkien&quot;,\r\n                &quot;title&quot;: &quot;The Lord of the Rings&quot;,\r\n                &quot;isbn&quot;: &quot;0-395-19395-8&quot;,\r\n                &quot;price&quot;: 22.99\r\n            }\r\n        ],\r\n        &quot;bicycle&quot;: {\r\n            &quot;color&quot;: &quot;red&quot;,\r\n            &quot;price&quot;: 19.95\r\n        }\r\n    },\r\n     &quot;expensive&quot;: 10\r\n    }\r\n```\r\nI am looking a solution like Groovy GPath Syntax\r\n\r\n - store.book               - size of this array. \r\n - store.book[*].category   - how may times the key present in the array.    \r\n - store.bicycle            - if it found it has to return true value","title":"How to search/find In JSON with java","body":"<p>I have a below JSON string from the below i  want to find/search criteria in JSON String.</p>\n<ol>\n<li>To find the Number of keys present.</li>\n<li>To get the values of given key(if we have array)</li>\n</ol>\n<pre><code>    {\n    &quot;store&quot;: {\n        &quot;book&quot;: [\n            {\n                &quot;category&quot;: &quot;reference&quot;,\n                &quot;author&quot;: &quot;Nigel Rees&quot;,\n                &quot;title&quot;: &quot;Sayings of the Century&quot;,\n                &quot;price&quot;: 8.95\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;Evelyn Waugh&quot;,\n                &quot;title&quot;: &quot;Sword of Honour&quot;,\n                &quot;price&quot;: 12.99\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;Herman Melville&quot;,\n                &quot;title&quot;: &quot;Moby Dick&quot;,\n                &quot;isbn&quot;: &quot;0-553-21311-3&quot;,\n                &quot;price&quot;: 8.99\n            },\n            {\n                &quot;category&quot;: &quot;fiction&quot;,\n                &quot;author&quot;: &quot;J. R. R. Tolkien&quot;,\n                &quot;title&quot;: &quot;The Lord of the Rings&quot;,\n                &quot;isbn&quot;: &quot;0-395-19395-8&quot;,\n                &quot;price&quot;: 22.99\n            }\n        ],\n        &quot;bicycle&quot;: {\n            &quot;color&quot;: &quot;red&quot;,\n            &quot;price&quot;: 19.95\n        }\n    },\n     &quot;expensive&quot;: 10\n    }\n</code></pre>\n<p>I am looking a solution like Groovy GPath Syntax</p>\n<ul>\n<li>store.book               - size of this array.</li>\n<li>store.book[*].category   - how may times the key present in the array.</li>\n<li>store.bicycle            - if it found it has to return true value</li>\n</ul>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":1494647,"reputation":5396,"user_id":1400897,"accept_rate":53,"display_name":"NPKR"},"score":2,"creation_date":1368169684,"post_id":16476513,"comment_id":23642705,"body_markdown":"post your Super class B.","body":"post your Super class B."}],"answers":[{"tags":[],"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"down_vote_count":1,"up_vote_count":93,"is_accepted":true,"score":92,"last_activity_date":1368169251,"creation_date":1368169251,"answer_id":16476866,"question_id":16476513,"body_markdown":"*Since they are private fields there should not be any problem while creating json string*\r\n\r\nI don&#39;t think this statement is true, GSON looks up at the object&#39;s private fields when serializing, meaning all private fields of superclass are included, and when you have fields with same name it throws an error.\r\n\r\nIf there&#39;s any particular field you don&#39;t want to include you have to mark it with `transient` keyword, eg:\r\n\r\n    private transient BigDecimal tradeFeesPcy;","title":"class A declares multiple JSON fields","body":"<p><em>Since they are private fields there should not be any problem while creating json string</em></p>\n\n<p>I don't think this statement is true, GSON looks up at the object's private fields when serializing, meaning all private fields of superclass are included, and when you have fields with same name it throws an error.</p>\n\n<p>If there's any particular field you don't want to include you have to mark it with <code>transient</code> keyword, eg:</p>\n\n<pre><code>private transient BigDecimal tradeFeesPcy;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3617461,"reputation":781,"user_id":3016983,"display_name":"Adrian Lee"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1385028418,"creation_date":1385028418,"answer_id":20117863,"question_id":16476513,"body_markdown":"This is a bit late, but I ran into this exact same problem as well.  The only thing was that I wasn&#39;t able to modify the superclass as that code wasn&#39;t mine.  The way that I resolved this was by creating an exclusion strategy that skipped any field that had a field of the same name present in a superclass.  Here is my code for that class:\r\n\r\n\tpublic class SuperclassExclusionStrategy implements ExclusionStrategy\r\n\t{\r\n\t\tpublic boolean shouldSkipClass(Class&lt;?&gt; arg0)\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tpublic boolean shouldSkipField(FieldAttributes fieldAttributes)\r\n\t\t{\r\n\t\t\tString fieldName = fieldAttributes.getName();\r\n\t\t\tClass&lt;?&gt; theClass = fieldAttributes.getDeclaringClass();\r\n\t\t\t\r\n\t\t\treturn isFieldInSuperclass(theClass, fieldName);\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate boolean isFieldInSuperclass(Class&lt;?&gt; subclass, String fieldName)\r\n\t\t{\r\n\t\t\tClass&lt;?&gt; superclass = subclass.getSuperclass();\r\n\t\t\tField field;\r\n\t\t\t\r\n\t\t\twhile(superclass != null)\r\n\t\t\t{\t\r\n\t\t\t\tfield = getField(superclass, fieldName);\r\n\t\t\t\t\r\n\t\t\t\tif(field != null)\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t\r\n\t\t\t\tsuperclass = superclass.getSuperclass();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tprivate Field getField(Class&lt;?&gt; theClass, String fieldName)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\treturn theClass.getDeclaredField(fieldName);\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nI then set the Serialization and Deserialization exclusion strategies in the builder as follows:\r\n\r\n\t\tbuilder.addDeserializationExclusionStrategy(new SuperclassExclusionStrategy());\r\n\t\tbuilder.addSerializationExclusionStrategy(new SuperclassExclusionStrategy());\r\n\r\nHopefully this helps someone!","title":"class A declares multiple JSON fields","body":"<p>This is a bit late, but I ran into this exact same problem as well.  The only thing was that I wasn't able to modify the superclass as that code wasn't mine.  The way that I resolved this was by creating an exclusion strategy that skipped any field that had a field of the same name present in a superclass.  Here is my code for that class:</p>\n\n<pre><code>public class SuperclassExclusionStrategy implements ExclusionStrategy\n{\n    public boolean shouldSkipClass(Class&lt;?&gt; arg0)\n    {\n        return false;\n    }\n\n    public boolean shouldSkipField(FieldAttributes fieldAttributes)\n    {\n        String fieldName = fieldAttributes.getName();\n        Class&lt;?&gt; theClass = fieldAttributes.getDeclaringClass();\n\n        return isFieldInSuperclass(theClass, fieldName);            \n    }\n\n    private boolean isFieldInSuperclass(Class&lt;?&gt; subclass, String fieldName)\n    {\n        Class&lt;?&gt; superclass = subclass.getSuperclass();\n        Field field;\n\n        while(superclass != null)\n        {   \n            field = getField(superclass, fieldName);\n\n            if(field != null)\n                return true;\n\n            superclass = superclass.getSuperclass();\n        }\n\n        return false;\n    }\n\n    private Field getField(Class&lt;?&gt; theClass, String fieldName)\n    {\n        try\n        {\n            return theClass.getDeclaredField(fieldName);\n        }\n        catch(Exception e)\n        {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>I then set the Serialization and Deserialization exclusion strategies in the builder as follows:</p>\n\n<pre><code>    builder.addDeserializationExclusionStrategy(new SuperclassExclusionStrategy());\n    builder.addSerializationExclusionStrategy(new SuperclassExclusionStrategy());\n</code></pre>\n\n<p>Hopefully this helps someone!</p>\n"},{"tags":[],"owner":{"account_id":3357201,"reputation":3355,"user_id":2819864,"accept_rate":44,"display_name":"RominaV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569589666,"creation_date":1461868319,"answer_id":36922793,"question_id":16476513,"body_markdown":"In my case I was dumb enough to register an adapter with X class, and try to serialize fromJson with Y class:\r\n\r\n    final GsonBuilder gsonBuilder = new GsonBuilder();\r\n    gsonBuilder.registerTypeAdapter(Game.class, new TournamentSerializer());\r\n    final Gson gson = gsonBuilder.create();\r\n\r\n    createdTournament = gson.fromJson(jsonResponse.toString(), Tournament.class);","title":"class A declares multiple JSON fields","body":"<p>In my case I was dumb enough to register an adapter with X class, and try to serialize fromJson with Y class:</p>\n\n<pre><code>final GsonBuilder gsonBuilder = new GsonBuilder();\ngsonBuilder.registerTypeAdapter(Game.class, new TournamentSerializer());\nfinal Gson gson = gsonBuilder.create();\n\ncreatedTournament = gson.fromJson(jsonResponse.toString(), Tournament.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1640619198,"creation_date":1470915477,"answer_id":38895309,"question_id":16476513,"body_markdown":"The same error message also happens if you have different fields, but they have the same `@SerializedName`.\r\n\r\n    @SerializedName(&quot;date_created&quot;)\r\n    private Date DateCreated;\r\n    @SerializedName(&quot;date_created&quot;)\r\n    private Integer matchTime;\r\n\r\nDoing copy/paste you can simply make such mistake. So, look into the the class *and its ancestors* and check for that. \r\n\r\n1. You cannot have two fields with the same name. \r\n2. You cannot have two fields with the same serialized name. \r\n3. Types are irrelevant for these rules. \r\n","title":"class A declares multiple JSON fields","body":"<p>The same error message also happens if you have different fields, but they have the same <code>@SerializedName</code>.</p>\n<pre><code>@SerializedName(&quot;date_created&quot;)\nprivate Date DateCreated;\n@SerializedName(&quot;date_created&quot;)\nprivate Integer matchTime;\n</code></pre>\n<p>Doing copy/paste you can simply make such mistake. So, look into the the class <em>and its ancestors</em> and check for that.</p>\n<ol>\n<li>You cannot have two fields with the same name.</li>\n<li>You cannot have two fields with the same serialized name.</li>\n<li>Types are irrelevant for these rules.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":388005,"reputation":601,"user_id":746680,"accept_rate":38,"display_name":"Sujay"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1513927352,"creation_date":1513927352,"answer_id":47937406,"question_id":16476513,"body_markdown":"Add following lines at the bottom of proguard.config\r\n*(if you are using proguard in project)*\r\n\r\n    -keepclassmembers class * {\r\n        private &lt;fields&gt;;    \r\n    }\r\n\r\n","title":"class A declares multiple JSON fields","body":"<p>Add following lines at the bottom of proguard.config\n<em>(if you are using proguard in project)</em></p>\n\n<pre><code>-keepclassmembers class * {\n    private &lt;fields&gt;;    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1424234,"reputation":5363,"user_id":1348187,"accept_rate":69,"display_name":"Rafael Ruiz Mu&#241;oz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522099592,"creation_date":1522099592,"answer_id":49500895,"question_id":16476513,"body_markdown":"Solution for Kotlin, as suggested @Adrian-Lee, you have to tweak some Null Checks\r\n\r\n    class SuperclassExclusionStrategy : ExclusionStrategy {\r\n    \r\n        override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\r\n            return false\r\n        }\r\n    \r\n        override fun shouldSkipField(f: FieldAttributes?): Boolean {\r\n            val fieldName = f?.name\r\n            val theClass = f?.declaringClass\r\n    \r\n            return isFieldInSuperclass(theClass, fieldName)\r\n        }\r\n    \r\n        private fun isFieldInSuperclass(subclass: Class&lt;*&gt;?, fieldName: String?): Boolean {\r\n            var superclass: Class&lt;*&gt;? = subclass?.superclass\r\n            var field: Field?\r\n    \r\n            while (superclass != null) {\r\n                field = getField(superclass, fieldName)\r\n    \r\n                if (field != null)\r\n                    return true\r\n    \r\n                superclass = superclass.superclass\r\n            }\r\n    \r\n            return false\r\n        }\r\n    \r\n        private fun getField(theClass: Class&lt;*&gt;, fieldName: String?): Field? {\r\n            return try {\r\n                theClass.getDeclaredField(fieldName)\r\n            } catch (e: Exception) {\r\n                null\r\n            }\r\n    \r\n        }\r\n    }","title":"class A declares multiple JSON fields","body":"<p>Solution for Kotlin, as suggested @Adrian-Lee, you have to tweak some Null Checks</p>\n\n<pre><code>class SuperclassExclusionStrategy : ExclusionStrategy {\n\n    override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\n        return false\n    }\n\n    override fun shouldSkipField(f: FieldAttributes?): Boolean {\n        val fieldName = f?.name\n        val theClass = f?.declaringClass\n\n        return isFieldInSuperclass(theClass, fieldName)\n    }\n\n    private fun isFieldInSuperclass(subclass: Class&lt;*&gt;?, fieldName: String?): Boolean {\n        var superclass: Class&lt;*&gt;? = subclass?.superclass\n        var field: Field?\n\n        while (superclass != null) {\n            field = getField(superclass, fieldName)\n\n            if (field != null)\n                return true\n\n            superclass = superclass.superclass\n        }\n\n        return false\n    }\n\n    private fun getField(theClass: Class&lt;*&gt;, fieldName: String?): Field? {\n        return try {\n            theClass.getDeclaredField(fieldName)\n        } catch (e: Exception) {\n            null\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4885235,"reputation":1691,"user_id":3937903,"accept_rate":86,"display_name":"oziomajnr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1562042013,"creation_date":1562042013,"answer_id":56845377,"question_id":16476513,"body_markdown":"I don&#39;t think you should make the members transient, this might lead to errors because members that you might need in the future might be hidden. \r\n\r\nHow I solved this problem is to use a custom naming strategy and append the full class name to the Json, the downside of this is that it would lead to larger Json and if you need it for something like a Rest Api it would be weird for clients to name the fields that way, but I only needed to serialize to write to disk on android. \r\n\r\nSo here is an implementation of a custom naming strategy in Kotlin \r\n\r\n \r\n\r\n    import com.google.gson.FieldNamingStrategy\r\n    import java.lang.reflect.Field\r\n    \r\n      class GsonFieldNamingStrategy : FieldNamingStrategy {\r\n         override fun translateName(field: Field?): String? {\r\n            return &quot;${field?.declaringClass?.canonicalName}.${field?.name}&quot;\r\n        }\r\n    }\r\n\r\nSo for all fields, the full canonical name would be appended, this would make the child class have a different name from the parent class, but when deserializing, the child class value would be used.","title":"class A declares multiple JSON fields","body":"<p>I don't think you should make the members transient, this might lead to errors because members that you might need in the future might be hidden. </p>\n\n<p>How I solved this problem is to use a custom naming strategy and append the full class name to the Json, the downside of this is that it would lead to larger Json and if you need it for something like a Rest Api it would be weird for clients to name the fields that way, but I only needed to serialize to write to disk on android. </p>\n\n<p>So here is an implementation of a custom naming strategy in Kotlin </p>\n\n<pre><code>import com.google.gson.FieldNamingStrategy\nimport java.lang.reflect.Field\n\n  class GsonFieldNamingStrategy : FieldNamingStrategy {\n     override fun translateName(field: Field?): String? {\n        return \"${field?.declaringClass?.canonicalName}.${field?.name}\"\n    }\n}\n</code></pre>\n\n<p>So for all fields, the full canonical name would be appended, this would make the child class have a different name from the parent class, but when deserializing, the child class value would be used.</p>\n"},{"tags":[],"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1605638004,"creation_date":1588028637,"answer_id":61469921,"question_id":16476513,"body_markdown":"   I used `GsonBuilder` and `ExclusionStrategy` to avoid the redundant fields as below, it is simple and straight forward.   \r\n\r\n    Gson json = new GsonBuilder()\r\n              .setExclusionStrategies(new ExclusionStrategy() {\r\n                 @Override\r\n                 public boolean shouldSkipField(FieldAttributes f) {\r\n                    if(f.getName().equals(&quot;netAmountPcy&quot;)){\r\n                       return true;\r\n                    }\r\n                    return false;\r\n                 }\r\n\r\n                 @Override\r\n                 public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n                    return false;\r\n                 }\r\n              }).create();","title":"class A declares multiple JSON fields","body":"<p>I used <code>GsonBuilder</code> and <code>ExclusionStrategy</code> to avoid the redundant fields as below, it is simple and straight forward.</p>\n<pre><code>Gson json = new GsonBuilder()\n          .setExclusionStrategies(new ExclusionStrategy() {\n             @Override\n             public boolean shouldSkipField(FieldAttributes f) {\n                if(f.getName().equals(&quot;netAmountPcy&quot;)){\n                   return true;\n                }\n                return false;\n             }\n\n             @Override\n             public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n                return false;\n             }\n          }).create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":327933,"reputation":6479,"user_id":650606,"display_name":"Besnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622629305,"creation_date":1622629305,"answer_id":67803250,"question_id":16476513,"body_markdown":"For Kotlin-er:\r\n\r\n\r\n    val fieldsToExclude = listOf(&quot;fieldToExclude&quot;, &quot;otherFieldToExclude&quot;)\r\n\r\n    GsonBuilder()\r\n        .setExclusionStrategies(object : ExclusionStrategy {\r\n            override fun shouldSkipField(f: FieldAttributes?) = f?.let { fieldsToExclude.contains(it.name) } ?: false\r\n            override fun shouldSkipClass(clazz: Class&lt;*&gt;?) = false\r\n        })\r\n        .create()","title":"class A declares multiple JSON fields","body":"<p>For Kotlin-er:</p>\n<pre><code>val fieldsToExclude = listOf(&quot;fieldToExclude&quot;, &quot;otherFieldToExclude&quot;)\n\nGsonBuilder()\n    .setExclusionStrategies(object : ExclusionStrategy {\n        override fun shouldSkipField(f: FieldAttributes?) = f?.let { fieldsToExclude.contains(it.name) } ?: false\n        override fun shouldSkipClass(clazz: Class&lt;*&gt;?) = false\n    })\n    .create()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21716111,"reputation":125,"user_id":16027127,"display_name":"REM Code"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636111913,"creation_date":1636111913,"answer_id":69852584,"question_id":16476513,"body_markdown":"In kotlin adding the `@Transient` annotation for the variable on the parent class did the trick for me on a `sealed` class with open variables.","title":"class A declares multiple JSON fields","body":"<p>In kotlin adding the <code>@Transient</code> annotation for the variable on the parent class did the trick for me on a <code>sealed</code> class with open variables.</p>\n"},{"tags":[],"owner":{"account_id":2537381,"reputation":121,"user_id":2204107,"display_name":"user2204107"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677742493,"creation_date":1677742493,"answer_id":75612465,"question_id":16476513,"body_markdown":"if you need subClass &quot;override&quot; superClass same name filed, you can use `ExclusionStrategy` to remember same name super fileds and ignore them, after done the convert, need clear the thread local temp data.\r\n\r\nthe ExclusionStrategy\r\n```\r\nimport com.google.gson.ExclusionStrategy;\r\nimport com.google.gson.FieldAttributes;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.util.Arrays;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class SuperClassFieldExcludeStrategy implements ExclusionStrategy {\r\n\r\n    ThreadLocal&lt;Set&lt;String&gt;&gt; ignored=ThreadLocal.withInitial(HashSet::new);\r\n\r\n    @Override\r\n    public boolean shouldSkipField(FieldAttributes f) {\r\n        Class&lt;?&gt; superClass = f.getDeclaringClass().getSuperclass();\r\n        while (superClass!=null &amp;&amp; superClass!=Object.class){\r\n\r\n            List&lt;Field&gt; superSameFileds = Arrays.stream(superClass.getDeclaredFields()).filter(x -&gt; x.getName().equals(f.getName())).collect(Collectors.toList());\r\n            String superClassName=superClass.getName();\r\n            ignored.get().addAll(superSameFileds.stream().map(x-&gt;superClassName+&quot;.&quot;+x.getName()).collect(Collectors.toList()));\r\n            superClass=superClass.getSuperclass();\r\n        }\r\n\r\n        String name = f.getDeclaringClass().getName()+&quot;.&quot;+f.getName();\r\n        return ignored.get().contains(name);\r\n    }\r\n\r\n    @Override\r\n    public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n        return false;\r\n    }\r\n}\r\n```\r\ngson creat part\r\n```\r\n        SuperClassFieldExcludeStrategy superClassFieldExcludeStrategy=new SuperClassFieldExcludeStrategy()\r\n        Gson gson = new GsonBuilder()\r\n                .addSerializationExclusionStrategy(superClassFieldExcludeStrategy)\r\n                .addDeserializationExclusionStrategy(superClassFieldExcludeStrategy)\r\n                .create();\r\n```\r\n\r\nconvert part\r\n```\r\n        try{\r\n            gson.toJson(new Object());\r\n        }finally {\r\n            superClassFieldExcludeStrategy.ignored.remove();            \r\n        }\r\n```","title":"class A declares multiple JSON fields","body":"<p>if you need subClass &quot;override&quot; superClass same name filed, you can use <code>ExclusionStrategy</code> to remember same name super fileds and ignore them, after done the convert, need clear the thread local temp data.</p>\n<p>the ExclusionStrategy</p>\n<pre><code>import com.google.gson.ExclusionStrategy;\nimport com.google.gson.FieldAttributes;\n\nimport java.lang.reflect.Field;\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\npublic class SuperClassFieldExcludeStrategy implements ExclusionStrategy {\n\n    ThreadLocal&lt;Set&lt;String&gt;&gt; ignored=ThreadLocal.withInitial(HashSet::new);\n\n    @Override\n    public boolean shouldSkipField(FieldAttributes f) {\n        Class&lt;?&gt; superClass = f.getDeclaringClass().getSuperclass();\n        while (superClass!=null &amp;&amp; superClass!=Object.class){\n\n            List&lt;Field&gt; superSameFileds = Arrays.stream(superClass.getDeclaredFields()).filter(x -&gt; x.getName().equals(f.getName())).collect(Collectors.toList());\n            String superClassName=superClass.getName();\n            ignored.get().addAll(superSameFileds.stream().map(x-&gt;superClassName+&quot;.&quot;+x.getName()).collect(Collectors.toList()));\n            superClass=superClass.getSuperclass();\n        }\n\n        String name = f.getDeclaringClass().getName()+&quot;.&quot;+f.getName();\n        return ignored.get().contains(name);\n    }\n\n    @Override\n    public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n        return false;\n    }\n}\n</code></pre>\n<p>gson creat part</p>\n<pre><code>        SuperClassFieldExcludeStrategy superClassFieldExcludeStrategy=new SuperClassFieldExcludeStrategy()\n        Gson gson = new GsonBuilder()\n                .addSerializationExclusionStrategy(superClassFieldExcludeStrategy)\n                .addDeserializationExclusionStrategy(superClassFieldExcludeStrategy)\n                .create();\n</code></pre>\n<p>convert part</p>\n<pre><code>        try{\n            gson.toJson(new Object());\n        }finally {\n            superClassFieldExcludeStrategy.ignored.remove();            \n        }\n</code></pre>\n"}],"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122348,"favorite_count":0,"down_vote_count":1,"up_vote_count":91,"accepted_answer_id":16476866,"answer_count":11,"score":90,"last_activity_date":1677742493,"creation_date":1368167757,"question_id":16476513,"body_markdown":"i have a class A which has some private fields and the same class extends another class B which also has some private fields which are in class A.\r\n\r\n    public class A extends B {\r\n        private BigDecimal netAmountTcy;\r\n        private BigDecimal netAmountPcy;   \r\n        private BigDecimal priceTo;  \r\n        private String segment;\r\n    \r\n        private BigDecimal taxAmountTcy;\r\n        private BigDecimal taxAmountPcy;   \r\n        private BigDecimal tradeFeesTcy;\r\n        private BigDecimal tradeFeesPcy;\r\n    \r\n    // getter and setter for the above fields\r\n    \r\n    }\r\nand class B has got some private fiedls which are in class A\r\n\r\nnow when i try to create JSON string from above class A i get the following exception : \r\n\r\n    class com.hexgen.ro.request.A declares multiple JSON fields named netAmountPcy\r\n\r\nHow to fix this?\r\n\r\nSince they are private fields there should not be any problem while creating json string i guess but i am not sure.\r\n\r\ni create json string like the following :\r\n\r\n    Gson gson = new Gson();\r\n     tempJSON = gson.toJson(obj);\r\n\r\nhere obj is the object of class A","title":"class A declares multiple JSON fields","body":"<p>i have a class A which has some private fields and the same class extends another class B which also has some private fields which are in class A.</p>\n\n<pre><code>public class A extends B {\n    private BigDecimal netAmountTcy;\n    private BigDecimal netAmountPcy;   \n    private BigDecimal priceTo;  \n    private String segment;\n\n    private BigDecimal taxAmountTcy;\n    private BigDecimal taxAmountPcy;   \n    private BigDecimal tradeFeesTcy;\n    private BigDecimal tradeFeesPcy;\n\n// getter and setter for the above fields\n\n}\n</code></pre>\n\n<p>and class B has got some private fiedls which are in class A</p>\n\n<p>now when i try to create JSON string from above class A i get the following exception : </p>\n\n<pre><code>class com.hexgen.ro.request.A declares multiple JSON fields named netAmountPcy\n</code></pre>\n\n<p>How to fix this?</p>\n\n<p>Since they are private fields there should not be any problem while creating json string i guess but i am not sure.</p>\n\n<p>i create json string like the following :</p>\n\n<pre><code>Gson gson = new Gson();\n tempJSON = gson.toJson(obj);\n</code></pre>\n\n<p>here obj is the object of class A</p>\n"},{"tags":["java","mysql","spring-boot","error-handling","spring-scheduled"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1677742575,"post_id":75612449,"comment_id":133398759,"body_markdown":"Why would you expect that to take a value from within your DB?","body":"Why would you expect that to take a value from within your DB?"},{"owner":{"account_id":3329148,"reputation":162,"user_id":2798461,"display_name":"bvn13"},"score":0,"creation_date":1677749651,"post_id":75612449,"comment_id":133400453,"body_markdown":"Spring lookup this value into application.properties not into DB.","body":"Spring lookup this value into application.properties not into DB."}],"owner":{"account_id":26335075,"reputation":1,"user_id":19995043,"display_name":"Phoenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677742484,"creation_date":1677742389,"question_id":75612449,"body_markdown":"I have a scheduler which i want to make configurable, so i used fixeddelaystring and fetched its value from MySQL DB. But I am getting this error\r\n\r\n    Initialization of bean failed; nested exception is java.lang.IllegalStateException: Encountered invalid @Scheduled method &#39;syncStatusScheduler&#39;: Invalid fixedDelayString value &quot;${status.schedule}&quot; - cannot parse into long\r\n\r\nScheduler\r\n\r\n    @Scheduled(fixedDelayString = &quot;${status.schedule}&quot; , initialDelay = 1000)\r\n    \tpublic void syncStatusScheduler() throws IOException{\r\n    .\r\n    .\r\n    .\r\n    }\r\n\r\nThis is the Row in DB from where i want to fetch the time for fixeddelaystring\r\n\r\nkey                value          \r\n&#39;status.schedule&#39;,&#39;300000&#39;\r\n \r\n\r\nExcepting fixedDelayString to pick the value but getting the error instead.","title":"Invalid fixedDelayString value &quot;${status.schedule}&quot; - cannot parse into long","body":"<p>I have a scheduler which i want to make configurable, so i used fixeddelaystring and fetched its value from MySQL DB. But I am getting this error</p>\n<pre><code>Initialization of bean failed; nested exception is java.lang.IllegalStateException: Encountered invalid @Scheduled method 'syncStatusScheduler': Invalid fixedDelayString value &quot;${status.schedule}&quot; - cannot parse into long\n</code></pre>\n<p>Scheduler</p>\n<pre><code>@Scheduled(fixedDelayString = &quot;${status.schedule}&quot; , initialDelay = 1000)\n    public void syncStatusScheduler() throws IOException{\n.\n.\n.\n}\n</code></pre>\n<p>This is the Row in DB from where i want to fetch the time for fixeddelaystring</p>\n<p>key                value<br />\n'status.schedule','300000'</p>\n<p>Excepting fixedDelayString to pick the value but getting the error instead.</p>\n"},{"tags":["java","eclipse","maven","maven-plugin","java-17"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1677687756,"post_id":75606306,"comment_id":133388223,"body_markdown":"Generally you would check the Error Log for more details than what the dialog might show.","body":"Generally you would check the Error Log for more details than what the dialog might show."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1677701673,"post_id":75606306,"comment_id":133392204,"body_markdown":"@nitind : error attached, but not much info in there","body":"@nitind : error attached, but not much info in there"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1677739193,"post_id":75606306,"comment_id":133398100,"body_markdown":"In the _Error Log_ view, please delete the error log first and then reproduce the issue to avoid to get unrelated things log items. Then select the error, hit Ctrl+C and paste it into your question formatted as _Sample Code_. Currently you question shows only the stack trace which is only a part of what is logged and it&#39;s unclear whether it is related to the error dialog you get.","body":"In the <i>Error Log</i> view, please delete the error log first and then reproduce the issue to avoid to get unrelated things log items. Then select the error, hit Ctrl+C and paste it into your question formatted as <i>Sample Code</i>. Currently you question shows only the stack trace which is only a part of what is logged and it&#39;s unclear whether it is related to the error dialog you get."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1677742134,"post_id":75606306,"comment_id":133398672,"body_markdown":"@howlger : Thanks for you comment, I&#39;ve again tried to build and run project. so logs updated as you mentioned","body":"@howlger : Thanks for you comment, I&#39;ve again tried to build and run project. so logs updated as you mentioned"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1677743640,"post_id":75606306,"comment_id":133398965,"body_markdown":"The stack trace looks like [this bug](https://github.com/eclipse-jdt/eclipse.jdt.core/issues/790) which is being worked on","body":"The stack trace looks like <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.core/issues/790\" rel=\"nofollow noreferrer\">this bug</a> which is being worked on"}],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677742084,"creation_date":1677687298,"question_id":75606306,"body_markdown":"When I build the run project it gaves me an error\r\n[![enter image description here](https://i.stack.imgur.com/Ef5Cj.png)](https://i.stack.imgur.com/Ef5Cj.png)\r\nthen when I tried to run it, it gave me another error\r\n[![enter image description here](https://i.stack.imgur.com/sN4CD.png)](https://i.stack.imgur.com/sN4CD.png)\r\nbut no much details behind that\r\n\r\nhow to get error trace from eclipse &amp; fix it.?\r\n\r\n\r\nThanks\r\n\r\n\r\nI tried with deleting .project .classpath .settings files&lt;br/&gt;\r\nalso, eclipse clean build&lt;br/&gt;\r\nas well as mvn eclipse:eclipse then mvn clean install&lt;br/&gt;\r\n\r\nit works perfect with mvn exec:java &lt;br/&gt;\r\nbut not works with eclipse run-as application&lt;br/&gt;\r\n\r\n\r\n**Error log updated**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nError log shows below, but not much information in there..\r\n\r\n-----------------Exceptions at Build time-----------------\r\n\r\n    eclipse.buildId=4.26.0.20221201-1200\r\n    java.version=17.0.5\r\n    java.vendor=Eclipse Adoptium\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\r\n    Framework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\r\n    \r\n    org.eclipse.core.resources\r\n    Error\r\n    Thu Mar 02 08:14:01 CET 2023\r\n    Errors occurred during the build.\r\n    \r\n    eclipse.buildId=4.26.0.20221201-1200\r\n    java.version=17.0.5\r\n    java.vendor=Eclipse Adoptium\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\r\n    Framework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\r\n    \r\n    org.eclipse.jdt.core\r\n    Error\r\n    Thu Mar 02 08:14:01 CET 2023\r\n    Errors running builder &#39;Java Builder&#39; on project &#39;****Service&#39;.\r\n    \r\n    java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n    \tat org.eclipse.jdt.internal.compiler.ast.QualifiedTypeReference.getTypeBinding(QualifiedTypeReference.java:133)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:634)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:630)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:602)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1670)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:1176)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1454)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:1143)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1464)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:394)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:521)\r\n    \tat org.eclipse.jdt.internal.compiler.Compiler.internalBeginToCompile(Compiler.java:881)\r\n    \tat org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:394)\r\n    \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:444)\r\n    \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\r\n    \tat org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:379)\r\n    \tat org.eclipse.jdt.internal.core.builder.BatchImageBuilder.compile(BatchImageBuilder.java:214)\r\n    \tat org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:311)\r\n    \tat org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:79)\r\n    \tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:276)\r\n    \tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:193)\r\n    \tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:1020)\r\n    \tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:247)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:303)\r\n    \tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:392)\r\n    \tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:395)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:506)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:454)\r\n    \tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:536)\r\n    \tat org.eclipse.core.internal.resources.Workspace.buildInternal(Workspace.java:524)\r\n    \tat org.eclipse.core.internal.resources.Workspace.build(Workspace.java:420)\r\n    \tat org.eclipse.ui.actions.BuildAction$1.runInWorkspace(BuildAction.java:291)\r\n    \tat org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)\r\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n    \r\n    \r\n    eclipse.buildId=4.26.0.20221201-1200\r\n    java.version=17.0.5\r\n    java.vendor=Eclipse Adoptium\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\r\n    Framework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\r\n    \r\n    org.eclipse.core.resources\r\n    Error\r\n    Thu Mar 02 08:13:59 CET 2023\r\n    Problems occurred when invoking code from plug-in: &quot;org.eclipse.core.resources&quot;.\r\n    \r\n    java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n    \tat org.eclipse.jdt.internal.compiler.ast.QualifiedTypeReference.getTypeBinding(QualifiedTypeReference.java:133)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:634)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:630)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:602)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1670)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:1176)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1454)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:1143)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1464)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:394)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:521)\r\n    \tat org.eclipse.jdt.internal.compiler.Compiler.internalBeginToCompile(Compiler.java:881)\r\n    \tat org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:394)\r\n    \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:444)\r\n    \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\r\n    \tat org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:379)\r\n    \tat org.eclipse.jdt.internal.core.builder.BatchImageBuilder.compile(BatchImageBuilder.java:214)\r\n    \tat org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:311)\r\n    \tat org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:79)\r\n    \tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:276)\r\n    \tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:193)\r\n    \tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:1020)\r\n    \tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:247)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:303)\r\n    \tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:392)\r\n    \tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:395)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:506)\r\n    \tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:454)\r\n    \tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:536)\r\n    \tat org.eclipse.core.internal.resources.Workspace.buildInternal(Workspace.java:524)\r\n    \tat org.eclipse.core.internal.resources.Workspace.build(Workspace.java:420)\r\n    \tat org.eclipse.ui.actions.BuildAction$1.runInWorkspace(BuildAction.java:291)\r\n    \tat org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)\r\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n\r\n\r\n\r\n\r\n-----------------Exceptions at Run time-----------------\r\n\r\n\r\n\r\n\r\n    eclipse.buildId=4.26.0.20221201-1200\r\n    java.version=17.0.5\r\n    java.vendor=Eclipse Adoptium\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\r\n    Framework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\r\n    \r\n    org.eclipse.jdt.debug.ui\r\n    Error\r\n    Thu Mar 02 08:15:04 CET 2023\r\n    Internal Error\r\n    \r\n    org.eclipse.core.runtime.CoreException: InvocationTargetException\r\n    \tat org.eclipse.jdt.debug.ui.launchConfigurations.JavaApplicationLaunchShortcut.findTypes(JavaApplicationLaunchShortcut.java:167)\r\n    \tat org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.searchAndLaunch(JavaLaunchShortcut.java:115)\r\n    \tat org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.launch(JavaLaunchShortcut.java:274)\r\n    \tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch(LaunchShortcutExtension.java:419)\r\n    \tat org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.runInternal(LaunchShortcutAction.java:83)\r\n    \tat org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.runWithEvent(LaunchShortcutAction.java:135)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1090)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1075)\r\n    \tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:778)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.lambda$8(ActionContributionItem.java:1206)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n    \tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:395)\r\n    \tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:470)\r\n    \tat org.eclipse.ui.internal.progress.ProgressMonitorJobsDialog.run(ProgressMonitorJobsDialog.java:230)\r\n    \tat org.eclipse.ui.internal.progress.ProgressManager.lambda$26(ProgressManager.java:836)\r\n    \tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n    \tat org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:869)\r\n    \tat org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:845)\r\n    \tat org.eclipse.ui.internal.progress.ProgressManager.run(ProgressManager.java:1003)\r\n    \tat org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine.searchMainMethods(MainMethodSearchEngine.java:169)\r\n    \tat org.eclipse.jdt.debug.ui.launchConfigurations.JavaApplicationLaunchShortcut.findTypes(JavaApplicationLaunchShortcut.java:165)\r\n    \t... 40 more\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n    \tat org.eclipse.jdt.internal.compiler.ast.QualifiedTypeReference.getTypeBinding(QualifiedTypeReference.java:133)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:634)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:630)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:602)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1670)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:1176)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1454)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:1143)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1464)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:394)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:589)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.accept(MatchLocator.java:381)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:337)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getType(PackageBinding.java:195)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.Scope.findType(Scope.java:2025)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:3500)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:3187)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:60)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:625)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:621)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:282)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:259)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:662)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:388)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:571)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1503)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1628)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:667)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.process(MatchLocator.java:2033)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1363)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1400)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1542)\r\n    \tat org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:135)\r\n    \tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:251)\r\n    \tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:602)\r\n    \tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:670)\r\n    \tat org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine.searchMainMethods(MainMethodSearchEngine.java:97)\r\n    \tat org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine$1.run(MainMethodSearchEngine.java:166)\r\n    \tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\r\n    \r\n    \r\n    eclipse.buildId=4.26.0.20221201-1200\r\n    java.version=17.0.5\r\n    java.vendor=Eclipse Adoptium\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\r\n    Framework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\r\n    \r\n    org.eclipse.jdt.debug.ui\r\n    Error\r\n    Thu Mar 02 08:15:04 CET 2023\r\n    InvocationTargetException\r\n    \r\n    java.lang.reflect.InvocationTargetException\r\n    \tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:395)\r\n    \tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:470)\r\n    \tat org.eclipse.ui.internal.progress.ProgressMonitorJobsDialog.run(ProgressMonitorJobsDialog.java:230)\r\n    \tat org.eclipse.ui.internal.progress.ProgressManager.lambda$26(ProgressManager.java:836)\r\n    \tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n    \tat org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:869)\r\n    \tat org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:845)\r\n    \tat org.eclipse.ui.internal.progress.ProgressManager.run(ProgressManager.java:1003)\r\n    \tat org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine.searchMainMethods(MainMethodSearchEngine.java:169)\r\n    \tat org.eclipse.jdt.debug.ui.launchConfigurations.JavaApplicationLaunchShortcut.findTypes(JavaApplicationLaunchShortcut.java:165)\r\n    \tat org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.searchAndLaunch(JavaLaunchShortcut.java:115)\r\n    \tat org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.launch(JavaLaunchShortcut.java:274)\r\n    \tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch(LaunchShortcutExtension.java:419)\r\n    \tat org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.runInternal(LaunchShortcutAction.java:83)\r\n    \tat org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.runWithEvent(LaunchShortcutAction.java:135)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1090)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1075)\r\n    \tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:778)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.lambda$8(ActionContributionItem.java:1206)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n    \tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n    \tat org.eclipse.jdt.internal.compiler.ast.QualifiedTypeReference.getTypeBinding(QualifiedTypeReference.java:133)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:634)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:630)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:602)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1670)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:1176)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1454)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:1143)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1464)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:394)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:589)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.accept(MatchLocator.java:381)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:337)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getType(PackageBinding.java:195)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.Scope.findType(Scope.java:2025)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:3500)\r\n    \tat org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:3187)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:60)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:625)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:621)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:282)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:259)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:662)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:388)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:571)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1503)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1628)\r\n    \tat org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:667)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.process(MatchLocator.java:2033)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1363)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1400)\r\n    \tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1542)\r\n    \tat org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:135)\r\n    \tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:251)\r\n    \tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:602)\r\n    \tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:670)\r\n    \tat org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine.searchMainMethods(MainMethodSearchEngine.java:97)\r\n    \tat org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine$1.run(MainMethodSearchEngine.java:166)\r\n    \tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M06Ul.png","title":"How to get error trace for the eclipse errors.?","body":"<p>When I build the run project it gaves me an error\n<a href=\"https://i.stack.imgur.com/Ef5Cj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ef5Cj.png\" alt=\"enter image description here\" /></a>\nthen when I tried to run it, it gave me another error\n<a href=\"https://i.stack.imgur.com/sN4CD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sN4CD.png\" alt=\"enter image description here\" /></a>\nbut no much details behind that</p>\n<p>how to get error trace from eclipse &amp; fix it.?</p>\n<p>Thanks</p>\n<p>I tried with deleting .project .classpath .settings files<br/>\nalso, eclipse clean build<br/>\nas well as mvn eclipse:eclipse then mvn clean install<br/></p>\n<p>it works perfect with mvn exec:java <br/>\nbut not works with eclipse run-as application<br/></p>\n<p><strong>Error log updated</strong></p>\n<p><a href=\"https://i.stack.imgur.com/M06Ul.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M06Ul.png\" alt=\"enter image description here\" /></a></p>\n<p>Error log shows below, but not much information in there..</p>\n<p>-----------------Exceptions at Build time-----------------</p>\n<pre><code>eclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.5\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\nFramework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\n\norg.eclipse.core.resources\nError\nThu Mar 02 08:14:01 CET 2023\nErrors occurred during the build.\n\neclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.5\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\nFramework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\n\norg.eclipse.jdt.core\nError\nThu Mar 02 08:14:01 CET 2023\nErrors running builder 'Java Builder' on project '****Service'.\n\njava.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at org.eclipse.jdt.internal.compiler.ast.QualifiedTypeReference.getTypeBinding(QualifiedTypeReference.java:133)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:634)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:630)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:602)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1670)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:1176)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1454)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:1143)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1464)\n    at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:394)\n    at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:521)\n    at org.eclipse.jdt.internal.compiler.Compiler.internalBeginToCompile(Compiler.java:881)\n    at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:394)\n    at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:444)\n    at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\n    at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:379)\n    at org.eclipse.jdt.internal.core.builder.BatchImageBuilder.compile(BatchImageBuilder.java:214)\n    at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:311)\n    at org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:79)\n    at org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:276)\n    at org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:193)\n    at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:1020)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:247)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:303)\n    at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:392)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:395)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:506)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:454)\n    at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:536)\n    at org.eclipse.core.internal.resources.Workspace.buildInternal(Workspace.java:524)\n    at org.eclipse.core.internal.resources.Workspace.build(Workspace.java:420)\n    at org.eclipse.ui.actions.BuildAction$1.runInWorkspace(BuildAction.java:291)\n    at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n\n\neclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.5\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\nFramework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\n\norg.eclipse.core.resources\nError\nThu Mar 02 08:13:59 CET 2023\nProblems occurred when invoking code from plug-in: &quot;org.eclipse.core.resources&quot;.\n\njava.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at org.eclipse.jdt.internal.compiler.ast.QualifiedTypeReference.getTypeBinding(QualifiedTypeReference.java:133)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:634)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:630)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:602)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1670)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:1176)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1454)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:1143)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1464)\n    at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:394)\n    at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:521)\n    at org.eclipse.jdt.internal.compiler.Compiler.internalBeginToCompile(Compiler.java:881)\n    at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:394)\n    at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:444)\n    at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\n    at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:379)\n    at org.eclipse.jdt.internal.core.builder.BatchImageBuilder.compile(BatchImageBuilder.java:214)\n    at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:311)\n    at org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:79)\n    at org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:276)\n    at org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:193)\n    at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:1020)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:247)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:303)\n    at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:392)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:395)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:506)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:454)\n    at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:536)\n    at org.eclipse.core.internal.resources.Workspace.buildInternal(Workspace.java:524)\n    at org.eclipse.core.internal.resources.Workspace.build(Workspace.java:420)\n    at org.eclipse.ui.actions.BuildAction$1.runInWorkspace(BuildAction.java:291)\n    at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n</code></pre>\n<p>-----------------Exceptions at Run time-----------------</p>\n<pre><code>eclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.5\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\nFramework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\n\norg.eclipse.jdt.debug.ui\nError\nThu Mar 02 08:15:04 CET 2023\nInternal Error\n\norg.eclipse.core.runtime.CoreException: InvocationTargetException\n    at org.eclipse.jdt.debug.ui.launchConfigurations.JavaApplicationLaunchShortcut.findTypes(JavaApplicationLaunchShortcut.java:167)\n    at org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.searchAndLaunch(JavaLaunchShortcut.java:115)\n    at org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.launch(JavaLaunchShortcut.java:274)\n    at org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch(LaunchShortcutExtension.java:419)\n    at org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.runInternal(LaunchShortcutAction.java:83)\n    at org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.runWithEvent(LaunchShortcutAction.java:135)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1090)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1075)\n    at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:778)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$8(ActionContributionItem.java:1206)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\nCaused by: java.lang.reflect.InvocationTargetException\n    at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:395)\n    at org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:470)\n    at org.eclipse.ui.internal.progress.ProgressMonitorJobsDialog.run(ProgressMonitorJobsDialog.java:230)\n    at org.eclipse.ui.internal.progress.ProgressManager.lambda$26(ProgressManager.java:836)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:869)\n    at org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:845)\n    at org.eclipse.ui.internal.progress.ProgressManager.run(ProgressManager.java:1003)\n    at org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine.searchMainMethods(MainMethodSearchEngine.java:169)\n    at org.eclipse.jdt.debug.ui.launchConfigurations.JavaApplicationLaunchShortcut.findTypes(JavaApplicationLaunchShortcut.java:165)\n    ... 40 more\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at org.eclipse.jdt.internal.compiler.ast.QualifiedTypeReference.getTypeBinding(QualifiedTypeReference.java:133)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:634)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:630)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:602)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1670)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:1176)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1454)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:1143)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1464)\n    at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:394)\n    at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:589)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.accept(MatchLocator.java:381)\n    at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:337)\n    at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getType(PackageBinding.java:195)\n    at org.eclipse.jdt.internal.compiler.lookup.Scope.findType(Scope.java:2025)\n    at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:3500)\n    at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:3187)\n    at org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:60)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:625)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:621)\n    at org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:282)\n    at org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:259)\n    at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:662)\n    at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:388)\n    at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:571)\n    at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1503)\n    at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1628)\n    at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:667)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.process(MatchLocator.java:2033)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1363)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1400)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1542)\n    at org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:135)\n    at org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:251)\n    at org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:602)\n    at org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:670)\n    at org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine.searchMainMethods(MainMethodSearchEngine.java:97)\n    at org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine$1.run(MainMethodSearchEngine.java:166)\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\n\n\neclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.5\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US\nFramework arguments:  -product org.eclipse.epp.package.jee.product -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product -data file:/C:/Users/w127940/ws--2212-eclipse/ -product org.eclipse.epp.package.jee.product\n\norg.eclipse.jdt.debug.ui\nError\nThu Mar 02 08:15:04 CET 2023\nInvocationTargetException\n\njava.lang.reflect.InvocationTargetException\n    at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:395)\n    at org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:470)\n    at org.eclipse.ui.internal.progress.ProgressMonitorJobsDialog.run(ProgressMonitorJobsDialog.java:230)\n    at org.eclipse.ui.internal.progress.ProgressManager.lambda$26(ProgressManager.java:836)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:869)\n    at org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:845)\n    at org.eclipse.ui.internal.progress.ProgressManager.run(ProgressManager.java:1003)\n    at org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine.searchMainMethods(MainMethodSearchEngine.java:169)\n    at org.eclipse.jdt.debug.ui.launchConfigurations.JavaApplicationLaunchShortcut.findTypes(JavaApplicationLaunchShortcut.java:165)\n    at org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.searchAndLaunch(JavaLaunchShortcut.java:115)\n    at org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.launch(JavaLaunchShortcut.java:274)\n    at org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch(LaunchShortcutExtension.java:419)\n    at org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.runInternal(LaunchShortcutAction.java:83)\n    at org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.runWithEvent(LaunchShortcutAction.java:135)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1090)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1075)\n    at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:778)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$8(ActionContributionItem.java:1206)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at org.eclipse.jdt.internal.compiler.ast.QualifiedTypeReference.getTypeBinding(QualifiedTypeReference.java:133)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:634)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:630)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:602)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1670)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:1176)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1454)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:1143)\n    at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:1464)\n    at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:394)\n    at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:589)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.accept(MatchLocator.java:381)\n    at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:337)\n    at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getType(PackageBinding.java:195)\n    at org.eclipse.jdt.internal.compiler.lookup.Scope.findType(Scope.java:2025)\n    at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:3500)\n    at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:3187)\n    at org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:60)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.internalResolveType(TypeReference.java:522)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:625)\n    at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:621)\n    at org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:282)\n    at org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:259)\n    at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:662)\n    at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:388)\n    at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:571)\n    at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1503)\n    at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1628)\n    at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:667)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.process(MatchLocator.java:2033)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1363)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1400)\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1542)\n    at org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:135)\n    at org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:251)\n    at org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:602)\n    at org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:670)\n    at org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine.searchMainMethods(MainMethodSearchEngine.java:97)\n    at org.eclipse.jdt.internal.debug.ui.launcher.MainMethodSearchEngine$1.run(MainMethodSearchEngine.java:166)\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\n</code></pre>\n"},{"tags":["java","android-studio","autocompletetextview","android-textinputlayout"],"owner":{"account_id":27206796,"reputation":1,"user_id":20738219,"display_name":"Israel Linchangco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677741532,"creation_date":1677741532,"question_id":75612340,"body_markdown":"Good Day everyone, i really need help for my project. My project is to add programmatically a textinputlayout with autocompletetextview, and it is successful. But the problem is, the second textinputlayout did not detect my arrayadapter strings. Here is my code\r\n```\r\n`public class MainActivity extends AppCompatActivity {\r\n    Button add, send;\r\n    TextInputLayout size;\r\n    AutoCompleteTextView size1;\r\n    LinearLayout list;\r\n    ArrayList&lt;String&gt; text = new ArrayList&lt;&gt;();\r\n    Context context;\r\n    TextView textView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        add = findViewById(R.id.add_Pic);\r\n        size = findViewById(R.id.size);\r\n        size1=findViewById(R.id.size1);\r\n        send = findViewById(R.id.send);\r\n        list = findViewById(R.id.list);\r\n        textView = findViewById(R.id.textView);\r\n        context = this;\r\n     ArrayList&lt;String&gt;listplace = new ArrayList&lt;&gt;();\r\n     listplace.add(&quot;Estancia&quot;);\r\n     listplace.add(&quot;Balasan&quot;);\r\n     listplace.add(&quot;Carles&quot;);\r\n        ArrayAdapter&lt;String&gt; numberAdapter = new ArrayAdapter&lt;&gt;(MainActivity.this, android.R.layout.simple_spinner_dropdown_item,listplace);\r\n        size1.setId(View.generateViewId());\r\n        size1.setAdapter(numberAdapter);\r\n        send.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                for (int i = 0; i&lt;list.getChildCount();i++){\r\n                    if (list.getChildAt(i) instanceof LinearLayoutCompat){\r\n                        LinearLayoutCompat ll = (LinearLayoutCompat) list.getChildAt(i);\r\n                        for (int j = 0; j &lt; ll.getChildCount(); j++){\r\n                            if(ll.getChildAt(j) instanceof TextInputLayout &amp;&amp; ll.getChildAt(j)instanceof AutoCompleteTextView){\r\n                                TextInputLayout et = (TextInputLayout) ll.getChildAt(j);\r\n                                AutoCompleteTextView it = (AutoCompleteTextView) ll.getChildAt(j);\r\n                                if (it.getId()==R.id.size1){\r\n                                    //Toast.makeText(context, &quot;&quot;+et.getText().toString(), Toast.LENGTH_SHORT).show();\r\n                                    //textView.setText(et.getText().toString()+&quot;/&quot;);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        add.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                addView();\r\n            }\r\n        });\r\n    }\r\n    private void addView(){\r\n       final View aa = getLayoutInflater().inflate(R.layout.add_cam,null,false);\r\n        ArrayList&lt;String&gt;listplace1 = new ArrayList&lt;&gt;();\r\n        listplace1.add(&quot;Estancia&quot;);\r\n        listplace1.add(&quot;Balasan&quot;);\r\n        listplace1.add(&quot;Carles&quot;);\r\n        ArrayAdapter&lt;String&gt; numberAdapter1 = new ArrayAdapter&lt;&gt;(MainActivity.this, android.R.layout.simple_spinner_dropdown_item,listplace1);\r\n        size1.setAdapter(numberAdapter1);\r\n        list.addView(aa);\r\n        ImageView cross = (ImageView) aa.findViewById(R.id.cross2);\r\n        cross.setVisibility(View.VISIBLE);\r\n        cross.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                removeView(aa);\r\n            }\r\n        });\r\n    }\r\n    private void removeView(View view){\r\n        list.removeView(view);\r\n    }\r\n}`\r\n```\r\n\r\nHere is the screenshot of my project so you can easily understand\r\n\r\n[enter image description here](https://i.stack.imgur.com/IcX2S.jpg)\r\n[enter image description here](https://i.stack.imgur.com/B3dbr.jpg)\r\n\r\nThankyou for your time.","title":"Android Studio Java dynamic add a textinputlayout with autocompletetextview","body":"<p>Good Day everyone, i really need help for my project. My project is to add programmatically a textinputlayout with autocompletetextview, and it is successful. But the problem is, the second textinputlayout did not detect my arrayadapter strings. Here is my code</p>\n<pre><code>`public class MainActivity extends AppCompatActivity {\n    Button add, send;\n    TextInputLayout size;\n    AutoCompleteTextView size1;\n    LinearLayout list;\n    ArrayList&lt;String&gt; text = new ArrayList&lt;&gt;();\n    Context context;\n    TextView textView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        add = findViewById(R.id.add_Pic);\n        size = findViewById(R.id.size);\n        size1=findViewById(R.id.size1);\n        send = findViewById(R.id.send);\n        list = findViewById(R.id.list);\n        textView = findViewById(R.id.textView);\n        context = this;\n     ArrayList&lt;String&gt;listplace = new ArrayList&lt;&gt;();\n     listplace.add(&quot;Estancia&quot;);\n     listplace.add(&quot;Balasan&quot;);\n     listplace.add(&quot;Carles&quot;);\n        ArrayAdapter&lt;String&gt; numberAdapter = new ArrayAdapter&lt;&gt;(MainActivity.this, android.R.layout.simple_spinner_dropdown_item,listplace);\n        size1.setId(View.generateViewId());\n        size1.setAdapter(numberAdapter);\n        send.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                for (int i = 0; i&lt;list.getChildCount();i++){\n                    if (list.getChildAt(i) instanceof LinearLayoutCompat){\n                        LinearLayoutCompat ll = (LinearLayoutCompat) list.getChildAt(i);\n                        for (int j = 0; j &lt; ll.getChildCount(); j++){\n                            if(ll.getChildAt(j) instanceof TextInputLayout &amp;&amp; ll.getChildAt(j)instanceof AutoCompleteTextView){\n                                TextInputLayout et = (TextInputLayout) ll.getChildAt(j);\n                                AutoCompleteTextView it = (AutoCompleteTextView) ll.getChildAt(j);\n                                if (it.getId()==R.id.size1){\n                                    //Toast.makeText(context, &quot;&quot;+et.getText().toString(), Toast.LENGTH_SHORT).show();\n                                    //textView.setText(et.getText().toString()+&quot;/&quot;);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        add.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                addView();\n            }\n        });\n    }\n    private void addView(){\n       final View aa = getLayoutInflater().inflate(R.layout.add_cam,null,false);\n        ArrayList&lt;String&gt;listplace1 = new ArrayList&lt;&gt;();\n        listplace1.add(&quot;Estancia&quot;);\n        listplace1.add(&quot;Balasan&quot;);\n        listplace1.add(&quot;Carles&quot;);\n        ArrayAdapter&lt;String&gt; numberAdapter1 = new ArrayAdapter&lt;&gt;(MainActivity.this, android.R.layout.simple_spinner_dropdown_item,listplace1);\n        size1.setAdapter(numberAdapter1);\n        list.addView(aa);\n        ImageView cross = (ImageView) aa.findViewById(R.id.cross2);\n        cross.setVisibility(View.VISIBLE);\n        cross.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                removeView(aa);\n            }\n        });\n    }\n    private void removeView(View view){\n        list.removeView(view);\n    }\n}`\n</code></pre>\n<p>Here is the screenshot of my project so you can easily understand</p>\n<p><a href=\"https://i.stack.imgur.com/IcX2S.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/B3dbr.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Thankyou for your time.</p>\n"},{"tags":["java","design-patterns","dependency-injection","guice"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677740082,"post_id":75612120,"comment_id":133398280,"body_markdown":"by, as you already suggested in your first sentence, implementing a factory pattern","body":"by, as you already suggested in your first sentence, implementing a factory pattern"}],"owner":{"account_id":5105046,"reputation":107,"user_id":4093370,"display_name":"parhau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677741324,"creation_date":1677739961,"question_id":75612120,"body_markdown":"I need to implement factory design pattern in GoogleGuice 4.2 (Java)\r\n\r\nRequirement\r\n\r\nI have operating system interface \r\n\r\n```\r\npublic interface OperatingSystem {\r\nString getName() ;\r\n} \r\n```\r\n\r\nMy concrete classes\r\n\r\n```\r\npublic class Windows implements OperatingSystem {\r\nString getName() {\r\nreturn &quot;Product of Microsoft&quot;;\r\n}\r\n```\r\n\r\n```\r\npublic class Android implements OperatingSystem {\r\nString getName() {\r\nreturn &quot;OpenSource&quot;;\r\n}\r\n```\r\n\r\n```\r\npublic class IOS implements OperatingSystem {\r\nString getName() {\r\nreturn &quot;Product of Apple&quot;;\r\n}\r\n`````\r\n\r\n\r\nNOTE : \r\nI have unique identifier for associated to each case, \r\ni.e., \r\n\r\n - If my input is Apple, I need to instance of  IOS for my\r\n   OperatingSystem.getname() Similarly for Windows, I need instance of\r\n   Windows class For OpenSource Input, I need instance of Android\r\n\r\n\r\nI have a OSActivity.java class,\r\nThis class has a string variable and OperatingSystem. \r\nBased on the value of this string variable  ( which is the Unique Identifier) how can I get the appropriate implementation of OPeratingSystem through dependency injection\r\n\r\n**Ask**\r\nIn my OSActivity.java class, I need to perform dependency injection @Inject on OperatingSystem class based on the UniqueIdentifier string variable value. Is it possible  ? \r\n","title":"Implement Factory Pattern In GoogleGuice","body":"<p>I need to implement factory design pattern in GoogleGuice 4.2 (Java)</p>\n<p>Requirement</p>\n<p>I have operating system interface</p>\n<pre><code>public interface OperatingSystem {\nString getName() ;\n} \n</code></pre>\n<p>My concrete classes</p>\n<pre><code>public class Windows implements OperatingSystem {\nString getName() {\nreturn &quot;Product of Microsoft&quot;;\n}\n</code></pre>\n<pre><code>public class Android implements OperatingSystem {\nString getName() {\nreturn &quot;OpenSource&quot;;\n}\n</code></pre>\n<pre><code>public class IOS implements OperatingSystem {\nString getName() {\nreturn &quot;Product of Apple&quot;;\n}\n</code></pre>\n<p>NOTE :\nI have unique identifier for associated to each case,\ni.e.,</p>\n<ul>\n<li>If my input is Apple, I need to instance of  IOS for my\nOperatingSystem.getname() Similarly for Windows, I need instance of\nWindows class For OpenSource Input, I need instance of Android</li>\n</ul>\n<p>I have a OSActivity.java class,\nThis class has a string variable and OperatingSystem.\nBased on the value of this string variable  ( which is the Unique Identifier) how can I get the appropriate implementation of OPeratingSystem through dependency injection</p>\n<p><strong>Ask</strong>\nIn my OSActivity.java class, I need to perform dependency injection @Inject on OperatingSystem class based on the UniqueIdentifier string variable value. Is it possible  ?</p>\n"},{"tags":["java","user-interface","graphics"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677743232,"post_id":75612277,"comment_id":133398882,"body_markdown":"What&#39;s `Line`??","body":"What&#39;s <code>Line</code>??"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1677773316,"post_id":75612277,"comment_id":133407686,"body_markdown":"If you want squares, then use the `fillRect(...)` method of the Graphcis object.","body":"If you want squares, then use the <code>fillRect(...)</code> method of the Graphcis object."}],"owner":{"account_id":26826854,"reputation":1,"user_id":20415373,"display_name":"Sophia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677741079,"creation_date":1677741079,"question_id":75612277,"body_markdown":"I&#39;m trying to create a background that&#39;s composed of lines horizontally and vertically with the same amount of gaps in between so that they look like squares.\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.geom.*;\r\nimport javax.swing.*;\r\nimport java.util.*;\r\n\r\npublic class SceneCanvas extends JComponent{\r\n    private int width;\r\n    private int height; \r\n\r\n    private Line backgroundLines[]= new Line[15];\r\n    \r\n    public SceneCanvas(int w, int h){\r\n        this.setPreferredSize(new java.awt.Dimension(1024,768));\r\n\r\n        width = w;\r\n        height = h; \r\n\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g){\r\n        Graphics2D g2d = (Graphics2D) g; \r\n\r\n        RenderingHints rh = new RenderingHints(\r\n                RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        g2d.setRenderingHints(rh);\r\n\r\n        Rectangle2D.Double bg = new Rectangle2D.Double(0,0,1024,768);\r\n        g2d.setColor(new Color(130,107,75));\r\n        g2d.fill(bg);\r\n\r\n        int size = 50;\r\n        int sizeUp = size+50;\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            int x = 50;\r\n            int y1 = 0;\r\n            int y2 = 1000;\r\n            for (int b = 0; b &lt; 10; b++){\r\n                sizeUp = (size+50)*b;\r\n                backgroundLines[i] = new Line(x*sizeUp, y1, x*sizeUp, y2,2, new Color (130,107,75));\r\n                g2d.fill(backgroundLines[i]); // this line doesn&#39;t work\r\n            }\r\n\r\n          }\r\n        Line2D.Double l1 = new Line2D.Double(50,0,50,1000);\r\n        Line2D.Double l2 = new Line2D.Double(sizeUp,0,sizeUp,1000);\r\n        Line2D.Double l3 = new Line2D.Double(sizeUp*1.5,0,sizeUp*1.5,1000);\r\n\r\n        g2d.setColor(new Color(117,91,67));\r\n\r\n        g2d.draw(l1);    \r\n        g2d.draw(l2);\r\n        g2d.draw(l3);\r\n\r\n        \r\n\r\n    }\r\n}\r\n```\r\n\r\nI commented the line that doesn&#39;t work (the one that draws the lines repeatedly).\r\n\r\nI made a for loop that takes in the same width n height for the lines but adjusts the gap in between based on the number of iterations the loop goes through (still ensures that they&#39;re the same amount of spaces in between)","title":"Creating a checkered background using lines and Graphics2D","body":"<p>I'm trying to create a background that's composed of lines horizontally and vertically with the same amount of gaps in between so that they look like squares.</p>\n<pre><code>import java.awt.*;\nimport java.awt.geom.*;\nimport javax.swing.*;\nimport java.util.*;\n\npublic class SceneCanvas extends JComponent{\n    private int width;\n    private int height; \n\n    private Line backgroundLines[]= new Line[15];\n    \n    public SceneCanvas(int w, int h){\n        this.setPreferredSize(new java.awt.Dimension(1024,768));\n\n        width = w;\n        height = h; \n\n    }\n\n    @Override\n    protected void paintComponent(Graphics g){\n        Graphics2D g2d = (Graphics2D) g; \n\n        RenderingHints rh = new RenderingHints(\n                RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n\n        g2d.setRenderingHints(rh);\n\n        Rectangle2D.Double bg = new Rectangle2D.Double(0,0,1024,768);\n        g2d.setColor(new Color(130,107,75));\n        g2d.fill(bg);\n\n        int size = 50;\n        int sizeUp = size+50;\n        for (int i = 0; i &lt; 10; i++) {\n            int x = 50;\n            int y1 = 0;\n            int y2 = 1000;\n            for (int b = 0; b &lt; 10; b++){\n                sizeUp = (size+50)*b;\n                backgroundLines[i] = new Line(x*sizeUp, y1, x*sizeUp, y2,2, new Color (130,107,75));\n                g2d.fill(backgroundLines[i]); // this line doesn't work\n            }\n\n          }\n        Line2D.Double l1 = new Line2D.Double(50,0,50,1000);\n        Line2D.Double l2 = new Line2D.Double(sizeUp,0,sizeUp,1000);\n        Line2D.Double l3 = new Line2D.Double(sizeUp*1.5,0,sizeUp*1.5,1000);\n\n        g2d.setColor(new Color(117,91,67));\n\n        g2d.draw(l1);    \n        g2d.draw(l2);\n        g2d.draw(l3);\n\n        \n\n    }\n}\n</code></pre>\n<p>I commented the line that doesn't work (the one that draws the lines repeatedly).</p>\n<p>I made a for loop that takes in the same width n height for the lines but adjusts the gap in between based on the number of iterations the loop goes through (still ensures that they're the same amount of spaces in between)</p>\n"},{"tags":["java","maven","build","jpackage"],"comments":[{"owner":{"account_id":17518664,"reputation":67,"user_id":12705184,"display_name":"Sepi"},"score":0,"creation_date":1677159102,"post_id":75508455,"comment_id":133285239,"body_markdown":"you can try [link](https://github.panteleyev.org/jpackage-maven-plugin/examples/executions.html)","body":"you can try <a href=\"https://github.panteleyev.org/jpackage-maven-plugin/examples/executions.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1677164403,"post_id":75508455,"comment_id":133287169,"body_markdown":"@Sepi Works, but only for platform I am curretly on.","body":"@Sepi Works, but only for platform I am curretly on."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1677328560,"post_id":75508455,"comment_id":133318366,"body_markdown":"It doesn’t matter whether you run `jpackage` with Maven or standalone. It (currently) does not support building for a different platform: [Application packages must be built on the target platform.](https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html#GUID-786E15C0-2CE7-4BDF-9B2F-AC1C57249134:~:text=Application%20packages%20must%20be%20built%20on%20the%20target%20platform.)","body":"It doesn’t matter whether you run <code>jpackage</code> with Maven or standalone. It (currently) does not support building for a different platform: <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html#GUID-786E15C0-2CE7-4BDF-9B2F-AC1C57249134:~:text=Application%20packages%20must%20be%20built%20on%20the%20target%20platform.\" rel=\"nofollow noreferrer\">Application packages must be built on the target platform.</a>"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677740686,"creation_date":1676891145,"question_id":75508455,"body_markdown":"*Jpackage using maven failed with Akman/jpackage-maven-plugin: Unable to resolve project dependencies: Cannot run program &quot;/usr/bin/bin/java&quot;*\r\n\r\nI am trying to use jpackage command to generate native installers in maven for Windows, Linux and Mac using Akman/jpackage-maven-plugin.\r\n\r\nLink to jpackage maven plugin: https://github.com/Akman/jpackage-maven-plugin (it requires min. version of Maven 3.8.6)\r\n\r\nJDK/JRE I am using is Bellsoft LIberica JDK 17.0.6+10 and JRE 17.0.6+10 https://bell-sw.com/pages/downloads/.\r\n\r\nIDE: IntelliJ IDEA 2022.3 (Community Edition)\r\n\r\nMaven version: 3.9.0\r\n\r\nThe operating system I am on is Kubuntu 22.10\r\n\r\njpackage-maven-plugin configuration:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;com.github.akman&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.1.5&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;appversion&gt;${project.version}&lt;/appversion&gt;\r\n    \t\t&lt;input&gt;${jpackageInputDir}&lt;/input&gt;\r\n    \t\t&lt;mainjar&gt;${buildDirectory}/mainjar.jar&lt;/mainjar&gt;\r\n    \t\t&lt;mainclass&gt;${mainClass}&lt;/mainclass&gt;\r\n    \t\t&lt;icon&gt;${project.basedir}/books256.ico&lt;/icon&gt;\r\n    \t\t&lt;name&gt;${fn}&lt;/name&gt;\r\n    \t\t&lt;dest&gt;${jpackageOutputDir}&lt;/dest&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;jpackagedeblinux&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;jpackage&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;linuxshortcut&gt;true&lt;/linuxshortcut&gt;\r\n    \t\t\t\t&lt;type&gt;DEB&lt;/type&gt;\r\n    \t\t\t\t&lt;toolhome&gt;${jpackageJdkDirLinux}&lt;/toolhome&gt;\r\n    \t\t\t\t&lt;runtimeimage&gt;${jpackageJreDirLinux}&lt;/runtimeimage&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;jpackagewinmsi&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;jpackage&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;type&gt;MSI&lt;/type&gt;\r\n    \t\t\t\t&lt;toolhome&gt;${jpackageJdkDirWin}&lt;/toolhome&gt;\r\n    \t\t\t\t&lt;runtimeimage&gt;${jpackageJreDirWin}&lt;/runtimeimage&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;jpackagepkgmac&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;jpackage&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;type&gt;PKG&lt;/type&gt;\r\n    \t\t\t\t&lt;toolhome&gt;${jpackageJdkDirMac}&lt;/toolhome&gt;\r\n    \t\t\t\t&lt;runtimeimage&gt;${jpackageJreDirMac}&lt;/runtimeimage&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nNote: removing `&lt;toolHome&gt;` (Path to jdk - actual jdk tools used. If not present, default is used.) and/or `&lt;runtimeImage&gt;` (jre to be copied to resulting installer) parameters does not make a change.\r\n\r\nProperties:\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;project.reporting.sourceEncoding&gt;UTF-8\r\n    \t\t&lt;/project.reporting.sourceEncoding&gt;\r\n        &lt;fn&gt;mainjar&lt;/fn&gt;\r\n    \t&lt;mainClass&gt;core.Main&lt;/mainClass&gt;\r\n    \t&lt;buildDirectory&gt;${project.basedir}/target&lt;/buildDirectory&gt;\r\n    \t&lt;jpackageInputDir&gt;${buildDirectory}/jpackage_inputdir&lt;/jpackageInputDir&gt;\r\n    \t&lt;jpackageOutputDir&gt;${buildDirectory}/jpackage_outputdir&lt;/jpackageOutputDir&gt;\r\n    \t&lt;jpackageJreDir&gt;${buildDirectory}/jpackage&lt;/jpackageJreDir&gt;\r\n    \t&lt;jpackageJreDirMac&gt;${jpackageJreDir}/mac&lt;/jpackageJreDirMac&gt;\r\n    \t&lt;jpackageJreDirWin&gt;${jpackageJreDir}/win&lt;/jpackageJreDirWin&gt;\r\n    \t&lt;jpackageJreDirLinux&gt;${jpackageJreDir}/linux&lt;/jpackageJreDirLinux&gt;\r\n    \t&lt;jpackageJdkDirMac&gt;${jpackageJreDir}/jdk-mac&lt;/jpackageJdkDirMac&gt;\r\n    \t&lt;jpackageJdkDirWin&gt;${jpackageJreDir}/jdk-win&lt;/jpackageJdkDirWin&gt;\r\n    \t&lt;jpackageJdkDirLinux&gt;${jpackageJreDir}/jdk-linux&lt;/jpackageJdkDirLinux&gt;\r\n    &lt;/properties&gt;\r\n\r\nNote: all jres/jdks are present in their respective folders.\r\n\r\nThe error I get during jpackage goal (full stack trace):\r\n\r\n        [ERROR] Failed to execute goal com.github.akman:jpackage-maven-plugin:0.1.5:jpackage (jpackage deb linux) on project desktop.mainapp: Error: Unable to resolve project dependencies: Cannot run program &quot;/usr/bin/bin/java&quot; (in directory &quot;/tmp/plexus-java_jpms-17951190539128822429&quot;): error=2, No such file or directory -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.github.akman:jpackage-maven-plugin:0.1.5:jpackage (jpackage deb linux) on project desktop.mainapp: Error: Unable to resolve project dependencies\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Error: Unable to resolve project dependencies\r\n        at ru.akman.maven.plugins.jpackage.JPackageMojo.resolveDependencies (JPackageMojo.java:1330)\r\n        at ru.akman.maven.plugins.jpackage.JPackageMojo.execute (JPackageMojo.java:1875)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: java.io.IOException: Cannot run program &quot;/usr/bin/bin/java&quot; (in directory &quot;/tmp/plexus-java_jpms-17951190539128822429&quot;): error=2, No such file or directory\r\n        at java.lang.ProcessBuilder.start (ProcessBuilder.java:1143)\r\n        at java.lang.ProcessBuilder.start (ProcessBuilder.java:1073)\r\n        at org.codehaus.plexus.languages.java.jpms.MainClassModuleNameExtractor.extract (MainClassModuleNameExtractor.java:97)\r\n        at org.codehaus.plexus.languages.java.jpms.LocationManager.resolvePaths (LocationManager.java:235)\r\n        at ru.akman.maven.plugins.jpackage.JPackageMojo.resolveDependencies (JPackageMojo.java:1328)\r\n        at ru.akman.maven.plugins.jpackage.JPackageMojo.execute (JPackageMojo.java:1875)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: java.io.IOException: error=2, No such file or directory\r\n        at java.lang.ProcessImpl.forkAndExec (Native Method)\r\n        at java.lang.ProcessImpl.&lt;init&gt; (ProcessImpl.java:314)\r\n        at java.lang.ProcessImpl.start (ProcessImpl.java:244)\r\n        at java.lang.ProcessBuilder.start (ProcessBuilder.java:1110)\r\n        at java.lang.ProcessBuilder.start (ProcessBuilder.java:1073)\r\n        at org.codehaus.plexus.languages.java.jpms.MainClassModuleNameExtractor.extract (MainClassModuleNameExtractor.java:97)\r\n        at org.codehaus.plexus.languages.java.jpms.LocationManager.resolvePaths (LocationManager.java:235)\r\n        at ru.akman.maven.plugins.jpackage.JPackageMojo.resolveDependencies (JPackageMojo.java:1328)\r\n        at ru.akman.maven.plugins.jpackage.JPackageMojo.execute (JPackageMojo.java:1875)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n\r\nCan someone find out the cause of this error and how to fix it? How to make it work maybe with another plugin or setting? Akman/jpackage-maven-plugin is the only one I find, in which I can define home for java tools, which should allow me to make native runtime images for another operating systems, but as you can see it does not work for some reason.","title":"How to create native installers using jpackage in maven for each operating system?","body":"<p><em>Jpackage using maven failed with Akman/jpackage-maven-plugin: Unable to resolve project dependencies: Cannot run program &quot;/usr/bin/bin/java&quot;</em></p>\n<p>I am trying to use jpackage command to generate native installers in maven for Windows, Linux and Mac using Akman/jpackage-maven-plugin.</p>\n<p>Link to jpackage maven plugin: <a href=\"https://github.com/Akman/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/Akman/jpackage-maven-plugin</a> (it requires min. version of Maven 3.8.6)</p>\n<p>JDK/JRE I am using is Bellsoft LIberica JDK 17.0.6+10 and JRE 17.0.6+10 <a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">https://bell-sw.com/pages/downloads/</a>.</p>\n<p>IDE: IntelliJ IDEA 2022.3 (Community Edition)</p>\n<p>Maven version: 3.9.0</p>\n<p>The operating system I am on is Kubuntu 22.10</p>\n<p>jpackage-maven-plugin configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.akman&lt;/groupId&gt;\n    &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.1.5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;appversion&gt;${project.version}&lt;/appversion&gt;\n        &lt;input&gt;${jpackageInputDir}&lt;/input&gt;\n        &lt;mainjar&gt;${buildDirectory}/mainjar.jar&lt;/mainjar&gt;\n        &lt;mainclass&gt;${mainClass}&lt;/mainclass&gt;\n        &lt;icon&gt;${project.basedir}/books256.ico&lt;/icon&gt;\n        &lt;name&gt;${fn}&lt;/name&gt;\n        &lt;dest&gt;${jpackageOutputDir}&lt;/dest&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jpackagedeblinux&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jpackage&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;linuxshortcut&gt;true&lt;/linuxshortcut&gt;\n                &lt;type&gt;DEB&lt;/type&gt;\n                &lt;toolhome&gt;${jpackageJdkDirLinux}&lt;/toolhome&gt;\n                &lt;runtimeimage&gt;${jpackageJreDirLinux}&lt;/runtimeimage&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jpackagewinmsi&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jpackage&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;type&gt;MSI&lt;/type&gt;\n                &lt;toolhome&gt;${jpackageJdkDirWin}&lt;/toolhome&gt;\n                &lt;runtimeimage&gt;${jpackageJreDirWin}&lt;/runtimeimage&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jpackagepkgmac&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jpackage&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;type&gt;PKG&lt;/type&gt;\n                &lt;toolhome&gt;${jpackageJdkDirMac}&lt;/toolhome&gt;\n                &lt;runtimeimage&gt;${jpackageJreDirMac}&lt;/runtimeimage&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Note: removing <code>&lt;toolHome&gt;</code> (Path to jdk - actual jdk tools used. If not present, default is used.) and/or <code>&lt;runtimeImage&gt;</code> (jre to be copied to resulting installer) parameters does not make a change.</p>\n<p>Properties:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.sourceEncoding&gt;UTF-8\n        &lt;/project.reporting.sourceEncoding&gt;\n    &lt;fn&gt;mainjar&lt;/fn&gt;\n    &lt;mainClass&gt;core.Main&lt;/mainClass&gt;\n    &lt;buildDirectory&gt;${project.basedir}/target&lt;/buildDirectory&gt;\n    &lt;jpackageInputDir&gt;${buildDirectory}/jpackage_inputdir&lt;/jpackageInputDir&gt;\n    &lt;jpackageOutputDir&gt;${buildDirectory}/jpackage_outputdir&lt;/jpackageOutputDir&gt;\n    &lt;jpackageJreDir&gt;${buildDirectory}/jpackage&lt;/jpackageJreDir&gt;\n    &lt;jpackageJreDirMac&gt;${jpackageJreDir}/mac&lt;/jpackageJreDirMac&gt;\n    &lt;jpackageJreDirWin&gt;${jpackageJreDir}/win&lt;/jpackageJreDirWin&gt;\n    &lt;jpackageJreDirLinux&gt;${jpackageJreDir}/linux&lt;/jpackageJreDirLinux&gt;\n    &lt;jpackageJdkDirMac&gt;${jpackageJreDir}/jdk-mac&lt;/jpackageJdkDirMac&gt;\n    &lt;jpackageJdkDirWin&gt;${jpackageJreDir}/jdk-win&lt;/jpackageJdkDirWin&gt;\n    &lt;jpackageJdkDirLinux&gt;${jpackageJreDir}/jdk-linux&lt;/jpackageJdkDirLinux&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Note: all jres/jdks are present in their respective folders.</p>\n<p>The error I get during jpackage goal (full stack trace):</p>\n<pre><code>    [ERROR] Failed to execute goal com.github.akman:jpackage-maven-plugin:0.1.5:jpackage (jpackage deb linux) on project desktop.mainapp: Error: Unable to resolve project dependencies: Cannot run program &quot;/usr/bin/bin/java&quot; (in directory &quot;/tmp/plexus-java_jpms-17951190539128822429&quot;): error=2, No such file or directory -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.github.akman:jpackage-maven-plugin:0.1.5:jpackage (jpackage deb linux) on project desktop.mainapp: Error: Unable to resolve project dependencies\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Error: Unable to resolve project dependencies\n    at ru.akman.maven.plugins.jpackage.JPackageMojo.resolveDependencies (JPackageMojo.java:1330)\n    at ru.akman.maven.plugins.jpackage.JPackageMojo.execute (JPackageMojo.java:1875)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: java.io.IOException: Cannot run program &quot;/usr/bin/bin/java&quot; (in directory &quot;/tmp/plexus-java_jpms-17951190539128822429&quot;): error=2, No such file or directory\n    at java.lang.ProcessBuilder.start (ProcessBuilder.java:1143)\n    at java.lang.ProcessBuilder.start (ProcessBuilder.java:1073)\n    at org.codehaus.plexus.languages.java.jpms.MainClassModuleNameExtractor.extract (MainClassModuleNameExtractor.java:97)\n    at org.codehaus.plexus.languages.java.jpms.LocationManager.resolvePaths (LocationManager.java:235)\n    at ru.akman.maven.plugins.jpackage.JPackageMojo.resolveDependencies (JPackageMojo.java:1328)\n    at ru.akman.maven.plugins.jpackage.JPackageMojo.execute (JPackageMojo.java:1875)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: java.io.IOException: error=2, No such file or directory\n    at java.lang.ProcessImpl.forkAndExec (Native Method)\n    at java.lang.ProcessImpl.&lt;init&gt; (ProcessImpl.java:314)\n    at java.lang.ProcessImpl.start (ProcessImpl.java:244)\n    at java.lang.ProcessBuilder.start (ProcessBuilder.java:1110)\n    at java.lang.ProcessBuilder.start (ProcessBuilder.java:1073)\n    at org.codehaus.plexus.languages.java.jpms.MainClassModuleNameExtractor.extract (MainClassModuleNameExtractor.java:97)\n    at org.codehaus.plexus.languages.java.jpms.LocationManager.resolvePaths (LocationManager.java:235)\n    at ru.akman.maven.plugins.jpackage.JPackageMojo.resolveDependencies (JPackageMojo.java:1328)\n    at ru.akman.maven.plugins.jpackage.JPackageMojo.execute (JPackageMojo.java:1875)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n</code></pre>\n<p>Can someone find out the cause of this error and how to fix it? How to make it work maybe with another plugin or setting? Akman/jpackage-maven-plugin is the only one I find, in which I can define home for java tools, which should allow me to make native runtime images for another operating systems, but as you can see it does not work for some reason.</p>\n"},{"tags":["java","switch-statement","break"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1677740035,"post_id":75612123,"comment_id":133398274,"body_markdown":"because that&#39;s how it is designed. it&#39;s a waterfall system. It executes everything until it reaches the end of the switch block, or the first break statement","body":"because that&#39;s how it is designed. it&#39;s a waterfall system. It executes everything until it reaches the end of the switch block, or the first break statement"}],"answers":[{"tags":[],"owner":{"account_id":27616202,"reputation":25,"user_id":21078205,"display_name":"Gurleen Kaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677740245,"creation_date":1677740245,"answer_id":75612164,"question_id":75612123,"body_markdown":"So basically if break is not added, it will execute all the lines, which we do not need.\r\n\r\nWhat we do instead is add &#39;break&#39;, so when the case is true, the logic gets executed, it breaks out of the conditional (switch) and does not execute any other statements. We just want the &#39;true&#39; case to do its work and rest cases are not of our use.","title":"Why next statements in the switch block after matching a case are executed if break keyword is not used?","body":"<p>So basically if break is not added, it will execute all the lines, which we do not need.</p>\n<p>What we do instead is add 'break', so when the case is true, the logic gets executed, it breaks out of the conditional (switch) and does not execute any other statements. We just want the 'true' case to do its work and rest cases are not of our use.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677740636,"creation_date":1677740300,"answer_id":75612174,"question_id":75612123,"body_markdown":"If you do not want it that way, use Java 17 and write:\r\n```\r\nclass Switch\r\n{\r\n  public static void main( String... args )\r\n  {\r\n    final var x = 2;\r\n    switch( x )\r\n    {\r\n      case 1 -&gt; System.out.println( &quot;1&quot; );\r\n      case 2 -&gt; System.out.println( &quot;2&quot; );\r\n      case 3 -&gt; System.out.println( &quot;3&quot; );\r\n      case 4 -&gt; System.out.println( &quot;4&quot; );\r\n      default -&gt; System.out.println( &quot;invalid&quot; );\r\n    }\r\n  }\r\n}\r\n```\r\nMay be it was introduced even earlier than Java 17 …\r\n\r\nAlternatively, even this would work now:\r\n```\r\nclass Switch\r\n{\r\n  public static void main( String... args )\r\n  {\r\n    final var x = 2;\r\n    System.out.println( switch( x )\r\n      {\r\n        case 1 -&gt; &quot;1&quot;;\r\n        case 2 -&gt; &quot;2&quot;;\r\n        case 3 -&gt; &quot;3&quot;;\r\n        case 4 -&gt; &quot;4&quot;;\r\n        default -&gt; &quot;invalid&quot;;\r\n      } );\r\n  }\r\n}\r\n```\r\nYour version requires the `break` because it was designed that way in Java, and this was done because C/C++ behave that way, too.\r\n\r\nWhy the designers of C as the original source for that behaviour did it that way … no idea.","title":"Why next statements in the switch block after matching a case are executed if break keyword is not used?","body":"<p>If you do not want it that way, use Java 17 and write:</p>\n<pre><code>class Switch\n{\n  public static void main( String... args )\n  {\n    final var x = 2;\n    switch( x )\n    {\n      case 1 -&gt; System.out.println( &quot;1&quot; );\n      case 2 -&gt; System.out.println( &quot;2&quot; );\n      case 3 -&gt; System.out.println( &quot;3&quot; );\n      case 4 -&gt; System.out.println( &quot;4&quot; );\n      default -&gt; System.out.println( &quot;invalid&quot; );\n    }\n  }\n}\n</code></pre>\n<p>May be it was introduced even earlier than Java 17 …</p>\n<p>Alternatively, even this would work now:</p>\n<pre><code>class Switch\n{\n  public static void main( String... args )\n  {\n    final var x = 2;\n    System.out.println( switch( x )\n      {\n        case 1 -&gt; &quot;1&quot;;\n        case 2 -&gt; &quot;2&quot;;\n        case 3 -&gt; &quot;3&quot;;\n        case 4 -&gt; &quot;4&quot;;\n        default -&gt; &quot;invalid&quot;;\n      } );\n  }\n}\n</code></pre>\n<p>Your version requires the <code>break</code> because it was designed that way in Java, and this was done because C/C++ behave that way, too.</p>\n<p>Why the designers of C as the original source for that behaviour did it that way … no idea.</p>\n"}],"owner":{"account_id":26510841,"reputation":9,"user_id":20146121,"display_name":"Rakesh Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677740353,"answer_count":2,"score":0,"last_activity_date":1677740636,"creation_date":1677739978,"question_id":75612123,"body_markdown":"```\r\nclass Switch{\r\n    public static void main(String[] args){\r\n        int x = 2;\r\n        switch(x){\r\n            case 1 : System.out.println(&quot;1&quot;);\r\n            case 2  : System.out.println(&quot;2&quot;);\r\n            case 3 : System.out.println(&quot;3&quot;);\r\n            case 4 :System.out.println(&quot;4&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nWhy the output will be 2 ,3,4 even if the case 3 and case 4 are not matched with the value of x ?\r\n\r\nI know that using break will be printing only 2. But why we have to use break after case 2 as no other cases after it are matching it?","title":"Why next statements in the switch block after matching a case are executed if break keyword is not used?","body":"<pre><code>class Switch{\n    public static void main(String[] args){\n        int x = 2;\n        switch(x){\n            case 1 : System.out.println(&quot;1&quot;);\n            case 2  : System.out.println(&quot;2&quot;);\n            case 3 : System.out.println(&quot;3&quot;);\n            case 4 :System.out.println(&quot;4&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Why the output will be 2 ,3,4 even if the case 3 and case 4 are not matched with the value of x ?</p>\n<p>I know that using break will be printing only 2. But why we have to use break after case 2 as no other cases after it are matching it?</p>\n"},{"tags":["java","time-complexity"],"answers":[{"tags":[],"owner":{"account_id":27613378,"reputation":11,"user_id":21075983,"display_name":"54starr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677731182,"creation_date":1677731182,"answer_id":75611323,"question_id":75611199,"body_markdown":"It&#39;s been a while since I took Data Structures and Algorithms, but I would say that the time complexity for this code is O(n^2).\r\n\r\nThe reason for this is that the for-loop for the integer k isn&#39;t nested inside of the for-loop for the integer j. So what will happen is that you start at the outer for-loop (the one for integer i) and then you go into the for-loop for integer j. Once you&#39;ve completely finished the for-loop for j, you go into the for-loop for the integer k. Once you finish the for-loop for integer k, you reiterate the for-loop for integer i.\r\n\r\nIn order for this code to have a time complexity of O(n^3), the for-loop for integer k would have to be nested inside the for-loop for integer j.\r\n\r\nTo answer your question about how to tell in general, you have to check the number of loops, and how they&#39;re placed in relation to each other - are they nested or are they sequential?\r\nI hope this is helpful.\r\n","title":"Time taken by the loop","body":"<p>It's been a while since I took Data Structures and Algorithms, but I would say that the time complexity for this code is O(n^2).</p>\n<p>The reason for this is that the for-loop for the integer k isn't nested inside of the for-loop for the integer j. So what will happen is that you start at the outer for-loop (the one for integer i) and then you go into the for-loop for integer j. Once you've completely finished the for-loop for j, you go into the for-loop for the integer k. Once you finish the for-loop for integer k, you reiterate the for-loop for integer i.</p>\n<p>In order for this code to have a time complexity of O(n^3), the for-loop for integer k would have to be nested inside the for-loop for integer j.</p>\n<p>To answer your question about how to tell in general, you have to check the number of loops, and how they're placed in relation to each other - are they nested or are they sequential?\nI hope this is helpful.</p>\n"},{"tags":[],"owner":{"account_id":7869458,"reputation":1,"user_id":6028845,"display_name":"ALI.Boulerouah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677732055,"creation_date":1677731695,"answer_id":75611370,"question_id":75611199,"body_markdown":"\r\nCase 1:\r\n  \r\n    for(int i = 0; i &lt; n; i ++){\r\n        \r\n            for(int j = 0; j&lt;n; j++){\r\n            }\r\n        \r\n            for(int k = 0; k&lt;n; k++){           \r\n            }\r\n     \r\n     }\r\n\r\nthe complexity of the case 1 is O((n+n)*n).\r\n\r\ncase 2:\r\n\r\n\r\n    for(int i = 0; i &lt; n; i ++){\r\n        \r\n            for(int j = 0; j&lt;n; j++){\r\n                for(int k = 0; k&lt;n; k++){           \r\n                }\r\n            }    \r\n    }\r\n\r\nThe complexity of the case 2 is O(n*n*n)= O(n^3)","title":"Time taken by the loop","body":"<p>Case 1:</p>\n<pre><code>for(int i = 0; i &lt; n; i ++){\n    \n        for(int j = 0; j&lt;n; j++){\n        }\n    \n        for(int k = 0; k&lt;n; k++){           \n        }\n \n }\n</code></pre>\n<p>the complexity of the case 1 is O((n+n)*n).</p>\n<p>case 2:</p>\n<pre><code>for(int i = 0; i &lt; n; i ++){\n    \n        for(int j = 0; j&lt;n; j++){\n            for(int k = 0; k&lt;n; k++){           \n            }\n        }    \n}\n</code></pre>\n<p>The complexity of the case 2 is O(n<em>n</em>n)= O(n^3)</p>\n"}],"owner":{"account_id":22643536,"reputation":27,"user_id":16819223,"display_name":"Suraj Paudel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678030715,"answer_count":2,"score":0,"last_activity_date":1677740557,"creation_date":1677729522,"question_id":75611199,"body_markdown":"what&#39;s the time complexity of this program and how it is calculated. As per my understanding I think program time complexity is O(n^3).\r\n```\r\n\r\nfor(int i = 0; i &lt; n; i ++)\r\n{\r\n\tfor(int j = 0; j&lt;n; j++)\r\n\t{\r\n\t}\r\n        for(int k = 0; k&lt;n; k++)\r\n\t{  \t\t\t\r\n\t}\r\n}\r\n```\r\nI tried figuring out but sometimes I think n^2 and sometimes n^3.","title":"Time taken by the loop","body":"<p>what's the time complexity of this program and how it is calculated. As per my understanding I think program time complexity is O(n^3).</p>\n<pre><code>\nfor(int i = 0; i &lt; n; i ++)\n{\n    for(int j = 0; j&lt;n; j++)\n    {\n    }\n        for(int k = 0; k&lt;n; k++)\n    {           \n    }\n}\n</code></pre>\n<p>I tried figuring out but sometimes I think n^2 and sometimes n^3.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"score":8,"creation_date":1357907220,"post_id":14278170,"comment_id":19823282,"body_markdown":"Don&#39;t use %. That is for SQL LIKE, not regexp. Use `.*` instead So just `s.matches(&quot;.*[a-zA-Z].*&quot;);`","body":"Don&#39;t use %. That is for SQL LIKE, not regexp. Use <code>.*</code> instead So just <code>s.matches(&quot;.*[a-zA-Z].*&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":83004,"reputation":598,"user_id":233002,"accept_rate":25,"display_name":"Luciano"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1402080399,"creation_date":1357907427,"answer_id":14278256,"question_id":14278170,"body_markdown":"The regular expression you want is `[a-zA-Z]`, but you need to use the `find()` method.\r\n\r\nThis page will let you test regular expressions against input.\r\n\r\n[Regular Expression Test Page][1]\r\n\r\nand here you have a Java Regular Expressions tutorial.\r\n\r\n[Java Regular Expressions tutorial][2]\r\n\r\n\r\n  [1]: http://www.fileformat.info/tool/regex.htm\r\n  [2]: http://www.vogella.com/articles/JavaRegularExpressions/article.html","title":"How to check whether a string contains at least one alphabet in java?","body":"<p>The regular expression you want is <code>[a-zA-Z]</code>, but you need to use the <code>find()</code> method.</p>\n\n<p>This page will let you test regular expressions against input.</p>\n\n<p><a href=\"http://www.fileformat.info/tool/regex.htm\" rel=\"noreferrer\">Regular Expression Test Page</a></p>\n\n<p>and here you have a Java Regular Expressions tutorial.</p>\n\n<p><a href=\"http://www.vogella.com/articles/JavaRegularExpressions/article.html\" rel=\"noreferrer\">Java Regular Expressions tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":1,"up_vote_count":103,"is_accepted":false,"score":102,"last_activity_date":1411229700,"creation_date":1357908767,"answer_id":14278602,"question_id":14278170,"body_markdown":"You can use `.*[a-zA-Z]+.*` with `String.matches()` method.\r\n\r\n    boolean atleastOneAlpha = s.matches(&quot;.*[a-zA-Z]+.*&quot;);","title":"How to check whether a string contains at least one alphabet in java?","body":"<p>You can use <code>.*[a-zA-Z]+.*</code> with <code>String.matches()</code> method.</p>\n\n<pre><code>boolean atleastOneAlpha = s.matches(\".*[a-zA-Z]+.*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9598445,"reputation":412,"user_id":7126848,"display_name":"Muhammad Etisam Zafar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677740551,"creation_date":1677740551,"answer_id":75612210,"question_id":14278170,"body_markdown":"In kotlin\r\n\r\n    val inputString = &quot;Hello123&quot;\r\n    val containsAlphabets = inputString.matches(Regex(&quot;.*[a-zA-Z].*&quot;))\r\n    if (containsAlphabets) {\r\n    println(&quot;The input string contains alphabetic characters.&quot;)\r\n    } else {\r\n    println(&quot;The input string does not contain alphabetic characters.&quot;)\r\n    }","title":"How to check whether a string contains at least one alphabet in java?","body":"<p>In kotlin</p>\n<pre><code>val inputString = &quot;Hello123&quot;\nval containsAlphabets = inputString.matches(Regex(&quot;.*[a-zA-Z].*&quot;))\nif (containsAlphabets) {\nprintln(&quot;The input string contains alphabetic characters.&quot;)\n} else {\nprintln(&quot;The input string does not contain alphabetic characters.&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":418783,"reputation":12613,"user_id":795554,"accept_rate":86,"display_name":"Jignesh Ansodariya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105778,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":14278256,"answer_count":3,"score":40,"last_activity_date":1677740551,"creation_date":1357907153,"question_id":14278170,"body_markdown":"I want such a validation that My String must be contains at least one alphabet.\r\n\r\nI am using the following:\r\n\r\n    String s = &quot;111a11&quot;;\r\n    boolean flag = s.matches(&quot;%[a-zA-Z]%&quot;);\r\n\r\nflag gives me `false`  even though `a` is in my string `s`\r\n","title":"How to check whether a string contains at least one alphabet in java?","body":"<p>I want such a validation that My String must be contains at least one alphabet.</p>\n\n<p>I am using the following:</p>\n\n<pre><code>String s = \"111a11\";\nboolean flag = s.matches(\"%[a-zA-Z]%\");\n</code></pre>\n\n<p>flag gives me <code>false</code>  even though <code>a</code> is in my string <code>s</code></p>\n"},{"tags":["java","pdf","pdf-generation","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1504798491,"creation_date":1431205650,"answer_id":30145023,"question_id":30144632,"body_markdown":"You need to do it the hard way, because the &quot;Tc&quot; operator isn&#39;t supported by the PDPageContentStream class:\r\n\r\n    cs.appendRawCommands(&quot;0.25 Tc\\n&quot;);\r\n\r\nThe SetCharSpacing method you mentioned is for parsing existing PDFs.\r\n\r\nPS: don&#39;t forget to call close after finishing writing to the content stream!\r\n\r\nPPS: `setCharacterSpacing()` is available in version 2.0.4 and higher.","title":"Setting character spacing with PDFBox","body":"<p>You need to do it the hard way, because the \"Tc\" operator isn't supported by the PDPageContentStream class:</p>\n\n<pre><code>cs.appendRawCommands(\"0.25 Tc\\n\");\n</code></pre>\n\n<p>The SetCharSpacing method you mentioned is for parsing existing PDFs.</p>\n\n<p>PS: don't forget to call close after finishing writing to the content stream!</p>\n\n<p>PPS: <code>setCharacterSpacing()</code> is available in version 2.0.4 and higher.</p>\n"},{"tags":[],"owner":{"account_id":16965497,"reputation":332,"user_id":12271495,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677740319,"creation_date":1677740319,"answer_id":75612178,"question_id":30144632,"body_markdown":"You can change the number `10` as you like to have more character spacing.\r\n```java\r\ncontentStream.setCharacterSpacing(10);\r\n```","title":"Setting character spacing with PDFBox","body":"<p>You can change the number <code>10</code> as you like to have more character spacing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>contentStream.setCharacterSpacing(10);\n</code></pre>\n"}],"owner":{"account_id":1279751,"reputation":2677,"user_id":1236799,"accept_rate":80,"display_name":"Dave Clarke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2993,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30145023,"answer_count":2,"score":5,"last_activity_date":1677740319,"creation_date":1431202995,"question_id":30144632,"body_markdown":"I&#39;m currently using Java and the PDFBox library to create some PDFs on the fly.\r\n\r\nI need to be able to set the character spacing/tracking of some text but can&#39;t seem to figure it out.\r\n\r\nIt looks as there is a method to do so : http://ci.apache.org/projects/pdfbox/javadoc/index.html?org/apache/pdfbox/util/operator/SetCharSpacing.html\r\n\r\nBut I&#39;m not quite sure how to apply this in the situation.\r\n\r\n    cs.beginText();\r\n\tcs.setFont( font, fontSize );\r\n\tcs.setNonStrokingColor(color);\r\n\tcs.moveTextPositionByAmount(position[0], position[1]);\r\n\tcs.drawString(text);\r\n\tcs.endText();\r\n\r\nAny help would be appreciated! Thanks.","title":"Setting character spacing with PDFBox","body":"<p>I'm currently using Java and the PDFBox library to create some PDFs on the fly.</p>\n\n<p>I need to be able to set the character spacing/tracking of some text but can't seem to figure it out.</p>\n\n<p>It looks as there is a method to do so : <a href=\"http://ci.apache.org/projects/pdfbox/javadoc/index.html?org/apache/pdfbox/util/operator/SetCharSpacing.html\" rel=\"noreferrer\">http://ci.apache.org/projects/pdfbox/javadoc/index.html?org/apache/pdfbox/util/operator/SetCharSpacing.html</a></p>\n\n<p>But I'm not quite sure how to apply this in the situation.</p>\n\n<pre><code>cs.beginText();\ncs.setFont( font, fontSize );\ncs.setNonStrokingColor(color);\ncs.moveTextPositionByAmount(position[0], position[1]);\ncs.drawString(text);\ncs.endText();\n</code></pre>\n\n<p>Any help would be appreciated! Thanks.</p>\n"},{"tags":["java","modbus-tcp","easy-modbus"],"comments":[{"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"score":0,"creation_date":1617213842,"post_id":66892464,"comment_id":118244672,"body_markdown":"After further digging, I am beginning to suspect that each holding register is somehow mixing up the actual data it is supposed to return with a different holding register&#39;s data.","body":"After further digging, I am beginning to suspect that each holding register is somehow mixing up the actual data it is supposed to return with a different holding register&#39;s data."},{"owner":{"account_id":2345432,"reputation":359,"user_id":2055824,"display_name":"Bosz"},"score":0,"creation_date":1617219377,"post_id":66892464,"comment_id":118246843,"body_markdown":"Can you share the output of `StoreLogData.getInstance().Store(&quot;Receive ModbusTCP-Data: &quot; + Arrays.toString(data));`?","body":"Can you share the output of <code>StoreLogData.getInstance().Store(&quot;Receive ModbusTCP-Data: &quot; + Arrays.toString(data));</code>?"},{"owner":{"account_id":15905511,"reputation":3406,"user_id":11476836,"display_name":"Marcos G."},"score":0,"creation_date":1617265174,"post_id":66892464,"comment_id":118257884,"body_markdown":"I think what you are experiencing is related to the polling time, I don&#39;t see how you are timing on your code. You are probably receiving `SLAVE BUSY` errors that are not properly handled by the Modbus library. How many simultaneous polls to the PLC you have? My two cents of advice: try with [QModMaster](https://sourceforge.net/projects/qmodmaster/), reduce the scanning rate to 250 ms and open as many instances as you have, do you see any errors?","body":"I think what you are experiencing is related to the polling time, I don&#39;t see how you are timing on your code. You are probably receiving <code>SLAVE BUSY</code> errors that are not properly handled by the Modbus library. How many simultaneous polls to the PLC you have? My two cents of advice: try with <a href=\"https://sourceforge.net/projects/qmodmaster/\" rel=\"nofollow noreferrer\">QModMaster</a>, reduce the scanning rate to 250 ms and open as many instances as you have, do you see any errors?"}],"answers":[{"tags":[],"owner":{"account_id":27915693,"reputation":1,"user_id":21316897,"display_name":"user21316897"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677740070,"creation_date":1677740070,"answer_id":75612135,"question_id":66892464,"body_markdown":"I too have the exact same problem and I have not found a way to trap an error.\r\n\r\nWith another library (Fluent Modbus) randomly in the same context I get error messages like &quot;The server has closed the communication unexpectedly&quot;.\r\n\r\nI think it&#39;s the same condition in which Easymodbus returns the zeros.\r\n\r\nSince I open and close the connection every time, it seems to me that there has been an improvement by putting a Sleep of 100 msec after the open, before doing the readings.\r\n\r\nBut it is quite empirical. I don&#39;t know if anyone had the same problem.","title":"EasyModBus modbusClient.ReadHoldingRegisters() returning unexpected 0","body":"<p>I too have the exact same problem and I have not found a way to trap an error.</p>\n<p>With another library (Fluent Modbus) randomly in the same context I get error messages like &quot;The server has closed the communication unexpectedly&quot;.</p>\n<p>I think it's the same condition in which Easymodbus returns the zeros.</p>\n<p>Since I open and close the connection every time, it seems to me that there has been an improvement by putting a Sleep of 100 msec after the open, before doing the readings.</p>\n<p>But it is quite empirical. I don't know if anyone had the same problem.</p>\n"}],"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677740070,"creation_date":1617211506,"question_id":66892464,"body_markdown":"Background:\r\n\r\nWe have been using the Schneider M251 PLC with the TM3AI8, TM3DQ8R and TM3DI8 modules for some time now and I have noticed that we are getting unexpected values being sent over Modbus tcp. \r\n\r\nMost of the time, the signal we receive over the Modbus protocol is in the 4mA range at the lower portion of our expected signal. However, we are seeing an intermittent 0 that is infrequently sent to our java software over modbus tcp using the easy modbus tcp library \r\n\r\nLibrary: http://easymodbustcp.net/en/\r\n\r\nSpecifically, when we call:\r\n\r\nval = modbusClient.ReadHoldingRegisters(3005, 1)[0];\r\n\r\nWe are seeing an intermittent infrequent val = 0 appearing but only infrequently. When I check the PLC software called soMachine, it does not appear to ever show a zero value. Has anyone encountered this kind of issue before? I set up a POU using structure text to count the number of times the IO reading is 0 and apparently it never is. So I think it has something to do with the modbus library. \r\n\r\nI have provided a system.out.println(val) below showing the issue:\r\n\r\n    VAL IS THIS NOW: 3995\r\n    VAL IS THIS NOW: 3989\r\n    VAL IS THIS NOW: 3995\r\n    VAL IS THIS NOW: 3995\r\n    VAL IS THIS NOW: 3986\r\n    VAL IS THIS NOW: 3998\r\n    VAL IS THIS NOW: 3992\r\n    VAL IS THIS NOW: 3989\r\n    VAL IS THIS NOW: 3998\r\n    VAL IS THIS NOW: 3995\r\n    VAL IS THIS NOW: 0        &lt;- Random intermittent 0\r\n    VAL IS THIS NOW: 3986\r\n    VAL IS THIS NOW: 3998\r\n    VAL IS THIS NOW: 3992\r\n    VAL IS THIS NOW: 3989\r\n    VAL IS THIS NOW: 3995\r\n    VAL IS THIS NOW: 3989\r\n    VAL IS THIS NOW: 3989 \r\n\r\nThe I/O config on the plc is 0-20mA extended and the sensor is A 4-20mA sensor. A zero reading on our unit scale represents -2500units which poses an issue for our system given it represents a large discrepancy in our measurement. We are using the diagnostic bits which are available on the Schneider card as well as well to detect sensor faults. However, the sensor does not appear to be faulty and is working fine.\r\n\r\nAs you can see, the signal off the IO card is a bit noisy as well. A multimeter does not fluctuate when reading the voltage for this sensor and it is really stable on our multimeters at the 3.989mV range. \r\n\r\nWhen we see the intermittent 0&#39;s printed to the console, we do not see the 0&#39;s in soMachine. Further, the method polling for the values is being called every 250ms.\r\n\r\nWe have resorted to the following &quot;filter&quot; but it is not an ideal solution to the issue.\r\n\r\n    static int pt05ErrorCount = 0, pt05lastVal;\r\n    private static double readRegister3005() throws IOException{\r\n        try {\r\n        int val;\r\n        if(PLC.isConnected()) {\r\n            val = modbusClient.ReadHoldingRegisters(3005, 1)[0];\r\n    \r\n            if(val &gt; 0) {\r\n                pt05ErrorCount = 0;\r\n                pt05lastVal = val;\r\n            }\r\n        }else {\r\n            val = -1000;\r\n        }\r\n        System.out.println(&quot;VAL IS THIS NOW: &quot;+val);\r\n        if(val &gt; 0) {\r\n            return (double) (10000-0)/(20-4)*((double) val/1000-4)+0; //convert mA to psig\r\n        }else {\r\n            if(pt05ErrorCount &gt; maxErrorCount) {\r\n            pt05ErrorCount++;\r\n            return (double) (10000-0)/(20-4)*((double) val/1000-4)+0;\r\n        }else {\r\n            return (double) (10000-0)/(20-4)*((double) pt05lastVal/1000-4)+0;\r\n        }\r\n        }\r\n        } catch(Exception e) {\r\n            System.out.println(e);\r\n            throw new IOException(Globals.getSystemCalendarDateandTime() + &quot; PLC.java &gt; readRegister3005(): ERROR reading PLC address 3005.&quot;);\r\n        }\r\n    }\r\n\r\nPlease let me know if you require more information about the issue.\r\n\r\nThe ReadHoldingRegisters method is as follows:\r\n\r\n  \r\n\r\n     /**\r\n            * Read Holding Registers from Server\r\n            * @param        startingAddress      Fist Address to read; Shifted by -1\t\r\n            * @param        quantity            Number of Inputs to read\r\n            * @return       Holding Registers from Server\r\n            * @throws de.re.easymodbus.exceptions.ModbusException\r\n            * @throws UnknownHostException\r\n            * @throws SocketException\r\n            * @throws SerialPortTimeoutException \r\n            * @throws SerialPortException \r\n            */\r\n    \tpublic int[] ReadHoldingRegisters(int startingAddress, int quantity) throws de.re.easymodbus.exceptions.ModbusException,\r\n                    UnknownHostException, SocketException, IOException, SerialPortException, SerialPortTimeoutException\r\n    \t{\r\n    \t\tif (tcpClientSocket == null)\r\n    \t\t\tthrow new de.re.easymodbus.exceptions.ConnectionException(&quot;connection Error&quot;);\r\n    \t\tif (startingAddress &gt; 65535 | quantity &gt; 125)\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Starting adress must be 0 - 65535; quantity must be 0 - 125&quot;);\r\n    \t\tint[] response = new int[quantity];\r\n    \t\tthis.transactionIdentifier = toByteArray(0x0001);\r\n    \t\tthis.protocolIdentifier = toByteArray(0x0000);\r\n    \t\tthis.length = toByteArray(0x0006);\r\n    \t\t//serialdata = this.unitIdentifier;\r\n    \t\tthis.functionCode = 0x03;\r\n    \t\tthis.startingAddress = toByteArray(startingAddress);\r\n    \t\tthis.quantity = toByteArray(quantity);\r\n    \r\n    \t\tbyte[] data = new byte[]\r\n    \t\t\t\t{\r\n    \t\t\t\t\tthis.transactionIdentifier[1],\r\n    \t\t\t\t\tthis.transactionIdentifier[0],\r\n    \t\t\t\t\tthis.protocolIdentifier[1],\r\n    \t\t\t\t\tthis.protocolIdentifier[0],\r\n    \t\t\t\t\tthis.length[1],\r\n    \t\t\t\t\tthis.length[0],\r\n    \t\t\t\t\tthis.unitIdentifier,\r\n    \t\t\t\t\tthis.functionCode,\r\n    \t\t\t\t\tthis.startingAddress[1],\r\n    \t\t\t\t\tthis.startingAddress[0],\r\n    \t\t\t\t\tthis.quantity[1],\r\n    \t\t\t\t\tthis.quantity[0],\r\n                        this.crc[0],\r\n                        this.crc[1]\t\t\r\n    \t\t\t\t};\r\n                \r\n                if (this.serialflag)\r\n                {\r\n                    crc = calculateCRC(data, 6, 6);\r\n                    data[data.length -2] = crc[0];\r\n                    data[data.length -1] = crc[1];\r\n                }\r\n                byte[] serialdata = null;   \r\n                if (serialflag)\r\n                {          \r\n                \tserialdata = new byte[8];\r\n                \tjava.lang.System.arraycopy(data, 6,serialdata,0,8);\r\n            \t\tserialPort.purgePort(SerialPort.PURGE_RXCLEAR);\r\n            \t\tserialPort.writeBytes(serialdata);\r\n            \t\tif (debug) StoreLogData.getInstance().Store(&quot;Send Serial-Data: &quot;+ Arrays.toString(serialdata));\r\n                   long dateTimeSend = DateTime.getDateTimeTicks();\r\n                   byte receivedUnitIdentifier = (byte)0xFF;\r\n                   serialdata = new byte[256];\r\n                   int expectedlength = 5+2*quantity;\r\n                   while (receivedUnitIdentifier != this.unitIdentifier &amp; !((DateTime.getDateTimeTicks() - dateTimeSend) &gt; 10000 * this.connectTimeout))\r\n                   {\r\n                \t   serialdata = serialPort.readBytes(expectedlength, this.connectTimeout); \r\n                   \r\n                \t   receivedUnitIdentifier = serialdata[0];\r\n                   }\r\n                   if (receivedUnitIdentifier != this.unitIdentifier)\r\n                   {\r\n                        data = new byte[256];                       \r\n                   }\r\n                   if (serialdata != null)\r\n                   {\r\n                       data = new byte[262]; \r\n                       System.arraycopy(serialdata, 0, data, 6, serialdata.length);\r\n                       if (debug) StoreLogData.getInstance().Store(&quot;Receive ModbusRTU-Data: &quot; + Arrays.toString(data));\r\n                   }\r\n                    for (int i = 0; i &lt; quantity; i++)\r\n                    {\r\n                        byte[] bytes = new byte[2];\r\n                        bytes[0] = data[3+i*2];\r\n                        bytes[1] = data[3+i*2+1];\r\n                        ByteBuffer byteBuffer = ByteBuffer.wrap(bytes);\t\t\t\t\t\t\r\n                        response[i] = byteBuffer.getShort();\r\n    \t\t}\t\r\n                }\r\n    \r\n                    \r\n    \t\tif (tcpClientSocket.isConnected() | udpFlag)\r\n    \t\t{\r\n    \t\t\tif (udpFlag)\r\n    \t\t\t{\r\n    \t\t\t\tInetAddress ipAddress = InetAddress.getByName(this.ipAddress);\r\n    \t\t\t\tDatagramPacket sendPacket = new DatagramPacket(data, data.length, ipAddress, this.port);\r\n    \t\t\t\tDatagramSocket clientSocket = new DatagramSocket();\r\n    \t\t\t\tclientSocket.setSoTimeout(500);\r\n    \t\t\t    clientSocket.send(sendPacket);\r\n    \t\t\t    data = new byte[2100];\r\n    \t\t\t    DatagramPacket receivePacket = new DatagramPacket(data, data.length);\r\n    \t\t\t    clientSocket.receive(receivePacket);\r\n    \t\t\t    clientSocket.close();\r\n    \t\t\t    data = receivePacket.getData();\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\toutStream.write(data, 0, data.length-2);\r\n            \t\tif (debug) StoreLogData.getInstance().Store(&quot;Send ModbusTCP-Data: &quot;+Arrays.toString(data));   \r\n    \t\t\t\tif (sendDataChangedListener.size() &gt; 0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tsendData = new byte[data.length-2];\r\n    \t\t\t\t\tSystem.arraycopy(data, 0, sendData, 0, data.length-2);\r\n    \t\t\t\t\tfor (SendDataChangedListener hl : sendDataChangedListener)\r\n    \t\t\t\t\t\thl.SendDataChanged();\r\n    \t\t\t\t}\r\n    \t\t\t\tdata = new byte[2100];\r\n    \t\t\t\tint numberOfBytes = inStream.read(data, 0, data.length);\r\n    \t\t\t\tif (receiveDataChangedListener.size() &gt; 0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\treceiveData = new byte[numberOfBytes];\r\n    \t\t\t\t\tSystem.arraycopy(data, 0, receiveData, 0, numberOfBytes);\r\n    \t\t\t\t\tfor (ReceiveDataChangedListener hl : receiveDataChangedListener)\r\n    \t\t\t\t\t\thl.ReceiveDataChanged();\r\n    \t\t\t\t\tif (debug) StoreLogData.getInstance().Store(&quot;Receive ModbusTCP-Data: &quot; + Arrays.toString(data));\r\n    \t\t\t\t}\r\n                            }\r\n    \t\t\t}\r\n    \t\t\tif (((int) data[7]) == 0x83 &amp; ((int) data[8]) == 0x01)\r\n    \t\t\t{\r\n    \t\t\t\tif (debug) StoreLogData.getInstance().Store(&quot;FunctionCodeNotSupportedException Throwed&quot;);\r\n    \t\t\t\tthrow new de.re.easymodbus.exceptions.FunctionCodeNotSupportedException(&quot;Function code not supported by master&quot;);\r\n    \t\t\t}\r\n    \t\t\tif (((int) data[7]) == 0x83 &amp; ((int) data[8]) == 0x02)\r\n    \t\t\t{\r\n    \t\t\t\tif (debug) StoreLogData.getInstance().Store(&quot;Starting adress invalid or starting adress + quantity invalid&quot;);\r\n    \t\t\t\tthrow new de.re.easymodbus.exceptions.StartingAddressInvalidException(&quot;Starting adress invalid or starting adress + quantity invalid&quot;);\r\n    \t\t\t}\t\t\t\r\n    \t\t\tif (((int) data[7]) == 0x83 &amp; ((int) data[8]) == 0x03)\r\n    \t\t\t{\r\n    \t\t\t\tif (debug) StoreLogData.getInstance().Store(&quot;Quantity invalid&quot;);\r\n    \t\t\t\tthrow new de.re.easymodbus.exceptions.QuantityInvalidException(&quot;Quantity invalid&quot;);\r\n    \t\t\t}\r\n    \t\t\tif (((int) data[7]) == 0x83 &amp; ((int) data[8]) == 0x04)\r\n    \t\t\t{\r\n    \t\t\t\tif (debug) StoreLogData.getInstance().Store(&quot;Error reading&quot;);\r\n    \t\t\t\tthrow new de.re.easymodbus.exceptions.ModbusException(&quot;Error reading&quot;);\r\n    \t\t\t}\r\n    \t\t\tfor (int i = 0; i &lt; quantity; i++)\r\n    \t\t\t{\r\n    \t\t\t\tbyte[] bytes = new byte[2];\r\n    \t\t\t\tbytes[0] = data[9+i*2];\r\n    \t\t\t\tbytes[1] = data[9+i*2+1];\r\n    \t\t\t\tByteBuffer byteBuffer = ByteBuffer.wrap(bytes);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\tresponse[i] = byteBuffer.getShort();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\r\n    \t\treturn (response);\r\n    \t}\r\n\r\nRegards,","title":"EasyModBus modbusClient.ReadHoldingRegisters() returning unexpected 0","body":"<p>Background:</p>\n<p>We have been using the Schneider M251 PLC with the TM3AI8, TM3DQ8R and TM3DI8 modules for some time now and I have noticed that we are getting unexpected values being sent over Modbus tcp.</p>\n<p>Most of the time, the signal we receive over the Modbus protocol is in the 4mA range at the lower portion of our expected signal. However, we are seeing an intermittent 0 that is infrequently sent to our java software over modbus tcp using the easy modbus tcp library</p>\n<p>Library: <a href=\"http://easymodbustcp.net/en/\" rel=\"nofollow noreferrer\">http://easymodbustcp.net/en/</a></p>\n<p>Specifically, when we call:</p>\n<p>val = modbusClient.ReadHoldingRegisters(3005, 1)[0];</p>\n<p>We are seeing an intermittent infrequent val = 0 appearing but only infrequently. When I check the PLC software called soMachine, it does not appear to ever show a zero value. Has anyone encountered this kind of issue before? I set up a POU using structure text to count the number of times the IO reading is 0 and apparently it never is. So I think it has something to do with the modbus library.</p>\n<p>I have provided a system.out.println(val) below showing the issue:</p>\n<pre><code>VAL IS THIS NOW: 3995\nVAL IS THIS NOW: 3989\nVAL IS THIS NOW: 3995\nVAL IS THIS NOW: 3995\nVAL IS THIS NOW: 3986\nVAL IS THIS NOW: 3998\nVAL IS THIS NOW: 3992\nVAL IS THIS NOW: 3989\nVAL IS THIS NOW: 3998\nVAL IS THIS NOW: 3995\nVAL IS THIS NOW: 0        &lt;- Random intermittent 0\nVAL IS THIS NOW: 3986\nVAL IS THIS NOW: 3998\nVAL IS THIS NOW: 3992\nVAL IS THIS NOW: 3989\nVAL IS THIS NOW: 3995\nVAL IS THIS NOW: 3989\nVAL IS THIS NOW: 3989 \n</code></pre>\n<p>The I/O config on the plc is 0-20mA extended and the sensor is A 4-20mA sensor. A zero reading on our unit scale represents -2500units which poses an issue for our system given it represents a large discrepancy in our measurement. We are using the diagnostic bits which are available on the Schneider card as well as well to detect sensor faults. However, the sensor does not appear to be faulty and is working fine.</p>\n<p>As you can see, the signal off the IO card is a bit noisy as well. A multimeter does not fluctuate when reading the voltage for this sensor and it is really stable on our multimeters at the 3.989mV range.</p>\n<p>When we see the intermittent 0's printed to the console, we do not see the 0's in soMachine. Further, the method polling for the values is being called every 250ms.</p>\n<p>We have resorted to the following &quot;filter&quot; but it is not an ideal solution to the issue.</p>\n<pre><code>static int pt05ErrorCount = 0, pt05lastVal;\nprivate static double readRegister3005() throws IOException{\n    try {\n    int val;\n    if(PLC.isConnected()) {\n        val = modbusClient.ReadHoldingRegisters(3005, 1)[0];\n\n        if(val &gt; 0) {\n            pt05ErrorCount = 0;\n            pt05lastVal = val;\n        }\n    }else {\n        val = -1000;\n    }\n    System.out.println(&quot;VAL IS THIS NOW: &quot;+val);\n    if(val &gt; 0) {\n        return (double) (10000-0)/(20-4)*((double) val/1000-4)+0; //convert mA to psig\n    }else {\n        if(pt05ErrorCount &gt; maxErrorCount) {\n        pt05ErrorCount++;\n        return (double) (10000-0)/(20-4)*((double) val/1000-4)+0;\n    }else {\n        return (double) (10000-0)/(20-4)*((double) pt05lastVal/1000-4)+0;\n    }\n    }\n    } catch(Exception e) {\n        System.out.println(e);\n        throw new IOException(Globals.getSystemCalendarDateandTime() + &quot; PLC.java &gt; readRegister3005(): ERROR reading PLC address 3005.&quot;);\n    }\n}\n</code></pre>\n<p>Please let me know if you require more information about the issue.</p>\n<p>The ReadHoldingRegisters method is as follows:</p>\n<pre><code> /**\n        * Read Holding Registers from Server\n        * @param        startingAddress      Fist Address to read; Shifted by -1    \n        * @param        quantity            Number of Inputs to read\n        * @return       Holding Registers from Server\n        * @throws de.re.easymodbus.exceptions.ModbusException\n        * @throws UnknownHostException\n        * @throws SocketException\n        * @throws SerialPortTimeoutException \n        * @throws SerialPortException \n        */\n    public int[] ReadHoldingRegisters(int startingAddress, int quantity) throws de.re.easymodbus.exceptions.ModbusException,\n                UnknownHostException, SocketException, IOException, SerialPortException, SerialPortTimeoutException\n    {\n        if (tcpClientSocket == null)\n            throw new de.re.easymodbus.exceptions.ConnectionException(&quot;connection Error&quot;);\n        if (startingAddress &gt; 65535 | quantity &gt; 125)\n            throw new IllegalArgumentException(&quot;Starting adress must be 0 - 65535; quantity must be 0 - 125&quot;);\n        int[] response = new int[quantity];\n        this.transactionIdentifier = toByteArray(0x0001);\n        this.protocolIdentifier = toByteArray(0x0000);\n        this.length = toByteArray(0x0006);\n        //serialdata = this.unitIdentifier;\n        this.functionCode = 0x03;\n        this.startingAddress = toByteArray(startingAddress);\n        this.quantity = toByteArray(quantity);\n\n        byte[] data = new byte[]\n                {\n                    this.transactionIdentifier[1],\n                    this.transactionIdentifier[0],\n                    this.protocolIdentifier[1],\n                    this.protocolIdentifier[0],\n                    this.length[1],\n                    this.length[0],\n                    this.unitIdentifier,\n                    this.functionCode,\n                    this.startingAddress[1],\n                    this.startingAddress[0],\n                    this.quantity[1],\n                    this.quantity[0],\n                    this.crc[0],\n                    this.crc[1]     \n                };\n            \n            if (this.serialflag)\n            {\n                crc = calculateCRC(data, 6, 6);\n                data[data.length -2] = crc[0];\n                data[data.length -1] = crc[1];\n            }\n            byte[] serialdata = null;   \n            if (serialflag)\n            {          \n                serialdata = new byte[8];\n                java.lang.System.arraycopy(data, 6,serialdata,0,8);\n                serialPort.purgePort(SerialPort.PURGE_RXCLEAR);\n                serialPort.writeBytes(serialdata);\n                if (debug) StoreLogData.getInstance().Store(&quot;Send Serial-Data: &quot;+ Arrays.toString(serialdata));\n               long dateTimeSend = DateTime.getDateTimeTicks();\n               byte receivedUnitIdentifier = (byte)0xFF;\n               serialdata = new byte[256];\n               int expectedlength = 5+2*quantity;\n               while (receivedUnitIdentifier != this.unitIdentifier &amp; !((DateTime.getDateTimeTicks() - dateTimeSend) &gt; 10000 * this.connectTimeout))\n               {\n                   serialdata = serialPort.readBytes(expectedlength, this.connectTimeout); \n               \n                   receivedUnitIdentifier = serialdata[0];\n               }\n               if (receivedUnitIdentifier != this.unitIdentifier)\n               {\n                    data = new byte[256];                       \n               }\n               if (serialdata != null)\n               {\n                   data = new byte[262]; \n                   System.arraycopy(serialdata, 0, data, 6, serialdata.length);\n                   if (debug) StoreLogData.getInstance().Store(&quot;Receive ModbusRTU-Data: &quot; + Arrays.toString(data));\n               }\n                for (int i = 0; i &lt; quantity; i++)\n                {\n                    byte[] bytes = new byte[2];\n                    bytes[0] = data[3+i*2];\n                    bytes[1] = data[3+i*2+1];\n                    ByteBuffer byteBuffer = ByteBuffer.wrap(bytes);                     \n                    response[i] = byteBuffer.getShort();\n        }   \n            }\n\n                \n        if (tcpClientSocket.isConnected() | udpFlag)\n        {\n            if (udpFlag)\n            {\n                InetAddress ipAddress = InetAddress.getByName(this.ipAddress);\n                DatagramPacket sendPacket = new DatagramPacket(data, data.length, ipAddress, this.port);\n                DatagramSocket clientSocket = new DatagramSocket();\n                clientSocket.setSoTimeout(500);\n                clientSocket.send(sendPacket);\n                data = new byte[2100];\n                DatagramPacket receivePacket = new DatagramPacket(data, data.length);\n                clientSocket.receive(receivePacket);\n                clientSocket.close();\n                data = receivePacket.getData();\n            }\n            else\n            {\n                outStream.write(data, 0, data.length-2);\n                if (debug) StoreLogData.getInstance().Store(&quot;Send ModbusTCP-Data: &quot;+Arrays.toString(data));   \n                if (sendDataChangedListener.size() &gt; 0)\n                {\n                    sendData = new byte[data.length-2];\n                    System.arraycopy(data, 0, sendData, 0, data.length-2);\n                    for (SendDataChangedListener hl : sendDataChangedListener)\n                        hl.SendDataChanged();\n                }\n                data = new byte[2100];\n                int numberOfBytes = inStream.read(data, 0, data.length);\n                if (receiveDataChangedListener.size() &gt; 0)\n                {\n                    receiveData = new byte[numberOfBytes];\n                    System.arraycopy(data, 0, receiveData, 0, numberOfBytes);\n                    for (ReceiveDataChangedListener hl : receiveDataChangedListener)\n                        hl.ReceiveDataChanged();\n                    if (debug) StoreLogData.getInstance().Store(&quot;Receive ModbusTCP-Data: &quot; + Arrays.toString(data));\n                }\n                        }\n            }\n            if (((int) data[7]) == 0x83 &amp; ((int) data[8]) == 0x01)\n            {\n                if (debug) StoreLogData.getInstance().Store(&quot;FunctionCodeNotSupportedException Throwed&quot;);\n                throw new de.re.easymodbus.exceptions.FunctionCodeNotSupportedException(&quot;Function code not supported by master&quot;);\n            }\n            if (((int) data[7]) == 0x83 &amp; ((int) data[8]) == 0x02)\n            {\n                if (debug) StoreLogData.getInstance().Store(&quot;Starting adress invalid or starting adress + quantity invalid&quot;);\n                throw new de.re.easymodbus.exceptions.StartingAddressInvalidException(&quot;Starting adress invalid or starting adress + quantity invalid&quot;);\n            }           \n            if (((int) data[7]) == 0x83 &amp; ((int) data[8]) == 0x03)\n            {\n                if (debug) StoreLogData.getInstance().Store(&quot;Quantity invalid&quot;);\n                throw new de.re.easymodbus.exceptions.QuantityInvalidException(&quot;Quantity invalid&quot;);\n            }\n            if (((int) data[7]) == 0x83 &amp; ((int) data[8]) == 0x04)\n            {\n                if (debug) StoreLogData.getInstance().Store(&quot;Error reading&quot;);\n                throw new de.re.easymodbus.exceptions.ModbusException(&quot;Error reading&quot;);\n            }\n            for (int i = 0; i &lt; quantity; i++)\n            {\n                byte[] bytes = new byte[2];\n                bytes[0] = data[9+i*2];\n                bytes[1] = data[9+i*2+1];\n                ByteBuffer byteBuffer = ByteBuffer.wrap(bytes);\n                        \n                response[i] = byteBuffer.getShort();\n            }\n            \n        \n        return (response);\n    }\n</code></pre>\n<p>Regards,</p>\n"},{"tags":["java","arrays","string"],"owner":{"account_id":27791496,"reputation":1,"user_id":21217852,"display_name":"Rauhan Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677740008,"creation_date":1677740008,"question_id":75612127,"body_markdown":"So basically I got my whole assignment code working but I overlooked one thing but now when I am trying to add the username for the following function I keep getting a red line; I tried asking an AI for help but that didnt help at all.\r\n\r\n```\r\nprivate void buybtnActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        String itemName = JOptionPane.showInputDialog(null, &quot;Enter item name:&quot;);\r\n        String quantityStr = JOptionPane.showInputDialog(null, &quot;Enter quantity:&quot;);\r\n        int quantity = Integer.parseInt(quantityStr);\r\n\r\n        try {\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;shirts.txt&quot;));\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] parts = line.split(&quot; &quot;);\r\n                String name = parts[0];\r\n                double price = Double.parseDouble(parts[1]);\r\n                int stock = Integer.parseInt(parts[2]);\r\n                    if (name.equals(itemName)) {\r\n                        if (stock &gt;= quantity) {\r\n                        double totalPrice = price * quantity;\r\n                        DefaultTableModel dm = (DefaultTableModel)tblorder.getModel();\r\n                        dm.addRow(new Object[]{CuzUser, itemName, price, quantity, totalPrice, &quot;Waiting&quot;});\r\n                        JOptionPane.showMessageDialog(null, &quot;Your Payment has been confirmed and a delivery staff will deliver your items as soon as possible.&quot;);\r\n                            try {\r\n                                FileWriter fw = new FileWriter(&quot;order.txt&quot;, true);\r\n                                BufferedWriter bw = new BufferedWriter(fw);\r\n                                bw.write(CuzUser + &quot; &quot; +itemName + &quot; &quot; + price + &quot; &quot; + quantity + &quot; &quot; + totalPrice + &quot; Waiting&quot;);\r\n                                bw.newLine();\r\n                                bw.close();\r\n                                fw.close();\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            int newStock = stock - quantity;\r\n                        if (newStock &lt; 100) {\r\n                            newStock = 100; // restock to a minimum of 100\r\n                            updateShirtStock(name + &quot; &quot; + price + &quot; &quot; + newStock);\r\n                            updateShirtTable();\r\n                        } else {\r\n                            updateShirtStock(line);\r\n                        }\r\n                        int row = dm.getRowCount() - 1;\r\n                        dm.setValueAt(&quot;Waiting&quot;, row, 4);\r\n                        return;\r\n                        } else {\r\n                            JOptionPane.showMessageDialog(null, &quot;Not enough stock.&quot;);\r\n                        return;\r\n                    }\r\n                \r\n                    }\r\n            }\r\n                JOptionPane.showMessageDialog(null, &quot;Item not found.&quot;);\r\n            }\r\n            catch (IOException Ex){\r\n        \r\n        }\r\n}\r\n\r\nprivate void updateShirtStock(String updatedLine) {\r\n    try {\r\n        Path path = Paths.get(&quot;shirts.txt&quot;);\r\n        List&lt;String&gt; lines = Files.readAllLines(path);\r\n        for (int i = 0; i &lt; lines.size(); i++) {\r\n            String line = lines.get(i);\r\n            String name = line.split(&quot; &quot;)[0];\r\n            if (name.equals(updatedLine.split(&quot; &quot;)[0])) {\r\n                lines.set(i, updatedLine);\r\n                Files.write(path, lines);\r\n                return;\r\n            }\r\n        }\r\n    } catch (IOException ex) {\r\n        JOptionPane.showMessageDialog(null, &quot;Error updating shirts file.&quot;);\r\n    }\r\n}\r\n\r\nprivate void updateShirtTable() {\r\n    try {\r\n        BufferedReader br = new BufferedReader(new FileReader(&quot;shirts.txt&quot;));\r\n        DefaultTableModel dm = (DefaultTableModel)tblshirt.getModel();\r\n        dm.setRowCount(0);\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            String[] parts = line.split(&quot; &quot;);\r\n            dm.addRow(parts);\r\n        }\r\n    } catch (IOException ex) {\r\n        JOptionPane.showMessageDialog(null, &quot;Error reading shirts file.&quot;);\r\n    } catch (NumberFormatException ex) {\r\n        JOptionPane.showMessageDialog(null, &quot;Invalid data in shirts file.&quot;);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nSo this is my part of the code which I want to modify. At the moment if I remove the &#39;CuzUser&#39; variable the code works perfectly fine but since one of the requirements of the assignment is that the purchase history section of the assignment should only display for that particular customer which is logged in.\r\n\r\nI added the import for my Customer class and then proceeded to add the &#39;CuzUser&#39; variable which I have defined there and then call it in the code. I tried 2 different ways:\r\n\r\n1) Putting in a &quot;String CuzUser = parts\\[0\\]; and then added &quot;if (name.equals(itemName) &amp;&amp; (CuzUser.equals(CuzUser)); and added the CuzUser in the dm.addRow line and in the bw.write line.\r\n\r\n2) and in the second one I just removed the String CuzUser = parts\\[0\\] and then the compiler gave me an error.\r\n\r\nSo I would appreciate if anyone can point out the mistake in my code and if you need anyother codes for reference please do tell me and I will be happy to post it here.","title":"How do I validate a particular customers username which is already stored in my customer.txt file to a buy option on my GUI source code?","body":"<p>So basically I got my whole assignment code working but I overlooked one thing but now when I am trying to add the username for the following function I keep getting a red line; I tried asking an AI for help but that didnt help at all.</p>\n<pre><code>private void buybtnActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        String itemName = JOptionPane.showInputDialog(null, &quot;Enter item name:&quot;);\n        String quantityStr = JOptionPane.showInputDialog(null, &quot;Enter quantity:&quot;);\n        int quantity = Integer.parseInt(quantityStr);\n\n        try {\n            BufferedReader br = new BufferedReader(new FileReader(&quot;shirts.txt&quot;));\n            String line;\n            while ((line = br.readLine()) != null) {\n                String[] parts = line.split(&quot; &quot;);\n                String name = parts[0];\n                double price = Double.parseDouble(parts[1]);\n                int stock = Integer.parseInt(parts[2]);\n                    if (name.equals(itemName)) {\n                        if (stock &gt;= quantity) {\n                        double totalPrice = price * quantity;\n                        DefaultTableModel dm = (DefaultTableModel)tblorder.getModel();\n                        dm.addRow(new Object[]{CuzUser, itemName, price, quantity, totalPrice, &quot;Waiting&quot;});\n                        JOptionPane.showMessageDialog(null, &quot;Your Payment has been confirmed and a delivery staff will deliver your items as soon as possible.&quot;);\n                            try {\n                                FileWriter fw = new FileWriter(&quot;order.txt&quot;, true);\n                                BufferedWriter bw = new BufferedWriter(fw);\n                                bw.write(CuzUser + &quot; &quot; +itemName + &quot; &quot; + price + &quot; &quot; + quantity + &quot; &quot; + totalPrice + &quot; Waiting&quot;);\n                                bw.newLine();\n                                bw.close();\n                                fw.close();\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                            int newStock = stock - quantity;\n                        if (newStock &lt; 100) {\n                            newStock = 100; // restock to a minimum of 100\n                            updateShirtStock(name + &quot; &quot; + price + &quot; &quot; + newStock);\n                            updateShirtTable();\n                        } else {\n                            updateShirtStock(line);\n                        }\n                        int row = dm.getRowCount() - 1;\n                        dm.setValueAt(&quot;Waiting&quot;, row, 4);\n                        return;\n                        } else {\n                            JOptionPane.showMessageDialog(null, &quot;Not enough stock.&quot;);\n                        return;\n                    }\n                \n                    }\n            }\n                JOptionPane.showMessageDialog(null, &quot;Item not found.&quot;);\n            }\n            catch (IOException Ex){\n        \n        }\n}\n\nprivate void updateShirtStock(String updatedLine) {\n    try {\n        Path path = Paths.get(&quot;shirts.txt&quot;);\n        List&lt;String&gt; lines = Files.readAllLines(path);\n        for (int i = 0; i &lt; lines.size(); i++) {\n            String line = lines.get(i);\n            String name = line.split(&quot; &quot;)[0];\n            if (name.equals(updatedLine.split(&quot; &quot;)[0])) {\n                lines.set(i, updatedLine);\n                Files.write(path, lines);\n                return;\n            }\n        }\n    } catch (IOException ex) {\n        JOptionPane.showMessageDialog(null, &quot;Error updating shirts file.&quot;);\n    }\n}\n\nprivate void updateShirtTable() {\n    try {\n        BufferedReader br = new BufferedReader(new FileReader(&quot;shirts.txt&quot;));\n        DefaultTableModel dm = (DefaultTableModel)tblshirt.getModel();\n        dm.setRowCount(0);\n        String line;\n        while ((line = br.readLine()) != null) {\n            String[] parts = line.split(&quot; &quot;);\n            dm.addRow(parts);\n        }\n    } catch (IOException ex) {\n        JOptionPane.showMessageDialog(null, &quot;Error reading shirts file.&quot;);\n    } catch (NumberFormatException ex) {\n        JOptionPane.showMessageDialog(null, &quot;Invalid data in shirts file.&quot;);\n    }\n    \n}\n</code></pre>\n<p>So this is my part of the code which I want to modify. At the moment if I remove the 'CuzUser' variable the code works perfectly fine but since one of the requirements of the assignment is that the purchase history section of the assignment should only display for that particular customer which is logged in.</p>\n<p>I added the import for my Customer class and then proceeded to add the 'CuzUser' variable which I have defined there and then call it in the code. I tried 2 different ways:</p>\n<ol>\n<li><p>Putting in a &quot;String CuzUser = parts[0]; and then added &quot;if (name.equals(itemName) &amp;&amp; (CuzUser.equals(CuzUser)); and added the CuzUser in the dm.addRow line and in the bw.write line.</p>\n</li>\n<li><p>and in the second one I just removed the String CuzUser = parts[0] and then the compiler gave me an error.</p>\n</li>\n</ol>\n<p>So I would appreciate if anyone can point out the mistake in my code and if you need anyother codes for reference please do tell me and I will be happy to post it here.</p>\n"},{"tags":["java","list","collections","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1677711640,"post_id":75609829,"comment_id":133394474,"body_markdown":"Note that you can use `partitioningBy()` instead of `groupingBy()`.","body":"Note that you can use <code>partitioningBy()</code> instead of <code>groupingBy()</code>."},{"owner":{"account_id":5487398,"reputation":1775,"user_id":4361749,"accept_rate":82,"display_name":"Joel"},"score":0,"creation_date":1677713360,"post_id":75609829,"comment_id":133394797,"body_markdown":"yes, I have seen that somewhere as well, but I have a map, that I need to flatten again, right?","body":"yes, I have seen that somewhere as well, but I have a map, that I need to flatten again, right?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1677713403,"post_id":75609829,"comment_id":133394807,"body_markdown":"Yes, it&#39;s just more efficient for grouping on a boolean.","body":"Yes, it&#39;s just more efficient for grouping on a boolean."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677711819,"creation_date":1677711819,"answer_id":75609867,"question_id":75609829,"body_markdown":"You can sort on a boolean. But it can be a little unintuitive because `false` [precedes][1] `true`, so you have to invert it:\r\n\r\n    List&lt;Item&gt; sorted = items.stream()\r\n            .sorted(Comparator.comparing(item -&gt; !frontIds.contains(item.getId()))\r\n            .collect(Collectors.toList());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html#compareTo-java.lang.Boolean-","title":"sort java list by single attribute","body":"<p>You can sort on a boolean. But it can be a little unintuitive because <code>false</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html#compareTo-java.lang.Boolean-\" rel=\"nofollow noreferrer\">precedes</a> <code>true</code>, so you have to invert it:</p>\n<pre><code>List&lt;Item&gt; sorted = items.stream()\n        .sorted(Comparator.comparing(item -&gt; !frontIds.contains(item.getId()))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677739748,"creation_date":1677739748,"answer_id":75612092,"question_id":75609829,"body_markdown":"You can sort it in place just by using the `Collections.sort` helper method. Here&#39;s how it looks.\r\n\r\n    Collections.sort(items, Comparator.comparing(item -&gt; !frontIds.contains(item.getId())));","title":"sort java list by single attribute","body":"<p>You can sort it in place just by using the <code>Collections.sort</code> helper method. Here's how it looks.</p>\n<pre><code>Collections.sort(items, Comparator.comparing(item -&gt; !frontIds.contains(item.getId())));\n</code></pre>\n"}],"owner":{"account_id":5487398,"reputation":1775,"user_id":4361749,"accept_rate":82,"display_name":"Joel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75609867,"answer_count":2,"score":1,"last_activity_date":1677739748,"creation_date":1677711488,"question_id":75609829,"body_markdown":"I have a Java list of items and those items have a property. This property can be checked with a lambda resulting in `true` or `false`. Now I want to sort this list to have all the elements with that property in the front, and all the others in the back.\r\n\r\nMy current approach is\r\n```java\r\nList&lt;String&gt; frontIds = ... // contains the ids of the items, that I want in front\r\nList&lt;Item&gt; items = ... // contains all the items\r\nList&lt;List&lt;Item&gt;&gt; sortedBy = new ArrayList&lt;&gt;(\r\n  items.stream().collect(\r\n    Collectors.groupingBy(item -&gt; frontIds.contains(item.getId()))\r\n  ).values()\r\n);\r\nsortedBy.get(1).addAll(sortedBy.get(0));\r\n\r\n// my sorted list is not sortedBy.get(1)\r\n```\r\n\r\nIt does feel a bit bulky and unnecessary to group and create the `ArrayList`. I thought of using `items.sort`... but how would I compare just one element with the list of `frontIds`","title":"sort java list by single attribute","body":"<p>I have a Java list of items and those items have a property. This property can be checked with a lambda resulting in <code>true</code> or <code>false</code>. Now I want to sort this list to have all the elements with that property in the front, and all the others in the back.</p>\n<p>My current approach is</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; frontIds = ... // contains the ids of the items, that I want in front\nList&lt;Item&gt; items = ... // contains all the items\nList&lt;List&lt;Item&gt;&gt; sortedBy = new ArrayList&lt;&gt;(\n  items.stream().collect(\n    Collectors.groupingBy(item -&gt; frontIds.contains(item.getId()))\n  ).values()\n);\nsortedBy.get(1).addAll(sortedBy.get(0));\n\n// my sorted list is not sortedBy.get(1)\n</code></pre>\n<p>It does feel a bit bulky and unnecessary to group and create the <code>ArrayList</code>. I thought of using <code>items.sort</code>... but how would I compare just one element with the list of <code>frontIds</code></p>\n"},{"tags":["java","spring","jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677718047,"creation_date":1677699146,"answer_id":75608157,"question_id":75608063,"body_markdown":"It&#39;s working as it&#39;s supposed to.  From the documentation for `@JsonBackReference`\r\n\r\n&gt; Annotation used to indicate that associated property is part of\r\n&gt; two-way linkage between fields; and that its role is &quot;child&quot; (or\r\n&gt; &quot;back&quot;) link. Value type of the property must be a bean: it can not be\r\n&gt; a Collection, Map, Array or enumeration. Linkage is handled such that\r\n&gt; the property annotated with this annotation is not serialized;\r\n\r\nThe last sentence states that properties annotated with `@JsonBackReference` are not serialized.\r\n\r\nYou can use `@JsonIdentityInfo` to pull this off.\r\n\r\nAt the class level on both Client and Trainer, add \r\n\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n\r\nHere is what the Trainer model looks like:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIdentityInfo;\r\n\timport com.fasterxml.jackson.annotation.ObjectIdGenerators;\r\n\timport lombok.Getter;\r\n\timport lombok.Setter;\r\n\t\r\n\timport javax.persistence.*;\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\t\r\n\t@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n\t@Entity\r\n\t@Table(name = &quot;TRAINER&quot;)\r\n\t@Getter\r\n\t@Setter\r\n\tpublic class Trainer {\r\n\t\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t\tprivate Integer id;\r\n\t\t@Column(name = &quot;name&quot;)\r\n\t\tprivate String name;\r\n\t\t@OneToMany(mappedBy = &quot;trainer&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t\tprivate List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\r\n\t}\r\n\r\nHere is the Client model\r\n\r\n\timport com.fasterxml.jackson.annotation.JsonIdentityInfo;\r\n\timport com.fasterxml.jackson.annotation.ObjectIdGenerators;\r\n\timport lombok.Data;\r\n\t\r\n\timport javax.persistence.*;\r\n\t\r\n\t@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n\t@Entity\r\n\t@Table(name = &quot;CLIENT&quot;)\r\n\t@Getter\r\n\t@Setter\r\n\tpublic class Client {\r\n\t\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t\tprivate Integer id;\r\n\t\t@Column(name = &quot;name&quot;)\r\n\t\tprivate String name;\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;trainer_id&quot;)\r\n\t\tprivate Trainer trainer;\r\n\t}\r\n\r\nHere&#39;s a simple test that proves out the behavior, with persistence:\r\n\r\n\timport com.fasterxml.jackson.core.JsonProcessingException;\r\n\timport com.fasterxml.jackson.databind.ObjectMapper;\r\n\timport com.fasterxml.jackson.databind.ObjectWriter;\r\n\timport com.terrafirmaeng.example.persistence.TrainerRepository;\r\n\timport com.terrafirmaeng.example.persistence.ClientRepository;\r\n\timport org.junit.jupiter.api.Test;\r\n\timport org.junit.jupiter.api.extension.ExtendWith;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.boot.test.context.SpringBootTest;\r\n\timport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\timport org.springframework.transaction.annotation.Transactional;\r\n\t\r\n\t@ExtendWith(SpringExtension.class)\r\n\t@SpringBootTest\r\n\tclass ClientTest {\r\n\t\r\n\t\t@Autowired\r\n\t\tTrainerRepository trainerRepository;\r\n\t\t\r\n        @Autowired\r\n\t\tClientRepository clientRepository;\r\n\t\t\r\n\r\n\t\t@Test\r\n\t\t@Transactional\r\n\t\tpublic void test() throws JsonProcessingException {\r\n\t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\tObjectWriter objectWriter = objectMapper.writerFor(Client.class);\r\n\t\r\n\t\t\tTrainer trainer = new Trainer();\r\n\t\t\ttrainer.setName(&quot;trainer&quot;);\r\n\t\r\n\t\t\tClient clientA = new Client();\r\n\t\t\tclientA.setTrainer(trainer);\r\n\t\t\tclientA.setName(&quot;clientA&quot;);\r\n\t\r\n\t\t\tClient clientB = new Client();\r\n\t\t\tclientB.setTrainer(trainer);\r\n\t\t\tclientB.setName(&quot;clientB&quot;);\r\n\t\r\n\t\t\ttrainer.getClients().add(clientA);\r\n\t\t\ttrainer.getClients().add(clientB);\r\n\t\t\tTrainer persistedTrainer = trainerRepository.save(trainer);\r\n\t\r\n\t\t\tclientRepository.findAll().forEach(client -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tSystem.out.println(objectWriter.writeValueAsString(client));\r\n\t\t\t\t} catch (JsonProcessingException e) {\r\n\t\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\nThis outputs\r\n\r\n```\r\n{&quot;id&quot;:2,&quot;name&quot;:&quot;clientA&quot;,&quot;trainer&quot; {&quot;id&quot;:1,&quot;name&quot;:&quot;trainer&quot;,&quot;clients&quot;:[2,{&quot;id&quot;:3,&quot;name&quot;:&quot;clientB&quot;,&quot;trainer&quot;:1}]}}\r\n{&quot;id&quot;:3,&quot;name&quot;:&quot;clientB&quot;,&quot;trainer&quot;:{&quot;id&quot;:1,&quot;name&quot;:&quot;trainer&quot;,&quot;clients&quot;:[{&quot;id&quot;:2,&quot;name&quot;:&quot;clientA&quot;,&quot;trainer&quot;:1},3]}}\r\n```","title":"Java Persistence JPA: Many to one relationship is not reflected in entity?","body":"<p>It's working as it's supposed to.  From the documentation for <code>@JsonBackReference</code></p>\n<blockquote>\n<p>Annotation used to indicate that associated property is part of\ntwo-way linkage between fields; and that its role is &quot;child&quot; (or\n&quot;back&quot;) link. Value type of the property must be a bean: it can not be\na Collection, Map, Array or enumeration. Linkage is handled such that\nthe property annotated with this annotation is not serialized;</p>\n</blockquote>\n<p>The last sentence states that properties annotated with <code>@JsonBackReference</code> are not serialized.</p>\n<p>You can use <code>@JsonIdentityInfo</code> to pull this off.</p>\n<p>At the class level on both Client and Trainer, add</p>\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n</code></pre>\n<p>Here is what the Trainer model looks like:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIdentityInfo;\nimport com.fasterxml.jackson.annotation.ObjectIdGenerators;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n@Entity\n@Table(name = &quot;TRAINER&quot;)\n@Getter\n@Setter\npublic class Trainer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @OneToMany(mappedBy = &quot;trainer&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Here is the Client model</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIdentityInfo;\nimport com.fasterxml.jackson.annotation.ObjectIdGenerators;\nimport lombok.Data;\n\nimport javax.persistence.*;\n\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n@Entity\n@Table(name = &quot;CLIENT&quot;)\n@Getter\n@Setter\npublic class Client {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;trainer_id&quot;)\n    private Trainer trainer;\n}\n</code></pre>\n<p>Here's a simple test that proves out the behavior, with persistence:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ObjectWriter;\nimport com.terrafirmaeng.example.persistence.TrainerRepository;\nimport com.terrafirmaeng.example.persistence.ClientRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.transaction.annotation.Transactional;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\nclass ClientTest {\n\n    @Autowired\n    TrainerRepository trainerRepository;\n    \n    @Autowired\n    ClientRepository clientRepository;\n    \n\n    @Test\n    @Transactional\n    public void test() throws JsonProcessingException {\n        ObjectMapper objectMapper = new ObjectMapper();\n        ObjectWriter objectWriter = objectMapper.writerFor(Client.class);\n\n        Trainer trainer = new Trainer();\n        trainer.setName(&quot;trainer&quot;);\n\n        Client clientA = new Client();\n        clientA.setTrainer(trainer);\n        clientA.setName(&quot;clientA&quot;);\n\n        Client clientB = new Client();\n        clientB.setTrainer(trainer);\n        clientB.setName(&quot;clientB&quot;);\n\n        trainer.getClients().add(clientA);\n        trainer.getClients().add(clientB);\n        Trainer persistedTrainer = trainerRepository.save(trainer);\n\n        clientRepository.findAll().forEach(client -&gt; {\n            try {\n                System.out.println(objectWriter.writeValueAsString(client));\n            } catch (JsonProcessingException e) {\n                throw new RuntimeException(e);\n            }\n        });\n    }\n}\n</code></pre>\n<p>This outputs</p>\n<pre><code>{&quot;id&quot;:2,&quot;name&quot;:&quot;clientA&quot;,&quot;trainer&quot; {&quot;id&quot;:1,&quot;name&quot;:&quot;trainer&quot;,&quot;clients&quot;:[2,{&quot;id&quot;:3,&quot;name&quot;:&quot;clientB&quot;,&quot;trainer&quot;:1}]}}\n{&quot;id&quot;:3,&quot;name&quot;:&quot;clientB&quot;,&quot;trainer&quot;:{&quot;id&quot;:1,&quot;name&quot;:&quot;trainer&quot;,&quot;clients&quot;:[{&quot;id&quot;:2,&quot;name&quot;:&quot;clientA&quot;,&quot;trainer&quot;:1},3]}}\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75608157,"answer_count":1,"score":0,"last_activity_date":1677739662,"creation_date":1677698352,"question_id":75608063,"body_markdown":"I have the following 2 `h2` tables and `JPA` entities:\r\n\r\n    Trainer\r\n\r\n    Client\r\n\r\n**SQL:**\r\n\r\n    DROP TABLE IF EXISTS TRAINER;\r\n    CREATE TABLE TRAINER (\r\n    id INT AUTO_INCREMENT  PRIMARY KEY,\r\n    name VARCHAR(50) NOT NULL\r\n    );\r\n    \r\n    DROP TABLE IF EXISTS CLIENT;\r\n    CREATE TABLE CLIENT (\r\n    id INT AUTO_INCREMENT  PRIMARY KEY,\r\n    name VARCHAR(50) NOT NULL,\r\n    trainer_id INT NOT NULL,\r\n    CONSTRAINT FK_CLIENT_TRAINER_ID FOREIGN KEY (trainer_id) REFERENCES TRAINER(id)\r\n    );\r\n\r\n**Trainer Entity:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;TRAINER&quot;)\r\n    public class Trainer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;trainer&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private List&lt;Client&gt; clients;\r\n    \t\r\n    \tpublic Trainer() {}\r\n    \t\r\n    \t@JsonManagedReference\r\n        public List&lt;Client&gt; getClients() {\r\n            return clients;\r\n        }\r\n    \r\n        public void setClients(List&lt;Client&gt; clients) {\r\n            this.clients = clients;\r\n        }\r\n    \t\r\n    \t// other getters and setters\r\n    \t\r\n    \t}\r\n\t\r\n**Client Entity:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;CLIENT&quot;)\r\n    public class Client {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;trainer_id&quot;)\r\n        private Trainer trainer;\r\n    \t\r\n    \t@JsonBackReference\r\n        public Trainer getTrainer() {\r\n            return trainer;\r\n        }\r\n    \r\n        public void setTrainer(Trainer trainer) {\r\n            this.trainer = trainer;\r\n        }\r\n    \t\r\n    \t// other getters and setters\r\n    \t\r\n    }\r\n\r\nWhen I hit my endpoint to get all trainers, the list of clients also comes as expected.\r\n\r\nHowever when I try to get all clients, the response `does not` contain the trainer object within it.\r\n\r\nWhy is this? I am potentially using the `@JsonManagedReference` incorrectly?\r\n\r\nEdit:\r\nWhen I remove the back reference from client I get:\r\n\r\n    Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\r\n\r\nWhen I add `@JsonIdentityInfo` as suggested I get:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \r\n    No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor \r\n    and no properties discovered to create BeanSerializer \r\n    (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) \r\n    (through reference chain: java.util.ArrayList[0]\r\n    -&gt;com.example.model.Client[&quot;trainer&quot;]\r\n    -&gt;com.example.model.Trainer$HibernateProxy$MCJQCpAj[&quot;clients&quot;]\r\n    -&gt;org.hibernate.collection.spi.PersistentBag[0]-&gt;com.example.model.Client$HibernateProxy$4n0KbuYf[&quot;hibernateLazyInitializer&quot;])\r\n\r\n\t\r\n","title":"Java Persistence JPA: Many to one relationship is not reflected in entity?","body":"<p>I have the following 2 <code>h2</code> tables and <code>JPA</code> entities:</p>\n<pre><code>Trainer\n\nClient\n</code></pre>\n<p><strong>SQL:</strong></p>\n<pre><code>DROP TABLE IF EXISTS TRAINER;\nCREATE TABLE TRAINER (\nid INT AUTO_INCREMENT  PRIMARY KEY,\nname VARCHAR(50) NOT NULL\n);\n\nDROP TABLE IF EXISTS CLIENT;\nCREATE TABLE CLIENT (\nid INT AUTO_INCREMENT  PRIMARY KEY,\nname VARCHAR(50) NOT NULL,\ntrainer_id INT NOT NULL,\nCONSTRAINT FK_CLIENT_TRAINER_ID FOREIGN KEY (trainer_id) REFERENCES TRAINER(id)\n);\n</code></pre>\n<p><strong>Trainer Entity:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;TRAINER&quot;)\npublic class Trainer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;trainer&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Client&gt; clients;\n    \n    public Trainer() {}\n    \n    @JsonManagedReference\n    public List&lt;Client&gt; getClients() {\n        return clients;\n    }\n\n    public void setClients(List&lt;Client&gt; clients) {\n        this.clients = clients;\n    }\n    \n    // other getters and setters\n    \n    }\n</code></pre>\n<p><strong>Client Entity:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;CLIENT&quot;)\npublic class Client {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;trainer_id&quot;)\n    private Trainer trainer;\n    \n    @JsonBackReference\n    public Trainer getTrainer() {\n        return trainer;\n    }\n\n    public void setTrainer(Trainer trainer) {\n        this.trainer = trainer;\n    }\n    \n    // other getters and setters\n    \n}\n</code></pre>\n<p>When I hit my endpoint to get all trainers, the list of clients also comes as expected.</p>\n<p>However when I try to get all clients, the response <code>does not</code> contain the trainer object within it.</p>\n<p>Why is this? I am potentially using the <code>@JsonManagedReference</code> incorrectly?</p>\n<p>Edit:\nWhen I remove the back reference from client I get:</p>\n<pre><code>Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\n</code></pre>\n<p>When I add <code>@JsonIdentityInfo</code> as suggested I get:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \nNo serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor \nand no properties discovered to create BeanSerializer \n(to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) \n(through reference chain: java.util.ArrayList[0]\n-&gt;com.example.model.Client[&quot;trainer&quot;]\n-&gt;com.example.model.Trainer$HibernateProxy$MCJQCpAj[&quot;clients&quot;]\n-&gt;org.hibernate.collection.spi.PersistentBag[0]-&gt;com.example.model.Client$HibernateProxy$4n0KbuYf[&quot;hibernateLazyInitializer&quot;])\n</code></pre>\n"},{"tags":["java","json","httpconnection","rest"],"comments":[{"owner":{"account_id":19168323,"reputation":86,"user_id":14002590,"display_name":"Attila j&#225;ger"},"score":0,"creation_date":1596192072,"post_id":63190152,"comment_id":111740174,"body_markdown":"Does this answer your question? [What is the purpose of flush() in Java streams?](https://stackoverflow.com/questions/2340106/what-is-the-purpose-of-flush-in-java-streams)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2340106/what-is-the-purpose-of-flush-in-java-streams\">What is the purpose of flush() in Java streams?</a>"},{"owner":{"account_id":18258323,"reputation":109,"user_id":13291702,"display_name":"Neha"},"score":0,"creation_date":1596192857,"post_id":63190152,"comment_id":111740510,"body_markdown":"Thanks for response but even i used flush then why it show duplicate data , is it something with conn.getinputstream ? if yes then what shoulf i do in that case ?","body":"Thanks for response but even i used flush then why it show duplicate data , is it something with conn.getinputstream ? if yes then what shoulf i do in that case ?"}],"answers":[{"tags":[],"owner":{"account_id":19168323,"reputation":86,"user_id":14002590,"display_name":"Attila j&#225;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596194171,"creation_date":1596194171,"answer_id":63190842,"question_id":63190152,"body_markdown":"It doesn&#39;t show duplicate data you just log twice. \r\n\r\n&gt; The Java OutputStream&#39;s flush() method flushes all data written to the OutputStream to the underlying data destination. For instance, if the OutputStream is a FileOutputStream then bytes written to the FileOutputStream may not have been fully written to disk yet. The data might be buffered in OS memory somewhere, even if your Java code has written it to the FileOutputStream. By calling flush() you can assure that any buffered data will be flushed (written) to disk (or network, or whatever else the destination of your OutputStream has).\r\n\r\n[link][1].\r\nI think you want to clear your OutputStream before writing again but that&#39;s not what flush does.\r\n\r\n  [1]: http://tutorials.jenkov.com/java-io/outputstream.html","title":"How to use Outputstream.flush method","body":"<p>It doesn't show duplicate data you just log twice.</p>\n<blockquote>\n<p>The Java OutputStream's flush() method flushes all data written to the OutputStream to the underlying data destination. For instance, if the OutputStream is a FileOutputStream then bytes written to the FileOutputStream may not have been fully written to disk yet. The data might be buffered in OS memory somewhere, even if your Java code has written it to the FileOutputStream. By calling flush() you can assure that any buffered data will be flushed (written) to disk (or network, or whatever else the destination of your OutputStream has).</p>\n</blockquote>\n<p><a href=\"http://tutorials.jenkov.com/java-io/outputstream.html\" rel=\"nofollow noreferrer\">link</a>.\nI think you want to clear your OutputStream before writing again but that's not what flush does.</p>\n"},{"tags":[],"owner":{"account_id":14477396,"reputation":1,"user_id":10457676,"display_name":"Ian Lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677739398,"creation_date":1677739398,"answer_id":75612049,"question_id":63190152,"body_markdown":"Flush method doesn&#39;t clear the data that you have already written to the stream.  You need to close it and create a new OutPutStream then write in it. ","title":"How to use Outputstream.flush method","body":"<p>Flush method doesn't clear the data that you have already written to the stream.  You need to close it and create a new OutPutStream then write in it.</p>\n"}],"owner":{"account_id":18258323,"reputation":109,"user_id":13291702,"display_name":"Neha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677739398,"creation_date":1596191393,"question_id":63190152,"body_markdown":"I am using REST API.\r\nI have below code snippet :\r\n                   \t\r\n\r\n    conn = (HttpURLConnection) url.openConnection();\r\n                           OutputStream outputstream = conn.getOutputStream(); \r\n    \t                   if (payload.getString(&quot;phase_id&quot;) != null) {\r\n    \t\t\t\t\t\tbodyParam = new JSONObject();\r\n    \t\t\t\t\t\tbodyParam.put(&quot;phase_id&quot;, payload.getString(&quot;phase_id&quot;));\r\n    \t\t\t\t\t\toutputstream.write(bodyParam.toString().getBytes());\r\n    \t\t\t\t\t}\r\n                        logger.info(&quot;&quot;+outputstream);\r\n    \t\t\t\t\toutputstream.flush();\r\n    \t\t\t\t\tif (payload.getString(&quot;subphase_id&quot;) != null) {\r\n    \t\t\t\t\t\tbodyParam = new JSONObject();\r\n    \t\t\t\t\t\tbodyParam.put(&quot;subphase_id&quot;, payload.getString(&quot;subphase_id&quot;));\r\n    \t\t\t\t\t\toutputstream.write(bodyParam.toString().getBytes());\r\n    \t\t\t\t\t}\r\n                        logger.info(&quot;&quot;+outputstream);\r\n\r\nHere ,even i am flushing th outputstream it gives me output like :\r\n\r\n    {&quot;phase_id&quot;:101}\r\n    {&quot;phase_id&quot;:101}{&quot;subphase_id&quot;:201}\r\n\r\nBut i want output like :\r\n\r\n    {&quot;phase_id&quot;:101}\r\n    {&quot;subphase_id&quot;:201}\r\n\r\nMy concern is ,even i am flushing data then why it is giving previous data ? \r\nIs something i am missing ? \r\n\r\n","title":"How to use Outputstream.flush method","body":"<p>I am using REST API.\nI have below code snippet :</p>\n<pre><code>conn = (HttpURLConnection) url.openConnection();\n                       OutputStream outputstream = conn.getOutputStream(); \n                       if (payload.getString(&quot;phase_id&quot;) != null) {\n                        bodyParam = new JSONObject();\n                        bodyParam.put(&quot;phase_id&quot;, payload.getString(&quot;phase_id&quot;));\n                        outputstream.write(bodyParam.toString().getBytes());\n                    }\n                    logger.info(&quot;&quot;+outputstream);\n                    outputstream.flush();\n                    if (payload.getString(&quot;subphase_id&quot;) != null) {\n                        bodyParam = new JSONObject();\n                        bodyParam.put(&quot;subphase_id&quot;, payload.getString(&quot;subphase_id&quot;));\n                        outputstream.write(bodyParam.toString().getBytes());\n                    }\n                    logger.info(&quot;&quot;+outputstream);\n</code></pre>\n<p>Here ,even i am flushing th outputstream it gives me output like :</p>\n<pre><code>{&quot;phase_id&quot;:101}\n{&quot;phase_id&quot;:101}{&quot;subphase_id&quot;:201}\n</code></pre>\n<p>But i want output like :</p>\n<pre><code>{&quot;phase_id&quot;:101}\n{&quot;subphase_id&quot;:201}\n</code></pre>\n<p>My concern is ,even i am flushing data then why it is giving previous data ?\nIs something i am missing ?</p>\n"},{"tags":["java","multithreading","spring-boot","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677739382,"creation_date":1677739382,"answer_id":75612048,"question_id":75604528,"body_markdown":"Fixed by editing the Kubernetes **YAML** file. Changed:\r\n\r\n 1. version `apps` =&gt; `batch`\r\n 2. kind `Deployment` =&gt; `Job`\r\n \r\nAlso added `restartPolicy: Never` under the spec.","title":"Spring Boot pod with multithreading restarts in Kubernetes","body":"<p>Fixed by editing the Kubernetes <strong>YAML</strong> file. Changed:</p>\n<ol>\n<li>version <code>apps</code> =&gt; <code>batch</code></li>\n<li>kind <code>Deployment</code> =&gt; <code>Job</code></li>\n</ol>\n<p>Also added <code>restartPolicy: Never</code> under the spec.</p>\n"}],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75612048,"answer_count":1,"score":0,"last_activity_date":1677739382,"creation_date":1677678206,"question_id":75604528,"body_markdown":"We have deployed a SpringBoot application in Kubernetes. The application uses ApplicationRunner to get command line arguments from the Kubernetes YAML file and then copies files from a file system to Amazon S3. The copying process always succeeds without error. Ideally, the application should end in the **Completed** state. But it keeps restarting.\r\n\r\n    public class MySpringbootApplication implements ApplicationRunner\r\n\r\nWe have put a check to make sure if it restarts, then it would check if the S3 folder is empty. If not empty, then it should be complete.\r\n\r\nWith 100 files (it restarts but completes)\r\n\r\n    NAMESPACE      NAME                                     READY   STATUS      RESTARTS      AGE\r\n    default        springboot-kubernetes-67bb5dcc5-h2fhs     0/1     Completed   1 (18s ago)   56s\r\n\r\n1 million files (does not work)\r\n\r\n    NAMESPACE      NAME                                     READY   STATUS           RESTARTS      AGE\r\n    default        springboot-kubernetes-6df4749db4-ng9rd    0/1  CrashLoopBackOff   6 (28s ago)   69m\r\n\r\nThe Application uses multithreading with CompletableFuture. I have tried pool sizes like 10, 60, 250.\r\n\r\n    List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    ExecutorService executors = Executors.newFixedThreadPool(Math.max(pool, 10));\r\n\r\n    for (String filePath : filePaths)\r\n            futures.add(CompletableFuture.runAsync(() -&gt; processFile(filePath), executors));\r\n\r\n    CompletableFuture.allOf(futures.toArray(new CompletableFuture[futures.size()])).join();\r\n    executors.shutdown();\r\n\r\nPlease help me with how I could stop the pod from restarting.\r\n","title":"Spring Boot pod with multithreading restarts in Kubernetes","body":"<p>We have deployed a SpringBoot application in Kubernetes. The application uses ApplicationRunner to get command line arguments from the Kubernetes YAML file and then copies files from a file system to Amazon S3. The copying process always succeeds without error. Ideally, the application should end in the <strong>Completed</strong> state. But it keeps restarting.</p>\n<pre><code>public class MySpringbootApplication implements ApplicationRunner\n</code></pre>\n<p>We have put a check to make sure if it restarts, then it would check if the S3 folder is empty. If not empty, then it should be complete.</p>\n<p>With 100 files (it restarts but completes)</p>\n<pre><code>NAMESPACE      NAME                                     READY   STATUS      RESTARTS      AGE\ndefault        springboot-kubernetes-67bb5dcc5-h2fhs     0/1     Completed   1 (18s ago)   56s\n</code></pre>\n<p>1 million files (does not work)</p>\n<pre><code>NAMESPACE      NAME                                     READY   STATUS           RESTARTS      AGE\ndefault        springboot-kubernetes-6df4749db4-ng9rd    0/1  CrashLoopBackOff   6 (28s ago)   69m\n</code></pre>\n<p>The Application uses multithreading with CompletableFuture. I have tried pool sizes like 10, 60, 250.</p>\n<pre><code>List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\nExecutorService executors = Executors.newFixedThreadPool(Math.max(pool, 10));\n\nfor (String filePath : filePaths)\n        futures.add(CompletableFuture.runAsync(() -&gt; processFile(filePath), executors));\n\nCompletableFuture.allOf(futures.toArray(new CompletableFuture[futures.size()])).join();\nexecutors.shutdown();\n</code></pre>\n<p>Please help me with how I could stop the pod from restarting.</p>\n"},{"tags":["java","html","spring-boot","http","jpa"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1677700272,"post_id":75608268,"comment_id":133391810,"body_markdown":"I think `&lt;form&gt;` doesn&#39;t support `method=&quot;delete&quot;` - only GET and POST.","body":"I think <code>&lt;form&gt;</code> doesn&#39;t support <code>method=&quot;delete&quot;</code> - only GET and POST."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1677700416,"post_id":75608268,"comment_id":133391846,"body_markdown":"@dan1st is correct: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form","body":"@dan1st is correct: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTML/Element/form</a>"},{"owner":{"account_id":22810552,"reputation":3,"user_id":16961925,"display_name":"AFAV"},"score":0,"creation_date":1677966340,"post_id":75608268,"comment_id":133442788,"body_markdown":"You&#39;re both right, thank you!","body":"You&#39;re both right, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":26260052,"reputation":16,"user_id":19931523,"display_name":"Amrit Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677739085,"creation_date":1677739085,"answer_id":75612020,"question_id":75608268,"body_markdown":"HTML form does not support the Method delete, it supports only get and post methods in HTML form.","title":"GET method not supported in SpringFrameWork even though I&#39;m using DELETE instead","body":"<p>HTML form does not support the Method delete, it supports only get and post methods in HTML form.</p>\n"}],"owner":{"account_id":22810552,"reputation":3,"user_id":16961925,"display_name":"AFAV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75612020,"answer_count":1,"score":0,"last_activity_date":1677739085,"creation_date":1677699932,"question_id":75608268,"body_markdown":"I&#39;m trying to create a simple web page that allows CRUD operations to be made on a driver class. In my Driver controller class, I have the following functions to delete a driver.\r\n\r\n```\r\n@GetMapping(&quot;/delete/{id}&quot;)\r\n    public String borrarPersona(Model model, @PathVariable Long id){\r\n        Conductor c = condService.recuperarPersona(id);\r\n        model.addAttribute(&quot;conductor&quot;, c);\r\n        return &quot;person-delete&quot;;\r\n    }\r\n    \r\n    @DeleteMapping(value=&quot;/confirmDelete&quot;)\r\n    public String borrarConfirmado(@Valid Conductor driver, BindingResult result, Model model){\r\n        condService.borrarPersona(driver);\r\n        return &quot;redirect:/conductor/list&quot;;\r\n    }\r\n```\r\nMethod recuperarPersona(id) is simply to select the driver and pass the data to the HTML page &quot;person-delete&quot;.\r\n\r\nHere&#39;s my HTML file.\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;TODO supply a title&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div&gt;\r\n            &lt;h1&gt;Conductor&lt;/h1&gt;\r\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/conductor/confirmDelete}&quot; th:object=&quot;${conductor}&quot; method=&quot;delete&quot;&gt;\r\n                &lt;label for=&quot;driverFirstName&quot;&gt;Nombre: &lt;/label&gt;\r\n                &lt;label th:text=&quot;*{firstName}&quot; id=&quot;driverFirstName&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n                &lt;label for=&quot;driverLastName&quot;&gt;Apellido: &lt;/label&gt;\r\n                &lt;label th:text=&quot;*{lastName}&quot; id=&quot;driverLastName&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n                &lt;label for=&quot;driverCedula&quot;&gt;Cedula: &lt;/label&gt;\r\n                &lt;label th:text=&quot;*{cedula}&quot; id=&quot;driverCedula&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n                &lt;label for=&quot;driverTelefono&quot;&gt;Telefono: &lt;/label&gt;\r\n                &lt;label th:text=&quot;*{telefono}&quot; id=&quot;driverTelefono&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n                &lt;label for=&quot;driverDireccion&quot;&gt;Direccion: &lt;/label&gt;\r\n                &lt;label th:text=&quot;*{direccion}&quot; id=&quot;driverDireccion&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n                &lt;button type=&quot;submit&quot;&gt;Borrar&lt;/button&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n        &lt;a th:href=&quot;@{/conductor/list}&quot;&gt;Cancelar&lt;/a&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\nAll the information regarding the driver is correctly shown on the page. But when I hit the submit button in order to start the function borrarConfirmado I get the following error.\r\n\r\n`This application has no explicit mapping for /error, so you are seeing this as a fallback.`\r\n\r\n```\r\nRequest method &#39;GET&#39; not supported\r\norg.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; not supported\r\n```\r\n\r\n\r\n\r\nI&#39;m at a loss, since I don&#39;t use any GET methods for the submit button on the form, yet it&#39;s asking me there&#39;s no mapping for a GET method. Am I missing something? Thank you for your time.","title":"GET method not supported in SpringFrameWork even though I&#39;m using DELETE instead","body":"<p>I'm trying to create a simple web page that allows CRUD operations to be made on a driver class. In my Driver controller class, I have the following functions to delete a driver.</p>\n<pre><code>@GetMapping(&quot;/delete/{id}&quot;)\n    public String borrarPersona(Model model, @PathVariable Long id){\n        Conductor c = condService.recuperarPersona(id);\n        model.addAttribute(&quot;conductor&quot;, c);\n        return &quot;person-delete&quot;;\n    }\n    \n    @DeleteMapping(value=&quot;/confirmDelete&quot;)\n    public String borrarConfirmado(@Valid Conductor driver, BindingResult result, Model model){\n        condService.borrarPersona(driver);\n        return &quot;redirect:/conductor/list&quot;;\n    }\n</code></pre>\n<p>Method recuperarPersona(id) is simply to select the driver and pass the data to the HTML page &quot;person-delete&quot;.</p>\n<p>Here's my HTML file.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;TODO supply a title&lt;/title&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt;\n            &lt;h1&gt;Conductor&lt;/h1&gt;\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/conductor/confirmDelete}&quot; th:object=&quot;${conductor}&quot; method=&quot;delete&quot;&gt;\n                &lt;label for=&quot;driverFirstName&quot;&gt;Nombre: &lt;/label&gt;\n                &lt;label th:text=&quot;*{firstName}&quot; id=&quot;driverFirstName&quot;&gt;&lt;/label&gt;&lt;br&gt;\n                &lt;label for=&quot;driverLastName&quot;&gt;Apellido: &lt;/label&gt;\n                &lt;label th:text=&quot;*{lastName}&quot; id=&quot;driverLastName&quot;&gt;&lt;/label&gt;&lt;br&gt;\n                &lt;label for=&quot;driverCedula&quot;&gt;Cedula: &lt;/label&gt;\n                &lt;label th:text=&quot;*{cedula}&quot; id=&quot;driverCedula&quot;&gt;&lt;/label&gt;&lt;br&gt;\n                &lt;label for=&quot;driverTelefono&quot;&gt;Telefono: &lt;/label&gt;\n                &lt;label th:text=&quot;*{telefono}&quot; id=&quot;driverTelefono&quot;&gt;&lt;/label&gt;&lt;br&gt;\n                &lt;label for=&quot;driverDireccion&quot;&gt;Direccion: &lt;/label&gt;\n                &lt;label th:text=&quot;*{direccion}&quot; id=&quot;driverDireccion&quot;&gt;&lt;/label&gt;&lt;br&gt;\n                &lt;button type=&quot;submit&quot;&gt;Borrar&lt;/button&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n        &lt;a th:href=&quot;@{/conductor/list}&quot;&gt;Cancelar&lt;/a&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>All the information regarding the driver is correctly shown on the page. But when I hit the submit button in order to start the function borrarConfirmado I get the following error.</p>\n<p><code>This application has no explicit mapping for /error, so you are seeing this as a fallback.</code></p>\n<pre><code>Request method 'GET' not supported\norg.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported\n</code></pre>\n<p>I'm at a loss, since I don't use any GET methods for the submit button on the form, yet it's asking me there's no mapping for a GET method. Am I missing something? Thank you for your time.</p>\n"},{"tags":["java","spring-boot","aws-lambda","warm-up","cold-start"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1584790325,"post_id":60787022,"comment_id":107548029,"body_markdown":"Are you sure it&#39;s a good idea to move it to lambda?","body":"Are you sure it&#39;s a good idea to move it to lambda?"},{"owner":{"account_id":6312490,"reputation":65,"user_id":4903603,"accept_rate":50,"display_name":"nikhil"},"score":0,"creation_date":1584790952,"post_id":60787022,"comment_id":107548212,"body_markdown":"I understand it is not advisable to use heavy frameworks like spring boot, in lambda, but I need to do this.","body":"I understand it is not advisable to use heavy frameworks like spring boot, in lambda, but I need to do this."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1584791673,"post_id":60787022,"comment_id":107548400,"body_markdown":"If provisioned concurrency didn&#39;t help, you might&#39;ve had a problem with configuring it correctly.","body":"If provisioned concurrency didn&#39;t help, you might&#39;ve had a problem with configuring it correctly."}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1584818467,"creation_date":1584818467,"answer_id":60792276,"question_id":60787022,"body_markdown":"A 5 minute [Cloudwatch Event](https://docs.aws.amazon.com/lambda/latest/dg/services-cloudwatchevents.html) would come out to arount 8600 calls / month.  If you ran even 100000 calls it&#39;s still free according to the calculator on https://aws.amazon.com/lambda/pricing/ with 3GB of memory.\r\n\r\nTo configure Cloudwatch to ping your Lambda, start by creating rule (Cloudwatch -&gt; Rules) and have it run every 5 minutes:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen, have it run your Lambda:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy Lambda in this example is named SnapshotHandler and it takes a small JSON object.  Note that this calls the Lambda **directly**, not through an API gateway.  That may or may not be what your Lambda code is expecting so you may need to update.\r\n\r\nIf you want to call this Lambda via a HTTP/S API, you&#39;ll need to setup an SNS topic to publish the Cloudwatch event to and have the SNS topic call your API via HTTP.  This is a bit more complicated but not terrible.\r\n\r\nAll in all, you can do this but the cost is dependent on how many &quot;normal&quot; calls your API gets.  At 1000000 calls per month a 3GB / 800ms Lambda is at about USD $33.  At 10000000 it&#39;s nearly USD $400.  But if you&#39;re getting that many calls (an average of about 230/second) it seems unlikely you need a heartbeat too.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hUjZi.png\r\n  [2]: https://i.stack.imgur.com/dDheT.png","title":"AWS Lambda cold start issue with spring boot","body":"<p>A 5 minute <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-cloudwatchevents.html\" rel=\"nofollow noreferrer\">Cloudwatch Event</a> would come out to arount 8600 calls / month.  If you ran even 100000 calls it's still free according to the calculator on <a href=\"https://aws.amazon.com/lambda/pricing/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/lambda/pricing/</a> with 3GB of memory.</p>\n\n<p>To configure Cloudwatch to ping your Lambda, start by creating rule (Cloudwatch -> Rules) and have it run every 5 minutes:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hUjZi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hUjZi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then, have it run your Lambda:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dDheT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dDheT.png\" alt=\"enter image description here\"></a></p>\n\n<p>My Lambda in this example is named SnapshotHandler and it takes a small JSON object.  Note that this calls the Lambda <strong>directly</strong>, not through an API gateway.  That may or may not be what your Lambda code is expecting so you may need to update.</p>\n\n<p>If you want to call this Lambda via a HTTP/S API, you'll need to setup an SNS topic to publish the Cloudwatch event to and have the SNS topic call your API via HTTP.  This is a bit more complicated but not terrible.</p>\n\n<p>All in all, you can do this but the cost is dependent on how many \"normal\" calls your API gets.  At 1000000 calls per month a 3GB / 800ms Lambda is at about USD $33.  At 10000000 it's nearly USD $400.  But if you're getting that many calls (an average of about 230/second) it seems unlikely you need a heartbeat too.</p>\n"}],"owner":{"account_id":6312490,"reputation":65,"user_id":4903603,"accept_rate":50,"display_name":"nikhil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3289,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60792276,"answer_count":1,"score":2,"last_activity_date":1677739072,"creation_date":1584788750,"question_id":60787022,"body_markdown":"I am new to aws lambda and I am moving my spring boot 2.x based project to lambda.But I am struggling with lambda cold-start and warm-up. I tried a few things mentioned in this link:&lt;https://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot&gt;, but still the application takes around 45 secs to start.\r\n\r\nThings I tried:  \r\n    \r\n1. Async initialization from the above link. It did help a bit but not enough.  \r\n    \r\n2. Skip the Init phase of the lambda. It helped reduce almost 8 secs.  \r\n    \r\n3. Provisioned concurrency but as far as I could see, it is not helping either. When I saw the logs, the spring context is getting initialized every time, if any request comes after an interval of 15-20 mins.\r\n\r\nThe response time of my lambda in different scenarios is: \r\n\r\n \r\n    1. 3008 MB memory/first request/ response time: ~25 secs.  \r\n    2. 3008 MB memory/2nd request immediately after 1st req/ response time: ~600ms.  \r\n    3. 1024 MB memory/1st req/ postman request times out.  \r\n    4. 1024 MB memory/2nd req immediately after 1st req/response time:  ~750ms.  \r\n    5. 1792 MB memory/1st req/ response time: ~27sec.  \r\n    6. 1792 MB memory/ 2nd req immediately after 1st req/response time:  ~650ms\r\n\r\nTo reduce this response time, I am thinking of making a REST call to my lambda every 5 or 10 mins so as to keep the spring context in memory and that in turn would help serve the requests faster. This call will be like a health check call, very less to no processing at all.\r\n\r\n\r\nIs this an advisable approach? Or is there a better way of achieving this goal? \r\n\r\nI am unclear about AWS will charge in this case.\r\n\r\n\r\n\r\n\r\n\r\n","title":"AWS Lambda cold start issue with spring boot","body":"<p>I am new to aws lambda and I am moving my spring boot 2.x based project to lambda.But I am struggling with lambda cold-start and warm-up. I tried a few things mentioned in this link:<a href=\"https://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot</a>, but still the application takes around 45 secs to start.</p>\n\n<p>Things I tried:  </p>\n\n<ol>\n<li><p>Async initialization from the above link. It did help a bit but not enough.  </p></li>\n<li><p>Skip the Init phase of the lambda. It helped reduce almost 8 secs.  </p></li>\n<li><p>Provisioned concurrency but as far as I could see, it is not helping either. When I saw the logs, the spring context is getting initialized every time, if any request comes after an interval of 15-20 mins.</p></li>\n</ol>\n\n<p>The response time of my lambda in different scenarios is: </p>\n\n<pre><code>1. 3008 MB memory/first request/ response time: ~25 secs.  \n2. 3008 MB memory/2nd request immediately after 1st req/ response time: ~600ms.  \n3. 1024 MB memory/1st req/ postman request times out.  \n4. 1024 MB memory/2nd req immediately after 1st req/response time:  ~750ms.  \n5. 1792 MB memory/1st req/ response time: ~27sec.  \n6. 1792 MB memory/ 2nd req immediately after 1st req/response time:  ~650ms\n</code></pre>\n\n<p>To reduce this response time, I am thinking of making a REST call to my lambda every 5 or 10 mins so as to keep the spring context in memory and that in turn would help serve the requests faster. This call will be like a health check call, very less to no processing at all.</p>\n\n<p>Is this an advisable approach? Or is there a better way of achieving this goal? </p>\n\n<p>I am unclear about AWS will charge in this case.</p>\n"},{"tags":["java","swagger","springdoc-openapi-ui"],"owner":{"account_id":19178711,"reputation":3,"user_id":14010907,"display_name":"Arvind Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677738782,"creation_date":1677684880,"question_id":75605844,"body_markdown":"When I am parsing header as x-abc-test, it working in my local but when deploy in my dev server it it running on https and it not working  throwing error as &quot;runtime exception occurred in filters&quot; when I hit any end point any idea how can I make it work.\r\n\r\nI have tried adding this:\r\n\r\n       servers = {\r\n                @Server(url = &quot;/&quot;, description = &quot;Default Server URL&quot;)\r\n        }\r\n\r\nStill it is not working.","title":"getting runtime exception occurred in filters with Swagger (OpenAPI) iwhen parsing headers on https","body":"<p>When I am parsing header as x-abc-test, it working in my local but when deploy in my dev server it it running on https and it not working  throwing error as &quot;runtime exception occurred in filters&quot; when I hit any end point any idea how can I make it work.</p>\n<p>I have tried adding this:</p>\n<pre><code>   servers = {\n            @Server(url = &quot;/&quot;, description = &quot;Default Server URL&quot;)\n    }\n</code></pre>\n<p>Still it is not working.</p>\n"},{"tags":["java","user-input","setter"],"answers":[{"tags":[],"owner":{"account_id":3986147,"reputation":376,"user_id":3286652,"accept_rate":100,"display_name":"hurtbox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677738770,"creation_date":1677738770,"answer_id":75611979,"question_id":75611744,"body_markdown":"You can set your Lease constructor to take in name, aptnum, rent, and lease as arguments\r\n\r\n    class Lease {\r\n        private String name;\r\n        private int aptNumber;\r\n        private double rent;\r\n        private int term;\r\n        private static final int FEE = 10;\r\n    \r\n        public Lease(String name, int aptNumber, double rent, int term) {\r\n            this.name = name;\r\n            this.aptNumber = aptNumber;\r\n            this.rent = rent;\r\n            this.term = term;\r\n        }\r\n    \r\n        public void setName(String tenant) {\r\n            name = tenant;\r\n        }\r\n    \r\n        public void setAptNumber(int apt) {\r\n            aptNumber = apt;\r\n        }\r\n    \r\n        public void setRent(double monthRent) {\r\n            rent = monthRent;\r\n        }\r\n    \r\n        public void setTerm(int t) {\r\n            term = t;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public int getAptNumber() {\r\n            return aptNumber;\r\n        }\r\n    \r\n        public double getRent() {\r\n            return rent;\r\n        }\r\n    \r\n        public int getTerm() {\r\n            return term;\r\n        }\r\n    \r\n        public void addPetFee() {\r\n            rent = rent + 10;\r\n            explainPetPolicy();\r\n        }\r\n    \r\n        public static void explainPetPolicy() {\r\n            String policy = &quot;A pet fee of $10 is added to the monthly rent.&quot;;\r\n        }\r\n    }\r\nIn your main class, when you create the Lease object, input the values into the arguments and then display the Lease with the new values:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        private static String tenant;\r\n        private static int apt, t;\r\n        private static double monthRent;\r\n        private static Lease ls;\r\n        public static void main (String args[])\r\n        {\r\n            getData();\r\n            // Write your code here\r\n            ls.setName(tenant);\r\n            ls.setAptNumber(apt);\r\n            ls.setRent(monthRent);\r\n            ls.setTerm(t);\r\n    \r\n            showValues(ls);\r\n        }\r\n        public static void showValues(Lease ls)\r\n        {\r\n            System.out.println(&quot;\\n\\nYour lease results:&quot; +\r\n                    &quot;\\nName      : &quot; + ls.getName() +\r\n                    &quot;\\nApartment : &quot; + ls.getAptNumber() +\r\n                    &quot;\\nRent      : &quot; + ls.getRent() +\r\n                    &quot;\\nTerm      : &quot; + ls.getTerm());\r\n        }\r\n        public static Lease getData()\r\n        {\r\n            // Write your code here\r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter lessee name &gt;&gt; &quot;);\r\n            tenant = input.nextLine();\r\n    \r\n            System.out.print(&quot;Enter apartment number &gt;&gt; &quot;);\r\n            apt = input.nextInt();\r\n    \r\n            System.out.print(&quot;Enter rent &gt;&gt; &quot;);\r\n            monthRent = input.nextDouble();\r\n    \r\n            System.out.print(&quot;Enter lease term in months&gt;&gt; &quot;);\r\n            t = input.nextInt();\r\n    \r\n            ls = new Lease(tenant, apt, monthRent, t);\r\n            return ls;\r\n        }\r\n    }","title":"How to apply input to the set method, and in another case, input outside main?","body":"<p>You can set your Lease constructor to take in name, aptnum, rent, and lease as arguments</p>\n<pre><code>class Lease {\n    private String name;\n    private int aptNumber;\n    private double rent;\n    private int term;\n    private static final int FEE = 10;\n\n    public Lease(String name, int aptNumber, double rent, int term) {\n        this.name = name;\n        this.aptNumber = aptNumber;\n        this.rent = rent;\n        this.term = term;\n    }\n\n    public void setName(String tenant) {\n        name = tenant;\n    }\n\n    public void setAptNumber(int apt) {\n        aptNumber = apt;\n    }\n\n    public void setRent(double monthRent) {\n        rent = monthRent;\n    }\n\n    public void setTerm(int t) {\n        term = t;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getAptNumber() {\n        return aptNumber;\n    }\n\n    public double getRent() {\n        return rent;\n    }\n\n    public int getTerm() {\n        return term;\n    }\n\n    public void addPetFee() {\n        rent = rent + 10;\n        explainPetPolicy();\n    }\n\n    public static void explainPetPolicy() {\n        String policy = &quot;A pet fee of $10 is added to the monthly rent.&quot;;\n    }\n}\n</code></pre>\n<p>In your main class, when you create the Lease object, input the values into the arguments and then display the Lease with the new values:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    private static String tenant;\n    private static int apt, t;\n    private static double monthRent;\n    private static Lease ls;\n    public static void main (String args[])\n    {\n        getData();\n        // Write your code here\n        ls.setName(tenant);\n        ls.setAptNumber(apt);\n        ls.setRent(monthRent);\n        ls.setTerm(t);\n\n        showValues(ls);\n    }\n    public static void showValues(Lease ls)\n    {\n        System.out.println(&quot;\\n\\nYour lease results:&quot; +\n                &quot;\\nName      : &quot; + ls.getName() +\n                &quot;\\nApartment : &quot; + ls.getAptNumber() +\n                &quot;\\nRent      : &quot; + ls.getRent() +\n                &quot;\\nTerm      : &quot; + ls.getTerm());\n    }\n    public static Lease getData()\n    {\n        // Write your code here\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(&quot;Enter lessee name &gt;&gt; &quot;);\n        tenant = input.nextLine();\n\n        System.out.print(&quot;Enter apartment number &gt;&gt; &quot;);\n        apt = input.nextInt();\n\n        System.out.print(&quot;Enter rent &gt;&gt; &quot;);\n        monthRent = input.nextDouble();\n\n        System.out.print(&quot;Enter lease term in months&gt;&gt; &quot;);\n        t = input.nextInt();\n\n        ls = new Lease(tenant, apt, monthRent, t);\n        return ls;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677738770,"creation_date":1677736319,"question_id":75611744,"body_markdown":"me again. This time I need to get user input, plug them into various set methods, and output a value. It sounds pretty easy although the assignment instructions make it seem way harder. \r\n\r\nIn depth:\r\nI need to declare 4 &quot;Lease&quot; objects in main(), then call a &quot;getData&quot; method thrice. Then I need to return a value for each field in the main(). So to me at least, the obvious next step would be to initialize the field with an input. **However.** I don&#39;t think this is possible (hypothetical code):\r\n\r\n```\r\nLease ls = new Lease();\r\nScanner input = new Scanner(System.in);\r\nString name = input.nextLine();\r\nls.setName(name);\r\n//or \r\nls.setName(input.nextLine());\r\n//or\r\nls.setName() = input.nextLine;\r\n```\r\nI don&#39;t think any of these would work, at least not how I used them there. So a more practical way of thinking is needed here.\r\n\r\n\r\nFor context, here is my two programs:\r\n```\r\nclass Lease {\r\n    public static void main(String args[]){\r\n    }\r\n    private String name;\r\n    private int aptNumber;\r\n    private double rent;\r\n    private int term;\r\n    private static final int FEE = 10;\r\n\r\n    public Lease() {\r\n        name = &quot;XXX&quot;;\r\n        aptNumber = 0;\r\n        rent = 1000.0;\r\n        term = 12;\r\n    }\r\n\r\n    public void setName(String tenant) {\r\n        name = tenant;\r\n    }\r\n\r\n    public void setAptNumber(int apt) {\r\n        aptNumber = apt;\r\n    }\r\n\r\n    public void setRent(double monthRent) {\r\n        rent = monthRent;\r\n    }\r\n\r\n    public void setTerm(int t) {\r\n        term = t;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public int getAptNumber() {\r\n        return aptNumber;\r\n    }\r\n\r\n    public double getRent() {\r\n        return rent;\r\n    }\r\n\r\n    public int getTerm() {\r\n        return term;\r\n    }\r\n\r\n    public void addPetFee() {\r\n        rent = rent + 10;\r\n        explainPetPolicy();\r\n    }\r\n\r\n    public static void explainPetPolicy() {\r\n        String policy = &quot;A pet fee of $10 is added to the monthly rent.&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass TestLease\r\n{\r\n   public static void main (String args[])\r\n   {\r\n     // Write your code here\r\n     Lease ls = new Lease();\r\n     ls.setName(tenant);\r\n     ls.setAptNumber(apt);\r\n     ls.setRent(monthRent);\r\n     ls.setTerm(t);\r\n    \r\n   }\r\n   public static void showValues(Lease ls)\r\n   {\r\n      System.out.println(&quot;\\n\\nYour lease results:&quot; +\r\n         &quot;\\nName      : &quot; + ls.getName() +\r\n         &quot;\\nApartment : &quot; + ls.getAptNumber() +\r\n         &quot;\\nRent      : &quot; + ls.getRent() +\r\n         &quot;\\nTerm      : &quot; + ls.getTerm());\r\n   }\r\n   public static Lease getData(String tenant, int apt, double monthRent, int t)\r\n   {\r\n     // Write your code here\r\n     Scanner input = new Scanner(System.in);\r\n\r\n     System.out.print(&quot;Enter lessee name &gt;&gt; &quot;);\r\n     tenant = input.nextLine();\r\n\r\n     System.out.print(&quot;Enter apartment number &gt;&gt; &quot;);\r\n     apt = input.nextInt();\r\n\r\n     System.out.print(&quot;Enter rent &gt;&gt; &quot;);\r\n     monthRent = input.nextDouble();\r\n\r\n     System.out.print(&quot;Enter lease term in months&gt;&gt; &quot;);\r\n     t = input.nextInt();\r\n   }\r\n}\r\n```\r\nThis is what I currently have. I&#39;m not sure what to do from here, or even if what I have so far is correct. I feel I&#39;m missing a return statement for getData(), and of course, compiling this gives me &quot;symbol not found&quot; errors. \r\n\r\nEven something like `return tenant;` doesn&#39;t do much other than make more errors. I would greatly appreciate any help, even just advice\r\n\r\n","title":"How to apply input to the set method, and in another case, input outside main?","body":"<p>me again. This time I need to get user input, plug them into various set methods, and output a value. It sounds pretty easy although the assignment instructions make it seem way harder.</p>\n<p>In depth:\nI need to declare 4 &quot;Lease&quot; objects in main(), then call a &quot;getData&quot; method thrice. Then I need to return a value for each field in the main(). So to me at least, the obvious next step would be to initialize the field with an input. <strong>However.</strong> I don't think this is possible (hypothetical code):</p>\n<pre><code>Lease ls = new Lease();\nScanner input = new Scanner(System.in);\nString name = input.nextLine();\nls.setName(name);\n//or \nls.setName(input.nextLine());\n//or\nls.setName() = input.nextLine;\n</code></pre>\n<p>I don't think any of these would work, at least not how I used them there. So a more practical way of thinking is needed here.</p>\n<p>For context, here is my two programs:</p>\n<pre><code>class Lease {\n    public static void main(String args[]){\n    }\n    private String name;\n    private int aptNumber;\n    private double rent;\n    private int term;\n    private static final int FEE = 10;\n\n    public Lease() {\n        name = &quot;XXX&quot;;\n        aptNumber = 0;\n        rent = 1000.0;\n        term = 12;\n    }\n\n    public void setName(String tenant) {\n        name = tenant;\n    }\n\n    public void setAptNumber(int apt) {\n        aptNumber = apt;\n    }\n\n    public void setRent(double monthRent) {\n        rent = monthRent;\n    }\n\n    public void setTerm(int t) {\n        term = t;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getAptNumber() {\n        return aptNumber;\n    }\n\n    public double getRent() {\n        return rent;\n    }\n\n    public int getTerm() {\n        return term;\n    }\n\n    public void addPetFee() {\n        rent = rent + 10;\n        explainPetPolicy();\n    }\n\n    public static void explainPetPolicy() {\n        String policy = &quot;A pet fee of $10 is added to the monthly rent.&quot;;\n    }\n}\n</code></pre>\n<pre><code>import java.util.Scanner;\nclass TestLease\n{\n   public static void main (String args[])\n   {\n     // Write your code here\n     Lease ls = new Lease();\n     ls.setName(tenant);\n     ls.setAptNumber(apt);\n     ls.setRent(monthRent);\n     ls.setTerm(t);\n    \n   }\n   public static void showValues(Lease ls)\n   {\n      System.out.println(&quot;\\n\\nYour lease results:&quot; +\n         &quot;\\nName      : &quot; + ls.getName() +\n         &quot;\\nApartment : &quot; + ls.getAptNumber() +\n         &quot;\\nRent      : &quot; + ls.getRent() +\n         &quot;\\nTerm      : &quot; + ls.getTerm());\n   }\n   public static Lease getData(String tenant, int apt, double monthRent, int t)\n   {\n     // Write your code here\n     Scanner input = new Scanner(System.in);\n\n     System.out.print(&quot;Enter lessee name &gt;&gt; &quot;);\n     tenant = input.nextLine();\n\n     System.out.print(&quot;Enter apartment number &gt;&gt; &quot;);\n     apt = input.nextInt();\n\n     System.out.print(&quot;Enter rent &gt;&gt; &quot;);\n     monthRent = input.nextDouble();\n\n     System.out.print(&quot;Enter lease term in months&gt;&gt; &quot;);\n     t = input.nextInt();\n   }\n}\n</code></pre>\n<p>This is what I currently have. I'm not sure what to do from here, or even if what I have so far is correct. I feel I'm missing a return statement for getData(), and of course, compiling this gives me &quot;symbol not found&quot; errors.</p>\n<p>Even something like <code>return tenant;</code> doesn't do much other than make more errors. I would greatly appreciate any help, even just advice</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1677706106,"post_id":75609154,"comment_id":133393330,"body_markdown":"What you have looks fine to me.","body":"What you have looks fine to me."},{"owner":{"account_id":8970539,"reputation":68,"user_id":6689199,"display_name":"Javoid"},"score":0,"creation_date":1677706178,"post_id":75609154,"comment_id":133393348,"body_markdown":"That methods signature says it can throw such exception. One day NativePRNGNonBlocking could no longer exist and this exception is thrown. Maybe you convert it to user input, and there is a typo. If you really want, however, just name your &quot;e&quot; to ignored, and leave your catch block empty. That&#39;s not your IDE forcing you btw :) that is the compiler. Your IDE is saving you the time of the program failing to compile","body":"That methods signature says it can throw such exception. One day NativePRNGNonBlocking could no longer exist and this exception is thrown. Maybe you convert it to user input, and there is a typo. If you really want, however, just name your &quot;e&quot; to ignored, and leave your catch block empty. That&#39;s not your IDE forcing you btw :) that is the compiler. Your IDE is saving you the time of the program failing to compile"}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677707350,"creation_date":1677707350,"answer_id":75609353,"question_id":75609154,"body_markdown":"[Project Lombok](https://projectlombok.org/) has an annotation useful for this. `@SneakyThrows` (https://projectlombok.org/features/SneakyThrows)\r\n\r\nThis would make your code look a little cleaner.\r\n```Java\r\n@SneakyThrows(NoSuchAlgorithmException.class)\r\nprivate static SecureRandom getSecureRandom() {\r\n   return SecureRandom().getInstance(algorithm);\r\n}\r\n```\r\n","title":"Get rid of Java exceptions when I am sure the exception will not happen","body":"<p><a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a> has an annotation useful for this. <code>@SneakyThrows</code> (<a href=\"https://projectlombok.org/features/SneakyThrows\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/SneakyThrows</a>)</p>\n<p>This would make your code look a little cleaner.</p>\n<pre><code>@SneakyThrows(NoSuchAlgorithmException.class)\nprivate static SecureRandom getSecureRandom() {\n   return SecureRandom().getInstance(algorithm);\n}\n</code></pre>\n"}],"owner":{"account_id":26042394,"reputation":1,"user_id":19746942,"display_name":"DXW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677738674,"creation_date":1677705884,"question_id":75609154,"body_markdown":"Please see the code below. IDE forces me to deal with the `NoSuchAlgorithmException`. However for my case, I am explicitly using the &#39;NativePRNGNonBlocking&#39; algorithm for creating randomness, therefore guarantee the exception will not occur. Is there an elegant way to get rid of the exception handling for this case?\r\n\r\n\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n\r\n    public class Randomness {\r\n    \r\n    \tprivate static String algorithm = &quot;NativePRNGNonBlocking&quot;;\r\n    \r\n    \tprivate static SecureRandom getSecureRandom() {\r\n    \t\ttry {\r\n    \t\t\tSecureRandom secureRandom = new SecureRandom().getInstance(algorithm);\r\n    \t\t\treturn secureRandom;\r\n    \t\t}\r\n    \t\tcatch (NoSuchAlgorithmException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static byte[] createRandomBytes(int byteLength) {\r\n    \t\tbyte[] buffer = new byte[byteLength];\r\n    \t\tgetSecureRandom().nextBytes(buffer);\r\n    \t\treturn buffer;\r\n    \t}\r\n    \r\n    }\r\n\r\nAny helps are highly appreciated!","title":"Get rid of Java exceptions when I am sure the exception will not happen","body":"<p>Please see the code below. IDE forces me to deal with the <code>NoSuchAlgorithmException</code>. However for my case, I am explicitly using the 'NativePRNGNonBlocking' algorithm for creating randomness, therefore guarantee the exception will not occur. Is there an elegant way to get rid of the exception handling for this case?</p>\n<pre><code>import java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\n\npublic class Randomness {\n\n    private static String algorithm = &quot;NativePRNGNonBlocking&quot;;\n\n    private static SecureRandom getSecureRandom() {\n        try {\n            SecureRandom secureRandom = new SecureRandom().getInstance(algorithm);\n            return secureRandom;\n        }\n        catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static byte[] createRandomBytes(int byteLength) {\n        byte[] buffer = new byte[byteLength];\n        getSecureRandom().nextBytes(buffer);\n        return buffer;\n    }\n\n}\n</code></pre>\n<p>Any helps are highly appreciated!</p>\n"},{"tags":["java","java.util.concurrent","completable-future","saga"],"comments":[{"owner":{"account_id":1833470,"reputation":6598,"user_id":1664318,"display_name":"Maxim Fateev"},"score":0,"creation_date":1678143635,"post_id":75611971,"comment_id":133473289,"body_markdown":"What happens if the JVM crashes in the middle of the processing the request?","body":"What happens if the JVM crashes in the middle of the processing the request?"},{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":0,"creation_date":1678177414,"post_id":75611971,"comment_id":133478239,"body_markdown":"In this scenarios, we rely on the idempotent nature of the operation and reprocess the data. We want to avoid the overhead of the DB backed saga implementations and use a in-memory concurrent solution.","body":"In this scenarios, we rely on the idempotent nature of the operation and reprocess the data. We want to avoid the overhead of the DB backed saga implementations and use a in-memory concurrent solution."}],"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677738649,"creation_date":1677738649,"question_id":75611971,"body_markdown":"I&#39;m trying to model a fan-out saga pattern in a Java 11 spring component. The goal is to use the java concurrency classes to track the aggregate result status for many requests which are tracked in a list. The aim is then to take an action when they all succeed, one fails or does not respond.\r\n\r\nMy SagaObject, Request and RequestStatus classes are outline below, and show a List of request objects which have a status which will be updated from remote responses.\r\n\r\n\tclass SagaObject {\r\n\t\tprivate long sagaId;\r\n\t\tprivate List&lt;Request&gt; requests;\r\n\t}\r\n\r\n\tclass Request {\r\n\t\tprivate long requestId;\r\n\t\tprivate RequestStatus status = RequestStatus.PENDING;\r\n\t}\r\n\r\n\tenum RequestStatus {\r\n\t\tPENDING,SUCCESS,FAILED;\r\n\t}\r\n\r\nIn a number of examples I&#39;ve seen, the approach is to create a CompletableFuture for each Request object. These instances\r\nare then grouped using the &#39;allOf()&#39; functionality. \r\n\r\n    // sudo code\r\n    // create a CompletableFuture per request\r\n    List&lt;CompletableFuture&lt;Request&gt;&gt; completableFutures =\r\n        sagaObject.requests.stream().collect(Collectors.toList());\r\n\r\n    // a CompletableFuture to track all the individual request\r\n    CompletableFuture&lt;Request&gt; allFutures = CompletableFuture\r\n        .allOf(completableFutures.toArray(new CompletableFuture[sagaObject.requests.size()]));\r\n    \r\n    allFutures.get();\r\n    // do some work based on the results of the &#39;allOf()&#39;\r\n    if (allFutures.isDone ()) {\r\n        // once all the CompletableFuture&#39;s have completed - we still need to iterate the list to check the outcome.\r\n    }\r\n\r\nIn my case - I&#39;ve concerns about the number of requests in the list will be large. I sense creating a specific \r\nCompletableFuture for each list request will create too large an overhead. Is this concern valid, what if the list has ~100,000 elements?\r\n\r\nI have a sense I should have the &#39;SagaObject&#39; implement one of the Callable/Supplier interfaces in a manner below\r\n\r\n    // sudo code\r\n    class SagaObject implements Callable&lt;RequestStatus&gt;, Supplier  {\r\n        private long sagaId;\r\n        private List&lt;Request&gt; requests;\r\n\r\n        public RequestStatus call() throws Exception {\r\n            // iterate the &#39;request&#39; list and return SUCCESS/FAILED or an exception if PENDING remains\r\n            return ..;\r\n        }\r\n    }\r\n\r\nwhich would then allow me to call the same code via ExecutorService in a manner like \r\n\r\n    // sudo code\r\n    ExecutorService executorService = Executors.newCachedThreadPool();\r\n        try {   \r\n            Future&lt;RequestStatus&gt; sagaFuture = executorService.submit(sagaObject);\r\n            if (sagaFuture.isDone ()) {\r\n                // \r\n                sagaFuture.get();\r\n            }\r\n\r\nI guess i&#39;m not sure what is the best approach to breaking this problem down correctly so it aligns the concurrency\r\nmodels provided by the JVM. \r\nI&#39;d be interested in any suggestions that stackoverflow and CompletableFuture users might suggest here. \r\nThanks","title":"CompletableFuture - Aggregating many results from a list for a Saga Fan-Out Pattern?","body":"<p>I'm trying to model a fan-out saga pattern in a Java 11 spring component. The goal is to use the java concurrency classes to track the aggregate result status for many requests which are tracked in a list. The aim is then to take an action when they all succeed, one fails or does not respond.</p>\n<p>My SagaObject, Request and RequestStatus classes are outline below, and show a List of request objects which have a status which will be updated from remote responses.</p>\n<pre><code>class SagaObject {\n    private long sagaId;\n    private List&lt;Request&gt; requests;\n}\n\nclass Request {\n    private long requestId;\n    private RequestStatus status = RequestStatus.PENDING;\n}\n\nenum RequestStatus {\n    PENDING,SUCCESS,FAILED;\n}\n</code></pre>\n<p>In a number of examples I've seen, the approach is to create a CompletableFuture for each Request object. These instances\nare then grouped using the 'allOf()' functionality.</p>\n<pre><code>// sudo code\n// create a CompletableFuture per request\nList&lt;CompletableFuture&lt;Request&gt;&gt; completableFutures =\n    sagaObject.requests.stream().collect(Collectors.toList());\n\n// a CompletableFuture to track all the individual request\nCompletableFuture&lt;Request&gt; allFutures = CompletableFuture\n    .allOf(completableFutures.toArray(new CompletableFuture[sagaObject.requests.size()]));\n\nallFutures.get();\n// do some work based on the results of the 'allOf()'\nif (allFutures.isDone ()) {\n    // once all the CompletableFuture's have completed - we still need to iterate the list to check the outcome.\n}\n</code></pre>\n<p>In my case - I've concerns about the number of requests in the list will be large. I sense creating a specific\nCompletableFuture for each list request will create too large an overhead. Is this concern valid, what if the list has ~100,000 elements?</p>\n<p>I have a sense I should have the 'SagaObject' implement one of the Callable/Supplier interfaces in a manner below</p>\n<pre><code>// sudo code\nclass SagaObject implements Callable&lt;RequestStatus&gt;, Supplier  {\n    private long sagaId;\n    private List&lt;Request&gt; requests;\n\n    public RequestStatus call() throws Exception {\n        // iterate the 'request' list and return SUCCESS/FAILED or an exception if PENDING remains\n        return ..;\n    }\n}\n</code></pre>\n<p>which would then allow me to call the same code via ExecutorService in a manner like</p>\n<pre><code>// sudo code\nExecutorService executorService = Executors.newCachedThreadPool();\n    try {   \n        Future&lt;RequestStatus&gt; sagaFuture = executorService.submit(sagaObject);\n        if (sagaFuture.isDone ()) {\n            // \n            sagaFuture.get();\n        }\n</code></pre>\n<p>I guess i'm not sure what is the best approach to breaking this problem down correctly so it aligns the concurrency\nmodels provided by the JVM.\nI'd be interested in any suggestions that stackoverflow and CompletableFuture users might suggest here.\nThanks</p>\n"},{"tags":["java","arrays","list","sorting","bubble-sort"],"comments":[{"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"score":0,"creation_date":1294389053,"post_id":4623738,"comment_id":5085188,"body_markdown":"Bubblesort is a slow algorithm... but it&#39;s ok for learning purposes :)","body":"Bubblesort is a slow algorithm... but it&#39;s ok for learning purposes :)"},{"owner":{"display_name":"user395760"},"score":0,"creation_date":1294389107,"post_id":4623738,"comment_id":5085193,"body_markdown":"Why not go straight to [bogosort](http://en.wikipedia.org/wiki/Bogosort)? Propably useful for learning, too ;)","body":"Why not go straight to <a href=\"http://en.wikipedia.org/wiki/Bogosort\" rel=\"nofollow noreferrer\">bogosort</a>? Propably useful for learning, too ;)"}],"answers":[{"tags":[],"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1294388924,"creation_date":1294388924,"answer_id":4623757,"question_id":4623738,"body_markdown":"&gt;is there a better way to sort an arraylist or list.\r\n\r\nYes: use the sorting that is built into the standard library.\r\n\r\nFor example, http://download.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#sort%28java.util.List%29","title":"How to bubble sort a arraylist in java?","body":"<blockquote>\n  <p>is there a better way to sort an arraylist or list.</p>\n</blockquote>\n\n<p>Yes: use the sorting that is built into the standard library.</p>\n\n<p>For example, <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#sort%28java.util.List%29\" rel=\"nofollow\">http://download.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#sort%28java.util.List%29</a></p>\n"},{"tags":[],"owner":{"account_id":19738292,"reputation":1,"user_id":14452248,"display_name":"Timi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602735746,"creation_date":1602715511,"answer_id":64362498,"question_id":4623738,"body_markdown":"To sort an ArrayList I used the Collections.sort(), included the in the ArrayList class.\r\neg.\r\n\r\n     ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\nTo sort it I would say,\r\n\r\n    Collections.sort(list);\r\n\r\nand this would sort the `ArrayList`","title":"How to bubble sort a arraylist in java?","body":"<p>To sort an ArrayList I used the Collections.sort(), included the in the ArrayList class.\neg.</p>\n<pre><code> ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>To sort it I would say,</p>\n<pre><code>Collections.sort(list);\n</code></pre>\n<p>and this would sort the <code>ArrayList</code></p>\n"}],"owner":{"account_id":273391,"reputation":339,"user_id":564964,"accept_rate":42,"display_name":"Tsuna Sawada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677738220,"creation_date":1294388728,"question_id":4623738,"body_markdown":"How to bubble sort a arraylist in java?  \r\ni want to bubble sort an arraylist. or is there a better way to sort an arraylist or list.\r\n","title":"How to bubble sort a arraylist in java?","body":"<p>How to bubble sort a arraylist in java?<br>\ni want to bubble sort an arraylist. or is there a better way to sort an arraylist or list.</p>\n"},{"tags":["java","android","react-native","splash-screen"],"comments":[{"owner":{"account_id":14842277,"reputation":4823,"user_id":10718641,"display_name":"Abe"},"score":0,"creation_date":1677727897,"post_id":75610501,"comment_id":133396680,"body_markdown":"The library is open source - why not see how they did it?","body":"The library is open source - why not see how they did it?"}],"answers":[{"tags":[],"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677730466,"creation_date":1677730466,"answer_id":75611267,"question_id":75610501,"body_markdown":"You can do that by creating a new java class with extends `AppCompatActivity` class. Then you need to modify the manifest XML file also by including this new activity. This Splash screen code need to be inside of `onCreate` method.","title":"Is there a way to add splash screen in java for react native project?","body":"<p>You can do that by creating a new java class with extends <code>AppCompatActivity</code> class. Then you need to modify the manifest XML file also by including this new activity. This Splash screen code need to be inside of <code>onCreate</code> method.</p>\n"},{"tags":[],"owner":{"account_id":8390483,"reputation":155,"user_id":6299373,"accept_rate":100,"display_name":"Rajwant Kaur Boughan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677737832,"creation_date":1677737411,"answer_id":75611858,"question_id":75610501,"body_markdown":"You can use setTimeout to display your Splash screen and then navigate to either Login or Homescreen as per your APP Navigation Routes. For Example`\r\n\r\n    class Splash extends Component{                  \r\n      componentDidMount = () =&gt; {\r\n\r\n        this._init()\r\n    }\r\n\r\n    _init = async () =&gt; {\r\n        const userPrefs = await getUserPref();\r\n\r\n        if (userPrefs !== null) {\r\n\r\n            setTimeout(() =&gt; {\r\n                \r\n                    this.props.navigation.replace(&#39;Home&#39;)\r\n              \r\n            }, 1000);\r\n        } else {\r\n            setTimeout(() =&gt; {\r\n                this.props.navigation.replace(&#39;Start&#39;)\r\n\r\n            }, 1000);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            &lt;View style={styles.parent}&gt;\r\n\r\n                &lt;Image\r\n                    source={Images.logo}\r\n                    style={styles.logo}\r\n                    resizeMode=&#39;contain&#39;\r\n                /&gt;\r\n                \r\n            &lt;/View&gt;\r\n        )\r\n    }}\r\n","title":"Is there a way to add splash screen in java for react native project?","body":"<p>You can use setTimeout to display your Splash screen and then navigate to either Login or Homescreen as per your APP Navigation Routes. For Example`</p>\n<pre><code>class Splash extends Component{                  \n  componentDidMount = () =&gt; {\n\n    this._init()\n}\n\n_init = async () =&gt; {\n    const userPrefs = await getUserPref();\n\n    if (userPrefs !== null) {\n\n        setTimeout(() =&gt; {\n            \n                this.props.navigation.replace('Home')\n          \n        }, 1000);\n    } else {\n        setTimeout(() =&gt; {\n            this.props.navigation.replace('Start')\n\n        }, 1000);\n    }\n}\n\n\nrender() {\n    return (\n        &lt;View style={styles.parent}&gt;\n\n            &lt;Image\n                source={Images.logo}\n                style={styles.logo}\n                resizeMode='contain'\n            /&gt;\n            \n        &lt;/View&gt;\n    )\n}}\n</code></pre>\n"}],"owner":{"account_id":21587132,"reputation":17,"user_id":15917367,"display_name":"At-U"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677737832,"creation_date":1677719729,"question_id":75610501,"body_markdown":"I have seen a lot of solutions using the `react-native-splash-screen` library for react native projects. \r\n\r\nIs there any way to implement splash screen in android(java) for a react native project without using the `react-native-splash-screen` library or without any external libraries?","title":"Is there a way to add splash screen in java for react native project?","body":"<p>I have seen a lot of solutions using the <code>react-native-splash-screen</code> library for react native projects.</p>\n<p>Is there any way to implement splash screen in android(java) for a react native project without using the <code>react-native-splash-screen</code> library or without any external libraries?</p>\n"},{"tags":["java","maven","jar","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":18036828,"reputation":123,"user_id":13110035,"display_name":"Dilibaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677737245,"creation_date":1677737245,"answer_id":75611847,"question_id":75604165,"body_markdown":"I have fixed this. \r\n\r\nIt&#39;s something due to the version of maven-shade-plugin. \r\n\r\nIn my pom.xml I didn&#39;t set a `version`, so some strange happens. After I set the `version`, the problem solved.","title":"Class not found after maven package, but can see it in IDEA denpendies","body":"<p>I have fixed this.</p>\n<p>It's something due to the version of maven-shade-plugin.</p>\n<p>In my pom.xml I didn't set a <code>version</code>, so some strange happens. After I set the <code>version</code>, the problem solved.</p>\n"}],"owner":{"account_id":18036828,"reputation":123,"user_id":13110035,"display_name":"Dilibaba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75611847,"answer_count":1,"score":-1,"last_activity_date":1677737245,"creation_date":1677676105,"question_id":75604165,"body_markdown":"My java application cast `class not exception` on class `org.apache.htrace.shaded.commons.logging.impl.LogFactoryImpl`, from IDEA I can see the class can be found in my dependency:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n but when I get into the jar, only some class left in the package `org.apache.htrace.shaded.commons.logging`, and without `impl` package in it:\r\n\r\n```\r\njar -tf GIS-1.0-SNAPSHOT.jar | fgrep org/apache/htrace/shaded/commons\r\norg/apache/htrace/shaded/commons/\r\norg/apache/htrace/shaded/commons/logging/\r\norg/apache/htrace/shaded/commons/logging/Log.class\r\norg/apache/htrace/shaded/commons/logging/LogConfigurationException.class\r\norg/apache/htrace/shaded/commons/logging/LogFactory$1.class\r\norg/apache/htrace/shaded/commons/logging/LogFactory$2.class\r\norg/apache/htrace/shaded/commons/logging/LogFactory$3.class\r\norg/apache/htrace/shaded/commons/logging/LogFactory$4.class\r\norg/apache/htrace/shaded/commons/logging/LogFactory$5.class\r\norg/apache/htrace/shaded/commons/logging/LogFactory$6.class\r\norg/apache/htrace/shaded/commons/logging/LogFactory.class\r\n```\r\n Also, some and other class exists, which was not in the above picture. And the class I want `LogFactoryImpl` is not there, so the `class not found` exception occur.\r\n\r\n\r\nI have analysis the Maven dependency, and make sure no conflict. What can I do to solve this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dFUw1.png","title":"Class not found after maven package, but can see it in IDEA denpendies","body":"<p>My java application cast <code>class not exception</code> on class <code>org.apache.htrace.shaded.commons.logging.impl.LogFactoryImpl</code>, from IDEA I can see the class can be found in my dependency:</p>\n<p><a href=\"https://i.stack.imgur.com/dFUw1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dFUw1.png\" alt=\"enter image description here\" /></a></p>\n<p>but when I get into the jar, only some class left in the package <code>org.apache.htrace.shaded.commons.logging</code>, and without <code>impl</code> package in it:</p>\n<pre><code>jar -tf GIS-1.0-SNAPSHOT.jar | fgrep org/apache/htrace/shaded/commons\norg/apache/htrace/shaded/commons/\norg/apache/htrace/shaded/commons/logging/\norg/apache/htrace/shaded/commons/logging/Log.class\norg/apache/htrace/shaded/commons/logging/LogConfigurationException.class\norg/apache/htrace/shaded/commons/logging/LogFactory$1.class\norg/apache/htrace/shaded/commons/logging/LogFactory$2.class\norg/apache/htrace/shaded/commons/logging/LogFactory$3.class\norg/apache/htrace/shaded/commons/logging/LogFactory$4.class\norg/apache/htrace/shaded/commons/logging/LogFactory$5.class\norg/apache/htrace/shaded/commons/logging/LogFactory$6.class\norg/apache/htrace/shaded/commons/logging/LogFactory.class\n</code></pre>\n<p>Also, some and other class exists, which was not in the above picture. And the class I want <code>LogFactoryImpl</code> is not there, so the <code>class not found</code> exception occur.</p>\n<p>I have analysis the Maven dependency, and make sure no conflict. What can I do to solve this problem?</p>\n"},{"tags":["java","spring-boot","api","rest","spring-mvc"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1677737277,"post_id":75611807,"comment_id":133397767,"body_markdown":"You have to specify the name of the war in the utl try: `http://localhost:8080/helloworld-0.0.1-SNAPSHOT`","body":"You have to specify the name of the war in the utl try: <code>http:&#47;&#47;localhost:8080&#47;helloworld-0.0.1-SNAPSHOT</code>"}],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677737079,"creation_date":1677737079,"answer_id":75611829,"question_id":75611807,"body_markdown":"try defining the path that could help identify Dispatcherservlet which method to invoke. \r\n\r\nFor example, http://localhost:8080/home should resolve to below \r\n\r\n    @GetMapping(value = &quot;/home&quot;)  \r\n        public String product(){ }","title":"Not getting response from controller in spring boot application","body":"<p>try defining the path that could help identify Dispatcherservlet which method to invoke.</p>\n<p>For example, http://localhost:8080/home should resolve to below</p>\n<pre><code>@GetMapping(value = &quot;/home&quot;)  \n    public String product(){ }\n</code></pre>\n"}],"owner":{"account_id":18903886,"reputation":67,"user_id":13791410,"display_name":"Habibur Rahman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677737199,"creation_date":1677736856,"question_id":75611807,"body_markdown":"I am learning spring boot. I am try to get response from controller by hitting http://localhost:8080 url. But unfortunate I am not get the expected response.\r\n\r\nHere is my controller...\r\n         \r\n\r\n    package com.learning.helloworld;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class ProductController {\r\n        @GetMapping\r\n        public String product(){\r\n            System.out.println(&quot;Hi&quot;);\r\n            return &quot;the product is sold&quot;;\r\n        }\r\n    }\r\n\r\nHere is the pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.learning&lt;/groupId&gt;\r\n    &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;helloworld&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nAfter hitting the http://localhost:8080 url the Browser show\r\n    [![\\[!\\[enter image description here\\]\\[1\\]\\]\\[1\\]\r\n    \\[1\\]:][1]][1] \r\n\r\nHow to solve this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vRJg0.png","title":"Not getting response from controller in spring boot application","body":"<p>I am learning spring boot. I am try to get response from controller by hitting http://localhost:8080 url. But unfortunate I am not get the expected response.</p>\n<p>Here is my controller...</p>\n<pre><code>package com.learning.helloworld;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class ProductController {\n    @GetMapping\n    public String product(){\n        System.out.println(&quot;Hi&quot;);\n        return &quot;the product is sold&quot;;\n    }\n}\n</code></pre>\n<p>Here is the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.learning&lt;/groupId&gt;\n&lt;artifactId&gt;helloworld&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;helloworld&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;19&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>After hitting the http://localhost:8080 url the Browser show\n<a href=\"https://i.stack.imgur.com/vRJg0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vRJg0.png\" alt=\"[![enter image description here][1]][1]\n[1]:\" /></a></p>\n<p>How to solve this problem?</p>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1677738976,"post_id":75611840,"comment_id":133398060,"body_markdown":"`(?:[0-9]\\\\:)` https://stackoverflow.com/questions/3512471/what-is-a-non-capturing-group-in-regular-expressions","body":"<code>(?:[0-9]\\\\:)</code> <a href=\"https://stackoverflow.com/questions/3512471/what-is-a-non-capturing-group-in-regular-expressions\" title=\"what is a non capturing group in regular expressions\">stackoverflow.com/questions/3512471/&hellip;</a>"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677739045,"answer_count":0,"score":0,"last_activity_date":1677737165,"creation_date":1677737165,"question_id":75611840,"body_markdown":"I need to regex a string.\r\n\r\n    &lt;NAME&gt; [NUM1:]&lt;NUM2&gt;\r\n\r\nI want to get mandatory NAME and NUM2. I do not need the optional NUM1. If NUM1 is present is is separated by a : to NUM2.\r\n\r\nE.g.\r\n\r\n    tim 20         =&gt; NAME: tim,   NUM2: 20\r\n    tommy 123      =&gt; NAME: tommy, NUM2: 123\r\n    eve 9:234      =&gt; NAME: eve,   NUM2: 234\r\n\r\nThats my pattern and matching. It is working well.\r\n\r\n    Pattern pat = Pattern.compile (&quot;^(.+)\\\\ ([0-9]\\\\:)?(.+?)$&quot;);\r\n    Matcher mat = patp.matcher (myline);\r\n    if (matpack.matches () == true)\r\n    {\r\n      System.out.println (&quot;NAME: &quot; + mat.group (1) + &quot;, NUM2: &quot; + mat.group (3));\r\n    }\r\n\r\nAs you can see I have ( ) around the optional NUM1 to say the number AND the : are optional (?). Therefore I need to use group 1 (NAME) and group 3 (NUM2) to get the matching values.\r\n\r\nHow can I change my regex-term to group the number and the : of NUM1 together for the ? but not have it as a group?\r\n\r\nI want to have group 1 for NAME and group 2 for NUM2.\r\n","title":"Java-Regex: group together without having a matching-group","body":"<p>I need to regex a string.</p>\n<pre><code>&lt;NAME&gt; [NUM1:]&lt;NUM2&gt;\n</code></pre>\n<p>I want to get mandatory NAME and NUM2. I do not need the optional NUM1. If NUM1 is present is is separated by a : to NUM2.</p>\n<p>E.g.</p>\n<pre><code>tim 20         =&gt; NAME: tim,   NUM2: 20\ntommy 123      =&gt; NAME: tommy, NUM2: 123\neve 9:234      =&gt; NAME: eve,   NUM2: 234\n</code></pre>\n<p>Thats my pattern and matching. It is working well.</p>\n<pre><code>Pattern pat = Pattern.compile (&quot;^(.+)\\\\ ([0-9]\\\\:)?(.+?)$&quot;);\nMatcher mat = patp.matcher (myline);\nif (matpack.matches () == true)\n{\n  System.out.println (&quot;NAME: &quot; + mat.group (1) + &quot;, NUM2: &quot; + mat.group (3));\n}\n</code></pre>\n<p>As you can see I have ( ) around the optional NUM1 to say the number AND the : are optional (?). Therefore I need to use group 1 (NAME) and group 3 (NUM2) to get the matching values.</p>\n<p>How can I change my regex-term to group the number and the : of NUM1 together for the ? but not have it as a group?</p>\n<p>I want to have group 1 for NAME and group 2 for NUM2.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1677736551,"creation_date":1677735006,"answer_id":75611611,"question_id":75611595,"body_markdown":"Put `@RestController` instead of `@Controller`. It will work.\r\n\r\n**Note:** `@RestController` is a meta-annotation which includes both `@ResponseBody` and `@Controller`\r\n\r\nModify to this: \r\n\r\n    @RestController\r\n    public class HomeController \r\n    {\r\n    \t@RequestMapping(&quot;/home&quot;)\r\n    \tpublic String sayHello()\r\n    \t{\r\n    \t\treturn &quot;Hello, World!&quot;;\r\n    \t}\r\n    }","title":"Controllers are not detected in the Spring Boot application","body":"<p>Put <code>@RestController</code> instead of <code>@Controller</code>. It will work.</p>\n<p><strong>Note:</strong> <code>@RestController</code> is a meta-annotation which includes both <code>@ResponseBody</code> and <code>@Controller</code></p>\n<p>Modify to this:</p>\n<pre><code>@RestController\npublic class HomeController \n{\n    @RequestMapping(&quot;/home&quot;)\n    public String sayHello()\n    {\n        return &quot;Hello, World!&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677735910,"creation_date":1677735435,"answer_id":75611662,"question_id":75611595,"body_markdown":"Add `@ResponseBody` to your method `sayHello`\r\n\r\n    @Controller\r\n    public class HomeController \r\n    {\r\n        @RequestMapping(&quot;/home&quot;)\r\n        public @ResponseBody String sayHello()\r\n        {\r\n            return &quot;Hello, World!&quot;;\r\n        }\r\n    }\r\n\r\nwithout `@ResponseBody`,when use  `@Controller`, spring will find view page from the source dir.\r\n\r\nIn fact, @Anish B.&#39;s answer is also the correct answer\r\n\r\nThe `@RestController` is \r\n\r\n    package org.springframework.web.bind.annotation;\r\n    \r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    import org.springframework.core.annotation.AliasFor;\r\n    import org.springframework.stereotype.Controller;\r\n    \r\n    @Target({ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @Controller\r\n    @ResponseBody\r\n    public @interface RestController {\r\n        @AliasFor(\r\n            annotation = Controller.class\r\n        )\r\n        String value() default &quot;&quot;;\r\n    }\r\n","title":"Controllers are not detected in the Spring Boot application","body":"<p>Add <code>@ResponseBody</code> to your method <code>sayHello</code></p>\n<pre><code>@Controller\npublic class HomeController \n{\n    @RequestMapping(&quot;/home&quot;)\n    public @ResponseBody String sayHello()\n    {\n        return &quot;Hello, World!&quot;;\n    }\n}\n</code></pre>\n<p>without <code>@ResponseBody</code>,when use  <code>@Controller</code>, spring will find view page from the source dir.</p>\n<p>In fact, @Anish B.'s answer is also the correct answer</p>\n<p>The <code>@RestController</code> is</p>\n<pre><code>package org.springframework.web.bind.annotation;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\nimport org.springframework.core.annotation.AliasFor;\nimport org.springframework.stereotype.Controller;\n\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Controller\n@ResponseBody\npublic @interface RestController {\n    @AliasFor(\n        annotation = Controller.class\n    )\n    String value() default &quot;&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677736770,"creation_date":1677736770,"answer_id":75611797,"question_id":75611595,"body_markdown":"try adding `@ResponseBody` annotation to mentioned method. otherwise &#39;Hello World&#39; is considered as page (jsp) to render.\r\n\r\nAlso for debugging try adding a sysout&#39;s in `sayHello()`, this is help to pin point the exact failure. If sysout gets printed and still you see 404 , it is most likely a view issue.","title":"Controllers are not detected in the Spring Boot application","body":"<p>try adding <code>@ResponseBody</code> annotation to mentioned method. otherwise 'Hello World' is considered as page (jsp) to render.</p>\n<p>Also for debugging try adding a sysout's in <code>sayHello()</code>, this is help to pin point the exact failure. If sysout gets printed and still you see 404 , it is most likely a view issue.</p>\n"}],"owner":{"account_id":18718068,"reputation":31,"user_id":13646606,"display_name":"Imdad abro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1677736770,"creation_date":1677734859,"question_id":75611595,"body_markdown":"I have a Spring Boot application and the application starts successfully.\r\n\r\nBut I don&#39;t know why I am getting 404 error when hitting `http://localhost:8080/home`. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe controller code :\r\n\r\n\r\n```\r\npackage com.badar.muneer;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class HomeController \r\n{\r\n\t@RequestMapping(&quot;/home&quot;)\r\n\tpublic String sayHello()\r\n\t{\r\n\t\treturn &quot;Hello, World!&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have tried to put all the controllers in same package as Spring Boot application class and also in it&#39;s subpackage but nothing works out. \r\n\r\nCan somebody tell me where is the issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/He0Ye.png\r\n  [2]: https://i.stack.imgur.com/v16pU.png","title":"Controllers are not detected in the Spring Boot application","body":"<p>I have a Spring Boot application and the application starts successfully.</p>\n<p>But I don't know why I am getting 404 error when hitting <code>http://localhost:8080/home</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/v16pU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v16pU.png\" alt=\"enter image description here\" /></a></p>\n<p>The controller code :</p>\n<pre><code>package com.badar.muneer;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class HomeController \n{\n    @RequestMapping(&quot;/home&quot;)\n    public String sayHello()\n    {\n        return &quot;Hello, World!&quot;;\n    }\n}\n</code></pre>\n<p>Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/He0Ye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/He0Ye.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried to put all the controllers in same package as Spring Boot application class and also in it's subpackage but nothing works out.</p>\n<p>Can somebody tell me where is the issue?</p>\n"},{"tags":["java","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672915219,"post_id":75017105,"comment_id":132382292,"body_markdown":"You shouldn&#39;t be using `block` that is what the error is telling you. Generally if you are using `block` in a reactive pipeline you are doing it wrong and basically loose the reactive benefits. You should probably use `map` instead of `block` to have access to the user and place it in the post. That being said your code also looks wrong as getting the user with the id of the post doesn&#39;t look really right. It will also not return what you expect, it will onlyu return the posts that initially had no user attached, so it isn&#39;t really `findAll`.","body":"You shouldn&#39;t be using <code>block</code> that is what the error is telling you. Generally if you are using <code>block</code> in a reactive pipeline you are doing it wrong and basically loose the reactive benefits. You should probably use <code>map</code> instead of <code>block</code> to have access to the user and place it in the post. That being said your code also looks wrong as getting the user with the id of the post doesn&#39;t look really right. It will also not return what you expect, it will onlyu return the posts that initially had no user attached, so it isn&#39;t really <code>findAll</code>."},{"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"score":0,"creation_date":1672919031,"post_id":75017105,"comment_id":132383536,"body_markdown":"Thanks for your reply. Would you inform me of the sample codes, plz?","body":"Thanks for your reply. Would you inform me of the sample codes, plz?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672922157,"post_id":75017105,"comment_id":132384530,"body_markdown":"Replace `block` with `map` it isn&#39;t harder than that.","body":"Replace <code>block</code> with <code>map</code> it isn&#39;t harder than that."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1672922644,"post_id":75017105,"comment_id":132384716,"body_markdown":"@M.Deinum : you mean *flatMap* I think. But, I have the impression that you try to do JPA job manually. I think that solving the user relation should be delegated to JPA. Maybe you miss an annotation somewhere.","body":"@M.Deinum : you mean <i>flatMap</i> I think. But, I have the impression that you try to do JPA job manually. I think that solving the user relation should be delegated to JPA. Maybe you miss an annotation somewhere."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672922721,"post_id":75017105,"comment_id":132384756,"body_markdown":"I always use code completion for `map`/`flatMap` I always get a headache with those ;). This isn&#39;t JPA, this is probably Spring Data R2DBC and not JPA (which wouldn&#39;t be reactive in anyway).","body":"I always use code completion for <code>map</code>/<code>flatMap</code> I always get a headache with those ;). This isn&#39;t JPA, this is probably Spring Data R2DBC and not JPA (which wouldn&#39;t be reactive in anyway)."},{"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"score":0,"creation_date":1672929584,"post_id":75017105,"comment_id":132387367,"body_markdown":"Yes! This issue is of spring webflux r2dbc. My question is map function needs comsumer api. Kindly inform me what consumer api should be the parameter of map function.","body":"Yes! This issue is of spring webflux r2dbc. My question is map function needs comsumer api. Kindly inform me what consumer api should be the parameter of map function."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672934939,"creation_date":1672934939,"answer_id":75021323,"question_id":75017105,"body_markdown":"Blocking code is not allowed on reactive schedulers. You need to define a flow using reactive API ‘map/flatMap‘ and return it from your controller. \r\n\r\nFrom what I see `PostReactiveMysqlRepository` is reactive and `userRepository.findById()` returns `Mono&lt;User&gt;` you can use\r\n\r\n```\r\npublic Mono&lt;ServerResponse&gt; findAll(ServerRequest request) {\r\n\tFlux&lt;Post&gt; fluxPost = postRepository.findAll()\r\n\t\t\t.filter(p -&gt; (p.getUser() == null))\r\n\t\t\t.flatMap(p -&gt; \r\n\t\t\t\t\tuserRepository.findById(p.getId()\r\n\t\t\t\t\t\t\t.map(user -&gt; {\r\n\t\t\t\t\t\t\t\tp.setUser(user);\r\n\t\t\t\t\t\t\t\treturn p;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t);\r\n\r\n\treturn ServerResponse.ok().body(fluxPost, Post.class);\r\n}\r\n```\r\n\r\nThe key points here are \r\n - use `flatMap` instead of `map` in case operation is async (returns `Mono` or `Flux`)\r\n - use `map` instead of `block` to complete the reactive flow","title":"java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio","body":"<p>Blocking code is not allowed on reactive schedulers. You need to define a flow using reactive API ‘map/flatMap‘ and return it from your controller.</p>\n<p>From what I see <code>PostReactiveMysqlRepository</code> is reactive and <code>userRepository.findById()</code> returns <code>Mono&lt;User&gt;</code> you can use</p>\n<pre><code>public Mono&lt;ServerResponse&gt; findAll(ServerRequest request) {\n    Flux&lt;Post&gt; fluxPost = postRepository.findAll()\n            .filter(p -&gt; (p.getUser() == null))\n            .flatMap(p -&gt; \n                    userRepository.findById(p.getId()\n                            .map(user -&gt; {\n                                p.setUser(user);\n                                return p;\n                            })\n            );\n\n    return ServerResponse.ok().body(fluxPost, Post.class);\n}\n</code></pre>\n<p>The key points here are</p>\n<ul>\n<li>use <code>flatMap</code> instead of <code>map</code> in case operation is async (returns <code>Mono</code> or <code>Flux</code>)</li>\n<li>use <code>map</code> instead of <code>block</code> to complete the reactive flow</li>\n</ul>\n"}],"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3884,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75021323,"answer_count":1,"score":0,"last_activity_date":1677735984,"creation_date":1672914952,"question_id":75017105,"body_markdown":"I have an issue of Spring Webflux project. First I made 2 pojo model classes, User and Post.\r\n\r\n**User.java**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder \r\n    @Table(&quot;blog_user&quot;) \r\n    public class User {\r\n     \t \r\n      \t@Id\r\n      \t@Column(&quot;user_id&quot;)\r\n      \tprivate Long id;\r\n      \t\r\n      \t@Column\r\n      \tprivate String username;\r\n     \r\n      \t@Column\r\n      \t@JsonIgnore\r\n     \tprivate String password;\r\n    }\r\n\r\n**Post.java**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Table\r\n    public class Post {\r\n     \r\n     \t@Id\r\n     \t@Column(&quot;post_id&quot;)\r\n     \tprivate Long id;\r\n     \t\r\n     \t@Column\r\n     \tprivate String title;\r\n      \r\n     \t@Column\r\n     \tprivate String body;\r\n     \t\r\n     \t@Column(&quot;user_id&quot;)\r\n     \tprivate User user;\r\n    }\r\n\r\nand relative repository interfaces \r\n\r\n    public interface UserReactiveMysqlRepository extends ReactiveCrudRepository&lt;User, Long&gt; {\r\n    }\r\n\r\n    public interface PostReactiveMysqlRepository extends ReactiveCrudRepository&lt;Post, Long&gt; {\r\n    }\r\n\r\n\r\nI made the webflux handler class like below, which try to extract user from Mono&lt;User&gt; and put the user value into post class.\r\n\r\n    @Component\r\n    public class PostHandler {\r\n     \r\n    \t@Autowired\r\n    \tprivate PostReactiveMysqlRepository postRepository;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserReactiveMysqlRepository userRepository;\r\n    \r\n    \tpublic Mono&lt;ServerResponse&gt; findAll(ServerRequest request) {\r\n    \t\tFlux&lt;Post&gt; fluxPost = postRepository.findAll()\r\n    \t\t\t\t.filter(p -&gt; (p.getUser() == null))\r\n    \t\t\t\t.map(p -&gt; {\r\n    \t\t\t\t\tUser u = userRepository.findById(p.getId()).block();  // This line throws Exception.\r\n    \t\t\t\t\tp.setUser(u);\r\n    \t\t\t\t\treturn p;\r\n    \t\t\t\t});\r\n    \t\r\n    \t\treturn ServerResponse.ok().body(fluxPost, Post.class);\r\n    \t}\r\n\r\nBut the block() api line throws the error messages.\r\n\r\n    java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\r\n    \tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ Handler com.aaa.blog.wf.router.BlogWebFluxEndpointRouter$$Lambda$1434/0x00000008006ce410@7d628cef [DispatcherHandler]\r\n    \t*__checkpoint ⇢ HTTP GET &quot;/route/post/all&quot; [ExceptionHandlingWebHandler]\r\n    Original Stack Trace:\r\n    \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat com.aaa.blog.wf.handler.PostHandler.lambda$1(PostHandler.java:47) ~[classes/:na]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onNext(FluxUsingWhen.java:345) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxConcatMap$WeakScalarSubscription.request(FluxConcatMap.java:479) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.request(FluxUsingWhen.java:319) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.request(FluxConcatArray.java:276) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.request(FluxPeek.java:138) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.request(FluxPeek.java:138) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat org.springframework.http.server.reactive.ChannelSendOperator$WriteBarrier.request(ChannelSendOperator.java:296) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.netty.channel.MonoSendMany$SendManyInner.onSubscribe(MonoSendMany.java:254) ~[reactor-netty-core-1.1.1.jar:1.1.1]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.onSubscribe(FluxMap.java:92) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat org.springframework.http.server.reactive.ChannelSendOperator$WriteBarrier.subscribe(ChannelSendOperator.java:358) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \t\tat reactor.core.publisher.FluxSource.subscribe(FluxSource.java:67) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8660) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.netty.channel.MonoSendMany.subscribe(MonoSendMany.java:102) ~[reactor-netty-core-1.1.1.jar:1.1.1]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.netty.FutureMono$FutureSubscription.operationComplete(FutureMono.java:196) ~[reactor-netty-core-1.1.1.jar:1.1.1]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.internal.PromiseNotificationUtil.trySuccess(PromiseNotificationUtil.java:48) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.ChannelOutboundBuffer.safeSuccess(ChannelOutboundBuffer.java:717) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.ChannelOutboundBuffer.remove(ChannelOutboundBuffer.java:272) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.ChannelOutboundBuffer.removeBytes(ChannelOutboundBuffer.java:352) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:421) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:921) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:907) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:893) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.flush(CombinedChannelDuplexHandler.java:531) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.ChannelOutboundHandlerAdapter.flush(ChannelOutboundHandlerAdapter.java:125) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.CombinedChannelDuplexHandler.flush(CombinedChannelDuplexHandler.java:356) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:923) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:907) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:893) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.ChannelDuplexHandler.flush(ChannelDuplexHandler.java:127) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:923) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:941) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1247) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nAs you know the default web server of Spring WebFlux is netty. And the netty seems not to support `block()` api function. Some replies advise to change the web server to tomcat, But I think it can not be the correct solution. How can I extract the user class value from `Mono&lt;User&gt;`? Or does my code contain the wrong grammar?\r\n","title":"java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio","body":"<p>I have an issue of Spring Webflux project. First I made 2 pojo model classes, User and Post.</p>\n<p><strong>User.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder \n@Table(&quot;blog_user&quot;) \npublic class User {\n     \n    @Id\n    @Column(&quot;user_id&quot;)\n    private Long id;\n    \n    @Column\n    private String username;\n \n    @Column\n    @JsonIgnore\n    private String password;\n}\n</code></pre>\n<p><strong>Post.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Table\npublic class Post {\n \n    @Id\n    @Column(&quot;post_id&quot;)\n    private Long id;\n    \n    @Column\n    private String title;\n  \n    @Column\n    private String body;\n    \n    @Column(&quot;user_id&quot;)\n    private User user;\n}\n</code></pre>\n<p>and relative repository interfaces</p>\n<pre><code>public interface UserReactiveMysqlRepository extends ReactiveCrudRepository&lt;User, Long&gt; {\n}\n\npublic interface PostReactiveMysqlRepository extends ReactiveCrudRepository&lt;Post, Long&gt; {\n}\n</code></pre>\n<p>I made the webflux handler class like below, which try to extract user from Mono and put the user value into post class.</p>\n<pre><code>@Component\npublic class PostHandler {\n \n    @Autowired\n    private PostReactiveMysqlRepository postRepository;\n    \n    @Autowired\n    private UserReactiveMysqlRepository userRepository;\n\n    public Mono&lt;ServerResponse&gt; findAll(ServerRequest request) {\n        Flux&lt;Post&gt; fluxPost = postRepository.findAll()\n                .filter(p -&gt; (p.getUser() == null))\n                .map(p -&gt; {\n                    User u = userRepository.findById(p.getId()).block();  // This line throws Exception.\n                    p.setUser(u);\n                    return p;\n                });\n    \n        return ServerResponse.ok().body(fluxPost, Post.class);\n    }\n</code></pre>\n<p>But the block() api line throws the error messages.</p>\n<pre><code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.5.1.jar:3.5.1]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Handler com.aaa.blog.wf.router.BlogWebFluxEndpointRouter$$Lambda$1434/0x00000008006ce410@7d628cef [DispatcherHandler]\n    *__checkpoint ⇢ HTTP GET &quot;/route/post/all&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.1.jar:3.5.1]\n        at com.aaa.blog.wf.handler.PostHandler.lambda$1(PostHandler.java:47) ~[classes/:na]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxFilter$FilterSubscriber.onNext(FluxFilter.java:113) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onNext(FluxUsingWhen.java:345) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxConcatMap$WeakScalarSubscription.request(FluxConcatMap.java:479) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.request(FluxUsingWhen.java:319) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.request(FluxConcatArray.java:276) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.request(FluxPeek.java:138) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.request(FluxPeek.java:138) ~[reactor-core-3.5.1.jar:3.5.1]\n        at org.springframework.http.server.reactive.ChannelSendOperator$WriteBarrier.request(ChannelSendOperator.java:296) ~[spring-web-6.0.3.jar:6.0.3]\n        at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.netty.channel.MonoSendMany$SendManyInner.onSubscribe(MonoSendMany.java:254) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onSubscribe(FluxMap.java:92) ~[reactor-core-3.5.1.jar:3.5.1]\n        at org.springframework.http.server.reactive.ChannelSendOperator$WriteBarrier.subscribe(ChannelSendOperator.java:358) ~[spring-web-6.0.3.jar:6.0.3]\n        at reactor.core.publisher.FluxSource.subscribe(FluxSource.java:67) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8660) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.netty.channel.MonoSendMany.subscribe(MonoSendMany.java:102) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.netty.FutureMono$FutureSubscription.operationComplete(FutureMono.java:196) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n        at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.internal.PromiseNotificationUtil.trySuccess(PromiseNotificationUtil.java:48) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.ChannelOutboundBuffer.safeSuccess(ChannelOutboundBuffer.java:717) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.ChannelOutboundBuffer.remove(ChannelOutboundBuffer.java:272) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.ChannelOutboundBuffer.removeBytes(ChannelOutboundBuffer.java:352) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:421) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:921) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:907) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:893) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.flush(CombinedChannelDuplexHandler.java:531) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.ChannelOutboundHandlerAdapter.flush(ChannelOutboundHandlerAdapter.java:125) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler.flush(CombinedChannelDuplexHandler.java:356) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:923) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:907) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:893) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.ChannelDuplexHandler.flush(ChannelDuplexHandler.java:127) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:923) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:941) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1247) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>As you know the default web server of Spring WebFlux is netty. And the netty seems not to support <code>block()</code> api function. Some replies advise to change the web server to tomcat, But I think it can not be the correct solution. How can I extract the user class value from <code>Mono&lt;User&gt;</code>? Or does my code contain the wrong grammar?</p>\n"},{"tags":["java","postgresql","hibernate","google-cloud-spanner"],"answers":[{"tags":[],"owner":{"account_id":10326713,"reputation":3074,"user_id":7617957,"display_name":"Knut Olav L&#248;ite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677735864,"creation_date":1677735864,"answer_id":75611703,"question_id":75603286,"body_markdown":"Regarding the different options that you have listed:\r\n1. Using the Cloud Spanner JDBC driver with the PostgreSQL Hibernate dialect is not supported. Especially DDL operations will fail (as you have seen).\r\n2. Using the Cloud Spanner JDBC driver with the Cloud Spanner Hibernate dialect is supported (obviously).\r\n3. Using the PostgreSQL JDBC driver with the PostgreSQL Hibernate dialect in combination with PGAdapter is supported, but with some limitations. See [this example](https://github.com/GoogleCloudPlatform/pgadapter/tree/postgresql-dialect/samples/java/hibernate) for a small sample application that does not run into this problem. That sample also contains a list of supported features and limitations.\r\n\r\nThe problem might be related to the specific version of Hibernate that you are using and/or some specific configuration. Opening an [issue here](https://github.com/GoogleCloudPlatform/pgadapter/issues/new) will make it easier to debug your specific situation.","title":"Does Cloud Spanner actually work with Hibernate DDL using PostgreSQL dialect?","body":"<p>Regarding the different options that you have listed:</p>\n<ol>\n<li>Using the Cloud Spanner JDBC driver with the PostgreSQL Hibernate dialect is not supported. Especially DDL operations will fail (as you have seen).</li>\n<li>Using the Cloud Spanner JDBC driver with the Cloud Spanner Hibernate dialect is supported (obviously).</li>\n<li>Using the PostgreSQL JDBC driver with the PostgreSQL Hibernate dialect in combination with PGAdapter is supported, but with some limitations. See <a href=\"https://github.com/GoogleCloudPlatform/pgadapter/tree/postgresql-dialect/samples/java/hibernate\" rel=\"nofollow noreferrer\">this example</a> for a small sample application that does not run into this problem. That sample also contains a list of supported features and limitations.</li>\n</ol>\n<p>The problem might be related to the specific version of Hibernate that you are using and/or some specific configuration. Opening an <a href=\"https://github.com/GoogleCloudPlatform/pgadapter/issues/new\" rel=\"nofollow noreferrer\">issue here</a> will make it easier to debug your specific situation.</p>\n"}],"owner":{"account_id":23282937,"reputation":1,"user_id":17366160,"display_name":"dcaudell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677735864,"creation_date":1677671190,"question_id":75603286,"body_markdown":"It seems a little bit strange that I haven&#39;t seen anyone else run into this problem: I&#39;m trying to use Google Cloud Spanner as a drop-in replacement for PostgreSQL. My application connects to two databases, one which is local Postgres, and the other which is a Cloud Spanner database configured with Postgres dialect. I&#39;m working with Java / Hibernate / Spring JPA. \r\n\r\n*** Before I ask my question, I should point out that I&#39;m glaringly clear on the point that Spanner does not support sequences. \r\n\r\nI&#39;ve tried this both with the Google Spanner JDBC driver and with PGAdapter and run into the same problem: When hibernate tries to do its DDL thing (I&#39;m using hibernate.hbm2ddl=auto), it queries &quot;select * from information_schema.sequences&quot;, which fails with &quot;ERROR: relation &#39;information_schema.sequences&#39; does not exist&quot;, naturally, since as I mentioned, Spanner doesn&#39;t support sequences. However this causes Hibernate to fail and not produce an EntityManager.\r\n\r\n- Of course, if you use the Cloud Spanner hibernate dialect, you won&#39;t run into this problem. That is not an option for me because I _will_not_ support two dialects of entity objects in my codebase. (If my entity objects are not portable, with the exception of sequences, then we&#39;re entirely missing the point.)\r\n\r\n- Of course, if I turn hbm2ddl off, I would not expect to see this problem. I am not about to start manually maintaining my schema or creating tables either. \r\n\r\n\r\nSo my question is: Is this working for anybody else? Is anybody using PostgreSQL dialect for Hibernate + Cloud Spanner? And if so, -&gt;***how did you get Hibernate not to query the information_schema for sequences***&lt;-??? I don&#39;t have any sequences set on the entities destined for the Cloud Spanner database, but I do have entities with sequences destined for the other local PostgreSQL database. (As the two connections are separate from the driver-up, this shouldn&#39;t matter at all, but maybe it does somehow???)\r\n \r\n\r\nI have tried this with all 3 JDBC options for Cloud Spanner, and all I have determined is it looks like Hibernate DDL + CloudSQL works, and Hibernate DDL + PostgreSQL dialect is broken. I would expect that, in the name of getting things to work, the information_schema.sequences relation would exist in PostgreSQL dialect databases, but would always come back empty when queried, and the statements that would fail would be ones that actually try to create a sequence... \r\n\r\n...because making a Postgres dialect for Spanner databases, and having JDBC drivers speak it, but not supporting it via the Hibernate Postgres dialect is kinda like missing 99.99% of your target market... but what do I know? Maybe even if this is fixed, other DDL things would still break down-the-line?","title":"Does Cloud Spanner actually work with Hibernate DDL using PostgreSQL dialect?","body":"<p>It seems a little bit strange that I haven't seen anyone else run into this problem: I'm trying to use Google Cloud Spanner as a drop-in replacement for PostgreSQL. My application connects to two databases, one which is local Postgres, and the other which is a Cloud Spanner database configured with Postgres dialect. I'm working with Java / Hibernate / Spring JPA.</p>\n<p>*** Before I ask my question, I should point out that I'm glaringly clear on the point that Spanner does not support sequences.</p>\n<p>I've tried this both with the Google Spanner JDBC driver and with PGAdapter and run into the same problem: When hibernate tries to do its DDL thing (I'm using hibernate.hbm2ddl=auto), it queries &quot;select * from information_schema.sequences&quot;, which fails with &quot;ERROR: relation 'information_schema.sequences' does not exist&quot;, naturally, since as I mentioned, Spanner doesn't support sequences. However this causes Hibernate to fail and not produce an EntityManager.</p>\n<ul>\n<li><p>Of course, if you use the Cloud Spanner hibernate dialect, you won't run into this problem. That is not an option for me because I <em>will_not</em> support two dialects of entity objects in my codebase. (If my entity objects are not portable, with the exception of sequences, then we're entirely missing the point.)</p>\n</li>\n<li><p>Of course, if I turn hbm2ddl off, I would not expect to see this problem. I am not about to start manually maintaining my schema or creating tables either.</p>\n</li>\n</ul>\n<p>So my question is: Is this working for anybody else? Is anybody using PostgreSQL dialect for Hibernate + Cloud Spanner? And if so, -&gt;<em><strong>how did you get Hibernate not to query the information_schema for sequences</strong></em>&lt;-??? I don't have any sequences set on the entities destined for the Cloud Spanner database, but I do have entities with sequences destined for the other local PostgreSQL database. (As the two connections are separate from the driver-up, this shouldn't matter at all, but maybe it does somehow???)</p>\n<p>I have tried this with all 3 JDBC options for Cloud Spanner, and all I have determined is it looks like Hibernate DDL + CloudSQL works, and Hibernate DDL + PostgreSQL dialect is broken. I would expect that, in the name of getting things to work, the information_schema.sequences relation would exist in PostgreSQL dialect databases, but would always come back empty when queried, and the statements that would fail would be ones that actually try to create a sequence...</p>\n<p>...because making a Postgres dialect for Spanner databases, and having JDBC drivers speak it, but not supporting it via the Hibernate Postgres dialect is kinda like missing 99.99% of your target market... but what do I know? Maybe even if this is fixed, other DDL things would still break down-the-line?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677735294,"creation_date":1677735294,"answer_id":75611646,"question_id":75608471,"body_markdown":"In reactive nothing happened until you subscribe. Typically, framework like WebFlux would subscribe to it for you.\r\n\r\nAs for tests, the best way to test reactive flows is to use `StepVerifier` that subscribes to the flow and provides fluent API for testing reactive flows.\r\n\r\nHere is simplified version of you flow\r\n\r\n```\r\nprivate Flux&lt;String&gt; replayWithData() {\r\n    return service.findAll()\r\n            .buffer()\r\n            .flatMap(ids -&gt; processAndReplay(ids));\r\n}\r\nprivate Flux&lt;String&gt; processAndReplay(List&lt;String&gt; ids) {\r\n    return Flux.fromIterable(ids)\r\n            .map(id -&gt; &quot;#&quot; + id);\r\n}\r\n```\r\n\r\nand test for it\r\n\r\n```\r\n@Test\r\nvoid testReplayWithData() {\r\n    when(service.findAll())\r\n            .thenReturn(Flux.just(&quot;data1&quot;, &quot;data2&quot;));\r\n\r\n    StepVerifier.create(replayWithData())\r\n            .expectNext(&quot;#data1&quot;, &quot;#data2&quot;)\r\n            .verifyComplete();\r\n}\r\n```","title":"How to test buffer in webflux","body":"<p>In reactive nothing happened until you subscribe. Typically, framework like WebFlux would subscribe to it for you.</p>\n<p>As for tests, the best way to test reactive flows is to use <code>StepVerifier</code> that subscribes to the flow and provides fluent API for testing reactive flows.</p>\n<p>Here is simplified version of you flow</p>\n<pre><code>private Flux&lt;String&gt; replayWithData() {\n    return service.findAll()\n            .buffer()\n            .flatMap(ids -&gt; processAndReplay(ids));\n}\nprivate Flux&lt;String&gt; processAndReplay(List&lt;String&gt; ids) {\n    return Flux.fromIterable(ids)\n            .map(id -&gt; &quot;#&quot; + id);\n}\n</code></pre>\n<p>and test for it</p>\n<pre><code>@Test\nvoid testReplayWithData() {\n    when(service.findAll())\n            .thenReturn(Flux.just(&quot;data1&quot;, &quot;data2&quot;));\n\n    StepVerifier.create(replayWithData())\n            .expectNext(&quot;#data1&quot;, &quot;#data2&quot;)\n            .verifyComplete();\n}\n</code></pre>\n"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677735454,"creation_date":1677701242,"question_id":75608471,"body_markdown":"I want to write a unit test for my below gist\r\n```\r\nprivate Flux&lt;String&gt; replayWithData(final Replay replay, final Checkpoint checkpoint) {\r\n         return service.findAll(replay.getData())\r\n                  .buffer()\r\n                  .flatMap(id -&gt; processAndReplay(id, replay,checkpoint));\r\n}\r\n\r\nprivate Flux&lt;String&gt; processAndReplay(List&lt;String&gt; ids, Replay replay, Checkpoint){\r\n         return Flux.fromIterable(ids). //so on process\r\n}\r\n```\r\n\r\nnow I am writing unit test like this\r\n```\r\n@Test\r\npublic void replaySuccessTest(){\r\n     when(service.findAll(any())).thenReturn(Flux.just(&quot;data1&quot;, &quot;data2&quot;));\r\n\r\n     Flux&lt;String&gt; result = replayService.replayWithData(replayJob, null);\r\n}\r\n```\r\nbut my test case is stuck `buffer()` method, it is not going ahead.\r\n\r\n","title":"How to test buffer in webflux","body":"<p>I want to write a unit test for my below gist</p>\n<pre><code>private Flux&lt;String&gt; replayWithData(final Replay replay, final Checkpoint checkpoint) {\n         return service.findAll(replay.getData())\n                  .buffer()\n                  .flatMap(id -&gt; processAndReplay(id, replay,checkpoint));\n}\n\nprivate Flux&lt;String&gt; processAndReplay(List&lt;String&gt; ids, Replay replay, Checkpoint){\n         return Flux.fromIterable(ids). //so on process\n}\n</code></pre>\n<p>now I am writing unit test like this</p>\n<pre><code>@Test\npublic void replaySuccessTest(){\n     when(service.findAll(any())).thenReturn(Flux.just(&quot;data1&quot;, &quot;data2&quot;));\n\n     Flux&lt;String&gt; result = replayService.replayWithData(replayJob, null);\n}\n</code></pre>\n<p>but my test case is stuck <code>buffer()</code> method, it is not going ahead.</p>\n"},{"tags":["java","resources","readfile"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677734576,"creation_date":1677725401,"answer_id":75610898,"question_id":75610833,"body_markdown":"The _file_ in `FileReader` means __file__. Not &#39;an entry in a jar file&#39;. An actual file, therefore, when you write `FileReader` you&#39;re done. That is not going to work.\r\n\r\nThe way to load resources is like so:\r\n\r\n```\r\nClassWeAreIn.class.getResource(&quot;foobar.txt&quot;);\r\nClassWeAreIn.class.getResourceAsStream(&quot;foobar.txt&quot;);\r\nClassWeAreIn.class.getResource(&quot;/foobar.txt&quot;);\r\nClassWeAreIn.class.getResourceAsStream(&quot;/foobar.txt&quot;);\r\n```\r\n\r\n`getResource` returns a `URL`. Various constructors and tools accept these, such as when you want to make an icon in swing. `getResourceAsStream` makes an InputStream, which you must safely close (so, `try (var in = MyClass.class.getResourceAsStream(...))` is the right way to do it), which many other things can accept. Such as:\r\n\r\n```\r\ntry (var resource = MyClass.class.getResourceAsStream(&quot;/mapgroupproto/gameVersionCompatibility&quot;)) {\r\n  var reader = new BufferedReader(new InputStreamReader(resource, StandardCharsets.UTF_8));\r\n  // reader it here\r\n}\r\n```\r\n\r\nWith a leading slash, it&#39;s relative to the root of the classpath entry that contains MyClass. Thus, if you have 1 jar that contains e.g.:\r\n\r\n```\r\njar tvf yourjar.jar\r\n\r\ncom/yourpackage/yourapp/MyClass.class\r\ncom/yourpackage/yourapp/proto/gameVersionCompatibility\r\n```\r\n\r\nThen you can read that file with either:\r\n\r\n```\r\nMyClass.class.getResource(&quot;proto/gameVersionCompatibility&quot;);\r\n```\r\n\r\nor:\r\n\r\n```\r\nMyClass.class.getResource(&quot;/com/yourpackage/yourapp/proto/gameVersionCompatibility&quot;);\r\n```\r\n\r\nIf ever you&#39;re having trouble figuring out where the heck that is looking, print this:\r\n\r\n```\r\nSystem.out.println(MyClass.class.getResource(&quot;MyClass.class&quot;));\r\n```\r\n\r\nwhich works for any class, and will tell you where its looking.\r\n","title":"Jar can&#39;t find resources","body":"<p>The <em>file</em> in <code>FileReader</code> means <strong>file</strong>. Not 'an entry in a jar file'. An actual file, therefore, when you write <code>FileReader</code> you're done. That is not going to work.</p>\n<p>The way to load resources is like so:</p>\n<pre><code>ClassWeAreIn.class.getResource(&quot;foobar.txt&quot;);\nClassWeAreIn.class.getResourceAsStream(&quot;foobar.txt&quot;);\nClassWeAreIn.class.getResource(&quot;/foobar.txt&quot;);\nClassWeAreIn.class.getResourceAsStream(&quot;/foobar.txt&quot;);\n</code></pre>\n<p><code>getResource</code> returns a <code>URL</code>. Various constructors and tools accept these, such as when you want to make an icon in swing. <code>getResourceAsStream</code> makes an InputStream, which you must safely close (so, <code>try (var in = MyClass.class.getResourceAsStream(...))</code> is the right way to do it), which many other things can accept. Such as:</p>\n<pre><code>try (var resource = MyClass.class.getResourceAsStream(&quot;/mapgroupproto/gameVersionCompatibility&quot;)) {\n  var reader = new BufferedReader(new InputStreamReader(resource, StandardCharsets.UTF_8));\n  // reader it here\n}\n</code></pre>\n<p>With a leading slash, it's relative to the root of the classpath entry that contains MyClass. Thus, if you have 1 jar that contains e.g.:</p>\n<pre><code>jar tvf yourjar.jar\n\ncom/yourpackage/yourapp/MyClass.class\ncom/yourpackage/yourapp/proto/gameVersionCompatibility\n</code></pre>\n<p>Then you can read that file with either:</p>\n<pre><code>MyClass.class.getResource(&quot;proto/gameVersionCompatibility&quot;);\n</code></pre>\n<p>or:</p>\n<pre><code>MyClass.class.getResource(&quot;/com/yourpackage/yourapp/proto/gameVersionCompatibility&quot;);\n</code></pre>\n<p>If ever you're having trouble figuring out where the heck that is looking, print this:</p>\n<pre><code>System.out.println(MyClass.class.getResource(&quot;MyClass.class&quot;));\n</code></pre>\n<p>which works for any class, and will tell you where its looking.</p>\n"}],"owner":{"account_id":27914265,"reputation":1,"user_id":21315749,"display_name":"Traqu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677734576,"creation_date":1677724367,"question_id":75610833,"body_markdown":"So I am trying to load single string from a txt file, so I can simply update resource directory, instead of changing the code.\r\n\r\nApplication works fine in IDE (IJ),\r\nI also used same approach in other classes.\r\n\r\nMy concerns are that I am maybe doing something wrong working on Main class, or trying to do that in it&#39;s own method.\r\n\r\nOther usages were just in class constructor, no methods involved.\r\n\r\nI have also tried `getClass()`... approach.\r\n\r\n```java\r\npublic static String getGameVersion() {\r\n    //return &quot;DayZ SA_v1.19.155390 (18 October 2022)&quot;;\r\n    BufferedReader fileReader;\r\n    try {\r\n        fileReader = new BufferedReader(new FileReader(&quot;resources\\\\mapgroupproto\\\\gameVersionCompatibility&quot;));\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n        throw new RuntimeException(e);\r\n    }\r\n    try {\r\n        return fileReader.readLine();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n        throw new RuntimeException(e);\r\n\r\n    }\r\n}\r\n```\r\n\r\nSo ↑ build works on line returning hardcoded String. If I swap comment, program works in IntelliJ (displaying loaded String), but jar doesn&#39;t launch.\r\n\r\n","title":"Jar can&#39;t find resources","body":"<p>So I am trying to load single string from a txt file, so I can simply update resource directory, instead of changing the code.</p>\n<p>Application works fine in IDE (IJ),\nI also used same approach in other classes.</p>\n<p>My concerns are that I am maybe doing something wrong working on Main class, or trying to do that in it's own method.</p>\n<p>Other usages were just in class constructor, no methods involved.</p>\n<p>I have also tried <code>getClass()</code>... approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getGameVersion() {\n    //return &quot;DayZ SA_v1.19.155390 (18 October 2022)&quot;;\n    BufferedReader fileReader;\n    try {\n        fileReader = new BufferedReader(new FileReader(&quot;resources\\\\mapgroupproto\\\\gameVersionCompatibility&quot;));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n    }\n    try {\n        return fileReader.readLine();\n    } catch (IOException e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n\n    }\n}\n</code></pre>\n<p>So ↑ build works on line returning hardcoded String. If I swap comment, program works in IntelliJ (displaying loaded String), but jar doesn't launch.</p>\n"},{"tags":["java","spring-boot","ibm-mq"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":2,"creation_date":1677661931,"post_id":75599900,"comment_id":133380099,"body_markdown":"Reconnect options are for re-making the connection after a failure. It will not affect re-making the connection just because the set of connections is unbalanced. This is not an easy problem to solve from inside the application because it does not know about the whole environment. That is why IBM MQ now has a feature called Uniform Clusters with Application Rebalancing which does EXACTLY this. When you start up the recycled queue manager, the cluster (which has a picture of the whole set of client connected applications) notices the imbalance and tells some of the applications to go elsewhere.","body":"Reconnect options are for re-making the connection after a failure. It will not affect re-making the connection just because the set of connections is unbalanced. This is not an easy problem to solve from inside the application because it does not know about the whole environment. That is why IBM MQ now has a feature called Uniform Clusters with Application Rebalancing which does EXACTLY this. When you start up the recycled queue manager, the cluster (which has a picture of the whole set of client connected applications) notices the imbalance and tells some of the applications to go elsewhere."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1677699109,"post_id":75599900,"comment_id":133391495,"body_markdown":"Thanks. This seems like a very good suggestion. As soon as I read your comment, I went to IBM MQ documentation and yes, this is exactly what we want. I know we use IBM MQ 9.x but not sure if is 9.2. If not maybe a good reason for an upgrade. Please publish your comment as an answer so I can accept it.","body":"Thanks. This seems like a very good suggestion. As soon as I read your comment, I went to IBM MQ documentation and yes, this is exactly what we want. I know we use IBM MQ 9.x but not sure if is 9.2. If not maybe a good reason for an upgrade. Please publish your comment as an answer so I can accept it."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1677734357,"post_id":75599900,"comment_id":133397430,"body_markdown":"Done :-) Added a couple links as well.","body":"Done :-) Added a couple links as well."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1677793683,"post_id":75599900,"comment_id":133413084,"body_markdown":"I started changing our code and the infrastructure guys will give me a uniform cluster for testing next week. I guess keeping three connection factories and rotating the connection names list will make no sense now. I would appreciate if you comment on this thought. Thanks.","body":"I started changing our code and the infrastructure guys will give me a uniform cluster for testing next week. I guess keeping three connection factories and rotating the connection names list will make no sense now. I would appreciate if you comment on this thought. Thanks."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1677836243,"post_id":75599900,"comment_id":133419716,"body_markdown":"Uniform clusters are setup by creating a CCDT group containing all 3 QMs, and also an individual record for each of the 3 QMs as well. Your application can connect to the group name and let MQ decide on the target, or connect to a specific qmgr. I think (but you should test this to be sure) that it&#39;s simply the MQCNO_RECONNECT option that causes the rebalancing - even if you directly connected to a specific queue manager initially. So if you need to have a connection to all three QMs for whatever reason, I guess you could continue to do that. You wouldn&#39;t need a connection List, just a CCDT.","body":"Uniform clusters are setup by creating a CCDT group containing all 3 QMs, and also an individual record for each of the 3 QMs as well. Your application can connect to the group name and let MQ decide on the target, or connect to a specific qmgr. I think (but you should test this to be sure) that it&#39;s simply the MQCNO_RECONNECT option that causes the rebalancing - even if you directly connected to a specific queue manager initially. So if you need to have a connection to all three QMs for whatever reason, I guess you could continue to do that. You wouldn&#39;t need a connection List, just a CCDT."}],"answers":[{"tags":[],"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677734329,"creation_date":1677734329,"answer_id":75611556,"question_id":75599900,"body_markdown":"Reconnect options are for re-making the connection after a failure. It will not affect re-making the connection just because the set of connections is unbalanced.\r\n\r\nFor more about reconnectable clients, see [Reconnectable clients][1] in the IBM Docs.\r\n\r\nThis is not an easy problem to solve from inside the application because it does not know about the whole environment. That is why IBM MQ now has a feature called Uniform Clusters with Application Rebalancing which does EXACTLY this. When you start up the recycled queue manager, the cluster (which has a picture of the whole set of client connected applications) notices the imbalance and tells some of the applications to go elsewhere. It utilises the client application ability to reconnect as per the above options, but the driver to move to another queue manager comes from the queue manager it is currently connected to, rather than being determined by the client.\r\n\r\nThe Uniform Clusters feature and Application Balancing were added in IBM MQ V9.1.2 and enhanced in several of the subsequent CD releases. The first LTS release to provide it would therefore be IBM MQ V9.2.0.\r\n\r\nFor more about Uniform Clusters, see [About uniform clusters][2] in the IBM Docs.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/ibm-mq/9.3?topic=manager-reconnectable-clients\r\n  [2]: https://www.ibm.com/docs/en/ibm-mq/9.3?topic=cluster-about-uniform-clusters","title":"How to Reconnect to all IBM Queue Managers in a cluster","body":"<p>Reconnect options are for re-making the connection after a failure. It will not affect re-making the connection just because the set of connections is unbalanced.</p>\n<p>For more about reconnectable clients, see <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=manager-reconnectable-clients\" rel=\"nofollow noreferrer\">Reconnectable clients</a> in the IBM Docs.</p>\n<p>This is not an easy problem to solve from inside the application because it does not know about the whole environment. That is why IBM MQ now has a feature called Uniform Clusters with Application Rebalancing which does EXACTLY this. When you start up the recycled queue manager, the cluster (which has a picture of the whole set of client connected applications) notices the imbalance and tells some of the applications to go elsewhere. It utilises the client application ability to reconnect as per the above options, but the driver to move to another queue manager comes from the queue manager it is currently connected to, rather than being determined by the client.</p>\n<p>The Uniform Clusters feature and Application Balancing were added in IBM MQ V9.1.2 and enhanced in several of the subsequent CD releases. The first LTS release to provide it would therefore be IBM MQ V9.2.0.</p>\n<p>For more about Uniform Clusters, see <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=cluster-about-uniform-clusters\" rel=\"nofollow noreferrer\">About uniform clusters</a> in the IBM Docs.</p>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75611556,"answer_count":1,"score":0,"last_activity_date":1677734329,"creation_date":1677648574,"question_id":75599900,"body_markdown":"We use IBM MQ for some integration between various micro services. The applications are quite critical and we aim for zero down times. We have a cluster of three Queue Managers each one running on a different server (on a separate AWS availability zones) say `QM1 on sever1, QM2 on server2 and QM3 on server3`.\r\n\r\nWe configure three `ConnectionFactory` like below (note the connection name list differences):\r\n\r\n    var connectionFactory1 = new MQQueueConnectionFactory();\r\n    connectionFactory1.setConnectionNameList(&quot;server1,server2,server3&quot;);\r\n    conectionFactory1.setPort(1414);\r\n    ....\r\n    var connectionFactory2 = new MQQueueConnectionFactory();\r\n    connectionFactory2.setConnectionNameList(&quot;server2,server3,server1&quot;);\r\n    conectionFactory2.setPort(1414);\r\n    ....\r\n    var connectionFactory3 = new MQQueueConnectionFactory();\r\n    connectionFactory3.setConnectionNameList(&quot;server3,server1,server2&quot;);\r\n    conectionFactory3.setPort(1414);\r\n    ....\r\n\r\nThe idea behind this setup is to be able to utilize all the three Queue Managers at the same time. The first connection factory will consume from `QM1`, the second connection factory will consume from `QM2`, and so on.\r\n\r\nFrom time to time the servers running IBM Queue Managers need to be patched and restarted. When this happens, obviously the queue managers needs to be shut down.\r\nWhile a Queue Manager is down all the traffic is redirected through the other two Queue Managers in the cluster so the flow of the messages never stops.\r\n\r\nWhile `server1` is down:\r\n\r\n - `connectionFactory1` switches to `server2,server3` so consuming from `QM2`\r\n - `connectionFactory2` switches to `server2,server3` so consuming from `QM2`\r\n - `connectionFactory3` switches to `server3,server2` so consuming from `QM3`\r\n\r\nAfter patching server1 we start QM1. \r\n\r\nThe issue we have is that the three connection factories stay switched as above without reconnecting to `QM1` at all. The only one way we were able to restore the desired state was by restarting the application which is not really a good/acceptable solution.\r\n\r\nIn our client code we implemented some resiliency patterns to find out when the QM1 comes back up and reset `connectionFactory1` (spring `CachingConnectionFactory` wrapped around `MQQueueConnectionFactory`) as well as stopping  and started all listener containers consuming for that QM1 as prefered queue manager but this had no effect. The only way we could do it was to actually restart Spring Application Context but this is similar to actually restarting the application. And when you have many such applications this is really not a good solution.\r\n\r\nI noticed that [MQQueueConnectionFactory][1] has a method `setClientReconnectOptions(int options)\r\nthrows javax.jms.JMSException` but reading the comment of that method did not make it very clear to me if that can be used for what we want.\r\n\r\nThank you in advance for your inputs.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/ibm-mq/9.1?topic=jms-mqconnectionfactory","title":"How to Reconnect to all IBM Queue Managers in a cluster","body":"<p>We use IBM MQ for some integration between various micro services. The applications are quite critical and we aim for zero down times. We have a cluster of three Queue Managers each one running on a different server (on a separate AWS availability zones) say <code>QM1 on sever1, QM2 on server2 and QM3 on server3</code>.</p>\n<p>We configure three <code>ConnectionFactory</code> like below (note the connection name list differences):</p>\n<pre><code>var connectionFactory1 = new MQQueueConnectionFactory();\nconnectionFactory1.setConnectionNameList(&quot;server1,server2,server3&quot;);\nconectionFactory1.setPort(1414);\n....\nvar connectionFactory2 = new MQQueueConnectionFactory();\nconnectionFactory2.setConnectionNameList(&quot;server2,server3,server1&quot;);\nconectionFactory2.setPort(1414);\n....\nvar connectionFactory3 = new MQQueueConnectionFactory();\nconnectionFactory3.setConnectionNameList(&quot;server3,server1,server2&quot;);\nconectionFactory3.setPort(1414);\n....\n</code></pre>\n<p>The idea behind this setup is to be able to utilize all the three Queue Managers at the same time. The first connection factory will consume from <code>QM1</code>, the second connection factory will consume from <code>QM2</code>, and so on.</p>\n<p>From time to time the servers running IBM Queue Managers need to be patched and restarted. When this happens, obviously the queue managers needs to be shut down.\nWhile a Queue Manager is down all the traffic is redirected through the other two Queue Managers in the cluster so the flow of the messages never stops.</p>\n<p>While <code>server1</code> is down:</p>\n<ul>\n<li><code>connectionFactory1</code> switches to <code>server2,server3</code> so consuming from <code>QM2</code></li>\n<li><code>connectionFactory2</code> switches to <code>server2,server3</code> so consuming from <code>QM2</code></li>\n<li><code>connectionFactory3</code> switches to <code>server3,server2</code> so consuming from <code>QM3</code></li>\n</ul>\n<p>After patching server1 we start QM1.</p>\n<p>The issue we have is that the three connection factories stay switched as above without reconnecting to <code>QM1</code> at all. The only one way we were able to restore the desired state was by restarting the application which is not really a good/acceptable solution.</p>\n<p>In our client code we implemented some resiliency patterns to find out when the QM1 comes back up and reset <code>connectionFactory1</code> (spring <code>CachingConnectionFactory</code> wrapped around <code>MQQueueConnectionFactory</code>) as well as stopping  and started all listener containers consuming for that QM1 as prefered queue manager but this had no effect. The only way we could do it was to actually restart Spring Application Context but this is similar to actually restarting the application. And when you have many such applications this is really not a good solution.</p>\n<p>I noticed that <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.1?topic=jms-mqconnectionfactory\" rel=\"nofollow noreferrer\">MQQueueConnectionFactory</a> has a method <code>setClientReconnectOptions(int options) throws javax.jms.JMSException</code> but reading the comment of that method did not make it very clear to me if that can be used for what we want.</p>\n<p>Thank you in advance for your inputs.</p>\n"},{"tags":["java","spring-boot","mongodb-atlas"],"owner":{"account_id":20092627,"reputation":671,"user_id":14732792,"display_name":"Rasathurai Karan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677734232,"creation_date":1677734232,"question_id":75611547,"body_markdown":"I am currently doing a project that is used MongoDB atlas and spring-boot .and used swagger UI  to generate interactive API documentation that lets your users try out the API calls directly in the browser.  \r\nbut I got couldn&#39;t connect the MongoDB atlas with spring-boot. \r\nhere is my code implemnetation \r\n\r\n package com.example.joblistingspringbootmoongodb;\r\n    \r\n    import com.mongodb.client.MongoClient;\r\n    import com.mongodb.client.MongoClients;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import springfox.documentation.builders.ApiInfoBuilder;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.service.ApiInfo;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    @EnableSwagger2\r\n    @SpringBootApplication\r\n    \r\n    public class JobListingSpringbootMoongodBApplication {\r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2).select()\r\n                    .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class)).paths(PathSelectors.any())\r\n                    .build().apiInfo(apiInfo()).useDefaultResponseMessages(false);\r\n        }\r\n    \r\n        @Bean\r\n        public ApiInfo apiInfo() {\r\n            final ApiInfoBuilder builder = new ApiInfoBuilder();\r\n            return builder.build();\r\n        }\r\n        public static void main(String[] args) {\r\n    \r\n            SpringApplication.run(JobListingSpringbootMoongodBApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThen I creted Post model\r\n\r\n    package com.example.joblistingspringbootmoongodb.model;\r\n    \r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    \r\n    @Document(collection = &quot;JobPost&quot;)\r\n    public class Post {\r\n    \r\n        private String profile;\r\n        private String desc;\r\n        private int exp;\r\n        private  String techs[];\r\n    \r\n        public String getProfile() {\r\n            return profile;\r\n        }\r\n    \r\n        public void setProfile(String profile) {\r\n            this.profile = profile;\r\n        }\r\n    \r\n        public String getDesc() {\r\n            return desc;\r\n        }\r\n    \r\n        public void setDesc(String desc) {\r\n            this.desc = desc;\r\n        }\r\n    \r\n        public int getExp() {\r\n            return exp;\r\n        }\r\n    \r\n        public void setExp(int exp) {\r\n            this.exp = exp;\r\n        }\r\n    \r\n        public String[] getTech() {\r\n            return techs;\r\n        }\r\n    \r\n        public void setTech(String[] tech) {\r\n            this.techs = tech;\r\n        }\r\n    \r\n        public Post() {\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Post{&quot; +\r\n                    &quot;profile=&#39;&quot; + profile + &#39;\\&#39;&#39; +\r\n                    &quot;, desc=&#39;&quot; + desc + &#39;\\&#39;&#39; +\r\n                    &quot;, exp=&quot; + exp +\r\n                    &quot;, tech=&quot; + Arrays.toString(techs) +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nThen I created Post controller\r\n\r\n    package com.example.joblistingspringbootmoongodb.controller;\r\n    \r\n    import com.example.joblistingspringbootmoongodb.PostRepo;\r\n    import com.example.joblistingspringbootmoongodb.model.Post;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import springfox.documentation.annotations.ApiIgnore;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    public class PostController {\r\n    \r\n        @Autowired\r\n        PostRepo postRepo;\r\n        @ApiIgnore //remove all the predefined request\r\n        @RequestMapping(value = &quot;/&quot;)\r\n        public  void redirect (HttpServletResponse response ) throws IOException {\r\n            response.sendRedirect(&quot;/swagger-ui.html&quot;);\r\n    \r\n        }\r\n    \r\n        @GetMapping(&quot;/posts&quot;)\r\n        public List&lt;Post&gt; getAllPost(){\r\n            return  postRepo.findAll();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nThen I created repository \r\n\r\n    package com.example.joblistingspringbootmoongodb;\r\n    \r\n    import com.example.joblistingspringbootmoongodb.model.Post;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    \r\n    public interface PostRepo  extends MongoRepository&lt;Post,String&gt; {\r\n    \r\n    \r\n    \r\n    }\r\n\r\n \r\nand I connected Mongodb atlas through application.propertise\r\n\r\n    spring.data.mongodb.uri=mongodb+srv://root:root@karan.om8zao8.mongodb.net/?retryWrites=true&amp;w=majority\r\n    spring.data.mongodb.database=karan\r\n\r\n\r\nStill I couldn&#39;t connect with MongoDB atlas \r\nI got error like this\r\n\r\n    com.mongodb.MongoSocketOpenException: Exception opening socket\r\n    \tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:143) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: java.net.SocketTimeoutException: Connect timed out\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:543) ~[na:na]\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594) ~[na:na]\r\n    \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\r\n    \tat java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:299) ~[na:na]\r\n    \tat com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \t... 4 common frames omitted\r\n    \r\n    2023-03-02 10:16:11.065  INFO 28764 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-3jj0kx8-shard-00-02.om8zao8.mongodb.net:27017\r\n    \r\n    com.mongodb.MongoSocketOpenException: Exception opening socket\r\n    \tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:143) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: java.net.SocketTimeoutException: Connect timed out\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:543) ~[na:na]\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594) ~[na:na]\r\n    \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\r\n    \tat java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:299) ~[na:na]\r\n    \tat com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \t... 4 common frames omitted\r\n    \r\n    2023-03-02 10:16:11.064  INFO 28764 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-3jj0kx8-shard-00-00.om8zao8.mongodb.net:27017\r\n    \r\n    com.mongodb.MongoSocketOpenException: Exception opening socket\r\n    \tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:143) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: java.net.SocketTimeoutException: Connect timed out\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:543) ~[na:na]\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594) ~[na:na]\r\n    \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\r\n    \tat java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:299) ~[na:na]\r\n    \tat com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.2.3.jar:na]\r\n    \t... 4 common frames omitted\r\n\r\n\r\n\r\n    enter code here\r\n\r\n\r\n\r\n","title":"Exception opening socket in connecting the springboot project with mongodb atlas and using swagger ui2","body":"<p>I am currently doing a project that is used MongoDB atlas and spring-boot .and used swagger UI  to generate interactive API documentation that lets your users try out the API calls directly in the browser.<br />\nbut I got couldn't connect the MongoDB atlas with spring-boot.\nhere is my code implemnetation</p>\n<p>package com.example.joblistingspringbootmoongodb;</p>\n<pre><code>import com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.bind.annotation.RestController;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n@EnableSwagger2\n@SpringBootApplication\n\npublic class JobListingSpringbootMoongodBApplication {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).select()\n                .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class)).paths(PathSelectors.any())\n                .build().apiInfo(apiInfo()).useDefaultResponseMessages(false);\n    }\n\n    @Bean\n    public ApiInfo apiInfo() {\n        final ApiInfoBuilder builder = new ApiInfoBuilder();\n        return builder.build();\n    }\n    public static void main(String[] args) {\n\n        SpringApplication.run(JobListingSpringbootMoongodBApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Then I creted Post model</p>\n<pre><code>package com.example.joblistingspringbootmoongodb.model;\n\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport java.util.Arrays;\n\n\n@Document(collection = &quot;JobPost&quot;)\npublic class Post {\n\n    private String profile;\n    private String desc;\n    private int exp;\n    private  String techs[];\n\n    public String getProfile() {\n        return profile;\n    }\n\n    public void setProfile(String profile) {\n        this.profile = profile;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n\n    public int getExp() {\n        return exp;\n    }\n\n    public void setExp(int exp) {\n        this.exp = exp;\n    }\n\n    public String[] getTech() {\n        return techs;\n    }\n\n    public void setTech(String[] tech) {\n        this.techs = tech;\n    }\n\n    public Post() {\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Post{&quot; +\n                &quot;profile='&quot; + profile + '\\'' +\n                &quot;, desc='&quot; + desc + '\\'' +\n                &quot;, exp=&quot; + exp +\n                &quot;, tech=&quot; + Arrays.toString(techs) +\n                '}';\n    }\n}\n</code></pre>\n<p>Then I created Post controller</p>\n<pre><code>package com.example.joblistingspringbootmoongodb.controller;\n\nimport com.example.joblistingspringbootmoongodb.PostRepo;\nimport com.example.joblistingspringbootmoongodb.model.Post;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport springfox.documentation.annotations.ApiIgnore;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.List;\n\n@RestController\npublic class PostController {\n\n    @Autowired\n    PostRepo postRepo;\n    @ApiIgnore //remove all the predefined request\n    @RequestMapping(value = &quot;/&quot;)\n    public  void redirect (HttpServletResponse response ) throws IOException {\n        response.sendRedirect(&quot;/swagger-ui.html&quot;);\n\n    }\n\n    @GetMapping(&quot;/posts&quot;)\n    public List&lt;Post&gt; getAllPost(){\n        return  postRepo.findAll();\n\n    }\n\n}\n</code></pre>\n<p>Then I created repository</p>\n<pre><code>package com.example.joblistingspringbootmoongodb;\n\nimport com.example.joblistingspringbootmoongodb.model.Post;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface PostRepo  extends MongoRepository&lt;Post,String&gt; {\n\n\n\n}\n</code></pre>\n<p>and I connected Mongodb atlas through application.propertise</p>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://root:root@karan.om8zao8.mongodb.net/?retryWrites=true&amp;w=majority\nspring.data.mongodb.database=karan\n</code></pre>\n<p>Still I couldn't connect with MongoDB atlas\nI got error like this</p>\n<pre><code>com.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:143) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.net.SocketTimeoutException: Connect timed out\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:543) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:299) ~[na:na]\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.2.3.jar:na]\n    ... 4 common frames omitted\n\n2023-03-02 10:16:11.065  INFO 28764 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-3jj0kx8-shard-00-02.om8zao8.mongodb.net:27017\n\ncom.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:143) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.net.SocketTimeoutException: Connect timed out\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:543) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:299) ~[na:na]\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.2.3.jar:na]\n    ... 4 common frames omitted\n\n2023-03-02 10:16:11.064  INFO 28764 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-3jj0kx8-shard-00-00.om8zao8.mongodb.net:27017\n\ncom.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:143) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.net.SocketTimeoutException: Connect timed out\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:543) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:299) ~[na:na]\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.2.3.jar:na]\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.2.3.jar:na]\n    ... 4 common frames omitted\n\n\n\nenter code here\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jstl","jparepository"],"comments":[{"owner":{"account_id":2058958,"reputation":1872,"user_id":1836030,"accept_rate":65,"display_name":"Scott"},"score":0,"creation_date":1677708710,"post_id":75609380,"comment_id":133393923,"body_markdown":"Have you tried annotating your DocumentRepository interface with `@Repository`?","body":"Have you tried annotating your DocumentRepository interface with <code>@Repository</code>?"}],"answers":[{"tags":[],"owner":{"account_id":26260052,"reputation":16,"user_id":19931523,"display_name":"Amrit Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677733985,"creation_date":1677733985,"answer_id":75611531,"question_id":75609380,"body_markdown":"use @Repository annotation in a Repository java interface.\r\n\r\nAnd to check the server logs. The logs may provide more detailed information about the error, such as the specific line of code that is causing the issue. \r\n","title":"Web project not Running on Browser (error 500)","body":"<p>use @Repository annotation in a Repository java interface.</p>\n<p>And to check the server logs. The logs may provide more detailed information about the error, such as the specific line of code that is causing the issue.</p>\n"}],"owner":{"account_id":27912976,"reputation":1,"user_id":21314747,"display_name":"Sammie "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677733985,"creation_date":1677707638,"question_id":75609380,"body_markdown":"I am learing spring boot and am On a project named DocumentWeb it is a simple web project with a controller, a jsp the mode and the Document Repository (interface) which extends the JpaRepository \r\n\r\nThe project should enable a user to upload a pic and also download any pic that has been uploaded and save it to the database as blob.But not running on the browser .\r\nWhen ever i coment out the implementation of the document reposiry in the controller it runs finelly. but no error in the code.Please Help &#128591;&#128591;&#128591;\r\n\r\n\r\nThis is my code:\r\n\r\n```\r\n//Controller\r\npackage com.javaMadeEasy.document.controllers;\r\n\r\nimport com.javaMadeEasy.document.entities.Document;\r\nimport com.javaMadeEasy.document.repository.DocumentRepository;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.ModelMap;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@Controller\r\npublic class DocumentController {\r\n    @Autowired\r\n    DocumentRepository repository;\r\n\r\n    @RequestMapping(&quot;/displayUpload&quot;)\r\n    public String displayUpload(ModelMap modelMap){\r\n        extracted(modelMap);\r\n        return &quot;DocumentUpload&quot;;\r\n    }\r\n\r\n\r\n\r\n    @RequestMapping(value=&quot;/upload&quot;, method = RequestMethod.POST)\r\n    public String uploadDocument(@RequestParam(&quot;document&quot;) MultipartFile multipartFile, @RequestParam(&quot;id&quot;) Long id, ModelMap modelMap){\r\n//       multipartFile.getName();\r\n        Document document = new Document();\r\n        document.setId(id);\r\n        document.setName(multipartFile.getOriginalFilename());\r\n        try {\r\n            document.setData(multipartFile.getBytes());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        repository.save(document);\r\n\r\n        extracted(modelMap);\r\n        return &quot;DocumentUpload&quot;;\r\n    }\r\n    @RequestMapping(&quot;/download&quot;)\r\n    public StreamingResponseBody download(@RequestParam(&quot;id&quot;) long id, HttpServletResponse response){\r\n        Document document =repository.getOne(id);\r\n        byte[] data  = document.getData();\r\n\r\n        response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment;filename=download.jpeg&quot;);\r\n\r\n        return outputStream -&gt; {\r\n            outputStream.write(data);\r\n        };\r\n    }\r\n\r\n\r\n    private void extracted(ModelMap modelMap) {\r\n        List&lt;Document&gt; documents = repository.findAll();\r\n        System.out.println(documents.size());\r\n        modelMap.addAttribute(&quot;documents&quot;,documents);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n//Model\r\npackage com.javaMadeEasy.document.entities;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Lob;\r\n\r\n@Entity\r\npublic class Document {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    @Lob\r\n    private byte[] data;\r\n\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public byte[] getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(byte[] data) {\r\n        this.data = data;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n//Repository\r\npackage com.javaMadeEasy.document.repository;\r\n\r\nimport com.javaMadeEasy.document.entities.Document;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface DocumentRepository extends JpaRepository&lt;Document,Long&gt; {\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n//application.properties\r\nspring.datasource.url=jdbc:mysql://localhost:3306/projectdb\r\nspring.datasource.username=devuser\r\nspring.datasource.password=Mamzy123\r\n\r\nspring.jpa.show-sql=true\r\nspring.mvc.view.prefix=/WEB-INF/jsps/\r\nspring.mvc.view.suffix=.jsp\r\n\r\nserver.servlet.context-path=/documentWeb\r\n\r\nlogging.level.sql=debug\r\nlogging.level.web=debug\r\n#logging.level.root=debug\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n\r\n//DocumentUpload.jsp\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n         pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&lt;%@page isELIgnored=&quot;false&quot; %&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Document Upload&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;h3&gt;Upload A Photo&lt;/h3&gt;\r\n&lt;body&gt;\r\n\r\n&lt;form action=&quot;upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n    &lt;pre&gt;\r\n        Id:&lt;input type=&quot;text&quot; name=&quot;id&quot;/&gt;\r\n        Document:&lt;input type=&quot;file&quot; name=&quot;id&quot;/&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Upload&quot;/&gt;\r\n        &lt;input type=&quot;reset&quot; value=&quot;refresh&quot;/&gt;\r\n    &lt;/pre&gt;\r\n&lt;/form&gt;\r\n&lt;table&gt;\r\n    &lt;tr&gt;\r\n        &lt;th&gt;id&lt;/th&gt;\r\n        &lt;th&gt;name&lt;/th&gt;\r\n        &lt;th&gt;link&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n    &lt;c:forEach items=&quot;${documents}&quot; var=&quot;document&quot;&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;${document.id}&lt;/td&gt;\r\n            &lt;td&gt;${document.name}&lt;/td&gt;\r\n            &lt;td&gt;&lt;a href=&quot;download?id=${document.id}&quot;&gt;download&lt;/a&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/c:forEach&gt;\r\n&lt;/table&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n//pom.xml\r\n\r\n\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.javaMadeEasy.document&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;documentWeb&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;documentWeb&lt;/name&gt;\r\n\t&lt;description&gt;Vendor Module&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Web project not Running on Browser (error 500)","body":"<p>I am learing spring boot and am On a project named DocumentWeb it is a simple web project with a controller, a jsp the mode and the Document Repository (interface) which extends the JpaRepository</p>\n<p>The project should enable a user to upload a pic and also download any pic that has been uploaded and save it to the database as blob.But not running on the browser .\nWhen ever i coment out the implementation of the document reposiry in the controller it runs finelly. but no error in the code.Please Help 🙏🙏🙏</p>\n<p>This is my code:</p>\n<pre><code>//Controller\npackage com.javaMadeEasy.document.controllers;\n\nimport com.javaMadeEasy.document.entities.Document;\nimport com.javaMadeEasy.document.repository.DocumentRepository;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@Controller\npublic class DocumentController {\n    @Autowired\n    DocumentRepository repository;\n\n    @RequestMapping(&quot;/displayUpload&quot;)\n    public String displayUpload(ModelMap modelMap){\n        extracted(modelMap);\n        return &quot;DocumentUpload&quot;;\n    }\n\n\n\n    @RequestMapping(value=&quot;/upload&quot;, method = RequestMethod.POST)\n    public String uploadDocument(@RequestParam(&quot;document&quot;) MultipartFile multipartFile, @RequestParam(&quot;id&quot;) Long id, ModelMap modelMap){\n//       multipartFile.getName();\n        Document document = new Document();\n        document.setId(id);\n        document.setName(multipartFile.getOriginalFilename());\n        try {\n            document.setData(multipartFile.getBytes());\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        repository.save(document);\n\n        extracted(modelMap);\n        return &quot;DocumentUpload&quot;;\n    }\n    @RequestMapping(&quot;/download&quot;)\n    public StreamingResponseBody download(@RequestParam(&quot;id&quot;) long id, HttpServletResponse response){\n        Document document =repository.getOne(id);\n        byte[] data  = document.getData();\n\n        response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment;filename=download.jpeg&quot;);\n\n        return outputStream -&gt; {\n            outputStream.write(data);\n        };\n    }\n\n\n    private void extracted(ModelMap modelMap) {\n        List&lt;Document&gt; documents = repository.findAll();\n        System.out.println(documents.size());\n        modelMap.addAttribute(&quot;documents&quot;,documents);\n    }\n}\n\n</code></pre>\n<pre><code>//Model\npackage com.javaMadeEasy.document.entities;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Lob;\n\n@Entity\npublic class Document {\n    @Id\n    private Long id;\n    private String name;\n    @Lob\n    private byte[] data;\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public byte[] getData() {\n        return data;\n    }\n\n    public void setData(byte[] data) {\n        this.data = data;\n    }\n}\n\n</code></pre>\n<pre><code>//Repository\npackage com.javaMadeEasy.document.repository;\n\nimport com.javaMadeEasy.document.entities.Document;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface DocumentRepository extends JpaRepository&lt;Document,Long&gt; {\n}\n\n</code></pre>\n<pre><code>//application.properties\nspring.datasource.url=jdbc:mysql://localhost:3306/projectdb\nspring.datasource.username=devuser\nspring.datasource.password=Mamzy123\n\nspring.jpa.show-sql=true\nspring.mvc.view.prefix=/WEB-INF/jsps/\nspring.mvc.view.suffix=.jsp\n\nserver.servlet.context-path=/documentWeb\n\nlogging.level.sql=debug\nlogging.level.web=debug\n#logging.level.root=debug\n\n</code></pre>\n<pre><code>\n//DocumentUpload.jsp\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n         pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@page isELIgnored=&quot;false&quot; %&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Document Upload&lt;/title&gt;\n&lt;/head&gt;\n&lt;h3&gt;Upload A Photo&lt;/h3&gt;\n&lt;body&gt;\n\n&lt;form action=&quot;upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;pre&gt;\n        Id:&lt;input type=&quot;text&quot; name=&quot;id&quot;/&gt;\n        Document:&lt;input type=&quot;file&quot; name=&quot;id&quot;/&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Upload&quot;/&gt;\n        &lt;input type=&quot;reset&quot; value=&quot;refresh&quot;/&gt;\n    &lt;/pre&gt;\n&lt;/form&gt;\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;id&lt;/th&gt;\n        &lt;th&gt;name&lt;/th&gt;\n        &lt;th&gt;link&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;c:forEach items=&quot;${documents}&quot; var=&quot;document&quot;&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${document.id}&lt;/td&gt;\n            &lt;td&gt;${document.name}&lt;/td&gt;\n            &lt;td&gt;&lt;a href=&quot;download?id=${document.id}&quot;&gt;download&lt;/a&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<pre><code>//pom.xml\n\n\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.javaMadeEasy.document&lt;/groupId&gt;\n    &lt;artifactId&gt;documentWeb&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;documentWeb&lt;/name&gt;\n    &lt;description&gt;Vendor Module&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n"},{"tags":["java","compiler-errors","getter-setter"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1677719422,"post_id":75610464,"comment_id":133395634,"body_markdown":"Does your `Sandwich` class compile?  Hint `setMainIngredient` is not a setter on  `Sandwich`","body":"Does your <code>Sandwich</code> class compile?  Hint <code>setMainIngredient</code> is not a setter on  <code>Sandwich</code>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677719492,"post_id":75610464,"comment_id":133395645,"body_markdown":"`Sandwich` has no fields at all. You&#39;ve defined classes in classes which is not what you want. Take the content of your Cost, Loaf, and PrimaryIngredient classes and move it all into Sandwich itself, then delete those classes.","body":"<code>Sandwich</code> has no fields at all. You&#39;ve defined classes in classes which is not what you want. Take the content of your Cost, Loaf, and PrimaryIngredient classes and move it all into Sandwich itself, then delete those classes."}],"answers":[{"tags":[],"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677733558,"creation_date":1677724463,"answer_id":75610842,"question_id":75610464,"body_markdown":"(I cannot remove main, MindTap won&#39;t allow it)\r\n\r\nUpdated Sandwich.java class, many many thanks to Mr.rzwitserloot:\r\n\r\n```\r\nclass Sandwich {\r\n    public static void main(String[] args){\r\n        \r\n    }\r\n    \r\n    String mainIngredient;\r\n    String bread;\r\n    double price;\r\n    \r\n    public String getMainIngredient(){\r\n        return mainIngredient;\r\n    }\r\n\r\n    public void setMainIngredient(String newMain){\r\n        mainIngredient = newMain;\r\n    }        \r\n\r\n    public String getBread(){\r\n        return bread;\r\n    }\r\n\r\n    public void setBread(String newBread){\r\n        this.bread = newBread;\r\n    }\r\n\r\n    public double getPrice(){\r\n        return price;\r\n    }\r\n        \r\n    public void setPrice(double newPrice){\r\n        this.price = newPrice;\r\n    }\r\n```\r\n(No changes made to TestSandwich.java)","title":"What is causing the second program to return a &quot;cannot find symbol&quot; error (using Getter-Setter methods)?","body":"<p>(I cannot remove main, MindTap won't allow it)</p>\n<p>Updated Sandwich.java class, many many thanks to Mr.rzwitserloot:</p>\n<pre><code>class Sandwich {\n    public static void main(String[] args){\n        \n    }\n    \n    String mainIngredient;\n    String bread;\n    double price;\n    \n    public String getMainIngredient(){\n        return mainIngredient;\n    }\n\n    public void setMainIngredient(String newMain){\n        mainIngredient = newMain;\n    }        \n\n    public String getBread(){\n        return bread;\n    }\n\n    public void setBread(String newBread){\n        this.bread = newBread;\n    }\n\n    public double getPrice(){\n        return price;\n    }\n        \n    public void setPrice(double newPrice){\n        this.price = newPrice;\n    }\n</code></pre>\n<p>(No changes made to TestSandwich.java)</p>\n"}],"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678030875,"answer_count":1,"score":1,"last_activity_date":1677733558,"creation_date":1677719070,"question_id":75610464,"body_markdown":"I&#39;m working on a college exercise. It requires me to use &quot;getter and setter&quot; methods in the program &quot;Sandwich.java&quot; so that the references in &quot;TestSandwich.java&quot; may use them. Apologies for any confusion. \r\n\r\n```\r\nclass Sandwich {\r\n    public static void main(String[] args){\r\n        \r\n    }\r\n\r\n    public class PrimaryIngredient{\r\n        private String mainIngredient;\r\n\r\n        public String getMainIngredient(){\r\n            return mainIngredient;\r\n        }\r\n\r\n        public void setMainIngredient(String newMain){\r\n            this.mainIngredient = newMain;\r\n        }\r\n    }\r\n\r\n    public class Loaf{\r\n        private String bread;\r\n\r\n        public String getBread(){\r\n            return bread;\r\n        }\r\n\r\n        public void setBread(String newBread){\r\n            this.bread = newBread;\r\n        }\r\n    }\r\n   \r\n    public class Cost{\r\n        private double price;\r\n\r\n        public double getPrice(){\r\n            return price;\r\n        }\r\n\r\n        public void setPrice(double newPrice){\r\n            this.price = newPrice;\r\n        }\r\n\r\n    } \r\n}\r\n```\r\n\r\n```\r\nclass TestSandwich\r\n{\r\n  public static void main (String args[])\r\n  {\r\n    Sandwich sandwich = new Sandwich();\r\n    sandwich.setMainIngredient(&quot;tuna&quot;);\r\n    sandwich.setBread(&quot;wheat&quot;);\r\n    sandwich.setPrice(4.99);\r\n    System.out.println(&quot;You have ordered a &quot; +\r\n        sandwich.getMainIngredient() + &quot; sandwich on &quot; +\r\n        sandwich.getBread() + &quot; bread, and the price is &quot; + sandwich.getPrice());\r\n  }\r\n}\r\n```\r\n\r\n\r\nOriginally, I had the variables in the main() method, not private (but this didn&#39;t really make sense to me).\r\n\r\nThis should output: &quot;You have ordered a tuna sandwich on wheat bread, and the price is 4.99&quot;\r\n\r\nAt least in my head, the methods make sense. However upon execution:\r\n```\r\nTestSandwich.java:6: error: cannot find symbol\r\n    sandwich.setMainIngredient(&quot;tuna&quot;);\r\n            ^\r\n  symbol:   method setMainIngredient(String)\r\n  location: variable sandwich of type Sandwich\r\n```","title":"What is causing the second program to return a &quot;cannot find symbol&quot; error (using Getter-Setter methods)?","body":"<p>I'm working on a college exercise. It requires me to use &quot;getter and setter&quot; methods in the program &quot;Sandwich.java&quot; so that the references in &quot;TestSandwich.java&quot; may use them. Apologies for any confusion.</p>\n<pre><code>class Sandwich {\n    public static void main(String[] args){\n        \n    }\n\n    public class PrimaryIngredient{\n        private String mainIngredient;\n\n        public String getMainIngredient(){\n            return mainIngredient;\n        }\n\n        public void setMainIngredient(String newMain){\n            this.mainIngredient = newMain;\n        }\n    }\n\n    public class Loaf{\n        private String bread;\n\n        public String getBread(){\n            return bread;\n        }\n\n        public void setBread(String newBread){\n            this.bread = newBread;\n        }\n    }\n   \n    public class Cost{\n        private double price;\n\n        public double getPrice(){\n            return price;\n        }\n\n        public void setPrice(double newPrice){\n            this.price = newPrice;\n        }\n\n    } \n}\n</code></pre>\n<pre><code>class TestSandwich\n{\n  public static void main (String args[])\n  {\n    Sandwich sandwich = new Sandwich();\n    sandwich.setMainIngredient(&quot;tuna&quot;);\n    sandwich.setBread(&quot;wheat&quot;);\n    sandwich.setPrice(4.99);\n    System.out.println(&quot;You have ordered a &quot; +\n        sandwich.getMainIngredient() + &quot; sandwich on &quot; +\n        sandwich.getBread() + &quot; bread, and the price is &quot; + sandwich.getPrice());\n  }\n}\n</code></pre>\n<p>Originally, I had the variables in the main() method, not private (but this didn't really make sense to me).</p>\n<p>This should output: &quot;You have ordered a tuna sandwich on wheat bread, and the price is 4.99&quot;</p>\n<p>At least in my head, the methods make sense. However upon execution:</p>\n<pre><code>TestSandwich.java:6: error: cannot find symbol\n    sandwich.setMainIngredient(&quot;tuna&quot;);\n            ^\n  symbol:   method setMainIngredient(String)\n  location: variable sandwich of type Sandwich\n</code></pre>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":1504390,"reputation":1024,"user_id":1408148,"display_name":"Kostia Shiian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677650472,"creation_date":1677650472,"answer_id":75600060,"question_id":75596973,"body_markdown":"It seems that this functionality is not available from the box, but there was activity regarding this:\r\n- https://issues.redhat.com/browse/KEYCLOAK-5865\r\n- https://github.com/keycloak/keycloak/issues/11800\r\n\r\nand you need to implement this by yourself.\r\nTo do that, you should create a service, job, script, etc, that would use Keycloak&#39;s admin REST API to perform that job. Just do the following:\r\n- create a client in the needed realm (if you have many realms, just make it configurable) and assign it roles: manage-users, view-users\r\n- get a token for this client using client_credentials grant type flow\r\n- call admin REST API (https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource). Check the user&#39;s last login time and update its representation (block user) if it is required.","title":"Disable users account after a configurable period of inactivity","body":"<p>It seems that this functionality is not available from the box, but there was activity regarding this:</p>\n<ul>\n<li><a href=\"https://issues.redhat.com/browse/KEYCLOAK-5865\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/KEYCLOAK-5865</a></li>\n<li><a href=\"https://github.com/keycloak/keycloak/issues/11800\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/issues/11800</a></li>\n</ul>\n<p>and you need to implement this by yourself.\nTo do that, you should create a service, job, script, etc, that would use Keycloak's admin REST API to perform that job. Just do the following:</p>\n<ul>\n<li>create a client in the needed realm (if you have many realms, just make it configurable) and assign it roles: manage-users, view-users</li>\n<li>get a token for this client using client_credentials grant type flow</li>\n<li>call admin REST API (<a href=\"https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource</a>). Check the user's last login time and update its representation (block user) if it is required.</li>\n</ul>\n"}],"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":"Самир Шахмурадлы"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677732911,"creation_date":1677616066,"question_id":75596973,"body_markdown":"Is it possible to block an inactive user after a certain number of days? For example, if a user hasn&#39;t been logged in for 50 days, Keycloak automatically blocks them. \r\n\r\nIf this is possible, will it be possible to read these events through events?\r\nthanks in advance!","title":"Disable users account after a configurable period of inactivity","body":"<p>Is it possible to block an inactive user after a certain number of days? For example, if a user hasn't been logged in for 50 days, Keycloak automatically blocks them.</p>\n<p>If this is possible, will it be possible to read these events through events?\nthanks in advance!</p>\n"},{"tags":["java","loops","boolean","queue","exit"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677739860,"post_id":75611279,"comment_id":133398226,"body_markdown":"You never update `node`. You need `node = node.getNext()`","body":"You never update <code>node</code>. You need <code>node = node.getNext()</code>"}],"answers":[{"tags":[],"owner":{"account_id":11017251,"reputation":119,"user_id":8092745,"display_name":"Yogendra Porwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677731179,"creation_date":1677731179,"answer_id":75611322,"question_id":75611279,"body_markdown":"You can always use below approach\r\n\r\n```\r\nwhile (node != null) {\r\n            if (node.getElement().equals(element)) {\r\n                System.out.println(n);\r\n                break;\r\n            }\r\n            n++;\r\n            node.getNext();\r\n        }\r\n```","title":"How can I use boolean variable in this method to exit out of while for-loop?","body":"<p>You can always use below approach</p>\n<pre><code>while (node != null) {\n            if (node.getElement().equals(element)) {\n                System.out.println(n);\n                break;\n            }\n            n++;\n            node.getNext();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677732197,"creation_date":1677732197,"answer_id":75611408,"question_id":75611279,"body_markdown":"Depends on what condition you want to exit. In this code you are saying untill the node is null, keep iterating and printing. So if node is not equal to null, it will keep iterating, Instead i would suggest you to take a boolean outside while loop. Once you get the data you need, make the boolean true/false whatever is your goal.\r\nExample:\r\nboolean found = false;\r\n\r\n    while(!found){\r\n    //Your code for dessired result, when result is received,\r\n    found = true;\r\n    }","title":"How can I use boolean variable in this method to exit out of while for-loop?","body":"<p>Depends on what condition you want to exit. In this code you are saying untill the node is null, keep iterating and printing. So if node is not equal to null, it will keep iterating, Instead i would suggest you to take a boolean outside while loop. Once you get the data you need, make the boolean true/false whatever is your goal.\nExample:\nboolean found = false;</p>\n<pre><code>while(!found){\n//Your code for dessired result, when result is received,\nfound = true;\n}\n</code></pre>\n"}],"owner":{"account_id":26473496,"reputation":1,"user_id":20113779,"display_name":"stackover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677732197,"creation_date":1677730610,"question_id":75611279,"body_markdown":"I have a method that finds the position of a specific element in a queue and returns the position. I am finding the position by using the n counter and incrementing every time until I find the element and returning n which would be the position. However, when i try to execute the loop, it is endless and doesn&#39;t exit on its own. I am confused on which part of my loop should I add the boolean.\r\n\r\nI have declared the boolean variable here:\r\n```\r\npublic class LinkedQueue&lt;T&gt; implements QueueADT&lt;T&gt; {\r\n    boolean found=false;\r\n    private int n;\r\n    private LinearNode&lt;T&gt; first, last;\r\n    private LinearNode&lt;T&gt; T;\r\n```\r\n\r\nThis is my method:\r\n```\r\npublic int position(T element) throws EmptyQueueException, NoSuchElementException {\r\n        if (isEmpty()) {\r\n            throw new EmptyQueueException(&quot;Queue is empty&quot;);\r\n        }\r\n        LinearNode&lt;T&gt; node = first;\r\n\r\n        n = 0;\r\n        while (node != null) {\r\n            if (node.getElement().equals(element)) {\r\n                found = true;\r\n                System.out.println(n);\r\n            }\r\n            n++;\r\n            node.getNext();\r\n        }\r\n        return n;\r\n```\r\n\r\n\r\nThe loop is endless and this is a snippet of how far the counter goes before I have to cancel the run.\r\n\r\n```\r\n142215\r\n142216\r\n142217\r\n142218\r\n142219\r\n142220\r\nBUILD STOPPED (total time: 3 seconds)\r\n\r\n```\r\n","title":"How can I use boolean variable in this method to exit out of while for-loop?","body":"<p>I have a method that finds the position of a specific element in a queue and returns the position. I am finding the position by using the n counter and incrementing every time until I find the element and returning n which would be the position. However, when i try to execute the loop, it is endless and doesn't exit on its own. I am confused on which part of my loop should I add the boolean.</p>\n<p>I have declared the boolean variable here:</p>\n<pre><code>public class LinkedQueue&lt;T&gt; implements QueueADT&lt;T&gt; {\n    boolean found=false;\n    private int n;\n    private LinearNode&lt;T&gt; first, last;\n    private LinearNode&lt;T&gt; T;\n</code></pre>\n<p>This is my method:</p>\n<pre><code>public int position(T element) throws EmptyQueueException, NoSuchElementException {\n        if (isEmpty()) {\n            throw new EmptyQueueException(&quot;Queue is empty&quot;);\n        }\n        LinearNode&lt;T&gt; node = first;\n\n        n = 0;\n        while (node != null) {\n            if (node.getElement().equals(element)) {\n                found = true;\n                System.out.println(n);\n            }\n            n++;\n            node.getNext();\n        }\n        return n;\n</code></pre>\n<p>The loop is endless and this is a snippet of how far the counter goes before I have to cancel the run.</p>\n<pre><code>142215\n142216\n142217\n142218\n142219\n142220\nBUILD STOPPED (total time: 3 seconds)\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","haproxy"],"owner":{"account_id":17661639,"reputation":93,"user_id":12819985,"display_name":"Basil Zuberi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677731353,"creation_date":1677731353,"question_id":75611336,"body_markdown":"I am attempting to run multiple instances of a Spring Boot application within an HAProxy docker container and attempting to load balance it in the same container. This would be preferred as we want to use a single image solution if at all possible. The use case is to be able to deploy this image and test the jar in a round-robin way. Online solutions seem to use the following configuration: 1 HAProxy Image connected to an &#39;n&#39; number of docker instances of an application, all on a separate docker &quot;bridge&quot; network.\r\n\r\nThe issue is that, it seems as though when I reach the docker-entrypoint.sh script which does the deployment of many instances of our spring boot application, the HAProxy refuses to run. (docker logs only shows logs of the spring boot application) Removing the entrypoint and checking the logs shows the following:\r\n\r\n```\r\n&gt; docker logs ec9\r\n[NOTICE]   (1) : New worker #1 (8) forked\r\n```\r\n\r\nmy questions are, why would this be happening and how can I avoid this? is this even possible? is this the best way to go about what we are trying to accomplish?\r\n\r\nHere&#39;s what my Dockerfile, entrypoint.sh and haproxy.cfg look like: \r\n\r\ndockerfile\r\n```\r\nFROM haproxy:2.4\r\nUSER root\r\nCOPY haproxy.cfg /usr/local/etc/haproxy/haproxy.cfg\r\n# RUN commands\r\nUSER root\r\n\r\nENV JAVA_HOME /usr/lib/jvm/java-11-openjdk-amd64\r\nWORKDIR /\r\nCOPY ./example.jar /example.jar\r\nCOPY *.sh ./\r\nRUN chmod +x *.sh\r\n\r\nUSER haproxy\r\nCMD bash -c &quot;./docker-entrypoint.sh&quot;\r\n```\r\n\r\nin this dockerfile I&#39;ve attempted with exposed ports as defined in the cfg as well as without. I have also replaced CMD with ENTRYPOINT to the same solution\r\n\r\n\r\nHAProxy.cfg:\r\n\r\n```\r\nglobal\r\n  stats socket /var/run/api.sock user haproxy group haproxy mode 660 level admin expose-fd listeners\r\n  log stdout format raw local0 info\r\n\r\ndefaults\r\n  mode http\r\n  timeout client 10s\r\n  timeout connect 5s\r\n  timeout server 10s\r\n  timeout http-request 10s\r\n  log global\r\n\r\nfrontend myfrontend\r\n  bind *:9090\r\n  default_backend webservers\r\n\r\nbackend webservers\r\n  server s1 localhost:5001 check\r\n```\r\nin the HAProxy.cfg, it&#39;s super basic now and I have a locally working version of what I want, this is just to try to get it working. I&#39;ve changed &quot;localhost&quot; to &quot;127.0.0.1&quot; as well to the same issue.\r\n\r\n\r\ndocker-entrypoint.sh\r\n```\r\njava -jar example.jar --server.port=5001\r\n```\r\n\r\nAny help would be appreciated, thank you.","title":"Issues running Spring Boot application within an HAProxy Docker image","body":"<p>I am attempting to run multiple instances of a Spring Boot application within an HAProxy docker container and attempting to load balance it in the same container. This would be preferred as we want to use a single image solution if at all possible. The use case is to be able to deploy this image and test the jar in a round-robin way. Online solutions seem to use the following configuration: 1 HAProxy Image connected to an 'n' number of docker instances of an application, all on a separate docker &quot;bridge&quot; network.</p>\n<p>The issue is that, it seems as though when I reach the docker-entrypoint.sh script which does the deployment of many instances of our spring boot application, the HAProxy refuses to run. (docker logs only shows logs of the spring boot application) Removing the entrypoint and checking the logs shows the following:</p>\n<pre><code>&gt; docker logs ec9\n[NOTICE]   (1) : New worker #1 (8) forked\n</code></pre>\n<p>my questions are, why would this be happening and how can I avoid this? is this even possible? is this the best way to go about what we are trying to accomplish?</p>\n<p>Here's what my Dockerfile, entrypoint.sh and haproxy.cfg look like:</p>\n<p>dockerfile</p>\n<pre><code>FROM haproxy:2.4\nUSER root\nCOPY haproxy.cfg /usr/local/etc/haproxy/haproxy.cfg\n# RUN commands\nUSER root\n\nENV JAVA_HOME /usr/lib/jvm/java-11-openjdk-amd64\nWORKDIR /\nCOPY ./example.jar /example.jar\nCOPY *.sh ./\nRUN chmod +x *.sh\n\nUSER haproxy\nCMD bash -c &quot;./docker-entrypoint.sh&quot;\n</code></pre>\n<p>in this dockerfile I've attempted with exposed ports as defined in the cfg as well as without. I have also replaced CMD with ENTRYPOINT to the same solution</p>\n<p>HAProxy.cfg:</p>\n<pre><code>global\n  stats socket /var/run/api.sock user haproxy group haproxy mode 660 level admin expose-fd listeners\n  log stdout format raw local0 info\n\ndefaults\n  mode http\n  timeout client 10s\n  timeout connect 5s\n  timeout server 10s\n  timeout http-request 10s\n  log global\n\nfrontend myfrontend\n  bind *:9090\n  default_backend webservers\n\nbackend webservers\n  server s1 localhost:5001 check\n</code></pre>\n<p>in the HAProxy.cfg, it's super basic now and I have a locally working version of what I want, this is just to try to get it working. I've changed &quot;localhost&quot; to &quot;127.0.0.1&quot; as well to the same issue.</p>\n<p>docker-entrypoint.sh</p>\n<pre><code>java -jar example.jar --server.port=5001\n</code></pre>\n<p>Any help would be appreciated, thank you.</p>\n"},{"tags":["java","android","json","file","android-studio"],"answers":[{"tags":[],"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592584712,"creation_date":1592583684,"answer_id":62474533,"question_id":62474129,"body_markdown":"Please consider using https://github.com/google/gson. You will be working with class instance rather than with JSONObject. Much more convenient.\r\n\r\nJust to give you the idea of what you can do:\r\n\r\n````\r\npublic class TestClass {\r\n    private final Map&lt;String, String&gt; config1;\r\n    private final Map&lt;String, String&gt; config2;\r\n\r\n    public TestClass(Map&lt;String, String&gt; config1, Map&lt;String, String&gt; config2) {\r\n        this.config1 = config1;\r\n        this.config2 = config2;\r\n    }\r\n}\r\n````\r\n````\r\n\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n        Map&lt;String, String&gt; config1 = new HashMap&lt;String, String&gt;();\r\n        config1.put(&quot;hello1.1&quot;, &quot;world1.1&quot;);\r\n        config1.put(&quot;hello1.2&quot;, &quot;world1.2&quot;);\r\n\r\n        Map&lt;String, String&gt; config2 = new HashMap&lt;String, String&gt;();\r\n        config2.put(&quot;hello2.1&quot;, &quot;world2.1&quot;);\r\n        config2.put(&quot;hello2.2&quot;, &quot;world2.2&quot;);\r\n\r\n        TestClass testClass = new TestClass(config1, config2);\r\n\r\n        Log.d(&quot;zzz&quot;, gson.toJson(testClass));\r\n````\r\n\r\nThe above prints:\r\n\r\n````\r\n    {\r\n      &quot;config1&quot;: {\r\n        &quot;hello1.1&quot;: &quot;world1.1&quot;,\r\n        &quot;hello1.2&quot;: &quot;world1.2&quot;\r\n      },\r\n      &quot;config2&quot;: {\r\n        &quot;hello2.1&quot;: &quot;world2.1&quot;,\r\n        &quot;hello2.2&quot;: &quot;world2.2&quot;\r\n      }\r\n    }\r\n````\r\n\r\nYou can go back and force between json string and the entity itself. To edit, you only need to work with object - natural and convenient way.","title":"Create, Write, Edit JSON file in Android Studio","body":"<p>Please consider using <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">https://github.com/google/gson</a>. You will be working with class instance rather than with JSONObject. Much more convenient.</p>\n\n<p>Just to give you the idea of what you can do:</p>\n\n<pre><code>public class TestClass {\n    private final Map&lt;String, String&gt; config1;\n    private final Map&lt;String, String&gt; config2;\n\n    public TestClass(Map&lt;String, String&gt; config1, Map&lt;String, String&gt; config2) {\n        this.config1 = config1;\n        this.config2 = config2;\n    }\n}\n</code></pre>\n\n<pre><code>\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n\n        Map&lt;String, String&gt; config1 = new HashMap&lt;String, String&gt;();\n        config1.put(\"hello1.1\", \"world1.1\");\n        config1.put(\"hello1.2\", \"world1.2\");\n\n        Map&lt;String, String&gt; config2 = new HashMap&lt;String, String&gt;();\n        config2.put(\"hello2.1\", \"world2.1\");\n        config2.put(\"hello2.2\", \"world2.2\");\n\n        TestClass testClass = new TestClass(config1, config2);\n\n        Log.d(\"zzz\", gson.toJson(testClass));\n</code></pre>\n\n<p>The above prints:</p>\n\n<pre><code>    {\n      \"config1\": {\n        \"hello1.1\": \"world1.1\",\n        \"hello1.2\": \"world1.2\"\n      },\n      \"config2\": {\n        \"hello2.1\": \"world2.1\",\n        \"hello2.2\": \"world2.2\"\n      }\n    }\n</code></pre>\n\n<p>You can go back and force between json string and the entity itself. To edit, you only need to work with object - natural and convenient way.</p>\n"},{"tags":[],"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592583896,"creation_date":1592583896,"answer_id":62474596,"question_id":62474129,"body_markdown":"This is how you create multiple Objects in a single JSON object:\r\n\r\n    //Creating first Object\r\n    JSONObject config1 = new JSONObject();\r\n    try {\r\n        json.put(&quot;component1&quot;, &quot;url&quot;);\r\n        json.put(&quot;component2&quot;, &quot;url&quot;);\r\n        json.put(&quot;component2&quot;, &quot;url&quot;);\r\n        }\r\n    catch (JSONException e) {\r\n    // TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n    }\r\n\r\n    //Creating second object\r\n    JSONObject config2 = new JSONObject();\r\n    try {\r\n        json.put(&quot;component1&quot;, &quot;url&quot;);\r\n        json.put(&quot;component2&quot;, &quot;url&quot;);\r\n        json.put(&quot;component2&quot;, &quot;url&quot;);\r\n        }\r\n    catch (JSONException e) {\r\n    // TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n    }\r\n\r\n    JSONObject finalJSON = new JSONObject();\r\n    try {\r\n        //Adding both objects in one single object\r\n        json.put(&quot;config1&quot;, config1);\r\n        json.put(&quot;config2&quot;, config2);\r\n\r\n        String jsonString = finalJSON.toString();\r\n\r\n        FileOutputStream fos = this.openFileOutput(&quot;jsonfile&quot;, Context.MODE_PRIVATE);\r\n        fos.write(jsonString.getBytes());\r\n        fos.close();\r\n\r\n        Log.d(&quot;JSON&quot; , json.toString());\r\n\r\n    } catch (IOException | JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThis will give you the desired output. Also, if in case you want to make any object an array, you can use `JSONArray` for that.","title":"Create, Write, Edit JSON file in Android Studio","body":"<p>This is how you create multiple Objects in a single JSON object:</p>\n\n<pre><code>//Creating first Object\nJSONObject config1 = new JSONObject();\ntry {\n    json.put(\"component1\", \"url\");\n    json.put(\"component2\", \"url\");\n    json.put(\"component2\", \"url\");\n    }\ncatch (JSONException e) {\n// TODO Auto-generated catch block\ne.printStackTrace();\n}\n\n//Creating second object\nJSONObject config2 = new JSONObject();\ntry {\n    json.put(\"component1\", \"url\");\n    json.put(\"component2\", \"url\");\n    json.put(\"component2\", \"url\");\n    }\ncatch (JSONException e) {\n// TODO Auto-generated catch block\ne.printStackTrace();\n}\n\nJSONObject finalJSON = new JSONObject();\ntry {\n    //Adding both objects in one single object\n    json.put(\"config1\", config1);\n    json.put(\"config2\", config2);\n\n    String jsonString = finalJSON.toString();\n\n    FileOutputStream fos = this.openFileOutput(\"jsonfile\", Context.MODE_PRIVATE);\n    fos.write(jsonString.getBytes());\n    fos.close();\n\n    Log.d(\"JSON\" , json.toString());\n\n} catch (IOException | JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>This will give you the desired output. Also, if in case you want to make any object an array, you can use <code>JSONArray</code> for that.</p>\n"},{"tags":[],"owner":{"account_id":18641626,"reputation":149,"user_id":13587243,"display_name":"arnabxm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1592585078,"creation_date":1592585078,"answer_id":62474912,"question_id":62474129,"body_markdown":"Google&#39;s Gson library will be helpful in this case.\r\n\r\n1. Add dependency for Google Gson in your radle file.\r\n```\r\n    dependencies {\r\n      implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n    }\r\n```\r\n\r\n2. Create a class for your data container\r\n```\r\n    public class Data {\r\n    \r\n        private Map&lt;String, Map&lt;String, String&gt;&gt; map;\r\n    \r\n        public Data() {\r\n        }\r\n    \r\n        public Data(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\r\n            this.map = map;\r\n        }\r\n    \r\n        public Map&lt;String, Map&lt;String, String&gt;&gt; getMap() {\r\n            return map;\r\n        }\r\n    \r\n        public void setMap(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\r\n            this.map = map;\r\n        }\r\n    }\r\n```\r\n\r\n3. Add data to your class\r\n```\r\n    Map&lt;String, String&gt; config1 = new HashMap&lt;&gt;();\r\n    config1.put(&quot;component1&quot;, &quot;url1&quot;);\r\n    config1.put(&quot;component2&quot;, &quot;url1&quot;);\r\n    config1.put(&quot;component3&quot;, &quot;url1&quot;);\r\n    \r\n    Map&lt;String, String&gt; config2 = new HashMap&lt;&gt;();\r\n    config2.put(&quot;component1&quot;, &quot;url1&quot;);\r\n    config2.put(&quot;component2&quot;, &quot;url1&quot;);\r\n    config2.put(&quot;component3&quot;, &quot;url1&quot;);\r\n    \r\n    Map&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;config1&quot;, config1);\r\n    map.put(&quot;config2&quot;, config2);\r\n    \r\n    Data data = new Data(map);\r\n```\r\n4. Get gson from data class\r\n```\r\nGson gson = new Gson();\r\nString json = gson.toJson(data);\r\n```\r\n5. You can now save this json in a file in a text format.\r\n\r\n6. Now when reading, load the content of the text file in a String say &#39;jsonString&#39;.\r\n\r\n7. Deserialize the jsonString to Java Object\r\n```\r\nData data = gson.fromJson(json, Data.class);\r\n```\r\n8. Access configurations\r\n```\r\nString url = data.getMap().get(&quot;config1&quot;).get(&quot;component1&quot;);\r\n```\r\n9. Add new configurations\r\n```\r\n    Map&lt;String, String&gt; config3 = new HashMap&lt;&gt;();\r\n    config3.put(&quot;component1&quot;, &quot;url1&quot;);\r\n    config3.put(&quot;component2&quot;, &quot;url1&quot;);\r\n    config3.put(&quot;component3&quot;, &quot;url1&quot;);\r\n    \r\n    data.getMap().put(&quot;config3&quot;, config3);\r\n\r\n```\r\n10. Follow again these steps to save configs\r\n\r\n11. Or You can manually edit the text file to add configs according to the predefined format.\r\n```\r\n    {\r\n       &quot;maps&quot;:{\r\n          &quot;config2&quot;:{\r\n             &quot;component1&quot;:&quot;url1&quot;,\r\n             &quot;component2&quot;:&quot;url1&quot;,\r\n             &quot;component3&quot;:&quot;url1&quot;\r\n          },\r\n          &quot;config1&quot;:{\r\n             &quot;component1&quot;:&quot;url1&quot;,\r\n             &quot;component2&quot;:&quot;url1&quot;,\r\n             &quot;component3&quot;:&quot;url1&quot;\r\n          }\r\n       }\r\n    }\r\n```","title":"Create, Write, Edit JSON file in Android Studio","body":"<p>Google's Gson library will be helpful in this case.</p>\n\n<ol>\n<li>Add dependency for Google Gson in your radle file.</li>\n</ol>\n\n<pre><code>    dependencies {\n      implementation 'com.google.code.gson:gson:2.8.6'\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li>Create a class for your data container</li>\n</ol>\n\n<pre><code>    public class Data {\n\n        private Map&lt;String, Map&lt;String, String&gt;&gt; map;\n\n        public Data() {\n        }\n\n        public Data(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\n            this.map = map;\n        }\n\n        public Map&lt;String, Map&lt;String, String&gt;&gt; getMap() {\n            return map;\n        }\n\n        public void setMap(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\n            this.map = map;\n        }\n    }\n</code></pre>\n\n<ol start=\"3\">\n<li>Add data to your class</li>\n</ol>\n\n<pre><code>    Map&lt;String, String&gt; config1 = new HashMap&lt;&gt;();\n    config1.put(\"component1\", \"url1\");\n    config1.put(\"component2\", \"url1\");\n    config1.put(\"component3\", \"url1\");\n\n    Map&lt;String, String&gt; config2 = new HashMap&lt;&gt;();\n    config2.put(\"component1\", \"url1\");\n    config2.put(\"component2\", \"url1\");\n    config2.put(\"component3\", \"url1\");\n\n    Map&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\n    map.put(\"config1\", config1);\n    map.put(\"config2\", config2);\n\n    Data data = new Data(map);\n</code></pre>\n\n<ol start=\"4\">\n<li>Get gson from data class</li>\n</ol>\n\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(data);\n</code></pre>\n\n<ol start=\"5\">\n<li><p>You can now save this json in a file in a text format.</p></li>\n<li><p>Now when reading, load the content of the text file in a String say 'jsonString'.</p></li>\n<li><p>Deserialize the jsonString to Java Object</p></li>\n</ol>\n\n<pre><code>Data data = gson.fromJson(json, Data.class);\n</code></pre>\n\n<ol start=\"8\">\n<li>Access configurations</li>\n</ol>\n\n<pre><code>String url = data.getMap().get(\"config1\").get(\"component1\");\n</code></pre>\n\n<ol start=\"9\">\n<li>Add new configurations</li>\n</ol>\n\n<pre><code>    Map&lt;String, String&gt; config3 = new HashMap&lt;&gt;();\n    config3.put(\"component1\", \"url1\");\n    config3.put(\"component2\", \"url1\");\n    config3.put(\"component3\", \"url1\");\n\n    data.getMap().put(\"config3\", config3);\n\n</code></pre>\n\n<ol start=\"10\">\n<li><p>Follow again these steps to save configs</p></li>\n<li><p>Or You can manually edit the text file to add configs according to the predefined format.</p></li>\n</ol>\n\n<pre><code>    {\n       \"maps\":{\n          \"config2\":{\n             \"component1\":\"url1\",\n             \"component2\":\"url1\",\n             \"component3\":\"url1\"\n          },\n          \"config1\":{\n             \"component1\":\"url1\",\n             \"component2\":\"url1\",\n             \"component3\":\"url1\"\n          }\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22636828,"reputation":1,"user_id":16813533,"display_name":"Hassan Zulfiqar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677730104,"creation_date":1677730104,"answer_id":75611240,"question_id":62474129,"body_markdown":"    **Edit JSON file in android programmatically**\r\n    \r\n    sample JSON file (data.json):\r\n    \r\n        {\r\n        &quot;name&quot;: &quot;John Smith&quot;,\r\n        &quot;age&quot;: 35,\r\n        &quot;city&quot;: &quot;New York&quot;\r\n    }\r\n    \r\n    In your Android activity, read the contents of the JSON file using the following code:\r\n    \r\n        InputStream is = getAssets().open(&quot;data.json&quot;);\r\n    int size = is.available();\r\n    byte[] buffer = new byte[size];\r\n    is.read(buffer);\r\n    is.close();\r\n    String json = new String(buffer, &quot;UTF-8&quot;);\r\n    \r\n      Parse the JSON data using the following code:\r\n    JSONObject obj = new JSONObject(json);\r\n\r\nEdit the JSON data as needed. For example, you can change the value of the &quot;age&quot; field to 40 using the following code:\r\n\r\n    obj.put(&quot;age&quot;, 40);\r\n\r\nConvert the modified JSONObject back to a JSON string using the following code:\r\n\r\n    String updatedJson = obj.toString();\r\n\r\nWrite the updated JSON data back to the file using the following code:\r\n\r\n    OutputStreamWriter outputStreamWriter = new OutputStreamWriter(openFileOutput(&quot;data.json&quot;, Context.MODE_PRIVATE));\r\noutputStreamWriter.write(updatedJson);\r\noutputStreamWriter.close();\r\n","title":"Create, Write, Edit JSON file in Android Studio","body":"<pre><code>**Edit JSON file in android programmatically**\n\nsample JSON file (data.json):\n\n    {\n    &quot;name&quot;: &quot;John Smith&quot;,\n    &quot;age&quot;: 35,\n    &quot;city&quot;: &quot;New York&quot;\n}\n\nIn your Android activity, read the contents of the JSON file using the following code:\n\n    InputStream is = getAssets().open(&quot;data.json&quot;);\nint size = is.available();\nbyte[] buffer = new byte[size];\nis.read(buffer);\nis.close();\nString json = new String(buffer, &quot;UTF-8&quot;);\n\n  Parse the JSON data using the following code:\nJSONObject obj = new JSONObject(json);\n</code></pre>\n<p>Edit the JSON data as needed. For example, you can change the value of the &quot;age&quot; field to 40 using the following code:</p>\n<pre><code>obj.put(&quot;age&quot;, 40);\n</code></pre>\n<p>Convert the modified JSONObject back to a JSON string using the following code:</p>\n<pre><code>String updatedJson = obj.toString();\n</code></pre>\n<p>Write the updated JSON data back to the file using the following code:</p>\n<pre><code>OutputStreamWriter outputStreamWriter = new OutputStreamWriter(openFileOutput(&quot;data.json&quot;, Context.MODE_PRIVATE));\n</code></pre>\n<p>outputStreamWriter.write(updatedJson);\noutputStreamWriter.close();</p>\n"}],"owner":{"account_id":16142007,"reputation":65,"user_id":11652860,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62474912,"answer_count":4,"score":1,"last_activity_date":1677730104,"creation_date":1592582322,"question_id":62474129,"body_markdown":"I would like to create a JSON file in the internal storage of the phone, to store data.\r\nI want to be able to add objects (&quot;configX&quot;) to the file and then read the data.\r\n\r\nIt should look something like this:\r\n  \r\n```\r\n{\r\n\r\n  &quot;config1&quot;: {\r\n\r\n    &quot;component1&quot;: &quot;url&quot;,\r\n    &quot;component2&quot;: &quot;url&quot;,\r\n    &quot;component3&quot;: &quot;url&quot;\r\n\r\n  },\r\n\r\n  &quot;config2&quot;: {\r\n\r\n    &quot;component1&quot;: &quot;url&quot;,\r\n    &quot;component2&quot;: &quot;url&quot;,\r\n    &quot;component3&quot;: &quot;url&quot;\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nI can create a JSON file like this : \r\n\r\n    public void saveToJson(){\r\n        JSONObject json = new JSONObject();\r\n        try {\r\n            json.put(&quot;component1&quot;, &quot;url&quot;);\r\n            json.put(&quot;component2&quot;, &quot;url&quot;);\r\n\r\n            String jsonString = json.toString();\r\n            \r\n            FileOutputStream fos = this.openFileOutput(&quot;jsonfile&quot;, Context.MODE_PRIVATE);\r\n            fos.write(jsonString.getBytes());\r\n            fos.close();\r\n\r\n            Log.d(&quot;JSON&quot; , json.toString());\r\n\r\n        } catch (IOException | JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nBut how to put the components in the config object ? And how to retrieve the data ?\r\n\r\n**EDIT 1 :**\r\n\r\n[https://stackoverflow.com/a/62474912/11652860][1]\r\n\r\nThanks for the very detailed answer, I&#39;m doing something wrong. I have an Activity where I put and save data to the json file:\r\n\r\n```\r\npublic class Data {\r\n\r\n        private Map&lt;String, Map&lt;String, String&gt;&gt; map;\r\n\r\n        public Data() {\r\n\r\n        }\r\n\r\n        public Data(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\r\n            this.map = map;\r\n        }\r\n\r\n        public Map&lt;String, Map&lt;String, String&gt;&gt; getMap() {\r\n            return map;\r\n        }\r\n\r\n        public void setMap(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\r\n            this.map = map;\r\n        }\r\n\r\n    }\r\n```\r\n\r\n```\r\nMap&lt;String, String&gt; config1 = new HashMap&lt;&gt;();\r\nconfig1.put(&quot;component1&quot;, &quot;url1&quot;);\r\nconfig1.put(&quot;component2&quot;, &quot;url1&quot;);\r\nconfig1.put(&quot;component3&quot;, &quot;url1&quot;);\r\n\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;config1&quot;, config1);\r\n\r\nData data = new Data(map);\r\n\r\nGson gson = new Gson();\r\nString json = gson.toJson(data);\r\n\r\nFileOutputStream fos = null;\r\n try {\r\nfos = webViewActivity.this.openFileOutput(&quot;jsonfile&quot;, Context.MODE_PRIVATE);\r\n} catch (FileNotFoundException e) {\r\n e.printStackTrace();\r\n}\r\n try {\r\n fos.write(json.getBytes());\r\n} catch (IOException e) {\r\n  e.printStackTrace();\r\n}\r\n try {\r\n fos.close();\r\n} catch (IOException e) {\r\n e.printStackTrace();\r\n}\r\n```\r\nAnd a fragment where I load the data :\r\n\r\n```\r\npublic class Data {\r\n\r\n        private Map&lt;String, Map&lt;String, String&gt;&gt; map;\r\n\r\n        public Data() {\r\n\r\n        }\r\n\r\n        public Data(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\r\n            this.map = map;\r\n        }\r\n\r\n        public Map&lt;String, Map&lt;String, String&gt;&gt; getMap() {\r\n            return map;\r\n        }\r\n\r\n        public void setMap(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\r\n            this.map = map;\r\n        }\r\n\r\n    }\r\n```\r\n```\r\n public void load(){\r\n        FileInputStream fis = null;\r\n\r\n        try {\r\n\r\n            fis = getContext().openFileInput(&quot;jsonfile.txt&quot;);\r\n            InputStreamReader isr = new InputStreamReader(fis);\r\n            BufferedReader br = new BufferedReader(isr);\r\n\r\n            StringBuilder sb = new StringBuilder();\r\n            String text;\r\n\r\n            while ((text = br.readLine()) != null){\r\n                sb.append(text).append(&quot;\\n&quot;);\r\n\r\n                Gson gson = new Gson();\r\n\r\n                String json = gson.toJson(text);\r\n                Data data = gson.fromJson(json, Data.class);\r\n\r\n                String url = data.getMap().get(&quot;config1&quot;).get(&quot;component1&quot;);\r\n\r\n                frameTV.setText(url);\r\n\r\n            }\r\n\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (fis != null){\r\n                try {\r\n                    fis.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThe saving and loading parts must be wrong, but they worked for getting text out a text file\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62474912/11652860\r\n\r\n\r\n**EDIT 2 :** \r\n\r\nI found the problem, I wasn&#39;t loading and saving properly :\r\n\r\nSAVING:\r\n\r\n```\r\nString filename = &quot;jsonfile.txt&quot;;\r\n\r\nFileOutputStream outputStream;\r\n\r\ntry {\r\n   outputStream = openFileOutput(filename, Context.MODE_PRIVATE);\r\n   outputStream.write(json.getBytes());\r\n   outputStream.close();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\n```\r\n\r\nLOADING :\r\n```\r\nFileInputStream fis = getContext().openFileInput(&quot;jsonfile.txt&quot;);\r\nInputStreamReader isr = new InputStreamReader(fis);\r\nBufferedReader bufferedReader = new BufferedReader(isr);\r\nStringBuilder sb = new StringBuilder();\r\nString line;\r\nwhile ((line = bufferedReader.readLine()) != null) {\r\n    sb.append(line);\r\n}\r\n\r\nString json = sb.toString();\r\n\r\nGson gson = new Gson();\r\nData data = gson.fromJson(json, Data.class);\r\nString priceURL = data.getMap().get(&quot;config1&quot;).get(&quot;url1&quot;);\r\n```\r\n\r\n**EDIT 3 :**\r\n\r\nMy problem now is that I need to create the file once and then check if the file exists, if it does I need to check if config1 exists if it doesn&#39;t I need to put config in the file.\r\n\r\nBut I can&#39;t check if config1 exists because I get : ```java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.Map com.a.app.ui.app.appFragment$Data.getMap()```\r\n\r\nI check if it exists by doing : \r\n\r\n```\r\nBoolean configTest = data.getMap().containsKey(&quot;config1&quot;);\r\nif(!configTest){}\r\n```\r\n\r\nHow can I create the file and check the data without getting a NullPointerException ?\r\n\r\n\r\nThank you for helping me !","title":"Create, Write, Edit JSON file in Android Studio","body":"<p>I would like to create a JSON file in the internal storage of the phone, to store data.\nI want to be able to add objects (&quot;configX&quot;) to the file and then read the data.</p>\n<p>It should look something like this:</p>\n<pre><code>{\n\n  &quot;config1&quot;: {\n\n    &quot;component1&quot;: &quot;url&quot;,\n    &quot;component2&quot;: &quot;url&quot;,\n    &quot;component3&quot;: &quot;url&quot;\n\n  },\n\n  &quot;config2&quot;: {\n\n    &quot;component1&quot;: &quot;url&quot;,\n    &quot;component2&quot;: &quot;url&quot;,\n    &quot;component3&quot;: &quot;url&quot;\n\n  }\n\n}\n</code></pre>\n<p>I can create a JSON file like this :</p>\n<pre><code>public void saveToJson(){\n    JSONObject json = new JSONObject();\n    try {\n        json.put(&quot;component1&quot;, &quot;url&quot;);\n        json.put(&quot;component2&quot;, &quot;url&quot;);\n\n        String jsonString = json.toString();\n        \n        FileOutputStream fos = this.openFileOutput(&quot;jsonfile&quot;, Context.MODE_PRIVATE);\n        fos.write(jsonString.getBytes());\n        fos.close();\n\n        Log.d(&quot;JSON&quot; , json.toString());\n\n    } catch (IOException | JSONException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>But how to put the components in the config object ? And how to retrieve the data ?</p>\n<p><strong>EDIT 1 :</strong></p>\n<p><a href=\"https://stackoverflow.com/a/62474912/11652860\">https://stackoverflow.com/a/62474912/11652860</a></p>\n<p>Thanks for the very detailed answer, I'm doing something wrong. I have an Activity where I put and save data to the json file:</p>\n<pre><code>public class Data {\n\n        private Map&lt;String, Map&lt;String, String&gt;&gt; map;\n\n        public Data() {\n\n        }\n\n        public Data(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\n            this.map = map;\n        }\n\n        public Map&lt;String, Map&lt;String, String&gt;&gt; getMap() {\n            return map;\n        }\n\n        public void setMap(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\n            this.map = map;\n        }\n\n    }\n</code></pre>\n<pre><code>Map&lt;String, String&gt; config1 = new HashMap&lt;&gt;();\nconfig1.put(&quot;component1&quot;, &quot;url1&quot;);\nconfig1.put(&quot;component2&quot;, &quot;url1&quot;);\nconfig1.put(&quot;component3&quot;, &quot;url1&quot;);\n\nMap&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;config1&quot;, config1);\n\nData data = new Data(map);\n\nGson gson = new Gson();\nString json = gson.toJson(data);\n\nFileOutputStream fos = null;\n try {\nfos = webViewActivity.this.openFileOutput(&quot;jsonfile&quot;, Context.MODE_PRIVATE);\n} catch (FileNotFoundException e) {\n e.printStackTrace();\n}\n try {\n fos.write(json.getBytes());\n} catch (IOException e) {\n  e.printStackTrace();\n}\n try {\n fos.close();\n} catch (IOException e) {\n e.printStackTrace();\n}\n</code></pre>\n<p>And a fragment where I load the data :</p>\n<pre><code>public class Data {\n\n        private Map&lt;String, Map&lt;String, String&gt;&gt; map;\n\n        public Data() {\n\n        }\n\n        public Data(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\n            this.map = map;\n        }\n\n        public Map&lt;String, Map&lt;String, String&gt;&gt; getMap() {\n            return map;\n        }\n\n        public void setMap(Map&lt;String, Map&lt;String, String&gt;&gt; map) {\n            this.map = map;\n        }\n\n    }\n</code></pre>\n<pre><code> public void load(){\n        FileInputStream fis = null;\n\n        try {\n\n            fis = getContext().openFileInput(&quot;jsonfile.txt&quot;);\n            InputStreamReader isr = new InputStreamReader(fis);\n            BufferedReader br = new BufferedReader(isr);\n\n            StringBuilder sb = new StringBuilder();\n            String text;\n\n            while ((text = br.readLine()) != null){\n                sb.append(text).append(&quot;\\n&quot;);\n\n                Gson gson = new Gson();\n\n                String json = gson.toJson(text);\n                Data data = gson.fromJson(json, Data.class);\n\n                String url = data.getMap().get(&quot;config1&quot;).get(&quot;component1&quot;);\n\n                frameTV.setText(url);\n\n            }\n\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (fis != null){\n                try {\n                    fis.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>The saving and loading parts must be wrong, but they worked for getting text out a text file</p>\n<p><strong>EDIT 2 :</strong></p>\n<p>I found the problem, I wasn't loading and saving properly :</p>\n<p>SAVING:</p>\n<pre><code>String filename = &quot;jsonfile.txt&quot;;\n\nFileOutputStream outputStream;\n\ntry {\n   outputStream = openFileOutput(filename, Context.MODE_PRIVATE);\n   outputStream.write(json.getBytes());\n   outputStream.close();\n} catch (Exception e) {\n   e.printStackTrace();\n}\n</code></pre>\n<p>LOADING :</p>\n<pre><code>FileInputStream fis = getContext().openFileInput(&quot;jsonfile.txt&quot;);\nInputStreamReader isr = new InputStreamReader(fis);\nBufferedReader bufferedReader = new BufferedReader(isr);\nStringBuilder sb = new StringBuilder();\nString line;\nwhile ((line = bufferedReader.readLine()) != null) {\n    sb.append(line);\n}\n\nString json = sb.toString();\n\nGson gson = new Gson();\nData data = gson.fromJson(json, Data.class);\nString priceURL = data.getMap().get(&quot;config1&quot;).get(&quot;url1&quot;);\n</code></pre>\n<p><strong>EDIT 3 :</strong></p>\n<p>My problem now is that I need to create the file once and then check if the file exists, if it does I need to check if config1 exists if it doesn't I need to put config in the file.</p>\n<p>But I can't check if config1 exists because I get : <code>java.lang.NullPointerException: Attempt to invoke virtual method 'java.util.Map com.a.app.ui.app.appFragment$Data.getMap()</code></p>\n<p>I check if it exists by doing :</p>\n<pre><code>Boolean configTest = data.getMap().containsKey(&quot;config1&quot;);\nif(!configTest){}\n</code></pre>\n<p>How can I create the file and check the data without getting a NullPointerException ?</p>\n<p>Thank you for helping me !</p>\n"},{"tags":["java","wireshark","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":1354539,"reputation":137,"user_id":1293229,"accept_rate":40,"display_name":"Aks.Soms"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1548227156,"creation_date":1548227156,"answer_id":54321705,"question_id":54321704,"body_markdown":"After lot of search followed below steps:\r\n\r\nUsed Wireshark to capture postman and rest-assured API calls.\r\n\r\n&lt;h3&gt;Postman API call contains following values:&lt;/h3&gt;\r\n\r\n\r\n----------\r\n\r\n\r\n&lt;i&gt;GET /api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207 HTTP/1.1\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;cache-control: no-cache\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;Postman-Token: c70faee6-f00c-47b6-9c6a-bb1c4ffe5cf4\\r\\n&lt;/i&gt;\r\n\r\n&lt;b&gt;User-Agent: PostmanRuntime/7.6.0\\r\\n&lt;/b&gt;\r\n\r\n&lt;i&gt;Accept: */*\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;cookie: __cfduid=dcce85c35c3e5eb33524b0a1a79b6bf2b1548159374\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;accept-encoding: gzip, deflate\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;referer: https://carqueryapi.com/api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;Host: www.carqueryapi.com\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;Connection: keep-alive\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;[Full request URI: http://www.carqueryapi.com/api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207]&lt;/i&gt;\r\n\r\n&lt;i&gt;[HTTP request 1/1]&lt;/i&gt;\r\n&lt;i&gt;[Response in frame: 350]\r\n\r\n\r\n----------\r\n\r\n&lt;h3&gt;Rest-Assured API call contains following values:&lt;/h3&gt;\r\n\r\n\r\n----------\r\n&lt;i&gt;GET /api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207 HTTP/1.1\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;Accept: */*\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;Host: www.carqueryapi.com\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;Connection: Keep-Alive\\r\\n&lt;/i&gt;\r\n\r\n&lt;b&gt;User-Agent: Apache-HttpClient/4.5.3 (Java/1.8.0_171)\\r\\n&lt;/b&gt;\r\n\r\n&lt;i&gt;Accept-Encoding: gzip,deflate\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;\\r\\n&lt;/i&gt;\r\n\r\n&lt;i&gt;[Full request URI: http://www.carqueryapi.com/api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207]&lt;/i&gt;\r\n\r\n&lt;i&gt;[HTTP request 1/1]&lt;/i&gt;\r\n\r\n&lt;i&gt;[Response in frame: 769]&lt;/i&gt;\r\n\r\n\r\n----------\r\n&lt;h3&gt;Observation:&lt;/h3&gt;\r\n\r\nValue of Header &lt;b&gt;User-Agent&lt;/b&gt; was different. And the API was blocking requests for &lt;b&gt;Apache-HttpClient&lt;/b&gt; but allowing for &lt;b&gt;PostmanRuntime/7.6.0&lt;/b&gt;.\r\n\r\nUpdated code to have header &lt;b&gt;User-Agent&lt;/b&gt; with value &lt;b&gt;PostmanRuntime/7.6.0&lt;/b&gt; and it worked.\r\n\r\nBelow is working code:\r\n\r\n    package com.type.GetFuelTypeFromAPI;\r\n\r\n    import static io.restassured.RestAssured.given;\r\n\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import org.testng.annotations.Test;\r\n\r\n    import io.restassured.response.Response;\r\n\r\n    public class SampleGetAPI {\r\n\r\n\t@Test\r\n\tpublic void getDetails() throws MalformedURLException {\r\n\t\t\r\n\t\tResponse response=\r\n\t\tgiven()\r\n\t\t\t.header(&quot;User-Agent&quot;, &quot;PostmanRuntime/7.6.0&quot;)\r\n\t\t\t.queryParam(&quot;cmd&quot;, &quot;getTrims&quot;)\r\n\t\t\t.queryParam(&quot;make&quot;, &quot;Abarth&quot;)\r\n\t\t\t.queryParam(&quot;year&quot;, &quot;1955&quot;)\r\n\t\t\t.queryParam(&quot;model&quot;, &quot;207&quot;)\r\n\t\t.when()\r\n\t\t\t.get(new URL(&quot;https://carqueryapi.com/api/0.3/&quot;));\r\n\t\t\r\n\t\tString responseBody = response.body().asString();\r\n\t\tSystem.out.println(responseBody);\r\n\t}\r\n    }\r\n\r\n","title":"Postman gives right response but restassured returns wrong response","body":"<p>After lot of search followed below steps:</p>\n\n<p>Used Wireshark to capture postman and rest-assured API calls.</p>\n\n<h3>Postman API call contains following values:</h3>\n\n<hr>\n\n<p><i>GET /api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207 HTTP/1.1\\r\\n</i></p>\n\n<p><i>cache-control: no-cache\\r\\n</i></p>\n\n<p><i>Postman-Token: c70faee6-f00c-47b6-9c6a-bb1c4ffe5cf4\\r\\n</i></p>\n\n<p><b>User-Agent: PostmanRuntime/7.6.0\\r\\n</b></p>\n\n<p><i>Accept: <em>/</em>\\r\\n</i></p>\n\n<p><i>cookie: __cfduid=dcce85c35c3e5eb33524b0a1a79b6bf2b1548159374\\r\\n</i></p>\n\n<p><i>accept-encoding: gzip, deflate\\r\\n</i></p>\n\n<p><i>referer: <a href=\"https://carqueryapi.com/api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207\" rel=\"nofollow noreferrer\">https://carqueryapi.com/api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207</a>\\r\\n</i></p>\n\n<p><i>Host: www.carqueryapi.com\\r\\n</i></p>\n\n<p><i>Connection: keep-alive\\r\\n</i></p>\n\n<p><i>\\r\\n</i></p>\n\n<p><i>[Full request URI: <a href=\"http://www.carqueryapi.com/api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207]\" rel=\"nofollow noreferrer\">http://www.carqueryapi.com/api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207]</a></i></p>\n\n<p><i>[HTTP request 1/1]</i>\n<i>[Response in frame: 350]</p>\n\n<hr>\n\n<h3>Rest-Assured API call contains following values:</h3>\n\n<hr>\n\n<p><i>GET /api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207 HTTP/1.1\\r\\n</i></p>\n\n<p><i>Accept: <em>/</em>\\r\\n</i></p>\n\n<p><i>Host: www.carqueryapi.com\\r\\n</i></p>\n\n<p><i>Connection: Keep-Alive\\r\\n</i></p>\n\n<p><b>User-Agent: Apache-HttpClient/4.5.3 (Java/1.8.0_171)\\r\\n</b></p>\n\n<p><i>Accept-Encoding: gzip,deflate\\r\\n</i></p>\n\n<p><i>\\r\\n</i></p>\n\n<p><i>[Full request URI: <a href=\"http://www.carqueryapi.com/api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207]\" rel=\"nofollow noreferrer\">http://www.carqueryapi.com/api/0.3/?cmd=getTrims&amp;make=Abarth&amp;year=1955&amp;model=207]</a></i></p>\n\n<p><i>[HTTP request 1/1]</i></p>\n\n<p>[Response in frame: 769]</i></p>\n\n<hr>\n\n<h3>Observation:</h3>\n\n<p>Value of Header <b>User-Agent</b> was different. And the API was blocking requests for <b>Apache-HttpClient</b> but allowing for <b>PostmanRuntime/7.6.0</b>.</p>\n\n<p>Updated code to have header <b>User-Agent</b> with value <b>PostmanRuntime/7.6.0</b> and it worked.</p>\n\n<p>Below is working code:</p>\n\n<pre><code>package com.type.GetFuelTypeFromAPI;\n\nimport static io.restassured.RestAssured.given;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport org.testng.annotations.Test;\n\nimport io.restassured.response.Response;\n\npublic class SampleGetAPI {\n\n@Test\npublic void getDetails() throws MalformedURLException {\n\n    Response response=\n    given()\n        .header(\"User-Agent\", \"PostmanRuntime/7.6.0\")\n        .queryParam(\"cmd\", \"getTrims\")\n        .queryParam(\"make\", \"Abarth\")\n        .queryParam(\"year\", \"1955\")\n        .queryParam(\"model\", \"207\")\n    .when()\n        .get(new URL(\"https://carqueryapi.com/api/0.3/\"));\n\n    String responseBody = response.body().asString();\n    System.out.println(responseBody);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1354539,"reputation":137,"user_id":1293229,"accept_rate":40,"display_name":"Aks.Soms"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5705,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54321705,"answer_count":1,"score":2,"last_activity_date":1677729840,"creation_date":1548227156,"question_id":54321704,"body_markdown":"I have been working with rest assured since few months.\r\n\r\nWhile getting data from an open source API observed that when GET call is made via Postman API returns 200 and valid/expected data is received.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N33Ag.png\r\n\r\nWrote below code(Java using Rest-Assured) to get the same data from API:\r\n\r\n    package com.type.GetFuelTypeFromAPI;\r\n\r\n    import static io.restassured.RestAssured.given;\r\n\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import org.testng.annotations.Test;\r\n\r\n    import io.restassured.response.Response;\r\n\r\n    public class SampleGetAPI {\r\n\r\n\t@Test\r\n\tpublic void getDetails() throws MalformedURLException {\r\n\t\t\r\n\t\tResponse response=\r\n\t\tgiven()\r\n\t\t\t.queryParam(&quot;cmd&quot;, &quot;getTrims&quot;)\r\n\t\t\t.queryParam(&quot;make&quot;, &quot;Abarth&quot;)\r\n\t\t\t.queryParam(&quot;year&quot;, &quot;1955&quot;)\r\n\t\t\t.queryParam(&quot;model&quot;, &quot;207&quot;)\r\n\t\t.when()\r\n\t\t\t.get(new URL(&quot;https://carqueryapi.com/api/0.3/&quot;));\r\n\t\t\r\n\t\tString responseBody = response.body().asString();\r\n\t\tSystem.out.println(responseBody);\r\n\t}\r\n    }\r\n\r\nCode output is:\r\n\r\n    [TestNG] Running:\r\n    C:\\Users\\AaSomvanshi\\AppData\\Local\\Temp\\testng-eclipse-1657322415\\testng-customsuite.xml\r\n\r\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;\r\n    &lt;html&gt;&lt;head&gt;\r\n    &lt;title&gt;403 Forbidden&lt;/title&gt;\r\n    &lt;/head&gt;&lt;body&gt;\r\n    &lt;h1&gt;Forbidden&lt;/h1&gt;\r\n    &lt;p&gt;You don&#39;t have permission to access /api/0.3/\r\n    on this server.&lt;br /&gt;\r\n    &lt;/p&gt;\r\n    &lt;p&gt;Additionally, a 403 Forbidden\r\n    error was encountered while trying to use an ErrorDocument to handle the request.&lt;/p&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n\r\n    PASSED: getDetails\r\n\r\n    ===============================================\r\n    Default test\r\n    Tests run: 1, Failures: 0, Skips: 0\r\n    ===============================================\r\n\r\n\r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Failures: 0, Skips: 0\r\n    ===============================================\r\n\r\nCan someone guide me how to overcome this issue?","title":"Postman gives right response but restassured returns wrong response","body":"<p>I have been working with rest assured since few months.</p>\n\n<p>While getting data from an open source API observed that when GET call is made via Postman API returns 200 and valid/expected data is received.\n<a href=\"https://i.stack.imgur.com/N33Ag.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N33Ag.png\" alt=\"enter image description here\"></a></p>\n\n<p>Wrote below code(Java using Rest-Assured) to get the same data from API:</p>\n\n<pre><code>package com.type.GetFuelTypeFromAPI;\n\nimport static io.restassured.RestAssured.given;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport org.testng.annotations.Test;\n\nimport io.restassured.response.Response;\n\npublic class SampleGetAPI {\n\n@Test\npublic void getDetails() throws MalformedURLException {\n\n    Response response=\n    given()\n        .queryParam(\"cmd\", \"getTrims\")\n        .queryParam(\"make\", \"Abarth\")\n        .queryParam(\"year\", \"1955\")\n        .queryParam(\"model\", \"207\")\n    .when()\n        .get(new URL(\"https://carqueryapi.com/api/0.3/\"));\n\n    String responseBody = response.body().asString();\n    System.out.println(responseBody);\n}\n}\n</code></pre>\n\n<p>Code output is:</p>\n\n<pre><code>[TestNG] Running:\nC:\\Users\\AaSomvanshi\\AppData\\Local\\Temp\\testng-eclipse-1657322415\\testng-customsuite.xml\n\n&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n&lt;html&gt;&lt;head&gt;\n&lt;title&gt;403 Forbidden&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;Forbidden&lt;/h1&gt;\n&lt;p&gt;You don't have permission to access /api/0.3/\non this server.&lt;br /&gt;\n&lt;/p&gt;\n&lt;p&gt;Additionally, a 403 Forbidden\nerror was encountered while trying to use an ErrorDocument to handle the request.&lt;/p&gt;\n&lt;/body&gt;&lt;/html&gt;\n\nPASSED: getDetails\n\n===============================================\nDefault test\nTests run: 1, Failures: 0, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Failures: 0, Skips: 0\n===============================================\n</code></pre>\n\n<p>Can someone guide me how to overcome this issue?</p>\n"},{"tags":["java","tic-tac-toe"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1677726889,"post_id":75610988,"comment_id":133396560,"body_markdown":"So have you tried [debugging](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) your code? Stack Overflow requires that you identify the source of your problem, otherwise, there&#39;s no way to ask any sort of meaningful and specific question, which is kind of important for a Q&amp;A site.","body":"So have you tried <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debugging</a> your code? Stack Overflow requires that you identify the source of your problem, otherwise, there&#39;s no way to ask any sort of meaningful and specific question, which is kind of important for a Q&amp;A site."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1677726931,"post_id":75610988,"comment_id":133396566,"body_markdown":"To be honest, besides the code, you’d better give the specific rules for dealing with the problem or the “playstyle” of this “game”, otherwise few people will have the patience to read this kind of code, at least I won’t read it","body":"To be honest, besides the code, you’d better give the specific rules for dealing with the problem or the “playstyle” of this “game”, otherwise few people will have the patience to read this kind of code, at least I won’t read it"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677727280,"post_id":75610988,"comment_id":133396603,"body_markdown":"Is there any possibility that the problem is in the `IO.inputInt` method, which you haven&#39;t shown?","body":"Is there any possibility that the problem is in the <code>IO.inputInt</code> method, which you haven&#39;t shown?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677727397,"post_id":75610988,"comment_id":133396624,"body_markdown":"When `if (j%2 == 0){` is `true`,  you should contain the actions within this block, same for `if (j%2 != 0){`","body":"When <code>if (j%2 == 0){</code> is <code>true</code>,  you should contain the actions within this block, same for <code>if (j%2 != 0){</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1677727419,"post_id":75610988,"comment_id":133396628,"body_markdown":"Incidentally, one problem that should be easy to fix is that you&#39;re never changing the value of the `gameboard` variable inside the loop, so no matter what happens with `a, b, c ...`, the board will always be printed the same.","body":"Incidentally, one problem that should be easy to fix is that you&#39;re never changing the value of the <code>gameboard</code> variable inside the loop, so no matter what happens with <code>a, b, c ...</code>, the board will always be printed the same."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677727582,"post_id":75610988,"comment_id":133396649,"body_markdown":"Also, `j` doesn&#39;t need to be incremented in each if statement, it should increment AFTER all the if statements have run","body":"Also, <code>j</code> doesn&#39;t need to be incremented in each if statement, it should increment AFTER all the if statements have run"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677730638,"post_id":75610988,"comment_id":133396992,"body_markdown":"You&#39;re trying to deal with both X&#39;s turn and O&#39;s turn in the same iteration of the loop.  Within each iteration, you&#39;re prompting X for the co-ordinates of their turn; but you&#39;re never prompting O.  Then O&#39;s turn ends up being the same as X&#39;s turn, which fails; but then the code can never get back on track, because next time through the loop, you still don&#39;t ask O for their co-ordinates.  So the same error happens again and again.","body":"You&#39;re trying to deal with both X&#39;s turn and O&#39;s turn in the same iteration of the loop.  Within each iteration, you&#39;re prompting X for the co-ordinates of their turn; but you&#39;re never prompting O.  Then O&#39;s turn ends up being the same as X&#39;s turn, which fails; but then the code can never get back on track, because next time through the loop, you still don&#39;t ask O for their co-ordinates.  So the same error happens again and again."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677729171,"creation_date":1677729171,"answer_id":75611170,"question_id":75610988,"body_markdown":"You really need to learn how to desk check your code (sit down if a piece of paper and a pen and walk through you code writing down the state)\r\n\r\nFor example, let&#39;s look at...\r\n\r\n    if (j % 2 == 0) {\r\n        System.out.println(&quot;\\n Invalid attempt, try again&quot;);\r\n    } else if (x == 1 &amp;&amp; y == 1 &amp;&amp; a != &#39;X&#39; &amp;&amp; a != &#39;O&#39;) {\r\n        a = (&#39;X&#39;);\r\n        j++;\r\n    } else if (x == 1 &amp;&amp; y == 2 &amp;&amp; b != &#39;X&#39; &amp;&amp; b != &#39;O&#39;) {\r\n        b = (&#39;X&#39;);\r\n        j++;\r\n    } else if (x == 1 &amp;&amp; y == 3 &amp;&amp; c != &#39;X&#39; &amp;&amp; c != &#39;O&#39;) {\r\n        c = (&#39;X&#39;);\r\n        j++;\r\n    } else if (x == 2 &amp;&amp; y == 1 &amp;&amp; d != &#39;X&#39; &amp;&amp; d != &#39;O&#39;) {\r\n        d = (&#39;X&#39;);\r\n        j++;\r\n    } else if (x == 2 &amp;&amp; y == 2 &amp;&amp; e != &#39;X&#39; &amp;&amp; e != &#39;O&#39;) {\r\n        e = (&#39;X&#39;);\r\n        j++;\r\n    } else if (x == 2 &amp;&amp; y == 3 &amp;&amp; f != &#39;X&#39; &amp;&amp; f != &#39;O&#39;) {\r\n        f = (&#39;X&#39;);\r\n        j++;\r\n    } else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != &#39;X&#39; &amp;&amp; g != &#39;O&#39;) {\r\n        g = (&#39;X&#39;);\r\n        j++;\r\n    } else if (x == 3 &amp;&amp; y == 2 &amp;&amp; h != &#39;X&#39; &amp;&amp; h != &#39;O&#39;) {\r\n        h = (&#39;X&#39;);\r\n        j++;\r\n    } else if (x == 3 &amp;&amp; y == 3 &amp;&amp; i != &#39;X&#39; &amp;&amp; i != &#39;O&#39;) {\r\n        i = (&#39;X&#39;);\r\n        j++;\r\n    } else {\r\n        System.out.println(&quot;you cant pick that space its already been taken&quot;);\r\n    }\r\n\r\n    //For O\r\n    if (j % 2 != 0) {\r\n        System.out.println(&quot;\\n Invalid attempt, try again&quot;);\r\n    } else if (x == 1 &amp;&amp; y == 1 &amp;&amp; a != &#39;X&#39; &amp;&amp; a != &#39;O&#39;) {\r\n        a = (&#39;O&#39;);\r\n        j++;\r\n    } else if (x == 1 &amp;&amp; y == 2 &amp;&amp; b != &#39;X&#39; &amp;&amp; b != &#39;O&#39;) {\r\n        b = (&#39;O&#39;);\r\n        j++;\r\n    } else if (x == 1 &amp;&amp; y == 3 &amp;&amp; c != &#39;X&#39; &amp;&amp; c != &#39;O&#39;) {\r\n        c = (&#39;O&#39;);\r\n        j++;\r\n    } else if (x == 2 &amp;&amp; y == 1 &amp;&amp; d != &#39;X&#39; &amp;&amp; d != &#39;O&#39;) {\r\n        d = (&#39;O&#39;);\r\n        j++;\r\n    } else if (x == 2 &amp;&amp; y == 2 &amp;&amp; e != &#39;X&#39; &amp;&amp; e != &#39;O&#39;) {\r\n        e = (&#39;O&#39;);\r\n        j++;\r\n    } else if (x == 2 &amp;&amp; y == 3 &amp;&amp; f != &#39;X&#39; &amp;&amp; f != &#39;O&#39;) {\r\n        f = (&#39;O&#39;);\r\n        j++;\r\n    } else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != &#39;X&#39; &amp;&amp; g != &#39;O&#39;) {\r\n        g = (&#39;O&#39;);\r\n        j++;\r\n    } else if (x == 3 &amp;&amp; y == 2 &amp;&amp; h != &#39;X&#39; &amp;&amp; h != &#39;O&#39;) {\r\n        h = (&#39;O&#39;);\r\n        j++;\r\n    } else if (x == 3 &amp;&amp; y == 3 &amp;&amp; i != &#39;X&#39; &amp;&amp; i != &#39;O&#39;) {\r\n        i = (&#39;O&#39;);\r\n        j++;\r\n\r\n    } else {\r\n        System.out.println(&quot;you cant pick that space its already been taken&quot;);\r\n    }\r\n\r\nThis looks okay, but, let&#39;s step through it, first loop...\r\n\r\n* `j == 0`\r\n* `x` and `y` are `1`\r\n* `(j % 2 == 0)` is `true`, print `&quot;Invalid attempt, try again&quot;`\r\n* `(j % 2 != 0)` is `false`\r\n* `(x == 1 &amp;&amp; y == 1 &amp;&amp; a != &#39;X&#39; &amp;&amp; a != &#39;O&#39;)` is `true`, set `a` to `&#39;O&#39;`, increment `j` by one (`j` == `1`)\r\n\r\nNext loop...\r\n\r\n* `j == 1`\r\n* `x` is `1`, `y` is `2`\r\n* `(j % 2 == 0)` is `false`\r\n* `(x == 1 &amp;&amp; y == 2 &amp;&amp; b != &#39;X&#39; &amp;&amp; b != &#39;O&#39;)` is `true`, set `b` to `&#39;X&#39;`, increment `j` by one (`j` == `2`!!)\r\n* `(j % 2 != 0)` is `false`\r\n* `(x == 1 &amp;&amp; y == 2 &amp;&amp; b != &#39;X&#39; &amp;&amp; b != &#39;O&#39;)` is `false`!!\r\n* Print `&quot;you cant pick that space its already been taken&quot;`\r\n\r\nAnd this is now your core issue.  Incrementing `j` inside each `if` statement will cause the next block to think it is it&#39;s turn.\r\n\r\nWhat you could do is use a single `if-elseif-else` block, but, based on the value of `j`, set a `player` character, for example...\r\n\r\n    char player = &#39;X&#39;;\r\n    while (j &lt; 9) {\r\n        if (j % 2 == 0) {\r\n            player = &#39;X&#39;;\r\n        } else {\r\n            player = &#39;O&#39;;\r\n        }\r\n\r\n        System.out.println(&quot;Current player: &quot; + player);\r\n        System.out.println(&quot;What is your x value&quot;);\r\n        int x = scanner.nextInt();\r\n        scanner.nextLine();\r\n        System.out.println(&quot;What is your y value&quot;);\r\n        int y = scanner.nextInt();\r\n        scanner.nextLine();\r\n\r\n        if (x == 1 &amp;&amp; y == 1 &amp;&amp; a != &#39;X&#39; &amp;&amp; a != &#39;O&#39;) {\r\n            a = player;\r\n            j++;\r\n        } else if (x == 1 &amp;&amp; y == 2 &amp;&amp; b != &#39;X&#39; &amp;&amp; b != &#39;O&#39;) {\r\n            b = player;\r\n            j++;\r\n        } else if (x == 1 &amp;&amp; y == 3 &amp;&amp; c != &#39;X&#39; &amp;&amp; c != &#39;O&#39;) {\r\n            c = player;\r\n            j++;\r\n        } else if (x == 2 &amp;&amp; y == 1 &amp;&amp; d != &#39;X&#39; &amp;&amp; d != &#39;O&#39;) {\r\n            d = player;\r\n            j++;\r\n        } else if (x == 2 &amp;&amp; y == 2 &amp;&amp; e != &#39;X&#39; &amp;&amp; e != &#39;O&#39;) {\r\n            e = player;\r\n            j++;\r\n        } else if (x == 2 &amp;&amp; y == 3 &amp;&amp; f != &#39;X&#39; &amp;&amp; f != &#39;O&#39;) {\r\n            f = player;\r\n            j++;\r\n        } else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != &#39;X&#39; &amp;&amp; g != &#39;O&#39;) {\r\n            g = player;\r\n            j++;\r\n        } else if (x == 3 &amp;&amp; y == 2 &amp;&amp; h != &#39;X&#39; &amp;&amp; h != &#39;O&#39;) {\r\n            h = player;\r\n            j++;\r\n        } else if (x == 3 &amp;&amp; y == 3 &amp;&amp; i != &#39;X&#39; &amp;&amp; i != &#39;O&#39;) {\r\n            i = player;\r\n            j++;\r\n        } else {\r\n            System.out.println(&quot;A you cant pick that space its already been taken&quot;);\r\n        }\r\n\r\n*(please note, I replaced your `IO` class for `Scanner` as `IO` is not a standard Java library class)*\r\n\r\nOh and at the end of that, you need to update the `gameboard`\r\n\r\n    gameboard = (&quot;    1  2  3\\n1   &quot; + a + &quot;| &quot; + b + &quot; | &quot; + c + &quot;\\n   - - - - -&quot; + &quot;\\n2   &quot; + d + &quot;| &quot; + e + &quot; | &quot; + f + &quot;\\n   - - - - -&quot; + &quot;\\n3   &quot; + g + &quot;| &quot; + h + &quot; | &quot; + i + &quot;\\n   - - - - -&quot;);\r\n\r\notherwise it will never change","title":"I can&#39;t figure out whats wrong with my java tictactoe","body":"<p>You really need to learn how to desk check your code (sit down if a piece of paper and a pen and walk through you code writing down the state)</p>\n<p>For example, let's look at...</p>\n<pre><code>if (j % 2 == 0) {\n    System.out.println(&quot;\\n Invalid attempt, try again&quot;);\n} else if (x == 1 &amp;&amp; y == 1 &amp;&amp; a != 'X' &amp;&amp; a != 'O') {\n    a = ('X');\n    j++;\n} else if (x == 1 &amp;&amp; y == 2 &amp;&amp; b != 'X' &amp;&amp; b != 'O') {\n    b = ('X');\n    j++;\n} else if (x == 1 &amp;&amp; y == 3 &amp;&amp; c != 'X' &amp;&amp; c != 'O') {\n    c = ('X');\n    j++;\n} else if (x == 2 &amp;&amp; y == 1 &amp;&amp; d != 'X' &amp;&amp; d != 'O') {\n    d = ('X');\n    j++;\n} else if (x == 2 &amp;&amp; y == 2 &amp;&amp; e != 'X' &amp;&amp; e != 'O') {\n    e = ('X');\n    j++;\n} else if (x == 2 &amp;&amp; y == 3 &amp;&amp; f != 'X' &amp;&amp; f != 'O') {\n    f = ('X');\n    j++;\n} else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != 'X' &amp;&amp; g != 'O') {\n    g = ('X');\n    j++;\n} else if (x == 3 &amp;&amp; y == 2 &amp;&amp; h != 'X' &amp;&amp; h != 'O') {\n    h = ('X');\n    j++;\n} else if (x == 3 &amp;&amp; y == 3 &amp;&amp; i != 'X' &amp;&amp; i != 'O') {\n    i = ('X');\n    j++;\n} else {\n    System.out.println(&quot;you cant pick that space its already been taken&quot;);\n}\n\n//For O\nif (j % 2 != 0) {\n    System.out.println(&quot;\\n Invalid attempt, try again&quot;);\n} else if (x == 1 &amp;&amp; y == 1 &amp;&amp; a != 'X' &amp;&amp; a != 'O') {\n    a = ('O');\n    j++;\n} else if (x == 1 &amp;&amp; y == 2 &amp;&amp; b != 'X' &amp;&amp; b != 'O') {\n    b = ('O');\n    j++;\n} else if (x == 1 &amp;&amp; y == 3 &amp;&amp; c != 'X' &amp;&amp; c != 'O') {\n    c = ('O');\n    j++;\n} else if (x == 2 &amp;&amp; y == 1 &amp;&amp; d != 'X' &amp;&amp; d != 'O') {\n    d = ('O');\n    j++;\n} else if (x == 2 &amp;&amp; y == 2 &amp;&amp; e != 'X' &amp;&amp; e != 'O') {\n    e = ('O');\n    j++;\n} else if (x == 2 &amp;&amp; y == 3 &amp;&amp; f != 'X' &amp;&amp; f != 'O') {\n    f = ('O');\n    j++;\n} else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != 'X' &amp;&amp; g != 'O') {\n    g = ('O');\n    j++;\n} else if (x == 3 &amp;&amp; y == 2 &amp;&amp; h != 'X' &amp;&amp; h != 'O') {\n    h = ('O');\n    j++;\n} else if (x == 3 &amp;&amp; y == 3 &amp;&amp; i != 'X' &amp;&amp; i != 'O') {\n    i = ('O');\n    j++;\n\n} else {\n    System.out.println(&quot;you cant pick that space its already been taken&quot;);\n}\n</code></pre>\n<p>This looks okay, but, let's step through it, first loop...</p>\n<ul>\n<li><code>j == 0</code></li>\n<li><code>x</code> and <code>y</code> are <code>1</code></li>\n<li><code>(j % 2 == 0)</code> is <code>true</code>, print <code>&quot;Invalid attempt, try again&quot;</code></li>\n<li><code>(j % 2 != 0)</code> is <code>false</code></li>\n<li><code>(x == 1 &amp;&amp; y == 1 &amp;&amp; a != 'X' &amp;&amp; a != 'O')</code> is <code>true</code>, set <code>a</code> to <code>'O'</code>, increment <code>j</code> by one (<code>j</code> == <code>1</code>)</li>\n</ul>\n<p>Next loop...</p>\n<ul>\n<li><code>j == 1</code></li>\n<li><code>x</code> is <code>1</code>, <code>y</code> is <code>2</code></li>\n<li><code>(j % 2 == 0)</code> is <code>false</code></li>\n<li><code>(x == 1 &amp;&amp; y == 2 &amp;&amp; b != 'X' &amp;&amp; b != 'O')</code> is <code>true</code>, set <code>b</code> to <code>'X'</code>, increment <code>j</code> by one (<code>j</code> == <code>2</code>!!)</li>\n<li><code>(j % 2 != 0)</code> is <code>false</code></li>\n<li><code>(x == 1 &amp;&amp; y == 2 &amp;&amp; b != 'X' &amp;&amp; b != 'O')</code> is <code>false</code>!!</li>\n<li>Print <code>&quot;you cant pick that space its already been taken&quot;</code></li>\n</ul>\n<p>And this is now your core issue.  Incrementing <code>j</code> inside each <code>if</code> statement will cause the next block to think it is it's turn.</p>\n<p>What you could do is use a single <code>if-elseif-else</code> block, but, based on the value of <code>j</code>, set a <code>player</code> character, for example...</p>\n<pre><code>char player = 'X';\nwhile (j &lt; 9) {\n    if (j % 2 == 0) {\n        player = 'X';\n    } else {\n        player = 'O';\n    }\n\n    System.out.println(&quot;Current player: &quot; + player);\n    System.out.println(&quot;What is your x value&quot;);\n    int x = scanner.nextInt();\n    scanner.nextLine();\n    System.out.println(&quot;What is your y value&quot;);\n    int y = scanner.nextInt();\n    scanner.nextLine();\n\n    if (x == 1 &amp;&amp; y == 1 &amp;&amp; a != 'X' &amp;&amp; a != 'O') {\n        a = player;\n        j++;\n    } else if (x == 1 &amp;&amp; y == 2 &amp;&amp; b != 'X' &amp;&amp; b != 'O') {\n        b = player;\n        j++;\n    } else if (x == 1 &amp;&amp; y == 3 &amp;&amp; c != 'X' &amp;&amp; c != 'O') {\n        c = player;\n        j++;\n    } else if (x == 2 &amp;&amp; y == 1 &amp;&amp; d != 'X' &amp;&amp; d != 'O') {\n        d = player;\n        j++;\n    } else if (x == 2 &amp;&amp; y == 2 &amp;&amp; e != 'X' &amp;&amp; e != 'O') {\n        e = player;\n        j++;\n    } else if (x == 2 &amp;&amp; y == 3 &amp;&amp; f != 'X' &amp;&amp; f != 'O') {\n        f = player;\n        j++;\n    } else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != 'X' &amp;&amp; g != 'O') {\n        g = player;\n        j++;\n    } else if (x == 3 &amp;&amp; y == 2 &amp;&amp; h != 'X' &amp;&amp; h != 'O') {\n        h = player;\n        j++;\n    } else if (x == 3 &amp;&amp; y == 3 &amp;&amp; i != 'X' &amp;&amp; i != 'O') {\n        i = player;\n        j++;\n    } else {\n        System.out.println(&quot;A you cant pick that space its already been taken&quot;);\n    }\n</code></pre>\n<p><em>(please note, I replaced your <code>IO</code> class for <code>Scanner</code> as <code>IO</code> is not a standard Java library class)</em></p>\n<p>Oh and at the end of that, you need to update the <code>gameboard</code></p>\n<pre><code>gameboard = (&quot;    1  2  3\\n1   &quot; + a + &quot;| &quot; + b + &quot; | &quot; + c + &quot;\\n   - - - - -&quot; + &quot;\\n2   &quot; + d + &quot;| &quot; + e + &quot; | &quot; + f + &quot;\\n   - - - - -&quot; + &quot;\\n3   &quot; + g + &quot;| &quot; + h + &quot; | &quot; + i + &quot;\\n   - - - - -&quot;);\n</code></pre>\n<p>otherwise it will never change</p>\n"}],"owner":{"account_id":19374473,"reputation":11,"user_id":14167051,"display_name":"apel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75611170,"answer_count":1,"score":-1,"last_activity_date":1677729171,"creation_date":1677726563,"question_id":75610988,"body_markdown":"It keeps spitting out &quot;you can pick that space its already been taken and it seems like it&#39;s ignoring all the other if statements. I&#39;ve been tinkering at this for a couple hours and I don&#39;t know how to fix it. \r\n\r\n\r\n```\r\npublic class tictactoegame {\r\n\r\n    public static void main(String[] args) {\r\n        int j = 0;\r\n\r\n        System.out.println(&quot;&quot;);\r\n        char a = (&#39;a&#39;);\r\n        char b = (&#39;b&#39;);\r\n        char c = (&#39;c&#39;);\r\n        char d = (&#39;d&#39;);\r\n        char e = (&#39;e&#39;);\r\n        char f = (&#39;f&#39;);\r\n        char g = (&#39;g&#39;);\r\n        char h = (&#39;h&#39;);\r\n        char i = (&#39;i&#39;);\r\n\r\n        \r\n        \r\n        String gameboard = (&quot;    1  2  3\\n1   &quot;+a+&quot;| &quot;+b+ &quot; | &quot;+c+&quot;\\n   - - - - -&quot;+&quot;\\n2   &quot;+d+&quot;| &quot;+e+ &quot; | &quot;+f+&quot;\\n   - - - - -&quot;+&quot;\\n3   &quot;+g+&quot;| &quot;+h+ &quot; | &quot;+i+&quot;\\n   - - - - -&quot;);\r\n        System.out.println(gameboard);\r\n        a = (&#39; &#39;);\r\n        b = (&#39; &#39;);\r\n        c = (&#39; &#39;);\r\n        d = (&#39; &#39;);\r\n        e = (&#39; &#39;);\r\n        f = (&#39; &#39;);\r\n        g = (&#39; &#39;);\r\n        h = (&#39; &#39;);\r\n        i = (&#39; &#39;);\r\n\r\n\r\n        \r\n\r\n\r\n        System.out.println();\r\n\r\n        \r\n        while (j &lt; 9){\r\n            int x = IO.inputInt(&quot;What is your x value&quot;);\r\n            int y = IO.inputInt(&quot;What is your y value&quot;);\r\n                \r\n            //For X\r\n\r\n            if (j%2 == 0){\r\n                System.out.println(&quot;\\n Invalid attempt, try again&quot;);\r\n            }\r\n            else if (x == 1 &amp;&amp; y == 1 &amp;&amp; a != &#39;X&#39; &amp;&amp; a != &#39;O&#39; ){\r\n                a = (&#39;X&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 1 &amp;&amp; y == 2 &amp;&amp; b != &#39;X&#39; &amp;&amp; b != &#39;O&#39; ){\r\n                b = (&#39;X&#39;);\r\n                j++;\r\n            } \r\n            else if (x == 1 &amp;&amp; y == 3 &amp;&amp; c != &#39;X&#39; &amp;&amp; c != &#39;O&#39; ){\r\n                c = (&#39;X&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 2 &amp;&amp; y == 1  &amp;&amp; d != &#39;X&#39; &amp;&amp; d != &#39;O&#39; ){\r\n                d = (&#39;X&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 2 &amp;&amp; y == 2  &amp;&amp; e != &#39;X&#39; &amp;&amp; e != &#39;O&#39; ){\r\n                e = (&#39;X&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 2 &amp;&amp; y == 3  &amp;&amp; f != &#39;X&#39; &amp;&amp; f != &#39;O&#39; ){\r\n                f = (&#39;X&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != &#39;X&#39; &amp;&amp; g != &#39;O&#39; ){\r\n                g = (&#39;X&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 3 &amp;&amp; y == 2  &amp;&amp; h != &#39;X&#39; &amp;&amp; h != &#39;O&#39; ){\r\n                h = (&#39;X&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 3 &amp;&amp; y == 3  &amp;&amp; i != &#39;X&#39; &amp;&amp; i != &#39;O&#39; ){\r\n                i = (&#39;X&#39;);\r\n                j++;\r\n            }\r\n            else {\r\n                System.out.println(&quot;you cant pick that space its already been taken&quot;);}\r\n\r\n            //For O\r\n            \r\n            if (j%2 != 0){\r\n                System.out.println(&quot;\\n Invalid attempt, try again&quot;);\r\n            }\r\n            else if (x == 1 &amp;&amp; y == 1  &amp;&amp; a != &#39;X&#39; &amp;&amp; a != &#39;O&#39; ){\r\n                a = (&#39;O&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 1 &amp;&amp; y == 2  &amp;&amp; b != &#39;X&#39; &amp;&amp; b != &#39;O&#39; ){\r\n                b = (&#39;O&#39;);\r\n                j++;\r\n            } \r\n            else if (x == 1 &amp;&amp; y == 3  &amp;&amp; c != &#39;X&#39; &amp;&amp; c != &#39;O&#39; ){\r\n                c = (&#39;O&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 2 &amp;&amp; y == 1 &amp;&amp; d != &#39;X&#39; &amp;&amp; d != &#39;O&#39; ){\r\n                d = (&#39;O&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 2 &amp;&amp; y == 2 &amp;&amp; e != &#39;X&#39; &amp;&amp; e != &#39;O&#39; ){\r\n                e = (&#39;O&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 2 &amp;&amp; y == 3 &amp;&amp; f != &#39;X&#39; &amp;&amp; f != &#39;O&#39; ){\r\n                f = (&#39;O&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != &#39;X&#39; &amp;&amp; g != &#39;O&#39; ){\r\n                g = (&#39;O&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 3 &amp;&amp; y == 2 &amp;&amp; h != &#39;X&#39; &amp;&amp; h != &#39;O&#39; ){\r\n                h = (&#39;O&#39;);\r\n                j++;\r\n            }\r\n            else if (x == 3 &amp;&amp; y == 3 &amp;&amp; i != &#39;X&#39; &amp;&amp; i != &#39;O&#39; ){\r\n                i = (&#39;O&#39;);\r\n                j++;\r\n\r\n            }\r\n            else {\r\n                System.out.println(&quot;you cant pick that space its already been taken&quot;);}\r\n            \r\n            if (a == &#39;X&#39;) {\r\n                if (b == &#39;X&#39;) {\r\n                    if (c == &#39;X&#39;) {\r\n                        System.out.println(&quot;X wins!!!&quot;);\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n             if (d == &#39;X&#39;) {\r\n                if (e == &#39;X&#39;) {\r\n                    if (f == &#39;X&#39;) {\r\n                        System.out.println(&quot;X wins!!!&quot;);\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n              if (g == &#39;X&#39;) {\r\n                if (h == &#39;X&#39;) {\r\n                    if (i == &#39;X&#39;) {\r\n                        System.out.println(&quot;X wins!!!&quot;);\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n               if (a == &#39;X&#39;) {\r\n                if (e == &#39;X&#39;) {\r\n                    if (f == &#39;X&#39;) {\r\n                        System.out.println(&quot;X wins!!!&quot;);\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n                if (a == &#39;X&#39;) {\r\n                    if (d == &#39;X&#39;) {\r\n                        if (g == &#39;X&#39;) {\r\n                            System.out.println(&quot;X wins!!!&quot;);\r\n                            System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n                if (b == &#39;X&#39;) {\r\n                    if (e == &#39;X&#39;) {\r\n                        if (h == &#39;X&#39;) {\r\n                            System.out.println(&quot;X wins!!!&quot;);\r\n                            System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n                if (c == &#39;X&#39;) {\r\n                    if (f == &#39;X&#39;) {\r\n                        if (i == &#39;X&#39;) {\r\n                            System.out.println(&quot;X wins!!!&quot;);\r\n                            System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n                if (c == &#39;X&#39;) {\r\n                    if (e == &#39;X&#39;) {\r\n                        if (g == &#39;X&#39;) {\r\n                            System.out.println(&quot;X wins!!!&quot;);\r\n                            System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n\r\n            //O\r\n\r\n            if (a == &#39;O&#39;) {\r\n                if (b == &#39;O&#39;) {\r\n                    if (c == &#39;O&#39;) {\r\n                        System.out.println(&quot;O wins!!!&quot;);\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n             if (d == &#39;O&#39;) {\r\n                if (e == &#39;O&#39;) {\r\n                    if (f == &#39;O&#39;) {\r\n                        System.out.println(&quot;O wins!!!&quot;);\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n              if (g == &#39;O&#39;) {\r\n                if (h == &#39;O&#39;) {\r\n                    if (i == &#39;O&#39;) {\r\n                        System.out.println(&quot;O wins!!!&quot;);\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n               if (a == &#39;O&#39;) {\r\n                if (e == &#39;O&#39;) {\r\n                    if (f == &#39;O&#39;) {\r\n                        System.out.println(&quot;O wins!!!&quot;);\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n                if (a == &#39;O&#39;) {\r\n                    if (d == &#39;O&#39;) {\r\n                        if (g == &#39;O&#39;) {\r\n                            System.out.println(&quot;O wins!!!&quot;);\r\n                            System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n                if (b == &#39;O&#39;) {\r\n                    if (e == &#39;O&#39;) {\r\n                        if (h == &#39;O&#39;) {\r\n                            System.out.println(&quot;O wins!!!&quot;);\r\n                            System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n                if (c == &#39;O&#39;) {\r\n                    if (f == &#39;O&#39;) {\r\n                        if (i == &#39;O&#39;) {\r\n                            System.out.println(&quot;O wins!!!&quot;);\r\n                            System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n                if (c == &#39;O&#39;) {\r\n                    if (e == &#39;O&#39;) {\r\n                        if (g == &#39;O&#39;) {\r\n                            System.out.println(&quot;O wins!!!&quot;);\r\n                            System.exit(1);\r\n                    }\r\n                }\r\n            }            \r\n            if (j == 9 &amp;&amp; a != &#39; &#39;&amp;&amp; b != &#39; &#39;&amp;&amp; c != &#39; &#39;&amp;&amp; d != &#39; &#39;&amp;&amp; e != &#39; &#39; &amp;&amp; f != &#39; &#39;&amp;&amp; g != &#39; &#39;&amp;&amp; h != &#39; &#39;&amp;&amp; i != &#39; &#39;){\r\n                System.out.println(&quot;Tie Game&quot;);\r\n                System.exit(1);\r\n\r\n            }\r\n\r\n\r\n            System.out.println(gameboard);\r\n    \r\n        }}\r\n\r\n\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\nThe program should let me change the values of a-i and display it on the game board instead it just spits out the else statement.","title":"I can&#39;t figure out whats wrong with my java tictactoe","body":"<p>It keeps spitting out &quot;you can pick that space its already been taken and it seems like it's ignoring all the other if statements. I've been tinkering at this for a couple hours and I don't know how to fix it.</p>\n<pre><code>public class tictactoegame {\n\n    public static void main(String[] args) {\n        int j = 0;\n\n        System.out.println(&quot;&quot;);\n        char a = ('a');\n        char b = ('b');\n        char c = ('c');\n        char d = ('d');\n        char e = ('e');\n        char f = ('f');\n        char g = ('g');\n        char h = ('h');\n        char i = ('i');\n\n        \n        \n        String gameboard = (&quot;    1  2  3\\n1   &quot;+a+&quot;| &quot;+b+ &quot; | &quot;+c+&quot;\\n   - - - - -&quot;+&quot;\\n2   &quot;+d+&quot;| &quot;+e+ &quot; | &quot;+f+&quot;\\n   - - - - -&quot;+&quot;\\n3   &quot;+g+&quot;| &quot;+h+ &quot; | &quot;+i+&quot;\\n   - - - - -&quot;);\n        System.out.println(gameboard);\n        a = (' ');\n        b = (' ');\n        c = (' ');\n        d = (' ');\n        e = (' ');\n        f = (' ');\n        g = (' ');\n        h = (' ');\n        i = (' ');\n\n\n        \n\n\n        System.out.println();\n\n        \n        while (j &lt; 9){\n            int x = IO.inputInt(&quot;What is your x value&quot;);\n            int y = IO.inputInt(&quot;What is your y value&quot;);\n                \n            //For X\n\n            if (j%2 == 0){\n                System.out.println(&quot;\\n Invalid attempt, try again&quot;);\n            }\n            else if (x == 1 &amp;&amp; y == 1 &amp;&amp; a != 'X' &amp;&amp; a != 'O' ){\n                a = ('X');\n                j++;\n            }\n            else if (x == 1 &amp;&amp; y == 2 &amp;&amp; b != 'X' &amp;&amp; b != 'O' ){\n                b = ('X');\n                j++;\n            } \n            else if (x == 1 &amp;&amp; y == 3 &amp;&amp; c != 'X' &amp;&amp; c != 'O' ){\n                c = ('X');\n                j++;\n            }\n            else if (x == 2 &amp;&amp; y == 1  &amp;&amp; d != 'X' &amp;&amp; d != 'O' ){\n                d = ('X');\n                j++;\n            }\n            else if (x == 2 &amp;&amp; y == 2  &amp;&amp; e != 'X' &amp;&amp; e != 'O' ){\n                e = ('X');\n                j++;\n            }\n            else if (x == 2 &amp;&amp; y == 3  &amp;&amp; f != 'X' &amp;&amp; f != 'O' ){\n                f = ('X');\n                j++;\n            }\n            else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != 'X' &amp;&amp; g != 'O' ){\n                g = ('X');\n                j++;\n            }\n            else if (x == 3 &amp;&amp; y == 2  &amp;&amp; h != 'X' &amp;&amp; h != 'O' ){\n                h = ('X');\n                j++;\n            }\n            else if (x == 3 &amp;&amp; y == 3  &amp;&amp; i != 'X' &amp;&amp; i != 'O' ){\n                i = ('X');\n                j++;\n            }\n            else {\n                System.out.println(&quot;you cant pick that space its already been taken&quot;);}\n\n            //For O\n            \n            if (j%2 != 0){\n                System.out.println(&quot;\\n Invalid attempt, try again&quot;);\n            }\n            else if (x == 1 &amp;&amp; y == 1  &amp;&amp; a != 'X' &amp;&amp; a != 'O' ){\n                a = ('O');\n                j++;\n            }\n            else if (x == 1 &amp;&amp; y == 2  &amp;&amp; b != 'X' &amp;&amp; b != 'O' ){\n                b = ('O');\n                j++;\n            } \n            else if (x == 1 &amp;&amp; y == 3  &amp;&amp; c != 'X' &amp;&amp; c != 'O' ){\n                c = ('O');\n                j++;\n            }\n            else if (x == 2 &amp;&amp; y == 1 &amp;&amp; d != 'X' &amp;&amp; d != 'O' ){\n                d = ('O');\n                j++;\n            }\n            else if (x == 2 &amp;&amp; y == 2 &amp;&amp; e != 'X' &amp;&amp; e != 'O' ){\n                e = ('O');\n                j++;\n            }\n            else if (x == 2 &amp;&amp; y == 3 &amp;&amp; f != 'X' &amp;&amp; f != 'O' ){\n                f = ('O');\n                j++;\n            }\n            else if (x == 3 &amp;&amp; y == 1 &amp;&amp; g != 'X' &amp;&amp; g != 'O' ){\n                g = ('O');\n                j++;\n            }\n            else if (x == 3 &amp;&amp; y == 2 &amp;&amp; h != 'X' &amp;&amp; h != 'O' ){\n                h = ('O');\n                j++;\n            }\n            else if (x == 3 &amp;&amp; y == 3 &amp;&amp; i != 'X' &amp;&amp; i != 'O' ){\n                i = ('O');\n                j++;\n\n            }\n            else {\n                System.out.println(&quot;you cant pick that space its already been taken&quot;);}\n            \n            if (a == 'X') {\n                if (b == 'X') {\n                    if (c == 'X') {\n                        System.out.println(&quot;X wins!!!&quot;);\n                        System.exit(1);\n                    }\n                }\n            }\n             if (d == 'X') {\n                if (e == 'X') {\n                    if (f == 'X') {\n                        System.out.println(&quot;X wins!!!&quot;);\n                        System.exit(1);\n                    }\n                }\n            }\n              if (g == 'X') {\n                if (h == 'X') {\n                    if (i == 'X') {\n                        System.out.println(&quot;X wins!!!&quot;);\n                        System.exit(1);\n                    }\n                }\n            }\n               if (a == 'X') {\n                if (e == 'X') {\n                    if (f == 'X') {\n                        System.out.println(&quot;X wins!!!&quot;);\n                        System.exit(1);\n                    }\n                }\n            }\n                if (a == 'X') {\n                    if (d == 'X') {\n                        if (g == 'X') {\n                            System.out.println(&quot;X wins!!!&quot;);\n                            System.exit(1);\n                    }\n                }\n            }\n                if (b == 'X') {\n                    if (e == 'X') {\n                        if (h == 'X') {\n                            System.out.println(&quot;X wins!!!&quot;);\n                            System.exit(1);\n                    }\n                }\n            }\n                if (c == 'X') {\n                    if (f == 'X') {\n                        if (i == 'X') {\n                            System.out.println(&quot;X wins!!!&quot;);\n                            System.exit(1);\n                    }\n                }\n            }\n                if (c == 'X') {\n                    if (e == 'X') {\n                        if (g == 'X') {\n                            System.out.println(&quot;X wins!!!&quot;);\n                            System.exit(1);\n                    }\n                }\n            }\n\n            //O\n\n            if (a == 'O') {\n                if (b == 'O') {\n                    if (c == 'O') {\n                        System.out.println(&quot;O wins!!!&quot;);\n                        System.exit(1);\n                    }\n                }\n            }\n             if (d == 'O') {\n                if (e == 'O') {\n                    if (f == 'O') {\n                        System.out.println(&quot;O wins!!!&quot;);\n                        System.exit(1);\n                    }\n                }\n            }\n              if (g == 'O') {\n                if (h == 'O') {\n                    if (i == 'O') {\n                        System.out.println(&quot;O wins!!!&quot;);\n                        System.exit(1);\n                    }\n                }\n            }\n               if (a == 'O') {\n                if (e == 'O') {\n                    if (f == 'O') {\n                        System.out.println(&quot;O wins!!!&quot;);\n                        System.exit(1);\n                    }\n                }\n            }\n                if (a == 'O') {\n                    if (d == 'O') {\n                        if (g == 'O') {\n                            System.out.println(&quot;O wins!!!&quot;);\n                            System.exit(1);\n                    }\n                }\n            }\n                if (b == 'O') {\n                    if (e == 'O') {\n                        if (h == 'O') {\n                            System.out.println(&quot;O wins!!!&quot;);\n                            System.exit(1);\n                    }\n                }\n            }\n                if (c == 'O') {\n                    if (f == 'O') {\n                        if (i == 'O') {\n                            System.out.println(&quot;O wins!!!&quot;);\n                            System.exit(1);\n                    }\n                }\n            }\n                if (c == 'O') {\n                    if (e == 'O') {\n                        if (g == 'O') {\n                            System.out.println(&quot;O wins!!!&quot;);\n                            System.exit(1);\n                    }\n                }\n            }            \n            if (j == 9 &amp;&amp; a != ' '&amp;&amp; b != ' '&amp;&amp; c != ' '&amp;&amp; d != ' '&amp;&amp; e != ' ' &amp;&amp; f != ' '&amp;&amp; g != ' '&amp;&amp; h != ' '&amp;&amp; i != ' '){\n                System.out.println(&quot;Tie Game&quot;);\n                System.exit(1);\n\n            }\n\n\n            System.out.println(gameboard);\n    \n        }}\n\n\n\n\n    }\n</code></pre>\n<p>The program should let me change the values of a-i and display it on the game board instead it just spits out the else statement.</p>\n"},{"tags":["java","android","module","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":27686505,"reputation":1,"user_id":21134152,"display_name":"Somedudeonstack"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677727452,"creation_date":1677261674,"answer_id":75559926,"question_id":75559651,"body_markdown":"I had faced the same issue as well, and it took me a long time to figure out what was wrong.\r\n\r\nThe problem was that the layout in my module had the same name as the main application for another layout, and I fixed it by changing the name of the module layout and then it worked like a charm!\r\n\r\nIn short, don&#39;t have the same layout names in both your main app and app modules.","title":"NullPointerException does not occur when app is loaded independently but when imported as library I get the error","body":"<p>I had faced the same issue as well, and it took me a long time to figure out what was wrong.</p>\n<p>The problem was that the layout in my module had the same name as the main application for another layout, and I fixed it by changing the name of the module layout and then it worked like a charm!</p>\n<p>In short, don't have the same layout names in both your main app and app modules.</p>\n"}],"owner":{"account_id":27686505,"reputation":1,"user_id":21134152,"display_name":"Somedudeonstack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677727452,"creation_date":1677259783,"question_id":75559651,"body_markdown":"I download a few game apps from git to add on to my application. Individually the games run fine but when the games have been imported as libraries the games do not work.\r\n\r\nThis is the code I used to call the activity from the library class in my main app\r\n\r\n     btnsnake.setOnClickListener(v -&gt; {\r\n            Intent intentsnake=new Intent(RewardsforadActivity.this, MainActivity.class);\r\n            startActivity(intentsnake);\r\n        });\r\n\r\n\r\n\r\nWhen I call this method I get a null pointer exception on method void init() which is in another class of the library called GameView. Init method helps create the board for the game environment to run. \r\n\r\nI am not a programmer and am doing this as a hobby any help would be appreciated. I think the major problem is that the other class(GameView) is not being instantized when main activity is called but Im unsure how to.\r\n\r\n\r\nThe error is \r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.cringyprithak.mcqrunch_6/com.rose.snake.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.rose.snake.GameView.init()&#39; on a null object reference\r\n\r\n\r\nThe code for the MainActivity of the library is\r\n\r\n\r\n    package com.rose.snake;\r\n\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    private static final int FPS = 60;\r\n    private int SPEEDStart =11 ;\r\n\r\n    private static final int STATUS_PAUSED = 1;\r\n    private static final int STATUS_START = 2;\r\n    private static final int STATUS_OVER = 3;\r\n    private static final int STATUS_PLAYING = 4;\r\n\r\n    private GameView mGameView;\r\n    private TextView mGameStatusText;\r\n    private TextView mGameScoreText;\r\n    private Button mGameBtn;\r\n\r\n    private int SPEED ;\r\n\r\n    private final AtomicInteger mGameStatus = new AtomicInteger(STATUS_START);\r\n\r\n    private final Handler mHandler = new Handler();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mGameView = findViewById(R.id.game_view);\r\n        mGameStatusText = findViewById(R.id.game_status);\r\n        mGameBtn = findViewById(R.id.game_control_btn);\r\n        mGameScoreText = findViewById(R.id.game_score);\r\n        mGameView.init();\r\n        mGameView.setGameScoreUpdatedListener(score -&gt; {\r\n           mHandler.post(() -&gt; mGameScoreText.setText(&quot;Score: &quot; + score));\r\n           if(score&lt;20){SPEED=SPEEDStart- score/2;}\r\n           else{SPEED=2;}\r\n        });\r\n\r\n        findViewById(R.id.up_btn).setOnClickListener(v -&gt; {\r\n            if (mGameStatus.get() == STATUS_PLAYING) {\r\n                mGameView.setDirection(Direction.UP);\r\n            }\r\n        });\r\n        findViewById(R.id.down_btn).setOnClickListener(v -&gt; {\r\n            if (mGameStatus.get() == STATUS_PLAYING) {\r\n                mGameView.setDirection(Direction.DOWN);\r\n            }\r\n        });\r\n        findViewById(R.id.left_btn).setOnClickListener(v -&gt; {\r\n            if (mGameStatus.get() == STATUS_PLAYING) {\r\n                mGameView.setDirection(Direction.LEFT);\r\n            }\r\n        });\r\n        findViewById(R.id.right_btn).setOnClickListener(v -&gt; {\r\n            if (mGameStatus.get() == STATUS_PLAYING) {\r\n                mGameView.setDirection(Direction.RIGHT);\r\n            }\r\n        });\r\n\r\n        mGameBtn.setOnClickListener(v -&gt; {\r\n            if (mGameStatus.get() == STATUS_PLAYING) {\r\n                setGameStatus(STATUS_PAUSED);\r\n            } else {\r\n                setGameStatus(STATUS_PLAYING);\r\n            }\r\n        });\r\n\r\n        setGameStatus(STATUS_START);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        if (mGameStatus.get() == STATUS_PLAYING) {\r\n            setGameStatus(STATUS_PAUSED);\r\n        }\r\n    }\r\n\r\n    private void setGameStatus(int gameStatus) {\r\n        int prevStatus = mGameStatus.get();\r\n        mGameStatusText.setVisibility(View.VISIBLE);\r\n        mGameBtn.setText(&quot;start&quot;);\r\n        mGameStatus.set(gameStatus);\r\n        switch (gameStatus) {\r\n            case STATUS_OVER:\r\n                mGameStatusText.setText(&quot;GAME OVER&quot;);\r\n                break;\r\n            case STATUS_START:\r\n                mGameView.newGame();\r\n                mGameStatusText.setText(&quot;START GAME&quot;);\r\n                break;\r\n            case STATUS_PAUSED:\r\n                mGameStatusText.setText(&quot;GAME PAUSED&quot;);\r\n                break;\r\n            case STATUS_PLAYING:\r\n                if (prevStatus == STATUS_OVER) {\r\n                    mGameView.newGame();\r\n                }\r\n                startGame();\r\n                mGameStatusText.setVisibility(View.INVISIBLE);\r\n                mGameBtn.setText(&quot;pause&quot;);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void startGame() {\r\n        final int delay = 1000 / FPS;\r\n        new Thread(() -&gt; {\r\n            int count = 0;\r\n            while (!mGameView.isGameOver() &amp;&amp; mGameStatus.get() != STATUS_PAUSED) {\r\n                try {\r\n                    Thread.sleep(delay);\r\n                    if (count % SPEED == 0) {\r\n                        mGameView.next();\r\n                        mHandler.post(mGameView::invalidate);\r\n                    }\r\n                    count++;\r\n                } catch (InterruptedException ignored) {\r\n                }\r\n            }\r\n            if (mGameView.isGameOver()) {\r\n                mHandler.post(() -&gt; setGameStatus(STATUS_OVER));\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n\r\n\r\nAnd the GameView is:\r\n\r\n```\r\n\r\npackage com.rose.snake;\r\n\r\nimport android.content.Context;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Color;\r\nimport android.graphics.Paint;\r\nimport android.util.AttributeSet;\r\nimport android.util.Log;\r\nimport android.view.View;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.Random;\r\n\r\npublic class GameView extends View {\r\n    public GameView(Context context) {\r\n        super(context);\r\n    }\r\n\r\n    public GameView(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n    }\r\n\r\n    public GameView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n    }\r\n\r\n    private static final String TAG = &quot;GameView&quot;;\r\n\r\n    private static final int MAP_SIZE = 20;\r\n    private static final int START_X = 5;\r\n    private static final int START_Y = 10;\r\n\r\n    private final Point[][] mPoints = new Point[MAP_SIZE][MAP_SIZE];\r\n    private final LinkedList&lt;Point&gt; mSnake = new LinkedList&lt;&gt;();\r\n    private Direction mDir;\r\n\r\n    private ScoreUpdatedListener mScoreUpdatedListener;\r\n\r\n    private boolean mGameOver = false;\r\n\r\n    private int mBoxSize;\r\n    private int mBoxPadding;\r\n\r\n    private final Paint mPaint = new Paint();\r\n\r\n    public void init() {\r\n        mBoxSize = getContext().getResources()\r\n                .getDimensionPixelSize(R.dimen.game_size) / MAP_SIZE;\r\n        mBoxPadding = mBoxSize / 10;\r\n    }\r\n\r\n    public void newGame() {\r\n        mGameOver = false;\r\n        mDir = Direction.RIGHT;\r\n        initMap();\r\n        updateScore();\r\n    }\r\n\r\n    public void setGameScoreUpdatedListener(ScoreUpdatedListener scoreUpdatedListener) {\r\n        mScoreUpdatedListener = scoreUpdatedListener;\r\n    }\r\n\r\n    private void initMap() {\r\n        for (int i = 0; i &lt; MAP_SIZE; i++) {\r\n            for (int j = 0; j &lt; MAP_SIZE; j++) {\r\n                mPoints[i][j] = new Point(j, i);\r\n            }\r\n        }\r\n        mSnake.clear();\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            Point point = getPoint(START_X + i, START_Y);\r\n            point.type = PointType.SNAKE;\r\n            mSnake.addFirst(point);\r\n        }\r\n        randomApple();\r\n    }\r\n\r\n    private void randomApple() {\r\n        Random random = new Random();\r\n        while (true) {\r\n            Point point = getPoint(random.nextInt(MAP_SIZE),\r\n                    random.nextInt(MAP_SIZE));\r\n            if (point.type == PointType.EMPTY) {\r\n                point.type = PointType.APPLE;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private Point getPoint(int x, int y) {\r\n        return mPoints[y][x];\r\n    }\r\n\r\n    public void next() {\r\n        Point first = mSnake.getFirst();\r\n        Log.d(TAG, &quot;first: &quot; + first.x + &quot; &quot; + first.y);\r\n        Point next = getNext(first);\r\n        Log.d(TAG, &quot;next: &quot; + next.x + &quot; &quot; + next.y);\r\n\r\n        switch (next.type) {\r\n            case EMPTY:\r\n                Log.d(TAG, &quot;next: empty&quot;);\r\n                next.type = PointType.SNAKE;\r\n                mSnake.addFirst(next);\r\n                mSnake.getLast().type = PointType.EMPTY;\r\n                mSnake.removeLast();\r\n                break;\r\n            case APPLE:\r\n                Log.d(TAG, &quot;next: apple&quot;);\r\n                next.type = PointType.SNAKE;\r\n                mSnake.addFirst(next);\r\n                randomApple();\r\n                updateScore();\r\n                break;\r\n            case SNAKE:\r\n                Log.d(TAG, &quot;next: snake&quot;);\r\n                mGameOver = true;\r\n                break;\r\n        }\r\n    }\r\n\r\n    public void updateScore() {\r\n        if (mScoreUpdatedListener != null) {\r\n            int score = mSnake.size() - 3;\r\n            mScoreUpdatedListener.onScoreUpdated(score);\r\n        }\r\n    }\r\n\r\n    public void setDirection(Direction dir) {\r\n        if ((dir == Direction.LEFT || dir == Direction.RIGHT) &amp;&amp;\r\n                (mDir == Direction.LEFT || mDir == Direction.RIGHT)) {\r\n            return;\r\n        }\r\n        if ((dir == Direction.UP || dir == Direction.DOWN) &amp;&amp;\r\n                (mDir == Direction.UP || mDir == Direction.DOWN)) {\r\n            return;\r\n        }\r\n        mDir = dir;\r\n    }\r\n\r\n    private Point getNext(Point point) {\r\n        int x = point.x;\r\n        int y = point.y;\r\n\r\n        switch (mDir) {\r\n            case UP:\r\n                y = y == 0 ? MAP_SIZE - 1 : y - 1;\r\n                break;\r\n            case DOWN:\r\n                y = y == MAP_SIZE - 1 ? 0 : y + 1;\r\n                break;\r\n            case LEFT:\r\n                x = x == 0 ? MAP_SIZE - 1 : x - 1;\r\n                break;\r\n            case RIGHT:\r\n                x = x == MAP_SIZE - 1 ? 0 : x + 1;\r\n                break;\r\n        }\r\n        return getPoint(x, y);\r\n    }\r\n\r\n    public boolean isGameOver() {\r\n        return mGameOver;\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        for (int y = 0; y &lt; MAP_SIZE; y++) {\r\n            for (int x = 0; x &lt; MAP_SIZE; x++) {\r\n                int left = mBoxSize * x;\r\n                int right = left + mBoxSize;\r\n                int top = mBoxSize * y;\r\n                int bottom = top + mBoxSize;\r\n                switch (getPoint(x, y).type) {\r\n                    case APPLE:\r\n                        mPaint.setColor(Color.RED);\r\n                        break;\r\n                    case SNAKE:\r\n                        mPaint.setColor(Color.BLACK);\r\n                        canvas.drawRect(left, top, right, bottom, mPaint);\r\n                        mPaint.setColor(Color.WHITE);\r\n                        left += mBoxPadding;\r\n                        right -= mBoxPadding;\r\n                        top += mBoxPadding;\r\n                        bottom -= mBoxPadding;\r\n                        break;\r\n                    case EMPTY:\r\n                        mPaint.setColor(Color.BLACK);\r\n                        break;\r\n                }\r\n                canvas.drawRect(left, top, right, bottom, mPaint);\r\n            }\r\n        }\r\n    }\r\n}\r\n \r\n\r\n\r\n```\r\n\r\n","title":"NullPointerException does not occur when app is loaded independently but when imported as library I get the error","body":"<p>I download a few game apps from git to add on to my application. Individually the games run fine but when the games have been imported as libraries the games do not work.</p>\n<p>This is the code I used to call the activity from the library class in my main app</p>\n<pre><code> btnsnake.setOnClickListener(v -&gt; {\n        Intent intentsnake=new Intent(RewardsforadActivity.this, MainActivity.class);\n        startActivity(intentsnake);\n    });\n</code></pre>\n<p>When I call this method I get a null pointer exception on method void init() which is in another class of the library called GameView. Init method helps create the board for the game environment to run.</p>\n<p>I am not a programmer and am doing this as a hobby any help would be appreciated. I think the major problem is that the other class(GameView) is not being instantized when main activity is called but Im unsure how to.</p>\n<p>The error is\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.cringyprithak.mcqrunch_6/com.rose.snake.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.rose.snake.GameView.init()' on a null object reference</p>\n<p>The code for the MainActivity of the library is</p>\n<pre><code>package com.rose.snake;\n\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class MainActivity extends AppCompatActivity {\nprivate static final int FPS = 60;\nprivate int SPEEDStart =11 ;\n\nprivate static final int STATUS_PAUSED = 1;\nprivate static final int STATUS_START = 2;\nprivate static final int STATUS_OVER = 3;\nprivate static final int STATUS_PLAYING = 4;\n\nprivate GameView mGameView;\nprivate TextView mGameStatusText;\nprivate TextView mGameScoreText;\nprivate Button mGameBtn;\n\nprivate int SPEED ;\n\nprivate final AtomicInteger mGameStatus = new AtomicInteger(STATUS_START);\n\nprivate final Handler mHandler = new Handler();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mGameView = findViewById(R.id.game_view);\n    mGameStatusText = findViewById(R.id.game_status);\n    mGameBtn = findViewById(R.id.game_control_btn);\n    mGameScoreText = findViewById(R.id.game_score);\n    mGameView.init();\n    mGameView.setGameScoreUpdatedListener(score -&gt; {\n       mHandler.post(() -&gt; mGameScoreText.setText(&quot;Score: &quot; + score));\n       if(score&lt;20){SPEED=SPEEDStart- score/2;}\n       else{SPEED=2;}\n    });\n\n    findViewById(R.id.up_btn).setOnClickListener(v -&gt; {\n        if (mGameStatus.get() == STATUS_PLAYING) {\n            mGameView.setDirection(Direction.UP);\n        }\n    });\n    findViewById(R.id.down_btn).setOnClickListener(v -&gt; {\n        if (mGameStatus.get() == STATUS_PLAYING) {\n            mGameView.setDirection(Direction.DOWN);\n        }\n    });\n    findViewById(R.id.left_btn).setOnClickListener(v -&gt; {\n        if (mGameStatus.get() == STATUS_PLAYING) {\n            mGameView.setDirection(Direction.LEFT);\n        }\n    });\n    findViewById(R.id.right_btn).setOnClickListener(v -&gt; {\n        if (mGameStatus.get() == STATUS_PLAYING) {\n            mGameView.setDirection(Direction.RIGHT);\n        }\n    });\n\n    mGameBtn.setOnClickListener(v -&gt; {\n        if (mGameStatus.get() == STATUS_PLAYING) {\n            setGameStatus(STATUS_PAUSED);\n        } else {\n            setGameStatus(STATUS_PLAYING);\n        }\n    });\n\n    setGameStatus(STATUS_START);\n\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    if (mGameStatus.get() == STATUS_PLAYING) {\n        setGameStatus(STATUS_PAUSED);\n    }\n}\n\nprivate void setGameStatus(int gameStatus) {\n    int prevStatus = mGameStatus.get();\n    mGameStatusText.setVisibility(View.VISIBLE);\n    mGameBtn.setText(&quot;start&quot;);\n    mGameStatus.set(gameStatus);\n    switch (gameStatus) {\n        case STATUS_OVER:\n            mGameStatusText.setText(&quot;GAME OVER&quot;);\n            break;\n        case STATUS_START:\n            mGameView.newGame();\n            mGameStatusText.setText(&quot;START GAME&quot;);\n            break;\n        case STATUS_PAUSED:\n            mGameStatusText.setText(&quot;GAME PAUSED&quot;);\n            break;\n        case STATUS_PLAYING:\n            if (prevStatus == STATUS_OVER) {\n                mGameView.newGame();\n            }\n            startGame();\n            mGameStatusText.setVisibility(View.INVISIBLE);\n            mGameBtn.setText(&quot;pause&quot;);\n            break;\n    }\n}\n\nprivate void startGame() {\n    final int delay = 1000 / FPS;\n    new Thread(() -&gt; {\n        int count = 0;\n        while (!mGameView.isGameOver() &amp;&amp; mGameStatus.get() != STATUS_PAUSED) {\n            try {\n                Thread.sleep(delay);\n                if (count % SPEED == 0) {\n                    mGameView.next();\n                    mHandler.post(mGameView::invalidate);\n                }\n                count++;\n            } catch (InterruptedException ignored) {\n            }\n        }\n        if (mGameView.isGameOver()) {\n            mHandler.post(() -&gt; setGameStatus(STATUS_OVER));\n        }\n    }).start();\n}\n</code></pre>\n<p>}</p>\n<p>And the GameView is:</p>\n<pre><code>\npackage com.rose.snake;\n\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.View;\n\nimport androidx.annotation.Nullable;\n\nimport java.util.LinkedList;\nimport java.util.Random;\n\npublic class GameView extends View {\n    public GameView(Context context) {\n        super(context);\n    }\n\n    public GameView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public GameView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    private static final String TAG = &quot;GameView&quot;;\n\n    private static final int MAP_SIZE = 20;\n    private static final int START_X = 5;\n    private static final int START_Y = 10;\n\n    private final Point[][] mPoints = new Point[MAP_SIZE][MAP_SIZE];\n    private final LinkedList&lt;Point&gt; mSnake = new LinkedList&lt;&gt;();\n    private Direction mDir;\n\n    private ScoreUpdatedListener mScoreUpdatedListener;\n\n    private boolean mGameOver = false;\n\n    private int mBoxSize;\n    private int mBoxPadding;\n\n    private final Paint mPaint = new Paint();\n\n    public void init() {\n        mBoxSize = getContext().getResources()\n                .getDimensionPixelSize(R.dimen.game_size) / MAP_SIZE;\n        mBoxPadding = mBoxSize / 10;\n    }\n\n    public void newGame() {\n        mGameOver = false;\n        mDir = Direction.RIGHT;\n        initMap();\n        updateScore();\n    }\n\n    public void setGameScoreUpdatedListener(ScoreUpdatedListener scoreUpdatedListener) {\n        mScoreUpdatedListener = scoreUpdatedListener;\n    }\n\n    private void initMap() {\n        for (int i = 0; i &lt; MAP_SIZE; i++) {\n            for (int j = 0; j &lt; MAP_SIZE; j++) {\n                mPoints[i][j] = new Point(j, i);\n            }\n        }\n        mSnake.clear();\n        for (int i = 0; i &lt; 3; i++) {\n            Point point = getPoint(START_X + i, START_Y);\n            point.type = PointType.SNAKE;\n            mSnake.addFirst(point);\n        }\n        randomApple();\n    }\n\n    private void randomApple() {\n        Random random = new Random();\n        while (true) {\n            Point point = getPoint(random.nextInt(MAP_SIZE),\n                    random.nextInt(MAP_SIZE));\n            if (point.type == PointType.EMPTY) {\n                point.type = PointType.APPLE;\n                break;\n            }\n        }\n    }\n\n    private Point getPoint(int x, int y) {\n        return mPoints[y][x];\n    }\n\n    public void next() {\n        Point first = mSnake.getFirst();\n        Log.d(TAG, &quot;first: &quot; + first.x + &quot; &quot; + first.y);\n        Point next = getNext(first);\n        Log.d(TAG, &quot;next: &quot; + next.x + &quot; &quot; + next.y);\n\n        switch (next.type) {\n            case EMPTY:\n                Log.d(TAG, &quot;next: empty&quot;);\n                next.type = PointType.SNAKE;\n                mSnake.addFirst(next);\n                mSnake.getLast().type = PointType.EMPTY;\n                mSnake.removeLast();\n                break;\n            case APPLE:\n                Log.d(TAG, &quot;next: apple&quot;);\n                next.type = PointType.SNAKE;\n                mSnake.addFirst(next);\n                randomApple();\n                updateScore();\n                break;\n            case SNAKE:\n                Log.d(TAG, &quot;next: snake&quot;);\n                mGameOver = true;\n                break;\n        }\n    }\n\n    public void updateScore() {\n        if (mScoreUpdatedListener != null) {\n            int score = mSnake.size() - 3;\n            mScoreUpdatedListener.onScoreUpdated(score);\n        }\n    }\n\n    public void setDirection(Direction dir) {\n        if ((dir == Direction.LEFT || dir == Direction.RIGHT) &amp;&amp;\n                (mDir == Direction.LEFT || mDir == Direction.RIGHT)) {\n            return;\n        }\n        if ((dir == Direction.UP || dir == Direction.DOWN) &amp;&amp;\n                (mDir == Direction.UP || mDir == Direction.DOWN)) {\n            return;\n        }\n        mDir = dir;\n    }\n\n    private Point getNext(Point point) {\n        int x = point.x;\n        int y = point.y;\n\n        switch (mDir) {\n            case UP:\n                y = y == 0 ? MAP_SIZE - 1 : y - 1;\n                break;\n            case DOWN:\n                y = y == MAP_SIZE - 1 ? 0 : y + 1;\n                break;\n            case LEFT:\n                x = x == 0 ? MAP_SIZE - 1 : x - 1;\n                break;\n            case RIGHT:\n                x = x == MAP_SIZE - 1 ? 0 : x + 1;\n                break;\n        }\n        return getPoint(x, y);\n    }\n\n    public boolean isGameOver() {\n        return mGameOver;\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        for (int y = 0; y &lt; MAP_SIZE; y++) {\n            for (int x = 0; x &lt; MAP_SIZE; x++) {\n                int left = mBoxSize * x;\n                int right = left + mBoxSize;\n                int top = mBoxSize * y;\n                int bottom = top + mBoxSize;\n                switch (getPoint(x, y).type) {\n                    case APPLE:\n                        mPaint.setColor(Color.RED);\n                        break;\n                    case SNAKE:\n                        mPaint.setColor(Color.BLACK);\n                        canvas.drawRect(left, top, right, bottom, mPaint);\n                        mPaint.setColor(Color.WHITE);\n                        left += mBoxPadding;\n                        right -= mBoxPadding;\n                        top += mBoxPadding;\n                        bottom -= mBoxPadding;\n                        break;\n                    case EMPTY:\n                        mPaint.setColor(Color.BLACK);\n                        break;\n                }\n                canvas.drawRect(left, top, right, bottom, mPaint);\n            }\n        }\n    }\n}\n \n\n\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","android-adapter","android-viewholder"],"comments":[{"owner":{"account_id":27776676,"reputation":1,"user_id":21205886,"display_name":"Dario Franzese"},"score":0,"creation_date":1677666069,"post_id":75602327,"comment_id":133381259,"body_markdown":"idk why the &quot;code sample&quot; doesn&#39;t work properly here","body":"idk why the &quot;code sample&quot; doesn&#39;t work properly here"}],"answers":[{"tags":[],"owner":{"account_id":27901318,"reputation":1,"user_id":21305637,"display_name":"Nano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677727248,"creation_date":1677727176,"answer_id":75611032,"question_id":75602327,"body_markdown":"Make sure you are passing the instance of the adapter that is set to the recyclerview. You could try passing the adapter instance to the constructor method of TavoliAdapter or if you have access to the recyclerView instance change\r\n\r\nthis\r\n\r\n    theOtherAdapter.setArrayList(new ArrayList&lt;Stuff&gt;());\r\nto this\r\n\r\n    OtherAdapter otherAdapter = (OtherAdapter) yourRecyclerview.getAdapter();\r\n    if(otherAdapter != null) {\r\n        otherAdapter.setArrayList(new ArrayList&lt;Stuff&gt;())\r\n    }","title":"Android RecyclerView.Adapter not updating","body":"<p>Make sure you are passing the instance of the adapter that is set to the recyclerview. You could try passing the adapter instance to the constructor method of TavoliAdapter or if you have access to the recyclerView instance change</p>\n<p>this</p>\n<pre><code>theOtherAdapter.setArrayList(new ArrayList&lt;Stuff&gt;());\n</code></pre>\n<p>to this</p>\n<pre><code>OtherAdapter otherAdapter = (OtherAdapter) yourRecyclerview.getAdapter();\nif(otherAdapter != null) {\n    otherAdapter.setArrayList(new ArrayList&lt;Stuff&gt;())\n}\n</code></pre>\n"}],"owner":{"account_id":27776676,"reputation":1,"user_id":21205886,"display_name":"Dario Franzese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677727248,"creation_date":1677665938,"question_id":75602327,"body_markdown":"I&#39;ve got My RecycletView.Adapter which has a field of Type ArrayList to set my Holder (inner class).\r\nIf I try to update my Adapter from the Adapter class itself (OtherAdapter in my example) by setting the ArrayList and notifyDataSetChanged() it works perfect.\r\nThe problem occurs when i try to update it (the exact same way) from my adapter from another class (in my case another Adapter but it shouldn&#39;t matter), it won&#39;t work.\r\n\r\nI tried to not call the setter directly from the other class, passing through another method, but altough the function calls work fine, it won&#39;t work anyway.\r\n\r\nThe class which is not working is:\r\n\r\n```java\r\npublic class TavoliAdapter extends RecyclerView.Adapter&lt;TavoliAdapter.TavoliHolder&gt;{\r\n\r\n    private OtherAdapter theOtherAdapter;\r\n\r\n    @NonNull\r\n    @Override\r\n    public TavoliAdapter.TavoliHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.fragment_tavolo, parent, false);\r\n\r\n        return new TavoliAdapter.TavoliHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull TavoliAdapter.TavoliHolder holder, int position) {\r\n        holder.txtIdTavolo.setText(Integer.toString(tavoli.get(position).getIdTavolo()));\r\n        holder.txtPosti.setText(Integer.toString(tavoli.get(position).getPosti()));\r\n\r\n        holder.txtIdTavolo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                 theOtherAdapter.setArrayList(new ArrayList&lt;Stuff&gt;());\r\n                \r\n            }\r\n        });\r\n\r\n        //TavoliHolder is defined down here, skipping this part\r\n}\r\n```\r\n\r\nThe class to be changed is:\r\n\r\n```java\r\npublic class TavoliAdapter extends RecyclerView.Adapter&lt;TavoliAdapter.TavoliHolder&gt;{\r\n\r\n    private ArrayList&lt;Stuff&gt; list;\r\n\r\n    //Other stuff and HoldeClass of course\r\n\r\n    public void setArrayList(ArrayList&lt;Stuff&gt; list){\r\n        this.list = list;\r\n        notifyDataSetChanged();\r\n    }\r\n}\r\n```\r\n\r\nI tried every type of change in the code it just doesn&#39;t work when i try to update from outside the class.","title":"Android RecyclerView.Adapter not updating","body":"<p>I've got My RecycletView.Adapter which has a field of Type ArrayList to set my Holder (inner class).\nIf I try to update my Adapter from the Adapter class itself (OtherAdapter in my example) by setting the ArrayList and notifyDataSetChanged() it works perfect.\nThe problem occurs when i try to update it (the exact same way) from my adapter from another class (in my case another Adapter but it shouldn't matter), it won't work.</p>\n<p>I tried to not call the setter directly from the other class, passing through another method, but altough the function calls work fine, it won't work anyway.</p>\n<p>The class which is not working is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TavoliAdapter extends RecyclerView.Adapter&lt;TavoliAdapter.TavoliHolder&gt;{\n\n    private OtherAdapter theOtherAdapter;\n\n    @NonNull\n    @Override\n    public TavoliAdapter.TavoliHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.fragment_tavolo, parent, false);\n\n        return new TavoliAdapter.TavoliHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull TavoliAdapter.TavoliHolder holder, int position) {\n        holder.txtIdTavolo.setText(Integer.toString(tavoli.get(position).getIdTavolo()));\n        holder.txtPosti.setText(Integer.toString(tavoli.get(position).getPosti()));\n\n        holder.txtIdTavolo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                 theOtherAdapter.setArrayList(new ArrayList&lt;Stuff&gt;());\n                \n            }\n        });\n\n        //TavoliHolder is defined down here, skipping this part\n}\n</code></pre>\n<p>The class to be changed is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TavoliAdapter extends RecyclerView.Adapter&lt;TavoliAdapter.TavoliHolder&gt;{\n\n    private ArrayList&lt;Stuff&gt; list;\n\n    //Other stuff and HoldeClass of course\n\n    public void setArrayList(ArrayList&lt;Stuff&gt; list){\n        this.list = list;\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>I tried every type of change in the code it just doesn't work when i try to update from outside the class.</p>\n"},{"tags":["java","hadoop","hbase"],"answers":[{"tags":[],"owner":{"account_id":18036828,"reputation":123,"user_id":13110035,"display_name":"Dilibaba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677726155,"creation_date":1677726155,"answer_id":75610963,"question_id":75606654,"body_markdown":"I fixed this after I follow the coprocessor example in GitHub. And the cause of this is that the override of `getService()` from Coprocessor interface.\r\n\r\nBefore :\r\n```\r\n@Override\r\npublic Iterable&lt;Service&gt; getServices() {\r\n  return RegionCoprocessor.super.getServices();\r\n}\r\n\r\n```\r\nAfter:\r\n\r\n```\r\n@Override\r\npublic Iterable&lt;Service&gt; getServices() {\r\n  return Collections.singleton(this);\r\n}\r\n```","title":"HBase 2.4 RegionCoprocessor throws UnknownProtocolException","body":"<p>I fixed this after I follow the coprocessor example in GitHub. And the cause of this is that the override of <code>getService()</code> from Coprocessor interface.</p>\n<p>Before :</p>\n<pre><code>@Override\npublic Iterable&lt;Service&gt; getServices() {\n  return RegionCoprocessor.super.getServices();\n}\n\n</code></pre>\n<p>After:</p>\n<pre><code>@Override\npublic Iterable&lt;Service&gt; getServices() {\n  return Collections.singleton(this);\n}\n</code></pre>\n"}],"owner":{"account_id":18036828,"reputation":123,"user_id":13110035,"display_name":"Dilibaba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75610963,"answer_count":1,"score":0,"last_activity_date":1677726155,"creation_date":1677689181,"question_id":75606654,"body_markdown":"I developed an Endpoint coprocessor which worked well in HBase 1.4, but when I use the code for HBase 2.4, it comes the `UnknownProtocolException`.\r\nIn regionserver log I got the message that hbase has loaded the coprocessor:\r\n\r\n```\r\nINFO (CoprocessorHost.java:174) 03-02 00:36:31,178 System coprocessor query.coprocessor.STQueryEndPoint loaded, priority=536870911.  \r\n```\r\nBut when I use this coprocessor, it throws `UnknownProtocolException`:\r\n\r\nlog :\r\n```\r\nWARN (SyncCoprocessorRpcChannel.java:49) 03-02 00:36:40,442 Call failed on IOException  \r\norg.apache.hadoop.hbase.exceptions.UnknownProtocolException: org.apache.hadoop.hbase.exceptions.UnknownProtocolException: No registered coprocessor service found for QueryService in region xz2_intersect_query_test2-XZ2-default,\\x00\\x00\\x00\\x01,1677687709620.6a01edca77b0c9df5e13304aa2920357.\r\n\tat org.apache.hadoop.hbase.regionserver.HRegion.execService(HRegion.java:8568)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execServiceOnRegion(RSRpcServices.java:2498)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2472)\r\n\tat org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:45035)\r\n\tat org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:387)\r\n\tat org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:132)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:369)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:349)\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.instantiateException(RemoteWithExtrasException.java:97)\r\n\tat org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.unwrapRemoteException(RemoteWithExtrasException.java:87)\r\n\tat org.apache.hadoop.hbase.protobuf.ProtobufUtil.makeIOExceptionOfException(ProtobufUtil.java:276)\r\n\tat org.apache.hadoop.hbase.protobuf.ProtobufUtil.handleRemoteException(ProtobufUtil.java:261)\r\n\tat org.apache.hadoop.hbase.client.RegionServerCallable.call(RegionServerCallable.java:126)\r\n\tat org.apache.hadoop.hbase.client.RpcRetryingCallerImpl.callWithRetries(RpcRetryingCallerImpl.java:104)\r\n\tat org.apache.hadoop.hbase.client.RegionCoprocessorRpcChannel.callExecService(RegionCoprocessorRpcChannel.java:88)\r\n\tat org.apache.hadoop.hbase.client.SyncCoprocessorRpcChannel.callMethod(SyncCoprocessorRpcChannel.java:47)\r\n\tat cn.edu.whu.trajspark.query.coprocessor.autogenerated.QueryCondition$QueryService$Stub.query(QueryCondition.java:5682)\r\n\tat cn.edu.whu.trajspark.query.coprocessor.STCoprocessorQuery$1.call(STCoprocessorQuery.java:36)\r\n\tat cn.edu.whu.trajspark.query.coprocessor.STCoprocessorQuery$1.call(STCoprocessorQuery.java:31)\r\n\tat org.apache.hadoop.hbase.client.HTable$11.call(HTable.java:1003)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException(org.apache.hadoop.hbase.exceptions.UnknownProtocolException): org.apache.hadoop.hbase.exceptions.UnknownProtocolException: No registered coprocessor service found for QueryService in region xz2_intersect_query_test2-XZ2-default,\\x00\\x00\\x00\\x01,1677687709620.6a01edca77b0c9df5e13304aa2920357.\r\n\tat org.apache.hadoop.hbase.regionserver.HRegion.execService(HRegion.java:8568)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execServiceOnRegion(RSRpcServices.java:2498)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2472)\r\n\tat org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:45035)\r\n\tat org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:387)\r\n\tat org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:132)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:369)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:349)\r\n\r\n\tat org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:381)\r\n\tat org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$100(AbstractRpcClient.java:88)\r\n\tat org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:415)\r\n\tat org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:411)\r\n\tat org.apache.hadoop.hbase.ipc.Call.callComplete(Call.java:115)\r\n\tat org.apache.hadoop.hbase.ipc.Call.setException(Call.java:130)\r\n\tat org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.readResponse(NettyRpcDuplexHandler.java:162)\r\n\tat org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.channelRead(NettyRpcDuplexHandler.java:192)\r\n\t...\r\n```\r\n\r\nAnd I use it as \r\n```java\r\ntry {\r\n      coprocessorResult = indexTable.getTable().coprocessorService(QueryCondition.QueryService.class,\r\n          ranges.get(0).getStart().toByteArray(), ranges.get(ranges.size() - 1).getEnd().toByteArray(),\r\n          new Batch.Call&lt;QueryCondition.QueryService, List&lt;QueryCondition.TrajectoryResult&gt;&gt;() {\r\n            @Override\r\n            public List&lt;QueryCondition.TrajectoryResult&gt; call(QueryCondition.QueryService queryService) throws IOException {\r\n              // BlockingRpcCallback&lt;QueryCondition.QueryResponse&gt; rpcCallback = new BlockingRpcCallback();\r\n              CoprocessorRpcUtils.BlockingRpcCallback rpcCallback = new CoprocessorRpcUtils.BlockingRpcCallback&lt;QueryCondition.QueryResponse&gt;();\r\n              queryService.query(new ServerRpcController(), request, (RpcCallback) rpcCallback);\r\n              QueryCondition.QueryResponse response = (QueryCondition.QueryResponse) rpcCallback.get();\r\n              return response.getListList();\r\n            }\r\n          });\r\n    } catch (Throwable e) {\r\n      e.printStackTrace();\r\n    }\r\n```\r\n\r\nIn `hbase-site.xml`:\r\n```\r\n&lt;property&gt;\r\n    &lt;name&gt;hbase.coprocessor.region.classes&lt;/name&gt;\r\n    &lt;value&gt;\r\n      query.coprocessor.STQueryEndPoint\r\n    &lt;/value&gt;\r\n  &lt;/property&gt;\r\n```\r\n\r\nPart of my endpoint code :\r\n```java\r\npublic class STQueryEndPoint extends QueryCondition.QueryService \r\nimplements RegionCoprocessor, CoprocessorService {\r\n\r\n}\r\n\r\n```\r\nI have tried:\r\n\r\n- repackage the coprocessor jar, and place it into hbase classpath\r\n- restart hbase.\r\n- make sure I implemented `RegionCoprocessor` \r\n\r\nThanks in advance for any help!","title":"HBase 2.4 RegionCoprocessor throws UnknownProtocolException","body":"<p>I developed an Endpoint coprocessor which worked well in HBase 1.4, but when I use the code for HBase 2.4, it comes the <code>UnknownProtocolException</code>.\nIn regionserver log I got the message that hbase has loaded the coprocessor:</p>\n<pre><code>INFO (CoprocessorHost.java:174) 03-02 00:36:31,178 System coprocessor query.coprocessor.STQueryEndPoint loaded, priority=536870911.  \n</code></pre>\n<p>But when I use this coprocessor, it throws <code>UnknownProtocolException</code>:</p>\n<p>log :</p>\n<pre><code>WARN (SyncCoprocessorRpcChannel.java:49) 03-02 00:36:40,442 Call failed on IOException  \norg.apache.hadoop.hbase.exceptions.UnknownProtocolException: org.apache.hadoop.hbase.exceptions.UnknownProtocolException: No registered coprocessor service found for QueryService in region xz2_intersect_query_test2-XZ2-default,\\x00\\x00\\x00\\x01,1677687709620.6a01edca77b0c9df5e13304aa2920357.\n    at org.apache.hadoop.hbase.regionserver.HRegion.execService(HRegion.java:8568)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.execServiceOnRegion(RSRpcServices.java:2498)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2472)\n    at org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:45035)\n    at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:387)\n    at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:132)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:369)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:349)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.instantiateException(RemoteWithExtrasException.java:97)\n    at org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.unwrapRemoteException(RemoteWithExtrasException.java:87)\n    at org.apache.hadoop.hbase.protobuf.ProtobufUtil.makeIOExceptionOfException(ProtobufUtil.java:276)\n    at org.apache.hadoop.hbase.protobuf.ProtobufUtil.handleRemoteException(ProtobufUtil.java:261)\n    at org.apache.hadoop.hbase.client.RegionServerCallable.call(RegionServerCallable.java:126)\n    at org.apache.hadoop.hbase.client.RpcRetryingCallerImpl.callWithRetries(RpcRetryingCallerImpl.java:104)\n    at org.apache.hadoop.hbase.client.RegionCoprocessorRpcChannel.callExecService(RegionCoprocessorRpcChannel.java:88)\n    at org.apache.hadoop.hbase.client.SyncCoprocessorRpcChannel.callMethod(SyncCoprocessorRpcChannel.java:47)\n    at cn.edu.whu.trajspark.query.coprocessor.autogenerated.QueryCondition$QueryService$Stub.query(QueryCondition.java:5682)\n    at cn.edu.whu.trajspark.query.coprocessor.STCoprocessorQuery$1.call(STCoprocessorQuery.java:36)\n    at cn.edu.whu.trajspark.query.coprocessor.STCoprocessorQuery$1.call(STCoprocessorQuery.java:31)\n    at org.apache.hadoop.hbase.client.HTable$11.call(HTable.java:1003)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException(org.apache.hadoop.hbase.exceptions.UnknownProtocolException): org.apache.hadoop.hbase.exceptions.UnknownProtocolException: No registered coprocessor service found for QueryService in region xz2_intersect_query_test2-XZ2-default,\\x00\\x00\\x00\\x01,1677687709620.6a01edca77b0c9df5e13304aa2920357.\n    at org.apache.hadoop.hbase.regionserver.HRegion.execService(HRegion.java:8568)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.execServiceOnRegion(RSRpcServices.java:2498)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2472)\n    at org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:45035)\n    at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:387)\n    at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:132)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:369)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:349)\n\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:381)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$100(AbstractRpcClient.java:88)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:415)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:411)\n    at org.apache.hadoop.hbase.ipc.Call.callComplete(Call.java:115)\n    at org.apache.hadoop.hbase.ipc.Call.setException(Call.java:130)\n    at org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.readResponse(NettyRpcDuplexHandler.java:162)\n    at org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.channelRead(NettyRpcDuplexHandler.java:192)\n    ...\n</code></pre>\n<p>And I use it as</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n      coprocessorResult = indexTable.getTable().coprocessorService(QueryCondition.QueryService.class,\n          ranges.get(0).getStart().toByteArray(), ranges.get(ranges.size() - 1).getEnd().toByteArray(),\n          new Batch.Call&lt;QueryCondition.QueryService, List&lt;QueryCondition.TrajectoryResult&gt;&gt;() {\n            @Override\n            public List&lt;QueryCondition.TrajectoryResult&gt; call(QueryCondition.QueryService queryService) throws IOException {\n              // BlockingRpcCallback&lt;QueryCondition.QueryResponse&gt; rpcCallback = new BlockingRpcCallback();\n              CoprocessorRpcUtils.BlockingRpcCallback rpcCallback = new CoprocessorRpcUtils.BlockingRpcCallback&lt;QueryCondition.QueryResponse&gt;();\n              queryService.query(new ServerRpcController(), request, (RpcCallback) rpcCallback);\n              QueryCondition.QueryResponse response = (QueryCondition.QueryResponse) rpcCallback.get();\n              return response.getListList();\n            }\n          });\n    } catch (Throwable e) {\n      e.printStackTrace();\n    }\n</code></pre>\n<p>In <code>hbase-site.xml</code>:</p>\n<pre><code>&lt;property&gt;\n    &lt;name&gt;hbase.coprocessor.region.classes&lt;/name&gt;\n    &lt;value&gt;\n      query.coprocessor.STQueryEndPoint\n    &lt;/value&gt;\n  &lt;/property&gt;\n</code></pre>\n<p>Part of my endpoint code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class STQueryEndPoint extends QueryCondition.QueryService \nimplements RegionCoprocessor, CoprocessorService {\n\n}\n\n</code></pre>\n<p>I have tried:</p>\n<ul>\n<li>repackage the coprocessor jar, and place it into hbase classpath</li>\n<li>restart hbase.</li>\n<li>make sure I implemented <code>RegionCoprocessor</code></li>\n</ul>\n<p>Thanks in advance for any help!</p>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"answers":[{"tags":[],"owner":{"account_id":12944890,"reputation":127,"user_id":9359533,"display_name":"Nil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519832388,"creation_date":1519832388,"answer_id":49033305,"question_id":49031902,"body_markdown":"weightX and weighty are quite easy to use, but the tutorial doesn&#39;t help... Let&#39;s say that when you make a dialog and you `pack()` it, the components take a position and size and everything is ok (or not). What happens if you resize the dialog and make it bigger? Suddenly there&#39;s more space and the components must grow, and that&#39;s the moment when Swing looks the `weight*` parameters.\r\n\r\nIf a component has `weightx=1.0` and the rest `weightx=0.0` means that the first component gets all the new space and the second keeps its size. If the components have `weightx=0.5` means that the two components share the new size, 50% each one. If the components have values for weightx that united are bigger than 1.0 means that the components want more than the 100% of the new space, so... well, something magic...\r\n\r\nImagine you are doing a web browser. you want that the top panels with the tabs, buttons and menus keep alwais the same size while the center panel for the web page get all the new extra size, so you give to the center panel `weight*=1.0` and `weight*=0.0` for the top panel.\r\n\r\nTry to don&#39;t assign more than 1.0 weight in any row or column and everything will be ok.","title":"GridBagLayout gives extra margin to column","body":"<p>weightX and weighty are quite easy to use, but the tutorial doesn't help... Let's say that when you make a dialog and you <code>pack()</code> it, the components take a position and size and everything is ok (or not). What happens if you resize the dialog and make it bigger? Suddenly there's more space and the components must grow, and that's the moment when Swing looks the <code>weight*</code> parameters.</p>\n\n<p>If a component has <code>weightx=1.0</code> and the rest <code>weightx=0.0</code> means that the first component gets all the new space and the second keeps its size. If the components have <code>weightx=0.5</code> means that the two components share the new size, 50% each one. If the components have values for weightx that united are bigger than 1.0 means that the components want more than the 100% of the new space, so... well, something magic...</p>\n\n<p>Imagine you are doing a web browser. you want that the top panels with the tabs, buttons and menus keep alwais the same size while the center panel for the web page get all the new extra size, so you give to the center panel <code>weight*=1.0</code> and <code>weight*=0.0</code> for the top panel.</p>\n\n<p>Try to don't assign more than 1.0 weight in any row or column and everything will be ok.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519833112,"creation_date":1519832637,"answer_id":49033376,"question_id":49031902,"body_markdown":"&gt;  the last column(red part of the flag) is detached from the rest of the flag(white part of the flag).\r\n\r\nOne thing to do when debugging a `GridBagLayout` is to add a `Border` to the components so you can see how each cell is sized. I added the following to your `getTestPanel()` method:\r\n\r\n    ol.setBorder( new LineBorder(Color.BLUE) );\r\n\r\nYou can see the panel is sized properly but there is extra space around the panel.\r\n\r\nThen you look at your user panel:\r\n\r\n    ol.setPreferredSize(new Dimension(CELL_WIDTH * 10, CELL_HEIGHT));\r\n\r\nAnd you will see the size is set to 10 cells even though you only set the gridwidth to 9 cells. So now the 9 cells must fit into the space of the user panel and it looks like the extra space is given to the last column of the 9 columns.\r\n\r\nThe code should be:\r\n\r\n    //ol.setPreferredSize(new Dimension(CELL_WIDTH * 10, CELL_HEIGHT));\r\n    ol.setPreferredSize(new Dimension(CELL_WIDTH * 9, CELL_HEIGHT));\r\n\r\nAnother option would be to NOT give a preferred size to the user panel, but then use the &quot;fill&quot; constraint so the user panel will now take up the same space as the nine columns.\r\n\r\n&gt; weightx, weighty Specifying weights is an art...\r\n\r\nThis is not related to your problem. To see this effect, drag the frame larger. Now all the entire panel will be positioned in the center of the frame since none of your component use the weightx/weighty constraints. This means none of the components will grow to fill the empty space if the frame.\r\n\r\nIf one of the components has a weightx constraint of 1.0 then that column will expand and fill the extra space as the frame is resized.\r\n\r\n\r\n\r\n","title":"GridBagLayout gives extra margin to column","body":"<blockquote>\n  <p>the last column(red part of the flag) is detached from the rest of the flag(white part of the flag).</p>\n</blockquote>\n\n<p>One thing to do when debugging a <code>GridBagLayout</code> is to add a <code>Border</code> to the components so you can see how each cell is sized. I added the following to your <code>getTestPanel()</code> method:</p>\n\n<pre><code>ol.setBorder( new LineBorder(Color.BLUE) );\n</code></pre>\n\n<p>You can see the panel is sized properly but there is extra space around the panel.</p>\n\n<p>Then you look at your user panel:</p>\n\n<pre><code>ol.setPreferredSize(new Dimension(CELL_WIDTH * 10, CELL_HEIGHT));\n</code></pre>\n\n<p>And you will see the size is set to 10 cells even though you only set the gridwidth to 9 cells. So now the 9 cells must fit into the space of the user panel and it looks like the extra space is given to the last column of the 9 columns.</p>\n\n<p>The code should be:</p>\n\n<pre><code>//ol.setPreferredSize(new Dimension(CELL_WIDTH * 10, CELL_HEIGHT));\nol.setPreferredSize(new Dimension(CELL_WIDTH * 9, CELL_HEIGHT));\n</code></pre>\n\n<p>Another option would be to NOT give a preferred size to the user panel, but then use the \"fill\" constraint so the user panel will now take up the same space as the nine columns.</p>\n\n<blockquote>\n  <p>weightx, weighty Specifying weights is an art...</p>\n</blockquote>\n\n<p>This is not related to your problem. To see this effect, drag the frame larger. Now all the entire panel will be positioned in the center of the frame since none of your component use the weightx/weighty constraints. This means none of the components will grow to fill the empty space if the frame.</p>\n\n<p>If one of the components has a weightx constraint of 1.0 then that column will expand and fill the extra space as the frame is resized.</p>\n"},{"tags":[],"owner":{"account_id":10056235,"reputation":87,"user_id":7434339,"display_name":"Jakob Probst"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519833330,"creation_date":1519833330,"answer_id":49033604,"question_id":49031902,"body_markdown":"I think what you are trying to achieve, is something like this:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class Test extends JPanel {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic Test() {\r\n    \t\tsetLayout(new GridBagLayout());\r\n    \t\tputBanner(0);\r\n    \t\tputFlagRow(1);\r\n    \t}\r\n    \r\n    \tpublic JPanel getUserPanel(Color c) {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setBackground(c);\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate void putFlagRow(int gridy) {\r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = gridy;\r\n    \t\tgbc.fill = GridBagConstraints.BOTH;\r\n    \t\tgbc.weightx = 0.5;\r\n    \t\tgbc.weighty = 1;\r\n    \t\tadd(getUserPanel(Color.green), gbc);\r\n    \r\n    \t\tgbc = new GridBagConstraints();\r\n    \t\tgbc.gridx = 1;\r\n    \t\tgbc.gridy = gridy;\r\n    \t\tgbc.fill = GridBagConstraints.BOTH;\r\n    \t\tgbc.weightx = 1;\r\n    \t\tgbc.weighty = 1;\r\n    \t\tadd(getUserPanel(Color.white), gbc);\r\n    \r\n    \t\tgbc = new GridBagConstraints();\r\n    \t\tgbc.gridx = 2;\r\n    \t\tgbc.gridy = gridy;\r\n    \t\tgbc.fill = GridBagConstraints.BOTH;\r\n    \t\tgbc.weightx = 0.5;\r\n    \t\tgbc.weighty = 1;\r\n    \t\tadd(getUserPanel(Color.red), gbc);\r\n    \t}\r\n    \r\n    \tprivate void putBanner(int gridy) {\r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = gridy;\r\n    \t\tgbc.ipady = 50;\r\n    \t\tgbc.fill = GridBagConstraints.BOTH;\r\n    \t\tadd(getUserPanel(Color.white), gbc);\r\n    \r\n    \t\tgbc = new GridBagConstraints();\r\n    \t\tgbc.gridx = 1;\r\n    \t\tgbc.gridy = gridy;\r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.fill = GridBagConstraints.BOTH;\r\n    \t\tgbc.weightx = 1;\r\n    \t\tadd(getUserPanel(Color.black), gbc);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tJFrame frame = new JFrame(&quot;GridBagLayoutTest&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \t\tframe.setContentPane(new Test());\r\n    \t\tframe.setSize(450, 300);\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nThe GridBagLayout is a very complex and powerful way to align your content, its not that easy to explain it in two sentences, so the easiest way, I think, is to play around or watch some Tutorials, but I&#39;ll try:&lt;br&gt;\r\nYou have to think like you are editing an Excel table. If you resize one cells width, the whole column will have this width, same for the rows/height. So now you do not have to add tones of white planes, you only need one and resize it properly.&lt;br&gt;\r\nNext thing is not to set fixed sizes, the layouts will do it for you, that&#39;s what they are for or use absolute coordinates (no layout: `setLayout(null)`).&lt;br&gt;\r\nSo now you have to tell the GridBagLayout how to align the components. There are different variables for different alignments. First of all (you should already know) `gridx` and `gridy` hold the position of the component (in Excel something like A1 or C12). Than you can &#39;combine cells&#39; with `gridwidth` and `gridheight`.&lt;br&gt;\r\nSo now your component is positioned, but it would not change its size with the window&#39;s size. Until know the cell has only the size of its component&#39;s `getPreferredSize()`. `weightx` and `weighty` are the next variables to look at. Those define how much of the leftover space should be used. For example you have two components (horizontally side by side) and their preferred width summed is 300px, but the window has a width of 1000px, 700px wouldn&#39;t be used. So if you now set both `weightx` to 1, they trying to use hundred percent of leftover pixels, but they can not have both 700px additionally, so everyone receives 350px. If you now set one `weightx` to 0 and the other one to 1, the first gets no additionally pixels and the other all 700px.&lt;br&gt;\r\nIf you tried it until now, you will see much empty spaces between the panels, thats because only the cells are resized, but not their content. Now you can set were the component should be displayed in its cell with `anchor` (for example `GridBagConstraints.NORTH`/`SOUTH`/`SOUTHEAST`), but then you still have those empty spaces and no flag has an empty space, what your looking for is `fill`.&lt;br&gt;\r\n`fill` lets you chose, what to do with the empty space in the cell. With `GridBagConstraints.NONE` the component would not be resized, `HORIZONTAL` only resizes the width to the width of the cell (`VERTICAL` only the height) and `BOTH` resize the component to fit the cells size.&lt;br&gt;\r\nThe variable `insets` adds empty insets, for example you chose to set `fill` to `BOTH`, but sill want to have empty space above the component (the inset is fixed, if you want a dynamic inset, you have to workaround by adding empty components with the specific GridBagConstraints to align the inset you want to display).&lt;br&gt;\r\n`ipadx` and `ipady` are fixed values to be added to the size of the cell, for example `ipadx` is set to 5, the cell will have at least the width of the component&#39;s minimum width plus `ipadx`&#39;s 5px. In other words the width of the cell will always be at least 5px bigger than the component&#39;s width (if `fill` is set to `BOTH` or `HORIZONTAL` the component would afterwards be resized to the new width).","title":"GridBagLayout gives extra margin to column","body":"<p>I think what you are trying to achieve, is something like this:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Test extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n\n    public Test() {\n        setLayout(new GridBagLayout());\n        putBanner(0);\n        putFlagRow(1);\n    }\n\n    public JPanel getUserPanel(Color c) {\n        JPanel panel = new JPanel();\n        panel.setBackground(c);\n        return panel;\n    }\n\n    private void putFlagRow(int gridy) {\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = gridy;\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.weightx = 0.5;\n        gbc.weighty = 1;\n        add(getUserPanel(Color.green), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 1;\n        gbc.gridy = gridy;\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.weightx = 1;\n        gbc.weighty = 1;\n        add(getUserPanel(Color.white), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 2;\n        gbc.gridy = gridy;\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.weightx = 0.5;\n        gbc.weighty = 1;\n        add(getUserPanel(Color.red), gbc);\n    }\n\n    private void putBanner(int gridy) {\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = gridy;\n        gbc.ipady = 50;\n        gbc.fill = GridBagConstraints.BOTH;\n        add(getUserPanel(Color.white), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 1;\n        gbc.gridy = gridy;\n        gbc.gridwidth = 2;\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.weightx = 1;\n        add(getUserPanel(Color.black), gbc);\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(\"GridBagLayoutTest\");\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.setContentPane(new Test());\n        frame.setSize(450, 300);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>The GridBagLayout is a very complex and powerful way to align your content, its not that easy to explain it in two sentences, so the easiest way, I think, is to play around or watch some Tutorials, but I'll try:<br>\nYou have to think like you are editing an Excel table. If you resize one cells width, the whole column will have this width, same for the rows/height. So now you do not have to add tones of white planes, you only need one and resize it properly.<br>\nNext thing is not to set fixed sizes, the layouts will do it for you, that's what they are for or use absolute coordinates (no layout: <code>setLayout(null)</code>).<br>\nSo now you have to tell the GridBagLayout how to align the components. There are different variables for different alignments. First of all (you should already know) <code>gridx</code> and <code>gridy</code> hold the position of the component (in Excel something like A1 or C12). Than you can 'combine cells' with <code>gridwidth</code> and <code>gridheight</code>.<br>\nSo now your component is positioned, but it would not change its size with the window's size. Until know the cell has only the size of its component's <code>getPreferredSize()</code>. <code>weightx</code> and <code>weighty</code> are the next variables to look at. Those define how much of the leftover space should be used. For example you have two components (horizontally side by side) and their preferred width summed is 300px, but the window has a width of 1000px, 700px wouldn't be used. So if you now set both <code>weightx</code> to 1, they trying to use hundred percent of leftover pixels, but they can not have both 700px additionally, so everyone receives 350px. If you now set one <code>weightx</code> to 0 and the other one to 1, the first gets no additionally pixels and the other all 700px.<br>\nIf you tried it until now, you will see much empty spaces between the panels, thats because only the cells are resized, but not their content. Now you can set were the component should be displayed in its cell with <code>anchor</code> (for example <code>GridBagConstraints.NORTH</code>/<code>SOUTH</code>/<code>SOUTHEAST</code>), but then you still have those empty spaces and no flag has an empty space, what your looking for is <code>fill</code>.<br>\n<code>fill</code> lets you chose, what to do with the empty space in the cell. With <code>GridBagConstraints.NONE</code> the component would not be resized, <code>HORIZONTAL</code> only resizes the width to the width of the cell (<code>VERTICAL</code> only the height) and <code>BOTH</code> resize the component to fit the cells size.<br>\nThe variable <code>insets</code> adds empty insets, for example you chose to set <code>fill</code> to <code>BOTH</code>, but sill want to have empty space above the component (the inset is fixed, if you want a dynamic inset, you have to workaround by adding empty components with the specific GridBagConstraints to align the inset you want to display).<br>\n<code>ipadx</code> and <code>ipady</code> are fixed values to be added to the size of the cell, for example <code>ipadx</code> is set to 5, the cell will have at least the width of the component's minimum width plus <code>ipadx</code>'s 5px. In other words the width of the cell will always be at least 5px bigger than the component's width (if <code>fill</code> is set to <code>BOTH</code> or <code>HORIZONTAL</code> the component would afterwards be resized to the new width).</p>\n"}],"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49033376,"answer_count":3,"score":0,"last_activity_date":1677725612,"creation_date":1519828150,"question_id":49031902,"body_markdown":"I&#39;ve been working with Swing for quite some time and I finally found the self confidence to learn GridBadLayout. \r\n\r\nI&#39;m still learning it, and in this case I can&#39;t understand why the following code is not responding as expected: in particular I can&#39;t understand why the layout is displaying the columns this way. \r\n\r\nBy running the snippet, you will se that the panels representing the Italian flag are not positioned correctly: the last column(red part of the flag) is detached from the rest of the flag(white part of the flag). So, what am I doing wrong  and what can I fix in order to correctly represent the flag?   \r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class test extends JPanel {\r\n    \r\n        private GridBagConstraints gbc;\r\n        private final int CELL_WIDTH = 90;\r\n        private final int CELL_HEIGHT = 110;\r\n    \r\n        public test() {\r\n            setLayout(new GridBagLayout());\r\n    \r\n            putBanner(0);\r\n    \r\n            putFlagRow(1);\r\n            putFlagRow(2);\r\n            putFlagRow(3);\r\n            putFlagRow(4);\r\n        }\r\n    \r\n        public JPanel getUserPanel(Color c) {\r\n            JPanel ol = new JPanel();\r\n            ol.setPreferredSize(new Dimension(CELL_WIDTH * 10, CELL_HEIGHT));\r\n            ol.setBackground(c);\r\n            return ol;\r\n        }\r\n    \r\n        public JPanel gettestPanel() {\r\n            JPanel ol = new JPanel();\r\n            ol.setPreferredSize(new Dimension(CELL_WIDTH, CELL_HEIGHT));\r\n            ol.setBackground(Color.white);\r\n            return ol;\r\n        }\r\n    \r\n        private void putFlagRow(int gridy) {\r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = gridy;\r\n            JPanel p1=gettestPanel();\r\n            p1.setBackground(Color.green);\r\n            add(p1, gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 1;\r\n            gbc.gridy = gridy;\r\n            add(gettestPanel(), gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 2;\r\n            gbc.gridy = gridy;\r\n            add(gettestPanel(), gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 3;\r\n            gbc.gridy = gridy;\r\n            add(gettestPanel(), gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 4;\r\n            gbc.gridy = gridy;\r\n            add(gettestPanel(), gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 5;\r\n            gbc.gridy = gridy;\r\n            add(gettestPanel(), gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 6;\r\n            gbc.gridy = gridy;\r\n            add(gettestPanel(), gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 7;\r\n            gbc.gridy = gridy;\r\n            add(gettestPanel(), gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 8;\r\n            gbc.gridy = gridy;\r\n            add(gettestPanel(), gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 9;\r\n            gbc.gridy = gridy;\r\n            JPanel p=gettestPanel();\r\n            p.setBackground(Color.red);\r\n            add(p, gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 10;\r\n            gbc.gridy = gridy;\r\n            add(gettestPanel(), gbc);\r\n        }\r\n    \r\n        private void putBanner(int gridy) {\r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = gridy;\r\n            gbc.gridwidth = 1;\r\n            add(gettestPanel(), gbc);\r\n    \r\n            gbc = new GridBagConstraints();\r\n            gbc.gridx = 1;\r\n            gbc.gridy = gridy;\r\n            gbc.gridwidth = 9;\r\n            add(getUserPanel(Color.black), gbc);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame(&quot;GridBagLayoutTest&quot;);\r\n            frame.add(new test());\r\n            frame.pack();\r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\n\r\nBesides understanding this particular issue and its cause, I wish to understand this, which comes directly from GridBagLayout Oracle docs:\r\n\r\n&gt; **weightx, weighty**\r\n&gt; *Specifying weights is an art that can have a significant impact on the appearance of the components a GridBagLayout controls. Weights are\r\n&gt; used to determine how to distribute space among columns (weightx) and\r\n&gt; among rows (weighty); this is important for specifying resizing\r\n&gt; behavior. Unless you specify at least one non-zero value for weightx\r\n&gt; or weighty, all the components clump together in the center of their\r\n&gt; container. This is because when the weight is 0.0 (the default), the\r\n&gt; GridBagLayout puts any extra space between its grid of cells and the\r\n&gt; edges of the container. Generally weights are specified with 0.0 and\r\n&gt; 1.0 as the extremes: the numbers in between are used as necessary. Larger numbers indicate that the component&#39;s row or column should get\r\n&gt; more space. For each column, the weight is related to the highest\r\n&gt; weightx specified for a component within that column, with each\r\n&gt; multicolumn component&#39;s weight being split somehow between the columns\r\n&gt; the component is in. Similarly, each row&#39;s weight is related to the\r\n&gt; highest weighty specified for a component within that row. Extra space\r\n&gt; tends to go toward the rightmost column and bottom row.*\r\n\r\nExpressions like \r\n\r\n&gt; is an art \r\n\r\nand\r\n\r\n&gt; the numbers in between are used as necessary\r\n\r\nreally gives me the impression that not even the doc writer thought it was possible to teach the usage of such constraint. And that is no good","title":"GridBagLayout gives extra margin to column","body":"<p>I've been working with Swing for quite some time and I finally found the self confidence to learn GridBadLayout.</p>\n<p>I'm still learning it, and in this case I can't understand why the following code is not responding as expected: in particular I can't understand why the layout is displaying the columns this way.</p>\n<p>By running the snippet, you will se that the panels representing the Italian flag are not positioned correctly: the last column(red part of the flag) is detached from the rest of the flag(white part of the flag). So, what am I doing wrong  and what can I fix in order to correctly represent the flag?</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class test extends JPanel {\n\n    private GridBagConstraints gbc;\n    private final int CELL_WIDTH = 90;\n    private final int CELL_HEIGHT = 110;\n\n    public test() {\n        setLayout(new GridBagLayout());\n\n        putBanner(0);\n\n        putFlagRow(1);\n        putFlagRow(2);\n        putFlagRow(3);\n        putFlagRow(4);\n    }\n\n    public JPanel getUserPanel(Color c) {\n        JPanel ol = new JPanel();\n        ol.setPreferredSize(new Dimension(CELL_WIDTH * 10, CELL_HEIGHT));\n        ol.setBackground(c);\n        return ol;\n    }\n\n    public JPanel gettestPanel() {\n        JPanel ol = new JPanel();\n        ol.setPreferredSize(new Dimension(CELL_WIDTH, CELL_HEIGHT));\n        ol.setBackground(Color.white);\n        return ol;\n    }\n\n    private void putFlagRow(int gridy) {\n        gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = gridy;\n        JPanel p1=gettestPanel();\n        p1.setBackground(Color.green);\n        add(p1, gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 1;\n        gbc.gridy = gridy;\n        add(gettestPanel(), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 2;\n        gbc.gridy = gridy;\n        add(gettestPanel(), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 3;\n        gbc.gridy = gridy;\n        add(gettestPanel(), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 4;\n        gbc.gridy = gridy;\n        add(gettestPanel(), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 5;\n        gbc.gridy = gridy;\n        add(gettestPanel(), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 6;\n        gbc.gridy = gridy;\n        add(gettestPanel(), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 7;\n        gbc.gridy = gridy;\n        add(gettestPanel(), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 8;\n        gbc.gridy = gridy;\n        add(gettestPanel(), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 9;\n        gbc.gridy = gridy;\n        JPanel p=gettestPanel();\n        p.setBackground(Color.red);\n        add(p, gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 10;\n        gbc.gridy = gridy;\n        add(gettestPanel(), gbc);\n    }\n\n    private void putBanner(int gridy) {\n        gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = gridy;\n        gbc.gridwidth = 1;\n        add(gettestPanel(), gbc);\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 1;\n        gbc.gridy = gridy;\n        gbc.gridwidth = 9;\n        add(getUserPanel(Color.black), gbc);\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;GridBagLayoutTest&quot;);\n        frame.add(new test());\n        frame.pack();\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>Besides understanding this particular issue and its cause, I wish to understand this, which comes directly from GridBagLayout Oracle docs:</p>\n<blockquote>\n<p><strong>weightx, weighty</strong>\n<em>Specifying weights is an art that can have a significant impact on the appearance of the components a GridBagLayout controls. Weights are\nused to determine how to distribute space among columns (weightx) and\namong rows (weighty); this is important for specifying resizing\nbehavior. Unless you specify at least one non-zero value for weightx\nor weighty, all the components clump together in the center of their\ncontainer. This is because when the weight is 0.0 (the default), the\nGridBagLayout puts any extra space between its grid of cells and the\nedges of the container. Generally weights are specified with 0.0 and\n1.0 as the extremes: the numbers in between are used as necessary. Larger numbers indicate that the component's row or column should get\nmore space. For each column, the weight is related to the highest\nweightx specified for a component within that column, with each\nmulticolumn component's weight being split somehow between the columns\nthe component is in. Similarly, each row's weight is related to the\nhighest weighty specified for a component within that row. Extra space\ntends to go toward the rightmost column and bottom row.</em></p>\n</blockquote>\n<p>Expressions like</p>\n<blockquote>\n<p>is an art</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>the numbers in between are used as necessary</p>\n</blockquote>\n<p>really gives me the impression that not even the doc writer thought it was possible to teach the usage of such constraint. And that is no good</p>\n"},{"tags":["java","file","comparison"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1677723579,"post_id":75610762,"comment_id":133396112,"body_markdown":"*because they are records of a DB* - retrieve the data already sorted.  Then fail fast.","body":"<i>because they are records of a DB</i> - retrieve the data already sorted.  Then fail fast."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1677723618,"post_id":75610762,"comment_id":133396119,"body_markdown":"What is the intended result of &quot;comparing&quot; them?  Are you just trying to determine which lines are/are not in both?  Load the first file line-wise into a HashSet and then look up each line from the second file in turn.","body":"What is the intended result of &quot;comparing&quot; them?  Are you just trying to determine which lines are/are not in both?  Load the first file line-wise into a HashSet and then look up each line from the second file in turn."},{"owner":{"account_id":27911282,"reputation":904,"user_id":21313424,"display_name":"tla"},"score":0,"creation_date":1677723671,"post_id":75610762,"comment_id":133396125,"body_markdown":"What is the result of comparison? Do you only want to know if the sets of lines are identical or find the lines missing in the other file? Can the files contain duplicate lines and how do you expect them to be handled?","body":"What is the result of comparison? Do you only want to know if the sets of lines are identical or find the lines missing in the other file? Can the files contain duplicate lines and how do you expect them to be handled?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1677723873,"post_id":75610762,"comment_id":133396150,"body_markdown":"Does this solve your problem? [`bash -c &#39;diff &lt;(sort text2) &lt;(sort text1)&#39;`](https://stackoverflow.com/questions/714421/what-is-an-easy-way-to-do-a-sorted-diff-between-two-files)","body":"Does this solve your problem? <a href=\"https://stackoverflow.com/questions/714421/what-is-an-easy-way-to-do-a-sorted-diff-between-two-files\"><code>bash -c &#39;diff &lt;(sort text2) &lt;(sort text1)&#39;</code></a>"},{"owner":{"account_id":13683403,"reputation":93,"user_id":14000375,"display_name":"Andres Acosta"},"score":0,"creation_date":1677723906,"post_id":75610762,"comment_id":133396161,"body_markdown":"@undefined symbol\n Yes, the data goes throough several DBs so file 1 is the data in one of the DBs and file two is the data in another DB  so i need to validade if the data is tha same, every line is a record, but I can not use a HashSet becasue I can not load all the data in memory due is to much data so it will end in  a memori error.","body":"@undefined symbol  Yes, the data goes throough several DBs so file 1 is the data in one of the DBs and file two is the data in another DB  so i need to validade if the data is tha same, every line is a record, but I can not use a HashSet becasue I can not load all the data in memory due is to much data so it will end in  a memori error."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1677724059,"post_id":75610762,"comment_id":133396183,"body_markdown":"sounds like sql is the proper tool to use.","body":"sounds like sql is the proper tool to use."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1677724448,"post_id":75610762,"comment_id":133396249,"body_markdown":"@Bohemian I would def suggest using -w flag to ignore whitespace characters. I had no idea why tf two files werent matching and I compared line by line to realise its all the same, then checked the special characters. `comm` is also pretty good.","body":"@Bohemian I would def suggest using -w flag to ignore whitespace characters. I had no idea why tf two files werent matching and I compared line by line to realise its all the same, then checked the special characters. <code>comm</code> is also pretty good."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1677727551,"post_id":75610762,"comment_id":133396646,"body_markdown":"How big are the records?  If they&#39;re 1K chars each then 20,000 records is ~40 MB plus overhead, not a particularly huge size.","body":"How big are the records?  If they&#39;re 1K chars each then 20,000 records is ~40 MB plus overhead, not a particularly huge size."}],"answers":[{"tags":[],"owner":{"account_id":6897173,"reputation":174,"user_id":5298702,"display_name":"impossible-sudoku"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1677724179,"creation_date":1677723797,"answer_id":75610790,"question_id":75610762,"body_markdown":"Use a hash function\r\n\r\n1. Generate a hash value for each line in the first file. You can use a hash function like MD5 or SHA-1\r\n2. Store the hash values in a hash table or a dictionary data structure, with the hash value as the key and the line number as the value.\r\n3. Iterate through each line in the second file, generate a hash value for each line, and check for matches against your file1 dictionary\r\n\r\n\r\ncode\r\n\r\n```\r\nimport java.io.*;\r\nimport java.nio.file.Files;\r\nimport java.security.MessageDigest;\r\nimport java.util.HashMap;\r\n\r\npublic class FileComparator {\r\n    public static void main(String[] args) throws Exception {\r\n        File file1 = new File(&quot;file1.txt&quot;);\r\n        File file2 = new File(&quot;file2.txt&quot;);\r\n\r\n        HashMap&lt;String, String&gt; file1Hashes = getFileHashes(file1);\r\n        HashMap&lt;String, String&gt; file2Hashes = getFileHashes(file2);\r\n\r\n        for (String key : file1Hashes.keySet()) {\r\n            if (!file2Hashes.containsKey(key)) {\r\n                System.out.println(key + &quot; not found in file2&quot;);\r\n            } else if (!file1Hashes.get(key).equals(file2Hashes.get(key))) {\r\n                System.out.println(key + &quot; differs in file1 and file2&quot;);\r\n            }\r\n        }\r\n\r\n        for (String key : file2Hashes.keySet()) {\r\n            if (!file1Hashes.containsKey(key)) {\r\n                System.out.println(key + &quot; not found in file1&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static HashMap&lt;String, String&gt; getFileHashes(File file) throws Exception {\r\n        HashMap&lt;String, String&gt; hashes = new HashMap&lt;&gt;();\r\n        BufferedReader reader = new BufferedReader(new FileReader(file));\r\n\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            hashes.put(line, getHash(line));\r\n        }\r\n\r\n        reader.close();\r\n        return hashes;\r\n    }\r\n\r\n    private static String getHash(String line) throws Exception {\r\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        byte[] hashBytes = md.digest(line.getBytes());\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (byte b : hashBytes) {\r\n            sb.append(String.format(&quot;%02x&quot;, b));\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n}\r\n```","title":"What is the most effective way to compare two files line by line (lines are not ordered)?","body":"<p>Use a hash function</p>\n<ol>\n<li>Generate a hash value for each line in the first file. You can use a hash function like MD5 or SHA-1</li>\n<li>Store the hash values in a hash table or a dictionary data structure, with the hash value as the key and the line number as the value.</li>\n<li>Iterate through each line in the second file, generate a hash value for each line, and check for matches against your file1 dictionary</li>\n</ol>\n<p>code</p>\n<pre><code>import java.io.*;\nimport java.nio.file.Files;\nimport java.security.MessageDigest;\nimport java.util.HashMap;\n\npublic class FileComparator {\n    public static void main(String[] args) throws Exception {\n        File file1 = new File(&quot;file1.txt&quot;);\n        File file2 = new File(&quot;file2.txt&quot;);\n\n        HashMap&lt;String, String&gt; file1Hashes = getFileHashes(file1);\n        HashMap&lt;String, String&gt; file2Hashes = getFileHashes(file2);\n\n        for (String key : file1Hashes.keySet()) {\n            if (!file2Hashes.containsKey(key)) {\n                System.out.println(key + &quot; not found in file2&quot;);\n            } else if (!file1Hashes.get(key).equals(file2Hashes.get(key))) {\n                System.out.println(key + &quot; differs in file1 and file2&quot;);\n            }\n        }\n\n        for (String key : file2Hashes.keySet()) {\n            if (!file1Hashes.containsKey(key)) {\n                System.out.println(key + &quot; not found in file1&quot;);\n            }\n        }\n    }\n\n    private static HashMap&lt;String, String&gt; getFileHashes(File file) throws Exception {\n        HashMap&lt;String, String&gt; hashes = new HashMap&lt;&gt;();\n        BufferedReader reader = new BufferedReader(new FileReader(file));\n\n        String line;\n        while ((line = reader.readLine()) != null) {\n            hashes.put(line, getHash(line));\n        }\n\n        reader.close();\n        return hashes;\n    }\n\n    private static String getHash(String line) throws Exception {\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        byte[] hashBytes = md.digest(line.getBytes());\n        StringBuilder sb = new StringBuilder();\n\n        for (byte b : hashBytes) {\n            sb.append(String.format(&quot;%02x&quot;, b));\n        }\n\n        return sb.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13683403,"reputation":93,"user_id":14000375,"display_name":"Andres Acosta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1677791944,"accepted_answer_id":75610790,"answer_count":1,"score":0,"last_activity_date":1677724179,"creation_date":1677723341,"question_id":75610762,"body_markdown":"I have two files of more or less 20 thousand lines and I need to compare them the problem is that the lines are not in the same order, each line is unique because they are records of a DB but the line of file one can be line 15.000 in the second file, I tried to go through one line of the first file and look for that line in the second using a BufferReader but for each line takes about 10 seconds 17.000 times would be a long time, is there a more effective way to do this?\r\n.","title":"What is the most effective way to compare two files line by line (lines are not ordered)?","body":"<p>I have two files of more or less 20 thousand lines and I need to compare them the problem is that the lines are not in the same order, each line is unique because they are records of a DB but the line of file one can be line 15.000 in the second file, I tried to go through one line of the first file and look for that line in the second using a BufferReader but for each line takes about 10 seconds 17.000 times would be a long time, is there a more effective way to do this?\n.</p>\n"},{"tags":["java","android","android-studio","agora-implementation","agora"],"answers":[{"tags":[],"owner":{"account_id":27577766,"reputation":101,"user_id":21047572,"display_name":"Carlson Yuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677724013,"creation_date":1677724013,"answer_id":75610799,"question_id":75556212,"body_markdown":" 1. Create\r\n```\r\n// Set fileLocalUri as the URI of the file message on the local device.\r\nChatMessage message = ChatMessage.createFileSendMessage(fileLocalUri, toChatUsername);\r\n// Sets the chat type as one-to-one chat, group chat, or chatroom.\r\nif (chatType == CHATTYPE_GROUP) message.setChatType(ChatType.GroupChat);\r\nChatClient.getInstance().chatManager().sendMessage(message);\r\n```\r\n 2. Send\r\n```\r\n// Calls setMessageStatusCallback to set the callback instance to listen for the state of messaging sending. You can update the message states in this callback.\r\nmessage.setMessageStatusCallback(new CallBack() {\r\n    @OverRide\r\n    public void onSuccess() {\r\n        // Send message success\r\n    }\r\n    @OverRide\r\n    public void onError(int code, String error) {\r\n        // Send message failed\r\n    }\r\n});\r\nChatClient.getInstance().chatManager().sendMessage(message);\r\n```\r\n 3. receive\r\n```\r\nCallBack callBack = new CallBack() {\r\n    @OverRide\r\n    public void onSuccess() {\r\n        // Download successfully\r\n    }\r\n    @Override\r\n    public void onProgress(int progress, String status) {\r\n     // Show progress\r\n    }\r\n    @Override\r\n    public void onError(int code, String error) {\r\n     // Download failed\r\n    }\r\n};\r\n// Set Callback to know whether the download is finished.\r\nmessage.setMessageStatusCallback(callBack);\r\n// Download the video.\r\nChatClient.getInstance().chatManager().downloadAttachment(message);\r\n\r\n// After the download finishes, get the URI of the local file.\r\nNormalFileMessageBody fileMessageBody = (NormalFileMessageBody) message.getBody();\r\n// Retrieves the file from the server.\r\nString fileRemoteUrl = fileMessageBody.getRemoteUrl();\r\n// Retrieves the file from the local device.\r\nUri fileLocalUri = fileMessageBody.getLocalUri();\r\n\r\n```\r\nRefer to this [link](https://docs.agora.io/en/agora-chat/client-api/messages/send-receive-messages?platform=android#send-and-receive-a-file-message)","title":"How can I Send and receive files with Agora SDK in android Java?","body":"<ol>\n<li>Create</li>\n</ol>\n<pre><code>// Set fileLocalUri as the URI of the file message on the local device.\nChatMessage message = ChatMessage.createFileSendMessage(fileLocalUri, toChatUsername);\n// Sets the chat type as one-to-one chat, group chat, or chatroom.\nif (chatType == CHATTYPE_GROUP) message.setChatType(ChatType.GroupChat);\nChatClient.getInstance().chatManager().sendMessage(message);\n</code></pre>\n<ol start=\"2\">\n<li>Send</li>\n</ol>\n<pre><code>// Calls setMessageStatusCallback to set the callback instance to listen for the state of messaging sending. You can update the message states in this callback.\nmessage.setMessageStatusCallback(new CallBack() {\n    @OverRide\n    public void onSuccess() {\n        // Send message success\n    }\n    @OverRide\n    public void onError(int code, String error) {\n        // Send message failed\n    }\n});\nChatClient.getInstance().chatManager().sendMessage(message);\n</code></pre>\n<ol start=\"3\">\n<li>receive</li>\n</ol>\n<pre><code>CallBack callBack = new CallBack() {\n    @OverRide\n    public void onSuccess() {\n        // Download successfully\n    }\n    @Override\n    public void onProgress(int progress, String status) {\n     // Show progress\n    }\n    @Override\n    public void onError(int code, String error) {\n     // Download failed\n    }\n};\n// Set Callback to know whether the download is finished.\nmessage.setMessageStatusCallback(callBack);\n// Download the video.\nChatClient.getInstance().chatManager().downloadAttachment(message);\n\n// After the download finishes, get the URI of the local file.\nNormalFileMessageBody fileMessageBody = (NormalFileMessageBody) message.getBody();\n// Retrieves the file from the server.\nString fileRemoteUrl = fileMessageBody.getRemoteUrl();\n// Retrieves the file from the local device.\nUri fileLocalUri = fileMessageBody.getLocalUri();\n\n</code></pre>\n<p>Refer to this <a href=\"https://docs.agora.io/en/agora-chat/client-api/messages/send-receive-messages?platform=android#send-and-receive-a-file-message\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":27044541,"reputation":13,"user_id":20598914,"display_name":"IT Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677724013,"creation_date":1677239240,"question_id":75556212,"body_markdown":"I have an App that is doing chat messages (conversation, chatting) correctly using Agora but now I want to integrate the file attachment as well. If anyone has a code then please share it with me. Thanks in advance for any assistance. ","title":"How can I Send and receive files with Agora SDK in android Java?","body":"<p>I have an App that is doing chat messages (conversation, chatting) correctly using Agora but now I want to integrate the file attachment as well. If anyone has a code then please share it with me. Thanks in advance for any assistance.</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":1,"creation_date":1326136325,"post_id":8793475,"comment_id":10969037,"body_markdown":"The number of minutes in a period depends on it being associated with a particular instant in time. What if the period were to span a leap year, or a leap second? The resulting values would be different. Is it possible for you to use a [`Duration`](http://joda-time.sourceforge.net/apidocs/org/joda/time/Duration.html) instead?","body":"The number of minutes in a period depends on it being associated with a particular instant in time. What if the period were to span a leap year, or a leap second? The resulting values would be different. Is it possible for you to use a <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> instead?"},{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":1,"creation_date":1326136389,"post_id":8793475,"comment_id":10969059,"body_markdown":"For some clarification, have a look at [this answer](http://stackoverflow.com/a/6467975/29995) and [this answer](http://stackoverflow.com/a/2653655/29995).","body":"For some clarification, have a look at <a href=\"http://stackoverflow.com/a/6467975/29995\">this answer</a> and <a href=\"http://stackoverflow.com/a/2653655/29995\">this answer</a>."},{"owner":{"account_id":149037,"reputation":521,"user_id":960086,"accept_rate":71,"display_name":"Juan"},"score":0,"creation_date":1326139491,"post_id":8793475,"comment_id":10970056,"body_markdown":"Thanks for the links, even if I dont use duration this time they provided valuable knowledge.","body":"Thanks for the links, even if I dont use duration this time they provided valuable knowledge."}],"answers":[{"tags":[],"owner":{"account_id":422580,"reputation":9188,"user_id":801434,"accept_rate":79,"display_name":"Mr.J4mes"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1326134836,"creation_date":1326134836,"answer_id":8793515,"question_id":8793475,"body_markdown":"You can try `(double) period.getMillis()/60000` and reformat it.","title":"Joda-Time all in minutes","body":"<p>You can try <code>(double) period.getMillis()/60000</code> and reformat it.</p>\n"},{"tags":[],"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1326137964,"creation_date":1326137138,"answer_id":8793980,"question_id":8793475,"body_markdown":"Since `Period`s are defined by individual component fields (e.g. 5 years, 7 weeks), they cannot (easily) be converted directly to, say, minute values without first associating them with a particular instant in time.\r\n\r\nFor example, if you have a period of 2 months, how many minutes does it contain? In order to know that, you need to know which two months. Perhaps:\r\n\r\n* June and July? (30 + 31 = 61 days)\r\n* July and August? (31 + 31 = 62 days)\r\n* February of a leap year and March? (29 + 31 = 60 days)\r\n\r\nEach one of those is going to have a different number of minutes.\r\n\r\nThat in mind, there are a few ways to approach this. Here are a couple:\r\n\r\n1. If you&#39;re *guaranteed* that your `Period` won&#39;t contain months (or higher), you can just use [`toStandardSeconds()`][1]:\r\n\r\n        Period period = new Period(60, 40, 20, 500);\r\n        System.out.println(period.toStandardSeconds().getSeconds() / 60.0);\r\n    \r\n        // outputs 3640.3333333333335\r\n\r\n    However, if you do end up with a month value in your `Period`, you&#39;ll get (per the javadoc) an `UnsupportedOperationException`:\r\n\r\n    &gt; java.lang.UnsupportedOperationException: Cannot convert to Seconds as this period contains months and months vary in length\r\n\r\n2. Otherwise, you can associate the `Period` with an instant in time and use a [`Duration`][2]:\r\n\r\n        Period period = new Period(1, 6, 2, 2, 5, 4, 3, 100);\r\n\r\n        // apply the period starting right now\r\n        Duration duration = period.toDurationFrom(new DateTime());\r\n\r\n        System.out.println(duration.toStandardSeconds().getSeconds() / 60.0);\r\n\r\n        // outputs 810964.05 (when right now is &quot;2012-01-09T13:36:43.880-06:00&quot;)\r\n\r\nNote that #2 will print different values depending on the day the code runs. But that&#39;s just the nature of it.\r\n\r\nAs an alternative, you might consider just using `Duration`s from the start (if possible) and not using `Period`s at all.\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/org/joda/time/Period.html#toStandardSeconds%28%29\r\n  [2]: http://joda-time.sourceforge.net/apidocs/org/joda/time/Duration.html","title":"Joda-Time all in minutes","body":"<p>Since <code>Period</code>s are defined by individual component fields (e.g. 5 years, 7 weeks), they cannot (easily) be converted directly to, say, minute values without first associating them with a particular instant in time.</p>\n\n<p>For example, if you have a period of 2 months, how many minutes does it contain? In order to know that, you need to know which two months. Perhaps:</p>\n\n<ul>\n<li>June and July? (30 + 31 = 61 days)</li>\n<li>July and August? (31 + 31 = 62 days)</li>\n<li>February of a leap year and March? (29 + 31 = 60 days)</li>\n</ul>\n\n<p>Each one of those is going to have a different number of minutes.</p>\n\n<p>That in mind, there are a few ways to approach this. Here are a couple:</p>\n\n<ol>\n<li><p>If you're <em>guaranteed</em> that your <code>Period</code> won't contain months (or higher), you can just use <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/Period.html#toStandardSeconds%28%29\" rel=\"noreferrer\"><code>toStandardSeconds()</code></a>:</p>\n\n<pre><code>Period period = new Period(60, 40, 20, 500);\nSystem.out.println(period.toStandardSeconds().getSeconds() / 60.0);\n\n// outputs 3640.3333333333335\n</code></pre>\n\n<p>However, if you do end up with a month value in your <code>Period</code>, you'll get (per the javadoc) an <code>UnsupportedOperationException</code>:</p>\n\n<blockquote>\n  <p>java.lang.UnsupportedOperationException: Cannot convert to Seconds as this period contains months and months vary in length</p>\n</blockquote></li>\n<li><p>Otherwise, you can associate the <code>Period</code> with an instant in time and use a <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a>:</p>\n\n<pre><code>Period period = new Period(1, 6, 2, 2, 5, 4, 3, 100);\n\n// apply the period starting right now\nDuration duration = period.toDurationFrom(new DateTime());\n\nSystem.out.println(duration.toStandardSeconds().getSeconds() / 60.0);\n\n// outputs 810964.05 (when right now is \"2012-01-09T13:36:43.880-06:00\")\n</code></pre></li>\n</ol>\n\n<p>Note that #2 will print different values depending on the day the code runs. But that's just the nature of it.</p>\n\n<p>As an alternative, you might consider just using <code>Duration</code>s from the start (if possible) and not using <code>Period</code>s at all.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677722260,"creation_date":1397023304,"answer_id":22954084,"question_id":8793475,"body_markdown":"Yes, you can easily get minutes from a Joda-Time [Period][1] object.\r\n\r\n    int minutes = Minutes.standardMinutesIn( period ).getMinutes();\r\n\r\n\r\n----------\r\n\r\nFYI, the *Joda-Time* project is now in [maintenance-mode][2]. Now recommended to migrate to its official successor: the *java.time* classes defined in JSR 310, and build into Java 8+. \r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/org/joda/time/Period.html\r\n  [2]: https://en.wikipedia.org/wiki/Maintenance_mode","title":"Joda-Time all in minutes","body":"<p>Yes, you can easily get minutes from a Joda-Time <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/Period.html\" rel=\"nofollow noreferrer\">Period</a> object.</p>\n<pre><code>int minutes = Minutes.standardMinutesIn( period ).getMinutes();\n</code></pre>\n<hr />\n<p>FYI, the <em>Joda-Time</em> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance-mode</a>. Now recommended to migrate to its official successor: the <em>java.time</em> classes defined in JSR 310, and build into Java 8+.</p>\n"}],"owner":{"account_id":149037,"reputation":521,"user_id":960086,"accept_rate":71,"display_name":"Juan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8793980,"answer_count":3,"score":2,"last_activity_date":1677722260,"creation_date":1326134710,"question_id":8793475,"body_markdown":"Is there a hidden way to get a [Joda-Time][1] period in minutes (or any other)\r\n\r\nRight now I do: \r\n\r\n    (period.getHours()*60 + period.getMinutes() + roundTwoDecimals((double)(period.getSeconds()/60)))\r\n    double roundTwoDecimals(double d) {\r\n            DecimalFormat twoDForm = new DecimalFormat(&quot;#.##&quot;);\r\n        return Double.valueOf(twoDForm.format(d));\r\n    }\r\n\r\nBut for some reason I think there could be an easier way. \r\n\r\nEDIT: My times will be max hours, and will never be days. This is my first time with Joda-Time.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"Joda-Time all in minutes","body":"<p>Is there a hidden way to get a <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow\">Joda-Time</a> period in minutes (or any other)</p>\n\n<p>Right now I do: </p>\n\n<pre><code>(period.getHours()*60 + period.getMinutes() + roundTwoDecimals((double)(period.getSeconds()/60)))\ndouble roundTwoDecimals(double d) {\n        DecimalFormat twoDForm = new DecimalFormat(\"#.##\");\n    return Double.valueOf(twoDForm.format(d));\n}\n</code></pre>\n\n<p>But for some reason I think there could be an easier way. </p>\n\n<p>EDIT: My times will be max hours, and will never be days. This is my first time with Joda-Time.</p>\n"},{"tags":["java","android-room"],"comments":[{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1677701990,"post_id":75608506,"comment_id":133392282,"body_markdown":"This isn&#39;t Room specific, you need to use WorkManager. You need to set a task that will run at a specific time/date etc","body":"This isn&#39;t Room specific, you need to use WorkManager. You need to set a task that will run at a specific time/date etc"},{"owner":{"account_id":6001980,"reputation":458,"user_id":4714948,"display_name":"Md. Arif"},"score":0,"creation_date":1677702561,"post_id":75608506,"comment_id":133392420,"body_markdown":"Workmanager is the best solution for you. Set a task at your desired date/time, on that task you can delete all the data from your database.","body":"Workmanager is the best solution for you. Set a task at your desired date/time, on that task you can delete all the data from your database."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677721625,"creation_date":1677718928,"answer_id":75610456,"question_id":75608506,"body_markdown":"You could use a timestamp. Then invoke a delete all rows in all tables whenever the database is first accessed and the timestamp is one month. Followed by resetting the timestamp.\r\n\r\nThis could be invisible, bar the loss of the data.\r\n\r\nPerhaps consider the following demonstration:-\r\n\r\n\r\nThe core table (or tables if need be):-\r\n\r\n    @Entity\r\n    class Table1 {\r\n       @PrimaryKey\r\n       Long table1Id=null;\r\n       String somedata;\r\n    \r\n       Table1(){}\r\n       @Ignore\r\n       Table1(String somedata) {\r\n          this.somedata=somedata;\r\n       }\r\n    }\r\n\r\nThe table for the timestamp that controls the deletions:-\r\n\r\n    @Entity\r\n    class Control {\r\n        @PrimaryKey\r\n        Long delete_control=System.currentTimeMillis() / MainActivity.DROP_MILLISECONDS;\r\n    }\r\n\r\n- DROP_MILLISECONDS equates to 1000 (this suits SQLite better)\r\n\r\nThe `@Dao` abstract class (could be an interface instead):-\r\n\r\n    @Dao\r\n    abstract class AllDAOs {\r\n       @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n       abstract long insert(Table1 table1);\r\n       \r\n       /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; ONLY FOR THE DEMO TO JUMP 1 MONTH &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;*/\r\n       @Query(&quot;UPDATE control SET delete_control = strftime(&#39;%s&#39;,delete_control,&#39;unixepoch&#39;,&#39;-1 month&#39;);&quot;)\r\n       abstract void  alterDeleteControl();\r\n    }\r\n\r\nThe `@Database` annotated abstract class, where the time triggered work is undertaken:-\r\n\r\n    @Database(entities = {Control.class,Table1.class}, exportSchema = false, version = 1)\r\n    abstract class TheDatabase extends RoomDatabase {\r\n        abstract AllDAOs getAllDAOs();\r\n    \r\n        private static TheDatabase instance;\r\n        public static TheDatabase getInstance(Context context) {\r\n            if (instance==null) {\r\n                instance = Room.databaseBuilder(context, TheDatabase.class,&quot;the_database.db&quot;)\r\n                        .allowMainThreadQueries() /* for brevity of the demo */\r\n                        .addCallback(cb) /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; see code below &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;*/\r\n                        .build();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        /* The Call back i.e. the handler */\r\n        static Callback cb = new Callback() {\r\n    \r\n            /* the onOpen method is passed control whenever the database is first accessed, so whenever the App runs */\r\n            @Override\r\n            public void onOpen(@NonNull SupportSQLiteDatabase db) {\r\n                super.onOpen(db);\r\n                Log.d(&quot;DBINFO&quot;,&quot;onOpen Called&quot;);\r\n                /* If not in a transaction then use a transaction */\r\n                boolean transactionStarted = false;\r\n                if (!db.inTransaction()) {\r\n                    Log.d(&quot;DBINFO&quot;,&quot;onOpen - beginning transaction.&quot;);\r\n                    db.beginTransaction();\r\n                    transactionStarted = true;\r\n                }\r\n                /* Check to see if the deletions are to be done */\r\n                /* If so then delete all rows  and importantly set the timestamp to now */\r\n                if (isControlToBeActivated(db)) {\r\n                    Log.d(&quot;DBINFO&quot;,&quot;onOpen - Delete Control Activated&quot;);\r\n                    db.delete(&quot;table1&quot;,null,null);\r\n                    Log.d(&quot;DBINFO&quot;,&quot;onOpen - Deleted all rows from table1.&quot;);\r\n                    /* and more tables if necessary */\r\n                    Log.d(&quot;DBINFO&quot;,&quot;onOpen - beginning transaction.&quot;);\r\n                    db.execSQL(&quot;UPDATE control  SET delete_control = ?;&quot;,new String[]{ String.valueOf (System.currentTimeMillis()/MainActivity.DROP_MILLISECONDS)});\r\n                }\r\n                /* if it was not in a transaction then end the transaction applying the changes */\r\n                if (transactionStarted) {\r\n                    Log.d(&quot;DBINFO&quot;,&quot;onOpen - committing and ending transaction.&quot;);\r\n                    db.setTransactionSuccessful();\r\n                    db.endTransaction();\r\n                    transactionStarted = false;\r\n                }\r\n            }\r\n    \r\n            /* the onCreate method is passed control ONCE in the lifetime of the database */\r\n            /* so add the timestamp here */\r\n            @Override\r\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                super.onCreate(db);\r\n                long result;\r\n                Log.d(&quot;DBINFO&quot;,&quot;onCreate Called - Inserting delete_control row&quot;);\r\n                ContentValues cv = new ContentValues();\r\n                cv.put(&quot;delete_control&quot;,System.currentTimeMillis() / MainActivity.DROP_MILLISECONDS);\r\n                result = db.insert(&quot;control&quot;, SQLiteDatabase.CONFLICT_REPLACE,cv);\r\n                Log.d(&quot;DBINFO&quot;,&quot;onCreate Complete - result (rowid of inserted row) is &quot; + String.valueOf(result));\r\n            }\r\n        };\r\n    \r\n        /* Checks to see if the timestamp is a month old or older */\r\n        private static boolean isControlToBeActivated(SupportSQLiteDatabase db) {\r\n            long dateNow = System.currentTimeMillis() / MainActivity.DROP_MILLISECONDS;\r\n            boolean flag = false;\r\n            Cursor csr = db.query(&quot;SELECT (date(delete_control,&#39;unixepoch&#39;,?)) &lt;= date(&#39;now&#39;) FROM control&quot;,new String[]{MainActivity.DATA_DELETE_CONTROL});\r\n            if (csr.moveToFirst()) {\r\n                Log.d(&quot;DBINFO&quot;,&quot;isControlToBeActivated extracted a row. The result being &quot; + csr.getString(0));\r\n                flag = (csr.getInt(0) != 0);\r\n            }\r\n            csr.close();\r\n            return flag;\r\n        }\r\n    }\r\n\r\nFinally, to demonstrate some Activity code.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public static String DATA_DELETE_CONTROL = &quot;+1 month&quot;;\r\n        public static final long DROP_MILLISECONDS = 1000;\r\n    \r\n        TheDatabase db;\r\n        AllDAOs dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            db = TheDatabase.getInstance(this);\r\n            dao = db.getAllDAOs();\r\n            dao.insert(new Table1(&quot;The first data&quot;));\r\n            dao.insert(new Table1(&quot;Some more data&quot;));\r\n            dao.insert(new Table1(&quot;And even more data&quot;));\r\n    \r\n            dao.alterDeleteControl(); /* would not be used normally (moves the timestamp back 1 month ready for next time App is run) */\r\n    \r\n        }\r\n    }\r\n\r\n- So when first run the database will be created, when the attempt is made to insert the 3 rows.\r\n- As the database is created the overidden **onCreate** method in the callback is invoked and the timestamp is populated with the current datetime (time part is largely ignored).\r\n- eventually Room will then insert the 3 rows into table1\r\n\r\n- to make the next run act as if the data is old, the timestamp is altered by moving it back 1 month.\r\n\r\nThe App has the following output in the Log for this first run:-\r\n\r\n    2023-03-02 12:25:23.926 D/DBINFO: onCreate Called - Inserting delete_control row\r\n    2023-03-02 12:25:23.926 D/DBINFO: onCreate Complete - result (rowid of inserted row) is 1677720323\r\n    2023-03-02 12:25:23.932 D/DBINFO: onOpen Called\r\n    2023-03-02 12:25:23.932 D/DBINFO: onOpen - beginning transaction.\r\n    2023-03-02 12:25:23.934 D/DBINFO: isControlToBeActivated extracted a row. The result being 0\r\n    2023-03-02 12:25:23.934 D/DBINFO: onOpen - committing and ending transaction.\r\n\r\n- i.e. onCreate was called as expected, as was onOpen\r\n- the timestamp was set to 1677720323 (the datetime when run as a long)\r\n- The check made by onOpen returned false (0) so no deletions were attemmtped.\r\n\r\n\r\nImportantly though (for the demo) is the value of the timestamp Using App Inspection:-\r\n[![enter image description here][1]][1]\r\n\r\n- Query run to show the actual value, the date of actual value (i.e. 1 month ago) and the date of original value inserted (i.e. the current date).\r\n\r\nIf the App is then rerun the log now shows:-\r\n\r\n    2023-03-02 12:39:04.840 D/DBINFO: onOpen Called\r\n    2023-03-02 12:39:04.840 D/DBINFO: onOpen - beginning transaction.\r\n    2023-03-02 12:39:04.842 D/DBINFO: isControlToBeActivated extracted a row. The result being 1\r\n    2023-03-02 12:39:04.842 D/DBINFO: onOpen - Delete Control Activated\r\n    2023-03-02 12:39:04.843 D/DBINFO: onOpen - Deleted all rows from table1.\r\n    2023-03-02 12:39:04.843 D/DBINFO: onOpen - beginning transaction.\r\n    2023-03-02 12:39:04.844 D/DBINFO: onOpen - committing and ending transaction.\r\n\r\n- i.e. onCreate was not invoked as the database exists\r\n- onOpen is invoked AND due to the altered timestamp (only altered to demonstrate) now being a month ago the check result is true (1) and the rows are deleted from the table. Furthermore and importantly, the timestamp is changed to the current datetime ready for the next month. (however the activity code then alters it to a month ago).\r\n    - the line `//dao.alterDeleteControl();` should really be removed. As should the Logging.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K4Lqh.png","title":"Android Studio Room Database","body":"<p>You could use a timestamp. Then invoke a delete all rows in all tables whenever the database is first accessed and the timestamp is one month. Followed by resetting the timestamp.</p>\n<p>This could be invisible, bar the loss of the data.</p>\n<p>Perhaps consider the following demonstration:-</p>\n<p>The core table (or tables if need be):-</p>\n<pre><code>@Entity\nclass Table1 {\n   @PrimaryKey\n   Long table1Id=null;\n   String somedata;\n\n   Table1(){}\n   @Ignore\n   Table1(String somedata) {\n      this.somedata=somedata;\n   }\n}\n</code></pre>\n<p>The table for the timestamp that controls the deletions:-</p>\n<pre><code>@Entity\nclass Control {\n    @PrimaryKey\n    Long delete_control=System.currentTimeMillis() / MainActivity.DROP_MILLISECONDS;\n}\n</code></pre>\n<ul>\n<li>DROP_MILLISECONDS equates to 1000 (this suits SQLite better)</li>\n</ul>\n<p>The <code>@Dao</code> abstract class (could be an interface instead):-</p>\n<pre><code>@Dao\nabstract class AllDAOs {\n   @Insert(onConflict = OnConflictStrategy.IGNORE)\n   abstract long insert(Table1 table1);\n   \n   /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; ONLY FOR THE DEMO TO JUMP 1 MONTH &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;*/\n   @Query(&quot;UPDATE control SET delete_control = strftime('%s',delete_control,'unixepoch','-1 month');&quot;)\n   abstract void  alterDeleteControl();\n}\n</code></pre>\n<p>The <code>@Database</code> annotated abstract class, where the time triggered work is undertaken:-</p>\n<pre><code>@Database(entities = {Control.class,Table1.class}, exportSchema = false, version = 1)\nabstract class TheDatabase extends RoomDatabase {\n    abstract AllDAOs getAllDAOs();\n\n    private static TheDatabase instance;\n    public static TheDatabase getInstance(Context context) {\n        if (instance==null) {\n            instance = Room.databaseBuilder(context, TheDatabase.class,&quot;the_database.db&quot;)\n                    .allowMainThreadQueries() /* for brevity of the demo */\n                    .addCallback(cb) /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; see code below &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;*/\n                    .build();\n        }\n        return instance;\n    }\n\n    /* The Call back i.e. the handler */\n    static Callback cb = new Callback() {\n\n        /* the onOpen method is passed control whenever the database is first accessed, so whenever the App runs */\n        @Override\n        public void onOpen(@NonNull SupportSQLiteDatabase db) {\n            super.onOpen(db);\n            Log.d(&quot;DBINFO&quot;,&quot;onOpen Called&quot;);\n            /* If not in a transaction then use a transaction */\n            boolean transactionStarted = false;\n            if (!db.inTransaction()) {\n                Log.d(&quot;DBINFO&quot;,&quot;onOpen - beginning transaction.&quot;);\n                db.beginTransaction();\n                transactionStarted = true;\n            }\n            /* Check to see if the deletions are to be done */\n            /* If so then delete all rows  and importantly set the timestamp to now */\n            if (isControlToBeActivated(db)) {\n                Log.d(&quot;DBINFO&quot;,&quot;onOpen - Delete Control Activated&quot;);\n                db.delete(&quot;table1&quot;,null,null);\n                Log.d(&quot;DBINFO&quot;,&quot;onOpen - Deleted all rows from table1.&quot;);\n                /* and more tables if necessary */\n                Log.d(&quot;DBINFO&quot;,&quot;onOpen - beginning transaction.&quot;);\n                db.execSQL(&quot;UPDATE control  SET delete_control = ?;&quot;,new String[]{ String.valueOf (System.currentTimeMillis()/MainActivity.DROP_MILLISECONDS)});\n            }\n            /* if it was not in a transaction then end the transaction applying the changes */\n            if (transactionStarted) {\n                Log.d(&quot;DBINFO&quot;,&quot;onOpen - committing and ending transaction.&quot;);\n                db.setTransactionSuccessful();\n                db.endTransaction();\n                transactionStarted = false;\n            }\n        }\n\n        /* the onCreate method is passed control ONCE in the lifetime of the database */\n        /* so add the timestamp here */\n        @Override\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\n            super.onCreate(db);\n            long result;\n            Log.d(&quot;DBINFO&quot;,&quot;onCreate Called - Inserting delete_control row&quot;);\n            ContentValues cv = new ContentValues();\n            cv.put(&quot;delete_control&quot;,System.currentTimeMillis() / MainActivity.DROP_MILLISECONDS);\n            result = db.insert(&quot;control&quot;, SQLiteDatabase.CONFLICT_REPLACE,cv);\n            Log.d(&quot;DBINFO&quot;,&quot;onCreate Complete - result (rowid of inserted row) is &quot; + String.valueOf(result));\n        }\n    };\n\n    /* Checks to see if the timestamp is a month old or older */\n    private static boolean isControlToBeActivated(SupportSQLiteDatabase db) {\n        long dateNow = System.currentTimeMillis() / MainActivity.DROP_MILLISECONDS;\n        boolean flag = false;\n        Cursor csr = db.query(&quot;SELECT (date(delete_control,'unixepoch',?)) &lt;= date('now') FROM control&quot;,new String[]{MainActivity.DATA_DELETE_CONTROL});\n        if (csr.moveToFirst()) {\n            Log.d(&quot;DBINFO&quot;,&quot;isControlToBeActivated extracted a row. The result being &quot; + csr.getString(0));\n            flag = (csr.getInt(0) != 0);\n        }\n        csr.close();\n        return flag;\n    }\n}\n</code></pre>\n<p>Finally, to demonstrate some Activity code.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static String DATA_DELETE_CONTROL = &quot;+1 month&quot;;\n    public static final long DROP_MILLISECONDS = 1000;\n\n    TheDatabase db;\n    AllDAOs dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        db = TheDatabase.getInstance(this);\n        dao = db.getAllDAOs();\n        dao.insert(new Table1(&quot;The first data&quot;));\n        dao.insert(new Table1(&quot;Some more data&quot;));\n        dao.insert(new Table1(&quot;And even more data&quot;));\n\n        dao.alterDeleteControl(); /* would not be used normally (moves the timestamp back 1 month ready for next time App is run) */\n\n    }\n}\n</code></pre>\n<ul>\n<li><p>So when first run the database will be created, when the attempt is made to insert the 3 rows.</p>\n</li>\n<li><p>As the database is created the overidden <strong>onCreate</strong> method in the callback is invoked and the timestamp is populated with the current datetime (time part is largely ignored).</p>\n</li>\n<li><p>eventually Room will then insert the 3 rows into table1</p>\n</li>\n<li><p>to make the next run act as if the data is old, the timestamp is altered by moving it back 1 month.</p>\n</li>\n</ul>\n<p>The App has the following output in the Log for this first run:-</p>\n<pre><code>2023-03-02 12:25:23.926 D/DBINFO: onCreate Called - Inserting delete_control row\n2023-03-02 12:25:23.926 D/DBINFO: onCreate Complete - result (rowid of inserted row) is 1677720323\n2023-03-02 12:25:23.932 D/DBINFO: onOpen Called\n2023-03-02 12:25:23.932 D/DBINFO: onOpen - beginning transaction.\n2023-03-02 12:25:23.934 D/DBINFO: isControlToBeActivated extracted a row. The result being 0\n2023-03-02 12:25:23.934 D/DBINFO: onOpen - committing and ending transaction.\n</code></pre>\n<ul>\n<li>i.e. onCreate was called as expected, as was onOpen</li>\n<li>the timestamp was set to 1677720323 (the datetime when run as a long)</li>\n<li>The check made by onOpen returned false (0) so no deletions were attemmtped.</li>\n</ul>\n<p>Importantly though (for the demo) is the value of the timestamp Using App Inspection:-\n<a href=\"https://i.stack.imgur.com/K4Lqh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K4Lqh.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Query run to show the actual value, the date of actual value (i.e. 1 month ago) and the date of original value inserted (i.e. the current date).</li>\n</ul>\n<p>If the App is then rerun the log now shows:-</p>\n<pre><code>2023-03-02 12:39:04.840 D/DBINFO: onOpen Called\n2023-03-02 12:39:04.840 D/DBINFO: onOpen - beginning transaction.\n2023-03-02 12:39:04.842 D/DBINFO: isControlToBeActivated extracted a row. The result being 1\n2023-03-02 12:39:04.842 D/DBINFO: onOpen - Delete Control Activated\n2023-03-02 12:39:04.843 D/DBINFO: onOpen - Deleted all rows from table1.\n2023-03-02 12:39:04.843 D/DBINFO: onOpen - beginning transaction.\n2023-03-02 12:39:04.844 D/DBINFO: onOpen - committing and ending transaction.\n</code></pre>\n<ul>\n<li>i.e. onCreate was not invoked as the database exists</li>\n<li>onOpen is invoked AND due to the altered timestamp (only altered to demonstrate) now being a month ago the check result is true (1) and the rows are deleted from the table. Furthermore and importantly, the timestamp is changed to the current datetime ready for the next month. (however the activity code then alters it to a month ago).\n<ul>\n<li>the line <code>//dao.alterDeleteControl();</code> should really be removed. As should the Logging.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":27128058,"reputation":9,"user_id":20670707,"display_name":"YUSUF ORHAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677721732,"creation_date":1677701480,"question_id":75608506,"body_markdown":"Hello I am developing a mobile application in android studio and I am using the room database. I have a problem like this. I want all the data in the database to be deleted 1 month after the user starts using the application. how can I do it?\r\n\r\nFor example, after the end of March, the database should be reset and the entered data should be made again\r\n","title":"Android Studio Room Database","body":"<p>Hello I am developing a mobile application in android studio and I am using the room database. I have a problem like this. I want all the data in the database to be deleted 1 month after the user starts using the application. how can I do it?</p>\n<p>For example, after the end of March, the database should be reset and the entered data should be made again</p>\n"},{"tags":["java","digital-signature","hmac"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677721515,"post_id":75610510,"comment_id":133395877,"body_markdown":"When I run your code with the input string you give above, I get the same hash as you get with https://www.javainuse.com/hmac. You must be using a different value for `sftpResponseObj`.","body":"When I run your code with the input string you give above, I get the same hash as you get with <a href=\"https://www.javainuse.com/hmac\" rel=\"nofollow noreferrer\">javainuse.com/hmac</a>. You must be using a different value for <code>sftpResponseObj</code>."},{"owner":{"account_id":6769246,"reputation":2633,"user_id":5213120,"accept_rate":55,"display_name":"RRP"},"score":0,"creation_date":1677722095,"post_id":75610510,"comment_id":133395937,"body_markdown":"I get `3oINkYngevZJn3rTkIzxcwd5/dU5t2PYb3nffyZbBMU=` via the tool but different via the code. Just tried again :(","body":"I get <code>3oINkYngevZJn3rTkIzxcwd5&#47;dU5t2PYb3nffyZbBMU=</code> via the tool but different via the code. Just tried again :("},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677722197,"post_id":75610510,"comment_id":133395947,"body_markdown":"Use a static string for `sftpResponseObj`.","body":"Use a static string for <code>sftpResponseObj</code>."}],"owner":{"account_id":6769246,"reputation":2633,"user_id":5213120,"accept_rate":55,"display_name":"RRP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677719809,"creation_date":1677719809,"question_id":75610510,"body_markdown":"I have a function that is responsible for calculating a hash value using `HmacSHA256` algorithm on providing it a payload. The final output generated by this function doesn&#39;t match the output of calculated here (https://www.javainuse.com/hmac)\r\n\r\nMy function looks like the following\r\n\r\n```\r\n    public String generateHmacKey (String sftpResponseObj){\r\n        log.warn(&quot;SFTP response: (&quot; + sftpResponseObj + &quot;)&quot;);\r\n        String encodingType = &quot;HmacSHA256&quot;;\r\n        String hash = &quot;&quot;;\r\n        try{\r\n            //Get an algorithm \r\n            Mac sha256Mac = Mac.getInstance(encodingType);\r\n            // Create secret key\r\n            SecretKeySpec secretKeySpec = new SecretKeySpec(this.secretKey.getBytes(&quot;UTF-8&quot;), encodingType);\r\n            log.warn(&quot;Secret key: (&quot; + secretKeySpec + &quot;)&quot;);\r\n            \r\n            //Assign secret key\r\n            sha256Mac.init(secretKeySpec);\r\n            //JSONObject obj = new JSONObject(sftpResponseObj);\r\n            //log.warn(&quot;Stringified SFTP response: (&quot; + obj + &quot;)&quot;);\r\n            \r\n\r\n            // Generate Base64 encoded string\r\n            Base64 base64 = new Base64();\r\n            hash = Base64.encodeBase64String(sha256Mac.doFinal(sftpResponseObj.getBytes(&quot;UTF-8&quot;)));\r\n\r\n            log.warn(&quot;Output: (&quot; + hash + &quot;)&quot;);\r\n\r\n        }catch(NoSuchAlgorithmException e){\r\n            e.printStackTrace();\r\n        }catch(InvalidKeyException e){\r\n            e.printStackTrace();\r\n        }catch(UnsupportedEncodingException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return hash;\r\n    }\r\n\r\n``` \r\nThe output of the above hash is `59CqKqY8sXfc1L2lauqh6QYDmp83USyGpbpJgrOQBuo=`\r\n\r\nThe secret key i am passing to the function is `ZzVhq3sQkjdRsEy`\r\n\r\nThe **sftpResponseObj** in the above function is as following\r\n```\r\n{&quot;id&quot;:&quot;ffafb7a3-1701-496f-b5b5-390ad5b7f954&quot;,&quot;success&quot;:&quot;1&quot;,&quot;comment&quot;:&quot;\\nWarning#: 20965 Msg: WARNING - RR CODE NOT SET UP FOR EXT - SYSTEM HAS CHANGED EXT TO Panel: AP.KU Info: CLIENT ID 6CH4D8    \\nAccount 6CH4D8S opened successfully.\\nAccount 6CH4D8W opened successfully.\\n&quot;,&quot;client_id&quot;:&quot;6CH4D8&quot;}\r\n``` \r\n\r\n\r\nUpon verifying with the online tool(https://www.javainuse.com/hmac) i get a different output, please see the screenshot below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SPMOy.png","title":"HMAC SHA256 calculation [different values generated]","body":"<p>I have a function that is responsible for calculating a hash value using <code>HmacSHA256</code> algorithm on providing it a payload. The final output generated by this function doesn't match the output of calculated here (<a href=\"https://www.javainuse.com/hmac\" rel=\"nofollow noreferrer\">https://www.javainuse.com/hmac</a>)</p>\n<p>My function looks like the following</p>\n<pre><code>    public String generateHmacKey (String sftpResponseObj){\n        log.warn(&quot;SFTP response: (&quot; + sftpResponseObj + &quot;)&quot;);\n        String encodingType = &quot;HmacSHA256&quot;;\n        String hash = &quot;&quot;;\n        try{\n            //Get an algorithm \n            Mac sha256Mac = Mac.getInstance(encodingType);\n            // Create secret key\n            SecretKeySpec secretKeySpec = new SecretKeySpec(this.secretKey.getBytes(&quot;UTF-8&quot;), encodingType);\n            log.warn(&quot;Secret key: (&quot; + secretKeySpec + &quot;)&quot;);\n            \n            //Assign secret key\n            sha256Mac.init(secretKeySpec);\n            //JSONObject obj = new JSONObject(sftpResponseObj);\n            //log.warn(&quot;Stringified SFTP response: (&quot; + obj + &quot;)&quot;);\n            \n\n            // Generate Base64 encoded string\n            Base64 base64 = new Base64();\n            hash = Base64.encodeBase64String(sha256Mac.doFinal(sftpResponseObj.getBytes(&quot;UTF-8&quot;)));\n\n            log.warn(&quot;Output: (&quot; + hash + &quot;)&quot;);\n\n        }catch(NoSuchAlgorithmException e){\n            e.printStackTrace();\n        }catch(InvalidKeyException e){\n            e.printStackTrace();\n        }catch(UnsupportedEncodingException e){\n            e.printStackTrace();\n        }\n\n        return hash;\n    }\n\n</code></pre>\n<p>The output of the above hash is <code>59CqKqY8sXfc1L2lauqh6QYDmp83USyGpbpJgrOQBuo=</code></p>\n<p>The secret key i am passing to the function is <code>ZzVhq3sQkjdRsEy</code></p>\n<p>The <strong>sftpResponseObj</strong> in the above function is as following</p>\n<pre><code>{&quot;id&quot;:&quot;ffafb7a3-1701-496f-b5b5-390ad5b7f954&quot;,&quot;success&quot;:&quot;1&quot;,&quot;comment&quot;:&quot;\\nWarning#: 20965 Msg: WARNING - RR CODE NOT SET UP FOR EXT - SYSTEM HAS CHANGED EXT TO Panel: AP.KU Info: CLIENT ID 6CH4D8    \\nAccount 6CH4D8S opened successfully.\\nAccount 6CH4D8W opened successfully.\\n&quot;,&quot;client_id&quot;:&quot;6CH4D8&quot;}\n</code></pre>\n<p>Upon verifying with the online tool(<a href=\"https://www.javainuse.com/hmac\" rel=\"nofollow noreferrer\">https://www.javainuse.com/hmac</a>) i get a different output, please see the screenshot below</p>\n<p><a href=\"https://i.stack.imgur.com/SPMOy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SPMOy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-mvc","websocket","microservices"],"comments":[{"owner":{"account_id":2510547,"reputation":395,"user_id":2183141,"display_name":"Ravi Sapariya"},"score":0,"creation_date":1549270592,"post_id":54512595,"comment_id":95828558,"body_markdown":"It will definitely break Monolithic applications advantages. Your application would be Inflexible, Un-scalable and more tightly coupled with each other, batter you should use external AWS or Azure Queue for good performance. [link](https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-azure-and-service-bus-queues-compared-contrasted)","body":"It will definitely break Monolithic applications advantages. Your application would be Inflexible, Un-scalable and more tightly coupled with each other, batter you should use external AWS or Azure Queue for good performance. <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-azure-and-service-bus-queues-compared-contrasted\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":2658255,"reputation":845,"user_id":2298505,"accept_rate":60,"display_name":"gvo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1549270182,"creation_date":1549270182,"answer_id":54512675,"question_id":54512595,"body_markdown":"The most recommended option would be to add a queue : \r\n\r\n - That would reduce the coupling between microservice A and microservice B\r\n - That would allow Microservice C which will also be interested in the task status/result to be aware of it without any change for Microservices B\r\n\r\nIf you still go for websocket, you would have to consider cases of scalability (what if you have two instances of MicroserviceB, which one to call), failures (what if one service fails, who re-runs the socket...), and a few others. That&#39;s why it&#39;s not the best option to do asynchronous calls in a Microservices environnement.\r\n","title":"Can we use Web-Sockets for Communication between Microservices?","body":"<p>The most recommended option would be to add a queue : </p>\n\n<ul>\n<li>That would reduce the coupling between microservice A and microservice B</li>\n<li>That would allow Microservice C which will also be interested in the task status/result to be aware of it without any change for Microservices B</li>\n</ul>\n\n<p>If you still go for websocket, you would have to consider cases of scalability (what if you have two instances of MicroserviceB, which one to call), failures (what if one service fails, who re-runs the socket...), and a few others. That's why it's not the best option to do asynchronous calls in a Microservices environnement.</p>\n"},{"tags":[],"owner":{"account_id":15553893,"reputation":1,"user_id":11220875,"display_name":"Ingmar Bengtsson"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1552916625,"creation_date":1552916625,"answer_id":55222795,"question_id":54512595,"body_markdown":"Apache Pulsar has the ability to work as a message broker and has a WS interface for sending messages to and listening on topics. I haven&#39;t tried it myself yet...but I will test to use it for sending and listening on events in different types of microservices. Pulsar in it self is scaleable and allows persistent messaging and can be installed and executed on Kubernetes for example. But I have only read about it...now I must try it myself :).\r\n","title":"Can we use Web-Sockets for Communication between Microservices?","body":"<p>Apache Pulsar has the ability to work as a message broker and has a WS interface for sending messages to and listening on topics. I haven't tried it myself yet...but I will test to use it for sending and listening on events in different types of microservices. Pulsar in it self is scaleable and allows persistent messaging and can be installed and executed on Kubernetes for example. But I have only read about it...now I must try it myself :).</p>\n"},{"tags":[],"owner":{"account_id":3131017,"reputation":1906,"user_id":2648798,"display_name":"Robert Perry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677718831,"creation_date":1637275286,"answer_id":70027666,"question_id":54512595,"body_markdown":"If you wanted to go down this route - I would suggest the better approach would be to shift the focus so you have a central websockets “server” and your microservices connect to that rather than directly to each other. Then you’re essentially replicating how every other architecture does this whether it be RabbitMQ or Kafka etc","title":"Can we use Web-Sockets for Communication between Microservices?","body":"<p>If you wanted to go down this route - I would suggest the better approach would be to shift the focus so you have a central websockets “server” and your microservices connect to that rather than directly to each other. Then you’re essentially replicating how every other architecture does this whether it be RabbitMQ or Kafka etc</p>\n"}],"owner":{"account_id":4296485,"reputation":335,"user_id":3511426,"accept_rate":0,"display_name":"Apurv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3033,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54512675,"answer_count":3,"score":5,"last_activity_date":1677718831,"creation_date":1549269711,"question_id":54512595,"body_markdown":"We have a use case where we have two microservices, `Microservice A` pushes a long-running task to `Microservice B`. \r\n\r\n`Microservice B` starts processing the task and keeps updating the status of the task. Now `Microservice A` has to constantly poll `Microservice B `for an update on the status of the task. \r\n\r\nWe don&#39;t have queues in our current setup. \r\n\r\nSo, We thought of creating a `web socket` between `Microservice A` and `Microservice B` so that Microservice B can push the status updates to `Microservice A`. Would this design violate any of the principles of `Web sockets` and also will it be a better approach compared to constant polling?\r\n\r\n","title":"Can we use Web-Sockets for Communication between Microservices?","body":"<p>We have a use case where we have two microservices, <code>Microservice A</code> pushes a long-running task to <code>Microservice B</code>. </p>\n\n<p><code>Microservice B</code> starts processing the task and keeps updating the status of the task. Now <code>Microservice A</code> has to constantly poll <code>Microservice B</code>for an update on the status of the task. </p>\n\n<p>We don't have queues in our current setup. </p>\n\n<p>So, We thought of creating a <code>web socket</code> between <code>Microservice A</code> and <code>Microservice B</code> so that Microservice B can push the status updates to <code>Microservice A</code>. Would this design violate any of the principles of <code>Web sockets</code> and also will it be a better approach compared to constant polling?</p>\n"},{"tags":["java","linux","command-line","alias"],"comments":[{"owner":{"account_id":6457927,"reputation":173,"user_id":5002696,"display_name":"Stefano"},"score":0,"creation_date":1580568141,"post_id":25825864,"comment_id":106144083,"body_markdown":"From JDK 11 you can just use `java Program.java`\n  https://openjdk.java.net/jeps/330","body":"From JDK 11 you can just use <code>java Program.java</code>   <a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/330</a>"}],"answers":[{"tags":[],"owner":{"account_id":984187,"reputation":30761,"user_id":1003123,"accept_rate":62,"display_name":"enrico.bacis"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1548157199,"creation_date":1410630632,"answer_id":25825975,"question_id":25825864,"body_markdown":"An `alias` is not made to accept parameters, define a function like this:\r\n\r\n    jcar() { javac $1.java &amp;&amp; java $1 ; }\r\n\r\nThen use it:\r\n\r\n    jcar Program\r\n\r\n*(`jcar` was intended as an acronym for java-compile-and-run)*","title":"Compile and build with single command line Java (Linux)","body":"<p>An <code>alias</code> is not made to accept parameters, define a function like this:</p>\n\n<pre><code>jcar() { javac $1.java &amp;&amp; java $1 ; }\n</code></pre>\n\n<p>Then use it:</p>\n\n<pre><code>jcar Program\n</code></pre>\n\n<p><em>(<code>jcar</code> was intended as an acronym for java-compile-and-run)</em></p>\n"},{"tags":[],"owner":{"account_id":21334,"reputation":11095,"user_id":51760,"display_name":"Aif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410631141,"creation_date":1410631141,"answer_id":25826052,"question_id":25825864,"body_markdown":"I was going to answer you giving a piece of Makefile, but it would not be generic enough. Whenever you want to compile a more complex program (let&#39;s say 2 files), you need to compile the second as well. It might be in a package, in which case what you&#39;re asking does not work any longer. Same thing if you have to handle libraries.\r\n\r\nFor all these reasons, I strongly advise you to choose a building utility of your choice, `make`, `scons`, `ant`, and let&#39;s mention it `maven`. I find the later way to complex for small projects. But `ant` is my best candidate for java programs. In the end, you can just `ant run` which will run your program and recompile it if needed. Have a look on the [hello world tutorial][1] with ant.\r\n\r\n\r\n  [1]: https://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html","title":"Compile and build with single command line Java (Linux)","body":"<p>I was going to answer you giving a piece of Makefile, but it would not be generic enough. Whenever you want to compile a more complex program (let's say 2 files), you need to compile the second as well. It might be in a package, in which case what you're asking does not work any longer. Same thing if you have to handle libraries.</p>\n\n<p>For all these reasons, I strongly advise you to choose a building utility of your choice, <code>make</code>, <code>scons</code>, <code>ant</code>, and let's mention it <code>maven</code>. I find the later way to complex for small projects. But <code>ant</code> is my best candidate for java programs. In the end, you can just <code>ant run</code> which will run your program and recompile it if needed. Have a look on the <a href=\"https://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html\" rel=\"nofollow\">hello world tutorial</a> with ant.</p>\n"},{"tags":[],"owner":{"account_id":8905151,"reputation":348,"user_id":7152553,"display_name":"eshanrh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1504978505,"creation_date":1501872276,"answer_id":45513607,"question_id":25825864,"body_markdown":"Adding on to enrico.bacis&#39; answer, i personally don&#39;t like to have Program.class files cluttering up my workspace if i&#39;m just testing a program, so i&#39;d do\r\n\r\n`jcar() { javac $1.java &amp;&amp; java $1 &amp;&amp; rm $1.class}`\r\n\r\nin addition, i found it helpful to trap `ctrl-c` so that even if i end the program halfway, it still removes the `.class`\r\n\r\n    jcar() {\r\n    trap &quot;rm $1.class&quot; SIGINT SIGTERM\r\n\tjavac $1.java\r\n    java $1\r\n    rm $1.class\r\n    }","title":"Compile and build with single command line Java (Linux)","body":"<p>Adding on to enrico.bacis' answer, i personally don't like to have Program.class files cluttering up my workspace if i'm just testing a program, so i'd do</p>\n\n<p><code>jcar() { javac $1.java &amp;&amp; java $1 &amp;&amp; rm $1.class}</code></p>\n\n<p>in addition, i found it helpful to trap <code>ctrl-c</code> so that even if i end the program halfway, it still removes the <code>.class</code></p>\n\n<pre><code>jcar() {\ntrap \"rm $1.class\" SIGINT SIGTERM\njavac $1.java\njava $1\nrm $1.class\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3702184,"reputation":2889,"user_id":3081558,"accept_rate":100,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502767272,"creation_date":1502767272,"answer_id":45686041,"question_id":25825864,"body_markdown":"Adding on to enrico.bacis&#39; and notcompletelyrational&#39;s answer, how to run it under a package and clean up the package compiled files:\r\n\r\n```jcar() {\r\n        javac -d . $1.java &amp;&amp; java ${PWD##*/}.$1 &amp;&amp; rm -rf ${PWD##*/}/\r\n}```\r\n\r\nBy the way, this function should be added to ~/.bash_profile for Mac OS and ~/.bashrc for Linux, respectively.\r\n\r\nTo run it:\r\n\r\n    jcar ProgramName","title":"Compile and build with single command line Java (Linux)","body":"<p>Adding on to enrico.bacis' and notcompletelyrational's answer, how to run it under a package and clean up the package compiled files:</p>\n\n<p><code>jcar() {\n        javac -d . $1.java &amp;&amp; java ${PWD##*/}.$1 &amp;&amp; rm -rf ${PWD##*/}/\n}</code></p>\n\n<p>By the way, this function should be added to ~/.bash_profile for Mac OS and ~/.bashrc for Linux, respectively.</p>\n\n<p>To run it:</p>\n\n<pre><code>jcar ProgramName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2808983,"reputation":33,"user_id":2415628,"display_name":"alipman88"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1514044191,"creation_date":1514044191,"answer_id":47953856,"question_id":25825864,"body_markdown":"I like to pass the full Program.java filename as the input parameter, allowing easy autocompletion.\r\n\r\nHere&#39;s an edited version of notcompletelyrational&#39;s script, which expects commands like `jcar Program.java` rather than `jcar Program`:\r\n\r\n    jcar() {\r\n      f=$1\r\n      f2=${f%.*}\r\n      trap &quot;rm $f2.class&quot; SIGINT SIGTERM\r\n      javac $1\r\n      java $f2\r\n      rm $f2.class\r\n    }","title":"Compile and build with single command line Java (Linux)","body":"<p>I like to pass the full Program.java filename as the input parameter, allowing easy autocompletion.</p>\n\n<p>Here's an edited version of notcompletelyrational's script, which expects commands like <code>jcar Program.java</code> rather than <code>jcar Program</code>:</p>\n\n<pre><code>jcar() {\n  f=$1\n  f2=${f%.*}\n  trap \"rm $f2.class\" SIGINT SIGTERM\n  javac $1\n  java $f2\n  rm $f2.class\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7370785,"reputation":2211,"user_id":5611007,"display_name":"George Pavelka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550869838,"creation_date":1535739823,"answer_id":52120925,"question_id":25825864,"body_markdown":"My favorite solution looks like this:\r\n\r\n    function jcar { javac ${1%.*}.java &amp;&amp; java ${1%.*}; }\r\n\r\nIt can handle various inputs, such as\r\n\r\n    jcar myfile\r\n    jcar myfile.\r\n    jcar myfile.java\r\n    jcar myfile.class\r\n\r\nIt lets you use Tab more quickly :)","title":"Compile and build with single command line Java (Linux)","body":"<p>My favorite solution looks like this:</p>\n\n<pre><code>function jcar { javac ${1%.*}.java &amp;&amp; java ${1%.*}; }\n</code></pre>\n\n<p>It can handle various inputs, such as</p>\n\n<pre><code>jcar myfile\njcar myfile.\njcar myfile.java\njcar myfile.class\n</code></pre>\n\n<p>It lets you use Tab more quickly :)</p>\n"},{"tags":[],"owner":{"account_id":2212115,"reputation":415,"user_id":1953671,"display_name":"Miguel &#193;ngel J&#250;lvez"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1581632627,"creation_date":1581632627,"answer_id":60217379,"question_id":25825864,"body_markdown":"Since Java 11 you can use a single command\r\n\r\n    java example.java\r\n\r\nhttps://openjdk.java.net/jeps/330\r\n\r\nLinked: https://stackoverflow.com/questions/57180304/how-to-compile-and-run-in-single-command-in-java?noredirect=1&amp;lq=1","title":"Compile and build with single command line Java (Linux)","body":"<p>Since Java 11 you can use a single command</p>\n\n<pre><code>java example.java\n</code></pre>\n\n<p><a href=\"https://openjdk.java.net/jeps/330\" rel=\"noreferrer\">https://openjdk.java.net/jeps/330</a></p>\n\n<p>Linked: <a href=\"https://stackoverflow.com/questions/57180304/how-to-compile-and-run-in-single-command-in-java?noredirect=1&amp;lq=1\">How to compile and run in single command in java</a></p>\n"},{"tags":[],"owner":{"account_id":17932441,"reputation":2801,"user_id":13029516,"display_name":"Matthew Trent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677718820,"creation_date":1677718820,"answer_id":75610453,"question_id":25825864,"body_markdown":"If you want to compile and run your Java program in 1 command, try this:\r\n\r\n    javac Driver.java ; java Driver\r\n\r\nWhere your file is called `Driver.java`.\r\n\r\nThis will compile the program, and then sequentially execute it.","title":"Compile and build with single command line Java (Linux)","body":"<p>If you want to compile and run your Java program in 1 command, try this:</p>\n<pre><code>javac Driver.java ; java Driver\n</code></pre>\n<p>Where your file is called <code>Driver.java</code>.</p>\n<p>This will compile the program, and then sequentially execute it.</p>\n"}],"owner":{"account_id":2244525,"reputation":2001,"user_id":2094116,"accept_rate":67,"display_name":"Nxt3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8979,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":25825975,"answer_count":8,"score":16,"last_activity_date":1677718820,"creation_date":1410629998,"question_id":25825864,"body_markdown":"Is there way to set up an alias in such a way so that I could enter the command, followed by the argument in a single line?\r\n\r\nFor example, instead of\r\n\r\n    javac Program.java &amp;&amp; java Program\r\n\r\nI would be able to go\r\n\r\n    newcommand Program.java //or &quot;newcommand Program&quot;, whichever is easier\r\nwhich would do the same commands as the line above.","title":"Compile and build with single command line Java (Linux)","body":"<p>Is there way to set up an alias in such a way so that I could enter the command, followed by the argument in a single line?</p>\n\n<p>For example, instead of</p>\n\n<pre><code>javac Program.java &amp;&amp; java Program\n</code></pre>\n\n<p>I would be able to go</p>\n\n<pre><code>newcommand Program.java //or \"newcommand Program\", whichever is easier\n</code></pre>\n\n<p>which would do the same commands as the line above.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9385,"page":607,"page_size":100}
