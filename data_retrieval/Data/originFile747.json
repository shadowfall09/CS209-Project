{"items":[{"tags":["java","performance","optimization","conditional-operator"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":1,"creation_date":1592322284,"post_id":62412194,"comment_id":110381340,"body_markdown":"Hey! Could you share details about how you&#39;ve recorded the runtimes?","body":"Hey! Could you share details about how you&#39;ve recorded the runtimes?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1592322763,"post_id":62412194,"comment_id":110381617,"body_markdown":"Post a complete working example so we can verify your results.","body":"Post a complete working example so we can verify your results."},{"owner":{"account_id":18660869,"reputation":125,"user_id":13602109,"display_name":"DominicR"},"score":0,"creation_date":1592324206,"post_id":62412194,"comment_id":110382451,"body_markdown":"I have edited the code to show both the timing method (System.currentTimeMillis()) and my complete code.","body":"I have edited the code to show both the timing method (System.currentTimeMillis()) and my complete code."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1592324466,"post_id":62412194,"comment_id":110382610,"body_markdown":"I wonder what tricky optimization is getting you here to obscure the result. I bet if you ran it through something like JMH the results might look a little different.","body":"I wonder what tricky optimization is getting you here to obscure the result. I bet if you ran it through something like JMH the results might look a little different."},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":1,"creation_date":1592326865,"post_id":62412194,"comment_id":110383883,"body_markdown":"I can reproduce the problem in Java but I can&#39;t reproduce it using C++.","body":"I can reproduce the problem in Java but I can&#39;t reproduce it using C++."},{"owner":{"display_name":"user13149581"},"score":0,"creation_date":1592611427,"post_id":62412194,"comment_id":110496929,"body_markdown":"I got similar results. Using `-Djava.compiler=NONE` multiplication was still faster (255503vs258628, total of 10 tries). This was probably just noise, but is still strange since the bytecode for multiplication loads num 2 times, actually pushes 1 and 0 as ints before converting them to floats (the other just pushes a float 0) and multiplies the values, it is a few instructions longer no matter what the path. Branches seem identical.","body":"I got similar results. Using <code>-Djava.compiler=NONE</code> multiplication was still faster (255503vs258628, total of 10 tries). This was probably just noise, but is still strange since the bytecode for multiplication loads num 2 times, actually pushes 1 and 0 as ints before converting them to floats (the other just pushes a float 0) and multiplies the values, it is a few instructions longer no matter what the path. Branches seem identical."},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":1,"creation_date":1592739372,"post_id":62412194,"comment_id":110526583,"body_markdown":"I&#39;ve made another observation: When you change one of the result integers to `float` in `num * (num &lt; 0 ? 0 : 1);`, e.g. `0f` or `1f`, the statement becomes as slow as the other.","body":"I&#39;ve made another observation: When you change one of the result integers to <code>float</code> in <code>num * (num &lt; 0 ? 0 : 1);</code>, e.g. <code>0f</code> or <code>1f</code>, the statement becomes as slow as the other."}],"answers":[{"tags":[],"owner":{"account_id":5823909,"reputation":136952,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600845958,"creation_date":1592745043,"answer_id":62499001,"question_id":62412194,"body_markdown":"I have not investigated the code generated by the java compiler or the JIT generator, but when writing compilers, I usually detect and optimize ternary operators that perform boolean to integer conversions: `(num &lt; 0 ? 0 : 1)` converts the boolean value to one of 2 integer constants. In C this particular code could be rewritten as `!(num &lt; 0)`. This conversion can produce branchless code, which would beat the branching code generated for `(num &lt; 0 ? 0 : num)` on modern CPUs, even with an additional multiplication opcode. Note however that it is rather easy to produce branchless code for `(num &lt; 0 ? 0 : num)` too, but the java compiler / JIT generator might not.","title":"Why is a ternary operator with two constants faster than one with a variable?","body":"<p>I have not investigated the code generated by the java compiler or the JIT generator, but when writing compilers, I usually detect and optimize ternary operators that perform boolean to integer conversions: <code>(num &lt; 0 ? 0 : 1)</code> converts the boolean value to one of 2 integer constants. In C this particular code could be rewritten as <code>!(num &lt; 0)</code>. This conversion can produce branchless code, which would beat the branching code generated for <code>(num &lt; 0 ? 0 : num)</code> on modern CPUs, even with an additional multiplication opcode. Note however that it is rather easy to produce branchless code for <code>(num &lt; 0 ? 0 : num)</code> too, but the java compiler / JIT generator might not.</p>\n"},{"tags":[],"owner":{"account_id":17919053,"reputation":327,"user_id":13019375,"display_name":"Sander"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673128974,"creation_date":1592748007,"answer_id":62499594,"question_id":62412194,"body_markdown":"I have discovered what makes the second statement take longer, but I cannot explain why it happens, if that makes sense. That said, I do believe this should gives some greater insight into the issue we have here.\r\n\r\nBefore I explain my reasoning I&#39;ll just tell you my discoveries outright: This has nothing to do with returning a constant or a variable from a ternary operation. It has everything to do with returning an integer or a float from a ternary operation. It comes down to this: returning a float from a ternary operation is &quot;significantly&quot; slower than returning an integer. \r\n\r\nI cannot explain why, but that is the root cause at least.\r\n\r\nHere&#39;s my reasoning: I used the following code to create a small text document with results, very similar to your example code.\r\n\r\n```java\r\n        Random rand = new Random();\r\n        final int intOne = 1;\r\n        final int intZero = 0;\r\n        final float floatOne = 1f;\r\n        final float floatZero = 0f;\r\n\r\n        final long startTime = System.nanoTime();\r\n\r\n        float[] results = new float[100000000];\r\n        for (int i = 0; i &lt; 100000000; i++) {\r\n            float num = (rand.nextFloat() * 2) - 1;\r\n//            results[i] = num &lt; 0 ? 0 : num;\r\n//            results[i] = num * (num &lt; 0 ? 0 : 1);\r\n\r\n//            results[i] = num &lt; 0 ? 0 : 1;\r\n//            results[i] = (num &lt; 0 ? 0 : 1);\r\n//            results[i] = (num &lt; 0 ? 0 : num);\r\n//            results[i] = 1 * (num &lt; 0 ? 0 : num);\r\n\r\n//            results[i] = num &lt; 0 ? 0 : one;\r\n//            results[i] = num &lt; 0 ? 0 : 1f;\r\n//            results[i] = (num &lt; 0 ? 0 : one);\r\n//            results[i] = (num &lt; 0 ? 0 : 1f);\r\n//            results[i] = (num &lt; 0 ? 0 : 1);\r\n\r\n//            results[i] = (num &lt; 0 ? 0f : 1f);\r\n//            results[i] = (num &lt; 0 ? 0 : 1);\r\n//            results[i] = (num &lt; 0 ? floatZero : floatOne);\r\n//            results[i] = (num &lt; 0 ? intZero : intOne);\r\n\r\n//            results[i] = num &lt; 0 ? intZero : intOne;\r\n\r\n//            results[i] = num * (num &lt; 0 ? 0 : 1);\r\n//            results[i] = num * (num &lt; 0 ? 0f : 1f);\r\n//            results[i] = num &lt; 0 ? 0 : num;\r\n        }\r\n\r\n        final long endTime = System.nanoTime();\r\n\r\n        String str = (endTime - startTime) + &quot;\\n&quot;;\r\n        System.out.println(str);\r\n        Files.write(Paths.get(&quot;test.txt&quot;), str.getBytes(), StandardOpenOption.APPEND);\r\n```\r\n\r\nFor reasons I won&#39;t go into now but you can read about [here][1], I used `nanoTime()` instead of `currentTimeMillis()`. The last line just adds the resulting time value to a text document so i can easily add comments.\r\n\r\nHere&#39;s the final text document, it includes the entire process of how I came to this conclusion:\r\n\r\n```\r\n\r\n    num &lt; 0 ? 0 : num       // standard &quot;intuitive&quot; operation\r\n    1576953800\r\n    1576153599\r\n    1579074600\r\n    1564152100\r\n    1571285399\r\n    \r\n    num * (num &lt; 0 ? 0 : 1)    // strange operation that is somehow faster\r\n    1358461100\r\n    1347008700\r\n    1356969200\r\n    1343784400\r\n    1336910000\r\n    \r\n    // let&#39;s remove the multiplication and focus on the ternary operation\r\n    \r\n    num &lt; 0 ? 0 : 1     // without the multiplication, it is actually slower...?\r\n    1597369200\r\n    1586133701\r\n    1596085700\r\n    1657377000\r\n    1581246399\r\n    \r\n    (num &lt; 0 ? 0 : 1)     // Weird, adding the brackets back speeds it up\r\n    1797034199\r\n    1294372700\r\n    1301998000\r\n    1286479500\r\n    1326545900\r\n    \r\n    (num &lt; 0 ? 0 : num)     // adding brackets to the original operation does NOT speed it up.\r\n    1611220001\r\n    1585651599\r\n    1565149099\r\n    1728256000\r\n    1590789800\r\n    \r\n    1 * (num &lt; 0 ? 0 : num)    // the speedup is not simply from multiplication\r\n    1588769201\r\n    1587232199\r\n    1589958400\r\n    1576397900\r\n    1599809000\r\n    \r\n    // Let&#39;s leave the return value out of this now, we&#39;ll just return either 0 or 1.\r\n    \r\n    num &lt; 0 ? 0 : one  // returning 1f, but from a variable\r\n    1522992400\r\n    1590028200\r\n    1605736200\r\n    1578443700\r\n    1625144700\r\n    \r\n    num &lt; 0 ? 0 : 1f   // returning 1f as a constant\r\n    1583525400\r\n    1570701000\r\n    1577192000\r\n    1657662601\r\n    1633414701\r\n    \r\n    // from the last 2 tests we can assume that returning a variable or returning a constant has no significant speed difference.\r\n    // let&#39;s add the brackets back and see if that still holds up.\r\n    \r\n    (num &lt; 0 ? 0 : floatOne)  // 1f as variable, but with ()\r\n    1573152100\r\n    1521046800\r\n    1534993700\r\n    1630885300\r\n    1581605100\r\n    \r\n    (num &lt; 0 ? 0 : 1f)  // 1f as constant, with ()\r\n    1589591100\r\n    1566956800\r\n    1540122501\r\n    1767168100\r\n    1591344701\r\n    // strangely this is not faster, where before it WAS. The only difference is that I now wrote 1f instead of 1.\r\n    \r\n    (num &lt; 0 ? 0 : 1)  // lets replace 1f with 1 again, then.\r\n    1277688700\r\n    1284385000\r\n    1291326300\r\n    1307219500\r\n    1307150100\r\n    // the speedup is back!\r\n    // It would seem the speedup comes from returning an integer rather than a float. (and also using brackets around the operation.. somehow)\r\n    \r\n    // Let&#39;s try to confirm this by replacing BOTH return values with floats, or integers.\r\n    // We&#39;re also keeping the brackets around everything, since that appears to be required for the speedup\r\n    \r\n    (num &lt; 0 ? 0f : 1f)\r\n    1572555600\r\n    1583899100\r\n    1595343300\r\n    1607957399\r\n    1593920499\r\n    \r\n    (num &lt; 0 ? 0 : 1)\r\n    1389069400\r\n    1296926500\r\n    1282131801\r\n    1283952900\r\n    1284215401\r\n    \r\n    // looks promising, now lets try the same but with variables\r\n    // final int intOne = 1;\r\n    // final int intZero = 0;\r\n    // final float floatOne = 1f;\r\n    // final float floatZero = 0f;\r\n    \r\n    (num &lt; 0 ? floatZero : floatOne)\r\n    1596659301\r\n    1600570100\r\n    1540921200\r\n    1582599101\r\n    1596192400\r\n    \r\n    (num &lt; 0 ? intZero : intOne)\r\n    1280634300\r\n    1300473900\r\n    1304816100\r\n    1285289801\r\n    1286386900\r\n    \r\n    // from the looks of it, using a variable or constant makes no significant difference, it definitely has to do with the return type.\r\n    \r\n    // That said, this is still only noticeable when using brackets around the operation, without them the int operation is still slow:\r\n    \r\n    num &lt; 0 ? intZero : intOne\r\n    1567954899\r\n    1565483600\r\n    1593726301\r\n    1652833999\r\n    1545883500\r\n    \r\n    // lastly, lets add the multiplication with num back, knowing what we know now.\r\n    \r\n    num * (num &lt; 0 ? 0 : 1)    // the original fast operation, note how it uses integer as return type.\r\n    1379224900\r\n    1333161000\r\n    1350076300\r\n    1337188501\r\n    1397156600\r\n    \r\n    results[i] = num * (num &lt; 0 ? 0f : 1f)  // knowing what we know now, using floats should be slower again.\r\n    1572278499\r\n    1579003401\r\n    1660701999\r\n    1576237400\r\n    1590275300\r\n    // ...and it is.\r\n    \r\n    // Now lets take a look at the intuitive solution\r\n    \r\n    num &lt; 0 ? 0 : num      // the variable num is of type float. returning a float from a ternary operation is slower than returning an int.\r\n    1565419400\r\n    1569075400\r\n    1632352999\r\n    1570062299\r\n    1617906200\r\n\r\n```\r\n\r\nThis all still begs the question: *Why is a ternary operation that returns a float slower than one returning an int?* Both an int and float are 32 bits. Without the ternary operation floats are not particularly slow, we can see that because we can multiply the returned int with a float variable, and that does not slow it down. I do not have the answer to that.\r\n\r\nAs for why the brackets speed up the operation: I am no expert, but I&#39;m guessing it probably has to do with the compiler slowing down the code by doing what *should* be an optimization:\r\n\r\n    results[i] = num &lt; 0 ? 0 : 1;\r\n\r\nHere the compiler sees `results` is an array of type float and simply replaces the integers with floats as an &quot;optimization&quot;, this way it doesn&#39;t have to convert between types.\r\n\r\n    results[i] = (num &lt; 0 ? 0 : 1);\r\n\r\nHere the brackets force the interpreter to compute everything within them before doing anything else, this results in an int. Only AFTER that will the result be converted to a float so that it can fit in the array, type conversion isn&#39;t slow at all.\r\n\r\nAgain, I have no technical knowledge to back this up, it is only my educated guess.\r\n\r\nHopefully this is a good enough answer, if not at least it should point people with more technical knowledge than me in the right direction.\r\n\r\n  [1]: https://stackoverflow.com/questions/351565/system-currenttimemillis-vs-system-nanotime","title":"Why is a ternary operator with two constants faster than one with a variable?","body":"<p>I have discovered what makes the second statement take longer, but I cannot explain why it happens, if that makes sense. That said, I do believe this should gives some greater insight into the issue we have here.</p>\n<p>Before I explain my reasoning I'll just tell you my discoveries outright: This has nothing to do with returning a constant or a variable from a ternary operation. It has everything to do with returning an integer or a float from a ternary operation. It comes down to this: returning a float from a ternary operation is &quot;significantly&quot; slower than returning an integer.</p>\n<p>I cannot explain why, but that is the root cause at least.</p>\n<p>Here's my reasoning: I used the following code to create a small text document with results, very similar to your example code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Random rand = new Random();\n        final int intOne = 1;\n        final int intZero = 0;\n        final float floatOne = 1f;\n        final float floatZero = 0f;\n\n        final long startTime = System.nanoTime();\n\n        float[] results = new float[100000000];\n        for (int i = 0; i &lt; 100000000; i++) {\n            float num = (rand.nextFloat() * 2) - 1;\n//            results[i] = num &lt; 0 ? 0 : num;\n//            results[i] = num * (num &lt; 0 ? 0 : 1);\n\n//            results[i] = num &lt; 0 ? 0 : 1;\n//            results[i] = (num &lt; 0 ? 0 : 1);\n//            results[i] = (num &lt; 0 ? 0 : num);\n//            results[i] = 1 * (num &lt; 0 ? 0 : num);\n\n//            results[i] = num &lt; 0 ? 0 : one;\n//            results[i] = num &lt; 0 ? 0 : 1f;\n//            results[i] = (num &lt; 0 ? 0 : one);\n//            results[i] = (num &lt; 0 ? 0 : 1f);\n//            results[i] = (num &lt; 0 ? 0 : 1);\n\n//            results[i] = (num &lt; 0 ? 0f : 1f);\n//            results[i] = (num &lt; 0 ? 0 : 1);\n//            results[i] = (num &lt; 0 ? floatZero : floatOne);\n//            results[i] = (num &lt; 0 ? intZero : intOne);\n\n//            results[i] = num &lt; 0 ? intZero : intOne;\n\n//            results[i] = num * (num &lt; 0 ? 0 : 1);\n//            results[i] = num * (num &lt; 0 ? 0f : 1f);\n//            results[i] = num &lt; 0 ? 0 : num;\n        }\n\n        final long endTime = System.nanoTime();\n\n        String str = (endTime - startTime) + &quot;\\n&quot;;\n        System.out.println(str);\n        Files.write(Paths.get(&quot;test.txt&quot;), str.getBytes(), StandardOpenOption.APPEND);\n</code></pre>\n<p>For reasons I won't go into now but you can read about <a href=\"https://stackoverflow.com/questions/351565/system-currenttimemillis-vs-system-nanotime\">here</a>, I used <code>nanoTime()</code> instead of <code>currentTimeMillis()</code>. The last line just adds the resulting time value to a text document so i can easily add comments.</p>\n<p>Here's the final text document, it includes the entire process of how I came to this conclusion:</p>\n<pre><code>\n    num &lt; 0 ? 0 : num       // standard &quot;intuitive&quot; operation\n    1576953800\n    1576153599\n    1579074600\n    1564152100\n    1571285399\n    \n    num * (num &lt; 0 ? 0 : 1)    // strange operation that is somehow faster\n    1358461100\n    1347008700\n    1356969200\n    1343784400\n    1336910000\n    \n    // let's remove the multiplication and focus on the ternary operation\n    \n    num &lt; 0 ? 0 : 1     // without the multiplication, it is actually slower...?\n    1597369200\n    1586133701\n    1596085700\n    1657377000\n    1581246399\n    \n    (num &lt; 0 ? 0 : 1)     // Weird, adding the brackets back speeds it up\n    1797034199\n    1294372700\n    1301998000\n    1286479500\n    1326545900\n    \n    (num &lt; 0 ? 0 : num)     // adding brackets to the original operation does NOT speed it up.\n    1611220001\n    1585651599\n    1565149099\n    1728256000\n    1590789800\n    \n    1 * (num &lt; 0 ? 0 : num)    // the speedup is not simply from multiplication\n    1588769201\n    1587232199\n    1589958400\n    1576397900\n    1599809000\n    \n    // Let's leave the return value out of this now, we'll just return either 0 or 1.\n    \n    num &lt; 0 ? 0 : one  // returning 1f, but from a variable\n    1522992400\n    1590028200\n    1605736200\n    1578443700\n    1625144700\n    \n    num &lt; 0 ? 0 : 1f   // returning 1f as a constant\n    1583525400\n    1570701000\n    1577192000\n    1657662601\n    1633414701\n    \n    // from the last 2 tests we can assume that returning a variable or returning a constant has no significant speed difference.\n    // let's add the brackets back and see if that still holds up.\n    \n    (num &lt; 0 ? 0 : floatOne)  // 1f as variable, but with ()\n    1573152100\n    1521046800\n    1534993700\n    1630885300\n    1581605100\n    \n    (num &lt; 0 ? 0 : 1f)  // 1f as constant, with ()\n    1589591100\n    1566956800\n    1540122501\n    1767168100\n    1591344701\n    // strangely this is not faster, where before it WAS. The only difference is that I now wrote 1f instead of 1.\n    \n    (num &lt; 0 ? 0 : 1)  // lets replace 1f with 1 again, then.\n    1277688700\n    1284385000\n    1291326300\n    1307219500\n    1307150100\n    // the speedup is back!\n    // It would seem the speedup comes from returning an integer rather than a float. (and also using brackets around the operation.. somehow)\n    \n    // Let's try to confirm this by replacing BOTH return values with floats, or integers.\n    // We're also keeping the brackets around everything, since that appears to be required for the speedup\n    \n    (num &lt; 0 ? 0f : 1f)\n    1572555600\n    1583899100\n    1595343300\n    1607957399\n    1593920499\n    \n    (num &lt; 0 ? 0 : 1)\n    1389069400\n    1296926500\n    1282131801\n    1283952900\n    1284215401\n    \n    // looks promising, now lets try the same but with variables\n    // final int intOne = 1;\n    // final int intZero = 0;\n    // final float floatOne = 1f;\n    // final float floatZero = 0f;\n    \n    (num &lt; 0 ? floatZero : floatOne)\n    1596659301\n    1600570100\n    1540921200\n    1582599101\n    1596192400\n    \n    (num &lt; 0 ? intZero : intOne)\n    1280634300\n    1300473900\n    1304816100\n    1285289801\n    1286386900\n    \n    // from the looks of it, using a variable or constant makes no significant difference, it definitely has to do with the return type.\n    \n    // That said, this is still only noticeable when using brackets around the operation, without them the int operation is still slow:\n    \n    num &lt; 0 ? intZero : intOne\n    1567954899\n    1565483600\n    1593726301\n    1652833999\n    1545883500\n    \n    // lastly, lets add the multiplication with num back, knowing what we know now.\n    \n    num * (num &lt; 0 ? 0 : 1)    // the original fast operation, note how it uses integer as return type.\n    1379224900\n    1333161000\n    1350076300\n    1337188501\n    1397156600\n    \n    results[i] = num * (num &lt; 0 ? 0f : 1f)  // knowing what we know now, using floats should be slower again.\n    1572278499\n    1579003401\n    1660701999\n    1576237400\n    1590275300\n    // ...and it is.\n    \n    // Now lets take a look at the intuitive solution\n    \n    num &lt; 0 ? 0 : num      // the variable num is of type float. returning a float from a ternary operation is slower than returning an int.\n    1565419400\n    1569075400\n    1632352999\n    1570062299\n    1617906200\n\n</code></pre>\n<p>This all still begs the question: <em>Why is a ternary operation that returns a float slower than one returning an int?</em> Both an int and float are 32 bits. Without the ternary operation floats are not particularly slow, we can see that because we can multiply the returned int with a float variable, and that does not slow it down. I do not have the answer to that.</p>\n<p>As for why the brackets speed up the operation: I am no expert, but I'm guessing it probably has to do with the compiler slowing down the code by doing what <em>should</em> be an optimization:</p>\n<pre><code>results[i] = num &lt; 0 ? 0 : 1;\n</code></pre>\n<p>Here the compiler sees <code>results</code> is an array of type float and simply replaces the integers with floats as an &quot;optimization&quot;, this way it doesn't have to convert between types.</p>\n<pre><code>results[i] = (num &lt; 0 ? 0 : 1);\n</code></pre>\n<p>Here the brackets force the interpreter to compute everything within them before doing anything else, this results in an int. Only AFTER that will the result be converted to a float so that it can fit in the array, type conversion isn't slow at all.</p>\n<p>Again, I have no technical knowledge to back this up, it is only my educated guess.</p>\n<p>Hopefully this is a good enough answer, if not at least it should point people with more technical knowledge than me in the right direction.</p>\n"},{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1592760671,"creation_date":1592760671,"answer_id":62502133,"question_id":62412194,"body_markdown":"First, let&#39;s rewrite the benchmark with [JMH](https://openjdk.java.net/projects/code-tools/jmh/) to avoid [common benchmarking pitfalls](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java).\r\n\r\n```\r\npublic class FloatCompare {\r\n\r\n    @Benchmark\r\n    public float cmp() {\r\n        float num = ThreadLocalRandom.current().nextFloat() * 2 - 1;\r\n        return num &lt; 0 ? 0 : num;\r\n    }\r\n\r\n    @Benchmark\r\n    public float mul() {\r\n        float num = ThreadLocalRandom.current().nextFloat() * 2 - 1;\r\n        return num * (num &lt; 0 ? 0 : 1);\r\n    }\r\n}\r\n```\r\n\r\nJMH also suggests that the multiplication code is a way faster:\r\n\r\n```\r\nBenchmark         Mode  Cnt   Score   Error  Units\r\nFloatCompare.cmp  avgt    5  12,940 &#177; 0,166  ns/op\r\nFloatCompare.mul  avgt    5   6,182 &#177; 0,101  ns/op\r\n```\r\n\r\nNow it&#39;s time to engage [perfasm profiler](http://psy-lob-saw.blogspot.com/2015/07/jmh-perfasm.html) (built into JMH) to see the assembly produced by JIT compiler. Here are the most important parts of the output (comments are mine):\r\n\r\n`cmp` method:\r\n```\r\n  5,65%  │││  0x0000000002e717d0: vxorps  xmm1,xmm1,xmm1  ; xmm1 := 0\r\n  0,28%  │││  0x0000000002e717d4: vucomiss xmm1,xmm0      ; compare num &lt; 0 ?\r\n  4,25%  │╰│  0x0000000002e717d8: jbe     2e71720h        ; jump if num &gt;= 0\r\n  9,77%  │ ╰  0x0000000002e717de: jmp     2e71711h        ; jump if num &lt; 0\r\n```\r\n\r\n`mul` method:\r\n```\r\n  1,59%  ││  0x000000000321f90c: vxorps  xmm1,xmm1,xmm1    ; xmm1 := 0\r\n  3,80%  ││  0x000000000321f910: mov     r11d,1h           ; r11d := 1\r\n         ││  0x000000000321f916: xor     r8d,r8d           ; r8d := 0\r\n         ││  0x000000000321f919: vucomiss xmm1,xmm0        ; compare num &lt; 0 ?\r\n  2,23%  ││  0x000000000321f91d: cmovnbe r11d,r8d          ; r11d := r8d if num &lt; 0\r\n  5,06%  ││  0x000000000321f921: vcvtsi2ss xmm1,xmm1,r11d  ; xmm1 := (float) r11d\r\n  7,04%  ││  0x000000000321f926: vmulss  xmm0,xmm1,xmm0    ; multiply\r\n```\r\n\r\nThe key difference is that there&#39;s no jump instructions in the `mul` method. Instead, conditional move instruction `cmovnbe` is used.\r\n\r\n`cmov` works with integer registers. Since `(num &lt; 0 ? 0 : 1)` expression uses integer constants on the right side, JIT is smart enough to emit a conditional move instead of a conditional jump.\r\n\r\nIn this benchmark, conditional jump is very inefficient, since [branch prediction](https://stackoverflow.com/a/11227902/3448419) often fails due to random nature of numbers. That&#39;s why the branchless code of `mul` method appears faster.\r\n\r\nIf we modify the benchmark in a way that one branch prevails over another, e.g by replacing \r\n```\r\nThreadLocalRandom.current().nextFloat() * 2 - 1\r\n```\r\nwith\r\n```\r\nThreadLocalRandom.current().nextFloat() * 2 - 0.1f\r\n```\r\nthen the branch prediction will work better, and `cmp` method will become as fast as `mul`:\r\n```\r\nBenchmark         Mode  Cnt  Score   Error  Units\r\nFloatCompare.cmp  avgt    5  5,793 &#177; 0,045  ns/op\r\nFloatCompare.mul  avgt    5  5,764 &#177; 0,048  ns/op\r\n```","title":"Why is a ternary operator with two constants faster than one with a variable?","body":"<p>First, let's rewrite the benchmark with <a href=\"https://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a> to avoid <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">common benchmarking pitfalls</a>.</p>\n<pre><code>public class FloatCompare {\n\n    @Benchmark\n    public float cmp() {\n        float num = ThreadLocalRandom.current().nextFloat() * 2 - 1;\n        return num &lt; 0 ? 0 : num;\n    }\n\n    @Benchmark\n    public float mul() {\n        float num = ThreadLocalRandom.current().nextFloat() * 2 - 1;\n        return num * (num &lt; 0 ? 0 : 1);\n    }\n}\n</code></pre>\n<p>JMH also suggests that the multiplication code is a way faster:</p>\n<pre><code>Benchmark         Mode  Cnt   Score   Error  Units\nFloatCompare.cmp  avgt    5  12,940 ± 0,166  ns/op\nFloatCompare.mul  avgt    5   6,182 ± 0,101  ns/op\n</code></pre>\n<p>Now it's time to engage <a href=\"http://psy-lob-saw.blogspot.com/2015/07/jmh-perfasm.html\" rel=\"noreferrer\">perfasm profiler</a> (built into JMH) to see the assembly produced by JIT compiler. Here are the most important parts of the output (comments are mine):</p>\n<p><code>cmp</code> method:</p>\n<pre><code>  5,65%  │││  0x0000000002e717d0: vxorps  xmm1,xmm1,xmm1  ; xmm1 := 0\n  0,28%  │││  0x0000000002e717d4: vucomiss xmm1,xmm0      ; compare num &lt; 0 ?\n  4,25%  │╰│  0x0000000002e717d8: jbe     2e71720h        ; jump if num &gt;= 0\n  9,77%  │ ╰  0x0000000002e717de: jmp     2e71711h        ; jump if num &lt; 0\n</code></pre>\n<p><code>mul</code> method:</p>\n<pre><code>  1,59%  ││  0x000000000321f90c: vxorps  xmm1,xmm1,xmm1    ; xmm1 := 0\n  3,80%  ││  0x000000000321f910: mov     r11d,1h           ; r11d := 1\n         ││  0x000000000321f916: xor     r8d,r8d           ; r8d := 0\n         ││  0x000000000321f919: vucomiss xmm1,xmm0        ; compare num &lt; 0 ?\n  2,23%  ││  0x000000000321f91d: cmovnbe r11d,r8d          ; r11d := r8d if num &lt; 0\n  5,06%  ││  0x000000000321f921: vcvtsi2ss xmm1,xmm1,r11d  ; xmm1 := (float) r11d\n  7,04%  ││  0x000000000321f926: vmulss  xmm0,xmm1,xmm0    ; multiply\n</code></pre>\n<p>The key difference is that there's no jump instructions in the <code>mul</code> method. Instead, conditional move instruction <code>cmovnbe</code> is used.</p>\n<p><code>cmov</code> works with integer registers. Since <code>(num &lt; 0 ? 0 : 1)</code> expression uses integer constants on the right side, JIT is smart enough to emit a conditional move instead of a conditional jump.</p>\n<p>In this benchmark, conditional jump is very inefficient, since <a href=\"https://stackoverflow.com/a/11227902/3448419\">branch prediction</a> often fails due to random nature of numbers. That's why the branchless code of <code>mul</code> method appears faster.</p>\n<p>If we modify the benchmark in a way that one branch prevails over another, e.g by replacing</p>\n<pre><code>ThreadLocalRandom.current().nextFloat() * 2 - 1\n</code></pre>\n<p>with</p>\n<pre><code>ThreadLocalRandom.current().nextFloat() * 2 - 0.1f\n</code></pre>\n<p>then the branch prediction will work better, and <code>cmp</code> method will become as fast as <code>mul</code>:</p>\n<pre><code>Benchmark         Mode  Cnt  Score   Error  Units\nFloatCompare.cmp  avgt    5  5,793 ± 0,045  ns/op\nFloatCompare.mul  avgt    5  5,764 ± 0,048  ns/op\n</code></pre>\n"}],"owner":{"account_id":18660869,"reputation":125,"user_id":13602109,"display_name":"DominicR"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":62502133,"answer_count":3,"score":11,"last_activity_date":1673128974,"creation_date":1592321577,"question_id":62412194,"body_markdown":"In Java, I have two different statements which accomplish the same result through using ternary operators, which are as follows:\r\n\r\n 1. `num &lt; 0 ? 0 : num;`\r\n 2. `num * (num &lt; 0 ? 0 : 1);`\r\n\r\nIt appears that the second statement is unnecessarily complex and would take longer than the first, however when I recorded the time that each took, using the following code, the results were as follows:\r\n\r\n```\r\nfinal long startTime = System.currentTimeMillis();\r\n\r\nRandom rand = new Random();\r\nfloat[] results = new float[100000000];\r\nfor (int i = 0; i &lt; 100000000; i++) {\r\n    float num = (rand.nextFloat() * 2) - 1;\r\n    results[i] = num &lt; 0 ? 0 : num;\r\n    //results[i] = num * (num &lt; 0 ? 0 : 1);\r\n}\r\n\r\nfinal long endTime = System.currentTimeMillis();\r\n\r\nSystem.out.println(&quot;Total Time: &quot; + (endTime - startTime));\r\n```\r\n 1. 1.232 seconds\r\n 2. 1.023 seconds \r\n (Each averaged over 5 runs)\r\n\r\nWhy is there this significant speedup when using the second statement? It seems to include an unnecessary multiplication and have the same comparison. Does the first create a branch whilst the second does not?","title":"Why is a ternary operator with two constants faster than one with a variable?","body":"<p>In Java, I have two different statements which accomplish the same result through using ternary operators, which are as follows:</p>\n\n<ol>\n<li><code>num &lt; 0 ? 0 : num;</code></li>\n<li><code>num * (num &lt; 0 ? 0 : 1);</code></li>\n</ol>\n\n<p>It appears that the second statement is unnecessarily complex and would take longer than the first, however when I recorded the time that each took, using the following code, the results were as follows:</p>\n\n<pre><code>final long startTime = System.currentTimeMillis();\n\nRandom rand = new Random();\nfloat[] results = new float[100000000];\nfor (int i = 0; i &lt; 100000000; i++) {\n    float num = (rand.nextFloat() * 2) - 1;\n    results[i] = num &lt; 0 ? 0 : num;\n    //results[i] = num * (num &lt; 0 ? 0 : 1);\n}\n\nfinal long endTime = System.currentTimeMillis();\n\nSystem.out.println(\"Total Time: \" + (endTime - startTime));\n</code></pre>\n\n<ol>\n<li>1.232 seconds</li>\n<li>1.023 seconds \n(Each averaged over 5 runs)</li>\n</ol>\n\n<p>Why is there this significant speedup when using the second statement? It seems to include an unnecessary multiplication and have the same comparison. Does the first create a branch whilst the second does not?</p>\n"},{"tags":["java","recursion","linked-list","logic","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":18774696,"reputation":355,"user_id":13690747,"display_name":"Michael Pu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673128900,"creation_date":1673128900,"answer_id":75044069,"question_id":75044016,"body_markdown":"In your provided implementation, you are creating a new `ListNode` object for the new node to insert, but you are not attaching it to the linked list. \r\n\r\nAssuming that you want the `insertLast` method to return the `ListNode` object for the node that was just inserted, you can use the following code:\r\n```java\r\npublic static ListNode insertLast(ListNode head, Object arg) {\r\n    if (head.getNext() != null) {\r\n        return insertLast(head.getNext(), arg);\r\n    } else {\r\n        ListNode newNode = new ListNode(arg, null)\r\n        head.setNext(newNode);\r\n        return newNode;\r\n    }\r\n}\r\n```\r\n\r\nThe return value of the `insertLast` is the *newly* inserted node, not the head of the linked list. If you want the head of hte linked list, you should use the object that you passed in as the `head` parameter into `insertLast`.","title":"Logic Error: Inserting Last Node in a Linked List","body":"<p>In your provided implementation, you are creating a new <code>ListNode</code> object for the new node to insert, but you are not attaching it to the linked list.</p>\n<p>Assuming that you want the <code>insertLast</code> method to return the <code>ListNode</code> object for the node that was just inserted, you can use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ListNode insertLast(ListNode head, Object arg) {\n    if (head.getNext() != null) {\n        return insertLast(head.getNext(), arg);\n    } else {\n        ListNode newNode = new ListNode(arg, null)\n        head.setNext(newNode);\n        return newNode;\n    }\n}\n</code></pre>\n<p>The return value of the <code>insertLast</code> is the <em>newly</em> inserted node, not the head of the linked list. If you want the head of hte linked list, you should use the object that you passed in as the <code>head</code> parameter into <code>insertLast</code>.</p>\n"}],"owner":{"account_id":19792588,"reputation":7,"user_id":14519166,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75044069,"answer_count":1,"score":0,"last_activity_date":1673128900,"creation_date":1673128126,"question_id":75044016,"body_markdown":"I am coding a recursive Java method that adds an object node to the end of a linked list. However, instead of executing properly, my current implementation removes all other nodes and just stores the new object value. There are no compilation, runtime exception, or additional logic errors. How can I fix this? (If there is another Stack Overflow that answers this, please post the link.)\r\n\r\nMethod:\r\n```\r\npublic static ListNode insertLast(ListNode head, Object arg) {\r\n      return (head.getNext() != null) ? insertLast(head.getNext(), arg) : new ListNode(arg, null);\r\n}\r\n```\r\n\r\nWhere head = [computer, science, java, coffee, nonsense, boo, foo, hello], and arg = [p].\r\n\r\nExpected (with an object value argument of &#39;p&#39;): [computer, science, java, coffee, nonsense, boo, foo, hello, p]\r\n\r\nActual (with an object value argument of &#39;p&#39;): [p]\r\n\r\nListNode Class Implementation (for reference):\r\n```\r\npublic class ListNode {\r\n  private Object value;\r\n  private ListNode next;\r\n  public ListNode(Object v, ListNode n) {\r\n    value = v;\r\n    next = n;\r\n  }\r\n  public Object getValue() {\r\n    return value;\r\n  }\r\n  public ListNode getNext() {\r\n    return next;\r\n  }\r\n  public void setValue(Object newv) {\r\n    value = newv;\r\n  }\r\n  public void setNext(ListNode newn) {\r\n    next = newn;\r\n  }\r\n}\r\n```","title":"Logic Error: Inserting Last Node in a Linked List","body":"<p>I am coding a recursive Java method that adds an object node to the end of a linked list. However, instead of executing properly, my current implementation removes all other nodes and just stores the new object value. There are no compilation, runtime exception, or additional logic errors. How can I fix this? (If there is another Stack Overflow that answers this, please post the link.)</p>\n<p>Method:</p>\n<pre><code>public static ListNode insertLast(ListNode head, Object arg) {\n      return (head.getNext() != null) ? insertLast(head.getNext(), arg) : new ListNode(arg, null);\n}\n</code></pre>\n<p>Where head = [computer, science, java, coffee, nonsense, boo, foo, hello], and arg = [p].</p>\n<p>Expected (with an object value argument of 'p'): [computer, science, java, coffee, nonsense, boo, foo, hello, p]</p>\n<p>Actual (with an object value argument of 'p'): [p]</p>\n<p>ListNode Class Implementation (for reference):</p>\n<pre><code>public class ListNode {\n  private Object value;\n  private ListNode next;\n  public ListNode(Object v, ListNode n) {\n    value = v;\n    next = n;\n  }\n  public Object getValue() {\n    return value;\n  }\n  public ListNode getNext() {\n    return next;\n  }\n  public void setValue(Object newv) {\n    value = newv;\n  }\n  public void setNext(ListNode newn) {\n    next = newn;\n  }\n}\n</code></pre>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":4420608,"reputation":22121,"user_id":3600709,"accept_rate":73,"display_name":"ctwheels"},"score":0,"creation_date":1515686266,"post_id":48211069,"comment_id":83403354,"body_markdown":"What language are you using?","body":"What language are you using?"}],"answers":[{"tags":[],"owner":{"account_id":4420608,"reputation":22121,"user_id":3600709,"accept_rate":73,"display_name":"ctwheels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515690904,"creation_date":1515686517,"answer_id":48211226,"question_id":48211069,"body_markdown":"###Code\r\n\r\n[See regex in use here][1]\r\n\r\n    (?&lt;!\\?)(?:\\?{2})*\\K:\r\n\r\nOther variations:\r\n\r\n    (?:^|[^?])(?:\\?{2})*\\K:       Doesn&#39;t use lookbehind\r\n    (?&lt;=(?:^|[^?])(?:\\?{2})*):    Doesn&#39;t use \\K, uses variable length lookbehind\r\n\r\n\r\n###Explanation\r\n\r\n - `(?&lt;!\\?)` Negative lookbehind ensuring what precedes doesn&#39;t match `?`\r\n - `(?:\\?{2})*` Match `??` any number of times\r\n - `\\K` Resets the starting point of the pattern. Any previously consumed characters are no longer included in the final match\r\n - `:` Match this literally\r\n\r\n---\r\n\r\n#Edit\r\n\r\nIn the comments under my answer the OP mentioned that the language used is [tag:Java]. Since Java doesn&#39;t support `\\K` or variable width lookbehinds, I&#39;ve decided to use regex (and the [`Matcher`][2] object&#39;s [`end()`][3] method) with the [`substring()`][4] method. \r\n\r\n###Code\r\n\r\n[See code in use here][5]\r\n\r\n    import java.util.*;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    class Ideone\r\n    {\r\n    \t\r\n    \tprivate static List&lt;Integer&gt; indices = new ArrayList&lt;Integer&gt;();\r\n    \tprivate static List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    \t\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\t\r\n    \t\tString str = &quot;a:b?:c??:d???:e????:f&quot;;\r\n    \t\t\r\n    \t\tPattern pattern = Pattern.compile(&quot;(?&lt;!\\\\?)(?:\\\\?{2})*:&quot;);\r\n    \t\tMatcher matcher = pattern.matcher(str);\r\n    \t\t\r\n    \t\twhile(matcher.find()) {\r\n    \t\t\tresult.add(str.substring(getLastIndex(), matcher.end() - 1));\r\n    \t\t\tindices.add(matcher.end());\r\n    \t\t}\r\n    \t\tresult.add(str.substring(getLastIndex()));\r\n    \t\tSystem.out.print(result);\r\n    \t}\r\n    \t\r\n    \tprivate static int getLastIndex() {\r\n    \t\tif(indices.isEmpty()) {\r\n    \t\t\treturn 0;\r\n    \t\t} else {\r\n    \t\t\treturn indices.get(indices.size() - 1);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n###Explanation\r\n\r\n 1. Loop over matches for the regex pattern `(?&lt;!\\?)(?:\\?{2})*:`.\r\n 2. Get the substring from the previous index (or `0` if it doesn&#39;t exist) to `Matcher.end()` and add it to the `result` list.\r\n 3. Add `Matcher.end()` (for the current match) to the `indices` list.\r\n 4. After the above loop finishes, get the substring from the last obtained index in the `indices` list to the end of the string and add it to the `result` list.\r\n\r\n\r\n  [1]: https://regex101.com/r/8wOmPO/1\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#end(int)\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)\r\n  [5]: https://ideone.com/x9ObjM","title":"regex split for non-escaped chars only","body":"<h3>Code</h3>\n\n<p><a href=\"https://regex101.com/r/8wOmPO/1\" rel=\"nofollow noreferrer\">See regex in use here</a></p>\n\n<pre><code>(?&lt;!\\?)(?:\\?{2})*\\K:\n</code></pre>\n\n<p>Other variations:</p>\n\n<pre><code>(?:^|[^?])(?:\\?{2})*\\K:       Doesn't use lookbehind\n(?&lt;=(?:^|[^?])(?:\\?{2})*):    Doesn't use \\K, uses variable length lookbehind\n</code></pre>\n\n<h3>Explanation</h3>\n\n<ul>\n<li><code>(?&lt;!\\?)</code> Negative lookbehind ensuring what precedes doesn't match <code>?</code></li>\n<li><code>(?:\\?{2})*</code> Match <code>??</code> any number of times</li>\n<li><code>\\K</code> Resets the starting point of the pattern. Any previously consumed characters are no longer included in the final match</li>\n<li><code>:</code> Match this literally</li>\n</ul>\n\n<hr>\n\n<h1>Edit</h1>\n\n<p>In the comments under my answer the OP mentioned that the language used is <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a>. Since Java doesn't support <code>\\K</code> or variable width lookbehinds, I've decided to use regex (and the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\"><code>Matcher</code></a> object's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#end(int)\" rel=\"nofollow noreferrer\"><code>end()</code></a> method) with the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)\" rel=\"nofollow noreferrer\"><code>substring()</code></a> method. </p>\n\n<h3>Code</h3>\n\n<p><a href=\"https://ideone.com/x9ObjM\" rel=\"nofollow noreferrer\">See code in use here</a></p>\n\n<pre><code>import java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Ideone\n{\n\n    private static List&lt;Integer&gt; indices = new ArrayList&lt;Integer&gt;();\n    private static List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n\n    public static void main (String[] args) throws java.lang.Exception\n    {\n\n        String str = \"a:b?:c??:d???:e????:f\";\n\n        Pattern pattern = Pattern.compile(\"(?&lt;!\\\\?)(?:\\\\?{2})*:\");\n        Matcher matcher = pattern.matcher(str);\n\n        while(matcher.find()) {\n            result.add(str.substring(getLastIndex(), matcher.end() - 1));\n            indices.add(matcher.end());\n        }\n        result.add(str.substring(getLastIndex()));\n        System.out.print(result);\n    }\n\n    private static int getLastIndex() {\n        if(indices.isEmpty()) {\n            return 0;\n        } else {\n            return indices.get(indices.size() - 1);\n        }\n    }\n}\n</code></pre>\n\n<h3>Explanation</h3>\n\n<ol>\n<li>Loop over matches for the regex pattern <code>(?&lt;!\\?)(?:\\?{2})*:</code>.</li>\n<li>Get the substring from the previous index (or <code>0</code> if it doesn't exist) to <code>Matcher.end()</code> and add it to the <code>result</code> list.</li>\n<li>Add <code>Matcher.end()</code> (for the current match) to the <code>indices</code> list.</li>\n<li>After the above loop finishes, get the substring from the last obtained index in the <code>indices</code> list to the end of the string and add it to the <code>result</code> list.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11723130,"reputation":161,"user_id":8581432,"display_name":"Nicol&#225;s Marzano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673128164,"creation_date":1515687394,"answer_id":48211535,"question_id":48211069,"body_markdown":"without lookbehind or  \\K you can use `(([^\\?])(\\?{2})*)(:)` but it saves the non-&#39;:&#39; part of the match in a group:\r\n\r\n[![example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mawxc.png","title":"regex split for non-escaped chars only","body":"<p>without lookbehind or  \\K you can use <code>(([^\\?])(\\?{2})*)(:)</code> but it saves the non-':' part of the match in a group:</p>\n<p><a href=\"https://i.stack.imgur.com/Mawxc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mawxc.png\" alt=\"example\" /></a></p>\n"}],"owner":{"account_id":943036,"reputation":13,"user_id":9204592,"display_name":"user9204592"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48211226,"answer_count":2,"score":1,"last_activity_date":1673128164,"creation_date":1515686077,"question_id":48211069,"body_markdown":"I have a string that I need to split on certain characters but not if they are escaped. So far I used regex but realized I get in trouble if the escape char itself is escaped. So if : is the split char and ? the escape char I would expect this behavior\r\n\r\n    a:b?:c??:d???:e????:f\r\nbecomes\r\n \r\n    a\r\n    b?:c??\r\n    d???:e????\r\n    f\r\n\r\nBottomline: \r\n\r\n* split must only happening if : is preceeded by an even number of ? or none ? \r\n* all ? must be kept.\r\n\r\nAny idea?","title":"regex split for non-escaped chars only","body":"<p>I have a string that I need to split on certain characters but not if they are escaped. So far I used regex but realized I get in trouble if the escape char itself is escaped. So if : is the split char and ? the escape char I would expect this behavior</p>\n\n<pre><code>a:b?:c??:d???:e????:f\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>a\nb?:c??\nd???:e????\nf\n</code></pre>\n\n<p>Bottomline: </p>\n\n<ul>\n<li>split must only happening if : is preceeded by an even number of ? or none ? </li>\n<li>all ? must be kept.</li>\n</ul>\n\n<p>Any idea?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673125377,"creation_date":1673124527,"answer_id":75043668,"question_id":75043607,"body_markdown":"Use the [`replaceAll(Function&lt;MatchResult, String&gt;)`][1] method of `Matcher`:\r\n\r\n    \r\n    str = Pattern.compile(&quot;[-_]([a-zA-Z0-9])&quot;)\r\n        .matcher(str)\r\n        .replaceAll(mr -&gt; mr.group(1).toUpperCase());\r\n\r\nSee [live demo][2] showing that:\r\n\r\n\r\n    String str = &quot;word1_word2-word3&quot;;\r\n    str = Pattern.compile(&quot;[-_]([a-zA-Z0-9])&quot;)\r\n        .matcher(str)\r\n        .replaceAll(mr -&gt; mr.group(1).toUpperCase());\r\n    System.out.println(str);\r\n\r\nOutputs:\r\n\r\n    word1Word2Word3\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\r\n  [2]: https://ideone.com/Urk6I1","title":"Is there option to change string in second argument of replaceAll, accessed by capture group","body":"<p>Use the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>replaceAll(Function&lt;MatchResult, String&gt;)</code></a> method of <code>Matcher</code>:</p>\n<pre><code>str = Pattern.compile(&quot;[-_]([a-zA-Z0-9])&quot;)\n    .matcher(str)\n    .replaceAll(mr -&gt; mr.group(1).toUpperCase());\n</code></pre>\n<p>See <a href=\"https://ideone.com/Urk6I1\" rel=\"nofollow noreferrer\">live demo</a> showing that:</p>\n<pre><code>String str = &quot;word1_word2-word3&quot;;\nstr = Pattern.compile(&quot;[-_]([a-zA-Z0-9])&quot;)\n    .matcher(str)\n    .replaceAll(mr -&gt; mr.group(1).toUpperCase());\nSystem.out.println(str);\n</code></pre>\n<p>Outputs:</p>\n<pre><code>word1Word2Word3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6066722,"reputation":100,"user_id":4736746,"display_name":"Pratik Prakash"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673126857,"creation_date":1673126857,"answer_id":75043888,"question_id":75043607,"body_markdown":"Here is working solution for your mentioned problem :\r\n\r\n    public static void main(String[] args) {\r\n    \r\n            char[] deliminators = {&#39;-&#39;, &#39;_&#39;};\r\n            String input = &quot;word1-word2-word3_word1_word2_word3&quot;;\r\n            char[] output = &quot;word1-word2-word3_word1_word2_word3&quot;.toCharArray();\r\n    \r\n            int index = 0;\r\n            for (char element : input.toCharArray()) {\r\n    \r\n                if (ArrayUtils.contains(deliminators, element)) {\r\n                    ArrayUtils.remove(output, index);\r\n                    index++;\r\n                    output[index] = Character.toUpperCase(output[index]);\r\n                    continue;\r\n                }\r\n                index++;\r\n            }\r\n            output[0] = Character.toUpperCase(output[0]);\r\n    \r\n            String.valueOf(output).replaceAll(&quot;-&quot;, &quot;&quot;).replaceAll(&quot;_&quot;, &quot;&quot;);\r\n            System.out.println(String.valueOf(output).replaceAll(&quot;-&quot;, &quot;&quot;).replaceAll(&quot;_&quot;, &quot;&quot;));\r\n        }\r\n\r\nKindly acknowledge , it should work directly for your use-case. ","title":"Is there option to change string in second argument of replaceAll, accessed by capture group","body":"<p>Here is working solution for your mentioned problem :</p>\n<pre><code>public static void main(String[] args) {\n\n        char[] deliminators = {'-', '_'};\n        String input = &quot;word1-word2-word3_word1_word2_word3&quot;;\n        char[] output = &quot;word1-word2-word3_word1_word2_word3&quot;.toCharArray();\n\n        int index = 0;\n        for (char element : input.toCharArray()) {\n\n            if (ArrayUtils.contains(deliminators, element)) {\n                ArrayUtils.remove(output, index);\n                index++;\n                output[index] = Character.toUpperCase(output[index]);\n                continue;\n            }\n            index++;\n        }\n        output[0] = Character.toUpperCase(output[0]);\n\n        String.valueOf(output).replaceAll(&quot;-&quot;, &quot;&quot;).replaceAll(&quot;_&quot;, &quot;&quot;);\n        System.out.println(String.valueOf(output).replaceAll(&quot;-&quot;, &quot;&quot;).replaceAll(&quot;_&quot;, &quot;&quot;));\n    }\n</code></pre>\n<p>Kindly acknowledge , it should work directly for your use-case.</p>\n"}],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75043668,"answer_count":2,"score":0,"last_activity_date":1673127889,"creation_date":1673123946,"question_id":75043607,"body_markdown":"I write a program replacing String in which words are delimited by &#39;-&#39; or &#39;_&#39; (`word1-word2-word3`... or `word1_word2_word3`... or any combination of those), to camel case format: `word1Word2Word3`...   \r\nI wanted to do it like this: \r\n`str.replaceAll(&quot;[-_]([a-zA-Z0-9])&quot;, &quot;$1&quot;.toUpperCase());` and half of it sorta works: I get resutl of: word1word2word3... - looks like, toUpperCase() didn&#39;t have any effect, so my questions are: why is it so and how to make it work - preferably using `replaceAll()`\r\n\r\n- Sample input:    `word1_word2_word3`\r\n- Expected output: `word1Word2Word3`","title":"Is there option to change string in second argument of replaceAll, accessed by capture group","body":"<p>I write a program replacing String in which words are delimited by '-' or '_' (<code>word1-word2-word3</code>... or <code>word1_word2_word3</code>... or any combination of those), to camel case format: <code>word1Word2Word3</code>...<br />\nI wanted to do it like this:\n<code>str.replaceAll(&quot;[-_]([a-zA-Z0-9])&quot;, &quot;$1&quot;.toUpperCase());</code> and half of it sorta works: I get resutl of: word1word2word3... - looks like, toUpperCase() didn't have any effect, so my questions are: why is it so and how to make it work - preferably using <code>replaceAll()</code></p>\n<ul>\n<li>Sample input:    <code>word1_word2_word3</code></li>\n<li>Expected output: <code>word1Word2Word3</code></li>\n</ul>\n"},{"tags":["java","validation","button","javafx","fxml"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":5,"creation_date":1673127790,"post_id":75043965,"comment_id":132429746,"body_markdown":"Why? That&#39;s what controllers are made for.","body":"Why? That&#39;s what controllers are made for."},{"owner":{"account_id":16006888,"reputation":3,"user_id":11552184,"display_name":"Amin Norouzi"},"score":1,"creation_date":1673127989,"post_id":75043965,"comment_id":132429774,"body_markdown":"I though it&#39;s better to separate the view validations and logic code.","body":"I though it&#39;s better to separate the view validations and logic code."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1673133191,"post_id":75043965,"comment_id":132430616,"body_markdown":"Then don&#39;t put logic code in your FXML controller.","body":"Then don&#39;t put logic code in your FXML controller."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673192456,"post_id":75043965,"comment_id":132438277,"body_markdown":"This is “view logic”, which belongs in the controller. The [Eden coding tutorial in MVC](https://edencoding.com/mvc-in-javafx/) nicely distinguishes between “view logic” (controller) and “business logic” (model).","body":"This is “view logic”, which belongs in the controller. The <a href=\"https://edencoding.com/mvc-in-javafx/\" rel=\"nofollow noreferrer\">Eden coding tutorial in MVC</a> nicely distinguishes between “view logic” (controller) and “business logic” (model)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1673193755,"post_id":75043965,"comment_id":132438546,"body_markdown":"@James_D unfortunately the eden coding tutorial in MVC is broken. Most of the content is missing.  The part obout view vs business is still there without the examples anymore.  Luckily the content can still be found in the [wayback machine](http://web.archive.org/web/20220818080516/https://edencoding.com/mvc-in-javafx/).","body":"@James_D unfortunately the eden coding tutorial in MVC is broken. Most of the content is missing.  The part obout view vs business is still there without the examples anymore.  Luckily the content can still be found in the <a href=\"http://web.archive.org/web/20220818080516/https://edencoding.com/mvc-in-javafx/\" rel=\"nofollow noreferrer\">wayback machine</a>."}],"owner":{"account_id":16006888,"reputation":3,"user_id":11552184,"display_name":"Amin Norouzi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673127619,"creation_date":1673127527,"question_id":75043965,"body_markdown":"I have two fields: username and password. I want a button to remain disabled if these fields are blank or their length is less and n characters.\r\n\r\nI tried using button `disableProperty()` in my controller but I want to do the validation in the FXML file. I don&#39;t know if it&#39;s possible or not.\r\n\r\nMy current validation:\r\n```\r\n    @FXML\r\n    private TextField usernameField;\r\n    @FXML\r\n    private PasswordField passwordField;\r\n    @FXML\r\n    private Button signinButton;\r\n\r\n    // Runs on initializing\r\n    @Override\r\n    protected void configure() {\r\n        signinButton.disableProperty().bind(usernameField.textProperty().isEmpty()\r\n                .or(usernameField.textProperty().length().lessThan(5))\r\n                .or(passwordField.textProperty().isEmpty())\r\n                .or(passwordField.textProperty().length().lessThan(4)));\r\n    }\r\n```\r\n\r\nFXML file:\r\n```\r\n&lt;TextField fx:id=&quot;usernameField&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Username&quot;/&gt;\r\n&lt;PasswordField fx:id=&quot;passwordField&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Password&quot;/&gt;\r\n&lt;Button fx:id=&quot;signinButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onSignin&quot; prefWidth=&quot;220.0&quot; text=&quot;Sign in&quot;/&gt;\r\n```\r\n\r\nThanks in advance!","title":"How to disable a button for input validation in FXML","body":"<p>I have two fields: username and password. I want a button to remain disabled if these fields are blank or their length is less and n characters.</p>\n<p>I tried using button <code>disableProperty()</code> in my controller but I want to do the validation in the FXML file. I don't know if it's possible or not.</p>\n<p>My current validation:</p>\n<pre><code>    @FXML\n    private TextField usernameField;\n    @FXML\n    private PasswordField passwordField;\n    @FXML\n    private Button signinButton;\n\n    // Runs on initializing\n    @Override\n    protected void configure() {\n        signinButton.disableProperty().bind(usernameField.textProperty().isEmpty()\n                .or(usernameField.textProperty().length().lessThan(5))\n                .or(passwordField.textProperty().isEmpty())\n                .or(passwordField.textProperty().length().lessThan(4)));\n    }\n</code></pre>\n<p>FXML file:</p>\n<pre><code>&lt;TextField fx:id=&quot;usernameField&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Username&quot;/&gt;\n&lt;PasswordField fx:id=&quot;passwordField&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Password&quot;/&gt;\n&lt;Button fx:id=&quot;signinButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onSignin&quot; prefWidth=&quot;220.0&quot; text=&quot;Sign in&quot;/&gt;\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","c++","bluetooth"],"comments":[{"owner":{"account_id":36698,"reputation":14159,"user_id":104774,"accept_rate":89,"display_name":"stefaanv"},"score":0,"creation_date":1372415446,"post_id":17362543,"comment_id":25196815,"body_markdown":"first cut of your project in smaller parts where you can do a quicker proof of concept.  Then combine the parts.  Ask more specific questions about issues you encounter while actually working on the parts.","body":"first cut of your project in smaller parts where you can do a quicker proof of concept.  Then combine the parts.  Ask more specific questions about issues you encounter while actually working on the parts."}],"answers":[{"tags":[],"owner":{"account_id":2739978,"reputation":376,"user_id":2370049,"display_name":"harsmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372833732,"creation_date":1372833732,"answer_id":17441326,"question_id":17362543,"body_markdown":"I think you should use the SPP BT profile to continuously sending data over bluetooth.\r\nYou can see a SPP link over BT as an normal RS232 serial cable.\r\n\r\nHere are a sample code how to create an app (bluetooth chat) in android using the spp profile. \r\n[http://developer.android.com/guide/topics/connectivity/bluetooth.html][1]\r\n\r\nOn the computer side, are you using windows? \r\nIf so, the bluetooth stack on computer will create an COM port for you with the SPP data from phone. \r\nI haven&#39;t create any application that read and write from a COM port in windows but I guess it will be tutorials on the net. \r\nFirst step could be to connect an Hyper terminal to that COM port and see that you can read data from it. \r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/connectivity/bluetooth.html","title":"Use Bluetooth to transfer gyroscope data to another computer","body":"<p>I think you should use the SPP BT profile to continuously sending data over bluetooth.\nYou can see a SPP link over BT as an normal RS232 serial cable.</p>\n\n<p>Here are a sample code how to create an app (bluetooth chat) in android using the spp profile. \n<a href=\"http://developer.android.com/guide/topics/connectivity/bluetooth.html\" rel=\"nofollow\">http://developer.android.com/guide/topics/connectivity/bluetooth.html</a></p>\n\n<p>On the computer side, are you using windows? \nIf so, the bluetooth stack on computer will create an COM port for you with the SPP data from phone. \nI haven't create any application that read and write from a COM port in windows but I guess it will be tutorials on the net. \nFirst step could be to connect an Hyper terminal to that COM port and see that you can read data from it. </p>\n"}],"owner":{"account_id":311346,"reputation":16448,"user_id":624869,"accept_rate":82,"display_name":"JDS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673126332,"creation_date":1372415064,"question_id":17362543,"body_markdown":"I want to do a simple project where I send the phone&#39;s gyroscope data to a computer, where both are connected over Bluetooth. The receiving computer will be using C++, which I assume has its own Bluetooth communication protocols.\r\n\r\nI have no idea how to get started - does anyone have sample code or tutorials for this? Preferably for both the client (phone) and the server (computer).\r\n","title":"Use Bluetooth to transfer gyroscope data to another computer","body":"<p>I want to do a simple project where I send the phone's gyroscope data to a computer, where both are connected over Bluetooth. The receiving computer will be using C++, which I assume has its own Bluetooth communication protocols.</p>\n<p>I have no idea how to get started - does anyone have sample code or tutorials for this? Preferably for both the client (phone) and the server (computer).</p>\n"},{"tags":["java","sorting","generics","comparable"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673126140,"creation_date":1673126140,"answer_id":75043834,"question_id":75043829,"body_markdown":"The type `T` exists at the bound instance level, you can introduce another generic bound for the `static` method. Also, you want to iterate to `arrayToSort.length - 1` (since you use `i + 1` to get `next` in the loop body). And your swap is backward. Like,\r\n\r\n\tpublic static &lt;E extends Comparable&lt;? super E&gt;&gt; E[] gnomeSort(E[] arrayToSort) {\r\n\t\tfor (int i = 0; i &lt; arrayToSort.length - 1; i++) {\r\n\t\t\tE current = arrayToSort[i];\r\n\t\t\tE next = arrayToSort[i + 1];\r\n\r\n\t\t\tif (current.compareTo(next) &gt; 0) {\r\n\t\t\t\tarrayToSort[i + 1] = current;\r\n\t\t\t\tarrayToSort[i] = next;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arrayToSort;\r\n\t}\r\n\r\nLooking at the rest of your code it seems like you don&#39;t need `T` (or for `GnomeSort` to be generic at the class level).","title":"Generic Comperable Type Java - Error if I set the function to static","body":"<p>The type <code>T</code> exists at the bound instance level, you can introduce another generic bound for the <code>static</code> method. Also, you want to iterate to <code>arrayToSort.length - 1</code> (since you use <code>i + 1</code> to get <code>next</code> in the loop body). And your swap is backward. Like,</p>\n<pre><code>public static &lt;E extends Comparable&lt;? super E&gt;&gt; E[] gnomeSort(E[] arrayToSort) {\n    for (int i = 0; i &lt; arrayToSort.length - 1; i++) {\n        E current = arrayToSort[i];\n        E next = arrayToSort[i + 1];\n\n        if (current.compareTo(next) &gt; 0) {\n            arrayToSort[i + 1] = current;\n            arrayToSort[i] = next;\n        }\n    }\n    return arrayToSort;\n}\n</code></pre>\n<p>Looking at the rest of your code it seems like you don't need <code>T</code> (or for <code>GnomeSort</code> to be generic at the class level).</p>\n"}],"owner":{"account_id":27149199,"reputation":122,"user_id":20688923,"display_name":"ETisREAL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75043834,"answer_count":1,"score":0,"last_activity_date":1673126140,"creation_date":1673126037,"question_id":75043829,"body_markdown":"Good evening,\r\n\r\nsomething quirky is going on with Java. I&#39;ll be the first to admit that I suck at Java, but I really can&#39;t wrap my head around this one, maybe someone can help.\r\n\r\nI&#39;m trying to make a class to execute GnomeSort (some niche sorting method, just to practice with Java).\r\n\r\nHere&#39;s what I&#39;ve build...\r\n\r\n```\r\npackage sorting;\r\n\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\nimport static org.testng.internal.junit.ArrayAsserts.assertArrayEquals;\r\n\r\npublic class GnomeSort&lt;T extends Comparable&lt;? super T&gt;&gt; {\r\n\r\n    public static void main(String[] args) {}\r\n\r\n    public static T[] gnomeSort(T[] arrayToSort) {\r\n        for (int i = 0; i &lt; arrayToSort.length; i++) {\r\n            T current = arrayToSort[i];\r\n            T next = arrayToSort[i + 1];\r\n\r\n            if (current.compareTo(next) &gt; 0) {\r\n                current = arrayToSort[i + 1];\r\n                next = arrayToSort[i];\r\n            }\r\n        }\r\n        return arrayToSort;\r\n    }\r\n\r\n    static ArrayList&lt;Character&gt; sample = new ArrayList&lt;Character&gt;(\r\n            Arrays.asList(&#39;t&#39;, &#39;f&#39;, &#39;a&#39;, &#39;b&#39;, &#39;u&#39;, &#39;d&#39;, &#39;g&#39;, &#39;c&#39;));\r\n\r\n\r\n    @Test\r\n    public void testGnomeSort() {\r\n        Character[] processed = {&#39;t&#39;, &#39;f&#39;, &#39;a&#39;, &#39;b&#39;, &#39;u&#39;, &#39;d&#39;, &#39;g&#39;, &#39;c&#39;};\r\n        Character[] ordered = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;f&#39;, &#39;g&#39;, &#39;t&#39;, &#39;u&#39;};\r\n        GnomeSort.gnomeSort(processed);\r\n        assertArrayEquals(processed, ordered);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nthe gnomeSort method, for some reason is giving the error: \r\n```\r\n&#39;sorting.GnomeSort.this&#39; cannot be referenced from a static context\r\n```\r\n\r\nIf I remove it, the error goes away, but of course at that point the whole method would be completely useless, since as you can see I&#39;m trying to execute the sort, and return the array.\r\n\r\nI honestly don&#39;t have anything else to tell you. If you need some further clarification or explenation, please just let me know. I will be back immediately.\r\n\r\nThank you in advance for any help :)","title":"Generic Comperable Type Java - Error if I set the function to static","body":"<p>Good evening,</p>\n<p>something quirky is going on with Java. I'll be the first to admit that I suck at Java, but I really can't wrap my head around this one, maybe someone can help.</p>\n<p>I'm trying to make a class to execute GnomeSort (some niche sorting method, just to practice with Java).</p>\n<p>Here's what I've build...</p>\n<pre><code>package sorting;\n\nimport org.testng.annotations.Test;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\nimport static org.testng.internal.junit.ArrayAsserts.assertArrayEquals;\n\npublic class GnomeSort&lt;T extends Comparable&lt;? super T&gt;&gt; {\n\n    public static void main(String[] args) {}\n\n    public static T[] gnomeSort(T[] arrayToSort) {\n        for (int i = 0; i &lt; arrayToSort.length; i++) {\n            T current = arrayToSort[i];\n            T next = arrayToSort[i + 1];\n\n            if (current.compareTo(next) &gt; 0) {\n                current = arrayToSort[i + 1];\n                next = arrayToSort[i];\n            }\n        }\n        return arrayToSort;\n    }\n\n    static ArrayList&lt;Character&gt; sample = new ArrayList&lt;Character&gt;(\n            Arrays.asList('t', 'f', 'a', 'b', 'u', 'd', 'g', 'c'));\n\n\n    @Test\n    public void testGnomeSort() {\n        Character[] processed = {'t', 'f', 'a', 'b', 'u', 'd', 'g', 'c'};\n        Character[] ordered = {'a', 'b', 'c', 'd', 'f', 'g', 't', 'u'};\n        GnomeSort.gnomeSort(processed);\n        assertArrayEquals(processed, ordered);\n    }\n\n}\n\n</code></pre>\n<p>the gnomeSort method, for some reason is giving the error:</p>\n<pre><code>'sorting.GnomeSort.this' cannot be referenced from a static context\n</code></pre>\n<p>If I remove it, the error goes away, but of course at that point the whole method would be completely useless, since as you can see I'm trying to execute the sort, and return the array.</p>\n<p>I honestly don't have anything else to tell you. If you need some further clarification or explenation, please just let me know. I will be back immediately.</p>\n<p>Thank you in advance for any help :)</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5303869,"reputation":639,"user_id":4232523,"display_name":"Hadi Moloodi"},"score":0,"creation_date":1571555070,"post_id":58468822,"comment_id":103275213,"body_markdown":"what is the concept here? each diary has an info which has two other diaries?","body":"what is the concept here? each diary has an info which has two other diaries?"}],"answers":[{"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571569021,"creation_date":1571569021,"answer_id":58472276,"question_id":58468822,"body_markdown":"With your current classes, one instance of `Info` can have relation to 2 instances of `Diary`. That&#39;s why definition `@OneToOne` is not correct here.\r\n\r\nWithout knowing what you problem are you trying to solve, based only on your code, following solution would be possible:\r\n\r\nDefine relation as `@OneToMany` in the `Info` class and as `@ManyToOne` in the `Diary` class. To distinguish instances of `Diary` in the same relation, you can add an attribute `order` to `Diary` and set values 1 or 2 correspondingly.\r\n","title":"Having issues with Hibernate multiple @OneToOne relations to the same class objects","body":"<p>With your current classes, one instance of <code>Info</code> can have relation to 2 instances of <code>Diary</code>. That's why definition <code>@OneToOne</code> is not correct here.</p>\n\n<p>Without knowing what you problem are you trying to solve, based only on your code, following solution would be possible:</p>\n\n<p>Define relation as <code>@OneToMany</code> in the <code>Info</code> class and as <code>@ManyToOne</code> in the <code>Diary</code> class. To distinguish instances of <code>Diary</code> in the same relation, you can add an attribute <code>order</code> to <code>Diary</code> and set values 1 or 2 correspondingly.</p>\n"}],"owner":{"account_id":959020,"reputation":3213,"user_id":983783,"accept_rate":63,"display_name":"Eddy Freeman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673124938,"creation_date":1571527255,"question_id":58468822,"body_markdown":"I have the following Hibernate mapping. I want to map two @OneToOne mapping to the same class objects but am having issues.\r\n\r\n// Info class\r\n\r\n    public class Info {\r\n    @Id\r\n    @Column(name=&quot;info_id&quot;)\r\n    private String info_id;\r\n    \r\n    @OneToOne(cascade = CascadeType.ALL, fetch=FetchType.EAGER, orphanRemoval = true, mappedBy = &quot;info&quot;)\r\n        private Diary dairy1;\r\n        @OneToOne(cascade = CascadeType.ALL, fetch=FetchType.EAGER, orphanRemoval = true, mappedBy = &quot;info&quot;)\r\n        private Diary dairy2;\r\n    \r\n       // I use this method to set the dairy \r\n       public void setDairy(Dairy dairy) {\r\n            if (getDairy1() == null) {\r\n                setDairy1(dairy);\r\n            } else if (getDairy2() == null) {\r\n                setDairy2(dairy);\r\n            }\r\n        }\r\n    \r\n      // OTHER GETTERS EN SETTERS OMITTED\r\n         \r\n    }\r\n\r\n\r\n// Dairy class\r\n\r\n    public class Dairy {\r\n                @OneToOne(fetch = FetchType.EAGER)\r\n                @JoinColumn(name = &quot;info_id&quot;)\r\n                private Info info;\r\n            }\r\n\r\nThe problem am facing now is when I save `Info` with `dairy1` set to a new `Dairy` object and later am retrieving `Info`, then both `dairy1` en `dairy2` are initialized with the same `dairy1` object. I expect `dairy2` to be **null** but it is initialized with the same `dairy1` object.\r\n","title":"Having issues with Hibernate multiple @OneToOne relations to the same class objects","body":"<p>I have the following Hibernate mapping. I want to map two @OneToOne mapping to the same class objects but am having issues.</p>\n<p>// Info class</p>\n<pre><code>public class Info {\n@Id\n@Column(name=&quot;info_id&quot;)\nprivate String info_id;\n\n@OneToOne(cascade = CascadeType.ALL, fetch=FetchType.EAGER, orphanRemoval = true, mappedBy = &quot;info&quot;)\n    private Diary dairy1;\n    @OneToOne(cascade = CascadeType.ALL, fetch=FetchType.EAGER, orphanRemoval = true, mappedBy = &quot;info&quot;)\n    private Diary dairy2;\n\n   // I use this method to set the dairy \n   public void setDairy(Dairy dairy) {\n        if (getDairy1() == null) {\n            setDairy1(dairy);\n        } else if (getDairy2() == null) {\n            setDairy2(dairy);\n        }\n    }\n\n  // OTHER GETTERS EN SETTERS OMITTED\n     \n}\n</code></pre>\n<p>// Dairy class</p>\n<pre><code>public class Dairy {\n            @OneToOne(fetch = FetchType.EAGER)\n            @JoinColumn(name = &quot;info_id&quot;)\n            private Info info;\n        }\n</code></pre>\n<p>The problem am facing now is when I save <code>Info</code> with <code>dairy1</code> set to a new <code>Dairy</code> object and later am retrieving <code>Info</code>, then both <code>dairy1</code> en <code>dairy2</code> are initialized with the same <code>dairy1</code> object. I expect <code>dairy2</code> to be <strong>null</strong> but it is initialized with the same <code>dairy1</code> object.</p>\n"},{"tags":["java","r","algorithm","data-structures","poker"],"comments":[{"owner":{"account_id":334987,"reputation":9182,"user_id":661797,"accept_rate":88,"display_name":"nullpotent"},"score":1,"creation_date":1335619760,"post_id":10363927,"comment_id":13355146,"body_markdown":"This is very simple, clean and well explained: http://nsayer.blogspot.com/2007/07/algorithm-for-evaluating-poker-hands.html","body":"This is very simple, clean and well explained: <a href=\"http://nsayer.blogspot.com/2007/07/algorithm-for-evaluating-poker-hands.html\" rel=\"nofollow noreferrer\">nsayer.blogspot.com/2007/07/&hellip;</a>"},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1335619808,"post_id":10363927,"comment_id":13355160,"body_markdown":"There are lots and lots of (probably) relevant question in the &quot;related&quot; sidebar on the right.  Do none of them answer your question?","body":"There are lots and lots of (probably) relevant question in the &quot;related&quot; sidebar on the right.  Do none of them answer your question?"},{"owner":{"account_id":246765,"reputation":41329,"user_id":521070,"accept_rate":72,"display_name":"Michael"},"score":0,"creation_date":1335620068,"post_id":10363927,"comment_id":13355206,"body_markdown":"@OliCharlesworth I saw mostly links to existing libraries","body":"@OliCharlesworth I saw mostly links to existing libraries"},{"owner":{"account_id":1039514,"reputation":1970,"user_id":1045902,"accept_rate":100,"display_name":"DPM"},"score":0,"creation_date":1395726679,"post_id":10363927,"comment_id":34456672,"body_markdown":"@iccthedral I didn&#39;t like it too much, evaluating all 21 combinations of 5 cards in a 7 card set seems very inefficient. There are algorithms to determine the best hand out of 7 cards without having to look at every combination and the algorithm is just slightly more complicated than the one for 5 cards.","body":"@iccthedral I didn&#39;t like it too much, evaluating all 21 combinations of 5 cards in a 7 card set seems very inefficient. There are algorithms to determine the best hand out of 7 cards without having to look at every combination and the algorithm is just slightly more complicated than the one for 5 cards."}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335620182,"creation_date":1335620182,"answer_id":10364000,"question_id":10363927,"body_markdown":"If you are representing a hand as an array of, for example, &lt;code&gt;Card&lt;/code&gt; objects, then I would have methods for looping through this array and determining if it has a 2-of-a-kind, flush etc - and if it does, what type it is; so you could have the &lt;code&gt;3ofaKind()&lt;/code&gt; method return 5 if a hand had three 5s. Then I would establish a hierarchy of possibilities (e.g. 3 of a kind is higher than 2 of a kind) and work from there. The methods themselves should be pretty straightforward to write.","title":"The simplest algorithm for poker hand evaluation","body":"<p>If you are representing a hand as an array of, for example, <code>Card</code> objects, then I would have methods for looping through this array and determining if it has a 2-of-a-kind, flush etc - and if it does, what type it is; so you could have the <code>3ofaKind()</code> method return 5 if a hand had three 5s. Then I would establish a hierarchy of possibilities (e.g. 3 of a kind is higher than 2 of a kind) and work from there. The methods themselves should be pretty straightforward to write.</p>\n"},{"tags":[],"owner":{"account_id":1291143,"reputation":938,"user_id":1243227,"display_name":"wizardwerdna"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1505673760,"creation_date":1336167644,"answer_id":10456488,"question_id":10363927,"body_markdown":"Lookup tables are the most straightforward and simplest solution to the problem, and also the fastest.  The trick is managing the size of the table and keeping the mode of use simple enough to process very quickly ([space–time tradeoff][1]).  Obviously, in theory you could just encode each hand that could be held and have an array of evaluations, then --poof-- one table lookup and you are done.  Unfortunately, such a table would be huge and unmanageable for most machines, and would invariably have you thrashing disks anyway as memory gets swapped out lots.\r\n\r\nThe so-called two-plus-two solution sports a big 10M table, but literally involves one table lookup for each card in the hand.  You are not likely to find a faster and simpler to understand algorithm.\r\n\r\nOther solutions involve more compressed tables with more complex indexing, but they are readily comprehensible and pretty fast (although much slower than 2+2).  This is where you see language concerning hashing and so forth -- tricks to reduce a table size to more manageable sizes.\r\n\r\nIn any case, lookup solutions are orders of magnitude faster than the histogram-sort-dance-on-your-head-compare-special-case-and-by-the-way-was-it-a-flush solutions, almost none of which are worthy of a second glance.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff","title":"The simplest algorithm for poker hand evaluation","body":"<p>Lookup tables are the most straightforward and simplest solution to the problem, and also the fastest.  The trick is managing the size of the table and keeping the mode of use simple enough to process very quickly (<a href=\"https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff\" rel=\"nofollow noreferrer\">space–time tradeoff</a>).  Obviously, in theory you could just encode each hand that could be held and have an array of evaluations, then --poof-- one table lookup and you are done.  Unfortunately, such a table would be huge and unmanageable for most machines, and would invariably have you thrashing disks anyway as memory gets swapped out lots.</p>\n\n<p>The so-called two-plus-two solution sports a big 10M table, but literally involves one table lookup for each card in the hand.  You are not likely to find a faster and simpler to understand algorithm.</p>\n\n<p>Other solutions involve more compressed tables with more complex indexing, but they are readily comprehensible and pretty fast (although much slower than 2+2).  This is where you see language concerning hashing and so forth -- tricks to reduce a table size to more manageable sizes.</p>\n\n<p>In any case, lookup solutions are orders of magnitude faster than the histogram-sort-dance-on-your-head-compare-special-case-and-by-the-way-was-it-a-flush solutions, almost none of which are worthy of a second glance.</p>\n"},{"tags":[],"owner":{"account_id":56965,"reputation":2264,"user_id":170614,"accept_rate":81,"display_name":"Adam"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1336339030,"creation_date":1336339030,"answer_id":10474380,"question_id":10363927,"body_markdown":"If you just want to understand how it works here is simple algorithm:\r\n\r\n    HandStrength(ourcards,boardcards)\r\n    {\r\n        ahead = tied = behind = 0\r\n        ourrank = Rank(ourcards,boardcards)\r\n        /* Consider all two-card combinations\r\n        of the remaining cards. */\r\n        for each case(oppcards)\r\n        {\r\n            opprank = Rank(oppcards,boardcards)\r\n            if(ourrank&gt;opprank)\r\n                ahead += 1\r\n            else if(ourrank==opprank)\r\n                tied += 1\r\n            else /* &lt; */\r\n                behind += 1\r\n        }\r\n        handstrength = (ahead+tied/2) / (ahead+tied+behind)\r\n        return(handstrength)\r\n    }\r\n\r\nIt is from &quot;ALGORITHMS AND ASSESSMENT IN COMPUTER POKER&quot; by Darse Billings.\r\n","title":"The simplest algorithm for poker hand evaluation","body":"<p>If you just want to understand how it works here is simple algorithm:</p>\n\n<pre><code>HandStrength(ourcards,boardcards)\n{\n    ahead = tied = behind = 0\n    ourrank = Rank(ourcards,boardcards)\n    /* Consider all two-card combinations\n    of the remaining cards. */\n    for each case(oppcards)\n    {\n        opprank = Rank(oppcards,boardcards)\n        if(ourrank&gt;opprank)\n            ahead += 1\n        else if(ourrank==opprank)\n            tied += 1\n        else /* &lt; */\n            behind += 1\n    }\n    handstrength = (ahead+tied/2) / (ahead+tied+behind)\n    return(handstrength)\n}\n</code></pre>\n\n<p>It is from \"ALGORITHMS AND ASSESSMENT IN COMPUTER POKER\" by Darse Billings.</p>\n"},{"tags":[],"owner":{"account_id":1433328,"reputation":11556,"user_id":1355221,"accept_rate":100,"display_name":"dansalmo"},"down_vote_count":2,"up_vote_count":35,"is_accepted":true,"score":33,"last_activity_date":1443323556,"creation_date":1387604496,"answer_id":20715903,"question_id":10363927,"body_markdown":"Here is a very short but complete histogram based 5 card poker scoring function in Python (2.x). It will get considerably longer if converted to Java.\r\n\r\n    def poker(hands):\r\n        scores = [(i, score(hand.split())) for i, hand in enumerate(hands)]\r\n        winner = sorted(scores , key=lambda x:x[1])[-1][0]\r\n        return hands[winner]\r\n\r\n    def score(hand):\r\n        ranks = &#39;23456789TJQKA&#39;\r\n        rcounts = {ranks.find(r): &#39;&#39;.join(hand).count(r) for r, _ in hand}.items()\r\n        score, ranks = zip(*sorted((cnt, rank) for rank, cnt in rcounts)[::-1])\r\n        if len(score) == 5:\r\n            if ranks[0:2] == (12, 3): #adjust if 5 high straight\r\n                ranks = (3, 2, 1, 0, -1)\r\n            straight = ranks[0] - ranks[4] == 4\r\n            flush = len({suit for _, suit in hand}) == 1\r\n            &#39;&#39;&#39;no pair, straight, flush, or straight flush&#39;&#39;&#39;\r\n            score = ([1, (3,1,1,1)], [(3,1,1,2), (5,)])[flush][straight]\r\n        return score, ranks\r\n\r\n     &gt;&gt;&gt; poker([&#39;8C TS KC 9H 4S&#39;, &#39;7D 2S 5D 3S AC&#39;, &#39;8C AD 8D AC 9C&#39;, &#39;7C 5H 8D TD KS&#39;])\r\n     &#39;8C AD 8D AC 9C&#39;","title":"The simplest algorithm for poker hand evaluation","body":"<p>Here is a very short but complete histogram based 5 card poker scoring function in Python (2.x). It will get considerably longer if converted to Java.</p>\n\n<pre><code>def poker(hands):\n    scores = [(i, score(hand.split())) for i, hand in enumerate(hands)]\n    winner = sorted(scores , key=lambda x:x[1])[-1][0]\n    return hands[winner]\n\ndef score(hand):\n    ranks = '23456789TJQKA'\n    rcounts = {ranks.find(r): ''.join(hand).count(r) for r, _ in hand}.items()\n    score, ranks = zip(*sorted((cnt, rank) for rank, cnt in rcounts)[::-1])\n    if len(score) == 5:\n        if ranks[0:2] == (12, 3): #adjust if 5 high straight\n            ranks = (3, 2, 1, 0, -1)\n        straight = ranks[0] - ranks[4] == 4\n        flush = len({suit for _, suit in hand}) == 1\n        '''no pair, straight, flush, or straight flush'''\n        score = ([1, (3,1,1,1)], [(3,1,1,2), (5,)])[flush][straight]\n    return score, ranks\n\n &gt;&gt;&gt; poker(['8C TS KC 9H 4S', '7D 2S 5D 3S AC', '8C AD 8D AC 9C', '7C 5H 8D TD KS'])\n '8C AD 8D AC 9C'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673124662,"creation_date":1389061055,"answer_id":20962807,"question_id":10363927,"body_markdown":"    import java.util.*; // Arrays, Set\r\n    import java.util.Map.Entry;\r\n    import static java.util.Comparator.comparing;\r\n    import static java.util.stream.Collectors.*; // counting, groupingBy\r\n\r\n    public record Hand(Category category, Rank... ranks) implements Comparable&lt;Hand&gt; {\r\n        public static Hand evaluate(Set&lt;Card&gt; cards) {\r\n            if (cards.size() != 5) { throw new IllegalArgumentException(); }\r\n            var flush = cards.stream().map(Card::suit).distinct().count() == 1;\r\n            var counts = cards.stream().collect(groupingBy(Card::rank, counting()));\r\n            var ranks = counts.entrySet().stream().sorted(\r\n                comparing(Entry&lt;Rank, Long&gt;::getValue).thenComparing(Entry::getKey).reversed()\r\n            ).map(Entry::getKey).toArray(Rank[]::new);\r\n            if (ranks.length == 4) {\r\n                return new Hand(ONE_PAIR, ranks);\r\n            } else if (ranks.length == 3) {\r\n                return new Hand(counts.get(ranks[0]) == 2 ? TWO_PAIR : THREE_OF_A_KIND, ranks);\r\n            } else if (ranks.length == 2) {\r\n                return new Hand(counts.get(ranks[0]) == 3 ? FULL_HOUSE : FOUR_OF_A_KIND, ranks);\r\n            } else if (ranks[0].ordinal() - ranks[4].ordinal() == 4) {\r\n                return new Hand(flush ? STRAIGHT_FLUSH : STRAIGHT, ranks[0]);\r\n            } else if (ranks[0].equals(ACE) &amp;&amp; ranks[1].equals(FIVE)) { // A-2-3-4-5\r\n                return new Hand(flush ? STRAIGHT_FLUSH : STRAIGHT, FIVE);\r\n            } else {\r\n                return new Hand(flush ? FLUSH : HIGH_CARD, ranks);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int compareTo(Hand that) { // first compare by category, then compare ranks lexicographically\r\n            return comparing(Hand::category).thenComparing(Hand::ranks, Arrays::compare).compare(this, that);\r\n        }\r\n    }\r\n\r\n    enum Category {HIGH_CARD, ONE_PAIR, TWO_PAIR, THREE_OF_A_KIND, STRAIGHT, FLUSH, FULL_HOUSE, FOUR_OF_A_KIND, STRAIGHT_FLUSH}\r\n\r\n    enum Rank {TWO, THREE, FOUR, FIVE, SIX, SEVEN, EIGHT, NINE, TEN, JACK, QUEEN, KING, ACE}\r\n\r\n    enum Suit {DIAMONDS, CLUBS, HEARTS, SPADES}\r\n\r\n    record Card(Rank rank, Suit suit) {}\r\n","title":"The simplest algorithm for poker hand evaluation","body":"<pre><code>import java.util.*; // Arrays, Set\nimport java.util.Map.Entry;\nimport static java.util.Comparator.comparing;\nimport static java.util.stream.Collectors.*; // counting, groupingBy\n\npublic record Hand(Category category, Rank... ranks) implements Comparable&lt;Hand&gt; {\n    public static Hand evaluate(Set&lt;Card&gt; cards) {\n        if (cards.size() != 5) { throw new IllegalArgumentException(); }\n        var flush = cards.stream().map(Card::suit).distinct().count() == 1;\n        var counts = cards.stream().collect(groupingBy(Card::rank, counting()));\n        var ranks = counts.entrySet().stream().sorted(\n            comparing(Entry&lt;Rank, Long&gt;::getValue).thenComparing(Entry::getKey).reversed()\n        ).map(Entry::getKey).toArray(Rank[]::new);\n        if (ranks.length == 4) {\n            return new Hand(ONE_PAIR, ranks);\n        } else if (ranks.length == 3) {\n            return new Hand(counts.get(ranks[0]) == 2 ? TWO_PAIR : THREE_OF_A_KIND, ranks);\n        } else if (ranks.length == 2) {\n            return new Hand(counts.get(ranks[0]) == 3 ? FULL_HOUSE : FOUR_OF_A_KIND, ranks);\n        } else if (ranks[0].ordinal() - ranks[4].ordinal() == 4) {\n            return new Hand(flush ? STRAIGHT_FLUSH : STRAIGHT, ranks[0]);\n        } else if (ranks[0].equals(ACE) &amp;&amp; ranks[1].equals(FIVE)) { // A-2-3-4-5\n            return new Hand(flush ? STRAIGHT_FLUSH : STRAIGHT, FIVE);\n        } else {\n            return new Hand(flush ? FLUSH : HIGH_CARD, ranks);\n        }\n    }\n\n    @Override\n    public int compareTo(Hand that) { // first compare by category, then compare ranks lexicographically\n        return comparing(Hand::category).thenComparing(Hand::ranks, Arrays::compare).compare(this, that);\n    }\n}\n\nenum Category {HIGH_CARD, ONE_PAIR, TWO_PAIR, THREE_OF_A_KIND, STRAIGHT, FLUSH, FULL_HOUSE, FOUR_OF_A_KIND, STRAIGHT_FLUSH}\n\nenum Rank {TWO, THREE, FOUR, FIVE, SIX, SEVEN, EIGHT, NINE, TEN, JACK, QUEEN, KING, ACE}\n\nenum Suit {DIAMONDS, CLUBS, HEARTS, SPADES}\n\nrecord Card(Rank rank, Suit suit) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1021190,"reputation":166,"user_id":1253362,"display_name":"Chris Moore"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446506870,"creation_date":1446495162,"answer_id":33486015,"question_id":10363927,"body_markdown":"Here&#39;s a modified version of dansalmo&#39;s program which works for holdem hands:\r\n\r\n    def holdem(board, hands):\r\n        scores = [(evaluate((board + &#39; &#39; + hand).split()), i) for i, hand in enumerate(hands)]\r\n        best = max(scores)[0]\r\n        return [x[1] for x in filter(lambda(x): x[0] == best, scores)]\r\n    \r\n    def evaluate(hand):\r\n        ranks = &#39;23456789TJQKA&#39;\r\n        if len(hand) &gt; 5: return max([evaluate(hand[:i] + hand[i+1:]) for i in range(len(hand))])\r\n        score, ranks = zip(*sorted((cnt, rank) for rank, cnt in {ranks.find(r): &#39;&#39;.join(hand).count(r) for r, _ in hand}.items())[::-1])\r\n        if len(score) == 5: # if there are 5 different ranks it could be a straight or a flush (or both)\r\n            if ranks[0:2] == (12, 3): ranks = (3, 2, 1, 0, -1) # adjust if 5 high straight\r\n            score = ([1,(3,1,2)],[(3,1,3),(5,)])[len({suit for _, suit in hand}) == 1][ranks[0] - ranks[4] == 4] # high card, straight, flush, straight flush\r\n        return score, ranks\r\n    \r\n    def test():\r\n        print holdem(&#39;9H TC JC QS KC&#39;, [\r\n            &#39;JS JD&#39;, # 0\r\n            &#39;AD 9C&#39;, # 1 A-straight\r\n            &#39;JD 2C&#39;, # 2\r\n            &#39;AC 8D&#39;, # 3 A-straight\r\n            &#39;QH KH&#39;, # 4\r\n            &#39;TS 9C&#39;, # 5\r\n            &#39;AH 3H&#39;, # 6 A-straight\r\n            &#39;3D 2C&#39;, # 7\r\n          # &#39;8C 2C&#39;, # 8 flush\r\n        ])\r\n    \r\n    test()\r\n\r\nholdem() returns a list of indices of the winning hand(s). In the test() example that&#39;s [1, 3, 6], since the three hands with aces split the pot, or [8] if the flush hand is uncommented.","title":"The simplest algorithm for poker hand evaluation","body":"<p>Here's a modified version of dansalmo's program which works for holdem hands:</p>\n\n<pre><code>def holdem(board, hands):\n    scores = [(evaluate((board + ' ' + hand).split()), i) for i, hand in enumerate(hands)]\n    best = max(scores)[0]\n    return [x[1] for x in filter(lambda(x): x[0] == best, scores)]\n\ndef evaluate(hand):\n    ranks = '23456789TJQKA'\n    if len(hand) &gt; 5: return max([evaluate(hand[:i] + hand[i+1:]) for i in range(len(hand))])\n    score, ranks = zip(*sorted((cnt, rank) for rank, cnt in {ranks.find(r): ''.join(hand).count(r) for r, _ in hand}.items())[::-1])\n    if len(score) == 5: # if there are 5 different ranks it could be a straight or a flush (or both)\n        if ranks[0:2] == (12, 3): ranks = (3, 2, 1, 0, -1) # adjust if 5 high straight\n        score = ([1,(3,1,2)],[(3,1,3),(5,)])[len({suit for _, suit in hand}) == 1][ranks[0] - ranks[4] == 4] # high card, straight, flush, straight flush\n    return score, ranks\n\ndef test():\n    print holdem('9H TC JC QS KC', [\n        'JS JD', # 0\n        'AD 9C', # 1 A-straight\n        'JD 2C', # 2\n        'AC 8D', # 3 A-straight\n        'QH KH', # 4\n        'TS 9C', # 5\n        'AH 3H', # 6 A-straight\n        '3D 2C', # 7\n      # '8C 2C', # 8 flush\n    ])\n\ntest()\n</code></pre>\n\n<p>holdem() returns a list of indices of the winning hand(s). In the test() example that's [1, 3, 6], since the three hands with aces split the pot, or [8] if the flush hand is uncommented.</p>\n"},{"tags":[],"owner":{"account_id":3280642,"reputation":91,"user_id":2761340,"display_name":"Matěj Balga"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1453240669,"creation_date":1448187626,"answer_id":33853718,"question_id":10363927,"body_markdown":"You actually don&#39;t need any advanced functions, it can be all done bitwise: (source: http://www.codeproject.com/Articles/569271/A-Poker-hand-analyzer-in-JavaScript-using-bit-math)\r\n\r\n*(This one is actually written in JavaScript, but you can evaluate JavaScript from Java if needed, so it shouldn&#39;t be a problem. Also, this is as short as it gets, so if even for illustration of the approach...):*\r\n\r\nFirst you split your cards into two arrays: ranks (cs) and suits (ss) and to represent suits, you will use either 1,2,4 or 8 (that is 0b0001, 0b0010,...):\r\n\r\n    var J=11, Q=12, K=13, A=14, C=1, D=2, H=4, S=8;\r\n\r\nNow here&#39;s the magic:\r\n\r\n    function evaluateHand(cs, ss) {\r\n        var pokerHands = [&quot;4 of a Kind&quot;, &quot;Straight Flush&quot;,&quot;Straight&quot;,&quot;Flush&quot;,&quot;High Card&quot;,&quot;1 Pair&quot;,&quot;2 Pair&quot;,&quot;Royal Flush&quot;, &quot;3 of a Kind&quot;,&quot;Full House&quot;];\r\n\r\n        var v,i,o,s = 1 &lt;&lt; cs[0] | 1 &lt;&lt; cs[1] | 1 &lt;&lt; cs[2] | 1 &lt;&lt; cs[3] | 1 &lt;&lt; cs[4];\r\n        for (i = -1, v = o = 0; i &lt; 5; i++, o = Math.pow(2, cs[i] * 4)) {v += o * ((v / o &amp; 15) + 1);}\r\n        v = v % 15 - ((s / (s &amp; -s) == 31) || (s == 0x403c) ? 3 : 1);\r\n        v -= (ss[0] == (ss[1] | ss[2] | ss[3] | ss[4])) * ((s == 0x7c00) ? -5 : 1);\r\n        return pokerHands[v];\r\n    }\r\n\r\nUsage: \r\n\r\n    evaluateHand([A,10,J,K,Q],[C,C,C,C,C]); // Royal Flush\r\n\r\nNow what it does (very briefly) is that it puts 1 into 3rd bit of **s** when there&#39;s a 2, into 4th when there&#39;s 3, etc., so for the above example **s** looks like this:\r\n\r\n**0b111110000000000**\r\n\r\nfor [A,2,3,4,5] it would look like this\r\n\r\n**0b100 0000 0011 1100**\r\n\r\netc.\r\n\r\n**v** uses four bits to record multiple occurencies of same card, so it&#39;s 52bits long and if you have three Aces and two kings, its 8 MSB bits look like:\r\n\r\n**0111 0011 ...** \r\n\r\nThe last line then checks for a flush or straight flush or royal flush (0x7c00).","title":"The simplest algorithm for poker hand evaluation","body":"<p>You actually don't need any advanced functions, it can be all done bitwise: (source: <a href=\"http://www.codeproject.com/Articles/569271/A-Poker-hand-analyzer-in-JavaScript-using-bit-math\" rel=\"noreferrer\">http://www.codeproject.com/Articles/569271/A-Poker-hand-analyzer-in-JavaScript-using-bit-math</a>)</p>\n\n<p><em>(This one is actually written in JavaScript, but you can evaluate JavaScript from Java if needed, so it shouldn't be a problem. Also, this is as short as it gets, so if even for illustration of the approach...):</em></p>\n\n<p>First you split your cards into two arrays: ranks (cs) and suits (ss) and to represent suits, you will use either 1,2,4 or 8 (that is 0b0001, 0b0010,...):</p>\n\n<pre><code>var J=11, Q=12, K=13, A=14, C=1, D=2, H=4, S=8;\n</code></pre>\n\n<p>Now here's the magic:</p>\n\n<pre><code>function evaluateHand(cs, ss) {\n    var pokerHands = [\"4 of a Kind\", \"Straight Flush\",\"Straight\",\"Flush\",\"High Card\",\"1 Pair\",\"2 Pair\",\"Royal Flush\", \"3 of a Kind\",\"Full House\"];\n\n    var v,i,o,s = 1 &lt;&lt; cs[0] | 1 &lt;&lt; cs[1] | 1 &lt;&lt; cs[2] | 1 &lt;&lt; cs[3] | 1 &lt;&lt; cs[4];\n    for (i = -1, v = o = 0; i &lt; 5; i++, o = Math.pow(2, cs[i] * 4)) {v += o * ((v / o &amp; 15) + 1);}\n    v = v % 15 - ((s / (s &amp; -s) == 31) || (s == 0x403c) ? 3 : 1);\n    v -= (ss[0] == (ss[1] | ss[2] | ss[3] | ss[4])) * ((s == 0x7c00) ? -5 : 1);\n    return pokerHands[v];\n}\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>evaluateHand([A,10,J,K,Q],[C,C,C,C,C]); // Royal Flush\n</code></pre>\n\n<p>Now what it does (very briefly) is that it puts 1 into 3rd bit of <strong>s</strong> when there's a 2, into 4th when there's 3, etc., so for the above example <strong>s</strong> looks like this:</p>\n\n<p><strong>0b111110000000000</strong></p>\n\n<p>for [A,2,3,4,5] it would look like this</p>\n\n<p><strong>0b100 0000 0011 1100</strong></p>\n\n<p>etc.</p>\n\n<p><strong>v</strong> uses four bits to record multiple occurencies of same card, so it's 52bits long and if you have three Aces and two kings, its 8 MSB bits look like:</p>\n\n<p><strong>0111 0011 ...</strong> </p>\n\n<p>The last line then checks for a flush or straight flush or royal flush (0x7c00).</p>\n"},{"tags":[],"owner":{"account_id":13771326,"reputation":53,"user_id":9938718,"display_name":"TSRTSR"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1538826304,"creation_date":1538826304,"answer_id":52678712,"question_id":10363927,"body_markdown":"Here is the algorithm translated to **R**, tested with a 6 card deck, corresponding to 42.504 combinations given by the result of:\r\n\r\n\r\n![C65](https://latex.codecogs.com/gif.latex?\\binom{6}{5})\r\n\r\ncombinations of poker hands. Did not tested with 13 card deck due to processing limitations (it would correspond to 2.598.960 combinations).\r\n\r\nThe algorithm represents the **value of a hand by a string**, composed by 2 parts:\r\n\r\n - 5 character with ordered card count (ex. &quot;31100&quot; means three of a kind)\r\n - The card numbers are valued by letters from &#39;B&#39; (Deuce) to &#39;N&#39; (Ace) (ex. &#39;NILH&#39; means Ace, Queen, Nine and Eight). It starts in letter &#39;B&#39; because of the A2345 poker hand where the Ace comes before the &#39;2&#39; which (the Ace) will have the value &#39;A&#39;.\r\n\r\nSo, for example, &quot;32000NB&quot; will be a Full House of three Aces and two Deuce.\r\n\r\nThe poker hand value string is convenient **for comparative and ordering purposes**.\r\n\r\n    library(tidyverse)\r\n    library(gtools)\r\n    \r\n    hand_value &lt;- function(playerhand) {\r\n    \r\n      numbers &lt;- str_split(&quot;23456789TJQKA&quot;, &quot;&quot;)[[1]]\r\n      suits &lt;- str_split(&quot;DCHS&quot;, &quot;&quot;)[[1]]\r\n      \r\n      playerhand &lt;- data.frame(card = playerhand) %&gt;% separate(card, c(&quot;number&quot;, &quot;suit&quot;), sep = 1)\r\n      \r\n      number_values &lt;- data.frame(number = numbers, value = LETTERS[2:14], stringsAsFactors = FALSE)\r\n      \r\n      playerhand_number &lt;- playerhand %&gt;% \r\n        group_by(number) %&gt;% \r\n        count(number) %&gt;%\r\n        inner_join(number_values, by = &quot;number&quot;) %&gt;%\r\n        arrange(desc(n), desc(value))\r\n      \r\n      playerhand_suit &lt;- playerhand %&gt;% \r\n        group_by(suit) %&gt;% \r\n        count(suit) %&gt;%\r\n        arrange(desc(n))\r\n      \r\n      if (nrow(playerhand_number) == 5)\r\n        {\r\n          if (playerhand_number[1,1] == &#39;A&#39; &amp; playerhand_number[2,1] == &#39;5&#39;)\r\n            playerhand_number &lt;- data.frame(playerhand_number[,1:2], value = str_split(&quot;EDCBA&quot;, &quot;&quot;)[[1]], stringsAsFactors = FALSE)\r\n          straight &lt;- asc(playerhand_number[1,3]) - asc(playerhand_number[5,3]) == 4\r\n        } else\r\n          straight = FALSE\r\n      \r\n      flush &lt;- nrow(playerhand_suit) == 1\r\n      \r\n      if (flush)\r\n        {\r\n        if (straight)\r\n          playerhand_number &lt;- data.frame(playerhand_number[,c(1,3)], n = c(5, 0, 0, 0, 0), stringsAsFactors = FALSE) else\r\n          playerhand_number &lt;- data.frame(playerhand_number[,c(1,3)], n = c(3, 1, 1, 2, 0), stringsAsFactors = FALSE)\r\n        } else\r\n        {\r\n        if (straight)\r\n          playerhand_number &lt;- data.frame(playerhand_number[,c(1,3)], n = c(3, 1, 1, 1, 0), stringsAsFactors = FALSE)\r\n        }  \r\n      \r\n      playerhand_value &lt;- append(append(c(playerhand_number$n), rep(&quot;0&quot;, 5 - nrow(playerhand_number))), c(playerhand_number$value))\r\n      playerhand_value &lt;- paste(playerhand_value, collapse = &#39;&#39;)\r\n      \r\n      playerhand_value\r\n    \r\n    }\r\n\r\nTesting the function with the same hands of above example:\r\n\r\n    l &lt;- c(&quot;8C TS KC 9H 4S&quot;, &quot;7D 2S 5D 3S AC&quot;, &quot;8C AD 8D AC 9C&quot;, &#39;7C 5H 8D TD KS&#39;)\r\n    t &lt;- as_tibble(l)\r\n    t &lt;- t %&gt;% mutate(hand = str_split(value, &quot; &quot;)) %&gt;% select(hand)\r\n    t &lt;- t %&gt;% mutate(value = sapply(t[,1]$hand, hand_value)) %&gt;% arrange(desc(value))\r\n    paste(t[[1]][[1]], collapse = &quot; &quot;)\r\n\r\nWhich returns the same result:\r\n\r\n    [1] &quot;8C AD 8D AC 9C&quot;\r\n\r\nHope it helps.","title":"The simplest algorithm for poker hand evaluation","body":"<p>Here is the algorithm translated to <strong>R</strong>, tested with a 6 card deck, corresponding to 42.504 combinations given by the result of:</p>\n\n<p><img src=\"https://latex.codecogs.com/gif.latex?%5Cbinom%7B6%7D%7B5%7D\" alt=\"C65\"></p>\n\n<p>combinations of poker hands. Did not tested with 13 card deck due to processing limitations (it would correspond to 2.598.960 combinations).</p>\n\n<p>The algorithm represents the <strong>value of a hand by a string</strong>, composed by 2 parts:</p>\n\n<ul>\n<li>5 character with ordered card count (ex. \"31100\" means three of a kind)</li>\n<li>The card numbers are valued by letters from 'B' (Deuce) to 'N' (Ace) (ex. 'NILH' means Ace, Queen, Nine and Eight). It starts in letter 'B' because of the A2345 poker hand where the Ace comes before the '2' which (the Ace) will have the value 'A'.</li>\n</ul>\n\n<p>So, for example, \"32000NB\" will be a Full House of three Aces and two Deuce.</p>\n\n<p>The poker hand value string is convenient <strong>for comparative and ordering purposes</strong>.</p>\n\n<pre><code>library(tidyverse)\nlibrary(gtools)\n\nhand_value &lt;- function(playerhand) {\n\n  numbers &lt;- str_split(\"23456789TJQKA\", \"\")[[1]]\n  suits &lt;- str_split(\"DCHS\", \"\")[[1]]\n\n  playerhand &lt;- data.frame(card = playerhand) %&gt;% separate(card, c(\"number\", \"suit\"), sep = 1)\n\n  number_values &lt;- data.frame(number = numbers, value = LETTERS[2:14], stringsAsFactors = FALSE)\n\n  playerhand_number &lt;- playerhand %&gt;% \n    group_by(number) %&gt;% \n    count(number) %&gt;%\n    inner_join(number_values, by = \"number\") %&gt;%\n    arrange(desc(n), desc(value))\n\n  playerhand_suit &lt;- playerhand %&gt;% \n    group_by(suit) %&gt;% \n    count(suit) %&gt;%\n    arrange(desc(n))\n\n  if (nrow(playerhand_number) == 5)\n    {\n      if (playerhand_number[1,1] == 'A' &amp; playerhand_number[2,1] == '5')\n        playerhand_number &lt;- data.frame(playerhand_number[,1:2], value = str_split(\"EDCBA\", \"\")[[1]], stringsAsFactors = FALSE)\n      straight &lt;- asc(playerhand_number[1,3]) - asc(playerhand_number[5,3]) == 4\n    } else\n      straight = FALSE\n\n  flush &lt;- nrow(playerhand_suit) == 1\n\n  if (flush)\n    {\n    if (straight)\n      playerhand_number &lt;- data.frame(playerhand_number[,c(1,3)], n = c(5, 0, 0, 0, 0), stringsAsFactors = FALSE) else\n      playerhand_number &lt;- data.frame(playerhand_number[,c(1,3)], n = c(3, 1, 1, 2, 0), stringsAsFactors = FALSE)\n    } else\n    {\n    if (straight)\n      playerhand_number &lt;- data.frame(playerhand_number[,c(1,3)], n = c(3, 1, 1, 1, 0), stringsAsFactors = FALSE)\n    }  \n\n  playerhand_value &lt;- append(append(c(playerhand_number$n), rep(\"0\", 5 - nrow(playerhand_number))), c(playerhand_number$value))\n  playerhand_value &lt;- paste(playerhand_value, collapse = '')\n\n  playerhand_value\n\n}\n</code></pre>\n\n<p>Testing the function with the same hands of above example:</p>\n\n<pre><code>l &lt;- c(\"8C TS KC 9H 4S\", \"7D 2S 5D 3S AC\", \"8C AD 8D AC 9C\", '7C 5H 8D TD KS')\nt &lt;- as_tibble(l)\nt &lt;- t %&gt;% mutate(hand = str_split(value, \" \")) %&gt;% select(hand)\nt &lt;- t %&gt;% mutate(value = sapply(t[,1]$hand, hand_value)) %&gt;% arrange(desc(value))\npaste(t[[1]][[1]], collapse = \" \")\n</code></pre>\n\n<p>Which returns the same result:</p>\n\n<pre><code>[1] \"8C AD 8D AC 9C\"\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":174683,"reputation":28348,"user_id":404201,"accept_rate":90,"display_name":"Jasper Blues"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544684057,"creation_date":1544684057,"answer_id":53756470,"question_id":10363927,"body_markdown":"Here&#39;s a simple rule-based implementation in Kotlin: \r\n\r\n    class PokerHand constructor(hand: String) : Comparable&lt;PokerHand&gt; {\r\n\r\n    companion object {\r\n        const val WIN = 1\r\n        const val TIE = 0\r\n        const val LOSS = -1\r\n    }\r\n\r\n    val cards: List&lt;Card&gt;\r\n\r\n    val isStraightFlush: Boolean\r\n        get() = isStraight &amp;&amp; isFlush\r\n\r\n    val isFourOfAKind: Boolean\r\n        get() = cards.groupBy { it.weight }.map { it.value }.any { it.size == 4 }\r\n\r\n    val isFullHouse: Boolean\r\n        get() = cards.groupBy { it.weight }.map { it.value }.size == 2\r\n\r\n    val isFlush: Boolean\r\n        get() = cards.groupBy { it.suit }.map { it.value }.size == 1\r\n\r\n    val isStraight: Boolean\r\n        get() = cards.map { it.weight.ordinal } == (cards[0].weight.ordinal..cards[0].weight.ordinal + 4).toList()\r\n\r\n    val isThreeOfAKind: Boolean\r\n        get() = cards.groupBy { it.weight }.map { it.value }.any { it.size == 3 }\r\n\r\n    val isTwoPair: Boolean\r\n        get() = cards.groupBy { it.weight }.map { it.value }.filter { it.size == 2 }.count() == 2\r\n\r\n    val isPair: Boolean\r\n        get() = cards.groupBy { it.weight }.map { it.value }.any { it.size == 2 }\r\n\r\n    init {\r\n        val cards = ArrayList&lt;Card&gt;()\r\n        hand.split(&quot; &quot;).forEach {\r\n            when (it.length != 2) {\r\n                true -&gt; throw RuntimeException(&quot;A card code must be two characters&quot;)\r\n                else -&gt; cards += Card(Weight.forCode(it[0]), Suit.forCode(it[1]))\r\n            }\r\n        }\r\n        if (cards.size != 5) {\r\n            throw RuntimeException(&quot;There must be five cards in a hand&quot;)\r\n        }\r\n        this.cards = cards.sortedBy { it.weight.ordinal }\r\n    }\r\n\r\n    override fun compareTo(other: PokerHand): Int = when {\r\n        (this.isStraightFlush || other.isStraightFlush) -&gt;\r\n            if (this.isStraightFlush) if (other.isStraightFlush) compareByHighCard(other) else WIN else LOSS\r\n        (this.isFourOfAKind || other.isFourOfAKind) -&gt;\r\n            if (this.isFourOfAKind) if (other.isFourOfAKind) compareByHighCard(other) else WIN else LOSS\r\n        (this.isFullHouse || other.isFullHouse) -&gt;\r\n            if (this.isFullHouse) if (other.isFullHouse) compareByHighCard(other) else WIN else LOSS\r\n        (this.isFlush || other.isFlush) -&gt;\r\n            if (this.isFlush) if (other.isFlush) compareByHighCard(other) else WIN else LOSS\r\n        (this.isStraight || other.isStraight) -&gt;\r\n            if (this.isStraight) if (other.isStraight) compareByHighCard(other) else WIN else LOSS\r\n        (this.isThreeOfAKind || other.isThreeOfAKind) -&gt;\r\n            if (this.isThreeOfAKind) if (other.isThreeOfAKind) compareByHighCard(other) else WIN else LOSS\r\n        (this.isTwoPair || other.isTwoPair) -&gt;\r\n            if (this.isTwoPair) if (other.isTwoPair) compareByHighCard(other) else WIN else LOSS\r\n        (this.isPair || other.isPair) -&gt;\r\n            if (this.isPair) if (other.isPair) compareByHighCard(other) else WIN else LOSS\r\n        else -&gt; compareByHighCard(other)\r\n    }\r\n\r\n    private fun compareByHighCard(other: PokerHand, index: Int = 4): Int = when {\r\n        (index &lt; 0) -&gt; TIE\r\n        cards[index].weight === other.cards[index].weight -&gt; compareByHighCard(other, index - 1)\r\n        cards[index].weight.ordinal &gt; other.cards[index].weight.ordinal -&gt; WIN\r\n        else -&gt; LOSS\r\n    }\r\n\r\n}\r\n\r\nImplementation details: \r\n\r\n- Instantiate with a coded hand, eg `2H 3H 4H 5H 6H`\r\n- Methods to evaluate whether the hand is a &#39;Straight Flush&#39;, &#39;Four of a Kind&#39;, &#39;Full House&#39; etc. These are easy to express in Kotlin. \r\n- Implements `Comparable&lt;PokerHand&gt;` to evaluate against another hand using a simple rules approach, eg a straight flush beats four of a kind, which beats a full house, and so forth. \r\n\r\nThe sources [are here][1]. \r\n\r\n\r\n  [1]: https://github.com/jasperblues/kotlin-poker","title":"The simplest algorithm for poker hand evaluation","body":"<p>Here's a simple rule-based implementation in Kotlin: </p>\n\n<pre><code>class PokerHand constructor(hand: String) : Comparable&lt;PokerHand&gt; {\n\ncompanion object {\n    const val WIN = 1\n    const val TIE = 0\n    const val LOSS = -1\n}\n\nval cards: List&lt;Card&gt;\n\nval isStraightFlush: Boolean\n    get() = isStraight &amp;&amp; isFlush\n\nval isFourOfAKind: Boolean\n    get() = cards.groupBy { it.weight }.map { it.value }.any { it.size == 4 }\n\nval isFullHouse: Boolean\n    get() = cards.groupBy { it.weight }.map { it.value }.size == 2\n\nval isFlush: Boolean\n    get() = cards.groupBy { it.suit }.map { it.value }.size == 1\n\nval isStraight: Boolean\n    get() = cards.map { it.weight.ordinal } == (cards[0].weight.ordinal..cards[0].weight.ordinal + 4).toList()\n\nval isThreeOfAKind: Boolean\n    get() = cards.groupBy { it.weight }.map { it.value }.any { it.size == 3 }\n\nval isTwoPair: Boolean\n    get() = cards.groupBy { it.weight }.map { it.value }.filter { it.size == 2 }.count() == 2\n\nval isPair: Boolean\n    get() = cards.groupBy { it.weight }.map { it.value }.any { it.size == 2 }\n\ninit {\n    val cards = ArrayList&lt;Card&gt;()\n    hand.split(\" \").forEach {\n        when (it.length != 2) {\n            true -&gt; throw RuntimeException(\"A card code must be two characters\")\n            else -&gt; cards += Card(Weight.forCode(it[0]), Suit.forCode(it[1]))\n        }\n    }\n    if (cards.size != 5) {\n        throw RuntimeException(\"There must be five cards in a hand\")\n    }\n    this.cards = cards.sortedBy { it.weight.ordinal }\n}\n\noverride fun compareTo(other: PokerHand): Int = when {\n    (this.isStraightFlush || other.isStraightFlush) -&gt;\n        if (this.isStraightFlush) if (other.isStraightFlush) compareByHighCard(other) else WIN else LOSS\n    (this.isFourOfAKind || other.isFourOfAKind) -&gt;\n        if (this.isFourOfAKind) if (other.isFourOfAKind) compareByHighCard(other) else WIN else LOSS\n    (this.isFullHouse || other.isFullHouse) -&gt;\n        if (this.isFullHouse) if (other.isFullHouse) compareByHighCard(other) else WIN else LOSS\n    (this.isFlush || other.isFlush) -&gt;\n        if (this.isFlush) if (other.isFlush) compareByHighCard(other) else WIN else LOSS\n    (this.isStraight || other.isStraight) -&gt;\n        if (this.isStraight) if (other.isStraight) compareByHighCard(other) else WIN else LOSS\n    (this.isThreeOfAKind || other.isThreeOfAKind) -&gt;\n        if (this.isThreeOfAKind) if (other.isThreeOfAKind) compareByHighCard(other) else WIN else LOSS\n    (this.isTwoPair || other.isTwoPair) -&gt;\n        if (this.isTwoPair) if (other.isTwoPair) compareByHighCard(other) else WIN else LOSS\n    (this.isPair || other.isPair) -&gt;\n        if (this.isPair) if (other.isPair) compareByHighCard(other) else WIN else LOSS\n    else -&gt; compareByHighCard(other)\n}\n\nprivate fun compareByHighCard(other: PokerHand, index: Int = 4): Int = when {\n    (index &lt; 0) -&gt; TIE\n    cards[index].weight === other.cards[index].weight -&gt; compareByHighCard(other, index - 1)\n    cards[index].weight.ordinal &gt; other.cards[index].weight.ordinal -&gt; WIN\n    else -&gt; LOSS\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Implementation details: </p>\n\n<ul>\n<li>Instantiate with a coded hand, eg <code>2H 3H 4H 5H 6H</code></li>\n<li>Methods to evaluate whether the hand is a 'Straight Flush', 'Four of a Kind', 'Full House' etc. These are easy to express in Kotlin. </li>\n<li>Implements <code>Comparable&lt;PokerHand&gt;</code> to evaluate against another hand using a simple rules approach, eg a straight flush beats four of a kind, which beats a full house, and so forth. </li>\n</ul>\n\n<p>The sources <a href=\"https://github.com/jasperblues/kotlin-poker\" rel=\"nofollow noreferrer\">are here</a>. </p>\n"},{"tags":[],"owner":{"account_id":17719538,"reputation":39,"user_id":12864945,"display_name":"Barry Wood"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581243497,"creation_date":1581243497,"answer_id":60135539,"question_id":10363927,"body_markdown":"I have written a poker hand evaluator in both C++ and Javascript. Basically the program would convert a randomly picked set of cards to a 3d array of 1s and 0s. By converting the cards into this format I was then able to write functions that would test for each type of hand starting from the highest.\r\n\r\nSo in recap, my program would generate random cards, convert them into a 3D array of hearts, diamonds, spades and clubs, where 1 represented one of the cards I had. I would then test the 3D array to see if I had a Royal Flush, Then Straight Flush, Then 4 of a Kind until a match was detected. Once a match was detected say after testing for a flush, then my program wouldn&#39;t have to test for straight, 3 of a kind, etc as a flush beats a straight. \r\n\r\nBelow is outputted data from my program:\r\n\r\n**My random cards:**\r\n\r\n    Table Cards\r\n    { Value: &#39;9&#39;, Suit: &#39;H&#39; }\r\n    { Value: &#39;A&#39;, Suit: &#39;H&#39; }\r\n    { Value: &#39;9&#39;, Suit: &#39;D&#39; }\r\n    { Value: &#39;7&#39;, Suit: &#39;S&#39; }\r\n    { Value: &#39;6&#39;, Suit: &#39;S&#39; }\r\n\r\n**3D array representing my cards:**\r\n\r\n     A  2  3  4  5  6  7  8  9  10 J  Q  K  A\r\n\r\n    Spades\r\n    [ 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0 ]\r\n    Diamonds\r\n    [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 ]\r\n    Clubs\r\n    [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]\r\n    Hearts\r\n    [ 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ]\r\n\r\nUsing the values above I can tell that I have a pair 9s with an A, 7, 6 kicker.\r\n\r\nYou can see the array includes Aces twice. This is because you want to test for a straight flush starting from A. So (A,2,3,4,5). \r\n\r\nIf you wanted to test for 7 cards instead of 5 you could also use this system. You can include the users 2 cards with the 5 on the table and run it through my system. You can also do the same for other players at the table and compare the results.\r\n\r\nI hope this helps a little.\r\n\r\n","title":"The simplest algorithm for poker hand evaluation","body":"<p>I have written a poker hand evaluator in both C++ and Javascript. Basically the program would convert a randomly picked set of cards to a 3d array of 1s and 0s. By converting the cards into this format I was then able to write functions that would test for each type of hand starting from the highest.</p>\n\n<p>So in recap, my program would generate random cards, convert them into a 3D array of hearts, diamonds, spades and clubs, where 1 represented one of the cards I had. I would then test the 3D array to see if I had a Royal Flush, Then Straight Flush, Then 4 of a Kind until a match was detected. Once a match was detected say after testing for a flush, then my program wouldn't have to test for straight, 3 of a kind, etc as a flush beats a straight. </p>\n\n<p>Below is outputted data from my program:</p>\n\n<p><strong>My random cards:</strong></p>\n\n<pre><code>Table Cards\n{ Value: '9', Suit: 'H' }\n{ Value: 'A', Suit: 'H' }\n{ Value: '9', Suit: 'D' }\n{ Value: '7', Suit: 'S' }\n{ Value: '6', Suit: 'S' }\n</code></pre>\n\n<p><strong>3D array representing my cards:</strong></p>\n\n<pre><code> A  2  3  4  5  6  7  8  9  10 J  Q  K  A\n\nSpades\n[ 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0 ]\nDiamonds\n[ 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 ]\nClubs\n[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]\nHearts\n[ 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ]\n</code></pre>\n\n<p>Using the values above I can tell that I have a pair 9s with an A, 7, 6 kicker.</p>\n\n<p>You can see the array includes Aces twice. This is because you want to test for a straight flush starting from A. So (A,2,3,4,5). </p>\n\n<p>If you wanted to test for 7 cards instead of 5 you could also use this system. You can include the users 2 cards with the 5 on the table and run it through my system. You can also do the same for other players at the table and compare the results.</p>\n\n<p>I hope this helps a little.</p>\n"},{"tags":[],"owner":{"account_id":12857990,"reputation":111,"user_id":9300742,"display_name":"Etienne D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583357426,"creation_date":1583357426,"answer_id":60534997,"question_id":10363927,"body_markdown":"Python 3 version\r\n\r\n    def poker(hands):\r\n        scores = [(i, score(hand.split())) for i, hand in enumerate(hands)]\r\n        winner = sorted(scores , key=lambda x:x[1])[-1][0]\r\n        return hands[winner]\r\n    \r\n    def score(hand):\r\n        ranks = &#39;23456789TJQKA&#39;\r\n        rcounts = {ranks.find(r): &#39;&#39;.join(hand).count(r) for r, _ in hand}.items()\r\n        score, ranks = zip(*sorted((cnt, rank) for rank, cnt in rcounts)[::-1])\r\n        if len(score) == 5:\r\n            if ranks[0:2] == (12, 3): #adjust if 5 high straight\r\n                ranks = (3, 2, 1, 0, -1)\r\n            straight = ranks[0] - ranks[4] == 4\r\n            flush = len({suit for _, suit in hand}) == 1\r\n            &#39;&#39;&#39;no pair, straight, flush, or straight flush&#39;&#39;&#39;\r\n            score = ([(1,), (3,1,1,1)], [(3,1,1,2), (5,)])[flush][straight]\r\n        return score, ranks\r\n    \r\n     &gt;&gt;&gt; poker([&#39;8C TS KC 9H 4S&#39;, &#39;7D 2S 5D 3S AC&#39;, &#39;8C AD 8D AC 9C&#39;, &#39;7C 5H 8D TD KS&#39;])\r\n     &#39;8C AD 8D AC 9C&#39;\r\n\r\nBasically have to replace 1 by (1,) to avoid the int to tuple comparison error.","title":"The simplest algorithm for poker hand evaluation","body":"<p>Python 3 version</p>\n\n<pre><code>def poker(hands):\n    scores = [(i, score(hand.split())) for i, hand in enumerate(hands)]\n    winner = sorted(scores , key=lambda x:x[1])[-1][0]\n    return hands[winner]\n\ndef score(hand):\n    ranks = '23456789TJQKA'\n    rcounts = {ranks.find(r): ''.join(hand).count(r) for r, _ in hand}.items()\n    score, ranks = zip(*sorted((cnt, rank) for rank, cnt in rcounts)[::-1])\n    if len(score) == 5:\n        if ranks[0:2] == (12, 3): #adjust if 5 high straight\n            ranks = (3, 2, 1, 0, -1)\n        straight = ranks[0] - ranks[4] == 4\n        flush = len({suit for _, suit in hand}) == 1\n        '''no pair, straight, flush, or straight flush'''\n        score = ([(1,), (3,1,1,1)], [(3,1,1,2), (5,)])[flush][straight]\n    return score, ranks\n\n &gt;&gt;&gt; poker(['8C TS KC 9H 4S', '7D 2S 5D 3S AC', '8C AD 8D AC 9C', '7C 5H 8D TD KS'])\n '8C AD 8D AC 9C'\n</code></pre>\n\n<p>Basically have to replace 1 by (1,) to avoid the int to tuple comparison error.</p>\n"},{"tags":[],"owner":{"account_id":3827039,"reputation":123,"user_id":3173645,"display_name":"rcarubbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586860748,"creation_date":1586860748,"answer_id":61205739,"question_id":10363927,"body_markdown":"     public class Line\r\n    {\r\n        private List&lt;Card&gt; _cardsToAnalyse;\r\n\r\n        public Line()\r\n        {\r\n            Cards = new List&lt;Card&gt;(5);\r\n        }\r\n\r\n        public List&lt;Card&gt; Cards { get; }\r\n\r\n\r\n        public string PriceName { get; private set; }\r\n\r\n\r\n        public int Result()\r\n        {\r\n            _cardsToAnalyse = Cards;\r\n            var valueComparer = new CardValueComparer();\r\n\r\n\r\n            _cardsToAnalyse.Sort(valueComparer);\r\n\r\n            if (ContainsStraightFlush(_cardsToAnalyse))\r\n            {\r\n                PriceName = &quot;Straight Flush&quot;;\r\n                return PayTable.StraightFlush;\r\n            }\r\n\r\n            if (ContainsFourOfAKind(_cardsToAnalyse))\r\n            {\r\n                PriceName = &quot;Quadra&quot;;\r\n                return PayTable.FourOfAKind;\r\n            }\r\n\r\n            if (ContainsStraight(_cardsToAnalyse))\r\n            {\r\n                PriceName = &quot;Straight&quot;;\r\n                return PayTable.Straight;\r\n            }\r\n\r\n            if (ContainsFullen(_cardsToAnalyse))\r\n            {\r\n                PriceName = &quot;Full House&quot;;\r\n                return PayTable.Fullen;\r\n            }\r\n\r\n            if (ContainsFlush(_cardsToAnalyse))\r\n            {\r\n                PriceName = &quot;Flush&quot;;\r\n                return PayTable.Flush;\r\n            }\r\n\r\n            if (ContainsThreeOfAKind(_cardsToAnalyse))\r\n            {\r\n                PriceName = &quot;Trinca&quot;;\r\n                return PayTable.ThreeOfAKind;\r\n            }\r\n\r\n            if (ContainsTwoPairs(_cardsToAnalyse))\r\n            {\r\n                PriceName = &quot;Dois Pares&quot;;\r\n                return PayTable.TwoPairs;\r\n            }\r\n\r\n            if (ContainsPair(_cardsToAnalyse))\r\n            {\r\n                PriceName = &quot;Um Par&quot;;\r\n                return PayTable.Pair;\r\n            }\r\n\r\n            return 0;\r\n        }\r\n\r\n        private bool ContainsFullen(List&lt;Card&gt; _cardsToAnalyse)\r\n        {\r\n            var valueOfThree = 0;\r\n\r\n            // Search for 3 of a kind\r\n            Card previousCard1 = null;\r\n            Card previousCard2 = null;\r\n\r\n            foreach (var c in Cards)\r\n            {\r\n                if (previousCard1 != null &amp;&amp; previousCard2 != null)\r\n                    if (c.Value == previousCard1.Value &amp;&amp; c.Value == previousCard2.Value)\r\n                        valueOfThree = c.Value;\r\n                previousCard2 = previousCard1;\r\n                previousCard1 = c;\r\n            }\r\n\r\n            if (valueOfThree &gt; 0)\r\n            {\r\n                Card previousCard = null;\r\n\r\n                foreach (var c in Cards)\r\n                {\r\n                    if (previousCard != null)\r\n                        if (c.Value == previousCard.Value)\r\n                            if (c.Value != valueOfThree)\r\n                                return true;\r\n                    previousCard = c;\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        private bool ContainsPair(List&lt;Card&gt; Cards)\r\n        {\r\n            Card previousCard = null;\r\n\r\n            foreach (var c in Cards)\r\n            {\r\n                if (previousCard != null)\r\n                    if (c.Value == previousCard.Value)\r\n                        return true;\r\n                previousCard = c;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        private bool ContainsTwoPairs(List&lt;Card&gt; Cards)\r\n        {\r\n            Card previousCard = null;\r\n            var countPairs = 0;\r\n            foreach (var c in Cards)\r\n            {\r\n                if (previousCard != null)\r\n                    if (c.Value == previousCard.Value)\r\n                        countPairs++;\r\n                previousCard = c;\r\n            }\r\n\r\n            if (countPairs == 2)\r\n                return true;\r\n\r\n            return false;\r\n        }\r\n\r\n        private bool ContainsThreeOfAKind(List&lt;Card&gt; Cards)\r\n        {\r\n            Card previousCard1 = null;\r\n            Card previousCard2 = null;\r\n\r\n            foreach (var c in Cards)\r\n            {\r\n                if (previousCard1 != null &amp;&amp; previousCard2 != null)\r\n                    if (c.Value == previousCard1.Value &amp;&amp; c.Value == previousCard2.Value)\r\n                        return true;\r\n                previousCard2 = previousCard1;\r\n                previousCard1 = c;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        private bool ContainsFlush(List&lt;Card&gt; Cards)\r\n        {\r\n            return Cards[0].Naipe == Cards[1].Naipe &amp;&amp;\r\n                   Cards[0].Naipe == Cards[2].Naipe &amp;&amp;\r\n                   Cards[0].Naipe == Cards[3].Naipe &amp;&amp;\r\n                   Cards[0].Naipe == Cards[4].Naipe;\r\n        }\r\n\r\n        private bool ContainsStraight(List&lt;Card&gt; Cards)\r\n        {\r\n            return Cards[0].Value + 1 == Cards[1].Value &amp;&amp;\r\n                   Cards[1].Value + 1 == Cards[2].Value &amp;&amp;\r\n                   Cards[2].Value + 1 == Cards[3].Value &amp;&amp;\r\n                   Cards[3].Value + 1 == Cards[4].Value\r\n                   ||\r\n                   Cards[1].Value + 1 == Cards[2].Value &amp;&amp;\r\n                   Cards[2].Value + 1 == Cards[3].Value &amp;&amp;\r\n                   Cards[3].Value + 1 == Cards[4].Value &amp;&amp;\r\n                   Cards[4].Value == 13 &amp;&amp; Cards[0].Value == 1;\r\n        }\r\n\r\n        private bool ContainsFourOfAKind(List&lt;Card&gt; Cards)\r\n        {\r\n            Card previousCard1 = null;\r\n            Card previousCard2 = null;\r\n            Card previousCard3 = null;\r\n\r\n            foreach (var c in Cards)\r\n            {\r\n                if (previousCard1 != null &amp;&amp; previousCard2 != null &amp;&amp; previousCard3 != null)\r\n                    if (c.Value == previousCard1.Value &amp;&amp;\r\n                        c.Value == previousCard2.Value &amp;&amp;\r\n                        c.Value == previousCard3.Value)\r\n                        return true;\r\n                previousCard3 = previousCard2;\r\n                previousCard2 = previousCard1;\r\n                previousCard1 = c;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        private bool ContainsStraightFlush(List&lt;Card&gt; Cards)\r\n        {\r\n            return ContainsFlush(Cards) &amp;&amp; ContainsStraight(Cards);\r\n        }\r\n    }","title":"The simplest algorithm for poker hand evaluation","body":"<pre><code> public class Line\n{\n    private List&lt;Card&gt; _cardsToAnalyse;\n\n    public Line()\n    {\n        Cards = new List&lt;Card&gt;(5);\n    }\n\n    public List&lt;Card&gt; Cards { get; }\n\n\n    public string PriceName { get; private set; }\n\n\n    public int Result()\n    {\n        _cardsToAnalyse = Cards;\n        var valueComparer = new CardValueComparer();\n\n\n        _cardsToAnalyse.Sort(valueComparer);\n\n        if (ContainsStraightFlush(_cardsToAnalyse))\n        {\n            PriceName = \"Straight Flush\";\n            return PayTable.StraightFlush;\n        }\n\n        if (ContainsFourOfAKind(_cardsToAnalyse))\n        {\n            PriceName = \"Quadra\";\n            return PayTable.FourOfAKind;\n        }\n\n        if (ContainsStraight(_cardsToAnalyse))\n        {\n            PriceName = \"Straight\";\n            return PayTable.Straight;\n        }\n\n        if (ContainsFullen(_cardsToAnalyse))\n        {\n            PriceName = \"Full House\";\n            return PayTable.Fullen;\n        }\n\n        if (ContainsFlush(_cardsToAnalyse))\n        {\n            PriceName = \"Flush\";\n            return PayTable.Flush;\n        }\n\n        if (ContainsThreeOfAKind(_cardsToAnalyse))\n        {\n            PriceName = \"Trinca\";\n            return PayTable.ThreeOfAKind;\n        }\n\n        if (ContainsTwoPairs(_cardsToAnalyse))\n        {\n            PriceName = \"Dois Pares\";\n            return PayTable.TwoPairs;\n        }\n\n        if (ContainsPair(_cardsToAnalyse))\n        {\n            PriceName = \"Um Par\";\n            return PayTable.Pair;\n        }\n\n        return 0;\n    }\n\n    private bool ContainsFullen(List&lt;Card&gt; _cardsToAnalyse)\n    {\n        var valueOfThree = 0;\n\n        // Search for 3 of a kind\n        Card previousCard1 = null;\n        Card previousCard2 = null;\n\n        foreach (var c in Cards)\n        {\n            if (previousCard1 != null &amp;&amp; previousCard2 != null)\n                if (c.Value == previousCard1.Value &amp;&amp; c.Value == previousCard2.Value)\n                    valueOfThree = c.Value;\n            previousCard2 = previousCard1;\n            previousCard1 = c;\n        }\n\n        if (valueOfThree &gt; 0)\n        {\n            Card previousCard = null;\n\n            foreach (var c in Cards)\n            {\n                if (previousCard != null)\n                    if (c.Value == previousCard.Value)\n                        if (c.Value != valueOfThree)\n                            return true;\n                previousCard = c;\n            }\n\n            return false;\n        }\n\n        return false;\n    }\n\n    private bool ContainsPair(List&lt;Card&gt; Cards)\n    {\n        Card previousCard = null;\n\n        foreach (var c in Cards)\n        {\n            if (previousCard != null)\n                if (c.Value == previousCard.Value)\n                    return true;\n            previousCard = c;\n        }\n\n        return false;\n    }\n\n    private bool ContainsTwoPairs(List&lt;Card&gt; Cards)\n    {\n        Card previousCard = null;\n        var countPairs = 0;\n        foreach (var c in Cards)\n        {\n            if (previousCard != null)\n                if (c.Value == previousCard.Value)\n                    countPairs++;\n            previousCard = c;\n        }\n\n        if (countPairs == 2)\n            return true;\n\n        return false;\n    }\n\n    private bool ContainsThreeOfAKind(List&lt;Card&gt; Cards)\n    {\n        Card previousCard1 = null;\n        Card previousCard2 = null;\n\n        foreach (var c in Cards)\n        {\n            if (previousCard1 != null &amp;&amp; previousCard2 != null)\n                if (c.Value == previousCard1.Value &amp;&amp; c.Value == previousCard2.Value)\n                    return true;\n            previousCard2 = previousCard1;\n            previousCard1 = c;\n        }\n\n        return false;\n    }\n\n    private bool ContainsFlush(List&lt;Card&gt; Cards)\n    {\n        return Cards[0].Naipe == Cards[1].Naipe &amp;&amp;\n               Cards[0].Naipe == Cards[2].Naipe &amp;&amp;\n               Cards[0].Naipe == Cards[3].Naipe &amp;&amp;\n               Cards[0].Naipe == Cards[4].Naipe;\n    }\n\n    private bool ContainsStraight(List&lt;Card&gt; Cards)\n    {\n        return Cards[0].Value + 1 == Cards[1].Value &amp;&amp;\n               Cards[1].Value + 1 == Cards[2].Value &amp;&amp;\n               Cards[2].Value + 1 == Cards[3].Value &amp;&amp;\n               Cards[3].Value + 1 == Cards[4].Value\n               ||\n               Cards[1].Value + 1 == Cards[2].Value &amp;&amp;\n               Cards[2].Value + 1 == Cards[3].Value &amp;&amp;\n               Cards[3].Value + 1 == Cards[4].Value &amp;&amp;\n               Cards[4].Value == 13 &amp;&amp; Cards[0].Value == 1;\n    }\n\n    private bool ContainsFourOfAKind(List&lt;Card&gt; Cards)\n    {\n        Card previousCard1 = null;\n        Card previousCard2 = null;\n        Card previousCard3 = null;\n\n        foreach (var c in Cards)\n        {\n            if (previousCard1 != null &amp;&amp; previousCard2 != null &amp;&amp; previousCard3 != null)\n                if (c.Value == previousCard1.Value &amp;&amp;\n                    c.Value == previousCard2.Value &amp;&amp;\n                    c.Value == previousCard3.Value)\n                    return true;\n            previousCard3 = previousCard2;\n            previousCard2 = previousCard1;\n            previousCard1 = c;\n        }\n\n        return false;\n    }\n\n    private bool ContainsStraightFlush(List&lt;Card&gt; Cards)\n    {\n        return ContainsFlush(Cards) &amp;&amp; ContainsStraight(Cards);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18759046,"reputation":157,"user_id":13678395,"display_name":"Theofrastos Mantadelis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671282117,"creation_date":1671282117,"answer_id":74834280,"question_id":10363927,"body_markdown":"as the question was for Java and the answer was for Python I thought of posting a newer asnwer in Java. My target is the function to be easy to understand.\r\n\r\n    The Evaluator will score:\r\n    Royal flush - 10000\r\n    Straight flush - 9000 + highest card\r\n    Four of a kind - 8000 + card\r\n    Full house - 7000 + card\r\n    ----- Here we have a smal gap\r\n    Flush - 5000 + highest card\r\n    Straight - 4000 + highest card\r\n    Three of a kind - 3000 + card\r\n    Two pair - 2000 + 13*card1 + card2 (card1 &gt; card2)\r\n    Pair - 1000 + card\r\n\r\nhigh card is not scored! (If you tie on a high card you need to keep checking for the next card etc...) If you want to encode that in your evaluator you would really need bitcode and the program would be less understandable. Fortunately enough, it is easy to check high card on **two sorted hands** so you first check score. If score is equal you check high card to break the tie ;-)\r\n\r\nWith no further due here is the code (works with sorted hands):\r\n\r\n    public static int scoreHand(int[] hand) {\r\n        return scoreSeries(hand) + scoreKinds(hand);\r\n    }\r\n    public static int scoreStraight(int[] hand) {\r\n        for(int i = 1; i &lt; hand.length; i++) {\r\n            if ((hand[i] % 100 + 1) != (hand[i - 1] % 100)) return 0;\r\n        }\r\n        return 4000;\r\n    }\r\n    public static int scoreFlush(int[] hand) {\r\n        for(int i = 1; i &lt; hand.length; i++) {\r\n            if ((hand[i] / 100) != (hand[i - 1] / 100)) return 0;\r\n        }\r\n        return 5000;\r\n    }\r\n    public static int scoreSeries(int[] hand) {\r\n        int score = scoreFlush(hand) + scoreStraight(hand);\r\n        if (hand[0] % 100 == 12 &amp;&amp; score == 9000)\r\n            return 10000;\r\n        if (score &gt; 0) return score + hand[0] % 100;\r\n        return 0;\r\n    }\r\n\r\n    public static int scoreKinds(int[] hand) {\r\n        int[] counts = new int[13], highCards = new int[2];\r\n        int max = 1, twoSets = 0;\r\n        for(int i = 0; i &lt; hand.length; i++) {\r\n            counts[hand[i] % 100]++;\r\n            if (max &gt; 1 &amp;&amp; counts[hand[i] % 100] == 2) {\r\n                twoSets = 1;\r\n                highCards[1] = hand[i] % 100;\r\n            }\r\n            if (max &lt; counts[hand[i] % 100]) {\r\n                max = counts[hand[i] % 100];\r\n                highCards[0] = hand[i] % 100;\r\n            }\r\n        }\r\n        if (max == 1) return 0;\r\n        int score = (max * 2 + twoSets) * 1000;\r\n        if (score &lt; 7000) score -= 3000;\r\n        if (max == 2 &amp;&amp; twoSets == 1) {\r\n            if (highCards[1] &gt; highCards[0]) swap(highCards, 0, 1);\r\n            score += 13 * highCards[0] + highCards[1];\r\n        } else {\r\n            if (counts[highCards[1]] &gt; counts[highCards[0]]) swap(highCards, 0, 1);\r\n            score += highCards[0];\r\n        }\r\n        return score;\r\n    }\r\n\r\n","title":"The simplest algorithm for poker hand evaluation","body":"<p>as the question was for Java and the answer was for Python I thought of posting a newer asnwer in Java. My target is the function to be easy to understand.</p>\n<pre><code>The Evaluator will score:\nRoyal flush - 10000\nStraight flush - 9000 + highest card\nFour of a kind - 8000 + card\nFull house - 7000 + card\n----- Here we have a smal gap\nFlush - 5000 + highest card\nStraight - 4000 + highest card\nThree of a kind - 3000 + card\nTwo pair - 2000 + 13*card1 + card2 (card1 &gt; card2)\nPair - 1000 + card\n</code></pre>\n<p>high card is not scored! (If you tie on a high card you need to keep checking for the next card etc...) If you want to encode that in your evaluator you would really need bitcode and the program would be less understandable. Fortunately enough, it is easy to check high card on <strong>two sorted hands</strong> so you first check score. If score is equal you check high card to break the tie ;-)</p>\n<p>With no further due here is the code (works with sorted hands):</p>\n<pre><code>public static int scoreHand(int[] hand) {\n    return scoreSeries(hand) + scoreKinds(hand);\n}\npublic static int scoreStraight(int[] hand) {\n    for(int i = 1; i &lt; hand.length; i++) {\n        if ((hand[i] % 100 + 1) != (hand[i - 1] % 100)) return 0;\n    }\n    return 4000;\n}\npublic static int scoreFlush(int[] hand) {\n    for(int i = 1; i &lt; hand.length; i++) {\n        if ((hand[i] / 100) != (hand[i - 1] / 100)) return 0;\n    }\n    return 5000;\n}\npublic static int scoreSeries(int[] hand) {\n    int score = scoreFlush(hand) + scoreStraight(hand);\n    if (hand[0] % 100 == 12 &amp;&amp; score == 9000)\n        return 10000;\n    if (score &gt; 0) return score + hand[0] % 100;\n    return 0;\n}\n\npublic static int scoreKinds(int[] hand) {\n    int[] counts = new int[13], highCards = new int[2];\n    int max = 1, twoSets = 0;\n    for(int i = 0; i &lt; hand.length; i++) {\n        counts[hand[i] % 100]++;\n        if (max &gt; 1 &amp;&amp; counts[hand[i] % 100] == 2) {\n            twoSets = 1;\n            highCards[1] = hand[i] % 100;\n        }\n        if (max &lt; counts[hand[i] % 100]) {\n            max = counts[hand[i] % 100];\n            highCards[0] = hand[i] % 100;\n        }\n    }\n    if (max == 1) return 0;\n    int score = (max * 2 + twoSets) * 1000;\n    if (score &lt; 7000) score -= 3000;\n    if (max == 2 &amp;&amp; twoSets == 1) {\n        if (highCards[1] &gt; highCards[0]) swap(highCards, 0, 1);\n        score += 13 * highCards[0] + highCards[1];\n    } else {\n        if (counts[highCards[1]] &gt; counts[highCards[0]]) swap(highCards, 0, 1);\n        score += highCards[0];\n    }\n    return score;\n}\n</code></pre>\n"}],"owner":{"account_id":246765,"reputation":41329,"user_id":521070,"accept_rate":72,"display_name":"Michael"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89647,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":20715903,"answer_count":13,"score":29,"last_activity_date":1673124662,"creation_date":1335619624,"question_id":10363927,"body_markdown":"I am thinking about poker hand (5 cards) evaluation in `Java`. Now I am looking for simplicity and clarity rather than performance and efficiency. I probably can write a &quot;naive&quot; algorithm but it requires a lot of code. \r\n\r\nI saw also a few poker evaluation libraries, which use hashing and bitwise operations, but they look rather complex.\r\n\r\n\r\nWhat is the &quot;cleanest and simplest&quot; algorithm for poker hand evaluation ? \r\n","title":"The simplest algorithm for poker hand evaluation","body":"<p>I am thinking about poker hand (5 cards) evaluation in <code>Java</code>. Now I am looking for simplicity and clarity rather than performance and efficiency. I probably can write a \"naive\" algorithm but it requires a lot of code. </p>\n\n<p>I saw also a few poker evaluation libraries, which use hashing and bitwise operations, but they look rather complex.</p>\n\n<p>What is the \"cleanest and simplest\" algorithm for poker hand evaluation ? </p>\n"},{"tags":["java","spring","eclipse","maven","pom.xml"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1673120503,"post_id":75043245,"comment_id":132428489,"body_markdown":"You should be able to figure out which dependency is pulling in this versions by running `mvn depedency:tree`.","body":"You should be able to figure out which dependency is pulling in this versions by running <code>mvn depedency:tree</code>."},{"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"score":1,"creation_date":1673121139,"post_id":75043245,"comment_id":132428624,"body_markdown":"Thanks! I see where they are coming from now :)","body":"Thanks! I see where they are coming from now :)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1673191577,"post_id":75043245,"comment_id":132438074,"body_markdown":"@Turing85 In Eclipse, the _Maven POM Editor_ provides the _Dependency Hierarchy_ tab for that.","body":"@Turing85 In Eclipse, the <i>Maven POM Editor</i> provides the <i>Dependency Hierarchy</i> tab for that."}],"answers":[{"tags":[],"owner":{"account_id":6066722,"reputation":100,"user_id":4736746,"display_name":"Pratik Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673124587,"creation_date":1673124587,"answer_id":75043675,"question_id":75043245,"body_markdown":"Add an &lt;exclusions&gt; element in the &lt;dependency&gt; element by which the problematic jar is getting fetched or included.these unwanted version of the libs are coming as transitive dependency from one of the mentioned dependency entry in your POM.xml. Use you eclipse or IntelliJ dependence tree to din out the jar that is bringing those transitive dependency and then exclude them fro that element . \r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;sample.ProjectA&lt;/groupId&gt;\r\n          &lt;artifactId&gt;Project-A&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;  &lt;!-- declare the exclusion here --&gt;\r\n              &lt;groupId&gt;sample.ProjectB&lt;/groupId&gt;\r\n              &lt;artifactId&gt;Project-B&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt; \r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nFor finding transitive dependency tree / list : https://stackoverflow.com/questions/6110782/how-can-i-view-transitive-dependencies-of-a-maven-pom-xml-file \r\n","title":"Maven project sourcing old spring dependencies not part of the pom.xml in Eclipse","body":"<p>Add an  element in the  element by which the problematic jar is getting fetched or included.these unwanted version of the libs are coming as transitive dependency from one of the mentioned dependency entry in your POM.xml. Use you eclipse or IntelliJ dependence tree to din out the jar that is bringing those transitive dependency and then exclude them fro that element .</p>\n<pre><code>&lt;project&gt;\n  ...\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;sample.ProjectA&lt;/groupId&gt;\n      &lt;artifactId&gt;Project-A&lt;/artifactId&gt;\n      &lt;version&gt;1.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;  &lt;!-- declare the exclusion here --&gt;\n          &lt;groupId&gt;sample.ProjectB&lt;/groupId&gt;\n          &lt;artifactId&gt;Project-B&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt; \n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>For finding transitive dependency tree / list : <a href=\"https://stackoverflow.com/questions/6110782/how-can-i-view-transitive-dependencies-of-a-maven-pom-xml-file\">How can I view transitive dependencies of a Maven pom.xml file?</a></p>\n"}],"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673124587,"creation_date":1673120204,"question_id":75043245,"body_markdown":"My maven java project is sourcing versions of spring libraries that are not defined in my pom.xml\r\n\r\nMy pom.xml does not have any references to v3.0.5 for spring dependencies. \r\nA snippet of my pom.xml:\r\n```\r\n    &lt;properties&gt;\r\n        &lt;org.springframework.version&gt;3.2.4.RELEASE&lt;/org.springframework.version&gt;\r\n    &lt;/properties&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nHowever when I do a ```mvn clean -U compile package```, I am getting v3.0.5 of the spring libraries in my target:\r\n[![enter image description here][1]][1]\r\n\r\nCan someone help me with how I can remove the outdated/ out of version spring libraries which seem to be sourced &#39;automatically&#39; without being included in my pom please.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hAcOY.png","title":"Maven project sourcing old spring dependencies not part of the pom.xml in Eclipse","body":"<p>My maven java project is sourcing versions of spring libraries that are not defined in my pom.xml</p>\n<p>My pom.xml does not have any references to v3.0.5 for spring dependencies.\nA snippet of my pom.xml:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;org.springframework.version&gt;3.2.4.RELEASE&lt;/org.springframework.version&gt;\n    &lt;/properties&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>However when I do a <code>mvn clean -U compile package</code>, I am getting v3.0.5 of the spring libraries in my target:\n<a href=\"https://i.stack.imgur.com/hAcOY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hAcOY.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone help me with how I can remove the outdated/ out of version spring libraries which seem to be sourced 'automatically' without being included in my pom please.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","testing","repository"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673083399,"creation_date":1673083399,"answer_id":75039256,"question_id":75038881,"body_markdown":"According to [Spring documentation][3]:\r\n\r\n&gt; The infrastructure recognizes certain specific types like `Pageable` and\r\n&gt; `Sort`, to apply pagination and sorting to your queries dynamically.\r\n\r\nWith that being said, you should replace `PageRequest` with `Pageable` in the `ProductRepository` method:\r\n```java\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {\r\n    List&lt;Product&gt; findAllByPriceBetween(BigDecimal from, BigDecimal to, Pageable pageable);\r\n}\r\n```\r\n`Pageable` should be instantiated as follows:\r\n```java\r\nPageable pageable = PageRequest.of(0, 10, sort); \r\n```\r\n  [3]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters","title":"Test spring repository with pageRequest","body":"<p>According to <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters\" rel=\"nofollow noreferrer\">Spring documentation</a>:</p>\n<blockquote>\n<p>The infrastructure recognizes certain specific types like <code>Pageable</code> and\n<code>Sort</code>, to apply pagination and sorting to your queries dynamically.</p>\n</blockquote>\n<p>With that being said, you should replace <code>PageRequest</code> with <code>Pageable</code> in the <code>ProductRepository</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {\n    List&lt;Product&gt; findAllByPriceBetween(BigDecimal from, BigDecimal to, Pageable pageable);\n}\n</code></pre>\n<p><code>Pageable</code> should be instantiated as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pageable pageable = PageRequest.of(0, 10, sort); \n</code></pre>\n"}],"owner":{"account_id":27453363,"reputation":21,"user_id":20945210,"display_name":"Igor Bukur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75039256,"answer_count":1,"score":2,"last_activity_date":1673124398,"creation_date":1673078294,"question_id":75038881,"body_markdown":"Im have repository:\r\n\r\n\r\n```\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {\r\n    List&lt;Product&gt; findAllByPriceBetween(BigDecimal from, BigDecimal to, PageRequest pageRequest);\r\n}\r\n```\r\n\r\nIn liquibase im just create table:\r\n\r\n```\r\n--liquibase formatted sql\r\n--changeset &lt;sniklz&gt;:&lt;create-products-table&gt;\r\nCREATE TABLE IF NOT EXISTS products\r\n(\r\n    id bigint auto_increment,\r\n    title varchar(255) not null,\r\n    price decimal      not null,\r\n    CONSTRAINT product_pl PRIMARY KEY (id)\r\n);\r\n\r\n--rollback DROP TABLE products;\r\n```\r\n\r\nthen im try to test my repository:\r\n\r\n\r\n```\r\n@DataJpaTest\r\n@Testcontainers\r\n@AutoConfigureTestDatabase (replace = AutoConfigureTestDatabase.Replace.NONE)\r\nclass ProductRepositoryTest  {\r\n    @Container\r\n    static MySQLContainer&lt;?&gt; database = new MySQLContainer&lt;&gt;(&quot;mysql:8&quot;)\r\n            .withDatabaseName(&quot;springboot&quot;)\r\n            .withPassword(&quot;springboot&quot;)\r\n            .withUsername(&quot;springboot&quot;);\r\n\r\n    @DynamicPropertySource\r\n    static void setDataSourceProperties(DynamicPropertyRegistry propertyRegistry) {\r\n        propertyRegistry.add(&quot;spring.datasource.url&quot;, database::getJdbcUrl);\r\n        propertyRegistry.add(&quot;spring.datasource.username&quot;, database::getUsername);\r\n        propertyRegistry.add(&quot;spring.datasource.password&quot;, database::getPassword);\r\n    }\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n\r\n    @Test\r\n    @Sql(&quot;/scripts/init_four_products.sql&quot;)\r\n    void shouldReturnProductPriceGreaterThan1200() {\r\n        List&lt;Sort.Order&gt; order = new ArrayList&lt;&gt;();\r\n        order.add(new Sort.Order(Sort.Direction.DESC, &quot;price&quot;));\r\n        Sort sort = Sort.by(order);\r\n        PageRequest pageRequest = PageRequest.of(0, 10, sort);\r\n        List&lt;Product&gt; acutal = productRepository.findAllByPriceBetween(BigDecimal.valueOf(1200),\r\n                BigDecimal.valueOf(Integer.MAX_VALUE), pageRequest);\r\n        Assertions.assertEquals(1, acutal.size());\r\n        Assertions.assertEquals(&quot;iPhone XI&quot;, acutal.get(0).getTitle());\r\n    }\r\n}\r\n```\r\n\r\nin `/scripts/init_four_products.sql` im just create som products:\r\n\r\n    INSERT INTO products (title, price) VALUES (&quot;iPhone 8&quot;, 700);\r\n    INSERT INTO products (title, price) VALUES (&quot;iPhone 9 &quot;, 800);\r\n    INSERT INTO products (title, price) VALUES (&quot;iPhone X&quot;, 1000);\r\n    INSERT INTO products (title, price) VALUES (&quot;iPhone XI&quot;, 1200);\r\n\r\n\r\nBut have error:\r\n\r\n&gt; org.springframework.dao.InvalidDataAccessApiUsageException: At least 3\r\n&gt; parameter(s) provided but only 2 parameter(s) present in query.;\r\n&gt; nested exception is java.lang.IllegalArgumentException: At least 3\r\n&gt; parameter(s) provided but only 2 parameter(s) present in query.\r\n\r\n\r\n\r\n\r\ndid not find any useful information at google","title":"Test spring repository with pageRequest","body":"<p>Im have repository:</p>\n<pre><code>@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {\n    List&lt;Product&gt; findAllByPriceBetween(BigDecimal from, BigDecimal to, PageRequest pageRequest);\n}\n</code></pre>\n<p>In liquibase im just create table:</p>\n<pre><code>--liquibase formatted sql\n--changeset &lt;sniklz&gt;:&lt;create-products-table&gt;\nCREATE TABLE IF NOT EXISTS products\n(\n    id bigint auto_increment,\n    title varchar(255) not null,\n    price decimal      not null,\n    CONSTRAINT product_pl PRIMARY KEY (id)\n);\n\n--rollback DROP TABLE products;\n</code></pre>\n<p>then im try to test my repository:</p>\n<pre><code>@DataJpaTest\n@Testcontainers\n@AutoConfigureTestDatabase (replace = AutoConfigureTestDatabase.Replace.NONE)\nclass ProductRepositoryTest  {\n    @Container\n    static MySQLContainer&lt;?&gt; database = new MySQLContainer&lt;&gt;(&quot;mysql:8&quot;)\n            .withDatabaseName(&quot;springboot&quot;)\n            .withPassword(&quot;springboot&quot;)\n            .withUsername(&quot;springboot&quot;);\n\n    @DynamicPropertySource\n    static void setDataSourceProperties(DynamicPropertyRegistry propertyRegistry) {\n        propertyRegistry.add(&quot;spring.datasource.url&quot;, database::getJdbcUrl);\n        propertyRegistry.add(&quot;spring.datasource.username&quot;, database::getUsername);\n        propertyRegistry.add(&quot;spring.datasource.password&quot;, database::getPassword);\n    }\n\n    @Autowired\n    private ProductRepository productRepository;\n\n    @Test\n    @Sql(&quot;/scripts/init_four_products.sql&quot;)\n    void shouldReturnProductPriceGreaterThan1200() {\n        List&lt;Sort.Order&gt; order = new ArrayList&lt;&gt;();\n        order.add(new Sort.Order(Sort.Direction.DESC, &quot;price&quot;));\n        Sort sort = Sort.by(order);\n        PageRequest pageRequest = PageRequest.of(0, 10, sort);\n        List&lt;Product&gt; acutal = productRepository.findAllByPriceBetween(BigDecimal.valueOf(1200),\n                BigDecimal.valueOf(Integer.MAX_VALUE), pageRequest);\n        Assertions.assertEquals(1, acutal.size());\n        Assertions.assertEquals(&quot;iPhone XI&quot;, acutal.get(0).getTitle());\n    }\n}\n</code></pre>\n<p>in <code>/scripts/init_four_products.sql</code> im just create som products:</p>\n<pre><code>INSERT INTO products (title, price) VALUES (&quot;iPhone 8&quot;, 700);\nINSERT INTO products (title, price) VALUES (&quot;iPhone 9 &quot;, 800);\nINSERT INTO products (title, price) VALUES (&quot;iPhone X&quot;, 1000);\nINSERT INTO products (title, price) VALUES (&quot;iPhone XI&quot;, 1200);\n</code></pre>\n<p>But have error:</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: At least 3\nparameter(s) provided but only 2 parameter(s) present in query.;\nnested exception is java.lang.IllegalArgumentException: At least 3\nparameter(s) provided but only 2 parameter(s) present in query.</p>\n</blockquote>\n<p>did not find any useful information at google</p>\n"},{"tags":["java","spring","web","servlets"],"owner":{"account_id":16785993,"reputation":11,"user_id":12134962,"display_name":"dori rozen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673124347,"creation_date":1673077609,"question_id":75038836,"body_markdown":"I write Configuration WSDL Servcie java class and have a method called requestDispatcher that get ApplicationContext and return ServletRegistrationBean.\r\n\r\nI try to return ServletRegistrationBean by implementing with the constructor as shown :\r\n\r\n    public ServletRegistrationBean(T servlet,\r\n    String... urlMappings) .\r\n\r\nTo the T servlet parameter i pass `messageDispatcherServlet` and i get an error that \r\n\r\n&gt; &quot;Constractor ServletRegistrationBean (MessageDispatcherServlet,String)\r\n&gt; is not defined&quot;.\r\n\r\nI saw on google exmpales of code that do the same.\r\n\r\nI would be glad for any help\r\n\r\nThis is the method i wrote:\r\n\r\n\r\n    public class WSDLConfigService {\r\n    \t@Bean\r\n    \tpublic ServletRegistrationBean requestDispatcher (ApplicationContext conext){\r\n    \tMessageDispatcherServlet msd = new MessageDispatcherServlet();\r\n    \tmsd.setApplicationContext(conext);\r\n    \tmsd.setTransformWsdlLocations(true);\r\n    \treturn new ServletRegistrationBean(msd, &quot;/soap/*&quot;);\r\n    }","title":"Constractor ServletRegistrationBean (MessageDispatcherServlet,String) is not defined","body":"<p>I write Configuration WSDL Servcie java class and have a method called requestDispatcher that get ApplicationContext and return ServletRegistrationBean.</p>\n<p>I try to return ServletRegistrationBean by implementing with the constructor as shown :</p>\n<pre><code>public ServletRegistrationBean(T servlet,\nString... urlMappings) .\n</code></pre>\n<p>To the T servlet parameter i pass <code>messageDispatcherServlet</code> and i get an error that</p>\n<blockquote>\n<p>&quot;Constractor ServletRegistrationBean (MessageDispatcherServlet,String)\nis not defined&quot;.</p>\n</blockquote>\n<p>I saw on google exmpales of code that do the same.</p>\n<p>I would be glad for any help</p>\n<p>This is the method i wrote:</p>\n<pre><code>public class WSDLConfigService {\n    @Bean\n    public ServletRegistrationBean requestDispatcher (ApplicationContext conext){\n    MessageDispatcherServlet msd = new MessageDispatcherServlet();\n    msd.setApplicationContext(conext);\n    msd.setTransformWsdlLocations(true);\n    return new ServletRegistrationBean(msd, &quot;/soap/*&quot;);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1673100601,"post_id":75040932,"comment_id":132424197,"body_markdown":"Include the relevant part of your code in the question itself instead of an external link.","body":"Include the relevant part of your code in the question itself instead of an external link."},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1673100816,"post_id":75040932,"comment_id":132424245,"body_markdown":"Is it guaranteed that `teamPattern` contains a single `%s` placeholder? In this case, I&#39;d split it in the part before and after the `%s`, and remove those parts from `fullName`. That can already get tricky if `teamPattern` may contain a(n escaped) literal `%s`.","body":"Is it guaranteed that <code>teamPattern</code> contains a single <code>%s</code> placeholder? In this case, I&#39;d split it in the part before and after the <code>%s</code>, and remove those parts from <code>fullName</code>. That can already get tricky if <code>teamPattern</code> may contain a(n escaped) literal <code>%s</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1673101249,"post_id":75040932,"comment_id":132424330,"body_markdown":"Yes, that is possible. You need to scan the team pattern for tokens, each one being one of a literal and a placeholder. You&#39;ll have something like `[MW3-`,`%s`,`]`. Then you need to match the literal tokens, and parse the placeholders to their resolved strings.","body":"Yes, that is possible. You need to scan the team pattern for tokens, each one being one of a literal and a placeholder. You&#39;ll have something like <code>[MW3-</code>,<code>%s</code>,<code>]</code>. Then you need to match the literal tokens, and parse the placeholders to their resolved strings."}],"answers":[{"tags":[],"owner":{"account_id":3992270,"reputation":324,"user_id":3290808,"display_name":"ralphmerridew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673101096,"creation_date":1673101096,"answer_id":75041009,"question_id":75040932,"body_markdown":"How much is guaranteed about teamPattern?\r\n\r\nIf you can be sure that teamPattern will contain exactly one formatting pattern, which will be %s, you can:\r\n- locate the %s within teamPattern  (starts at character #index)\r\n- calculate the amount of text right of the embedded teamName (subtracting)  \r\n- calculate the length of the teamName (subtracting)  \r\n- take fullName.substring(...)  \r\n","title":"How can I extract the original String from a formatted one?","body":"<p>How much is guaranteed about teamPattern?</p>\n<p>If you can be sure that teamPattern will contain exactly one formatting pattern, which will be %s, you can:</p>\n<ul>\n<li>locate the %s within teamPattern  (starts at character #index)</li>\n<li>calculate the amount of text right of the embedded teamName (subtracting)</li>\n<li>calculate the length of the teamName (subtracting)</li>\n<li>take fullName.substring(...)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673104336,"creation_date":1673101301,"answer_id":75041038,"question_id":75040932,"body_markdown":"In general, the backwards-conversion does not yield a unique result. Take, for example, the pattern `&quot;foo-%s-%s&quot;` and the result `&quot;foo-bar-baz-bang&quot;`. We could have arrived here by:\r\n- either replacing the first `&quot;%s&quot;` with `&quot;bar-baz&quot;` and the second `&quot;%s&quot;` with `&quot;bang&quot;`\r\n- or replacing the first `&quot;%s&quot;` with `&quot;bar&quot;` and the second `&quot;%s&quot;` with `&quot;baz-bang&quot;`.\r\n\r\n[&lt;kbd&gt;`Ideone.com` demo&lt;/kbd&gt;][ideone]\r\n\r\n---\r\n\r\nFor the concrete pattern `&quot;[MW3-%s]&quot;`, we can create a regex extractor that extracts the original `teamName`:\r\n\r\n    ^full name: \\[MW3-(?&lt;teamName&gt;.*)]$\r\n\r\n[&lt;kbd&gt;`regex101.com` demo&lt;/kbd&gt;][regex101]\r\n\r\nHere is an example on how to use the regular expression to extract the team name:\r\n\r\n    String teamPattern = &quot;[MW3-%s]&quot;;\r\n    String teamName = &quot;apple&quot;;\r\n    String fullNamePattern = &quot;full name: &quot; + teamPattern;\r\n    String fullName = String.format(fullNamePattern, teamName);\r\n    Pattern teamExtractorPattern = Pattern.compile(&quot;^full name: \\\\[MW3-(?&lt;teamName&gt;.*)]$&quot;);\r\n    Matcher matcher = teamExtractorPattern.matcher(fullName);\r\n    if (matcher.matches()) {\r\n      String extractedTeamName = matcher.group(&quot;teamName&quot;);\r\n      System.out.println(extractedTeamName);\r\n    }\r\n\r\n[&lt;kbd&gt;`Ideone.com` demo&lt;/kbd&gt;][idetwo]\r\n\r\n\r\n---\r\n\r\nWe can start making the pattern more generic by e.g. replacing `full name :` by `.*`. We could even try to construct the `Pattern` from `teamPattern`, but this requires some special attention (e.g. the `&quot;[&quot;` and `&quot;-&quot;` need to be replaced with `&quot;\\\\\\\\[&quot;` and `&quot;\\\\\\\\-&quot;`).\r\n\r\nNote that this kind of pattern will stop to function if a line has more than one `]` after the initial `full name: [`-part (due to the greedy nature of regex&#39;s `*`, if we make it non-greedy, there are other corner cases to consider). This kind of issue would be preventable if we, for example, knew or could assure (not [assume (`urbandictionary.com`)][urbanAssume]) that the `teamName` consists of only letters and digits. In this case, we could change the regex to:\r\n\r\n    ^full name: \\[MW3-(?&lt;teamName&gt;[a-zA-Z0-9]*)]$\r\n    \r\n[&lt;kbd&gt;`regex101.com` demo&lt;/kbd&gt;][regex102]\r\n\r\nIf we also allow `&quot;_&quot;` in `teamName`s, the regular expression simplifies even further:\r\n\r\n    ^full name: \\[MW3-(?&lt;teamName&gt;\\w*)]$\r\n\r\n[&lt;kbd&gt;`regex101.com` demo&lt;/kbd&gt;][regex103]\r\n\r\n[ideone]: https://ideone.com/SqAXJg\r\n[regex101]: https://regex101.com/r/0LVRBI/1\r\n[idetwo]: https://ideone.com/6uAcDr\r\n[urbanAssume]: https://www.urbandictionary.com/define.php?term=Assume\r\n[regex102]: https://regex101.com/r/H3Rdus/1\r\n[regex103]: https://regex101.com/r/wMQAsG/1","title":"How can I extract the original String from a formatted one?","body":"<p>In general, the backwards-conversion does not yield a unique result. Take, for example, the pattern <code>&quot;foo-%s-%s&quot;</code> and the result <code>&quot;foo-bar-baz-bang&quot;</code>. We could have arrived here by:</p>\n<ul>\n<li>either replacing the first <code>&quot;%s&quot;</code> with <code>&quot;bar-baz&quot;</code> and the second <code>&quot;%s&quot;</code> with <code>&quot;bang&quot;</code></li>\n<li>or replacing the first <code>&quot;%s&quot;</code> with <code>&quot;bar&quot;</code> and the second <code>&quot;%s&quot;</code> with <code>&quot;baz-bang&quot;</code>.</li>\n</ul>\n<p><a href=\"https://ideone.com/SqAXJg\" rel=\"nofollow noreferrer\"><kbd><code>Ideone.com</code> demo</kbd></a></p>\n<hr />\n<p>For the concrete pattern <code>&quot;[MW3-%s]&quot;</code>, we can create a regex extractor that extracts the original <code>teamName</code>:</p>\n<pre><code>^full name: \\[MW3-(?&lt;teamName&gt;.*)]$\n</code></pre>\n<p><a href=\"https://regex101.com/r/0LVRBI/1\" rel=\"nofollow noreferrer\"><kbd><code>regex101.com</code> demo</kbd></a></p>\n<p>Here is an example on how to use the regular expression to extract the team name:</p>\n<pre><code>String teamPattern = &quot;[MW3-%s]&quot;;\nString teamName = &quot;apple&quot;;\nString fullNamePattern = &quot;full name: &quot; + teamPattern;\nString fullName = String.format(fullNamePattern, teamName);\nPattern teamExtractorPattern = Pattern.compile(&quot;^full name: \\\\[MW3-(?&lt;teamName&gt;.*)]$&quot;);\nMatcher matcher = teamExtractorPattern.matcher(fullName);\nif (matcher.matches()) {\n  String extractedTeamName = matcher.group(&quot;teamName&quot;);\n  System.out.println(extractedTeamName);\n}\n</code></pre>\n<p><a href=\"https://ideone.com/6uAcDr\" rel=\"nofollow noreferrer\"><kbd><code>Ideone.com</code> demo</kbd></a></p>\n<hr />\n<p>We can start making the pattern more generic by e.g. replacing <code>full name :</code> by <code>.*</code>. We could even try to construct the <code>Pattern</code> from <code>teamPattern</code>, but this requires some special attention (e.g. the <code>&quot;[&quot;</code> and <code>&quot;-&quot;</code> need to be replaced with <code>&quot;\\\\\\\\[&quot;</code> and <code>&quot;\\\\\\\\-&quot;</code>).</p>\n<p>Note that this kind of pattern will stop to function if a line has more than one <code>]</code> after the initial <code>full name: [</code>-part (due to the greedy nature of regex's <code>*</code>, if we make it non-greedy, there are other corner cases to consider). This kind of issue would be preventable if we, for example, knew or could assure (not <a href=\"https://www.urbandictionary.com/define.php?term=Assume\" rel=\"nofollow noreferrer\">assume (<code>urbandictionary.com</code>)</a>) that the <code>teamName</code> consists of only letters and digits. In this case, we could change the regex to:</p>\n<pre><code>^full name: \\[MW3-(?&lt;teamName&gt;[a-zA-Z0-9]*)]$\n</code></pre>\n<p><a href=\"https://regex101.com/r/H3Rdus/1\" rel=\"nofollow noreferrer\"><kbd><code>regex101.com</code> demo</kbd></a></p>\n<p>If we also allow <code>&quot;_&quot;</code> in <code>teamName</code>s, the regular expression simplifies even further:</p>\n<pre><code>^full name: \\[MW3-(?&lt;teamName&gt;\\w*)]$\n</code></pre>\n<p><a href=\"https://regex101.com/r/wMQAsG/1\" rel=\"nofollow noreferrer\"><kbd><code>regex101.com</code> demo</kbd></a></p>\n"}],"owner":{"account_id":20479632,"reputation":11,"user_id":15028083,"display_name":"RandomDudeWow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673124136,"creation_date":1673100373,"question_id":75040932,"body_markdown":"Ok so, let&#39;s say I have a variable `teamName = apple` and `teamPattern = [MW3-%s]`, which gives me the `full name: [MW3-apple]`.. If I know the **fullName** and **teamPattern** is there any way to get the original ***teamName*** back?\r\n\r\nHere&#39;s my Java code I used. (This is not a XY problem, *I have to* save it this way -_-)\r\n\r\n```java\r\npublic String generateFullName(){ // Generate the name\r\n        String teamPattern =  &quot;[MW3-%s]&quot;;\r\n        String teamName = &quot;apple&quot;;\r\n        return teamPattern.formatted(teamName); // &lt;- Gets saved on a remote location\r\n}\r\n&#160;\r\npublic String extractTeamName(String fullName, String teamPattern) {\r\n    //return ? \r\n}\r\n```\r\n\r\nI tried using Java sub-strings but that didn&#39;t work out since `patternName` can be set to anything. (I heard of something along the lines of patterns/Regex, but didn&#39;t find any useful function)","title":"How can I extract the original String from a formatted one?","body":"<p>Ok so, let's say I have a variable <code>teamName = apple</code> and <code>teamPattern = [MW3-%s]</code>, which gives me the <code>full name: [MW3-apple]</code>.. If I know the <strong>fullName</strong> and <strong>teamPattern</strong> is there any way to get the original <em><strong>teamName</strong></em> back?</p>\n<p>Here's my Java code I used. (This is not a XY problem, <em>I have to</em> save it this way -_-)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String generateFullName(){ // Generate the name\n        String teamPattern =  &quot;[MW3-%s]&quot;;\n        String teamName = &quot;apple&quot;;\n        return teamPattern.formatted(teamName); // &lt;- Gets saved on a remote location\n}\n \npublic String extractTeamName(String fullName, String teamPattern) {\n    //return ? \n}\n</code></pre>\n<p>I tried using Java sub-strings but that didn't work out since <code>patternName</code> can be set to anything. (I heard of something along the lines of patterns/Regex, but didn't find any useful function)</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673123635,"creation_date":1673117783,"answer_id":75042993,"question_id":75042904,"body_markdown":"As you can see in [the changelogs](https://github.com/spring-projects/spring-framework/wiki/What&#39;s-New-in-Spring-Framework-6.x), Spring migrated to Jakarta EE in the 6.0 release.\r\n\r\nIn your `pom.xml`, you are using version `6.0.3` of `spring-webmvc` (which requires Jakarta EE) but also `javax.servlet-api` which is part of Java EE.\r\n\r\nYou basically have two options:\r\n## Migrate to Jakarta EE\r\nReplace\r\n```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nwith \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\nThis will then use version `6.0.0` of the Jakarta Servlet API instead of version 4.0.1 of the Java EE servlet API.\r\n\r\nAlternatively, you can use an older version like `5.0.0`.\r\n\r\nSimilarly, you would need to [upgrade thymeleaf to 3.1.x as this version supports Spring 6 and Jakarta EE](https://www.thymeleaf.org/doc/articles/thymeleaf31whatsnew.html).\r\nFor doing so, replace\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nwith\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;thymeleaf-spring6&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nso that Thymeleaf is compatible with your Spring version as well.\r\n\r\nAside from updating dependencies, it is also important to replace the use of `ServletContextTemplateResolver` with something else as [these were changed in Spring 3.1](https://www.thymeleaf.org/doc/articles/thymeleaf31whatsnew.html).\r\n\r\nSince it is a Spring application, you might be able to use `SpringResourceTemplateResolver` as described [in this Tutorial for Thymeleaf 3.1](https://www.thymeleaf.org/doc/tutorials/3.1/thymeleafspring.html#the-springstandard-dialect):\r\n```java\r\n@Bean\r\npublic SpringResourceTemplateResolver templateResolver(){\r\n    // SpringResourceTemplateResolver automatically integrates with Spring&#39;s own\r\n    // resource resolution infrastructure, which is highly recommended.\r\n    SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n    templateResolver.setApplicationContext(this.applicationContext);\r\n    templateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n    templateResolver.setSuffix(&quot;.html&quot;);\r\n    // HTML is the default value, added here for the sake of clarity.\r\n    templateResolver.setTemplateMode(TemplateMode.HTML);\r\n    // Template cache is true by default. Set to false if you want\r\n    // templates to be automatically updated when modified.\r\n    templateResolver.setCacheable(true);\r\n    return templateResolver;\r\n}\r\n```\r\n\r\nAlternatively, you might be able to use [`WebApplicationTemplateResolver`](https://javadoc.io/doc/org.thymeleaf/thymeleaf/latest/org/thymeleaf/templateresolver/WebApplicationTemplateResolver.html) which can work with both Java EE (using `JavaxServletWebApplication`) and Jakarta EE (using `JakartaServletWebApplication`):\r\n\r\n```java\r\n\r\n    @Bean\r\n    public WebApplicationTemplateResolver templateResolver() {\r\n        WebApplicationTemplateResolver resolver = new WebApplicationTemplateResolver(JakartaServletWebApplication.buildApplication(context.getServletContext()));\r\n        resolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        return resolver;\r\n    }\r\n```\r\n\r\n## Downgrade Spring\r\nAnother possibility is to use a version of Spring Webmvc before `6.x`.\r\nFor doing that, replace \r\n```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nwith\r\n```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nHowever, when using 5.x versions of Spring, you would miss the other features of Spring 6.x (including possible future features).","title":"Spring 5 - HTTP Status 500 – Internal Server Error","body":"<p>As you can see in <a href=\"https://github.com/spring-projects/spring-framework/wiki/What%27s-New-in-Spring-Framework-6.x\" rel=\"nofollow noreferrer\">the changelogs</a>, Spring migrated to Jakarta EE in the 6.0 release.</p>\n<p>In your <code>pom.xml</code>, you are using version <code>6.0.3</code> of <code>spring-webmvc</code> (which requires Jakarta EE) but also <code>javax.servlet-api</code> which is part of Java EE.</p>\n<p>You basically have two options:</p>\n<h2>Migrate to Jakarta EE</h2>\n<p>Replace</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>This will then use version <code>6.0.0</code> of the Jakarta Servlet API instead of version 4.0.1 of the Java EE servlet API.</p>\n<p>Alternatively, you can use an older version like <code>5.0.0</code>.</p>\n<p>Similarly, you would need to <a href=\"https://www.thymeleaf.org/doc/articles/thymeleaf31whatsnew.html\" rel=\"nofollow noreferrer\">upgrade thymeleaf to 3.1.x as this version supports Spring 6 and Jakarta EE</a>.\nFor doing so, replace</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n  &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n  &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-spring6&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>so that Thymeleaf is compatible with your Spring version as well.</p>\n<p>Aside from updating dependencies, it is also important to replace the use of <code>ServletContextTemplateResolver</code> with something else as <a href=\"https://www.thymeleaf.org/doc/articles/thymeleaf31whatsnew.html\" rel=\"nofollow noreferrer\">these were changed in Spring 3.1</a>.</p>\n<p>Since it is a Spring application, you might be able to use <code>SpringResourceTemplateResolver</code> as described <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/thymeleafspring.html#the-springstandard-dialect\" rel=\"nofollow noreferrer\">in this Tutorial for Thymeleaf 3.1</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SpringResourceTemplateResolver templateResolver(){\n    // SpringResourceTemplateResolver automatically integrates with Spring's own\n    // resource resolution infrastructure, which is highly recommended.\n    SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n    templateResolver.setApplicationContext(this.applicationContext);\n    templateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\n    templateResolver.setSuffix(&quot;.html&quot;);\n    // HTML is the default value, added here for the sake of clarity.\n    templateResolver.setTemplateMode(TemplateMode.HTML);\n    // Template cache is true by default. Set to false if you want\n    // templates to be automatically updated when modified.\n    templateResolver.setCacheable(true);\n    return templateResolver;\n}\n</code></pre>\n<p>Alternatively, you might be able to use <a href=\"https://javadoc.io/doc/org.thymeleaf/thymeleaf/latest/org/thymeleaf/templateresolver/WebApplicationTemplateResolver.html\" rel=\"nofollow noreferrer\"><code>WebApplicationTemplateResolver</code></a> which can work with both Java EE (using <code>JavaxServletWebApplication</code>) and Jakarta EE (using <code>JakartaServletWebApplication</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Bean\n    public WebApplicationTemplateResolver templateResolver() {\n        WebApplicationTemplateResolver resolver = new WebApplicationTemplateResolver(JakartaServletWebApplication.buildApplication(context.getServletContext()));\n        resolver.setPrefix(&quot;/WEB-INF/view/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        return resolver;\n    }\n</code></pre>\n<h2>Downgrade Spring</h2>\n<p>Another possibility is to use a version of Spring Webmvc before <code>6.x</code>.\nFor doing that, replace</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;6.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.24&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>However, when using 5.x versions of Spring, you would miss the other features of Spring 6.x (including possible future features).</p>\n"}],"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75042993,"answer_count":1,"score":-2,"last_activity_date":1673123635,"creation_date":1673117038,"question_id":75042904,"body_markdown":"I&#39;m doing Website from tutorial and I&#39;m using Spring. Sadly code from video is not working in my IDE.\r\n\r\n\r\nThere is pom.xml.\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Travel&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;name&gt;Travel&lt;/name&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;17&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.3&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  \r\n  \r\n  &lt;dependencies&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  \r\n  \r\n&lt;/project&gt;\r\n```\r\n\r\nAnd WebConfing.\r\n\r\n```\r\npackage main.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.thymeleaf.spring5.SpringTemplateEngine;\r\nimport org.thymeleaf.spring5.view.ThymeleafViewResolver;\r\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(&quot;main&quot;)\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n\t@Autowired\r\n\tprivate WebApplicationContext context;\r\n\t\r\n\t@Bean\r\n\tpublic ServletContextTemplateResolver templateResolver() {\r\n\t\tServletContextTemplateResolver resolver = new ServletContextTemplateResolver(context.getServletContext());\r\n\t\tresolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n\t\tresolver.setSuffix(&quot;.html&quot;);\r\n\t\treturn resolver;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic SpringTemplateEngine templateEngine() {\r\n\t\tSpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n\t\ttemplateEngine.setTemplateResolver(templateResolver());\r\n\t\treturn templateEngine;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic ThymeleafViewResolver viewResolver() {\r\n\t\tThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n\t\tviewResolver.setTemplateEngine(templateEngine());\r\n\t\treturn viewResolver;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n\t\tconfigurer.enable();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nWhen I try to put it in localhost i can see error 500 in browser and then this is from IDE:\r\n\r\n\r\n\r\n```\r\nsty 07, 2023 7:36:20 PM org.apache.catalina.core.StandardWrapperValve invoke\r\nSEVERE: Allocate exception for servlet [dispatcher]\r\njava.lang.Error: Unresolved compilation problems: \r\nServletContextTemplateResolver cannot be resolved to a type\r\nServletContextTemplateResolver cannot be resolved to a type\r\nServletContextTemplateResolver cannot be resolved to a type\r\nThe method getServletContext() from the type WebApplicationContext refers to the missing type ServletContext\r\n\r\nat main.config.WebConfig.templateResolver(WebConfig.java:31)\r\nat main.config.WebConfig$$SpringCGLIB$$0.CGLIB$templateResolver$1(&lt;generated&gt;)\r\nat main.config.WebConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\r\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\r\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\nat main.config.WebConfig$$SpringCGLIB$$0.templateResolver(&lt;generated&gt;)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\r\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:706)\r\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:583)\r\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:537)\r\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\r\nat jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\r\nat jakarta.servlet.http.HttpServlet.init(HttpServlet.java:140)\r\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:995)\r\nat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:696)\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\nat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\n\r\n\r\n\r\n\r\nSo for sure this lines are wrong:\r\n\r\n```\r\n\t@Bean\r\n\tpublic ServletContextTemplateResolver templateResolver() {\r\n\t\tServletContextTemplateResolver resolver = new ServletContextTemplateResolver(context.getServletContext());\r\n\t\tresolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n\t\tresolver.setSuffix(&quot;.html&quot;);\r\n\t\treturn resolver;\r\n\t}\r\n```\r\n\r\nI tried to change it in this way:\r\n```\r\n\t@Bean\r\n\tpublic ServletContextTemplateResolver templateResolver() {\r\n\t\tServletContextTemplateResolver resolver = new ServletContextTemplateResolver((ServletContext) context.getServletContext());\r\n\t\tresolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n\t\tresolver.setSuffix(&quot;.html&quot;);\r\n\t\treturn resolver;\r\n\t}\r\n```\r\n\r\nStill same, 500 error.","title":"Spring 5 - HTTP Status 500 – Internal Server Error","body":"<p>I'm doing Website from tutorial and I'm using Spring. Sadly code from video is not working in my IDE.</p>\n<p>There is pom.xml.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;Travel&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;name&gt;Travel&lt;/name&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;17&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  \n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;6.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n  &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  \n  \n&lt;/project&gt;\n</code></pre>\n<p>And WebConfing.</p>\n<pre><code>package main.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\nimport org.thymeleaf.spring5.view.ThymeleafViewResolver;\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(&quot;main&quot;)\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Autowired\n    private WebApplicationContext context;\n    \n    @Bean\n    public ServletContextTemplateResolver templateResolver() {\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(context.getServletContext());\n        resolver.setPrefix(&quot;/WEB-INF/view/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        return resolver;\n    }\n    \n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        return templateEngine;\n    }\n    \n    @Bean\n    public ThymeleafViewResolver viewResolver() {\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n        viewResolver.setTemplateEngine(templateEngine());\n        return viewResolver;\n    }\n    \n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n\n}\n\n</code></pre>\n<p>When I try to put it in localhost i can see error 500 in browser and then this is from IDE:</p>\n<pre><code>sty 07, 2023 7:36:20 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Allocate exception for servlet [dispatcher]\njava.lang.Error: Unresolved compilation problems: \nServletContextTemplateResolver cannot be resolved to a type\nServletContextTemplateResolver cannot be resolved to a type\nServletContextTemplateResolver cannot be resolved to a type\nThe method getServletContext() from the type WebApplicationContext refers to the missing type ServletContext\n\nat main.config.WebConfig.templateResolver(WebConfig.java:31)\nat main.config.WebConfig$$SpringCGLIB$$0.CGLIB$templateResolver$1(&lt;generated&gt;)\nat main.config.WebConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\nat main.config.WebConfig$$SpringCGLIB$$0.templateResolver(&lt;generated&gt;)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:706)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:583)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:537)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\nat jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\nat jakarta.servlet.http.HttpServlet.init(HttpServlet.java:140)\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:995)\nat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:696)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>So for sure this lines are wrong:</p>\n<pre><code>    @Bean\n    public ServletContextTemplateResolver templateResolver() {\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(context.getServletContext());\n        resolver.setPrefix(&quot;/WEB-INF/view/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        return resolver;\n    }\n</code></pre>\n<p>I tried to change it in this way:</p>\n<pre><code>    @Bean\n    public ServletContextTemplateResolver templateResolver() {\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver((ServletContext) context.getServletContext());\n        resolver.setPrefix(&quot;/WEB-INF/view/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        return resolver;\n    }\n</code></pre>\n<p>Still same, 500 error.</p>\n"},{"tags":["java","spring","spring-boot","google-sheets-api","spring-cache"],"comments":[{"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"score":0,"creation_date":1673217036,"post_id":75038356,"comment_id":132443017,"body_markdown":"Are you injecting GoogleSheetsService or manually constructing it? Because since caching is taken care of by spring using aspects, the service needs to be injected (using either constructor injection or Autowired annotation) for it to work.","body":"Are you injecting GoogleSheetsService or manually constructing it? Because since caching is taken care of by spring using aspects, the service needs to be injected (using either constructor injection or Autowired annotation) for it to work."}],"answers":[{"tags":[],"owner":{"account_id":4642582,"reputation":40,"user_id":3761976,"display_name":"jojoldu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673101089,"creation_date":1673101089,"answer_id":75041008,"question_id":75038356,"body_markdown":"I can doubt two things.\r\n\r\n1. Are other methods of Google Sheets Service calling the spreadsheet method?\r\n\r\n`@Cacheable` uses the AOP concept of Spring Framework.\r\nSo it doesn&#39;t apply to calling other methods in the same class.\r\n\r\n2. Have you registered the spreadsheet with CacheManager?\r\n\r\nWith Java Config, it is as follows,\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig {\r\n\r\n  @Bean\r\n  public CacheManager cacheManager() {\r\n    ConcurrentMapCacheManager mgr = new ConcurrentMapCacheManager();\r\n    mgr.setCacheNames(asList(&quot;employees&quot;));\r\n    return mgr;\r\n  }\r\n}\r\n```\r\n\r\n[link](https://howtodoinjava.com/spring-boot/spring-boot-cache-example/)\r\n\r\nIs the spreadsheet registered with cacheManager?","title":"How to use cache with Google Sheets in Spring Boot?","body":"<p>I can doubt two things.</p>\n<ol>\n<li>Are other methods of Google Sheets Service calling the spreadsheet method?</li>\n</ol>\n<p><code>@Cacheable</code> uses the AOP concept of Spring Framework.\nSo it doesn't apply to calling other methods in the same class.</p>\n<ol start=\"2\">\n<li>Have you registered the spreadsheet with CacheManager?</li>\n</ol>\n<p>With Java Config, it is as follows,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n  @Bean\n  public CacheManager cacheManager() {\n    ConcurrentMapCacheManager mgr = new ConcurrentMapCacheManager();\n    mgr.setCacheNames(asList(&quot;employees&quot;));\n    return mgr;\n  }\n}\n</code></pre>\n<p><a href=\"https://howtodoinjava.com/spring-boot/spring-boot-cache-example/\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Is the spreadsheet registered with cacheManager?</p>\n"}],"owner":{"account_id":26012167,"reputation":43,"user_id":19721062,"display_name":"Dennis Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75041008,"answer_count":1,"score":4,"last_activity_date":1673123019,"creation_date":1673070284,"question_id":75038356,"body_markdown":"I am just starting to learn Spring Boot and am trying to use cache with the Google Sheets API to study Springboot. To use cache with Google Sheets in Spring Boot, I added the spring-boot-starter-cache dependency in my pom.xml file and enabled cache support by using the @EnableCaching annotation in my application&#39;s main class. I then used the @Cacheable annotation for caching the response from the Google Sheets API when calling a method to get a spreadsheet. However, the cache does not work, as the method is still being called every time.\r\n\r\nHere is an example of the code I am using:\r\n\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class GoogleSheetsService {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(GoogleSheetsService.class);\r\n\r\n    @Cacheable(value = &quot;spreadsheet&quot;, key = &quot;#spreadsheetId&quot;)\r\n    public Spreadsheet getSpreadsheet(String spreadsheetId) {\r\n        logger.info(&quot;Getting spreadsheet from API for {}&quot;, spreadsheetId);\r\n        // Call Google Sheets API to get spreadsheet\r\n        return spreadsheet;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI expected the cache to return the cached value for the same spreadsheetId, but the method is being called every time and the &quot;Getting spreadsheet from API for {}&quot; log is being printed. Can you please help me understand what might be causing the cache to not work as expected?","title":"How to use cache with Google Sheets in Spring Boot?","body":"<p>I am just starting to learn Spring Boot and am trying to use cache with the Google Sheets API to study Springboot. To use cache with Google Sheets in Spring Boot, I added the spring-boot-starter-cache dependency in my pom.xml file and enabled cache support by using the @EnableCaching annotation in my application's main class. I then used the @Cacheable annotation for caching the response from the Google Sheets API when calling a method to get a spreadsheet. However, the cache does not work, as the method is still being called every time.</p>\n<p>Here is an example of the code I am using:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class GoogleSheetsService {\n\n    private static final Logger logger = LoggerFactory.getLogger(GoogleSheetsService.class);\n\n    @Cacheable(value = &quot;spreadsheet&quot;, key = &quot;#spreadsheetId&quot;)\n    public Spreadsheet getSpreadsheet(String spreadsheetId) {\n        logger.info(&quot;Getting spreadsheet from API for {}&quot;, spreadsheetId);\n        // Call Google Sheets API to get spreadsheet\n        return spreadsheet;\n    }\n}\n\n</code></pre>\n<p>I expected the cache to return the cached value for the same spreadsheetId, but the method is being called every time and the &quot;Getting spreadsheet from API for {}&quot; log is being printed. Can you please help me understand what might be causing the cache to not work as expected?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":18706508,"reputation":16,"user_id":13637554,"display_name":"jakobum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673122900,"creation_date":1673122900,"answer_id":75043527,"question_id":75043060,"body_markdown":"First you need to adjust two properties if you want to allow uploads of such big files.\r\n\r\n    spring.servlet.multipart.max-file-size=-1\r\n    spring.servlet.multipart.max-request-size=-1\r\n\r\nThen it is better to use `MultipartFile.getInputStream()` to read the contents of the file.\r\n\r\nYou might also use `IOUtils.copy()` from Apache Commons IO to simplify your job.\r\n","title":"Spring boot uploading file error when try bigger file","body":"<p>First you need to adjust two properties if you want to allow uploads of such big files.</p>\n<pre><code>spring.servlet.multipart.max-file-size=-1\nspring.servlet.multipart.max-request-size=-1\n</code></pre>\n<p>Then it is better to use <code>MultipartFile.getInputStream()</code> to read the contents of the file.</p>\n<p>You might also use <code>IOUtils.copy()</code> from Apache Commons IO to simplify your job.</p>\n"}],"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75043527,"answer_count":1,"score":0,"last_activity_date":1673122900,"creation_date":1673118300,"question_id":75043060,"body_markdown":"I have this upload method:\r\n\r\n    try {\r\n            Files.createDirectories(filesPath);\r\n        } catch (IOException e1) {\r\n            e1.printStackTrace();\r\n            return null;\r\n        }\r\n\r\n        for (MultipartFile file : Arrays.asList(files)) {\r\n            try {\r\n                // Get the file and save it somewhere\r\n                byte[] bytes = file.getBytes();\r\n                Path path = Paths.get(filesPath + File.separator + file.getOriginalFilename());\r\n                Files.write(path, bytes);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\nIt work well, but when i try upload bigger file around 1,5GB i get this error:\r\n\r\n    Invalid string length\r\n\r\nHow can i fix it?\r\n","title":"Spring boot uploading file error when try bigger file","body":"<p>I have this upload method:</p>\n<pre><code>try {\n        Files.createDirectories(filesPath);\n    } catch (IOException e1) {\n        e1.printStackTrace();\n        return null;\n    }\n\n    for (MultipartFile file : Arrays.asList(files)) {\n        try {\n            // Get the file and save it somewhere\n            byte[] bytes = file.getBytes();\n            Path path = Paths.get(filesPath + File.separator + file.getOriginalFilename());\n            Files.write(path, bytes);\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>It work well, but when i try upload bigger file around 1,5GB i get this error:</p>\n<pre><code>Invalid string length\n</code></pre>\n<p>How can i fix it?</p>\n"},{"tags":["java","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":12379838,"reputation":551,"user_id":9025960,"display_name":"rgnt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672946902,"creation_date":1672946902,"answer_id":75023464,"question_id":75022348,"body_markdown":"Get the user&#39;s ID and put it in between of `&lt;@` and `&gt;`. Example: &lt;@355314189117554689&gt;.\r\n```java\r\nif (msg.equalsIgnoreCase(&quot;hi&quot;)) {\r\n  Member member = event.getMessage()\r\n    .getMentions()\r\n    .getMembers()\r\n    .get(0);\r\n\r\n  EmbedBuilder embedBuilder = new EmbedBuilder();\r\n  embedBuilder.setColor(Color.cyan);\r\n  // simply put the users snowflake ID between &lt;@ and &gt;\r\n  embedBuilder.setDescription(&quot;Hello, &lt;@&quot; + member.getUser().getId() + &quot;&gt;!&quot;);\r\n  embedBuilder.build();\r\n  event.getChannel().sendMessageEmbeds(embedBuilder.build()).queue();\r\n}\r\n```","title":"how can I get the member mentioned and displayed in the embed","body":"<p>Get the user's ID and put it in between of <code>&lt;@</code> and <code>&gt;</code>. Example: &lt;@355314189117554689&gt;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (msg.equalsIgnoreCase(&quot;hi&quot;)) {\n  Member member = event.getMessage()\n    .getMentions()\n    .getMembers()\n    .get(0);\n\n  EmbedBuilder embedBuilder = new EmbedBuilder();\n  embedBuilder.setColor(Color.cyan);\n  // simply put the users snowflake ID between &lt;@ and &gt;\n  embedBuilder.setDescription(&quot;Hello, &lt;@&quot; + member.getUser().getId() + &quot;&gt;!&quot;);\n  embedBuilder.build();\n  event.getChannel().sendMessageEmbeds(embedBuilder.build()).queue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673122583,"creation_date":1673122583,"answer_id":75043495,"question_id":75022348,"body_markdown":"To get a mention of a member you can use `member.getAsMention()`, in your case if you would like to actually mention someone, you would need to do it in the actual message (not the embed itself) as **embeds do not support mentions** and so it will be formatted in a weird way.\r\n\r\nAlternatively you can just get the users name using `member.getEffectiveName()` and prepend it with &#39;@&#39; so it would look like a mention, but won&#39;t actually mention anyone","title":"how can I get the member mentioned and displayed in the embed","body":"<p>To get a mention of a member you can use <code>member.getAsMention()</code>, in your case if you would like to actually mention someone, you would need to do it in the actual message (not the embed itself) as <strong>embeds do not support mentions</strong> and so it will be formatted in a weird way.</p>\n<p>Alternatively you can just get the users name using <code>member.getEffectiveName()</code> and prepend it with '@' so it would look like a mention, but won't actually mention anyone</p>\n"}],"owner":{"account_id":27445013,"reputation":11,"user_id":20938967,"display_name":"Negative1 "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1673122789,"answer_count":2,"score":1,"last_activity_date":1673122583,"creation_date":1672940401,"question_id":75022348,"body_markdown":"    if(msg.equalsIgnoreCase(&quot;hi&quot;)){\r\n                Member member = event.getMessage().getMentions().getMembers().get(0);\r\n                EmbedBuilder embedBuilder = new EmbedBuilder();\r\n                embedBuilder.setColor(Color.cyan);\r\n                embedBuilder.setDescription(&quot;Hello, &quot; + member.getUser().getName() + &quot;!&quot;);\r\n                embedBuilder.build();\r\n                event.getChannel().sendMessageEmbeds(embedBuilder.build()).queue();\r\n   \r\n\r\nmessage: hi @mentioned\r\nexpected answer: hello @mention or name","title":"how can I get the member mentioned and displayed in the embed","body":"<pre><code>if(msg.equalsIgnoreCase(&quot;hi&quot;)){\n            Member member = event.getMessage().getMentions().getMembers().get(0);\n            EmbedBuilder embedBuilder = new EmbedBuilder();\n            embedBuilder.setColor(Color.cyan);\n            embedBuilder.setDescription(&quot;Hello, &quot; + member.getUser().getName() + &quot;!&quot;);\n            embedBuilder.build();\n            event.getChannel().sendMessageEmbeds(embedBuilder.build()).queue();\n</code></pre>\n<p>message: hi @mentioned\nexpected answer: hello @mention or name</p>\n"},{"tags":["java","c#","asynchronous","encryption","public-key-encryption"],"comments":[{"owner":{"account_id":7493031,"reputation":156,"user_id":5694077,"display_name":"Austin G"},"score":0,"creation_date":1598387727,"post_id":63586396,"comment_id":112441770,"body_markdown":"Have you tried `rsa.Encrypt(data, RSAEncryptionPadding.Pkcs1)`? Also I hope this doesn&#39;t need to be said, but if these are real keys you will need to change them now.","body":"Have you tried <code>rsa.Encrypt(data, RSAEncryptionPadding.Pkcs1)</code>? Also I hope this doesn&#39;t need to be said, but if these are real keys you will need to change them now."},{"owner":{"account_id":938137,"reputation":5346,"user_id":966691,"accept_rate":71,"display_name":"motevalizadeh"},"score":0,"creation_date":1598387932,"post_id":63586396,"comment_id":112441862,"body_markdown":"@AustinG Yes I did, put it on my c# function and in java:&quot;RSA/ECB/PKCS1Padding&quot;, The error is: &quot;javax.crypto.BadPaddingException: Decryption error&quot;","body":"@AustinG Yes I did, put it on my c# function and in java:&quot;RSA/ECB/PKCS1Padding&quot;, The error is: &quot;javax.crypto.BadPaddingException: Decryption error&quot;"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1598393863,"post_id":63586396,"comment_id":112443873,"body_markdown":"Private/Public key cryptography (encryption) works with different keys. For the encryption part you have to use the PUBLIC key and on the decryption side it is the PRIVATE key that&#39;s in use.","body":"Private/Public key cryptography (encryption) works with different keys. For the encryption part you have to use the PUBLIC key and on the decryption side it is the PRIVATE key that&#39;s in use."}],"owner":{"account_id":938137,"reputation":5346,"user_id":966691,"accept_rate":71,"display_name":"motevalizadeh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673121651,"creation_date":1598386237,"question_id":63586396,"body_markdown":"I want to encrypt a string in c#(server/.Net Core) and decrypt it in java(client) using RSA and public/private keys. C# side has both private and public keys and the Java side should encrypt and decrypt with the public key.\r\n\r\nThese are Keys:\r\n\r\n    static string  privateKey = &quot;&lt;RSAKeyValue&gt;&lt;Modulus&gt;cBO/qYQLb376JT2QuPRnTi7Q24tgsZmg12TGGzYebXQtOH8+FDmBhkcMUt9+oLT7H5pKZKI8ql7eVKbK7rY7OAKBQd4g6BRG+09npObRX4zInZjRsqr6wzCcAul5ml+qVw765NRFlsVXzd5cYDp9+aTk=&lt;/Modulus&gt;&lt;Exponent&gt;AQAB&lt;/Exponent&gt;&lt;P&gt;2lTMG9Kxa1IH/Heo/eiYVb+7+lY3Lp+PcQ6NG866mqPlgEeuh3dc2DjAqira665l+GS5X6rM775PSWIU+tCTow==&lt;/P&gt;&lt;Q&gt;2w235CmX9NPRSmeXFiERm3gDUjl7jPsA+ynZAEBuVD/UYZ/QfAtSwoW9puWbLos0W1YfKxmxcXRtZaGl5Mz9cw==&lt;/Q&gt;&lt;DP&gt;oVE8SmZ/rsM6oWEsnQbJ37m+Q7aGKU2955QP0PcLS41D2mecXf1kvWIZgOIPRUpjj4ekrDoAGDfuT1NIGxYXrw==&lt;/DP&gt;&lt;DQ&gt;2rq4BHwD39QiB8moc9BRZIxRxKjhVcTNFf6TUE0F3dpel5yc8T/dQ5+H4D8k1TTq8sjsFn1xUXiQRAtFO1H1QQ==&lt;/DQ&gt;&lt;InverseQ&gt;lW6iyrtSYGK0ehBMLPEGbHlu7e5TiBhVDPuQMKl5K7arQXlPevjPLYKkvxOWSak6GAjZJkj9tOEbqnQ3YGSFXA==&lt;/InverseQ&gt;&lt;D&gt;fSdbNllNf8iMcR1bfohxXN1cpqDDq6B5XDZAw64Jig2wt0cad4BYkqgbJpUx/6MTMzxSZs8qjfuiZYvvnl/wieGoOZWx78mjSLz5bl5QKcIjTUirUX1jzcguLZJXJnDpZQfjLui2e2l69b/5c62iEB0dSd7nHrvYYV4YQALLHgE=&lt;/D&gt;&lt;/RSAKeyValue&gt;&quot;;//rsa1.ToXmlString(true);\r\n    static string  publicKey = &quot;&lt;RSAKeyValue&gt;&lt;Modulus&gt;cBO/qYQLb376JT2QuPRnTi7Q24tgsZmg12TGGzYebXQtOH8+FDmBhkcMUt9+oLT7H5pKZKI8ql7eVKbK7rY7OAKBQd4g6BRG+09npObRX4zInZjRsqr6wzCcAul5ml+qVw765NRFlsVXzd5cYDp9+aTk=&lt;/Modulus&gt;&lt;Exponent&gt;AQAB&lt;/Exponent&gt;&lt;/RSAKeyValue&gt;&quot;;\r\n\r\nEncryption Method in c#:\r\n\r\n     static string Encrypt(string text)\r\n        {\r\n            const int PROVIDER_RSA_FULL = 1;\r\n            const string CONTAINER_NAME = &quot;Tracker&quot;;\r\n\r\n            CspParameters cspParams;\r\n            cspParams = new CspParameters(PROVIDER_RSA_FULL);\r\n            cspParams.KeyContainerName = CONTAINER_NAME;\r\n            RSACryptoServiceProvider rsa1 = new RSACryptoServiceProvider(cspParams);\r\n            rsa1.FromXmlString(publicKey);\r\n\r\n            UTF8Encoding encoding = new UTF8Encoding();\r\n            byte[] textBytes = encoding.GetBytes(text);\r\n            byte[] encryptedOutput = rsa1.Encrypt(textBytes, false);\r\n           // byte[] encryptedOutput = rsa1.Encrypt(textBytes, RSAEncryptionPadding.OaepSHA1);\r\n            string outputB64 = Convert.ToBase64String(encryptedOutput);\r\n\r\n            return outputB64;\r\n        }\r\n\r\nThe output of encryption method in c# (test data was: &quot;123&quot;):\r\n\r\n     static String mydata=&quot;AynqFwY2BMb7q6DXEOPiFSmqTjt3k+yRmkhU2QyEGoVR8SzcenUec0PFWERLAZmarq/Gxp7gJSf1MNHyTQRjTPaMqao5PXHb+Cl7p+CiXtt2hSPZesRI7APGOYhN6Zvmu+uIDEqdbcpfrXuY+4kY8eFnWZ+rnX/FXm5cHEMrnxQ=&quot;;\r\nDecryption Method in Java:\r\n\r\n       static String Decrypt(String encodedString) {\r\n        try {\r\n            byte[] modulusBytes = Base64.getDecoder().decode(publicKey);\r\n            byte[] exponentBytes = Base64.getDecoder().decode(&quot;AQAB&quot;);\r\n            BigInteger modulus = new BigInteger(1, modulusBytes);\r\n            BigInteger exponent = new BigInteger(1, exponentBytes);\r\n\r\n            RSAPublicKeySpec rsaPubKey = new RSAPublicKeySpec(modulus, exponent);\r\n            KeyFactory fact = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PublicKey pubKey = fact.generatePublic(rsaPubKey);\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1PADDING&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, pubKey);\r\n\r\n            byte[] cipherData = Base64.getDecoder().decode(encodedString);\r\n            byte[] plainBytes = cipher.doFinal(cipherData);\r\n            return new String(plainBytes, &quot;UTF-8&quot;);\r\n\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException | NoSuchPaddingException | UnsupportedEncodingException | InvalidKeyException | BadPaddingException | IllegalBlockSizeException err) {\r\n            System.out.println(err.getMessage());\r\n        }\r\n        return &quot;Error&quot;;\r\n    }\r\n\r\nIt seems the problem is in this line in java function:\r\n    \r\n    Cipher cipher = Cipher.getInstance(RSA/ECB/PKCS1Padding);\r\n\r\nI set true and false in c# function in this line but doesn&#39;t work:\r\n\r\n    byte[] encryptedOutput = rsa1.Encrypt(textBytes, false);\r\n\r\n after that deceided to replace it with:\r\n\r\n    byte[] encryptedOutput = rsa1.Encrypt(textBytes, RSAEncryptionPadding.OaepSHA1);\r\n\r\nDid not work, and tested all the padding types in both functions and check all but didn&#39;t work.\r\n\r\nI checked solutions in [this post][1] but I think the problem is not about padding maybe its because of encode and decode the strings.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5676406/rsa-encryption-decryption-issue-encrypted-text-from-net-not-decrypting-in-java","title":"How to encrypt data with RSA in .Net Core and decrypt it in Java?","body":"<p>I want to encrypt a string in c#(server/.Net Core) and decrypt it in java(client) using RSA and public/private keys. C# side has both private and public keys and the Java side should encrypt and decrypt with the public key.</p>\n<p>These are Keys:</p>\n<pre><code>static string  privateKey = &quot;&lt;RSAKeyValue&gt;&lt;Modulus&gt;cBO/qYQLb376JT2QuPRnTi7Q24tgsZmg12TGGzYebXQtOH8+FDmBhkcMUt9+oLT7H5pKZKI8ql7eVKbK7rY7OAKBQd4g6BRG+09npObRX4zInZjRsqr6wzCcAul5ml+qVw765NRFlsVXzd5cYDp9+aTk=&lt;/Modulus&gt;&lt;Exponent&gt;AQAB&lt;/Exponent&gt;&lt;P&gt;2lTMG9Kxa1IH/Heo/eiYVb+7+lY3Lp+PcQ6NG866mqPlgEeuh3dc2DjAqira665l+GS5X6rM775PSWIU+tCTow==&lt;/P&gt;&lt;Q&gt;2w235CmX9NPRSmeXFiERm3gDUjl7jPsA+ynZAEBuVD/UYZ/QfAtSwoW9puWbLos0W1YfKxmxcXRtZaGl5Mz9cw==&lt;/Q&gt;&lt;DP&gt;oVE8SmZ/rsM6oWEsnQbJ37m+Q7aGKU2955QP0PcLS41D2mecXf1kvWIZgOIPRUpjj4ekrDoAGDfuT1NIGxYXrw==&lt;/DP&gt;&lt;DQ&gt;2rq4BHwD39QiB8moc9BRZIxRxKjhVcTNFf6TUE0F3dpel5yc8T/dQ5+H4D8k1TTq8sjsFn1xUXiQRAtFO1H1QQ==&lt;/DQ&gt;&lt;InverseQ&gt;lW6iyrtSYGK0ehBMLPEGbHlu7e5TiBhVDPuQMKl5K7arQXlPevjPLYKkvxOWSak6GAjZJkj9tOEbqnQ3YGSFXA==&lt;/InverseQ&gt;&lt;D&gt;fSdbNllNf8iMcR1bfohxXN1cpqDDq6B5XDZAw64Jig2wt0cad4BYkqgbJpUx/6MTMzxSZs8qjfuiZYvvnl/wieGoOZWx78mjSLz5bl5QKcIjTUirUX1jzcguLZJXJnDpZQfjLui2e2l69b/5c62iEB0dSd7nHrvYYV4YQALLHgE=&lt;/D&gt;&lt;/RSAKeyValue&gt;&quot;;//rsa1.ToXmlString(true);\nstatic string  publicKey = &quot;&lt;RSAKeyValue&gt;&lt;Modulus&gt;cBO/qYQLb376JT2QuPRnTi7Q24tgsZmg12TGGzYebXQtOH8+FDmBhkcMUt9+oLT7H5pKZKI8ql7eVKbK7rY7OAKBQd4g6BRG+09npObRX4zInZjRsqr6wzCcAul5ml+qVw765NRFlsVXzd5cYDp9+aTk=&lt;/Modulus&gt;&lt;Exponent&gt;AQAB&lt;/Exponent&gt;&lt;/RSAKeyValue&gt;&quot;;\n</code></pre>\n<p>Encryption Method in c#:</p>\n<pre><code> static string Encrypt(string text)\n    {\n        const int PROVIDER_RSA_FULL = 1;\n        const string CONTAINER_NAME = &quot;Tracker&quot;;\n\n        CspParameters cspParams;\n        cspParams = new CspParameters(PROVIDER_RSA_FULL);\n        cspParams.KeyContainerName = CONTAINER_NAME;\n        RSACryptoServiceProvider rsa1 = new RSACryptoServiceProvider(cspParams);\n        rsa1.FromXmlString(publicKey);\n\n        UTF8Encoding encoding = new UTF8Encoding();\n        byte[] textBytes = encoding.GetBytes(text);\n        byte[] encryptedOutput = rsa1.Encrypt(textBytes, false);\n       // byte[] encryptedOutput = rsa1.Encrypt(textBytes, RSAEncryptionPadding.OaepSHA1);\n        string outputB64 = Convert.ToBase64String(encryptedOutput);\n\n        return outputB64;\n    }\n</code></pre>\n<p>The output of encryption method in c# (test data was: &quot;123&quot;):</p>\n<pre><code> static String mydata=&quot;AynqFwY2BMb7q6DXEOPiFSmqTjt3k+yRmkhU2QyEGoVR8SzcenUec0PFWERLAZmarq/Gxp7gJSf1MNHyTQRjTPaMqao5PXHb+Cl7p+CiXtt2hSPZesRI7APGOYhN6Zvmu+uIDEqdbcpfrXuY+4kY8eFnWZ+rnX/FXm5cHEMrnxQ=&quot;;\n</code></pre>\n<p>Decryption Method in Java:</p>\n<pre><code>   static String Decrypt(String encodedString) {\n    try {\n        byte[] modulusBytes = Base64.getDecoder().decode(publicKey);\n        byte[] exponentBytes = Base64.getDecoder().decode(&quot;AQAB&quot;);\n        BigInteger modulus = new BigInteger(1, modulusBytes);\n        BigInteger exponent = new BigInteger(1, exponentBytes);\n\n        RSAPublicKeySpec rsaPubKey = new RSAPublicKeySpec(modulus, exponent);\n        KeyFactory fact = KeyFactory.getInstance(&quot;RSA&quot;);\n        PublicKey pubKey = fact.generatePublic(rsaPubKey);\n\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1PADDING&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, pubKey);\n\n        byte[] cipherData = Base64.getDecoder().decode(encodedString);\n        byte[] plainBytes = cipher.doFinal(cipherData);\n        return new String(plainBytes, &quot;UTF-8&quot;);\n\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException | NoSuchPaddingException | UnsupportedEncodingException | InvalidKeyException | BadPaddingException | IllegalBlockSizeException err) {\n        System.out.println(err.getMessage());\n    }\n    return &quot;Error&quot;;\n}\n</code></pre>\n<p>It seems the problem is in this line in java function:</p>\n<pre><code>Cipher cipher = Cipher.getInstance(RSA/ECB/PKCS1Padding);\n</code></pre>\n<p>I set true and false in c# function in this line but doesn't work:</p>\n<pre><code>byte[] encryptedOutput = rsa1.Encrypt(textBytes, false);\n</code></pre>\n<p>after that deceided to replace it with:</p>\n<pre><code>byte[] encryptedOutput = rsa1.Encrypt(textBytes, RSAEncryptionPadding.OaepSHA1);\n</code></pre>\n<p>Did not work, and tested all the padding types in both functions and check all but didn't work.</p>\n<p>I checked solutions in <a href=\"https://stackoverflow.com/questions/5676406/rsa-encryption-decryption-issue-encrypted-text-from-net-not-decrypting-in-java\">this post</a> but I think the problem is not about padding maybe its because of encode and decode the strings.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1673115901,"post_id":75042710,"comment_id":132427583,"body_markdown":"&quot;Can someone explain me why v2.sum(v3) in &quot;System.out.println(v2.sum(v3))&quot; doesn&#39;t use the subclass method&quot; - because the subclass method doesn&#39;t *override* `sum`, it *overloads* it, because the parameter type is different. I strongly advise you to use the `@Override` annotation when you&#39;re trying to override a method - that way the compiler can tell you when you&#39;re not actually doing so...","body":"&quot;Can someone explain me why v2.sum(v3) in &quot;System.out.println(v2.sum(v3))&quot; doesn&#39;t use the subclass method&quot; - because the subclass method doesn&#39;t <i>override</i> <code>sum</code>, it <i>overloads</i> it, because the parameter type is different. I strongly advise you to use the <code>@Override</code> annotation when you&#39;re trying to override a method - that way the compiler can tell you when you&#39;re not actually doing so..."}],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673120986,"creation_date":1673116711,"answer_id":75042864,"question_id":75042710,"body_markdown":"The method  \r\n`SpaceVector sum (SpaceVector)`  \r\nin SpaceVector isn&#39;t an override of\r\n`PlanarVector sum (PlanarVector)`  \r\nin PlanarVector, but just an overload.\r\n\r\nBoth methods exists in SpaceVector.\r\nIt isn&#39;t an override because the signature are different (the argument passed isn&#39;t of the same type).\r\n\r\nSecondly, Java doesn&#39;t implement multiple argument dispatch but only single argument dispatch, by using simple virtual tables. In clear, it means that it look only at the first argument to decide dynamically which method to call, and \r\nin Java, the first argument of a (non-static) method is always the implicit this reference. The this reference basically determines in which method virtual table to look at.\r\nOther arguments are always resolved at compile time and never dynamically.\r\nSome languages implement multiple argument dispatch, but not Java.\r\n\r\nIf you put both information together, you can understand why the actual method called isn&#39;t the one you expected: \r\nyou pass an object of declared type PlanarVector, so the method called is `PlanarVector sum(PlanarVector)`. The compiler don&#39;t know, and in fact can&#39;t know if you have a reference to a PlanarVector or a subclass.\r\n\r\nTry to change the declarations of v2 and v3 and you will see the difference. Also try with the var keyword and observe what happens. It&#39;s interesting to experiment by yourself to understand.\r\n\r\nIf you want your code to work like multiple argument dispatch, you will need to implement the well known visitor pattern.\r\n","title":"Dynamic Binding and Overriding/Overloading in java","body":"<p>The method<br />\n<code>SpaceVector sum (SpaceVector)</code><br />\nin SpaceVector isn't an override of\n<code>PlanarVector sum (PlanarVector)</code><br />\nin PlanarVector, but just an overload.</p>\n<p>Both methods exists in SpaceVector.\nIt isn't an override because the signature are different (the argument passed isn't of the same type).</p>\n<p>Secondly, Java doesn't implement multiple argument dispatch but only single argument dispatch, by using simple virtual tables. In clear, it means that it look only at the first argument to decide dynamically which method to call, and\nin Java, the first argument of a (non-static) method is always the implicit this reference. The this reference basically determines in which method virtual table to look at.\nOther arguments are always resolved at compile time and never dynamically.\nSome languages implement multiple argument dispatch, but not Java.</p>\n<p>If you put both information together, you can understand why the actual method called isn't the one you expected:\nyou pass an object of declared type PlanarVector, so the method called is <code>PlanarVector sum(PlanarVector)</code>. The compiler don't know, and in fact can't know if you have a reference to a PlanarVector or a subclass.</p>\n<p>Try to change the declarations of v2 and v3 and you will see the difference. Also try with the var keyword and observe what happens. It's interesting to experiment by yourself to understand.</p>\n<p>If you want your code to work like multiple argument dispatch, you will need to implement the well known visitor pattern.</p>\n"}],"owner":{"account_id":25791616,"reputation":11,"user_id":19535595,"display_name":"Mateusz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673120986,"creation_date":1673115155,"question_id":75042710,"body_markdown":"```\r\npublic abstract class Vector{\r\n    public abstract double norm();\r\n}\r\npublic class PlanarVector extends Vector {\r\n    protected final double x;\r\n    protected final double y;\r\n    public PlanarVector(double x, double y){\r\n        this.x=x;\r\n        this.y=y;\r\n    }\r\n    public double norm(){\r\n        return Math.sqrt(x*x+y*y);\r\n    }\r\n    public PlanarVector sum(PlanarVector v){\r\n        return new PlanarVector(x+v.x, y+v.y);\r\n    }\r\n    public String toString(){\r\n        return &quot;x=&quot; + x + &quot; y=&quot; + y;\r\n    }\r\n}\r\npublic class SpaceVector extends PlanarVector {\r\n    protected final double z;\r\n    public SpaceVector(double x, double y,double z){\r\n        super(x,y);\r\n        this.z=z;\r\n    }\r\n    public double norm(){\r\n        return Math.sqrt(x*x + y*y + z*z);\r\n    }\r\n    public SpaceVector sum(SpaceVector v){\r\n        return new SpaceVector(x+v.x, y+v.y, z+v.z);\r\n    }\r\n    public String toString(){\r\n        return super.toString() + &quot; z=&quot; + z;\r\n    }\r\n}\r\n\r\npublic class TestVector {\r\n    public static void main ( String[] args ) {\r\n        Vector v0 ;\r\n        PlanarVector v1 , v2 ;\r\n        SpaceVector v3 , v4 ;\r\n        v1 = new PlanarVector ( 3 , 4 ) ;\r\n        v0 = v1 ;\r\n        v2 = new SpaceVector ( 2 , 3 , 6 ) ;\r\n        v3 = new SpaceVector ( 2 , 1 , 0 ) ;\r\n        v4 = v3 ;\r\n        System.out.println(v1.sum(v2)) ; //expected output: x=5 y=7 realoutput: x=5 y=7 (v1 can only use PlanarVectorMethods because its dynamic and static type is PlanarVector)\r\n\r\n        System.out.println(v2.sum(v1)) ; //expected output: x=5 y=7 realoutput: x=5 y=7\r\n        System.out.println(v2.sum(v3)) ; //expected output: &#39;x=4 y=4 z=6&#39;  realoutput: &#39;x=4 y=4&#39;\r\n        System.out.println(v3.sum(v2)) ; //expected output: &#39;x=4 y=4 z=6&#39;  realoutput: &#39;x=4 y=4&#39;\r\n        System.out.println(v3.sum(v4)) ;\r\n        System.out.println(v1.norm()) ;\r\n        System.out.println(v2.norm()) ; //expected output: sqrt(13) realoutput: 7\r\n\r\n   \r\n\r\n    }\r\n}\r\n```\r\nCan someone explain me why v2.sum(v3) in &quot;System.out.println(v2.sum(v3))&quot; doesn&#39;t use the subclass method ? \r\nI know the static type of v2 is PlanarVector but its dynamic type is SpaceVector \r\nsame goes for  System.out.println(v3.sum(v2)),  static and dynamic type of v3 is SpaceVector and v2 is considered planarVector here ? Why?!\r\nand the last System.out.println(v2.norm()) considers v2 as SpaceVector this time ... what is happening ?!\r\nI have a last question too, Superclasses cannot use subclasses methods even tho it is an instance of the subclass right ? what happens if the method is an overrided method in the subclass, why the superclass can now use it (and uses the subclass implementation)?\r\n\r\n\r\nI&#39;m asking a question about java fundamentals, expecting simple and clear answers with examples.","title":"Dynamic Binding and Overriding/Overloading in java","body":"<pre><code>public abstract class Vector{\n    public abstract double norm();\n}\npublic class PlanarVector extends Vector {\n    protected final double x;\n    protected final double y;\n    public PlanarVector(double x, double y){\n        this.x=x;\n        this.y=y;\n    }\n    public double norm(){\n        return Math.sqrt(x*x+y*y);\n    }\n    public PlanarVector sum(PlanarVector v){\n        return new PlanarVector(x+v.x, y+v.y);\n    }\n    public String toString(){\n        return &quot;x=&quot; + x + &quot; y=&quot; + y;\n    }\n}\npublic class SpaceVector extends PlanarVector {\n    protected final double z;\n    public SpaceVector(double x, double y,double z){\n        super(x,y);\n        this.z=z;\n    }\n    public double norm(){\n        return Math.sqrt(x*x + y*y + z*z);\n    }\n    public SpaceVector sum(SpaceVector v){\n        return new SpaceVector(x+v.x, y+v.y, z+v.z);\n    }\n    public String toString(){\n        return super.toString() + &quot; z=&quot; + z;\n    }\n}\n\npublic class TestVector {\n    public static void main ( String[] args ) {\n        Vector v0 ;\n        PlanarVector v1 , v2 ;\n        SpaceVector v3 , v4 ;\n        v1 = new PlanarVector ( 3 , 4 ) ;\n        v0 = v1 ;\n        v2 = new SpaceVector ( 2 , 3 , 6 ) ;\n        v3 = new SpaceVector ( 2 , 1 , 0 ) ;\n        v4 = v3 ;\n        System.out.println(v1.sum(v2)) ; //expected output: x=5 y=7 realoutput: x=5 y=7 (v1 can only use PlanarVectorMethods because its dynamic and static type is PlanarVector)\n\n        System.out.println(v2.sum(v1)) ; //expected output: x=5 y=7 realoutput: x=5 y=7\n        System.out.println(v2.sum(v3)) ; //expected output: 'x=4 y=4 z=6'  realoutput: 'x=4 y=4'\n        System.out.println(v3.sum(v2)) ; //expected output: 'x=4 y=4 z=6'  realoutput: 'x=4 y=4'\n        System.out.println(v3.sum(v4)) ;\n        System.out.println(v1.norm()) ;\n        System.out.println(v2.norm()) ; //expected output: sqrt(13) realoutput: 7\n\n   \n\n    }\n}\n</code></pre>\n<p>Can someone explain me why v2.sum(v3) in &quot;System.out.println(v2.sum(v3))&quot; doesn't use the subclass method ?\nI know the static type of v2 is PlanarVector but its dynamic type is SpaceVector\nsame goes for  System.out.println(v3.sum(v2)),  static and dynamic type of v3 is SpaceVector and v2 is considered planarVector here ? Why?!\nand the last System.out.println(v2.norm()) considers v2 as SpaceVector this time ... what is happening ?!\nI have a last question too, Superclasses cannot use subclasses methods even tho it is an instance of the subclass right ? what happens if the method is an overrided method in the subclass, why the superclass can now use it (and uses the subclass implementation)?</p>\n<p>I'm asking a question about java fundamentals, expecting simple and clear answers with examples.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3595528,"reputation":3527,"user_id":3000387,"accept_rate":92,"display_name":"Marv"},"score":1,"creation_date":1483352887,"post_id":41425003,"comment_id":70055436,"body_markdown":"Hello and welcome to Stackoverflow. &quot;Can you please guide me for better code&quot; Not if you can&#39;t provide any code. Please see [How do I ask a good question?](http://stackoverflow.com/help/how-to-ask)","body":"Hello and welcome to Stackoverflow. &quot;Can you please guide me for better code&quot; Not if you can&#39;t provide any code. Please see <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1483352917,"post_id":41425003,"comment_id":70055448,"body_markdown":"have a look at `String.split()` method","body":"have a look at <code>String.split()</code> method"},{"owner":{"account_id":6671623,"reputation":822,"user_id":5147603,"accept_rate":50,"display_name":"Rucha Bhatt Joshi"},"score":0,"creation_date":1483353099,"post_id":41425003,"comment_id":70055554,"body_markdown":"add what you done to achieve this!!","body":"add what you done to achieve this!!"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1483353533,"post_id":41425003,"comment_id":70055764,"body_markdown":"Your code work in the wrong sens, loop on the last cells of your `String[] split` to rebuild the corresponding string. for split.length -3 to split.length (carefull if there is not enough cells ;) )","body":"Your code work in the wrong sens, loop on the last cells of your <code>String[] split</code> to rebuild the corresponding string. for split.length -3 to split.length (carefull if there is not enough cells ;) )"}],"answers":[{"tags":[],"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483353411,"creation_date":1483353411,"answer_id":41425161,"question_id":41425003,"body_markdown":"Look at [`String`][1] class API. \r\n\r\nYou can use `\tlastIndexOf(String str, int fromIndex)`, `substring(int beginIndex)` and `length()` methods.\r\n\r\nFollow below steps:\r\n\r\n 1. Call `lastIndexOf` 3 times and note down the return value.\r\n 2. Use `substring` to get string from this index.\r\n 3. Use `length` to get count.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html","title":"How to count string from last 3rd comma in Java?","body":"<p>Look at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> class API. </p>\n\n<p>You can use <code>lastIndexOf(String str, int fromIndex)</code>, <code>substring(int beginIndex)</code> and <code>length()</code> methods.</p>\n\n<p>Follow below steps:</p>\n\n<ol>\n<li>Call <code>lastIndexOf</code> 3 times and note down the return value.</li>\n<li>Use <code>substring</code> to get string from this index.</li>\n<li>Use <code>length</code> to get count.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":355635,"reputation":1798,"user_id":694691,"accept_rate":71,"display_name":"Sasi Kathimanda"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1483354008,"creation_date":1483354008,"answer_id":41425318,"question_id":41425003,"body_markdown":"    String output = s.substring(s.indexOf(&quot;,&quot;, 6));\r\n    System.out.println(&quot; string from last 3rd comma -&gt; &quot;+ output +&quot;\\n and count -&gt; &quot;+ output.length() );\r\n\r\nconsole output:\r\n\r\n&gt;  string from last 3rd comma -&gt; ,hi,hello,lol  and count -&gt; 13\r\n\r\n","title":"How to count string from last 3rd comma in Java?","body":"<pre><code>String output = s.substring(s.indexOf(\",\", 6));\nSystem.out.println(\" string from last 3rd comma -&gt; \"+ output +\"\\n and count -&gt; \"+ output.length() );\n</code></pre>\n\n<p>console output:</p>\n\n<blockquote>\n  <p>string from last 3rd comma -> ,hi,hello,lol  and count -> 13</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7258451,"reputation":302,"user_id":5536173,"display_name":"Pradnyarani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483357550,"creation_date":1483357550,"answer_id":41426216,"question_id":41425003,"body_markdown":"Try this one,\r\n\r\n                String data =&quot;abc,def,hi,hello,lol&quot;;\r\n        \tStringBuilder sb = new StringBuilder(data);\r\n        \tsb.reverse();\r\n        \tdata= sb.toString();\r\n        \t\r\n        \tList&lt;String&gt; split = new ArrayList&lt;String&gt;();\r\n        \tint startIndex = 0;\r\n        \tint n = 0;\r\n        \tfor (int i = data.indexOf(&#39;,&#39;) + 1; i &gt; 0; i = data.indexOf(&#39;,&#39;, i) + 1, n++) {\r\n        \t    if (n % 3 == 2) {\r\n        \t    \tsplit.add(data.substring(startIndex, i ));\r\n        \t        startIndex = i;\r\n        \t    }\r\n        \t}\r\n        \tsplit.add(data.substring(startIndex));\r\n        \tfor(String s : split)\r\n        \t{\r\n        \t\tsb = new StringBuilder(s);\r\n        \t\ts = sb.reverse().toString();\r\n        \t    System.out.println(s+&quot; : &quot;+s.length());\r\n        \t}\r\noutput :\r\n,hi,hello,lol : 13      \r\nabc,def : 7","title":"How to count string from last 3rd comma in Java?","body":"<p>Try this one,</p>\n\n<pre><code>            String data =\"abc,def,hi,hello,lol\";\n        StringBuilder sb = new StringBuilder(data);\n        sb.reverse();\n        data= sb.toString();\n\n        List&lt;String&gt; split = new ArrayList&lt;String&gt;();\n        int startIndex = 0;\n        int n = 0;\n        for (int i = data.indexOf(',') + 1; i &gt; 0; i = data.indexOf(',', i) + 1, n++) {\n            if (n % 3 == 2) {\n                split.add(data.substring(startIndex, i ));\n                startIndex = i;\n            }\n        }\n        split.add(data.substring(startIndex));\n        for(String s : split)\n        {\n            sb = new StringBuilder(s);\n            s = sb.reverse().toString();\n            System.out.println(s+\" : \"+s.length());\n        }\n</code></pre>\n\n<p>output :\n,hi,hello,lol : 13<br>\nabc,def : 7</p>\n"},{"tags":[],"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483382594,"creation_date":1483362288,"answer_id":41427422,"question_id":41425003,"body_markdown":"This one arrives at the answer in only two statements:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;abc,def,hi,hello,lol&quot;;\r\n\t\tString[] pieces = s.split(&quot;(?=,)&quot;); // split using positive lookahead\r\n\t\tString answer = (pieces.length &lt; 3) ? &quot;&quot;: // check if not enough pieces\r\n\t\t\tArrays.stream(pieces).skip(pieces.length - 3).collect(Collectors.joining());\r\n\t\tSystem.out.format(&quot;Answer = \\&quot;%s\\&quot;%n&quot;, answer);\r\n\t\tSystem.out.format(&quot;Count = %d%n&quot;, answer.length());\r\n\t}\r\n\r\nI split at the position before each comma using positive lookahead, because if you use a simple `split(&quot;,&quot;)` then your program would fail for strings that end with comma.","title":"How to count string from last 3rd comma in Java?","body":"<p>This one arrives at the answer in only two statements:</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"abc,def,hi,hello,lol\";\n    String[] pieces = s.split(\"(?=,)\"); // split using positive lookahead\n    String answer = (pieces.length &lt; 3) ? \"\": // check if not enough pieces\n        Arrays.stream(pieces).skip(pieces.length - 3).collect(Collectors.joining());\n    System.out.format(\"Answer = \\\"%s\\\"%n\", answer);\n    System.out.format(\"Count = %d%n\", answer.length());\n}\n</code></pre>\n\n<p>I split at the position before each comma using positive lookahead, because if you use a simple <code>split(\",\")</code> then your program would fail for strings that end with comma.</p>\n"}],"owner":{"account_id":9952807,"reputation":1,"user_id":7364789,"display_name":"Kiran Chand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":4,"score":-5,"last_activity_date":1673120740,"creation_date":1483352750,"question_id":41425003,"body_markdown":"I am using `String s=&quot;abc,def,hi,hello,lol&quot;`  \r\n\r\nBy using Java, how we can split the string from the last 3rd comma and get the string and string count?\r\n\r\nNeed Output as: \r\n\r\n&gt; ,hi,hello,lol\r\n\r\nAnd the count is 13.\r\n\r\nCan you please guide me to better code?\r\n\r\nBelow is my code, but it removes String from the last 3rd comma.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String s =&quot;abc,def,hi,hello,lol&quot;;\r\n\tString[] split = s.split(&quot;,&quot;);\r\n\t\t\r\n\tString newStr = &quot;&quot;;\r\n\tfor(int i = 0 ; i &lt; split.length -3 ; i++){ \r\n\t    newStr += split[i] + &quot;,&quot;;\r\n\t}\r\n\t\t\t\r\n\tnewStr = newStr.substring(0, newStr.length() - 1);\r\n\tSystem.out.println(newStr);","title":"How to count string from last 3rd comma in Java?","body":"<p>I am using <code>String s=&quot;abc,def,hi,hello,lol&quot;</code></p>\n<p>By using Java, how we can split the string from the last 3rd comma and get the string and string count?</p>\n<p>Need Output as:</p>\n<blockquote>\n<p>,hi,hello,lol</p>\n</blockquote>\n<p>And the count is 13.</p>\n<p>Can you please guide me to better code?</p>\n<p>Below is my code, but it removes String from the last 3rd comma.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s =&quot;abc,def,hi,hello,lol&quot;;\nString[] split = s.split(&quot;,&quot;);\n    \nString newStr = &quot;&quot;;\nfor(int i = 0 ; i &lt; split.length -3 ; i++){ \n    newStr += split[i] + &quot;,&quot;;\n}\n        \nnewStr = newStr.substring(0, newStr.length() - 1);\nSystem.out.println(newStr);\n</code></pre>\n"},{"tags":["java","firebase-realtime-database","firebase-security"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673120430,"creation_date":1673120430,"answer_id":75043270,"question_id":75042195,"body_markdown":"The `newData` variable contains the value for the node on which the rules is defined as it will exist after the write operation, if that write operation succeeds/is permitted.\r\n\r\nSo, you don&#39;t need to build a path from the root yourself, `newData` already points to the current node. I think that means you&#39;ll need:\r\n\r\n```\r\nnewData.child(auth.uid).child(&#39;ehAdmin&#39;).exists()\r\n```\r\n\r\n---\r\n\r\nIf in the future you want to inspect a node in a different branch from the root, you will have to call `parent()` to get from the current node to the root of the tree, and then use `child` calls from there.\r\n\r\n","title":"Firebase Realtime Database newData Rules","body":"<p>The <code>newData</code> variable contains the value for the node on which the rules is defined as it will exist after the write operation, if that write operation succeeds/is permitted.</p>\n<p>So, you don't need to build a path from the root yourself, <code>newData</code> already points to the current node. I think that means you'll need:</p>\n<pre><code>newData.child(auth.uid).child('ehAdmin').exists()\n</code></pre>\n<hr />\n<p>If in the future you want to inspect a node in a different branch from the root, you will have to call <code>parent()</code> to get from the current node to the root of the tree, and then use <code>child</code> calls from there.</p>\n"}],"owner":{"account_id":6281747,"reputation":63,"user_id":4882501,"display_name":"Ilian Felinto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673120430,"creation_date":1673110914,"question_id":75042195,"body_markdown":"I&#39;m creating some rules for a couple of tables which reflect a n2n relation. Below is the code I use to update the database:\r\n\r\n    // Prepara altera&#231;&#245;es no BD\r\n    HashMap&lt;String, Object&gt; dadosUpdate = new HashMap&lt;&gt;();\r\n    String idCurrUser = userManager.getCurrentUser().getId();\r\n\r\n    // Obtem nova chave para registros novos\r\n    if (isNew) {\r\n        String newCondominioId = FirebaseDBManager.getNewId(&quot;condominio&quot;);\r\n        condominioSel.setId(newCondominioId);\r\n    }\r\n\r\n    // Usuarios_Condominios\r\n    dadosUpdate.put(&quot;/usuarios_condominios/&quot; + idCurrUser + &quot;/&quot; + condominioSel.getId() + &quot;/ehAdmin/&quot;, true);\r\n    dadosUpdate.put(&quot;/usuarios_condominios/&quot; + idCurrUser + &quot;/&quot; + condominioSel.getId() + &quot;/ehSindico/&quot;, true);\r\n    dadosUpdate.put(&quot;/usuarios_condominios/&quot; + idCurrUser + &quot;/&quot; + condominioSel.getId() + &quot;/ehColaborador/&quot;, true);\r\n\r\n    // Condominios_Usuarios\r\n    dadosUpdate.put(&quot;/condominios_usuarios/&quot; + condominioSel.getId() + &quot;/&quot; + idCurrUser + &quot;/ehAdmin/&quot;, true);\r\n    dadosUpdate.put(&quot;/condominios_usuarios/&quot; + condominioSel.getId() + &quot;/&quot; + idCurrUser + &quot;/ehSindico/&quot;, true);\r\n    dadosUpdate.put(&quot;/condominios_usuarios/&quot; + condominioSel.getId() + &quot;/&quot; + idCurrUser + &quot;/ehColaborador/&quot;, true);\r\n\r\n    return fbDB.updateChildren(dadosUpdate);\r\n\r\nAnd here are the rules I&#39;ve setup at Firebase:\r\n\r\n\r\n    {\r\n      &quot;rules&quot;: {\r\n          &quot;usuarios_condominios&quot;: {\r\n              &quot;.read&quot; : &quot;auth.uid != null&quot;,\r\n              &quot;$idUsuario&quot;: {\r\n    \t          &quot;.write&quot;: &quot;(auth.uid === $idUsuario) || (root.child(&#39;usuarios&#39;).child(auth.uid).child(&#39;ehAdmin&#39;).val() == true)&quot;\r\n              }\r\n          },\r\n          &quot;condominios_usuarios&quot;: {\r\n              &quot;.read&quot; : &quot;auth.uid != null&quot;,\r\n              &quot;$idCondominio&quot;: {\r\n    \t          &quot;.write&quot;: &quot;(auth.uid != null &amp;&amp; newData.child(&#39;condominios_usuarios&#39;).child($idCondominio).child(auth.uid).child(&#39;ehAdmin&#39;).exists())&quot;\r\n              }\r\n          }\r\n       }\r\n    }\r\n\r\nFor some reason I could not find, the last rule is preventing me to save the data:\r\n```\r\n&quot;newData.child(&#39;condominios_usuarios&#39;).child($idCondominio).child(auth.uid).child(&#39;ehAdmin&#39;).exists()&quot;\r\n```\r\nPlease help me understand what am I doing wrong.","title":"Firebase Realtime Database newData Rules","body":"<p>I'm creating some rules for a couple of tables which reflect a n2n relation. Below is the code I use to update the database:</p>\n<pre><code>// Prepara alterações no BD\nHashMap&lt;String, Object&gt; dadosUpdate = new HashMap&lt;&gt;();\nString idCurrUser = userManager.getCurrentUser().getId();\n\n// Obtem nova chave para registros novos\nif (isNew) {\n    String newCondominioId = FirebaseDBManager.getNewId(&quot;condominio&quot;);\n    condominioSel.setId(newCondominioId);\n}\n\n// Usuarios_Condominios\ndadosUpdate.put(&quot;/usuarios_condominios/&quot; + idCurrUser + &quot;/&quot; + condominioSel.getId() + &quot;/ehAdmin/&quot;, true);\ndadosUpdate.put(&quot;/usuarios_condominios/&quot; + idCurrUser + &quot;/&quot; + condominioSel.getId() + &quot;/ehSindico/&quot;, true);\ndadosUpdate.put(&quot;/usuarios_condominios/&quot; + idCurrUser + &quot;/&quot; + condominioSel.getId() + &quot;/ehColaborador/&quot;, true);\n\n// Condominios_Usuarios\ndadosUpdate.put(&quot;/condominios_usuarios/&quot; + condominioSel.getId() + &quot;/&quot; + idCurrUser + &quot;/ehAdmin/&quot;, true);\ndadosUpdate.put(&quot;/condominios_usuarios/&quot; + condominioSel.getId() + &quot;/&quot; + idCurrUser + &quot;/ehSindico/&quot;, true);\ndadosUpdate.put(&quot;/condominios_usuarios/&quot; + condominioSel.getId() + &quot;/&quot; + idCurrUser + &quot;/ehColaborador/&quot;, true);\n\nreturn fbDB.updateChildren(dadosUpdate);\n</code></pre>\n<p>And here are the rules I've setup at Firebase:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n      &quot;usuarios_condominios&quot;: {\n          &quot;.read&quot; : &quot;auth.uid != null&quot;,\n          &quot;$idUsuario&quot;: {\n              &quot;.write&quot;: &quot;(auth.uid === $idUsuario) || (root.child('usuarios').child(auth.uid).child('ehAdmin').val() == true)&quot;\n          }\n      },\n      &quot;condominios_usuarios&quot;: {\n          &quot;.read&quot; : &quot;auth.uid != null&quot;,\n          &quot;$idCondominio&quot;: {\n              &quot;.write&quot;: &quot;(auth.uid != null &amp;&amp; newData.child('condominios_usuarios').child($idCondominio).child(auth.uid).child('ehAdmin').exists())&quot;\n          }\n      }\n   }\n}\n</code></pre>\n<p>For some reason I could not find, the last rule is preventing me to save the data:</p>\n<pre><code>&quot;newData.child('condominios_usuarios').child($idCondominio).child(auth.uid).child('ehAdmin').exists()&quot;\n</code></pre>\n<p>Please help me understand what am I doing wrong.</p>\n"},{"tags":["java","while-loop","try-catch","java.util.scanner"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1673115194,"post_id":75042633,"comment_id":132427420,"body_markdown":"You never `break` out of the infinite loop.","body":"You never <code>break</code> out of the infinite loop."}],"answers":[{"tags":[],"owner":{"account_id":2322191,"reputation":141,"user_id":2037608,"accept_rate":100,"display_name":"gemorra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673115783,"creation_date":1673115783,"answer_id":75042777,"question_id":75042633,"body_markdown":"In every loop circle you are trying to parse the input again.\r\nThe nextInt() methods throws an exception, but the input is still not processed and so the next loop circle tries again to parse the input...\r\n\r\nYou should read the input as String, check if it&#39;s a valid option (1 or 2) and return the option as integer (if you need it) otherwise the loop will start again waiting for new input because your input was porcessed.\r\n\r\nI just changed the relevant parts.\r\n\r\n     public static int start() {\r\n            while(true) {\r\n    \r\n                String choice;\r\n    \r\n                System.out.println(&quot;1 - New game&quot;);\r\n                System.out.println(&quot;2 - Load game&quot;);\r\n                System.out.print(&quot;\\nChoose an option&quot;);\r\n    \r\n                try {\r\n                    choice = input.next();\r\n                    //input.close();\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Error&quot;);\r\n                    //input.close();\r\n                    continue;\r\n                }\r\n    \r\n                if (choice.equals(&quot;1&quot;) || choice.equals(&quot;2&quot;)){\r\n                    //input.close();\r\n                    return Integer.parseInt(choice);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Error&quot;);\r\n                    //input.close();\r\n                }\r\n            }\r\n        }","title":"Scanner outside Java while loop","body":"<p>In every loop circle you are trying to parse the input again.\nThe nextInt() methods throws an exception, but the input is still not processed and so the next loop circle tries again to parse the input...</p>\n<p>You should read the input as String, check if it's a valid option (1 or 2) and return the option as integer (if you need it) otherwise the loop will start again waiting for new input because your input was porcessed.</p>\n<p>I just changed the relevant parts.</p>\n<pre><code> public static int start() {\n        while(true) {\n\n            String choice;\n\n            System.out.println(&quot;1 - New game&quot;);\n            System.out.println(&quot;2 - Load game&quot;);\n            System.out.print(&quot;\\nChoose an option&quot;);\n\n            try {\n                choice = input.next();\n                //input.close();\n            } catch (Exception e) {\n                System.out.println(&quot;Error&quot;);\n                //input.close();\n                continue;\n            }\n\n            if (choice.equals(&quot;1&quot;) || choice.equals(&quot;2&quot;)){\n                //input.close();\n                return Integer.parseInt(choice);\n            }\n            else {\n                System.out.println(&quot;Error&quot;);\n                //input.close();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user18256711"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673120182,"creation_date":1673120182,"answer_id":75043243,"question_id":75042633,"body_markdown":"Because the data read by nextInt is not an integer, but the data is not automatically skipped . \r\n\r\nYou can skip wrong characters with input.next() method\r\n\r\n\r\n```\r\n    static Scanner input = new Scanner(System.in);\r\n\r\n    public static int Start() {\r\n        while(true) {\r\n            int choice;\r\n    \r\n            System.out.println(&quot;1 - New game&quot;);\r\n            System.out.println(&quot;2 - Load game&quot;);\r\n            System.out.print(&quot;\\nChoose an option&quot;);\r\n    \r\n            try {\r\n                choice = input.nextInt();\r\n                //input.close();\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error&quot;);\r\n                if( input.hasNext() ) {\r\n                    input.next();\r\n                }\r\n                //input.close();\r\n                continue;\r\n            }\r\n\r\n            if (choice == 1 || choice == 2) {\r\n                //input.close();\r\n                return choice;\r\n            }\r\n            else {\r\n                System.out.println(&quot;Error&quot;);\r\n                //input.close();\r\n            }\r\n        }\r\n    }","title":"Scanner outside Java while loop","body":"<p>Because the data read by nextInt is not an integer, but the data is not automatically skipped .</p>\n<p>You can skip wrong characters with input.next() method</p>\n<pre><code>    static Scanner input = new Scanner(System.in);\n\n    public static int Start() {\n        while(true) {\n            int choice;\n    \n            System.out.println(&quot;1 - New game&quot;);\n            System.out.println(&quot;2 - Load game&quot;);\n            System.out.print(&quot;\\nChoose an option&quot;);\n    \n            try {\n                choice = input.nextInt();\n                //input.close();\n            } catch (Exception e) {\n                System.out.println(&quot;Error&quot;);\n                if( input.hasNext() ) {\n                    input.next();\n                }\n                //input.close();\n                continue;\n            }\n\n            if (choice == 1 || choice == 2) {\n                //input.close();\n                return choice;\n            }\n            else {\n                System.out.println(&quot;Error&quot;);\n                //input.close();\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27463077,"reputation":3,"user_id":20953292,"display_name":"marcof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75043243,"answer_count":2,"score":0,"last_activity_date":1673120182,"creation_date":1673114588,"question_id":75042633,"body_markdown":"I&#39;m creating a method that makes the user choose what he wants to do through 2 choices associated with numbers. In case the user inserts any string in input, my code prints infinite:\r\n\r\n```\r\nChoose an optionError\r\n1 - New game\r\n2 - Load game\r\n```\r\n\r\nIn all other cases the code works correctly, so i think the error is in the catch(). I tried closing the Scanner object with instructions in some parts of the code but the problem persists.\r\n\r\nIf instead I declare the Scanner object inside the while loop in the Start() method, the code works perfectly. I can&#39;t figure out how the scanner object works and why I have this problem.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Metods {\r\n\r\n    static Scanner input = new Scanner(System.in);\r\n\r\n    public static int Start() {\r\n        while(true) {\r\n            \r\n            int choice;\r\n    \r\n            System.out.println(&quot;1 - New game&quot;);\r\n            System.out.println(&quot;2 - Load game&quot;);\r\n            System.out.print(&quot;\\nChoose an option&quot;);\r\n    \r\n            try {\r\n                choice = input.nextInt();\r\n                //input.close();\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error&quot;);\r\n                //input.close();\r\n                continue;\r\n            }\r\n\r\n            if (choice == 1 || choice == 2) {\r\n                //input.close();\r\n                return choice;\r\n            }\r\n            else {\r\n                System.out.println(&quot;Error&quot;);\r\n                //input.close();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}```\r\n```","title":"Scanner outside Java while loop","body":"<p>I'm creating a method that makes the user choose what he wants to do through 2 choices associated with numbers. In case the user inserts any string in input, my code prints infinite:</p>\n<pre><code>Choose an optionError\n1 - New game\n2 - Load game\n</code></pre>\n<p>In all other cases the code works correctly, so i think the error is in the catch(). I tried closing the Scanner object with instructions in some parts of the code but the problem persists.</p>\n<p>If instead I declare the Scanner object inside the while loop in the Start() method, the code works perfectly. I can't figure out how the scanner object works and why I have this problem.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Metods {\n\n    static Scanner input = new Scanner(System.in);\n\n    public static int Start() {\n        while(true) {\n            \n            int choice;\n    \n            System.out.println(&quot;1 - New game&quot;);\n            System.out.println(&quot;2 - Load game&quot;);\n            System.out.print(&quot;\\nChoose an option&quot;);\n    \n            try {\n                choice = input.nextInt();\n                //input.close();\n            } catch (Exception e) {\n                System.out.println(&quot;Error&quot;);\n                //input.close();\n                continue;\n            }\n\n            if (choice == 1 || choice == 2) {\n                //input.close();\n                return choice;\n            }\n            else {\n                System.out.println(&quot;Error&quot;);\n                //input.close();\n            }\n        }\n    }\n\n\n}```\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data-redis"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1673119859,"post_id":75038726,"comment_id":132428361,"body_markdown":"Show us your test class","body":"Show us your test class"}],"answers":[{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673120072,"creation_date":1673120072,"answer_id":75043226,"question_id":75038726,"body_markdown":"ufff, after half a day of gruesome trial and error &#128557; realized this in `build.gradle` was causing the issue.\r\n\r\n    testImplementation (&#39;it.ozimov:embedded-redis:0.7.3&#39;) {\r\n    \texclude module: &#39;commons-logging&#39;\r\n    \texclude module: &#39;slf4j-simple&#39;\r\n    }\r\nI had excluded for brevity sake when wrote the above question here. I would still thank SOF, thank you!\r\n","title":"Spring boot redis connection not working only during junit testing","body":"<p>ufff, after half a day of gruesome trial and error 😭 realized this in <code>build.gradle</code> was causing the issue.</p>\n<pre><code>testImplementation ('it.ozimov:embedded-redis:0.7.3') {\n    exclude module: 'commons-logging'\n    exclude module: 'slf4j-simple'\n}\n</code></pre>\n<p>I had excluded for brevity sake when wrote the above question here. I would still thank SOF, thank you!</p>\n"}],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673120072,"creation_date":1673076274,"question_id":75038726,"body_markdown":"Have a simple project with following config\r\n\r\n    @Configuration\r\n    @EnableRedisRepositories\r\n    public class RedisConfig {\r\n    \r\n      @Bean\r\n      public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory connectionFactory) {\r\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(connectionFactory);\r\n        redisTemplate.setHashValueSerializer(new StringRedisSerializer());\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setValueSerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.afterPropertiesSet();\r\n        return redisTemplate;\r\n      }\r\n    \r\n    }\r\n\r\napplication.properties\r\n\r\n    spring.data.redis.host=localhost\r\n    spring.data.redis.port=6379\r\n\r\nbuild.gradle for ref\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-redis&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-aop&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n\timplementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;31.1-jre&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok:1.18.20&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n\r\nThe application as such works totally fine, it&#39;s able to connect to redis, read/write data. But when I run my JUNITS with the same config, connection keeps failing.\r\n\r\nAny idea what might be causing this issue?","title":"Spring boot redis connection not working only during junit testing","body":"<p>Have a simple project with following config</p>\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class RedisConfig {\n\n  @Bean\n  public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory connectionFactory) {\n    RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n    redisTemplate.setConnectionFactory(connectionFactory);\n    redisTemplate.setHashValueSerializer(new StringRedisSerializer());\n    redisTemplate.setKeySerializer(new StringRedisSerializer());\n    redisTemplate.setValueSerializer(new StringRedisSerializer());\n    redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n    redisTemplate.afterPropertiesSet();\n    return redisTemplate;\n  }\n\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.data.redis.host=localhost\nspring.data.redis.port=6379\n</code></pre>\n<p>build.gradle for ref</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-data-redis'\nimplementation 'org.springframework.boot:spring-boot-starter-web'\ntestImplementation 'org.springframework.boot:spring-boot-starter-aop'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\nimplementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\nimplementation group: 'com.google.guava', name: 'guava', version: '31.1-jre'\ncompileOnly 'org.projectlombok:lombok:1.18.20'\nannotationProcessor 'org.projectlombok:lombok:1.18.20'\n</code></pre>\n<p>The application as such works totally fine, it's able to connect to redis, read/write data. But when I run my JUNITS with the same config, connection keeps failing.</p>\n<p>Any idea what might be causing this issue?</p>\n"},{"tags":["java","compiler-construction","jvm","bytecode"],"answers":[{"tags":[],"owner":{"account_id":58477,"reputation":25235,"user_id":175070,"display_name":"Mike Strobel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1371067889,"creation_date":1371067889,"answer_id":17074441,"question_id":17074221,"body_markdown":"The `IAND` opcode is intended for bitwise operations (`&amp;`).  Yes, it is wrong to pre-evaluate the left and right operands if you are trying to implement the short-circuiting logical and operator (`&amp;&amp;`).  Consider what would happen if your operands had side effects:\r\n\r\n    if (methodWithSideEffect() &amp;&amp; otherMethodWithSideEffect()) {}\r\n\r\nIf `methodWithSideEffect()` evaluates to `false`, `otherMethodWithSideEffect()` should not be invoked.  If you pre-evaluate as you suggest, you break this contract, as both methods would be invoked, always.\r\n\r\nThere is no opcode representing a logical and.  I already touched on this in your previous question [here](https://stackoverflow.com/a/17053797/175070).","title":"Bytecode in asm operators &amp;&amp; or ||","body":"<p>The <code>IAND</code> opcode is intended for bitwise operations (<code>&amp;</code>).  Yes, it is wrong to pre-evaluate the left and right operands if you are trying to implement the short-circuiting logical and operator (<code>&amp;&amp;</code>).  Consider what would happen if your operands had side effects:</p>\n\n<pre><code>if (methodWithSideEffect() &amp;&amp; otherMethodWithSideEffect()) {}\n</code></pre>\n\n<p>If <code>methodWithSideEffect()</code> evaluates to <code>false</code>, <code>otherMethodWithSideEffect()</code> should not be invoked.  If you pre-evaluate as you suggest, you break this contract, as both methods would be invoked, always.</p>\n\n<p>There is no opcode representing a logical and.  I already touched on this in your previous question <a href=\"https://stackoverflow.com/a/17053797/175070\">here</a>.</p>\n"}],"owner":{"account_id":2789129,"reputation":499,"user_id":2399751,"accept_rate":37,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1314,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17074441,"answer_count":1,"score":2,"last_activity_date":1673119831,"creation_date":1371067170,"question_id":17074221,"body_markdown":"I have a question.\r\n\r\nIn my bytecode I calculate statements like `if((1==1) &amp;&amp; (2==2)){}` with this code:\r\n\r\n    if (node.getOperator().equals(Operator.LOGICAL_AND)) {\r\n        mn.instructions.add(new InsnNode(Opcodes.IAND));\r\n        jmp = new JumpInsnNode(Opcodes.IFNE, null);\r\n        mn.instructions.add(jmp);\r\n\t}\r\n\r\nWhat happens is that I need to calculate both operators&#39; expressions right and left in order to have a result. The second way is obvious: if the left expression is zero then leave. In this way, you don&#39;t have to calculate both sides.\r\n\r\nMy question is: Is it wrong to do it the first way?","title":"Bytecode in asm operators &amp;&amp; or ||","body":"<p>I have a question.</p>\n<p>In my bytecode I calculate statements like <code>if((1==1) &amp;&amp; (2==2)){}</code> with this code:</p>\n<pre><code>if (node.getOperator().equals(Operator.LOGICAL_AND)) {\n    mn.instructions.add(new InsnNode(Opcodes.IAND));\n    jmp = new JumpInsnNode(Opcodes.IFNE, null);\n    mn.instructions.add(jmp);\n}\n</code></pre>\n<p>What happens is that I need to calculate both operators' expressions right and left in order to have a result. The second way is obvious: if the left expression is zero then leave. In this way, you don't have to calculate both sides.</p>\n<p>My question is: Is it wrong to do it the first way?</p>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":10126787,"reputation":85,"user_id":7481809,"accept_rate":100,"display_name":"Cyborgsri"},"score":0,"creation_date":1520490928,"post_id":49166604,"comment_id":85338793,"body_markdown":"Also please let me know If you want me to include the other files too","body":"Also please let me know If you want me to include the other files too"}],"answers":[{"tags":[],"owner":{"account_id":10126787,"reputation":85,"user_id":7481809,"accept_rate":100,"display_name":"Cyborgsri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520502731,"creation_date":1520501734,"answer_id":49169763,"question_id":49166604,"body_markdown":"I was getting error as \r\n\r\n&gt; `Unable to create Channel from class class io.netty.channel` ***which\r\n&gt; is*** *Caused by*: java.lang.UnsupportedOperationException:\r\n&gt; ibsctp.so.1: cannot open shared object file: No such file or\r\n&gt; directory`\r\n\r\nThis error was cleared once I install lksctp-tools by:\r\n\r\n&gt;  `sudo apt-get install lksctp-tools`\r\n\r\nNow channel has been registered. But I&#39;m getting a new error that \r\n**WARNING:** \r\n\r\n&gt; `Failed to initialize a channel. Closing: [id: 0x9e4e05e0]\r\n&gt; java.lang.ClassCastException: io.netty.channel.sctp.nio.NioSctpChannel\r\n&gt; cannot be cast to io.netty.channel.socket.SocketChannel`","title":"Unable to create Channel from class io.netty.channel.sctp.nio.NioSctpChannel","body":"<p>I was getting error as </p>\n\n<blockquote>\n  <p><code>Unable to create Channel from class class io.netty.channel</code> <strong><em>which\n  is</em></strong> <em>Caused by</em>: java.lang.UnsupportedOperationException:\n  ibsctp.so.1: cannot open shared object file: No such file or\n  directory`</p>\n</blockquote>\n\n<p>This error was cleared once I install lksctp-tools by:</p>\n\n<blockquote>\n  <p><code>sudo apt-get install lksctp-tools</code></p>\n</blockquote>\n\n<p>Now channel has been registered. But I'm getting a new error that \n<strong>WARNING:</strong> </p>\n\n<blockquote>\n  <p><code>Failed to initialize a channel. Closing: [id: 0x9e4e05e0]\n  java.lang.ClassCastException: io.netty.channel.sctp.nio.NioSctpChannel\n  cannot be cast to io.netty.channel.socket.SocketChannel</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1520538719,"creation_date":1520538719,"answer_id":49181378,"question_id":49166604,"body_markdown":"The error happens because you use:\r\n\r\n    public class ChatServerInitializer extends ChannelInitializer&lt;SocketChannel&gt;\r\n\r\nChange it to:\r\n\r\n    public class ChatServerInitializer extends ChannelInitializer&lt;Channel&gt;","title":"Unable to create Channel from class io.netty.channel.sctp.nio.NioSctpChannel","body":"<p>The error happens because you use:</p>\n\n<pre><code>public class ChatServerInitializer extends ChannelInitializer&lt;SocketChannel&gt;\n</code></pre>\n\n<p>Change it to:</p>\n\n<pre><code>public class ChatServerInitializer extends ChannelInitializer&lt;Channel&gt;\n</code></pre>\n"}],"owner":{"account_id":10126787,"reputation":85,"user_id":7481809,"accept_rate":100,"display_name":"Cyborgsri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5719,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":49181378,"answer_count":2,"score":3,"last_activity_date":1673119632,"creation_date":1520489820,"question_id":49166604,"body_markdown":"    **chatclient.java**\r\n     package com.examplechat;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import io.netty.bootstrap.Bootstrap;\r\n    import io.netty.channel.Channel;\r\n    import io.netty.channel.EventLoopGroup;\r\n    import io.netty.channel.nio.NioEventLoopGroup;\r\n    import io.netty.channel.sctp.nio.NioSctpChannel;\r\n    public class ChatClient {\t\r\n    \tpublic static void main(String[] args) throws InterruptedException, IOException  {\r\n          new ChatClient(&quot;localhost&quot;, 8000).run();\r\n    \t}\t\r\n    \tprivate final String host;\r\n    \tprivate final int port;\r\n    \t\r\n    \tpublic ChatClient(String host, int port) {\r\n    \t\tsuper();\r\n    \t\tthis.host = host;\r\n    \t\tthis.port = port;\r\n    \t}\r\n    \tpublic void run() throws InterruptedException, IOException {\r\n      EventLoopGroup group = new NioEventLoopGroup();  \r\n      try {\r\n    \t  Bootstrap bootstrap = new Bootstrap()\r\n    \t\t\t  .group(group)\r\n    \t\t\t  .channel(NioSctpChannel.class)\r\n    \t\t\t  .handler(new ChatClientInitilizer()); \t  \r\n    \t  Channel channel = bootstrap.connect(host, port).sync().channel(); \r\n    \t  BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n    \t while(true) {\r\n    \t\t channel.write(in.readLine()+ &quot;\\r\\n&quot;);\r\n    \t\t  }\t\t\r\n    \t}\r\n      finally {\r\n    \tgroup.shutdownGracefully();  } \r\n      } \r\n    \t}\r\n    **ChatServer.java**\r\n    package com.examplechat;\r\n    import io.netty.bootstrap.ServerBootstrap;\r\n    import io.netty.channel.EventLoopGroup;\r\n    import io.netty.channel.nio.NioEventLoopGroup;\r\n    import io.netty.channel.socket.nio.NioServerSocketChannel;\r\n    public class ChatServer {\r\n    public static void main(String[] args) throws InterruptedException  {\r\n    \t\tnew ChatServer(8000).run();\r\n    \t}\r\n    \tprivate final int port;\r\n    \tpublic ChatServer(int port) {\r\n    \t\tsuper();\r\n    \t\tthis.port = port;\r\n    \t}\r\n    \tpublic void run() throws InterruptedException  {\r\n    \t\tEventLoopGroup bossGroup = new NioEventLoopGroup();\r\n    \t\tEventLoopGroup workerGroup = new NioEventLoopGroup();\r\n    \t\ttry {\r\n    \t\t\tServerBootstrap bootstrap = new ServerBootstrap()\r\n    \t\t\t.group(bossGroup, workerGroup)\r\n    \t\t\t.channel(NioServerSocketChannel.class)\r\n    \t\t\t.childHandler(new ChatServerInitializer());\r\n    \t\tbootstrap.bind(port).sync().channel().closeFuture().sync();\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tbossGroup.shutdownGracefully();\r\n    \t\t\tworkerGroup.shutdownGracefully();\r\n    \t\t}\t\t\r\n    \t}}\r\n\r\n&gt; I&#39;m trying to create a chat Application using netty. When I try to run the chat client once I initiate chatserver java application. It shows \r\n\r\n - Exception in thread &quot;main&quot; io.netty.channel.ChannelException: Unable\r\n   to create Channel from class class\r\n   io.netty.channel.sctp.nio.NioSctpChannel at\r\n   io.netty.channel.ReflectiveChannelFactory.newChannel\r\n   (ReflectiveChannelFactory.java:40)\r\n\r\nI&#39;ve even changed the dependencies at pom.xml still i&#39;m receiving the same error every time I run it\r\n\r\n&gt;**Update** \r\n **_Error-1:_** `Unable to create Channel error` has been cleared by myself \r\n\r\nI&#39;ve answered it myself please help me fix this second issue\r\n\r\n&gt;**_Error-2_:** I&#39;m getting a new error called **WARNING**: `Failed to initialize a channel. Closing: [id: 0x9e4e05e0] java.lang.ClassCastException: io.netty.channel.sctp.nio.NioSctpChannel cannot be cast to io.netty.channel.socket.SocketChannel`\r\n\r\n\r\n\r\n Here&#39;s the github link if you need [https://github.com/cyborgsri/Chat-Application/tree/master/netty-chat-youtube/src/main/java/com/examplechat][1].\r\n\r\n\r\n  [1]: https://github.com/cyborgsri/Chat-Application/tree/master/netty-chat-youtube/src/main/java/com/examplechat","title":"Unable to create Channel from class io.netty.channel.sctp.nio.NioSctpChannel","body":"<pre><code>**chatclient.java**\n package com.examplechat;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport io.netty.bootstrap.Bootstrap;\nimport io.netty.channel.Channel;\nimport io.netty.channel.EventLoopGroup;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.sctp.nio.NioSctpChannel;\npublic class ChatClient {   \n    public static void main(String[] args) throws InterruptedException, IOException  {\n      new ChatClient(\"localhost\", 8000).run();\n    }   \n    private final String host;\n    private final int port;\n\n    public ChatClient(String host, int port) {\n        super();\n        this.host = host;\n        this.port = port;\n    }\n    public void run() throws InterruptedException, IOException {\n  EventLoopGroup group = new NioEventLoopGroup();  \n  try {\n      Bootstrap bootstrap = new Bootstrap()\n              .group(group)\n              .channel(NioSctpChannel.class)\n              .handler(new ChatClientInitilizer());       \n      Channel channel = bootstrap.connect(host, port).sync().channel(); \n      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n     while(true) {\n         channel.write(in.readLine()+ \"\\r\\n\");\n          }     \n    }\n  finally {\n    group.shutdownGracefully();  } \n  } \n    }\n**ChatServer.java**\npackage com.examplechat;\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.EventLoopGroup;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\npublic class ChatServer {\npublic static void main(String[] args) throws InterruptedException  {\n        new ChatServer(8000).run();\n    }\n    private final int port;\n    public ChatServer(int port) {\n        super();\n        this.port = port;\n    }\n    public void run() throws InterruptedException  {\n        EventLoopGroup bossGroup = new NioEventLoopGroup();\n        EventLoopGroup workerGroup = new NioEventLoopGroup();\n        try {\n            ServerBootstrap bootstrap = new ServerBootstrap()\n            .group(bossGroup, workerGroup)\n            .channel(NioServerSocketChannel.class)\n            .childHandler(new ChatServerInitializer());\n        bootstrap.bind(port).sync().channel().closeFuture().sync();\n        }\n        finally {\n            bossGroup.shutdownGracefully();\n            workerGroup.shutdownGracefully();\n        }       \n    }}\n</code></pre>\n\n<blockquote>\n  <p>I'm trying to create a chat Application using netty. When I try to run the chat client once I initiate chatserver java application. It shows </p>\n</blockquote>\n\n<ul>\n<li>Exception in thread \"main\" io.netty.channel.ChannelException: Unable\nto create Channel from class class\nio.netty.channel.sctp.nio.NioSctpChannel at\nio.netty.channel.ReflectiveChannelFactory.newChannel\n(ReflectiveChannelFactory.java:40)</li>\n</ul>\n\n<p>I've even changed the dependencies at pom.xml still i'm receiving the same error every time I run it</p>\n\n<blockquote>\n  <p><strong>Update</strong> \n   <strong><em>Error-1:</em></strong> <code>Unable to create Channel error</code> has been cleared by myself </p>\n</blockquote>\n\n<p>I've answered it myself please help me fix this second issue</p>\n\n<blockquote>\n  <p><strong><em>Error-2</em>:</strong> I'm getting a new error called <strong>WARNING</strong>: <code>Failed to initialize a channel. Closing: [id: 0x9e4e05e0] java.lang.ClassCastException: io.netty.channel.sctp.nio.NioSctpChannel cannot be cast to io.netty.channel.socket.SocketChannel</code></p>\n</blockquote>\n\n<p>Here's the github link if you need <a href=\"https://github.com/cyborgsri/Chat-Application/tree/master/netty-chat-youtube/src/main/java/com/examplechat\" rel=\"nofollow noreferrer\">https://github.com/cyborgsri/Chat-Application/tree/master/netty-chat-youtube/src/main/java/com/examplechat</a>.</p>\n"},{"tags":["java","junit","equals"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":1,"creation_date":1647703319,"post_id":71523213,"comment_id":126439826,"body_markdown":"You should not be posting images, please add the code instead\nhttps://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-errors-when-asking-a-question/285557#285557","body":"You should not be posting images, please add the code instead <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-errors-when-asking-a-question/285557#285557\" title=\"why should i not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":14774504,"reputation":4698,"user_id":10669875,"display_name":"wovano"},"score":0,"creation_date":1647770120,"post_id":71523213,"comment_id":126450230,"body_markdown":"And even IF you do post images, please provide a sensible text instead of &quot;enter image description here&quot;.  Since you&#39;re new here, please take the [tour](//stackoverflow.com/tour), read [what&#39;s on-topic here](https://stackoverflow.com/help/on-topic), [How to Ask](https://stackoverflow.com/questions/how-to-ask), and the [question checklist](https://meta.stackoverflow.com/q/260648/843953), and how to provide a [mre].","body":"And even IF you do post images, please provide a sensible text instead of &quot;enter image description here&quot;.  Since you&#39;re new here, please take the <a href=\"//stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/help/on-topic\">what&#39;s on-topic here</a>, <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and the <a href=\"https://meta.stackoverflow.com/q/260648/843953\">question checklist</a>, and how to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":24597583,"reputation":1,"user_id":18500783,"display_name":"Chuang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673118446,"creation_date":1647585073,"question_id":71523213,"body_markdown":"I&#39;d like to add a factory to  EqualsMethodTester to test time, but in the actual test, the program stuck, until run out of memory,  why\r\n\r\n![enter image description here][1]\r\n\r\n\r\n![enter image description here][2]\r\n\r\n\r\n![enter image description here][3]\r\n\r\nand when i run like\r\n \r\n![enter image description here][4] \r\n\r\nit gives me\r\n \r\n![enter image description here][5]\r\n\r\nso confused, please help me\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MikP0.png\r\n  [2]: https://i.stack.imgur.com/Bulyi.png\r\n  [3]: https://i.stack.imgur.com/1aJDZ.png\r\n  [4]: https://i.stack.imgur.com/FcIYz.png\r\n  [5]: https://i.stack.imgur.com/hFk3T.png","title":"equalsMethodTester.getFactoryCollection().addFactory(LocalDateTime.class, new LocalDateTimeFactory())","body":"<p>I'd like to add a factory to  EqualsMethodTester to test time, but in the actual test, the program stuck, until run out of memory,  why</p>\n<p><img src=\"https://i.stack.imgur.com/MikP0.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/Bulyi.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/1aJDZ.png\" alt=\"enter image description here\" /></p>\n<p>and when i run like</p>\n<p><img src=\"https://i.stack.imgur.com/FcIYz.png\" alt=\"enter image description here\" /></p>\n<p>it gives me</p>\n<p><img src=\"https://i.stack.imgur.com/hFk3T.png\" alt=\"enter image description here\" /></p>\n<p>so confused, please help me</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1673115877,"post_id":75042772,"comment_id":132427581,"body_markdown":"First and foremost, if you want to have decent class-to-class interactions, you must make your code OOP compliant. This means avoidance of static for most variables and methods (exception for the main method and for constants), and almost all code should be outside of a main method and inside of instance methods and constructors. Start there, and only *then* work on class-to-class communication.","body":"First and foremost, if you want to have decent class-to-class interactions, you must make your code OOP compliant. This means avoidance of static for most variables and methods (exception for the main method and for constants), and almost all code should be outside of a main method and inside of instance methods and constructors. Start there, and only <i>then</i> work on class-to-class communication."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1673115969,"post_id":75042772,"comment_id":132427601,"body_markdown":"Next, Swing is an event-driven GUI library, and so information should be passed or requested from events. For JSpinner, this would likely be by using a ChangeListener.","body":"Next, Swing is an event-driven GUI library, and so information should be passed or requested from events. For JSpinner, this would likely be by using a ChangeListener."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1673116083,"post_id":75042772,"comment_id":132427631,"body_markdown":"Next, does this method signature, `public void main(){` in actuality represent, `public static void main(String[] args) {`? If so, then 1) my first comment applies, in that most of that could should be outside of the main method and into the class proper, and 2) please don&#39;t show kind-of/sort-of code in your question but rather show *real* code, best if you create and post a decent [mre] code post with your question. Please read the link for more on this.","body":"Next, does this method signature, <code>public void main(){</code> in actuality represent, <code>public static void main(String[] args) {</code>? If so, then 1) my first comment applies, in that most of that could should be outside of the main method and into the class proper, and 2) please don&#39;t show kind-of/sort-of code in your question but rather show <i>real</i> code, best if you create and post a decent <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with your question. Please read the link for more on this."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1673116152,"post_id":75042772,"comment_id":132427642,"body_markdown":"Why do you have so many different classes? Why are you extending JButton to add an ActionListener? What is the main() method for? Usually the code to create the GUI is in the constructor of the class. I suggest you start by reading the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html) for examples of creating a GUI that will show a better class structure for creating a simple GUI. There is a section on `How to Use Spinners`.","body":"Why do you have so many different classes? Why are you extending JButton to add an ActionListener? What is the main() method for? Usually the code to create the GUI is in the constructor of the class. I suggest you start by reading the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a> for examples of creating a GUI that will show a better class structure for creating a simple GUI. There is a section on <code>How to Use Spinners</code>."},{"owner":{"account_id":27462200,"reputation":9,"user_id":20952584,"display_name":"BadCoder"},"score":2,"creation_date":1673117038,"post_id":75042772,"comment_id":132427830,"body_markdown":"Thank you all for the comments. I think it&#39;s time to learn the theory and then completely redo the code","body":"Thank you all for the comments. I think it&#39;s time to learn the theory and then completely redo the code"}],"answers":[{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673117906,"creation_date":1673117454,"answer_id":75042954,"question_id":75042772,"body_markdown":"Java tutorials often expect users to &quot;extend&quot; user interface classes to use them.  This is great in theory, but in practice, often leads to over kill, especially for first-timers.\r\n\r\nHere&#39;s a simple program using your components which allows the button to read values from your spinner.\r\n\r\nI&#39;ve added comments to explain what each component of the app is doing and why it&#39;s doing it.\r\n\r\n```java\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class MyApp {\r\n    // Declare the UI components we plan on using\r\n    // Note: Without &quot;private&quot; or &quot;public&quot; modifiers\r\n    //   they&#39;ll default to &quot;package private&quot;, which\r\n    //   is a sane default.\r\n    JFrame mainFrame;\r\n    JPanel settingsPanel;\r\n    JButton saveSettingsButton;\r\n    JSpinner playersCount;\r\n\r\n    public MyApp() {\r\n        // Initialize our UI components\r\n        mainFrame = new JFrame(&quot;My App&quot;);\r\n        settingsPanel = new JPanel();\r\n        saveSettingsButton = new JButton(&quot;Click Me&quot;);\r\n        playersCount = new JSpinner(new SpinnerNumberModel(2, 2, 4, 1));\r\n\r\n        // Add any listeners (such a &quot;click&quot; listener)\r\n        saveSettingsButton.addActionListener(e -&gt; {\r\n            int errorChecking = 0;\r\n            // The button can read the spinner because they&#39;re both declared within the same scope (same class)\r\n            switch ((int) playersCount.getValue()) {\r\n                default:\r\n                        System.out.println((int)playersCount.getValue());\r\n            };\r\n        });\r\n\r\n        // Add UI components to panel\r\n        settingsPanel.add(playersCount);\r\n        settingsPanel.add(saveSettingsButton);\r\n\r\n        // Add panel to frame/window\r\n        mainFrame.add(settingsPanel);\r\n\r\n        // Show our UI\r\n        mainFrame.pack(); // Automatically set size of frame to fit components\r\n        mainFrame.setLocationRelativeTo(null); // Center frame on primary screen\r\n        mainFrame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE); // Close the app when this window is closed\r\n        mainFrame.setVisible(true);\r\n\r\n        // Perform our initial action\r\n        saveSettingsButton.doClick();\r\n    }\r\n\r\n    // This is the main entry point into the application when run\r\n    // By default, applications are NOT synchronized onto the UI thread (known as the &quot;Event Dispatch Thread&quot;)\r\n    // UIs that aren&#39;t synchronized can flicker, crash and have weird behavior\r\n    // SwingUtilities has two functions to synchronize, we&#39;ll use &quot;invokeLater()&quot; for this purpose. \r\n    public static void main(String ... args) {\r\n        SwingUtilities.invokeLater(() -&gt; new MyApp()); // invokeLater(): UI should always be created on EDT!\r\n    }\r\n\r\n\r\n}\r\n```","title":"How to pass JSpinner value from Java class to another Java class","body":"<p>Java tutorials often expect users to &quot;extend&quot; user interface classes to use them.  This is great in theory, but in practice, often leads to over kill, especially for first-timers.</p>\n<p>Here's a simple program using your components which allows the button to read values from your spinner.</p>\n<p>I've added comments to explain what each component of the app is doing and why it's doing it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport javax.swing.*;\n\npublic class MyApp {\n    // Declare the UI components we plan on using\n    // Note: Without &quot;private&quot; or &quot;public&quot; modifiers\n    //   they'll default to &quot;package private&quot;, which\n    //   is a sane default.\n    JFrame mainFrame;\n    JPanel settingsPanel;\n    JButton saveSettingsButton;\n    JSpinner playersCount;\n\n    public MyApp() {\n        // Initialize our UI components\n        mainFrame = new JFrame(&quot;My App&quot;);\n        settingsPanel = new JPanel();\n        saveSettingsButton = new JButton(&quot;Click Me&quot;);\n        playersCount = new JSpinner(new SpinnerNumberModel(2, 2, 4, 1));\n\n        // Add any listeners (such a &quot;click&quot; listener)\n        saveSettingsButton.addActionListener(e -&gt; {\n            int errorChecking = 0;\n            // The button can read the spinner because they're both declared within the same scope (same class)\n            switch ((int) playersCount.getValue()) {\n                default:\n                        System.out.println((int)playersCount.getValue());\n            };\n        });\n\n        // Add UI components to panel\n        settingsPanel.add(playersCount);\n        settingsPanel.add(saveSettingsButton);\n\n        // Add panel to frame/window\n        mainFrame.add(settingsPanel);\n\n        // Show our UI\n        mainFrame.pack(); // Automatically set size of frame to fit components\n        mainFrame.setLocationRelativeTo(null); // Center frame on primary screen\n        mainFrame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE); // Close the app when this window is closed\n        mainFrame.setVisible(true);\n\n        // Perform our initial action\n        saveSettingsButton.doClick();\n    }\n\n    // This is the main entry point into the application when run\n    // By default, applications are NOT synchronized onto the UI thread (known as the &quot;Event Dispatch Thread&quot;)\n    // UIs that aren't synchronized can flicker, crash and have weird behavior\n    // SwingUtilities has two functions to synchronize, we'll use &quot;invokeLater()&quot; for this purpose. \n    public static void main(String ... args) {\n        SwingUtilities.invokeLater(() -&gt; new MyApp()); // invokeLater(): UI should always be created on EDT!\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":27462200,"reputation":9,"user_id":20952584,"display_name":"BadCoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673117906,"creation_date":1673115749,"question_id":75042772,"body_markdown":"I have very poor knowledge of Java, especially in terms of classes.\r\nI have a class that has a `public static JSpinner` with `SpinnerNumberModel(2, 2, 4, 1)`. After updating the value in the JSpinner (2, 3 or 4), after pressing the JButton (separate class), it must be passed to the same JButton. But only the value that I have already set as default is passed, i.e. 2.\r\nAfter searching all possible forums, I realized that the problem might be in the `static` modifier. However, without this modifier, the error *&quot;Non-static field &#39;JSpinner_name&#39; cannot be referenced from a static context&quot;* appears.\r\nThe code of the class in which the JSpinner is located:\r\n\r\n\r\n```\r\npublic class settingsPanel extends JPanel {\r\n    public static JSpinner playersCount = new JSpinner(new SpinnerNumberModel(2, 2, 4, 1));\r\n    \r\n    public void main(){\r\n\r\n        //some code with JSpinner change listener\r\n\r\n        add(playersCount);\r\n        saveSettingsButton saveSettingsButton = new saveSettingsButton();\r\n        add(saveSettingsButton);\r\n        saveSettingsButton.main();\r\n    }\r\n}\r\n```\r\nThe class code to which I need to pass values from JSpinner:\r\n```\r\npublic class saveSettingsButton extends JButton {\r\n    public void main(){\r\n\r\n        //some code\r\n\r\n        addActionListener(e -&gt; {\r\n            int errorChecking = 0;\r\n            switch ((int) settingsPanel.playersCount.getValue()) {\r\n\r\n                //some code\r\n\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nI want to pass `settingsPanel.playersCount.getValue()` to the saveSettingsButton class, but as I described above, only the predefined value is passed. I tried to create a method but still not working (maybe i&#39;m a noob at methods). How to make available updated value from JSpinner in another class?","title":"How to pass JSpinner value from Java class to another Java class","body":"<p>I have very poor knowledge of Java, especially in terms of classes.\nI have a class that has a <code>public static JSpinner</code> with <code>SpinnerNumberModel(2, 2, 4, 1)</code>. After updating the value in the JSpinner (2, 3 or 4), after pressing the JButton (separate class), it must be passed to the same JButton. But only the value that I have already set as default is passed, i.e. 2.\nAfter searching all possible forums, I realized that the problem might be in the <code>static</code> modifier. However, without this modifier, the error <em>&quot;Non-static field 'JSpinner_name' cannot be referenced from a static context&quot;</em> appears.\nThe code of the class in which the JSpinner is located:</p>\n<pre><code>public class settingsPanel extends JPanel {\n    public static JSpinner playersCount = new JSpinner(new SpinnerNumberModel(2, 2, 4, 1));\n    \n    public void main(){\n\n        //some code with JSpinner change listener\n\n        add(playersCount);\n        saveSettingsButton saveSettingsButton = new saveSettingsButton();\n        add(saveSettingsButton);\n        saveSettingsButton.main();\n    }\n}\n</code></pre>\n<p>The class code to which I need to pass values from JSpinner:</p>\n<pre><code>public class saveSettingsButton extends JButton {\n    public void main(){\n\n        //some code\n\n        addActionListener(e -&gt; {\n            int errorChecking = 0;\n            switch ((int) settingsPanel.playersCount.getValue()) {\n\n                //some code\n\n        });\n    }\n}\n</code></pre>\n<p>I want to pass <code>settingsPanel.playersCount.getValue()</code> to the saveSettingsButton class, but as I described above, only the predefined value is passed. I tried to create a method but still not working (maybe i'm a noob at methods). How to make available updated value from JSpinner in another class?</p>\n"},{"tags":["java","selenium","dependencies","testng","ui-automation"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1648053516,"post_id":71590728,"comment_id":126528747,"body_markdown":"of course you can.... you don&#39;t need TestNG to run jUnit.  Selenium also has significant security implications, so it&#39;s good to study up on all the ways you could expose yourself or your organization.","body":"of course you can.... you don&#39;t need TestNG to run jUnit.  Selenium also has significant security implications, so it&#39;s good to study up on all the ways you could expose yourself or your organization."},{"owner":{"account_id":18754057,"reputation":1,"user_id":18559047,"display_name":"Madhi"},"score":0,"creation_date":1648054073,"post_id":71590728,"comment_id":126529025,"body_markdown":"Thanks pcalkins. But my question also was - it is good to use TestNG with the vulnerabilities listed (refer screenshot from original ticket) or it is MUST to shift to Junit.","body":"Thanks pcalkins. But my question also was - it is good to use TestNG with the vulnerabilities listed (refer screenshot from original ticket) or it is MUST to shift to Junit."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1648054764,"post_id":71590728,"comment_id":126529304,"body_markdown":"that&#39;s up to you.  You should research each one.  Zip/Tar files during ant process being one of them... consider whether you also need to evaluate all dependencies especially if using package managers.  Some more sophisticated attackers have been injecting code into widely used programs.  For instance the attack on &quot;Solar Winds&quot;.  One of the cve&#39;s you listed was pretty old and was jUnit related.  The much bigger issue is really Selenium itself and how you secure credentials used in scripts and grid if you use one.","body":"that&#39;s up to you.  You should research each one.  Zip/Tar files during ant process being one of them... consider whether you also need to evaluate all dependencies especially if using package managers.  Some more sophisticated attackers have been injecting code into widely used programs.  For instance the attack on &quot;Solar Winds&quot;.  One of the cve&#39;s you listed was pretty old and was jUnit related.  The much bigger issue is really Selenium itself and how you secure credentials used in scripts and grid if you use one."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1648054950,"post_id":71590728,"comment_id":126529384,"body_markdown":"For instance, I see a LOT of posts here which include an option for configuring the driver of &quot;no sandbox&quot;.  This is particularly dangerous if visiting sites you do not directly control.  Even without that flag, injections into your code could be possible and that code sits outside of the sandbox.  (Pretty much all of Selenium&#39;s vulnerabilities would be null if visiting a site you have control of... though grid would require a lot of protections since it&#39;s pretty open by default.)  Security is an endless road just as testing is.  You have to decide how secure is OK for you.","body":"For instance, I see a LOT of posts here which include an option for configuring the driver of &quot;no sandbox&quot;.  This is particularly dangerous if visiting sites you do not directly control.  Even without that flag, injections into your code could be possible and that code sits outside of the sandbox.  (Pretty much all of Selenium&#39;s vulnerabilities would be null if visiting a site you have control of... though grid would require a lot of protections since it&#39;s pretty open by default.)  Security is an endless road just as testing is.  You have to decide how secure is OK for you."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1648055257,"post_id":71590728,"comment_id":126529498,"body_markdown":"For specific info about CVE&#39;s and mitigations you should probably make a post at Security Exchange: https://security.stackexchange.com/","body":"For specific info about CVE&#39;s and mitigations you should probably make a post at Security Exchange: <a href=\"https://security.stackexchange.com/\">security.stackexchange.com</a>"}],"owner":{"account_id":18754057,"reputation":1,"user_id":18559047,"display_name":"Madhi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673117669,"creation_date":1648052876,"question_id":71590728,"body_markdown":"Is it safe to use TestNG that has vulnerabilities? Because i haven&#39;t seen them earlier for the same version and could see now for same TestNG version?\r\n\r\nJUNIT has no vulnerabilities. If TestNg has some vulnerability that could lead to security related issues, can i avoid using TestNG and can opt to use JUNIT? \r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZkBB4.jpg","title":"What is Vulnerabilities in TestNG dependency? How that will impact the framework in terms of security?","body":"<p>Is it safe to use TestNG that has vulnerabilities? Because i haven't seen them earlier for the same version and could see now for same TestNG version?</p>\n<p>JUNIT has no vulnerabilities. If TestNg has some vulnerability that could lead to security related issues, can i avoid using TestNG and can opt to use JUNIT?</p>\n<p><img src=\"https://i.stack.imgur.com/ZkBB4.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","html","css","struts-1"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648019762,"post_id":71582867,"comment_id":126514824,"body_markdown":"to change button color you must use css parameter &quot;background-color&quot; also changing div color won&#39;t change button color.","body":"to change button color you must use css parameter &quot;background-color&quot; also changing div color won&#39;t change button color."},{"owner":{"account_id":24655417,"reputation":1,"user_id":18552142,"display_name":"Rohit Tech"},"score":0,"creation_date":1648020630,"post_id":71582867,"comment_id":126515101,"body_markdown":"only button border and text written on button I need little darker on print page, but I don&#39;t want any change of look and feel of the button on webpage. Only during print I want this change. pls suggest how I can apply this css class with struts bean tag which is used for buttons.","body":"only button border and text written on button I need little darker on print page, but I don&#39;t want any change of look and feel of the button on webpage. Only during print I want this change. pls suggest how I can apply this css class with struts bean tag which is used for buttons."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648020769,"post_id":71582867,"comment_id":126515139,"body_markdown":"https://stackoverflow.com/questions/13893498/how-to-use-css-styles-in-struts2-tags","body":"<a href=\"https://stackoverflow.com/questions/13893498/how-to-use-css-styles-in-struts2-tags\" title=\"how to use css styles in struts2 tags\">stackoverflow.com/questions/13893498/&hellip;</a>"}],"owner":{"account_id":24655417,"reputation":1,"user_id":18552142,"display_name":"Rohit Tech"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673117506,"creation_date":1648018052,"question_id":71582867,"body_markdown":" I have one requirement in which I need to print a web page(actually a jsp page created using struts 1.3 ) using browser&#39;s print option in such a way that buttons which are there on that webpage should look little darker in print or in pdf(when we use save as pdf).\r\n\r\nI had tried below code inside head tag:\r\n\r\n    &lt;style&gt;\r\n      @media print { \r\n        .light {color: #000 !important; }\r\n      }\r\n    &lt;/style&gt;\r\n\r\nI put the buttons inside a div and tried to apply .light class on that dive so that only during print or saving it as pdf buttons should be visible darker.\r\n\r\nbuttons code is as below (struts bean tag is used here):\r\n\r\n           \r\n         &lt;div class=&quot;light&quot;&gt;\r\n           &lt;bean:message key=&quot;button.internet.request.update&quot; /&gt;\r\n         &lt;/div&gt;\r\n       &lt;% } %&gt;\r\n       &lt;/html:submit&gt;\r\n     &lt;% } %&gt;\r\n\r\n\r\nso I added line no. 1 and 3 just for putting the button code inside a div and applied that .light class. But it didn&#39;t work.\r\nHelp me appling the css code in bean tag so that button gets printed darker on print page or visible darker in pdf.\r\nImages for proper button and disturbed button I have attached. Proper here means before applying my code and disturbed one is for after applying my code which didn&#39;t work.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TyU70.jpg\r\n","title":"I have one requirement in which I need to print a web page(actually a jsp page created using struts 1.3 ) using brower&#39;s print option","body":"<p>I have one requirement in which I need to print a web page(actually a jsp page created using struts 1.3 ) using browser's print option in such a way that buttons which are there on that webpage should look little darker in print or in pdf(when we use save as pdf).</p>\n<p>I had tried below code inside head tag:</p>\n<pre><code>&lt;style&gt;\n  @media print { \n    .light {color: #000 !important; }\n  }\n&lt;/style&gt;\n</code></pre>\n<p>I put the buttons inside a div and tried to apply .light class on that dive so that only during print or saving it as pdf buttons should be visible darker.</p>\n<p>buttons code is as below (struts bean tag is used here):</p>\n<pre><code>     &lt;div class=&quot;light&quot;&gt;\n       &lt;bean:message key=&quot;button.internet.request.update&quot; /&gt;\n     &lt;/div&gt;\n   &lt;% } %&gt;\n   &lt;/html:submit&gt;\n &lt;% } %&gt;\n</code></pre>\n<p>so I added line no. 1 and 3 just for putting the button code inside a div and applied that .light class. But it didn't work.\nHelp me appling the css code in bean tag so that button gets printed darker on print page or visible darker in pdf.\nImages for proper button and disturbed button I have attached. Proper here means before applying my code and disturbed one is for after applying my code which didn't work.</p>\n<p><img src=\"https://i.stack.imgur.com/TyU70.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","spring","spring-mvc","dao","autowired"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":2,"creation_date":1339787284,"post_id":11056693,"comment_id":14466063,"body_markdown":"&gt;_&lt; Domain-Driven Design != Active Record. if you are interested in DDD, read Eric Evans&#39; book (or alternatively the pdf on InfoQ), don&#39;t get the info secondhand.","body":"&gt;_&lt; Domain-Driven Design != Active Record. if you are interested in DDD, read Eric Evans&#39; book (or alternatively the pdf on InfoQ), don&#39;t get the info secondhand."},{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":1,"creation_date":1339787939,"post_id":11056693,"comment_id":14466273,"body_markdown":"Is there supposed to be some github URL here?","body":"Is there supposed to be some github URL here?"},{"owner":{"account_id":1021407,"reputation":3993,"user_id":1031658,"accept_rate":85,"display_name":"satoshi"},"score":0,"creation_date":1339792695,"post_id":11056693,"comment_id":14468024,"body_markdown":"Thank you @NathanHughes, I just posted what they told me on the other question.","body":"Thank you @NathanHughes, I just posted what they told me on the other question."},{"owner":{"account_id":1021407,"reputation":3993,"user_id":1031658,"accept_rate":85,"display_name":"satoshi"},"score":0,"creation_date":1339792701,"post_id":11056693,"comment_id":14468025,"body_markdown":"Sorry @madth3, I forgot to add it. It&#39;s there now :)","body":"Sorry @madth3, I forgot to add it. It&#39;s there now :)"}],"answers":[{"tags":[],"owner":{"account_id":115123,"reputation":7186,"user_id":302387,"accept_rate":67,"display_name":"Alex Barnes"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1340069278,"creation_date":1339789660,"answer_id":11057251,"question_id":11056693,"body_markdown":"I&#39;m not saying that I agree with injecting DAOs into domain instances....but\r\n\r\nYou can wire your DAO into you domain object. But you&#39;ll have to declare your domain object in your spring application-context and obtain new instances from Spring **NOT** using `new`. Make sure that you use the prototype scope! You don&#39;t want to be getting the same singleton instance everytime!\r\n\r\nReally this logic that you want to implement belongs in a service which is injected with the DAOs that it requires. \r\n\r\nPerhaps you could have a service like:\r\n\r\n    @Service\r\n    public class RibbonServiceImpl implements RibbonService\r\n    \r\n      @Autowired\r\n      private RibbonDAO ribbonDAO;\r\n    \r\n      public boolean isEarned(Ribbon ribbon, User user) {\r\n       if(!userHasRibbonDao.userHasRibbon(user, this))\r\n            {\r\n                // TODO\r\n                // All the logic to determine whether the user earned the ribbon\r\n                // i.e. check whether the user is between the first 2000 users who registered to the website\r\n                // Other autowired DAOs are needed\r\n            }\r\n            else\r\n            {\r\n                return true;\r\n            }\r\n    \r\n            return false;\r\n      }  ","title":"Autowiring a DAO into a domain object","body":"<p>I'm not saying that I agree with injecting DAOs into domain instances....but</p>\n\n<p>You can wire your DAO into you domain object. But you'll have to declare your domain object in your spring application-context and obtain new instances from Spring <strong>NOT</strong> using <code>new</code>. Make sure that you use the prototype scope! You don't want to be getting the same singleton instance everytime!</p>\n\n<p>Really this logic that you want to implement belongs in a service which is injected with the DAOs that it requires. </p>\n\n<p>Perhaps you could have a service like:</p>\n\n<pre><code>@Service\npublic class RibbonServiceImpl implements RibbonService\n\n  @Autowired\n  private RibbonDAO ribbonDAO;\n\n  public boolean isEarned(Ribbon ribbon, User user) {\n   if(!userHasRibbonDao.userHasRibbon(user, this))\n        {\n            // TODO\n            // All the logic to determine whether the user earned the ribbon\n            // i.e. check whether the user is between the first 2000 users who registered to the website\n            // Other autowired DAOs are needed\n        }\n        else\n        {\n            return true;\n        }\n\n        return false;\n  }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":70704,"reputation":49430,"user_id":204788,"display_name":"Biju Kunjummen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1339792857,"creation_date":1339792857,"answer_id":11057917,"question_id":11056693,"body_markdown":"Mark it as `@Configurable` - [@Configurable][1] annotion will ensure that even if the beans are created outside of Spring, the dependencies are injected\r\n\r\nYou also need to add `&lt;context:spring-configured/&gt;` in your context.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/beans/factory/annotation/Configurable.html","title":"Autowiring a DAO into a domain object","body":"<p>Mark it as <code>@Configurable</code> - <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/beans/factory/annotation/Configurable.html\" rel=\"nofollow\">@Configurable</a> annotion will ensure that even if the beans are created outside of Spring, the dependencies are injected</p>\n\n<p>You also need to add <code>&lt;context:spring-configured/&gt;</code> in your context.</p>\n"},{"tags":[],"owner":{"account_id":910060,"reputation":4453,"user_id":944108,"accept_rate":100,"display_name":"Japan Trivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340091129,"creation_date":1340091129,"answer_id":11096364,"question_id":11056693,"body_markdown":"You can also try using the `@Component` annotation declaring along with the @Entity annotation on your **First2000UsersRibbon** class. And make sure that the package having this class is there in `&lt;context:component-scan base-package=&quot;&quot; /&gt;`. And along with this you need to make sure that the object of this class is not created using `new` operator. \r\n\r\nHope this helps you. Cheers.","title":"Autowiring a DAO into a domain object","body":"<p>You can also try using the <code>@Component</code> annotation declaring along with the @Entity annotation on your <strong>First2000UsersRibbon</strong> class. And make sure that the package having this class is there in <code>&lt;context:component-scan base-package=\"\" /&gt;</code>. And along with this you need to make sure that the object of this class is not created using <code>new</code> operator. </p>\n\n<p>Hope this helps you. Cheers.</p>\n"},{"tags":[],"owner":{"account_id":225000,"reputation":821,"user_id":485229,"accept_rate":75,"display_name":"rodrigobartels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340158033,"creation_date":1340158033,"answer_id":11111921,"question_id":11056693,"body_markdown":"As Alex already mentioned is not a good practice to have your application entities as beans within your context. There are a lot of cumbersome things that can happen and it doesn&#39;t look like a good design.\r\n\r\nThe code will look something like this:\r\n\r\n    public abstract class Ribbon{\r\n        \r\n        public abstract boolean checkUser(User user);\r\n    }\r\n    \r\n    public class NewUserRibbon extends Ribbon{\r\n    \r\n        @Override\r\n        public boolean checkUser(User user){\r\n            // your logic here\r\n        }\r\n    }\r\n\r\nIn your Service you can have a cache collection of all the ribbons in the system (unless they are dynamic), I would suggest even to classify the ribbons by event triggers (new users, answers, votes, etc..), so you can check in your services just for the appropriate ribbons (instead of all of them), by iterating over the applicable ribbon list with the current user.","title":"Autowiring a DAO into a domain object","body":"<p>As Alex already mentioned is not a good practice to have your application entities as beans within your context. There are a lot of cumbersome things that can happen and it doesn't look like a good design.</p>\n\n<p>The code will look something like this:</p>\n\n<pre><code>public abstract class Ribbon{\n\n    public abstract boolean checkUser(User user);\n}\n\npublic class NewUserRibbon extends Ribbon{\n\n    @Override\n    public boolean checkUser(User user){\n        // your logic here\n    }\n}\n</code></pre>\n\n<p>In your Service you can have a cache collection of all the ribbons in the system (unless they are dynamic), I would suggest even to classify the ribbons by event triggers (new users, answers, votes, etc..), so you can check in your services just for the appropriate ribbons (instead of all of them), by iterating over the applicable ribbon list with the current user.</p>\n"},{"tags":[],"owner":{"account_id":974634,"reputation":3650,"user_id":996309,"accept_rate":36,"display_name":"Tom McIntyre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340224005,"creation_date":1340224005,"answer_id":11127646,"question_id":11056693,"body_markdown":"From what I can see the design of your hibernate classes, and the persistence of earned ribbons, is fine. I think the problem is about when and how you decide whether a User has earned a new ribbon.\r\n\r\nLets say a new request comes in from a logged in user. The User object is created and populated by Hibernate, and we now know all the Ribbons already earned by that User, in the userHasRibbonSet. We probably need a method like this in User:\r\n\r\n    public boolean hasEarnedRibbon(Ribbon ribbon) {\r\n        for (UserHasRibbon userHasRibbon : userHasRibbonSet) {\r\n            if (userHasRibbon.getRibbon().equals(ribbon) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n(this could probably be optimised by caching the ribbons themselves in a Set and doing a constant-time lookup, but that isn&#39;t key here)\r\n\r\nThe request is processed, the User object is updated to reflect what has happened. Then, on the way out, you check what Ribbons the User has now earned, something like this:\r\n\r\n    public class RibbonAwardingInterceptor extends HandlerInterceptorAdapter {\r\n    \r\n        @Resource\r\n        private SessionFactory sessionFactory;\r\n        @Resource // assuming it&#39;s a request-scoped bean; you can inject it one way or another\r\n        private User user;\r\n\r\n        public void postHandle(HttpServletRequest request, HttpServletResponse response, \r\n           Object handler, ModelAndView modelAndView) throws Exception {\r\n\r\n            List&lt;Ribbon&gt; allRibbons = sessionFactory.getCurrentSession().createQuery(&quot;from Ribbon&quot;).list();\r\n\r\n            for (Ribbon ribbon : allRibbons()  {\r\n                if (!user.hasEarnedRibbon(ribbon)) {\r\n                    // The user has not previously earned this ribbon - lets see if they have now\r\n                    if (ribbon.isEarned(user)) {\r\n                        user.getUserHasRibbonSet().add(new UserHasRibbon(user, ribbon));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIf you want to use this exact pattern, make sure this interceptor goes after any interceptors that update the User in a way relevant to ribbons, but before the interceptor that closes the transaction (assuming you are using the transaction-per-request model). Then flushing the Hibernate Session will update the UserHasRibbon table automatically, so there is no real need for a dedicated DAO.\r\n\r\nThis is a simplistic approach and can obviously be refined. A clear improvement would be to be more selective with the Ribbons you are checking. Maybe each Controller method could finish by checking if any relevant Ribbons are now applicable - the Controller should know which Ribbons may be awarded after it&#39;s action.\r\n\r\nHope that helps, please let me know if I have completely missed the point and I&#39;ll try again. \r\n","title":"Autowiring a DAO into a domain object","body":"<p>From what I can see the design of your hibernate classes, and the persistence of earned ribbons, is fine. I think the problem is about when and how you decide whether a User has earned a new ribbon.</p>\n\n<p>Lets say a new request comes in from a logged in user. The User object is created and populated by Hibernate, and we now know all the Ribbons already earned by that User, in the userHasRibbonSet. We probably need a method like this in User:</p>\n\n<pre><code>public boolean hasEarnedRibbon(Ribbon ribbon) {\n    for (UserHasRibbon userHasRibbon : userHasRibbonSet) {\n        if (userHasRibbon.getRibbon().equals(ribbon) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>(this could probably be optimised by caching the ribbons themselves in a Set and doing a constant-time lookup, but that isn't key here)</p>\n\n<p>The request is processed, the User object is updated to reflect what has happened. Then, on the way out, you check what Ribbons the User has now earned, something like this:</p>\n\n<pre><code>public class RibbonAwardingInterceptor extends HandlerInterceptorAdapter {\n\n    @Resource\n    private SessionFactory sessionFactory;\n    @Resource // assuming it's a request-scoped bean; you can inject it one way or another\n    private User user;\n\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, \n       Object handler, ModelAndView modelAndView) throws Exception {\n\n        List&lt;Ribbon&gt; allRibbons = sessionFactory.getCurrentSession().createQuery(\"from Ribbon\").list();\n\n        for (Ribbon ribbon : allRibbons()  {\n            if (!user.hasEarnedRibbon(ribbon)) {\n                // The user has not previously earned this ribbon - lets see if they have now\n                if (ribbon.isEarned(user)) {\n                    user.getUserHasRibbonSet().add(new UserHasRibbon(user, ribbon));\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If you want to use this exact pattern, make sure this interceptor goes after any interceptors that update the User in a way relevant to ribbons, but before the interceptor that closes the transaction (assuming you are using the transaction-per-request model). Then flushing the Hibernate Session will update the UserHasRibbon table automatically, so there is no real need for a dedicated DAO.</p>\n\n<p>This is a simplistic approach and can obviously be refined. A clear improvement would be to be more selective with the Ribbons you are checking. Maybe each Controller method could finish by checking if any relevant Ribbons are now applicable - the Controller should know which Ribbons may be awarded after it's action.</p>\n\n<p>Hope that helps, please let me know if I have completely missed the point and I'll try again. </p>\n"},{"tags":[],"owner":{"account_id":975565,"reputation":1058,"user_id":996915,"accept_rate":100,"display_name":"Chao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340381105,"creation_date":1340381105,"answer_id":11159964,"question_id":11056693,"body_markdown":"I think you need to tweak your design. The first question I had was &quot;how come your Ribbon class has the ability to check which user has it?&quot; It&#39;s like saying the kitchen table should have a method called `boolean doesThisKitchenHaveMe(Kitchen k)`. \r\n\r\nIt seems more logical to me that you need a 3rd locator service that maps a ribbon to an user","title":"Autowiring a DAO into a domain object","body":"<p>I think you need to tweak your design. The first question I had was \"how come your Ribbon class has the ability to check which user has it?\" It's like saying the kitchen table should have a method called <code>boolean doesThisKitchenHaveMe(Kitchen k)</code>. </p>\n\n<p>It seems more logical to me that you need a 3rd locator service that maps a ribbon to an user</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340535730,"creation_date":1340535730,"answer_id":11176896,"question_id":11056693,"body_markdown":"One answer is missing, and it&#39;s not pretty, but it works. Instead of wiring the Dao, you can look it up from the WebApplicationContext:\r\n\r\n    RibbonDao dao = ContextLoader.getCurrentWebApplicationContext.getBean(RibbonDao.class);\r\n\r\nThis is the opposite of everything dependency injection stands for (I like to call this pattern &quot;Inversion of Inversion of Control&quot; :-)), but then: so is injecting services into Domain Objects.","title":"Autowiring a DAO into a domain object","body":"<p>One answer is missing, and it's not pretty, but it works. Instead of wiring the Dao, you can look it up from the WebApplicationContext:</p>\n\n<pre><code>RibbonDao dao = ContextLoader.getCurrentWebApplicationContext.getBean(RibbonDao.class);\n</code></pre>\n\n<p>This is the opposite of everything dependency injection stands for (I like to call this pattern \"Inversion of Inversion of Control\" :-)), but then: so is injecting services into Domain Objects.</p>\n"},{"tags":[],"owner":{"account_id":1198261,"reputation":329,"user_id":1169511,"accept_rate":50,"display_name":"Grigorichev Denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342065045,"creation_date":1342065045,"answer_id":11444767,"question_id":11056693,"body_markdown":"Why use DAO in the DomainObject? I suggest to decouple DAO and DomainObject, because (IMHO) the method isEarned(User user) is not relevant for First2000UsersRibbon.\r\n\r\n    class UserHasRibbonDao {\r\n        public boolean isEarned(User user){\r\n            if(!userHasRibbonDao.userHasRibbon(user, this)) {\r\n            // TODO\r\n            // All the logic to determine whether the user earned the ribbon\r\n            // i.e. check whether the user is between the first 2000 users who registered to the website\r\n            // Other autowired DAOs are needed\r\n            } else {\r\n               return true;\r\n            }\r\n\r\n            return false;}\r\n    }","title":"Autowiring a DAO into a domain object","body":"<p>Why use DAO in the DomainObject? I suggest to decouple DAO and DomainObject, because (IMHO) the method isEarned(User user) is not relevant for First2000UsersRibbon.</p>\n\n<pre><code>class UserHasRibbonDao {\n    public boolean isEarned(User user){\n        if(!userHasRibbonDao.userHasRibbon(user, this)) {\n        // TODO\n        // All the logic to determine whether the user earned the ribbon\n        // i.e. check whether the user is between the first 2000 users who registered to the website\n        // Other autowired DAOs are needed\n        } else {\n           return true;\n        }\n\n        return false;}\n}\n</code></pre>\n"}],"owner":{"account_id":1021407,"reputation":3993,"user_id":1031658,"accept_rate":85,"display_name":"satoshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5051,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":8,"score":4,"last_activity_date":1673117247,"creation_date":1339786928,"question_id":11056693,"body_markdown":"I am coding a ribbon/achievements system for a website and I have to write some logic for each ribbon in my system. For example, you could earn a ribbon if you&#39;re in the first 2,000 people registering to the website or after 1,000 post in the forum. The idea is very similar to stackoverflow&#39;s badges, really.\r\n\r\nSo, every ribbon is obviously in the database but they also need a bit of logic to determine when a user has earned the ribbon.\r\n\r\nIn the way I coded it, `Ribbon` is a simple abstract class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;ribbon&quot;)\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name = &quot;ribbon_type&quot;)\r\n    public abstract class Ribbon\r\n    {\r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;, nullable = false, length = 8)\r\n    \tprivate int id;\r\n    \r\n    \t@Column(name = &quot;title&quot;, nullable = false, length = 64)\r\n    \tprivate String title;\r\n    \r\n    \tpublic Ribbon()\r\n    \t{\r\n    \t}\r\n\r\n    \tpublic abstract boolean isEarned(User user);\r\n\r\n    \t// ... getters/setters...\r\n    }\r\n\r\nYou can see I define the inheritance strategy as `SINGLE_TABLE` (since I have to code like 50 ribbons and I don&#39;t need additional columns for any of them).\r\n\r\nNow, a specific ribbon will be implemented like this, for example:\r\n\r\n    @Entity\r\n    public class First2000UsersRibbon extends Ribbon\r\n    {\r\n    \t@Autowired\r\n    \t@Transient\r\n    \tprivate UserHasRibbonDao userHasRibbonDao;\r\n    \r\n    \tpublic First2000UsersRibbon()\r\n    \t{\r\n    \t\tsuper.setId(1);\r\n    \t\tsuper.setTitle(&quot;Between the first 2,000 users who registered to the website&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isEarned(User user)\r\n    \t{\r\n    \t\tif(!userHasRibbonDao.userHasRibbon(user, this))\r\n    \t\t{\r\n    \t\t\t// TODO\r\n    \t\t\t// All the logic to determine whether the user earned the ribbon\r\n    \t\t\t// i.e. check whether the user is between the first 2000 users who registered to the website\r\n    \t\t\t// Other autowired DAOs are needed\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nThe problem is that `userHasRibbonDao` is null inside the `isEarned()` method, so a `NullPointerException` is thrown.\r\n\r\nI thought that having DAOs autowired into domain objects was wrong, but in [this topic][1] they told me that it&#39;s the correct approach (Domain-Driven Design).\r\n\r\nI shared a non-working very simple example on GitHub: https://github.com/MintTwist/TestApp (remember to change the connection details in /WEB-INF/properties/jdbc.properties and to import the test_app.sql script)\r\n\r\nAny help very appreciated.\r\n\r\nThank you!\r\n\r\n**Update** - Reading the first answers, it seems like my approach is completely wrong. How would you ideally structure the code given that there may be 50-70 different ribbons? Thanks\r\n\r\n  [1]: https://stackoverflow.com/questions/10676539/business-logic-in-domain-objects","title":"Autowiring a DAO into a domain object","body":"<p>I am coding a ribbon/achievements system for a website and I have to write some logic for each ribbon in my system. For example, you could earn a ribbon if you're in the first 2,000 people registering to the website or after 1,000 post in the forum. The idea is very similar to stackoverflow's badges, really.</p>\n\n<p>So, every ribbon is obviously in the database but they also need a bit of logic to determine when a user has earned the ribbon.</p>\n\n<p>In the way I coded it, <code>Ribbon</code> is a simple abstract class:</p>\n\n<pre><code>@Entity\n@Table(name = \"ribbon\")\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = \"ribbon_type\")\npublic abstract class Ribbon\n{\n    @Id\n    @Column(name = \"id\", nullable = false, length = 8)\n    private int id;\n\n    @Column(name = \"title\", nullable = false, length = 64)\n    private String title;\n\n    public Ribbon()\n    {\n    }\n\n    public abstract boolean isEarned(User user);\n\n    // ... getters/setters...\n}\n</code></pre>\n\n<p>You can see I define the inheritance strategy as <code>SINGLE_TABLE</code> (since I have to code like 50 ribbons and I don't need additional columns for any of them).</p>\n\n<p>Now, a specific ribbon will be implemented like this, for example:</p>\n\n<pre><code>@Entity\npublic class First2000UsersRibbon extends Ribbon\n{\n    @Autowired\n    @Transient\n    private UserHasRibbonDao userHasRibbonDao;\n\n    public First2000UsersRibbon()\n    {\n        super.setId(1);\n        super.setTitle(\"Between the first 2,000 users who registered to the website\");\n    }\n\n    @Override\n    public boolean isEarned(User user)\n    {\n        if(!userHasRibbonDao.userHasRibbon(user, this))\n        {\n            // TODO\n            // All the logic to determine whether the user earned the ribbon\n            // i.e. check whether the user is between the first 2000 users who registered to the website\n            // Other autowired DAOs are needed\n        }\n        else\n        {\n            return true;\n        }\n\n        return false;\n    }\n}\n</code></pre>\n\n<p>The problem is that <code>userHasRibbonDao</code> is null inside the <code>isEarned()</code> method, so a <code>NullPointerException</code> is thrown.</p>\n\n<p>I thought that having DAOs autowired into domain objects was wrong, but in <a href=\"https://stackoverflow.com/questions/10676539/business-logic-in-domain-objects\">this topic</a> they told me that it's the correct approach (Domain-Driven Design).</p>\n\n<p>I shared a non-working very simple example on GitHub: <a href=\"https://github.com/MintTwist/TestApp\" rel=\"nofollow noreferrer\">https://github.com/MintTwist/TestApp</a> (remember to change the connection details in /WEB-INF/properties/jdbc.properties and to import the test_app.sql script)</p>\n\n<p>Any help very appreciated.</p>\n\n<p>Thank you!</p>\n\n<p><strong>Update</strong> - Reading the first answers, it seems like my approach is completely wrong. How would you ideally structure the code given that there may be 50-70 different ribbons? Thanks</p>\n"},{"tags":["java","spring-boot","logback","spring-logback"],"comments":[{"owner":{"account_id":10686405,"reputation":170,"user_id":7866838,"display_name":"Rajesh Patel"},"score":0,"creation_date":1631102554,"post_id":69102547,"comment_id":122132038,"body_markdown":"This link may be help you. Please check it: - https://springframework.guru/using-logback-spring-boot/","body":"This link may be help you. Please check it: - <a href=\"https://springframework.guru/using-logback-spring-boot/\" rel=\"nofollow noreferrer\">springframework.guru/using-logback-spring-boot</a>"},{"owner":{"account_id":12841030,"reputation":19,"user_id":9289076,"display_name":"Lisa_"},"score":1,"creation_date":1631103470,"post_id":69102547,"comment_id":122132482,"body_markdown":"if the application.properties file is inside the class path then logs are printing. But when i change its path then only logs are not getting printed.","body":"if the application.properties file is inside the class path then logs are printing. But when i change its path then only logs are not getting printed."},{"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"score":0,"creation_date":1642017634,"post_id":69102547,"comment_id":124963783,"body_markdown":"i think it is a bug.i use 2 application.properties file. one of them in resource folder contains logging properties and one of the is external contains other properties.","body":"i think it is a bug.i use 2 application.properties file. one of them in resource folder contains logging properties and one of the is external contains other properties."}],"answers":[{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673117176,"creation_date":1673117176,"answer_id":75042921,"question_id":69102547,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging.custom-log-configuration\r\n\r\n&gt; Since logging is initialized before the ApplicationContext is created,\r\n&gt; it is not possible to control logging from @PropertySources in Spring\r\n&gt; @Configuration files. The only way to change the logging system or\r\n&gt; disable it entirely is through System properties.\r\n\r\n","title":"Spring Boot Logging not working when Spring PropertySource External File with External Tomcat","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging.custom-log-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging.custom-log-configuration</a></p>\n<blockquote>\n<p>Since logging is initialized before the ApplicationContext is created,\nit is not possible to control logging from @PropertySources in Spring\n@Configuration files. The only way to change the logging system or\ndisable it entirely is through System properties.</p>\n</blockquote>\n"}],"owner":{"account_id":12841030,"reputation":19,"user_id":9289076,"display_name":"Lisa_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673117176,"creation_date":1631101886,"question_id":69102547,"body_markdown":"I have a spring boot war application which is deployed in external tomcat container.\r\nAll logs are printing properly but if application.properties file read from external path then no log is printing.\r\nNote: iam using logback but not added logback.xml file. All log configurations were added in the application.properties .\r\n\r\n-here is my code\r\n\r\n\r\n\r\n    @SpringBootApplication\r\n    @PropertySources({\r\n       @PropertySource(value = &quot;file:E:/Config/myApplication.properties&quot;, ignoreResourceNotFound= false)})\r\n    public class ServletInitializer extends SpringBootServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(MyMain.class);\r\n    \t}\r\n    \r\n    }\r\n\r\n    application.properties .\r\n    \r\n    logging.file.name=E:/FILES/LOG/myclass-logging.log\r\n    logging.pattern.file=%d{dd-MM-yyyy HH:mm:ss.SSS} [%thread] %-5level %logger{40}.%M - %msg%n\r\n    logging.pattern.rolling-file-name=E:/FILES/LOG/myclass`enter code here`-logging-%d{yyyy-MM-dd}.%i.log\r\n    logging.file.max-size=5MB\r\n    logging.level.org.hibernate: OFF\r\n\r\n","title":"Spring Boot Logging not working when Spring PropertySource External File with External Tomcat","body":"<p>I have a spring boot war application which is deployed in external tomcat container.\nAll logs are printing properly but if application.properties file read from external path then no log is printing.\nNote: iam using logback but not added logback.xml file. All log configurations were added in the application.properties .</p>\n<p>-here is my code</p>\n<pre><code>@SpringBootApplication\n@PropertySources({\n   @PropertySource(value = &quot;file:E:/Config/myApplication.properties&quot;, ignoreResourceNotFound= false)})\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(MyMain.class);\n    }\n\n}\n\napplication.properties .\n\nlogging.file.name=E:/FILES/LOG/myclass-logging.log\nlogging.pattern.file=%d{dd-MM-yyyy HH:mm:ss.SSS} [%thread] %-5level %logger{40}.%M - %msg%n\nlogging.pattern.rolling-file-name=E:/FILES/LOG/myclass`enter code here`-logging-%d{yyyy-MM-dd}.%i.log\nlogging.file.max-size=5MB\nlogging.level.org.hibernate: OFF\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673065346,"post_id":75037964,"comment_id":132419694,"body_markdown":"I would have `Tree` extend `Iterable`. Then you could add a default `stream()` method to the interface that simply calls `StreamSupport.stream(spliterator(), false)`. Of course, that means you&#39;d have to create an `Iterator` implementation for your trees. And you might want to override the `spliterator()` method to provide your own `Spliterator` implementation.","body":"I would have <code>Tree</code> extend <code>Iterable</code>. Then you could add a default <code>stream()</code> method to the interface that simply calls <code>StreamSupport.stream(spliterator(), false)</code>. Of course, that means you&#39;d have to create an <code>Iterator</code> implementation for your trees. And you might want to override the <code>spliterator()</code> method to provide your own <code>Spliterator</code> implementation."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1673138788,"post_id":75037964,"comment_id":132431321,"body_markdown":"Does this answer your question? [In Java, how do I efficiently and elegantly stream a tree node&#39;s descendants?](https://stackoverflow.com/questions/32749148/in-java-how-do-i-efficiently-and-elegantly-stream-a-tree-nodes-descendants)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32749148/in-java-how-do-i-efficiently-and-elegantly-stream-a-tree-nodes-descendants\">In Java, how do I efficiently and elegantly stream a tree node&#39;s descendants?</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1673138854,"post_id":75037964,"comment_id":132431331,"body_markdown":"Also https://stackoverflow.com/q/26158082/525036","body":"Also <a href=\"https://stackoverflow.com/q/26158082/525036\">stackoverflow.com/q/26158082/525036</a>"}],"answers":[{"tags":[],"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673067480,"creation_date":1673067480,"answer_id":75038203,"question_id":75037964,"body_markdown":"Looking at record definition `Leave(int label) implements NonEmptyTree`, I have two questions:\r\n\r\n 1. Did you mean &quot;leaf&quot;?\r\n 2. A tree consists of nodes (either a leaf or an internal node), but a node or leaf do not implement a tree, i.e., they are not are specific type of a tree. Are you sure about your node/leaf/tree implementation?\r\n\r\nI would recommend a simple implementation like this one here: https://www.baeldung.com/java-binary-tree\r\n\r\nWhen it comes to stream, you have two options:\r\n\r\n 1. Implement your own Stream-enabled class (see [discussion here][1])\r\n 2. Provide a method that returns a (specific) stream, e.g. filtered.\r\n\r\nKeep in mind that there are many different trees out there, e.g. red–black tree, n-ary tree, AVL Tree, B-Tree ... \r\n\r\n  [1]: https://stackoverflow.com/questions/48010544/how-do-i-write-a-custom-stream-function","title":"Java: Turning a tree into a stream","body":"<p>Looking at record definition <code>Leave(int label) implements NonEmptyTree</code>, I have two questions:</p>\n<ol>\n<li>Did you mean &quot;leaf&quot;?</li>\n<li>A tree consists of nodes (either a leaf or an internal node), but a node or leaf do not implement a tree, i.e., they are not are specific type of a tree. Are you sure about your node/leaf/tree implementation?</li>\n</ol>\n<p>I would recommend a simple implementation like this one here: <a href=\"https://www.baeldung.com/java-binary-tree\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-binary-tree</a></p>\n<p>When it comes to stream, you have two options:</p>\n<ol>\n<li>Implement your own Stream-enabled class (see <a href=\"https://stackoverflow.com/questions/48010544/how-do-i-write-a-custom-stream-function\">discussion here</a>)</li>\n<li>Provide a method that returns a (specific) stream, e.g. filtered.</li>\n</ol>\n<p>Keep in mind that there are many different trees out there, e.g. red–black tree, n-ary tree, AVL Tree, B-Tree ...</p>\n"},{"tags":[],"owner":{"account_id":3283799,"reputation":684,"user_id":2809272,"accept_rate":50,"display_name":"Marco Servetto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673116952,"creation_date":1673073356,"answer_id":75038550,"question_id":75037964,"body_markdown":"Ok, I sorted it.\r\nI&#39;m quite sure that what I&#39;m doing is pretty standard with immutable trees\r\n(parent fields only make sense in mutable trees)\r\n\r\nHere is my result, for reference for future programmers doing streams on immutable trees.\r\nThe class `TreeIterator&lt;E&gt;` is the one really relevant to this ordeal.\r\nI could make nested classes to be able to make more stuff private, but as a code example I think it is more clear in this non nested form.\r\n\r\n```\r\ninterface Tree&lt;E&gt; extends Iterable&lt;E&gt;{\r\n  \r\n  Tree&lt;E&gt; and(Tree&lt;E&gt; other);\r\n  \r\n  default Tree&lt;E&gt; left(){ return empty(); }\r\n  \r\n  default Tree&lt;E&gt; right(){ return empty(); }\r\n  \r\n  default E label(Supplier&lt;E&gt; orElse){ return orElse.get(); }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  static &lt;E&gt; Tree&lt;E&gt; empty(){ return (Tree&lt;E&gt;)EmptyTree.empty; }\r\n  \r\n  static &lt;E&gt; Tree&lt;E&gt; leaf(E label){ return new Leaf&lt;E&gt;(label); }\r\n\r\n  default Stream&lt;E&gt; stream(){ return StreamSupport.stream(spliterator(), false); }\r\n}\r\n\r\nfinal class EmptyTree&lt;E&gt; implements Tree&lt;E&gt;{\r\n  public Tree&lt;E&gt; and(Tree&lt;E&gt; other){ return other; }\r\n  \r\n  private EmptyTree(){} //Singleton pattern: only one EmptyTree can exists\r\n  static final Tree&lt;?&gt; empty = new EmptyTree&lt;&gt;();\r\n  \r\n  public Iterator&lt;E&gt; iterator(){ return List.&lt;E&gt;of().iterator(); }\r\n\r\n  public String toString(){ return &quot;&lt;EMPTY&gt;&quot;; }\r\n}\r\n\r\ninterface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt;{\r\n  \r\n  Leaf&lt;E&gt; itAdvance(ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack);\r\n  \r\n  default Tree&lt;E&gt; and(Tree&lt;E&gt; other){\r\n    if (!(other instanceof NonEmptyTree&lt;E&gt; net)){ return this; }\r\n    return new Node&lt;E&gt;(this, net);\r\n  }\r\n}\r\nrecord Leaf&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{\r\n  \r\n  public E label(Supplier&lt;E&gt; orElse){ return label; }\r\n  \r\n  public Leaf&lt;E&gt; itAdvance(ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack){ return this; }\r\n  \r\n  public Iterator&lt;E&gt; iterator(){ return List.&lt;E&gt;of(label).iterator(); }\r\n\r\n  public String toString(){ return label+&quot;&quot;; }\r\n}\r\n\r\nrecord Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left, NonEmptyTree&lt;E&gt; right) implements NonEmptyTree&lt;E&gt;{\r\n\r\n  public Node{ assert left!=null &amp;&amp; right!=null; }//null is not a valid tree\r\n  \r\n  public Leaf&lt;E&gt; itAdvance(ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack){\r\n    stack.add(right);\r\n    return left.itAdvance(stack);\r\n    }\r\n\r\n  public Iterator&lt;E&gt; iterator(){ return new TreeIterator&lt;E&gt;(this); }\r\n  \r\n  public String toString(){ return &quot;(&quot;+left+&quot;, &quot;+right+&quot;)&quot;; }\r\n  \r\n}\r\nclass TreeIterator&lt;E&gt; implements Iterator&lt;E&gt;{\r\n  \r\n  private final ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack = new ArrayList&lt;&gt;(32);\r\n  \r\n  public boolean hasNext(){ return !stack.isEmpty(); }\r\n    \r\n  public TreeIterator(Node&lt;E&gt; n){ stack.add(n); }\r\n  \r\n  public E next(){\r\n    if(stack.isEmpty()){ throw new NoSuchElementException(); }\r\n    var last=stack.remove(stack.size()-1);\r\n    return last.itAdvance(stack).label();\r\n  }\r\n}\r\n```","title":"Java: Turning a tree into a stream","body":"<p>Ok, I sorted it.\nI'm quite sure that what I'm doing is pretty standard with immutable trees\n(parent fields only make sense in mutable trees)</p>\n<p>Here is my result, for reference for future programmers doing streams on immutable trees.\nThe class <code>TreeIterator&lt;E&gt;</code> is the one really relevant to this ordeal.\nI could make nested classes to be able to make more stuff private, but as a code example I think it is more clear in this non nested form.</p>\n<pre><code>interface Tree&lt;E&gt; extends Iterable&lt;E&gt;{\n  \n  Tree&lt;E&gt; and(Tree&lt;E&gt; other);\n  \n  default Tree&lt;E&gt; left(){ return empty(); }\n  \n  default Tree&lt;E&gt; right(){ return empty(); }\n  \n  default E label(Supplier&lt;E&gt; orElse){ return orElse.get(); }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  static &lt;E&gt; Tree&lt;E&gt; empty(){ return (Tree&lt;E&gt;)EmptyTree.empty; }\n  \n  static &lt;E&gt; Tree&lt;E&gt; leaf(E label){ return new Leaf&lt;E&gt;(label); }\n\n  default Stream&lt;E&gt; stream(){ return StreamSupport.stream(spliterator(), false); }\n}\n\nfinal class EmptyTree&lt;E&gt; implements Tree&lt;E&gt;{\n  public Tree&lt;E&gt; and(Tree&lt;E&gt; other){ return other; }\n  \n  private EmptyTree(){} //Singleton pattern: only one EmptyTree can exists\n  static final Tree&lt;?&gt; empty = new EmptyTree&lt;&gt;();\n  \n  public Iterator&lt;E&gt; iterator(){ return List.&lt;E&gt;of().iterator(); }\n\n  public String toString(){ return &quot;&lt;EMPTY&gt;&quot;; }\n}\n\ninterface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt;{\n  \n  Leaf&lt;E&gt; itAdvance(ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack);\n  \n  default Tree&lt;E&gt; and(Tree&lt;E&gt; other){\n    if (!(other instanceof NonEmptyTree&lt;E&gt; net)){ return this; }\n    return new Node&lt;E&gt;(this, net);\n  }\n}\nrecord Leaf&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{\n  \n  public E label(Supplier&lt;E&gt; orElse){ return label; }\n  \n  public Leaf&lt;E&gt; itAdvance(ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack){ return this; }\n  \n  public Iterator&lt;E&gt; iterator(){ return List.&lt;E&gt;of(label).iterator(); }\n\n  public String toString(){ return label+&quot;&quot;; }\n}\n\nrecord Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left, NonEmptyTree&lt;E&gt; right) implements NonEmptyTree&lt;E&gt;{\n\n  public Node{ assert left!=null &amp;&amp; right!=null; }//null is not a valid tree\n  \n  public Leaf&lt;E&gt; itAdvance(ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack){\n    stack.add(right);\n    return left.itAdvance(stack);\n    }\n\n  public Iterator&lt;E&gt; iterator(){ return new TreeIterator&lt;E&gt;(this); }\n  \n  public String toString(){ return &quot;(&quot;+left+&quot;, &quot;+right+&quot;)&quot;; }\n  \n}\nclass TreeIterator&lt;E&gt; implements Iterator&lt;E&gt;{\n  \n  private final ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack = new ArrayList&lt;&gt;(32);\n  \n  public boolean hasNext(){ return !stack.isEmpty(); }\n    \n  public TreeIterator(Node&lt;E&gt; n){ stack.add(n); }\n  \n  public E next(){\n    if(stack.isEmpty()){ throw new NoSuchElementException(); }\n    var last=stack.remove(stack.size()-1);\n    return last.itAdvance(stack).label();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3283799,"reputation":684,"user_id":2809272,"accept_rate":50,"display_name":"Marco Servetto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673116952,"creation_date":1673062740,"question_id":75037964,"body_markdown":"One of the advantages of streams is that you can avoid visiting the whole structure for some operations, like anyMatch or filter+findFirst.\r\nHowever, if you have your own data structure, depending on how you turn it into a stream you may end up visiting it all anyway.\r\nWhat is the right way to turn a custom tree data type into a stream?\r\nConsider the following example:\r\n\r\n```\r\ninterface Tree{\r\n  void forEach(Consumer&lt;Integer&gt; c);\r\n}\r\n\r\nfinal class EmptyTree implements Tree{\r\n  public void forEach(Consumer&lt;Integer&gt; c){}\r\n}\r\n\r\ninterface NonEmptyTree extends Tree{}\r\n\r\nrecord Leave(int label) implements NonEmptyTree{\r\n  public void forEach(Consumer&lt;Integer&gt; c){ \r\n    System.out.println(&quot;In forEachLeave &quot;+label);\r\n    c.accept(label);\r\n    }\r\n}\r\n\r\nrecord Node(NonEmptyTree left, NonEmptyTree right) implements NonEmptyTree{\r\n  public void forEach(Consumer&lt;Integer&gt; c){ \r\n    left.forEach(c); right.forEach(c);\r\n  }\r\n}\r\n```\r\n\r\nThe two main ways to turn a tree into a stream would be\r\n\r\n```\r\nvar sb=Stream.&lt;Integer&gt;builder();\r\nmyTree.forEach(sb);\r\nsb.build()\r\n```\r\n\r\nor \r\n\r\n```\r\nStream.of(myTree).mapMulti(Tree::forEach)\r\n```\r\n\r\nHowever, both of them call forEach, thus both of them will visit all the tree (and call the prints for all the labels, in this example).\r\n\r\nHow do you implement a .stream() method in the Tree type so that it would not even visit the whole tree if it is not needed? (because of .anyMatch, for example)","title":"Java: Turning a tree into a stream","body":"<p>One of the advantages of streams is that you can avoid visiting the whole structure for some operations, like anyMatch or filter+findFirst.\nHowever, if you have your own data structure, depending on how you turn it into a stream you may end up visiting it all anyway.\nWhat is the right way to turn a custom tree data type into a stream?\nConsider the following example:</p>\n<pre><code>interface Tree{\n  void forEach(Consumer&lt;Integer&gt; c);\n}\n\nfinal class EmptyTree implements Tree{\n  public void forEach(Consumer&lt;Integer&gt; c){}\n}\n\ninterface NonEmptyTree extends Tree{}\n\nrecord Leave(int label) implements NonEmptyTree{\n  public void forEach(Consumer&lt;Integer&gt; c){ \n    System.out.println(&quot;In forEachLeave &quot;+label);\n    c.accept(label);\n    }\n}\n\nrecord Node(NonEmptyTree left, NonEmptyTree right) implements NonEmptyTree{\n  public void forEach(Consumer&lt;Integer&gt; c){ \n    left.forEach(c); right.forEach(c);\n  }\n}\n</code></pre>\n<p>The two main ways to turn a tree into a stream would be</p>\n<pre><code>var sb=Stream.&lt;Integer&gt;builder();\nmyTree.forEach(sb);\nsb.build()\n</code></pre>\n<p>or</p>\n<pre><code>Stream.of(myTree).mapMulti(Tree::forEach)\n</code></pre>\n<p>However, both of them call forEach, thus both of them will visit all the tree (and call the prints for all the labels, in this example).</p>\n<p>How do you implement a .stream() method in the Tree type so that it would not even visit the whole tree if it is not needed? (because of .anyMatch, for example)</p>\n"},{"tags":["java","class","module","export"],"answers":[{"tags":[],"owner":{"account_id":5067945,"reputation":617,"user_id":4067559,"display_name":"Val Martinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673116750,"creation_date":1673116750,"answer_id":75042872,"question_id":70896142,"body_markdown":" 1. You only can export packages; not indivudual classes or interfaces.\r\n 2. [Official docs][1] says &quot;It is a compile-time error if more than one exports directive in a module declaration specifies the same package name&quot;.\r\n\r\nSo, answering your question, i woud say no; that is not possible.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.2","title":"Java Module : Export Only Class or Interface","body":"<ol>\n<li>You only can export packages; not indivudual classes or interfaces.</li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.2\" rel=\"nofollow noreferrer\">Official docs</a> says &quot;It is a compile-time error if more than one exports directive in a module declaration specifies the same package name&quot;.</li>\n</ol>\n<p>So, answering your question, i woud say no; that is not possible.</p>\n"}],"owner":{"account_id":3607184,"reputation":185,"user_id":3009097,"display_name":"user3009097"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75042872,"answer_count":1,"score":1,"last_activity_date":1673116750,"creation_date":1643383476,"question_id":70896142,"body_markdown":"Is it possible to export only several selected classes/interfaces across different packages within the same module ?","title":"Java Module : Export Only Class or Interface","body":"<p>Is it possible to export only several selected classes/interfaces across different packages within the same module ?</p>\n"},{"tags":["java","spring","thymeleaf","content-type"],"owner":{"account_id":350281,"reputation":2772,"user_id":686041,"accept_rate":90,"display_name":"Konstantin Tarashchanskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673116615,"creation_date":1673115085,"question_id":75042702,"body_markdown":"I have a Spring/Thymeleaf based site serving dynamically generated HTML pages. I have a JavaScript script with a data structure that I want to fill in with server side data.\r\n\r\nI figured out how to make Thymeleaf to serve .js templates:\r\n\r\n    @Bean\r\n\tpublic static SpringTemplateEngine getTemplateEngine() {\r\n\t\tfinal SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n\t\t\r\n\t\ttemplateEngine.addTemplateResolver(htmlTemplateResolver());\r\n\t\ttemplateEngine.addTemplateResolver(jsTemplateResolver());\r\n\t\t\r\n\t\treturn templateEngine;\r\n\t}\r\n\r\n\tprivate static ITemplateResolver jsTemplateResolver() {\r\n\t\tfinal ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n\t\ttemplateResolver.setOrder(Integer.valueOf(1));\r\n\t\ttemplateResolver.setResolvablePatterns(Collections.singleton(&quot;scripts/*&quot;));\r\n\t\ttemplateResolver.setPrefix(&quot;/templates/&quot;);\r\n\t\ttemplateResolver.setSuffix(&quot;.js&quot;);\r\n\t\ttemplateResolver.setTemplateMode(TemplateMode.JAVASCRIPT);\r\n\t\ttemplateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\t\treturn templateResolver;\r\n\t}\r\n\r\nUnfortunately, my browser is not too happy that the scripts are being served with the wrong `Content-Type` header: `text/html;charset=UTF-8`\r\n\r\nI have found several promising properties to set, but none of them do what I need:\r\n\r\n    @GetMapping(value = &quot;/autoscripts/cardLookup&quot;,\r\n\t\t\tproduces = &quot;text/javascript&quot;)\r\n\tpublic String cardDeref(Model model, HttpServletResponse response) {\r\n\t\tmodel.addAttribute(&quot;villainsMap&quot;,  villains.getAllById());\r\n\t\tmodel.addAttribute(&quot;henchmenMap&quot;,  henchmen.getAllById());\r\n\t\t\r\n\t\tresponse.setContentType(&quot;text/javascript&quot;); //TODO: This does not actually seem to work. Fix the content-type\r\n\t\treturn &quot;scripts/cardSet&quot;;\r\n\t}","title":"How do I change the content-type in Spring/Thymeleaf?","body":"<p>I have a Spring/Thymeleaf based site serving dynamically generated HTML pages. I have a JavaScript script with a data structure that I want to fill in with server side data.</p>\n<p>I figured out how to make Thymeleaf to serve .js templates:</p>\n<pre><code>@Bean\npublic static SpringTemplateEngine getTemplateEngine() {\n    final SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n    \n    templateEngine.addTemplateResolver(htmlTemplateResolver());\n    templateEngine.addTemplateResolver(jsTemplateResolver());\n    \n    return templateEngine;\n}\n\nprivate static ITemplateResolver jsTemplateResolver() {\n    final ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n    templateResolver.setOrder(Integer.valueOf(1));\n    templateResolver.setResolvablePatterns(Collections.singleton(&quot;scripts/*&quot;));\n    templateResolver.setPrefix(&quot;/templates/&quot;);\n    templateResolver.setSuffix(&quot;.js&quot;);\n    templateResolver.setTemplateMode(TemplateMode.JAVASCRIPT);\n    templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n    return templateResolver;\n}\n</code></pre>\n<p>Unfortunately, my browser is not too happy that the scripts are being served with the wrong <code>Content-Type</code> header: <code>text/html;charset=UTF-8</code></p>\n<p>I have found several promising properties to set, but none of them do what I need:</p>\n<pre><code>@GetMapping(value = &quot;/autoscripts/cardLookup&quot;,\n        produces = &quot;text/javascript&quot;)\npublic String cardDeref(Model model, HttpServletResponse response) {\n    model.addAttribute(&quot;villainsMap&quot;,  villains.getAllById());\n    model.addAttribute(&quot;henchmenMap&quot;,  henchmen.getAllById());\n    \n    response.setContentType(&quot;text/javascript&quot;); //TODO: This does not actually seem to work. Fix the content-type\n    return &quot;scripts/cardSet&quot;;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673116143,"creation_date":1673116143,"answer_id":75042811,"question_id":75040171,"body_markdown":"Please re-write the code like this and try again.\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n        .build();\r\n    }\r\n```","title":"Spring Security latest version securityFilterChain configuration","body":"<p>Please re-write the code like this and try again.</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/h2-console/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic()\n                .and()\n        .build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673116297,"creation_date":1673116297,"answer_id":75042823,"question_id":75040171,"body_markdown":"To permit different paths you should use:\r\n\r\n    http\r\n        .authorizeHttpRequests()\r\n        .antMatchers(&quot;/api/v1/auth/**&quot;, &quot;/h2-console/**&quot;).permitAll()\r\n        .and()\r\n        ...\r\nKeep in Mind: The purpose of requestMatchers() is to specify which requests the spring security configuration will be applied to.\r\n","title":"Spring Security latest version securityFilterChain configuration","body":"<p>To permit different paths you should use:</p>\n<pre><code>http\n    .authorizeHttpRequests()\n    .antMatchers(&quot;/api/v1/auth/**&quot;, &quot;/h2-console/**&quot;).permitAll()\n    .and()\n    ...\n</code></pre>\n<p>Keep in Mind: The purpose of requestMatchers() is to specify which requests the spring security configuration will be applied to.</p>\n"}],"owner":{"account_id":27461211,"reputation":1,"user_id":20951742,"display_name":"Janek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673116297,"creation_date":1673093035,"question_id":75040171,"body_markdown":"I&#39;m trying to apply latest version of spring configuration. I want to permit all to the `h2-console` but the application still wants me to authorise. \r\n\r\n```java\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests()\r\n                .shouldFilterAllDispatcherTypes(false)\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .csrf().disable()\r\n                .headers().frameOptions().disable();\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nI&#39;ve tried to even change the url of h2-console but it didn&#39;t help. The behaviour is weird because `.requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()` works fine.","title":"Spring Security latest version securityFilterChain configuration","body":"<p>I'm trying to apply latest version of spring configuration. I want to permit all to the <code>h2-console</code> but the application still wants me to authorise.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests()\n                .shouldFilterAllDispatcherTypes(false)\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\n                .and()\n                .authorizeHttpRequests()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .csrf().disable()\n                .headers().frameOptions().disable();\n\n        return http.build();\n    }\n</code></pre>\n<p>I've tried to even change the url of h2-console but it didn't help. The behaviour is weird because <code>.requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()</code> works fine.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":70704,"reputation":49430,"user_id":204788,"display_name":"Biju Kunjummen"},"down_vote_count":0,"up_vote_count":171,"is_accepted":true,"score":171,"last_activity_date":1403023249,"creation_date":1354036917,"answer_id":13589600,"question_id":13589470,"body_markdown":"You have not specified the schema location of the context namespace, that is the reason for this specific error:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;beans .....\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n      xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n        http://www.springframework.org/schema/aop\r\n        http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\r\n        http://www.springframework.org/schema/tx\r\n        http://www.springframework.org/schema/tx/spring-tx-2.5.xsd\r\n    \thttp://www.springframework.org/schema/context\r\n        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>You have not specified the schema location of the context namespace, that is the reason for this specific error:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;beans .....\n  xmlns:context=\"http://www.springframework.org/schema/context\"\n  xsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n    http://www.springframework.org/schema/aop\n    http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n    http://www.springframework.org/schema/tx\n    http://www.springframework.org/schema/tx/spring-tx-2.5.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":409144,"reputation":2185,"user_id":780225,"accept_rate":90,"display_name":"David Rz Ayala"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1443483716,"creation_date":1381902393,"answer_id":19396083,"question_id":13589470,"body_markdown":"I was having issues with \r\n\r\n    Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;security:http&#39;\r\n\r\nand for me I had to add the spring-security-config jar to the classpath\r\n\r\nhttp://docs.spring.io/spring-security/site/docs/3.1.x/reference/ns-config.html\r\n\r\nEDIT:\r\n\r\nIt might be that you have the correct dependency in your pom.\r\n\r\nBut...\r\n\r\nIf you are using multiple spring dependencies and assembling into a single jar then the `META-INF/spring.schemas` is probably being overwritten by the `spring.schemas` of another of your spring dependencies.\r\n\r\n(Extract that file from your assembled jar and you&#39;ll understand)\r\n\r\nSpring schemas is just a bunch of lines that look like this:\r\n\r\n    http\\://www.springframework.org/schema/p=org.springframework.beans.factory.xml.SimplePropertyNamespaceHandler\r\n    http\\://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd\r\n\r\n\r\nBut if another dependency overwrites that file, then the definition will be retrieved from http, and if you have a firewall/proxy it will fail to get it.\r\n\r\nOne solution is to append spring.schemas and spring.handlers into a single file.\r\n\r\nCheck:\r\n\r\nhttps://stackoverflow.com/questions/5586515/idea-to-avoid-that-spring-handlers-spring-schemas-get-overwritten-when-merging-m\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>I was having issues with </p>\n\n<pre><code>Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'security:http'\n</code></pre>\n\n<p>and for me I had to add the spring-security-config jar to the classpath</p>\n\n<p><a href=\"http://docs.spring.io/spring-security/site/docs/3.1.x/reference/ns-config.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-security/site/docs/3.1.x/reference/ns-config.html</a></p>\n\n<p>EDIT:</p>\n\n<p>It might be that you have the correct dependency in your pom.</p>\n\n<p>But...</p>\n\n<p>If you are using multiple spring dependencies and assembling into a single jar then the <code>META-INF/spring.schemas</code> is probably being overwritten by the <code>spring.schemas</code> of another of your spring dependencies.</p>\n\n<p>(Extract that file from your assembled jar and you'll understand)</p>\n\n<p>Spring schemas is just a bunch of lines that look like this:</p>\n\n<pre><code>http\\://www.springframework.org/schema/p=org.springframework.beans.factory.xml.SimplePropertyNamespaceHandler\nhttp\\://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd\n</code></pre>\n\n<p>But if another dependency overwrites that file, then the definition will be retrieved from http, and if you have a firewall/proxy it will fail to get it.</p>\n\n<p>One solution is to append spring.schemas and spring.handlers into a single file.</p>\n\n<p>Check:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5586515/idea-to-avoid-that-spring-handlers-spring-schemas-get-overwritten-when-merging-m\">Idea to avoid that spring.handlers/spring.schemas get overwritten when merging multiple spring dependencies in a single jar</a></p>\n"},{"tags":[],"owner":{"account_id":228364,"reputation":5505,"user_id":490614,"accept_rate":91,"display_name":"sweetfa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1446606442,"creation_date":1446606442,"answer_id":33513027,"question_id":13589470,"body_markdown":"This error can also be caused if the jar file that contains the XSD you require is not included in your deployed class path.\r\n\r\nMake sure the dependencies are available in your container.","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>This error can also be caused if the jar file that contains the XSD you require is not included in your deployed class path.</p>\n\n<p>Make sure the dependencies are available in your container.</p>\n"},{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1452773885,"creation_date":1452773885,"answer_id":34789439,"question_id":13589470,"body_markdown":"If using [STS](http://spring.io/tools/sts), you can in Eclipse mark the configuration file as &quot;Bean Configuration&quot; file (you can specify that when creating or on right click on a XML file):\r\n\r\n[![Spring Tools &gt; Add as Bean Configuration][1]][1]\r\n\r\nYou project has to have Spring Nature (right click on maven project for example):\r\n\r\n[![Spring Tools &gt; Add Spring Project Nature][2]][2]\r\n\r\nthen `spring.xml` is opened by default with Spring Config Editor\r\n\r\n[![Open With &gt; Spring Config Editor][3]][3]\r\n\r\nand this editor has Namespaces tab\r\n\r\n[![Spring Config Editor - Namespaces tab][4]][4]\r\n\r\nWhich enables you to specify the namespaces:\r\n\r\n[![Spring Config Editor - Namespaces example][5]][5]\r\n\r\nPlease be aware, that it depends on dependencies (using maven project), so if `spring-tx` is not defined in maven&#39;s pom.xml, option is not there, which prevents you to have https://stackoverflow.com/questions/34779551/the-matching-wildcard-is-strict-but-no-declaration-can-be-found-for-element-tx/34789179#34789179 problem...\r\n\r\n  [1]: http://i.stack.imgur.com/JC0oL.png\r\n  [2]: http://i.stack.imgur.com/UNubM.png\r\n  [3]: http://i.stack.imgur.com/5vVL0.png\r\n  [4]: http://i.stack.imgur.com/OnFUV.png\r\n  [5]: http://i.stack.imgur.com/BFUSD.png","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>If using <a href=\"http://spring.io/tools/sts\" rel=\"nofollow noreferrer\">STS</a>, you can in Eclipse mark the configuration file as \"Bean Configuration\" file (you can specify that when creating or on right click on a XML file):</p>\n\n<p><a href=\"https://i.stack.imgur.com/JC0oL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JC0oL.png\" alt=\"Spring Tools &gt; Add as Bean Configuration\"></a></p>\n\n<p>You project has to have Spring Nature (right click on maven project for example):</p>\n\n<p><a href=\"https://i.stack.imgur.com/UNubM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UNubM.png\" alt=\"Spring Tools &gt; Add Spring Project Nature\"></a></p>\n\n<p>then <code>spring.xml</code> is opened by default with Spring Config Editor</p>\n\n<p><a href=\"https://i.stack.imgur.com/5vVL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5vVL0.png\" alt=\"Open With &gt; Spring Config Editor\"></a></p>\n\n<p>and this editor has Namespaces tab</p>\n\n<p><a href=\"https://i.stack.imgur.com/OnFUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OnFUV.png\" alt=\"Spring Config Editor - Namespaces tab\"></a></p>\n\n<p>Which enables you to specify the namespaces:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BFUSD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BFUSD.png\" alt=\"Spring Config Editor - Namespaces example\"></a></p>\n\n<p>Please be aware, that it depends on dependencies (using maven project), so if <code>spring-tx</code> is not defined in maven's pom.xml, option is not there, which prevents you to have <a href=\"https://stackoverflow.com/questions/34779551/the-matching-wildcard-is-strict-but-no-declaration-can-be-found-for-element-tx/34789179#34789179\">The matching wildcard is strict, but no declaration can be found for element &#39;tx:annotation-driven&#39; &#39;context:component-scan&#39;</a> problem...</p>\n"},{"tags":[],"owner":{"account_id":5992590,"reputation":175,"user_id":4708290,"display_name":"Sahil Bhalla"},"down_vote_count":8,"up_vote_count":14,"is_accepted":false,"score":6,"last_activity_date":1486549707,"creation_date":1486543153,"answer_id":42108291,"question_id":13589470,"body_markdown":"This path of the schema location is wrong:\r\n\r\n    http://www.springframework.org/schema/beans\r\n\r\nThe correct path should end with `/`:\r\n\r\n    http://www.springframework.org/schema/beans/\r\n\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>This path of the schema location is wrong:</p>\n\n<pre><code>http://www.springframework.org/schema/beans\n</code></pre>\n\n<p>The correct path should end with <code>/</code>:</p>\n\n<pre><code>http://www.springframework.org/schema/beans/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7564658,"reputation":1570,"user_id":5740760,"accept_rate":43,"display_name":"RAJESH KUMAR ARUMUGAM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499145583,"creation_date":1499145583,"answer_id":44897523,"question_id":13589470,"body_markdown":"It&#39;s too late but somewhat may useful to others\r\n\r\n&gt; The matching wildcard is strict, but no declaration can be found for\r\n&gt; element &#39;context:component-scan\r\n\r\nwhich Means you have **Missed some Declarations** or The Required Declarations **Not Found** in Your XML\r\n\r\nIn my case i forgot to add the follwoing\r\n\r\n - http://www.springframework.org/schema/aop\r\n\r\n -  http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\r\n\r\n -  http://www.springframework.org/schema/tx\r\n\r\n - http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\r\n\r\nAfter Adding this the Problem Gone away\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n    \t\thttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>It's too late but somewhat may useful to others</p>\n\n<blockquote>\n  <p>The matching wildcard is strict, but no declaration can be found for\n  element 'context:component-scan</p>\n</blockquote>\n\n<p>which Means you have <strong>Missed some Declarations</strong> or The Required Declarations <strong>Not Found</strong> in Your XML</p>\n\n<p>In my case i forgot to add the follwoing</p>\n\n<ul>\n<li><p><a href=\"http://www.springframework.org/schema/aop\" rel=\"nofollow noreferrer\">http://www.springframework.org/schema/aop</a></p></li>\n<li><p><a href=\"http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\" rel=\"nofollow noreferrer\">http://www.springframework.org/schema/aop/spring-aop-4.0.xsd</a></p></li>\n<li><p><a href=\"http://www.springframework.org/schema/tx\" rel=\"nofollow noreferrer\">http://www.springframework.org/schema/tx</a></p></li>\n<li><p><a href=\"http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\" rel=\"nofollow noreferrer\">http://www.springframework.org/schema/tx/spring-tx-4.0.xsd</a></p></li>\n</ul>\n\n<p>After Adding this the Problem Gone away</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans xmlns=\"http://www.springframework.org/schema/mvc\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2327783,"reputation":88,"user_id":2041844,"display_name":"harishpatarla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513325230,"creation_date":1513325230,"answer_id":47828153,"question_id":13589470,"body_markdown":"when you add context:component-scan for the first time in an xml, the following needs to be added.\r\n\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>when you add context:component-scan for the first time in an xml, the following needs to be added.</p>\n\n<pre><code>xmlns:context=\"http://www.springframework.org/schema/context\"\n\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7320889,"reputation":61,"user_id":5576981,"display_name":"techguy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526338011,"creation_date":1526338011,"answer_id":50340036,"question_id":13589470,"body_markdown":"The correct path shouldn&#39;t end with &quot;/&quot;, I had it wrong that caused the trouble\r\n\r\nRight way:\r\n\r\nhttp://www.springframework.org/schema/context\r\nhttp://www.springframework.org/schema/context/spring-context.xsd","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>The correct path shouldn't end with \"/\", I had it wrong that caused the trouble</p>\n\n<p>Right way:</p>\n\n<p><a href=\"http://www.springframework.org/schema/context\" rel=\"nofollow noreferrer\">http://www.springframework.org/schema/context</a>\n<a href=\"http://www.springframework.org/schema/context/spring-context.xsd\" rel=\"nofollow noreferrer\">http://www.springframework.org/schema/context/spring-context.xsd</a></p>\n"},{"tags":[],"owner":{"account_id":11686502,"reputation":653,"user_id":8556166,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533725712,"creation_date":1533720821,"answer_id":51743265,"question_id":13589470,"body_markdown":"With namespace declaration and schema location you can also check the syntax of the namespace use for example :-\r\n\r\n    &lt;beans xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n            xsi:schemaLocation= http://www.springframework.org/`enter code here`schema/context\r\n            http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n    &lt;context:annotation-driven/&gt;   &lt;!-- This is wrong --&gt;\r\n    &lt;context:annotation-config/&gt; &lt;!-- This should work --&gt;","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>With namespace declaration and schema location you can also check the syntax of the namespace use for example :-</p>\n\n<pre><code>&lt;beans xmlns:context=\"http://www.springframework.org/schema/context\"\n        xsi:schemaLocation= http://www.springframework.org/`enter code here`schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n&lt;context:annotation-driven/&gt;   &lt;!-- This is wrong --&gt;\n&lt;context:annotation-config/&gt; &lt;!-- This should work --&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4850593,"reputation":276,"user_id":3912972,"display_name":"Manjunatha B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548485800,"creation_date":1548485800,"answer_id":54376336,"question_id":13589470,"body_markdown":"Add xmlns context with http as shown below\r\n\r\n`xmlns:context=&quot;http://www.springframework.org/schema/context&quot;`\r\n\r\n\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>Add xmlns context with http as shown below</p>\n\n<p><code>xmlns:context=\"http://www.springframework.org/schema/context\"</code></p>\n"},{"tags":[],"owner":{"account_id":11022411,"reputation":158,"user_id":8096229,"display_name":"Vanga Kiran Kumar Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552460928,"creation_date":1552460928,"answer_id":55136226,"question_id":13589470,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n               http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n               http://www.springframework.org/schema/context\r\n               http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\r\n\r\n*The above links need to be included*\r\n\r\n    \t\t   \r\n    \t&lt;context:property-placeholder location=&quot;classpath:sport.properties&quot; /&gt;\r\n    \r\n    \r\n    \t&lt;bean id=&quot;myFortune&quot; class=&quot;com.kiran.springdemo.HappyFortuneService&quot;&gt;&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;myCoach&quot; class=&quot;com.kiran.springdemo.setterinjection.MyCricketCoach&quot;&gt;\r\n    \t\t&lt;property name=&quot;fortuner&quot; ref=&quot;myFortune&quot; /&gt;\r\n    \r\n    \t\t&lt;property name=&quot;emailAddress&quot; value=&quot;${ipl.email}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;team&quot; value=&quot;${ipl.team}&quot; /&gt;\r\n    \r\n    \t&lt;/bean&gt;\r\n    \r\n    \r\n    &lt;/beans&gt;","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n           http://www.springframework.org/schema/context\n           http://www.springframework.org/schema/context/spring-context-3.0.xsd\"&gt;\n</code></pre>\n\n<p><em>The above links need to be included</em></p>\n\n<pre><code>    &lt;context:property-placeholder location=\"classpath:sport.properties\" /&gt;\n\n\n    &lt;bean id=\"myFortune\" class=\"com.kiran.springdemo.HappyFortuneService\"&gt;&lt;/bean&gt;\n\n    &lt;bean id=\"myCoach\" class=\"com.kiran.springdemo.setterinjection.MyCricketCoach\"&gt;\n        &lt;property name=\"fortuner\" ref=\"myFortune\" /&gt;\n\n        &lt;property name=\"emailAddress\" value=\"${ipl.email}\" /&gt;\n        &lt;property name=\"team\" value=\"${ipl.team}\" /&gt;\n\n    &lt;/bean&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9973011,"reputation":41,"user_id":7378508,"display_name":"Sunrays"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553624319,"creation_date":1553619315,"answer_id":55362455,"question_id":13589470,"body_markdown":"Add This Two Schema locations. That&#39;s enough and Efficient instead of adding all the unnecessary schema\r\n```\r\n http://www.springframework.org/schema/context\r\n http://www.springframework.org/schema/context/spring-context.xsd\r\n```\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>Add This Two Schema locations. That's enough and Efficient instead of adding all the unnecessary schema</p>\n\n<pre><code> http://www.springframework.org/schema/context\n http://www.springframework.org/schema/context/spring-context.xsd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":66358,"reputation":6551,"user_id":194715,"display_name":"mp31415"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588110339,"creation_date":1588110339,"answer_id":61490496,"question_id":13589470,"body_markdown":"There are &#39;META-INF/spring.schemas&#39; files in various Spring jars containing the mappings for the URLs that are intercepted for local resolution. If a particular xsd URL is not listed in these files (for example after switching from http to https) Spring tries to load schemas from the Internet and if the system has no Internet connection it fails and causes this error.\r\n\r\nThis can be the case with Spring Security v5.2 and up where there is no http mapping for the xsd file.\r\n\r\nTo fix it change \r\n\r\n\txsi:schemaLocation=&quot;\r\n\t\thttp://www.springframework.org/schema/beans     \r\n\t\thttp://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/security  \r\n\t\thttp://www.springframework.org/schema/security/spring-security.xsd&quot;\r\n\t\t\r\nto\r\n\t\t\r\n\txsi:schemaLocation=&quot;\r\n\t\thttp://www.springframework.org/schema/beans     \r\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/security  \r\n\t\thttps://www.springframework.org/schema/security/spring-security.xsd&quot;\r\n\r\nNote that only actual xsd URL was modified from http to https (only two places above).","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>There are 'META-INF/spring.schemas' files in various Spring jars containing the mappings for the URLs that are intercepted for local resolution. If a particular xsd URL is not listed in these files (for example after switching from http to https) Spring tries to load schemas from the Internet and if the system has no Internet connection it fails and causes this error.</p>\n\n<p>This can be the case with Spring Security v5.2 and up where there is no http mapping for the xsd file.</p>\n\n<p>To fix it change </p>\n\n<pre><code>xsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans     \n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/security  \n    http://www.springframework.org/schema/security/spring-security.xsd\"\n</code></pre>\n\n<p>to</p>\n\n<pre><code>xsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans     \n    https://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/security  \n    https://www.springframework.org/schema/security/spring-security.xsd\"\n</code></pre>\n\n<p>Note that only actual xsd URL was modified from http to https (only two places above).</p>\n"},{"tags":[],"owner":{"account_id":13961129,"reputation":127,"user_id":10082325,"display_name":"Mutaealim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590654125,"creation_date":1590654125,"answer_id":62060122,"question_id":13589470,"body_markdown":"Change *http* to *http**s*** of the marked error or all the URL ending with *.xsd extension.","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>Change <em>http</em> to <em>http<strong>s</em></strong> of the marked error or all the URL ending with *.xsd extension.</p>\n"},{"tags":[],"owner":{"account_id":5366436,"reputation":3456,"user_id":6650970,"display_name":"Piotr Wilkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621855636,"creation_date":1621855636,"answer_id":67671281,"question_id":13589470,"body_markdown":"There is one possibility here which has not been mentioned, but I believe is important. \r\n\r\nNormally, when you perform validation, it should be done with respect to the `xsi:schemaLocaation` parameter provided, i.e. if the validator doesn&#39;t have the schema loaded in context, it tries to offload it from the location provided. **However**, by default, the Xerces parser used by Java enables a flag called **USE_GRAMMAR_ONLY_POOL_FEATURE** (*http://apache.org/xml/features/internal/validation/schema/use-grammar-pool-only*), which disables any offloading of schemas. Therefore, if you haven&#39;t preloaded your schema in the grammar pool of your validator, you will encounter that message. \r\n\r\nWhat further complicates the issue is that the feature cannot be enabled in the validator directly. You have to enable it in the wider scope of the schema factory:\r\n\r\n    SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n    try {\r\n        sf.setFeature(Constants.XERCES_FEATURE_PREFIX + Constants.USE_GRAMMAR_POOL_ONLY_FEATURE, false);\r\n        ...\r\n    }\r\n\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>There is one possibility here which has not been mentioned, but I believe is important.</p>\n<p>Normally, when you perform validation, it should be done with respect to the <code>xsi:schemaLocaation</code> parameter provided, i.e. if the validator doesn't have the schema loaded in context, it tries to offload it from the location provided. <strong>However</strong>, by default, the Xerces parser used by Java enables a flag called <strong>USE_GRAMMAR_ONLY_POOL_FEATURE</strong> (<em><a href=\"http://apache.org/xml/features/internal/validation/schema/use-grammar-pool-only\" rel=\"nofollow noreferrer\">http://apache.org/xml/features/internal/validation/schema/use-grammar-pool-only</a></em>), which disables any offloading of schemas. Therefore, if you haven't preloaded your schema in the grammar pool of your validator, you will encounter that message.</p>\n<p>What further complicates the issue is that the feature cannot be enabled in the validator directly. You have to enable it in the wider scope of the schema factory:</p>\n<pre><code>SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\ntry {\n    sf.setFeature(Constants.XERCES_FEATURE_PREFIX + Constants.USE_GRAMMAR_POOL_ONLY_FEATURE, false);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17088031,"reputation":1,"user_id":12364755,"display_name":"Devesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669707986,"creation_date":1669707986,"answer_id":74610648,"question_id":13589470,"body_markdown":"changing xsi:schemalocation to following solved my issue\r\n\r\n        &lt;beans \txmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t\txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n\t\txsi:schemaLocation=\r\n\t\t&quot;http://www.springframework.org/schema/beans \r\n        http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt;\r\n\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>changing xsi:schemalocation to following solved my issue</p>\n<pre><code>    &lt;beans  xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xsi:schemaLocation=\n    &quot;http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n    http://www.springframework.org/schema/context \n    http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27463482,"reputation":1,"user_id":20953622,"display_name":"Monalisa Pandit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673116284,"creation_date":1673116284,"answer_id":75042821,"question_id":13589470,"body_markdown":"I tried all solution but it doesn&#39;t work. Finally found that in xsi:schemaLocation\r\nfor context URI, it must be http and not https.\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>I tried all solution but it doesn't work. Finally found that in xsi:schemaLocation\nfor context URI, it must be http and not https.</p>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151953,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":13589600,"answer_count":17,"score":85,"last_activity_date":1673116284,"creation_date":1354036472,"question_id":13589470,"body_markdown":"I am getting the following errors while trying my first spring project:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan\r\n\r\nHere is the `applicationContext.xml`:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n           xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\r\n           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd&quot;&gt;\r\n        \r\n            &lt;context:component-scan base-package=&quot;com.xyz&quot; /&gt;\r\n       \r\n    &lt;/beans&gt;\r\n\r\nWhat is causing the error?\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;context:component-scan","body":"<p>I am getting the following errors while trying my first spring project:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'context:component-scan\n</code></pre>\n\n<p>Here is the <code>applicationContext.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:p=\"http://www.springframework.org/schema/p\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd\"&gt;\n\n        &lt;context:component-scan base-package=\"com.xyz\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>What is causing the error?</p>\n"},{"tags":["java","delimiter"],"comments":[{"owner":{"account_id":134895,"reputation":3669,"user_id":337340,"accept_rate":75,"display_name":"DJ Quimby"},"score":1,"creation_date":1329240872,"post_id":9281443,"comment_id":11702191,"body_markdown":"why is this question getting all these downvotes?  The OP just didn&#39;t know what he was looking at...","body":"why is this question getting all these downvotes?  The OP just didn&#39;t know what he was looking at..."},{"owner":{"account_id":76141,"reputation":801321,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"score":0,"creation_date":1329240880,"post_id":9281443,"comment_id":11702194,"body_markdown":"What have you found out so far?","body":"What have you found out so far?"},{"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":0,"creation_date":1329241383,"post_id":9281443,"comment_id":11702389,"body_markdown":"Actually, now that you have removed all reference to regular expressions, the question is a bit pointless. You know now what this thing is (we told you that already). You know it&#39;s a set of delimiters and not a regex. So are you still struggling with understanding, or is it all cleared up.","body":"Actually, now that you have removed all reference to regular expressions, the question is a bit pointless. You know now what this thing is (we told you that already). You know it&#39;s a set of delimiters and not a regex. So are you still struggling with understanding, or is it all cleared up."},{"owner":{"account_id":1172475,"reputation":875,"user_id":1149343,"accept_rate":56,"display_name":"woopata"},"score":0,"creation_date":1329241748,"post_id":9281443,"comment_id":11702526,"body_markdown":"Thank you David Heffernan for your response. I&#39;ve removed all reference to regular expression so people who think i&#39;ve asked about regexp and actually i didn&#39;t (because i&#39;m stupid obvioulsy) don&#39;t come here to help me.. quesion was misleading and that&#39;s why i&#39;ve removed that.","body":"Thank you David Heffernan for your response. I&#39;ve removed all reference to regular expression so people who think i&#39;ve asked about regexp and actually i didn&#39;t (because i&#39;m stupid obvioulsy) don&#39;t come here to help me.. quesion was misleading and that&#39;s why i&#39;ve removed that."}],"answers":[{"tags":[],"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1329241132,"creation_date":1329240725,"answer_id":9281478,"question_id":9281443,"body_markdown":"That&#39;s a delimiter set for the tokenizer. It is not a regular expression as you originally suspected.\r\n\r\nFrom the [documentation][1] of the `StringTokenizer` constructor:\r\n\r\n&gt;  The characters in the delim argument are the delimiters for separating tokens. Delimiter characters themselves will not be treated as tokens.\r\n\r\nThe [documentation][2] for the constructor overload that does not have the `delim` argument gives an idea of what type of string might be expected:\r\n\r\n&gt; Constructs a string tokenizer for the specified string. The tokenizer uses the default delimiter set, which is `&quot; \\t\\n\\r\\f&quot;`: the space character, the tab character, the newline character, the carriage-return character, and the form-feed character. Delimiter characters themselves will not be treated as tokens.\r\n\r\nThe code you have is specifying a different set of delimiters from the default.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html#StringTokenizer%28java.lang.String,%20java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html#StringTokenizer%28java.lang.String%29","title":"Explain delimiter for java tokenizer","body":"<p>That's a delimiter set for the tokenizer. It is not a regular expression as you originally suspected.</p>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html#StringTokenizer%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">documentation</a> of the <code>StringTokenizer</code> constructor:</p>\n\n<blockquote>\n  <p>The characters in the delim argument are the delimiters for separating tokens. Delimiter characters themselves will not be treated as tokens.</p>\n</blockquote>\n\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html#StringTokenizer%28java.lang.String%29\" rel=\"nofollow\">documentation</a> for the constructor overload that does not have the <code>delim</code> argument gives an idea of what type of string might be expected:</p>\n\n<blockquote>\n  <p>Constructs a string tokenizer for the specified string. The tokenizer uses the default delimiter set, which is <code>\" \\t\\n\\r\\f\"</code>: the space character, the tab character, the newline character, the carriage-return character, and the form-feed character. Delimiter characters themselves will not be treated as tokens.</p>\n</blockquote>\n\n<p>The code you have is specifying a different set of delimiters from the default.</p>\n"},{"tags":[],"owner":{"account_id":185700,"reputation":91879,"user_id":422597,"display_name":"Colin Hebert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329240769,"creation_date":1329240769,"answer_id":9281493,"question_id":9281443,"body_markdown":" - `\\t` is a character meaning &quot;[horizontal tab][1]&quot;\r\n - `\\n` is a character meaning &quot;[line feed][2]&quot; (LF)\r\n - `\\r` is a character meaning &quot;[carriage return][3]&quot; (CR)\r\n\r\nAs for the question itself, it&#39;s not a regular expression but a set of delimiter characters.\r\n\r\n---\r\n\r\n**Resources :**\r\n\r\n - [Wikipedia - new line][4]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Horizontal_Tab#Tab_characters\r\n  [2]: http://en.wikipedia.org/wiki/Line_feed\r\n  [3]: http://en.wikipedia.org/wiki/Carriage_return\r\n  [4]: http://en.wikipedia.org/wiki/Newline","title":"Explain delimiter for java tokenizer","body":"<ul>\n<li><code>\\t</code> is a character meaning \"<a href=\"http://en.wikipedia.org/wiki/Horizontal_Tab#Tab_characters\" rel=\"nofollow\">horizontal tab</a>\"</li>\n<li><code>\\n</code> is a character meaning \"<a href=\"http://en.wikipedia.org/wiki/Line_feed\" rel=\"nofollow\">line feed</a>\" (LF)</li>\n<li><code>\\r</code> is a character meaning \"<a href=\"http://en.wikipedia.org/wiki/Carriage_return\" rel=\"nofollow\">carriage return</a>\" (CR)</li>\n</ul>\n\n<p>As for the question itself, it's not a regular expression but a set of delimiter characters.</p>\n\n<hr>\n\n<p><strong>Resources :</strong></p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Newline\" rel=\"nofollow\">Wikipedia - new line</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":369440,"reputation":351,"user_id":716827,"display_name":"Aitor Carrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329241489,"creation_date":1329241489,"answer_id":9281665,"question_id":9281443,"body_markdown":"This is not a regexp,this means\r\n\r\n\\t is tab\r\n\\n is end of line\r\n\\r is carriage return\r\n\\&quot; is &quot; character\r\n&quot;&gt;&quot; and &quot;#&quot; are the respective characters.\r\n\r\nThis string tokenizer will break the string &quot;remaining&quot; into tokens, separating the string in any of the previous characters.\r\n\r\n ","title":"Explain delimiter for java tokenizer","body":"<p>This is not a regexp,this means</p>\n\n<p>\\t is tab\n\\n is end of line\n\\r is carriage return\n\\\" is \" character\n\">\" and \"#\" are the respective characters.</p>\n\n<p>This string tokenizer will break the string \"remaining\" into tokens, separating the string in any of the previous characters.</p>\n"}],"owner":{"account_id":1172475,"reputation":875,"user_id":1149343,"accept_rate":56,"display_name":"woopata"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9131,"favorite_count":0,"down_vote_count":6,"up_vote_count":6,"accepted_answer_id":9281478,"answer_count":3,"score":0,"last_activity_date":1673115430,"creation_date":1329240588,"question_id":9281443,"body_markdown":"Explain this:\r\n\r\n    &quot;\\t\\n\\r\\&quot;&gt;#&quot;\r\n\r\nit&#39;s used in Java tokenizer.\r\n\r\n    StringTokenizer st = new StringTokenizer(remaining, &quot;\\t\\n\\r\\&quot;&gt;#&quot;);","title":"Explain delimiter for java tokenizer","body":"<p>Explain this:</p>\n\n<pre><code>\"\\t\\n\\r\\\"&gt;#\"\n</code></pre>\n\n<p>it's used in Java tokenizer.</p>\n\n<pre><code>StringTokenizer st = new StringTokenizer(remaining, \"\\t\\n\\r\\\"&gt;#\");\n</code></pre>\n"},{"tags":["java","byte","combinations","bit"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673109385,"creation_date":1673061100,"answer_id":75037865,"question_id":75037378,"body_markdown":"Unfortunately, your code has some problems.  For one you have an empty forloop in the generate method.  However, I can help you get the count by doing it a different way and printing the results.  Forgetting about the loop that goes from `2 to 20`, here is what is going on.  And this may not be most efficient way of finding the matches but for short runs it exposes the counts as a recognizable pattern (which could also be determined by mathematical analysis).\r\n \r\n- first, create an `IntPredicate` that checks for adjacent one bits by masking the lower order two bits.\r\n- Generate an IntStream from **0** to &lt;B&gt;2&lt;sup&gt;n&lt;/sup&gt;&lt;/B&gt; where `n` is the number of bits.\r\n- then using aforementioned predicate with a filter count every value that does not contain two adjacent `1` bits.\r\n```\r\nIntPredicate NoAdjacentOneBits = (n)-&gt; {\r\n    while (n &gt; 0) {\r\n        if ((n &amp; 3) == 3) {\r\n            return false;\r\n        }\r\n        n&gt;&gt;=1;\r\n    }\r\n    return true;\r\n};\r\n        \r\nfor (int n = 1; n &lt;= 20; n++) {\r\n    long count = IntStream.range(0, (int) Math.pow(2, n))\r\n            .filter(NoAdjacentOneBits).count();\r\n    System.out.println(&quot;For n = &quot; + n + &quot; -&gt; &quot; + count);\r\n}\r\n```\r\nprints (with annotated comments on first three lines)\r\n```\r\nFor n = 1 -&gt; 2  // not printed but would be 0 and 1\r\nFor n = 2 -&gt; 3  // 00, 01, 10\r\nFor n = 3 -&gt; 5  // 000, 001, 010, 100, 101\r\nFor n = 4 -&gt; 8\r\nFor n = 5 -&gt; 13\r\nFor n = 6 -&gt; 21\r\nFor n = 7 -&gt; 34\r\nFor n = 8 -&gt; 55\r\nFor n = 9 -&gt; 89\r\nFor n = 10 -&gt; 144\r\nFor n = 11 -&gt; 233\r\nFor n = 12 -&gt; 377\r\nFor n = 13 -&gt; 610\r\nFor n = 14 -&gt; 987\r\nFor n = 15 -&gt; 1597\r\nFor n = 16 -&gt; 2584\r\nFor n = 17 -&gt; 4181\r\nFor n = 18 -&gt; 6765\r\nFor n = 19 -&gt; 10946\r\nFor n = 20 -&gt; 17711\r\n```\r\nThe counts are directly related to the **n**th term of the [Fibonacci Series]( https://en.wikipedia.org/wiki/Fibonacci_numbers) that starts with 2 3 5 8 . . .\r\n\r\nSo you really don&#39;t even need to inspect the values for adjacent bits.  Just compute the related term of the series.\r\n\r\n","title":"How can I print the number of combination and not the actual combination? Java","body":"<p>Unfortunately, your code has some problems.  For one you have an empty forloop in the generate method.  However, I can help you get the count by doing it a different way and printing the results.  Forgetting about the loop that goes from <code>2 to 20</code>, here is what is going on.  And this may not be most efficient way of finding the matches but for short runs it exposes the counts as a recognizable pattern (which could also be determined by mathematical analysis).</p>\n<ul>\n<li>first, create an <code>IntPredicate</code> that checks for adjacent one bits by masking the lower order two bits.</li>\n<li>Generate an IntStream from <strong>0</strong> to <B>2<sup>n</sup></B> where <code>n</code> is the number of bits.</li>\n<li>then using aforementioned predicate with a filter count every value that does not contain two adjacent <code>1</code> bits.</li>\n</ul>\n<pre><code>IntPredicate NoAdjacentOneBits = (n)-&gt; {\n    while (n &gt; 0) {\n        if ((n &amp; 3) == 3) {\n            return false;\n        }\n        n&gt;&gt;=1;\n    }\n    return true;\n};\n        \nfor (int n = 1; n &lt;= 20; n++) {\n    long count = IntStream.range(0, (int) Math.pow(2, n))\n            .filter(NoAdjacentOneBits).count();\n    System.out.println(&quot;For n = &quot; + n + &quot; -&gt; &quot; + count);\n}\n</code></pre>\n<p>prints (with annotated comments on first three lines)</p>\n<pre><code>For n = 1 -&gt; 2  // not printed but would be 0 and 1\nFor n = 2 -&gt; 3  // 00, 01, 10\nFor n = 3 -&gt; 5  // 000, 001, 010, 100, 101\nFor n = 4 -&gt; 8\nFor n = 5 -&gt; 13\nFor n = 6 -&gt; 21\nFor n = 7 -&gt; 34\nFor n = 8 -&gt; 55\nFor n = 9 -&gt; 89\nFor n = 10 -&gt; 144\nFor n = 11 -&gt; 233\nFor n = 12 -&gt; 377\nFor n = 13 -&gt; 610\nFor n = 14 -&gt; 987\nFor n = 15 -&gt; 1597\nFor n = 16 -&gt; 2584\nFor n = 17 -&gt; 4181\nFor n = 18 -&gt; 6765\nFor n = 19 -&gt; 10946\nFor n = 20 -&gt; 17711\n</code></pre>\n<p>The counts are directly related to the <strong>n</strong>th term of the <a href=\"https://en.wikipedia.org/wiki/Fibonacci_numbers\" rel=\"nofollow noreferrer\">Fibonacci Series</a> that starts with 2 3 5 8 . . .</p>\n<p>So you really don't even need to inspect the values for adjacent bits.  Just compute the related term of the series.</p>\n"}],"owner":{"display_name":"user20868173"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1673114752,"creation_date":1673052685,"question_id":75037378,"body_markdown":"I&#39;d like to print the number of combination and not the actual combination of bits.  How can I code that? I&#39;m looking forward for some solution. Thank you!\r\n\r\nThe Task:\r\n\r\nWrite a program that accepts a number. This number corresponds to the number of bits to be taken into account. The program should then display on the screen how many binary combinations there are that do not consist of two adjacent 1s. For example, given a 3-bit number, there are 5 out of 8 possible combinations.\r\n\r\n```java\r\n import java.util.Scanner;\r\n\r\n public class BinaryS {\r\n\r\n   public static String toString(char[] a) {\r\n     String string = new String(a);\r\n     return string;\r\n   }\r\n\r\n   static void generate(int k, char[] ch, int n) {\r\n\r\n     if (n == k) {\r\n\r\n       for (int i = 0; i &lt; ch.length; i++) {}\r\n       System.out.print(toString(ch) + &quot; &quot;);\r\n\r\n       return;\r\n\r\n     }\r\n\r\n     // If the first Character is\r\n     //Zero then adding**\r\n     if (ch[n - 1] == &#39;0&#39;) {\r\n       ch[n] = &#39;0&#39;;\r\n       generate(k, ch, n + 1);\r\n       ch[n] = &#39;1&#39;;\r\n       generate(k, ch, n + 1);\r\n     }\r\n\r\n     // If the Character is One\r\n     // then add Zero to next**\r\n     if (ch[n - 1] == &#39;1&#39;) {\r\n\r\n       ch[n] = &#39;0&#39;;\r\n\r\n       // Calling Recursively for the\r\n       // next value of Array\r\n       generate(k, ch, n + 1);\r\n\r\n     }\r\n   }\r\n\r\n   static void fun(int k) {\r\n\r\n     if (k &lt;= 0) {\r\n       return;\r\n     }\r\n\r\n     char[] ch = new char[k];\r\n\r\n     // Initializing first character to Zero\r\n     ch[0] = &#39;0&#39;;\r\n\r\n     // Generating Strings starting with Zero--\r\n     generate(k, ch, 1);\r\n\r\n     // Initialized first Character to one--\r\n     ch[0] = &#39;1&#39;;\r\n     generate(k, ch, 1);\r\n\r\n   }\r\n\r\n   public static void main(String args[]) {\r\n     System.out.print(&quot;Number: &quot;);\r\n     Scanner scanner = new Scanner(System.in);\r\n     int k = scanner.nextInt();\r\n\r\n     //Calling function fun with argument k\r\n     fun(k);\r\n\r\n   }\r\n }\r\n```\r\n\r\nThe program actually works fine , my only problem is I would like to print the number of combinations and not the actual combination. For example for the input 3 we get 000 001 010 100 101 which is 5.\r\n\r\n![enter image description here](https://i.stack.imgur.com/SlhaS.png)","title":"How can I print the number of combination and not the actual combination? Java","body":"<p>I'd like to print the number of combination and not the actual combination of bits.  How can I code that? I'm looking forward for some solution. Thank you!</p>\n<p>The Task:</p>\n<p>Write a program that accepts a number. This number corresponds to the number of bits to be taken into account. The program should then display on the screen how many binary combinations there are that do not consist of two adjacent 1s. For example, given a 3-bit number, there are 5 out of 8 possible combinations.</p>\n<pre class=\"lang-java prettyprint-override\"><code> import java.util.Scanner;\n\n public class BinaryS {\n\n   public static String toString(char[] a) {\n     String string = new String(a);\n     return string;\n   }\n\n   static void generate(int k, char[] ch, int n) {\n\n     if (n == k) {\n\n       for (int i = 0; i &lt; ch.length; i++) {}\n       System.out.print(toString(ch) + &quot; &quot;);\n\n       return;\n\n     }\n\n     // If the first Character is\n     //Zero then adding**\n     if (ch[n - 1] == '0') {\n       ch[n] = '0';\n       generate(k, ch, n + 1);\n       ch[n] = '1';\n       generate(k, ch, n + 1);\n     }\n\n     // If the Character is One\n     // then add Zero to next**\n     if (ch[n - 1] == '1') {\n\n       ch[n] = '0';\n\n       // Calling Recursively for the\n       // next value of Array\n       generate(k, ch, n + 1);\n\n     }\n   }\n\n   static void fun(int k) {\n\n     if (k &lt;= 0) {\n       return;\n     }\n\n     char[] ch = new char[k];\n\n     // Initializing first character to Zero\n     ch[0] = '0';\n\n     // Generating Strings starting with Zero--\n     generate(k, ch, 1);\n\n     // Initialized first Character to one--\n     ch[0] = '1';\n     generate(k, ch, 1);\n\n   }\n\n   public static void main(String args[]) {\n     System.out.print(&quot;Number: &quot;);\n     Scanner scanner = new Scanner(System.in);\n     int k = scanner.nextInt();\n\n     //Calling function fun with argument k\n     fun(k);\n\n   }\n }\n</code></pre>\n<p>The program actually works fine , my only problem is I would like to print the number of combinations and not the actual combination. For example for the input 3 we get 000 001 010 100 101 which is 5.</p>\n<p><img src=\"https://i.stack.imgur.com/SlhaS.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","csv","read-write"],"answers":[{"tags":[],"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672963366,"creation_date":1672963366,"answer_id":75025653,"question_id":75025558,"body_markdown":"The location `C:\\users\\blah\\......` means absolutely nothing to the Android app, which is part of why it&#39;s not working. The other part is because that file doesn&#39;t reside on the device you are testing the app on.\r\n\r\nWhether you are running this app on a mobile device or through an emulator (virtual device), you don&#39;t have direct access to your computer&#39;s drives. At best, you&#39;ll have to map a network drive for the app to access. At worst, you&#39;ll have to set up an API on your machine for the app to hit and have that access the file.\r\n\r\nAt this point, you might as well use a database for the password info, since it&#39;s likely you&#39;re going to need to save other information. Besides, CSV files have some serious issues, and beyond just the security issue of having usernames and passwords in plain text (even if they are encoded before they get to your saving methods).","title":"Trying to get an android app to access a CSV file to edit and write to, but it can&#39;t seem to find the file","body":"<p>The location <code>C:\\users\\blah\\......</code> means absolutely nothing to the Android app, which is part of why it's not working. The other part is because that file doesn't reside on the device you are testing the app on.</p>\n<p>Whether you are running this app on a mobile device or through an emulator (virtual device), you don't have direct access to your computer's drives. At best, you'll have to map a network drive for the app to access. At worst, you'll have to set up an API on your machine for the app to hit and have that access the file.</p>\n<p>At this point, you might as well use a database for the password info, since it's likely you're going to need to save other information. Besides, CSV files have some serious issues, and beyond just the security issue of having usernames and passwords in plain text (even if they are encoded before they get to your saving methods).</p>\n"}],"owner":{"account_id":27447671,"reputation":1,"user_id":20940879,"display_name":"La meme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673114661,"creation_date":1672962363,"question_id":75025558,"body_markdown":"Even though I&#39;ve given the program the exact path to the csv file, it still doesn&#39;t exist according to the program. I&#39;ve got no idea how to fix it.\r\n\r\n\r\n```\r\npublic boolean SignUpFunc(String  username, String password){\r\n    try {\r\n        File file = new File(&quot;C:\\\\Users\\\\altaf\\\\OneDrive\\\\Desktop\\\\Java\\\\login.csv&quot;);\r\n        BufferedReader reader = new BufferedReader(new FileReader(file.getPath()));\r\n        String line;\r\n        while ((line= reader.readLine())!= null){\r\n            //split by ,\r\n            String[] tokens = line.split(&quot;,&quot;);\r\n\r\n            //Read the data\r\n            if (username.equals(tokens[0])){\r\n                reader.close();\r\n                return false;\r\n            }\r\n        }\r\n        save(file,username,password);\r\n\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return false;\r\n}\r\n\r\n    public static void save(File file, String username, String password){\r\n        try{\r\n            BufferedWriter Bwriter = new BufferedWriter(new FileWriter(file.getPath(),true));\r\n            PrintWriter writer = new PrintWriter(Bwriter);\r\n            writer.println(username+&quot;,&quot;+password);\r\n            writer.flush();\r\n            writer.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;FilenotFound&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThe relevant code.\r\n\r\nI&#39;ve already enabled reading and writing from external storage from the manifest.","title":"Trying to get an android app to access a CSV file to edit and write to, but it can&#39;t seem to find the file","body":"<p>Even though I've given the program the exact path to the csv file, it still doesn't exist according to the program. I've got no idea how to fix it.</p>\n<pre><code>public boolean SignUpFunc(String  username, String password){\n    try {\n        File file = new File(&quot;C:\\\\Users\\\\altaf\\\\OneDrive\\\\Desktop\\\\Java\\\\login.csv&quot;);\n        BufferedReader reader = new BufferedReader(new FileReader(file.getPath()));\n        String line;\n        while ((line= reader.readLine())!= null){\n            //split by ,\n            String[] tokens = line.split(&quot;,&quot;);\n\n            //Read the data\n            if (username.equals(tokens[0])){\n                reader.close();\n                return false;\n            }\n        }\n        save(file,username,password);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n\n    public static void save(File file, String username, String password){\n        try{\n            BufferedWriter Bwriter = new BufferedWriter(new FileWriter(file.getPath(),true));\n            PrintWriter writer = new PrintWriter(Bwriter);\n            writer.println(username+&quot;,&quot;+password);\n            writer.flush();\n            writer.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n            System.out.println(&quot;FilenotFound&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The relevant code.</p>\n<p>I've already enabled reading and writing from external storage from the manifest.</p>\n"},{"tags":["java","spring-boot","soap","spring-boot-test"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1668066303,"post_id":74383595,"comment_id":131317984,"body_markdown":"Since this is about the mapping of the request to parameters to see the actual request would probably be helpful.","body":"Since this is about the mapping of the request to parameters to see the actual request would probably be helpful."},{"owner":{"account_id":26873992,"reputation":21,"user_id":20455522,"display_name":"Rakesh"},"score":0,"creation_date":1668136203,"post_id":74383595,"comment_id":131338210,"body_markdown":"hi jens,  request:&lt;Envelope xmlns=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;Body&gt;\n        &lt;GetCourseDetailsRequest xmlns=&quot;http://in_28minutes.com/courses&quot;&gt;\n            &lt;id&gt;[int]&lt;/id&gt;\n        &lt;/GetCourseDetailsRequest&gt;\n    &lt;/Body&gt;\n&lt;/Envelope&gt;","body":"hi jens,  request:&lt;Envelope xmlns=&quot;<a href=\"http://schemas.xmlsoap.org/soap/envelope/\" rel=\"nofollow noreferrer\">schemas.xmlsoap.org/soap/envelope</a>&quot;&gt;     &lt;Body&gt;         &lt;GetCourseDetailsRequest xmlns=&quot;<a href=\"http://in_28minutes.com/courses\" rel=\"nofollow noreferrer\">in_28minutes.com/courses</a>&quot;&gt;             &lt;id&gt;[int]&lt;/id&gt;         &lt;/GetCourseDetailsRequest&gt;     &lt;/Body&gt; &lt;/Envelope&gt;"}],"owner":{"account_id":26873992,"reputation":21,"user_id":20455522,"display_name":"Rakesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673114364,"creation_date":1668048111,"question_id":74383595,"body_markdown":"I developed one spring SOAP web service that is up and running. However, the request id I&#39;m passing from the request is not getting updated. For all the requests I&#39;m getting request id as 0. please help me with this issue.\r\n\r\nMy Endpoint details.\r\n\r\n```\r\npackage com.example.thirdsoapweb.ThirdSoapWebService.soap;\r\n\r\nimport org.springframework.ws.server.endpoint.annotation.Endpoint;\r\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot;\r\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload;\r\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload;\r\n\r\nimport com.in_28minutes.courses.CourseDetails;\r\nimport com.in_28minutes.courses.GetCourseDetailsRequest;\r\nimport com.in_28minutes.courses.GetCourseDetailsResponse;\r\n\r\n@Endpoint\r\npublic class CourseDetailsEndpoint {\r\n     //endpoint\r\n\t//reuestobject\r\n\t//respopnseobject\r\n\t//  http://in_28minutes.com/courses\r\n\t// GetCourseDetailsRequest\r\n\t@PayloadRoot(namespace = &quot;http://in_28minutes.com/courses&quot;, localPart = &quot;GetCourseDetailsRequest&quot;)\r\n\t@ResponsePayload\r\n\tpublic GetCourseDetailsResponse processCurseDetailsRequest(@RequestPayload GetCourseDetailsRequest request)\r\n\t{\r\n\t\tGetCourseDetailsResponse response=new GetCourseDetailsResponse();\r\n\t\tCourseDetails courseDetails=new CourseDetails();\r\n\t\tcourseDetails.setId(request.getId());\r\n\t\tSystem.out.println(request.getId());// here only i&#39;m getting 0\r\n\t\tcourseDetails.setName(&quot;Rakesh&quot;);\r\n\t\tcourseDetails.setDescription(&quot;Spring Microservices and for the first time&quot;);\r\n\t\tresponse.setCourseDetails(courseDetails);\r\n\t\treturn response;\r\n\t}\r\n}\r\n```\r\n**Request payload**\r\n```\r\n&lt;Envelope xmlns=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;Body&gt;\r\n        &lt;GetCourseDetailsRequest xmlns=&quot;http://in_28minutes.com/courses&quot;&gt;\r\n            &lt;id&gt;[908]&lt;/id&gt;\r\n        &lt;/GetCourseDetailsRequest&gt;\r\n    &lt;/Body&gt;\r\n&lt;/Envelope&gt;\r\n```\r\n**Response payload**\r\n```\r\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;SOAP-ENV:Header/&gt;\r\n    &lt;SOAP-ENV:Body&gt;\r\n        &lt;ns2:GetCourseDetailsResponse xmlns:ns2=&quot;http://in_28minutes.com/courses&quot;&gt;\r\n            &lt;ns2:CourseDetails&gt;\r\n                &lt;ns2:id&gt;0&lt;/ns2:id&gt;\r\n                &lt;ns2:name&gt;Rakesh&lt;/ns2:name&gt;\r\n                &lt;ns2:description&gt;Spring Microservices and for the first time&lt;/ns2:description&gt;\r\n            &lt;/ns2:CourseDetails&gt;\r\n        &lt;/ns2:GetCourseDetailsResponse&gt;\r\n    &lt;/SOAP-ENV:Body&gt;\r\n&lt;/SOAP-ENV:Envelope&gt;\r\n```\r\n\r\nI tried debugging but cannot find out why I&#39;m getting 0 in my request id. I want the requestid which I&#39;m passing from the request.","title":"Requestid receiving as 0 for spring SOAP service","body":"<p>I developed one spring SOAP web service that is up and running. However, the request id I'm passing from the request is not getting updated. For all the requests I'm getting request id as 0. please help me with this issue.</p>\n<p>My Endpoint details.</p>\n<pre><code>package com.example.thirdsoapweb.ThirdSoapWebService.soap;\n\nimport org.springframework.ws.server.endpoint.annotation.Endpoint;\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot;\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload;\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload;\n\nimport com.in_28minutes.courses.CourseDetails;\nimport com.in_28minutes.courses.GetCourseDetailsRequest;\nimport com.in_28minutes.courses.GetCourseDetailsResponse;\n\n@Endpoint\npublic class CourseDetailsEndpoint {\n     //endpoint\n    //reuestobject\n    //respopnseobject\n    //  http://in_28minutes.com/courses\n    // GetCourseDetailsRequest\n    @PayloadRoot(namespace = &quot;http://in_28minutes.com/courses&quot;, localPart = &quot;GetCourseDetailsRequest&quot;)\n    @ResponsePayload\n    public GetCourseDetailsResponse processCurseDetailsRequest(@RequestPayload GetCourseDetailsRequest request)\n    {\n        GetCourseDetailsResponse response=new GetCourseDetailsResponse();\n        CourseDetails courseDetails=new CourseDetails();\n        courseDetails.setId(request.getId());\n        System.out.println(request.getId());// here only i'm getting 0\n        courseDetails.setName(&quot;Rakesh&quot;);\n        courseDetails.setDescription(&quot;Spring Microservices and for the first time&quot;);\n        response.setCourseDetails(courseDetails);\n        return response;\n    }\n}\n</code></pre>\n<p><strong>Request payload</strong></p>\n<pre><code>&lt;Envelope xmlns=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;Body&gt;\n        &lt;GetCourseDetailsRequest xmlns=&quot;http://in_28minutes.com/courses&quot;&gt;\n            &lt;id&gt;[908]&lt;/id&gt;\n        &lt;/GetCourseDetailsRequest&gt;\n    &lt;/Body&gt;\n&lt;/Envelope&gt;\n</code></pre>\n<p><strong>Response payload</strong></p>\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;SOAP-ENV:Header/&gt;\n    &lt;SOAP-ENV:Body&gt;\n        &lt;ns2:GetCourseDetailsResponse xmlns:ns2=&quot;http://in_28minutes.com/courses&quot;&gt;\n            &lt;ns2:CourseDetails&gt;\n                &lt;ns2:id&gt;0&lt;/ns2:id&gt;\n                &lt;ns2:name&gt;Rakesh&lt;/ns2:name&gt;\n                &lt;ns2:description&gt;Spring Microservices and for the first time&lt;/ns2:description&gt;\n            &lt;/ns2:CourseDetails&gt;\n        &lt;/ns2:GetCourseDetailsResponse&gt;\n    &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n<p>I tried debugging but cannot find out why I'm getting 0 in my request id. I want the requestid which I'm passing from the request.</p>\n"},{"tags":["java","android"],"owner":{"account_id":20172137,"reputation":305,"user_id":14794715,"display_name":"Hasni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673114318,"creation_date":1673114318,"question_id":75042602,"body_markdown":"i&#39;m searching a way to get the x and y locations of Cursor position of EditText in the whole Screen. so i can show PopupWindow at that location \r\n\r\nto get the x and y in the layout of EditText i&#39;m using the bellow code, But when i call show window at this location x and y, the window apears to far in another side, i want to understand what i&#39;m missing and thanks in advance \r\n\r\n    Layout layout = editText.getLayout();\r\n    \r\n    \t\t\tint start = editText.getSelectionStart();\r\n    \r\n    \t\t\tint line = layout.getLineForOffset(start);\r\n    \r\n    \t\t\tfloat y = layout.getLineTop(line) + editText.getPaddingTop();\r\n    \r\n    \t\t\tfloat x = layout.getPrimaryHorizontal(start) + editText.getPaddingLeft();\r\n    \r\n    \t\t\tPopupWindow window = new PopupWindow(this);\r\n    \r\n    \t\t\tLayoutInflater inflater = (LayoutInflater) getApplicationContext()\r\n    \t\t\t\t\t.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    \r\n    \t\t\tView view = inflater.inflate(R.layout.test, null);\r\n    \r\n    \t\t\twindow.setContentView(view);\r\n    \r\n    \t\t\twindow.showAtLocation(editText, Gravity.TOP | Gravity.LEFT, (int) x, (int) y);\r\n\r\n","title":"how to get EditText cursor pos x and y in the screen ? in Android","body":"<p>i'm searching a way to get the x and y locations of Cursor position of EditText in the whole Screen. so i can show PopupWindow at that location</p>\n<p>to get the x and y in the layout of EditText i'm using the bellow code, But when i call show window at this location x and y, the window apears to far in another side, i want to understand what i'm missing and thanks in advance</p>\n<pre><code>Layout layout = editText.getLayout();\n\n            int start = editText.getSelectionStart();\n\n            int line = layout.getLineForOffset(start);\n\n            float y = layout.getLineTop(line) + editText.getPaddingTop();\n\n            float x = layout.getPrimaryHorizontal(start) + editText.getPaddingLeft();\n\n            PopupWindow window = new PopupWindow(this);\n\n            LayoutInflater inflater = (LayoutInflater) getApplicationContext()\n                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n            View view = inflater.inflate(R.layout.test, null);\n\n            window.setContentView(view);\n\n            window.showAtLocation(editText, Gravity.TOP | Gravity.LEFT, (int) x, (int) y);\n</code></pre>\n"},{"tags":["java","maven","netbeans","netbeans-platform"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1485465605,"post_id":41883140,"comment_id":70948622,"body_markdown":"Filter with `${project.version}`?","body":"Filter with <code>${project.version}</code>?"},{"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"score":0,"creation_date":1485468641,"post_id":41883140,"comment_id":70950185,"body_markdown":"Tried filtering, but it somehow breaks the Netbean project.","body":"Tried filtering, but it somehow breaks the Netbean project."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1485468684,"post_id":41883140,"comment_id":70950201,"body_markdown":"Define &quot;breaks&quot;. Post what you tried and what went wrong.","body":"Define &quot;breaks&quot;. Post what you tried and what went wrong."},{"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"score":0,"creation_date":1485469010,"post_id":41883140,"comment_id":70950332,"body_markdown":"Added as requested.","body":"Added as requested."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1485469227,"post_id":41883140,"comment_id":70950415,"body_markdown":"The issue is still unclear, but with what you have, you&#39;ll need to add another `&lt;resource&gt;` that does not filter `src/main/resources`  as well. Something like `&lt;resource&gt;&lt;directory&gt;/src/main/resources&lt;/directory&gt;&lt;/resource&gt;`, this is because it was overriden with the one you added.","body":"The issue is still unclear, but with what you have, you&#39;ll need to add another <code>&lt;resource&gt;</code> that does not filter <code>src&#47;main&#47;resources</code>  as well. Something like <code>&lt;resource&gt;&lt;directory&gt;&#47;src&#47;main&#47;resources&lt;&#47;directory&gt;&lt;&#47;resour&zwnj;&#8203;ce&gt;</code>, this is because it was overriden with the one you added."},{"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"score":0,"creation_date":1485469492,"post_id":41883140,"comment_id":70950529,"body_markdown":"That didn&#39;t help either.","body":"That didn&#39;t help either."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1485469538,"post_id":41883140,"comment_id":70950556,"body_markdown":"Yet, &quot;didn&#39;t help&quot; is still not properly defined at all...","body":"Yet, &quot;didn&#39;t help&quot; is still not properly defined at all..."},{"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"score":0,"creation_date":1485469605,"post_id":41883140,"comment_id":70950594,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/134127/discussion-between-javydreamercsw-and-tunaki).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/134127/discussion-between-javydreamercsw-and-tunaki\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673114244,"creation_date":1485959933,"answer_id":41982412,"question_id":41883140,"body_markdown":"There are two ways to set the version number shown in the Help... About dialog.\r\n------------------------------------------------------------------------\r\n\r\n    The easy way is to set the system property netbeans.buildnumber to some value in your application.\r\n    The harder way is to put this key/value currentVersion=My Product 1.2.3 into the file named &quot;branding/modules/org-netbeans-core.jar/org/netbeans/core/ui/Bundle.properties&quot; below your suite, then rebuild and run.\r\n    In NB 6.5 and later is the file location different: &quot;branding/core/core.jar/org/netbeans/core/startup/Bundle.properties&quot; \r\n\r\n\r\nHow do I set the version number automatically in maven-based applications?\r\n------------------------------------------------------------------------\r\n\r\nWithin your branding-module use Maven placeholders in Bundle.properties and within the pom.xml filter the bundle by the maven-resources-plugin.\r\n\r\n**Note:** Some of the files below are ignored by default in version control by Netbeans so you might need to add them to preserve the changes.\r\n\r\n**src/main/nbm-branding/core/core.jar/org/netbeans/core/startup/Bundle.properties:**\r\n\r\n    currentVersion=My app ${project.version}\r\n    LBL_splash_window_title=Starting My app ${project.version}\r\n\r\n**src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:**\r\n\r\n    CTL_MainWindow_Title=My app ${project.version}\r\n    CTL_MainWindow_Title_No_Project=My app ${project.version}\r\n\r\n**src/main/nbm-branding/modules/org-netbeans-core.jar/org/netbeans/core/ui/Bundle.properties:**\r\n\r\n    LBL_ProductInformation=My app ${project.version}\r\n\r\n\r\n**pom.xml:**\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${basedir}/src/main/nbm-branding&lt;/directory&gt;\r\n                &lt;!-- f.e. allow replacing ${project.version} in all property files below src/main/nbm-branding --&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;targetPath&gt;${basedir}/target/filtered-nbm-branding&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nbm-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- use previously filtered branding sources --&gt;\r\n                    &lt;brandingSources&gt;${basedir}/target/filtered-nbm-branding&lt;/brandingSources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- ... --&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAs answered by [Netbeans Dream Team][1] member.\r\n\r\n\r\n  [1]: https://netbeans.apache.org/wiki/DevFaqVersionNumber","title":"Display Maven Project version on Netbeans Application window","body":"<h2>There are two ways to set the version number shown in the Help... About dialog.</h2>\n<pre><code>The easy way is to set the system property netbeans.buildnumber to some value in your application.\nThe harder way is to put this key/value currentVersion=My Product 1.2.3 into the file named &quot;branding/modules/org-netbeans-core.jar/org/netbeans/core/ui/Bundle.properties&quot; below your suite, then rebuild and run.\nIn NB 6.5 and later is the file location different: &quot;branding/core/core.jar/org/netbeans/core/startup/Bundle.properties&quot; \n</code></pre>\n<h2>How do I set the version number automatically in maven-based applications?</h2>\n<p>Within your branding-module use Maven placeholders in Bundle.properties and within the pom.xml filter the bundle by the maven-resources-plugin.</p>\n<p><strong>Note:</strong> Some of the files below are ignored by default in version control by Netbeans so you might need to add them to preserve the changes.</p>\n<p><strong>src/main/nbm-branding/core/core.jar/org/netbeans/core/startup/Bundle.properties:</strong></p>\n<pre><code>currentVersion=My app ${project.version}\nLBL_splash_window_title=Starting My app ${project.version}\n</code></pre>\n<p><strong>src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:</strong></p>\n<pre><code>CTL_MainWindow_Title=My app ${project.version}\nCTL_MainWindow_Title_No_Project=My app ${project.version}\n</code></pre>\n<p><strong>src/main/nbm-branding/modules/org-netbeans-core.jar/org/netbeans/core/ui/Bundle.properties:</strong></p>\n<pre><code>LBL_ProductInformation=My app ${project.version}\n</code></pre>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${basedir}/src/main/nbm-branding&lt;/directory&gt;\n            &lt;!-- f.e. allow replacing ${project.version} in all property files below src/main/nbm-branding --&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;targetPath&gt;${basedir}/target/filtered-nbm-branding&lt;/targetPath&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;nbm-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;!-- use previously filtered branding sources --&gt;\n                &lt;brandingSources&gt;${basedir}/target/filtered-nbm-branding&lt;/brandingSources&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- ... --&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>As answered by <a href=\"https://netbeans.apache.org/wiki/DevFaqVersionNumber\" rel=\"nofollow noreferrer\">Netbeans Dream Team</a> member.</p>\n"}],"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41982412,"answer_count":1,"score":1,"last_activity_date":1673114244,"creation_date":1485465468,"question_id":41883140,"body_markdown":"I have a Maven based Netbeans Application. By default the application window title is on this format:\r\n\r\n    &lt;Application Name&gt;{0}\r\n\r\nWhere {0} is replaced at runtime with the IDE build date it appears. Is there a way for this to automatically be the project&#39;s Maven version instead?\r\n\r\nRight now I need to manually change this on each release. It&#39;s just prone to errors.\r\n\r\n**Update**\r\nAdded the following to the POM but it seem snot to have any effect and Netbeans shows red icons because is not finding some files for a Helps set I have in the module.\r\n\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;${basedir}/src/main/nbm-branding/core/core.jar/org/netbeans/core/startup&lt;/directory&gt;\r\n                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;","title":"Display Maven Project version on Netbeans Application window","body":"<p>I have a Maven based Netbeans Application. By default the application window title is on this format:</p>\n\n<pre><code>&lt;Application Name&gt;{0}\n</code></pre>\n\n<p>Where {0} is replaced at runtime with the IDE build date it appears. Is there a way for this to automatically be the project's Maven version instead?</p>\n\n<p>Right now I need to manually change this on each release. It's just prone to errors.</p>\n\n<p><strong>Update</strong>\nAdded the following to the POM but it seem snot to have any effect and Netbeans shows red icons because is not finding some files for a Helps set I have in the module.</p>\n\n<pre><code>        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${basedir}/src/main/nbm-branding/core/core.jar/org/netbeans/core/startup&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","android","datetime","datetime-comparison"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1673107825,"post_id":75041789,"comment_id":132425757,"body_markdown":"Do we know in which time zone that string was created? Depending on time zone it may denote a time within a span of some 26 hours.","body":"Do we know in which time zone that string was created? Depending on time zone it may denote a time within a span of some 26 hours."},{"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"score":0,"creation_date":1673107863,"post_id":75041789,"comment_id":132425766,"body_markdown":"The time zone is in Europe. Like Austria","body":"The time zone is in Europe. Like Austria"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1673107894,"post_id":75041789,"comment_id":132425775,"body_markdown":"How would you do that if you tell you a time and you&#39;re supposed to check if a certain amount of minutes as passed? I guess you would &quot;parse&quot; my information as a datetime and then compare the time difference with &quot;now()&quot;? Java/Android can do that as well and those steps are researchable. Have you done some research? Tried anything?","body":"How would you do that if you tell you a time and you&#39;re supposed to check if a certain amount of minutes as passed? I guess you would &quot;parse&quot; my information as a datetime and then compare the time difference with &quot;now()&quot;? Java/Android can do that as well and those steps are researchable. Have you done some research? Tried anything?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1673108095,"post_id":75041789,"comment_id":132425842,"body_markdown":"`LocalDateTime.parse(&quot;Sa. 07.01.2023 16:39:15&quot;, DateTimeFormatter.ofPattern(&quot;E dd.MM.uuuu H:mm:ss&quot;, Locale.GERMAN)) .atZone(ZoneId.systemDefault()) .plusMinutes(1) .isBefore(ZonedDateTime.now())`.","body":"<code>LocalDateTime.parse(&quot;Sa. 07.01.2023 16:39:15&quot;, DateTimeFormatter.ofPattern(&quot;E dd.MM.uuuu H:mm:ss&quot;, Locale.GERMAN)) .atZone(ZoneId.systemDefault()) .plusMinutes(1) .isBefore(ZonedDateTime.now())</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673108310,"post_id":75041789,"comment_id":132425903,"body_markdown":"Or instead of `ZoneId.systemDefault()`  we need to give `ZoneId.of(&quot;Europe/Vienna&quot;)` if you know that this is the server’s time zone.","body":"Or instead of <code>ZoneId.systemDefault()</code>  we need to give <code>ZoneId.of(&quot;Europe&#47;Vienna&quot;)</code> if you know that this is the server’s time zone."},{"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"score":0,"creation_date":1673109566,"post_id":75041789,"comment_id":132426215,"body_markdown":"it allways shows false","body":"it allways shows false"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673179151,"post_id":75041789,"comment_id":132435709,"body_markdown":"Weird. It produces `true` on my Java 18. Happy that you accepted the answer, though. I take it to mean you got your question answered.","body":"Weird. It produces <code>true</code> on my Java 18. Happy that you accepted the answer, though. I take it to mean you got your question answered."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1673114202,"creation_date":1673108343,"answer_id":75041882,"question_id":75041789,"body_markdown":" 1. Parse the given date-time string into a `LocalDateTime`.\r\n 2. Convert the obtained `LocalDateTime` into a `ZonedDateTime` by applying a `ZoneId`.\r\n 3. Get the current `ZonedDateTime` in the applied `ZoneId`.\r\n 4. Finally, find the minutes between the current `ZonedDateTime` and the `ZonedDateTime` obtained from the date-time string.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String strDateTime = &quot;Sa. 07.01.2023 16:39:15&quot;;\r\n    \r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEE dd.MM.uuuu HH:mm:ss&quot;, Locale.GERMAN);\r\n    \r\n            // Note: change the ZoneId as per your requirement\r\n    \r\n            ZonedDateTime zdt = LocalDateTime.parse(strDateTime, parser)\r\n                                             .atZone(ZoneId.of(&quot;Europe/Vienna&quot;));\r\n            System.out.println(&quot;Date-time received from the server: &quot; + zdt);\r\n    \r\n            ZonedDateTime now = ZonedDateTime.now(zdt.getZone());\r\n            System.out.println(&quot;Current date-time: &quot; + now);\r\n    \r\n            System.out.println(ChronoUnit.MINUTES.between(zdt, now) &gt; 1);\r\n        }\r\n    }\r\n\r\n**Output from a sample run**:\r\n\r\n    Date-time received from the server: 2023-01-07T16:39:15+01:00[Europe/Vienna]\r\n    Current date-time: 2023-01-07T17:33:04.140599+01:00[Europe/Vienna]\r\n    true\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/o0ChQR)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n---\r\n\r\nIncorporating the following valuable alternative solution [suggested by Basil Bourque](https://stackoverflow.com/questions/75041789/how-to-check-for-this-date-time-pattern-if-some-minutes-are-over-for-java-androi/75041882#comment132426811_75041882):\r\n\r\n&gt; Might be more clear if you switch to `Instant` objects at the end.\r\n&gt; Extract an `Instant` from your first `ZonedDateTime`, and change\r\n&gt; `ZonedDateTime now` to `Instant now`.\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String strDateTime = &quot;Sa. 07.01.2023 16:39:15&quot;;\r\n    \r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEE dd.MM.uuuu HH:mm:ss&quot;, Locale.GERMAN);\r\n    \r\n            // Note: change the ZoneId as per your requirement\r\n    \r\n            Instant instantParsed = LocalDateTime.parse(strDateTime, parser)\r\n                                                 .atZone(ZoneId.of(&quot;Europe/Vienna&quot;))\r\n                                                 .toInstant();\r\n            System.out.println(&quot;Instant received from the server: &quot; + instantParsed);\r\n    \r\n            Instant instantNow = Instant.now();\r\n            System.out.println(&quot;Current instant: &quot; + instantNow);\r\n    \r\n            System.out.println(ChronoUnit.MINUTES.between(instantParsed, instantNow) &gt; 1);\r\n        }\r\n    }\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/KUFq0c)","title":"How to check for this Date Time Pattern if some minutes are over for Java Android","body":"<ol>\n<li>Parse the given date-time string into a <code>LocalDateTime</code>.</li>\n<li>Convert the obtained <code>LocalDateTime</code> into a <code>ZonedDateTime</code> by applying a <code>ZoneId</code>.</li>\n<li>Get the current <code>ZonedDateTime</code> in the applied <code>ZoneId</code>.</li>\n<li>Finally, find the minutes between the current <code>ZonedDateTime</code> and the <code>ZonedDateTime</code> obtained from the date-time string.</li>\n</ol>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        String strDateTime = &quot;Sa. 07.01.2023 16:39:15&quot;;\n\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEE dd.MM.uuuu HH:mm:ss&quot;, Locale.GERMAN);\n\n        // Note: change the ZoneId as per your requirement\n\n        ZonedDateTime zdt = LocalDateTime.parse(strDateTime, parser)\n                                         .atZone(ZoneId.of(&quot;Europe/Vienna&quot;));\n        System.out.println(&quot;Date-time received from the server: &quot; + zdt);\n\n        ZonedDateTime now = ZonedDateTime.now(zdt.getZone());\n        System.out.println(&quot;Current date-time: &quot; + now);\n\n        System.out.println(ChronoUnit.MINUTES.between(zdt, now) &gt; 1);\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run</strong>:</p>\n<pre><code>Date-time received from the server: 2023-01-07T16:39:15+01:00[Europe/Vienna]\nCurrent date-time: 2023-01-07T17:33:04.140599+01:00[Europe/Vienna]\ntrue\n</code></pre>\n<p><a href=\"https://ideone.com/o0ChQR\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p>Incorporating the following valuable alternative solution <a href=\"https://stackoverflow.com/questions/75041789/how-to-check-for-this-date-time-pattern-if-some-minutes-are-over-for-java-androi/75041882#comment132426811_75041882\">suggested by Basil Bourque</a>:</p>\n<blockquote>\n<p>Might be more clear if you switch to <code>Instant</code> objects at the end.\nExtract an <code>Instant</code> from your first <code>ZonedDateTime</code>, and change\n<code>ZonedDateTime now</code> to <code>Instant now</code>.</p>\n</blockquote>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        String strDateTime = &quot;Sa. 07.01.2023 16:39:15&quot;;\n\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEE dd.MM.uuuu HH:mm:ss&quot;, Locale.GERMAN);\n\n        // Note: change the ZoneId as per your requirement\n\n        Instant instantParsed = LocalDateTime.parse(strDateTime, parser)\n                                             .atZone(ZoneId.of(&quot;Europe/Vienna&quot;))\n                                             .toInstant();\n        System.out.println(&quot;Instant received from the server: &quot; + instantParsed);\n\n        Instant instantNow = Instant.now();\n        System.out.println(&quot;Current instant: &quot; + instantNow);\n\n        System.out.println(ChronoUnit.MINUTES.between(instantParsed, instantNow) &gt; 1);\n    }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/KUFq0c\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n"}],"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75041882,"answer_count":1,"score":2,"last_activity_date":1673114202,"creation_date":1673107646,"question_id":75041789,"body_markdown":"I receive this Date Time pattern from Server as a string.\r\n\r\n&gt; Sa. 07.01.2023 16:39:15\r\n\r\nNow i want to check if 1 minute is over.\r\nLike if the gap between the current time and the time (received as a string) from server is \r\nlonger than a minute.\r\n\r\nThe time zone is in Europe. Like Austria.","title":"How to check for this Date Time Pattern if some minutes are over for Java Android","body":"<p>I receive this Date Time pattern from Server as a string.</p>\n<blockquote>\n<p>Sa. 07.01.2023 16:39:15</p>\n</blockquote>\n<p>Now i want to check if 1 minute is over.\nLike if the gap between the current time and the time (received as a string) from server is\nlonger than a minute.</p>\n<p>The time zone is in Europe. Like Austria.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673113682,"creation_date":1673113682,"answer_id":75042530,"question_id":75041843,"body_markdown":"Please rewrite your unit test case like this and try again.\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ExpeditionServiceTest {\r\n    \r\n    @Mock\r\n    private ArticleRepository articleRepository;\r\n    \r\n    @Mock\r\n    private AdressRepository adressRepository;\r\n    \r\n    @Mock\r\n    CustomerRepository customerRepository;\r\n    \r\n    ExpeditionService expeditionService;\r\n\r\n    @BeforeEach\r\n    void setUp(){\r\n    expeditionService = new ExpeditionService(articleRepository , customerRepository , adressRepository);\r\n    }\r\n\r\n    @Test\r\n\tvoid test1() {\r\n       //test code\r\n\t}\r\n}\r\n```","title":"Testing service that has attribut Repository that implements CrudRepository&lt;&gt; in","body":"<p>Please rewrite your unit test case like this and try again.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ExpeditionServiceTest {\n    \n    @Mock\n    private ArticleRepository articleRepository;\n    \n    @Mock\n    private AdressRepository adressRepository;\n    \n    @Mock\n    CustomerRepository customerRepository;\n    \n    ExpeditionService expeditionService;\n\n    @BeforeEach\n    void setUp(){\n    expeditionService = new ExpeditionService(articleRepository , customerRepository , adressRepository);\n    }\n\n    @Test\n    void test1() {\n       //test code\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27318698,"reputation":13,"user_id":20832798,"display_name":"fnyve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75042530,"answer_count":1,"score":-1,"last_activity_date":1673113682,"creation_date":1673108040,"question_id":75041843,"body_markdown":"I want to test this service that uses 3 repositorie implementing CrudRepository of JPA\r\n\r\n```java\r\n@Service\r\npublic class ExpeditionService {\r\n    ArticleRepository articleRepository;\r\n    CustomerRepository customerRepository;\r\n    AdressRepository adressRepository;\r\n\r\n    public ExpeditionService(ArticleRepository articleRepository, CustomerRepository customerRepository, AdressRepository adressRepository) {\r\n        this.articleRepository = articleRepository;\r\n        this.customerRepository = customerRepository;\r\n        this.adressRepository = adressRepository;\r\n    }\r\n\r\n    public Set&lt;Article&gt; findArticleByOrderId(Long orderId) {\r\n        return articleRepository.findArticleByOrdersId(orderId);\r\n    }\r\n\r\n    public Optional&lt;Customer&gt; findCustomerById(Long customerId) {\r\n        return customerRepository.findById(customerId);\r\n    }\r\n\r\n    public Set&lt;Adress&gt; findAdressesByOrderId(Long orderId) {\r\n        return adressRepository.findAdressesByOrOrderAdressesId(orderId);\r\n    }\r\n}\r\n```\r\n\r\nIn my test I set up ExpeditionService and repositories\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\npublic class ExpeditionServiceTest {\r\n    @Autowired\r\n    private ArticleRepository articleRepository;\r\n    @Autowired\r\n    private TypeAdresseRespository typeAdresseRespository;\r\n    @Autowired\r\n    private AdressRepository adressRepository;\r\n    @Autowired\r\n    OrderRepository orderRepository;\r\n    @Autowired\r\n    CustomerRepository customerRepository;\r\n    @Autowired\r\n    CountryRepository countryRepository;\r\n    ExpeditionService expeditionService = new ExpeditionService(articleRepository , customerRepository , adressRepository);\r\n}\r\n```\r\nBut when I launch test on no matter what kind of method I&#39;m getting error that this repository is null\r\nWhat should I do please?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Testing service that has attribut Repository that implements CrudRepository&lt;&gt; in","body":"<p>I want to test this service that uses 3 repositorie implementing CrudRepository of JPA</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ExpeditionService {\n    ArticleRepository articleRepository;\n    CustomerRepository customerRepository;\n    AdressRepository adressRepository;\n\n    public ExpeditionService(ArticleRepository articleRepository, CustomerRepository customerRepository, AdressRepository adressRepository) {\n        this.articleRepository = articleRepository;\n        this.customerRepository = customerRepository;\n        this.adressRepository = adressRepository;\n    }\n\n    public Set&lt;Article&gt; findArticleByOrderId(Long orderId) {\n        return articleRepository.findArticleByOrdersId(orderId);\n    }\n\n    public Optional&lt;Customer&gt; findCustomerById(Long customerId) {\n        return customerRepository.findById(customerId);\n    }\n\n    public Set&lt;Adress&gt; findAdressesByOrderId(Long orderId) {\n        return adressRepository.findAdressesByOrOrderAdressesId(orderId);\n    }\n}\n</code></pre>\n<p>In my test I set up ExpeditionService and repositories</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class ExpeditionServiceTest {\n    @Autowired\n    private ArticleRepository articleRepository;\n    @Autowired\n    private TypeAdresseRespository typeAdresseRespository;\n    @Autowired\n    private AdressRepository adressRepository;\n    @Autowired\n    OrderRepository orderRepository;\n    @Autowired\n    CustomerRepository customerRepository;\n    @Autowired\n    CountryRepository countryRepository;\n    ExpeditionService expeditionService = new ExpeditionService(articleRepository , customerRepository , adressRepository);\n}\n</code></pre>\n<p>But when I launch test on no matter what kind of method I'm getting error that this repository is null\nWhat should I do please?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-mongodb","mongorepository"],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673112920,"creation_date":1673112920,"answer_id":75042433,"question_id":75034367,"body_markdown":"Please remove this class from APP2.\r\n\r\n```\r\n@Configuration\r\npublic class AppOneConfig {\r\n\r\n    @Bean\r\n    public PersonService appone() {\r\n        return new PersonService();\r\n    }\r\n}\r\n```\r\n\r\nand add ```scanBasePackages``` attribute in ```@SpringBootApplication``` annotation in APP2 main class like this and try again.\r\n\r\n```\r\n@SpringBootApplication(scanBasePackages = {&quot;com.example.appone&quot;,&quot;com.example.apptwo&quot;})\r\npublic class SpringBootDemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBootDemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```","title":"How to use spring boot app1 into spring boot app2 as dependency where spring boot app1 is doing some DB operation?","body":"<p>Please remove this class from APP2.</p>\n<pre><code>@Configuration\npublic class AppOneConfig {\n\n    @Bean\n    public PersonService appone() {\n        return new PersonService();\n    }\n}\n</code></pre>\n<p>and add <code>scanBasePackages</code> attribute in <code>@SpringBootApplication</code> annotation in APP2 main class like this and try again.</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.example.appone&quot;,&quot;com.example.apptwo&quot;})\npublic class SpringBootDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootDemoApplication.class, args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27455550,"reputation":1,"user_id":20947071,"display_name":"Saurabh Vishwakarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673112920,"creation_date":1673027106,"question_id":75034367,"body_markdown":"I am trying to create a spring boot app jar file which I need to use in another spring boot app.\r\nspring boot app1 is doing some DB operation.\r\nI want to add spring boot app1 to my spring boot app2 as a dependency and want to call service method which makes DB operations using MongoRepository.\r\n\r\nI am attaching my code below. Can some help me with my problem?\r\n\r\nError:\r\n\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.7)\r\n\r\n2023-01-06 22:51:27.472  INFO 13892 --- [           main] com.example.apptwo.ApptwoApplication     : Starting ApptwoApplication using Java 17.0.1 on HP with PID 13892 (C:\\Users\\saurabh\\Desktop\\apptwo\\apptwo\\target\\classes started by saurabh in C:\\Users\\saurabh\\Desktop\\apptwo\\apptwo)\r\n2023-01-06 22:51:27.475  INFO 13892 --- [           main] com.example.apptwo.ApptwoApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-01-06 22:51:27.926  INFO 13892 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n2023-01-06 22:51:27.939  INFO 13892 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 MongoDB repository interfaces.\r\n2023-01-06 22:51:28.178  WARN 13892 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appTwoService&#39;: Unsatisfied dependency expressed through field &#39;service&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appone&#39;: Unsatisfied dependency expressed through field &#39;repo&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.appone.repo.PersonRepo&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2023-01-06 22:51:28.191  INFO 13892 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-01-06 22:51:28.217 ERROR 13892 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField repo in com.example.appone.service.PersonService required a bean of type &#39;com.example.appone.repo.PersonRepo&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.appone.repo.PersonRepo&#39; in your configuration.\r\n```\r\n\r\n\r\nAPP1\r\n```\r\npackage com.example.appone.entity;\r\n\r\nimport lombok.ToString;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;test1&quot;)\r\n@ToString\r\npublic class Person {\r\n    @Id\r\n    private String _id;\r\n    private String name;\r\n    private String email;\r\n}\r\n```\r\n\r\n```\r\npackage com.example.appone.repo;\r\n\r\nimport com.example.appone.entity.Person;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface PersonRepo extends MongoRepository&lt;Person, String&gt; {\r\n}\r\n```\r\n\r\n```\r\npackage com.example.appone.service;\r\n\r\nimport com.example.appone.entity.Person;\r\nimport com.example.appone.repo.PersonRepo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class PersonService implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    private PersonRepo repo;\r\n\r\n    public List&lt;Person&gt; getAllTest() {\r\n        return repo.findAll();\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        System.out.println(getAllTest());\r\n    }\r\n}\r\n```\r\napplication.properties\r\n\r\n```\r\nspring.data.mongodb.uri=mongodb://localhost:27017/DB1\r\nspring.data.mongodb.database=DB1\r\n```\r\n\r\nAPP2\r\n\r\n```\r\npackage com.example.apptwo.service;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.example.appone.service.PersonService;\r\n\r\n@Configuration\r\npublic class AppOneConfig {\r\n\r\n\t@Bean\r\n\tpublic PersonService appone() {\r\n\t\treturn new PersonService();\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npackage com.example.apptwo.service;\r\n\r\nimport com.example.appone.service.PersonService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class AppTwoService implements CommandLineRunner {\r\n\t\r\n    @Autowired\r\n    private PersonService service;\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        System.out.println(service.getAllTest());\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;apptwo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;apptwo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appone&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nI tried @Autowired  but it did not worked then I created a config file where I am creating bean of the service class of app1, This time bean found for app1 service class but bean not found for repository interface.","title":"How to use spring boot app1 into spring boot app2 as dependency where spring boot app1 is doing some DB operation?","body":"<p>I am trying to create a spring boot app jar file which I need to use in another spring boot app.\nspring boot app1 is doing some DB operation.\nI want to add spring boot app1 to my spring boot app2 as a dependency and want to call service method which makes DB operations using MongoRepository.</p>\n<p>I am attaching my code below. Can some help me with my problem?</p>\n<p>Error:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.7)\n\n2023-01-06 22:51:27.472  INFO 13892 --- [           main] com.example.apptwo.ApptwoApplication     : Starting ApptwoApplication using Java 17.0.1 on HP with PID 13892 (C:\\Users\\saurabh\\Desktop\\apptwo\\apptwo\\target\\classes started by saurabh in C:\\Users\\saurabh\\Desktop\\apptwo\\apptwo)\n2023-01-06 22:51:27.475  INFO 13892 --- [           main] com.example.apptwo.ApptwoApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-06 22:51:27.926  INFO 13892 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n2023-01-06 22:51:27.939  INFO 13892 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 MongoDB repository interfaces.\n2023-01-06 22:51:28.178  WARN 13892 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appTwoService': Unsatisfied dependency expressed through field 'service'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appone': Unsatisfied dependency expressed through field 'repo'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.appone.repo.PersonRepo' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2023-01-06 22:51:28.191  INFO 13892 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-01-06 22:51:28.217 ERROR 13892 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField repo in com.example.appone.service.PersonService required a bean of type 'com.example.appone.repo.PersonRepo' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.example.appone.repo.PersonRepo' in your configuration.\n</code></pre>\n<p>APP1</p>\n<pre><code>package com.example.appone.entity;\n\nimport lombok.ToString;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = &quot;test1&quot;)\n@ToString\npublic class Person {\n    @Id\n    private String _id;\n    private String name;\n    private String email;\n}\n</code></pre>\n<pre><code>package com.example.appone.repo;\n\nimport com.example.appone.entity.Person;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface PersonRepo extends MongoRepository&lt;Person, String&gt; {\n}\n</code></pre>\n<pre><code>package com.example.appone.service;\n\nimport com.example.appone.entity.Person;\nimport com.example.appone.repo.PersonRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\n\n@Component\npublic class PersonService implements CommandLineRunner {\n\n    @Autowired\n    private PersonRepo repo;\n\n    public List&lt;Person&gt; getAllTest() {\n        return repo.findAll();\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(getAllTest());\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.data.mongodb.uri=mongodb://localhost:27017/DB1\nspring.data.mongodb.database=DB1\n</code></pre>\n<p>APP2</p>\n<pre><code>package com.example.apptwo.service;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.example.appone.service.PersonService;\n\n@Configuration\npublic class AppOneConfig {\n\n    @Bean\n    public PersonService appone() {\n        return new PersonService();\n    }\n}\n</code></pre>\n<pre><code>package com.example.apptwo.service;\n\nimport com.example.appone.service.PersonService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class AppTwoService implements CommandLineRunner {\n    \n    @Autowired\n    private PersonService service;\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(service.getAllTest());\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;apptwo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;apptwo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;appone&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried @Autowired  but it did not worked then I created a config file where I am creating bean of the service class of app1, This time bean found for app1 service class but bean not found for repository interface.</p>\n"},{"tags":["java","sockets","nio","serversocket"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680603005,"post_id":75034723,"comment_id":133922352,"body_markdown":"You can&#39;t send (or receive) *anything* from a `ServerSocket`, Only from a `Socket`. Your question doesn&#39;t make sense.","body":"You can&#39;t send (or receive) <i>anything</i> from a <code>ServerSocket</code>, Only from a <code>Socket</code>. Your question doesn&#39;t make sense."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673030835,"creation_date":1673030835,"answer_id":75034994,"question_id":75034723,"body_markdown":"Here on the server you are sending raw (text) data\r\n\r\n                        socketChannel.write(enc.encode(CharBuffer.wrap(response)));\r\n\r\nAnd here on the client you are trying to read this as an Object\r\n\r\n            ois = new ObjectInputStream(socket.getInputStream());\r\n            String response = (String) ois.readObject();\r\n            System.out.println(&quot;Response: &quot; + response);\r\n\r\nFor your ObjectInputStream to work, you need to be using an ObjectOutputStream on the other side. I would recommend against using the Object streams, as these are Java-only and can fail if the two sides are using different versions of the serialized object. Instead, just use raw streams. \r\n\r\nBetter yet, use `WebSockets` - WebSockets handle a lot of the plumbing that sockets come with in a more elegant way. You can definitely find an implementation of WebSockets for Java on GitHub\r\n","title":"Sending message between ServerSocket and client","body":"<p>Here on the server you are sending raw (text) data</p>\n<pre><code>                    socketChannel.write(enc.encode(CharBuffer.wrap(response)));\n</code></pre>\n<p>And here on the client you are trying to read this as an Object</p>\n<pre><code>        ois = new ObjectInputStream(socket.getInputStream());\n        String response = (String) ois.readObject();\n        System.out.println(&quot;Response: &quot; + response);\n</code></pre>\n<p>For your ObjectInputStream to work, you need to be using an ObjectOutputStream on the other side. I would recommend against using the Object streams, as these are Java-only and can fail if the two sides are using different versions of the serialized object. Instead, just use raw streams.</p>\n<p>Better yet, use <code>WebSockets</code> - WebSockets handle a lot of the plumbing that sockets come with in a more elegant way. You can definitely find an implementation of WebSockets for Java on GitHub</p>\n"},{"tags":[],"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673112918,"creation_date":1673112918,"answer_id":75042432,"question_id":75034723,"body_markdown":"I have solved it by using on the client to receive:\r\n\r\n```\r\nByteBuffer readBuffer = ByteBuffer.allocate(1024);\r\n        server.read(readBuffer);\r\n        String result = new String(readBuffer.array()).trim();\r\n\r\n```\r\n\r\nIn the server to send:\r\n```\r\nCharsetEncoder enc = StandardCharsets.US_ASCII.newEncoder();\r\n                String response = &quot;Task completed in &quot; + (this.timeToWrite+this.timeToRead) + &quot; mills \\n&quot;;\r\n\r\n```\r\n","title":"Sending message between ServerSocket and client","body":"<p>I have solved it by using on the client to receive:</p>\n<pre><code>ByteBuffer readBuffer = ByteBuffer.allocate(1024);\n        server.read(readBuffer);\n        String result = new String(readBuffer.array()).trim();\n\n</code></pre>\n<p>In the server to send:</p>\n<pre><code>CharsetEncoder enc = StandardCharsets.US_ASCII.newEncoder();\n                String response = &quot;Task completed in &quot; + (this.timeToWrite+this.timeToRead) + &quot; mills \\n&quot;;\n\n</code></pre>\n"}],"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75042432,"answer_count":2,"score":-1,"last_activity_date":1673112918,"creation_date":1673029131,"question_id":75034723,"body_markdown":"I need to send a message from the ServerSocket to the client when the key is writable, I think that the message is being sent in the right way but when I try to read it on the client I get this error:\r\n\r\n\r\n```\r\njava.io.StreamCorruptedException: invalid stream header: 48656C6C\r\n        at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:866)\r\n        at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:358)\r\n        at MyTcpClient.main(MyTcpClient.java:22)\r\n```\r\n\r\nHow can I read the message correctly in the client?\r\nThese are my files:\r\n\r\nMyAsyncProcessor.java\r\n```\r\nimport java.io.IOException;\r\nimport java.io.PrintStream;\r\nimport java.net.InetAddress;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.CharBuffer;\r\nimport java.nio.channels.*;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.CharsetEncoder;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.Set;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class MyAsyncProcessor {\r\n\r\n    HashMap&lt;Integer, MyTask&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\n    ExecutorService pool;\r\n\r\n    public MyAsyncProcessor() {\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new MyAsyncProcessor().process();\r\n    }\r\n\r\n    public void process() throws IOException {\r\n        pool = Executors.newFixedThreadPool(2);\r\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\r\n        Selector selector = Selector.open();\r\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\r\n        serverSocketChannel.configureBlocking(false);\r\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\r\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n        SelectionKey key;\r\n        System.out.println(&quot;AsyncProcessor ready&quot;);\r\n        while (true) {\r\n            if (selector.select() &gt; 0) {\r\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\r\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\r\n                while (i.hasNext()) {\r\n                    key = i.next();\r\n                    if (!key.isValid()) {\r\n                        key.cancel();\r\n                        continue;\r\n                    }\r\n                    if (key.isAcceptable()) {\r\n                        SocketChannel socketChannel = serverSocketChannel.accept();\r\n                        socketChannel.configureBlocking(false);\r\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\r\n                        MyTask task = new MyTask(selector, socketChannel);\r\n                        hashMap.put(socketChannel.hashCode(), task);\r\n                        pool.execute(task);\r\n                        socketChannel.register(selector, SelectionKey.OP_READ);\r\n                    }\r\n                    if (key.isReadable()) {\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        MyTask task = hashMap.get(socketChannel.hashCode());\r\n                        ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\r\n                        try {\r\n                            socketChannel.read(byteBuffer);\r\n                            String result = new String(byteBuffer.array()).trim();\r\n                            String[] words = result.split(&quot; &quot;);\r\n                            task.timeToRead = Integer.parseInt(words[words.length - 2]) * 1000;\r\n                            task.timeToWrite = Integer.parseInt(words[words.length - 1]) * 1000;\r\n                            System.out.println(Thread.currentThread().getName() + &quot; reads for &quot; + task.timeToRead + &quot; mills&quot;);\r\n                            try {\r\n                                Thread.sleep(task.timeToRead);\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            System.out.println(Thread.currentThread().getName() + &quot; ended reading&quot;);\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                            return;\r\n                        }\r\n                        socketChannel.register(selector, SelectionKey.OP_WRITE);\r\n                    }\r\n                    if (key.isWritable()) {\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        MyTask task = hashMap.get(socketChannel.hashCode());\r\n                        task.readyToWrite();\r\n                        hashMap.remove(socketChannel.hashCode());\r\n                        System.out.println(Thread.currentThread().getName() + &quot; writes for &quot; + task.timeToWrite + &quot; mills&quot;);\r\n                        try {\r\n                            Thread.sleep(task.timeToWrite);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        System.out.println(Thread.currentThread().getName() + &quot; ended writing&quot;);\r\n                        CharsetEncoder enc = StandardCharsets.US_ASCII.newEncoder();\r\n                        String response = &quot;Hello!\\n&quot;;\r\n                        socketChannel.write(enc.encode(CharBuffer.wrap(response)));\r\n                        key.cancel();\r\n                    }\r\n                    i.remove();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMyTcpClient.java\r\n```\r\nimport java.io.*;\r\nimport java.net.Socket;\r\nimport java.util.Random;\r\n\r\npublic class MyTcpClient {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Random rand = new Random();\r\n        int secondsToRead = rand.nextInt(5);\r\n        int secondsToWrite = secondsToRead + 1;\r\n        String message = &quot;Seconds for the task to be read and written: &quot; + secondsToRead + &quot; &quot; + secondsToWrite;\r\n        System.out.println(message);\r\n        Socket socket;\r\n        ObjectInputStream ois;\r\n        try {\r\n            socket = new Socket(&quot;127.0.0.1&quot;, 9876);\r\n            PrintWriter printWriter = new PrintWriter(socket.getOutputStream(), true);\r\n            printWriter.println(message);\r\n            System.out.println(&quot;Sending message&quot;);\r\n\r\n            ois = new ObjectInputStream(socket.getInputStream());\r\n            String response = (String) ois.readObject();\r\n            System.out.println(&quot;Response: &quot; + response);\r\n            ois.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error in Socket&quot;);\r\n            e.printStackTrace();\r\n            System.exit(-1);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nThank you in advance\r\n","title":"Sending message between ServerSocket and client","body":"<p>I need to send a message from the ServerSocket to the client when the key is writable, I think that the message is being sent in the right way but when I try to read it on the client I get this error:</p>\n<pre><code>java.io.StreamCorruptedException: invalid stream header: 48656C6C\n        at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:866)\n        at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:358)\n        at MyTcpClient.main(MyTcpClient.java:22)\n</code></pre>\n<p>How can I read the message correctly in the client?\nThese are my files:</p>\n<p>MyAsyncProcessor.java</p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintStream;\nimport java.net.InetAddress;\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\nimport java.nio.channels.*;\nimport java.nio.charset.Charset;\nimport java.nio.charset.CharsetEncoder;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class MyAsyncProcessor {\n\n    HashMap&lt;Integer, MyTask&gt; hashMap = new HashMap&lt;&gt;();\n\n    ExecutorService pool;\n\n    public MyAsyncProcessor() {\n    }\n\n    public static void main(String[] args) throws IOException {\n        new MyAsyncProcessor().process();\n    }\n\n    public void process() throws IOException {\n        pool = Executors.newFixedThreadPool(2);\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\n        Selector selector = Selector.open();\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\n        serverSocketChannel.configureBlocking(false);\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\n        SelectionKey key;\n        System.out.println(&quot;AsyncProcessor ready&quot;);\n        while (true) {\n            if (selector.select() &gt; 0) {\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\n                while (i.hasNext()) {\n                    key = i.next();\n                    if (!key.isValid()) {\n                        key.cancel();\n                        continue;\n                    }\n                    if (key.isAcceptable()) {\n                        SocketChannel socketChannel = serverSocketChannel.accept();\n                        socketChannel.configureBlocking(false);\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\n                        MyTask task = new MyTask(selector, socketChannel);\n                        hashMap.put(socketChannel.hashCode(), task);\n                        pool.execute(task);\n                        socketChannel.register(selector, SelectionKey.OP_READ);\n                    }\n                    if (key.isReadable()) {\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        MyTask task = hashMap.get(socketChannel.hashCode());\n                        ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\n                        try {\n                            socketChannel.read(byteBuffer);\n                            String result = new String(byteBuffer.array()).trim();\n                            String[] words = result.split(&quot; &quot;);\n                            task.timeToRead = Integer.parseInt(words[words.length - 2]) * 1000;\n                            task.timeToWrite = Integer.parseInt(words[words.length - 1]) * 1000;\n                            System.out.println(Thread.currentThread().getName() + &quot; reads for &quot; + task.timeToRead + &quot; mills&quot;);\n                            try {\n                                Thread.sleep(task.timeToRead);\n                            } catch (InterruptedException e) {\n                                e.printStackTrace();\n                            }\n                            System.out.println(Thread.currentThread().getName() + &quot; ended reading&quot;);\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                            return;\n                        }\n                        socketChannel.register(selector, SelectionKey.OP_WRITE);\n                    }\n                    if (key.isWritable()) {\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        MyTask task = hashMap.get(socketChannel.hashCode());\n                        task.readyToWrite();\n                        hashMap.remove(socketChannel.hashCode());\n                        System.out.println(Thread.currentThread().getName() + &quot; writes for &quot; + task.timeToWrite + &quot; mills&quot;);\n                        try {\n                            Thread.sleep(task.timeToWrite);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                        System.out.println(Thread.currentThread().getName() + &quot; ended writing&quot;);\n                        CharsetEncoder enc = StandardCharsets.US_ASCII.newEncoder();\n                        String response = &quot;Hello!\\n&quot;;\n                        socketChannel.write(enc.encode(CharBuffer.wrap(response)));\n                        key.cancel();\n                    }\n                    i.remove();\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>MyTcpClient.java</p>\n<pre><code>import java.io.*;\nimport java.net.Socket;\nimport java.util.Random;\n\npublic class MyTcpClient {\n\n    public static void main(String[] args) {\n\n        Random rand = new Random();\n        int secondsToRead = rand.nextInt(5);\n        int secondsToWrite = secondsToRead + 1;\n        String message = &quot;Seconds for the task to be read and written: &quot; + secondsToRead + &quot; &quot; + secondsToWrite;\n        System.out.println(message);\n        Socket socket;\n        ObjectInputStream ois;\n        try {\n            socket = new Socket(&quot;127.0.0.1&quot;, 9876);\n            PrintWriter printWriter = new PrintWriter(socket.getOutputStream(), true);\n            printWriter.println(message);\n            System.out.println(&quot;Sending message&quot;);\n\n            ois = new ObjectInputStream(socket.getInputStream());\n            String response = (String) ois.readObject();\n            System.out.println(&quot;Response: &quot; + response);\n            ois.close();\n        } catch (IOException e) {\n            System.out.println(&quot;Error in Socket&quot;);\n            e.printStackTrace();\n            System.exit(-1);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n\n    }\n}\n</code></pre>\n<p>Thank you in advance</p>\n"},{"tags":["java","json","jackson","deserialization","primitive-types"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643991199,"creation_date":1643990252,"answer_id":70989274,"question_id":70988740,"body_markdown":"To my knowlendge that&#39;s only supported when using contructors. Feature that controls it is `DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES`. You need to annotate the constructor, which jackson will use with `@JsonCreator`, and arguments in the constructor with `@JsonProperty`. Like this:\r\n```\r\npublic class Foo {\r\n\r\n    long id;\r\n\r\n    @JsonCreator\r\n    public Foo(@JsonProperty(&quot;id&quot;) long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    //getters and setters\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;For(id=&quot; + id + &#39;)&#39;;\r\n    }\r\n}\r\n```\r\nAnd enable the feature for the mapper.\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\r\n        System.out.println(mapper.readValue(&quot;{}&quot;, Foo.class));\r\n    }\r\n}\r\n```\r\n**Edit:** That&#39;s only for properties missing from content. If you need to specifically fail `null` properties(not applicable for you case, since you use primitives, but adding for completeness), you need this feature `DeserializationFeature.FAIL_ON_NULL_CREATOR_PROPERTIES`. You can enable it the same way as the other property in the example.","title":"How can I make jackson throwing error when a value for primitive is not set in json?","body":"<p>To my knowlendge that's only supported when using contructors. Feature that controls it is <code>DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES</code>. You need to annotate the constructor, which jackson will use with <code>@JsonCreator</code>, and arguments in the constructor with <code>@JsonProperty</code>. Like this:</p>\n<pre><code>public class Foo {\n\n    long id;\n\n    @JsonCreator\n    public Foo(@JsonProperty(&quot;id&quot;) long id) {\n        this.id = id;\n    }\n\n    //getters and setters\n\n    @Override\n    public String toString() {\n        return &quot;For(id=&quot; + id + ')';\n    }\n}\n</code></pre>\n<p>And enable the feature for the mapper.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\n        System.out.println(mapper.readValue(&quot;{}&quot;, Foo.class));\n    }\n}\n</code></pre>\n<p><strong>Edit:</strong> That's only for properties missing from content. If you need to specifically fail <code>null</code> properties(not applicable for you case, since you use primitives, but adding for completeness), you need this feature <code>DeserializationFeature.FAIL_ON_NULL_CREATOR_PROPERTIES</code>. You can enable it the same way as the other property in the example.</p>\n"},{"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673112873,"creation_date":1673112873,"answer_id":75042429,"question_id":70988740,"body_markdown":"In addition to what is in @Chaosfire&#39;s answer, there is another feature that fits even better: [DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES][1]\r\n\r\n&gt; Feature that determines whether encountering of JSON null is an error when deserializing into Java primitive types (like &#39;int&#39; or &#39;double&#39;). If it is, a InvalidNullException is thrown to indicate this; if not, default value is used (0 for &#39;int&#39;, 0.0 for double, same defaulting as what JVM uses).\r\n&gt;\r\n&gt;Feature is disabled by default.\r\n\r\n  [1]: https://javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.14.1/com/fasterxml/jackson/databind/DeserializationFeature.html#FAIL_ON_NULL_FOR_PRIMITIVES","title":"How can I make jackson throwing error when a value for primitive is not set in json?","body":"<p>In addition to what is in @Chaosfire's answer, there is another feature that fits even better: <a href=\"https://javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.14.1/com/fasterxml/jackson/databind/DeserializationFeature.html#FAIL_ON_NULL_FOR_PRIMITIVES\" rel=\"nofollow noreferrer\">DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES</a></p>\n<blockquote>\n<p>Feature that determines whether encountering of JSON null is an error when deserializing into Java primitive types (like 'int' or 'double'). If it is, a InvalidNullException is thrown to indicate this; if not, default value is used (0 for 'int', 0.0 for double, same defaulting as what JVM uses).</p>\n<p>Feature is disabled by default.</p>\n</blockquote>\n"}],"owner":{"account_id":6906863,"reputation":335,"user_id":5304383,"display_name":"lowercase93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70989274,"answer_count":2,"score":2,"last_activity_date":1673112873,"creation_date":1643987825,"question_id":70988740,"body_markdown":"Given the code:\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        System.out.println(new ObjectMapper().readValue(&quot;{}&quot;, Foo.class));\r\n    }\r\n\r\n    public static class Foo {\r\n        long id;\r\n\r\n        public long getId() { return id; }\r\n        public void setId(long id) { this.id = id; }\r\n\r\n        @Override\r\n        public String toString() { return &quot;For(id=&quot; + id + &#39;)&#39;; }\r\n    }\r\n}\r\n```\r\nI want exception thrown instead of `0` in the `id` field.\r\nI tried different things like `@JsonProperty(required = true)`, `@JsonInclude(JsonInclude.Include.NON_DEFAULT)` but it does not work and still just silently sets `0`\r\n\r\nHow do I force it to throw an exception when there is no value for the field or it is set to null in JSON?","title":"How can I make jackson throwing error when a value for primitive is not set in json?","body":"<p>Given the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        System.out.println(new ObjectMapper().readValue(&quot;{}&quot;, Foo.class));\n    }\n\n    public static class Foo {\n        long id;\n\n        public long getId() { return id; }\n        public void setId(long id) { this.id = id; }\n\n        @Override\n        public String toString() { return &quot;For(id=&quot; + id + ')'; }\n    }\n}\n</code></pre>\n<p>I want exception thrown instead of <code>0</code> in the <code>id</code> field.\nI tried different things like <code>@JsonProperty(required = true)</code>, <code>@JsonInclude(JsonInclude.Include.NON_DEFAULT)</code> but it does not work and still just silently sets <code>0</code></p>\n<p>How do I force it to throw an exception when there is no value for the field or it is set to null in JSON?</p>\n"},{"tags":["java","android","debugging"],"owner":{"account_id":6453316,"reputation":85,"user_id":4999551,"accept_rate":100,"display_name":"Bohuslav Sys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673112710,"creation_date":1673112710,"question_id":75042408,"body_markdown":"I am trying to run Android application on Paired Device via Wifi and it fail to run with following error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GhS9y.png\r\n\r\nI guess it is due to the audit warning that it cannot read respective file in /mnt/vendor folder, but Android is not my main technology field so I am at wits end what the solution might be.\r\n\r\nIt also look like the application is not trusted, but it have all the permissions as I am using example application from someone else and the AndroidManifest.xml permissions are the same.\r\n\r\nThanks a lot in advance!","title":"Android application crashes in Debug mode with FORTIFY: fread: null FILE*","body":"<p>I am trying to run Android application on Paired Device via Wifi and it fail to run with following error:</p>\n<p><a href=\"https://i.stack.imgur.com/GhS9y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GhS9y.png\" alt=\"enter image description here\" /></a></p>\n<p>I guess it is due to the audit warning that it cannot read respective file in /mnt/vendor folder, but Android is not my main technology field so I am at wits end what the solution might be.</p>\n<p>It also look like the application is not trusted, but it have all the permissions as I am using example application from someone else and the AndroidManifest.xml permissions are the same.</p>\n<p>Thanks a lot in advance!</p>\n"},{"tags":["java","android","text-to-speech"],"owner":{"account_id":18072152,"reputation":639,"user_id":13136530,"display_name":"kirvel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673112637,"creation_date":1673112637,"question_id":75042394,"body_markdown":"The following code forces the app to play sound through speaker when headphones are plugged in:\r\n\r\n     AudioManager audioManager = (AudioManager)getContext().getSystemService(Context.AUDIO_SERVICE);\r\n    audioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\r\n    audioManager.setSpeakerphoneOn(true/false);\r\n    soundPlayer.setAudioStreamType(AudioManager.MODE_IN_COMMUNICATION);\r\n\r\n    soundPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n\r\nBut what about TextToSpeech class? Is there a way to implement such a logic with it? You can see my textToSpeech code below.\r\n\r\n\r\n      String utteranceId = UUID.randomUUID().toString();//unique id\r\n      textToSpeech.speak(toSpeak, TextToSpeech.QUEUE_FLUSH, null, utteranceId);\r\n","title":"How to play Android&#39;s textToSpeech text through speakers even when headphones are plugged in?","body":"<p>The following code forces the app to play sound through speaker when headphones are plugged in:</p>\n<pre><code> AudioManager audioManager = (AudioManager)getContext().getSystemService(Context.AUDIO_SERVICE);\naudioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\naudioManager.setSpeakerphoneOn(true/false);\nsoundPlayer.setAudioStreamType(AudioManager.MODE_IN_COMMUNICATION);\n\nsoundPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n</code></pre>\n<p>But what about TextToSpeech class? Is there a way to implement such a logic with it? You can see my textToSpeech code below.</p>\n<pre><code>  String utteranceId = UUID.randomUUID().toString();//unique id\n  textToSpeech.speak(toSpeak, TextToSpeech.QUEUE_FLUSH, null, utteranceId);\n</code></pre>\n"},{"tags":["java","api","maven"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1673112917,"post_id":75042389,"comment_id":132426933,"body_markdown":"Yes that is possible. The easiest way would be to just use the `test` source set to implement the tests, since this avoids handling artifact resolution. A tutorial on how to do this can, for example, be found [over at `javaguides.com`](https://www.javaguides.net/2018/07/junit-getting-started-guide.html).","body":"Yes that is possible. The easiest way would be to just use the <code>test</code> source set to implement the tests, since this avoids handling artifact resolution. A tutorial on how to do this can, for example, be found <a href=\"https://www.javaguides.net/2018/07/junit-getting-started-guide.html\" rel=\"nofollow noreferrer\">over at <code>javaguides.com</code></a>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673122174,"post_id":75042389,"comment_id":132428800,"body_markdown":"Do not Junit 4 anymore it&#39;s really time to move to JUnit JUpiter (aka JUnit 5)...  https://junit.org/junit5/","body":"Do not Junit 4 anymore it&#39;s really time to move to JUnit JUpiter (aka JUnit 5)...  <a href=\"https://junit.org/junit5/\" rel=\"nofollow noreferrer\">junit.org/junit5</a>"}],"owner":{"account_id":11890117,"reputation":35,"user_id":8701262,"display_name":"A_Brave_Panda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673112571,"creation_date":1673112571,"question_id":75042389,"body_markdown":"I have an API for Java that I&#39;ve been messing around with. It is a maven project. I want to be able to test that it works. Is there a way I can make a new Java project and using maven to import that API into my project?\r\n\r\n(Not that it should matter but I am using IntelliJ)\r\n\r\nExample:\r\n\r\nAPI is CommandAPI. Now I want to make a &quot;CommandAPITester&quot; project where I import the API using maven and play around with some tests.\r\n\r\nThank you!\r\n\r\n\r\nPlease let me know if you need any more info to answer the question.","title":"Using an API in Maven","body":"<p>I have an API for Java that I've been messing around with. It is a maven project. I want to be able to test that it works. Is there a way I can make a new Java project and using maven to import that API into my project?</p>\n<p>(Not that it should matter but I am using IntelliJ)</p>\n<p>Example:</p>\n<p>API is CommandAPI. Now I want to make a &quot;CommandAPITester&quot; project where I import the API using maven and play around with some tests.</p>\n<p>Thank you!</p>\n<p>Please let me know if you need any more info to answer the question.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1673034878,"post_id":75035403,"comment_id":132414690,"body_markdown":"Maybe ```Map&lt;String, String&gt; value = map.of(&quot;content&quot;, &quot;my_value&quot;);```?","body":"Maybe <code>Map&lt;String, String&gt; value = map.of(&quot;content&quot;, &quot;my_value&quot;);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673112365,"creation_date":1673045104,"answer_id":75036781,"question_id":75035403,"body_markdown":"You can use the [`ObjectWriter#withRootName`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectWriter.html#withRootName-com.fasterxml.jackson.databind.PropertyName-) method to wrap a distinct `Content` object with a string as a new rootname in the serialization process like the example below:\r\n\r\n~~~\r\npublic class Content {\r\n\r\n    @JsonProperty(&quot;content&quot;)\r\n    String content = &quot;my_value&quot;;\r\n}\r\n\r\nContent content = new Content();\r\n//wrapping the Content obj with new rootname &quot;value&quot;\r\n//it prints {&quot;value&quot;:{&quot;content&quot;:&quot;my_value&quot;}}\r\nSystem.out.println(mapper.writer()\r\n                         .withRootName(&quot;value&quot;)\r\n                         .writeValueAsString(content));\r\n~~~\r\n\r\nIf you want to wrap all `Content` objects with the same rootname you can annotate the `Content` class with the [`JsonRootName`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonRootName.html) annotation and use the [`ObjectWriter#with`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectWriter.html#with-com.fasterxml.jackson.databind.SerializationFeature-) method with the [`SerializationFeature#WRAP_ROOT_VALUE`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/SerializationFeature.html#WRAP_ROOT_VALUE) serialization feature like the example below:\r\n\r\n~~~\r\n@JsonRootName(value = &quot;value&quot;)\r\npublic class Content {\r\n\r\n    @JsonProperty(&quot;content&quot;)\r\n    String content = &quot;my_value&quot;;\r\n}\r\n\r\nContent content = new Content();\r\n//it prints {&quot;value&quot;:{&quot;content&quot;:&quot;my_value&quot;}}\r\nSystem.out.println(mapper.writer()\r\n                         .with(SerializationFeature.WRAP_ROOT_VALUE)\r\n                         .writeValueAsString(content));\r\n~~~\r\n","title":"Is there an easy way to nest fields with jackson json annotations in java?","body":"<p>You can use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectWriter.html#withRootName-com.fasterxml.jackson.databind.PropertyName-\" rel=\"nofollow noreferrer\"><code>ObjectWriter#withRootName</code></a> method to wrap a distinct <code>Content</code> object with a string as a new rootname in the serialization process like the example below:</p>\n<pre><code>public class Content {\n\n    @JsonProperty(&quot;content&quot;)\n    String content = &quot;my_value&quot;;\n}\n\nContent content = new Content();\n//wrapping the Content obj with new rootname &quot;value&quot;\n//it prints {&quot;value&quot;:{&quot;content&quot;:&quot;my_value&quot;}}\nSystem.out.println(mapper.writer()\n                         .withRootName(&quot;value&quot;)\n                         .writeValueAsString(content));\n</code></pre>\n<p>If you want to wrap all <code>Content</code> objects with the same rootname you can annotate the <code>Content</code> class with the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonRootName.html\" rel=\"nofollow noreferrer\"><code>JsonRootName</code></a> annotation and use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectWriter.html#with-com.fasterxml.jackson.databind.SerializationFeature-\" rel=\"nofollow noreferrer\"><code>ObjectWriter#with</code></a> method with the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/SerializationFeature.html#WRAP_ROOT_VALUE\" rel=\"nofollow noreferrer\"><code>SerializationFeature#WRAP_ROOT_VALUE</code></a> serialization feature like the example below:</p>\n<pre><code>@JsonRootName(value = &quot;value&quot;)\npublic class Content {\n\n    @JsonProperty(&quot;content&quot;)\n    String content = &quot;my_value&quot;;\n}\n\nContent content = new Content();\n//it prints {&quot;value&quot;:{&quot;content&quot;:&quot;my_value&quot;}}\nSystem.out.println(mapper.writer()\n                         .with(SerializationFeature.WRAP_ROOT_VALUE)\n                         .writeValueAsString(content));\n</code></pre>\n"}],"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673112365,"creation_date":1673033977,"question_id":75035403,"body_markdown":"I am looking for a way to do something like this without being forced to have to create a new separate object for the &quot;content&quot; value which would just hold a string inside the object.\r\n\r\n```\r\n@JsonNestedProperty(&quot;value.content&quot;)\r\nString value = &quot;my_value&quot;;\r\n```\r\n\r\n```\r\n{\r\n  &quot;value&quot;: {\r\n    &quot;content&quot;: &quot;my_value&quot;\r\n  }\r\n}\r\n```\r\n\r\nCurrently making new objects in order to nest fields\r\n```\r\n@JsonProperty(&quot;value&quot;)\r\nMyContent value;\r\n\r\nclass MyContent {\r\n  @JsonProperty(&quot;content&quot;)\r\n  String content = &quot;my_value&quot;;\r\n}\r\n```","title":"Is there an easy way to nest fields with jackson json annotations in java?","body":"<p>I am looking for a way to do something like this without being forced to have to create a new separate object for the &quot;content&quot; value which would just hold a string inside the object.</p>\n<pre><code>@JsonNestedProperty(&quot;value.content&quot;)\nString value = &quot;my_value&quot;;\n</code></pre>\n<pre><code>{\n  &quot;value&quot;: {\n    &quot;content&quot;: &quot;my_value&quot;\n  }\n}\n</code></pre>\n<p>Currently making new objects in order to nest fields</p>\n<pre><code>@JsonProperty(&quot;value&quot;)\nMyContent value;\n\nclass MyContent {\n  @JsonProperty(&quot;content&quot;)\n  String content = &quot;my_value&quot;;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":16013968,"reputation":756,"user_id":11557234,"display_name":"Nalin Nishant"},"score":0,"creation_date":1673112901,"post_id":75042358,"comment_id":132426929,"body_markdown":"Have you mapped the table properly in your Entity Class through spring annotation??","body":"Have you mapped the table properly in your Entity Class through spring annotation??"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1673115477,"post_id":75042358,"comment_id":132427486,"body_markdown":"If you try to annotate `Participant` class with `MappedSuperclass` instead of `Entity` something changes?","body":"If you try to annotate <code>Participant</code> class with <code>MappedSuperclass</code> instead of <code>Entity</code> something changes?"},{"owner":{"account_id":27247763,"reputation":1,"user_id":20772757,"display_name":"Tip.the.besT"},"score":0,"creation_date":1673153719,"post_id":75042358,"comment_id":132432576,"body_markdown":"Does not give - Many To One attribute type should not be Mapped Superclass","body":"Does not give - Many To One attribute type should not be Mapped Superclass"},{"owner":{"account_id":27247763,"reputation":1,"user_id":20772757,"display_name":"Tip.the.besT"},"score":0,"creation_date":1673165312,"post_id":75042358,"comment_id":132433659,"body_markdown":"Considering that further search by participants is unlikely, I decided to just save this ArrayList in JSON. Everything is working properly. In the end, I came to the conclusion that the problem arises precisely when working with collections. I tried to link them two-way, and put them into different tables and into one, but the result is still negative.","body":"Considering that further search by participants is unlikely, I decided to just save this ArrayList in JSON. Everything is working properly. In the end, I came to the conclusion that the problem arises precisely when working with collections. I tried to link them two-way, and put them into different tables and into one, but the result is still negative."},{"owner":{"account_id":27247763,"reputation":1,"user_id":20772757,"display_name":"Tip.the.besT"},"score":0,"creation_date":1673166257,"post_id":75042358,"comment_id":132433775,"body_markdown":"@dariosicily, you can&#39;t do that with arraylist","body":"@dariosicily, you can&#39;t do that with arraylist"}],"owner":{"account_id":27247763,"reputation":1,"user_id":20772757,"display_name":"Tip.the.besT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673112355,"creation_date":1673112355,"question_id":75042358,"body_markdown":"I can&#39;t save the object to the database.\r\n\r\n```\r\n@Entity\r\npublic abstract class Participant {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;parent_id&quot;, nullable=false)\r\n    private Participant parent;\r\n\r\n    private String surname;\r\n\r\n    private String name;\r\n\r\n    private String patronymic;\r\n\r\n    private String birthday;\r\n\r\n    private String address;\r\n\r\n    private int age;\r\n\r\n....\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;agreements_participant_child&quot;)\r\npublic class ParticipantChild extends Participant{\r\n    private String certSerial;\r\n    private String certNumber;\r\n    private String certIssuedDate;\r\n    private String certIssuedBy;\r\n...\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;agreements_participants&quot;)\r\npublic class Participants {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @OneToOne\r\n    ParticipantAdult mother;\r\n    @OneToOne\r\n    ParticipantAdult father;\r\n    @OneToMany(mappedBy = &quot;id&quot;)\r\n    ArrayList&lt;Participant&gt; children;\r\n\r\n```\r\n\r\nI get an error\r\n\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [org.hibernate.collection.spi.PersistentBag] : `ru.thebestsoft.lawtreaty3.employees.participants.Participants.children` (setter)] with root cause\r\n```\r\n\r\n\r\nI understand that the problem is inheritance from an abstract class and I need to tell hibernate that the class is abstract, but I don&#39;t know how.","title":"Spring boot + hibernate - save a descendant from an abstract object","body":"<p>I can't save the object to the database.</p>\n<pre><code>@Entity\npublic abstract class Participant {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_id&quot;, nullable=false)\n    private Participant parent;\n\n    private String surname;\n\n    private String name;\n\n    private String patronymic;\n\n    private String birthday;\n\n    private String address;\n\n    private int age;\n\n....\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;agreements_participant_child&quot;)\npublic class ParticipantChild extends Participant{\n    private String certSerial;\n    private String certNumber;\n    private String certIssuedDate;\n    private String certIssuedBy;\n...\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;agreements_participants&quot;)\npublic class Participants {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @OneToOne\n    ParticipantAdult mother;\n    @OneToOne\n    ParticipantAdult father;\n    @OneToMany(mappedBy = &quot;id&quot;)\n    ArrayList&lt;Participant&gt; children;\n\n</code></pre>\n<p>I get an error</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [org.hibernate.collection.spi.PersistentBag] : `ru.thebestsoft.lawtreaty3.employees.participants.Participants.children` (setter)] with root cause\n</code></pre>\n<p>I understand that the problem is inheritance from an abstract class and I need to tell hibernate that the class is abstract, but I don't know how.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673110952,"post_id":75042131,"comment_id":132426518,"body_markdown":"You can&#39;t use relative paths for writes in deployed apps. Apps are deployed as jars and you have no means of knowing where that will end up, nor *from where* it will be run. If you need to write data, create a dedicated directory off $user.home","body":"You can&#39;t use relative paths for writes in deployed apps. Apps are deployed as jars and you have no means of knowing where that will end up, nor <i>from where</i> it will be run. If you need to write data, create a dedicated directory off $user.home"},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1673110974,"post_id":75042131,"comment_id":132426528,"body_markdown":"What folder are you in when you run it from `cmd`?","body":"What folder are you in when you run it from <code>cmd</code>?"}],"answers":[{"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673111145,"creation_date":1673111145,"answer_id":75042219,"question_id":75042131,"body_markdown":"If you check your IntelliJ configuration, by clicking at the top where you have the name of the file you are executing, you can click on Edit Configurations, and you will see one of the fields you can configure, called &quot;Working directory&quot;. \r\n\r\nIntelliJ is smart enough to set it to your project folder, outside the `/src` folder, because it is not good practice to write data inside your `/src` folder which should only have source files, unless they are resources you want to commit with your code. \r\n\r\nOn the other hand, when executing it from `cmd`, your working directory is just where you are trying to run the compiled program from. You haven&#39;t specified in which folder you are in when doing so, but most probably you are inside some subfolder that has the classes, which is why you needed to do the `..`. \r\n\r\nIf you package your classes in a `.jar` file, the way IntelliJ made it should work. If you run your `.jar` file with `java -jar myjarfile.jar` and the `./data` folder is at the same level, then it would work.\r\n\r\n","title":"Is the relative path for a java project different for Intellij and cmd?","body":"<p>If you check your IntelliJ configuration, by clicking at the top where you have the name of the file you are executing, you can click on Edit Configurations, and you will see one of the fields you can configure, called &quot;Working directory&quot;.</p>\n<p>IntelliJ is smart enough to set it to your project folder, outside the <code>/src</code> folder, because it is not good practice to write data inside your <code>/src</code> folder which should only have source files, unless they are resources you want to commit with your code.</p>\n<p>On the other hand, when executing it from <code>cmd</code>, your working directory is just where you are trying to run the compiled program from. You haven't specified in which folder you are in when doing so, but most probably you are inside some subfolder that has the classes, which is why you needed to do the <code>..</code>.</p>\n<p>If you package your classes in a <code>.jar</code> file, the way IntelliJ made it should work. If you run your <code>.jar</code> file with <code>java -jar myjarfile.jar</code> and the <code>./data</code> folder is at the same level, then it would work.</p>\n"}],"owner":{"account_id":27462525,"reputation":1,"user_id":20952860,"display_name":"George H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673111145,"creation_date":1673110422,"question_id":75042131,"body_markdown":"I have a java assignment, and at a specific point, we have to create a new folder and write some text files there. The issue is, when testing my code on Intellij, it works fine, but when testing it on cmd, I need to change it a tad bit?\r\n\r\nMy project structure:\r\n\r\n\r\n```\r\n.../project/src/greedycomparisons  // greedycomparisons is the file where I&#39;m creating the dir from\r\n.../projct/data                    // the directory I want to create, to have my text files in\r\n```\r\n\r\nMore specifically:\r\n\r\nI&#39;m trying to create the new subdirectory from a file I have inside my src folder. Therefore, the thing I tried first was: \r\n```\r\nFile directory = new File(&quot;./data/&quot;);\r\nif (!directory.mkdir()) dosth;    // nothing happens on first call\r\n/* making the String I want as my file&#39;s name, say string */\r\nFile file = new File(directory, string);\r\n```\r\nWhich works fine (on Intellij), creating the subdirectory (and the files later on) exactly where I want them to. And then, likewise, I try accessing the files I made there from another file in my src folder, by again using &quot;./data&quot; before the name of the file I was trying to access, which again works as expected on Intellij.\r\n\r\nBut when I tested this on cmd, I need to change the directory name to &quot;../data&quot; in order for the code to work, which in turn *does not work on Intellij* (specifically giving me a &quot;The system could not find the path specified&quot; error) when I change it to that. Given that I have to submit it as an assignment and I don&#39;t want any ambiguity in regards to my files, is there something more &quot;universal&quot; that I can try, so my code works regardless?","title":"Is the relative path for a java project different for Intellij and cmd?","body":"<p>I have a java assignment, and at a specific point, we have to create a new folder and write some text files there. The issue is, when testing my code on Intellij, it works fine, but when testing it on cmd, I need to change it a tad bit?</p>\n<p>My project structure:</p>\n<pre><code>.../project/src/greedycomparisons  // greedycomparisons is the file where I'm creating the dir from\n.../projct/data                    // the directory I want to create, to have my text files in\n</code></pre>\n<p>More specifically:</p>\n<p>I'm trying to create the new subdirectory from a file I have inside my src folder. Therefore, the thing I tried first was:</p>\n<pre><code>File directory = new File(&quot;./data/&quot;);\nif (!directory.mkdir()) dosth;    // nothing happens on first call\n/* making the String I want as my file's name, say string */\nFile file = new File(directory, string);\n</code></pre>\n<p>Which works fine (on Intellij), creating the subdirectory (and the files later on) exactly where I want them to. And then, likewise, I try accessing the files I made there from another file in my src folder, by again using &quot;./data&quot; before the name of the file I was trying to access, which again works as expected on Intellij.</p>\n<p>But when I tested this on cmd, I need to change the directory name to &quot;../data&quot; in order for the code to work, which in turn <em>does not work on Intellij</em> (specifically giving me a &quot;The system could not find the path specified&quot; error) when I change it to that. Given that I have to submit it as an assignment and I don't want any ambiguity in regards to my files, is there something more &quot;universal&quot; that I can try, so my code works regardless?</p>\n"},{"tags":["java","neo4j","cypher"],"comments":[{"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"score":0,"creation_date":1673119821,"post_id":75042160,"comment_id":132428354,"body_markdown":"The only way for it to work is to enable a Bolt connector on top of your running embedded database and connect Neo4j Desktop to it through Bolt.\nSee e.g. https://michael-simons.github.io/neo4j-examples-and-tips/understand_the_type_system.html#using-an-embedded-instance","body":"The only way for it to work is to enable a Bolt connector on top of your running embedded database and connect Neo4j Desktop to it through Bolt. See e.g. <a href=\"https://michael-simons.github.io/neo4j-examples-and-tips/understand_the_type_system.html#using-an-embedded-instance\" rel=\"nofollow noreferrer\">michael-simons.github.io/neo4j-examples-and-tips/&hellip;</a>"}],"owner":{"account_id":22445743,"reputation":13,"user_id":16649693,"display_name":"Doktor_DOOM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673110675,"creation_date":1673110675,"question_id":75042160,"body_markdown":"is there a possibility to import a stored embedded Neo4j DB to the Neo4j desktop Version?\r\nBecause it is easier to see which nodes are a part of my db.  I created new db with the Neo4j desktop version \r\nand i tried to import these embedded db like in this attached picture. It seems not to work. \r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KUFCy.png","title":"Add stored embedded JAVA Neo4j DB to Desktop Neo4j","body":"<p>is there a possibility to import a stored embedded Neo4j DB to the Neo4j desktop Version?\nBecause it is easier to see which nodes are a part of my db.  I created new db with the Neo4j desktop version\nand i tried to import these embedded db like in this attached picture. It seems not to work.</p>\n<p><a href=\"https://i.stack.imgur.com/KUFCy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","hibernate","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673110385,"creation_date":1673110385,"answer_id":75042123,"question_id":75041644,"body_markdown":"Well, looks like the Internet is not ready for new versions of Hibernate 6 and Hibernate Search 6.\r\nTo avoid this error, I had to remove dependency `hibernate-search-mapper-orm` and add this one: `hibernate-search-mapper-orm-orm6`.\r\n\r\nWhen you search maven repository and enter &quot;hibernate search orm&quot;, this one comes up as a 10th result which I didn&#39;t see because 2nd place already did not have search terms I wrote.\r\n\r\nLooks like this one is to be used with Hibernate 6 and - at least for me - it was hard to find.\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-search-mapper-orm-orm6&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Hibernate Search 6 with Hibernate 6","body":"<p>Well, looks like the Internet is not ready for new versions of Hibernate 6 and Hibernate Search 6.\nTo avoid this error, I had to remove dependency <code>hibernate-search-mapper-orm</code> and add this one: <code>hibernate-search-mapper-orm-orm6</code>.</p>\n<p>When you search maven repository and enter &quot;hibernate search orm&quot;, this one comes up as a 10th result which I didn't see because 2nd place already did not have search terms I wrote.</p>\n<p>Looks like this one is to be used with Hibernate 6 and - at least for me - it was hard to find.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-search-mapper-orm-orm6&lt;/artifactId&gt;\n    &lt;version&gt;6.1.7.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673110385,"creation_date":1673106386,"question_id":75041644,"body_markdown":"I&#39;m trying to setup Spring Boot 3.0.1 project from scratch using latest versions. So far I managed to get working mvc and repositories, but while adding Hibernate Search, things won&#39;t work anymore.\r\n\r\nBelow you can see my `pom.xml` file.\r\n\r\nWhen I go to &quot;Dependency Hierarchy&quot; (Eclipse STS), I can find `hibernate-core 5.6.11.Final` embedded with `hibernate-search-mapper-pojo-base 6.1.7.Final`  which is embedded into `hibernate-search-mapper-orm 6.1.7.Final`. Does it mean I have to manually exclude this one and include higher version? Also `hibernate-core 5.6.11.Final` has `hibernate-commons-annotations 5.1.2.Final` embedded. Why is it so complicated? Is there something I&#39;m missing?\r\n\r\nIn the console log I get this:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.hibernate.cfg.annotations.BasicValueBinder.resolveJavaType(BasicValueBinder.java:1002)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;java.lang.reflect.Type org.hibernate.annotations.common.reflection.ReflectionManager.toType(org.hibernate.annotations.common.reflection.XClass)&#39;\r\n\r\nThe calling method&#39;s class, org.hibernate.cfg.annotations.BasicValueBinder, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/Hrvoje/.m2/repository/org/hibernate/orm/hibernate-core/6.1.6.Final/hibernate-core-6.1.6.Final.jar!/org/hibernate/cfg/annotations/BasicValueBinder.class\r\n\r\nThe called method&#39;s class, org.hibernate.annotations.common.reflection.ReflectionManager, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/Hrvoje/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.2.Final/hibernate-commons-annotations-5.1.2.Final.jar!/org/hibernate/annotations/common/reflection/ReflectionManager.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.hibernate.annotations.common.reflection.ReflectionManager: file:/C:/Users/Hrvoje/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.2.Final/hibernate-commons-annotations-5.1.2.Final.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.hibernate.cfg.annotations.BasicValueBinder and org.hibernate.annotations.common.reflection.ReflectionManager\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;net.horvoje&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;TheVegCat2&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;TheVegCat2&lt;/name&gt;\r\n\t&lt;description&gt;The Vegan Catalog II&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;!-- Hibernate Search begin --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-search-mapper-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-search-backend-lucene&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;!-- Hibernate Search end --&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Hibernate Search 6 with Hibernate 6","body":"<p>I'm trying to setup Spring Boot 3.0.1 project from scratch using latest versions. So far I managed to get working mvc and repositories, but while adding Hibernate Search, things won't work anymore.</p>\n<p>Below you can see my <code>pom.xml</code> file.</p>\n<p>When I go to &quot;Dependency Hierarchy&quot; (Eclipse STS), I can find <code>hibernate-core 5.6.11.Final</code> embedded with <code>hibernate-search-mapper-pojo-base 6.1.7.Final</code>  which is embedded into <code>hibernate-search-mapper-orm 6.1.7.Final</code>. Does it mean I have to manually exclude this one and include higher version? Also <code>hibernate-core 5.6.11.Final</code> has <code>hibernate-commons-annotations 5.1.2.Final</code> embedded. Why is it so complicated? Is there something I'm missing?</p>\n<p>In the console log I get this:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.hibernate.cfg.annotations.BasicValueBinder.resolveJavaType(BasicValueBinder.java:1002)\n\nThe following method did not exist:\n\n    'java.lang.reflect.Type org.hibernate.annotations.common.reflection.ReflectionManager.toType(org.hibernate.annotations.common.reflection.XClass)'\n\nThe calling method's class, org.hibernate.cfg.annotations.BasicValueBinder, was loaded from the following location:\n\n    jar:file:/C:/Users/Hrvoje/.m2/repository/org/hibernate/orm/hibernate-core/6.1.6.Final/hibernate-core-6.1.6.Final.jar!/org/hibernate/cfg/annotations/BasicValueBinder.class\n\nThe called method's class, org.hibernate.annotations.common.reflection.ReflectionManager, is available from the following locations:\n\n    jar:file:/C:/Users/Hrvoje/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.2.Final/hibernate-commons-annotations-5.1.2.Final.jar!/org/hibernate/annotations/common/reflection/ReflectionManager.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.hibernate.annotations.common.reflection.ReflectionManager: file:/C:/Users/Hrvoje/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.2.Final/hibernate-commons-annotations-5.1.2.Final.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.hibernate.cfg.annotations.BasicValueBinder and org.hibernate.annotations.common.reflection.ReflectionManager\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;net.horvoje&lt;/groupId&gt;\n    &lt;artifactId&gt;TheVegCat2&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;TheVegCat2&lt;/name&gt;\n    &lt;description&gt;The Vegan Catalog II&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!-- Hibernate Search begin --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-search-mapper-orm&lt;/artifactId&gt;\n            &lt;version&gt;6.1.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-search-backend-lucene&lt;/artifactId&gt;\n            &lt;version&gt;6.1.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!-- Hibernate Search end --&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673110029,"creation_date":1673110029,"answer_id":75042083,"question_id":75041988,"body_markdown":"You should only use named parameters with the actual values you want to pass to the query, not with whole SQL sub-parts. Otherwise it will escape also the valid SQL quotes. \r\n\r\nSo you should change your code to something like this:\r\n\r\n```\r\nprivate String getAdditionalSqlConditions(MapSqlParameterSource namedParameters) {\r\n   namedParameters.add(&quot;name&quot;, &quot;Saman&quot;);\r\n   return &quot;c.name = :name&quot;;\r\n}\r\n```\r\n\r\n```\r\n public List&lt;Contact&gt; findByPhoneWithNamedParameters(String phone) {\r\n    MapSqlParameterSource namedParameters = new MapSqlParameterSource().addValue(&quot;phone&quot;, phone);\r\n    String conditions = getAdditionalSqlConditions(namedParameters);\r\n    String sql = &quot;select * from Contact c where c.phone=:phone and &quot; + conditions);\r\n\r\n    return namedParameterJdbcTemplate.query(sql, namedParameters, new ContactRowMapper());\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"NamedParameterJdbcTemplate substituing values with single quotes","body":"<p>You should only use named parameters with the actual values you want to pass to the query, not with whole SQL sub-parts. Otherwise it will escape also the valid SQL quotes.</p>\n<p>So you should change your code to something like this:</p>\n<pre><code>private String getAdditionalSqlConditions(MapSqlParameterSource namedParameters) {\n   namedParameters.add(&quot;name&quot;, &quot;Saman&quot;);\n   return &quot;c.name = :name&quot;;\n}\n</code></pre>\n<pre><code> public List&lt;Contact&gt; findByPhoneWithNamedParameters(String phone) {\n    MapSqlParameterSource namedParameters = new MapSqlParameterSource().addValue(&quot;phone&quot;, phone);\n    String conditions = getAdditionalSqlConditions(namedParameters);\n    String sql = &quot;select * from Contact c where c.phone=:phone and &quot; + conditions);\n\n    return namedParameterJdbcTemplate.query(sql, namedParameters, new ContactRowMapper());\n}\n</code></pre>\n"}],"owner":{"account_id":5318745,"reputation":721,"user_id":4242765,"accept_rate":30,"display_name":"Ram Kowsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75042083,"answer_count":1,"score":0,"last_activity_date":1673110029,"creation_date":1673109286,"question_id":75041988,"body_markdown":"   \r\n\r\n \r\n\r\n        @Autowired\r\n         NamedParameterJdbcTemplate namedParameterJdbcTemplate;\r\n        \r\n           public List&lt;Contact&gt; findByPhoneWithNamedParameters(String phone) {\r\n                MapSqlParameterSource namedParameters = new \r\n                MapSqlParameterSource().addValue(&quot;phone&quot;, phone);\r\n                String sqlQ = getSqlQuery(namedParameters);\r\n                namedParameters.addValue(&quot;anotherCondition&quot;, sqlQ);\r\n                String sql = &quot;select * from Contact c where c.phone=:phone \r\n     :anotherCondition&quot;;\r\n                return namedParameterJdbcTemplate.query(sql, namedParameters, new ContactRowMapper());\r\n            }\r\n        \r\n            private String getSqlQuery(MapSqlParameterSource namedParameters) {\r\n                return &quot; and c.name=&#39;Saman&#39;&quot;;\r\n            }\r\n\r\nThe above one is generating the query like below:\r\n\r\nselect * from Contact c where c.phone=&#39;09137390432&#39; **&#39; and c.name=&#39;&#39;Saman&#39;&#39;&#39;**\r\n\r\ngetSqlQuery() return value is embeddigng within single quotes, with that query is not working as expected.\r\n\r\nI tried to concatenate the value directyle instead of namedParams;\r\nBut in my case, I have to avoid the SQL Injection.\r\n\r\nHow to resolve this?\r\n","title":"NamedParameterJdbcTemplate substituing values with single quotes","body":"<pre><code>    @Autowired\n     NamedParameterJdbcTemplate namedParameterJdbcTemplate;\n    \n       public List&lt;Contact&gt; findByPhoneWithNamedParameters(String phone) {\n            MapSqlParameterSource namedParameters = new \n            MapSqlParameterSource().addValue(&quot;phone&quot;, phone);\n            String sqlQ = getSqlQuery(namedParameters);\n            namedParameters.addValue(&quot;anotherCondition&quot;, sqlQ);\n            String sql = &quot;select * from Contact c where c.phone=:phone \n :anotherCondition&quot;;\n            return namedParameterJdbcTemplate.query(sql, namedParameters, new ContactRowMapper());\n        }\n    \n        private String getSqlQuery(MapSqlParameterSource namedParameters) {\n            return &quot; and c.name='Saman'&quot;;\n        }\n</code></pre>\n<p>The above one is generating the query like below:</p>\n<p>select * from Contact c where c.phone='09137390432' <strong>' and c.name=''Saman'''</strong></p>\n<p>getSqlQuery() return value is embeddigng within single quotes, with that query is not working as expected.</p>\n<p>I tried to concatenate the value directyle instead of namedParams;\nBut in my case, I have to avoid the SQL Injection.</p>\n<p>How to resolve this?</p>\n"},{"tags":["java","oracle","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673107272,"creation_date":1673107272,"answer_id":75041745,"question_id":75041299,"body_markdown":"Just means that you don&#39;t have a `@Bean` defining the JdbcTemplate, e.g.\r\n\r\n    @Bean\r\n    public JdbcTemplate jdbcTemplate() throws SQLException {\r\n    \tfinal JdbcTemplate template = new JdbcTemplate();\r\n    \ttemplate.setDataSource(dataSource());\r\n    \ttemplate.afterPropertiesSet();\r\n    \treturn template;\r\n    }\r\n\r\n","title":"JdbcTemplate is null in Springboot application using Oracle 10g","body":"<p>Just means that you don't have a <code>@Bean</code> defining the JdbcTemplate, e.g.</p>\n<pre><code>@Bean\npublic JdbcTemplate jdbcTemplate() throws SQLException {\n    final JdbcTemplate template = new JdbcTemplate();\n    template.setDataSource(dataSource());\n    template.afterPropertiesSet();\n    return template;\n}\n</code></pre>\n"}],"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673109891,"creation_date":1673103466,"question_id":75041299,"body_markdown":"Using spring-boot 2.7.2\r\nError - \r\n*java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.query(String, org.springframework.jdbc.core.RowMapper)&quot; because &quot;this.jdbcTemplate&quot; is null*\r\n\r\n```\r\n\r\n@Service\r\npublic class UserServiceImpl implements UserService {\r\n.....\r\n\t@Autowired\r\n    private UserDao userDao;\r\n\r\n}\r\n\r\n@Component\r\npublic class UserDaoImpl implements UserDao {\r\n\t\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n    @Autowired\r\n    public UserDaoImpl(JdbcTemplate jdbcTemplatn) {\r\n        this.jdbcTemplate = jdbcTemplate;\r\n    }\r\n\t\r\n\t@Override\r\n    public  List&lt;AttributeData&gt; getAttributes() {\r\n        String query = &quot;select attributeid, ....&quot;;\r\n        List&lt;AttributeData&gt; attributes = jdbcTemplate.query(query, new AttributeMapper());\r\n        return attributes;\r\n    }\r\n}\r\n\r\napplication.properties :\r\n# Oracle db related\r\nspring.datasource.url=jdbc:oracle:thin:@localhost....\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n\r\n# JPA related\r\noracle.jpa.properties.hibernate.dialect=org.hibernate.dialect.Oracle10gDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=none\r\n\r\n```\r\n","title":"JdbcTemplate is null in Springboot application using Oracle 10g","body":"<p>Using spring-boot 2.7.2\nError -\n<em>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.query(String, org.springframework.jdbc.core.RowMapper)&quot; because &quot;this.jdbcTemplate&quot; is null</em></p>\n<pre><code>\n@Service\npublic class UserServiceImpl implements UserService {\n.....\n    @Autowired\n    private UserDao userDao;\n\n}\n\n@Component\npublic class UserDaoImpl implements UserDao {\n    \n    private JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    public UserDaoImpl(JdbcTemplate jdbcTemplatn) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n    \n    @Override\n    public  List&lt;AttributeData&gt; getAttributes() {\n        String query = &quot;select attributeid, ....&quot;;\n        List&lt;AttributeData&gt; attributes = jdbcTemplate.query(query, new AttributeMapper());\n        return attributes;\n    }\n}\n\napplication.properties :\n# Oracle db related\nspring.datasource.url=jdbc:oracle:thin:@localhost....\nspring.datasource.username=\nspring.datasource.password=\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n\n# JPA related\noracle.jpa.properties.hibernate.dialect=org.hibernate.dialect.Oracle10gDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=none\n\n</code></pre>\n"},{"tags":["java","servlets","jmockit"],"comments":[{"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"score":0,"creation_date":1687636341,"post_id":75042049,"comment_id":134965470,"body_markdown":"SO is not a place to get answers to homework, but you can get homework-help.  Show us what you tried.","body":"SO is not a place to get answers to homework, but you can get homework-help.  Show us what you tried."}],"owner":{"account_id":22218863,"reputation":1,"user_id":16456881,"display_name":"Patrik Schumann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673109818,"creation_date":1673109818,"question_id":75042049,"body_markdown":"i am new to Servlets and testing. I have to get the Code Coverage up for my University Project but it seems like i cant get an idea of how and where to start. Our Prof. gave us Code we need to Cover with tests,  can anybody give me a hint where to start ?\r\n\r\n```\r\npublic void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        PrintWriter out = response.getWriter();\r\n        String cmd = request.getParameter(&quot;cmd&quot;);\r\n        System.out.println( cmd + &quot; requested: &quot; + request.getQueryString());\r\n        switch ( cmd ){\r\n            case &quot;config&quot;:\r\n                // Overwrite Parkhaus config parameters\r\n                // Max, open_from, open_to, delay, simulation_speed\r\n                out.println( config() );\r\n                break;\r\n            case &quot;sum&quot;:\r\n                // ToDo: insert algorithm for calculating sum here\r\n                out.println( &quot;sum = server side calculated sum&quot; );\r\n                break;\r\n            case &quot;avg&quot;:\r\n                // ToDo\r\n                break;\r\n            case &quot;min&quot;:\r\n                // ToDo: insert algorithm for calculating min here\r\n                out.println( &quot;min = server side calculated min&quot; );\r\n                break;\r\n            case &quot;max&quot;:\r\n                // ToDo: insert algorithm for calculating max here\r\n                out.println( &quot;max = server side calculated max&quot; );\r\n                break;\r\n            case &quot;cars&quot;:\r\n                // TODO: Send list of cars stored on the server to the client.\r\n                // Cars are separated by comma.\r\n                // Values of a single car are separated by slash.\r\n                // Format: Nr, timer begin, duration, price, Ticket, color, space, client category, vehicle type, license (PKW Kennzeichen)\r\n                // For example:\r\n                // TODO replace by real list of cars\r\n                // out.println(&quot;1/1648465400000/_/_/Ticket1/#0d1e0a/2/any/PKW/1,2/1648465499999/_/_/Ticket2/#dd10aa/3/any/PKW/2&quot;);\r\n                break;\r\n            case &quot;chart&quot;:\r\n                // TODO send chart infos as JSON object to client\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Invalid Command: &quot; + request.getQueryString());\r\n        }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried different things with Jmockit but didn&#39;t get really far","title":"Testing Servlets with Jmockit","body":"<p>i am new to Servlets and testing. I have to get the Code Coverage up for my University Project but it seems like i cant get an idea of how and where to start. Our Prof. gave us Code we need to Cover with tests,  can anybody give me a hint where to start ?</p>\n<pre><code>public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/html&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n        PrintWriter out = response.getWriter();\n        String cmd = request.getParameter(&quot;cmd&quot;);\n        System.out.println( cmd + &quot; requested: &quot; + request.getQueryString());\n        switch ( cmd ){\n            case &quot;config&quot;:\n                // Overwrite Parkhaus config parameters\n                // Max, open_from, open_to, delay, simulation_speed\n                out.println( config() );\n                break;\n            case &quot;sum&quot;:\n                // ToDo: insert algorithm for calculating sum here\n                out.println( &quot;sum = server side calculated sum&quot; );\n                break;\n            case &quot;avg&quot;:\n                // ToDo\n                break;\n            case &quot;min&quot;:\n                // ToDo: insert algorithm for calculating min here\n                out.println( &quot;min = server side calculated min&quot; );\n                break;\n            case &quot;max&quot;:\n                // ToDo: insert algorithm for calculating max here\n                out.println( &quot;max = server side calculated max&quot; );\n                break;\n            case &quot;cars&quot;:\n                // TODO: Send list of cars stored on the server to the client.\n                // Cars are separated by comma.\n                // Values of a single car are separated by slash.\n                // Format: Nr, timer begin, duration, price, Ticket, color, space, client category, vehicle type, license (PKW Kennzeichen)\n                // For example:\n                // TODO replace by real list of cars\n                // out.println(&quot;1/1648465400000/_/_/Ticket1/#0d1e0a/2/any/PKW/1,2/1648465499999/_/_/Ticket2/#dd10aa/3/any/PKW/2&quot;);\n                break;\n            case &quot;chart&quot;:\n                // TODO send chart infos as JSON object to client\n                break;\n            default:\n                System.out.println(&quot;Invalid Command: &quot; + request.getQueryString());\n        }\n\n</code></pre>\n<p>I tried different things with Jmockit but didn't get really far</p>\n"},{"tags":["java","swing","vlcj"],"comments":[{"owner":{"account_id":63657,"reputation":53419,"user_id":188331,"accept_rate":85,"display_name":"Raptor"},"score":0,"creation_date":1409730082,"post_id":25638820,"comment_id":40059365,"body_markdown":"Can you clarify your question &amp; share codes ?","body":"Can you clarify your question &amp; share codes ?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1409730364,"post_id":25638820,"comment_id":40059513,"body_markdown":"Consider providing a [runnable example](https://stackoverflow.com/help/mcve) which demonstrates your problem. This will result in less confusion and better responses","body":"Consider providing a <a href=\"https://stackoverflow.com/help/mcve\">runnable example</a> which demonstrates your problem. This will result in less confusion and better responses"},{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1409730623,"post_id":25638820,"comment_id":40059640,"body_markdown":"This looks related to: http://stackoverflow.com/questions/13571726/cant-load-libgdx-desktop-app-on-mac-osx which implies that the lwgl library that is being used in jvlc isn&#39;t compatible with java 7 (or newer) on OSX.","body":"This looks related to: <a href=\"http://stackoverflow.com/questions/13571726/cant-load-libgdx-desktop-app-on-mac-osx\" title=\"cant load libgdx desktop app on mac osx\">stackoverflow.com/questions/13571726/&hellip;</a> which implies that the lwgl library that is being used in jvlc isn&#39;t compatible with java 7 (or newer) on OSX."}],"answers":[{"tags":[],"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1508997903,"creation_date":1409768884,"answer_id":25651219,"question_id":25638820,"body_markdown":"vlcj/LibVLC requires a heavyweight AWT component to render its video.\r\n\r\nThere is no longer any AWT in JDK 1.7 and later on OSX. The UI toolkit on OSX is now fully lightweight.\r\n\r\nSo the optimal way of using vlcj on OSX no longer works.\r\n\r\nWhat you have to do is use the so-called [&quot;direct&quot; media player \\[1\\]][1] rather than the &quot;embedded&quot; one.\r\n\r\nThe downside to using the direct media player is that you have to render the video yourself somehow, using a BufferedImage, a hardware accelerated volatile image, a PixelWriter or something else.\r\n\r\nThis approach typically uses more memory and more CPU, and is a bit more inconvenient.\r\n\r\nOn the plus side, it is possible to achieve smooth HD video playback using this method.\r\n\r\nAlso on the plus side, you can process the video buffer in some way if you want, and easily overlay lightweight widgets/labels on top of the video using this approach.\r\n\r\nThere is an example provided in the vlcj test sources that shows one way how to do this (there is too much code to reproduce here so I&#39;ll provide [a stable link \\[2\\]][2]).\r\n\r\nThere is also a long discussion in the [project issue tracker \\[3\\]][3] on this subject.\r\n\r\n\\[1\\] http://caprica.github.io/vlcj/javadoc/3.0.0/uk/co/caprica/vlcj/player/direct/DirectMediaPlayer.html\r\n\r\n\\[2\\] https://github.com/caprica/vlcj/blob/vlcj-3.0.1/src/test/java/uk/co/caprica/vlcj/test/direct/DirectTestPlayer.java\r\n\r\n\\[3\\] https://github.com/caprica/vlcj/issues/205\r\n\r\nAmazingly there&#39;s a potential, though clearly sub-optimal, solution which is to use a Windows 1.7/1.8 JVM on OSX using Wine. I have not tried it but I have been told it works.\r\n\r\n\r\n  [1]: http://caprica.github.io/vlcj/javadoc/3.0.0/uk/co/caprica/vlcj/player/direct/DirectMediaPlayer.html\r\n  [2]: https://github.com/caprica/vlcj/blob/vlcj-3.0.1/src/test/java/uk/co/caprica/vlcj/test/direct/DirectTestPlayer.java\r\n  [3]: https://github.com/caprica/vlcj/issues/205","title":"mac os jdk 1.8 problems vlc control JAWT not load","body":"<p>vlcj/LibVLC requires a heavyweight AWT component to render its video.</p>\n\n<p>There is no longer any AWT in JDK 1.7 and later on OSX. The UI toolkit on OSX is now fully lightweight.</p>\n\n<p>So the optimal way of using vlcj on OSX no longer works.</p>\n\n<p>What you have to do is use the so-called <a href=\"http://caprica.github.io/vlcj/javadoc/3.0.0/uk/co/caprica/vlcj/player/direct/DirectMediaPlayer.html\" rel=\"nofollow noreferrer\">\"direct\" media player [1]</a> rather than the \"embedded\" one.</p>\n\n<p>The downside to using the direct media player is that you have to render the video yourself somehow, using a BufferedImage, a hardware accelerated volatile image, a PixelWriter or something else.</p>\n\n<p>This approach typically uses more memory and more CPU, and is a bit more inconvenient.</p>\n\n<p>On the plus side, it is possible to achieve smooth HD video playback using this method.</p>\n\n<p>Also on the plus side, you can process the video buffer in some way if you want, and easily overlay lightweight widgets/labels on top of the video using this approach.</p>\n\n<p>There is an example provided in the vlcj test sources that shows one way how to do this (there is too much code to reproduce here so I'll provide <a href=\"https://github.com/caprica/vlcj/blob/vlcj-3.0.1/src/test/java/uk/co/caprica/vlcj/test/direct/DirectTestPlayer.java\" rel=\"nofollow noreferrer\">a stable link [2]</a>).</p>\n\n<p>There is also a long discussion in the <a href=\"https://github.com/caprica/vlcj/issues/205\" rel=\"nofollow noreferrer\">project issue tracker [3]</a> on this subject.</p>\n\n<p>[1] <a href=\"http://caprica.github.io/vlcj/javadoc/3.0.0/uk/co/caprica/vlcj/player/direct/DirectMediaPlayer.html\" rel=\"nofollow noreferrer\">http://caprica.github.io/vlcj/javadoc/3.0.0/uk/co/caprica/vlcj/player/direct/DirectMediaPlayer.html</a></p>\n\n<p>[2] <a href=\"https://github.com/caprica/vlcj/blob/vlcj-3.0.1/src/test/java/uk/co/caprica/vlcj/test/direct/DirectTestPlayer.java\" rel=\"nofollow noreferrer\">https://github.com/caprica/vlcj/blob/vlcj-3.0.1/src/test/java/uk/co/caprica/vlcj/test/direct/DirectTestPlayer.java</a></p>\n\n<p>[3] <a href=\"https://github.com/caprica/vlcj/issues/205\" rel=\"nofollow noreferrer\">https://github.com/caprica/vlcj/issues/205</a></p>\n\n<p>Amazingly there's a potential, though clearly sub-optimal, solution which is to use a Windows 1.7/1.8 JVM on OSX using Wine. I have not tried it but I have been told it works.</p>\n"},{"tags":[],"owner":{"account_id":9483125,"reputation":1,"user_id":7050335,"display_name":"nolife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673109702,"creation_date":1673109702,"answer_id":75042041,"question_id":25638820,"body_markdown":"I am few years late with my answer but it may help. You should use CallbackMediaPlayerComponent instead of EmbeddedMediaPlayerComponent. [Source link](https://capricasoftware.co.uk/projects/vlcj-4/tutorials/direct-rendering) has the working code you can copy/paste and view MP4 with video and sound on OSX, Java 19, VLCJ 4.8.1.\r\n\r\n","title":"mac os jdk 1.8 problems vlc control JAWT not load","body":"<p>I am few years late with my answer but it may help. You should use CallbackMediaPlayerComponent instead of EmbeddedMediaPlayerComponent. <a href=\"https://capricasoftware.co.uk/projects/vlcj-4/tutorials/direct-rendering\" rel=\"nofollow noreferrer\">Source link</a> has the working code you can copy/paste and view MP4 with video and sound on OSX, Java 19, VLCJ 4.8.1.</p>\n"}],"owner":{"account_id":2194935,"reputation":31,"user_id":1940894,"display_name":"viral chauhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1453,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673109702,"creation_date":1409729962,"question_id":25638820,"body_markdown":"    JavaVM WARNING: JAWT_GetAWT must be called after loading a JVM\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load JAWT\r\n    \tat com.sun.jna.Native.getWindowHandle0(Native Method)\r\n    \tat com.sun.jna.Native$AWT.getComponentID(Native.java:1879)\r\n    \tat com.sun.jna.Native.getComponentID(Native.java:253)\r\n    \tat uk.co.caprica.vlcj.player.embedded.videosurface.CanvasVideoSurface.attach(CanvasVideoSurface.java:69)\r\n    \tat uk.co.caprica.vlcj.player.embedded.DefaultEmbeddedMediaPlayer.attachVideoSurface(DefaultEmbeddedMediaPlayer.java:156)\r\n    \tat uk.co.caprica.vlcj.player.embedded.DefaultEmbeddedMediaPlayer.onBeforePlay(DefaultEmbeddedMediaPlayer.java:315)\r\n    \tat uk.co.caprica.vlcj.player.DefaultMediaPlayer.play(DefaultMediaPlayer.java:705)\r\n    \tat uk.co.caprica.vlcj.player.DefaultMediaPlayer.playMedia(DefaultMediaPlayer.java:222)\r\n    \tat viziosecure360.Travizia.AddPlayer(Travizia.java:675)\r\n    \tat viziosecure360.Travizia.setDefault(Travizia.java:234)\r\n    \tat viziosecure360.Travizia$1.run(Travizia.java:187)\r\n    \tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:744)\r\n    \tat java.awt.EventQueue.access$400(EventQueue.java:97)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:697)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:691)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:714)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n\r\n","title":"mac os jdk 1.8 problems vlc control JAWT not load","body":"<pre><code>JavaVM WARNING: JAWT_GetAWT must be called after loading a JVM\nException in thread \"AWT-EventQueue-0\" java.lang.UnsatisfiedLinkError: Can't load JAWT\n    at com.sun.jna.Native.getWindowHandle0(Native Method)\n    at com.sun.jna.Native$AWT.getComponentID(Native.java:1879)\n    at com.sun.jna.Native.getComponentID(Native.java:253)\n    at uk.co.caprica.vlcj.player.embedded.videosurface.CanvasVideoSurface.attach(CanvasVideoSurface.java:69)\n    at uk.co.caprica.vlcj.player.embedded.DefaultEmbeddedMediaPlayer.attachVideoSurface(DefaultEmbeddedMediaPlayer.java:156)\n    at uk.co.caprica.vlcj.player.embedded.DefaultEmbeddedMediaPlayer.onBeforePlay(DefaultEmbeddedMediaPlayer.java:315)\n    at uk.co.caprica.vlcj.player.DefaultMediaPlayer.play(DefaultMediaPlayer.java:705)\n    at uk.co.caprica.vlcj.player.DefaultMediaPlayer.playMedia(DefaultMediaPlayer.java:222)\n    at viziosecure360.Travizia.AddPlayer(Travizia.java:675)\n    at viziosecure360.Travizia.setDefault(Travizia.java:234)\n    at viziosecure360.Travizia$1.run(Travizia.java:187)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:744)\n    at java.awt.EventQueue.access$400(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:697)\n    at java.awt.EventQueue$3.run(EventQueue.java:691)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:714)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n"},{"tags":["java","apache-spark","logging"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1672495363,"post_id":74969966,"comment_id":132298639,"body_markdown":"The warning isn&#39;t coming from spark or the logger, but directly from the JVM. It is directly printed to the console and does not use a logger. Thus, reconfiguring the logger won&#39;t help.","body":"The warning isn&#39;t coming from spark or the logger, but directly from the JVM. It is directly printed to the console and does not use a logger. Thus, reconfiguring the logger won&#39;t help."},{"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"score":1,"creation_date":1672495464,"post_id":74969966,"comment_id":132298656,"body_markdown":"I see, did not think about that since it was printed only when I was using spark.","body":"I see, did not think about that since it was printed only when I was using spark."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1672495676,"post_id":74969966,"comment_id":132298696,"body_markdown":"The &quot;proper way&quot; would be to fix the reflective behaviour in spark. There is [this issue](https://issues.apache.org/jira/browse/SPARK-34095) that seems to be exactly what you observe.","body":"The &quot;proper way&quot; would be to fix the reflective behaviour in spark. There is <a href=\"https://issues.apache.org/jira/browse/SPARK-34095\" rel=\"nofollow noreferrer\">this issue</a> that seems to be exactly what you observe."},{"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"score":2,"creation_date":1672496462,"post_id":74969966,"comment_id":132298841,"body_markdown":"[Here](https://stackoverflow.com/questions/70660419/apache-spark-running-with-warnings-with-illegal-reflective-access-by-org-apache) it is suggested to run with Java 8, to avoid these messeges. However, [this](https://www.baeldung.com/java-illegal-reflective-access) states that &quot;Since Java 17, the –illegal-access option is entirely removed.&quot;. I am using Java 11. I will try and run the project with a different version of Java and see if it helps.","body":"<a href=\"https://stackoverflow.com/questions/70660419/apache-spark-running-with-warnings-with-illegal-reflective-access-by-org-apache\">Here</a> it is suggested to run with Java 8, to avoid these messeges. However, <a href=\"https://www.baeldung.com/java-illegal-reflective-access\" rel=\"nofollow noreferrer\">this</a> states that &quot;Since Java 17, the –illegal-access option is entirely removed.&quot;. I am using Java 11. I will try and run the project with a different version of Java and see if it helps."}],"answers":[{"tags":[],"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673108771,"creation_date":1672497028,"answer_id":74970168,"question_id":74969966,"body_markdown":"\r\n[Here](https://stackoverflow.com/questions/70660419/apache-spark-running-with-warnings-with-illegal-reflective-access-by-org-apache) it is suggested to run with Java 8, to avoid these messeges. However, [this](https://www.baeldung.com/java-illegal-reflective-access) states that &quot;Since Java 17, the –illegal-access option is entirely removed&quot;.\r\n\r\nI switched to Java 17. The below line did the magic:\r\n`Logger.getRootLogger().setLevel(Level.toLevel(&quot;ERROR&quot;));` ","title":"Suppress Spark Java API warnings","body":"<p><a href=\"https://stackoverflow.com/questions/70660419/apache-spark-running-with-warnings-with-illegal-reflective-access-by-org-apache\">Here</a> it is suggested to run with Java 8, to avoid these messeges. However, <a href=\"https://www.baeldung.com/java-illegal-reflective-access\" rel=\"nofollow noreferrer\">this</a> states that &quot;Since Java 17, the –illegal-access option is entirely removed&quot;.</p>\n<p>I switched to Java 17. The below line did the magic:\n<code>Logger.getRootLogger().setLevel(Level.toLevel(&quot;ERROR&quot;));</code></p>\n"}],"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74970168,"answer_count":1,"score":0,"last_activity_date":1673108771,"creation_date":1672494604,"question_id":74969966,"body_markdown":"I am using Spark Java API in my thesis project. Since I need to print a lot of results in the console, I am trying to suppress all spark related INFO logging. I am working the project both locally (for debugging etc.) and remotely on a cluster. I managed to turn off most of them using the below sample configuration. \r\n\r\n```\r\nLogger.getLogger(&quot;org&quot;).setLevel(Level.OFF);\r\nLogger.getLogger(&quot;akka&quot;).setLevel(Level.OFF);\r\n\r\nfinal SparkConf sparkConf = new SparkConf().setAppName(&quot;WordCount&quot;).setMaster(&quot;local[16]&quot;);\r\nfinal JavaSparkContext ctx = new JavaSparkContext(sparkConf);\r\n\r\nctx.setLogLevel(&quot;ERROR&quot;);\r\n```\r\nHowever, I am still getting WARNINGS every time I initialize a spark context, which can be disorienting at times. Below I am giving a sample of the console output:\r\n```none\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/C:/Users/SKIKK/.m2/repository/org/apache/spark/spark-unsafe_2.12/3.2.2/spark-unsafe_2.12-3.2.2.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nUsing Spark&#39;s default log4j profile: org/apache/spark/log4j-defaults.properties\r\n```\r\n\r\nI tried different suggestions in the forum; however, I was unable to find a working solution.\r\n","title":"Suppress Spark Java API warnings","body":"<p>I am using Spark Java API in my thesis project. Since I need to print a lot of results in the console, I am trying to suppress all spark related INFO logging. I am working the project both locally (for debugging etc.) and remotely on a cluster. I managed to turn off most of them using the below sample configuration.</p>\n<pre><code>Logger.getLogger(&quot;org&quot;).setLevel(Level.OFF);\nLogger.getLogger(&quot;akka&quot;).setLevel(Level.OFF);\n\nfinal SparkConf sparkConf = new SparkConf().setAppName(&quot;WordCount&quot;).setMaster(&quot;local[16]&quot;);\nfinal JavaSparkContext ctx = new JavaSparkContext(sparkConf);\n\nctx.setLogLevel(&quot;ERROR&quot;);\n</code></pre>\n<p>However, I am still getting WARNINGS every time I initialize a spark context, which can be disorienting at times. Below I am giving a sample of the console output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/C:/Users/SKIKK/.m2/repository/org/apache/spark/spark-unsafe_2.12/3.2.2/spark-unsafe_2.12-3.2.2.jar) to constructor java.nio.DirectByteBuffer(long,int)\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\n</code></pre>\n<p>I tried different suggestions in the forum; however, I was unable to find a working solution.</p>\n"},{"tags":["java","spring","yaml","profile"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672997894,"post_id":75028845,"comment_id":132403350,"body_markdown":"I assume you have them as `spring.profiles.group.local ... `, right? And it should go in `application.yaml`","body":"I assume you have them as <code>spring.profiles.group.local ... </code>, right? And it should go in <code>application.yaml</code>"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672998012,"post_id":75028845,"comment_id":132403379,"body_markdown":"also, iirc, that `local` is a _list_, so something like : `spring.profiles.group.local: - debuglogin`  (and all others defined as a list)","body":"also, iirc, that <code>local</code> is a <i>list</i>, so something like : <code>spring.profiles.group.local: - debuglogin</code>  (and all others defined as a list)"},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1672999068,"post_id":75028845,"comment_id":132403717,"body_markdown":"it should work locally. so the application-local.yml should be loaded. I&#39;ve also tried different variants, with spring.profiles.group.local: - debuglogin...spring.profiles.group.local: - &quot;debuglogin&quot;... and so on","body":"it should work locally. so the application-local.yml should be loaded. I&#39;ve also tried different variants, with spring.profiles.group.local: - debuglogin...spring.profiles.group.local: - &quot;debuglogin&quot;... and so on"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672999173,"post_id":75028845,"comment_id":132403750,"body_markdown":"and local is an active profile? this is visible in spring logs","body":"and local is an active profile? this is visible in spring logs"},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1672999332,"post_id":75028845,"comment_id":132403810,"body_markdown":"yes local is active..but the other ones do not get activated","body":"yes local is active..but the other ones do not get activated"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672999545,"post_id":75028845,"comment_id":132403884,"body_markdown":"can you provide a minimal reproducible example? like a github repo?","body":"can you provide a minimal reproducible example? like a github repo?"},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1673090640,"post_id":75028845,"comment_id":132422437,"body_markdown":"yes: https://github.com/Ciag2/spring-boot-3-profiles-test.git","body":"yes: <a href=\"https://github.com/Ciag2/spring-boot-3-profiles-test.git\" rel=\"nofollow noreferrer\">github.com/Ciag2/spring-boot-3-profiles-test.git</a>"},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1673090719,"post_id":75028845,"comment_id":132422453,"body_markdown":"i&#39;ve added an application-local.yml. If you start the app with profile local it should load the other profiles as well. in the spring logs only local is active.","body":"i&#39;ve added an application-local.yml. If you start the app with profile local it should load the other profiles as well. in the spring logs only local is active."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1673091008,"post_id":75028845,"comment_id":132422516,"body_markdown":"I don&#39;t see `debuglogin` being defined anywhere though","body":"I don&#39;t see <code>debuglogin</code> being defined anywhere though"},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1673102211,"post_id":75028845,"comment_id":132424565,"body_markdown":"it&#39;s defined in the application-local.yml: https://github.com/Ciag2/spring-boot-3-profiles-test/blob/main/gs-spring-boot-main/complete/src/main/java/application-local.yml","body":"it&#39;s defined in the application-local.yml: <a href=\"https://github.com/Ciag2/spring-boot-3-profiles-test/blob/main/gs-spring-boot-main/complete/src/main/java/application-local.yml\" rel=\"nofollow noreferrer\">github.com/Ciag2/spring-boot-3-profiles-test/blob/main/&hellip;</a>"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1673102354,"post_id":75028845,"comment_id":132424594,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250925/discussion-between-eugene-and-wash).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250925/discussion-between-eugene-and-wash\">continue this discussion in chat</a>."},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1673102651,"post_id":75028845,"comment_id":132424665,"body_markdown":"the current documentation is saying to use profile groups, which i did: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles.groups","body":"the current documentation is saying to use profile groups, which i did: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles.groups\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673105431,"creation_date":1673105431,"answer_id":75041518,"question_id":75028845,"body_markdown":"I&#39;ve just found the issue. I was adding this code block in the profile specific file like application-local.yml instead it should be added in the application.yml:\r\n\r\n    spring:\r\n      profiles:\r\n        group:\r\n          local: debuglogin, profile_a\r\n          integration-test: debuglogin, profile_b\r\n\r\nthis should work if added in the application.yml but not in profile specific files.","title":"Profile Groups in Spring Boot 3 not working","body":"<p>I've just found the issue. I was adding this code block in the profile specific file like application-local.yml instead it should be added in the application.yml:</p>\n<pre><code>spring:\n  profiles:\n    group:\n      local: debuglogin, profile_a\n      integration-test: debuglogin, profile_b\n</code></pre>\n<p>this should work if added in the application.yml but not in profile specific files.</p>\n"}],"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673108672,"creation_date":1672995675,"question_id":75028845,"body_markdown":"After the migration to Spring Boot 3 it&#39;s not possible to activate multiple profiles in profile specific files. Instead Profile Groups should be used.\r\n\r\nUnfortunately I can&#39;t get them to work, here is the snippet from my yml config:\r\n\r\n    spring:      \r\n        profiles:\r\n              group:\r\n                local: debuglogin, profile_a, profile_b, profile_c\r\n\r\nI have tried this in `application-local.yml`. Did anyone had the same experience?\r\n\r\n","title":"Profile Groups in Spring Boot 3 not working","body":"<p>After the migration to Spring Boot 3 it's not possible to activate multiple profiles in profile specific files. Instead Profile Groups should be used.</p>\n<p>Unfortunately I can't get them to work, here is the snippet from my yml config:</p>\n<pre><code>spring:      \n    profiles:\n          group:\n            local: debuglogin, profile_a, profile_b, profile_c\n</code></pre>\n<p>I have tried this in <code>application-local.yml</code>. Did anyone had the same experience?</p>\n"},{"tags":["java","json","serialization","jackson","deserialization"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1673093862,"post_id":75040032,"comment_id":132422967,"body_markdown":"Jackson by default tries to serialize dates, times, etc. as timestamps, even if you have registered the `JavaTimeModule` or added other similar configuration. You need to explicitly disable that. In this case, you need to disable SerializationFeature.WRITE_DURATIONS_AS_TIMESTAMPS, but I suggest to also disable SerializationFeature.WRITE_DATES_AS_TIMESTAMPS.","body":"Jackson by default tries to serialize dates, times, etc. as timestamps, even if you have registered the <code>JavaTimeModule</code> or added other similar configuration. You need to explicitly disable that. In this case, you need to disable SerializationFeature.WRITE_DURATIONS_AS_TIMESTAMPS, but I suggest to also disable SerializationFeature.WRITE_DATES_AS_TIMESTAMPS."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673094172,"post_id":75040032,"comment_id":132423025,"body_markdown":"@citizen_code what result do you expect when duration is negative or exceeds 24 hours?","body":"@citizen_code what result do you expect when duration is negative or exceeds 24 hours?"},{"owner":{"account_id":27429974,"reputation":101,"user_id":20926873,"display_name":"citizen_code"},"score":0,"creation_date":1673112090,"post_id":75040032,"comment_id":132426765,"body_markdown":"Good points. @RobSpoor disabeling the TIMESTAMPS feature just left me with the default textual representation `&quot;PT1H11M&quot;`. @Andrey as negative durations make no sense in this context only positive durations should be allowed. Durations above 1 day should be still represented as hh:mm, but I guess that isn&#39;t how DateTimeFormatter is able to function?!","body":"Good points. @RobSpoor disabeling the TIMESTAMPS feature just left me with the default textual representation <code>&quot;PT1H11M&quot;</code>. @Andrey as negative durations make no sense in this context only positive durations should be allowed. Durations above 1 day should be still represented as hh:mm, but I guess that isn&#39;t how DateTimeFormatter is able to function?!"}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673108211,"creation_date":1673108211,"answer_id":75041865,"question_id":75040032,"body_markdown":"`hh:mm` format is not supported by `Jackson` since `Java` does not recognise it by default. We need to customise serialisation/deserialisation mechanism and provide custom implementation. \r\n\r\nTake a look at:\r\n\r\n - [How to format a duration in java? (e.g format H:MM:SS)][1]\r\n - [Format a Milliseconds Duration to HH:MM:SS][2]\r\n\r\nUsing some examples from linked articles I have created custom serialiser and deserialiser. They do not handle all possible cases but should do the trick for your requirements:\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.BeanProperty;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport com.fasterxml.jackson.datatype.jsr310.deser.DurationDeserializer;\r\nimport com.fasterxml.jackson.datatype.jsr310.ser.DurationSerializer;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.apache.commons.lang3.time.DurationFormatUtils;\r\n\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.time.LocalTime;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class DurationApp {\r\n\tpublic static void main(String[] args) throws JsonProcessingException {\r\n\t\tLocalTime startTime = LocalTime.of(13, 30);\r\n\t\tLocalTime endTime = LocalTime.of(14, 41);\r\n\r\n\t\tBook firstBook = new Book(Duration.between(startTime, endTime));\r\n\r\n\t\t// create the mapper, add the java8 time support module and enable pretty parsing\r\n\t\tObjectMapper objectMapper = JsonMapper.builder()\r\n\t\t\t\t.addModule(new JavaTimeModule())\r\n\t\t\t\t.addModule(new SimpleModule()\r\n\t\t\t\t\t\t.addSerializer(Duration.class, new ApacheDurationSerializer())\r\n\t\t\t\t\t\t.addDeserializer(Duration.class, new ApacheDurationDeserializer()))\r\n\t\t\t\t.build()\r\n\t\t\t\t.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n\t\tString json = objectMapper.writeValueAsString(firstBook);\r\n\t\tSystem.out.println(json);\r\n\t\tBook deserialisedBook = objectMapper.readValue(json, Book.class);\r\n\t\tSystem.out.println(deserialisedBook);\r\n\t}\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\nclass Book {\r\n\t@JsonFormat(pattern = &quot;HH:mm&quot;)\r\n\tprivate Duration duration;\r\n}\r\n\r\n\r\nclass ApacheDurationSerializer extends DurationSerializer {\r\n\r\n\tprivate final String apachePattern;\r\n\r\n\tpublic ApacheDurationSerializer() {\r\n\t\tthis(null);\r\n\t}\r\n\r\n\tApacheDurationSerializer(String apachePattern) {\r\n\t\tthis.apachePattern = apachePattern;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void serialize(Duration duration, JsonGenerator generator, SerializerProvider provider) throws IOException {\r\n\t\tif (Objects.nonNull(apachePattern) &amp;&amp; Objects.nonNull(duration)) {\r\n\t\t\tString value = DurationFormatUtils.formatDuration(duration.toMillis(), apachePattern);\r\n\r\n\t\t\tgenerator.writeString(value);\r\n\t\t} else {\r\n\t\t\tsuper.serialize(duration, generator, provider);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property) throws JsonMappingException {\r\n\t\tJsonFormat.Value format = findFormatOverrides(prov, property, handledType());\r\n\t\tif (format != null &amp;&amp; format.hasPattern() &amp;&amp; isApacheDurationPattern(format.getPattern())) {\r\n\t\t\treturn new ApacheDurationSerializer(format.getPattern());\r\n\t\t}\r\n\r\n\t\treturn super.createContextual(prov, property);\r\n\t}\r\n\r\n\tprivate boolean isApacheDurationPattern(String pattern) {\r\n\t\ttry {\r\n\t\t\tDurationFormatUtils.formatDuration(Duration.ofDays(1).toMillis(), pattern);\r\n\t\t\treturn true;\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass ApacheDurationDeserializer extends DurationDeserializer {\r\n\tprivate final String apachePattern;\r\n\tprivate final int numberOfColonsInPattern;\r\n\r\n\tpublic ApacheDurationDeserializer() {\r\n\t\tthis(null);\r\n\t}\r\n\r\n\tApacheDurationDeserializer(String apachePattern) {\r\n\t\tthis.apachePattern = apachePattern;\r\n\t\tthis.numberOfColonsInPattern = countColons(apachePattern);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Duration deserialize(JsonParser parser, DeserializationContext context) throws IOException {\r\n\t\tif (Objects.nonNull(apachePattern)) {\r\n\t\t\tString value = parser.getText();\r\n\t\t\tif (this.numberOfColonsInPattern != countColons(value)) {\r\n\t\t\t\tthrow new JsonMappingException(parser, String.format(&quot;Pattern &#39;%s&#39; does not match value &#39;%s&#39;!&quot;, apachePattern, value));\r\n\t\t\t}\r\n\t\t\tif (numberOfColonsInPattern == 0) {\r\n\t\t\t\treturn Duration.ofSeconds(Long.parseLong(value.trim()));\r\n\t\t\t}\r\n\t\t\tString[] parts = value.trim().split(&quot;:&quot;);\r\n\t\t\treturn switch (parts.length) {\r\n\t\t\t\tcase 1 -&gt; Duration.ofSeconds(Long.parseLong(value.trim()));\r\n\t\t\t\tcase 2 -&gt; Duration.ofSeconds(TimeUnit.HOURS.toSeconds(Long.parseLong(parts[0]))\r\n\t\t\t\t\t\t+ TimeUnit.MINUTES.toSeconds(Long.parseLong(parts[1])));\r\n\t\t\t\tcase 3 -&gt; Duration.ofSeconds(TimeUnit.HOURS.toSeconds(Long.parseLong(parts[0]))\r\n\t\t\t\t\t\t+ TimeUnit.MINUTES.toSeconds(Long.parseLong(parts[1]))\r\n\t\t\t\t\t\t+ Long.parseLong(parts[2]));\r\n\t\t\t\tdefault -&gt;\r\n\t\t\t\t\t\tthrow new JsonMappingException(parser, String.format(&quot;Pattern &#39;%s&#39; does not match value &#39;%s&#39;!&quot;, apachePattern, value));\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn super.deserialize(parser, context);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Duration deserialize(JsonParser p, DeserializationContext ctxt, Duration intoValue) throws IOException {\r\n\t\treturn super.deserialize(p, ctxt, intoValue);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic JsonDeserializer&lt;?&gt; createContextual(DeserializationContext ctxt, BeanProperty property) throws JsonMappingException {\r\n\t\tJsonFormat.Value format = findFormatOverrides(ctxt, property, handledType());\r\n\t\tif (format != null &amp;&amp; format.hasPattern() &amp;&amp; isApacheDurationPattern(format.getPattern())) {\r\n\t\t\treturn new ApacheDurationDeserializer(format.getPattern());\r\n\t\t}\r\n\r\n\t\treturn super.createContextual(ctxt, property);\r\n\t}\r\n\r\n\tprivate boolean isApacheDurationPattern(String pattern) {\r\n\t\ttry {\r\n\t\t\tDurationFormatUtils.formatDuration(Duration.ofDays(1).toMillis(), pattern);\r\n\t\t\treturn true;\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static int countColons(String apachePattern) {\r\n\t\treturn StringUtils.countMatches(apachePattern, &#39;:&#39;);\r\n\t}\r\n}\r\n```\r\n\r\nAbove code prints:\r\n```logs\r\n{\r\n  &quot;duration&quot; : &quot;01:11&quot;\r\n}\r\nBook(duration=PT1H11M)\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/266825/how-to-format-a-duration-in-java-e-g-format-hmmss\r\n  [2]: https://www.baeldung.com/java-ms-to-hhmmss","title":"Serialize/de-serialize java duration to JSON with custom hh:mm format with Jackson","body":"<p><code>hh:mm</code> format is not supported by <code>Jackson</code> since <code>Java</code> does not recognise it by default. We need to customise serialisation/deserialisation mechanism and provide custom implementation.</p>\n<p>Take a look at:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/266825/how-to-format-a-duration-in-java-e-g-format-hmmss\">How to format a duration in java? (e.g format H:MM:SS)</a></li>\n<li><a href=\"https://www.baeldung.com/java-ms-to-hhmmss\" rel=\"nofollow noreferrer\">Format a Milliseconds Duration to HH:MM:SS</a></li>\n</ul>\n<p>Using some examples from linked articles I have created custom serialiser and deserialiser. They do not handle all possible cases but should do the trick for your requirements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.BeanProperty;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport com.fasterxml.jackson.datatype.jsr310.deser.DurationDeserializer;\nimport com.fasterxml.jackson.datatype.jsr310.ser.DurationSerializer;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.commons.lang3.time.DurationFormatUtils;\n\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.time.LocalTime;\nimport java.util.Objects;\nimport java.util.concurrent.TimeUnit;\n\npublic class DurationApp {\n    public static void main(String[] args) throws JsonProcessingException {\n        LocalTime startTime = LocalTime.of(13, 30);\n        LocalTime endTime = LocalTime.of(14, 41);\n\n        Book firstBook = new Book(Duration.between(startTime, endTime));\n\n        // create the mapper, add the java8 time support module and enable pretty parsing\n        ObjectMapper objectMapper = JsonMapper.builder()\n                .addModule(new JavaTimeModule())\n                .addModule(new SimpleModule()\n                        .addSerializer(Duration.class, new ApacheDurationSerializer())\n                        .addDeserializer(Duration.class, new ApacheDurationDeserializer()))\n                .build()\n                .enable(SerializationFeature.INDENT_OUTPUT);\n\n        String json = objectMapper.writeValueAsString(firstBook);\n        System.out.println(json);\n        Book deserialisedBook = objectMapper.readValue(json, Book.class);\n        System.out.println(deserialisedBook);\n    }\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\nclass Book {\n    @JsonFormat(pattern = &quot;HH:mm&quot;)\n    private Duration duration;\n}\n\n\nclass ApacheDurationSerializer extends DurationSerializer {\n\n    private final String apachePattern;\n\n    public ApacheDurationSerializer() {\n        this(null);\n    }\n\n    ApacheDurationSerializer(String apachePattern) {\n        this.apachePattern = apachePattern;\n    }\n\n    @Override\n    public void serialize(Duration duration, JsonGenerator generator, SerializerProvider provider) throws IOException {\n        if (Objects.nonNull(apachePattern) &amp;&amp; Objects.nonNull(duration)) {\n            String value = DurationFormatUtils.formatDuration(duration.toMillis(), apachePattern);\n\n            generator.writeString(value);\n        } else {\n            super.serialize(duration, generator, provider);\n        }\n    }\n\n    @Override\n    public JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property) throws JsonMappingException {\n        JsonFormat.Value format = findFormatOverrides(prov, property, handledType());\n        if (format != null &amp;&amp; format.hasPattern() &amp;&amp; isApacheDurationPattern(format.getPattern())) {\n            return new ApacheDurationSerializer(format.getPattern());\n        }\n\n        return super.createContextual(prov, property);\n    }\n\n    private boolean isApacheDurationPattern(String pattern) {\n        try {\n            DurationFormatUtils.formatDuration(Duration.ofDays(1).toMillis(), pattern);\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n}\n\nclass ApacheDurationDeserializer extends DurationDeserializer {\n    private final String apachePattern;\n    private final int numberOfColonsInPattern;\n\n    public ApacheDurationDeserializer() {\n        this(null);\n    }\n\n    ApacheDurationDeserializer(String apachePattern) {\n        this.apachePattern = apachePattern;\n        this.numberOfColonsInPattern = countColons(apachePattern);\n    }\n\n    @Override\n    public Duration deserialize(JsonParser parser, DeserializationContext context) throws IOException {\n        if (Objects.nonNull(apachePattern)) {\n            String value = parser.getText();\n            if (this.numberOfColonsInPattern != countColons(value)) {\n                throw new JsonMappingException(parser, String.format(&quot;Pattern '%s' does not match value '%s'!&quot;, apachePattern, value));\n            }\n            if (numberOfColonsInPattern == 0) {\n                return Duration.ofSeconds(Long.parseLong(value.trim()));\n            }\n            String[] parts = value.trim().split(&quot;:&quot;);\n            return switch (parts.length) {\n                case 1 -&gt; Duration.ofSeconds(Long.parseLong(value.trim()));\n                case 2 -&gt; Duration.ofSeconds(TimeUnit.HOURS.toSeconds(Long.parseLong(parts[0]))\n                        + TimeUnit.MINUTES.toSeconds(Long.parseLong(parts[1])));\n                case 3 -&gt; Duration.ofSeconds(TimeUnit.HOURS.toSeconds(Long.parseLong(parts[0]))\n                        + TimeUnit.MINUTES.toSeconds(Long.parseLong(parts[1]))\n                        + Long.parseLong(parts[2]));\n                default -&gt;\n                        throw new JsonMappingException(parser, String.format(&quot;Pattern '%s' does not match value '%s'!&quot;, apachePattern, value));\n            };\n        } else {\n            return super.deserialize(parser, context);\n        }\n    }\n\n    @Override\n    public Duration deserialize(JsonParser p, DeserializationContext ctxt, Duration intoValue) throws IOException {\n        return super.deserialize(p, ctxt, intoValue);\n    }\n\n    @Override\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext ctxt, BeanProperty property) throws JsonMappingException {\n        JsonFormat.Value format = findFormatOverrides(ctxt, property, handledType());\n        if (format != null &amp;&amp; format.hasPattern() &amp;&amp; isApacheDurationPattern(format.getPattern())) {\n            return new ApacheDurationDeserializer(format.getPattern());\n        }\n\n        return super.createContextual(ctxt, property);\n    }\n\n    private boolean isApacheDurationPattern(String pattern) {\n        try {\n            DurationFormatUtils.formatDuration(Duration.ofDays(1).toMillis(), pattern);\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    private static int countColons(String apachePattern) {\n        return StringUtils.countMatches(apachePattern, ':');\n    }\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre><code>{\n  &quot;duration&quot; : &quot;01:11&quot;\n}\nBook(duration=PT1H11M)\n</code></pre>\n"}],"owner":{"account_id":27429974,"reputation":101,"user_id":20926873,"display_name":"citizen_code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75041865,"answer_count":1,"score":2,"last_activity_date":1673108211,"creation_date":1673091745,"question_id":75040032,"body_markdown":"## Description\r\nI&#39;m new to Java AND Jackson and I try to save a `java.time.duration` to a JSON in a nice and readable hh:mm (hours:minutes) format for storing and retrieving. \r\n\r\nIn my project I use:\r\n- Jackson `com.fasterxml.jackson.core:jackson-databind:2.14.1`.\r\n- Jackson `com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.14.1` for the support of the newer Java 8 time/date classes.\r\n\r\n\r\n\r\n\r\n## Minimum working example:\r\n\r\n\r\nConsider following example class:\r\n\r\n```java\r\npublic class Book {\r\n\r\n    private Duration timeToComplete;\r\n\r\n    public Book(Duration durationToComplete) {\r\n        this.timeToComplete = durationToComplete;\r\n    }\r\n\r\n    // default constructor + getter &amp; setter\r\n}\r\n```\r\n\r\nIf I try to serialize a book instance into JSON like in the following code section\r\n\r\n```java\r\npublic class JavaToJson throws JsonProcessingException {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        // create the instance of Book, duration 01h:11min\r\n        LocalTime startTime = LocalTime.of(13,30);\r\n        LocalTime endTime = LocalTime.of(14,41);\r\n        Book firstBook = new Book(Duration.between(startTime, endTime));\r\n\r\n        // create the mapper, add the java8 time support module and enable pretty parsing\r\n        ObjectMapper objectMapper = JsonMapper.builder()\r\n                .addModule(new JavaTimeModule())\r\n                .build()\r\n                .enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n        // serialize and print to console\r\n        System.out.println(objectMapper.writeValueAsString(firstBook));\r\n    }\r\n\r\n}\r\n```\r\n\r\nit gives me the duration in seconds instead of `01:11`.\r\n\r\n```json\r\n{\r\n  &quot;timeToComplete&quot; : 4740.000000000\r\n}\r\n```\r\n\r\nHow would I change the JSON output into a hh:mm format? \r\n\r\n## What I tried until now\r\n\r\nI thought about adding a custom Serializer/Deserializer (potentially a `DurationSerializer`?) during instantiation of the ObjectMapper but it seems I can&#39;t make the formatting work...\r\n\r\n```java\r\nObjectMapper objectMapper = JsonMapper.builder()\r\n                .addModule(new JavaTimeModule())\r\n\r\n                // add the custom serializer for the duration\r\n                .addModule(new SimpleModule().addSerializer(new DurationSerializer(){\r\n                    \r\n                    @Override\r\n                    protected DurationSerializer withFormat(Boolean useTimestamp, DateTimeFormatter dtf, JsonFormat.Shape shape) {\r\n                    // here I try to change the formatting\r\n                    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\n                        return super.withFormat(useTimestamp, dtf, shape);\r\n                    }\r\n                }))\r\n                .build()\r\n                .enable(SerializationFeature.INDENT_OUTPUT);\r\n```\r\n\r\nAll it does is change it to this strange textual representation of the Duration:\r\n\r\n```json\r\n{\r\n  &quot;timeToComplete&quot; : &quot;PT1H11M&quot;\r\n}\r\n```\r\n\r\nSo it seems I&#39;m not completely off but the formatting is still not there. Maybe someone can help with the serializing/de-serializing? \r\n\r\nThanks a lot\r\n","title":"Serialize/de-serialize java duration to JSON with custom hh:mm format with Jackson","body":"<h2>Description</h2>\n<p>I'm new to Java AND Jackson and I try to save a <code>java.time.duration</code> to a JSON in a nice and readable hh:mm (hours:minutes) format for storing and retrieving.</p>\n<p>In my project I use:</p>\n<ul>\n<li>Jackson <code>com.fasterxml.jackson.core:jackson-databind:2.14.1</code>.</li>\n<li>Jackson <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.14.1</code> for the support of the newer Java 8 time/date classes.</li>\n</ul>\n<h2>Minimum working example:</h2>\n<p>Consider following example class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Book {\n\n    private Duration timeToComplete;\n\n    public Book(Duration durationToComplete) {\n        this.timeToComplete = durationToComplete;\n    }\n\n    // default constructor + getter &amp; setter\n}\n</code></pre>\n<p>If I try to serialize a book instance into JSON like in the following code section</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaToJson throws JsonProcessingException {\n\n    public static void main(String[] args) {\n        \n        // create the instance of Book, duration 01h:11min\n        LocalTime startTime = LocalTime.of(13,30);\n        LocalTime endTime = LocalTime.of(14,41);\n        Book firstBook = new Book(Duration.between(startTime, endTime));\n\n        // create the mapper, add the java8 time support module and enable pretty parsing\n        ObjectMapper objectMapper = JsonMapper.builder()\n                .addModule(new JavaTimeModule())\n                .build()\n                .enable(SerializationFeature.INDENT_OUTPUT);\n\n        // serialize and print to console\n        System.out.println(objectMapper.writeValueAsString(firstBook));\n    }\n\n}\n</code></pre>\n<p>it gives me the duration in seconds instead of <code>01:11</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;timeToComplete&quot; : 4740.000000000\n}\n</code></pre>\n<p>How would I change the JSON output into a hh:mm format?</p>\n<h2>What I tried until now</h2>\n<p>I thought about adding a custom Serializer/Deserializer (potentially a <code>DurationSerializer</code>?) during instantiation of the ObjectMapper but it seems I can't make the formatting work...</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = JsonMapper.builder()\n                .addModule(new JavaTimeModule())\n\n                // add the custom serializer for the duration\n                .addModule(new SimpleModule().addSerializer(new DurationSerializer(){\n                    \n                    @Override\n                    protected DurationSerializer withFormat(Boolean useTimestamp, DateTimeFormatter dtf, JsonFormat.Shape shape) {\n                    // here I try to change the formatting\n                    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\n                        return super.withFormat(useTimestamp, dtf, shape);\n                    }\n                }))\n                .build()\n                .enable(SerializationFeature.INDENT_OUTPUT);\n</code></pre>\n<p>All it does is change it to this strange textual representation of the Duration:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;timeToComplete&quot; : &quot;PT1H11M&quot;\n}\n</code></pre>\n<p>So it seems I'm not completely off but the formatting is still not there. Maybe someone can help with the serializing/de-serializing?</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","android","openai-api"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673107586,"post_id":75041744,"comment_id":132425703,"body_markdown":"There is no endpoint `v1/text/generations`. Did you maybe meant to use [`v1/completions`](https://beta.openai.com/docs/api-reference/completions)?","body":"There is no endpoint <code>v1&#47;text&#47;generations</code>. Did you maybe meant to use <a href=\"https://beta.openai.com/docs/api-reference/completions\" rel=\"nofollow noreferrer\"><code>v1&#47;completions</code></a>?"},{"owner":{"account_id":3492714,"reputation":154,"user_id":2921939,"accept_rate":58,"display_name":"Amul Bhatia"},"score":0,"creation_date":1673108320,"post_id":75041744,"comment_id":132425906,"body_markdown":"@Turing85, even after adding end point , still not working. yeah v1/completions can be used","body":"@Turing85, even after adding end point , still not working. yeah v1/completions can be used"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673108427,"post_id":75041744,"comment_id":132425936,"body_markdown":"... what? Unless you are a developer of the OpenAI Rest  API, you cannot add an endpoint to it. --- If `v1/completions` can be used, then I recommend rewriting the code to use `v1/completions`.","body":"... what? Unless you are a developer of the OpenAI Rest  API, you cannot add an endpoint to it. --- If <code>v1&#47;completions</code> can be used, then I recommend rewriting the code to use <code>v1&#47;completions</code>."}],"owner":{"account_id":3492714,"reputation":154,"user_id":2921939,"accept_rate":58,"display_name":"Amul Bhatia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673107263,"creation_date":1673107263,"question_id":75041744,"body_markdown":"What is the error in this code ?? OpenAI not giving response because of invalid request\r\n\r\n    curl -XPOST -H &quot;Content-type: application/json&quot; -d &#39;What is the Capital of France ?&#39; &#39;https://api.openai.com/v1/text/generations/&#39;\r\n\r\nHard time to get the success in this. Even I tried several solutions found on OpenAI , Google but does not work\r\n\r\n    public class OpenAI {\r\n        private static final String API_URL = &quot;https://api.openai.com/v1/text/generations&quot;;\r\n        private static final String API_KEY = &quot;MY_API_KEY&quot;;\r\n    \r\n        public static String generateText(String prompt) throws IOException {\r\n            OkHttpClient client = new OkHttpClient();\r\n            Request request = new Request.Builder()\r\n                    .url(API_URL)\r\n                    .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + API_KEY)\r\n                    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .post(okhttp3.RequestBody.create(okhttp3.MediaType.parse(&quot;application/json&quot;), &quot;{\\&quot;prompt\\&quot;:\\&quot;&quot; + prompt + &quot;\\&quot;,\\&quot;model\\&quot;:\\&quot;text-davinci-002\\&quot;,\\&quot;max_tokens\\&quot;:2048}&quot;))\r\n                    .build();\r\n            Response response = client.newCall(request).execute();\r\n            return response.body().string();\r\n        }\r\n    }","title":"OpenAI not giving response because of invalid request","body":"<p>What is the error in this code ?? OpenAI not giving response because of invalid request</p>\n<pre><code>curl -XPOST -H &quot;Content-type: application/json&quot; -d 'What is the Capital of France ?' 'https://api.openai.com/v1/text/generations/'\n</code></pre>\n<p>Hard time to get the success in this. Even I tried several solutions found on OpenAI , Google but does not work</p>\n<pre><code>public class OpenAI {\n    private static final String API_URL = &quot;https://api.openai.com/v1/text/generations&quot;;\n    private static final String API_KEY = &quot;MY_API_KEY&quot;;\n\n    public static String generateText(String prompt) throws IOException {\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder()\n                .url(API_URL)\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + API_KEY)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .post(okhttp3.RequestBody.create(okhttp3.MediaType.parse(&quot;application/json&quot;), &quot;{\\&quot;prompt\\&quot;:\\&quot;&quot; + prompt + &quot;\\&quot;,\\&quot;model\\&quot;:\\&quot;text-davinci-002\\&quot;,\\&quot;max_tokens\\&quot;:2048}&quot;))\n                .build();\n        Response response = client.newCall(request).execute();\n        return response.body().string();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3370047,"reputation":1212,"user_id":2829492,"accept_rate":100,"display_name":"coinbird"},"score":1,"creation_date":1493243328,"post_id":43645043,"comment_id":74338578,"body_markdown":"Read multiple char values? A char is one single char. You could make a char array if you needed to store multiple chars. A string is also technically a char array, so that&#39;s an even easier way to declare one!","body":"Read multiple char values? A char is one single char. You could make a char array if you needed to store multiple chars. A string is also technically a char array, so that&#39;s an even easier way to declare one!"},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1493243388,"post_id":43645043,"comment_id":74338609,"body_markdown":"A `char` has two bytes of memory with UTF-16 encoding and only one byte with UTF-8 encoding.  If you want to store multiple `char`s, then use a `String`; that&#39;s what they&#39;re made for!","body":"A <code>char</code> has two bytes of memory with UTF-16 encoding and only one byte with UTF-8 encoding.  If you want to store multiple <code>char</code>s, then use a <code>String</code>; that&#39;s what they&#39;re made for!"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1493243821,"post_id":43645043,"comment_id":74338788,"body_markdown":"Note that the `new Character` stuff is unnecessary. `char sym = sc.next().charAt(i);` does largely the same, just without the unnecessary object creation.","body":"Note that the <code>new Character</code> stuff is unnecessary. <code>char sym = sc.next().charAt(i);</code> does largely the same, just without the unnecessary object creation."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1493243927,"post_id":43645043,"comment_id":74338832,"body_markdown":"An object being immutable doesn&#39;t mean a reference can&#39;t be changed.","body":"An object being immutable doesn&#39;t mean a reference can&#39;t be changed."},{"owner":{"account_id":10267935,"reputation":545,"user_id":7683436,"display_name":"Abdelrahman"},"score":0,"creation_date":1493244488,"post_id":43645043,"comment_id":74339061,"body_markdown":"I tried using char sym = sc.next().charAt(i); , but it always was giving an exception. And when I analyzed, I don&#39;t know if I am really right or wrong. I found that sc.next().charAt(i) scans the entire string then returns the specific position. So, when we use inside a for loop after the first loop. The entire String would have been scanned and will give exception in the second loop, but i find a way by using the string itself without a scanning and using a method in the string class as follows:","body":"I tried using char sym = sc.next().charAt(i); , but it always was giving an exception. And when I analyzed, I don&#39;t know if I am really right or wrong. I found that sc.next().charAt(i) scans the entire string then returns the specific position. So, when we use inside a for loop after the first loop. The entire String would have been scanned and will give exception in the second loop, but i find a way by using the string itself without a scanning and using a method in the string class as follows:"},{"owner":{"account_id":10267935,"reputation":545,"user_id":7683436,"display_name":"Abdelrahman"},"score":0,"creation_date":1493244642,"post_id":43645043,"comment_id":74339141,"body_markdown":"String go = &quot;djlfa&quot;;\n\t    \n\t      char c = &#39;A&#39;;\n\t      char o = 97;\n\t\n\tfor(int i = 0; i &lt; go.length(); i++){\n\t\tint k = go.codePointAt(i);\n\t\tc = (char)(0 + k);\n\t\tSystem.out.println(c);\n\n   }","body":"String go = &quot;djlfa&quot;; \t     \t      char c = &#39;A&#39;; \t      char o = 97; \t \tfor(int i = 0; i &lt; go.length(); i++){ \t\tint k = go.codePointAt(i); \t\tc = (char)(0 + k); \t\tSystem.out.println(c);     }"}],"answers":[{"tags":[],"owner":{"account_id":10762273,"reputation":493,"user_id":7918330,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493244945,"creation_date":1493244945,"answer_id":43645420,"question_id":43645043,"body_markdown":"So you&#39;re trying to put the string `go` into the wrapper type `Character` ?\r\n If so: `Character` can only store a single character - not 5 (`djlfa`) as you want to do it.\r\n\r\n","title":"Data Types manipulation Java","body":"<p>So you're trying to put the string <code>go</code> into the wrapper type <code>Character</code> ?\n If so: <code>Character</code> can only store a single character - not 5 (<code>djlfa</code>) as you want to do it.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1493245667,"creation_date":1493245667,"answer_id":43645541,"question_id":43645043,"body_markdown":"&gt; Are character immutable in java\r\n\r\nYes, there is no method to change the value of an existing [`Character`][1] instance without calling the constructor again.\r\n\r\n&gt; If so, is there a way to change, update or read multiple char values\r\n&gt; in a single char variable\r\n\r\nNo, this is what [`String`][2]s are for. [They are also immutable][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\r\n  [3]: https://www.javatpoint.com/immutable-string","title":"Data Types manipulation Java","body":"<blockquote>\n  <p>Are character immutable in java</p>\n</blockquote>\n\n<p>Yes, there is no method to change the value of an existing <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html\" rel=\"nofollow noreferrer\"><code>Character</code></a> instance without calling the constructor again.</p>\n\n<blockquote>\n  <p>If so, is there a way to change, update or read multiple char values\n  in a single char variable</p>\n</blockquote>\n\n<p>No, this is what <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a>s are for. <a href=\"https://www.javatpoint.com/immutable-string\" rel=\"nofollow noreferrer\">They are also immutable</a>.</p>\n"}],"owner":{"account_id":10267935,"reputation":545,"user_id":7683436,"display_name":"Abdelrahman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":43645541,"answer_count":2,"score":-2,"last_activity_date":1673107205,"creation_date":1493243096,"question_id":43645043,"body_markdown":"Are character immutable in java. If so, is there a way to change, update or read  multiple char values in a single char variable.\r\n\r\n\r\n\tString go = &quot;djlfa&quot;;\r\n\tScanner sc = new Scanner(go);\r\n\t\r\n\tfor(int i = 0; i &lt; go.length(); i++){\r\n\t\t\r\n\t\tCharacter sym = new Character(sc.next().charAt(i));\r\n\t\tSystem.out.print(sym);\r\n    }\r\n\t\r\n\t","title":"Data Types manipulation Java","body":"<p>Are character immutable in java. If so, is there a way to change, update or read  multiple char values in a single char variable.</p>\n<pre><code>String go = &quot;djlfa&quot;;\nScanner sc = new Scanner(go);\n\nfor(int i = 0; i &lt; go.length(); i++){\n    \n    Character sym = new Character(sc.next().charAt(i));\n    System.out.print(sym);\n}\n</code></pre>\n"},{"tags":["java","validation","java.util.scanner","newline","numeric"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673105893,"creation_date":1673105893,"answer_id":75041581,"question_id":75041537,"body_markdown":"I&#39;m not certain what you mean by &quot;rewrite it as a string validation&quot;, you are currently ignoring whatever input the user provides that isn&#39;t an `int`; if you want to treat &quot;enter spam&quot; special, you could do something like\r\n\r\n\tSystem.out.print(&quot;Please enter your choice: &quot;);\r\n\twhile (!sc.hasNextInt()) {\r\n\t\tString line = sc.nextLine();\r\n\t\tif (line.isEmpty()) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tSystem.out.print(&quot;Input invalid, please retry: &quot;);\r\n\t}\r\n\r\n","title":"java scanner: how prevent enter spam","body":"<p>I'm not certain what you mean by &quot;rewrite it as a string validation&quot;, you are currently ignoring whatever input the user provides that isn't an <code>int</code>; if you want to treat &quot;enter spam&quot; special, you could do something like</p>\n<pre><code>System.out.print(&quot;Please enter your choice: &quot;);\nwhile (!sc.hasNextInt()) {\n    String line = sc.nextLine();\n    if (line.isEmpty()) {\n        continue;\n    }\n    System.out.print(&quot;Input invalid, please retry: &quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":25868508,"reputation":3,"user_id":19599736,"display_name":"nubcodeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673106982,"creation_date":1673105582,"question_id":75041537,"body_markdown":"I have a user input validate function:\r\n\r\n```\r\npublic int UserChoiceValidate() {\r\n    Scanner sc = new Scanner(System.in);\r\n    int choice;\r\n    do {\r\n        System.out.print(&quot;Please enter your choice: &quot;);\r\n        while (!sc.hasNextInt()) {\r\n            System.out.print(&quot;Input invalid, please retry: &quot;);\r\n            sc.nextLine(); // consume left over\r\n        }\r\n        choice = sc.nextInt();\r\n        if (choice &lt;= 0 || choice &gt; 5) {\r\n            System.out.println(&quot;Choice not included, please retry&quot;);\r\n        }\r\n    } while (choice &lt;= 0 || choice &gt; 5);\r\n    return choice;\r\n}\r\n```\r\n\r\nThe code will repeat\r\n\r\n&gt;Input invalid, please retry:Input invalid, please retry:Input invalid, please retry:\r\n\r\nwhen I spam enter and then type in an invalid input.\r\n\r\nHow do I fix this error without having to rewrite it as reading a String instead of an int. I have quite a few functions with the same struction and would like to avoid having to rewrite them all.","title":"java scanner: how prevent enter spam","body":"<p>I have a user input validate function:</p>\n<pre><code>public int UserChoiceValidate() {\n    Scanner sc = new Scanner(System.in);\n    int choice;\n    do {\n        System.out.print(&quot;Please enter your choice: &quot;);\n        while (!sc.hasNextInt()) {\n            System.out.print(&quot;Input invalid, please retry: &quot;);\n            sc.nextLine(); // consume left over\n        }\n        choice = sc.nextInt();\n        if (choice &lt;= 0 || choice &gt; 5) {\n            System.out.println(&quot;Choice not included, please retry&quot;);\n        }\n    } while (choice &lt;= 0 || choice &gt; 5);\n    return choice;\n}\n</code></pre>\n<p>The code will repeat</p>\n<blockquote>\n<p>Input invalid, please retry:Input invalid, please retry:Input invalid, please retry:</p>\n</blockquote>\n<p>when I spam enter and then type in an invalid input.</p>\n<p>How do I fix this error without having to rewrite it as reading a String instead of an int. I have quite a few functions with the same struction and would like to avoid having to rewrite them all.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1671206789,"post_id":74826947,"comment_id":132056322,"body_markdown":"A String with a length of `x` has indexes going from `0` to `x - 1`. eG the String `&quot;Test&quot;` has a length of `4` and the indexes `0`, `1`, `2` and `3`. So you need to stop your loop before it reaches the value of `word.length()` and change `i &lt;= l` to `i &lt; l`","body":"A String with a length of <code>x</code> has indexes going from <code>0</code> to <code>x - 1</code>. eG the String <code>&quot;Test&quot;</code> has a length of <code>4</code> and the indexes <code>0</code>, <code>1</code>, <code>2</code> and <code>3</code>. So you need to stop your loop before it reaches the value of <code>word.length()</code> and change <code>i &lt;= l</code> to <code>i &lt; l</code>"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671206941,"creation_date":1671206941,"answer_id":74827012,"question_id":74826947,"body_markdown":"    for(int i = 0; i &lt;= l; i++)\r\n    {\r\n        if(word.charAt(i) == guess)\r\n\r\nwhen i is equal to l, i will be the length of `word`, and word.charAt(i) will be out of bounds (since the index (i) in this function is 0 based)\r\n\r\nTo understand better\r\n\r\n    String test = &quot;a&quot;;\r\n    char c1 = test.charAt(0); // this will be &quot;a&quot;\r\n    char c2 = test.charAt(1); // this is out of bounds - there&#39;s no character after &quot;a&quot;","title":"How to solve string index out of bounds exception","body":"<pre><code>for(int i = 0; i &lt;= l; i++)\n{\n    if(word.charAt(i) == guess)\n</code></pre>\n<p>when i is equal to l, i will be the length of <code>word</code>, and word.charAt(i) will be out of bounds (since the index (i) in this function is 0 based)</p>\n<p>To understand better</p>\n<pre><code>String test = &quot;a&quot;;\nchar c1 = test.charAt(0); // this will be &quot;a&quot;\nchar c2 = test.charAt(1); // this is out of bounds - there's no character after &quot;a&quot;\n</code></pre>\n"}],"owner":{"account_id":23013595,"reputation":13,"user_id":17135762,"display_name":"PHOEBE COMBS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74827012,"answer_count":1,"score":0,"last_activity_date":1673106928,"creation_date":1671206613,"question_id":74826947,"body_markdown":"I&#39;m making some methods for a hangman game for class. I&#39;m trying to make an updated clue that shows the letters that were guessed correctly. Whenever I run the program I get a string index out of bounds exception and I don&#39;t know how to fix it.\r\n\r\n\r\n```\r\n private String makeClue( String word )\r\n    {\r\n        int length = word.length();\r\n        String clue = &quot;&quot;;\r\n        for(int i = 0; i &lt; length ; i++)\r\n        {\r\n            clue += (&quot;_ &quot;);\r\n        }\r\n        return clue;\r\n    }\r\n        \r\n    }\r\n    \r\n    private String updateClue( String clue, String word, String letter )\r\n    {\r\n        String update = &quot; &quot;;\r\n        char guess = letter.charAt(0);\r\n        int l = word.length();\r\n        for(int i = 0; i &lt;= l; i++)\r\n        {\r\n            if(word.charAt(i) == guess)\r\n            {\r\n                update = update + guess;\r\n            }\r\n            else\r\n            {\r\n                int index = i * 2;\r\n                char thing = clue.charAt(index);\r\n                update = update + thing;\r\n            }\r\n            \r\n        }\r\n```\r\n\r\nThis is the error that I get:\r\n\r\n![Image][1]\r\n\r\n  [1]: https://i.stack.imgur.com/k5ilx.png","title":"How to solve string index out of bounds exception","body":"<p>I'm making some methods for a hangman game for class. I'm trying to make an updated clue that shows the letters that were guessed correctly. Whenever I run the program I get a string index out of bounds exception and I don't know how to fix it.</p>\n<pre><code> private String makeClue( String word )\n    {\n        int length = word.length();\n        String clue = &quot;&quot;;\n        for(int i = 0; i &lt; length ; i++)\n        {\n            clue += (&quot;_ &quot;);\n        }\n        return clue;\n    }\n        \n    }\n    \n    private String updateClue( String clue, String word, String letter )\n    {\n        String update = &quot; &quot;;\n        char guess = letter.charAt(0);\n        int l = word.length();\n        for(int i = 0; i &lt;= l; i++)\n        {\n            if(word.charAt(i) == guess)\n            {\n                update = update + guess;\n            }\n            else\n            {\n                int index = i * 2;\n                char thing = clue.charAt(index);\n                update = update + thing;\n            }\n            \n        }\n</code></pre>\n<p>This is the error that I get:</p>\n<p><img src=\"https://i.stack.imgur.com/k5ilx.png\" alt=\"Image\" /></p>\n"},{"tags":["java","android"],"owner":{"account_id":13912874,"reputation":637,"user_id":10045546,"display_name":"Suresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673106302,"creation_date":1673106302,"question_id":75041625,"body_markdown":"I am trying to use Apache Ratis in my Android project(API 10). The dependency is setup as below and Gradle sync is fine as well.\r\n```\r\nimplementation group: &#39;org.apache.ratis&#39;, name: &#39;ratis-server&#39;, version: &#39;2.4.1&#39;\r\nimplementation group: &#39;org.apache.ratis&#39;, name: &#39;ratis-grpc&#39;, version: &#39;2.4.1&#39;\r\n```\r\n\r\nBut, when I try to launch the app, the build fails with the below error. My googling didn&#39;t get me any solution. I am not sure what is the problem here and how to move on. Please help.\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugJavaResource&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.MergeJavaResWorkAction\r\n   &gt; 7 files found with path &#39;javac.sh&#39; from inputs:\r\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-server/2.4.1/677eb97c26bcb5639b3ab5591bef4dc0d65494c2/ratis-server-2.4.1.jar\r\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-grpc/2.4.1/541c54e9a79f572933e2f1c383b2b64ac98b2d22/ratis-grpc-2.4.1.jar\r\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-server-api/2.4.1/e574ea1812f1edc7d0343531f4e664bb6902c37c/ratis-server-api-2.4.1.jar\r\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-client/2.4.1/6d573ec31e8747d55f4f2e0ec95169a319d1cece/ratis-client-2.4.1.jar\r\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-metrics/2.4.1/c838c833af481a663c4d4374d518cb233a04ceb4/ratis-metrics-2.4.1.jar\r\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-common/2.4.1/d43477d05b5d5add38037f3799b7cd353c7d6338/ratis-common-2.4.1.jar\r\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-proto/2.4.1/3755778d36159ea7218e65da9906b99a065beca1/ratis-proto-2.4.1.jar\r\n     Adding a packagingOptions block may help, please refer to\r\n     https://developer.android.com/reference/tools/gradle-api/7.3/com/android/build/api/dsl/ResourcesPackagingOptions\r\n     for more information\r\n\r\n```","title":"Error using Apache Ratis on android (files found with path &#39;javac.sh&#39; from inputs)","body":"<p>I am trying to use Apache Ratis in my Android project(API 10). The dependency is setup as below and Gradle sync is fine as well.</p>\n<pre><code>implementation group: 'org.apache.ratis', name: 'ratis-server', version: '2.4.1'\nimplementation group: 'org.apache.ratis', name: 'ratis-grpc', version: '2.4.1'\n</code></pre>\n<p>But, when I try to launch the app, the build fails with the below error. My googling didn't get me any solution. I am not sure what is the problem here and how to move on. Please help.</p>\n<pre><code>* What went wrong:\nExecution failed for task ':app:mergeDebugJavaResource'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.MergeJavaResWorkAction\n   &gt; 7 files found with path 'javac.sh' from inputs:\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-server/2.4.1/677eb97c26bcb5639b3ab5591bef4dc0d65494c2/ratis-server-2.4.1.jar\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-grpc/2.4.1/541c54e9a79f572933e2f1c383b2b64ac98b2d22/ratis-grpc-2.4.1.jar\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-server-api/2.4.1/e574ea1812f1edc7d0343531f4e664bb6902c37c/ratis-server-api-2.4.1.jar\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-client/2.4.1/6d573ec31e8747d55f4f2e0ec95169a319d1cece/ratis-client-2.4.1.jar\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-metrics/2.4.1/c838c833af481a663c4d4374d518cb233a04ceb4/ratis-metrics-2.4.1.jar\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-common/2.4.1/d43477d05b5d5add38037f3799b7cd353c7d6338/ratis-common-2.4.1.jar\n      - /Users/xxxxx/.gradle/caches/modules-2/files-2.1/org.apache.ratis/ratis-proto/2.4.1/3755778d36159ea7218e65da9906b99a065beca1/ratis-proto-2.4.1.jar\n     Adding a packagingOptions block may help, please refer to\n     https://developer.android.com/reference/tools/gradle-api/7.3/com/android/build/api/dsl/ResourcesPackagingOptions\n     for more information\n\n</code></pre>\n"},{"tags":["java","android","bimap"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1673244226,"post_id":75041609,"comment_id":132446249,"body_markdown":"can you provide first activity code.","body":"can you provide first activity code."}],"owner":{"account_id":26142456,"reputation":45,"user_id":19831635,"display_name":"Malik Zohaib Mustafa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673106182,"creation_date":1673106182,"question_id":75041609,"body_markdown":"An activity has an icon to choose Image from Files.  After choosing the Image, The next activity page opens which has A button and an ImageView where the selected iimage should be displayed.\r\n\r\n\r\nI can choose the Image but it does not show on ImageView.\r\nI has tried Bitmap and it doesnt work. If I try to resize map and then run app, after choosing the image the app closes.\r\n\r\n\r\nBelow is the XML and Java of the activity\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ShowPhotoActivity&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;196dp&quot;\r\n        android:layout_height=&quot;219dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.414&quot;\r\n        tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\r\n\r\n    \r\n    &lt;Button\r\n        android:id=&quot;@+id/btnEdit&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;EDIT PHOTO&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.773&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n\r\n//Java of the Activity.\r\n\r\n\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.content.Intent;\r\n\r\nimport android.graphics.BitmapFactory;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Base64;\r\nimport android.widget.ImageView;\r\nimport java.io.File;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Matrix;\r\nimport android.net.Uri;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport java.io.File;\r\n\r\npublic class ShowPhotoActivity extends AppCompatActivity {\r\n    ImageView myImage;\r\n    Button btnEdit;\r\n    String path = &quot;&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_show_photo);\r\n        myImage = (ImageView) findViewById(R.id.imageView);\r\n        btnEdit = findViewById(R.id.btnEdit);\r\n        path = getIntent().getExtras().getString(&quot;path&quot;);\r\n        File imgFile = new File(path);\r\n        if (imgFile.exists()) {\r\n            Bitmap b = BitmapFactory.decodeFile(imgFile.getAbsolutePath());\r\n          //myImage.setImageBitmap(Bitmap.createScaledBitmap(b, 40, 40, false));\r\n\r\n          myImage.setImageBitmap(b);\r\n\r\n            btnEdit.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(ShowPhotoActivity.this, EditPhotoActivity.class);\r\n                    intent.putExtra(&quot;path&quot;, path);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n       }\r\n    }\r\n\r\n    public static Bitmap RotateBitmat(Bitmap source, float angle) {\r\n        Matrix matrix = new Matrix();\r\n        matrix.postRotate(angle);\r\n        return  Bitmap.createBitmap(source, 0, 0, source.getWidth(), source.getHeight(), matrix, true);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI need the selected Image to be shown in the ImageView and when I click the Edit button the Image should be passed to the next activity too.\r\n\r\n","title":"Android Studio ImageView and Bitmap","body":"<p>An activity has an icon to choose Image from Files.  After choosing the Image, The next activity page opens which has A button and an ImageView where the selected iimage should be displayed.</p>\n<p>I can choose the Image but it does not show on ImageView.\nI has tried Bitmap and it doesnt work. If I try to resize map and then run app, after choosing the image the app closes.</p>\n<p>Below is the XML and Java of the activity</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ShowPhotoActivity&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;196dp&quot;\n        android:layout_height=&quot;219dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.414&quot;\n        tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\n\n    \n    &lt;Button\n        android:id=&quot;@+id/btnEdit&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;EDIT PHOTO&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.773&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n\n\n//Java of the Activity.\n\n\npackage com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\n\nimport android.graphics.BitmapFactory;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Base64;\nimport android.widget.ImageView;\nimport java.io.File;\nimport android.graphics.Bitmap;\nimport android.graphics.Matrix;\nimport android.net.Uri;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport java.io.File;\n\npublic class ShowPhotoActivity extends AppCompatActivity {\n    ImageView myImage;\n    Button btnEdit;\n    String path = &quot;&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_show_photo);\n        myImage = (ImageView) findViewById(R.id.imageView);\n        btnEdit = findViewById(R.id.btnEdit);\n        path = getIntent().getExtras().getString(&quot;path&quot;);\n        File imgFile = new File(path);\n        if (imgFile.exists()) {\n            Bitmap b = BitmapFactory.decodeFile(imgFile.getAbsolutePath());\n          //myImage.setImageBitmap(Bitmap.createScaledBitmap(b, 40, 40, false));\n\n          myImage.setImageBitmap(b);\n\n            btnEdit.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Intent intent = new Intent(ShowPhotoActivity.this, EditPhotoActivity.class);\n                    intent.putExtra(&quot;path&quot;, path);\n                    startActivity(intent);\n                }\n            });\n       }\n    }\n\n    public static Bitmap RotateBitmat(Bitmap source, float angle) {\n        Matrix matrix = new Matrix();\n        matrix.postRotate(angle);\n        return  Bitmap.createBitmap(source, 0, 0, source.getWidth(), source.getHeight(), matrix, true);\n    }\n}\n</code></pre>\n<p>I need the selected Image to be shown in the ImageView and when I click the Edit button the Image should be passed to the next activity too.</p>\n"},{"tags":["java","selenium","xpath"],"answers":[{"tags":[],"owner":{"account_id":8979189,"reputation":55,"user_id":6694947,"display_name":"mazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673105754,"creation_date":1673105754,"answer_id":75041562,"question_id":75040746,"body_markdown":"You could fetch the inner text from your &lt;address&gt; tag as a sring and just split the text with using the &lt;br&gt; tag as delimiter.\r\n````\r\nString[] data = dataFromSeleniumAsString.split(&quot;&lt;br&gt;&quot;);\r\nString name = data[0];\r\nString city = data[1];\r\n...\r\n\r\n````\r\n","title":"How can i get text from br tag using JAVA and SELENIUM","body":"<p>You could fetch the inner text from your  tag as a sring and just split the text with using the <br> tag as delimiter.</p>\n<pre><code>String[] data = dataFromSeleniumAsString.split(&quot;&lt;br&gt;&quot;);\nString name = data[0];\nString city = data[1];\n...\n\n</code></pre>\n"}],"owner":{"account_id":26563303,"reputation":1,"user_id":20190795,"display_name":"brat_pete88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673105754,"creation_date":1673098668,"question_id":75040746,"body_markdown":"i need some help and i want to understand the method. \r\n\r\nI have to make assertion for new address that i&#39;ve just created on website. \r\n\r\nThe html looks like this \r\n```\r\n      &lt;div class=&quot;col-lg-4 col-md-6 col-sm-6&quot;&gt;\r\n          \r\n  &lt;article id=&quot;address-30338&quot; class=&quot;address&quot; data-id-address=&quot;30338&quot;&gt;\r\n    &lt;div class=&quot;address-body&quot;&gt;\r\n      &lt;h4&gt;Piotr&lt;/h4&gt;\r\n      &lt;address&gt;Piotr Testowy&lt;br&gt;Woronicza&lt;br&gt;10-123&lt;br&gt;Warszawa&lt;br&gt;United Kingdom&lt;br&gt;533243444&lt;/address&gt;\r\n            \r\n    &lt;/div&gt;\r\n```\r\n\r\nI need to getText from br Woronicza - like addressData &lt;br&gt;\r\nI need to getText from br 10-123    - like zipCodeData &lt;br&gt;\r\netc... \r\n\r\nWhen i use &lt;br&gt;\r\nWebElement aliasData = driver.findElement(By.cssSelector(&quot;#content &gt; div:nth-child(3) h4&quot;)); &lt;br&gt;\r\nassertEquals(alias, aliasData.getText());\r\n\r\nIt works fine but form br tag i have no idea how to make it right using Selenium and Java. &lt;br&gt;\r\n\r\nI dont know what should be a correct xpath or maybe in this example i should use other selector ?\r\n\r\n\r\nWhen i am trying using this code - selenium reports that string is empty and it is no equal to Woronicza. \r\n\r\n```\r\n List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//div[2]//h4/following-sibling::address/br&quot;));\r\n\r\n        String addressData = elements.get(1).getText();\r\n        String zipCodeData = elements.get(2).getAttribute(&quot;innerHTML&quot;);\r\n        String cityData = elements.get(3).getAttribute(&quot;innerHTML&quot;);\r\n        String countryData = elements.get(4).getAttribute(&quot;innerHTML&quot;);\r\n        String phoneData = elements.get(5).getAttribute(&quot;innerHTML&quot;);\r\n```\r\n\r\nPlease help!","title":"How can i get text from br tag using JAVA and SELENIUM","body":"<p>i need some help and i want to understand the method.</p>\n<p>I have to make assertion for new address that i've just created on website.</p>\n<p>The html looks like this</p>\n<pre><code>      &lt;div class=&quot;col-lg-4 col-md-6 col-sm-6&quot;&gt;\n          \n  &lt;article id=&quot;address-30338&quot; class=&quot;address&quot; data-id-address=&quot;30338&quot;&gt;\n    &lt;div class=&quot;address-body&quot;&gt;\n      &lt;h4&gt;Piotr&lt;/h4&gt;\n      &lt;address&gt;Piotr Testowy&lt;br&gt;Woronicza&lt;br&gt;10-123&lt;br&gt;Warszawa&lt;br&gt;United Kingdom&lt;br&gt;533243444&lt;/address&gt;\n            \n    &lt;/div&gt;\n</code></pre>\n<p>I need to getText from br Woronicza - like addressData <br>\nI need to getText from br 10-123    - like zipCodeData <br>\netc...</p>\n<p>When i use <br>\nWebElement aliasData = driver.findElement(By.cssSelector(&quot;#content &gt; div:nth-child(3) h4&quot;)); <br>\nassertEquals(alias, aliasData.getText());</p>\n<p>It works fine but form br tag i have no idea how to make it right using Selenium and Java. <br></p>\n<p>I dont know what should be a correct xpath or maybe in this example i should use other selector ?</p>\n<p>When i am trying using this code - selenium reports that string is empty and it is no equal to Woronicza.</p>\n<pre><code> List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//div[2]//h4/following-sibling::address/br&quot;));\n\n        String addressData = elements.get(1).getText();\n        String zipCodeData = elements.get(2).getAttribute(&quot;innerHTML&quot;);\n        String cityData = elements.get(3).getAttribute(&quot;innerHTML&quot;);\n        String countryData = elements.get(4).getAttribute(&quot;innerHTML&quot;);\n        String phoneData = elements.get(5).getAttribute(&quot;innerHTML&quot;);\n</code></pre>\n<p>Please help!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8240399,"reputation":21,"user_id":6198203,"display_name":"Ashikur2146"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673077458,"creation_date":1673077458,"answer_id":75038822,"question_id":75038724,"body_markdown":"Compiler understands the scope of the class Super is within the AccessModifierTest, but compiler does not know a callee method of any class without the reference. This is how oop based languages are designed to work. The main benefit is that compiler can remove the method call ambiguity through this.\r\n\r\nSo when a private constructor is called within a class scope compiler understands where it is coming from, but any other method requires the object reference to access.\r\n\r\nto make your code work you need to use the reference super.setN(5) to make it work.","title":"Java access modifiers, nested classes","body":"<p>Compiler understands the scope of the class Super is within the AccessModifierTest, but compiler does not know a callee method of any class without the reference. This is how oop based languages are designed to work. The main benefit is that compiler can remove the method call ambiguity through this.</p>\n<p>So when a private constructor is called within a class scope compiler understands where it is coming from, but any other method requires the object reference to access.</p>\n<p>to make your code work you need to use the reference super.setN(5) to make it work.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1673087012,"creation_date":1673084950,"answer_id":75039384,"question_id":75038724,"body_markdown":"Just like the superclass constructor, `setN` is perfectly *accessible* in `Sub`. This is because, as your linked Q&amp;A explained, `private` members declared in an inner class are accessible everywhere as long as you are inside the top-level class. So the problem is somewhere else.\r\n\r\nIf you are using IntelliJ, the error message it gives is &quot;`setN` has private access...&quot;, which is more useful and lets you fix the error immediately (and `setN` being private also plays a role as you will see). But `javac`&#39;s error message, &quot;cannot find symbol `setN`&quot;, shows that **this isn&#39;t actually about accessibility**, and that the compiler can&#39;t actually find `setN`.\r\n\r\nAccording to the [spec][1], a simple method name like `setN`\r\n\r\n&gt; consists of a single UnqualifiedMethodIdentifier which specifies the name of the method to be invoked. The rules of method invocation require that the UnqualifiedMethodIdentifier denotes a method that is in scope at the point of the method invocation.\r\n\r\n`setN` is actually not in scope in the constructor of `Sub`. The scope of `setN` is only `Super`. See also [Scope of a Declaration][2] in the spec.\r\n\r\nBut doesn&#39;t `Sub` inherit `setN` from `Super`? Well, it doesn&#39;t. `private` members are not inherited. See [this section][3] for the conditions for inheritance.\r\n\r\n&gt; A class C inherits from its direct superclass type D all concrete\r\n&gt; methods m (both static and instance) for which all of the following\r\n&gt; are true:\r\n&gt; \r\n&gt;  - m is a member of D.\r\n&gt; \r\n&gt;  - m is public, protected, or declared with package access in the same\r\n&gt; package as C.\r\n&gt; \r\n&gt;  - No method declared in C has a signature that is a subsignature\r\n&gt; (&#167;8.4.2) of the signature of m as a member of D.\r\n\r\nIf you use another form (instead of a simple name) to refer to `Super.setN`, like `super.setN(5);`, or ` ((Super)this).setN(5);` then it can compile just fine.\r\n\r\nFor why these work, see the [compile-time step 1][4] of processing a method call, where the compiler determines in which type it should search for a method declaration. If the type to search is `Super`, then it would compile, because `Super` actually has the `setN` method, whereas `Sub` does not inherit it from `Super`, so does not have it as a member.\r\n\r\nNote that constructor calls and method calls are treated completely separately by the language spec and they have [completely different rules][5]. The `super();` syntax is essentially &quot;hardcoded&quot; into the language - there is no &quot;scope&quot; or &quot;names&quot; of a constructor or anything like that. The constructor just has to be accessible for you to call it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.5.7.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.3\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.1\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.7.1","title":"Java access modifiers, nested classes","body":"<p>Just like the superclass constructor, <code>setN</code> is perfectly <em>accessible</em> in <code>Sub</code>. This is because, as your linked Q&amp;A explained, <code>private</code> members declared in an inner class are accessible everywhere as long as you are inside the top-level class. So the problem is somewhere else.</p>\n<p>If you are using IntelliJ, the error message it gives is &quot;<code>setN</code> has private access...&quot;, which is more useful and lets you fix the error immediately (and <code>setN</code> being private also plays a role as you will see). But <code>javac</code>'s error message, &quot;cannot find symbol <code>setN</code>&quot;, shows that <strong>this isn't actually about accessibility</strong>, and that the compiler can't actually find <code>setN</code>.</p>\n<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.5.7.1\" rel=\"noreferrer\">spec</a>, a simple method name like <code>setN</code></p>\n<blockquote>\n<p>consists of a single UnqualifiedMethodIdentifier which specifies the name of the method to be invoked. The rules of method invocation require that the UnqualifiedMethodIdentifier denotes a method that is in scope at the point of the method invocation.</p>\n</blockquote>\n<p><code>setN</code> is actually not in scope in the constructor of <code>Sub</code>. The scope of <code>setN</code> is only <code>Super</code>. See also <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.3\" rel=\"noreferrer\">Scope of a Declaration</a> in the spec.</p>\n<p>But doesn't <code>Sub</code> inherit <code>setN</code> from <code>Super</code>? Well, it doesn't. <code>private</code> members are not inherited. See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8\" rel=\"noreferrer\">this section</a> for the conditions for inheritance.</p>\n<blockquote>\n<p>A class C inherits from its direct superclass type D all concrete\nmethods m (both static and instance) for which all of the following\nare true:</p>\n<ul>\n<li><p>m is a member of D.</p>\n</li>\n<li><p>m is public, protected, or declared with package access in the same\npackage as C.</p>\n</li>\n<li><p>No method declared in C has a signature that is a subsignature\n(§8.4.2) of the signature of m as a member of D.</p>\n</li>\n</ul>\n</blockquote>\n<p>If you use another form (instead of a simple name) to refer to <code>Super.setN</code>, like <code>super.setN(5);</code>, or <code> ((Super)this).setN(5);</code> then it can compile just fine.</p>\n<p>For why these work, see the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.1\" rel=\"noreferrer\">compile-time step 1</a> of processing a method call, where the compiler determines in which type it should search for a method declaration. If the type to search is <code>Super</code>, then it would compile, because <code>Super</code> actually has the <code>setN</code> method, whereas <code>Sub</code> does not inherit it from <code>Super</code>, so does not have it as a member.</p>\n<p>Note that constructor calls and method calls are treated completely separately by the language spec and they have <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.7.1\" rel=\"noreferrer\">completely different rules</a>. The <code>super();</code> syntax is essentially &quot;hardcoded&quot; into the language - there is no &quot;scope&quot; or &quot;names&quot; of a constructor or anything like that. The constructor just has to be accessible for you to call it.</p>\n"}],"owner":{"account_id":288885,"reputation":1415,"user_id":589554,"accept_rate":60,"display_name":"coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75039384,"answer_count":2,"score":3,"last_activity_date":1673105753,"creation_date":1673076220,"question_id":75038724,"body_markdown":"The following constellation:\r\n\r\n    public class AccessModifierTest {\r\n    \r\n      private static class Super {\r\n        private int n = 3;\r\n    \r\n        private Super() {}\r\n    \r\n        private void setN(int n) {\r\n          this.n = n;\r\n        }\r\n      }\r\n    \r\n      private static class Sub extends Super {\r\n        private Sub() {\r\n          super(); // invoking private ctor is permitted\r\n          // setN(5); but invoking private method is not permitted, why?\r\n          // super.setN(5); this is fine too\r\n        }\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        Super superInstance = new Sub();\r\n      }\r\n    \r\n    }\r\n\r\nThe private ctor of Sub is allowed to invoke the private ctor of Super.\r\n\r\nWhy this is ok, is answered here:\r\nhttps://stackoverflow.com/questions/12542193/scope-of-private-constructor-in-nested-class\r\n\r\nBecause of this, shouldn&#39;t it be also fine to invoke the private method setN in the ctor of Sub?\r\n\r\nWhy is this not legal?\r\n","title":"Java access modifiers, nested classes","body":"<p>The following constellation:</p>\n<pre><code>public class AccessModifierTest {\n\n  private static class Super {\n    private int n = 3;\n\n    private Super() {}\n\n    private void setN(int n) {\n      this.n = n;\n    }\n  }\n\n  private static class Sub extends Super {\n    private Sub() {\n      super(); // invoking private ctor is permitted\n      // setN(5); but invoking private method is not permitted, why?\n      // super.setN(5); this is fine too\n    }\n  }\n\n  public static void main(String[] args) {\n    Super superInstance = new Sub();\n  }\n\n}\n</code></pre>\n<p>The private ctor of Sub is allowed to invoke the private ctor of Super.</p>\n<p>Why this is ok, is answered here:\n<a href=\"https://stackoverflow.com/questions/12542193/scope-of-private-constructor-in-nested-class\">scope of private constructor in Nested Class</a></p>\n<p>Because of this, shouldn't it be also fine to invoke the private method setN in the ctor of Sub?</p>\n<p>Why is this not legal?</p>\n"},{"tags":["java","swing","rotation","jpanel"],"comments":[{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1391187107,"post_id":21485488,"comment_id":32429837,"body_markdown":"Welcome to Stackoverflow.\nhave a look at [site standards](http://stackoverflow.com/help). Thank you.","body":"Welcome to Stackoverflow. have a look at <a href=\"http://stackoverflow.com/help\">site standards</a>. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":2441791,"reputation":907,"user_id":2130105,"display_name":"Zzyrk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391187366,"creation_date":1391187366,"answer_id":21485663,"question_id":21485488,"body_markdown":"As far as I know there is no way that you can rotate a JPanel itself. However you might be able to rotate the image inside the JPanel.","title":"Can you create a JPanel that is rotated?","body":"<p>As far as I know there is no way that you can rotate a JPanel itself. However you might be able to rotate the image inside the JPanel.</p>\n"},{"tags":[],"owner":{"account_id":1105309,"reputation":4529,"user_id":1096831,"accept_rate":100,"display_name":"CodeBlind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1391187813,"creation_date":1391187813,"answer_id":21485820,"question_id":21485488,"body_markdown":"You can&#39;t get this behavior by default.  However, you could extend JPanel and get the desired rotation behavior if you do a little linear algebra:\r\n\r\n1. Override the `paint(Graphics g)` method. You could have it first paint to an instance of `BufferedImage`, then use a rotation matrix to rotate that image before drawing it on the underlying panel.\r\n\r\n2. Override all methods that handle mouse input and apply the reverse rotation to the coordinates passed in by the associated listeners. This way, the underlying layout manager still &#39;thinks&#39; that the panel hasn&#39;t been rotated, but you&#39;ve rotated the drawing and event notification so that things still &quot;line up&quot; properly.\r\n\r\nI&#39;ll caveat all of this by saying I&#39;ve never done this before, and you could run into unexpected issues not outlined here, but I do have about 10 years of experience with Java Swing and this is how I&#39;d do it if I had to.","title":"Can you create a JPanel that is rotated?","body":"<p>You can't get this behavior by default.  However, you could extend JPanel and get the desired rotation behavior if you do a little linear algebra:</p>\n\n<ol>\n<li><p>Override the <code>paint(Graphics g)</code> method. You could have it first paint to an instance of <code>BufferedImage</code>, then use a rotation matrix to rotate that image before drawing it on the underlying panel.</p></li>\n<li><p>Override all methods that handle mouse input and apply the reverse rotation to the coordinates passed in by the associated listeners. This way, the underlying layout manager still 'thinks' that the panel hasn't been rotated, but you've rotated the drawing and event notification so that things still \"line up\" properly.</p></li>\n</ol>\n\n<p>I'll caveat all of this by saying I've never done this before, and you could run into unexpected issues not outlined here, but I do have about 10 years of experience with Java Swing and this is how I'd do it if I had to.</p>\n"},{"tags":[],"owner":{"account_id":27397242,"reputation":36,"user_id":20899247,"display_name":"Fahad Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673104977,"creation_date":1673104977,"answer_id":75041473,"question_id":21485488,"body_markdown":"you can try overriding the paintComponent method of JPanel like so:\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import javax.swing.JPanel;\r\n    public class UpsideDownJPanel extends JPanel {\r\n        public UpsideDownJPanel() {}\r\n\r\n        public void paintComponent(Graphics graphics) {\r\n            Graphics2D g = (Graphics2D) graphics;\r\n            int x = this.getWidth() / 2;\r\n            int y = this.getHeight() / 2;\r\n            g.rotate(Math.toRadians(180.0), x, y);\r\n            super.paintComponent(g);\r\n        }\r\n     }\r\nYou can also change the degree u want to rotate it","title":"Can you create a JPanel that is rotated?","body":"<p>you can try overriding the paintComponent method of JPanel like so:</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport javax.swing.JPanel;\npublic class UpsideDownJPanel extends JPanel {\n    public UpsideDownJPanel() {}\n\n    public void paintComponent(Graphics graphics) {\n        Graphics2D g = (Graphics2D) graphics;\n        int x = this.getWidth() / 2;\n        int y = this.getHeight() / 2;\n        g.rotate(Math.toRadians(180.0), x, y);\n        super.paintComponent(g);\n    }\n }\n</code></pre>\n<p>You can also change the degree u want to rotate it</p>\n"}],"owner":{"account_id":3945219,"reputation":5,"user_id":3258139,"display_name":"user3258139"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":21485820,"answer_count":3,"score":-2,"last_activity_date":1673104977,"creation_date":1391186891,"question_id":21485488,"body_markdown":"I was wondering if there might be a way using Java Swing to create a rotated JPanel? \r\nI&#39;d read other questions/answers on this topic but I didn&#39;t understand if you could create one already rotated or not.\r\nIt does not need to rotate once it&#39;s created, only be created tilted on the x/y axis.\r\nThanks.\r\n\r\n***Thanks, quite helpful!***","title":"Can you create a JPanel that is rotated?","body":"<p>I was wondering if there might be a way using Java Swing to create a rotated JPanel? \nI'd read other questions/answers on this topic but I didn't understand if you could create one already rotated or not.\nIt does not need to rotate once it's created, only be created tilted on the x/y axis.\nThanks.</p>\n\n<p><em><strong>Thanks, quite helpful!</em></strong></p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1673048653,"post_id":75037076,"comment_id":132417894,"body_markdown":"SQL is a case insensitive language: I would report this to Microsoft as a bug.","body":"SQL is a case insensitive language: I would report this to Microsoft as a bug."},{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":3,"creation_date":1673050212,"post_id":75037076,"comment_id":132418125,"body_markdown":"I took [this](https://stackoverflow.com/questions/10433149/sql-server-column-names-case-sensitivity/44086215#44086215) to mean that column names will be case sensitive if you use a case sensitive collation as the database default.","body":"I took <a href=\"https://stackoverflow.com/questions/10433149/sql-server-column-names-case-sensitivity/44086215#44086215\">this</a> to mean that column names will be case sensitive if you use a case sensitive collation as the database default."},{"owner":{"account_id":27657,"reputation":442143,"user_id":73226,"accept_rate":100,"display_name":"Martin Smith"},"score":0,"creation_date":1673087262,"post_id":75037076,"comment_id":132421894,"body_markdown":"RE &quot;without changing the column names to lower case letters&quot;. The correct fix for this is to fix this discrepancy and be consistent with casing in your application going forward and to include in your testing an instance with a CS collation","body":"RE &quot;without changing the column names to lower case letters&quot;. The correct fix for this is to fix this discrepancy and be consistent with casing in your application going forward and to include in your testing an instance with a CS collation"},{"owner":{"account_id":27657,"reputation":442143,"user_id":73226,"accept_rate":100,"display_name":"Martin Smith"},"score":0,"creation_date":1673087654,"post_id":75037076,"comment_id":132421949,"body_markdown":"Also if on your test instance the user database and instance collations are set to different collations rather than the same collation this will mean you can catch early another possible category of errors (collation conflict errors - of which most will be resolvable by remembering to use `COLLATE DATABASE_DEFAULT` in string columns in temp tables)","body":"Also if on your test instance the user database and instance collations are set to different collations rather than the same collation this will mean you can catch early another possible category of errors (collation conflict errors - of which most will be resolvable by remembering to use <code>COLLATE DATABASE_DEFAULT</code> in string columns in temp tables)"}],"answers":[{"tags":[],"owner":{"account_id":275368,"reputation":31453,"user_id":568209,"accept_rate":38,"display_name":"Ben Thul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673104657,"creation_date":1673050754,"answer_id":75037242,"question_id":75037076,"body_markdown":"This can arise from a the database having a case-sensitive collation. A quick demo:\r\n\r\n```sql\r\ncreate database foobar collate Latin1_General_CI_AI;\r\n\r\nuse foobar;\r\ncreate table dbo.myTable (ID int);\r\nselect id from myTable;\r\n/* succeeds because the database&#39;s collation is case-insensitive */\r\n\r\nalter database foobar collate Latin1_General_CS_AI;\r\nselect id from myTable;\r\n/* fails because the database&#39;s collation is now case-sensitive */\r\n```\r\n\r\nTo check what your database is using, take a look at the `sys.databases` system view in the `collation_name` column. Here&#39;s a quick query for that:\r\n\r\n```sql\r\nselect d.name,\r\n    d.collation_name,\r\n    collation_description = c.[description]\r\nfrom sys.databases as d\r\ncross apply sys.fn_helpcollations() as c\r\nwhere d.name = &#39;foobar&#39;\r\n    and c.name = d.collation_name;\r\n```\r\n\r\nNB - by omitting the predicate on database name, you can get the collation for _all_ databases on the instance allowing you to address the issue holistically (if you indeed want to change the database default location).\r\n\r\nAlso NB - related to the above, changing the default database location can have application-facing implications. Test thoroughly before deploying to a production environment.","title":"Fix uppercase / lowercase letters in column names in SQL Server?","body":"<p>This can arise from a the database having a case-sensitive collation. A quick demo:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create database foobar collate Latin1_General_CI_AI;\n\nuse foobar;\ncreate table dbo.myTable (ID int);\nselect id from myTable;\n/* succeeds because the database's collation is case-insensitive */\n\nalter database foobar collate Latin1_General_CS_AI;\nselect id from myTable;\n/* fails because the database's collation is now case-sensitive */\n</code></pre>\n<p>To check what your database is using, take a look at the <code>sys.databases</code> system view in the <code>collation_name</code> column. Here's a quick query for that:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select d.name,\n    d.collation_name,\n    collation_description = c.[description]\nfrom sys.databases as d\ncross apply sys.fn_helpcollations() as c\nwhere d.name = 'foobar'\n    and c.name = d.collation_name;\n</code></pre>\n<p>NB - by omitting the predicate on database name, you can get the collation for <em>all</em> databases on the instance allowing you to address the issue holistically (if you indeed want to change the database default location).</p>\n<p>Also NB - related to the above, changing the default database location can have application-facing implications. Test thoroughly before deploying to a production environment.</p>\n"}],"owner":{"account_id":18196326,"reputation":11,"user_id":16311088,"display_name":"JoseG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673104657,"creation_date":1673048477,"question_id":75037076,"body_markdown":"Here&#39;s a little bit of context. I have a Java program which uses a SQL Server database. This Java program makes T-SQL internally: selects, updates, deletes, etc.\r\nEvery now and then there are new columns in the database structure because of new versions of the software.\r\nOn the last version, the DBA added a few columns on some of the tables. These columns where name in capital letters but the SQL statement from the Java program makes them in lower case letters.\r\nThis was tested and it&#39;s already on production environment in about more than a hundred of servers.\r\n\r\nBut there is this client, where the log registered that there is a bad SQL grammar and the selected column on the select statement doesn&#39;t exist. The problem is that it does exist. To gain some time I just simply and only for that particular client changed the column name to lower case letters and the problem got fixed.\r\n\r\nThe thing is that solution isn&#39;t efficient and I still not know why that problem came up.\r\nThe Java version of the program is jdk1.8.0_281 and the SQL server of that particularly client is SQL Server 2008 R2. (By the way, there are other clients that use the same versions without any problem at all. There are clients with all the above versions of SQL Server  working just fine)\r\n\r\nLog details:\r\n\r\n&gt; org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT * FROM table WHERE column1=? and column2=? and column3=? and column4=? ]; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name &#39;column1&#39;.\r\n\r\nDoes somebody know what could have happened? And how to fix it without changing the column names to lower case letters?\r\n\r\n","title":"Fix uppercase / lowercase letters in column names in SQL Server?","body":"<p>Here's a little bit of context. I have a Java program which uses a SQL Server database. This Java program makes T-SQL internally: selects, updates, deletes, etc.\nEvery now and then there are new columns in the database structure because of new versions of the software.\nOn the last version, the DBA added a few columns on some of the tables. These columns where name in capital letters but the SQL statement from the Java program makes them in lower case letters.\nThis was tested and it's already on production environment in about more than a hundred of servers.</p>\n<p>But there is this client, where the log registered that there is a bad SQL grammar and the selected column on the select statement doesn't exist. The problem is that it does exist. To gain some time I just simply and only for that particular client changed the column name to lower case letters and the problem got fixed.</p>\n<p>The thing is that solution isn't efficient and I still not know why that problem came up.\nThe Java version of the program is jdk1.8.0_281 and the SQL server of that particularly client is SQL Server 2008 R2. (By the way, there are other clients that use the same versions without any problem at all. There are clients with all the above versions of SQL Server  working just fine)</p>\n<p>Log details:</p>\n<blockquote>\n<p>org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT * FROM table WHERE column1=? and column2=? and column3=? and column4=? ]; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'column1'.</p>\n</blockquote>\n<p>Does somebody know what could have happened? And how to fix it without changing the column names to lower case letters?</p>\n"},{"tags":["java","sql","where-clause"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673143994,"post_id":75041355,"comment_id":132431825,"body_markdown":"Define &quot;weekly&quot;.","body":"Define &quot;weekly&quot;."}],"answers":[{"tags":[],"owner":{"account_id":21693674,"reputation":126,"user_id":16007953,"display_name":"Seppe Willems"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673104101,"creation_date":1673104101,"answer_id":75041378,"question_id":75041355,"body_markdown":"For month:\r\n\r\n    String query = &quot;SELECT sum(Quantity) FROM `salesproduct_table` WHERE MONTH(Date) = MONTH(CURDATE())&quot;;\r\n\r\nfor year:\r\n\r\n    String query = &quot;SELECT sum(Quantity) FROM `salesproduct_table` WHERE YEAR(Date) = YEAR(CURDATE())&quot;;","title":"How to get the weekly, monthly and yearly sales using where statements","body":"<p>For month:</p>\n<pre><code>String query = &quot;SELECT sum(Quantity) FROM `salesproduct_table` WHERE MONTH(Date) = MONTH(CURDATE())&quot;;\n</code></pre>\n<p>for year:</p>\n<pre><code>String query = &quot;SELECT sum(Quantity) FROM `salesproduct_table` WHERE YEAR(Date) = YEAR(CURDATE())&quot;;\n</code></pre>\n"}],"owner":{"account_id":27052346,"reputation":11,"user_id":20605523,"display_name":"Dev W"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673104101,"creation_date":1673103884,"question_id":75041355,"body_markdown":"Hi i already get the daily sales. now i want to get the weekly, monthly and yearly sales and already tried the weekly sales but the problem is the monthly sales is the one being selected\r\n\r\n\r\n\r\n```\r\npublic void weekly(){\r\n         \r\n          DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\n        LocalDateTime now = LocalDateTime.now();\r\n        String date = dtf.format(now);\r\n         \r\n            try{\r\n           con = Connector.getConnection();\r\n            java.sql.Statement st = con.createStatement();\r\n            String query = &quot;SELECT sum(Quantity) FROM `salesproduct_table` WHERE Date = WEEK(CURDATE())&quot;;\r\n            ResultSet rs = st.executeQuery(query);\r\n            \r\n            if(rs.next()){\r\n                \r\n                productsales4.setText(rs.getString(1));\r\n                \r\n            }\r\n            \r\n            \r\n            }catch(Exception ex){\r\n                \r\n            }\r\n```\r\n\r\n\r\ntried already different kind of syntax but i cant fix it","title":"How to get the weekly, monthly and yearly sales using where statements","body":"<p>Hi i already get the daily sales. now i want to get the weekly, monthly and yearly sales and already tried the weekly sales but the problem is the monthly sales is the one being selected</p>\n<pre><code>public void weekly(){\n         \n          DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\n        LocalDateTime now = LocalDateTime.now();\n        String date = dtf.format(now);\n         \n            try{\n           con = Connector.getConnection();\n            java.sql.Statement st = con.createStatement();\n            String query = &quot;SELECT sum(Quantity) FROM `salesproduct_table` WHERE Date = WEEK(CURDATE())&quot;;\n            ResultSet rs = st.executeQuery(query);\n            \n            if(rs.next()){\n                \n                productsales4.setText(rs.getString(1));\n                \n            }\n            \n            \n            }catch(Exception ex){\n                \n            }\n</code></pre>\n<p>tried already different kind of syntax but i cant fix it</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2"],"comments":[{"owner":{"account_id":1075002,"reputation":10369,"user_id":1145196,"display_name":"Dusan Bajic"},"score":0,"creation_date":1531673577,"post_id":51350237,"comment_id":89673195,"body_markdown":"This might help: https://stackoverflow.com/questions/29843130/how-to-deploy-created-jar-file-in-apache-tomcat-server-in-eclipse-ide","body":"This might help: <a href=\"https://stackoverflow.com/questions/29843130/how-to-deploy-created-jar-file-in-apache-tomcat-server-in-eclipse-ide\" title=\"how to deploy created jar file in apache tomcat server in eclipse ide\">stackoverflow.com/questions/29843130/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13941867,"reputation":51,"user_id":10067525,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531673685,"creation_date":1531673685,"answer_id":51350333,"question_id":51350237,"body_markdown":"You need to make it run as daemon process in linux.\r\n\r\nThere are many tutorial / templates available to create a daemon shell script. Quick google search shows github has many templates, so check them out.","title":"How do I make my server application run on an EC2 instance?","body":"<p>You need to make it run as daemon process in linux.</p>\n\n<p>There are many tutorial / templates available to create a daemon shell script. Quick google search shows github has many templates, so check them out.</p>\n"},{"tags":[],"owner":{"account_id":5496382,"reputation":461,"user_id":4390715,"display_name":"Kushagra Misra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531674197,"creation_date":1531674197,"answer_id":51350395,"question_id":51350237,"body_markdown":"The issue is not cloud dependent its the configuration you have to do to run your jar as a service in your system.\r\nIf you are using **Elastic Bean Stalk** change **systemctl** to **initctl** in below example. \r\n\r\n 1. Put the script commands you wish to run in /usr/bin/demoscript.sh\r\n 2. Remember to make the script executable with chmod +x.\r\n 3. Create the following file:\r\n\r\n/usr/lib/systemd/system/demo.service\r\n\r\n\r\n    [Unit]\r\n    Description=Demo Script\r\n\r\n    [Service]\r\n    Type=forking\r\n    ExecStart=/usr/bin/demoscript.sh\r\n\r\n 4. Reload the systemd service files: systemctl daemon-reload\r\n 5. Check that it is working with systemctl start demo\r\n\r\n","title":"How do I make my server application run on an EC2 instance?","body":"<p>The issue is not cloud dependent its the configuration you have to do to run your jar as a service in your system.\nIf you are using <strong>Elastic Bean Stalk</strong> change <strong>systemctl</strong> to <strong>initctl</strong> in below example. </p>\n\n<ol>\n<li>Put the script commands you wish to run in /usr/bin/demoscript.sh</li>\n<li>Remember to make the script executable with chmod +x.</li>\n<li>Create the following file:</li>\n</ol>\n\n<p>/usr/lib/systemd/system/demo.service</p>\n\n<pre><code>[Unit]\nDescription=Demo Script\n\n[Service]\nType=forking\nExecStart=/usr/bin/demoscript.sh\n</code></pre>\n\n<ol start=\"4\">\n<li>Reload the systemd service files: systemctl daemon-reload</li>\n<li>Check that it is working with systemctl start demo</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26889480,"reputation":1,"user_id":20468491,"display_name":"Francisco Correia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673103855,"creation_date":1673103855,"answer_id":75041347,"question_id":51350237,"body_markdown":"You could try using systemd which is a Linux service manager. You can use it to run your service in the background.\r\n\r\nTo do that you need to first create a `unit file` that describes how systemd should manage your service (more [info here][1]). \r\n\r\n    sudo vim /etc/systemd/system/your-application.service\r\n\r\nYour file might look something like this\r\n\r\n    [Unit]\r\n    Description=Java Application as a Service\r\n    [Service]\r\n    User=ec2-user\r\n    #change this directory into your workspace\r\n    #mkdir workspace \r\n    WorkingDirectory=/home/ec2-user/workspace\r\n    #path to the executable bash script which executes the jar file\r\n    ExecStart=/bin/bash /home/ec2-user/workspace/your-script.sh\r\n    SuccessExitStatus=143\r\n    TimeoutStopSec=10\r\n    Restart=on-failure\r\n    RestartSec=5\r\n    [Install]\r\n    WantedBy=multi-user.target\r\n\r\nThen in your home directory `/home/ec2-user/workspace` you can create the bash script that will run your java application.\r\n\r\n    sudo nano your-script.sh\r\n\r\nYour script might look like this\r\n\r\n    #!/bin/sh\r\n    java -jar your-application.jar\r\n\r\nAll you need to do then is start the service with the command\r\n\r\n    sudo systemctl enable your-application.service\r\n    sudo systemctl start your-application.service\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units\r\n\r\n\r\n","title":"How do I make my server application run on an EC2 instance?","body":"<p>You could try using systemd which is a Linux service manager. You can use it to run your service in the background.</p>\n<p>To do that you need to first create a <code>unit file</code> that describes how systemd should manage your service (more <a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units\" rel=\"nofollow noreferrer\">info here</a>).</p>\n<pre><code>sudo vim /etc/systemd/system/your-application.service\n</code></pre>\n<p>Your file might look something like this</p>\n<pre><code>[Unit]\nDescription=Java Application as a Service\n[Service]\nUser=ec2-user\n#change this directory into your workspace\n#mkdir workspace \nWorkingDirectory=/home/ec2-user/workspace\n#path to the executable bash script which executes the jar file\nExecStart=/bin/bash /home/ec2-user/workspace/your-script.sh\nSuccessExitStatus=143\nTimeoutStopSec=10\nRestart=on-failure\nRestartSec=5\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>Then in your home directory <code>/home/ec2-user/workspace</code> you can create the bash script that will run your java application.</p>\n<pre><code>sudo nano your-script.sh\n</code></pre>\n<p>Your script might look like this</p>\n<pre><code>#!/bin/sh\njava -jar your-application.jar\n</code></pre>\n<p>All you need to do then is start the service with the command</p>\n<pre><code>sudo systemctl enable your-application.service\nsudo systemctl start your-application.service\n</code></pre>\n"}],"owner":{"account_id":4320933,"reputation":3616,"user_id":3529197,"accept_rate":50,"display_name":"Neo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1673103855,"creation_date":1531672948,"question_id":51350237,"body_markdown":"I developed a Java server (using Spring) and uploaded the final executable JAR to an EC2 instance using FileZilla. Now I want it to run.\r\n\r\nI&#39;ve connected via SSH and used `java -jar server.jar` to run my server, and it worked (I&#39;ve tried accessing it). However once the SSH connection is closed the server obviously stops running as well.\r\n\r\nHow can I start my application in such a way so it keeps running?\r\n\r\nEdit: Using the command `screen` explained [here][1] I was able to run it in background and so it keeps running.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4797050/how-to-run-process-as-background-and-never-die","title":"How do I make my server application run on an EC2 instance?","body":"<p>I developed a Java server (using Spring) and uploaded the final executable JAR to an EC2 instance using FileZilla. Now I want it to run.</p>\n\n<p>I've connected via SSH and used <code>java -jar server.jar</code> to run my server, and it worked (I've tried accessing it). However once the SSH connection is closed the server obviously stops running as well.</p>\n\n<p>How can I start my application in such a way so it keeps running?</p>\n\n<p>Edit: Using the command <code>screen</code> explained <a href=\"https://stackoverflow.com/questions/4797050/how-to-run-process-as-background-and-never-die\">here</a> I was able to run it in background and so it keeps running.</p>\n"},{"tags":["java","selenium","testing","junit","system-testing"],"answers":[{"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673103171,"creation_date":1673103171,"answer_id":75041266,"question_id":75041076,"body_markdown":"as per your code line 27 \r\n```\r\ndriver.get(&quot;http://localhost:8080/CoralloSmart/login&quot;);\r\n```\r\n`driver` is null, which means you don&#39;t have driver started yet\r\n\r\n```\r\nprivate static WebDriver driver;\r\n\r\n@Before\r\npublic void setup(){\r\n   driver = SystemTestCase.driver;\r\n}\r\n```\r\nin this code `SystemTestCase.driver` is null\r\n\r\nwhat you can do is, start a driver and wait for it\r\n\r\n```\r\n@Before\r\npublic void setup(){\r\n   if(SystemTestCase.driver == null ) {\r\n       SystemTestCase.driver=new ChromeDriver();\r\n       WebDriverWait wait=new WebDriverWait(driver, 20);\r\n   }\r\n   driver = SystemTestCase.driver;\r\n}\r\n```","title":"NullPointerExeption in selenium test","body":"<p>as per your code line 27</p>\n<pre><code>driver.get(&quot;http://localhost:8080/CoralloSmart/login&quot;);\n</code></pre>\n<p><code>driver</code> is null, which means you don't have driver started yet</p>\n<pre><code>private static WebDriver driver;\n\n@Before\npublic void setup(){\n   driver = SystemTestCase.driver;\n}\n</code></pre>\n<p>in this code <code>SystemTestCase.driver</code> is null</p>\n<p>what you can do is, start a driver and wait for it</p>\n<pre><code>@Before\npublic void setup(){\n   if(SystemTestCase.driver == null ) {\n       SystemTestCase.driver=new ChromeDriver();\n       WebDriverWait wait=new WebDriverWait(driver, 20);\n   }\n   driver = SystemTestCase.driver;\n}\n</code></pre>\n"}],"owner":{"account_id":27461982,"reputation":11,"user_id":20952406,"display_name":"Graziano Giuseffi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673103171,"creation_date":1673101588,"question_id":75041076,"body_markdown":"I have this test class that extend SystenTestCase\r\n```\r\npackage org.corallosmart.e2e.GestioneContributo;\r\n\r\nimport org.corallosmart.e2e.SystemTestCase;\r\nimport org.junit.Assert;\r\nimport org.junit.Before;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\n\r\n\r\npublic class TestEffettuaVersamento extends SystemTestCase {\r\n\r\n\r\n    private static WebDriver driver;\r\n\r\n    @Before\r\n    public void setup(){\r\n        driver = SystemTestCase.driver;\r\n    }\r\n\r\n@Test\r\npublic void testEffettuaVersamento(){\r\n\r\n\r\n\r\n    driver.get(&quot;http://localhost:8080/CoralloSmart/login&quot;);\r\n    WebElement userField = driver.findElement(By.name(&quot;username&quot;));\r\n    userField.sendKeys(&quot;graziano.giu@gmail.com&quot;);\r\n    WebElement passwordField = driver.findElement(By.name(&quot;password&quot;));\r\n    passwordField.sendKeys(&quot;root&quot;);\r\n    WebElement form = driver.findElement(By.name(&quot;loginForm&quot;));\r\n    form.submit();\r\n\r\n\r\n    driver.get(&quot;http://localhost:8080/CoralloSmart/index&quot;);\r\n    WebElement sostieniciBtn=driver.findElement(By.name(&quot;sostieniciBtn&quot;));\r\n    sostieniciBtn.click();\r\n    WebElement importoField = driver.findElement(By.name(&quot;importo&quot;));\r\n    importoField.sendKeys( &quot;20&quot;);\r\n    WebElement formSostienici= driver.findElement(By.name(&quot;sostieniciform&quot;));\r\n    formSostienici.submit();\r\n\r\n\r\n    driver.get(&quot;http://localhost:8080/CoralloSmart/checkout&quot;);\r\n    WebElement nameCard=driver.findElement(By.name(&quot;name-on-card&quot;));\r\n    nameCard.sendKeys(&quot;Graziano Giuseffi&quot;);\r\n    WebElement cardNumber= driver.findElement(By.name(&quot;card-number&quot;));\r\n    cardNumber.sendKeys(&quot;5333171083897454&quot;);\r\n    WebElement expMonth= driver.findElement(By.name(&quot;expMonth&quot;));\r\n    expMonth.sendKeys(&quot;July (07)&quot;);\r\n    WebElement expYear= driver.findElement(By.name(&quot;expYear&quot;));\r\n    expYear.sendKeys(&quot;2024&quot;);\r\n    WebElement cvv= driver.findElement(By.name(&quot;card-cvc&quot;));\r\n    cvv.sendKeys(&quot;584&quot;);\r\n    WebElement paymentForm= driver.findElement(By.id(&quot;payment-Form&quot;));\r\n    paymentForm.submit();\r\n\r\n    Boolean isOk= driver.getPageSource().contains(&quot;Operazione Completata Con Successo&quot;);\r\n    Assert.assertTrue(isOk);\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```package org.corallosmart.e2e;\r\n\r\n\r\nimport io.github.bonigarcia.wdm.config.DriverManagerType;\r\nimport io.github.bonigarcia.wdm.managers.ChromeDriverManager;\r\nimport org.junit.BeforeClass;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.sql.SQLException;\r\n\r\n\r\npublic class SystemTestCase  {\r\n\r\n  protected static WebDriver driver;\r\n\r\n  /**\r\n   * Setup  della classe di testing\r\n   *\r\n   * @throws FileNotFoundException\r\n   * @throws SQLException\r\n   */\r\n  @BeforeClass\r\n  public static void setupClass() throws FileNotFoundException, SQLException {\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.addArguments(&quot;--headless&quot;); // per non lanciare gui\r\n    ChromeDriverManager .getInstance(DriverManagerType.CHROME).setup();\r\n    driver = new ChromeDriver(chromeOptions);\r\n  }\r\n\r\n\r\n /* @AfterAll\r\n  public static void tearDown() {\r\n    driver.close();\r\n  }\r\n\r\n   */\r\n}\r\n```\r\n\r\n\r\n\r\nThese are the errors. Solution?\r\n\r\n\r\n&quot;C:\\Program Files\\Java\\jdk-11.0.16.1\\bin\\java.exe&quot; -ea -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=62181:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\grazi\\.m2\\repository\\org\\junit\\platform\\junit-platform-launcher\\1.7.0\\junit-platform-launcher-1.7.0.jar;C:\\Users\\grazi\\.m2\\repository\\org\\junit\\vintage\\junit-vintage-engine\\5.7.0\\junit-vintage-engine-5.7.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\plugins\\junit\\lib\\junit5-rt.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\plugins\\junit\\lib\\junit-rt.jar;C:\\Users\\grazi\\Desktop\\CS\\CoralloSmart\\target\\test-classes;C:\\Users\\grazi\\Desktop\\CS\\CoralloSmart\\target\\classes;C:\\Users\\grazi\\AppData\\Roaming\\JetBrains\\IntelliJIdea2022.2\\javascript\\extLibs\\__maxcdn.bootstrapcdn.com_bootstrap_3.3.0_css_bootstrap.css;C:\\Users\\grazi\\AppData\\Roaming\\JetBrains\\IntelliJIdea2022.2\\javascript\\extLibs\\__maxcdn.bootstrapcdn.com_bootstrap_3.3.0_js_bootstrap.js;C:\\Users\\grazi\\AppData\\Roaming\\JetBrains\\IntelliJIdea2022.2\\javascript\\extLibs\\__code.jquery.com_jquery-1.11.1.js;C:\\Users\\grazi\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.9\\gson-2.8.9.jar;C:\\Users\\grazi\\.m2\\repository\\com\\googlecode\\json-simple\\json-simple\\1.1.1\\json-simple-1.1.1.jar;C:\\Users\\grazi\\.m2\\repository\\commons-io\\commons-io\\2.8.0\\commons-io-2.8.0.jar;C:\\Users\\grazi\\.m2\\repository\\javax\\javaee-web-api\\8.0.1\\javaee-web-api-8.0.1.jar;C:\\Users\\grazi\\.m2\\repository\\jstl\\jstl\\1.2\\jstl-1.2.jar;C:\\Users\\grazi\\.m2\\repository\\commons-dbutils\\commons-dbutils\\1.7\\commons-dbutils-1.7.jar;C:\\Users\\grazi\\.m2\\repository\\commons-codec\\commons-codec\\1.15\\commons-codec-1.15.jar;C:\\Users\\grazi\\.m2\\repository\\mysql\\mysql-connector-java\\8.0.22\\mysql-connector-java-8.0.22.jar;C:\\Users\\grazi\\.m2\\repository\\com\\google\\protobuf\\protobuf-java\\3.11.4\\protobuf-java-3.11.4.jar;C:\\Users\\grazi\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-engine\\5.7.0\\junit-jupiter-engine-5.7.0.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apiguardian\\apiguardian-api\\1.1.0\\apiguardian-api-1.1.0.jar;C:\\Users\\grazi\\.m2\\repository\\org\\junit\\platform\\junit-platform-engine\\1.7.0\\junit-platform-engine-1.7.0.jar;C:\\Users\\grazi\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-api\\5.7.0\\junit-jupiter-api-5.7.0.jar;C:\\Users\\grazi\\.m2\\repository\\org\\opentest4j\\opentest4j\\1.2.0\\opentest4j-1.2.0.jar;C:\\Users\\grazi\\.m2\\repository\\org\\junit\\platform\\junit-platform-commons\\1.7.0\\junit-platform-commons-1.7.0.jar;C:\\Users\\grazi\\.m2\\repository\\junit\\junit\\4.13\\junit-4.13.jar;C:\\Users\\grazi\\.m2\\repository\\org\\hamcrest\\hamcrest-core\\1.3\\hamcrest-core-1.3.jar;C:\\Users\\grazi\\.m2\\repository\\org\\webjars\\startbootstrap-sb-admin-2\\4.0.6\\startbootstrap-sb-admin-2-4.0.6.jar;C:\\Users\\grazi\\.m2\\repository\\org\\webjars\\font-awesome\\5.7.2\\font-awesome-5.7.2.jar;C:\\Users\\grazi\\.m2\\repository\\org\\webjars\\bootstrap\\4.3.1\\bootstrap-4.3.1.jar;C:\\Users\\grazi\\.m2\\repository\\org\\webjars\\popper.js\\1.14.3\\popper.js-1.14.3.jar;C:\\Users\\grazi\\.m2\\repository\\org\\webjars\\chartjs\\2.7.3\\chartjs-2.7.3.jar;C:\\Users\\grazi\\.m2\\repository\\org\\webjars\\datatables\\1.10.19\\datatables-1.10.19.jar;C:\\Users\\grazi\\.m2\\repository\\org\\webjars\\jquery-easing\\1.4.1\\jquery-easing-1.4.1.jar;C:\\Users\\grazi\\.m2\\repository\\org\\mockito\\mockito-core\\3.6.28\\mockito-core-3.6.28.jar;C:\\Users\\grazi\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.10.18\\byte-buddy-1.10.18.jar;C:\\Users\\grazi\\.m2\\repository\\net\\bytebuddy\\byte-buddy-agent\\1.10.18\\byte-buddy-agent-1.10.18.jar;C:\\Users\\grazi\\.m2\\repository\\org\\objenesis\\objenesis\\3.1\\objenesis-3.1.jar;C:\\Users\\grazi\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chrome-driver\\3.141.59\\selenium-chrome-driver-3.141.59.jar;C:\\Users\\grazi\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-api\\3.141.59\\selenium-api-3.141.59.jar;C:\\Users\\grazi\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-remote-driver\\3.141.59\\selenium-remote-driver-3.141.59.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apache\\commons\\commons-exec\\1.3\\commons-exec-1.3.jar;C:\\Users\\grazi\\.m2\\repository\\com\\google\\guava\\guava\\25.0-jre\\guava-25.0-jre.jar;C:\\Users\\grazi\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\1.3.9\\jsr305-1.3.9.jar;C:\\Users\\grazi\\.m2\\repository\\org\\checkerframework\\checker-compat-qual\\2.0.0\\checker-compat-qual-2.0.0.jar;C:\\Users\\grazi\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.1.3\\error_prone_annotations-2.1.3.jar;C:\\Users\\grazi\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.1\\j2objc-annotations-1.1.jar;C:\\Users\\grazi\\.m2\\repository\\org\\codehaus\\mojo\\animal-sniffer-annotations\\1.14\\animal-sniffer-annotations-1.14.jar;C:\\Users\\grazi\\.m2\\repository\\com\\squareup\\okhttp3\\okhttp\\3.11.0\\okhttp-3.11.0.jar;C:\\Users\\grazi\\.m2\\repository\\com\\squareup\\okio\\okio\\1.14.0\\okio-1.14.0.jar;C:\\Users\\grazi\\.m2\\repository\\io\\github\\bonigarcia\\webdrivermanager\\4.2.2\\webdrivermanager-4.2.2.jar;C:\\Users\\grazi\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.30\\slf4j-api-1.7.30.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.11\\commons-lang3-3.11.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apache\\httpcomponents\\client5\\httpclient5\\5.0.1\\httpclient5-5.0.1.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apache\\httpcomponents\\core5\\httpcore5\\5.0.1\\httpcore5-5.0.1.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apache\\httpcomponents\\core5\\httpcore5-h2\\5.0.1\\httpcore5-h2-5.0.1.jar;C:\\Users\\grazi\\.m2\\repository\\org\\rauschig\\jarchivelib\\1.1.0\\jarchivelib-1.1.0.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apache\\commons\\commons-compress\\1.20\\commons-compress-1.20.jar;C:\\Users\\grazi\\.m2\\repository\\org\\jsoup\\jsoup\\1.13.1\\jsoup-1.13.1.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apache\\commons\\commons-dbcp2\\2.8.0\\commons-dbcp2-2.8.0.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apache\\commons\\commons-pool2\\2.8.1\\commons-pool2-2.8.1.jar;C:\\Users\\grazi\\.m2\\repository\\commons-logging\\commons-logging\\1.2\\commons-logging-1.2.jar;C:\\Users\\grazi\\.m2\\repository\\com\\h2database\\h2\\1.4.200\\h2-1.4.200.jar;C:\\Users\\grazi\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.22\\lombok-1.18.22.jar;C:\\Users\\grazi\\.m2\\repository\\org\\apache\\commons\\commons-email\\1.5\\commons-email-1.5.jar;C:\\Users\\grazi\\.m2\\repository\\com\\sun\\mail\\javax.mail\\1.5.6\\javax.mail-1.5.6.jar;C:\\Users\\grazi\\.m2\\repository\\javax\\activation\\activation\\1.1\\activation-1.1.jar;C:\\Users\\grazi\\.m2\\repository\\org\\webjars\\jquery\\3.5.1\\jquery-3.5.1.jar&quot; com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit5 org.corallosmart.e2e.GestioneContributo.TestEffettuaVersamento\r\n\r\n\r\n\r\n\r\njava.lang.NullPointerException\r\n\tat org.corallosmart.e2e.GestioneContributo.TestEffettuaVersamento.testEffettuaVersamento(TestEffettuaVersamento.java:27)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n","title":"NullPointerExeption in selenium test","body":"<p>I have this test class that extend SystenTestCase</p>\n<pre><code>package org.corallosmart.e2e.GestioneContributo;\n\nimport org.corallosmart.e2e.SystemTestCase;\nimport org.junit.Assert;\nimport org.junit.Before;\nimport org.junit.jupiter.api.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\n\npublic class TestEffettuaVersamento extends SystemTestCase {\n\n\n    private static WebDriver driver;\n\n    @Before\n    public void setup(){\n        driver = SystemTestCase.driver;\n    }\n\n@Test\npublic void testEffettuaVersamento(){\n\n\n\n    driver.get(&quot;http://localhost:8080/CoralloSmart/login&quot;);\n    WebElement userField = driver.findElement(By.name(&quot;username&quot;));\n    userField.sendKeys(&quot;graziano.giu@gmail.com&quot;);\n    WebElement passwordField = driver.findElement(By.name(&quot;password&quot;));\n    passwordField.sendKeys(&quot;root&quot;);\n    WebElement form = driver.findElement(By.name(&quot;loginForm&quot;));\n    form.submit();\n\n\n    driver.get(&quot;http://localhost:8080/CoralloSmart/index&quot;);\n    WebElement sostieniciBtn=driver.findElement(By.name(&quot;sostieniciBtn&quot;));\n    sostieniciBtn.click();\n    WebElement importoField = driver.findElement(By.name(&quot;importo&quot;));\n    importoField.sendKeys( &quot;20&quot;);\n    WebElement formSostienici= driver.findElement(By.name(&quot;sostieniciform&quot;));\n    formSostienici.submit();\n\n\n    driver.get(&quot;http://localhost:8080/CoralloSmart/checkout&quot;);\n    WebElement nameCard=driver.findElement(By.name(&quot;name-on-card&quot;));\n    nameCard.sendKeys(&quot;Graziano Giuseffi&quot;);\n    WebElement cardNumber= driver.findElement(By.name(&quot;card-number&quot;));\n    cardNumber.sendKeys(&quot;5333171083897454&quot;);\n    WebElement expMonth= driver.findElement(By.name(&quot;expMonth&quot;));\n    expMonth.sendKeys(&quot;July (07)&quot;);\n    WebElement expYear= driver.findElement(By.name(&quot;expYear&quot;));\n    expYear.sendKeys(&quot;2024&quot;);\n    WebElement cvv= driver.findElement(By.name(&quot;card-cvc&quot;));\n    cvv.sendKeys(&quot;584&quot;);\n    WebElement paymentForm= driver.findElement(By.id(&quot;payment-Form&quot;));\n    paymentForm.submit();\n\n    Boolean isOk= driver.getPageSource().contains(&quot;Operazione Completata Con Successo&quot;);\n    Assert.assertTrue(isOk);\n}\n\n}\n\n</code></pre>\n<pre><code>\n\nimport io.github.bonigarcia.wdm.config.DriverManagerType;\nimport io.github.bonigarcia.wdm.managers.ChromeDriverManager;\nimport org.junit.BeforeClass;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\n\nimport java.io.FileNotFoundException;\nimport java.sql.SQLException;\n\n\npublic class SystemTestCase  {\n\n  protected static WebDriver driver;\n\n  /**\n   * Setup  della classe di testing\n   *\n   * @throws FileNotFoundException\n   * @throws SQLException\n   */\n  @BeforeClass\n  public static void setupClass() throws FileNotFoundException, SQLException {\n\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.addArguments(&quot;--headless&quot;); // per non lanciare gui\n    ChromeDriverManager .getInstance(DriverManagerType.CHROME).setup();\n    driver = new ChromeDriver(chromeOptions);\n  }\n\n\n /* @AfterAll\n  public static void tearDown() {\n    driver.close();\n  }\n\n   */\n}\n</code></pre>\n<p>These are the errors. Solution?</p>\n<p>&quot;C:\\Program Files\\Java\\jdk-11.0.16.1\\bin\\java.exe&quot; -ea -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=62181:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\grazi.m2\\repository\\org\\junit\\platform\\junit-platform-launcher\\1.7.0\\junit-platform-launcher-1.7.0.jar;C:\\Users\\grazi.m2\\repository\\org\\junit\\vintage\\junit-vintage-engine\\5.7.0\\junit-vintage-engine-5.7.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\plugins\\junit\\lib\\junit5-rt.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\plugins\\junit\\lib\\junit-rt.jar;C:\\Users\\grazi\\Desktop\\CS\\CoralloSmart\\target\\test-classes;C:\\Users\\grazi\\Desktop\\CS\\CoralloSmart\\target\\classes;C:\\Users\\grazi\\AppData\\Roaming\\JetBrains\\IntelliJIdea2022.2\\javascript\\extLibs__maxcdn.bootstrapcdn.com_bootstrap_3.3.0_css_bootstrap.css;C:\\Users\\grazi\\AppData\\Roaming\\JetBrains\\IntelliJIdea2022.2\\javascript\\extLibs__maxcdn.bootstrapcdn.com_bootstrap_3.3.0_js_bootstrap.js;C:\\Users\\grazi\\AppData\\Roaming\\JetBrains\\IntelliJIdea2022.2\\javascript\\extLibs__code.jquery.com_jquery-1.11.1.js;C:\\Users\\grazi.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.9\\gson-2.8.9.jar;C:\\Users\\grazi.m2\\repository\\com\\googlecode\\json-simple\\json-simple\\1.1.1\\json-simple-1.1.1.jar;C:\\Users\\grazi.m2\\repository\\commons-io\\commons-io\\2.8.0\\commons-io-2.8.0.jar;C:\\Users\\grazi.m2\\repository\\javax\\javaee-web-api\\8.0.1\\javaee-web-api-8.0.1.jar;C:\\Users\\grazi.m2\\repository\\jstl\\jstl\\1.2\\jstl-1.2.jar;C:\\Users\\grazi.m2\\repository\\commons-dbutils\\commons-dbutils\\1.7\\commons-dbutils-1.7.jar;C:\\Users\\grazi.m2\\repository\\commons-codec\\commons-codec\\1.15\\commons-codec-1.15.jar;C:\\Users\\grazi.m2\\repository\\mysql\\mysql-connector-java\\8.0.22\\mysql-connector-java-8.0.22.jar;C:\\Users\\grazi.m2\\repository\\com\\google\\protobuf\\protobuf-java\\3.11.4\\protobuf-java-3.11.4.jar;C:\\Users\\grazi.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-engine\\5.7.0\\junit-jupiter-engine-5.7.0.jar;C:\\Users\\grazi.m2\\repository\\org\\apiguardian\\apiguardian-api\\1.1.0\\apiguardian-api-1.1.0.jar;C:\\Users\\grazi.m2\\repository\\org\\junit\\platform\\junit-platform-engine\\1.7.0\\junit-platform-engine-1.7.0.jar;C:\\Users\\grazi.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-api\\5.7.0\\junit-jupiter-api-5.7.0.jar;C:\\Users\\grazi.m2\\repository\\org\\opentest4j\\opentest4j\\1.2.0\\opentest4j-1.2.0.jar;C:\\Users\\grazi.m2\\repository\\org\\junit\\platform\\junit-platform-commons\\1.7.0\\junit-platform-commons-1.7.0.jar;C:\\Users\\grazi.m2\\repository\\junit\\junit\\4.13\\junit-4.13.jar;C:\\Users\\grazi.m2\\repository\\org\\hamcrest\\hamcrest-core\\1.3\\hamcrest-core-1.3.jar;C:\\Users\\grazi.m2\\repository\\org\\webjars\\startbootstrap-sb-admin-2\\4.0.6\\startbootstrap-sb-admin-2-4.0.6.jar;C:\\Users\\grazi.m2\\repository\\org\\webjars\\font-awesome\\5.7.2\\font-awesome-5.7.2.jar;C:\\Users\\grazi.m2\\repository\\org\\webjars\\bootstrap\\4.3.1\\bootstrap-4.3.1.jar;C:\\Users\\grazi.m2\\repository\\org\\webjars\\popper.js\\1.14.3\\popper.js-1.14.3.jar;C:\\Users\\grazi.m2\\repository\\org\\webjars\\chartjs\\2.7.3\\chartjs-2.7.3.jar;C:\\Users\\grazi.m2\\repository\\org\\webjars\\datatables\\1.10.19\\datatables-1.10.19.jar;C:\\Users\\grazi.m2\\repository\\org\\webjars\\jquery-easing\\1.4.1\\jquery-easing-1.4.1.jar;C:\\Users\\grazi.m2\\repository\\org\\mockito\\mockito-core\\3.6.28\\mockito-core-3.6.28.jar;C:\\Users\\grazi.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.10.18\\byte-buddy-1.10.18.jar;C:\\Users\\grazi.m2\\repository\\net\\bytebuddy\\byte-buddy-agent\\1.10.18\\byte-buddy-agent-1.10.18.jar;C:\\Users\\grazi.m2\\repository\\org\\objenesis\\objenesis\\3.1\\objenesis-3.1.jar;C:\\Users\\grazi.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chrome-driver\\3.141.59\\selenium-chrome-driver-3.141.59.jar;C:\\Users\\grazi.m2\\repository\\org\\seleniumhq\\selenium\\selenium-api\\3.141.59\\selenium-api-3.141.59.jar;C:\\Users\\grazi.m2\\repository\\org\\seleniumhq\\selenium\\selenium-remote-driver\\3.141.59\\selenium-remote-driver-3.141.59.jar;C:\\Users\\grazi.m2\\repository\\org\\apache\\commons\\commons-exec\\1.3\\commons-exec-1.3.jar;C:\\Users\\grazi.m2\\repository\\com\\google\\guava\\guava\\25.0-jre\\guava-25.0-jre.jar;C:\\Users\\grazi.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\1.3.9\\jsr305-1.3.9.jar;C:\\Users\\grazi.m2\\repository\\org\\checkerframework\\checker-compat-qual\\2.0.0\\checker-compat-qual-2.0.0.jar;C:\\Users\\grazi.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.1.3\\error_prone_annotations-2.1.3.jar;C:\\Users\\grazi.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.1\\j2objc-annotations-1.1.jar;C:\\Users\\grazi.m2\\repository\\org\\codehaus\\mojo\\animal-sniffer-annotations\\1.14\\animal-sniffer-annotations-1.14.jar;C:\\Users\\grazi.m2\\repository\\com\\squareup\\okhttp3\\okhttp\\3.11.0\\okhttp-3.11.0.jar;C:\\Users\\grazi.m2\\repository\\com\\squareup\\okio\\okio\\1.14.0\\okio-1.14.0.jar;C:\\Users\\grazi.m2\\repository\\io\\github\\bonigarcia\\webdrivermanager\\4.2.2\\webdrivermanager-4.2.2.jar;C:\\Users\\grazi.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.30\\slf4j-api-1.7.30.jar;C:\\Users\\grazi.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.11\\commons-lang3-3.11.jar;C:\\Users\\grazi.m2\\repository\\org\\apache\\httpcomponents\\client5\\httpclient5\\5.0.1\\httpclient5-5.0.1.jar;C:\\Users\\grazi.m2\\repository\\org\\apache\\httpcomponents\\core5\\httpcore5\\5.0.1\\httpcore5-5.0.1.jar;C:\\Users\\grazi.m2\\repository\\org\\apache\\httpcomponents\\core5\\httpcore5-h2\\5.0.1\\httpcore5-h2-5.0.1.jar;C:\\Users\\grazi.m2\\repository\\org\\rauschig\\jarchivelib\\1.1.0\\jarchivelib-1.1.0.jar;C:\\Users\\grazi.m2\\repository\\org\\apache\\commons\\commons-compress\\1.20\\commons-compress-1.20.jar;C:\\Users\\grazi.m2\\repository\\org\\jsoup\\jsoup\\1.13.1\\jsoup-1.13.1.jar;C:\\Users\\grazi.m2\\repository\\org\\apache\\commons\\commons-dbcp2\\2.8.0\\commons-dbcp2-2.8.0.jar;C:\\Users\\grazi.m2\\repository\\org\\apache\\commons\\commons-pool2\\2.8.1\\commons-pool2-2.8.1.jar;C:\\Users\\grazi.m2\\repository\\commons-logging\\commons-logging\\1.2\\commons-logging-1.2.jar;C:\\Users\\grazi.m2\\repository\\com\\h2database\\h2\\1.4.200\\h2-1.4.200.jar;C:\\Users\\grazi.m2\\repository\\org\\projectlombok\\lombok\\1.18.22\\lombok-1.18.22.jar;C:\\Users\\grazi.m2\\repository\\org\\apache\\commons\\commons-email\\1.5\\commons-email-1.5.jar;C:\\Users\\grazi.m2\\repository\\com\\sun\\mail\\javax.mail\\1.5.6\\javax.mail-1.5.6.jar;C:\\Users\\grazi.m2\\repository\\javax\\activation\\activation\\1.1\\activation-1.1.jar;C:\\Users\\grazi.m2\\repository\\org\\webjars\\jquery\\3.5.1\\jquery-3.5.1.jar&quot; com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit5 org.corallosmart.e2e.GestioneContributo.TestEffettuaVersamento</p>\n<p>java.lang.NullPointerException\nat org.corallosmart.e2e.GestioneContributo.TestEffettuaVersamento.testEffettuaVersamento(TestEffettuaVersamento.java:27)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)</p>\n"},{"tags":["java","spring-boot","netbeans","web-deployment"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1673052192,"post_id":75037265,"comment_id":132418339,"body_markdown":"Can you clarify &quot;_in render_&quot;? The tag you used in this question (if you hover over it with your mouse) says &quot;Rendering is the process of generating an image from a model...&quot;. Or do you mean [Render](https://render.com/) - the cloud hosting company? If it&#39;s the service provider, what instructions do they provide, for deploying a webapp in a Docker file? And for checking the Docker-generated logs?","body":"Can you clarify &quot;<i>in render</i>&quot;? The tag you used in this question (if you hover over it with your mouse) says &quot;Rendering is the process of generating an image from a model...&quot;. Or do you mean <a href=\"https://render.com/\" rel=\"nofollow noreferrer\">Render</a> - the cloud hosting company? If it&#39;s the service provider, what instructions do they provide, for deploying a webapp in a Docker file? And for checking the Docker-generated logs?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1673052194,"post_id":75037265,"comment_id":132418340,"body_markdown":"Also, we don&#39;t know how your JAR was built, or what it contains. How do you successfully run it at the command line outside of a Docker container, locally (not using Render)?","body":"Also, we don&#39;t know how your JAR was built, or what it contains. How do you successfully run it at the command line outside of a Docker container, locally (not using Render)?"},{"owner":{"account_id":26753711,"reputation":1,"user_id":20352686,"display_name":"Maria Monchot"},"score":0,"creation_date":1673101717,"post_id":75037265,"comment_id":132424455,"body_markdown":"Hi!, yes sorry, i meant Render- the cloud hosting company.\nMy JAR is created when i click &quot;clean and build&quot; in my project in NetBeans.","body":"Hi!, yes sorry, i meant Render- the cloud hosting company. My JAR is created when i click &quot;clean and build&quot; in my project in NetBeans."},{"owner":{"account_id":26753711,"reputation":1,"user_id":20352686,"display_name":"Maria Monchot"},"score":0,"creation_date":1673102754,"post_id":75037265,"comment_id":132424690,"body_markdown":"I have updated the post with my pom, my application.properties and other things.","body":"I have updated the post with my pom, my application.properties and other things."}],"owner":{"account_id":26753711,"reputation":1,"user_id":20352686,"display_name":"Maria Monchot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673103115,"creation_date":1673051002,"question_id":75037265,"body_markdown":" so, i&#39;ve been trying all day to deploy my project (SpringBoot) in render with docker. All day it has been giving me errors of all kind, after a lot of time and configurations, now happens this, i click manual deploy in render, wait, and then:\r\n\r\n```\r\nJan 7 11:49:44 AM  ==&gt; Cloning from https://github.com/KateClysm/BackEnd-Portfolio-PPA...\r\nJan 7 11:49:48 AM  ==&gt; Checking out commit d2982e0e149b6e90b51265bcb926c1c602f4bc66 in branch main\r\nJan 7 11:49:53 AM  #1 [internal] load .dockerignore\r\nJan 7 11:49:53 AM  #1 transferring context: 2B done\r\nJan 7 11:49:53 AM  #1 DONE 0.0s\r\nJan 7 11:49:53 AM  \r\nJan 7 11:49:53 AM  #2 [internal] load build definition from Dockerfile\r\nJan 7 11:49:53 AM  #2 transferring dockerfile: 205B done\r\nJan 7 11:49:53 AM  #2 DONE 0.0s\r\nJan 7 11:49:53 AM  \r\nJan 7 11:49:53 AM  #3 [internal] load metadata for docker.io/library/amazoncorretto:19-alpine-jdk\r\nJan 7 11:49:53 AM  #3 ...\r\nJan 7 11:49:53 AM  \r\nJan 7 11:49:53 AM  #4 [auth] library/amazoncorretto:pull token for registry-1.docker.io\r\nJan 7 11:49:53 AM  #4 DONE 0.0s\r\nJan 7 11:49:53 AM  \r\nJan 7 11:49:53 AM  #3 [internal] load metadata for docker.io/library/amazoncorretto:19-alpine-jdk\r\nJan 7 11:49:54 AM  #3 DONE 1.0s\r\nJan 7 11:49:54 AM  \r\nJan 7 11:49:54 AM  #5 [1/2] FROM docker.io/library/amazoncorretto:19-alpine-jdk@sha256:46be4d85ae0f45ee7144fcb0d785907b960ee273f6e3d759b6e0c39bf03e5387\r\nJan 7 11:49:54 AM  #5 resolve docker.io/library/amazoncorretto:19-alpine-jdk@sha256:46be4d85ae0f45ee7144fcb0d785907b960ee273f6e3d759b6e0c39bf03e5387 0.1s done\r\nJan 7 11:49:54 AM  #5 DONE 0.1s\r\nJan 7 11:49:54 AM  \r\nJan 7 11:49:54 AM  #6 [internal] load build context\r\nJan 7 11:49:55 AM  #6 transferring context: 43.14MB 1.9s done\r\nJan 7 11:49:55 AM  #6 DONE 1.9s\r\nJan 7 11:49:55 AM  \r\nJan 7 11:49:55 AM  #5 [1/2] FROM docker.io/library/amazoncorretto:19-alpine-jdk@sha256:46be4d85ae0f45ee7144fcb0d785907b960ee273f6e3d759b6e0c39bf03e5387\r\nJan 7 11:49:55 AM  #5 extracting sha256:ca7dd9ec2225f2385955c43b2379305acd51543c28cf1d4e94522b3d94cce3ce 0.6s done\r\nJan 7 11:49:57 AM  #5 extracting sha256:b953496144a820faf3b5884ddfc542a98cc07f6a24635f26015e7c8d0ef19efe\r\nJan 7 11:50:00 AM  #5 extracting sha256:b953496144a820faf3b5884ddfc542a98cc07f6a24635f26015e7c8d0ef19efe 3.4s done\r\nJan 7 11:50:00 AM  #5 DONE 6.4s\r\nJan 7 11:50:00 AM  \r\nJan 7 11:50:00 AM  #7 [2/2] COPY target/mm-0.0.1-SNAPSHOT.jar mm-0.0.1-SNAPSHOT.jar\r\nJan 7 11:50:00 AM  #7 DONE 0.1s\r\nJan 7 11:50:00 AM  \r\nJan 7 11:50:00 AM  #8 exporting to oci image format\r\nJan 7 11:50:00 AM  #8 exporting layers\r\nJan 7 11:50:02 AM  #8 exporting layers 2.0s done\r\nJan 7 11:50:02 AM  #8 exporting manifest sha256:64870a046ea759b329252fecb6255049c33b7b4372b0d30cb785c7fed8d1fb60 done\r\nJan 7 11:50:02 AM  #8 exporting config sha256:36ccfedfb44c6ca4b7ef9bd3b86498a12a33d4daa9eb7b353c2c540d0cf726b4 done\r\nJan 7 11:50:10 AM  #8 DONE 10.2s\r\nJan 7 11:50:10 AM  \r\nJan 7 11:50:10 AM  #9 exporting cache\r\nJan 7 11:50:18 AM  #9 DONE 7.3s\r\nJan 7 11:50:19 AM  Pushing image to registry...\r\nJan 7 11:50:24 AM  Upload succeeded\r\nJan 7 11:50:24 AM  DONE\r\n```\r\n\r\nNo more lines, no explanation, and the deploy fails. \r\n\r\n\r\nmy Dockerfile:\r\n```\r\nFROM amazoncorretto:19-alpine-jdk\r\nMAINTAINER emaaristimuno\r\nCOPY target/mm-0.0.1-SNAPSHOT.jar mm-0.0.1-SNAPSHOT.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/mm-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nps: I&#39;m using NetBeans.\r\n\r\nThe docs about Docker and MySQL in Render are this:\r\nhttps://render.com/docs/deploy-mysql\r\nBut they don&#39;t really help me much. \r\n\r\nMy POM:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.portfolio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mm&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;mm&lt;/name&gt;\r\n    &lt;description&gt;Portfolio Maria Monchot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nmy application.properties:\r\n \r\n```\r\n#Ambientes de prueba\r\n#spring.datasource.url=jdbc:mysql://localhost:3306/backendmm?useSSL=false&amp;serverTimezone=UTC\r\n#spring.datasource.username=root\r\n#spring.datasorce.password=\r\n\r\n#Ambientes de producci&#243;n\r\nspring.datasource.url=jdbc:mysql:urlfrommydatabase\r\nspring.datasource.username=userfrommydatabase\r\nspring.datasorce.password=passwordfrommydatabase\r\n\r\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.show-sql=true\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\n#spring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.datasource.hikari.maximum-pool-size=2\r\n\r\n#JWT\r\njwt.secret = secret\r\njwt.expiration = 3600\r\n```\r\n\r\nThe path of my JAR:\r\nC:\\Users\\Katerina\\Desktop\\Proyecto Portfolio PPA\\BackEnd-Portfolio-PPA\\target\\mm-0.0.1-SNAPSHOT.jar\r\n\r\n\r\n","title":"render fails after pushing image","body":"<p>so, i've been trying all day to deploy my project (SpringBoot) in render with docker. All day it has been giving me errors of all kind, after a lot of time and configurations, now happens this, i click manual deploy in render, wait, and then:</p>\n<pre><code>Jan 7 11:49:44 AM  ==&gt; Cloning from https://github.com/KateClysm/BackEnd-Portfolio-PPA...\nJan 7 11:49:48 AM  ==&gt; Checking out commit d2982e0e149b6e90b51265bcb926c1c602f4bc66 in branch main\nJan 7 11:49:53 AM  #1 [internal] load .dockerignore\nJan 7 11:49:53 AM  #1 transferring context: 2B done\nJan 7 11:49:53 AM  #1 DONE 0.0s\nJan 7 11:49:53 AM  \nJan 7 11:49:53 AM  #2 [internal] load build definition from Dockerfile\nJan 7 11:49:53 AM  #2 transferring dockerfile: 205B done\nJan 7 11:49:53 AM  #2 DONE 0.0s\nJan 7 11:49:53 AM  \nJan 7 11:49:53 AM  #3 [internal] load metadata for docker.io/library/amazoncorretto:19-alpine-jdk\nJan 7 11:49:53 AM  #3 ...\nJan 7 11:49:53 AM  \nJan 7 11:49:53 AM  #4 [auth] library/amazoncorretto:pull token for registry-1.docker.io\nJan 7 11:49:53 AM  #4 DONE 0.0s\nJan 7 11:49:53 AM  \nJan 7 11:49:53 AM  #3 [internal] load metadata for docker.io/library/amazoncorretto:19-alpine-jdk\nJan 7 11:49:54 AM  #3 DONE 1.0s\nJan 7 11:49:54 AM  \nJan 7 11:49:54 AM  #5 [1/2] FROM docker.io/library/amazoncorretto:19-alpine-jdk@sha256:46be4d85ae0f45ee7144fcb0d785907b960ee273f6e3d759b6e0c39bf03e5387\nJan 7 11:49:54 AM  #5 resolve docker.io/library/amazoncorretto:19-alpine-jdk@sha256:46be4d85ae0f45ee7144fcb0d785907b960ee273f6e3d759b6e0c39bf03e5387 0.1s done\nJan 7 11:49:54 AM  #5 DONE 0.1s\nJan 7 11:49:54 AM  \nJan 7 11:49:54 AM  #6 [internal] load build context\nJan 7 11:49:55 AM  #6 transferring context: 43.14MB 1.9s done\nJan 7 11:49:55 AM  #6 DONE 1.9s\nJan 7 11:49:55 AM  \nJan 7 11:49:55 AM  #5 [1/2] FROM docker.io/library/amazoncorretto:19-alpine-jdk@sha256:46be4d85ae0f45ee7144fcb0d785907b960ee273f6e3d759b6e0c39bf03e5387\nJan 7 11:49:55 AM  #5 extracting sha256:ca7dd9ec2225f2385955c43b2379305acd51543c28cf1d4e94522b3d94cce3ce 0.6s done\nJan 7 11:49:57 AM  #5 extracting sha256:b953496144a820faf3b5884ddfc542a98cc07f6a24635f26015e7c8d0ef19efe\nJan 7 11:50:00 AM  #5 extracting sha256:b953496144a820faf3b5884ddfc542a98cc07f6a24635f26015e7c8d0ef19efe 3.4s done\nJan 7 11:50:00 AM  #5 DONE 6.4s\nJan 7 11:50:00 AM  \nJan 7 11:50:00 AM  #7 [2/2] COPY target/mm-0.0.1-SNAPSHOT.jar mm-0.0.1-SNAPSHOT.jar\nJan 7 11:50:00 AM  #7 DONE 0.1s\nJan 7 11:50:00 AM  \nJan 7 11:50:00 AM  #8 exporting to oci image format\nJan 7 11:50:00 AM  #8 exporting layers\nJan 7 11:50:02 AM  #8 exporting layers 2.0s done\nJan 7 11:50:02 AM  #8 exporting manifest sha256:64870a046ea759b329252fecb6255049c33b7b4372b0d30cb785c7fed8d1fb60 done\nJan 7 11:50:02 AM  #8 exporting config sha256:36ccfedfb44c6ca4b7ef9bd3b86498a12a33d4daa9eb7b353c2c540d0cf726b4 done\nJan 7 11:50:10 AM  #8 DONE 10.2s\nJan 7 11:50:10 AM  \nJan 7 11:50:10 AM  #9 exporting cache\nJan 7 11:50:18 AM  #9 DONE 7.3s\nJan 7 11:50:19 AM  Pushing image to registry...\nJan 7 11:50:24 AM  Upload succeeded\nJan 7 11:50:24 AM  DONE\n</code></pre>\n<p>No more lines, no explanation, and the deploy fails.</p>\n<p>my Dockerfile:</p>\n<pre><code>FROM amazoncorretto:19-alpine-jdk\nMAINTAINER emaaristimuno\nCOPY target/mm-0.0.1-SNAPSHOT.jar mm-0.0.1-SNAPSHOT.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/mm-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>ps: I'm using NetBeans.</p>\n<p>The docs about Docker and MySQL in Render are this:\n<a href=\"https://render.com/docs/deploy-mysql\" rel=\"nofollow noreferrer\">https://render.com/docs/deploy-mysql</a>\nBut they don't really help me much.</p>\n<p>My POM:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.portfolio&lt;/groupId&gt;\n    &lt;artifactId&gt;mm&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mm&lt;/name&gt;\n    &lt;description&gt;Portfolio Maria Monchot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>my application.properties:</p>\n<pre><code>#Ambientes de prueba\n#spring.datasource.url=jdbc:mysql://localhost:3306/backendmm?useSSL=false&amp;serverTimezone=UTC\n#spring.datasource.username=root\n#spring.datasorce.password=\n\n#Ambientes de producción\nspring.datasource.url=jdbc:mysql:urlfrommydatabase\nspring.datasource.username=userfrommydatabase\nspring.datasorce.password=passwordfrommydatabase\n\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql=true\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\n#spring.jpa.hibernate.ddl-auto=update\nspring.jpa.hibernate.ddl-auto=none\nspring.datasource.hikari.maximum-pool-size=2\n\n#JWT\njwt.secret = secret\njwt.expiration = 3600\n</code></pre>\n<p>The path of my JAR:\nC:\\Users\\Katerina\\Desktop\\Proyecto Portfolio PPA\\BackEnd-Portfolio-PPA\\target\\mm-0.0.1-SNAPSHOT.jar</p>\n"},{"tags":["java","intellij-idea","pom.xml"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673104890,"post_id":75041233,"comment_id":132425180,"body_markdown":"Create a Main Maven Project `pom.xml`,  add `   &lt;modules&gt;\n        &lt;module&gt;jee-ejb&lt;/module&gt;\n        &lt;module&gt;jee-web&lt;/module&gt;\n        &lt;module&gt;jee-ear&lt;/module&gt;\n    &lt;/modules&gt;` , use `File` -&gt; `Open` open main maven project","body":"Create a Main Maven Project <code>pom.xml</code>,  add `   &lt;modules&gt;         &lt;module&gt;jee-ejb&lt;/module&gt;         &lt;module&gt;jee-web&lt;/module&gt;         &lt;module&gt;jee-ear&lt;/module&gt;     &lt;/modules&gt;` , use <code>File</code> -&gt; <code>Open</code> open main maven project"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1673357944,"post_id":75041233,"comment_id":132476760,"body_markdown":"`I am trying to open File-&gt;New-&gt;Module from Existing source it gives me error:` where do you see this error? After what actions?","body":"<code>I am trying to open File-&gt;New-&gt;Module from Existing source it gives me error:</code> where do you see this error? After what actions?"},{"owner":{"account_id":8470319,"reputation":23,"user_id":18730109,"display_name":"Adam"},"score":0,"creation_date":1673363196,"post_id":75041233,"comment_id":132478746,"body_markdown":"After running the code, it seems that there is no connection between those projects. It is the message above.","body":"After running the code, it seems that there is no connection between those projects. It is the message above."}],"owner":{"account_id":8470319,"reputation":23,"user_id":18730109,"display_name":"Adam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673102905,"creation_date":1673102905,"question_id":75041233,"body_markdown":"I have a project which is based on 3 different projects, which are connected to each other (one has objects, other two are frameworks with methods). I have issue with connecting them to each other in IntelliJ Community.\r\n\r\nIn Eclipse it is a simple case - open new project, import maven project, again with 2nd, again with 3rd, cooperating perfectly.\r\n\r\nHowever I cannot find that kind of an option in Intellij. I am trying to open File-&gt;New-&gt;Module from Existing source it gives me error:\r\n\r\n    Exception in thread “main” java.lang.ExceptionInInitializerError\r\n\r\nit is like those 2 projects cannot see each other.","title":"How to import 3 different POM.xlm to make them work together","body":"<p>I have a project which is based on 3 different projects, which are connected to each other (one has objects, other two are frameworks with methods). I have issue with connecting them to each other in IntelliJ Community.</p>\n<p>In Eclipse it is a simple case - open new project, import maven project, again with 2nd, again with 3rd, cooperating perfectly.</p>\n<p>However I cannot find that kind of an option in Intellij. I am trying to open File-&gt;New-&gt;Module from Existing source it gives me error:</p>\n<pre><code>Exception in thread “main” java.lang.ExceptionInInitializerError\n</code></pre>\n<p>it is like those 2 projects cannot see each other.</p>\n"},{"tags":["java","if-statement","bit-manipulation","bitwise-operators","bitwise-and"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1673089305,"post_id":75039760,"comment_id":132422220,"body_markdown":"Operator precedence. And those are parenthesis, not brackets.","body":"Operator precedence. And those are parenthesis, not brackets."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1673089459,"post_id":75039760,"comment_id":132422240,"body_markdown":"Where are the _curly_ brackets exactly? I can only see regular parentheses around your bitwise expression. Without them, it would be parsed as `a &amp; (1==1)` and you cannot perform `&amp;` on an `int` and `boolean`.","body":"Where are the <i>curly</i> brackets exactly? I can only see regular parentheses around your bitwise expression. Without them, it would be parsed as <code>a &amp; (1==1)</code> and you cannot perform <code>&amp;</code> on an <code>int</code> and <code>boolean</code>."},{"owner":{"account_id":43736,"reputation":9289,"user_id":127971,"display_name":"michael"},"score":2,"creation_date":1673090831,"post_id":75039760,"comment_id":132422476,"body_markdown":"reference for operator precedence: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html","body":"reference for operator precedence: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27428582,"reputation":11,"user_id":20925658,"display_name":"Ameen Halawani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673090578,"creation_date":1673090578,"answer_id":75039918,"question_id":75039760,"body_markdown":"If i&#39;m not mistaken its because if the ( ) are not there it would read as :\r\n\r\n    a &amp; (1 == 1) \r\n\r\nHope this helps.\r\n\r\n","title":"Bitwise operator in java&#39;s if condition has to be written inside parentheses. Why is it so?","body":"<p>If i'm not mistaken its because if the ( ) are not there it would read as :</p>\n<pre><code>a &amp; (1 == 1) \n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673100945,"creation_date":1673100555,"answer_id":75040953,"question_id":75039760,"body_markdown":"Operator precedence rules. `==` has higher precedence than `&amp;` and `|` and `^`.\r\n\r\nWhy is that? Because `==` having higher precendence than `||`/`&amp;&amp;` is the right thing to do, and there is a plausible argument that `|` and `&amp;` should have a similar precedence level because the operators are similar in looks and meaning.\r\n\r\nRead on for a detailed explanation.\r\n\r\n## What is operator precedence?\r\n\r\nGiven `a &#167; b &#167; c &#167; d` where `&#167;` stands for &#39;some arbitrary operator&#39;, how does the language &#39;pair up&#39; the expression? Is that to be parsed as `(a &#167; b) &#167; (c &#167; d)`, or `((a &#167; b) &#167; c) &#167; d`, or `a &#167; (b &#167; (c &#167; d))`? Some languages say: Always left to right. But that&#39;s not how math itself works; e.g. `5 * 2 + 10 * 5` is to be read as `(5 * 2) + (10 * 5)` because multiply has higher &#39;precedence&#39;.\r\n\r\nMost programming languages copied &#39;math&#39; and define sets of operators together in increasing precedence orders. Any operator from a higher precedence level is resolved first. Thus, in java, `int x = 5 * 2 + 10 * 5` results in `x` having the value 60 (`(5 * 2) + (10 * 5)`), matching common mathematics. _Every_ operator is mentioned in the operator precedence table.\r\n\r\n`==` has higher precedence than `&amp;`, meaning, these:\r\n\r\n* `a &amp; b == c`\r\n* `a == b &amp; c`\r\n\r\nare treated as:\r\n\r\n* `a &amp; (b == c)`\r\n* `(a == b) &amp; c`\r\n\r\nHence, you have to write `(a &amp; 1) == 1` because if you don&#39;t add the parens, java treats it as `a &amp; (1 == 1)`. Parentheses are the tool you use to &#39;override&#39; the order in which java is to resolve your chain of operators.\r\n\r\nGoing one level deeper, _why_ would a language designer set it up like this?\r\n\r\n## booleans are just values\r\n\r\nFirst, keep in mind when reading this answer that booleans are just values that themselves can have operators applied to them. `a == b` is a boolean value, and thus, `a == b == c` is perfectly valid java:\r\n\r\n```\r\nint a = 5;\r\nint b = 10;\r\nboolean c = false;\r\nif (a == b == c) System.out.println(&quot;A&quot;);\r\n```\r\n\r\nThis prints `A`. Why would a language designer &#39;allow&#39; it? The question is more: Why would they explicitly disallow it? What would you write in the language specification to make this not possible? An additional restriction that the expressions that are part of an `==` binary operation are restricted and have to be atomic? That&#39;d be quite annoying; it would mean I couldn&#39;t write `a + b == c + d` and then you or someone else would be asking a question about: &quot;Why can&#39;t I do that&quot;?\r\n\r\n## Precedence of `&amp;&amp;` and `||`\r\n\r\nConsider the boolean variants, `&amp;&amp;` and `||`. The precedence order actually makes sense. If I write:\r\n\r\n`if (a == b || c == d) {}`\r\n\r\nIt&#39;s rather obvious that the intent is: &quot;If a equals b OR c equals d&quot;, and not that the intent is: &quot;Calculate if `a` is equal to the result of calculating `b || c`. Then, this value (`true`) - is that equal to `d`? That last one is crazy. And yet that&#39;s what would happen if `&amp;&amp;`/`||` has higher precedence than `==`. Or, that this is to be read as: &quot;Take the `true/false` value you get by evaluation `a == b`, then `||` that with boolean value `c`, getting you another boolean value. Is that boolean value equal to `d`?\r\n\r\nHence, giving `==` higher precedence than `&amp;&amp;` and `||` is the obvious thing to do, good job, language designers.\r\n\r\n## Finally: Precedence of `&amp;`, `|`, and `^`\r\n\r\nThat finally gets us to the precedence of `&amp;`, `|`, and `^`. As per the [java documentation on operator precedence](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html), they have higher precedence than `||` and `&amp;&amp;`, but lower precedence than `==`, hence why you need those parentheses.\r\n\r\nWhy is that? It&#39;s tricky. On one hand its sensible to keep their operator precedence &#39;close&#39; to their `&amp;&amp;` and `||` variants because `&amp;` and `&amp;&amp;` feel so similar. On the other hand, in practical use its perhaps more common you&#39;d want them to have higher precedence than `==`/`!=`. There are good reasons for both of these.\r\n\r\nJava chose to keep them close to `&amp;&amp;` and `||` (but, one precedence level &#39;higher&#39;, which is perhaps the larger WTF in this, that seems like an unnecessary amount of separate levels).\r\n\r\nLet&#39;s go __another level__.\r\n\r\n## Why did java choose that wonky precedence order?\r\n\r\nBecause when java was designed, a _lot_ of business programming was done in C or C++. Hence, java by design copies all syntax of C it can without causing problems. And [The C operator precedence list](https://en.cppreference.com/w/c/language/operator_precedence) should look familiar - it&#39;s identical to java&#39;s. That&#39;s intentional: Java just copied C&#39;s list. Why did java do this? Presumably to ensure that java code __looked__ familiar to C coders, making it easier for them to make the decision to learn java. Say what you will about this crazy scheme, it sure seems to have worked. Of all the hundreds of languages around, java &#39;won&#39;.\r\n\r\nSo, why does java&#39;s operator precedence list look like that? Simple. Because C&#39;s did.\r\n\r\nLet&#39;s go to a third level?\r\n\r\n## Why is C&#39;s list like that?\r\n\r\nI don&#39;t know. Perhaps you have to ask the designers of C, the language: [Dennis Ritchie](https://en.wikipedia.org/wiki/C_(programming_language)). He died over a decade ago so that might be tough. Also, I bet he just copied it from B or whatnot.\r\n","title":"Bitwise operator in java&#39;s if condition has to be written inside parentheses. Why is it so?","body":"<p>Operator precedence rules. <code>==</code> has higher precedence than <code>&amp;</code> and <code>|</code> and <code>^</code>.</p>\n<p>Why is that? Because <code>==</code> having higher precendence than <code>||</code>/<code>&amp;&amp;</code> is the right thing to do, and there is a plausible argument that <code>|</code> and <code>&amp;</code> should have a similar precedence level because the operators are similar in looks and meaning.</p>\n<p>Read on for a detailed explanation.</p>\n<h2>What is operator precedence?</h2>\n<p>Given <code>a § b § c § d</code> where <code>§</code> stands for 'some arbitrary operator', how does the language 'pair up' the expression? Is that to be parsed as <code>(a § b) § (c § d)</code>, or <code>((a § b) § c) § d</code>, or <code>a § (b § (c § d))</code>? Some languages say: Always left to right. But that's not how math itself works; e.g. <code>5 * 2 + 10 * 5</code> is to be read as <code>(5 * 2) + (10 * 5)</code> because multiply has higher 'precedence'.</p>\n<p>Most programming languages copied 'math' and define sets of operators together in increasing precedence orders. Any operator from a higher precedence level is resolved first. Thus, in java, <code>int x = 5 * 2 + 10 * 5</code> results in <code>x</code> having the value 60 (<code>(5 * 2) + (10 * 5)</code>), matching common mathematics. <em>Every</em> operator is mentioned in the operator precedence table.</p>\n<p><code>==</code> has higher precedence than <code>&amp;</code>, meaning, these:</p>\n<ul>\n<li><code>a &amp; b == c</code></li>\n<li><code>a == b &amp; c</code></li>\n</ul>\n<p>are treated as:</p>\n<ul>\n<li><code>a &amp; (b == c)</code></li>\n<li><code>(a == b) &amp; c</code></li>\n</ul>\n<p>Hence, you have to write <code>(a &amp; 1) == 1</code> because if you don't add the parens, java treats it as <code>a &amp; (1 == 1)</code>. Parentheses are the tool you use to 'override' the order in which java is to resolve your chain of operators.</p>\n<p>Going one level deeper, <em>why</em> would a language designer set it up like this?</p>\n<h2>booleans are just values</h2>\n<p>First, keep in mind when reading this answer that booleans are just values that themselves can have operators applied to them. <code>a == b</code> is a boolean value, and thus, <code>a == b == c</code> is perfectly valid java:</p>\n<pre><code>int a = 5;\nint b = 10;\nboolean c = false;\nif (a == b == c) System.out.println(&quot;A&quot;);\n</code></pre>\n<p>This prints <code>A</code>. Why would a language designer 'allow' it? The question is more: Why would they explicitly disallow it? What would you write in the language specification to make this not possible? An additional restriction that the expressions that are part of an <code>==</code> binary operation are restricted and have to be atomic? That'd be quite annoying; it would mean I couldn't write <code>a + b == c + d</code> and then you or someone else would be asking a question about: &quot;Why can't I do that&quot;?</p>\n<h2>Precedence of <code>&amp;&amp;</code> and <code>||</code></h2>\n<p>Consider the boolean variants, <code>&amp;&amp;</code> and <code>||</code>. The precedence order actually makes sense. If I write:</p>\n<p><code>if (a == b || c == d) {}</code></p>\n<p>It's rather obvious that the intent is: &quot;If a equals b OR c equals d&quot;, and not that the intent is: &quot;Calculate if <code>a</code> is equal to the result of calculating <code>b || c</code>. Then, this value (<code>true</code>) - is that equal to <code>d</code>? That last one is crazy. And yet that's what would happen if <code>&amp;&amp;</code>/<code>||</code> has higher precedence than <code>==</code>. Or, that this is to be read as: &quot;Take the <code>true/false</code> value you get by evaluation <code>a == b</code>, then <code>||</code> that with boolean value <code>c</code>, getting you another boolean value. Is that boolean value equal to <code>d</code>?</p>\n<p>Hence, giving <code>==</code> higher precedence than <code>&amp;&amp;</code> and <code>||</code> is the obvious thing to do, good job, language designers.</p>\n<h2>Finally: Precedence of <code>&amp;</code>, <code>|</code>, and <code>^</code></h2>\n<p>That finally gets us to the precedence of <code>&amp;</code>, <code>|</code>, and <code>^</code>. As per the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">java documentation on operator precedence</a>, they have higher precedence than <code>||</code> and <code>&amp;&amp;</code>, but lower precedence than <code>==</code>, hence why you need those parentheses.</p>\n<p>Why is that? It's tricky. On one hand its sensible to keep their operator precedence 'close' to their <code>&amp;&amp;</code> and <code>||</code> variants because <code>&amp;</code> and <code>&amp;&amp;</code> feel so similar. On the other hand, in practical use its perhaps more common you'd want them to have higher precedence than <code>==</code>/<code>!=</code>. There are good reasons for both of these.</p>\n<p>Java chose to keep them close to <code>&amp;&amp;</code> and <code>||</code> (but, one precedence level 'higher', which is perhaps the larger WTF in this, that seems like an unnecessary amount of separate levels).</p>\n<p>Let's go <strong>another level</strong>.</p>\n<h2>Why did java choose that wonky precedence order?</h2>\n<p>Because when java was designed, a <em>lot</em> of business programming was done in C or C++. Hence, java by design copies all syntax of C it can without causing problems. And <a href=\"https://en.cppreference.com/w/c/language/operator_precedence\" rel=\"nofollow noreferrer\">The C operator precedence list</a> should look familiar - it's identical to java's. That's intentional: Java just copied C's list. Why did java do this? Presumably to ensure that java code <strong>looked</strong> familiar to C coders, making it easier for them to make the decision to learn java. Say what you will about this crazy scheme, it sure seems to have worked. Of all the hundreds of languages around, java 'won'.</p>\n<p>So, why does java's operator precedence list look like that? Simple. Because C's did.</p>\n<p>Let's go to a third level?</p>\n<h2>Why is C's list like that?</h2>\n<p>I don't know. Perhaps you have to ask the designers of C, the language: <a href=\"https://en.wikipedia.org/wiki/C_(programming_language)\" rel=\"nofollow noreferrer\">Dennis Ritchie</a>. He died over a decade ago so that might be tough. Also, I bet he just copied it from B or whatnot.</p>\n"},{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673102845,"creation_date":1673102845,"answer_id":75041223,"question_id":75039760,"body_markdown":"As explained in other answers, the &#39;==&#39; operator has higher priority than the &#39;&amp;&#39; operator.  As also stated, Java inherited this from C. This answer adds a little historical background.\r\n\r\nC in its turn got its operator priorities from B. Don&#39;t forget that C did not arrive fully-formed; it underwent stages of development.  &#39;&amp;&#39; and &#39;|&#39; existed in C, and were used for logical connectives, before the short-circuiting operators &#39;&amp;&amp;&#39; and &#39;||&#39; were added.\r\n\r\nDennis Ritchie has said that, in retrospect, it&#39;s a blemish on the current C language to have &#39;==&#39; higher priority than &#39;&amp;&#39; or &#39;|&#39;, which they should have fixed when &#39;&amp;&amp;&#39; and &#39;||&#39; were added.\r\n\r\n&gt; In B one writes `if (a==b &amp; c) ...` to check whether a equals b and c\r\n&gt; is non-zero; in such a conditional expression it is better that &amp; have\r\n&gt; lower precedence than ==. In converting from B to C, one wants to replace &amp; by &amp;&amp; in such a statement; to make the conversion less painful, we decided to keep the precedence of the &amp; operator the same relative to ==, and merely split the precedence of &amp;&amp; slightly from &amp;. Today, it seems that it would have been preferable to move the relative precedences of &amp; and ==, and thereby simplify a common C idiom: to test a masked value against another value, one must write `if ((a&amp;mask) == b) ...`\r\nwhere the inner parentheses are required but easily forgotten.\r\n\r\nLink: [The Development of the C Language](https://www.bell-labs.com/usr/dmr/www/chist.html).","title":"Bitwise operator in java&#39;s if condition has to be written inside parentheses. Why is it so?","body":"<p>As explained in other answers, the '==' operator has higher priority than the '&amp;' operator.  As also stated, Java inherited this from C. This answer adds a little historical background.</p>\n<p>C in its turn got its operator priorities from B. Don't forget that C did not arrive fully-formed; it underwent stages of development.  '&amp;' and '|' existed in C, and were used for logical connectives, before the short-circuiting operators '&amp;&amp;' and '||' were added.</p>\n<p>Dennis Ritchie has said that, in retrospect, it's a blemish on the current C language to have '==' higher priority than '&amp;' or '|', which they should have fixed when '&amp;&amp;' and '||' were added.</p>\n<blockquote>\n<p>In B one writes <code>if (a==b &amp; c) ...</code> to check whether a equals b and c\nis non-zero; in such a conditional expression it is better that &amp; have\nlower precedence than ==. In converting from B to C, one wants to replace &amp; by &amp;&amp; in such a statement; to make the conversion less painful, we decided to keep the precedence of the &amp; operator the same relative to ==, and merely split the precedence of &amp;&amp; slightly from &amp;. Today, it seems that it would have been preferable to move the relative precedences of &amp; and ==, and thereby simplify a common C idiom: to test a masked value against another value, one must write <code>if ((a&amp;mask) == b) ...</code>\nwhere the inner parentheses are required but easily forgotten.</p>\n</blockquote>\n<p>Link: <a href=\"https://www.bell-labs.com/usr/dmr/www/chist.html\" rel=\"nofollow noreferrer\">The Development of the C Language</a>.</p>\n"}],"owner":{"account_id":27384357,"reputation":21,"user_id":20888463,"display_name":"keshav sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75040953,"answer_count":3,"score":0,"last_activity_date":1673102845,"creation_date":1673089097,"question_id":75039760,"body_markdown":"I can&#39;t seem to write bitwise operators (e.g. `&amp;`) without parentheses like other operators (e.g. `%`, `/`, `+`, etc.) in if condition in Java.\r\n   \r\n   ```java\r\n   import java.util.*;\r\n\r\n   public class alpha{\r\n       public static void main(String args[]){\r\n         Scanner sc = new Scanner(System.in);\r\n         int a = sc.nextInt();\r\n         if ((a&amp;1) == 1) {\r\n             System.out.println(&quot;Odd&quot;);\r\n         } else{\r\n             System.out.println(&quot;Even&quot;);\r\n         }\r\n       }\r\n   }\r\n```\r\n\r\n\r\nThis code works, but I want to know why I have to put parentheses around the bitwise operator in order for it to work.","title":"Bitwise operator in java&#39;s if condition has to be written inside parentheses. Why is it so?","body":"<p>I can't seem to write bitwise operators (e.g. <code>&amp;</code>) without parentheses like other operators (e.g. <code>%</code>, <code>/</code>, <code>+</code>, etc.) in if condition in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class alpha{\n    public static void main(String args[]){\n      Scanner sc = new Scanner(System.in);\n      int a = sc.nextInt();\n      if ((a&amp;1) == 1) {\n          System.out.println(&quot;Odd&quot;);\n      } else{\n          System.out.println(&quot;Even&quot;);\n      }\n    }\n}\n</code></pre>\n<p>This code works, but I want to know why I have to put parentheses around the bitwise operator in order for it to work.</p>\n"},{"tags":["java","arrays","multidimensional-array","random"],"comments":[{"owner":{"account_id":27461951,"reputation":11,"user_id":20952378,"display_name":"Mikolaj Ciuraba"},"score":0,"creation_date":1673102416,"post_id":75041041,"comment_id":132424600,"body_markdown":"Okay, while changing the while(x &lt; 24) to while(x &lt; 100) it started working? I don&#39;t know why this approach works, but I think my code still has a big flaw.","body":"Okay, while changing the while(x &lt; 24) to while(x &lt; 100) it started working? I don&#39;t know why this approach works, but I think my code still has a big flaw."},{"owner":{"account_id":27461951,"reputation":11,"user_id":20952378,"display_name":"Mikolaj Ciuraba"},"score":0,"creation_date":1673102623,"post_id":75041041,"comment_id":132424659,"body_markdown":"Nevermind, I have figured it out. I have moved the x+=1 into the if statements and everything works perfectly. Case solved!","body":"Nevermind, I have figured it out. I have moved the x+=1 into the if statements and everything works perfectly. Case solved!"},{"owner":{"account_id":540573,"reputation":12635,"user_id":908821,"accept_rate":68,"display_name":"Angel Koh"},"score":0,"creation_date":1673103791,"post_id":75041041,"comment_id":132424944,"body_markdown":"For more ways of shuffling a list of numbers from 1-n,  you can also look at https://stackoverflow.com/a/4262134/908821","body":"For more ways of shuffling a list of numbers from 1-n,  you can also look at <a href=\"https://stackoverflow.com/a/4262134/908821\">stackoverflow.com/a/4262134/908821</a>"}],"answers":[{"tags":[],"owner":{"account_id":27461951,"reputation":11,"user_id":20952378,"display_name":"Mikolaj Ciuraba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673102778,"creation_date":1673102778,"answer_id":75041216,"question_id":75041041,"body_markdown":"I have solved my own question (I think).\r\n\r\nWhat I have changed is that in the sequenceMaker() function, I have moved the x+=1 into the if statements. The code looks like this :\r\n\r\n    public static void sequenceMaker(int[][] board2D) {\r\n        Random rand = new Random();\r\n        int m = 1;\r\n        int x = 0;\r\n\r\n        while(x &lt; 25){\r\n            int columnRandom = rand.nextInt(5); // random column\r\n            int rowsRandom = rand.nextInt(5); // random row\r\n\r\n            if(board2D[columnRandom][rowsRandom] == 0) {\r\n                board2D[columnRandom][rowsRandom] = m;\r\n                m += 1;\r\n                x += 1;\r\n            }\r\n            else if(board2D[columnRandom][rowsRandom] != 0) {\r\n                while(board2D[columnRandom][rowsRandom] == 0) {\r\n                    columnRandom = rand.nextInt(5);\r\n                    rowsRandom = rand.nextInt(5);\r\n\r\n                    board2D[columnRandom][rowsRandom] = m;\r\n\r\n                    m+=1;\r\n                    x += 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI hope my mediocrity helped someone!","title":"How to make every index of 2D array a random integer?","body":"<p>I have solved my own question (I think).</p>\n<p>What I have changed is that in the sequenceMaker() function, I have moved the x+=1 into the if statements. The code looks like this :</p>\n<pre><code>public static void sequenceMaker(int[][] board2D) {\n    Random rand = new Random();\n    int m = 1;\n    int x = 0;\n\n    while(x &lt; 25){\n        int columnRandom = rand.nextInt(5); // random column\n        int rowsRandom = rand.nextInt(5); // random row\n\n        if(board2D[columnRandom][rowsRandom] == 0) {\n            board2D[columnRandom][rowsRandom] = m;\n            m += 1;\n            x += 1;\n        }\n        else if(board2D[columnRandom][rowsRandom] != 0) {\n            while(board2D[columnRandom][rowsRandom] == 0) {\n                columnRandom = rand.nextInt(5);\n                rowsRandom = rand.nextInt(5);\n\n                board2D[columnRandom][rowsRandom] = m;\n\n                m+=1;\n                x += 1;\n            }\n        }\n    }\n}\n</code></pre>\n<p>I hope my mediocrity helped someone!</p>\n"},{"tags":[],"owner":{"account_id":27397242,"reputation":36,"user_id":20899247,"display_name":"Fahad Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673102794,"creation_date":1673102794,"answer_id":75041219,"question_id":75041041,"body_markdown":"    public static void sequenceMaker(int[][] board2D) {\r\n        //it will initialize your array with random integers \r\n        Random rand = new Random();\r\n\r\n        for(int i=0; i&lt;board2D.length; i++){\r\n            for(int j=0; j &lt; board2D[i].length; j++ ){\r\n                int randomNo = rand.nextInt(20); //you can change the bound as required\r\n                board2D[i][j] = randomNo;\r\n            }\r\n        }\r\n    }","title":"How to make every index of 2D array a random integer?","body":"<pre><code>public static void sequenceMaker(int[][] board2D) {\n    //it will initialize your array with random integers \n    Random rand = new Random();\n\n    for(int i=0; i&lt;board2D.length; i++){\n        for(int j=0; j &lt; board2D[i].length; j++ ){\n            int randomNo = rand.nextInt(20); //you can change the bound as required\n            board2D[i][j] = randomNo;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27461951,"reputation":11,"user_id":20952378,"display_name":"Mikolaj Ciuraba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673102794,"creation_date":1673101320,"question_id":75041041,"body_markdown":"\r\n```\r\n`import java.util.Random;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int[][] board = new int[5][5];\r\n        int sNA = 5;\r\n\r\n//        new GUI();\r\n\r\n        sequenceMaker(board);\r\n        drawBoard(board);\r\n    }\r\n//\r\n    public static void drawBoard(int[][] board2D) {\r\n        int m=1;\r\n\r\n        for(int i = 0; i &lt; board2D.length; i++){\r\n            for(int j=0; j &lt; board2D.length; j++){\r\n                System.out.print(board2D[i][j]+&quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static void sequenceMaker(int[][] board2D) {\r\n        Random rand = new Random();\r\n        int m = 1;\r\n        int x = 0;\r\n\r\n        while(x &lt; 24){\r\n            int columnRandom = rand.nextInt(5);\r\n            int rowsRandom = rand.nextInt(5);\r\n            x += 1;\r\n\r\n            if(board2D[columnRandom][rowsRandom] == 0) {\r\n                board2D[columnRandom][rowsRandom] = m;\r\n                m += 1;\r\n            }\r\n            else if(board2D[columnRandom][rowsRandom] == m) {\r\n                while(board2D[columnRandom][rowsRandom] == m) {\r\n                    columnRandom = rand.nextInt(5);\r\n                    rowsRandom = rand.nextInt(5);\r\n\r\n                    board2D[columnRandom][rowsRandom] = m;\r\n                    m+=1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}`\r\n```\r\n\r\nThis is what I wrote to this point, but the output doesn&#39;t include every index, maximally going to 15-16ish. \r\n\r\nI tried a while loop, so that if another integer is in the place of randomally generated number, it generates those number once again. I don&#39;t know why my output is incomplete though.\r\n","title":"How to make every index of 2D array a random integer?","body":"<pre><code>`import java.util.Random;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        int[][] board = new int[5][5];\n        int sNA = 5;\n\n//        new GUI();\n\n        sequenceMaker(board);\n        drawBoard(board);\n    }\n//\n    public static void drawBoard(int[][] board2D) {\n        int m=1;\n\n        for(int i = 0; i &lt; board2D.length; i++){\n            for(int j=0; j &lt; board2D.length; j++){\n                System.out.print(board2D[i][j]+&quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    public static void sequenceMaker(int[][] board2D) {\n        Random rand = new Random();\n        int m = 1;\n        int x = 0;\n\n        while(x &lt; 24){\n            int columnRandom = rand.nextInt(5);\n            int rowsRandom = rand.nextInt(5);\n            x += 1;\n\n            if(board2D[columnRandom][rowsRandom] == 0) {\n                board2D[columnRandom][rowsRandom] = m;\n                m += 1;\n            }\n            else if(board2D[columnRandom][rowsRandom] == m) {\n                while(board2D[columnRandom][rowsRandom] == m) {\n                    columnRandom = rand.nextInt(5);\n                    rowsRandom = rand.nextInt(5);\n\n                    board2D[columnRandom][rowsRandom] = m;\n                    m+=1;\n                }\n            }\n        }\n    }\n}`\n</code></pre>\n<p>This is what I wrote to this point, but the output doesn't include every index, maximally going to 15-16ish.</p>\n<p>I tried a while loop, so that if another integer is in the place of randomally generated number, it generates those number once again. I don't know why my output is incomplete though.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673102222,"creation_date":1673088093,"answer_id":75039665,"question_id":75039340,"body_markdown":"[edit] try the following:\r\n\r\n    public static void printStars(int[] a) {\r\n\t\tint maxValue = Collections.max(Arrays.stream(a).boxed().toList());\r\n\t\tString[] line = new String[a.length];  //this also works\r\n\t\t\r\n        for (int i = maxValue; i &gt;=0 ; i--) {\r\n        \t//String[] line = new String[a.length];  //this will keep allocating new memory\r\n        \tfor (int j = 0; j &lt; a.length; j++) {\r\n        \t\tif (i == 0) {\r\n        \t\t\tline[j] = String.valueOf(j+1); //&lt;change j+1 to a[j] in order to print out the value at each index of the array if you are not looking to print indexes\r\n        \t\t}else if (a[j] &gt;= i) {\r\n        \t\t\tline[j] = &quot;*&quot;;\r\n        \t\t}else {\r\n        \t\t\tline[j] = &quot; &quot;;\r\n        \t\t}\r\n        \t}\r\n        \tSystem.out.println(String.join(&quot; &quot;, line));\r\n        }\r\n    }\r\n\r\nit takes the maximum value in the array and stores in a variable. This is used to iterate each line. After that, it checks if at this current iteration, does an index of your array contain an asterisk in this location? if yes, assign asterisk to the specific index of the string array corresponding to index of original array, else assign whitespace. \r\n\r\nFinally, when it goes to 0, you assign the either the values of your array or the indexes of the array to the string[]. Then you print the array by using String.join() with a delimiter of whitespace. This allows you to focus on white index contains a whitespace or not, and not need to focus on the formatting of whitespaces in between each item.\r\n\r\nfor the input [1,2,3,4] output is:\r\n\r\n          *\r\n        * *\r\n      * * *\r\n    * * * *\r\n    1 2 3 4\r\n\r\n\r\nfor the input [1,7,3,4]:\r\n\r\n      *    \r\n      *    \r\n      *    \r\n      *   *\r\n      * * *\r\n      * * *\r\n    * * * *\r\n    1 2 3 4","title":"how do i change my output from horizontal to vertical in java?","body":"<p>[edit] try the following:</p>\n<pre><code>public static void printStars(int[] a) {\n    int maxValue = Collections.max(Arrays.stream(a).boxed().toList());\n    String[] line = new String[a.length];  //this also works\n    \n    for (int i = maxValue; i &gt;=0 ; i--) {\n        //String[] line = new String[a.length];  //this will keep allocating new memory\n        for (int j = 0; j &lt; a.length; j++) {\n            if (i == 0) {\n                line[j] = String.valueOf(j+1); //&lt;change j+1 to a[j] in order to print out the value at each index of the array if you are not looking to print indexes\n            }else if (a[j] &gt;= i) {\n                line[j] = &quot;*&quot;;\n            }else {\n                line[j] = &quot; &quot;;\n            }\n        }\n        System.out.println(String.join(&quot; &quot;, line));\n    }\n}\n</code></pre>\n<p>it takes the maximum value in the array and stores in a variable. This is used to iterate each line. After that, it checks if at this current iteration, does an index of your array contain an asterisk in this location? if yes, assign asterisk to the specific index of the string array corresponding to index of original array, else assign whitespace.</p>\n<p>Finally, when it goes to 0, you assign the either the values of your array or the indexes of the array to the string[]. Then you print the array by using String.join() with a delimiter of whitespace. This allows you to focus on white index contains a whitespace or not, and not need to focus on the formatting of whitespaces in between each item.</p>\n<p>for the input [1,2,3,4] output is:</p>\n<pre><code>      *\n    * *\n  * * *\n* * * *\n1 2 3 4\n</code></pre>\n<p>for the input [1,7,3,4]:</p>\n<pre><code>  *    \n  *    \n  *    \n  *   *\n  * * *\n  * * *\n* * * *\n1 2 3 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673102556,"creation_date":1673098721,"answer_id":75040755,"question_id":75039340,"body_markdown":"The solution from the previous answer works but I provided a slightly more compact version `printStars` and renamed the old one to `printStarsOld`. Here is the code:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class IntTest {\r\n    \r\n        public static void printStarsOld(int[] a) {\r\n            int maxValue = Collections.max(Arrays.stream(a).boxed().toList());\r\n            String[] line = new String[a.length];  //this also works\r\n    \r\n            for (int i = maxValue; i &gt;= 0; i--) {\r\n                for (int j = 0; j &lt; a.length; j++) {\r\n                    if (i == 0) {\r\n                        line[j] = String.valueOf(j + 1);\r\n                    } else if (a[j] &gt;= i) {\r\n                        line[j] = &quot;*&quot;;\r\n                    } else {\r\n                        line[j] = &quot; &quot;;\r\n                    }\r\n                }\r\n                System.out.println(String.join(&quot; &quot;, line));\r\n            }\r\n        }\r\n    \r\n        public static void printStars(int[] a) {\r\n            List&lt;Integer&gt; list = Arrays.stream(a).boxed().toList();\r\n            StringBuffer string = new StringBuffer();\r\n            Integer max = list.stream().max(Integer::compare).get();\r\n    \r\n            for (int i = max; i &gt; 0; i--) {\r\n                int finalI = i;\r\n                list.forEach(integer -&gt; string.append(integer - finalI &lt; 0 ? &#39; &#39; : &#39;*&#39;).append(&#39; &#39;));\r\n                System.out.println(string.toString());\r\n                string.setLength(0);\r\n            }\r\n            for (Integer i=1; i&lt;=list.size();i++) System.out.print(i.toString() + &#39; &#39;);\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            System.out.println(&quot;Old output: &quot;);\r\n            printStarsOld(new int[]{2, 4, 5, 1, 3});\r\n            System.out.println(&quot;New output: &quot;);\r\n            printStars(new int[]{2, 4, 5, 1, 3});\r\n        }\r\n    }\r\n\r\nThe output is:\r\n\r\n    Old output: \r\n        *    \r\n      * *    \r\n      * *   *\r\n    * * *   *\r\n    * * * * *\r\n    1 2 3 4 5\r\n    New output: \r\n        *     \r\n      * *     \r\n      * *   * \r\n    * * *   * \r\n    * * * * * \r\n    1 2 3 4 5 ","title":"how do i change my output from horizontal to vertical in java?","body":"<p>The solution from the previous answer works but I provided a slightly more compact version <code>printStars</code> and renamed the old one to <code>printStarsOld</code>. Here is the code:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class IntTest {\n\n    public static void printStarsOld(int[] a) {\n        int maxValue = Collections.max(Arrays.stream(a).boxed().toList());\n        String[] line = new String[a.length];  //this also works\n\n        for (int i = maxValue; i &gt;= 0; i--) {\n            for (int j = 0; j &lt; a.length; j++) {\n                if (i == 0) {\n                    line[j] = String.valueOf(j + 1);\n                } else if (a[j] &gt;= i) {\n                    line[j] = &quot;*&quot;;\n                } else {\n                    line[j] = &quot; &quot;;\n                }\n            }\n            System.out.println(String.join(&quot; &quot;, line));\n        }\n    }\n\n    public static void printStars(int[] a) {\n        List&lt;Integer&gt; list = Arrays.stream(a).boxed().toList();\n        StringBuffer string = new StringBuffer();\n        Integer max = list.stream().max(Integer::compare).get();\n\n        for (int i = max; i &gt; 0; i--) {\n            int finalI = i;\n            list.forEach(integer -&gt; string.append(integer - finalI &lt; 0 ? ' ' : '*').append(' '));\n            System.out.println(string.toString());\n            string.setLength(0);\n        }\n        for (Integer i=1; i&lt;=list.size();i++) System.out.print(i.toString() + ' ');\n    }\n\n    @Test\n    public void test() {\n        System.out.println(&quot;Old output: &quot;);\n        printStarsOld(new int[]{2, 4, 5, 1, 3});\n        System.out.println(&quot;New output: &quot;);\n        printStars(new int[]{2, 4, 5, 1, 3});\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>Old output: \n    *    \n  * *    \n  * *   *\n* * *   *\n* * * * *\n1 2 3 4 5\nNew output: \n    *     \n  * *     \n  * *   * \n* * *   * \n* * * * * \n1 2 3 4 5 \n</code></pre>\n"}],"owner":{"account_id":27311592,"reputation":21,"user_id":20826653,"display_name":"user20826653"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1673102556,"creation_date":1673084375,"question_id":75039340,"body_markdown":"I need to write a function that takes an array and prints &#39;*&#39; for each index by the value of the index \r\nfor example for 1,2,3,4 the output will look like this:\r\n[enter image description here][1]\r\nbut my output is vertical \r\n* 1\r\n* * 2\r\n* * * 3\r\n* * * * 4\r\n\r\nthis is my printing code :\r\n\r\n```\r\n\tpublic static void printStars(int[] a) {\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tfor (int j = 1; j &lt;= a[i]; j++)\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\tSystem.out.println(&quot; &quot; + a[i]);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zQmmJ.png","title":"how do i change my output from horizontal to vertical in java?","body":"<p>I need to write a function that takes an array and prints '*' for each index by the value of the index\nfor example for 1,2,3,4 the output will look like this:\n<a href=\"https://i.stack.imgur.com/zQmmJ.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nbut my output is vertical</p>\n<ul>\n<li>1</li>\n<li>\n<ul>\n<li>2</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>\n<ul>\n<li>3</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>\n<ul>\n<li>\n<ul>\n<li>4</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>this is my printing code :</p>\n<pre><code>    public static void printStars(int[] a) {\n        for (int i = 0; i &lt; a.length; i++) {\n            for (int j = 1; j &lt;= a[i]; j++)\n                System.out.print(&quot;*&quot;);\n            System.out.println(&quot; &quot; + a[i]);\n        }\n    }\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1585355460,"post_id":60895875,"comment_id":107739116,"body_markdown":"I don&#39;t see a method named `mphAndMinutesToMiles()`.  Did I miss it?","body":"I don&#39;t see a method named <code>mphAndMinutesToMiles()</code>.  Did I miss it?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1585355734,"post_id":60895875,"comment_id":107739150,"body_markdown":"@markspace The compiler doesn&#39;t seem to see it either. So I guess you did not miss it.","body":"@markspace The compiler doesn&#39;t seem to see it either. So I guess you did not miss it."}],"answers":[{"tags":[],"owner":{"account_id":20656667,"reputation":21,"user_id":15165597,"display_name":"akaMUTE1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613274811,"creation_date":1613268091,"answer_id":66191767,"question_id":60895875,"body_markdown":"Change `calcMilesTraveled(double milesPerHour, double minutesTraveled)`  to be\r\n`mphAndMinutesToMiles(double milesPerHour, double minutesTraveled)`","title":"Write method so that the main code is replaced by simpler code","body":"<p>Change <code>calcMilesTraveled(double milesPerHour, double minutesTraveled)</code>  to be\n<code>mphAndMinutesToMiles(double milesPerHour, double minutesTraveled)</code></p>\n"},{"tags":[],"owner":{"account_id":22686308,"reputation":31,"user_id":16855873,"display_name":"Brian Fulton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631057418,"creation_date":1631057418,"answer_id":69095472,"question_id":60895875,"body_markdown":"    public static double mphAndMinutesToMiles(double milesPerHour, double minutesTraveled) {\r\n      double mphAndMinutesToMiles; \r\n        double hoursTraveled = minutesTraveled / 60.0;\r\n        double milesTraveled = hoursTraveled * milesPerHour;\r\n        return milesTraveled;\r\n   }","title":"Write method so that the main code is replaced by simpler code","body":"<pre><code>public static double mphAndMinutesToMiles(double milesPerHour, double minutesTraveled) {\n  double mphAndMinutesToMiles; \n    double hoursTraveled = minutesTraveled / 60.0;\n    double milesTraveled = hoursTraveled * milesPerHour;\n    return milesTraveled;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":21928408,"reputation":15,"user_id":16210666,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673101171,"creation_date":1673101171,"answer_id":75041021,"question_id":60895875,"body_markdown":"Here is an other example of how to do it. Few more lines of code but I figure I would it here as an example.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public static double mphAndMinutesToMiles(double milesPerHour, double minutesTraveled) {\r\n          double hoursTraveled;\r\n          double milesTraveled;     \r\n          \r\n          hoursTraveled = minutesTraveled / 60.0;\r\n          milesTraveled = hoursTraveled * milesPerHour;\r\n          \r\n          return milesTraveled;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Write method so that the main code is replaced by simpler code","body":"<p>Here is an other example of how to do it. Few more lines of code but I figure I would it here as an example.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public static double mphAndMinutesToMiles(double milesPerHour, double minutesTraveled) {\n      double hoursTraveled;\n      double milesTraveled;     \n      \n      hoursTraveled = minutesTraveled / 60.0;\n      milesTraveled = hoursTraveled * milesPerHour;\n      \n      return milesTraveled;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":17115378,"reputation":69,"user_id":12385020,"display_name":"ShadowHunter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1673101171,"creation_date":1585355151,"question_id":60895875,"body_markdown":"   Use a method to replace this main code into a simpler code that calls the method mphAndMinutesToMiles().\r\n \r\n    public class CalcMiles {\r\n           public static void main(String [] args) {\r\n              double milesPerHour;\r\n              double minutesTraveled;\r\n              double hoursTraveled;\r\n              double milesTraveled;\r\n    \r\n          milesPerHour = scnr.nextDouble();\r\n          minutesTraveled = scnr.nextDouble();\r\n    \r\n          hoursTraveled = minutesTraveled / 60.0;\r\n          milesTraveled = hoursTraveled * milesPerHour;\r\n    \r\n          System.out.println(&quot;Miles: &quot; + milesTraveled);\r\n       }\r\n    }\r\n\r\n \r\n\r\n\r\n\r\n \r\n    import java.util.Scanner;\r\n    \r\n    public class CalcMiles {\r\n    \r\n       double calcMilesTraveled(double milesPerHour, double minutesTraveled) {\r\n            double hoursTraveled = minutesTraveled / 60.0;\r\n            double milesTraveled = hoursTraveled * milesPerHour;\r\n            return milesTraveled;\r\n       }\r\n    \r\n       public static void main(String [] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          double milesPerHour;\r\n          double minutesTraveled;\r\n    \r\n          milesPerHour = scnr.nextDouble();\r\n          minutesTraveled = scnr.nextDouble();\r\n    \r\n          System.out.println(&quot;Miles: &quot; + mphAndMinutesToMiles(milesPerHour, minutesTraveled));\r\n       }\r\n    }\r\n\r\nEvery time I run this code it keeps on giving me this error I have no idea what it means and I don&#39;t know how to fix this.\r\n\r\n    CalcMiles.java:19: error: cannot find symbol\r\n          System.out.println(&quot;Miles: &quot; + mphAndMinutesToMiles(milesPerHour, minutesTraveled));\r\n                                         ^\r\n      symbol:   method mphAndMinutesToMiles(double,double)\r\n      location: class CalcMiles\r\n    1 error  ","title":"Write method so that the main code is replaced by simpler code","body":"<p>Use a method to replace this main code into a simpler code that calls the method mphAndMinutesToMiles().</p>\n\n<pre><code>public class CalcMiles {\n       public static void main(String [] args) {\n          double milesPerHour;\n          double minutesTraveled;\n          double hoursTraveled;\n          double milesTraveled;\n\n      milesPerHour = scnr.nextDouble();\n      minutesTraveled = scnr.nextDouble();\n\n      hoursTraveled = minutesTraveled / 60.0;\n      milesTraveled = hoursTraveled * milesPerHour;\n\n      System.out.println(\"Miles: \" + milesTraveled);\n   }\n}\n\n\n\n\n\n\nimport java.util.Scanner;\n\npublic class CalcMiles {\n\n   double calcMilesTraveled(double milesPerHour, double minutesTraveled) {\n        double hoursTraveled = minutesTraveled / 60.0;\n        double milesTraveled = hoursTraveled * milesPerHour;\n        return milesTraveled;\n   }\n\n   public static void main(String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      double milesPerHour;\n      double minutesTraveled;\n\n      milesPerHour = scnr.nextDouble();\n      minutesTraveled = scnr.nextDouble();\n\n      System.out.println(\"Miles: \" + mphAndMinutesToMiles(milesPerHour, minutesTraveled));\n   }\n}\n</code></pre>\n\n<p>Every time I run this code it keeps on giving me this error I have no idea what it means and I don't know how to fix this.</p>\n\n<pre><code>CalcMiles.java:19: error: cannot find symbol\n      System.out.println(\"Miles: \" + mphAndMinutesToMiles(milesPerHour, minutesTraveled));\n                                     ^\n  symbol:   method mphAndMinutesToMiles(double,double)\n  location: class CalcMiles\n1 error  \n</code></pre>\n"},{"tags":["java","intellij-idea","import"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673100020,"post_id":75040874,"comment_id":132424072,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673100202,"post_id":75040874,"comment_id":132424106,"body_markdown":"Looks like you are missing the (right) dependency. I suggest taking a look at dependency- and build-management-tools like [gradle (`gradle.org`)](https://gradle.org/) or [maven (`maven.apache.org`)](https://maven.apache.org/).","body":"Looks like you are missing the (right) dependency. I suggest taking a look at dependency- and build-management-tools like <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">gradle (<code>gradle.org</code>)</a> or <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven (<code>maven.apache.org</code>)</a>."},{"owner":{"account_id":15593813,"reputation":543,"user_id":11249957,"display_name":"dodekja"},"score":0,"creation_date":1673106120,"post_id":75040874,"comment_id":132425410,"body_markdown":"Please, do not post images of code.","body":"Please, do not post images of code."}],"answers":[{"tags":[],"owner":{"account_id":2322191,"reputation":141,"user_id":2037608,"accept_rate":100,"display_name":"gemorra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673100756,"creation_date":1673100756,"answer_id":75040970,"question_id":75040874,"body_markdown":"I think you just need to declare the dependency to the commans-lang3 artifact.\r\n\r\nYou could do it with any dependency management system like maven, gradle ...\r\n\r\nYou can find the latest version of commons-lang3 in mvn central:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n      &lt;version&gt;3.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.12.0\r\n\r\nIf you don&#39;t know about maven (or any other tool) you can manually add the dependency to your project. \r\n\r\nVia IntelliJ mvn downloader.\r\n\r\nFile -&gt; Project Structure -&gt; Libraries -&gt; Add -&gt; Maven\r\n[![enter image description here][1]][1]\r\n\r\nor download the jar file directly and add it with intelliJ\r\n\r\n\r\n[commons-lang3.jar][2]\r\n\r\nand add it with\r\n\r\nFile -&gt; Project Structure -&gt; Libraries -&gt; Add -&gt; Java -&gt; Select the jar\r\n\r\n  [1]: https://i.stack.imgur.com/wiVlJ.png\r\n  [2]: https://repo1.maven.org/maven2/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar","title":"Issue with ArrayUtils Import: package org.apache.commons.lang3 does not exist","body":"<p>I think you just need to declare the dependency to the commans-lang3 artifact.</p>\n<p>You could do it with any dependency management system like maven, gradle ...</p>\n<p>You can find the latest version of commons-lang3 in mvn central:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n  &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.12.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.12.0</a></p>\n<p>If you don't know about maven (or any other tool) you can manually add the dependency to your project.</p>\n<p>Via IntelliJ mvn downloader.</p>\n<p>File -&gt; Project Structure -&gt; Libraries -&gt; Add -&gt; Maven\n<a href=\"https://i.stack.imgur.com/wiVlJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wiVlJ.png\" alt=\"enter image description here\" /></a></p>\n<p>or download the jar file directly and add it with intelliJ</p>\n<p><a href=\"https://repo1.maven.org/maven2/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar\" rel=\"nofollow noreferrer\">commons-lang3.jar</a></p>\n<p>and add it with</p>\n<p>File -&gt; Project Structure -&gt; Libraries -&gt; Add -&gt; Java -&gt; Select the jar</p>\n"}],"owner":{"account_id":27461818,"reputation":11,"user_id":20952259,"display_name":"whaam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673445194,"answer_count":1,"score":0,"last_activity_date":1673101016,"creation_date":1673099898,"question_id":75040874,"body_markdown":"I just began studying something related to IT and have some projects I am working on.\r\nWith the most recent one, I have ran into a problem, fow hich I just cannot seem to find a solution.\r\n\r\nI am using IntelliJ to code Java and for a certain piece of code I want to use &quot;ArrayUtils.removeElement&quot;, for which I need to import ArrayUtils:\r\n&quot;import java.util.Arrays;\r\nimport org.apache.commons.lang3.ArrayUtils;&quot;\r\n\r\n[Import Issue regarding ArrayUtils in IntelliJ Java](https://i.stack.imgur.com/O44B2.png)\r\n\r\nAs you can see in the reference image, the second line gives me an error. I just can&#39;t import it for some reason.\r\n\r\nThank you in advance!!\r\n\r\nI have already tried to invalidate Caches, but to no result.","title":"Issue with ArrayUtils Import: package org.apache.commons.lang3 does not exist","body":"<p>I just began studying something related to IT and have some projects I am working on.\nWith the most recent one, I have ran into a problem, fow hich I just cannot seem to find a solution.</p>\n<p>I am using IntelliJ to code Java and for a certain piece of code I want to use &quot;ArrayUtils.removeElement&quot;, for which I need to import ArrayUtils:\n&quot;import java.util.Arrays;\nimport org.apache.commons.lang3.ArrayUtils;&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/O44B2.png\" rel=\"nofollow noreferrer\">Import Issue regarding ArrayUtils in IntelliJ Java</a></p>\n<p>As you can see in the reference image, the second line gives me an error. I just can't import it for some reason.</p>\n<p>Thank you in advance!!</p>\n<p>I have already tried to invalidate Caches, but to no result.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2356523,"reputation":1057,"user_id":2064208,"accept_rate":73,"display_name":"Cob013"},"score":12,"creation_date":1373711951,"post_id":17629321,"comment_id":25667080,"body_markdown":"You are at the sea and a person is drowning. The exception is your friend saying &#39;Oh man, look over there! He&#39;s drowning! Should we do anything?&quot;. In your `catch` clausole you can define your `saveTheMan()` method. By the way, if there is already a lifeguard inside methods which you are trying to execute among the `try` construct, there is really no need to enter the `catch` clausole since your help will be useless.","body":"You are at the sea and a person is drowning. The exception is your friend saying &#39;Oh man, look over there! He&#39;s drowning! Should we do anything?&quot;. In your <code>catch</code> clausole you can define your <code>saveTheMan()</code> method. By the way, if there is already a lifeguard inside methods which you are trying to execute among the <code>try</code> construct, there is really no need to enter the <code>catch</code> clausole since your help will be useless."}],"answers":[{"tags":[],"owner":{"account_id":402878,"reputation":7719,"user_id":770303,"display_name":"anttix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373711613,"creation_date":1373711613,"answer_id":17629335,"question_id":17629321,"body_markdown":"Simple answer:\r\n\r\nYou don&#39;t need to declare a method to throw if all the checked exceptions are handled by the code.\r\n\r\nSee also:\r\n\r\nhttp://www.javapractices.com/topic/TopicAction.do?Id=129","title":"Throwing exception in main method","body":"<p>Simple answer:</p>\n\n<p>You don't need to declare a method to throw if all the checked exceptions are handled by the code.</p>\n\n<p>See also:</p>\n\n<p><a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=129\" rel=\"nofollow\">http://www.javapractices.com/topic/TopicAction.do?Id=129</a></p>\n"},{"tags":[],"owner":{"account_id":2156604,"reputation":3398,"user_id":1911676,"accept_rate":88,"display_name":"Enigmadan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1373713613,"creation_date":1373711626,"answer_id":17629337,"question_id":17629321,"body_markdown":"You only throw an exception if you want it to be handled by a &quot;higher&quot; function.\r\n\r\n(***Note:** The exception doesn&#39;t just disappear when it is thrown.  It still has to be handled.*)\r\n\r\n    public void functionA() throws Exception{\r\n      throw new Exception(&quot;This exception is going to be handled elsewhere&quot;);\r\n    }\r\n\r\nYou use a `try/catch` block when you want to handle the exception immediately.\r\n\r\n    public void functionB(){\r\n      try{\r\n        throw new Exception(&quot;This exception is handled here.&quot;);\r\n      }catch(Exception e){\r\n        System.err.println(&quot;Exception caught: &quot;+e);\r\n      }\r\n    }\r\n\r\nIf you are already using a `try/catch` block to catch an exception, then you have no need to throw that exception any higher.\r\n\r\n    public void functionC() throws Exception{\r\n      try{\r\n        throw new Exception(&quot;This exception doesn&#39;t know where to go.&quot;);\r\n      }catch(Exception e){\r\n        System.err.println(&quot;Exception caught: &quot;+e);\r\n      }\r\n    }","title":"Throwing exception in main method","body":"<p>You only throw an exception if you want it to be handled by a \"higher\" function.</p>\n\n<p>(<strong><em>Note:</strong> The exception doesn't just disappear when it is thrown.  It still has to be handled.</em>)</p>\n\n<pre><code>public void functionA() throws Exception{\n  throw new Exception(\"This exception is going to be handled elsewhere\");\n}\n</code></pre>\n\n<p>You use a <code>try/catch</code> block when you want to handle the exception immediately.</p>\n\n<pre><code>public void functionB(){\n  try{\n    throw new Exception(\"This exception is handled here.\");\n  }catch(Exception e){\n    System.err.println(\"Exception caught: \"+e);\n  }\n}\n</code></pre>\n\n<p>If you are already using a <code>try/catch</code> block to catch an exception, then you have no need to throw that exception any higher.</p>\n\n<pre><code>public void functionC() throws Exception{\n  try{\n    throw new Exception(\"This exception doesn't know where to go.\");\n  }catch(Exception e){\n    System.err.println(\"Exception caught: \"+e);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1847968,"reputation":2287,"user_id":1675219,"accept_rate":100,"display_name":"dinukadev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373711639,"creation_date":1373711639,"answer_id":17629338,"question_id":17629321,"body_markdown":"Sometimes the calling party will not want an exception thrown because they will not want to handle such exceptions. In such instances we do enclose the code that could throw exceptions with a try catch finally block. \r\n\r\nBut in instances where you want to specifically catch a certain exception and try to do something about it, or if you want to throw out a customer exception to the calling party, then you should first catch it.\r\n\r\nIt is recommended never to swallow exceptions and also not to catch and re-throw the same exception.","title":"Throwing exception in main method","body":"<p>Sometimes the calling party will not want an exception thrown because they will not want to handle such exceptions. In such instances we do enclose the code that could throw exceptions with a try catch finally block. </p>\n\n<p>But in instances where you want to specifically catch a certain exception and try to do something about it, or if you want to throw out a customer exception to the calling party, then you should first catch it.</p>\n\n<p>It is recommended never to swallow exceptions and also not to catch and re-throw the same exception.</p>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373712016,"creation_date":1373712016,"answer_id":17629384,"question_id":17629321,"body_markdown":"Basically checked exceptions needs to be handled. Compiler forces to do that. You can do that either by try catch or by throws clause . One of them is sufficient. \r\n\r\nYou would resort to first approach when you don&#39;t want to handle that exception by calling code.","title":"Throwing exception in main method","body":"<p>Basically checked exceptions needs to be handled. Compiler forces to do that. You can do that either by try catch or by throws clause . One of them is sufficient. </p>\n\n<p>You would resort to first approach when you don't want to handle that exception by calling code.</p>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398297134,"creation_date":1373712281,"answer_id":17629432,"question_id":17629321,"body_markdown":"Any method has two choices to deal with the exceptions that can occur in that method:\r\n\r\nFirst choice is to handle the exception within the method using a catch and don&#39;t tell anyone about it. This approach is useful in handling errors, which will have no effect on the method calling this. \r\n\r\nSecond choice is to catch the exception in the method, may or may not do something to handle the exception. Additionally tell the calling method that something has gone wrong, so you do the needful. This approach is useful and should be used for exceptions which are causing a problem that need to be propagated above to the calling hierarchy.\r\n\r\n&gt; I don&#39;t think it is really a good idea to throw exceptions form the\r\n&gt; main method. Because even if you don&#39;t throw it, JVM will get the\r\n&gt; exception and will exit. The best you can do is to try to catch those\r\n&gt; excepitons and do some corrective action within the main. If the\r\n&gt; exception is catastrophic no matter whether you throw it or not, the\r\n&gt; program will exit.","title":"Throwing exception in main method","body":"<p>Any method has two choices to deal with the exceptions that can occur in that method:</p>\n\n<p>First choice is to handle the exception within the method using a catch and don't tell anyone about it. This approach is useful in handling errors, which will have no effect on the method calling this. </p>\n\n<p>Second choice is to catch the exception in the method, may or may not do something to handle the exception. Additionally tell the calling method that something has gone wrong, so you do the needful. This approach is useful and should be used for exceptions which are causing a problem that need to be propagated above to the calling hierarchy.</p>\n\n<blockquote>\n  <p>I don't think it is really a good idea to throw exceptions form the\n  main method. Because even if you don't throw it, JVM will get the\n  exception and will exit. The best you can do is to try to catch those\n  excepitons and do some corrective action within the main. If the\n  exception is catastrophic no matter whether you throw it or not, the\n  program will exit.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2096559,"reputation":51,"user_id":1865152,"display_name":"Sajol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382649912,"creation_date":1382649912,"answer_id":19576968,"question_id":17629321,"body_markdown":"You are  handling your exception in your code using try-catch. This is the reason.","title":"Throwing exception in main method","body":"<p>You are  handling your exception in your code using try-catch. This is the reason.</p>\n"},{"tags":[],"owner":{"account_id":11128974,"reputation":1,"user_id":8169512,"display_name":"verdaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673100939,"creation_date":1673100939,"answer_id":75040995,"question_id":17629321,"body_markdown":"Throwing an exception is a way of indicating to the calling/invoking method to be prepared to manage an unusual scenario.\r\n\r\nAs main method is the root-most in the hierarchy the propagation will end here.\r\n\r\nThe need for handling arises when we intend a clean exit. In your case, you&#39;re doing just that with the try/catch block.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/essential/exceptions/throwing.html","title":"Throwing exception in main method","body":"<p>Throwing an exception is a way of indicating to the calling/invoking method to be prepared to manage an unusual scenario.</p>\n<p>As main method is the root-most in the hierarchy the propagation will end here.</p>\n<p>The need for handling arises when we intend a clean exit. In your case, you're doing just that with the try/catch block.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/throwing.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/exceptions/throwing.html</a></p>\n"}],"owner":{"account_id":2204988,"reputation":145,"user_id":1948439,"accept_rate":50,"display_name":"Andrey Chasovski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42659,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":17629337,"answer_count":7,"score":12,"last_activity_date":1673100939,"creation_date":1373711445,"question_id":17629321,"body_markdown":"I am trying to figure out why I have to `throw` exception in the main method while I have `try`/`catch` blocks that can handle those exceptions anyway? \r\nEven if I delete `throws IllegalArgumentException,InputMismatchException` part, the program will still compile and work perfectly.\r\n\r\n    public static void main(String[] args) throws IllegalArgumentException,InputMismatchException{\r\n\t\tboolean flag = true;\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tdo{\r\n\t\t\ttry{\r\n\t\t\t\tSystem.out.println(&quot;Please enter the number:&quot;);\r\n\t\t\t\tint n = in.nextInt();\r\n\t\t\t\tint sum = range(n);\r\n\t\t\t\tSystem.out.println(&quot;sum = &quot; + sum);\r\n\t\t\t\tflag = false;\r\n\t\t\t}\r\n\t\t\tcatch(IllegalArgumentException e){\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}\r\n\t\t\tcatch(InputMismatchException e){\r\n\t\t\t\tSystem.out.println(&quot;The number has to be as integer...&quot;);\r\n\t\t\t\tin.nextLine();\r\n\t\t\t} \r\n","title":"Throwing exception in main method","body":"<p>I am trying to figure out why I have to <code>throw</code> exception in the main method while I have <code>try</code>/<code>catch</code> blocks that can handle those exceptions anyway? \nEven if I delete <code>throws IllegalArgumentException,InputMismatchException</code> part, the program will still compile and work perfectly.</p>\n\n<pre><code>public static void main(String[] args) throws IllegalArgumentException,InputMismatchException{\n    boolean flag = true;\n    Scanner in = new Scanner(System.in);\n    do{\n        try{\n            System.out.println(\"Please enter the number:\");\n            int n = in.nextInt();\n            int sum = range(n);\n            System.out.println(\"sum = \" + sum);\n            flag = false;\n        }\n        catch(IllegalArgumentException e){\n            System.out.println(e.getMessage());\n        }\n        catch(InputMismatchException e){\n            System.out.println(\"The number has to be as integer...\");\n            in.nextLine();\n        } \n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1644093777,"post_id":70995109,"comment_id":125515873,"body_markdown":"The deprecation was added in [this](https://github.com/gradle/gradle/pull/19389), but as you&#39;ve said, there is no clear guidance for a direct replacement. Gradle&#39;s own internal stuff still uses the deprecated method. However, your plugin appears to be moreorless the same thing as build scans, so I would look into what the build scan is doing under the hood to capture that information and see if there are any non `internal` APIs being used.","body":"The deprecation was added in <a href=\"https://github.com/gradle/gradle/pull/19389\" rel=\"nofollow noreferrer\">this</a>, but as you&#39;ve said, there is no clear guidance for a direct replacement. Gradle&#39;s own internal stuff still uses the deprecated method. However, your plugin appears to be moreorless the same thing as build scans, so I would look into what the build scan is doing under the hood to capture that information and see if there are any non <code>internal</code> APIs being used."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1644095450,"post_id":70995109,"comment_id":125516208,"body_markdown":"@FranciscoMateo Build scan is not a plugin, so it doesn&#39;t help me. A plugin has to work with several limitations that build scan may or may not have. Furthermore,build scans may or may not use build services.","body":"@FranciscoMateo Build scan is not a plugin, so it doesn&#39;t help me. A plugin has to work with several limitations that build scan may or may not have. Furthermore,build scans may or may not use build services."}],"answers":[{"tags":[],"owner":{"account_id":15144230,"reputation":1347,"user_id":10928439,"display_name":"Simon Jacobs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673100151,"creation_date":1673100151,"answer_id":75040907,"question_id":70995109,"body_markdown":"Agreed: it looks like the Gradle team haven&#39;t exposed a new API to do this. There is a [feature request](https://github.com/gradle/gradle/issues/17659) out there, and it&#39;s currently marked as due for Gradle 8.1. So stay tuned.\r\n\r\nIn the meantime, it is possible to find internal Gradle classes where this information is exposed. In particular, there is a `BuildOperationListener` class which can be used to listen for the end of the build.\r\n\r\nTo this end, I&#39;m currently using the following plugin (written in Kotlin) to do the same job in Gradle 7.6:\r\n```kt\r\nimport java.time.Duration\r\nimport java.time.LocalDateTime\r\nimport java.time.format.DateTimeFormatter\r\nimport javax.inject.Inject\r\nimport org.gradle.api.Plugin\r\nimport org.gradle.api.Project\r\nimport org.gradle.api.services.BuildService\r\nimport org.gradle.api.services.BuildServiceParameters\r\nimport org.gradle.internal.build.event.BuildEventListenerRegistryInternal\r\nimport org.gradle.internal.operations.BuildOperationCategory\r\nimport org.gradle.internal.operations.BuildOperationDescriptor\r\nimport org.gradle.internal.operations.BuildOperationListener\r\nimport org.gradle.internal.operations.OperationFinishEvent\r\nimport org.gradle.internal.operations.OperationIdentifier\r\nimport org.gradle.internal.operations.OperationProgressEvent\r\nimport org.gradle.internal.operations.OperationStartEvent\r\n\r\nclass BuildFinishedPlugin @Inject constructor(\r\n    private val buildEvents: BuildEventListenerRegistryInternal\r\n) : Plugin&lt;Project&gt; {\r\n\r\n    override fun apply(target: Project) {\r\n        val buildFinishedService = target.gradle.sharedServices.registerIfAbsent(&quot;buildFinished&quot;, BuildFinishedService::class.java) {\r\n            parameters.buildStartTime = LocalDateTime.now()\r\n        }\r\n        buildEvents.onOperationCompletion(buildFinishedService)\r\n    }\r\n\r\n    /**\r\n     * Class needs to be a [BuildService] in order to act as an [BuildOperationListener]\r\n     */\r\n    abstract class BuildFinishedService : BuildService&lt;BuildFinishedService.Parameters&gt;, BuildOperationListener {\r\n\r\n        interface Parameters : BuildServiceParameters {\r\n            var buildStartTime: LocalDateTime\r\n        }\r\n\r\n        override fun started(buildOperation: BuildOperationDescriptor, startEvent: OperationStartEvent) {}\r\n\r\n        override fun progress(operationIdentifier: OperationIdentifier, progressEvent: OperationProgressEvent) {}\r\n\r\n        override fun finished(buildOperation: BuildOperationDescriptor, finishEvent: OperationFinishEvent) {\r\n            val category = buildOperation.metadata as? BuildOperationCategory\r\n            if (category == BuildOperationCategory.RUN_MAIN_TASKS)\r\n                buildFinishedAction()\r\n        }\r\n\r\n        private fun buildFinishedAction() {\r\n            val timeNow = LocalDateTime.now()\r\n            println(&quot;Finished build at ${timeNow.formatAsDate()}&quot;)\r\n            println(&quot;Build time: ${timeSinceBuildStarted(timeNow).formatAsDuration()}&quot;)\r\n        }\r\n\r\n        private fun timeSinceBuildStarted(buildFinishTime: LocalDateTime): Duration\r\n            = Duration.between(parameters.buildStartTime, buildFinishTime)\r\n\r\n        private fun LocalDateTime.formatAsDate(): String {\r\n            val formatter = DateTimeFormatter.ofPattern(&quot;HH:mm.ss&quot;)\r\n            return formatter.format(this)\r\n        }\r\n\r\n        private fun Duration.formatAsDuration(): String {\r\n            return when (val minutes = toMinutes()) {\r\n                0L -&gt; &quot;${seconds()}s&quot;\r\n                else -&gt; &quot;$minutes min ${seconds()}s&quot;\r\n            }\r\n        }\r\n\r\n        private fun Duration.seconds(): String {\r\n            return String.format(&quot;%1.3f&quot;, toMillisPart().toDouble() / 1000)\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nThis [blog post](https://proandroiddev.com/gradle-configuration-caching-replacing-a-build-listener-with-build-services-40bde11937f1) by Jonny Caley goes into further details on this approach (and has arguably a more elegant way of getting the build start time).  ","title":"how to use Gradle build services to find total build time?","body":"<p>Agreed: it looks like the Gradle team haven't exposed a new API to do this. There is a <a href=\"https://github.com/gradle/gradle/issues/17659\" rel=\"nofollow noreferrer\">feature request</a> out there, and it's currently marked as due for Gradle 8.1. So stay tuned.</p>\n<p>In the meantime, it is possible to find internal Gradle classes where this information is exposed. In particular, there is a <code>BuildOperationListener</code> class which can be used to listen for the end of the build.</p>\n<p>To this end, I'm currently using the following plugin (written in Kotlin) to do the same job in Gradle 7.6:</p>\n<pre><code>import java.time.Duration\nimport java.time.LocalDateTime\nimport java.time.format.DateTimeFormatter\nimport javax.inject.Inject\nimport org.gradle.api.Plugin\nimport org.gradle.api.Project\nimport org.gradle.api.services.BuildService\nimport org.gradle.api.services.BuildServiceParameters\nimport org.gradle.internal.build.event.BuildEventListenerRegistryInternal\nimport org.gradle.internal.operations.BuildOperationCategory\nimport org.gradle.internal.operations.BuildOperationDescriptor\nimport org.gradle.internal.operations.BuildOperationListener\nimport org.gradle.internal.operations.OperationFinishEvent\nimport org.gradle.internal.operations.OperationIdentifier\nimport org.gradle.internal.operations.OperationProgressEvent\nimport org.gradle.internal.operations.OperationStartEvent\n\nclass BuildFinishedPlugin @Inject constructor(\n    private val buildEvents: BuildEventListenerRegistryInternal\n) : Plugin&lt;Project&gt; {\n\n    override fun apply(target: Project) {\n        val buildFinishedService = target.gradle.sharedServices.registerIfAbsent(&quot;buildFinished&quot;, BuildFinishedService::class.java) {\n            parameters.buildStartTime = LocalDateTime.now()\n        }\n        buildEvents.onOperationCompletion(buildFinishedService)\n    }\n\n    /**\n     * Class needs to be a [BuildService] in order to act as an [BuildOperationListener]\n     */\n    abstract class BuildFinishedService : BuildService&lt;BuildFinishedService.Parameters&gt;, BuildOperationListener {\n\n        interface Parameters : BuildServiceParameters {\n            var buildStartTime: LocalDateTime\n        }\n\n        override fun started(buildOperation: BuildOperationDescriptor, startEvent: OperationStartEvent) {}\n\n        override fun progress(operationIdentifier: OperationIdentifier, progressEvent: OperationProgressEvent) {}\n\n        override fun finished(buildOperation: BuildOperationDescriptor, finishEvent: OperationFinishEvent) {\n            val category = buildOperation.metadata as? BuildOperationCategory\n            if (category == BuildOperationCategory.RUN_MAIN_TASKS)\n                buildFinishedAction()\n        }\n\n        private fun buildFinishedAction() {\n            val timeNow = LocalDateTime.now()\n            println(&quot;Finished build at ${timeNow.formatAsDate()}&quot;)\n            println(&quot;Build time: ${timeSinceBuildStarted(timeNow).formatAsDuration()}&quot;)\n        }\n\n        private fun timeSinceBuildStarted(buildFinishTime: LocalDateTime): Duration\n            = Duration.between(parameters.buildStartTime, buildFinishTime)\n\n        private fun LocalDateTime.formatAsDate(): String {\n            val formatter = DateTimeFormatter.ofPattern(&quot;HH:mm.ss&quot;)\n            return formatter.format(this)\n        }\n\n        private fun Duration.formatAsDuration(): String {\n            return when (val minutes = toMinutes()) {\n                0L -&gt; &quot;${seconds()}s&quot;\n                else -&gt; &quot;$minutes min ${seconds()}s&quot;\n            }\n        }\n\n        private fun Duration.seconds(): String {\n            return String.format(&quot;%1.3f&quot;, toMillisPart().toDouble() / 1000)\n        }\n\n    }\n\n}\n</code></pre>\n<p>This <a href=\"https://proandroiddev.com/gradle-configuration-caching-replacing-a-build-listener-with-build-services-40bde11937f1\" rel=\"nofollow noreferrer\">blog post</a> by Jonny Caley goes into further details on this approach (and has arguably a more elegant way of getting the build start time).</p>\n"}],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673100151,"creation_date":1644032553,"question_id":70995109,"body_markdown":"I’m the author of the [build-time-tracker](https://github.com/asarkar/build-time-tracker) plugin that reports build time. It uses build listeners.\r\n\r\nUsing Configuration Cache along with a plugin that registers build listeners fail with the following error:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nConfiguration cache problems found in this build.\r\n\r\n...\r\n - Plugin &#39;com.asarkar.gradle.build-time-tracker&#39;: registration of listener on &#39;Gradle.addListener&#39; is unsupported\r\n```\r\n\r\nhttps://docs.gradle.org/7.2/userguide/configuration_cache.html#config_cache:requirements:build_listeners\r\n\r\n&gt; Plugins and build scripts must not register any build listeners. That is listeners registered at configuration time that get notified at execution time. For example a BuildListener or a TaskExecutionListener.\r\n&gt;\r\n&gt; These should be replaced by build services\r\n\r\nBuild services docs:\r\n\r\nhttps://docs.gradle.org/7.2/userguide/build_services.html#build_services\r\n\r\n&gt; A build service can be used to receive events as tasks are executed. To do this, create and register a build service that implements OperationCompletionListener. Then, you can use the methods on the BuildEventsListenerRegistry service to start receiving events.\r\n\r\nIt appears [BuildEventsListenerRegistry](https://docs.gradle.org/7.2/javadoc/org/gradle/build/event/BuildEventsListenerRegistry.html) only has a method for task completion from which we can get task execution time, but there are no methods for build initiation and completion. Without a way to find total build time, the plugin can’t start using build services.\r\n\r\nThere is a [ticket](https://github.com/gradle/gradle/issues/18520) I have opened with Gradle that is just sitting there. As quoted above, the docs make it sound like it build listeners can be easily replaced by build services, but the API doesn’t match up. The ticket also has a minimum, reproducible example.\r\n\r\nAnyone know how to use build services to find total build time?","title":"how to use Gradle build services to find total build time?","body":"<p>I’m the author of the <a href=\"https://github.com/asarkar/build-time-tracker\" rel=\"nofollow noreferrer\">build-time-tracker</a> plugin that reports build time. It uses build listeners.</p>\n<p>Using Configuration Cache along with a plugin that registers build listeners fail with the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nConfiguration cache problems found in this build.\n\n...\n - Plugin 'com.asarkar.gradle.build-time-tracker': registration of listener on 'Gradle.addListener' is unsupported\n</code></pre>\n<p><a href=\"https://docs.gradle.org/7.2/userguide/configuration_cache.html#config_cache:requirements:build_listeners\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.2/userguide/configuration_cache.html#config_cache:requirements:build_listeners</a></p>\n<blockquote>\n<p>Plugins and build scripts must not register any build listeners. That is listeners registered at configuration time that get notified at execution time. For example a BuildListener or a TaskExecutionListener.</p>\n<p>These should be replaced by build services</p>\n</blockquote>\n<p>Build services docs:</p>\n<p><a href=\"https://docs.gradle.org/7.2/userguide/build_services.html#build_services\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.2/userguide/build_services.html#build_services</a></p>\n<blockquote>\n<p>A build service can be used to receive events as tasks are executed. To do this, create and register a build service that implements OperationCompletionListener. Then, you can use the methods on the BuildEventsListenerRegistry service to start receiving events.</p>\n</blockquote>\n<p>It appears <a href=\"https://docs.gradle.org/7.2/javadoc/org/gradle/build/event/BuildEventsListenerRegistry.html\" rel=\"nofollow noreferrer\">BuildEventsListenerRegistry</a> only has a method for task completion from which we can get task execution time, but there are no methods for build initiation and completion. Without a way to find total build time, the plugin can’t start using build services.</p>\n<p>There is a <a href=\"https://github.com/gradle/gradle/issues/18520\" rel=\"nofollow noreferrer\">ticket</a> I have opened with Gradle that is just sitting there. As quoted above, the docs make it sound like it build listeners can be easily replaced by build services, but the API doesn’t match up. The ticket also has a minimum, reproducible example.</p>\n<p>Anyone know how to use build services to find total build time?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1673079165,"post_id":75036472,"comment_id":132420896,"body_markdown":"Please show your security config","body":"Please show your security config"},{"owner":{"account_id":1405071,"reputation":5124,"user_id":1333012,"accept_rate":56,"display_name":"sineverba"},"score":0,"creation_date":1673080332,"post_id":75036472,"comment_id":132421028,"body_markdown":"Added (but they are visible also in repository)","body":"Added (but they are visible also in repository)"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673083209,"creation_date":1673083209,"answer_id":75039237,"question_id":75036472,"body_markdown":"I cite the [documentation for `@WebMvcTest`][1]:\r\n&gt; Annotation that can be used for a Spring MVC test that focuses only on Spring MVC components.\r\n&gt;\r\n&gt; Using this annotation will disable full auto-configuration and instead apply only configuration relevant to MVC tests (i.e. @Controller, @ControllerAdvice, @JsonComponent, Converter/GenericConverter, Filter, WebMvcConfigurer and HandlerMethodArgumentResolver beans but not @Component, @Service or @Repository beans).\r\n\r\nThis means that your `SecurityConfiguration` is never created because Spring only focuses on the web layer and not your custom components.\r\n\r\nYou have two options for fixing this:\r\n\r\n#### 1. Importing necessary beans\r\n```java\r\n@WebMvcTest(PingController.class)\r\n@Import(SecurityConfiguration.class)\r\nclass AuthTokenFilterTest {\r\n```\r\nNote, that you also need to import the configurations / components that your `SecurityConfiguration` relies on and all the classes these beans rely on, and so forth. So it would more likely have to look like this:\r\n```java\r\n@WebMvcTest(PingController.class)\r\n@Import({SecurityConfiguration.class, UserDetailsServiceImpl.class, AuthEntryPointJwt.class})\r\nclass AuthTokenFilterTest {\r\n```\r\nThis will however decrease the maintainability of your test. If you added a new dependency to say `UserDetailsServiceImpl`, your test would break again because the bean can&#39;t be found.\r\n\r\n#### 2. Using [`@SpringBootTest`][2]\r\n`@SpringBootTest` will create your whole application context with slight modifications for tests. The replacements would look like this:\r\n```java\r\n@AutoConfigureMockMvc // &lt;- included in WebMvcTest but not in SpringBootTest\r\n@SpringBootTest\r\nclass AuthTokenFilterTest {\r\n```\r\nThe disadvantage of this approach is that the tests are slower because the *whole* application context is created and not only the web layer. I prefer this approach as I think that maintainability is more important than the speed of the execution of the tests.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html","title":"WebMvcTest not working after removing deprecated WebSecurityConfigurerAdapter","body":"<p>I cite the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"nofollow noreferrer\">documentation for <code>@WebMvcTest</code></a>:</p>\n<blockquote>\n<p>Annotation that can be used for a Spring MVC test that focuses only on Spring MVC components.</p>\n<p>Using this annotation will disable full auto-configuration and instead apply only configuration relevant to MVC tests (i.e. @Controller, @ControllerAdvice, @JsonComponent, Converter/GenericConverter, Filter, WebMvcConfigurer and HandlerMethodArgumentResolver beans but not @Component, @Service or @Repository beans).</p>\n</blockquote>\n<p>This means that your <code>SecurityConfiguration</code> is never created because Spring only focuses on the web layer and not your custom components.</p>\n<p>You have two options for fixing this:</p>\n<h4>1. Importing necessary beans</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(PingController.class)\n@Import(SecurityConfiguration.class)\nclass AuthTokenFilterTest {\n</code></pre>\n<p>Note, that you also need to import the configurations / components that your <code>SecurityConfiguration</code> relies on and all the classes these beans rely on, and so forth. So it would more likely have to look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(PingController.class)\n@Import({SecurityConfiguration.class, UserDetailsServiceImpl.class, AuthEntryPointJwt.class})\nclass AuthTokenFilterTest {\n</code></pre>\n<p>This will however decrease the maintainability of your test. If you added a new dependency to say <code>UserDetailsServiceImpl</code>, your test would break again because the bean can't be found.</p>\n<h4>2. Using <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"nofollow noreferrer\"><code>@SpringBootTest</code></a></h4>\n<p><code>@SpringBootTest</code> will create your whole application context with slight modifications for tests. The replacements would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AutoConfigureMockMvc // &lt;- included in WebMvcTest but not in SpringBootTest\n@SpringBootTest\nclass AuthTokenFilterTest {\n</code></pre>\n<p>The disadvantage of this approach is that the tests are slower because the <em>whole</em> application context is created and not only the web layer. I prefer this approach as I think that maintainability is more important than the speed of the execution of the tests.</p>\n"}],"owner":{"account_id":1405071,"reputation":5124,"user_id":1333012,"accept_rate":56,"display_name":"sineverba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75039237,"answer_count":1,"score":0,"last_activity_date":1673099726,"creation_date":1673042486,"question_id":75036472,"body_markdown":"Upgrading the SecurityConfig of my application, I got working version but destroyed so many tests.\r\n\r\nCurrent, deprecated version is [here][1] and differecence between files is [here][2]\r\n\r\nThe new version works very well (I tried it with Postman).\r\n\r\nWith difference version I got every test passed at 100%, now I have several errors that I \r\ncannot solve myself.\r\n\r\nE.g. this test:\r\n\r\n```java\r\n@WebMvcTest(PingController.class)\r\nclass AuthTokenFilterTest {\r\n\r\n\t@Autowired\r\n\tprivate MockMvc mvc;\r\n\r\n\t@Autowired\r\n\tAuthTokenFilter authTokenFilter;\r\n\r\n\t@MockBean\r\n\tJwtUtils jwtUtils;\r\n\r\n\t@MockBean\r\n\tUserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n\t@MockBean\r\n\tUserDetails userDetails;\r\n\r\n\t@MockBean\r\n\tprivate PingService pingService;\r\n\r\n\t@MockBean\r\n\tAuthEntryPointJwt authEntryPointJwt;\r\n\r\n\t@MockBean\r\n\tUsersRepository usersRepository;\r\n\r\n\t@Test\r\n\tvoid testCanReturnNullIfJwtIsMissing() throws Exception {\r\n\t\tmvc.perform(get(&quot;/api/v1/ping&quot;)).andExpect(status().isOk());\r\n\t}\r\n\r\n\t/**\r\n\t * Test can validate the token.\r\n\t * \r\n\t * Use /ping route because it is the route out of security, so we can\r\n\t * concentrate to the AuthTokenFilter class.\r\n\t * \r\n\t * @throws Exception\r\n\t */\r\n\t@Test\r\n\tvoid testCanValidateToken() throws Exception {\r\n\t\tString token = &quot;a1.b2.c3&quot;;\r\n\r\n\t\twhen(jwtUtils.validateJwtToken(token)).thenReturn(true);\r\n\t\twhen(jwtUtils.getUserNameFromJwtToken(token)).thenReturn(&quot;username&quot;);\r\n\t\twhen(userDetailsServiceImpl.loadUserByUsername(&quot;username&quot;)).thenReturn(userDetails);\r\n\t\twhen(userDetails.getAuthorities()).thenReturn(null);\r\n\r\n\t\tmvc.perform(get(&quot;/api/v1/ping&quot;).header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)).andExpect(status().isOk());\r\n\t}\r\n\r\n\t/**\r\n\t * Test cannot validate the token.\r\n\t * \r\n\t * Use /ping route because it is the route out of security, so we can\r\n\t * concentrate to the AuthTokenFilter class.\r\n\t * \r\n\t * @throws Exception\r\n\t */\r\n\t@Test\r\n\tvoid testCannotValidateToken() throws Exception {\r\n\t\tString token = &quot;a1.b2.c3&quot;;\r\n\t\twhen(jwtUtils.validateJwtToken(token)).thenReturn(false);\r\n\t\tmvc.perform(get(&quot;/api/v1/ping&quot;).header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)).andExpect(status().isOk());\r\n\t}\r\n\r\n\t/**\r\n\t * Test cannot validate the token if the header is missing.\r\n\t * \r\n\t * Use /ping route because it is the route out of security, so we can\r\n\t * concentrate to the AuthTokenFilter class.\r\n\t * \r\n\t * @throws Exception\r\n\t */\r\n\t@Test\r\n\tvoid testCanReturnNullIfJwtIsMissingButOtherHeaderIsInPlace() throws Exception {\r\n\t\tString token = &quot;a1.b2.c3&quot;;\r\n\t\tmvc.perform(get(&quot;/api/v1/ping&quot;).header(&quot;Authorization&quot;, &quot;NotStartWithBearer &quot; + token))\r\n\t\t\t\t.andExpect(status().isOk());\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI get\r\n\r\n`org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.bitbank.config.AuthTokenFilterTest&#39;: Unsatisfied dependency expressed through field &#39;authTokenFilter&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.bitbank.config.AuthTokenFilter&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n\r\n\r\n(The test is [here][3])\r\n\r\nOr, in the RegisterControllerTest\r\n\r\n```java\r\n@WebMvcTest(AuthController.class)\r\n@TestPropertySource(locations = &quot;classpath:application.properties&quot;, properties = &quot;app.enableSubscription=false&quot;)\r\nclass RegisterControllerTest {\r\n\r\n\t@Autowired\r\n\tprivate MockMvc mvc;\r\n\r\n\t@Autowired\r\n\tAuthTokenFilter authTokenFilter;\r\n\r\n\t@MockBean\r\n\tAuthEntryPointJwt authEntryPointJwt;\r\n\r\n\t@MockBean\r\n\tJwtUtils jwtUtils;\r\n\r\n\t@Autowired\r\n\tprivate ObjectMapper objectMapper;\r\n\r\n\t@MockBean\r\n\tUserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n\t@MockBean\r\n\tAuthenticationManager authenticationManager;\r\n\r\n\t@MockBean\r\n\tAuthentication authentication;\r\n\r\n\t@MockBean\r\n\tSecurityContext securityContext;\r\n\r\n\t@MockBean\r\n\tprivate RolesService rolesService;\r\n\r\n\t@Test\r\n\t@WithMockUser(username = &quot;username&quot;, authorities = { &quot;ROLE_ADMIN&quot; })\r\n\tvoid cannotRegisterUserWhenSubscriptionsAreDisabled() throws Exception {\r\n\r\n\t\tvar userToSave = validUserEntity(&quot;username&quot;, &quot;password&quot;);\r\n\t\tvar savedUser = validUserEntity(&quot;username&quot;, &quot;a1.b2.c3&quot;);\r\n\r\n\t\twhen(userDetailsServiceImpl.post(userToSave)).thenReturn(savedUser);\r\n\r\n\t\tmvc.perform(post(&quot;/api/v1/auth/register/&quot;).contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.content(objectMapper.writeValueAsBytes(userToSave))).andExpect(status().isBadRequest())\r\n\t\t\t\t.andExpect(jsonPath(&quot;$.status&quot;, is(&quot;error&quot;)))\r\n\t\t\t\t.andExpect(jsonPath(&quot;$.message&quot;, is(&quot;subscriptions disabled&quot;)));\r\n\t}\r\n\r\n\tprivate static UsersEntity validUserEntity(String username, String password) {\r\n\t\treturn UsersEntity.builder().username(username).password(password).build();\r\n\t}\r\n}\r\n```\r\n\r\nI get `Error creating bean with name &#39;authController&#39;: Unsatisfied dependency expressed through field &#39;passwordEncoder&#39;`\r\n\r\n## SecurityConfig\r\n\r\nOld:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tUserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n\t@Autowired\r\n\tprivate AuthEntryPointJwt authEntryPointJwt;\r\n\r\n    @Bean\r\n    AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n\t@Value(&quot;${app.allowedOrigins}&quot;)\r\n\tprivate String allowedOriginsFromApplicationProperties;\r\n\r\n\t/**\r\n\t * Return allowedOrigins from application properties\r\n\t */\r\n\tprivate String getAllowedOriginsFromApplicationProperties() {\r\n\t\treturn this.allowedOriginsFromApplicationProperties;\r\n\t}\r\n\r\n\t/**\r\n\t * Return the allowed origins.\r\n\t * \r\n\t * @return\r\n\t */\r\n\tprivate List&lt;String&gt; getAllowedOrigins() {\r\n\t\tString[] allowedOrigins = this.getAllowedOriginsFromApplicationProperties().split(&quot;,&quot;);\r\n\t\treturn Arrays.asList(allowedOrigins);\r\n\t}\r\n\r\n\t@Override\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n\t@Override\r\n\tpublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n\t\tauthenticationManagerBuilder.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoder());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(authEntryPointJwt).and()\r\n\t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\r\n\t\t\t\t.mvcMatchers(&quot;/api/v1/ping&quot;).permitAll().mvcMatchers(&quot;/api/v1/auth/register&quot;).permitAll()\r\n\t\t\t\t.mvcMatchers(&quot;/api/v1/auth/login&quot;).permitAll().mvcMatchers(&quot;/api-docs/**&quot;).permitAll()\r\n\t\t\t\t.mvcMatchers(&quot;/swagger-ui/**&quot;).permitAll().mvcMatchers(&quot;/swagger-ui.html&quot;).permitAll()\r\n\t\t\t\t.mvcMatchers(&quot;/documentation&quot;).permitAll().mvcMatchers(&quot;/&quot;).permitAll().anyRequest().authenticated();\r\n\t\thttp.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n\t}\r\n\r\n    @Bean\r\n    CorsFilter corsFilter() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowCredentials(true);\r\n        config.setAllowedOriginPatterns(getAllowedOrigins());\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;*&quot;);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return new CorsFilter(source);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand new\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n\t@Autowired\r\n\tUserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n\t@Autowired\r\n\tAuthEntryPointJwt authEntryPointJwt;\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\r\n\t\t\tthrows Exception {\r\n\t\treturn authenticationConfiguration.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tAuthTokenFilter authenticationJwtTokenFilter() {\r\n\t\treturn new AuthTokenFilter();\r\n\t}\r\n\r\n\t@Value(&quot;${app.allowedOrigins}&quot;)\r\n\tprivate String allowedOriginsFromApplicationProperties;\r\n\r\n\t/**\r\n\t * Return allowedOrigins from application properties\r\n\t */\r\n\tprivate String getAllowedOriginsFromApplicationProperties() {\r\n\t\treturn this.allowedOriginsFromApplicationProperties;\r\n\t}\r\n\r\n\t/**\r\n\t * Return the allowed origins.\r\n\t * \r\n\t * @return\r\n\t */\r\n\tprivate List&lt;String&gt; getAllowedOrigins() {\r\n\t\tString[] allowedOrigins = this.getAllowedOriginsFromApplicationProperties().split(&quot;,&quot;);\r\n\t\treturn Arrays.asList(allowedOrigins);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(authEntryPointJwt).and()\r\n\t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\r\n\t\t\t\t.mvcMatchers(&quot;/api/v1/ping&quot;).permitAll().mvcMatchers(&quot;/api/v1/auth/register&quot;).permitAll()\r\n\t\t\t\t.mvcMatchers(&quot;/api/v1/auth/login&quot;).permitAll().mvcMatchers(&quot;/api-docs/**&quot;).permitAll()\r\n\t\t\t\t.mvcMatchers(&quot;/swagger-ui/**&quot;).permitAll().mvcMatchers(&quot;/swagger-ui.html&quot;).permitAll()\r\n\t\t\t\t.mvcMatchers(&quot;/documentation&quot;).permitAll().mvcMatchers(&quot;/&quot;).permitAll().anyRequest().authenticated();\r\n\t\thttp.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic WebMvcConfigurer corsConfigurer() {\r\n\t\treturn new WebMvcConfigurer() {\r\n\t\t\t@Override\r\n\t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\t\t\tregistry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tCorsFilter corsFilter() {\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\tCorsConfiguration config = new CorsConfiguration();\r\n\t\tconfig.setAllowCredentials(true);\r\n\t\tconfig.setAllowedOriginPatterns(getAllowedOrigins());\r\n\t\tconfig.addAllowedHeader(&quot;*&quot;);\r\n\t\tconfig.addAllowedMethod(&quot;*&quot;);\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\t\treturn new CorsFilter(source);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/sineverba/online-banking-backend/blob/develop/src/main/java/com/bitbank/config/SecurityConfiguration.java\r\n  [2]: https://github.com/sineverba/online-banking-backend/commit/f5c56bf296366b3b869f9135e343f32199227e6a#diff-c5af42375b7bf9cc397445c2e2606ad35b59de456e666b0fdd820e3b63bf281e\r\n  [3]: https://github.com/sineverba/online-banking-backend/blob/develop/src/test/java/com/bitbank/config/AuthTokenFilterTest.java","title":"WebMvcTest not working after removing deprecated WebSecurityConfigurerAdapter","body":"<p>Upgrading the SecurityConfig of my application, I got working version but destroyed so many tests.</p>\n<p>Current, deprecated version is <a href=\"https://github.com/sineverba/online-banking-backend/blob/develop/src/main/java/com/bitbank/config/SecurityConfiguration.java\" rel=\"nofollow noreferrer\">here</a> and differecence between files is <a href=\"https://github.com/sineverba/online-banking-backend/commit/f5c56bf296366b3b869f9135e343f32199227e6a#diff-c5af42375b7bf9cc397445c2e2606ad35b59de456e666b0fdd820e3b63bf281e\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The new version works very well (I tried it with Postman).</p>\n<p>With difference version I got every test passed at 100%, now I have several errors that I\ncannot solve myself.</p>\n<p>E.g. this test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(PingController.class)\nclass AuthTokenFilterTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Autowired\n    AuthTokenFilter authTokenFilter;\n\n    @MockBean\n    JwtUtils jwtUtils;\n\n    @MockBean\n    UserDetailsServiceImpl userDetailsServiceImpl;\n\n    @MockBean\n    UserDetails userDetails;\n\n    @MockBean\n    private PingService pingService;\n\n    @MockBean\n    AuthEntryPointJwt authEntryPointJwt;\n\n    @MockBean\n    UsersRepository usersRepository;\n\n    @Test\n    void testCanReturnNullIfJwtIsMissing() throws Exception {\n        mvc.perform(get(&quot;/api/v1/ping&quot;)).andExpect(status().isOk());\n    }\n\n    /**\n     * Test can validate the token.\n     * \n     * Use /ping route because it is the route out of security, so we can\n     * concentrate to the AuthTokenFilter class.\n     * \n     * @throws Exception\n     */\n    @Test\n    void testCanValidateToken() throws Exception {\n        String token = &quot;a1.b2.c3&quot;;\n\n        when(jwtUtils.validateJwtToken(token)).thenReturn(true);\n        when(jwtUtils.getUserNameFromJwtToken(token)).thenReturn(&quot;username&quot;);\n        when(userDetailsServiceImpl.loadUserByUsername(&quot;username&quot;)).thenReturn(userDetails);\n        when(userDetails.getAuthorities()).thenReturn(null);\n\n        mvc.perform(get(&quot;/api/v1/ping&quot;).header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)).andExpect(status().isOk());\n    }\n\n    /**\n     * Test cannot validate the token.\n     * \n     * Use /ping route because it is the route out of security, so we can\n     * concentrate to the AuthTokenFilter class.\n     * \n     * @throws Exception\n     */\n    @Test\n    void testCannotValidateToken() throws Exception {\n        String token = &quot;a1.b2.c3&quot;;\n        when(jwtUtils.validateJwtToken(token)).thenReturn(false);\n        mvc.perform(get(&quot;/api/v1/ping&quot;).header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)).andExpect(status().isOk());\n    }\n\n    /**\n     * Test cannot validate the token if the header is missing.\n     * \n     * Use /ping route because it is the route out of security, so we can\n     * concentrate to the AuthTokenFilter class.\n     * \n     * @throws Exception\n     */\n    @Test\n    void testCanReturnNullIfJwtIsMissingButOtherHeaderIsInPlace() throws Exception {\n        String token = &quot;a1.b2.c3&quot;;\n        mvc.perform(get(&quot;/api/v1/ping&quot;).header(&quot;Authorization&quot;, &quot;NotStartWithBearer &quot; + token))\n                .andExpect(status().isOk());\n    }\n\n}\n</code></pre>\n<p>I get</p>\n<p><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bitbank.config.AuthTokenFilterTest': Unsatisfied dependency expressed through field 'authTokenFilter'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.bitbank.config.AuthTokenFilter' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code></p>\n<p>(The test is <a href=\"https://github.com/sineverba/online-banking-backend/blob/develop/src/test/java/com/bitbank/config/AuthTokenFilterTest.java\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>Or, in the RegisterControllerTest</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(AuthController.class)\n@TestPropertySource(locations = &quot;classpath:application.properties&quot;, properties = &quot;app.enableSubscription=false&quot;)\nclass RegisterControllerTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Autowired\n    AuthTokenFilter authTokenFilter;\n\n    @MockBean\n    AuthEntryPointJwt authEntryPointJwt;\n\n    @MockBean\n    JwtUtils jwtUtils;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @MockBean\n    UserDetailsServiceImpl userDetailsServiceImpl;\n\n    @MockBean\n    AuthenticationManager authenticationManager;\n\n    @MockBean\n    Authentication authentication;\n\n    @MockBean\n    SecurityContext securityContext;\n\n    @MockBean\n    private RolesService rolesService;\n\n    @Test\n    @WithMockUser(username = &quot;username&quot;, authorities = { &quot;ROLE_ADMIN&quot; })\n    void cannotRegisterUserWhenSubscriptionsAreDisabled() throws Exception {\n\n        var userToSave = validUserEntity(&quot;username&quot;, &quot;password&quot;);\n        var savedUser = validUserEntity(&quot;username&quot;, &quot;a1.b2.c3&quot;);\n\n        when(userDetailsServiceImpl.post(userToSave)).thenReturn(savedUser);\n\n        mvc.perform(post(&quot;/api/v1/auth/register/&quot;).contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsBytes(userToSave))).andExpect(status().isBadRequest())\n                .andExpect(jsonPath(&quot;$.status&quot;, is(&quot;error&quot;)))\n                .andExpect(jsonPath(&quot;$.message&quot;, is(&quot;subscriptions disabled&quot;)));\n    }\n\n    private static UsersEntity validUserEntity(String username, String password) {\n        return UsersEntity.builder().username(username).password(password).build();\n    }\n}\n</code></pre>\n<p>I get <code>Error creating bean with name 'authController': Unsatisfied dependency expressed through field 'passwordEncoder'</code></p>\n<h2>SecurityConfig</h2>\n<p>Old:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsServiceImpl;\n\n    @Autowired\n    private AuthEntryPointJwt authEntryPointJwt;\n\n    @Bean\n    AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Value(&quot;${app.allowedOrigins}&quot;)\n    private String allowedOriginsFromApplicationProperties;\n\n    /**\n     * Return allowedOrigins from application properties\n     */\n    private String getAllowedOriginsFromApplicationProperties() {\n        return this.allowedOriginsFromApplicationProperties;\n    }\n\n    /**\n     * Return the allowed origins.\n     * \n     * @return\n     */\n    private List&lt;String&gt; getAllowedOrigins() {\n        String[] allowedOrigins = this.getAllowedOriginsFromApplicationProperties().split(&quot;,&quot;);\n        return Arrays.asList(allowedOrigins);\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(authEntryPointJwt).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\n                .mvcMatchers(&quot;/api/v1/ping&quot;).permitAll().mvcMatchers(&quot;/api/v1/auth/register&quot;).permitAll()\n                .mvcMatchers(&quot;/api/v1/auth/login&quot;).permitAll().mvcMatchers(&quot;/api-docs/**&quot;).permitAll()\n                .mvcMatchers(&quot;/swagger-ui/**&quot;).permitAll().mvcMatchers(&quot;/swagger-ui.html&quot;).permitAll()\n                .mvcMatchers(&quot;/documentation&quot;).permitAll().mvcMatchers(&quot;/&quot;).permitAll().anyRequest().authenticated();\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n    @Bean\n    CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.setAllowedOriginPatterns(getAllowedOrigins());\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;*&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsFilter(source);\n    }\n\n}\n</code></pre>\n<p>and new</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsServiceImpl;\n\n    @Autowired\n    AuthEntryPointJwt authEntryPointJwt;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\n            throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Value(&quot;${app.allowedOrigins}&quot;)\n    private String allowedOriginsFromApplicationProperties;\n\n    /**\n     * Return allowedOrigins from application properties\n     */\n    private String getAllowedOriginsFromApplicationProperties() {\n        return this.allowedOriginsFromApplicationProperties;\n    }\n\n    /**\n     * Return the allowed origins.\n     * \n     * @return\n     */\n    private List&lt;String&gt; getAllowedOrigins() {\n        String[] allowedOrigins = this.getAllowedOriginsFromApplicationProperties().split(&quot;,&quot;);\n        return Arrays.asList(allowedOrigins);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(authEntryPointJwt).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\n                .mvcMatchers(&quot;/api/v1/ping&quot;).permitAll().mvcMatchers(&quot;/api/v1/auth/register&quot;).permitAll()\n                .mvcMatchers(&quot;/api/v1/auth/login&quot;).permitAll().mvcMatchers(&quot;/api-docs/**&quot;).permitAll()\n                .mvcMatchers(&quot;/swagger-ui/**&quot;).permitAll().mvcMatchers(&quot;/swagger-ui.html&quot;).permitAll()\n                .mvcMatchers(&quot;/documentation&quot;).permitAll().mvcMatchers(&quot;/&quot;).permitAll().anyRequest().authenticated();\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\n            }\n        };\n    }\n\n    @Bean\n    CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.setAllowedOriginPatterns(getAllowedOrigins());\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;*&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsFilter(source);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-3"],"comments":[{"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"score":0,"creation_date":1329523042,"post_id":9335607,"comment_id":11784314,"body_markdown":"Try debugging and see where spring ends up when it has hit your breakpoint. The code is all pretty good really, just make sure you have the source linked in to your IDE !","body":"Try debugging and see where spring ends up when it has hit your breakpoint. The code is all pretty good really, just make sure you have the source linked in to your IDE !"},{"owner":{"account_id":208028,"reputation":3111,"user_id":458248,"accept_rate":52,"display_name":"baba.kabira"},"score":0,"creation_date":1329552933,"post_id":9335607,"comment_id":11788055,"body_markdown":"which mysql engine are you using MyISAM or InnoDB, MyISAM dont support transactions.","body":"which mysql engine are you using MyISAM or InnoDB, MyISAM dont support transactions."},{"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"score":0,"creation_date":1329836118,"post_id":9335607,"comment_id":11847245,"body_markdown":"using innoDB. Another weird part that I just figure out: the service class actually has myDao1.persist(o1) then myDao2.persist(o2) having o2 dependent on o1. I found that the o2 objects are rolled back, but not the o1 object.","body":"using innoDB. Another weird part that I just figure out: the service class actually has myDao1.persist(o1) then myDao2.persist(o2) having o2 dependent on o1. I found that the o2 objects are rolled back, but not the o1 object."},{"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"score":0,"creation_date":1329838105,"post_id":9335607,"comment_id":11848071,"body_markdown":"I figured out more steps. So my actual Service class is as follow: Service1: { 1. Dao1.persist 2. Service2.doStuff 3. Dao2.persist } - the original problem comes when I throw the exception after Step 3. It also shows up if thrown after Step 2. It doesn&#39;t commit if exception thrown before Step 2. The Service2 class is very similar to the Service1 as above, I also tried Propagation.Required and even tried Propagation.NESTED and it still not working. So seems like sometime between step 1 and step 2 it commits the transaction.","body":"I figured out more steps. So my actual Service class is as follow: Service1: { 1. Dao1.persist 2. Service2.doStuff 3. Dao2.persist } - the original problem comes when I throw the exception after Step 3. It also shows up if thrown after Step 2. It doesn&#39;t commit if exception thrown before Step 2. The Service2 class is very similar to the Service1 as above, I also tried Propagation.Required and even tried Propagation.NESTED and it still not working. So seems like sometime between step 1 and step 2 it commits the transaction."}],"answers":[{"tags":[],"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329516548,"creation_date":1329516548,"answer_id":9336140,"question_id":9335607,"body_markdown":"you don&#39;t have one of those JDBC drivers that are in AUTOCOMMIT mode by default, do you?","title":"Spring @Transaction does not rollback on Exception thrown","body":"<p>you don't have one of those JDBC drivers that are in AUTOCOMMIT mode by default, do you?</p>\n"},{"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329554062,"creation_date":1329554062,"answer_id":9339810,"question_id":9335607,"body_markdown":"Try remove the @Transactional annotation from the DaoImpl class. I suspect what might be happening is that the transaction is being committed when it crosses back over that transaction boundary (DaoImpl). I&#39;ve had mixed success with this setup. You can try some different transaction approaches to the &quot;inner&quot; transaction.\r\n\r\nThe other thing you can do is turn on spring transaction logging. It think its category org.springframework.transaction or something. That way you will see exactly what it is doing w.r.t to roll back and commit of transactions...","title":"Spring @Transaction does not rollback on Exception thrown","body":"<p>Try remove the @Transactional annotation from the DaoImpl class. I suspect what might be happening is that the transaction is being committed when it crosses back over that transaction boundary (DaoImpl). I've had mixed success with this setup. You can try some different transaction approaches to the \"inner\" transaction.</p>\n\n<p>The other thing you can do is turn on spring transaction logging. It think its category org.springframework.transaction or something. That way you will see exactly what it is doing w.r.t to roll back and commit of transactions...</p>\n"},{"tags":[],"owner":{"account_id":1231014,"reputation":594,"user_id":1195605,"display_name":"Ravi Sanwal"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1329607513,"creation_date":1329607513,"answer_id":9345120,"question_id":9335607,"body_markdown":"That is the intended behavior of transaction management.\r\nThe default behavior for @Transactional is to rollback only for runtime exceptions.\r\nIf you want your stuff to rollback after throwing DaoException then add it to the rollback exception list. Don&#39;t forget to also include RuntimeException also.\r\nTry the following on the Dao class\r\n@Transactional(propagation=Propagation.Mandatory, rollbackFor={RuntimeException.class, DaoException.class})","title":"Spring @Transaction does not rollback on Exception thrown","body":"<p>That is the intended behavior of transaction management.\nThe default behavior for @Transactional is to rollback only for runtime exceptions.\nIf you want your stuff to rollback after throwing DaoException then add it to the rollback exception list. Don't forget to also include RuntimeException also.\nTry the following on the Dao class\n@Transactional(propagation=Propagation.Mandatory, rollbackFor={RuntimeException.class, DaoException.class})</p>\n"},{"tags":[],"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1330528435,"creation_date":1330528435,"answer_id":9501640,"question_id":9335607,"body_markdown":"I found the cause of my problem and why the transaction (seemingly) not managed properly.\r\n\r\nSomewhere in my code \r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Transactional(rollbackFor=Exception.class, propagation=Propagation.REQUIRED)\r\n    public void doWork(Parameters param) throws ServiceException \r\n    {\r\n        ... do bunch of stuff ..\r\n        myDao1.persist(entity)\r\n\r\n        -- Some logic here --\r\n\r\n        ... do bunch of stuff ..\r\n        myDao2.persist(entity2)\r\n\r\n        if(true)\r\n            throw new ServiceException(&quot;random error&quot;)\r\n    }\r\n\r\nThe part where it says &quot;-- Some logic here --&quot;, there was some logic done that uses raw SQL and call on execute update:\r\n    \r\n    Query query = sessionFactory.getCurrentSession().createSQLQuery(queryText);\r\n    query.executeUpdate();\r\n\r\nAnd because it&#39;s not using Hibernate query, and instead using raw SQL execution, it caused a flush to be called and thus any work done prior to the call will be committed along with \r\nit. \r\n\r\nI re-work the flow of logic to account for this logic to make sure transaction is managed properly. While using raw SQL might be an indication that there&#39;s something wrong - it was something necessary to be done due to the things that the service try to accomplish and to improve the performance of the service.","title":"Spring @Transaction does not rollback on Exception thrown","body":"<p>I found the cause of my problem and why the transaction (seemingly) not managed properly.</p>\n\n<p>Somewhere in my code </p>\n\n<pre><code>/**\n * {@inheritDoc}\n */\n@Transactional(rollbackFor=Exception.class, propagation=Propagation.REQUIRED)\npublic void doWork(Parameters param) throws ServiceException \n{\n    ... do bunch of stuff ..\n    myDao1.persist(entity)\n\n    -- Some logic here --\n\n    ... do bunch of stuff ..\n    myDao2.persist(entity2)\n\n    if(true)\n        throw new ServiceException(\"random error\")\n}\n</code></pre>\n\n<p>The part where it says \"-- Some logic here --\", there was some logic done that uses raw SQL and call on execute update:</p>\n\n<pre><code>Query query = sessionFactory.getCurrentSession().createSQLQuery(queryText);\nquery.executeUpdate();\n</code></pre>\n\n<p>And because it's not using Hibernate query, and instead using raw SQL execution, it caused a flush to be called and thus any work done prior to the call will be committed along with \nit. </p>\n\n<p>I re-work the flow of logic to account for this logic to make sure transaction is managed properly. While using raw SQL might be an indication that there's something wrong - it was something necessary to be done due to the things that the service try to accomplish and to improve the performance of the service.</p>\n"},{"tags":[],"owner":{"account_id":8256277,"reputation":418,"user_id":6209355,"display_name":"Yauheni Leaniuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673099326,"creation_date":1673099326,"answer_id":75040824,"question_id":9335607,"body_markdown":"I have the same issue when open connections manually in my Spring Repository. After I start using JdbcTemplate error disappeared\r\n\r\nI used \r\n\r\n    @Autowired \r\n    private JdbcTemplate jdbc;\r\n\r\nin my Repository\r\n\r\nand then \r\n`jdbc.query(sql, new RowMapper());` or `jdbc.update(sql);` or `jdbc.queryForObject(sql, new RowMapper());` dependent on how many objects you return by your query.\r\n\r\nAlso I defined RowMapper():\r\n\r\n    public class RowMapper implements RowMapper&lt;YourDTOObject&gt; {\r\n        @Override\r\n        public YourDTOObject mapRow(ResultSet resultSet, int i) throws SQLException {\r\n            YourDTOObject dto = new YourDTOObject();\r\n            dto.setId(resultSet.getInt(&quot;id&quot;)); // here you can change to your column names\r\n            dto.setName(resultSet.getString(&quot;name&quot;));\r\n            dto.setAmount(resultSet.getBigDecimal(&quot;amount&quot;));\r\n            return a;\r\n        }\r\n\r\n","title":"Spring @Transaction does not rollback on Exception thrown","body":"<p>I have the same issue when open connections manually in my Spring Repository. After I start using JdbcTemplate error disappeared</p>\n<p>I used</p>\n<pre><code>@Autowired \nprivate JdbcTemplate jdbc;\n</code></pre>\n<p>in my Repository</p>\n<p>and then\n<code>jdbc.query(sql, new RowMapper());</code> or <code>jdbc.update(sql);</code> or <code>jdbc.queryForObject(sql, new RowMapper());</code> dependent on how many objects you return by your query.</p>\n<p>Also I defined RowMapper():</p>\n<pre><code>public class RowMapper implements RowMapper&lt;YourDTOObject&gt; {\n    @Override\n    public YourDTOObject mapRow(ResultSet resultSet, int i) throws SQLException {\n        YourDTOObject dto = new YourDTOObject();\n        dto.setId(resultSet.getInt(&quot;id&quot;)); // here you can change to your column names\n        dto.setName(resultSet.getString(&quot;name&quot;));\n        dto.setAmount(resultSet.getBigDecimal(&quot;amount&quot;));\n        return a;\n    }\n</code></pre>\n"}],"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33953,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9501640,"answer_count":5,"score":7,"last_activity_date":1673099326,"creation_date":1329513824,"question_id":9335607,"body_markdown":"I&#39;ve searched around for this question, there&#39;s quite a few of them here on StackOverflow and Google but I can&#39;t seem to get anything working for me.\r\n\r\nhere are my codes\r\nSpring config: (I dont use any pointcut - I think I dont need to?)\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n    ...\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;hibernateSessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\r\n     &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n     ...\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;sessionFactory&quot; ref=&quot;hibernateSessionFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n\r\nI have a Service class:\r\n\r\n    @Service\r\n    public class ServiceImpl implements ServiceInterface \r\n    {\r\n    \t/**\r\n    \t * Injected session factory\r\n    \t */\r\n    \t@Autowired(required=true)\r\n    \tprivate SessionFactory sessionFactory;\r\n    \t\r\n    \t@Autowired(required=true)\r\n    \tprivate Dao myDao;\r\n    \t\r\n    \t/**\r\n    \t * {@inheritDoc}\r\n    \t */\r\n    \t@Transactional(rollbackFor=Exception.class, propagation=Propagation.REQUIRED)\r\n    \tpublic void scheduleBlast(BlastParameters blastParameters) throws ServiceException \r\n    \t{\r\n    \t\t... do bunch of stuff ..\r\n    \t\tmyDao.persist(entity)\r\n    \t\t\r\n    \t\tif(true)\r\n    \t\t\tthrow new ServiceException(&quot;random error&quot;)\r\n    \t}\r\n    \t\r\n    \t.. setter methods and other stuff ..\r\n    }\r\n\r\nand a Dao class:\r\n    \r\n    public class DaoImpl implements DaoInterface\r\n    {\r\n    \t@Autowired(required=true)\r\n    \tprivate SessionFactory sessionFactory\r\n    \t\r\n    \t/**\r\n    \t * {@inheritDoc}\r\n    \t */\r\n    \t@Transactional(propagation=Propagation.MANDATORY)\r\n    \tpublic void persist(Entity e) throws DaoException\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tsessionFactory.getCurrentSession().persist(e);\r\n    \t\t}\r\n    \t\tcatch(Exception ex)\r\n    \t\t{\r\n    \t\t\tthrow new DaoException(ex);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \t.. setter methods and other stuff ..\r\n    }\r\n\r\n\r\nSome unnecessary details are eliminated (eg. missing setter, etc), assume that code works perfectly fine. \r\n\r\nMy problem with the above is that when I added the throw random exception line, it does not rollback, the object being persisted through the DAO stays in the db.\r\n\r\nI am using Spring 3.1 and Hibernate 3.6 (because there was a bug with Hibernate 4.0 on Spring 3.1)\r\n\r\nThoughts?\r\n\r\nThank you","title":"Spring @Transaction does not rollback on Exception thrown","body":"<p>I've searched around for this question, there's quite a few of them here on StackOverflow and Google but I can't seem to get anything working for me.</p>\n\n<p>here are my codes\nSpring config: (I dont use any pointcut - I think I dont need to?)</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n...\n&lt;/bean&gt;\n\n&lt;bean id=\"hibernateSessionFactory\" class=\"org.springframework.orm.hibernate3.LocalSessionFactoryBean\"&gt;\n &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n ...\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"hibernateSessionFactory\"/&gt;\n&lt;/bean&gt;\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n</code></pre>\n\n<p>I have a Service class:</p>\n\n<pre><code>@Service\npublic class ServiceImpl implements ServiceInterface \n{\n    /**\n     * Injected session factory\n     */\n    @Autowired(required=true)\n    private SessionFactory sessionFactory;\n\n    @Autowired(required=true)\n    private Dao myDao;\n\n    /**\n     * {@inheritDoc}\n     */\n    @Transactional(rollbackFor=Exception.class, propagation=Propagation.REQUIRED)\n    public void scheduleBlast(BlastParameters blastParameters) throws ServiceException \n    {\n        ... do bunch of stuff ..\n        myDao.persist(entity)\n\n        if(true)\n            throw new ServiceException(\"random error\")\n    }\n\n    .. setter methods and other stuff ..\n}\n</code></pre>\n\n<p>and a Dao class:</p>\n\n<pre><code>public class DaoImpl implements DaoInterface\n{\n    @Autowired(required=true)\n    private SessionFactory sessionFactory\n\n    /**\n     * {@inheritDoc}\n     */\n    @Transactional(propagation=Propagation.MANDATORY)\n    public void persist(Entity e) throws DaoException\n    {\n        try\n        {\n            sessionFactory.getCurrentSession().persist(e);\n        }\n        catch(Exception ex)\n        {\n            throw new DaoException(ex);\n        }\n    }\n\n\n    .. setter methods and other stuff ..\n}\n</code></pre>\n\n<p>Some unnecessary details are eliminated (eg. missing setter, etc), assume that code works perfectly fine. </p>\n\n<p>My problem with the above is that when I added the throw random exception line, it does not rollback, the object being persisted through the DAO stays in the db.</p>\n\n<p>I am using Spring 3.1 and Hibernate 3.6 (because there was a bug with Hibernate 4.0 on Spring 3.1)</p>\n\n<p>Thoughts?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","sql","sql-server","hibernate","c3p0"],"answers":[{"tags":[],"owner":{"account_id":10750568,"reputation":31,"user_id":7910190,"display_name":"glundin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556378108,"creation_date":1556378108,"answer_id":55881952,"question_id":55881526,"body_markdown":"Your hibernate.properties file is setting up a MySql driver while your app-config.xml is setting up a SQL Server driver. Since the error message mentions SQL Server I&#39;m gussing that your app-config.xml is what&#39;s used. (Your hibernate.properties also sets `hibernate.hbm2ddl.auto=update` which should never ever be used in production).\r\n\r\napp-config.xml sets `testConnectionOnCheckin` to true. This means that the connections are validated when they are returned to the pool. It also sets `idleConnectionTestPeriod` to 30 which means that your idle connections are validated every 30 seconds. This makes it unlikely, but not impossible, that the problem is the database closing the connections while they are pooled.\r\n\r\nYou could try replacing `testConnectionOnCheckIn` with `testConnectionOnCheckout`. This would fix any problems with the database closing the connection on you for sure. If this doesn&#39;t work then the problem is the program actively closing the connection and then trying to use it again.\r\n","title":"Getting SQLServerException makeFromDriverError message &#39;could not prepare statement&#39; and &#39;The connection is closed&#39;","body":"<p>Your hibernate.properties file is setting up a MySql driver while your app-config.xml is setting up a SQL Server driver. Since the error message mentions SQL Server I'm gussing that your app-config.xml is what's used. (Your hibernate.properties also sets <code>hibernate.hbm2ddl.auto=update</code> which should never ever be used in production).</p>\n\n<p>app-config.xml sets <code>testConnectionOnCheckin</code> to true. This means that the connections are validated when they are returned to the pool. It also sets <code>idleConnectionTestPeriod</code> to 30 which means that your idle connections are validated every 30 seconds. This makes it unlikely, but not impossible, that the problem is the database closing the connections while they are pooled.</p>\n\n<p>You could try replacing <code>testConnectionOnCheckIn</code> with <code>testConnectionOnCheckout</code>. This would fix any problems with the database closing the connection on you for sure. If this doesn't work then the problem is the program actively closing the connection and then trying to use it again.</p>\n"},{"tags":[],"owner":{"account_id":8256277,"reputation":418,"user_id":6209355,"display_name":"Yauheni Leaniuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673099172,"creation_date":1673099172,"answer_id":75040805,"question_id":55881526,"body_markdown":"I have the same issue when trying to open connection manually in my Spring Repository. After I start using JdbcTemplate error dissapeared","title":"Getting SQLServerException makeFromDriverError message &#39;could not prepare statement&#39; and &#39;The connection is closed&#39;","body":"<p>I have the same issue when trying to open connection manually in my Spring Repository. After I start using JdbcTemplate error dissapeared</p>\n"}],"owner":{"account_id":12828637,"reputation":53,"user_id":9280655,"display_name":"0_tr0jan_0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673099172,"creation_date":1556375023,"question_id":55881526,"body_markdown":"Recently as my production app has been increasing in users, I have started to receive the following errors (thousands):\r\n\r\n&gt; org.hibernate.exception.GenericJDBCException: could not prepare\r\n&gt; statement\r\n&gt;     Problem Id:com.microsoft.sqlserver.jdbc.SQLServerException at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError\r\n \r\n\r\n&gt; The connection is closed.\r\n&gt;     Problem Id:com.microsoft.sqlserver.jdbc.SQLServerException at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError\r\n\r\nHere are the full errors:\r\n\r\n\r\n     javax.persistence.PersistenceException:    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert\r\n     (AbstractEntityManagerImpl.java1763)    at\r\n     org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert\r\n     (AbstractEntityManagerImpl.java1694)    at\r\n     org.hibernate.jpa.spi.AbstractEntityManagerImpl.find\r\n     (AbstractEntityManagerImpl.java1141)    at\r\n     org.hibernate.jpa.spi.AbstractEntityManagerImpl.find\r\n     (AbstractEntityManagerImpl.java1068)    at\r\n     sun.reflect.GeneratedMethodAccessor65.invoke    at\r\n     sun.reflect.DelegatingMethodAccessorImpl.invoke\r\n     (DelegatingMethodAccessorImpl.java43)    at\r\n     java.lang.reflect.Method.invoke (Method.java498)    at\r\n     org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke\r\n     (SharedEntityManagerCreator.java241)    at com.sun.proxy.$Proxy51.find\r\n     at com.adaptive.xxxxxxx.data.JPAPersistenceAdapter.find\r\n     (JPAPersistenceAdapter.java27)    at\r\n     com.adaptive.xxxxxxxxx.data.ChangeSetApplier2.applyChange\r\n     (ChangeSetApplier2.java257)    at\r\n     com.adaptive.xxxxxxxx.data.ChangeSetApplier2.applyChanges\r\n     (ChangeSetApplier2.java59)    at\r\n     com.adaptive.xxxxxxxx.services.EntityServiceImpl.applyChangeSet\r\n     (EntityServiceImpl.java64)    at\r\n     sun.reflect.GeneratedMethodAccessor98.invoke    at\r\n     sun.reflect.DelegatingMethodAccessorImpl.invoke\r\n     (DelegatingMethodAccessorImpl.java43)    at\r\n     java.lang.reflect.Method.invoke (Method.java498)    at\r\n     org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection\r\n     (AopUtils.java317)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint\r\n     (ReflectiveMethodInvocation.java183)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\r\n     (ReflectiveMethodInvocation.java150)    at\r\n     org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke\r\n     (MethodSecurityInterceptor.java64)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\r\n     (ReflectiveMethodInvocation.java172)    at\r\n     org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation\r\n     (TransactionInterceptor.java96)    at\r\n     org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction\r\n     (TransactionAspectSupport.java260)    at\r\n     org.springframework.transaction.interceptor.TransactionInterceptor.invoke\r\n     (TransactionInterceptor.java94)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\r\n     (ReflectiveMethodInvocation.java172)    at\r\n     org.granite.tide.spring.TideDataPublishingInterceptor$1.call\r\n     (TideDataPublishingInterceptor.java78)    at\r\n     org.granite.tide.spring.TideDataPublishingWrapper.execute\r\n     (TideDataPublishingWrapper.java127)    at\r\n     org.granite.tide.spring.TideDataPublishingInterceptor.invoke\r\n     (TideDataPublishingInterceptor.java75)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\r\n     (ReflectiveMethodInvocation.java172)    at\r\n     org.springframework.aop.framework.JdkDynamicAopProxy.invoke\r\n     (JdkDynamicAopProxy.java204)    at\r\n     com.sun.proxy.$Proxy61.applyChangeSet    at\r\n     sun.reflect.GeneratedMethodAccessor736.invoke    at\r\n     sun.reflect.DelegatingMethodAccessorImpl.invoke\r\n     (DelegatingMethodAccessorImpl.java43)    at\r\n     java.lang.reflect.Method.invoke (Method.java498)    at\r\n     org.granite.messaging.service.ServiceInvocationContext.invoke\r\n     (ServiceInvocationContext.java72)    at\r\n     org.granite.messaging.service.security.AbstractSecurityService.endAuthorization\r\n     (AbstractSecurityService.java108)    at\r\n     org.granite.spring.security.SpringSecurity3Service.authorize\r\n     (SpringSecurity3Service.java294)    at\r\n     org.granite.messaging.service.ServiceInvoker.invoke\r\n     (ServiceInvoker.java220)    at\r\n     org.granite.messaging.amf.process.AMF3MessageProcessor.processRemotingMessage\r\n     (AMF3MessageProcessor.java141)    at\r\n     org.granite.messaging.amf.process.AMF3MessageProcessor.process\r\n     (AMF3MessageProcessor.java60)    at\r\n     org.granite.messaging.amf.process.AMF0MessageProcessor.process\r\n     (AMF0MessageProcessor.java79)    at\r\n     org.granite.messaging.webapp.AMFEndpoint.serviceAMF\r\n     (AMFEndpoint.java91)    at\r\n     org.granite.messaging.webapp.AMFEndpoint.service (AMFEndpoint.java66) \r\n     at org.granite.spring.ServerFilter.handle (ServerFilter.java331)    at\r\n     org.springframework.web.servlet.DispatcherServlet.doDispatch\r\n     (DispatcherServlet.java925)    at\r\n     org.springframework.web.servlet.DispatcherServlet.doService\r\n     (DispatcherServlet.java856)    at\r\n     org.springframework.web.servlet.FrameworkServlet.processRequest\r\n     (FrameworkServlet.java936)    at\r\n     org.springframework.web.servlet.FrameworkServlet.doPost\r\n     (FrameworkServlet.java838)    at\r\n     javax.servlet.http.HttpServlet.service (HttpServlet.java648)    at\r\n     org.springframework.web.servlet.FrameworkServlet.service\r\n     (FrameworkServlet.java812)    at\r\n     javax.servlet.http.HttpServlet.service (HttpServlet.java729)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n     (ApplicationFilterChain.java292)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n     (ApplicationFilterChain.java207)    at\r\n     org.apache.tomcat.websocket.server.WsFilter.doFilter (WsFilter.java52)\r\n     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n     (ApplicationFilterChain.java240)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n     (ApplicationFilterChain.java207)    at\r\n     com.adaptive.xxxxxxxxx.servlet.CacheControlFilter.doFilter\r\n     (CacheControlFilter.java13)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n     (ApplicationFilterChain.java240)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n     (ApplicationFilterChain.java207)    at\r\n     org.apache.catalina.core.StandardWrapperValve.invoke\r\n     (StandardWrapperValve.java212)    at\r\n     org.apache.catalina.core.StandardContextValve.invoke\r\n     (StandardContextValve.java106)    at\r\n     org.apache.catalina.authenticator.AuthenticatorBase.invoke\r\n     (AuthenticatorBase.java502)    at\r\n     org.apache.catalina.core.StandardHostValve.invoke\r\n     (StandardHostValve.java141)    at\r\n     org.apache.catalina.valves.ErrorReportValve.invoke\r\n     (ErrorReportValve.java79)    at\r\n     org.apache.catalina.valves.AbstractAccessLogValve.invoke\r\n     (AbstractAccessLogValve.java616)    at\r\n     org.apache.catalina.valves.rewrite.RewriteValve.invoke\r\n     (RewriteValve.java480)    at\r\n     org.apache.catalina.core.StandardEngineValve.invoke\r\n     (StandardEngineValve.java88)    at\r\n     org.apache.catalina.connector.CoyoteAdapter.service\r\n     (CoyoteAdapter.java522)    at\r\n     org.apache.coyote.http11.AbstractHttp11Processor.process\r\n     (AbstractHttp11Processor.java1095)    at\r\n     org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process\r\n     (AbstractProtocol.java672)    at\r\n     org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun\r\n     (NioEndpoint.java1502)    at\r\n     org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run\r\n     (NioEndpoint.java1458)    at\r\n     java.util.concurrent.ThreadPoolExecutor.runWorker\r\n     (ThreadPoolExecutor.java1149)    at\r\n     java.util.concurrent.ThreadPoolExecutor$Worker.run\r\n     (ThreadPoolExecutor.java624)    at\r\n     org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run\r\n     (TaskThread.java61)    at java.lang.Thread.run (Thread.java748) Inner\r\n     exception org.hibernate.exception.GenericJDBCException handled at\r\n     org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert:    at\r\n     org.hibernate.exception.internal.StandardSQLExceptionConverter.convert\r\n     (StandardSQLExceptionConverter.java54)    at\r\n     org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert\r\n     (SqlExceptionHelper.java126)    at\r\n     org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement\r\n     (StatementPreparerImpl.java196)    at\r\n     org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement\r\n     (StatementPreparerImpl.java160)    at\r\n     org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.prepareQueryStatement\r\n     (AbstractLoadPlanBasedLoader.java257)    at\r\n     org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement\r\n     (AbstractLoadPlanBasedLoader.java201)    at\r\n     org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad\r\n     (AbstractLoadPlanBasedLoader.java137)    at\r\n     org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad\r\n     (AbstractLoadPlanBasedLoader.java102)    at\r\n     org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load\r\n     (AbstractLoadPlanBasedEntityLoader.java186)    at\r\n     org.hibernate.persister.entity.AbstractEntityPersister.load\r\n     (AbstractEntityPersister.java4126)    at\r\n     org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource\r\n     (DefaultLoadEventListener.java503)    at\r\n     org.hibernate.event.internal.DefaultLoadEventListener.doLoad\r\n     (DefaultLoadEventListener.java468)    at\r\n     org.hibernate.event.internal.DefaultLoadEventListener.load\r\n     (DefaultLoadEventListener.java213)    at\r\n     org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad\r\n     (DefaultLoadEventListener.java275)    at\r\n     org.hibernate.event.internal.DefaultLoadEventListener.onLoad\r\n     (DefaultLoadEventListener.java151)    at\r\n     org.hibernate.internal.SessionImpl.fireLoad (SessionImpl.java1106)   \r\n     at org.hibernate.internal.SessionImpl.access$2000\r\n     (SessionImpl.java176)    at\r\n     org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load\r\n     (SessionImpl.java2587)    at org.hibernate.internal.SessionImpl.get\r\n     (SessionImpl.java991)    at\r\n     org.hibernate.jpa.spi.AbstractEntityManagerImpl.find\r\n     (AbstractEntityManagerImpl.java1110)    at\r\n     org.hibernate.jpa.spi.AbstractEntityManagerImpl.find\r\n     (AbstractEntityManagerImpl.java1068)    at\r\n     sun.reflect.GeneratedMethodAccessor65.invoke    at\r\n     sun.reflect.DelegatingMethodAccessorImpl.invoke\r\n     (DelegatingMethodAccessorImpl.java43)    at\r\n     java.lang.reflect.Method.invoke (Method.java498)    at\r\n     org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke\r\n     (SharedEntityManagerCreator.java241)    at com.sun.proxy.$Proxy51.find\r\n     at com.adaptive.xxxxxxx.data.JPAPersistenceAdapter.find\r\n     (JPAPersistenceAdapter.java27)    at\r\n     com.adaptive.xxxxxxxxx.data.ChangeSetApplier2.applyChange\r\n     (ChangeSetApplier2.java257)    at\r\n     com.adaptive.xxxxxxxxx.data.ChangeSetApplier2.applyChanges\r\n     (ChangeSetApplier2.java59)    at\r\n     com.adaptive.xxxxxxx.services.EntityServiceImpl.applyChangeSet\r\n     (EntityServiceImpl.java64)    at\r\n     sun.reflect.GeneratedMethodAccessor98.invoke    at\r\n     sun.reflect.DelegatingMethodAccessorImpl.invoke\r\n     (DelegatingMethodAccessorImpl.java43)    at\r\n     java.lang.reflect.Method.invoke (Method.java498)    at\r\n     org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection\r\n     (AopUtils.java317)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint\r\n     (ReflectiveMethodInvocation.java183)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\r\n     (ReflectiveMethodInvocation.java150)    at\r\n     org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke\r\n     (MethodSecurityInterceptor.java64)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\r\n     (ReflectiveMethodInvocation.java172)    at\r\n     org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation\r\n     (TransactionInterceptor.java96)    at\r\n     org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction\r\n     (TransactionAspectSupport.java260)    at\r\n     org.springframework.transaction.interceptor.TransactionInterceptor.invoke\r\n     (TransactionInterceptor.java94)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\r\n     (ReflectiveMethodInvocation.java172)    at\r\n     org.granite.tide.spring.TideDataPublishingInterceptor$1.call\r\n     (TideDataPublishingInterceptor.java78)    at\r\n     org.granite.tide.spring.TideDataPublishingWrapper.execute\r\n     (TideDataPublishingWrapper.java127)    at\r\n     org.granite.tide.spring.TideDataPublishingInterceptor.invoke\r\n     (TideDataPublishingInterceptor.java75)    at\r\n     org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\r\n     (ReflectiveMethodInvocation.java172)    at\r\n     org.springframework.aop.framework.JdkDynamicAopProxy.invoke\r\n     (JdkDynamicAopProxy.java204)    at\r\n     com.sun.proxy.$Proxy61.applyChangeSet    at\r\n     sun.reflect.GeneratedMethodAccessor736.invoke    at\r\n     sun.reflect.DelegatingMethodAccessorImpl.invoke\r\n     (DelegatingMethodAccessorImpl.java43)    at\r\n     java.lang.reflect.Method.invoke (Method.java498)    at\r\n     org.granite.messaging.service.ServiceInvocationContext.invoke\r\n     (ServiceInvocationContext.java72)    at\r\n     org.granite.messaging.service.security.AbstractSecurityService.endAuthorization\r\n     (AbstractSecurityService.java108)    at\r\n     org.granite.spring.security.SpringSecurity3Service.authorize\r\n     (SpringSecurity3Service.java294)    at\r\n     org.granite.messaging.service.ServiceInvoker.invoke\r\n     (ServiceInvoker.java220)    at\r\n     org.granite.messaging.amf.process.AMF3MessageProcessor.processRemotingMessage\r\n     (AMF3MessageProcessor.java141)    at\r\n     org.granite.messaging.amf.process.AMF3MessageProcessor.process\r\n     (AMF3MessageProcessor.java60)    at\r\n     org.granite.messaging.amf.process.AMF0MessageProcessor.process\r\n     (AMF0MessageProcessor.java79)    at\r\n     org.granite.messaging.webapp.AMFEndpoint.serviceAMF\r\n     (AMFEndpoint.java91)    at\r\n     org.granite.messaging.webapp.AMFEndpoint.service (AMFEndpoint.java66) \r\n     at org.granite.spring.ServerFilter.handle (ServerFilter.java331)    at\r\n     org.springframework.web.servlet.DispatcherServlet.doDispatch\r\n     (DispatcherServlet.java925)    at\r\n     org.springframework.web.servlet.DispatcherServlet.doService\r\n     (DispatcherServlet.java856)    at\r\n     org.springframework.web.servlet.FrameworkServlet.processRequest\r\n     (FrameworkServlet.java936)    at\r\n     org.springframework.web.servlet.FrameworkServlet.doPost\r\n     (FrameworkServlet.java838)    at\r\n     javax.servlet.http.HttpServlet.service (HttpServlet.java648)    at\r\n     org.springframework.web.servlet.FrameworkServlet.service\r\n     (FrameworkServlet.java812)    at\r\n     javax.servlet.http.HttpServlet.service (HttpServlet.java729)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n     (ApplicationFilterChain.java292)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n     (ApplicationFilterChain.java207)    at\r\n     org.apache.tomcat.websocket.server.WsFilter.doFilter (WsFilter.java52)\r\n     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n     (ApplicationFilterChain.java240)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n     (ApplicationFilterChain.java207)    at\r\n     com.adaptive.xxxxxx.servlet.CacheControlFilter.doFilter\r\n     (CacheControlFilter.java13)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n     (ApplicationFilterChain.java240)    at\r\n     org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n     (ApplicationFilterChain.java207)    at\r\n     org.apache.catalina.core.StandardWrapperValve.invoke\r\n     (StandardWrapperValve.java212)    at\r\n     org.apache.catalina.core.StandardContextValve.invoke\r\n     (StandardContextValve.java106)    at\r\n     org.apache.catalina.authenticator.AuthenticatorBase.invoke\r\n     (AuthenticatorBase.java502)    at\r\n     org.apache.catalina.core.StandardHostValve.invoke\r\n     (StandardHostValve.java141)    at\r\n     org.apache.catalina.valves.ErrorReportValve.invoke\r\n     (ErrorReportValve.java79)    at\r\n     org.apache.catalina.valves.AbstractAccessLogValve.invoke\r\n     (AbstractAccessLogValve.java616)    at\r\n     org.apache.catalina.valves.rewrite.RewriteValve.invoke\r\n     (RewriteValve.java480)    at\r\n     org.apache.catalina.core.StandardEngineValve.invoke\r\n     (StandardEngineValve.java88)    at\r\n     org.apache.catalina.connector.CoyoteAdapter.service\r\n     (CoyoteAdapter.java522)    at\r\n     org.apache.coyote.http11.AbstractHttp11Processor.process\r\n     (AbstractHttp11Processor.java1095)    at\r\n     org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process\r\n     (AbstractProtocol.java672)    at\r\n     org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun\r\n     (NioEndpoint.java1502)    at\r\n     org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run\r\n     (NioEndpoint.java1458)    at\r\n     java.util.concurrent.ThreadPoolExecutor.runWorker\r\n     (ThreadPoolExecutor.java1149)    at\r\n     java.util.concurrent.ThreadPoolExecutor$Worker.run\r\n     (ThreadPoolExecutor.java624)    at\r\n     org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run\r\n     (TaskThread.java61)    at java.lang.Thread.run (Thread.java748) Inner\r\n     exception com.microsoft.sqlserver.jdbc.SQLServerException handled at\r\n     org.hibernate.exception.internal.StandardSQLExceptionConverter.convert:\r\n     at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError\r\n     (SQLServerException.java191)    at\r\n     com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed\r\n     (SQLServerConnection.java395)    at\r\n     com.microsoft.sqlserver.jdbc.SQLServerConnection.prepareStatement\r\n     (SQLServerConnection.java2292)    at\r\n     com.microsoft.sqlserver.jdbc.SQLServerConnection.prepareStatement\r\n     (SQLServerConnection.java1931)    at\r\n     sun.reflect.GeneratedMethodAccessor731.invoke    at\r\n     sun.reflect.DelegatingMethodAccessorImpl.invoke\r\n     (DelegatingMethodAccessorImpl.java43)    at\r\n     java.lang.reflect.Method.invoke (Method.java498)    at\r\n     com.mchange.v2.c3p0.stmt.GooGooStatementCache$1StmtAcquireTask.run\r\n     (GooGooStatementCache.java546)    at\r\n     com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run\r\n     (ThreadPoolAsynchronousRunner.java648)\r\n     com.microsoft.sqlserver.jdbc.SQLServerException:    at\r\n     com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError\r\n     (SQLServerException.java191)    at\r\n     com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed\r\n     (SQLServerConnection.java395)    at\r\n     com.microsoft.sqlserver.jdbc.SQLServerConnection.prepareStatement\r\n     (SQLServerConnection.java2292)    at\r\n     com.microsoft.sqlserver.jdbc.SQLServerConnection.prepareStatement\r\n     (SQLServerConnection.java1931)    at\r\n     sun.reflect.GeneratedMethodAccessor731.invoke    at\r\n     sun.reflect.DelegatingMethodAccessorImpl.invoke\r\n     (DelegatingMethodAccessorImpl.java43)    at\r\n     java.lang.reflect.Method.invoke (Method.java498)    at\r\n     com.mchange.v2.c3p0.stmt.GooGooStatementCache$1StmtAcquireTask.run\r\n     (GooGooStatementCache.java546)    at\r\n     com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run\r\n     (ThreadPoolAsynchronousRunner.java648)\r\n\r\n\r\nI am wondering if it has to do with c3p0 connection pooling.\r\n\r\nI am not 100% if the information is being taken from the app-config file, vs the hibernate.properties file.\r\n\r\nI have attached both files, as well, you can see the relevant information included inline below:\r\n\r\napp-config.xml:\r\n\r\n    &lt;!-- Data source --\r\n        &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;\r\n    \r\n            &lt;property name=&quot;driverClass&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; /\r\n    \r\n            &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:sqlserver://xxxxxxxx.database.windows.net:1433;database=XXXXX;user=XXXXXXXX;password=XXXXXXXXX;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;&quot; /\r\n            \r\n            &lt;!-- Pool properties --\r\n            &lt;property name=&quot;minPoolSize&quot; value=&quot;3&quot; /\r\n            &lt;property name=&quot;maxPoolSize&quot; value=&quot;120&quot; /\r\n            &lt;property name=&quot;maxStatements&quot; value=&quot;120&quot; /\r\n            &lt;property name=&quot;preferredTestQuery&quot; value=&quot;SELECT 1&quot; /\r\n            &lt;property name=&quot;maxIdleTime&quot; value=&quot;300&quot; /\r\n            &lt;property name=&quot;testConnectionOnCheckin&quot; value=&quot;true&quot; /\r\n            &lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;30&quot; /\r\n        &lt;/bean&gt;\r\n\r\n\r\n\r\n\r\nhibernate.properties:\r\n\r\n    # JDBC Connection information\r\n    jdbc.driverClassName=com.mysql.jdbc.Driver\r\n    jdbc.url=jdbc:mysql://localhost/mkbkwebgds\r\n    jdbc.username=xxxxxxxx\r\n    jdbc.password=xxxxxxxxxxx\r\n    # Hibernate 3 configuration\r\n    hibernate.show_sql=true\r\n    hibernate.format_sql=true\r\n    hibernate.jdbc.batch_size=20\r\n            hibernate.connection.provider_class=org.hibernate.connection.C3P0ConnectionProvider\r\n    hibernate.transaction.factory_class=org.hibernate.transaction.JDBCTransactionFactory\r\n    hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    hibernate.hbm2ddl.auto=update\r\n    hibernate.c3p0.acquire_increment=3\r\n    hibernate.c3p0.idle_test_period=1000\r\n    hibernate.c3p0.timeout=2520\r\n    hibernate.c3p0.min_size=3\r\n    hibernate.c3p0.max_size=20\r\n    hibernate.c3p0.max_statements=0\r\n    hibernate.c3p0.preferredTestQuery=select 1;\r\n\r\n\r\nI had not changed anything in the app or on the server since starting to find these errors.\r\n\r\nAny help to solve this would be greatly appreciated.\r\n","title":"Getting SQLServerException makeFromDriverError message &#39;could not prepare statement&#39; and &#39;The connection is closed&#39;","body":"<p>Recently as my production app has been increasing in users, I have started to receive the following errors (thousands):</p>\n\n<blockquote>\n  <p>org.hibernate.exception.GenericJDBCException: could not prepare\n  statement\n      Problem Id:com.microsoft.sqlserver.jdbc.SQLServerException at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError</p>\n  \n  <p>The connection is closed.\n      Problem Id:com.microsoft.sqlserver.jdbc.SQLServerException at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError</p>\n</blockquote>\n\n<p>Here are the full errors:</p>\n\n<pre><code> javax.persistence.PersistenceException:    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert\n (AbstractEntityManagerImpl.java1763)    at\n org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert\n (AbstractEntityManagerImpl.java1694)    at\n org.hibernate.jpa.spi.AbstractEntityManagerImpl.find\n (AbstractEntityManagerImpl.java1141)    at\n org.hibernate.jpa.spi.AbstractEntityManagerImpl.find\n (AbstractEntityManagerImpl.java1068)    at\n sun.reflect.GeneratedMethodAccessor65.invoke    at\n sun.reflect.DelegatingMethodAccessorImpl.invoke\n (DelegatingMethodAccessorImpl.java43)    at\n java.lang.reflect.Method.invoke (Method.java498)    at\n org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke\n (SharedEntityManagerCreator.java241)    at com.sun.proxy.$Proxy51.find\n at com.adaptive.xxxxxxx.data.JPAPersistenceAdapter.find\n (JPAPersistenceAdapter.java27)    at\n com.adaptive.xxxxxxxxx.data.ChangeSetApplier2.applyChange\n (ChangeSetApplier2.java257)    at\n com.adaptive.xxxxxxxx.data.ChangeSetApplier2.applyChanges\n (ChangeSetApplier2.java59)    at\n com.adaptive.xxxxxxxx.services.EntityServiceImpl.applyChangeSet\n (EntityServiceImpl.java64)    at\n sun.reflect.GeneratedMethodAccessor98.invoke    at\n sun.reflect.DelegatingMethodAccessorImpl.invoke\n (DelegatingMethodAccessorImpl.java43)    at\n java.lang.reflect.Method.invoke (Method.java498)    at\n org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection\n (AopUtils.java317)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint\n (ReflectiveMethodInvocation.java183)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\n (ReflectiveMethodInvocation.java150)    at\n org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke\n (MethodSecurityInterceptor.java64)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\n (ReflectiveMethodInvocation.java172)    at\n org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation\n (TransactionInterceptor.java96)    at\n org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction\n (TransactionAspectSupport.java260)    at\n org.springframework.transaction.interceptor.TransactionInterceptor.invoke\n (TransactionInterceptor.java94)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\n (ReflectiveMethodInvocation.java172)    at\n org.granite.tide.spring.TideDataPublishingInterceptor$1.call\n (TideDataPublishingInterceptor.java78)    at\n org.granite.tide.spring.TideDataPublishingWrapper.execute\n (TideDataPublishingWrapper.java127)    at\n org.granite.tide.spring.TideDataPublishingInterceptor.invoke\n (TideDataPublishingInterceptor.java75)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\n (ReflectiveMethodInvocation.java172)    at\n org.springframework.aop.framework.JdkDynamicAopProxy.invoke\n (JdkDynamicAopProxy.java204)    at\n com.sun.proxy.$Proxy61.applyChangeSet    at\n sun.reflect.GeneratedMethodAccessor736.invoke    at\n sun.reflect.DelegatingMethodAccessorImpl.invoke\n (DelegatingMethodAccessorImpl.java43)    at\n java.lang.reflect.Method.invoke (Method.java498)    at\n org.granite.messaging.service.ServiceInvocationContext.invoke\n (ServiceInvocationContext.java72)    at\n org.granite.messaging.service.security.AbstractSecurityService.endAuthorization\n (AbstractSecurityService.java108)    at\n org.granite.spring.security.SpringSecurity3Service.authorize\n (SpringSecurity3Service.java294)    at\n org.granite.messaging.service.ServiceInvoker.invoke\n (ServiceInvoker.java220)    at\n org.granite.messaging.amf.process.AMF3MessageProcessor.processRemotingMessage\n (AMF3MessageProcessor.java141)    at\n org.granite.messaging.amf.process.AMF3MessageProcessor.process\n (AMF3MessageProcessor.java60)    at\n org.granite.messaging.amf.process.AMF0MessageProcessor.process\n (AMF0MessageProcessor.java79)    at\n org.granite.messaging.webapp.AMFEndpoint.serviceAMF\n (AMFEndpoint.java91)    at\n org.granite.messaging.webapp.AMFEndpoint.service (AMFEndpoint.java66) \n at org.granite.spring.ServerFilter.handle (ServerFilter.java331)    at\n org.springframework.web.servlet.DispatcherServlet.doDispatch\n (DispatcherServlet.java925)    at\n org.springframework.web.servlet.DispatcherServlet.doService\n (DispatcherServlet.java856)    at\n org.springframework.web.servlet.FrameworkServlet.processRequest\n (FrameworkServlet.java936)    at\n org.springframework.web.servlet.FrameworkServlet.doPost\n (FrameworkServlet.java838)    at\n javax.servlet.http.HttpServlet.service (HttpServlet.java648)    at\n org.springframework.web.servlet.FrameworkServlet.service\n (FrameworkServlet.java812)    at\n javax.servlet.http.HttpServlet.service (HttpServlet.java729)    at\n org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n (ApplicationFilterChain.java292)    at\n org.apache.catalina.core.ApplicationFilterChain.doFilter\n (ApplicationFilterChain.java207)    at\n org.apache.tomcat.websocket.server.WsFilter.doFilter (WsFilter.java52)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n (ApplicationFilterChain.java240)    at\n org.apache.catalina.core.ApplicationFilterChain.doFilter\n (ApplicationFilterChain.java207)    at\n com.adaptive.xxxxxxxxx.servlet.CacheControlFilter.doFilter\n (CacheControlFilter.java13)    at\n org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n (ApplicationFilterChain.java240)    at\n org.apache.catalina.core.ApplicationFilterChain.doFilter\n (ApplicationFilterChain.java207)    at\n org.apache.catalina.core.StandardWrapperValve.invoke\n (StandardWrapperValve.java212)    at\n org.apache.catalina.core.StandardContextValve.invoke\n (StandardContextValve.java106)    at\n org.apache.catalina.authenticator.AuthenticatorBase.invoke\n (AuthenticatorBase.java502)    at\n org.apache.catalina.core.StandardHostValve.invoke\n (StandardHostValve.java141)    at\n org.apache.catalina.valves.ErrorReportValve.invoke\n (ErrorReportValve.java79)    at\n org.apache.catalina.valves.AbstractAccessLogValve.invoke\n (AbstractAccessLogValve.java616)    at\n org.apache.catalina.valves.rewrite.RewriteValve.invoke\n (RewriteValve.java480)    at\n org.apache.catalina.core.StandardEngineValve.invoke\n (StandardEngineValve.java88)    at\n org.apache.catalina.connector.CoyoteAdapter.service\n (CoyoteAdapter.java522)    at\n org.apache.coyote.http11.AbstractHttp11Processor.process\n (AbstractHttp11Processor.java1095)    at\n org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process\n (AbstractProtocol.java672)    at\n org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun\n (NioEndpoint.java1502)    at\n org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run\n (NioEndpoint.java1458)    at\n java.util.concurrent.ThreadPoolExecutor.runWorker\n (ThreadPoolExecutor.java1149)    at\n java.util.concurrent.ThreadPoolExecutor$Worker.run\n (ThreadPoolExecutor.java624)    at\n org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run\n (TaskThread.java61)    at java.lang.Thread.run (Thread.java748) Inner\n exception org.hibernate.exception.GenericJDBCException handled at\n org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert:    at\n org.hibernate.exception.internal.StandardSQLExceptionConverter.convert\n (StandardSQLExceptionConverter.java54)    at\n org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert\n (SqlExceptionHelper.java126)    at\n org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement\n (StatementPreparerImpl.java196)    at\n org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement\n (StatementPreparerImpl.java160)    at\n org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.prepareQueryStatement\n (AbstractLoadPlanBasedLoader.java257)    at\n org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement\n (AbstractLoadPlanBasedLoader.java201)    at\n org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad\n (AbstractLoadPlanBasedLoader.java137)    at\n org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad\n (AbstractLoadPlanBasedLoader.java102)    at\n org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load\n (AbstractLoadPlanBasedEntityLoader.java186)    at\n org.hibernate.persister.entity.AbstractEntityPersister.load\n (AbstractEntityPersister.java4126)    at\n org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource\n (DefaultLoadEventListener.java503)    at\n org.hibernate.event.internal.DefaultLoadEventListener.doLoad\n (DefaultLoadEventListener.java468)    at\n org.hibernate.event.internal.DefaultLoadEventListener.load\n (DefaultLoadEventListener.java213)    at\n org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad\n (DefaultLoadEventListener.java275)    at\n org.hibernate.event.internal.DefaultLoadEventListener.onLoad\n (DefaultLoadEventListener.java151)    at\n org.hibernate.internal.SessionImpl.fireLoad (SessionImpl.java1106)   \n at org.hibernate.internal.SessionImpl.access$2000\n (SessionImpl.java176)    at\n org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load\n (SessionImpl.java2587)    at org.hibernate.internal.SessionImpl.get\n (SessionImpl.java991)    at\n org.hibernate.jpa.spi.AbstractEntityManagerImpl.find\n (AbstractEntityManagerImpl.java1110)    at\n org.hibernate.jpa.spi.AbstractEntityManagerImpl.find\n (AbstractEntityManagerImpl.java1068)    at\n sun.reflect.GeneratedMethodAccessor65.invoke    at\n sun.reflect.DelegatingMethodAccessorImpl.invoke\n (DelegatingMethodAccessorImpl.java43)    at\n java.lang.reflect.Method.invoke (Method.java498)    at\n org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke\n (SharedEntityManagerCreator.java241)    at com.sun.proxy.$Proxy51.find\n at com.adaptive.xxxxxxx.data.JPAPersistenceAdapter.find\n (JPAPersistenceAdapter.java27)    at\n com.adaptive.xxxxxxxxx.data.ChangeSetApplier2.applyChange\n (ChangeSetApplier2.java257)    at\n com.adaptive.xxxxxxxxx.data.ChangeSetApplier2.applyChanges\n (ChangeSetApplier2.java59)    at\n com.adaptive.xxxxxxx.services.EntityServiceImpl.applyChangeSet\n (EntityServiceImpl.java64)    at\n sun.reflect.GeneratedMethodAccessor98.invoke    at\n sun.reflect.DelegatingMethodAccessorImpl.invoke\n (DelegatingMethodAccessorImpl.java43)    at\n java.lang.reflect.Method.invoke (Method.java498)    at\n org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection\n (AopUtils.java317)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint\n (ReflectiveMethodInvocation.java183)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\n (ReflectiveMethodInvocation.java150)    at\n org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke\n (MethodSecurityInterceptor.java64)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\n (ReflectiveMethodInvocation.java172)    at\n org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation\n (TransactionInterceptor.java96)    at\n org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction\n (TransactionAspectSupport.java260)    at\n org.springframework.transaction.interceptor.TransactionInterceptor.invoke\n (TransactionInterceptor.java94)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\n (ReflectiveMethodInvocation.java172)    at\n org.granite.tide.spring.TideDataPublishingInterceptor$1.call\n (TideDataPublishingInterceptor.java78)    at\n org.granite.tide.spring.TideDataPublishingWrapper.execute\n (TideDataPublishingWrapper.java127)    at\n org.granite.tide.spring.TideDataPublishingInterceptor.invoke\n (TideDataPublishingInterceptor.java75)    at\n org.springframework.aop.framework.ReflectiveMethodInvocation.proceed\n (ReflectiveMethodInvocation.java172)    at\n org.springframework.aop.framework.JdkDynamicAopProxy.invoke\n (JdkDynamicAopProxy.java204)    at\n com.sun.proxy.$Proxy61.applyChangeSet    at\n sun.reflect.GeneratedMethodAccessor736.invoke    at\n sun.reflect.DelegatingMethodAccessorImpl.invoke\n (DelegatingMethodAccessorImpl.java43)    at\n java.lang.reflect.Method.invoke (Method.java498)    at\n org.granite.messaging.service.ServiceInvocationContext.invoke\n (ServiceInvocationContext.java72)    at\n org.granite.messaging.service.security.AbstractSecurityService.endAuthorization\n (AbstractSecurityService.java108)    at\n org.granite.spring.security.SpringSecurity3Service.authorize\n (SpringSecurity3Service.java294)    at\n org.granite.messaging.service.ServiceInvoker.invoke\n (ServiceInvoker.java220)    at\n org.granite.messaging.amf.process.AMF3MessageProcessor.processRemotingMessage\n (AMF3MessageProcessor.java141)    at\n org.granite.messaging.amf.process.AMF3MessageProcessor.process\n (AMF3MessageProcessor.java60)    at\n org.granite.messaging.amf.process.AMF0MessageProcessor.process\n (AMF0MessageProcessor.java79)    at\n org.granite.messaging.webapp.AMFEndpoint.serviceAMF\n (AMFEndpoint.java91)    at\n org.granite.messaging.webapp.AMFEndpoint.service (AMFEndpoint.java66) \n at org.granite.spring.ServerFilter.handle (ServerFilter.java331)    at\n org.springframework.web.servlet.DispatcherServlet.doDispatch\n (DispatcherServlet.java925)    at\n org.springframework.web.servlet.DispatcherServlet.doService\n (DispatcherServlet.java856)    at\n org.springframework.web.servlet.FrameworkServlet.processRequest\n (FrameworkServlet.java936)    at\n org.springframework.web.servlet.FrameworkServlet.doPost\n (FrameworkServlet.java838)    at\n javax.servlet.http.HttpServlet.service (HttpServlet.java648)    at\n org.springframework.web.servlet.FrameworkServlet.service\n (FrameworkServlet.java812)    at\n javax.servlet.http.HttpServlet.service (HttpServlet.java729)    at\n org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n (ApplicationFilterChain.java292)    at\n org.apache.catalina.core.ApplicationFilterChain.doFilter\n (ApplicationFilterChain.java207)    at\n org.apache.tomcat.websocket.server.WsFilter.doFilter (WsFilter.java52)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n (ApplicationFilterChain.java240)    at\n org.apache.catalina.core.ApplicationFilterChain.doFilter\n (ApplicationFilterChain.java207)    at\n com.adaptive.xxxxxx.servlet.CacheControlFilter.doFilter\n (CacheControlFilter.java13)    at\n org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n (ApplicationFilterChain.java240)    at\n org.apache.catalina.core.ApplicationFilterChain.doFilter\n (ApplicationFilterChain.java207)    at\n org.apache.catalina.core.StandardWrapperValve.invoke\n (StandardWrapperValve.java212)    at\n org.apache.catalina.core.StandardContextValve.invoke\n (StandardContextValve.java106)    at\n org.apache.catalina.authenticator.AuthenticatorBase.invoke\n (AuthenticatorBase.java502)    at\n org.apache.catalina.core.StandardHostValve.invoke\n (StandardHostValve.java141)    at\n org.apache.catalina.valves.ErrorReportValve.invoke\n (ErrorReportValve.java79)    at\n org.apache.catalina.valves.AbstractAccessLogValve.invoke\n (AbstractAccessLogValve.java616)    at\n org.apache.catalina.valves.rewrite.RewriteValve.invoke\n (RewriteValve.java480)    at\n org.apache.catalina.core.StandardEngineValve.invoke\n (StandardEngineValve.java88)    at\n org.apache.catalina.connector.CoyoteAdapter.service\n (CoyoteAdapter.java522)    at\n org.apache.coyote.http11.AbstractHttp11Processor.process\n (AbstractHttp11Processor.java1095)    at\n org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process\n (AbstractProtocol.java672)    at\n org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun\n (NioEndpoint.java1502)    at\n org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run\n (NioEndpoint.java1458)    at\n java.util.concurrent.ThreadPoolExecutor.runWorker\n (ThreadPoolExecutor.java1149)    at\n java.util.concurrent.ThreadPoolExecutor$Worker.run\n (ThreadPoolExecutor.java624)    at\n org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run\n (TaskThread.java61)    at java.lang.Thread.run (Thread.java748) Inner\n exception com.microsoft.sqlserver.jdbc.SQLServerException handled at\n org.hibernate.exception.internal.StandardSQLExceptionConverter.convert:\n at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError\n (SQLServerException.java191)    at\n com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed\n (SQLServerConnection.java395)    at\n com.microsoft.sqlserver.jdbc.SQLServerConnection.prepareStatement\n (SQLServerConnection.java2292)    at\n com.microsoft.sqlserver.jdbc.SQLServerConnection.prepareStatement\n (SQLServerConnection.java1931)    at\n sun.reflect.GeneratedMethodAccessor731.invoke    at\n sun.reflect.DelegatingMethodAccessorImpl.invoke\n (DelegatingMethodAccessorImpl.java43)    at\n java.lang.reflect.Method.invoke (Method.java498)    at\n com.mchange.v2.c3p0.stmt.GooGooStatementCache$1StmtAcquireTask.run\n (GooGooStatementCache.java546)    at\n com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run\n (ThreadPoolAsynchronousRunner.java648)\n com.microsoft.sqlserver.jdbc.SQLServerException:    at\n com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError\n (SQLServerException.java191)    at\n com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed\n (SQLServerConnection.java395)    at\n com.microsoft.sqlserver.jdbc.SQLServerConnection.prepareStatement\n (SQLServerConnection.java2292)    at\n com.microsoft.sqlserver.jdbc.SQLServerConnection.prepareStatement\n (SQLServerConnection.java1931)    at\n sun.reflect.GeneratedMethodAccessor731.invoke    at\n sun.reflect.DelegatingMethodAccessorImpl.invoke\n (DelegatingMethodAccessorImpl.java43)    at\n java.lang.reflect.Method.invoke (Method.java498)    at\n com.mchange.v2.c3p0.stmt.GooGooStatementCache$1StmtAcquireTask.run\n (GooGooStatementCache.java546)    at\n com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run\n (ThreadPoolAsynchronousRunner.java648)\n</code></pre>\n\n<p>I am wondering if it has to do with c3p0 connection pooling.</p>\n\n<p>I am not 100% if the information is being taken from the app-config file, vs the hibernate.properties file.</p>\n\n<p>I have attached both files, as well, you can see the relevant information included inline below:</p>\n\n<p>app-config.xml:</p>\n\n<pre><code>&lt;!-- Data source --\n    &lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\"\n\n        &lt;property name=\"driverClass\" value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\" /\n\n        &lt;property name=\"jdbcUrl\" value=\"jdbc:sqlserver://xxxxxxxx.database.windows.net:1433;database=XXXXX;user=XXXXXXXX;password=XXXXXXXXX;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\" /\n\n        &lt;!-- Pool properties --\n        &lt;property name=\"minPoolSize\" value=\"3\" /\n        &lt;property name=\"maxPoolSize\" value=\"120\" /\n        &lt;property name=\"maxStatements\" value=\"120\" /\n        &lt;property name=\"preferredTestQuery\" value=\"SELECT 1\" /\n        &lt;property name=\"maxIdleTime\" value=\"300\" /\n        &lt;property name=\"testConnectionOnCheckin\" value=\"true\" /\n        &lt;property name=\"idleConnectionTestPeriod\" value=\"30\" /\n    &lt;/bean&gt;\n</code></pre>\n\n<p>hibernate.properties:</p>\n\n<pre><code># JDBC Connection information\njdbc.driverClassName=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost/mkbkwebgds\njdbc.username=xxxxxxxx\njdbc.password=xxxxxxxxxxx\n# Hibernate 3 configuration\nhibernate.show_sql=true\nhibernate.format_sql=true\nhibernate.jdbc.batch_size=20\n        hibernate.connection.provider_class=org.hibernate.connection.C3P0ConnectionProvider\nhibernate.transaction.factory_class=org.hibernate.transaction.JDBCTransactionFactory\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\nhibernate.hbm2ddl.auto=update\nhibernate.c3p0.acquire_increment=3\nhibernate.c3p0.idle_test_period=1000\nhibernate.c3p0.timeout=2520\nhibernate.c3p0.min_size=3\nhibernate.c3p0.max_size=20\nhibernate.c3p0.max_statements=0\nhibernate.c3p0.preferredTestQuery=select 1;\n</code></pre>\n\n<p>I had not changed anything in the app or on the server since starting to find these errors.</p>\n\n<p>Any help to solve this would be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","mapstruct"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673096122,"post_id":75040482,"comment_id":132423386,"body_markdown":"Add error messages as text not as image","body":"Add error messages as text not as image"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673096270,"post_id":75040482,"comment_id":132423406,"body_markdown":"And while you are at it, please [edit] the post and add a [MRE]. For example, a git repository with the application code and an integration test that shows this behaviour would be very helpful.","body":"And while you are at it, please <a href=\"https://stackoverflow.com/posts/75040482/edit\">edit</a> the post and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For example, a git repository with the application code and an integration test that shows this behaviour would be very helpful."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1673096403,"post_id":75040482,"comment_id":132423431,"body_markdown":"If you are using maven, please try to run `mvn clean package` to force a re-generation of the MapStruct-generated code, for gradle it should be `gradle clean build`. MapStruct should not try to map what isn&#39;t there. This can happen when we modify the entities / DTOs, but MapStruct does not regenerate the mapper implementations.","body":"If you are using maven, please try to run <code>mvn clean package</code> to force a re-generation of the MapStruct-generated code, for gradle it should be <code>gradle clean build</code>. MapStruct should not try to map what isn&#39;t there. This can happen when we modify the entities / DTOs, but MapStruct does not regenerate the mapper implementations."}],"answers":[{"tags":[],"owner":{"account_id":6550921,"reputation":1782,"user_id":5065362,"display_name":"hiren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673097111,"creation_date":1673097111,"answer_id":75040608,"question_id":75040482,"body_markdown":"When your source and target objects are not identical, you need to define the difference in your mapper class&#39;s mapping method.\r\n\r\n 1. If source and target object has different names of properties you need to define which property name of source will be mapped to which property name of the target.\r\n2. If target does not have a property but the source has, you need to specify ignore for that property on the mapping method.\r\n\r\n    @Mapping(target = &quot;products&quot;, ignore = true)","title":"MapStruct spring boot","body":"<p>When your source and target objects are not identical, you need to define the difference in your mapper class's mapping method.</p>\n<ol>\n<li><p>If source and target object has different names of properties you need to define which property name of source will be mapped to which property name of the target.</p>\n</li>\n<li><p>If target does not have a property but the source has, you need to specify ignore for that property on the mapping method.</p>\n<p>@Mapping(target = &quot;products&quot;, ignore = true)</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673098463,"creation_date":1673098463,"answer_id":75040723,"question_id":75040482,"body_markdown":"Looking at the error message it seems that you have the DTO objects, the entity objects and the mapper most likely each in their own modules. But when adding them to the end product you are using versions that aren&#39;t matching with the functionality needed.\r\n\r\nThe generated mapper that is being used expects the List object in the DTO class. But the supplied DTO information doesn&#39;t have this. Which means that the mapper needs to be updated so that it knows that the DTO class doesn&#39;t have this field.\r\n\r\nIn code:\r\n```\r\n// DTO module version 2\r\nclass DTO {\r\n  private String field1;\r\n  private String field2;\r\n  // removed: private List&lt;String&gt; list1;\r\n  // leaving out setters/getters\r\n}\r\n\r\n// Entity module version 1\r\nclass Entity {\r\n  private String field1;\r\n  private String field2;\r\n  private List&lt;String&gt; list1;\r\n  // leaving out setters/getters\r\n}\r\n\r\n// Mapper module version 1 with dependencies on:\r\n//   DTO module version 1\r\n//   Entity module version 1\r\ninterface Mapper {\r\n  DTO EntitytoDto(Entity source);\r\n}\r\n\r\n@Generated\r\nclass MapperImpl {\r\n  DTO EntitytoDto(Entity source) {\r\n    // mapping code for field1, field2 and list1.\r\n  }\r\n}\r\n```\r\n\r\nEnd result of the above code is a `NoSuchMethodError` when it tried to map `list1`.\r\n\r\nWhat you want is:\r\n```\r\n// Mapper module version 2 with dependencies on:\r\n//   DTO module version 2\r\n//   Entity module version 1\r\ninterface Mapper {\r\n  DTO EntitytoDto(Entity source);\r\n}\r\n\r\n@Generated\r\nclass MapperImpl {\r\n  DTO EntitytoDto(Entity source) {\r\n    // mapping code for field1 and field2.\r\n  }\r\n}\r\n```\r\n\r\nHope this helps with solving the issue.","title":"MapStruct spring boot","body":"<p>Looking at the error message it seems that you have the DTO objects, the entity objects and the mapper most likely each in their own modules. But when adding them to the end product you are using versions that aren't matching with the functionality needed.</p>\n<p>The generated mapper that is being used expects the List object in the DTO class. But the supplied DTO information doesn't have this. Which means that the mapper needs to be updated so that it knows that the DTO class doesn't have this field.</p>\n<p>In code:</p>\n<pre><code>// DTO module version 2\nclass DTO {\n  private String field1;\n  private String field2;\n  // removed: private List&lt;String&gt; list1;\n  // leaving out setters/getters\n}\n\n// Entity module version 1\nclass Entity {\n  private String field1;\n  private String field2;\n  private List&lt;String&gt; list1;\n  // leaving out setters/getters\n}\n\n// Mapper module version 1 with dependencies on:\n//   DTO module version 1\n//   Entity module version 1\ninterface Mapper {\n  DTO EntitytoDto(Entity source);\n}\n\n@Generated\nclass MapperImpl {\n  DTO EntitytoDto(Entity source) {\n    // mapping code for field1, field2 and list1.\n  }\n}\n</code></pre>\n<p>End result of the above code is a <code>NoSuchMethodError</code> when it tried to map <code>list1</code>.</p>\n<p>What you want is:</p>\n<pre><code>// Mapper module version 2 with dependencies on:\n//   DTO module version 2\n//   Entity module version 1\ninterface Mapper {\n  DTO EntitytoDto(Entity source);\n}\n\n@Generated\nclass MapperImpl {\n  DTO EntitytoDto(Entity source) {\n    // mapping code for field1 and field2.\n  }\n}\n</code></pre>\n<p>Hope this helps with solving the issue.</p>\n"}],"owner":{"account_id":21458229,"reputation":619,"user_id":15809482,"display_name":"peligrosa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75040608,"answer_count":2,"score":0,"last_activity_date":1673098463,"creation_date":1673095885,"question_id":75040482,"body_markdown":"Does anyone know why mapStruct doesn&#39;t allow DTO class to have less elements than the ENTITY class.\r\n\r\nfor example I have this entity :\r\n```java\r\npublic class Provider {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    @OneToMany(cascade=CascadeType.ALL, mappedBy=&quot;provider&quot;)\r\n    private Set&lt;Product&gt; products;\r\n\r\n}\r\n```\r\n\r\nand the dto :\r\n\r\n```java\r\n\r\n\r\n\r\npublic class ProviderDTO {\r\n\r\n    private Long id;\r\n    private String name;\r\n\r\n}\r\n```\r\nthe Dto doesn&#39;t contain the attribute &#39;products&#39;\r\nwhich give me this error:\r\n[![tap to see image if the error](https://i.stack.imgur.com/zXuqI.png)](https://i.stack.imgur.com/zXuqI.png)\r\n\r\n\r\n\r\n\r\nps: when i add List&lt;products&gt; to the DTO, everything works fine. But i want that my DTO class contains only the attributs that I want, not the same ones as in the Entity class.","title":"MapStruct spring boot","body":"<p>Does anyone know why mapStruct doesn't allow DTO class to have less elements than the ENTITY class.</p>\n<p>for example I have this entity :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Provider {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @OneToMany(cascade=CascadeType.ALL, mappedBy=&quot;provider&quot;)\n    private Set&lt;Product&gt; products;\n\n}\n</code></pre>\n<p>and the dto :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n\npublic class ProviderDTO {\n\n    private Long id;\n    private String name;\n\n}\n</code></pre>\n<p>the Dto doesn't contain the attribute 'products'\nwhich give me this error:\n<a href=\"https://i.stack.imgur.com/zXuqI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXuqI.png\" alt=\"tap to see image if the error\" /></a></p>\n<p>ps: when i add List to the DTO, everything works fine. But i want that my DTO class contains only the attributs that I want, not the same ones as in the Entity class.</p>\n"},{"tags":["java","scala","pact","pact-jvm","pact4s"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673098297,"creation_date":1673098297,"answer_id":75040707,"question_id":75010559,"body_markdown":"What I was trying to achieve is actually the purpose of the [**pending pacts**](https://docs.pact.io/pact_broker/advanced_topics/pending_pacts) feature.\r\n\r\nWhen enabled, if a pact has never been verified successfully before, even if it fails verification it won&#39;t make the test fail on the provider side.\r\n\r\nThe pact will still be flagged as &quot;pending pact&quot; on Pact Broker so that you can be aware of it. But it won&#39;t prevent the provider to run its tests successfully.","title":"Pact - Ignore some interactions when verifying on provider side","body":"<p>What I was trying to achieve is actually the purpose of the <a href=\"https://docs.pact.io/pact_broker/advanced_topics/pending_pacts\" rel=\"nofollow noreferrer\"><strong>pending pacts</strong></a> feature.</p>\n<p>When enabled, if a pact has never been verified successfully before, even if it fails verification it won't make the test fail on the provider side.</p>\n<p>The pact will still be flagged as &quot;pending pact&quot; on Pact Broker so that you can be aware of it. But it won't prevent the provider to run its tests successfully.</p>\n"}],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75040707,"answer_count":1,"score":2,"last_activity_date":1673098297,"creation_date":1672861730,"question_id":75010559,"body_markdown":"Let&#39;s say I have a provider which is involved in 2 interactions (with one consumer or many, it shouldn&#39;t matter).\r\n\r\nOn the provider side, I am able to handle one interaction in the sense that I know how to interpret the provider state of one interaction but not the other one.\r\n\r\nIs there a way to ignore unknown provider states and avoid to fail the verification (or at least avoid to fail the test, I think it would actually make sense to fail the verification)?\r\n\r\nI&#39;m using pact4s in Scala with scalatest but I guess a solution for pact-jvm and Junit would still help and could be applied in a similar manner with pact4s.\r\n\r\n\r\n\r\nHere&#39;s the Scala code I&#39;m using:\r\n\r\n```scala\r\nval provider: ProviderInfoBuilder = ProviderInfoBuilder(\r\n    &quot;scalatest-provider&quot;,\r\n    ...\r\n  )\r\n    ...\r\n    .withStateChangeFunction((state: ProviderState) =&gt;\r\n      state match {\r\n        case ProviderState(&quot;some state&quot;, params) =&gt;\r\n          // Do something as I know how to handle this provider state\r\n        case _ =&gt; \r\n         // Unknown provider state, make the test ignore this interaction and not fail\r\n      }\r\n    )\r\n```","title":"Pact - Ignore some interactions when verifying on provider side","body":"<p>Let's say I have a provider which is involved in 2 interactions (with one consumer or many, it shouldn't matter).</p>\n<p>On the provider side, I am able to handle one interaction in the sense that I know how to interpret the provider state of one interaction but not the other one.</p>\n<p>Is there a way to ignore unknown provider states and avoid to fail the verification (or at least avoid to fail the test, I think it would actually make sense to fail the verification)?</p>\n<p>I'm using pact4s in Scala with scalatest but I guess a solution for pact-jvm and Junit would still help and could be applied in a similar manner with pact4s.</p>\n<p>Here's the Scala code I'm using:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val provider: ProviderInfoBuilder = ProviderInfoBuilder(\n    &quot;scalatest-provider&quot;,\n    ...\n  )\n    ...\n    .withStateChangeFunction((state: ProviderState) =&gt;\n      state match {\n        case ProviderState(&quot;some state&quot;, params) =&gt;\n          // Do something as I know how to handle this provider state\n        case _ =&gt; \n         // Unknown provider state, make the test ignore this interaction and not fail\n      }\n    )\n</code></pre>\n"},{"tags":["java","api","android-studio","okhttp"],"owner":{"account_id":27461610,"reputation":1,"user_id":20952071,"display_name":"john Kisisri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673098178,"creation_date":1673098178,"question_id":75040701,"body_markdown":"I am developing a java mobile application to get the calorie information of a food. \r\nSo basically a food name is entered through an edit text and by tapping a button get the information from the nutritionix api.\r\n\r\n\r\nSo far this is the code that I have to make the request using okhttp: \r\n\r\n```\r\nOkHttpClient client = new OkHttpClient().newBuilder()\r\n       .build();\r\nMediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\nRequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n \\&quot;query\\&quot;:\\&quot;burger\\&quot;\\r\\n}&quot;);\r\nRequest request = new Request.Builder()\r\n    .url(&quot;https://trackapi.nutritionix.com/v2/natural/nutrients&quot;)\r\n    .method(&quot;POST&quot;, body)\r\n    .addHeader(&quot;x-app-id&quot;, &quot;my-id&quot;)\r\n    .addHeader(&quot;x-app-key&quot;, &quot;app-key&quot;)\r\n    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    .build();\r\n```\r\nand instead of having burger in the request body i would like to add a variable. I am getting all the  information I need if the food item is hard coded in the request body so now i want it to be selected by the user\r\nCould anyone help me or direct me in any resources that could help me solve this?\r\nThanks","title":"Nutritionix API store the food item wanted in a variable","body":"<p>I am developing a java mobile application to get the calorie information of a food.\nSo basically a food name is entered through an edit text and by tapping a button get the information from the nutritionix api.</p>\n<p>So far this is the code that I have to make the request using okhttp:</p>\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder()\n       .build();\nMediaType mediaType = MediaType.parse(&quot;application/json&quot;);\nRequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n \\&quot;query\\&quot;:\\&quot;burger\\&quot;\\r\\n}&quot;);\nRequest request = new Request.Builder()\n    .url(&quot;https://trackapi.nutritionix.com/v2/natural/nutrients&quot;)\n    .method(&quot;POST&quot;, body)\n    .addHeader(&quot;x-app-id&quot;, &quot;my-id&quot;)\n    .addHeader(&quot;x-app-key&quot;, &quot;app-key&quot;)\n    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n    .build();\n</code></pre>\n<p>and instead of having burger in the request body i would like to add a variable. I am getting all the  information I need if the food item is hard coded in the request body so now i want it to be selected by the user\nCould anyone help me or direct me in any resources that could help me solve this?\nThanks</p>\n"},{"tags":["java","ajax","spring-boot","post","httprequest"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673097834,"creation_date":1673097834,"answer_id":75040672,"question_id":75038413,"body_markdown":"Try to add the following\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/&quot;)  // &lt;------------\r\n    @Secured({&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;})\r\n    public class DraftController {\r\n\r\nand check again","title":"Request method &#39;POST&#39; not supported error spring boot and ajax. But GET does not have the same error","body":"<p>Try to add the following</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/&quot;)  // &lt;------------\n@Secured({&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;})\npublic class DraftController {\n</code></pre>\n<p>and check again</p>\n"}],"owner":{"account_id":21801317,"reputation":67,"user_id":16100119,"display_name":"Quan Le Anh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673097834,"creation_date":1673071277,"question_id":75038413,"body_markdown":"Sorry for asking repeated question but I have tried many solutions but none works,\r\n\r\nSo I have this class and table **Draft**, in the index.html I have a table containing many data, I want to use **ajax** to pass all of that data to **Controller** class in back-end to save that data in the draft table in the database which equivalent to class Draft. \r\n\r\nBut this error happened Request method &#39;POST&#39; not supported.\r\n\r\nThe problem is GET does not return this error and I want to use POST to pass data.\r\n\r\nThis is my Draft controller class\r\n```\r\n@Controller\r\n@Secured({&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;})\r\npublic class DraftController {\r\n\t@Autowired\r\n\tprivate DraftService draftService;\r\n\r\n\t@PostMapping(&quot;/newdraft&quot;)\r\n\tpublic @ResponseBody Draft AddDraft(@RequestBody Draft draft, BindingResult result) {\r\n\t\tdraftService.save(draft); // save the draft to database\r\n\t\treturn draft;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThis is my ajax function\r\n\r\n```\r\n$(&quot;#draftFormSubmit&quot;).on(&#39;click&#39;,function(e) {\r\n\t\te.preventDefault();\r\n\t\tcall_draft();\r\n\t});\r\n\t\r\n\tfunction call_draft() {\r\n\t\t\t\t var draft = {\r\n\t\t\t&quot;id&quot;: 1,\r\n\t\t\t&quot;user_id&quot;:5,\r\n\t\t\t&quot;lowest_cost_found&quot;:3,\r\n\t\t\t&quot;paper_used&quot;:3,\r\n\t\t\t&quot;print_type&quot;:3,\r\n\t\t\t&quot;actual_ups_per_paper&quot;:3,\r\n\t\t\t&quot;quantity&quot;:3,\r\n\t\t\t&quot;color&quot;:3,\r\n\t\t\t&quot;size&quot;:3,\r\n\t\t\t&quot;gloss_lam&quot;:3,\r\n\t\t\t&quot;matt_lam&quot;:3,\r\n\t\t\t&quot;water_based&quot;:3,\r\n\t\t\t&quot;uv&quot;:3,\r\n\t\t\t&quot;varnish&quot;:3,\r\n\t\t\t&quot;spot_uv&quot;:3,\r\n\t\t\t&quot;emboss_deboss&quot;:3,\r\n\t\t\t&quot;hot_stamping&quot;:3,\r\n\t\t\t&quot;diecut&quot;:3,\r\n\t\t\t&quot;creasing_line&quot;:3,\r\n\t\t\t&quot;total_price&quot;:3,\r\n\t\t\t&quot;markup&quot;:3,\r\n\t\t\t&quot;final_price&quot;:3\r\n\t\t\t}\r\n\t\t\t\r\n\t\t$.ajax({\r\n\t\t\ttype: &quot;POST&quot;,\r\n\t\t\tcontentType: &quot;application/json&quot;,\r\n\t\t\turl: &quot;/newdraft&quot;,\r\n\t\t\tdata: JSON.stringify(draft),\r\n\t\t\tdataType: &#39;json&#39;,\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\talert(&quot;success&quot;);\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t},\r\n\t\t\terror: function() {\r\n\t\t\t\talert(&quot;failed&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```\r\nOnly in this project the error occurs, when I write a simple POST on another project it does not have this error.\r\nThank you in advance!","title":"Request method &#39;POST&#39; not supported error spring boot and ajax. But GET does not have the same error","body":"<p>Sorry for asking repeated question but I have tried many solutions but none works,</p>\n<p>So I have this class and table <strong>Draft</strong>, in the index.html I have a table containing many data, I want to use <strong>ajax</strong> to pass all of that data to <strong>Controller</strong> class in back-end to save that data in the draft table in the database which equivalent to class Draft.</p>\n<p>But this error happened Request method 'POST' not supported.</p>\n<p>The problem is GET does not return this error and I want to use POST to pass data.</p>\n<p>This is my Draft controller class</p>\n<pre><code>@Controller\n@Secured({&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;})\npublic class DraftController {\n    @Autowired\n    private DraftService draftService;\n\n    @PostMapping(&quot;/newdraft&quot;)\n    public @ResponseBody Draft AddDraft(@RequestBody Draft draft, BindingResult result) {\n        draftService.save(draft); // save the draft to database\n        return draft;\n    }\n\n}\n</code></pre>\n<p>This is my ajax function</p>\n<pre><code>$(&quot;#draftFormSubmit&quot;).on('click',function(e) {\n        e.preventDefault();\n        call_draft();\n    });\n    \n    function call_draft() {\n                 var draft = {\n            &quot;id&quot;: 1,\n            &quot;user_id&quot;:5,\n            &quot;lowest_cost_found&quot;:3,\n            &quot;paper_used&quot;:3,\n            &quot;print_type&quot;:3,\n            &quot;actual_ups_per_paper&quot;:3,\n            &quot;quantity&quot;:3,\n            &quot;color&quot;:3,\n            &quot;size&quot;:3,\n            &quot;gloss_lam&quot;:3,\n            &quot;matt_lam&quot;:3,\n            &quot;water_based&quot;:3,\n            &quot;uv&quot;:3,\n            &quot;varnish&quot;:3,\n            &quot;spot_uv&quot;:3,\n            &quot;emboss_deboss&quot;:3,\n            &quot;hot_stamping&quot;:3,\n            &quot;diecut&quot;:3,\n            &quot;creasing_line&quot;:3,\n            &quot;total_price&quot;:3,\n            &quot;markup&quot;:3,\n            &quot;final_price&quot;:3\n            }\n            \n        $.ajax({\n            type: &quot;POST&quot;,\n            contentType: &quot;application/json&quot;,\n            url: &quot;/newdraft&quot;,\n            data: JSON.stringify(draft),\n            dataType: 'json',\n            success: function(data) {\n                alert(&quot;success&quot;);\n                console.log(data)\n            },\n            error: function() {\n                alert(&quot;failed&quot;);\n            }\n        });\n    }\n</code></pre>\n<p>Only in this project the error occurs, when I write a simple POST on another project it does not have this error.\nThank you in advance!</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":2574048,"reputation":1215,"user_id":2232156,"accept_rate":51,"display_name":"Mert Serimer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673097502,"creation_date":1673097502,"question_id":75040647,"body_markdown":"I am trying to use the accept answer here. &lt;https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class&gt; , `innerReadStepsByTimeRange` this one is never called but debug was able to stop at the `readStepsByTimeRange`.\r\n\r\n**My Kotlin class (the one that is called from java)**\r\n\r\n    class StepReaderUtils {\r\n\r\n    companion object {\r\n        @OptIn(DelicateCoroutinesApi::class)\r\n        fun readStepsByTimeRange(\r\n            healthConnectClient: HealthConnectClient,\r\n            startTime: Instant,\r\n            endTime: Instant\r\n        ) : CompletableFuture&lt;Long&gt; = GlobalScope.future {\r\n            innerReadStepsByTimeRange(healthConnectClient, startTime, endTime)\r\n        }\r\n\r\n        private suspend fun innerReadStepsByTimeRange (\r\n            healthConnectClient: HealthConnectClient,\r\n            startTime: Instant,\r\n            endTime: Instant\r\n        ) : Long {\r\n            var totalStepsCount = 0L\r\n            val response =\r\n                healthConnectClient.readRecords(\r\n                    ReadRecordsRequest(\r\n                        StepsRecord::class,\r\n                        timeRangeFilter = TimeRangeFilter.between(startTime, endTime)\r\n                    )\r\n                )\r\n            for (stepRecord in response.records) {\r\n                totalStepsCount += stepRecord.count;\r\n            }\r\n            return totalStepsCount\r\n        }\r\n    }\r\n\r\n    }\r\n\r\n**My java caller method**\r\n\r\n    CompletableFuture&lt;Long&gt; totalStepsCountCF = StepReaderUtils.Companion.readStepsByTimeRange(\r\n                healthConnectClient, startDate, endDate);\r\n        return totalStepsCountCF.get();\r\n\r\nMy Gradle module build\r\n\r\n    implementation &#39;org.jetbrains.kotlin:kotlin-stdlib:1.8.0&#39;\r\n        implementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&#39;\r\n        implementation &quot;androidx.health.connect:connect-client:1.0.0-alpha08&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-jdk8:1.6.4&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&quot;\r\n\r\nWhat am i doing wrong?","title":"Android - Suspend Kotlin Function Called From Java Never Executed","body":"<p>I am trying to use the accept answer here. <a href=\"https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class\">Call Kotlin suspend function in Java class</a> , <code>innerReadStepsByTimeRange</code> this one is never called but debug was able to stop at the <code>readStepsByTimeRange</code>.</p>\n<p><strong>My Kotlin class (the one that is called from java)</strong></p>\n<pre><code>class StepReaderUtils {\n\ncompanion object {\n    @OptIn(DelicateCoroutinesApi::class)\n    fun readStepsByTimeRange(\n        healthConnectClient: HealthConnectClient,\n        startTime: Instant,\n        endTime: Instant\n    ) : CompletableFuture&lt;Long&gt; = GlobalScope.future {\n        innerReadStepsByTimeRange(healthConnectClient, startTime, endTime)\n    }\n\n    private suspend fun innerReadStepsByTimeRange (\n        healthConnectClient: HealthConnectClient,\n        startTime: Instant,\n        endTime: Instant\n    ) : Long {\n        var totalStepsCount = 0L\n        val response =\n            healthConnectClient.readRecords(\n                ReadRecordsRequest(\n                    StepsRecord::class,\n                    timeRangeFilter = TimeRangeFilter.between(startTime, endTime)\n                )\n            )\n        for (stepRecord in response.records) {\n            totalStepsCount += stepRecord.count;\n        }\n        return totalStepsCount\n    }\n}\n\n}\n</code></pre>\n<p><strong>My java caller method</strong></p>\n<pre><code>CompletableFuture&lt;Long&gt; totalStepsCountCF = StepReaderUtils.Companion.readStepsByTimeRange(\n            healthConnectClient, startDate, endDate);\n    return totalStepsCountCF.get();\n</code></pre>\n<p>My Gradle module build</p>\n<pre><code>implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.8.0'\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0'\n    implementation &quot;androidx.health.connect:connect-client:1.0.0-alpha08&quot;\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-jdk8:1.6.4&quot;\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&quot;\n</code></pre>\n<p>What am i doing wrong?</p>\n"},{"tags":["java","testing","lombok","hibernate-validator"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1672844317,"post_id":75006313,"comment_id":132364690,"body_markdown":"I built this locally and it is working fine for me.  Is your code failing to reach the validator? If you comment out the validator, does it compile and run fine?  Also, what version of Java and Spring-Boot are you using?","body":"I built this locally and it is working fine for me.  Is your code failing to reach the validator? If you comment out the validator, does it compile and run fine?  Also, what version of Java and Spring-Boot are you using?"},{"owner":{"account_id":11113282,"reputation":21,"user_id":8158281,"display_name":"Mohit Sakhuja"},"score":0,"creation_date":1672904833,"post_id":75006313,"comment_id":132379192,"body_markdown":"So I tried the same with a clean project, and it worked with that. One thing led to another and I ended up narrowing the problem down to the fact that it has something to do with build cache. If I clean it, and then try to run it, it works fine. However, after making some changes here and there, it fails again, and then I need to clean build cache again.\n\nTo answer your question, I am running Java 17, and not using Spring Boot but Quarkus (2.13.3).","body":"So I tried the same with a clean project, and it worked with that. One thing led to another and I ended up narrowing the problem down to the fact that it has something to do with build cache. If I clean it, and then try to run it, it works fine. However, after making some changes here and there, it fails again, and then I need to clean build cache again.  To answer your question, I am running Java 17, and not using Spring Boot but Quarkus (2.13.3)."}],"answers":[{"tags":[],"owner":{"account_id":11113282,"reputation":21,"user_id":8158281,"display_name":"Mohit Sakhuja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672905520,"creation_date":1672905520,"answer_id":75015350,"question_id":75006313,"body_markdown":"For anyone who comes across this later on, the research for this issue has led me to believe that comparing message strings in tests is not the way to go about writing validation test cases. Another downside to this approach is that you might have different validation messages for different locales. In that case, the message string itself might be a template e.g. `my.message.key` with its values in a `ResourceBundle` provided to Hibernate, i.e. files such as `ValidationMessages.properties` and `ValidationMessages_de.properties`. \r\n\r\nIn such a scenario, you could compare message for one locale in your validation test case, however, a better approach might be to check the annotation and the field for which the validation has failed. We can get both of these pieces of information via the `ConstraintViolation` and subsequently the `ConstraintDescriptor` types, provided by Hibernate. This way we can circumvent checking the message itself, but rely on the actual validation annotation which has failed.\r\n\r\nAs for the solution to this question, it seems it was a build cache issue. Cleaning maven&#39;s build cache results in this code working perfectly fine, but VSCode still seems to have an issue. For now, I will choose to ignore that.","title":"Using Lombok&#39;s SuperBuilder with Hibernate Validator (jakarta.validation.x) annotation on a container type leads to &quot;Type mismatch&quot;","body":"<p>For anyone who comes across this later on, the research for this issue has led me to believe that comparing message strings in tests is not the way to go about writing validation test cases. Another downside to this approach is that you might have different validation messages for different locales. In that case, the message string itself might be a template e.g. <code>my.message.key</code> with its values in a <code>ResourceBundle</code> provided to Hibernate, i.e. files such as <code>ValidationMessages.properties</code> and <code>ValidationMessages_de.properties</code>.</p>\n<p>In such a scenario, you could compare message for one locale in your validation test case, however, a better approach might be to check the annotation and the field for which the validation has failed. We can get both of these pieces of information via the <code>ConstraintViolation</code> and subsequently the <code>ConstraintDescriptor</code> types, provided by Hibernate. This way we can circumvent checking the message itself, but rely on the actual validation annotation which has failed.</p>\n<p>As for the solution to this question, it seems it was a build cache issue. Cleaning maven's build cache results in this code working perfectly fine, but VSCode still seems to have an issue. For now, I will choose to ignore that.</p>\n"}],"owner":{"account_id":11113282,"reputation":21,"user_id":8158281,"display_name":"Mohit Sakhuja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75015350,"answer_count":1,"score":1,"last_activity_date":1673097239,"creation_date":1672839548,"question_id":75006313,"body_markdown":"I have a class `ActivitiesModel` which uses Lombok&#39;s `SuperBuilder`.\r\n\r\n```java\r\nimport jakarta.validation.NotBlank;\r\n\r\n// other imports and statements omitted for brevity.\r\n\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\npublic class ActivitiesModel {\r\n    public static final String ACTIVITIES_NOT_NULL_MESSAGE = &quot;Activities cannot be null&quot;;\r\n    public static final String ACTIVITY_NOT_BLANK_MESSAGE = &quot;Activity cannot be blank&quot;;\r\n\r\n    @NotNull(message = ACTIVITIES_NOT_NULL_MESSAGE)\r\n    private List&lt;@NotBlank(message = ACTIVITY_NOT_BLANK_MESSAGE) String&gt; activities;\r\n}\r\n```\r\n\r\nI am using this builder to create an object of `ActivitiesModel`, and then validating it using Hibernate&#39;s `Validator` interface:\r\n\r\n```java\r\n// Somewhere else in the application.\r\n\r\n// Create an object using the builder method.\r\nActivitiesModel activitiesModel = ActivitiesModel.builder()\r\n                                    .activities(List.of(&quot;hello&quot;, &quot;world&quot;)) // &lt;----- Point A\r\n                                    .build();\r\n\r\n// Validate the object using Hibernate&#39;s validator.\r\nvalidator.validate(activitiesModel);\r\n```\r\n\r\nHowever, running this code gives me the following error:\r\n```bash\r\njava.lang.Error: \r\nUnresolved compilation problem: \r\n        Type mismatch: cannot convert from List&lt;String&gt; to List&lt;E&gt;\r\n```\r\n\r\nThe stack trace seems to be pointing at `Point A`. \r\n\r\n\r\nI have tried the following approaches:\r\n\r\n1. Replacing the `@SuperBuilder` with `@Builder` and `@AllArgsConstructor`. \r\n2. Replacing the `message` attribute with a string literal instead of a `static final` variable, i.e:\r\n\r\n```java\r\nprivate List&lt;@NotBlank(message = &quot;Activity cannot be blank&quot;) String&gt; activities;\r\n```\r\n\r\n1st approach seems to fix this error, however, it&#39;s not something I can use as I need to extend the builder functionality to a subclass of `ActivitiesModel`. Also, this issue is also present in another `abstract` class, so the super builder functionality for parent classes is definitely required.\r\n\r\n2nd approach also works in solving the error. However, going with it is a bit problematic because I then need to have the same message string in the validation test for this model class, which is something I would like to avoid as it duplicates the string.\r\n\r\nAnother thing to note is that this error only seems to occur in the presence of an annotation on the generic type parameter of the container, which is `NotBlank` in this case. It is not influenced by any annotations which are present directly on the field itself (`NotNull` in this case).\r\n\r\nSo, all in all, these are the questions that I would like to get some answers to:\r\n\r\n1. Somehow, Lombok is able to figure out the types in case of a string literal but not in case of a `static final String`. Why is that?\r\n2. Am I going about this totally wrong? The problem occurs because I&#39;m trying to store the message string in a variable, and I&#39;m trying to re-use the same variable at two places: the annotation&#39;s `message` attribute, and in the validation test for the model class. Should I not be checking for the presence of the message in my validation tests, but be checking for something else instead?","title":"Using Lombok&#39;s SuperBuilder with Hibernate Validator (jakarta.validation.x) annotation on a container type leads to &quot;Type mismatch&quot;","body":"<p>I have a class <code>ActivitiesModel</code> which uses Lombok's <code>SuperBuilder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.validation.NotBlank;\n\n// other imports and statements omitted for brevity.\n\n@Data\n@SuperBuilder\n@NoArgsConstructor\npublic class ActivitiesModel {\n    public static final String ACTIVITIES_NOT_NULL_MESSAGE = &quot;Activities cannot be null&quot;;\n    public static final String ACTIVITY_NOT_BLANK_MESSAGE = &quot;Activity cannot be blank&quot;;\n\n    @NotNull(message = ACTIVITIES_NOT_NULL_MESSAGE)\n    private List&lt;@NotBlank(message = ACTIVITY_NOT_BLANK_MESSAGE) String&gt; activities;\n}\n</code></pre>\n<p>I am using this builder to create an object of <code>ActivitiesModel</code>, and then validating it using Hibernate's <code>Validator</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Somewhere else in the application.\n\n// Create an object using the builder method.\nActivitiesModel activitiesModel = ActivitiesModel.builder()\n                                    .activities(List.of(&quot;hello&quot;, &quot;world&quot;)) // &lt;----- Point A\n                                    .build();\n\n// Validate the object using Hibernate's validator.\nvalidator.validate(activitiesModel);\n</code></pre>\n<p>However, running this code gives me the following error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java.lang.Error: \nUnresolved compilation problem: \n        Type mismatch: cannot convert from List&lt;String&gt; to List&lt;E&gt;\n</code></pre>\n<p>The stack trace seems to be pointing at <code>Point A</code>.</p>\n<p>I have tried the following approaches:</p>\n<ol>\n<li>Replacing the <code>@SuperBuilder</code> with <code>@Builder</code> and <code>@AllArgsConstructor</code>.</li>\n<li>Replacing the <code>message</code> attribute with a string literal instead of a <code>static final</code> variable, i.e:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;@NotBlank(message = &quot;Activity cannot be blank&quot;) String&gt; activities;\n</code></pre>\n<p>1st approach seems to fix this error, however, it's not something I can use as I need to extend the builder functionality to a subclass of <code>ActivitiesModel</code>. Also, this issue is also present in another <code>abstract</code> class, so the super builder functionality for parent classes is definitely required.</p>\n<p>2nd approach also works in solving the error. However, going with it is a bit problematic because I then need to have the same message string in the validation test for this model class, which is something I would like to avoid as it duplicates the string.</p>\n<p>Another thing to note is that this error only seems to occur in the presence of an annotation on the generic type parameter of the container, which is <code>NotBlank</code> in this case. It is not influenced by any annotations which are present directly on the field itself (<code>NotNull</code> in this case).</p>\n<p>So, all in all, these are the questions that I would like to get some answers to:</p>\n<ol>\n<li>Somehow, Lombok is able to figure out the types in case of a string literal but not in case of a <code>static final String</code>. Why is that?</li>\n<li>Am I going about this totally wrong? The problem occurs because I'm trying to store the message string in a variable, and I'm trying to re-use the same variable at two places: the annotation's <code>message</code> attribute, and in the validation test for the model class. Should I not be checking for the presence of the message in my validation tests, but be checking for something else instead?</li>\n</ol>\n"},{"tags":["java","mysql","intellij-idea","jdbc","driver"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673095626,"post_id":75040407,"comment_id":132423288,"body_markdown":"You really should be looking at generic build techniques like Maven. It&#39;s not going to help in the long run to be using IDE-specific features (which evidently aren&#39;t working for you anyway). Learn how the dependencies work in Maven - you should be able to make a Maven project with IntelliJ. Also, driver classes no longer need to be loaded dynamically. Use `DriverManager.getConnection`","body":"You really should be looking at generic build techniques like Maven. It&#39;s not going to help in the long run to be using IDE-specific features (which evidently aren&#39;t working for you anyway). Learn how the dependencies work in Maven - you should be able to make a Maven project with IntelliJ. Also, driver classes no longer need to be loaded dynamically. Use <code>DriverManager.getConnection</code>"},{"owner":{"account_id":27461406,"reputation":1,"user_id":20951903,"display_name":"Zethraxxur"},"score":0,"creation_date":1673095912,"post_id":75040407,"comment_id":132423348,"body_markdown":"This is a Maven project (also using JavaFX), however, I&#39;m not yet entirely sure what exactly Maven is or does.","body":"This is a Maven project (also using JavaFX), however, I&#39;m not yet entirely sure what exactly Maven is or does."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673096017,"post_id":75040407,"comment_id":132423374,"body_markdown":"Yes, it&#39;s probably the default type of project I&#39;d guess. So I&#39;d look at your pom.xml file, find out how it works and make sure the driver dependency is in there. Also, treat your `Connection` with try-with-resources as in other parts of your code. It will be a lot cleaner and tighter","body":"Yes, it&#39;s probably the default type of project I&#39;d guess. So I&#39;d look at your pom.xml file, find out how it works and make sure the driver dependency is in there. Also, treat your <code>Connection</code> with try-with-resources as in other parts of your code. It will be a lot cleaner and tighter"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673096629,"post_id":75040407,"comment_id":132423470,"body_markdown":"I recommend reading a tutorial on maven. [The official &quot;Maven in 5 Minutes&quot; tutorial](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html) is a good start. Keep in mind that maven is quite complex, so do not expect to learn everything about maven in an afternoon.","body":"I recommend reading a tutorial on maven. <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">The official &quot;Maven in 5 Minutes&quot; tutorial</a> is a good start. Keep in mind that maven is quite complex, so do not expect to learn everything about maven in an afternoon."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673096782,"post_id":75040407,"comment_id":132423502,"body_markdown":"Absolutely right. You will be able to learn enough though in a few minutes to shed light on your current dependency problem. Try to use the command line for Maven in time too, as well as your IDE","body":"Absolutely right. You will be able to learn enough though in a few minutes to shed light on your current dependency problem. Try to use the command line for Maven in time too, as well as your IDE"}],"owner":{"account_id":27461406,"reputation":1,"user_id":20951903,"display_name":"Zethraxxur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673097088,"creation_date":1673095218,"question_id":75040407,"body_markdown":"I have Intellij Ultimate thanks to my university, and one takeaway is the easy installation of database drivers through the Database interface. I am, however, trying to access &quot;com.mysql.cj.jdbc.Driver&quot; in my code and it does not find it? So far I have been importing the same JAR file as a dependancy but I thought all this should have been taken care of automatically?\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.ResultSetMetaData;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public class JDBCTest {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            if (args.length != 2) {\r\n                System.out.println(&quot;Usage: java JDBCTest &lt;user&gt; &lt;password&gt;&quot;);\r\n                System.exit(0);\r\n            }\r\n    \r\n            String user = args[0]; // username\r\n            String pwd = args[1]; // password \r\n            System.out.println(user + &quot;, *********&quot;);\r\n            String database = &quot;Company&quot;; // the name of the specific database \r\n            String server\r\n                    = &quot;jdbc:mysql://localhost:3306/&quot; + database\r\n                    + &quot;?UseClientEnc=UTF8&quot;;\r\n    \r\n            Connection con = null;\r\n            try {\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                con = DriverManager.getConnection(server, user, pwd);\r\n                System.out.println(&quot;Connected!&quot;);\r\n    \r\n                executeQuery(con, &quot;SELECT * FROM T_Employee&quot;);\r\n            } finally {\r\n                try {\r\n                    if (con != null) {\r\n                        con.close();\r\n                        System.out.println(&quot;Connection closed.&quot;);\r\n                    }\r\n                } catch (SQLException e) {\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void executeQuery(Connection con, String query) throws SQLException {\r\n    \r\n            try (Statement stmt = con.createStatement()) {\r\n                // Execute the SQL statement\r\n                ResultSet rs = stmt.executeQuery(query);\r\n    \r\n                // Get the attribute names\r\n                ResultSetMetaData metaData = rs.getMetaData();\r\n                int ccount = metaData.getColumnCount();\r\n                for (int c = 1; c &lt;= ccount; c++) {\r\n                    System.out.print(metaData.getColumnName(c) + &quot;\\t&quot;);\r\n                }\r\n                System.out.println();\r\n    \r\n                // Get the attribute values\r\n                while (rs.next()) {\r\n                    // NB! This is an example, -not- the preferred way to retrieve data.\r\n                    // You should use methods that return a specific data type, like\r\n                    // rs.getInt(), rs.getString() or such.\r\n                    // It&#39;s also advisable to store each tuple (row) in an object of\r\n                    // custom type (e.g. Employee).\r\n                    for (int c = 1; c &lt;= ccount; c++) {\r\n                        System.out.print(rs.getObject(c) + &quot;\\t&quot;);\r\n                    }\r\n                    System.out.println();\r\n                }\r\n    \r\n            }\r\n        }\r\n    }","title":"Downloaded JDCB driver through Intellij Ultimate not applying in the code? Must import dependancy separately","body":"<p>I have Intellij Ultimate thanks to my university, and one takeaway is the easy installation of database drivers through the Database interface. I am, however, trying to access &quot;com.mysql.cj.jdbc.Driver&quot; in my code and it does not find it? So far I have been importing the same JAR file as a dependancy but I thought all this should have been taken care of automatically?</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class JDBCTest {\n\n    public static void main(String[] args) throws Exception {\n\n        if (args.length != 2) {\n            System.out.println(&quot;Usage: java JDBCTest &lt;user&gt; &lt;password&gt;&quot;);\n            System.exit(0);\n        }\n\n        String user = args[0]; // username\n        String pwd = args[1]; // password \n        System.out.println(user + &quot;, *********&quot;);\n        String database = &quot;Company&quot;; // the name of the specific database \n        String server\n                = &quot;jdbc:mysql://localhost:3306/&quot; + database\n                + &quot;?UseClientEnc=UTF8&quot;;\n\n        Connection con = null;\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            con = DriverManager.getConnection(server, user, pwd);\n            System.out.println(&quot;Connected!&quot;);\n\n            executeQuery(con, &quot;SELECT * FROM T_Employee&quot;);\n        } finally {\n            try {\n                if (con != null) {\n                    con.close();\n                    System.out.println(&quot;Connection closed.&quot;);\n                }\n            } catch (SQLException e) {\n            }\n        }\n    }\n\n    public static void executeQuery(Connection con, String query) throws SQLException {\n\n        try (Statement stmt = con.createStatement()) {\n            // Execute the SQL statement\n            ResultSet rs = stmt.executeQuery(query);\n\n            // Get the attribute names\n            ResultSetMetaData metaData = rs.getMetaData();\n            int ccount = metaData.getColumnCount();\n            for (int c = 1; c &lt;= ccount; c++) {\n                System.out.print(metaData.getColumnName(c) + &quot;\\t&quot;);\n            }\n            System.out.println();\n\n            // Get the attribute values\n            while (rs.next()) {\n                // NB! This is an example, -not- the preferred way to retrieve data.\n                // You should use methods that return a specific data type, like\n                // rs.getInt(), rs.getString() or such.\n                // It's also advisable to store each tuple (row) in an object of\n                // custom type (e.g. Employee).\n                for (int c = 1; c &lt;= ccount; c++) {\n                    System.out.print(rs.getObject(c) + &quot;\\t&quot;);\n                }\n                System.out.println();\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","unix","timestamp"],"comments":[{"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"score":3,"creation_date":1405101027,"post_id":3371326,"comment_id":38309972,"body_markdown":"If you use Java 8 or newer: Have a look at this answer: http://stackoverflow.com/a/24703644/1115554","body":"If you use Java 8 or newer: Have a look at this answer: <a href=\"http://stackoverflow.com/a/24703644/1115554\">stackoverflow.com/a/24703644/1115554</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1501383772,"post_id":3371326,"comment_id":77752703,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html) are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":3,"up_vote_count":477,"is_accepted":true,"score":474,"last_activity_date":1512070200,"creation_date":1280492641,"answer_id":3371337,"question_id":3371326,"body_markdown":"For `1280512800`, multiply by 1000, since java is expecting milliseconds:\r\n\r\n    java.util.Date time=new java.util.Date((long)timeStamp*1000);\r\n\r\nIf you already had milliseconds, then just `new java.util.Date((long)timeStamp);\r\n`\r\n\r\nFrom the [documentation][1]:\r\n\r\n&gt; Allocates a Date object and\r\n&gt; initializes it to represent the\r\n&gt; specified number of milliseconds since\r\n&gt; the standard base time known as &quot;the\r\n&gt; epoch&quot;, namely January 1, 1970,\r\n&gt; 00:00:00 GMT.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/Date.html","title":"Java: Date from unix timestamp","body":"<p>For <code>1280512800</code>, multiply by 1000, since java is expecting milliseconds:</p>\n\n<pre><code>java.util.Date time=new java.util.Date((long)timeStamp*1000);\n</code></pre>\n\n<p>If you already had milliseconds, then just <code>new java.util.Date((long)timeStamp);\n</code></p>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Date.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Allocates a Date object and\n  initializes it to represent the\n  specified number of milliseconds since\n  the standard base time known as \"the\n  epoch\", namely January 1, 1970,\n  00:00:00 GMT.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1600935281,"creation_date":1280492698,"answer_id":3371344,"question_id":3371326,"body_markdown":"Date&#39;s constructor expects the timeStamp value to be in milliseconds.\r\nMultiply your timestamp&#39;s value with 1000, then pass it to the constructor.","title":"Java: Date from unix timestamp","body":"<p>Date's constructor expects the timeStamp value to be in milliseconds.\nMultiply your timestamp's value with 1000, then pass it to the constructor.</p>\n"},{"tags":[],"owner":{"account_id":900262,"reputation":720,"user_id":936586,"display_name":"Marco Fantasia"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1315929176,"creation_date":1315929176,"answer_id":7404800,"question_id":3371326,"body_markdown":"This is the right way:\r\n\r\n    Date date = new Date ();\r\n    date.setTime((long)unix_time*1000);","title":"Java: Date from unix timestamp","body":"<p>This is the right way:</p>\n\n<pre><code>Date date = new Date ();\ndate.setTime((long)unix_time*1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1601440,"reputation":261,"user_id":1482395,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1428854135,"creation_date":1340705735,"answer_id":11205142,"question_id":3371326,"body_markdown":"Looks like Calendar is the new way to go:\r\n\r\n    Calendar mydate = Calendar.getInstance();\r\n    mydate.setTimeInMillis(timestamp*1000);\r\n    out.println(mydate.get(Calendar.DAY_OF_MONTH)+&quot;.&quot;+mydate.get(Calendar.MONTH)+&quot;.&quot;+mydate.get(Calendar.YEAR));\r\n\r\nThe last line is just an example how to use it, this one would print eg &quot;14.06.2012&quot;.\r\n\r\nIf you have used System.currentTimeMillis() to save the Timestamp you don&#39;t need the &quot;*1000&quot; part.\r\n\r\nIf you have the timestamp in a string you need to parse it first as a long: Long.parseLong(timestamp).\r\n\r\n[https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html","title":"Java: Date from unix timestamp","body":"<p>Looks like Calendar is the new way to go:</p>\n\n<pre><code>Calendar mydate = Calendar.getInstance();\nmydate.setTimeInMillis(timestamp*1000);\nout.println(mydate.get(Calendar.DAY_OF_MONTH)+\".\"+mydate.get(Calendar.MONTH)+\".\"+mydate.get(Calendar.YEAR));\n</code></pre>\n\n<p>The last line is just an example how to use it, this one would print eg \"14.06.2012\".</p>\n\n<p>If you have used System.currentTimeMillis() to save the Timestamp you don't need the \"*1000\" part.</p>\n\n<p>If you have the timestamp in a string you need to parse it first as a long: Long.parseLong(timestamp).</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\">https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html</a></p>\n"},{"tags":[],"owner":{"account_id":3249999,"reputation":125,"user_id":2740592,"display_name":"tmr"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1379368061,"creation_date":1379368061,"answer_id":18837872,"question_id":3371326,"body_markdown":"If you are converting a timestamp value on a different machine, you should also check the timezone of that machine. For example;\r\n\r\nThe above decriptions will result different Date values, if you run with EST or UTC timezones.\r\n\r\nTo set the timezone; aka to UTC,\r\nyou can simply rewrite;\r\n\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        java.util.Date time= new java.util.Date((Long.parseLong(timestamp)*1000));\r\n\r\n","title":"Java: Date from unix timestamp","body":"<p>If you are converting a timestamp value on a different machine, you should also check the timezone of that machine. For example;</p>\n\n<p>The above decriptions will result different Date values, if you run with EST or UTC timezones.</p>\n\n<p>To set the timezone; aka to UTC,\nyou can simply rewrite;</p>\n\n<pre><code>    TimeZone.setDefault(TimeZone.getTimeZone(\"UTC\"));\n    java.util.Date time= new java.util.Date((Long.parseLong(timestamp)*1000));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1589876957,"creation_date":1405100991,"answer_id":24703644,"question_id":3371326,"body_markdown":"# java.time\r\n\r\n[Java 8][1] introduced a new API for working with dates and times: the [java.time package][2].\r\n\r\nWith java.time you can parse your count of whole seconds since the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00Z. The result is an [`Instant`][3].\r\n\r\n    Instant instant = Instant.ofEpochSecond( timeStamp );\r\n\r\n\r\nIf you need a `java.util.Date` to interoperate with old code not yet updated for *java.time*, convert. Call new conversion methods added to the old classes. \r\n\r\n    Date date = Date.from( instant );\r\n\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html","title":"Java: Date from unix timestamp","body":"<h1>java.time</h1>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\" rel=\"noreferrer\">Java 8</a> introduced a new API for working with dates and times: the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a>.</p>\n\n<p>With java.time you can parse your count of whole seconds since the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00Z. The result is an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>.</p>\n\n<pre><code>Instant instant = Instant.ofEpochSecond( timeStamp );\n</code></pre>\n\n<p>If you need a <code>java.util.Date</code> to interoperate with old code not yet updated for <em>java.time</em>, convert. Call new conversion methods added to the old classes. </p>\n\n<pre><code>Date date = Date.from( instant );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1570998895,"creation_date":1405108816,"answer_id":24705604,"question_id":3371326,"body_markdown":"# tl;dr \r\n\r\n    Instant.ofEpochSecond( 1_280_512_800L )\r\n\r\n&gt;2010-07-30T18:00:00Z\r\n\r\n# java.time\r\n\r\nThe new java.time framework built into Java 8 and later is the successor to Joda-Time. \r\n\r\nThese new classes include a [handy factory method to convert a count of whole seconds][1] from epoch. You get an `Instant`, a moment on the timeline in UTC with up to nanoseconds resolution.\r\n\r\n    Instant instant = Instant.ofEpochSecond( 1_280_512_800L );\r\n\r\n&gt;instant.toString(): 2010-07-30T18:00:00Z\r\n\r\nSee that [code run live at IdeOne.com][2].\r\n\r\n[![Table of date-time types in Java, both modern and legacy][3]][3]\r\n\r\n## `Asia/Kabul` or `Asia/Tehran` time zones ?\r\n\r\nYou reported getting a time-of-day value of 22:30 instead of the 18:00 seen here. I suspect your PHP utility is implicitly applying a default time zone to adjust from UTC. My value here is UTC, signified by the `Z` (short for `Zulu`, means UTC). Any chance your machine OS or PHP is set to `Asia/Kabul` or [`Asia/Tehran`][4] time zones? I suppose so as you report `IRST` in your output which apparently means Iran time. Currently in 2017 [those are the only zones][5] operating with a summer time that is four and a half hours ahead of UTC.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` or `IRST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\nIf you *want* to see your moment through the lens of a particular region&#39;s time zone, apply a `ZoneId` to get a [`ZonedDateTime`][6]. Still the same simultaneous moment, but seen as a different [wall-clock time][7].\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tehran&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z );  // Same moment, same point on timeline, but seen as different wall-clock time.\r\n\r\n&gt;2010-07-30T22:30+04:30[Asia/Tehran]\r\n\r\n## Converting from java.time to legacy classes\r\n    \r\nYou should stick with the new java.time classes. But you can convert to old if required.\r\n\r\n    java.util.Date date = java.util.Date.from( instant );\r\n    \r\n\r\n\r\n# Joda-Time\r\n\r\nUPDATE: The [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. \r\n\r\nFYI, the constructor for a [Joda-Time][8] [DateTime][9] is similar: Multiply by a thousand to produce a `long` (not an `int`!).\r\n\r\n    DateTime dateTime = new DateTime( ( 1_280_512_800L * 1000_L ), DateTimeZone.forID( &quot;Europe/Paris&quot; ) );\r\n\r\nBest to avoid the notoriously troublesome java.util.Date and .Calendar classes. But if you must use a Date, you can convert from Joda-Time.\r\n\r\n    java.util.Date date = dateTime.toDate();\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochSecond-long-\r\n  [2]: http://ideone.com/SOI3M1\r\n  [3]: https://i.stack.imgur.com/Mor3i.png\r\n  [4]: https://en.wikipedia.org/wiki/Asia/Tehran\r\n  [5]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [7]: https://en.wikipedia.org/wiki/Wall-clock_time\r\n  [8]: http://www.joda.org/joda-time/\r\n  [9]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html","title":"Java: Date from unix timestamp","body":"<h1>tl;dr</h1>\n\n<pre><code>Instant.ofEpochSecond( 1_280_512_800L )\n</code></pre>\n\n<blockquote>\n  <p>2010-07-30T18:00:00Z</p>\n</blockquote>\n\n<h1>java.time</h1>\n\n<p>The new java.time framework built into Java 8 and later is the successor to Joda-Time. </p>\n\n<p>These new classes include a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochSecond-long-\" rel=\"noreferrer\">handy factory method to convert a count of whole seconds</a> from epoch. You get an <code>Instant</code>, a moment on the timeline in UTC with up to nanoseconds resolution.</p>\n\n<pre><code>Instant instant = Instant.ofEpochSecond( 1_280_512_800L );\n</code></pre>\n\n<blockquote>\n  <p>instant.toString(): 2010-07-30T18:00:00Z</p>\n</blockquote>\n\n<p>See that <a href=\"http://ideone.com/SOI3M1\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mor3i.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Mor3i.png\" alt=\"Table of date-time types in Java, both modern and legacy\"></a></p>\n\n<h2><code>Asia/Kabul</code> or <code>Asia/Tehran</code> time zones ?</h2>\n\n<p>You reported getting a time-of-day value of 22:30 instead of the 18:00 seen here. I suspect your PHP utility is implicitly applying a default time zone to adjust from UTC. My value here is UTC, signified by the <code>Z</code> (short for <code>Zulu</code>, means UTC). Any chance your machine OS or PHP is set to <code>Asia/Kabul</code> or <a href=\"https://en.wikipedia.org/wiki/Asia/Tehran\" rel=\"noreferrer\"><code>Asia/Tehran</code></a> time zones? I suppose so as you report <code>IRST</code> in your output which apparently means Iran time. Currently in 2017 <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">those are the only zones</a> operating with a summer time that is four and a half hours ahead of UTC.</p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> or <code>IRST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<p>If you <em>want</em> to see your moment through the lens of a particular region's time zone, apply a <code>ZoneId</code> to get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>. Still the same simultaneous moment, but seen as a different <a href=\"https://en.wikipedia.org/wiki/Wall-clock_time\" rel=\"noreferrer\">wall-clock time</a>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Asia/Tehran\" ) ;\nZonedDateTime zdt = instant.atZone( z );  // Same moment, same point on timeline, but seen as different wall-clock time.\n</code></pre>\n\n<blockquote>\n  <p>2010-07-30T22:30+04:30[Asia/Tehran]</p>\n</blockquote>\n\n<h2>Converting from java.time to legacy classes</h2>\n\n<p>You should stick with the new java.time classes. But you can convert to old if required.</p>\n\n<pre><code>java.util.Date date = java.util.Date.from( instant );\n</code></pre>\n\n<h1>Joda-Time</h1>\n\n<p>UPDATE: The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes. </p>\n\n<p>FYI, the constructor for a <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\">DateTime</a> is similar: Multiply by a thousand to produce a <code>long</code> (not an <code>int</code>!).</p>\n\n<pre><code>DateTime dateTime = new DateTime( ( 1_280_512_800L * 1000_L ), DateTimeZone.forID( \"Europe/Paris\" ) );\n</code></pre>\n\n<p>Best to avoid the notoriously troublesome java.util.Date and .Calendar classes. But if you must use a Date, you can convert from Joda-Time.</p>\n\n<pre><code>java.util.Date date = dateTime.toDate();\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":1655711,"reputation":420,"user_id":1525344,"display_name":"Masatsugu Hosoi"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1426742489,"creation_date":1426742489,"answer_id":29137704,"question_id":3371326,"body_markdown":"    Date d = new Date(i * 1000 + TimeZone.getDefault().getRawOffset());","title":"Java: Date from unix timestamp","body":"<pre><code>Date d = new Date(i * 1000 + TimeZone.getDefault().getRawOffset());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578649970,"creation_date":1578649970,"answer_id":59679260,"question_id":3371326,"body_markdown":"For kotlin\r\n\r\n    fun unixToDate(timeStamp: Long) : String? {\r\n        val time = java.util.Date(timeStamp as Long * 1000)\r\n        val sdf = SimpleDateFormat(&quot;yyyy-MM-dd&quot;)\r\n        return sdf.format(time)\r\n    \r\n    }","title":"Java: Date from unix timestamp","body":"<p>For kotlin</p>\n\n<pre><code>fun unixToDate(timeStamp: Long) : String? {\n    val time = java.util.Date(timeStamp as Long * 1000)\n    val sdf = SimpleDateFormat(\"yyyy-MM-dd\")\n    return sdf.format(time)\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4219935,"reputation":11,"user_id":3454952,"display_name":"Damir Isanbirdin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592525866,"creation_date":1592525866,"answer_id":62461386,"question_id":3371326,"body_markdown":"Sometimes you need to work with adjustments.\r\n\r\nDon&#39;t use cast to long! Use nanoadjustment.\r\n\r\nFor example, using Oanda Java API for trading you can get datetime as UNIX format.\r\n\r\nFor example: 1592523410.590566943\r\n```\r\n    System.out.println(&quot;instant with nano = &quot; + Instant.ofEpochSecond(1592523410, 590566943));\r\n    System.out.println(&quot;instant = &quot; + Instant.ofEpochSecond(1592523410));\r\n```\r\n\r\nyou get:\r\n\r\n```\r\ninstant with nano = 2020-06-18T23:36:50.590566943Z\r\ninstant = 2020-06-18T23:36:50Z\r\n```\r\n\r\nAlso, use:\r\n```\r\n Date date = Date.from( Instant.ofEpochSecond(1592523410, 590566943) );\r\n```","title":"Java: Date from unix timestamp","body":"<p>Sometimes you need to work with adjustments.</p>\n\n<p>Don't use cast to long! Use nanoadjustment.</p>\n\n<p>For example, using Oanda Java API for trading you can get datetime as UNIX format.</p>\n\n<p>For example: 1592523410.590566943</p>\n\n<pre><code>    System.out.println(\"instant with nano = \" + Instant.ofEpochSecond(1592523410, 590566943));\n    System.out.println(\"instant = \" + Instant.ofEpochSecond(1592523410));\n</code></pre>\n\n<p>you get:</p>\n\n<pre><code>instant with nano = 2020-06-18T23:36:50.590566943Z\ninstant = 2020-06-18T23:36:50Z\n</code></pre>\n\n<p>Also, use:</p>\n\n<pre><code> Date date = Date.from( Instant.ofEpochSecond(1592523410, 590566943) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11014299,"reputation":893,"user_id":8090608,"display_name":"Frank.Chang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673096777,"creation_date":1673096777,"answer_id":75040574,"question_id":3371326,"body_markdown":"LocalDateTime is another choice, like:\r\n\r\n    LocalDateTime.ofInstant(Instant.ofEpochSecond(unixtime), ZoneId.systemDefault())","title":"Java: Date from unix timestamp","body":"<p>LocalDateTime is another choice, like:</p>\n<pre><code>LocalDateTime.ofInstant(Instant.ofEpochSecond(unixtime), ZoneId.systemDefault())\n</code></pre>\n"}],"owner":{"account_id":137693,"reputation":14870,"user_id":342059,"accept_rate":71,"display_name":"Ariyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374226,"favorite_count":0,"down_vote_count":0,"up_vote_count":268,"accepted_answer_id":3371337,"answer_count":11,"score":268,"last_activity_date":1673096777,"creation_date":1280492565,"question_id":3371326,"body_markdown":"I need to convert a unix timestamp to a date object.  \r\nI tried this:\r\n\r\n    java.util.Date time = new java.util.Date(timeStamp);\r\n\r\nTimestamp value is: `1280512800`\r\n\r\nThe Date should be &quot;2010/07/30 - 22:30:00&quot; (as I get it by PHP) but instead I get `Thu Jan 15 23:11:56 IRST 1970`.\r\n\r\nHow should it be done?","title":"Java: Date from unix timestamp","body":"<p>I need to convert a unix timestamp to a date object.<br>\nI tried this:</p>\n\n<pre><code>java.util.Date time = new java.util.Date(timeStamp);\n</code></pre>\n\n<p>Timestamp value is: <code>1280512800</code></p>\n\n<p>The Date should be \"2010/07/30 - 22:30:00\" (as I get it by PHP) but instead I get <code>Thu Jan 15 23:11:56 IRST 1970</code>.</p>\n\n<p>How should it be done?</p>\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":20645246,"reputation":127,"user_id":15156924,"display_name":"Denes Garda"},"score":0,"creation_date":1623344408,"post_id":67925186,"comment_id":120059654,"body_markdown":"A Minecraft Plugin cannot run without a plugin.yml, as it is what defines the name, main, commands, etc.","body":"A Minecraft Plugin cannot run without a plugin.yml, as it is what defines the name, main, commands, etc."}],"answers":[{"tags":[],"owner":{"account_id":20133401,"reputation":1086,"user_id":14765128,"display_name":"thehale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673096390,"creation_date":1623343611,"answer_id":67925379,"question_id":67925186,"body_markdown":"The `plugin.yml` file is a required part of a SpigotMC plugin that defines some basic information about the plugin like its name and the version of the Spigot API that it uses. For example, [here][1]&#39;s one for a Minecraft plugin I&#39;m currently working on.\r\n\r\nThe error you&#39;re getting comes from that file not getting bundled into the jar. As a result, when the Spigot server tries to load your plugin, it can&#39;t find the `plugin.yml` because it&#39;s literally not present in your compiled jar.\r\n\r\nI recommend setting up a build system like Gradle or Maven that will handle the complexities of building the jar for you independent of the IDE you use.\r\n - [Set up a SpigotMC plugin using Maven](https://www.spigotmc.org/wiki/creating-a-plugin-with-maven-using-intellij-idea/)\r\n - [Set up a SpigotMC plugin using Gradle](https://www.spigotmc.org/wiki/build-you-spigot-plugin-with-gradle-groovy/)\r\n\r\nI personally use Gradle, so feel free to see how I implemented it in [one of my plugins][2]. If you&#39;d prefer Maven, there are many examples available including the popular [Multiverse-Core][3].\r\n\r\n  [1]: https://github.com/jhale1805/power-projectiles/blob/master/src/main/resources/plugin.yml\r\n  [2]: https://github.com/jhale1805/power-projectiles\r\n  [3]: https://github.com/Multiverse/Multiverse-Core","title":"Could not Load Plugin due to Error: &quot;Jar does not contain plugin.yml&quot;","body":"<p>The <code>plugin.yml</code> file is a required part of a SpigotMC plugin that defines some basic information about the plugin like its name and the version of the Spigot API that it uses. For example, <a href=\"https://github.com/jhale1805/power-projectiles/blob/master/src/main/resources/plugin.yml\" rel=\"nofollow noreferrer\">here</a>'s one for a Minecraft plugin I'm currently working on.</p>\n<p>The error you're getting comes from that file not getting bundled into the jar. As a result, when the Spigot server tries to load your plugin, it can't find the <code>plugin.yml</code> because it's literally not present in your compiled jar.</p>\n<p>I recommend setting up a build system like Gradle or Maven that will handle the complexities of building the jar for you independent of the IDE you use.</p>\n<ul>\n<li><a href=\"https://www.spigotmc.org/wiki/creating-a-plugin-with-maven-using-intellij-idea/\" rel=\"nofollow noreferrer\">Set up a SpigotMC plugin using Maven</a></li>\n<li><a href=\"https://www.spigotmc.org/wiki/build-you-spigot-plugin-with-gradle-groovy/\" rel=\"nofollow noreferrer\">Set up a SpigotMC plugin using Gradle</a></li>\n</ul>\n<p>I personally use Gradle, so feel free to see how I implemented it in <a href=\"https://github.com/jhale1805/power-projectiles\" rel=\"nofollow noreferrer\">one of my plugins</a>. If you'd prefer Maven, there are many examples available including the popular <a href=\"https://github.com/Multiverse/Multiverse-Core\" rel=\"nofollow noreferrer\">Multiverse-Core</a>.</p>\n"},{"tags":[],"owner":{"account_id":21722673,"reputation":11,"user_id":16032551,"display_name":"hi im lost"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634810265,"creation_date":1623778566,"answer_id":67991062,"question_id":67925186,"body_markdown":"You need the plugin.yml to run your plugin. If you&#39;re using spigot or bukkit, you should make your plugin.yml inside the src folder, in there, you need to include a minimum of: \r\n\r\n    name: (plugin name, no spaces allowed in name)\r\n    author: (your name)\r\n    version: (your plugin version)\r\n    api-version: (use 1.14)\r\n    main: (your main class)\r\n    description: (optional description, otherwise delete this line)\r\n\r\n\r\nthen you can export or rebuild the jar \r\n\r\n\r\nThis is an example of what my plugin.yml looks like: \r\n\r\n    name: ThornsPlugin\r\n    version: 1.0\r\n    author: MOREORLESS\r\n    api-version: 1.14\r\n    main: com.MOREORLESS.plugin.plugin\r\n    description: MC Stuff\r\n\r\nLearn more about Plugin.yml here: https://www.spigotmc.org/wiki/plugin-yml/","title":"Could not Load Plugin due to Error: &quot;Jar does not contain plugin.yml&quot;","body":"<p>You need the plugin.yml to run your plugin. If you're using spigot or bukkit, you should make your plugin.yml inside the src folder, in there, you need to include a minimum of:</p>\n<pre><code>name: (plugin name, no spaces allowed in name)\nauthor: (your name)\nversion: (your plugin version)\napi-version: (use 1.14)\nmain: (your main class)\ndescription: (optional description, otherwise delete this line)\n</code></pre>\n<p>then you can export or rebuild the jar</p>\n<p>This is an example of what my plugin.yml looks like:</p>\n<pre><code>name: ThornsPlugin\nversion: 1.0\nauthor: MOREORLESS\napi-version: 1.14\nmain: com.MOREORLESS.plugin.plugin\ndescription: MC Stuff\n</code></pre>\n<p>Learn more about Plugin.yml here: <a href=\"https://www.spigotmc.org/wiki/plugin-yml/\" rel=\"nofollow noreferrer\">https://www.spigotmc.org/wiki/plugin-yml/</a></p>\n"}],"owner":{"account_id":20313694,"reputation":9,"user_id":15361557,"display_name":"Jay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6341,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673096390,"creation_date":1623342840,"question_id":67925186,"body_markdown":"I am trying to create a Spigot plugin that allows players to use a compass to track other players. While exporting and running the server, I noticed that it was giving me an error:\r\n\r\n```\r\n[21:57:15 ERROR]: Could not load &#39;plugins\\Manhunt.jar&#39; in folder &#39;plugins&#39;\r\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\r\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:172) ~[patched_1.16.5.jar:git-Paper-683]\r\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:148) ~[patched_1.16.5.jar:git-Paper-683]\r\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.loadPlugins(CraftServer.java:389) ~[patched_1.16.5.jar:git-Paper-683]\r\n        at net.minecraft.server.v1_16_R3.DedicatedServer.init(DedicatedServer.java:252) ~[patched_1.16.5.jar:git-Paper-683]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1066) ~[patched_1.16.5.jar:git-Paper-683]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:290) ~[patched_1.16.5.jar:git-Paper-683]\r\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_291]\r\nCaused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\r\n        ... 7 more\r\n```\r\n\r\nI have never seen this error before and I&#39;m not sure how to fix it. I have made sure to export the `.yml` file while in Eclipse, but it still shows me this error.","title":"Could not Load Plugin due to Error: &quot;Jar does not contain plugin.yml&quot;","body":"<p>I am trying to create a Spigot plugin that allows players to use a compass to track other players. While exporting and running the server, I noticed that it was giving me an error:</p>\n<pre><code>[21:57:15 ERROR]: Could not load 'plugins\\Manhunt.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:172) ~[patched_1.16.5.jar:git-Paper-683]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:148) ~[patched_1.16.5.jar:git-Paper-683]\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.loadPlugins(CraftServer.java:389) ~[patched_1.16.5.jar:git-Paper-683]\n        at net.minecraft.server.v1_16_R3.DedicatedServer.init(DedicatedServer.java:252) ~[patched_1.16.5.jar:git-Paper-683]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1066) ~[patched_1.16.5.jar:git-Paper-683]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:290) ~[patched_1.16.5.jar:git-Paper-683]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_291]\nCaused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\n        ... 7 more\n</code></pre>\n<p>I have never seen this error before and I'm not sure how to fix it. I have made sure to export the <code>.yml</code> file while in Eclipse, but it still shows me this error.</p>\n"},{"tags":["javascript","java","jquery"],"answers":[{"tags":[],"owner":{"account_id":1514719,"reputation":741,"user_id":1416013,"display_name":"Anubhab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457294417,"creation_date":1457293930,"answer_id":35831725,"question_id":35831574,"body_markdown":"You have to call the plugin using \r\n\r\n    $(&#39;#countdown&#39;).countup({ start: new Date(2012, 10, 27, 15, 58, 21) //year, month, day, hour, min, sec });\r\n\r\nWhere your html will have an element with id=&quot;countdown&quot;\r\n\r\n    &lt;div id=&quot;countdown&quot;&gt;&lt;/div&gt;\r\n\r\n\r\nnow you can put it virtually anywhere in your JS. Lets say you want to call this plugin when window loads, the JS file you include could have something like:\r\n\r\n    $(window).on(&#39;load&#39;,function(){\r\n        $(&#39;#countdown&#39;).countup({ start: new Date(2012, 10, 27, 15, 58, 21)});\r\n    })\r\n\r\n\r\nBreaking down whats happening:\r\n\r\n    $(&quot;#countdown&quot;).countup()//calls a jQuery function obviously\r\n\r\nAs an argument you are passing an object \r\n    {star:new Date(&lt;your date format&gt;)}\r\n\r\nHere&#39;s a little detail of the accepted format Javascript Date() method would accept: http://www.w3schools.com/js/js_date_formats.asp\r\n\r\nNow once you call the .countup() function, notice the $.extend() part, which basically copies second object on to the first, i.e. if you pass on \r\n\r\n    {start:new Date(&quot;2015-11-10&quot;)}\r\n\r\nthis overrides the default key start in the function definition. If you do not pass on this as an argument it just falls back to new Date() which essentially is current date-time.","title":"How to set a specific date on a count up timer","body":"<p>You have to call the plugin using </p>\n\n<pre><code>$('#countdown').countup({ start: new Date(2012, 10, 27, 15, 58, 21) //year, month, day, hour, min, sec });\n</code></pre>\n\n<p>Where your html will have an element with id=\"countdown\"</p>\n\n<pre><code>&lt;div id=\"countdown\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>now you can put it virtually anywhere in your JS. Lets say you want to call this plugin when window loads, the JS file you include could have something like:</p>\n\n<pre><code>$(window).on('load',function(){\n    $('#countdown').countup({ start: new Date(2012, 10, 27, 15, 58, 21)});\n})\n</code></pre>\n\n<p>Breaking down whats happening:</p>\n\n<pre><code>$(\"#countdown\").countup()//calls a jQuery function obviously\n</code></pre>\n\n<p>As an argument you are passing an object \n    {star:new Date()}</p>\n\n<p>Here's a little detail of the accepted format Javascript Date() method would accept: <a href=\"http://www.w3schools.com/js/js_date_formats.asp\" rel=\"nofollow\">http://www.w3schools.com/js/js_date_formats.asp</a></p>\n\n<p>Now once you call the .countup() function, notice the $.extend() part, which basically copies second object on to the first, i.e. if you pass on </p>\n\n<pre><code>{start:new Date(\"2015-11-10\")}\n</code></pre>\n\n<p>this overrides the default key start in the function definition. If you do not pass on this as an argument it just falls back to new Date() which essentially is current date-time.</p>\n"},{"tags":[],"owner":{"account_id":909180,"reputation":6511,"user_id":943435,"display_name":"Krampus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457302104,"creation_date":1457296402,"answer_id":35832185,"question_id":35831574,"body_markdown":"Here is a complete working example. Run the snippet to see it work. \r\n\r\nSee @Anubhab&#39;s answer (up voted) for the details of how it works. Additionally, make sure your page includes all the required CSS and Javascript files required to make it work.\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300&quot; /&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;http://demo.tutorialzine.com/2012/09/count-up-jquery/assets/countup/jquery.countup.css&quot; /&gt;\r\n      &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n      &lt;script src=&quot;http://demo.tutorialzine.com/2012/09/count-up-jquery/assets/countup/jquery.countup.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n      &lt;div id=&quot;countdown&quot;&gt;&lt;/div&gt;\r\n      &lt;script&gt;\r\n        $(function() {\r\n          // jQuery ready - create counter\r\n          $(&#39;#countdown&#39;).countup({\r\n            start: new Date(2016, 0, 1, 0, 0, 0)\r\n          });\r\n        });\r\n      &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to set a specific date on a count up timer","body":"<p>Here is a complete working example. Run the snippet to see it work. </p>\n\n<p>See @Anubhab's answer (up voted) for the details of how it works. Additionally, make sure your page includes all the required CSS and Javascript files required to make it work.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300\" /&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"http://demo.tutorialzine.com/2012/09/count-up-jquery/assets/countup/jquery.countup.css\" /&gt;\r\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"http://demo.tutorialzine.com/2012/09/count-up-jquery/assets/countup/jquery.countup.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;div id=\"countdown\"&gt;&lt;/div&gt;\r\n  &lt;script&gt;\r\n    $(function() {\r\n      // jQuery ready - create counter\r\n      $('#countdown').countup({\r\n        start: new Date(2016, 0, 1, 0, 0, 0)\r\n      });\r\n    });\r\n  &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":19649887,"reputation":79,"user_id":14383952,"display_name":"Gathiira M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673096323,"creation_date":1673096323,"answer_id":75040522,"question_id":35831574,"body_markdown":"For ReactJs people, \r\n\r\nYou can use this shared component\r\n```\r\nimport React from &#39;react&#39;;\r\nimport moment from &#39;moment&#39;;\r\n\r\n\r\nconst CountUpTimer = ({ startDate }) =&gt; {\r\n    const currentTime = moment().unix()\r\n    const jobStart = moment(startDate).unix()\r\n\r\n    const startTime = currentTime - jobStart\r\n    const [timer, setTimer] = React.useState(Number(startTime) || 0);\r\n\r\n    let hour = React.useRef(0);\r\n    let minute = React.useRef(0);\r\n    let upSecond = React.useRef(0);\r\n\r\n    const countTimer = React.useCallback(() =&gt; {\r\n        setTimer(timer + 1);\r\n        hour.current = Math.floor(timer / 3600);\r\n        minute.current = Math.floor((timer - hour.current * 3600) / 60);\r\n        upSecond.current = timer - (hour.current * 3600 + minute.current * 60);\r\n\r\n    }, [timer]);\r\n\r\n\r\n    React.useEffect(() =&gt; {\r\n        const interval = setInterval(() =&gt; {\r\n            countTimer()\r\n        }, 1000);\r\n        return () =&gt; clearInterval(interval);\r\n    }, [timer, countTimer]);\r\n\r\n    return &lt;div&gt;{hour.current}:{minute.current}:{upSecond.current}&lt;/div&gt;;\r\n};\r\n\r\nexport default CountUpTimer;\r\n```\r\nAt the point of display, you can add the second passed to the start time and format using moment.","title":"How to set a specific date on a count up timer","body":"<p>For ReactJs people,</p>\n<p>You can use this shared component</p>\n<pre><code>import React from 'react';\nimport moment from 'moment';\n\n\nconst CountUpTimer = ({ startDate }) =&gt; {\n    const currentTime = moment().unix()\n    const jobStart = moment(startDate).unix()\n\n    const startTime = currentTime - jobStart\n    const [timer, setTimer] = React.useState(Number(startTime) || 0);\n\n    let hour = React.useRef(0);\n    let minute = React.useRef(0);\n    let upSecond = React.useRef(0);\n\n    const countTimer = React.useCallback(() =&gt; {\n        setTimer(timer + 1);\n        hour.current = Math.floor(timer / 3600);\n        minute.current = Math.floor((timer - hour.current * 3600) / 60);\n        upSecond.current = timer - (hour.current * 3600 + minute.current * 60);\n\n    }, [timer]);\n\n\n    React.useEffect(() =&gt; {\n        const interval = setInterval(() =&gt; {\n            countTimer()\n        }, 1000);\n        return () =&gt; clearInterval(interval);\n    }, [timer, countTimer]);\n\n    return &lt;div&gt;{hour.current}:{minute.current}:{upSecond.current}&lt;/div&gt;;\n};\n\nexport default CountUpTimer;\n</code></pre>\n<p>At the point of display, you can add the second passed to the start time and format using moment.</p>\n"}],"owner":{"account_id":7987252,"reputation":1,"user_id":6026305,"display_name":"Rikard Abrahamsson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1712,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673096323,"creation_date":1457293097,"question_id":35831574,"body_markdown":"I am trying to make a count up timer from a specific date. I used this (http://tutorialzine.com/2012/09/count-up-jquery/) tutorial to do it but i don&#39;t know where to put in:\r\n\r\n$(&#39;#countdown&#39;).countup({\r\n    start: new Date(2012, 10, 27, 15, 58, 21) //year, month, day, hour, min, sec\r\n});\r\n\r\nas it says in the description. \r\n\r\nThe beginning of the code looks like this:\r\n\r\n\r\n    (function($){\r\n\t\r\n\t\t// Number of seconds in every time division\r\n\t\tvar days\t= 24*60*60,\r\n\t\t\thours\t= 60*60,\r\n\t\t\tminutes\t= 60;\r\n\t\r\n\t\t// Creating the plugin\r\n\t\t$.fn.countup = function(prop){\r\n\t\t\r\n\t\t\tvar options = $.extend({\r\n\t\t\t\tcallback\t: function(){},\r\n\t\t\t\tstart\t\t: new Date()\r\n\t\t\t},prop);\t\r\n\t\t\r\n\t\t\tvar passed = 0, d, h, m, s, \r\n\t\t\t\tpositions;\r\n\r\n\t\t\t// Initialize the plugin\r\n\t\t\tinit(this, options);\r\n\t\t\r\n\t\t\tpositions = this.find(&#39;.position&#39;);\r\n","title":"How to set a specific date on a count up timer","body":"<p>I am trying to make a count up timer from a specific date. I used this (<a href=\"http://tutorialzine.com/2012/09/count-up-jquery/\" rel=\"nofollow\">http://tutorialzine.com/2012/09/count-up-jquery/</a>) tutorial to do it but i don't know where to put in:</p>\n\n<p>$('#countdown').countup({\n    start: new Date(2012, 10, 27, 15, 58, 21) //year, month, day, hour, min, sec\n});</p>\n\n<p>as it says in the description. </p>\n\n<p>The beginning of the code looks like this:</p>\n\n<pre><code>(function($){\n\n    // Number of seconds in every time division\n    var days    = 24*60*60,\n        hours   = 60*60,\n        minutes = 60;\n\n    // Creating the plugin\n    $.fn.countup = function(prop){\n\n        var options = $.extend({\n            callback    : function(){},\n            start       : new Date()\n        },prop);    \n\n        var passed = 0, d, h, m, s, \n            positions;\n\n        // Initialize the plugin\n        init(this, options);\n\n        positions = this.find('.position');\n</code></pre>\n"},{"tags":["java","string","hibernate","list","annotations"],"answers":[{"tags":[],"owner":{"account_id":270781,"reputation":11897,"user_id":560934,"accept_rate":61,"display_name":"Nirmal- thInk beYond"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1304412735,"creation_date":1304412735,"answer_id":5867182,"question_id":5867130,"body_markdown":"try \r\n  \r\n\r\n      @org.hibernate.annotations.CollectionOfElements(\r\n            targetElement = java.lang.String.class\r\n        )\r\n        @JoinTable(\r\n            name = &quot;foo&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;foo_id&quot;)\r\n        )\r\n        @org.hibernate.annotations.IndexColumn(\r\n            name = &quot;POSITION&quot;, base = 1\r\n        )\r\n        @Column(name = &quot;baz&quot;, nullable = false)\r\n        private List&lt;String&gt; arguments = new ArrayList&lt;String&gt;();\r\n\r\nor see [this detail example][1] \r\n\r\n\r\n  [1]: http://www.zabada.com/tutorials/hibernate-and-jpa-with-spring-example.php","title":"How to persist a List of Strings in Hibernate?","body":"<p>try </p>\n\n<pre><code>  @org.hibernate.annotations.CollectionOfElements(\n        targetElement = java.lang.String.class\n    )\n    @JoinTable(\n        name = \"foo\",\n        joinColumns = @JoinColumn(name = \"foo_id\")\n    )\n    @org.hibernate.annotations.IndexColumn(\n        name = \"POSITION\", base = 1\n    )\n    @Column(name = \"baz\", nullable = false)\n    private List&lt;String&gt; arguments = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>or see <a href=\"http://www.zabada.com/tutorials/hibernate-and-jpa-with-spring-example.php\" rel=\"nofollow\">this detail example</a> </p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":122,"is_accepted":true,"score":122,"last_activity_date":1304412908,"creation_date":1304412908,"answer_id":5867220,"question_id":5867130,"body_markdown":"Use `@ElementCollection`:\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name=&quot;Nicknames&quot;, joinColumns=@JoinColumn(name=&quot;user_id&quot;))\r\n    @Column(name=&quot;nickname&quot;)\r\n    public List&lt;String&gt; getNicknames() { ... } \r\n\r\n**Source:** [7.2.3. Collections of basic types and embeddable objects][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/collections.html#collections-ofvalues","title":"How to persist a List of Strings in Hibernate?","body":"<p>Use <code>@ElementCollection</code>:</p>\n\n<pre><code>@ElementCollection\n@CollectionTable(name=\"Nicknames\", joinColumns=@JoinColumn(name=\"user_id\"))\n@Column(name=\"nickname\")\npublic List&lt;String&gt; getNicknames() { ... } \n</code></pre>\n\n<p><strong>Source:</strong> <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/collections.html#collections-ofvalues\">7.2.3. Collections of basic types and embeddable objects</a></p>\n"},{"tags":[],"owner":{"account_id":181196,"reputation":4788,"user_id":415032,"accept_rate":0,"display_name":"E Ciotti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673096083,"creation_date":1635261285,"answer_id":69725703,"question_id":5867130,"body_markdown":"If you are happy to store them in the same column as JSON (MySQL, [PostgreSQL][1] that also support indexing and binary JSON), you could simply use `io.hypersistence/hypersistence-utils-hibernate-52` library.\r\n\r\n    @TypeDefs({\r\n        @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n    })\r\n    public class YourEntity {\r\n       @Column(nullable = false)\r\n       @Type(type = &quot;json&quot;)\r\n       private List&lt;String&gt; fieldName = List.of();\r\n       ...\r\n    }\r\n\r\n\r\nSee full guide [here][2]\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/10/datatype-json.html\r\n  [2]: https://www.baeldung.com/hibernate-types-library","title":"How to persist a List of Strings in Hibernate?","body":"<p>If you are happy to store them in the same column as JSON (MySQL, <a href=\"https://www.postgresql.org/docs/10/datatype-json.html\" rel=\"nofollow noreferrer\">PostgreSQL</a> that also support indexing and binary JSON), you could simply use <code>io.hypersistence/hypersistence-utils-hibernate-52</code> library.</p>\n<pre><code>@TypeDefs({\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\n})\npublic class YourEntity {\n   @Column(nullable = false)\n   @Type(type = &quot;json&quot;)\n   private List&lt;String&gt; fieldName = List.of();\n   ...\n}\n</code></pre>\n<p>See full guide <a href=\"https://www.baeldung.com/hibernate-types-library\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":292436,"reputation":2498,"user_id":595189,"accept_rate":92,"display_name":"TeaOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79988,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":5867220,"answer_count":3,"score":63,"last_activity_date":1673096083,"creation_date":1304412409,"question_id":5867130,"body_markdown":"I seem to have problems with mapping a List&lt;String&gt; in Hibernate. In our project there a class `Card` with contains a class `Answer` with `Answer` containing a `List&lt;String&gt;`.\r\n\r\nIs a `List&lt;String&gt;` mappable by Hibernate using annotations? I mean, since it does not have the `@Entity` annotation?\r\n\r\nRegards","title":"How to persist a List of Strings in Hibernate?","body":"<p>I seem to have problems with mapping a List in Hibernate. In our project there a class <code>Card</code> with contains a class <code>Answer</code> with <code>Answer</code> containing a <code>List&lt;String&gt;</code>.</p>\n\n<p>Is a <code>List&lt;String&gt;</code> mappable by Hibernate using annotations? I mean, since it does not have the <code>@Entity</code> annotation?</p>\n\n<p>Regards</p>\n"},{"tags":["java","android-studio","admob"],"comments":[{"owner":{"account_id":6613416,"reputation":621,"user_id":5107596,"accept_rate":38,"display_name":"Saeed Darvish"},"score":0,"creation_date":1668503974,"post_id":74440731,"comment_id":131415086,"body_markdown":"It need a screen shot from what he want to make","body":"It need a screen shot from what he want to make"},{"owner":{"account_id":25108075,"reputation":23,"user_id":18958057,"display_name":"EwanCharalambides"},"score":0,"creation_date":1668510967,"post_id":74440731,"comment_id":131417602,"body_markdown":"@SaeedDarvish I have attached a screenshot hyperlink when you click on the &#39;Duolingo pop up ads&#39; on my question","body":"@SaeedDarvish I have attached a screenshot hyperlink when you click on the &#39;Duolingo pop up ads&#39; on my question"},{"owner":{"account_id":6613416,"reputation":621,"user_id":5107596,"accept_rate":38,"display_name":"Saeed Darvish"},"score":0,"creation_date":1668756975,"post_id":74440731,"comment_id":131488280,"body_markdown":"I&#39;m sorry, I didn&#39;t pay attention to the link.","body":"I&#39;m sorry, I didn&#39;t pay attention to the link."}],"answers":[{"tags":[],"owner":{"account_id":6613416,"reputation":621,"user_id":5107596,"accept_rate":38,"display_name":"Saeed Darvish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673096061,"creation_date":1668756809,"answer_id":74486267,"question_id":74440731,"body_markdown":"You could use a full-screen dialog fragment. [This post][1] completely explains the introduction. For the central box, use MaterialCardView and MaterialButton, or another container with a custom background.\r\n\r\n\r\n  [1]: https://medium.com/alexander-schaefer/implementing-the-new-material-design-full-screen-dialog-for-android-e9dcc712cb38","title":"Ads similar to Duolingo pop up ads in Android Studio - Java","body":"<p>You could use a full-screen dialog fragment. <a href=\"https://medium.com/alexander-schaefer/implementing-the-new-material-design-full-screen-dialog-for-android-e9dcc712cb38\" rel=\"nofollow noreferrer\">This post</a> completely explains the introduction. For the central box, use MaterialCardView and MaterialButton, or another container with a custom background.</p>\n"}],"owner":{"account_id":25108075,"reputation":23,"user_id":18958057,"display_name":"EwanCharalambides"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74486267,"answer_count":1,"score":0,"last_activity_date":1673096061,"creation_date":1668487814,"question_id":74440731,"body_markdown":"I am wanting my pop up ads to have a similar style to the [Duolingo pop up ads](https://i.stack.imgur.com/THePh.png). But I am not sure how to do it and can&#39;t seem to find any resources on this.\r\n\r\nWould this be a separate activity with a smart banner? Or is there a way to customise ad mobs interstitial ads?\r\n\r\nI haven&#39;t found any resources so far and thinking if I use smart banners in a seperate activity it would be complicated to handle as I will also be working with fragments and passing data between the 2 already existing activities / fragments. Also concerned smart banners will have a much lower ECPM than interstitial.","title":"Ads similar to Duolingo pop up ads in Android Studio - Java","body":"<p>I am wanting my pop up ads to have a similar style to the <a href=\"https://i.stack.imgur.com/THePh.png\" rel=\"nofollow noreferrer\">Duolingo pop up ads</a>. But I am not sure how to do it and can't seem to find any resources on this.</p>\n<p>Would this be a separate activity with a smart banner? Or is there a way to customise ad mobs interstitial ads?</p>\n<p>I haven't found any resources so far and thinking if I use smart banners in a seperate activity it would be complicated to handle as I will also be working with fragments and passing data between the 2 already existing activities / fragments. Also concerned smart banners will have a much lower ECPM than interstitial.</p>\n"},{"tags":["java","json","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1616529784,"post_id":66770409,"comment_id":118030516,"body_markdown":"Your `rules` property is of type `String`.  If you want the value of that `String` to replace `=` with some other character (like `:`) you would have to write something that will take the JSON object `{&quot;key&quot;: &quot;97773e0b-3639-4af5-9585-93bc176715c0&quot;, &quot;fieldName&quot;: &quot;esn&quot;, &quot;operator&quot;: &quot;eq&quot;, &quot;operands&quot;: [&quot;599320&quot;]}` and turn it into a `String` that satisfies your requirement.  There is nothing in the framework that would assume you want that.","body":"Your <code>rules</code> property is of type <code>String</code>.  If you want the value of that <code>String</code> to replace <code>=</code> with some other character (like <code>:</code>) you would have to write something that will take the JSON object <code>{&quot;key&quot;: &quot;97773e0b-3639-4af5-9585-93bc176715c0&quot;, &quot;fieldName&quot;: &quot;esn&quot;, &quot;operator&quot;: &quot;eq&quot;, &quot;operands&quot;: [&quot;599320&quot;]}</code> and turn it into a <code>String</code> that satisfies your requirement.  There is nothing in the framework that would assume you want that."},{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1616531725,"post_id":66770409,"comment_id":118031265,"body_markdown":"I believe you have two options - (1) Convert `rules` to a `jsonb` datatype (2) Keep `rules` as `text` data type and use ObjectMapper to marshal/unmarshal programmatically","body":"I believe you have two options - (1) Convert <code>rules</code> to a <code>jsonb</code> datatype (2) Keep <code>rules</code> as <code>text</code> data type and use ObjectMapper to marshal/unmarshal programmatically"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1616557769,"post_id":66770409,"comment_id":118037309,"body_markdown":"I have converted the column to jsonb but when I try to insert..I am getting the above error mentioned in the post","body":"I have converted the column to jsonb but when I try to insert..I am getting the above error mentioned in the post"}],"answers":[{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616564830,"creation_date":1616559455,"answer_id":66774699,"question_id":66770409,"body_markdown":"**Updated answer**&lt;br&gt;\r\n\r\n&gt; If saving in json format is not your prime concern, then you can\r\n&gt; follow this answer.\r\n\r\nYou can just do one thing to achieve it easily. Convert your key string with associated entities to a class and make it Embedded:\r\n\r\n\r\n    {&quot;key&quot;: &quot;97773e0b-3639-4af5-9585-93bc176715c0&quot;, &quot;fieldName&quot;: &quot;esn&quot;, &quot;operator&quot;: &quot;eq&quot;, &quot;operands&quot;: [&quot;599320&quot;]}.\r\n\r\n   Create the embeddable class:\r\n\r\n    @Embeddable\r\n    Public class Rules\r\n    {\r\n     private String key;\r\n    private String fieldName;\r\n    private String operator;\r\n    private String eq;\r\n    List&lt;String&gt; operands;\r\n    //getters and setters\r\n    }\r\n\r\nNow in your `SaveFilter` class, add the Rules entity with embedded annotation:\r\n\r\n     @Embedded\r\n     @Column(name=&quot;rules&quot;)\r\n     private Rules rules;\r\n\r\n\r\nThis will save your full object like a different column for each entity of the embedded object.","title":"Json is stored as = instead of : colon in postgres DB","body":"<p><strong>Updated answer</strong><br></p>\n<blockquote>\n<p>If saving in json format is not your prime concern, then you can\nfollow this answer.</p>\n</blockquote>\n<p>You can just do one thing to achieve it easily. Convert your key string with associated entities to a class and make it Embedded:</p>\n<pre><code>{&quot;key&quot;: &quot;97773e0b-3639-4af5-9585-93bc176715c0&quot;, &quot;fieldName&quot;: &quot;esn&quot;, &quot;operator&quot;: &quot;eq&quot;, &quot;operands&quot;: [&quot;599320&quot;]}.\n</code></pre>\n<p>Create the embeddable class:</p>\n<pre><code>@Embeddable\nPublic class Rules\n{\n private String key;\nprivate String fieldName;\nprivate String operator;\nprivate String eq;\nList&lt;String&gt; operands;\n//getters and setters\n}\n</code></pre>\n<p>Now in your <code>SaveFilter</code> class, add the Rules entity with embedded annotation:</p>\n<pre><code> @Embedded\n @Column(name=&quot;rules&quot;)\n private Rules rules;\n</code></pre>\n<p>This will save your full object like a different column for each entity of the embedded object.</p>\n"},{"tags":[],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673095834,"creation_date":1616603127,"answer_id":66785271,"question_id":66770409,"body_markdown":"I was able to save the jsonb object with the help of 2 things - \r\n1. Used a third-party library for Hibernate Types `implementation group: &#39;io.hypersistence&#39;, name: &#39;hypersistence-utils-hibernate-55&#39;, version: &#39;3.0.1&#39;`\r\n2. Defined a POJO called Rules and used it in DTO and Entity class \r\n\r\n\r\n   \r\n\r\n public class Rules implements Serializable{\r\n    \t\r\n    \tprivate String key;\r\n    \tprivate String fieldName;\r\n    \tprivate String operator;\r\n    \tprivate String eq;\r\n    \tList&lt;String&gt; operands;\r\n    \r\n    }\r\n\r\nMy Revised Entity class :\r\n\r\n    @Getter @Setter @AllArgsConstructor @NoArgsConstructor\r\n    @Builder(toBuilder=true)\r\n    @Table(name=&quot;saved_filters&quot;)\r\n    @TypeDef(\r\n    \t    name = &quot;jsonb&quot;,\r\n    \t    typeClass = JsonBinaryType.class\r\n    \t)\r\n    public class SavedFilter implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \r\n    \t@Column(name=&quot;name&quot;)\r\n    \tprivate String name;\r\n    \r\n      \r\n        @Column(name=&quot;rule_matching&quot;)\r\n        private String ruleMatching;\r\n        \r\n        \r\n        @Column(name=&quot;rules&quot;, columnDefinition= &quot;jsonb&quot;)\r\n        @Type(type = &quot;jsonb&quot;)\r\n        private Rules rules;\r\n    \r\n    \t@JsonIgnore\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_sso&quot;)\r\n        private User user;\r\n\r\nAnd My Revised DTO class:\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    @Data\r\n    @Getter @Setter @AllArgsConstructor @NoArgsConstructor\r\n    @Builder(toBuilder=true)\r\n    public class SavedFilterDto implements Serializable {\r\n    \r\n    \tprivate int id;\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \t@JsonProperty(&quot;rules&quot;)\r\n        private Rules rules;\r\n    \t\r\n    \tprivate String ruleMatching;\r\n    \r\n        private String sso;      \r\n    \t\r\n    }","title":"Json is stored as = instead of : colon in postgres DB","body":"<p>I was able to save the jsonb object with the help of 2 things -</p>\n<ol>\n<li>Used a third-party library for Hibernate Types <code>implementation group: 'io.hypersistence', name: 'hypersistence-utils-hibernate-55', version: '3.0.1'</code></li>\n<li>Defined a POJO called Rules and used it in DTO and Entity class</li>\n</ol>\n<p>public class Rules implements Serializable{</p>\n<pre><code>    private String key;\n    private String fieldName;\n    private String operator;\n    private String eq;\n    List&lt;String&gt; operands;\n\n}\n</code></pre>\n<p>My Revised Entity class :</p>\n<pre><code>@Getter @Setter @AllArgsConstructor @NoArgsConstructor\n@Builder(toBuilder=true)\n@Table(name=&quot;saved_filters&quot;)\n@TypeDef(\n        name = &quot;jsonb&quot;,\n        typeClass = JsonBinaryType.class\n    )\npublic class SavedFilter implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n\n    @Column(name=&quot;name&quot;)\n    private String name;\n\n  \n    @Column(name=&quot;rule_matching&quot;)\n    private String ruleMatching;\n    \n    \n    @Column(name=&quot;rules&quot;, columnDefinition= &quot;jsonb&quot;)\n    @Type(type = &quot;jsonb&quot;)\n    private Rules rules;\n\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_sso&quot;)\n    private User user;\n</code></pre>\n<p>And My Revised DTO class:</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\n@Data\n@Getter @Setter @AllArgsConstructor @NoArgsConstructor\n@Builder(toBuilder=true)\npublic class SavedFilterDto implements Serializable {\n\n    private int id;\n\n    private String name;\n    \n    @JsonProperty(&quot;rules&quot;)\n    private Rules rules;\n    \n    private String ruleMatching;\n\n    private String sso;      \n    \n}\n</code></pre>\n"}],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66785271,"answer_count":2,"score":0,"last_activity_date":1673095834,"creation_date":1616529362,"question_id":66770409,"body_markdown":"I have a Gradle spring-boot project. I want to store a json in postgres DB column(rules) and so defined the type of column as TEXT. \r\nWhen I am hitting the save endpoint via postman I am sending this data\r\n\r\n    {\r\n      &quot;rules&quot;: {&quot;key&quot;: &quot;97773e0b-3639-4af5-9585-93bc176715c0&quot;, &quot;fieldName&quot;: &quot;esn&quot;, &quot;operator&quot;: &quot;eq&quot;, &quot;operands&quot;: [&quot;599320&quot;]},\r\n      &quot;name&quot;: &quot;user&quot;,\r\n      &quot;sso&quot;: &quot;502622018&quot;,\r\n      &quot;ruleMatching&quot;: &quot;ALL&quot;\r\n    }\r\n\r\nBut when I hit the GET endpoint I am getting this response which is not a json but a kind of string where : are converted to = and the quotes are not stored.\r\n\r\n    {\r\n        &quot;id&quot;: 9,\r\n        &quot;name&quot;: &quot;user&quot;,\r\n        &quot;ruleMatching&quot;: &quot;ALL&quot;,\r\n        &quot;sso&quot;: &quot;502622018&quot;,\r\n        &quot;rules&quot;: &quot;{key=97773e0b-3639-4af5-9585-93bc176715c0, fieldName=esn, operator=eq, operands=[599320]}&quot;\r\n    }\r\n\r\nHow do I save the `rules` as a proper json in DB as TEXT type ? Any suggestion?\r\n\r\nHere is the Entity definition and the dto definition\r\n\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    @Entity\r\n    @Getter @Setter @AllArgsConstructor @NoArgsConstructor\r\n    @Builder(toBuilder=true)\r\n    @Table(name=&quot;saved_filters&quot;)\r\n    @TypeDef(\r\n    \t    name = &quot;jsonb&quot;,\r\n    \t    typeClass = JsonBinaryType.class\r\n    \t)\r\n    public class SavedFilter implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \r\n    \t@Column(name=&quot;name&quot;)\r\n    \tprivate String name;\r\n    \r\n      \r\n        @Column(name=&quot;rule_matching&quot;)\r\n        private String ruleMatching;\r\n        \r\n        \r\n        @Column(name=&quot;rules&quot;, columnDefinition= &quot;TEXT&quot;)\r\n        private String rules;\r\n    \r\n    \t@JsonIgnore\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_sso&quot;)\r\n        private User user;\r\n\r\n----DTO--\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    @Data\r\n    @Getter @Setter @AllArgsConstructor @NoArgsConstructor\r\n    @Builder(toBuilder=true)\r\n    public class SavedFilterDto implements Serializable {\r\n    \r\n    \tprivate int id;\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \t@JsonProperty(&quot;rules&quot;)\r\n        private Object rules;\r\n    \t\r\n    \tprivate String ruleMatching;\r\n    \r\n        private String sso;      \r\n    \t\r\n    }\r\n----\r\nAfter changing the column to jsonb, I am getting the following error\r\n\r\n    RemoteUserContext --&gt; ef227333-4629-4571-bf2f-210c64902eea\r\n    2021-03-23 23:42:23 [http-nio-9090-exec-1] DEBUG c.g.d.o.m.c.FilterController.createSavedFilter - Start...SavedFilterDto(id=0, name=user, rules={key=97773e0b-3639-4af5-9585-93bc176715c0, fieldName=esn, operator=eq, operands=[599320]}, ruleMatching=ALL, sso=502622018)\r\n    Hibernate: select user0_.sso as sso1_35_0_, user0_.email as email2_35_0_, user0_.first_name as first_na3_35_0_, user0_.hidden as hidden4_35_0_, user0_.last_name as last_nam5_35_0_, user0_.updated_at as updated_6_35_0_, user0_.user_id as user_id7_35_0_ from user_info user0_ where user0_.sso=?\r\n    Hibernate: insert into saved_filters (name, rule_matching, rules, user_sso) values (?, ?, ?, ?)\r\n    2021-03-23 23:42:24 [http-nio-9090-exec-1] ERROR c.g.d.o.m.e.GenericExceptionHandler.handleException - Application error\r\n    org.springframework.orm.jpa.JpaSystemException: java.lang.IllegalArgumentException: com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;k&#39; (code 107)): was expecting double-quote to start field name\r\n     at [Source: (String)&quot;{key=97773e0b-3639-4af5-9585-93bc176715c0, fieldName=esn, operator=eq, operands=[599320]}&quot;; line: 1, column: 3]; nested exception is org.hibernate.HibernateException: java.lang.IllegalArgumentException: com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;k&#39; (code 107)): was expecting double-quote to start field name\r\n     at [Source: (String)&quot;{key=97773e0b-3639-4af5-9585-93bc176715c0, fieldName=esn, operator=eq, operands=[599320]}&quot;; line: 1, column: 3]\r\n            at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:351) ~[spring-orm-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253) ~[spring-orm-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\r\n\r\nIf I change the private Object rules; in DTO to private String rules;..I am getting the following error :\r\n\r\n    2021-03-24 11:12:05 [http-nio-9090-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.logException - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token\r\n     at [Source: (PushbackInputStream); line: 2, column: 12] (through reference chain: com.ge.digital.oa.moa.dto.SavedFilterDto[&quot;rules&quot;])]","title":"Json is stored as = instead of : colon in postgres DB","body":"<p>I have a Gradle spring-boot project. I want to store a json in postgres DB column(rules) and so defined the type of column as TEXT.\nWhen I am hitting the save endpoint via postman I am sending this data</p>\n<pre><code>{\n  &quot;rules&quot;: {&quot;key&quot;: &quot;97773e0b-3639-4af5-9585-93bc176715c0&quot;, &quot;fieldName&quot;: &quot;esn&quot;, &quot;operator&quot;: &quot;eq&quot;, &quot;operands&quot;: [&quot;599320&quot;]},\n  &quot;name&quot;: &quot;user&quot;,\n  &quot;sso&quot;: &quot;502622018&quot;,\n  &quot;ruleMatching&quot;: &quot;ALL&quot;\n}\n</code></pre>\n<p>But when I hit the GET endpoint I am getting this response which is not a json but a kind of string where : are converted to = and the quotes are not stored.</p>\n<pre><code>{\n    &quot;id&quot;: 9,\n    &quot;name&quot;: &quot;user&quot;,\n    &quot;ruleMatching&quot;: &quot;ALL&quot;,\n    &quot;sso&quot;: &quot;502622018&quot;,\n    &quot;rules&quot;: &quot;{key=97773e0b-3639-4af5-9585-93bc176715c0, fieldName=esn, operator=eq, operands=[599320]}&quot;\n}\n</code></pre>\n<p>How do I save the <code>rules</code> as a proper json in DB as TEXT type ? Any suggestion?</p>\n<p>Here is the Entity definition and the dto definition</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\n@Entity\n@Getter @Setter @AllArgsConstructor @NoArgsConstructor\n@Builder(toBuilder=true)\n@Table(name=&quot;saved_filters&quot;)\n@TypeDef(\n        name = &quot;jsonb&quot;,\n        typeClass = JsonBinaryType.class\n    )\npublic class SavedFilter implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n\n    @Column(name=&quot;name&quot;)\n    private String name;\n\n  \n    @Column(name=&quot;rule_matching&quot;)\n    private String ruleMatching;\n    \n    \n    @Column(name=&quot;rules&quot;, columnDefinition= &quot;TEXT&quot;)\n    private String rules;\n\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_sso&quot;)\n    private User user;\n</code></pre>\n<p>----DTO--</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\n@Data\n@Getter @Setter @AllArgsConstructor @NoArgsConstructor\n@Builder(toBuilder=true)\npublic class SavedFilterDto implements Serializable {\n\n    private int id;\n\n    private String name;\n    \n    @JsonProperty(&quot;rules&quot;)\n    private Object rules;\n    \n    private String ruleMatching;\n\n    private String sso;      \n    \n}\n</code></pre>\n<hr />\n<p>After changing the column to jsonb, I am getting the following error</p>\n<pre><code>RemoteUserContext --&gt; ef227333-4629-4571-bf2f-210c64902eea\n2021-03-23 23:42:23 [http-nio-9090-exec-1] DEBUG c.g.d.o.m.c.FilterController.createSavedFilter - Start...SavedFilterDto(id=0, name=user, rules={key=97773e0b-3639-4af5-9585-93bc176715c0, fieldName=esn, operator=eq, operands=[599320]}, ruleMatching=ALL, sso=502622018)\nHibernate: select user0_.sso as sso1_35_0_, user0_.email as email2_35_0_, user0_.first_name as first_na3_35_0_, user0_.hidden as hidden4_35_0_, user0_.last_name as last_nam5_35_0_, user0_.updated_at as updated_6_35_0_, user0_.user_id as user_id7_35_0_ from user_info user0_ where user0_.sso=?\nHibernate: insert into saved_filters (name, rule_matching, rules, user_sso) values (?, ?, ?, ?)\n2021-03-23 23:42:24 [http-nio-9090-exec-1] ERROR c.g.d.o.m.e.GenericExceptionHandler.handleException - Application error\norg.springframework.orm.jpa.JpaSystemException: java.lang.IllegalArgumentException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('k' (code 107)): was expecting double-quote to start field name\n at [Source: (String)&quot;{key=97773e0b-3639-4af5-9585-93bc176715c0, fieldName=esn, operator=eq, operands=[599320]}&quot;; line: 1, column: 3]; nested exception is org.hibernate.HibernateException: java.lang.IllegalArgumentException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('k' (code 107)): was expecting double-quote to start field name\n at [Source: (String)&quot;{key=97773e0b-3639-4af5-9585-93bc176715c0, fieldName=esn, operator=eq, operands=[599320]}&quot;; line: 1, column: 3]\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:351) ~[spring-orm-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253) ~[spring-orm-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n</code></pre>\n<p>If I change the private Object rules; in DTO to private String rules;..I am getting the following error :</p>\n<pre><code>2021-03-24 11:12:05 [http-nio-9090-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.logException - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token\n at [Source: (PushbackInputStream); line: 2, column: 12] (through reference chain: com.ge.digital.oa.moa.dto.SavedFilterDto[&quot;rules&quot;])]\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9245,"page":747,"page_size":100}
