{"items":[{"tags":["java","html","css","responsive-design","vaadin8"],"comments":[{"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"score":0,"creation_date":1497385396,"post_id":44527157,"comment_id":76053362,"body_markdown":"can you improve your question by adding relative code needed to recreate your issue?","body":"can you improve your question by adding relative code needed to recreate your issue?"},{"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"score":0,"creation_date":1497386930,"post_id":44527157,"comment_id":76054134,"body_markdown":"this docs here might help you, https://vaadin.com/docs/-/part/framework/themes/themes-responsive.html","body":"this docs here might help you, <a href=\"https://vaadin.com/docs/-/part/framework/themes/themes-responsive.html\" rel=\"nofollow noreferrer\">vaadin.com/docs/-/part/framework/themes/themes-responsive.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":15868214,"reputation":61,"user_id":11449744,"display_name":"Susan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665764807,"creation_date":1665764807,"answer_id":74072155,"question_id":44527157,"body_markdown":"I had this same problem and was able to fix it by giving the responsive layout a width:\r\n\r\n    \tCssLayout layout = new CssLayout();\r\n\t\tlayout.setWidth(&quot;100%&quot;);\r\n    \tlayout.addStyleName(&quot;responsive&quot;);\r\n\t\tlayout.setResponsive(true);\r\n","title":"vaadin responsive not working properly","body":"<p>I had this same problem and was able to fix it by giving the responsive layout a width:</p>\n<pre><code>    CssLayout layout = new CssLayout();\n    layout.setWidth(&quot;100%&quot;);\n    layout.addStyleName(&quot;responsive&quot;);\n    layout.setResponsive(true);\n</code></pre>\n"}],"owner":{"account_id":11109732,"reputation":130,"user_id":8155897,"display_name":"dred dred"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665764807,"creation_date":1497371926,"question_id":44527157,"body_markdown":"I&#39;m using new Version of Vaadin which is 8.0.6\r\n\r\nif I open my window on  width-range~=&quot;1400px-&quot;  and go down to  width-range~=&quot;0px-760px&quot;, responsive css properties works fine, but not on the other way, If open the window on  width-range~=&quot;0px-760px&quot; and go to width-range~=&quot;1200px-&quot; nothing happens.\r\n\r\nMy observations showed that when the window is minimized vaadin injects the property &quot;width-range=[...]&quot; into HTML code to make it responsive. But when the window is maximized the property &quot;width-range=[...]&quot; stay here consequently this disrupts the display.\r\n\r\nHow can i do to update or delete the property &quot;width-range=[...]&quot; when I make the width window bigger?","title":"vaadin responsive not working properly","body":"<p>I'm using new Version of Vaadin which is 8.0.6</p>\n\n<p>if I open my window on  width-range~=\"1400px-\"  and go down to  width-range~=\"0px-760px\", responsive css properties works fine, but not on the other way, If open the window on  width-range~=\"0px-760px\" and go to width-range~=\"1200px-\" nothing happens.</p>\n\n<p>My observations showed that when the window is minimized vaadin injects the property \"width-range=[...]\" into HTML code to make it responsive. But when the window is maximized the property \"width-range=[...]\" stay here consequently this disrupts the display.</p>\n\n<p>How can i do to update or delete the property \"width-range=[...]\" when I make the width window bigger?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":8,"creation_date":1665690151,"post_id":74060974,"comment_id":130764226,"body_markdown":"You need to update `biggestASCIIValue = word.chars().sum();`","body":"You need to update <code>biggestASCIIValue = word.chars().sum();</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1665690193,"post_id":74060974,"comment_id":130764238,"body_markdown":"*For some reason the sum of word chars is giving me zero.* Why do you think so?","body":"<i>For some reason the sum of word chars is giving me zero.</i> Why do you think so?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665764704,"creation_date":1665764704,"answer_id":74072141,"question_id":74060974,"body_markdown":"Stream API offers [`Stream::max`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-) accepting a custom `Comparator`:\r\n```java\r\npublic static String highestRanking(String sentence){\r\n    return Arrays.stream(sentence.split(&quot;\\\\s+&quot;))\r\n        .max(Comparator.comparingInt(word -&gt; word.chars().sum()))\r\n        .orElse(null);\r\n}\r\n```","title":"How do I find the word with the highest sum of ASCII value from an array of Strings?","body":"<p>Stream API offers <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Stream::max</code></a> accepting a custom <code>Comparator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String highestRanking(String sentence){\n    return Arrays.stream(sentence.split(&quot;\\\\s+&quot;))\n        .max(Comparator.comparingInt(word -&gt; word.chars().sum()))\n        .orElse(null);\n}\n</code></pre>\n"}],"owner":{"account_id":25917448,"reputation":13,"user_id":19640633,"display_name":"santa_cloudy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74072141,"answer_count":1,"score":0,"last_activity_date":1665764704,"creation_date":1665689997,"question_id":74060974,"body_markdown":"I have the following code which is my attempt:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        String sample = &quot;The quick brown fox&quot;;\r\n        System.out.println(highestRanking(sample));\r\n    }\r\n\r\n\r\n    public static String highestRanking(String sentence){\r\n\r\n        String[] words = sentence.split(&quot; &quot;);\r\n        String highestWord = &quot;&quot;;\r\n        int biggestASCIIValue = 0;\r\n        for (String word : words){\r\n            if (word.chars().sum() &gt; biggestASCIIValue){\r\n                highestWord = word;\r\n            }\r\n        }\r\n        return highestWord;\r\n    }\r\n\r\n ```\r\nFor some reason the sum of word chars is giving me zero. I found this method [here][1].\r\nAny ideas why my code doesn&#39;t seem to work?\r\nThank you\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54730432/how-do-find-the-sum-of-an-ascii-array","title":"How do I find the word with the highest sum of ASCII value from an array of Strings?","body":"<p>I have the following code which is my attempt:</p>\n<pre><code>    public static void main(String[] args) {\n        String sample = &quot;The quick brown fox&quot;;\n        System.out.println(highestRanking(sample));\n    }\n\n\n    public static String highestRanking(String sentence){\n\n        String[] words = sentence.split(&quot; &quot;);\n        String highestWord = &quot;&quot;;\n        int biggestASCIIValue = 0;\n        for (String word : words){\n            if (word.chars().sum() &gt; biggestASCIIValue){\n                highestWord = word;\n            }\n        }\n        return highestWord;\n    }\n\n</code></pre>\n<p>For some reason the sum of word chars is giving me zero. I found this method <a href=\"https://stackoverflow.com/questions/54730432/how-do-find-the-sum-of-an-ascii-array\">here</a>.\nAny ideas why my code doesn't seem to work?\nThank you</p>\n"},{"tags":["java","android","eclipse","expandablelistview"],"answers":[{"comments":[{"owner":{"account_id":2858696,"reputation":6444,"user_id":2454356,"accept_rate":98,"display_name":"Guy"},"score":0,"creation_date":1379835710,"post_id":18941494,"comment_id":27969775,"body_markdown":"Thanks for the reply, I changed the XML, but the problem is still in the java code. It still underlines &quot;newGroupView&quot; because there&#39;s no such method in my code.","body":"Thanks for the reply, I changed the XML, but the problem is still in the java code. It still underlines &quot;newGroupView&quot; because there&#39;s no such method in my code."}],"tags":[],"owner":{"account_id":371521,"reputation":4537,"user_id":720097,"accept_rate":88,"display_name":"Alexander.Iljushkin"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1379837599,"creation_date":1379835569,"answer_id":18941494,"question_id":18941405,"body_markdown":"Here&#39;s an example of custom expandable list view: \r\n\r\nWhat you want to see if you apply this code in your new project:\r\n\r\n![enter image description here][1]\r\n\r\ncreate this code into activity \r\n\r\n    public class ExpActivity extends Activity\r\n    {\r\n        \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            \r\n            // Находим наш list \r\n            ExpandableListView listView = (ExpandableListView)findViewById(R.id.exListView);\r\n            \r\n            //Создаем набор данных для адаптера        \r\n            ArrayList&lt;ArrayList&lt;String&gt;&gt; groups = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n            ArrayList&lt;String&gt; children1 = new ArrayList&lt;String&gt;();\r\n            ArrayList&lt;String&gt; children2 = new ArrayList&lt;String&gt;();\r\n            children1.add(&quot;Child_1&quot;);\r\n            children1.add(&quot;Child_2&quot;);\r\n            groups.add(children1);\r\n            children2.add(&quot;Child_1&quot;);\r\n            children2.add(&quot;Child_2&quot;);\r\n            children2.add(&quot;Child_3&quot;);\r\n            groups.add(children2);       \r\n           //Создаем адаптер и передаем context и список с данными\r\n            ExpListAdapter adapter = new ExpListAdapter(getApplicationContext(), groups);\r\n            listView.setAdapter(adapter);\r\n        }\r\n    } \r\n\r\n\r\nadd expandableListView into main.xml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        &gt;\r\n    &lt;ExpandableListView\r\n            android:id=&quot;@+id/exListView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:indicatorLeft=&quot;250dp&quot;\r\n            android:indicatorRight=&quot;300dp&quot;\r\n        /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\ncreate an adapter class\r\n\r\n    public class ExpListAdapter extends BaseExpandableListAdapter {\r\n    \r\n        private ArrayList&lt;ArrayList&lt;String&gt;&gt; mGroups;\r\n        private Context mContext;\r\n      \r\n        public ExpListAdapter (Context context,ArrayList&lt;ArrayList&lt;String&gt;&gt; groups){\r\n            mContext = context;\r\n            mGroups = groups;\r\n        }\r\n        \r\n        @Override\r\n        public int getGroupCount() {\r\n            return mGroups.size();\r\n        }\r\n    \r\n        @Override\r\n        public int getChildrenCount(int groupPosition) {\r\n            return mGroups.get(groupPosition).size();\r\n        }\r\n    \r\n        @Override\r\n        public Object getGroup(int groupPosition) {\r\n            return mGroups.get(groupPosition);\r\n        }\r\n    \r\n        @Override\r\n        public Object getChild(int groupPosition, int childPosition) {\r\n            return mGroups.get(groupPosition).get(childPosition);\r\n        }\r\n    \r\n        @Override\r\n        public long getGroupId(int groupPosition) {\r\n            return groupPosition;\r\n        }\r\n    \r\n        @Override\r\n        public long getChildId(int groupPosition, int childPosition) {\r\n            return childPosition;\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasStableIds() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public View getGroupView(int groupPosition, boolean isExpanded, View convertView,\r\n                                 ViewGroup parent) {\r\n    \r\n            if (convertView == null) {\r\n                LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                convertView = inflater.inflate(R.layout.group_view, null);\r\n            }\r\n    \r\n            if (isExpanded){\r\n               //Изменяем что-нибудь, если текущая Group раскрыта\r\n            }\r\n            else{\r\n                //Изменяем что-нибудь, если текущая Group скрыта\r\n            }\r\n    \r\n            TextView textGroup = (TextView) convertView.findViewById(R.id.textGroup);\r\n            textGroup.setText(&quot;Group &quot; + Integer.toString(groupPosition));\r\n    \r\n            return convertView;\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View getChildView(int groupPosition, int childPosition, boolean isLastChild,\r\n                                 View convertView, ViewGroup parent) {\r\n            if (convertView == null) {\r\n                LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                convertView = inflater.inflate(R.layout.child_view, null);\r\n            }\r\n    \r\n            TextView textChild = (TextView) convertView.findViewById(R.id.textChild);\r\n            textChild.setText(mGroups.get(groupPosition).get(childPosition));\r\n    \r\n            Button button = (Button)convertView.findViewById(R.id.buttonChild);\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Toast.makeText(mContext,&quot;button is pressed&quot;,5000).show();\r\n                }\r\n            });\r\n    \r\n            return convertView;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isChildSelectable(int groupPosition, int childPosition) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\nthe names of methods and parameters is quite informative. methods getGroupView and getChildView returns View for p`parents` and `children` accordingly. using the parameter isExpanded in the method getGroupView, we ca, for instance, change the back of group in different states. using LayoutInflater we use custom layout for our list.\r\n\r\ngroup_view.xml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                  android:layout_width=&quot;match_parent&quot;\r\n                  android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;TextView\r\n                android:id=&quot;@+id/textGroup&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\nchild_view.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                  android:layout_width=&quot;match_parent&quot;\r\n                  android:layout_height=&quot;match_parent&quot;&gt;\r\n      &lt;TextView\r\n         android:id=&quot;@+id/textChild&quot;\r\n         android:layout_width=&quot;wrap_content&quot;\r\n         android:layout_height=&quot;40dp&quot;\r\n         android:layout_marginLeft=&quot;20dp&quot;\r\n         android:layout_marginTop=&quot;20dp&quot;\r\n         android:textColor=&quot;@android:color/white&quot;\r\n         /&gt;\r\n      &lt;Button\r\n         android:id=&quot;@+id/buttonChild&quot;\r\n         android:layout_width=&quot;100dp&quot;\r\n         android:layout_height=&quot;40dp&quot;\r\n         android:layout_marginLeft=&quot;150dp&quot;\r\n         android:layout_marginTop=&quot;10dp&quot;\r\n         android:text=&quot;Button&quot;\r\n         android:focusable=&quot;false&quot;\r\n         /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nin the child view we added a button, in the adapter method getChildView controlling its pressed. in the similar way we can add buttons and other elements in group_view.xml .\r\n\r\n\r\nalso, we can pin listeners  to our list.\r\n\r\n\r\n•OnChildClickListener — pressing on an element\r\n•OnGroupCollapseListener – collapsing group\r\n•OnGroupExpandListener – expanding group\r\n•OnGroupClickListener – press on group\r\n\r\n\r\nnow lets look at groupIndicater - indicator of the group state. it&#39;s placement pointed in main.xml with parameters indicatorLeft, indicatorRigh - corresponding to left and right border. by default the indicator placed on the left side, what is not so cool.\r\n\r\nalso we can add custom images, for that, we need to add indicator.xml in the folder drawable with this code.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_expanded=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/imageOpen&quot;&gt;\r\n        &lt;/item&gt;\r\n        &lt;item android:state_empty=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/imageClose&quot;&gt;\r\n        &lt;/item&gt;\r\n    &lt;/selector&gt;\r\n\r\nwhere imageOpen is for expanded group\r\nimageClose is for collapsed group\r\n\r\nnext time we need to add a row for parameters of our list in main.xml \r\n\r\n    android:groupIndicator=&quot;@drawable/indicator&quot;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/tV1tY.jpg","title":"Changing the location of indicator in ExpandableListView causing problems","body":"<p>Here's an example of custom expandable list view: </p>\n\n<p>What you want to see if you apply this code in your new project:</p>\n\n<p><img src=\"https://i.stack.imgur.com/tV1tY.jpg\" alt=\"enter image description here\"></p>\n\n<p>create this code into activity </p>\n\n<pre><code>public class ExpActivity extends Activity\n{\n\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        // Находим наш list \n        ExpandableListView listView = (ExpandableListView)findViewById(R.id.exListView);\n\n        //Создаем набор данных для адаптера        \n        ArrayList&lt;ArrayList&lt;String&gt;&gt; groups = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n        ArrayList&lt;String&gt; children1 = new ArrayList&lt;String&gt;();\n        ArrayList&lt;String&gt; children2 = new ArrayList&lt;String&gt;();\n        children1.add(\"Child_1\");\n        children1.add(\"Child_2\");\n        groups.add(children1);\n        children2.add(\"Child_1\");\n        children2.add(\"Child_2\");\n        children2.add(\"Child_3\");\n        groups.add(children2);       \n       //Создаем адаптер и передаем context и список с данными\n        ExpListAdapter adapter = new ExpListAdapter(getApplicationContext(), groups);\n        listView.setAdapter(adapter);\n    }\n} \n</code></pre>\n\n<p>add expandableListView into main.xml </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    &gt;\n&lt;ExpandableListView\n        android:id=\"@+id/exListView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:indicatorLeft=\"250dp\"\n        android:indicatorRight=\"300dp\"\n    /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>create an adapter class</p>\n\n<pre><code>public class ExpListAdapter extends BaseExpandableListAdapter {\n\n    private ArrayList&lt;ArrayList&lt;String&gt;&gt; mGroups;\n    private Context mContext;\n\n    public ExpListAdapter (Context context,ArrayList&lt;ArrayList&lt;String&gt;&gt; groups){\n        mContext = context;\n        mGroups = groups;\n    }\n\n    @Override\n    public int getGroupCount() {\n        return mGroups.size();\n    }\n\n    @Override\n    public int getChildrenCount(int groupPosition) {\n        return mGroups.get(groupPosition).size();\n    }\n\n    @Override\n    public Object getGroup(int groupPosition) {\n        return mGroups.get(groupPosition);\n    }\n\n    @Override\n    public Object getChild(int groupPosition, int childPosition) {\n        return mGroups.get(groupPosition).get(childPosition);\n    }\n\n    @Override\n    public long getGroupId(int groupPosition) {\n        return groupPosition;\n    }\n\n    @Override\n    public long getChildId(int groupPosition, int childPosition) {\n        return childPosition;\n    }\n\n    @Override\n    public boolean hasStableIds() {\n        return true;\n    }\n\n    @Override\n    public View getGroupView(int groupPosition, boolean isExpanded, View convertView,\n                             ViewGroup parent) {\n\n        if (convertView == null) {\n            LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            convertView = inflater.inflate(R.layout.group_view, null);\n        }\n\n        if (isExpanded){\n           //Изменяем что-нибудь, если текущая Group раскрыта\n        }\n        else{\n            //Изменяем что-нибудь, если текущая Group скрыта\n        }\n\n        TextView textGroup = (TextView) convertView.findViewById(R.id.textGroup);\n        textGroup.setText(\"Group \" + Integer.toString(groupPosition));\n\n        return convertView;\n\n    }\n\n    @Override\n    public View getChildView(int groupPosition, int childPosition, boolean isLastChild,\n                             View convertView, ViewGroup parent) {\n        if (convertView == null) {\n            LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            convertView = inflater.inflate(R.layout.child_view, null);\n        }\n\n        TextView textChild = (TextView) convertView.findViewById(R.id.textChild);\n        textChild.setText(mGroups.get(groupPosition).get(childPosition));\n\n        Button button = (Button)convertView.findViewById(R.id.buttonChild);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(mContext,\"button is pressed\",5000).show();\n            }\n        });\n\n        return convertView;\n    }\n\n    @Override\n    public boolean isChildSelectable(int groupPosition, int childPosition) {\n        return true;\n    }\n}\n</code></pre>\n\n<p>the names of methods and parameters is quite informative. methods getGroupView and getChildView returns View for p<code>parents</code> and <code>children</code> accordingly. using the parameter isExpanded in the method getGroupView, we ca, for instance, change the back of group in different states. using LayoutInflater we use custom layout for our list.</p>\n\n<p>group_view.xml </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"&gt;\n    &lt;TextView\n            android:id=\"@+id/textGroup\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"50dp\"\n            android:layout_marginLeft=\"5dp\"\n            android:layout_marginTop=\"20dp\"\n            android:textColor=\"@android:color/white\"\n            android:textStyle=\"bold\"\n            /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>child_view.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"&gt;\n  &lt;TextView\n     android:id=\"@+id/textChild\"\n     android:layout_width=\"wrap_content\"\n     android:layout_height=\"40dp\"\n     android:layout_marginLeft=\"20dp\"\n     android:layout_marginTop=\"20dp\"\n     android:textColor=\"@android:color/white\"\n     /&gt;\n  &lt;Button\n     android:id=\"@+id/buttonChild\"\n     android:layout_width=\"100dp\"\n     android:layout_height=\"40dp\"\n     android:layout_marginLeft=\"150dp\"\n     android:layout_marginTop=\"10dp\"\n     android:text=\"Button\"\n     android:focusable=\"false\"\n     /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>in the child view we added a button, in the adapter method getChildView controlling its pressed. in the similar way we can add buttons and other elements in group_view.xml .</p>\n\n<p>also, we can pin listeners  to our list.</p>\n\n<p>•OnChildClickListener — pressing on an element\n•OnGroupCollapseListener – collapsing group\n•OnGroupExpandListener – expanding group\n•OnGroupClickListener – press on group</p>\n\n<p>now lets look at groupIndicater - indicator of the group state. it's placement pointed in main.xml with parameters indicatorLeft, indicatorRigh - corresponding to left and right border. by default the indicator placed on the left side, what is not so cool.</p>\n\n<p>also we can add custom images, for that, we need to add indicator.xml in the folder drawable with this code.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:state_expanded=\"true\"\n          android:drawable=\"@drawable/imageOpen\"&gt;\n    &lt;/item&gt;\n    &lt;item android:state_empty=\"true\"\n          android:drawable=\"@drawable/imageClose\"&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>where imageOpen is for expanded group\nimageClose is for collapsed group</p>\n\n<p>next time we need to add a row for parameters of our list in main.xml </p>\n\n<pre><code>android:groupIndicator=\"@drawable/indicator\"\n</code></pre>\n"}],"owner":{"account_id":2858696,"reputation":6444,"user_id":2454356,"accept_rate":98,"display_name":"Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11778,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18941494,"answer_count":1,"score":3,"last_activity_date":1665764282,"creation_date":1379834842,"question_id":18941405,"body_markdown":"I&#39;m trying to set my indicator to be next to the textview, but I just can&#39;t get the right code to do it.\r\n\r\nXML:\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/lblListHeader&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:paddingLeft=&quot;?android:attr/expandableListPreferredItemPaddingLeft&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:textSize=&quot;17dp&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_toLeftOf=&quot;@+id/lblListHeader&quot;\r\n        android:src=&quot;@drawable/custom_arrow&quot; /&gt;\r\n\r\nThis is the only stack of code that I have found researching but I can&#39;t get it to work:\r\n\r\n    //inside getGropView method\r\n    View v;\r\n        if (convertView == null) {\r\n            v = newGroupView(isExpanded, parent);\r\n        } else {\r\n            v = convertView;\r\n        }\r\n        bindView(v, mGroupData.get(groupPosition), mGroupFrom, mGroupTo);\r\n        ((ImageView) v.findViewById(R.id.videos_group_indicator))\r\n        .setImageResource(isExpanded?R.drawable.videos_chevron_expanded:R.drawable.videos_chevron_collapsed);\r\n        return v;\r\n\r\nThe main problem is that it &quot;underlines&quot; the newGroupView method etc. because I don&#39;t have such method and it is not mentioned how to create it in the [example][1] I was looking at.\r\n\r\nAlso, once I get the solution, could someone please try and explain this code to me? I have read it through a lot of time and I just can&#39;t get myself to understand it, I&#39;m a beginner.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5132699/android-how-to-change-the-position-of-expandablelistview-indicator","title":"Changing the location of indicator in ExpandableListView causing problems","body":"<p>I'm trying to set my indicator to be next to the textview, but I just can't get the right code to do it.</p>\n<p>XML:</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/lblListHeader&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center&quot;\n    android:paddingLeft=&quot;?android:attr/expandableListPreferredItemPaddingLeft&quot;\n    android:textColor=&quot;#000000&quot;\n    android:textSize=&quot;17dp&quot; /&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/imageView1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentLeft=&quot;true&quot;\n    android:layout_toLeftOf=&quot;@+id/lblListHeader&quot;\n    android:src=&quot;@drawable/custom_arrow&quot; /&gt;\n</code></pre>\n<p>This is the only stack of code that I have found researching but I can't get it to work:</p>\n<pre><code>//inside getGropView method\nView v;\n    if (convertView == null) {\n        v = newGroupView(isExpanded, parent);\n    } else {\n        v = convertView;\n    }\n    bindView(v, mGroupData.get(groupPosition), mGroupFrom, mGroupTo);\n    ((ImageView) v.findViewById(R.id.videos_group_indicator))\n    .setImageResource(isExpanded?R.drawable.videos_chevron_expanded:R.drawable.videos_chevron_collapsed);\n    return v;\n</code></pre>\n<p>The main problem is that it &quot;underlines&quot; the newGroupView method etc. because I don't have such method and it is not mentioned how to create it in the <a href=\"https://stackoverflow.com/questions/5132699/android-how-to-change-the-position-of-expandablelistview-indicator\">example</a> I was looking at.</p>\n<p>Also, once I get the solution, could someone please try and explain this code to me? I have read it through a lot of time and I just can't get myself to understand it, I'm a beginner.</p>\n"},{"tags":["java","quarkus","jetbrains-fleet"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1665758561,"post_id":74069814,"comment_id":130779921,"body_markdown":"Quarkus automatically enables debugging in dev-mode but only for `localhost`. Can you try running `mvn quarkus:dev -DdebugHost=*`?","body":"Quarkus automatically enables debugging in dev-mode but only for <code>localhost</code>. Can you try running <code>mvn quarkus:dev -DdebugHost=*</code>?"},{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1665762410,"post_id":74069814,"comment_id":130781375,"body_markdown":"Hello, see my answer. And please, could you remove fleet tag on your question ? It doesn&#39;t refer to Jetbrains&#39;s IDE Fleet. Thanks !","body":"Hello, see my answer. And please, could you remove fleet tag on your question ? It doesn&#39;t refer to Jetbrains&#39;s IDE Fleet. Thanks !"}],"answers":[{"comments":[{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1665990430,"post_id":74071739,"comment_id":130819807,"body_markdown":"Can you actually add this on the configuration so that when you press run and the maven command autoruns the quarkus application on dev mode the debugger also attaches?","body":"Can you actually add this on the configuration so that when you press run and the maven command autoruns the quarkus application on dev mode the debugger also attaches?"},{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1665992407,"post_id":74071739,"comment_id":130820436,"body_markdown":"Unfortunately, I have not found anything that indicate we can do this at the moment. It may be added in next releases.","body":"Unfortunately, I have not found anything that indicate we can do this at the moment. It may be added in next releases."},{"owner":{"account_id":3341532,"reputation":486,"user_id":2807723,"accept_rate":43,"display_name":"AhmedRana"},"score":0,"creation_date":1667222798,"post_id":74071739,"comment_id":131112463,"body_markdown":"Can you reload classes in attach mode of debugger?","body":"Can you reload classes in attach mode of debugger?"}],"tags":[],"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665762193,"creation_date":1665762193,"answer_id":74071739,"question_id":74069814,"body_markdown":"I think we have 2 ways we can try to achieve this.\r\n\r\nYou can either launch your run configuration as &quot;Run and Debug&quot;, or attach manually debugger.\r\n\r\n### First method Run and Debug\r\nGo to your Action panel, then type &quot;run &amp; debug&quot;\r\n\r\n[![Action Panel][1]][1]\r\n\r\nOnce open, you just have to select your usual run config\r\n\r\n[![Run Debug Panel][2]][2]\r\n\r\n## Second method manual Attach\r\n\r\nGo to your Action panel, then search for &quot;attach to process&quot;\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIt&#39;ll open panel where you can manually type, or select from the list, the one you need to debug\r\n\r\nHope this helps !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QaGXx.png\r\n  [2]: https://i.stack.imgur.com/PwBdI.png\r\n  [3]: https://i.stack.imgur.com/WUS9o.png","title":"Jetbrains Fleet how to attach debugger","body":"<p>I think we have 2 ways we can try to achieve this.</p>\n<p>You can either launch your run configuration as &quot;Run and Debug&quot;, or attach manually debugger.</p>\n<h3>First method Run and Debug</h3>\n<p>Go to your Action panel, then type &quot;run &amp; debug&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/QaGXx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QaGXx.png\" alt=\"Action Panel\" /></a></p>\n<p>Once open, you just have to select your usual run config</p>\n<p><a href=\"https://i.stack.imgur.com/PwBdI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PwBdI.png\" alt=\"Run Debug Panel\" /></a></p>\n<h2>Second method manual Attach</h2>\n<p>Go to your Action panel, then search for &quot;attach to process&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/WUS9o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WUS9o.png\" alt=\"enter image description here\" /></a></p>\n<p>It'll open panel where you can manually type, or select from the list, the one you need to debug</p>\n<p>Hope this helps !</p>\n"}],"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1782,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74071739,"answer_count":1,"score":2,"last_activity_date":1665763522,"creation_date":1665753321,"question_id":74069814,"body_markdown":"Hello as some of you already saw the new Fleet IDE from JetBrains has been released and I was curious to try it and learn more. I&#39;m not sure if this is the best place to ask this question but I can&#39;t find how to debug a quarkus application without the main function. Fleet provides you with the maven commands and it runs quarkus on dev mode correctly but the debugger does not work. I have searched on how to attach a debugger on port 5005 but I don&#39;t seem to find anything that solved my problem. If anyone knows how to attach the debugger on port 5005 in Fleet let me know.","title":"Jetbrains Fleet how to attach debugger","body":"<p>Hello as some of you already saw the new Fleet IDE from JetBrains has been released and I was curious to try it and learn more. I'm not sure if this is the best place to ask this question but I can't find how to debug a quarkus application without the main function. Fleet provides you with the maven commands and it runs quarkus on dev mode correctly but the debugger does not work. I have searched on how to attach a debugger on port 5005 but I don't seem to find anything that solved my problem. If anyone knows how to attach the debugger on port 5005 in Fleet let me know.</p>\n"},{"tags":["java","debugging"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":3,"creation_date":1593395480,"post_id":62630052,"comment_id":110756647,"body_markdown":"Hey! Do you understand what those errors are telling you and why? Have you done any research on the errors? Those are very trivial errors, trust me, you can solve them yourself if you put a little effort into research and debugging.","body":"Hey! Do you understand what those errors are telling you and why? Have you done any research on the errors? Those are very trivial errors, trust me, you can solve them yourself if you put a little effort into research and debugging."},{"owner":{"account_id":14248629,"reputation":281,"user_id":10292838,"display_name":"N.Neupane"},"score":0,"creation_date":1593395958,"post_id":62630052,"comment_id":110756719,"body_markdown":"Please research about typecasting. you can do it yourself","body":"Please research about typecasting. you can do it yourself"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593395915,"creation_date":1593395915,"answer_id":62630142,"question_id":62630052,"body_markdown":"These compilation errors occur on specific nodes in your code; your editor will highlight these with a red wavy underline. If you don&#39;t have a smart editor, strongly consider getting one (I recommend Eclipse or Intellij); but even then, javac will print the relevant line and then a line with `^` symbols to point at the exact part of the line.\r\n\r\nThat&#39;s where the problem lies. Then just.. read the error, apply it to the node that the error is pointing at.\r\n\r\nFor example, `incompatible types: possible lossy conversion from double to int` means just what it says: You&#39;re taking a value of type `double`, and trying to assign it to an `int`, and this might lead to lost info.\r\n\r\nAn `int` is a whole number between about minus and plus 2 billion. A `double` has a fractional part. So, if `Cost` is 3, then `3 * 1.15` is `3.45`, and.. now what? `TotalCost` can&#39;t be `3.45` (it is an int; it can only be 3 or 4).\r\n\r\nYou can fix this by telling the compiler what you want it to do. For example, `int TotalCost = (int) (Cost * 1.15);` is asking the compiler: Please convert this double to an int explicitly, and the java language specification then states that this particular strategy will lop off the decimal bits (so, round down if positive, up if negative).\r\n\r\nThe next error concerns &#39;Cannot find symbol&#39;. You&#39;re using a symbol (that&#39;d be an identifier or some other word that refers to something else in your code) and the compiler has no idea what you&#39;re talking about.\r\n\r\nFor example, `CeilingArea` in `int PaintCost = CeilingArea * 1.13` is not a known symbol there. Seems weird, right? `CeilingArea` is right there in your code, about 6 lines up. But, the error isn&#39;t lying to you, so you&#39;d do some research, or just think about it for a second.\r\n\r\nIn java, a variable does not exist outside the nearest brackets (the {}). The bracket that closes the `if (x == 2)` block also means the `CeilingArea` variable you declared inside it ceases to exist. This is logical; what if `x wasn&#39;t `2`? In fact, had the code compiled, weird stuff would happen: What would `CeilingArea` even be? Not `12 * 7`; x wasn&#39;t 2, that line did not run. So, the idea that java doesn&#39;t allow `CeilingArea` to exist outside of the nearest brackets makes inherent sense.\r\n\r\nTo fix that, well, your code isn&#39;t clear, so you need to think about what this means. if you want `CeilingArea` to survive outside the brackets, declare it outside of them (the way you did with the `Money` variable), for example.\r\n\r\n\r\nDebugger refers to code that compiles fine but doesn&#39;t do what you expected it to. Fixing compiler errors isn&#39;t &#39;debugging&#39;. Hence, tools to debug (such as debuggers) don&#39;t apply. There is no easy fix; learn java so that you understand the compiler errors. Which takes some weeks / months / years, at least, it did for me :)\r\n","title":"Debugging error: incompatible types: possible lossy conversion from double to int","body":"<p>These compilation errors occur on specific nodes in your code; your editor will highlight these with a red wavy underline. If you don't have a smart editor, strongly consider getting one (I recommend Eclipse or Intellij); but even then, javac will print the relevant line and then a line with <code>^</code> symbols to point at the exact part of the line.</p>\n<p>That's where the problem lies. Then just.. read the error, apply it to the node that the error is pointing at.</p>\n<p>For example, <code>incompatible types: possible lossy conversion from double to int</code> means just what it says: You're taking a value of type <code>double</code>, and trying to assign it to an <code>int</code>, and this might lead to lost info.</p>\n<p>An <code>int</code> is a whole number between about minus and plus 2 billion. A <code>double</code> has a fractional part. So, if <code>Cost</code> is 3, then <code>3 * 1.15</code> is <code>3.45</code>, and.. now what? <code>TotalCost</code> can't be <code>3.45</code> (it is an int; it can only be 3 or 4).</p>\n<p>You can fix this by telling the compiler what you want it to do. For example, <code>int TotalCost = (int) (Cost * 1.15);</code> is asking the compiler: Please convert this double to an int explicitly, and the java language specification then states that this particular strategy will lop off the decimal bits (so, round down if positive, up if negative).</p>\n<p>The next error concerns 'Cannot find symbol'. You're using a symbol (that'd be an identifier or some other word that refers to something else in your code) and the compiler has no idea what you're talking about.</p>\n<p>For example, <code>CeilingArea</code> in <code>int PaintCost = CeilingArea * 1.13</code> is not a known symbol there. Seems weird, right? <code>CeilingArea</code> is right there in your code, about 6 lines up. But, the error isn't lying to you, so you'd do some research, or just think about it for a second.</p>\n<p>In java, a variable does not exist outside the nearest brackets (the {}). The bracket that closes the <code>if (x == 2)</code> block also means the <code>CeilingArea</code> variable you declared inside it ceases to exist. This is logical; what if <code>x wasn't </code>2<code>? In fact, had the code compiled, weird stuff would happen: What would </code>CeilingArea<code>even be? Not</code>12 * 7<code>; x wasn't 2, that line did not run. So, the idea that java doesn't allow </code>CeilingArea` to exist outside of the nearest brackets makes inherent sense.</p>\n<p>To fix that, well, your code isn't clear, so you need to think about what this means. if you want <code>CeilingArea</code> to survive outside the brackets, declare it outside of them (the way you did with the <code>Money</code> variable), for example.</p>\n<p>Debugger refers to code that compiles fine but doesn't do what you expected it to. Fixing compiler errors isn't 'debugging'. Hence, tools to debug (such as debuggers) don't apply. There is no easy fix; learn java so that you understand the compiler errors. Which takes some weeks / months / years, at least, it did for me :)</p>\n"}],"owner":{"account_id":18954681,"reputation":1,"user_id":13831543,"display_name":"Caoimhe Provost"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665763288,"answer_count":1,"score":0,"last_activity_date":1665763319,"creation_date":1593394783,"question_id":62630052,"body_markdown":"I&#39;m a beginner with java, and I have written this code. When I attempt to run it, it keeps displaying errors like:\r\n- error: incompatible types: possible lossy conversion from double to int\r\n- error: cannot find symbol\r\n\r\nCould someone explain how I might un-bug this as a beginner. \r\n\r\n```\r\npublic class JavaJoeWeek{\r\n\r\n    public static void main (String[] args){\r\n\r\n\t\tint x = 1;\r\n\t\tint Money = 200;\r\n\t\tint Twenty, Ten, Toonie, Loonie, Quarter, Dime, Nickel = 0;\t\r\n\t\twhile (x &lt; 8){\r\n\t\t\tSystem.out.println(&quot;Today is day &quot; + x + &quot; of the week&quot;);\r\n\t\tif (x == 1) {\r\n\t\t\tint Cost = 30;\r\n\t\t\tint TotalCost = Cost * 1.15;\r\n\t\t\tSystem.out.println(&quot;The cost of the shoes is $&quot; + TotalCost);\r\n\t        Money = Money - TotalCost;\r\n\t\t\tSystem.out.println(&quot;The remaining budget is $&quot; + Money );\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tif (x == 2) {\r\n\t\t\tint CeilingArea = 12 * 7;\r\n\t\t\tSystem.out.println(&quot;The area of the celing is &quot; + CeilingArea + &quot; square meters&quot;);\r\n\t\t\tSystem.out.println(&quot;The remaining budget is $&quot; + Money );\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tif (x == 3) {\r\n\t\t\tint PaintCost = CeilingArea * 1.13;\r\n\t\t\tSystem.out.println(&quot;The paint cost $&quot; + PaintCost);\r\n\t\t\tMoney = Money - PaintCost;\r\n\t\t\tSystem.out.println(&quot;The remaining budget is $&quot; + Money );\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tif (x == 4) {\r\n\t\t\tint Gas = 36.40 / 0.45;\r\n\t\t\tSystem.out.println(&quot;Java Joe filled up his tank with &quot; + Gas + &quot; liters of gas&quot;);\r\n\t        Money = Money - Gas;\r\n\t\t\tSystem.out.println(&quot;The remaining budget is $&quot; + Money );\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tif (x == 5) {\r\n\t\t\tSystem.out.println(&quot;The remaining budget is $&quot; + Money );\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tif (x == 6) {\r\n\t        Money = Money - 23;\r\n\t\t\tSystem.out.println(&quot;The remaining budget is $&quot; + Money );\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tif (x == 7) {\r\n\t\t\tif (Money &gt; 20) {\r\n\t\t\t\tMoney = Money - 20;\r\n\t\t\t\tTwenty =  Twenty + 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tSystem.out.println(&quot;Java Joe has &quot; + Twenty + &quot; twenty dollar bills&quot;);\r\n\t\t\t}\r\n\t\t\tif (Money &gt; 10) {\r\n\t\t\t\tMoney = Money - 10;\r\n\t\t\t\tTen =  Ten + 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tSystem.out.println(&quot;Java Joe has &quot; + Ten + &quot; ten dollar bills&quot;);\r\n\t\t\t}\t\r\n\t\t\tif (Money &gt; 2) {\r\n\t\t\t\tMoney = Money - 2;\r\n\t\t\t\tToonie =  Toonie + 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tSystem.out.println(&quot;Java Joe has &quot; + Toonie + &quot; toonies&quot;);\r\n\t\t\t}\r\n\t\t\tif (Money &gt; 20) {\r\n\t\t\t\tMoney = Money - 20;\r\n\t\t\t\tLoonie =  Loonie + 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tSystem.out.println(&quot;Java Joe has &quot; + Loonie + &quot; loonies&quot;);\r\n\t\t\t}\r\n\t\t\tif (Money &gt; 0.25) {\r\n\t\t\t\tMoney = Money - 0.25;\r\n\t\t\t\tQuarter =  Quarter + 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tSystem.out.println(&quot;Java Joe has &quot; + Quarter + &quot; quarters&quot;);\r\n\t\t\t}\r\n\t\t\tif (Money &gt; 0.1) {\r\n\t\t\t\tMoney = Money - 0.1;\r\n\t\t\t\tDime =  Dime + 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tSystem.out.println(&quot;Java Joe has &quot; + Dime + &quot; dimes&quot;);\r\n\t\t\t}\r\n\t\t\tif (Money &gt; 0.05) {\r\n\t\t\t\tMoney = Money - 0.05;\r\n\t\t\t\tNickel =  Nickel + 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tSystem.out.println(&quot;Java Joe has &quot; + Nickel + &quot; nickels&quot;);\r\n\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;There is $&quot; + Money + &quot; left after the change&quot; );\r\n\t\t}\r\n\t\telse{\r\n\t\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tx = x + 1;\r\n\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n    }\r\n```\r\n\r\nThank you so much!","title":"Debugging error: incompatible types: possible lossy conversion from double to int","body":"<p>I'm a beginner with java, and I have written this code. When I attempt to run it, it keeps displaying errors like:</p>\n<ul>\n<li>error: incompatible types: possible lossy conversion from double to int</li>\n<li>error: cannot find symbol</li>\n</ul>\n<p>Could someone explain how I might un-bug this as a beginner.</p>\n<pre><code>public class JavaJoeWeek{\n\n    public static void main (String[] args){\n\n        int x = 1;\n        int Money = 200;\n        int Twenty, Ten, Toonie, Loonie, Quarter, Dime, Nickel = 0; \n        while (x &lt; 8){\n            System.out.println(&quot;Today is day &quot; + x + &quot; of the week&quot;);\n        if (x == 1) {\n            int Cost = 30;\n            int TotalCost = Cost * 1.15;\n            System.out.println(&quot;The cost of the shoes is $&quot; + TotalCost);\n            Money = Money - TotalCost;\n            System.out.println(&quot;The remaining budget is $&quot; + Money );\n        }\n        else{\n            System.out.println();\n        }\n        if (x == 2) {\n            int CeilingArea = 12 * 7;\n            System.out.println(&quot;The area of the celing is &quot; + CeilingArea + &quot; square meters&quot;);\n            System.out.println(&quot;The remaining budget is $&quot; + Money );\n        }\n        else{\n            System.out.println();\n        }\n        if (x == 3) {\n            int PaintCost = CeilingArea * 1.13;\n            System.out.println(&quot;The paint cost $&quot; + PaintCost);\n            Money = Money - PaintCost;\n            System.out.println(&quot;The remaining budget is $&quot; + Money );\n        }\n        else{\n            System.out.println();\n        }\n        if (x == 4) {\n            int Gas = 36.40 / 0.45;\n            System.out.println(&quot;Java Joe filled up his tank with &quot; + Gas + &quot; liters of gas&quot;);\n            Money = Money - Gas;\n            System.out.println(&quot;The remaining budget is $&quot; + Money );\n        }\n        else{\n            System.out.println();\n        }\n        if (x == 5) {\n            System.out.println(&quot;The remaining budget is $&quot; + Money );\n        }\n        else{\n            System.out.println();\n        }\n        if (x == 6) {\n            Money = Money - 23;\n            System.out.println(&quot;The remaining budget is $&quot; + Money );\n        }\n        else{\n            System.out.println();\n        }\n        if (x == 7) {\n            if (Money &gt; 20) {\n                Money = Money - 20;\n                Twenty =  Twenty + 1;\n            }\n            else{\n                System.out.println(&quot;Java Joe has &quot; + Twenty + &quot; twenty dollar bills&quot;);\n            }\n            if (Money &gt; 10) {\n                Money = Money - 10;\n                Ten =  Ten + 1;\n            }\n            else{\n                System.out.println(&quot;Java Joe has &quot; + Ten + &quot; ten dollar bills&quot;);\n            }   \n            if (Money &gt; 2) {\n                Money = Money - 2;\n                Toonie =  Toonie + 1;\n            }\n            else{\n                System.out.println(&quot;Java Joe has &quot; + Toonie + &quot; toonies&quot;);\n            }\n            if (Money &gt; 20) {\n                Money = Money - 20;\n                Loonie =  Loonie + 1;\n            }\n            else{\n                System.out.println(&quot;Java Joe has &quot; + Loonie + &quot; loonies&quot;);\n            }\n            if (Money &gt; 0.25) {\n                Money = Money - 0.25;\n                Quarter =  Quarter + 1;\n            }\n            else{\n                System.out.println(&quot;Java Joe has &quot; + Quarter + &quot; quarters&quot;);\n            }\n            if (Money &gt; 0.1) {\n                Money = Money - 0.1;\n                Dime =  Dime + 1;\n            }\n            else{\n                System.out.println(&quot;Java Joe has &quot; + Dime + &quot; dimes&quot;);\n            }\n            if (Money &gt; 0.05) {\n                Money = Money - 0.05;\n                Nickel =  Nickel + 1;\n            }\n            else{\n                System.out.println(&quot;Java Joe has &quot; + Nickel + &quot; nickels&quot;);\n            }\n                System.out.println(&quot;There is $&quot; + Money + &quot; left after the change&quot; );\n        }\n        else{\n                System.out.println();\n        }\n        x = x + 1;\n        }\n            \n        }\n        \n    }\n</code></pre>\n<p>Thank you so much!</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1665770953,"post_id":74071940,"comment_id":130783899,"body_markdown":"See the breaking changes in the release notes https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2020.0-Release-Notes#breaking-changes-1 about `spring.config.import` or `spring-cloud-starter-bootstrap`","body":"See the breaking changes in the release notes <a href=\"https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2020.0-Release-Notes#breaking-changes-1\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-release/wiki/&hellip;</a> about <code>spring.config.import</code> or <code>spring-cloud-starter-bootstrap</code>"},{"owner":{"account_id":5046026,"reputation":306,"user_id":4052014,"accept_rate":0,"display_name":"Marcos"},"score":0,"creation_date":1665775572,"post_id":74071940,"comment_id":130785292,"body_markdown":"@spencergibb Thanks I&#39;ll try adding the dependency even though I already tried it before posting. What I didn&#39;t know was the possibility to set Spring Clouds version as a property like spring-cloud.version = 2021.1. Right now I set the version in my pom.xml using dependencyManagement.","body":"@spencergibb Thanks I&#39;ll try adding the dependency even though I already tried it before posting. What I didn&#39;t know was the possibility to set Spring Clouds version as a property like spring-cloud.version = 2021.1. Right now I set the version in my pom.xml using dependencyManagement."}],"owner":{"account_id":5046026,"reputation":306,"user_id":4052014,"accept_rate":0,"display_name":"Marcos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665763298,"creation_date":1665763298,"question_id":74071940,"body_markdown":"I&#39;m trying to update my project Spring Boot version from 2.4.13 to 2.6.12 \r\n\r\nWe were using Spring Cloud 2020.0.0-M6 and I also wanted to bump the version to 2021.0.4\r\n\r\nNow my application won&#39;t load its remote configuration even though I can see in the logs that it finds the service and the configuration!!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn the above picture you can see my app does find the config-service once deployed to our Development environment.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h7DMb.png\r\n  [2]: https://i.stack.imgur.com/BlE1I.png\r\n\r\nAnd after that, it throws me an error because it&#39;s trying to use its local configuration where I&#39;m using Environment Variables set from my IDE, using the following syntax ${var}, to replace the value depending on the Run/Debug Configuration.\r\n\r\nIn the meantime, I&#39;m trying to use Spring Boot 2.6.11 with Spring Cloud 2021.0.4. If I can&#39;t get it to work I will have to downgrade it to the last working version until I find the problem.\r\n\r\nAny help is appreciated!\r\n\r\nThanks","title":"Spring Boot 2.6.12 compatibility with Spring Cloud (Config) 2021.0.4","body":"<p>I'm trying to update my project Spring Boot version from 2.4.13 to 2.6.12</p>\n<p>We were using Spring Cloud 2020.0.0-M6 and I also wanted to bump the version to 2021.0.4</p>\n<p>Now my application won't load its remote configuration even though I can see in the logs that it finds the service and the configuration!!</p>\n<p><a href=\"https://i.stack.imgur.com/h7DMb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h7DMb.png\" alt=\"enter image description here\" /></a></p>\n<p>In the above picture you can see my app does find the config-service once deployed to our Development environment.</p>\n<p><a href=\"https://i.stack.imgur.com/BlE1I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BlE1I.png\" alt=\"enter image description here\" /></a></p>\n<p>And after that, it throws me an error because it's trying to use its local configuration where I'm using Environment Variables set from my IDE, using the following syntax ${var}, to replace the value depending on the Run/Debug Configuration.</p>\n<p>In the meantime, I'm trying to use Spring Boot 2.6.11 with Spring Cloud 2021.0.4. If I can't get it to work I will have to downgrade it to the last working version until I find the problem.</p>\n<p>Any help is appreciated!</p>\n<p>Thanks</p>\n"},{"tags":["java","antlr4","visitor-pattern"],"answers":[{"tags":[],"owner":{"account_id":50123,"reputation":365473,"user_id":149392,"display_name":"sepp2k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665763280,"creation_date":1665762936,"answer_id":74071880,"question_id":74070378,"body_markdown":"&gt; it inherit visit from AbstractParseTreeVisitor, which is also generated by antlr.\r\n\r\n`AbstractParseTreeVisitor` is not generated, it&#39;s part of the runtime library. `YxVisitor` and `YxBaseVisitor` are the ones that are being generated.\r\n\r\n&gt; However, the `visit` is define with `return null;`\r\n\r\nI&#39;m not sure how you came to that conclusion, but that&#39;s not true. It&#39;s actually defined as `return tree.accept(this);` ([source](https://github.com/antlr/antlr4/blob/master/runtime/Java/src/org/antlr/v4/runtime/tree/AbstractParseTreeVisitor.java#L18)).\r\n\r\nNow, the `accept` method that&#39;s being called here will be overridden in each of the generated tree classes to call the corresponding `visitFoo` method in `YxVisitor`, e.g. `ProgramContext.accept` will be overridden to call `YxVisitor.visitProgram(this)` and that&#39;s how your `visitProgram` method ends up being called.","title":"Antlr4 generated java code visitor pattern confusion","body":"<blockquote>\n<p>it inherit visit from AbstractParseTreeVisitor, which is also generated by antlr.</p>\n</blockquote>\n<p><code>AbstractParseTreeVisitor</code> is not generated, it's part of the runtime library. <code>YxVisitor</code> and <code>YxBaseVisitor</code> are the ones that are being generated.</p>\n<blockquote>\n<p>However, the <code>visit</code> is define with <code>return null;</code></p>\n</blockquote>\n<p>I'm not sure how you came to that conclusion, but that's not true. It's actually defined as <code>return tree.accept(this);</code> (<a href=\"https://github.com/antlr/antlr4/blob/master/runtime/Java/src/org/antlr/v4/runtime/tree/AbstractParseTreeVisitor.java#L18\" rel=\"nofollow noreferrer\">source</a>).</p>\n<p>Now, the <code>accept</code> method that's being called here will be overridden in each of the generated tree classes to call the corresponding <code>visitFoo</code> method in <code>YxVisitor</code>, e.g. <code>ProgramContext.accept</code> will be overridden to call <code>YxVisitor.visitProgram(this)</code> and that's how your <code>visitProgram</code> method ends up being called.</p>\n"}],"owner":{"account_id":24836713,"reputation":103,"user_id":18715266,"display_name":"hnyls2002"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74071880,"answer_count":1,"score":-1,"last_activity_date":1665763280,"creation_date":1665755861,"question_id":74070378,"body_markdown":"When antlr generates java code for visitor pattern, we get a base visitor class.\r\n\r\n```java\r\npublic class YxBaseVisitor&lt;T&gt; extends AbstractParseTreeVisitor&lt;T&gt; implements YxVisitor&lt;T&gt; {\r\n\t/**\r\n\t * {@inheritDoc}\r\n\t *\r\n\t * &lt;p&gt;The default implementation returns the result of calling\r\n\t * {@link #visitChildren} on {@code ctx}.&lt;/p&gt;\r\n\t */\r\n\t@Override public T visitProgram(YxParser.ProgramContext ctx) { return visitChildren(ctx); }\r\n}\r\n```\r\n\r\nI have a derived class called `ASTBuilder` from `YxBaseVisitor`. So when I need to use the `ASTBuilder` to visit the `ParseTree` node, I will call function \r\n\r\n```java\r\n            ParseTree parseTreeRoot = parser.program();\r\n            ASTBuilder astBuilder = new ASTBuilder(gScope);\r\n            ASTRoot = (RootNode)astBuilder.visit(parseTreeRoot);\r\n```\r\n\r\nThis piece of code calls the `visit` method of `ASTBuilder`, but `ASTBuilder` didn&#39;t define `visit` method, instead, it inherit `visit` from `AbstractParseTreeVisitor`, which is also generated by antlr.\r\n\r\nHowever, the `visit` is define with `return null;`, and I didn&#39;t find other override of visit to distribute different types of `ParseTree` node.\r\n\r\nHow did the visit pattern work?","title":"Antlr4 generated java code visitor pattern confusion","body":"<p>When antlr generates java code for visitor pattern, we get a base visitor class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YxBaseVisitor&lt;T&gt; extends AbstractParseTreeVisitor&lt;T&gt; implements YxVisitor&lt;T&gt; {\n    /**\n     * {@inheritDoc}\n     *\n     * &lt;p&gt;The default implementation returns the result of calling\n     * {@link #visitChildren} on {@code ctx}.&lt;/p&gt;\n     */\n    @Override public T visitProgram(YxParser.ProgramContext ctx) { return visitChildren(ctx); }\n}\n</code></pre>\n<p>I have a derived class called <code>ASTBuilder</code> from <code>YxBaseVisitor</code>. So when I need to use the <code>ASTBuilder</code> to visit the <code>ParseTree</code> node, I will call function</p>\n<pre class=\"lang-java prettyprint-override\"><code>            ParseTree parseTreeRoot = parser.program();\n            ASTBuilder astBuilder = new ASTBuilder(gScope);\n            ASTRoot = (RootNode)astBuilder.visit(parseTreeRoot);\n</code></pre>\n<p>This piece of code calls the <code>visit</code> method of <code>ASTBuilder</code>, but <code>ASTBuilder</code> didn't define <code>visit</code> method, instead, it inherit <code>visit</code> from <code>AbstractParseTreeVisitor</code>, which is also generated by antlr.</p>\n<p>However, the <code>visit</code> is define with <code>return null;</code>, and I didn't find other override of visit to distribute different types of <code>ParseTree</code> node.</p>\n<p>How did the visit pattern work?</p>\n"},{"tags":["java","android","arrays","textview"],"answers":[{"tags":[],"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665763278,"creation_date":1665763278,"answer_id":74071935,"question_id":74071792,"body_markdown":"Try this\r\n\r\n```\r\nfor(int i = 0 ; i&lt;=6 ;i++) {\r\n    int resourceId = this.getResources().getIdentifier(&quot;textview&quot;+ i, &quot;id&quot;, this.getPackageName());\r\n    textview[i] = findViewById(resourceId);\r\n}\r\n```","title":"Is there any way to initialize an array of text views in java android studio","body":"<p>Try this</p>\n<pre><code>for(int i = 0 ; i&lt;=6 ;i++) {\n    int resourceId = this.getResources().getIdentifier(&quot;textview&quot;+ i, &quot;id&quot;, this.getPackageName());\n    textview[i] = findViewById(resourceId);\n}\n</code></pre>\n"}],"owner":{"account_id":19941118,"reputation":37,"user_id":20176107,"display_name":"Hamza Ateya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74071935,"answer_count":1,"score":-1,"last_activity_date":1665763278,"creation_date":1665762507,"question_id":74071792,"body_markdown":"I have seven text views (textview0....textview6) in my xml file and in my java file I want to loop through these views but I faced a problem that I can&#39;t use the findViewById function because I can&#39;t use the index (i) in the name\r\nI want something similar to this\r\n\r\n    for(int i = 0 ; i&lt;=6 ;i++){\r\n    textview[i] = findViewById(R.id.textview+i)}\r\n\r\n\r\n\r\n","title":"Is there any way to initialize an array of text views in java android studio","body":"<p>I have seven text views (textview0....textview6) in my xml file and in my java file I want to loop through these views but I faced a problem that I can't use the findViewById function because I can't use the index (i) in the name\nI want something similar to this</p>\n<pre><code>for(int i = 0 ; i&lt;=6 ;i++){\ntextview[i] = findViewById(R.id.textview+i)}\n</code></pre>\n"},{"tags":["java","class","oop","types","instantiation"],"answers":[{"tags":[],"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665763024,"creation_date":1665762498,"answer_id":74071791,"question_id":74063730,"body_markdown":"If you&#39;re using Java 8+ you can implement a dynamic factory using suppliers:\r\n\r\n```lang-java\r\npublic class DynamicFactory {\r\n\r\n  private static final Map&lt;String, Supplier&lt;? extends Cell&gt;&gt; registry = new HashMap&lt;&gt;();\r\n\r\n  public void register(String type, Supplier&lt;? extends Cell&gt; supplier) {\r\n    registry.putIfAbsent(type, supplier);\r\n  }\r\n\r\n  public Cell getCell(String type) {\r\n    return Optional.ofNullable(registry.get(type))\r\n        .map(Supplier::get)\r\n        .orElse(null);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    DynamicFactory app = new DynamicFactory();\r\n    app.register(&quot;cellA&quot;, CellA::new);\r\n    app.register(&quot;cellB&quot;, CellB::new);\r\n    app.register(&quot;cellC&quot;, CellC::new);\r\n\r\n    System.out.println(app.getCell(&quot;cellA&quot;));  // CellA@8bcc55f\r\n    System.out.println(app.getCell(&quot;cellB&quot;));  // CellB@14dad5dc\r\n    System.out.println(app.getCell(&quot;cellC&quot;));  // CellC@764c12b6\r\n    System.out.println(app.getCell(&quot;cellD&quot;));  // null\r\n  }\r\n\r\n}\r\n```","title":"Store classes in a map and create objects after looking up the class","body":"<p>If you're using Java 8+ you can implement a dynamic factory using suppliers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DynamicFactory {\n\n  private static final Map&lt;String, Supplier&lt;? extends Cell&gt;&gt; registry = new HashMap&lt;&gt;();\n\n  public void register(String type, Supplier&lt;? extends Cell&gt; supplier) {\n    registry.putIfAbsent(type, supplier);\n  }\n\n  public Cell getCell(String type) {\n    return Optional.ofNullable(registry.get(type))\n        .map(Supplier::get)\n        .orElse(null);\n  }\n\n  public static void main(String[] args) {\n    DynamicFactory app = new DynamicFactory();\n    app.register(&quot;cellA&quot;, CellA::new);\n    app.register(&quot;cellB&quot;, CellB::new);\n    app.register(&quot;cellC&quot;, CellC::new);\n\n    System.out.println(app.getCell(&quot;cellA&quot;));  // CellA@8bcc55f\n    System.out.println(app.getCell(&quot;cellB&quot;));  // CellB@14dad5dc\n    System.out.println(app.getCell(&quot;cellC&quot;));  // CellC@764c12b6\n    System.out.println(app.getCell(&quot;cellD&quot;));  // null\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22269245,"reputation":3,"user_id":19301103,"display_name":"Terry W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74071791,"answer_count":1,"score":0,"last_activity_date":1665763024,"creation_date":1665714984,"question_id":74063730,"body_markdown":"I have three similar classes, and I want to instantiate one using a variable. Basically converting this:\r\n```java\r\nCell cell;\r\n\r\nswitch(&quot;CellA&quot;) {\r\n  case &quot;cellA&quot;:\r\n    cell = new CellA(); break;\r\n  case &quot;cellB&quot;:\r\n    cell = new CellB(); break;\r\n  case &quot;cellC&quot;:\r\n    cell = new CellC(); break;\r\n}\r\n```\r\n\r\nTo something like this\r\n```java\r\nCell cell;\r\n\r\n//Using a map\r\nMap&lt;String, Type&gt; map = new HashMap&lt;String, Type&gt;();\r\nmap.put(&quot;cellA&quot;, CellA);  \r\nmap.put(&quot;cellB&quot;, CellB);\r\nmap.put(&quot;cellC&quot;, CellC);  //CellA, CellB, CellC are the class types\r\n\r\nType cellType = map.get(&quot;cellA&quot;);\r\ncell = new cellType.getClass();   //This is problematic, I hope cellType is an alias to a cell class, so I can use keyword &quot;new&quot;\r\n\r\n```\r\n*(Note: CellA, CellB, CellC extend Cell class)*\r\n\r\nI know this sounds a bit weird to do, but my professor really wants us to avoid switch statement. (It&#39;s a software design class)","title":"Store classes in a map and create objects after looking up the class","body":"<p>I have three similar classes, and I want to instantiate one using a variable. Basically converting this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cell cell;\n\nswitch(&quot;CellA&quot;) {\n  case &quot;cellA&quot;:\n    cell = new CellA(); break;\n  case &quot;cellB&quot;:\n    cell = new CellB(); break;\n  case &quot;cellC&quot;:\n    cell = new CellC(); break;\n}\n</code></pre>\n<p>To something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cell cell;\n\n//Using a map\nMap&lt;String, Type&gt; map = new HashMap&lt;String, Type&gt;();\nmap.put(&quot;cellA&quot;, CellA);  \nmap.put(&quot;cellB&quot;, CellB);\nmap.put(&quot;cellC&quot;, CellC);  //CellA, CellB, CellC are the class types\n\nType cellType = map.get(&quot;cellA&quot;);\ncell = new cellType.getClass();   //This is problematic, I hope cellType is an alias to a cell class, so I can use keyword &quot;new&quot;\n\n</code></pre>\n<p><em>(Note: CellA, CellB, CellC extend Cell class)</em></p>\n<p>I know this sounds a bit weird to do, but my professor really wants us to avoid switch statement. (It's a software design class)</p>\n"},{"tags":["java","jvm","instrumentation","java-bytecode-asm","jvm-bytecode"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1665730167,"post_id":74064278,"comment_id":130770796,"body_markdown":"I suppose you’re not using the `COMPUTE_FRAMES` option but trying to retain the original frames. So it’s worth disassembling the original code as it is before the instrumentation and include it. As a stylistic note, you should use `super.visit…` instead of `mv.visit…`","body":"I suppose you’re not using the <code>COMPUTE_FRAMES</code> option but trying to retain the original frames. So it’s worth disassembling the original code as it is before the instrumentation and include it. As a stylistic note, you should use <code>super.visit…</code> instead of <code>mv.visit…</code>"},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1665757269,"post_id":74064278,"comment_id":130779400,"body_markdown":"@Holger Yes I am not using `COMPUTE_FRAMES`. Thanks for pointing out the `super.visit..` issue I didn&#39;t notice the problem. Now I add the code of Transformer, ClassVisitor, and the class before instrumentation.","body":"@Holger Yes I am not using <code>COMPUTE_FRAMES</code>. Thanks for pointing out the <code>super.visit..</code> issue I didn&#39;t notice the problem. Now I add the code of Transformer, ClassVisitor, and the class before instrumentation."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1665759180,"post_id":74064278,"comment_id":130780175,"body_markdown":"I don’t know whether that’s the issue, but you’re combining `EXPAND_FRAMES` with `F_FULL`. According to the documentation, all frame types must be `F_NEW` when using expanded frames. Since you’re not manipulating frames further (do not require expanded frames), the more efficient solution is to remove the `EXPAND_FRAMES` option and stay with `F_FULL`.","body":"I don’t know whether that’s the issue, but you’re combining <code>EXPAND_FRAMES</code> with <code>F_FULL</code>. According to the documentation, all frame types must be <code>F_NEW</code> when using expanded frames. Since you’re not manipulating frames further (do not require expanded frames), the more efficient solution is to remove the <code>EXPAND_FRAMES</code> option and stay with <code>F_FULL</code>."},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1665760945,"post_id":74064278,"comment_id":130780827,"body_markdown":"Then error changes t```Exception Details:\n  Location:\n    org/example/Test.&lt;init&gt;()V @5: athrow\n  Reason:\n    Current frame&#39;s flags are not assignable to stack map frame&#39;s.\n  Current Frame:\n    bci: @0\n    flags: { flagThisUninit }\n    locals: { uninitializedThis }\n    stack: { &#39;java/lang/Throwable&#39; }\n  Stackmap Frame:\n    bci: @5\n    flags: { }\n    locals: { }\n    stack: { &#39;java/lang/Throwable&#39; }\n  Bytecode:\n    0x0000000: 2ab7 0001 b1bf                         \n  Exception Handler Table:\n    bci [0, 5] =&gt; handler: 5\n  Stackmap Table:\n    full_frame(@5,{},{Object[#84]})```","body":"Then error changes t<code>Exception Details:   Location:     org&#47;example&#47;Test.&lt;init&gt;()V @5: athrow   Reason:     Current frame&#39;s flags are not assignable to stack map frame&#39;s.   Current Frame:     bci: @0     flags: { flagThisUninit }     locals: { uninitializedThis }     stack: { &#39;java&#47;lang&#47;Throwable&#39; }   Stackmap Frame:     bci: @5     flags: { }     locals: { }     stack: { &#39;java&#47;lang&#47;Throwable&#39; }   Bytecode:     0x0000000: 2ab7 0001 b1bf                            Exception Handler Table:     bci [0, 5] =&gt; handler: 5   Stackmap Table:     full_frame(@5,{},{Object[#84]})</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1665761711,"post_id":74064278,"comment_id":130781068,"body_markdown":"This means, you’re not failing at the `personTest()` method anymore, but at a constructor. This has [recently been discussed](https://stackoverflow.com/q/73962302/2711488); you can not wrap the entire constructor (which includes the `super(…)` call) with an exception handler. This is a different issue. Oh, I just noticed, [the original question](https://stackoverflow.com/q/69549215/2711488) was yours…","body":"This means, you’re not failing at the <code>personTest()</code> method anymore, but at a constructor. This has <a href=\"https://stackoverflow.com/q/73962302/2711488\">recently been discussed</a>; you can not wrap the entire constructor (which includes the <code>super(…)</code> call) with an exception handler. This is a different issue. Oh, I just noticed, <a href=\"https://stackoverflow.com/q/69549215/2711488\">the original question</a> was yours…"},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1665762462,"post_id":74064278,"comment_id":130781401,"body_markdown":"Yeah I just remember &#128514;. Now the errors are gone. Thanks a lot!! By the way, where did you find the documentation about `EXPAND_FRAMES`? I can only find a description of this flag in https://asm.ow2.io/javadoc/org/objectweb/asm/ClassReader.html#EXPAND_FRAMES but can&#39;t really understand what it means. Do you have any recommendations about related reading materials?","body":"Yeah I just remember 😂. Now the errors are gone. Thanks a lot!! By the way, where did you find the documentation about <code>EXPAND_FRAMES</code>? I can only find a description of this flag in <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/ClassReader.html#EXPAND_FRAMES\" rel=\"nofollow noreferrer\">asm.ow2.io/javadoc/org/objectweb/asm/&hellip;</a> but can&#39;t really understand what it means. Do you have any recommendations about related reading materials?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665762912,"creation_date":1665762912,"answer_id":74071872,"question_id":74064278,"body_markdown":"You are mixing two incompatible options, `EXPAND_FRAMES` and `F_FULL`. From [the documentation of `visitFrame`]:\r\n\r\n&gt; The frames of a method must be given either in expanded form, or in compressed form (all frames must use the same format, i.e. you must not mix expanded and compressed frames within a single method):\r\n&gt; - In expanded form, all frames must have the `F_NEW` type.\r\n&gt; - In compressed form, frames are basically &quot;deltas&quot; from the state of the previous frame:\r\n&gt;   - `Opcodes.F_SAME` representing frame with exactly the same locals as the previous frame and with the empty stack.\r\n&gt;   - `Opcodes.F_SAME1` representing frame with exactly the same locals as the previous frame and with single value on the stack (`numStack` is 1 and `stack[0]` contains value for the type of the stack item).\r\n&gt;   - `Opcodes.F_APPEND` representing frame with current locals are the same as the locals in the previous frame, except that additional locals are defined (`numLocal` is 1, 2 or 3 and local elements contains values representing added types).\r\n&gt;   - `Opcodes.F_CHOP` representing frame with current locals are the same as the locals in the previous frame, except that the last 1-3 locals are absent and with the empty stack (`numLocal` is 1, 2 or 3).\r\n&gt;   - `Opcodes.F_FULL` representing complete frame data.\r\n\r\nSince you’re keeping all original frames and adding just one frame, it’s more efficient to remove the `EXPAND_FRAMES` option, to keep all frames compressed.\r\n\r\n[the documentation of `visitFrame`]: https://asm.ow2.io/javadoc/org/objectweb/asm/MethodVisitor.html#visitFrame(int,int,java.lang.Object%5B%5D,int,java.lang.Object%5B%5D)","title":"When instrumenting classes, offset of inserted stack frame overlap with existing one","body":"<p>You are mixing two incompatible options, <code>EXPAND_FRAMES</code> and <code>F_FULL</code>. From <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/MethodVisitor.html#visitFrame(int,int,java.lang.Object%5B%5D,int,java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">the documentation of <code>visitFrame</code></a>:</p>\n<blockquote>\n<p>The frames of a method must be given either in expanded form, or in compressed form (all frames must use the same format, i.e. you must not mix expanded and compressed frames within a single method):</p>\n<ul>\n<li>In expanded form, all frames must have the <code>F_NEW</code> type.</li>\n<li>In compressed form, frames are basically &quot;deltas&quot; from the state of the previous frame:\n<ul>\n<li><code>Opcodes.F_SAME</code> representing frame with exactly the same locals as the previous frame and with the empty stack.</li>\n<li><code>Opcodes.F_SAME1</code> representing frame with exactly the same locals as the previous frame and with single value on the stack (<code>numStack</code> is 1 and <code>stack[0]</code> contains value for the type of the stack item).</li>\n<li><code>Opcodes.F_APPEND</code> representing frame with current locals are the same as the locals in the previous frame, except that additional locals are defined (<code>numLocal</code> is 1, 2 or 3 and local elements contains values representing added types).</li>\n<li><code>Opcodes.F_CHOP</code> representing frame with current locals are the same as the locals in the previous frame, except that the last 1-3 locals are absent and with the empty stack (<code>numLocal</code> is 1, 2 or 3).</li>\n<li><code>Opcodes.F_FULL</code> representing complete frame data.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>Since you’re keeping all original frames and adding just one frame, it’s more efficient to remove the <code>EXPAND_FRAMES</code> option, to keep all frames compressed.</p>\n"}],"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74071872,"answer_count":1,"score":2,"last_activity_date":1665762912,"creation_date":1665721214,"question_id":74064278,"body_markdown":"What I did is to instrument java classes at runtime to warp the whole method with a big try-catch block, and then rethrow the exception in the catch block if any exception is caught.\r\n\r\nI use a Premain class to add a class file transformer to dynamically instrument the loaded java class. The Transformer class:\r\n```java\r\npublic class Transformer implements ClassFileTransformer {\r\n    @Override\r\n    public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined,\r\n            ProtectionDomain protectionDomain, byte[] classfileBuffer) throws\r\n            IllegalClassFormatException {\r\n        byte[] result = classfileBuffer;\r\n        if (className == null){\r\n            return result;\r\n        }\r\n        ...\r\n        try{\r\n            ClassReader cr = new ClassReader(result);\r\n            ClassWriter cw = new ClassWriter(cr, 0);\r\n            ClassVisitor cv = new CV(cw, className, loader, getClassVersion(cr));\r\n            cr.accept(cv, ClassReader.EXPAND_FRAMES);\r\n            result = cw.toByteArray();\r\n        } catch (Throwable t){\r\n            t.printStackTrace();\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nThe ClassVisitor and MethodVisitor:\r\n```java\r\npublic class CV extends ClassVisitor {\r\n    private String slashClassName;\r\n    private ClassLoader loader;\r\n    private int classVersion;\r\n\r\n    public CV(ClassVisitor classVisitor, String className, ClassLoader loader, int classVersion) {\r\n        super(ASM_Version, classVisitor);\r\n        this.slashClassName = className;\r\n        this.loader = loader;\r\n        this.classVersion = classVersion;\r\n    }\r\n\r\n    @Override\r\n    public MethodVisitor visitMethod(int access, String name, String descriptor, String signature, String[] exceptions) {\r\n        MethodVisitor mv = super.visitMethod(access, name, descriptor, signature, exceptions);\r\n        return new MV(mv, slashClassName, name, descriptor, this.classVersion);\r\n    }\r\n}\r\n\r\nclass MV extends MethodVisitor {\r\n    ...\r\n    // insert a try catch block for the whole test method to capture the exception thrown\r\n    private Label tryStart = new Label();\r\n    private Label tryEndCatchStart = new Label();\r\n\r\n    public MV(MethodVisitor methodVisitor, String className, String methodName, String desc, int classVersion) {\r\n        super(ASM_Version, methodVisitor);\r\n        ...\r\n    }\r\n    @Override\r\n    public void visitCode() {\r\n        mv.visitCode();\r\n        mv.visitLabel(tryStart);\r\n    }\r\n    @Override\r\n    public void visitMaxs(int maxStack, int maxLocals) {\r\n        mv.visitTryCatchBlock(tryStart, tryEndCatchStart, tryEndCatchStart, &quot;java/lang/Throwable&quot;);\r\n        mv.visitLabel(tryEndCatchStart);\r\n        mv.visitFrame(F_FULL, 0, null, 1, new Object[]{&quot;java/lang/Throwable&quot;});\r\n        mv.visitInsn(ATHROW);\r\n        mv.visitMaxs(maxStack+4, maxLocals);\r\n    }\r\n}\r\n```\r\n\r\nBut I got an error like this:\r\n```\r\n...\r\nCaused by: java.lang.VerifyError: StackMapTable error: bad offset\r\nException Details:\r\n  Location:\r\n    org/example/Test.personTest()V @0: new\r\n  Reason:\r\n    Invalid stackmap specification.\r\n  Current Frame:\r\n    bci: @147\r\n    flags: { }\r\n    locals: { }\r\n    stack: { &#39;java/lang/Throwable&#39; }\r\n  Bytecode:\r\n    0x0000000: bb00 0259 bb00 0359 1204 1205 b700 06b7\r\n    0x0000010: 0007 b300 08b2 0008 bb00 0359 1209 120a\r\n    0x0000020: b700 06b5 000b b200 0cb2 000d b600 0eb2\r\n    0x0000030: 0008 b400 0b12 0fb5 0010 2ab7 0011 9900\r\n    0x0000040: 0bb2 000c 1212 b600 13b1 bf            \r\n  Exception Handler Table:\r\n    bci [0, 74] =&gt; handler: 74\r\n  Stackmap Table:\r\n    same_frame_extended(@73)\r\n    full_frame(@147,{},{Object[#84]})\r\n\r\n```\r\n\r\nThe original class before instrumented looks like:\r\n```\r\n  public void personTest();\r\n    descriptor: ()V\r\n    flags: ACC_PUBLIC\r\n    Code:\r\n      stack=6, locals=1, args_size=1\r\n         0: new           #2                  // class org/example/Person\r\n         3: dup\r\n         4: new           #3                  // class org/example/Name\r\n         7: dup\r\n         8: ldc           #4                  // String xxx\r\n        10: ldc           #5                  // String yyy\r\n        12: invokespecial #6                  // Method org/example/Name.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;Ljava/lang/String;)V\r\n        15: invokespecial #7                  // Method org/example/Person.&quot;&lt;init&gt;&quot;:(Lorg/example/Name;)V\r\n        18: putstatic     #8                  // Field president:Lorg/example/Person;\r\n        21: getstatic     #8                  // Field president:Lorg/example/Person;\r\n        24: new           #3                  // class org/example/Name\r\n        27: dup\r\n        28: ldc           #9                  // String a\r\n        30: ldc           #10                 // String b\r\n        32: invokespecial #6                  // Method org/example/Name.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;Ljava/lang/String;)V\r\n        35: putfield      #11                 // Field org/example/Person.name:Lorg/example/Name;\r\n        38: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        41: getstatic     #13                 // Field name:Lorg/example/Name;\r\n        44: invokevirtual #14                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n        47: getstatic     #8                  // Field president:Lorg/example/Person;\r\n        50: getfield      #11                 // Field org/example/Person.name:Lorg/example/Name;\r\n        53: ldc           #15                 // String c\r\n        55: putfield      #16                 // Field org/example/Name.familyName:Ljava/lang/String;\r\n        58: aload_0\r\n        59: invokespecial #17                 // Method ifxxx:()Z\r\n        62: ifeq          73\r\n        65: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        68: ldc           #18                 // String yes\r\n        70: invokevirtual #19                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n        73: return\r\n      LineNumberTable:\r\n        line 33: 0\r\n        line 35: 21\r\n        line 36: 38\r\n        line 37: 47\r\n        line 38: 58\r\n        line 39: 65\r\n        line 41: 73\r\n      LocalVariableTable:\r\n        Start  Length  Slot  Name   Signature\r\n            0      74     0  this   Lorg/example/Test;\r\n      StackMapTable: number_of_entries = 1\r\n        frame_type = 251 /* same_frame_extended */\r\n          offset_delta = 73\r\n    RuntimeVisibleAnnotations:\r\n      0: #40()\r\n```\r\n\r\nThe class after instrumentation looks like:\r\n```\r\n  public void personTest();\r\n    descriptor: ()V\r\n    flags: ACC_PUBLIC\r\n    Code:\r\n      stack=10, locals=1, args_size=1\r\n         0: new           #2                  // class org/example/Person\r\n         3: dup\r\n         4: new           #3                  // class org/example/Name\r\n         7: dup\r\n         8: ldc           #4                  // String xxx\r\n        10: ldc           #5                  // String yyy\r\n        12: invokespecial #6                  // Method org/example/Name.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;Ljava/lang/String;)V\r\n        15: invokespecial #7                  // Method org/example/Person.&quot;&lt;init&gt;&quot;:(Lorg/example/Name;)V\r\n        18: putstatic     #8                  // Field president:Lorg/example/Person;\r\n        21: getstatic     #8                  // Field president:Lorg/example/Person;\r\n        24: new           #3                  // class org/example/Name\r\n        27: dup\r\n        28: ldc           #9                  // String a\r\n        30: ldc           #10                 // String b\r\n        32: invokespecial #6                  // Method org/example/Name.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;Ljava/lang/String;)V\r\n        35: putfield      #11                 // Field org/example/Person.name:Lorg/example/Name;\r\n        38: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        41: getstatic     #13                 // Field name:Lorg/example/Name;\r\n        44: invokevirtual #14                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n        47: getstatic     #8                  // Field president:Lorg/example/Person;\r\n        50: getfield      #11                 // Field org/example/Person.name:Lorg/example/Name;\r\n        53: ldc           #15                 // String c\r\n        55: putfield      #16                 // Field org/example/Name.familyName:Ljava/lang/String;\r\n        58: aload_0\r\n        59: invokespecial #17                 // Method ifxxx:()Z\r\n        62: ifeq          73\r\n        65: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        68: ldc           #18                 // String yes\r\n        70: invokevirtual #19                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n        73: return\r\n        74: athrow\r\n      Exception table:\r\n         from    to  target type\r\n             0    74    74   Class java/lang/Throwable\r\n      StackMapTable: number_of_entries = 2\r\n        frame_type = 251 /* same_frame_extended */\r\n          offset_delta = 73\r\n        frame_type = 255 /* full_frame */\r\n          offset_delta = 73\r\n          locals = []\r\n          stack = [ class java/lang/Throwable ]\r\n      LineNumberTable:\r\n        line 33: 0\r\n        line 35: 21\r\n        line 36: 38\r\n        line 37: 47\r\n        line 38: 58\r\n        line 39: 65\r\n        line 41: 73\r\n      LocalVariableTable:\r\n        Start  Length  Slot  Name   Signature\r\n            0      74     0  this   Lorg/example/Test;\r\n    RuntimeVisibleAnnotations:\r\n      0: #40()\r\n```\r\n\r\nI found that the two frames in the StackMapTable have the same offset 73! That is absolutely wrong because \r\n\r\n&gt; The bytecode offset at which a frame applies is calculated by adding offset_delta + 1 to the bytecode offset of the previous frame, unless the previous frame is the initial frame of the method, ...\r\n\r\nSo that is why it complains. However, I still don&#39;t know why the inserted frame has the same offset as the existing one (shouldn&#39;t it be 0?), is that just a coincidence?","title":"When instrumenting classes, offset of inserted stack frame overlap with existing one","body":"<p>What I did is to instrument java classes at runtime to warp the whole method with a big try-catch block, and then rethrow the exception in the catch block if any exception is caught.</p>\n<p>I use a Premain class to add a class file transformer to dynamically instrument the loaded java class. The Transformer class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Transformer implements ClassFileTransformer {\n    @Override\n    public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined,\n            ProtectionDomain protectionDomain, byte[] classfileBuffer) throws\n            IllegalClassFormatException {\n        byte[] result = classfileBuffer;\n        if (className == null){\n            return result;\n        }\n        ...\n        try{\n            ClassReader cr = new ClassReader(result);\n            ClassWriter cw = new ClassWriter(cr, 0);\n            ClassVisitor cv = new CV(cw, className, loader, getClassVersion(cr));\n            cr.accept(cv, ClassReader.EXPAND_FRAMES);\n            result = cw.toByteArray();\n        } catch (Throwable t){\n            t.printStackTrace();\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>The ClassVisitor and MethodVisitor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CV extends ClassVisitor {\n    private String slashClassName;\n    private ClassLoader loader;\n    private int classVersion;\n\n    public CV(ClassVisitor classVisitor, String className, ClassLoader loader, int classVersion) {\n        super(ASM_Version, classVisitor);\n        this.slashClassName = className;\n        this.loader = loader;\n        this.classVersion = classVersion;\n    }\n\n    @Override\n    public MethodVisitor visitMethod(int access, String name, String descriptor, String signature, String[] exceptions) {\n        MethodVisitor mv = super.visitMethod(access, name, descriptor, signature, exceptions);\n        return new MV(mv, slashClassName, name, descriptor, this.classVersion);\n    }\n}\n\nclass MV extends MethodVisitor {\n    ...\n    // insert a try catch block for the whole test method to capture the exception thrown\n    private Label tryStart = new Label();\n    private Label tryEndCatchStart = new Label();\n\n    public MV(MethodVisitor methodVisitor, String className, String methodName, String desc, int classVersion) {\n        super(ASM_Version, methodVisitor);\n        ...\n    }\n    @Override\n    public void visitCode() {\n        mv.visitCode();\n        mv.visitLabel(tryStart);\n    }\n    @Override\n    public void visitMaxs(int maxStack, int maxLocals) {\n        mv.visitTryCatchBlock(tryStart, tryEndCatchStart, tryEndCatchStart, &quot;java/lang/Throwable&quot;);\n        mv.visitLabel(tryEndCatchStart);\n        mv.visitFrame(F_FULL, 0, null, 1, new Object[]{&quot;java/lang/Throwable&quot;});\n        mv.visitInsn(ATHROW);\n        mv.visitMaxs(maxStack+4, maxLocals);\n    }\n}\n</code></pre>\n<p>But I got an error like this:</p>\n<pre><code>...\nCaused by: java.lang.VerifyError: StackMapTable error: bad offset\nException Details:\n  Location:\n    org/example/Test.personTest()V @0: new\n  Reason:\n    Invalid stackmap specification.\n  Current Frame:\n    bci: @147\n    flags: { }\n    locals: { }\n    stack: { 'java/lang/Throwable' }\n  Bytecode:\n    0x0000000: bb00 0259 bb00 0359 1204 1205 b700 06b7\n    0x0000010: 0007 b300 08b2 0008 bb00 0359 1209 120a\n    0x0000020: b700 06b5 000b b200 0cb2 000d b600 0eb2\n    0x0000030: 0008 b400 0b12 0fb5 0010 2ab7 0011 9900\n    0x0000040: 0bb2 000c 1212 b600 13b1 bf            \n  Exception Handler Table:\n    bci [0, 74] =&gt; handler: 74\n  Stackmap Table:\n    same_frame_extended(@73)\n    full_frame(@147,{},{Object[#84]})\n\n</code></pre>\n<p>The original class before instrumented looks like:</p>\n<pre><code>  public void personTest();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n      stack=6, locals=1, args_size=1\n         0: new           #2                  // class org/example/Person\n         3: dup\n         4: new           #3                  // class org/example/Name\n         7: dup\n         8: ldc           #4                  // String xxx\n        10: ldc           #5                  // String yyy\n        12: invokespecial #6                  // Method org/example/Name.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;Ljava/lang/String;)V\n        15: invokespecial #7                  // Method org/example/Person.&quot;&lt;init&gt;&quot;:(Lorg/example/Name;)V\n        18: putstatic     #8                  // Field president:Lorg/example/Person;\n        21: getstatic     #8                  // Field president:Lorg/example/Person;\n        24: new           #3                  // class org/example/Name\n        27: dup\n        28: ldc           #9                  // String a\n        30: ldc           #10                 // String b\n        32: invokespecial #6                  // Method org/example/Name.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;Ljava/lang/String;)V\n        35: putfield      #11                 // Field org/example/Person.name:Lorg/example/Name;\n        38: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\n        41: getstatic     #13                 // Field name:Lorg/example/Name;\n        44: invokevirtual #14                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n        47: getstatic     #8                  // Field president:Lorg/example/Person;\n        50: getfield      #11                 // Field org/example/Person.name:Lorg/example/Name;\n        53: ldc           #15                 // String c\n        55: putfield      #16                 // Field org/example/Name.familyName:Ljava/lang/String;\n        58: aload_0\n        59: invokespecial #17                 // Method ifxxx:()Z\n        62: ifeq          73\n        65: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\n        68: ldc           #18                 // String yes\n        70: invokevirtual #19                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n        73: return\n      LineNumberTable:\n        line 33: 0\n        line 35: 21\n        line 36: 38\n        line 37: 47\n        line 38: 58\n        line 39: 65\n        line 41: 73\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      74     0  this   Lorg/example/Test;\n      StackMapTable: number_of_entries = 1\n        frame_type = 251 /* same_frame_extended */\n          offset_delta = 73\n    RuntimeVisibleAnnotations:\n      0: #40()\n</code></pre>\n<p>The class after instrumentation looks like:</p>\n<pre><code>  public void personTest();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n      stack=10, locals=1, args_size=1\n         0: new           #2                  // class org/example/Person\n         3: dup\n         4: new           #3                  // class org/example/Name\n         7: dup\n         8: ldc           #4                  // String xxx\n        10: ldc           #5                  // String yyy\n        12: invokespecial #6                  // Method org/example/Name.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;Ljava/lang/String;)V\n        15: invokespecial #7                  // Method org/example/Person.&quot;&lt;init&gt;&quot;:(Lorg/example/Name;)V\n        18: putstatic     #8                  // Field president:Lorg/example/Person;\n        21: getstatic     #8                  // Field president:Lorg/example/Person;\n        24: new           #3                  // class org/example/Name\n        27: dup\n        28: ldc           #9                  // String a\n        30: ldc           #10                 // String b\n        32: invokespecial #6                  // Method org/example/Name.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;Ljava/lang/String;)V\n        35: putfield      #11                 // Field org/example/Person.name:Lorg/example/Name;\n        38: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\n        41: getstatic     #13                 // Field name:Lorg/example/Name;\n        44: invokevirtual #14                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n        47: getstatic     #8                  // Field president:Lorg/example/Person;\n        50: getfield      #11                 // Field org/example/Person.name:Lorg/example/Name;\n        53: ldc           #15                 // String c\n        55: putfield      #16                 // Field org/example/Name.familyName:Ljava/lang/String;\n        58: aload_0\n        59: invokespecial #17                 // Method ifxxx:()Z\n        62: ifeq          73\n        65: getstatic     #12                 // Field java/lang/System.out:Ljava/io/PrintStream;\n        68: ldc           #18                 // String yes\n        70: invokevirtual #19                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n        73: return\n        74: athrow\n      Exception table:\n         from    to  target type\n             0    74    74   Class java/lang/Throwable\n      StackMapTable: number_of_entries = 2\n        frame_type = 251 /* same_frame_extended */\n          offset_delta = 73\n        frame_type = 255 /* full_frame */\n          offset_delta = 73\n          locals = []\n          stack = [ class java/lang/Throwable ]\n      LineNumberTable:\n        line 33: 0\n        line 35: 21\n        line 36: 38\n        line 37: 47\n        line 38: 58\n        line 39: 65\n        line 41: 73\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      74     0  this   Lorg/example/Test;\n    RuntimeVisibleAnnotations:\n      0: #40()\n</code></pre>\n<p>I found that the two frames in the StackMapTable have the same offset 73! That is absolutely wrong because</p>\n<blockquote>\n<p>The bytecode offset at which a frame applies is calculated by adding offset_delta + 1 to the bytecode offset of the previous frame, unless the previous frame is the initial frame of the method, ...</p>\n</blockquote>\n<p>So that is why it complains. However, I still don't know why the inserted frame has the same offset as the existing one (shouldn't it be 0?), is that just a coincidence?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","okta"],"comments":[{"owner":{"account_id":25538,"reputation":8293,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":1,"creation_date":1662743026,"post_id":73665236,"comment_id":130084520,"body_markdown":"I recently published a tutorial on Spring Boot 3 with Spring Security SAML. Maybe that&#39;ll help? It should work with Spring Boot 2.7.x too. https://developer.okta.com/blog/2022/08/05/spring-boot-saml","body":"I recently published a tutorial on Spring Boot 3 with Spring Security SAML. Maybe that&#39;ll help? It should work with Spring Boot 2.7.x too. <a href=\"https://developer.okta.com/blog/2022/08/05/spring-boot-saml\" rel=\"nofollow noreferrer\">developer.okta.com/blog/2022/08/05/spring-boot-saml</a>"},{"owner":{"account_id":202497,"reputation":181,"user_id":4603276,"display_name":"B-Wieg"},"score":0,"creation_date":1662745831,"post_id":73665236,"comment_id":130085278,"body_markdown":"Thanks @MattRaible. I was able to change my yml file to just use the metadata, and used your SecurityConfiguration Class to successfully request a url, get authenticated by Okta, and then get to the page.","body":"Thanks @MattRaible. I was able to change my yml file to just use the metadata, and used your SecurityConfiguration Class to successfully request a url, get authenticated by Okta, and then get to the page."}],"answers":[{"comments":[{"owner":{"account_id":25538,"reputation":8293,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1662753569,"post_id":73665918,"comment_id":130087229,"body_markdown":"I&#39;m glad to hear my blog post helped! This is now part of Okta&#39;s official docs too: https://developer.okta.com/code/java/spring_security_saml","body":"I&#39;m glad to hear my blog post helped! This is now part of Okta&#39;s official docs too: <a href=\"https://developer.okta.com/code/java/spring_security_saml\" rel=\"nofollow noreferrer\">developer.okta.com/code/java/spring_security_saml</a>"}],"tags":[],"owner":{"account_id":202497,"reputation":181,"user_id":4603276,"display_name":"B-Wieg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662746221,"creation_date":1662746221,"answer_id":73665918,"question_id":73665236,"body_markdown":"It is not as simple to just upgrade the versions of Spring Boot and Okta and continue to use the same exact configuration file properties. The old okta config had:\r\n\r\n```\r\nspring:  \r\n  security:  \r\n    saml2:  \r\n      relyingparty:  \r\n        registration:  \r\n          okta:\r\n            identityprovider:\r\n              singlesignon:\r\n                url: https://&lt;domain&gt;.oktapreview.com/app/&lt;app-id&gt;/sso/saml\r\n                sign-request: false                \r\n              entity-id: http://www.okta.com/&lt;app-id&gt;               \r\n ```\r\n\r\nThe new property is just looking for the metadata uri:\r\n```\r\n  security:  \r\n    saml2:  \r\n      relyingparty:  \r\n        registration:  \r\n          okta:\r\n            assertingparty:\r\n              metadata-uri: https://&lt;domain&gt;.oktapreview.com/app/&lt;app-id&gt;/sso/saml/metadata\r\n ```\r\n\r\nOnce I followed instructions from @MattRaible&#39;s blog that he posted in the comments, I was able to authenticate successfully. ","title":"Signature of Assertion from Issuer not valid after upgrading Spring Boot from 2.5.3 to 2.7.3 (using Okta)","body":"<p>It is not as simple to just upgrade the versions of Spring Boot and Okta and continue to use the same exact configuration file properties. The old okta config had:</p>\n<pre><code>spring:  \n  security:  \n    saml2:  \n      relyingparty:  \n        registration:  \n          okta:\n            identityprovider:\n              singlesignon:\n                url: https://&lt;domain&gt;.oktapreview.com/app/&lt;app-id&gt;/sso/saml\n                sign-request: false                \n              entity-id: http://www.okta.com/&lt;app-id&gt;               \n</code></pre>\n<p>The new property is just looking for the metadata uri:</p>\n<pre><code>  security:  \n    saml2:  \n      relyingparty:  \n        registration:  \n          okta:\n            assertingparty:\n              metadata-uri: https://&lt;domain&gt;.oktapreview.com/app/&lt;app-id&gt;/sso/saml/metadata\n</code></pre>\n<p>Once I followed instructions from @MattRaible's blog that he posted in the comments, I was able to authenticate successfully.</p>\n"},{"tags":[],"owner":{"account_id":4893749,"reputation":490,"user_id":3944040,"display_name":"Leroy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665762613,"creation_date":1665762613,"answer_id":74071819,"question_id":73665236,"body_markdown":"We did a similar upgrade to spring boot recently and came across the exact same behaviour but were using SSO functionality\r\n\r\nTo fix the issue we switched from using the deprecated `identityprovider` property to `assertingparty`\r\n\r\n```\r\nspring.security:\r\n  saml2:\r\n    relyingparty:\r\n      registration:\r\n        okta:\r\n          assertingparty:\r\n            entity-id={some_entity}\r\n            url={some_url}\r\n            sign-request=false\r\n            verification:\r\n            - credentials.certificate-location={some_cert}\r\n```\r\n\r\nAlthough they seem interchangeable (and [Spring][1] refers to them as &#39;synonymous&#39;), they do in fact bring some minor behavioural differences\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.6.0-RC1/servlet/saml2/index.html#_specifying_identity_provider_metadata","title":"Signature of Assertion from Issuer not valid after upgrading Spring Boot from 2.5.3 to 2.7.3 (using Okta)","body":"<p>We did a similar upgrade to spring boot recently and came across the exact same behaviour but were using SSO functionality</p>\n<p>To fix the issue we switched from using the deprecated <code>identityprovider</code> property to <code>assertingparty</code></p>\n<pre><code>spring.security:\n  saml2:\n    relyingparty:\n      registration:\n        okta:\n          assertingparty:\n            entity-id={some_entity}\n            url={some_url}\n            sign-request=false\n            verification:\n            - credentials.certificate-location={some_cert}\n</code></pre>\n<p>Although they seem interchangeable (and <a href=\"https://docs.spring.io/spring-security/reference/5.6.0-RC1/servlet/saml2/index.html#_specifying_identity_provider_metadata\" rel=\"nofollow noreferrer\">Spring</a> refers to them as 'synonymous'), they do in fact bring some minor behavioural differences</p>\n"}],"owner":{"account_id":202497,"reputation":181,"user_id":4603276,"display_name":"B-Wieg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1722,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73665918,"answer_count":2,"score":1,"last_activity_date":1665762613,"creation_date":1662741988,"question_id":73665236,"body_markdown":"I am upgrading Spring Boot in a small project I use for an Okta proof of concept (all the app does is authenticate with okta and then show a home page - for the most part). I have seen where WebSecurityConfigurerAdapter is being deprecated and wanted to update to the newer methods (https://codejava.net/frameworks/spring-boot/fix-websecurityconfigureradapter-deprecated).\r\n\r\nEverything works fine in the Spring Boot 2.5.3 version. After I up the version of Spring Boot to 2.7.3 and the okta spring boot starter to 2.1.6 from 2.1.0, do a Maven-&gt;Update Project in Eclipse, I can no longer successfully authenticate. I get the following stack trace\r\n\r\n```\r\n2022-09-09 11:29:17.246 TRACE 22968 --- [nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with OpenSaml4AuthenticationProvider (1/1)\r\n2022-09-09 11:29:17.387 DEBUG 22968 --- [nio-8080-exec-5] .s.p.s.a.OpenSaml4AuthenticationProvider : Processing SAML response from http://www.okta.com/exk113scc2hCmGEid0h8\r\n2022-09-09 11:29:17.742  WARN 22968 --- [nio-8080-exec-5] o.o.s.s.a.SAML20AssertionValidator       : Signature of Assertion &#39;id26510770681071201581955264&#39; from Issuer &#39;http://www.okta.com/exk113scc2hCmGEid0h8&#39; was not valid\r\n2022-09-09 11:29:17.749 DEBUG 22968 --- [nio-8080-exec-5] .s.p.s.a.OpenSaml4AuthenticationProvider : Found 2 validation errors in SAML response [id26510770679528281044304163]: [[invalid_signature] Invalid signature for object [id26510770679528281044304163], [invalid_signature] Invalid assertion [id26510770681071201581955264] for SAML response [id26510770679528281044304163]: Signature of Assertion &#39;id26510770681071201581955264&#39; from Issuer &#39;http://www.okta.com/exk113scc2hCmGEid0h8&#39; was not valid]\r\n2022-09-09 11:29:17.751 TRACE 22968 --- [nio-8080-exec-5] .p.s.s.f.Saml2WebSsoAuthenticationFilter : Failed to process authentication request\r\n\r\norg.springframework.security.saml2.provider.service.authentication.Saml2AuthenticationException: Invalid signature for object [id26510770679528281044304163]\r\n\tat org.springframework.security.saml2.provider.service.authentication.OpenSaml4AuthenticationProvider.createAuthenticationException(OpenSaml4AuthenticationProvider.java:698) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.saml2.provider.service.authentication.OpenSaml4AuthenticationProvider.process(OpenSaml4AuthenticationProvider.java:570) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.saml2.provider.service.authentication.OpenSaml4AuthenticationProvider.authenticate(OpenSaml4AuthenticationProvider.java:489) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationFilter.attemptAuthentication(Saml2WebSsoAuthenticationFilter.java:113) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationRequestFilter.doFilterInternal(Saml2WebSsoAuthenticationRequestFilter.java:192) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.44]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[catalina.jar:9.0.44]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-coyote.jar:9.0.44]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.44]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-coyote.jar:9.0.44]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707) ~[tomcat-coyote.jar:9.0.44]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.44]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.44]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n```\r\n\r\nI did a saml trace and things look similar with the saml payloads. The IDs, etc are different as expected. The Signature values are different as well. Here is the assertion portion of my saml:\r\n\r\n**OLD**\r\n```\r\n&lt;saml2:Assertion xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\r\n                     xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n                     ID=&quot;id2634485574464025924231175&quot;\r\n                     IssueInstant=&quot;2022-09-09T15:57:50.115Z&quot;\r\n                     Version=&quot;2.0&quot;\r\n                     &gt;\r\n        &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\r\n                      Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\r\n                      &gt;http://www.okta.com/exk113scc2hCmGEid0h8&lt;/saml2:Issuer&gt;\r\n        &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n            &lt;ds:SignedInfo&gt;\r\n                &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; /&gt;\r\n                &lt;ds:Reference URI=&quot;#id2634485574464025924231175&quot;&gt;\r\n                    &lt;ds:Transforms&gt;\r\n                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; /&gt;\r\n                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                            &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                                    PrefixList=&quot;xs&quot;\r\n                                                    /&gt;\r\n                        &lt;/ds:Transform&gt;\r\n                    &lt;/ds:Transforms&gt;\r\n                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot; /&gt;\r\n                    &lt;ds:DigestValue&gt;oEj+Jgho7r5rSE9MirhggLlUJ+vm2AbP4j3tBIf8qCA=&lt;/ds:DigestValue&gt;\r\n                &lt;/ds:Reference&gt;\r\n            &lt;/ds:SignedInfo&gt;\r\n            &lt;ds:SignatureValue&gt;QdnhyP1NaARby0yHLvXjEZl8eDvYOy8ge6ZHrfX4XnfySHkmkoKwqaDeWPSXPH3im1mP3Ch5q8AwZ1aiyvO4bdwqbFlhvaNo7bCYCZD+A1p9CpelD5QlXsUpMHsNE3LKNzxezxr8Pjn9x4+zP8yQMKMr0jxVOc+iDbjRpKvUDFO5WX7xwbBjAemVgk0Vir0rW8MwllgBeCUsCR7oWgJNO5PpjsTgu3S+2tEBpIOuoeSap5oC2TfVTKzID0wY5UtCCKpackDkG0mDVGsA9MJEd2AE4zaRAyk4SWafvjDkEj5RAmrDvb0CuIqphqLaph+SgAVrLE3YgLMnCs/8hRX2Fw==&lt;/ds:SignatureValue&gt;\r\n\r\n```\r\n\r\n**NEW**\r\n```\r\n&lt;saml2:Assertion xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\r\n                     xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n                     ID=&quot;id2643957096229591101765578&quot;\r\n                     IssueInstant=&quot;2022-09-09T15:50:46.615Z&quot;\r\n                     Version=&quot;2.0&quot;\r\n                     &gt;\r\n        &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\r\n                      Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\r\n                      &gt;http://www.okta.com/exk113scc2hCmGEid0h8&lt;/saml2:Issuer&gt;\r\n        &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n            &lt;ds:SignedInfo&gt;\r\n                &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; /&gt;\r\n                &lt;ds:Reference URI=&quot;#id2643957096229591101765578&quot;&gt;\r\n                    &lt;ds:Transforms&gt;\r\n                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; /&gt;\r\n                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                            &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                                    PrefixList=&quot;xs&quot;\r\n                                                    /&gt;\r\n                        &lt;/ds:Transform&gt;\r\n                    &lt;/ds:Transforms&gt;\r\n                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot; /&gt;\r\n                    &lt;ds:DigestValue&gt;idbj8Fb+1Rbd3HAQHIjCT6bOvTZ6sVvR8uOO21SErIk=&lt;/ds:DigestValue&gt;\r\n                &lt;/ds:Reference&gt;\r\n            &lt;/ds:SignedInfo&gt;\r\n            &lt;ds:SignatureValue&gt;gqdBS2sccxfD7MNBGyaxljOQxPQGI3SN9Pn3uKwLudN+YkLR7D5Ni25W0JVbxxpK8NobEh1L9lomKVZDmEQNyp4DEyyCd/yth325QuOpdGeJGdbpUs3wVbiN9VpKCf3lby7+r/WQUMwUPVeXI5hm2BJgZCQH83xS3cOg1NKpg4+7wb0Fc1dralTCo2Duq+LYFZMWhwQVk6OwD3gPZv/6bhpNzuop+TE7JQQUHL2ieOlGnoacOFszkVJDbL4+Iy2zUIQ9/FX70XMBnr+cUnt1xtsfeuydPkI+9osT9Uqu40maqMmDjqnF5gTTetTGODkr38XXpWFS/Hi64meQZS0Qnw==&lt;/ds:SignatureValue&gt;\r\n\r\n\r\n``` \r\n\r\nNot sure what else would be helpful to post. If anyone has any ideas, or needs to see more, please let me know.\r\n\r\nThanks!","title":"Signature of Assertion from Issuer not valid after upgrading Spring Boot from 2.5.3 to 2.7.3 (using Okta)","body":"<p>I am upgrading Spring Boot in a small project I use for an Okta proof of concept (all the app does is authenticate with okta and then show a home page - for the most part). I have seen where WebSecurityConfigurerAdapter is being deprecated and wanted to update to the newer methods (<a href=\"https://codejava.net/frameworks/spring-boot/fix-websecurityconfigureradapter-deprecated\" rel=\"nofollow noreferrer\">https://codejava.net/frameworks/spring-boot/fix-websecurityconfigureradapter-deprecated</a>).</p>\n<p>Everything works fine in the Spring Boot 2.5.3 version. After I up the version of Spring Boot to 2.7.3 and the okta spring boot starter to 2.1.6 from 2.1.0, do a Maven-&gt;Update Project in Eclipse, I can no longer successfully authenticate. I get the following stack trace</p>\n<pre><code>2022-09-09 11:29:17.246 TRACE 22968 --- [nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with OpenSaml4AuthenticationProvider (1/1)\n2022-09-09 11:29:17.387 DEBUG 22968 --- [nio-8080-exec-5] .s.p.s.a.OpenSaml4AuthenticationProvider : Processing SAML response from http://www.okta.com/exk113scc2hCmGEid0h8\n2022-09-09 11:29:17.742  WARN 22968 --- [nio-8080-exec-5] o.o.s.s.a.SAML20AssertionValidator       : Signature of Assertion 'id26510770681071201581955264' from Issuer 'http://www.okta.com/exk113scc2hCmGEid0h8' was not valid\n2022-09-09 11:29:17.749 DEBUG 22968 --- [nio-8080-exec-5] .s.p.s.a.OpenSaml4AuthenticationProvider : Found 2 validation errors in SAML response [id26510770679528281044304163]: [[invalid_signature] Invalid signature for object [id26510770679528281044304163], [invalid_signature] Invalid assertion [id26510770681071201581955264] for SAML response [id26510770679528281044304163]: Signature of Assertion 'id26510770681071201581955264' from Issuer 'http://www.okta.com/exk113scc2hCmGEid0h8' was not valid]\n2022-09-09 11:29:17.751 TRACE 22968 --- [nio-8080-exec-5] .p.s.s.f.Saml2WebSsoAuthenticationFilter : Failed to process authentication request\n\norg.springframework.security.saml2.provider.service.authentication.Saml2AuthenticationException: Invalid signature for object [id26510770679528281044304163]\n    at org.springframework.security.saml2.provider.service.authentication.OpenSaml4AuthenticationProvider.createAuthenticationException(OpenSaml4AuthenticationProvider.java:698) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\n    at org.springframework.security.saml2.provider.service.authentication.OpenSaml4AuthenticationProvider.process(OpenSaml4AuthenticationProvider.java:570) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\n    at org.springframework.security.saml2.provider.service.authentication.OpenSaml4AuthenticationProvider.authenticate(OpenSaml4AuthenticationProvider.java:489) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.3.jar:5.7.3]\n    at org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationFilter.attemptAuthentication(Saml2WebSsoAuthenticationFilter.java:113) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationRequestFilter.doFilterInternal(Saml2WebSsoAuthenticationRequestFilter.java:192) ~[spring-security-saml2-service-provider-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.44]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[catalina.jar:9.0.44]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-coyote.jar:9.0.44]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.44]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-coyote.jar:9.0.44]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707) ~[tomcat-coyote.jar:9.0.44]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.44]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.44]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n</code></pre>\n<p>I did a saml trace and things look similar with the saml payloads. The IDs, etc are different as expected. The Signature values are different as well. Here is the assertion portion of my saml:</p>\n<p><strong>OLD</strong></p>\n<pre><code>&lt;saml2:Assertion xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\n                     xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n                     ID=&quot;id2634485574464025924231175&quot;\n                     IssueInstant=&quot;2022-09-09T15:57:50.115Z&quot;\n                     Version=&quot;2.0&quot;\n                     &gt;\n        &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\n                      Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\n                      &gt;http://www.okta.com/exk113scc2hCmGEid0h8&lt;/saml2:Issuer&gt;\n        &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n            &lt;ds:SignedInfo&gt;\n                &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; /&gt;\n                &lt;ds:Reference URI=&quot;#id2634485574464025924231175&quot;&gt;\n                    &lt;ds:Transforms&gt;\n                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; /&gt;\n                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                            &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                                    PrefixList=&quot;xs&quot;\n                                                    /&gt;\n                        &lt;/ds:Transform&gt;\n                    &lt;/ds:Transforms&gt;\n                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot; /&gt;\n                    &lt;ds:DigestValue&gt;oEj+Jgho7r5rSE9MirhggLlUJ+vm2AbP4j3tBIf8qCA=&lt;/ds:DigestValue&gt;\n                &lt;/ds:Reference&gt;\n            &lt;/ds:SignedInfo&gt;\n            &lt;ds:SignatureValue&gt;QdnhyP1NaARby0yHLvXjEZl8eDvYOy8ge6ZHrfX4XnfySHkmkoKwqaDeWPSXPH3im1mP3Ch5q8AwZ1aiyvO4bdwqbFlhvaNo7bCYCZD+A1p9CpelD5QlXsUpMHsNE3LKNzxezxr8Pjn9x4+zP8yQMKMr0jxVOc+iDbjRpKvUDFO5WX7xwbBjAemVgk0Vir0rW8MwllgBeCUsCR7oWgJNO5PpjsTgu3S+2tEBpIOuoeSap5oC2TfVTKzID0wY5UtCCKpackDkG0mDVGsA9MJEd2AE4zaRAyk4SWafvjDkEj5RAmrDvb0CuIqphqLaph+SgAVrLE3YgLMnCs/8hRX2Fw==&lt;/ds:SignatureValue&gt;\n\n</code></pre>\n<p><strong>NEW</strong></p>\n<pre><code>&lt;saml2:Assertion xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\n                     xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n                     ID=&quot;id2643957096229591101765578&quot;\n                     IssueInstant=&quot;2022-09-09T15:50:46.615Z&quot;\n                     Version=&quot;2.0&quot;\n                     &gt;\n        &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\n                      Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\n                      &gt;http://www.okta.com/exk113scc2hCmGEid0h8&lt;/saml2:Issuer&gt;\n        &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n            &lt;ds:SignedInfo&gt;\n                &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; /&gt;\n                &lt;ds:Reference URI=&quot;#id2643957096229591101765578&quot;&gt;\n                    &lt;ds:Transforms&gt;\n                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; /&gt;\n                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                            &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                                    PrefixList=&quot;xs&quot;\n                                                    /&gt;\n                        &lt;/ds:Transform&gt;\n                    &lt;/ds:Transforms&gt;\n                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot; /&gt;\n                    &lt;ds:DigestValue&gt;idbj8Fb+1Rbd3HAQHIjCT6bOvTZ6sVvR8uOO21SErIk=&lt;/ds:DigestValue&gt;\n                &lt;/ds:Reference&gt;\n            &lt;/ds:SignedInfo&gt;\n            &lt;ds:SignatureValue&gt;gqdBS2sccxfD7MNBGyaxljOQxPQGI3SN9Pn3uKwLudN+YkLR7D5Ni25W0JVbxxpK8NobEh1L9lomKVZDmEQNyp4DEyyCd/yth325QuOpdGeJGdbpUs3wVbiN9VpKCf3lby7+r/WQUMwUPVeXI5hm2BJgZCQH83xS3cOg1NKpg4+7wb0Fc1dralTCo2Duq+LYFZMWhwQVk6OwD3gPZv/6bhpNzuop+TE7JQQUHL2ieOlGnoacOFszkVJDbL4+Iy2zUIQ9/FX70XMBnr+cUnt1xtsfeuydPkI+9osT9Uqu40maqMmDjqnF5gTTetTGODkr38XXpWFS/Hi64meQZS0Qnw==&lt;/ds:SignatureValue&gt;\n\n\n</code></pre>\n<p>Not sure what else would be helpful to post. If anyone has any ideas, or needs to see more, please let me know.</p>\n<p>Thanks!</p>\n"},{"tags":["java","classloader","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1665986340,"post_id":74071806,"comment_id":130818821,"body_markdown":"You can use the `-verbose:class` JVM flag to get verbose ClassLoading logging information but I am not sure it will help. It would probably be easier to add a breakpoint in `ObjectMapper` and print the stacktrace when the breakpoint is reached.","body":"You can use the <code>-verbose:class</code> JVM flag to get verbose ClassLoading logging information but I am not sure it will help. It would probably be easier to add a breakpoint in <code>ObjectMapper</code> and print the stacktrace when the breakpoint is reached."},{"owner":{"account_id":4671261,"reputation":1080,"user_id":3783006,"accept_rate":73,"display_name":"Avi"},"score":0,"creation_date":1666023240,"post_id":74071806,"comment_id":130831763,"body_markdown":"Its deployed in a pod on kubernetes, makes it harder to debug that way, so looking at some programmatic way which can put this information to the log file","body":"Its deployed in a pod on kubernetes, makes it harder to debug that way, so looking at some programmatic way which can put this information to the log file"}],"owner":{"account_id":4671261,"reputation":1080,"user_id":3783006,"accept_rate":73,"display_name":"Avi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665762565,"creation_date":1665762565,"question_id":74071806,"body_markdown":"We seem to have a conflict in loading the ObjectMapper when the Quarkus service starts. In one of the common jars which the service dependeds on, we have set the deserialization property FAIL_ON_UNKNOWN_PROPERTIES  to false, but at runtime the value is true when the ObjectMapper is getting used. We want to know which dependency may be setting this to true or overriding our configuration at runtime. \r\n\r\nIs there a way we can print/log the class loading order from the various dependency jars during service startup?","title":"Print the class loading order while starting a quarkus service","body":"<p>We seem to have a conflict in loading the ObjectMapper when the Quarkus service starts. In one of the common jars which the service dependeds on, we have set the deserialization property FAIL_ON_UNKNOWN_PROPERTIES  to false, but at runtime the value is true when the ObjectMapper is getting used. We want to know which dependency may be setting this to true or overriding our configuration at runtime.</p>\n<p>Is there a way we can print/log the class loading order from the various dependency jars during service startup?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665762133,"creation_date":1516725286,"answer_id":48406670,"question_id":48405853,"body_markdown":"Seems pretty straightforward.  Strip off `MY_ARGS=`.  Then, if the string starts with a quote, it must end with a quote, and you can strip off both of those as well. \r\n\r\nNow, you should be left with:\r\n\r\n    ...before-text... -Dpassword=pa&quot;ss&quot; ...after-text...\r\n\r\nAnd the regex `-Dpassword=(\\S+)` should give you your required password. \r\n\r\n","title":"Java regex for parsing environment variables (unix, win)","body":"<p>Seems pretty straightforward.  Strip off <code>MY_ARGS=</code>.  Then, if the string starts with a quote, it must end with a quote, and you can strip off both of those as well.</p>\n<p>Now, you should be left with:</p>\n<pre><code>...before-text... -Dpassword=pa&quot;ss&quot; ...after-text...\n</code></pre>\n<p>And the regex <code>-Dpassword=(\\S+)</code> should give you your required password.</p>\n"}],"owner":{"account_id":11123759,"reputation":1,"user_id":8165905,"display_name":"f0lik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665762133,"creation_date":1516722919,"question_id":48405853,"body_markdown":"lets say I have String line with my custom environment variables read from file, which is depend on operating system:\r\n\r\n*Linux* (must be in quotes, user pass contains &quot; in it):\r\n\r\n&gt; **MY_ARGS=&quot;-DusePassword=true -Dpassword=pa&quot;ss&quot;**\r\n\r\n*Win* (without quotes)\r\n\r\n&gt; **MY_ARGS=-DusePassword=true -Dpassword=pa&quot;ss**\r\n\r\n*Win* (without quotes, password in the middle)\r\n\r\n&gt; **MY_ARGS=-DusePassword=true -Dpassword=pa&quot;ss -Duser=somebody**\r\n\r\nI need to get value of -Dpassword into one group and heading and following text into other groups. I&#39;m unable to find correct regex pattern to achieve this. Position of args does not matter, so they may be switched. There may be even more arguments.\r\n\r\nRequired result is something like this:\r\n\r\n - group[1] = MY_ARGS=&quot;-DusePassword=true -Dpassword= \r\n - group[2] = pa&quot;ss\r\n - group[3] = &quot; (or empty for windows, or filled with text after\r\n   password value)","title":"Java regex for parsing environment variables (unix, win)","body":"<p>lets say I have String line with my custom environment variables read from file, which is depend on operating system:</p>\n\n<p><em>Linux</em> (must be in quotes, user pass contains \" in it):</p>\n\n<blockquote>\n  <p><strong>MY_ARGS=\"-DusePassword=true -Dpassword=pa\"ss\"</strong></p>\n</blockquote>\n\n<p><em>Win</em> (without quotes)</p>\n\n<blockquote>\n  <p><strong>MY_ARGS=-DusePassword=true -Dpassword=pa\"ss</strong></p>\n</blockquote>\n\n<p><em>Win</em> (without quotes, password in the middle)</p>\n\n<blockquote>\n  <p><strong>MY_ARGS=-DusePassword=true -Dpassword=pa\"ss -Duser=somebody</strong></p>\n</blockquote>\n\n<p>I need to get value of -Dpassword into one group and heading and following text into other groups. I'm unable to find correct regex pattern to achieve this. Position of args does not matter, so they may be switched. There may be even more arguments.</p>\n\n<p>Required result is something like this:</p>\n\n<ul>\n<li>group[1] = MY_ARGS=\"-DusePassword=true -Dpassword= </li>\n<li>group[2] = pa\"ss</li>\n<li>group[3] = \" (or empty for windows, or filled with text after\npassword value)</li>\n</ul>\n"},{"tags":["java","arrays","instance-variables"],"comments":[{"owner":{"account_id":4753576,"reputation":622,"user_id":3842946,"display_name":"name not found"},"score":2,"creation_date":1585906531,"post_id":61008874,"comment_id":107934565,"body_markdown":"if you want to modify elements in an array you need to do it like `array2[index] = array1[index]`","body":"if you want to modify elements in an array you need to do it like <code>array2[index] = array1[index]</code>"},{"owner":{"account_id":1916687,"reputation":1035,"user_id":1729151,"accept_rate":84,"display_name":"2one"},"score":0,"creation_date":1585906639,"post_id":61008874,"comment_id":107934614,"body_markdown":"I realise that. I do that within a `for` loop but I thought I could set all the elements in array2 equal to elements in array1 first before I modify some of the elements in array2.","body":"I realise that. I do that within a <code>for</code> loop but I thought I could set all the elements in array2 equal to elements in array1 first before I modify some of the elements in array2."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585906623,"creation_date":1585906623,"answer_id":61008954,"question_id":61008874,"body_markdown":"Assigning `array2 = array1` sets `array2` to point to the array as `array1`. Whenever you modify the array (e.g., `array[0] = 123`) both variables will &quot;see&quot; the change, since they both point to the same array. If you want to copy the elements of the array, you&#39;ll have to do so by iterating over the array and assigning values to it (or use a helper method that does just that, such as `Arrays.copyOf`). E.g.:\r\n\r\n```java\r\n// Assumption: Both arrays are initialized and array1.length = array2.length\r\n\r\nfor (int i = 0; i &lt; array1.length; ++i) {\r\n    array2[i] = array1[i];\r\n    // some additional logic on array2[i]\r\n}\r\n```","title":"Java: Instance double arrays element values modification issue","body":"<p>Assigning <code>array2 = array1</code> sets <code>array2</code> to point to the array as <code>array1</code>. Whenever you modify the array (e.g., <code>array[0] = 123</code>) both variables will \"see\" the change, since they both point to the same array. If you want to copy the elements of the array, you'll have to do so by iterating over the array and assigning values to it (or use a helper method that does just that, such as <code>Arrays.copyOf</code>). E.g.:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Assumption: Both arrays are initialized and array1.length = array2.length\n\nfor (int i = 0; i &lt; array1.length; ++i) {\n    array2[i] = array1[i];\n    // some additional logic on array2[i]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1916687,"reputation":1035,"user_id":1729151,"accept_rate":84,"display_name":"2one"},"score":0,"creation_date":1585907842,"post_id":61008975,"comment_id":107935155,"body_markdown":"I went with this method thanks. Also I already had the required `import java.util.Arrays;` in my class file.","body":"I went with this method thanks. Also I already had the required <code>import java.util.Arrays;</code> in my class file."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1585908122,"post_id":61008975,"comment_id":107935294,"body_markdown":"Note that `clone()` is more efficient than `Arrays.copyOf` if you want to create a copy of the whole array.","body":"Note that <code>clone()</code> is more efficient than <code>Arrays.copyOf</code> if you want to create a copy of the whole array."},{"owner":{"account_id":1916687,"reputation":1035,"user_id":1729151,"accept_rate":84,"display_name":"2one"},"score":0,"creation_date":1585928086,"post_id":61008975,"comment_id":107945770,"body_markdown":"efficient w.r.t. memory or processing speed?","body":"efficient w.r.t. memory or processing speed?"}],"tags":[],"owner":{"account_id":18092652,"reputation":104,"user_id":13151758,"display_name":"Sam"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1585906692,"creation_date":1585906692,"answer_id":61008975,"question_id":61008874,"body_markdown":"Instead of using assignment with array1 to set array2, you should probably use Arrays.copyOf():\r\n\r\n    array2 = Arrays.copyOf(array1, array1.length);\r\n\r\nHopefully that&#39;ll help","title":"Java: Instance double arrays element values modification issue","body":"<p>Instead of using assignment with array1 to set array2, you should probably use Arrays.copyOf():</p>\n\n<pre><code>array2 = Arrays.copyOf(array1, array1.length);\n</code></pre>\n\n<p>Hopefully that'll help</p>\n"},{"tags":[],"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1665762045,"creation_date":1585906954,"answer_id":61009049,"question_id":61008874,"body_markdown":"Arrays in Java are objects, and variables hold only references. Thus `array1 = array2` only assigns `array2`&#39;s reference to the variable `array1`, and does not copy the contents.","title":"Java: Instance double arrays element values modification issue","body":"<p>Arrays in Java are objects, and variables hold only references. Thus <code>array1 = array2</code> only assigns <code>array2</code>'s reference to the variable <code>array1</code>, and does not copy the contents.</p>\n"},{"tags":[],"owner":{"account_id":9137518,"reputation":1496,"user_id":11945290,"display_name":"Ayman Arif"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585907835,"creation_date":1585907038,"answer_id":61009076,"question_id":61008874,"body_markdown":"By doing `array2=array1`, you are adding a reference of `array2` to `array1`. So whenever you make changes to `array2`, by virtue of reference, `array1` will also change. You need to therefore copy values from one array to other and not pass reference from one array to other.\r\n\r\nIf you want an one-liner answer\r\n\r\n    System.arrayCopy(arrayA, 0, arrayB, 0, arrayB.length);","title":"Java: Instance double arrays element values modification issue","body":"<p>By doing <code>array2=array1</code>, you are adding a reference of <code>array2</code> to <code>array1</code>. So whenever you make changes to <code>array2</code>, by virtue of reference, <code>array1</code> will also change. You need to therefore copy values from one array to other and not pass reference from one array to other.</p>\n\n<p>If you want an one-liner answer</p>\n\n<pre><code>System.arrayCopy(arrayA, 0, arrayB, 0, arrayB.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585907692,"creation_date":1585907204,"answer_id":61009134,"question_id":61008874,"body_markdown":"`array2 = array1;` points `array2` reference to the same instance which is being referred by `array1` which means that if you change a value using any one of these references, the value accessed using the other one will be same.\r\n\r\nDo it as\r\n\r\n    array2 = array1.clone();\r\n\r\nIt will assign a copy of the instance referred by `array1` to `array2`.\r\n\r\n**Demo:**\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[] x = { 1, 2, 3 };\r\n    \t\tint[] y = x.clone();\r\n    \t\tx[2] = 5;\r\n    \t\tSystem.out.println(x[2]);\r\n    \t\tSystem.out.println(y[2]);\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    5\r\n    3\r\n\r\n","title":"Java: Instance double arrays element values modification issue","body":"<p><code>array2 = array1;</code> points <code>array2</code> reference to the same instance which is being referred by <code>array1</code> which means that if you change a value using any one of these references, the value accessed using the other one will be same.</p>\n\n<p>Do it as</p>\n\n<pre><code>array2 = array1.clone();\n</code></pre>\n\n<p>It will assign a copy of the instance referred by <code>array1</code> to <code>array2</code>.</p>\n\n<p><strong>Demo:</strong></p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int[] x = { 1, 2, 3 };\n        int[] y = x.clone();\n        x[2] = 5;\n        System.out.println(x[2]);\n        System.out.println(y[2]);\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>5\n3\n</code></pre>\n"}],"owner":{"account_id":1916687,"reputation":1035,"user_id":1729151,"accept_rate":84,"display_name":"2one"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":61008975,"answer_count":5,"score":4,"last_activity_date":1665762045,"creation_date":1585906334,"question_id":61008874,"body_markdown":"I am new to Java. I have a class for which instances can be created. Within the class I define two instance variables:\r\n\r\n`double[] array1;`\r\n\r\n`double[] array2;`\r\n\r\nThe arrays will be of equal length.\r\n\r\nWithin the class I then have a method1 that first populates `array1` and then another method2 in which I want to set some of the `array2` values = the values in array1 (based on array element index) but also then modify (perform additional operation on) some of the values in array2 (based on array element index). I have tried to do this within method2 by first setting:\r\n\r\n`array2 = array1;`\r\n\r\nand then modifying some of the array2 values based on element index but I see that array1 has been completely modified to equal array2 so realise there is something fundamentally wrong with my approach in Java.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java: Instance double arrays element values modification issue","body":"<p>I am new to Java. I have a class for which instances can be created. Within the class I define two instance variables:</p>\n\n<p><code>double[] array1;</code></p>\n\n<p><code>double[] array2;</code></p>\n\n<p>The arrays will be of equal length.</p>\n\n<p>Within the class I then have a method1 that first populates <code>array1</code> and then another method2 in which I want to set some of the <code>array2</code> values = the values in array1 (based on array element index) but also then modify (perform additional operation on) some of the values in array2 (based on array element index). I have tried to do this within method2 by first setting:</p>\n\n<p><code>array2 = array1;</code></p>\n\n<p>and then modifying some of the array2 values based on element index but I see that array1 has been completely modified to equal array2 so realise there is something fundamentally wrong with my approach in Java.</p>\n"},{"tags":["java","arrays","sorting","arraylist"],"comments":[{"owner":{"display_name":"user6073886"},"score":8,"creation_date":1665758406,"post_id":74070869,"comment_id":130779864,"body_markdown":"1. What you have is not a List but an array 2. You only have 1 array object, but 2 variables `list` and `rojas` pointing at that one single array. In java objects don&#39;t get automatically cloned when you assign them to variables. If you want to make a copy of your 1 array so that you have 2 arrays [you need to create that copy yourself](https://stackoverflow.com/questions/5785745/make-copy-of-an-array)","body":"1. What you have is not a List but an array 2. You only have 1 array object, but 2 variables <code>list</code> and <code>rojas</code> pointing at that one single array. In java objects don&#39;t get automatically cloned when you assign them to variables. If you want to make a copy of your 1 array so that you have 2 arrays <a href=\"https://stackoverflow.com/questions/5785745/make-copy-of-an-array\">you need to create that copy yourself</a>"}],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665758409,"creation_date":1665758409,"answer_id":74070900,"question_id":74070869,"body_markdown":"Are you sure the list has been copied? \r\n\r\nThere is one list with two references. So sorting either variable will sort the single underlying list","title":"I want to order only one list and java is ordering both of them","body":"<p>Are you sure the list has been copied?</p>\n<p>There is one list with two references. So sorting either variable will sort the single underlying list</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665759361,"creation_date":1665759361,"answer_id":74071112,"question_id":74070869,"body_markdown":"As mentioned in the comments, there is only one _array_ (not list) with two references / variables, and therefore when the array is sorted using one reference, the other variables refers the _sorted_ array.  \r\n\r\nYou should create a copy / clone the original array, which can be done like this:\r\n```\r\nint[] rojas = list.clone();\r\n\r\nint[] rojas2 = Arrays.copyOf(list, list.length);\r\n```","title":"I want to order only one list and java is ordering both of them","body":"<p>As mentioned in the comments, there is only one <em>array</em> (not list) with two references / variables, and therefore when the array is sorted using one reference, the other variables refers the <em>sorted</em> array.</p>\n<p>You should create a copy / clone the original array, which can be done like this:</p>\n<pre><code>int[] rojas = list.clone();\n\nint[] rojas2 = Arrays.copyOf(list, list.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665759367,"creation_date":1665759367,"answer_id":74071115,"question_id":74070869,"body_markdown":"Copy the value of the array instead of the reference.\r\n\r\nIt should be\r\n\r\n```java\r\nint[] rojas = Arrays.copyOf(list, list.length);\r\n```","title":"I want to order only one list and java is ordering both of them","body":"<p>Copy the value of the array instead of the reference.</p>\n<p>It should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] rojas = Arrays.copyOf(list, list.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665759368,"creation_date":1665759368,"answer_id":74071116,"question_id":74070869,"body_markdown":"You copy the reference, not the value, as Asad Awadia mentioned.\r\n\r\nYou can do the following to create a new Array:\r\n\r\n```\r\nint[] rojas = list.clone();\r\n```","title":"I want to order only one list and java is ordering both of them","body":"<p>You copy the reference, not the value, as Asad Awadia mentioned.</p>\n<p>You can do the following to create a new Array:</p>\n<pre><code>int[] rojas = list.clone();\n</code></pre>\n"}],"owner":{"account_id":26623415,"reputation":1,"user_id":20241820,"display_name":"tiziano budano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665761814,"answer_count":4,"score":0,"last_activity_date":1665761974,"creation_date":1665758236,"question_id":74070869,"body_markdown":"I am new at Java and I am trying to sort a list called rojas who has been copied from list. When using arrays.sort and then printing it, I realized that both rojas and list are getting sorted.\r\n\r\n    public static void main(String[] args) {\r\n        int[] list = {611, 700, 777, 901, 4124, 8000, 9014, 6213113, 15, 19, 100, 102, 150, 177, 310, 330, 400, 590, 600};\r\n\r\n        int[] rojas = list;\r\n\r\n        int size = 20;\r\n        int value = 100;\r\n  \r\n        for (int i=0 ;i&lt; size-1; i++){\r\n            if(list[i] == value){\r\n               System.out.println(&quot;Element found index is :&quot;+ i);\r\n               break;\r\n            }\r\n            else{\r\n               System.out.println(&quot;Element not found&quot;);}\r\n            \r\n        }\r\n\r\n        Arrays.sort(rojas);\r\n        System.out.println(&quot;element found by binary search is in index: &quot; + Arrays.binarySearch(rojas,100));\r\n\r\n        System.out.println(Arrays.toString(rojas));\r\n        System.out.println(Arrays.toString(list));\r\n    }","title":"I want to order only one list and java is ordering both of them","body":"<p>I am new at Java and I am trying to sort a list called rojas who has been copied from list. When using arrays.sort and then printing it, I realized that both rojas and list are getting sorted.</p>\n<pre><code>public static void main(String[] args) {\n    int[] list = {611, 700, 777, 901, 4124, 8000, 9014, 6213113, 15, 19, 100, 102, 150, 177, 310, 330, 400, 590, 600};\n\n    int[] rojas = list;\n\n    int size = 20;\n    int value = 100;\n\n    for (int i=0 ;i&lt; size-1; i++){\n        if(list[i] == value){\n           System.out.println(&quot;Element found index is :&quot;+ i);\n           break;\n        }\n        else{\n           System.out.println(&quot;Element not found&quot;);}\n        \n    }\n\n    Arrays.sort(rojas);\n    System.out.println(&quot;element found by binary search is in index: &quot; + Arrays.binarySearch(rojas,100));\n\n    System.out.println(Arrays.toString(rojas));\n    System.out.println(Arrays.toString(list));\n}\n</code></pre>\n"},{"tags":["java","list","exception","calendar"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1665766372,"post_id":74071680,"comment_id":130782394,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"score":0,"creation_date":1665768525,"post_id":74071680,"comment_id":130783135,"body_markdown":"Hello, thanks for the advice, do you have any ideea how i can make this work in other way?","body":"Hello, thanks for the advice, do you have any ideea how i can make this work in other way?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665774157,"post_id":74071680,"comment_id":130784847,"body_markdown":"I have posted multiple times on the topic. Search for the term “appointment”. In short: You’ll need to store a `LocalDateTime` *and* a `ZoneId`, storing both while keeping them separate. To calculate a moment for scheduling, combine the two to make a `ZonedDateTime`, but do not store. And store a `Duration` rather than an ending time.","body":"I have posted multiple times on the topic. Search for the term “appointment”. In short: You’ll need to store a <code>LocalDateTime</code> <i>and</i> a <code>ZoneId</code>, storing both while keeping them separate. To calculate a moment for scheduling, combine the two to make a <code>ZonedDateTime</code>, but do not store. And store a <code>Duration</code> rather than an ending time."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665775229,"post_id":74071680,"comment_id":130785185,"body_markdown":"In real work, I would add the *ThreeTen-Extra* library for use in detecting overlap of appointments with its `Interval` class. But if you are doing schoolwork, perhaps you are supposed to do the logic yourself.","body":"In real work, I would add the <i>ThreeTen-Extra</i> library for use in detecting overlap of appointments with its <code>Interval</code> class. But if you are doing schoolwork, perhaps you are supposed to do the logic yourself."},{"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"score":0,"creation_date":1665815344,"post_id":74071680,"comment_id":130790964,"body_markdown":"Im solving it for a platform and this is how it is meant to be solved, i have to use only these stuff","body":"Im solving it for a platform and this is how it is meant to be solved, i have to use only these stuff"},{"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"score":0,"creation_date":1665815387,"post_id":74071680,"comment_id":130790973,"body_markdown":"If anyone can help me adjust my code to make it work would really appreciate it, i still need help","body":"If anyone can help me adjust my code to make it work would really appreciate it, i still need help"}],"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665761937,"creation_date":1665761937,"question_id":74071680,"body_markdown":"so, a little backstory: Before we start, i need to make adjustments only on Schedule class, everything else is already given and is just for understanding the problem.\r\n\r\n**Requirement:**\r\nYou must implement a **Scheduler** class that contains a single method, **schedule()**. The method receives as a parameter a list of objects of type **Meeting**, previously implemented(will post it aswell), and modifies the list so that it contains only the meetings that can be scheduled in a single meeting room, so that they do not overlap, sorted ascending according to Starting date. The solution found must contain a maximum number of meetings.\r\n\r\nIf there are several solutions with a maximum number of meetings, find the solution that has the smallest lexicographic string of meeting end dates. In case of equality between the end dates, the meeting with the lowest start date is required.\r\n\r\nTwo meetings with start dates in ascending order overlap if the start date of the second is less than or equal to the end date of the first.\r\n\r\n**Your code should only contain the definition of the Scheduler class and any helper classes.**\r\n\r\nMethod signature:\r\npublic static void schedule(List &gt;Meeting&lt; meetings) // reversed to be able to write\r\n\r\nCareful\r\n\r\nYou no longer need to implement the Meeting class, it will be automatically included in the code you send and will be defined as follows:\r\n\r\n    import java.text.*;\r\n    import java.util.*;\r\n    \r\n    class Meeting implements Comparable&lt;Meeting&gt; {\r\n        private Calendar starting, ending;\r\n    \r\n        public Meeting(Calendar starting, Calendar ending) {\r\n            if (starting.compareTo(ending) &gt; 0) {\r\n                throw new IllegalArgumentException(&quot;Invalid Data&quot;);\r\n            }\r\n            this.starting = starting;\r\n            this.ending = ending;\r\n        }\r\n    \r\n        public Calendar getStarting() {\r\n            return starting;\r\n        }\r\n    \r\n        public Calendar getEnding() {\r\n            return ending;\r\n        }\r\n    \r\n        public int compareTo(Meeting m) {\r\n            return this.starting.compareTo(m.getStarting());\r\n        }\r\n    \r\n        public String toString() {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy hh:mm:ss&quot;);\r\n            return sdf.format(starting.getTime()) + &quot; -&gt; &quot; + sdf.format(ending.getTime());\r\n        }\r\n    }\r\n     class Scheduler{\r\n    public static void schedule(List&lt;Meeting&gt; meetings) {\r\n        Collections.sort(meetings, new Comparator&lt;Meeting&gt;() {\r\n            @Override\r\n            public int compare(Meeting a, Meeting b) {\r\n                if (a.getStarting().equals(b.getStarting())) {\r\n                    return a.getEnding().compareTo(b.getEnding());\r\n                } else {\r\n                    return a.getStarting().compareTo(b.getStarting());\r\n                }\r\n            }\r\n        });\r\n\r\n        for (int i = 1; i &lt; meetings.size(); ++i) {\r\n            Meeting a = meetings.get(i);\r\n            Meeting b = meetings.get(i - 1);\r\n\r\n            if (a.getStarting().get(Calendar.YEAR) == b.getEnding().get(Calendar.YEAR)) {\r\n                if (a.getStarting().get(Calendar.MONTH) == b.getEnding().get(Calendar.MONTH)) {\r\n                    if (a.getStarting().get(Calendar.DATE) &lt; b.getEnding().get(Calendar.DATE)) {\r\n                        meetings.remove(a);\r\n                    }\r\n                } else if (a.getStarting().get(Calendar.MONTH) &lt; b.getEnding().get(Calendar.MONTH)) {\r\n                    meetings.remove(a);\r\n                }\r\n            } else if (a.getStarting().get(Calendar.YEAR) &lt; b.getEnding().get(Calendar.YEAR)) {\r\n                meetings.remove(a);\r\n            }\r\n        }\r\n    }\r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            try {\r\n                List&lt;Meeting&gt; l = new ArrayList&lt;&gt;();\r\n                l.add(new Meeting(new GregorianCalendar(1, 2, 3),\r\n                        new GregorianCalendar(2, 2, 3)));\r\n                l.add(new Meeting(new GregorianCalendar(1, 2, 3),\r\n                        new GregorianCalendar(5, 2, 3)));\r\n                l.add(new Meeting(new GregorianCalendar(3, 2, 3),\r\n                        new GregorianCalendar(5, 2, 3)));\r\n                Scheduler.schedule(l);\r\n                System.out.println(l);  // [03/03/0001 12:00:00 -&gt; 03/03/0002 12:00:00, 03/03/0003 12:00:00 -&gt; 03/03/0005 12:00:00]  this is a test from platform, if we run the code with the added information, we are supposed to have this on output.\r\n            } catch (IllegalArgumentException e) {\r\n                System.out.print(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nThe thing is, the code seems to be working fine but if i make another test like:\r\n\r\nTest 1:\r\n\r\n    l.add(new Meeting(new GregorianCalendar(5, 2, 3),\r\n    new GregorianCalendar(5, 2, 3)));\r\n    l.add(new Meeting(new GregorianCalendar(6, 2, 3),\r\n    new GregorianCalendar(7, 2, 3)));\r\n    l.add(new Meeting(new GregorianCalendar(4, 2, 3),\r\n    new GregorianCalendar(5, 2, 3)));\r\n    l.add(new Meeting(new GregorianCalendar(6, 2, 7),\r\n    new GregorianCalendar(6, 2, 7)));\r\n        The output is this &quot; [03/03/0004 12:00:00 -&gt; 03/03/0005 12:00:00, 03/03/0005 12:00:00 -&gt; 03/03/0005 12:00:00, 03/03/0006 12:00:00 -&gt; 03/03/0007 12:00:00] &quot;\r\n         instead of this\r\n     &quot;[03/03/0004 12:00:00 -&gt; 03/03/0005 12:00:00, 07/03/0006 12:00:00 -&gt; 07/03/0006 12:00:00]\r\n\r\nI am really trying so hard to see where is the issue but i can&#39;t find it, if anyone sees something please text me, i&#39;ve spent so much time on trying to find the issue but i simply cannot, thank you!\r\n\r\nSo again, the adjustments have to be made only in the Scheduler class.\r\n\r\nOn demand, i can give another example, but it s too much written so far, give me a comment if you need another example of why it isnt working.\r\n","title":"Issue with the Calendar Lists","body":"<p>so, a little backstory: Before we start, i need to make adjustments only on Schedule class, everything else is already given and is just for understanding the problem.</p>\n<p><strong>Requirement:</strong>\nYou must implement a <strong>Scheduler</strong> class that contains a single method, <strong>schedule()</strong>. The method receives as a parameter a list of objects of type <strong>Meeting</strong>, previously implemented(will post it aswell), and modifies the list so that it contains only the meetings that can be scheduled in a single meeting room, so that they do not overlap, sorted ascending according to Starting date. The solution found must contain a maximum number of meetings.</p>\n<p>If there are several solutions with a maximum number of meetings, find the solution that has the smallest lexicographic string of meeting end dates. In case of equality between the end dates, the meeting with the lowest start date is required.</p>\n<p>Two meetings with start dates in ascending order overlap if the start date of the second is less than or equal to the end date of the first.</p>\n<p><strong>Your code should only contain the definition of the Scheduler class and any helper classes.</strong></p>\n<p>Method signature:\npublic static void schedule(List &gt;Meeting&lt; meetings) // reversed to be able to write</p>\n<p>Careful</p>\n<p>You no longer need to implement the Meeting class, it will be automatically included in the code you send and will be defined as follows:</p>\n<pre><code>import java.text.*;\nimport java.util.*;\n\nclass Meeting implements Comparable&lt;Meeting&gt; {\n    private Calendar starting, ending;\n\n    public Meeting(Calendar starting, Calendar ending) {\n        if (starting.compareTo(ending) &gt; 0) {\n            throw new IllegalArgumentException(&quot;Invalid Data&quot;);\n        }\n        this.starting = starting;\n        this.ending = ending;\n    }\n\n    public Calendar getStarting() {\n        return starting;\n    }\n\n    public Calendar getEnding() {\n        return ending;\n    }\n\n    public int compareTo(Meeting m) {\n        return this.starting.compareTo(m.getStarting());\n    }\n\n    public String toString() {\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy hh:mm:ss&quot;);\n        return sdf.format(starting.getTime()) + &quot; -&gt; &quot; + sdf.format(ending.getTime());\n    }\n}\n class Scheduler{\npublic static void schedule(List&lt;Meeting&gt; meetings) {\n    Collections.sort(meetings, new Comparator&lt;Meeting&gt;() {\n        @Override\n        public int compare(Meeting a, Meeting b) {\n            if (a.getStarting().equals(b.getStarting())) {\n                return a.getEnding().compareTo(b.getEnding());\n            } else {\n                return a.getStarting().compareTo(b.getStarting());\n            }\n        }\n    });\n\n    for (int i = 1; i &lt; meetings.size(); ++i) {\n        Meeting a = meetings.get(i);\n        Meeting b = meetings.get(i - 1);\n\n        if (a.getStarting().get(Calendar.YEAR) == b.getEnding().get(Calendar.YEAR)) {\n            if (a.getStarting().get(Calendar.MONTH) == b.getEnding().get(Calendar.MONTH)) {\n                if (a.getStarting().get(Calendar.DATE) &lt; b.getEnding().get(Calendar.DATE)) {\n                    meetings.remove(a);\n                }\n            } else if (a.getStarting().get(Calendar.MONTH) &lt; b.getEnding().get(Calendar.MONTH)) {\n                meetings.remove(a);\n            }\n        } else if (a.getStarting().get(Calendar.YEAR) &lt; b.getEnding().get(Calendar.YEAR)) {\n            meetings.remove(a);\n        }\n    }\n}\n}\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        try {\n            List&lt;Meeting&gt; l = new ArrayList&lt;&gt;();\n            l.add(new Meeting(new GregorianCalendar(1, 2, 3),\n                    new GregorianCalendar(2, 2, 3)));\n            l.add(new Meeting(new GregorianCalendar(1, 2, 3),\n                    new GregorianCalendar(5, 2, 3)));\n            l.add(new Meeting(new GregorianCalendar(3, 2, 3),\n                    new GregorianCalendar(5, 2, 3)));\n            Scheduler.schedule(l);\n            System.out.println(l);  // [03/03/0001 12:00:00 -&gt; 03/03/0002 12:00:00, 03/03/0003 12:00:00 -&gt; 03/03/0005 12:00:00]  this is a test from platform, if we run the code with the added information, we are supposed to have this on output.\n        } catch (IllegalArgumentException e) {\n            System.out.print(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>The thing is, the code seems to be working fine but if i make another test like:</p>\n<p>Test 1:</p>\n<pre><code>l.add(new Meeting(new GregorianCalendar(5, 2, 3),\nnew GregorianCalendar(5, 2, 3)));\nl.add(new Meeting(new GregorianCalendar(6, 2, 3),\nnew GregorianCalendar(7, 2, 3)));\nl.add(new Meeting(new GregorianCalendar(4, 2, 3),\nnew GregorianCalendar(5, 2, 3)));\nl.add(new Meeting(new GregorianCalendar(6, 2, 7),\nnew GregorianCalendar(6, 2, 7)));\n    The output is this &quot; [03/03/0004 12:00:00 -&gt; 03/03/0005 12:00:00, 03/03/0005 12:00:00 -&gt; 03/03/0005 12:00:00, 03/03/0006 12:00:00 -&gt; 03/03/0007 12:00:00] &quot;\n     instead of this\n &quot;[03/03/0004 12:00:00 -&gt; 03/03/0005 12:00:00, 07/03/0006 12:00:00 -&gt; 07/03/0006 12:00:00]\n</code></pre>\n<p>I am really trying so hard to see where is the issue but i can't find it, if anyone sees something please text me, i've spent so much time on trying to find the issue but i simply cannot, thank you!</p>\n<p>So again, the adjustments have to be made only in the Scheduler class.</p>\n<p>On demand, i can give another example, but it s too much written so far, give me a comment if you need another example of why it isnt working.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":6,"creation_date":1388100870,"post_id":20792674,"comment_id":31170235,"body_markdown":"You need to pay google if the app charges for anything.","body":"You need to pay google if the app charges for anything."},{"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"score":3,"creation_date":1388101003,"post_id":20792674,"comment_id":31170267,"body_markdown":"Only if you distribute through Google&#39;s channels, @Sotirios.","body":"Only if you distribute through Google&#39;s channels, @Sotirios."},{"owner":{"account_id":2189421,"reputation":2700,"user_id":1936950,"accept_rate":76,"display_name":"Viktor K."},"score":2,"creation_date":1388101015,"post_id":20792674,"comment_id":31170269,"body_markdown":"http://www.oracle.com/technetwork/java/faq-141681.html#D1","body":"<a href=\"http://www.oracle.com/technetwork/java/faq-141681.html#D1\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/faq-141681.html#D1</a>"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388101059,"post_id":20792674,"comment_id":31170279,"body_markdown":"@MichaelPetrotta So if you had an in-app store, you wouldn&#39;t have to?","body":"@MichaelPetrotta So if you had an in-app store, you wouldn&#39;t have to?"},{"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"score":1,"creation_date":1388101169,"post_id":20792674,"comment_id":31170303,"body_markdown":"I don&#39;t know what the Play store policy is for DLC, but if I make my app available from other stores, or just on my website, Google doesn&#39;t get a cut of anything, @Sotirios.","body":"I don&#39;t know what the Play store policy is for DLC, but if I make my app available from other stores, or just on my website, Google doesn&#39;t get a cut of anything, @Sotirios."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388101297,"post_id":20792674,"comment_id":31170338,"body_markdown":"@MichaelPetrotta Oh, that&#39;s not what I meant.","body":"@MichaelPetrotta Oh, that&#39;s not what I meant."},{"owner":{"account_id":2025099,"reputation":447,"user_id":1810347,"accept_rate":80,"display_name":"Lexus de Vinco"},"score":0,"creation_date":1389291903,"post_id":20792674,"comment_id":31610110,"body_markdown":"I asked about JAVA specifically. So are you saying that if I distribute through Googles channels, that I will have to pay to use JAVA? So I have to get a like a JAVA lincense? @Michael","body":"I asked about JAVA specifically. So are you saying that if I distribute through Googles channels, that I will have to pay to use JAVA? So I have to get a like a JAVA lincense? @Michael"},{"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"score":1,"creation_date":1389305579,"post_id":20792674,"comment_id":31618041,"body_markdown":"You don&#39;t need a license to use Java. You need to work with Google to distribute Android apps (written with Java or some other language) through the Google Play store. Nothing specific to Java.","body":"You don&#39;t need a license to use Java. You need to work with Google to distribute Android apps (written with Java or some other language) through the Google Play store. Nothing specific to Java."},{"owner":{"display_name":"user1864610"},"score":0,"creation_date":1395959203,"post_id":20792674,"comment_id":34588748,"body_markdown":"This question appears to be off-topic because it is about licence fees and software pricing.","body":"This question appears to be off-topic because it is about licence fees and software pricing."}],"answers":[{"comments":[{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":3,"creation_date":1388101475,"post_id":20792679,"comment_id":31170381,"body_markdown":"i love this kind of answers with high score xD stackoverflow magic","body":"i love this kind of answers with high score xD stackoverflow magic"}],"tags":[],"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1665761842,"creation_date":1388100849,"answer_id":20792679,"question_id":20792674,"body_markdown":"No, you don&#39;t need to pay Oracle for using Java.\r\n","title":"Do I have to pay Oracle to use Java?","body":"<p>No, you don't need to pay Oracle for using Java.</p>\n"},{"comments":[{"owner":{"account_id":470330,"reputation":10950,"user_id":877472,"accept_rate":77,"display_name":"Paul Richter"},"score":0,"creation_date":1388112708,"post_id":20793836,"comment_id":31172848,"body_markdown":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post - you can always comment on your own posts, and once you have sufficient [reputation](http://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](http://stackoverflow.com/help/privileges/comment).","body":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post - you can always comment on your own posts, and once you have sufficient <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"http://stackoverflow.com/help/privileges/comment\">comment on any post</a>."},{"owner":{"account_id":2644958,"reputation":13447,"user_id":2554605,"accept_rate":90,"display_name":"Michael Yaworski"},"score":3,"creation_date":1388760612,"post_id":20793836,"comment_id":31381649,"body_markdown":"@Teeg Are you crazy? This provides an exact answer to the question. Please don&#39;t mindlessly review &quot;low quality posts&quot; and actually read the answers in context to the question.","body":"@Teeg Are you crazy? This provides an exact answer to the question. Please don&#39;t mindlessly review &quot;low quality posts&quot; and actually read the answers in context to the question."},{"owner":{"account_id":470330,"reputation":10950,"user_id":877472,"accept_rate":77,"display_name":"Paul Richter"},"score":0,"creation_date":1388761453,"post_id":20793836,"comment_id":31382257,"body_markdown":"@mikeyaworski Calm yourself, good sir. I agree, an oversight on my part.","body":"@mikeyaworski Calm yourself, good sir. I agree, an oversight on my part."}],"tags":[],"owner":{"account_id":3777964,"reputation":82,"user_id":3138210,"display_name":"whatisjavabean"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1388760714,"creation_date":1388110436,"answer_id":20793836,"question_id":20792674,"body_markdown":"Java is free, open source product; you do not need to pay Oracle for using Java.","title":"Do I have to pay Oracle to use Java?","body":"<p>Java is free, open source product; you do not need to pay Oracle for using Java.</p>\n"},{"tags":[],"owner":{"account_id":3775268,"reputation":739,"user_id":3136271,"accept_rate":33,"display_name":"SuRu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388129646,"creation_date":1388129646,"answer_id":20796750,"question_id":20792674,"body_markdown":"Oracle remains committed to **OpenJDK** as the best **open-source** Java implementation","title":"Do I have to pay Oracle to use Java?","body":"<p>Oracle remains committed to <strong>OpenJDK</strong> as the best <strong>open-source</strong> Java implementation</p>\n"}],"owner":{"account_id":2025099,"reputation":447,"user_id":1810347,"accept_rate":80,"display_name":"Lexus de Vinco"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1725,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":20793836,"answer_count":3,"score":5,"last_activity_date":1665761842,"creation_date":1388100817,"question_id":20792674,"body_markdown":"Do I have to pay oracle if I use Java to code a app that I will eventually monetize?\r\n\r\nIt will be a android app/game for the google play store.\r\n","title":"Do I have to pay Oracle to use Java?","body":"<p>Do I have to pay oracle if I use Java to code a app that I will eventually monetize?</p>\n\n<p>It will be a android app/game for the google play store.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1344426515,"post_id":11863822,"comment_id":15781477,"body_markdown":"+1 In other words, the `javac` compiler optimised away the need for the `Doubt` class.","body":"+1 In other words, the <code>javac</code> compiler optimised away the need for the <code>Doubt</code> class."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1344426550,"post_id":11863822,"comment_id":15781490,"body_markdown":"@Thilo: No, it *does* happen for String as well, so long as it&#39;s a compile-time constant. See section 15.28 of the JLS for details.","body":"@Thilo: No, it <i>does</i> happen for String as well, so long as it&#39;s a compile-time constant. See section 15.28 of the JLS for details."},{"owner":{"account_id":1105691,"reputation":2308,"user_id":1097125,"accept_rate":81,"display_name":"J.K"},"score":0,"creation_date":1344426603,"post_id":11863822,"comment_id":15781518,"body_markdown":"`package com.test.doubt;\nclass Doubt{\n\tpublic static final int constant = 123;\n\tpublic static int stat = 123;\n\n\tstatic {\n\t\tSystem.out.println(&quot;Static Block&quot;);\n\t}\n\n}\npublic class MyProgram {\n\n\tpublic static void main(String[] args) {\n\n//\t\tSystem.out.println(Doubt.constant);\n\t\tSystem.out.println(Doubt.stat);\n\t\t\n\t\t\n\t}\n\n}\n` but this code prints the static block,hence i get confused","body":"<code>package com.test.doubt; class Doubt{ \tpublic static final int constant = 123; \tpublic static int stat = 123;  \tstatic { \t\tSystem.out.println(&quot;Static Block&quot;); \t}  } public class MyProgram {  \tpublic static void main(String[] args) {  &#47;&#47;\t\tSystem.out.println(Doubt.constant); \t\tSystem.out.println(Doubt.stat); \t\t \t\t \t}  } </code> but this code prints the static block,hence i get confused"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1344426604,"post_id":11863822,"comment_id":15781519,"body_markdown":"I just tried it and AFAIK this happens for any constant known at compile time.","body":"I just tried it and AFAIK this happens for any constant known at compile time."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1344426613,"post_id":11863822,"comment_id":15781526,"body_markdown":"Also note the side-effect this has when you try to change the constant by by updating the referred class file. Does not work, because the definition is only used at compile-time (of the class that uses it).","body":"Also note the side-effect this has when you try to change the constant by by updating the referred class file. Does not work, because the definition is only used at compile-time (of the class that uses it)."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1344426639,"post_id":11863822,"comment_id":15781536,"body_markdown":"@jenuine You are using a value which is not a constant at compile time, so the class has to be loaded.","body":"@jenuine You are using a value which is not a constant at compile time, so the class has to be loaded."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1344426644,"post_id":11863822,"comment_id":15781539,"body_markdown":"@jenuine: Yes, `stat` is not a constant - it&#39;s not final.","body":"@jenuine: Yes, <code>stat</code> is not a constant - it&#39;s not final."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1344426711,"post_id":11863822,"comment_id":15781564,"body_markdown":"Re: String. Wow, did not know that. Is that special treatment for String? It cannot work that way for any old object, right?","body":"Re: String. Wow, did not know that. Is that special treatment for String? It cannot work that way for any old object, right?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1344427047,"post_id":11863822,"comment_id":15781703,"body_markdown":"Done :-) So it is primitives *and* Strings. Apparently not Integer, for example.","body":"Done :-) So it is primitives <i>and</i> Strings. Apparently not Integer, for example."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1344427231,"post_id":11863822,"comment_id":15781778,"body_markdown":"@Thilo: Indeed - which would have made sense to include if autoboxing had been present right from the start, admittedly...","body":"@Thilo: Indeed - which would have made sense to include if autoboxing had been present right from the start, admittedly..."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1344427324,"post_id":11863822,"comment_id":15781828,"body_markdown":"A lot of things would be nicer if Java had started at 5 ;-)","body":"A lot of things would be nicer if Java had started at 5 ;-)"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":11,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1344426436,"creation_date":1344426436,"answer_id":11863822,"question_id":11863800,"body_markdown":"Your code isn&#39;t initializing the `Doubt` class, precisely because `Doubt.constant` *is* a constant. Its value is baked into `MyProgram` at compile-time - you could even delete `Doubt.class` after compilation and your program would still run.\r\n\r\nRun\r\n\r\n    javap -c com.test.doubt.MyProgram\r\n\r\nto have a look at exactly what your code looks like after compilation.\r\n\r\nSee [section 15.28 of the JLS][1] for what constitutes a constant expression. For example, this would still be a constant:\r\n\r\n    public static final String FOO = &quot;Foo&quot;;\r\n\r\nand so would *all* of these:\r\n\r\n    public static final String FOO = &quot;Foo&quot;;\r\n    public static final String BAR = &quot;Bar&quot;;\r\n    public static final String FOOBAR = FOO + BAR;\r\n\r\n... but this wouldn&#39;t be\r\n\r\n    public static final String NOT_A_CONSTANT = &quot;Foo&quot;.substring(0, 1);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28","title":"Why code in static block does not execute?","body":"<p>Your code isn't initializing the <code>Doubt</code> class, precisely because <code>Doubt.constant</code> <em>is</em> a constant. Its value is baked into <code>MyProgram</code> at compile-time - you could even delete <code>Doubt.class</code> after compilation and your program would still run.</p>\n\n<p>Run</p>\n\n<pre><code>javap -c com.test.doubt.MyProgram\n</code></pre>\n\n<p>to have a look at exactly what your code looks like after compilation.</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\">section 15.28 of the JLS</a> for what constitutes a constant expression. For example, this would still be a constant:</p>\n\n<pre><code>public static final String FOO = \"Foo\";\n</code></pre>\n\n<p>and so would <em>all</em> of these:</p>\n\n<pre><code>public static final String FOO = \"Foo\";\npublic static final String BAR = \"Bar\";\npublic static final String FOOBAR = FOO + BAR;\n</code></pre>\n\n<p>... but this wouldn't be</p>\n\n<pre><code>public static final String NOT_A_CONSTANT = \"Foo\".substring(0, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1344426488,"creation_date":1344426488,"answer_id":11863843,"question_id":11863800,"body_markdown":"The `static final int` will get compiled directly into your code as its value. That is to say, the JVM sees and is executing:\r\n\r\n    System.out.println(123);\r\n\r\nand you&#39;re not touching your aptly-named `Doubt` class at all (this is an argument for **not** specifying constants in this fashion, btw. If you change that value you have to recompile *every* referencing class)","title":"Why code in static block does not execute?","body":"<p>The <code>static final int</code> will get compiled directly into your code as its value. That is to say, the JVM sees and is executing:</p>\n\n<pre><code>System.out.println(123);\n</code></pre>\n\n<p>and you're not touching your aptly-named <code>Doubt</code> class at all (this is an argument for <strong>not</strong> specifying constants in this fashion, btw. If you change that value you have to recompile <em>every</em> referencing class)</p>\n"}],"owner":{"account_id":1105691,"reputation":2308,"user_id":1097125,"accept_rate":81,"display_name":"J.K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2363,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":11863843,"answer_count":2,"score":9,"last_activity_date":1665761475,"creation_date":1344426328,"question_id":11863800,"body_markdown":"When I print the `constant` in `main`, the `static` block does not execute, but when I print `stat`, it does execute. Is there any importance to `static final` in Java?\r\n\r\n    package com.test.doubt;\r\n\r\n    class Doubt {\r\n\r\n      public static final int constant = 123;\r\n      public static int stat = 123;\r\n\r\n      static {\r\n        System.out.println(&quot;Static Block&quot;);\r\n      }\r\n    }\r\n\r\n    public class MyProgram {\r\n\r\n      public static void main(String[] args) {\r\n        System.out.println(Doubt.constant);\r\n      }\r\n    }\r\n","title":"Why code in static block does not execute?","body":"<p>When I print the <code>constant</code> in <code>main</code>, the <code>static</code> block does not execute, but when I print <code>stat</code>, it does execute. Is there any importance to <code>static final</code> in Java?</p>\n<pre><code>package com.test.doubt;\n\nclass Doubt {\n\n  public static final int constant = 123;\n  public static int stat = 123;\n\n  static {\n    System.out.println(&quot;Static Block&quot;);\n  }\n}\n\npublic class MyProgram {\n\n  public static void main(String[] args) {\n    System.out.println(Doubt.constant);\n  }\n}\n</code></pre>\n"},{"tags":["java","https"],"comments":[{"owner":{"account_id":2801136,"reputation":6013,"user_id":3646180,"accept_rate":38,"display_name":"Jp_"},"score":0,"creation_date":1633557960,"post_id":6532273,"comment_id":122794873,"body_markdown":"For the sake of Google search this is recently being returned as &quot;Unrecognized record version TLS-0.0 , plaintext connection?&quot;","body":"For the sake of Google search this is recently being returned as &quot;Unrecognized record version TLS-0.0 , plaintext connection?&quot;"}],"answers":[{"comments":[{"owner":{"account_id":1234486,"reputation":3650,"user_id":1198379,"accept_rate":73,"display_name":"ccoutinho"},"score":9,"creation_date":1396274783,"post_id":6533715,"comment_id":34702492,"body_markdown":"I have the same error, and I solved when I started using http instead of https. But when I place the link in browser with https it works! And I need to perform a safe query. Any idea on how can I solve the problem?","body":"I have the same error, and I solved when I started using http instead of https. But when I place the link in browser with https it works! And I need to perform a safe query. Any idea on how can I solve the problem?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":12,"creation_date":1402358074,"post_id":6533715,"comment_id":37232291,"body_markdown":"@rsy When you &#39;placed the link ... with https&#39; the browser would have changed to port 443 for you. You can do the same yourself. Indeed `HttpURLConnection` will automatically do it for you, if you don&#39;t specify a port at all.","body":"@rsy When you &#39;placed the link ... with https&#39; the browser would have changed to port 443 for you. You can do the same yourself. Indeed <code>HttpURLConnection</code> will automatically do it for you, if you don&#39;t specify a port at all."},{"owner":{"display_name":"user3202835"},"score":0,"creation_date":1503647432,"post_id":6533715,"comment_id":78711734,"body_markdown":"I assume that you can setup any port on your server to be HTTPS, it doesn&#39;t have to be a specific port?","body":"I assume that you can setup any port on your server to be HTTPS, it doesn&#39;t have to be a specific port?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1522822906,"post_id":6533715,"comment_id":86295804,"body_markdown":"@KarlSherwin It can be any port you like, subject to reservations, but if it isn&#39;t 443 you will have to cart that around yourself in all your URLs.","body":"@KarlSherwin It can be any port you like, subject to reservations, but if it isn&#39;t 443 you will have to cart that around yourself in all your URLs."},{"owner":{"account_id":10979546,"reputation":125,"user_id":9858025,"display_name":"Vipul Verma"},"score":1,"creation_date":1623410962,"post_id":6533715,"comment_id":120077864,"body_markdown":"Thanks a lot. Actually, I was using port 80 for an HTTPS connection. When I changed it to 443 it worked as expected.","body":"Thanks a lot. Actually, I was using port 80 for an HTTPS connection. When I changed it to 443 it worked as expected."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686738484,"post_id":6533715,"comment_id":134839460,"body_markdown":"@VipulVerma You were exporting a plaintext HTTP service on port 80 and trying to use it as though it was an HTTPS service, which it wasn&#39;t.","body":"@VipulVerma You were exporting a plaintext HTTP service on port 80 and trying to use it as though it was an HTTPS service, which it wasn&#39;t."},{"owner":{"account_id":19174115,"reputation":110,"user_id":14135669,"display_name":"polendina"},"score":0,"creation_date":1692020196,"post_id":6533715,"comment_id":135565318,"body_markdown":"I was using skprapeit, and that was the problem. I had to add the `443` port at the HTTPs request","body":"I was using skprapeit, and that was the problem. I had to add the <code>443</code> port at the HTTPs request"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698614407,"post_id":6533715,"comment_id":136424756,"body_markdown":"@polendina Same as all the others.","body":"@polendina Same as all the others."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":8,"down_vote_count":2,"up_vote_count":311,"is_accepted":true,"score":309,"last_activity_date":1456197721,"creation_date":1309431627,"answer_id":6533715,"question_id":6532273,"body_markdown":"&gt; I think this is due to the connection\r\n&gt; established with the client machine is\r\n&gt; not secure.\r\n\r\nIt is due to the fact that you are talking to an HTTP server, not an HTTPS server. Probably you didn&#39;t use the correct port number for HTTPS.","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<blockquote>\n  <p>I think this is due to the connection\n  established with the client machine is\n  not secure.</p>\n</blockquote>\n\n<p>It is due to the fact that you are talking to an HTTP server, not an HTTPS server. Probably you didn't use the correct port number for HTTPS.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":16,"creation_date":1392256977,"post_id":15496396,"comment_id":32887151,"body_markdown":"He is speaking HTTPS, not SMTP. -1","body":"He is speaking HTTPS, not SMTP. -1"},{"owner":{"account_id":1975336,"reputation":5011,"user_id":1773233,"accept_rate":58,"display_name":"surfealokesea"},"score":2,"creation_date":1398145756,"post_id":15496396,"comment_id":35506948,"body_markdown":"In my case that worked, thanks! javax.mail.MessagingException: Could not connect to SMTP host: mail.livemusicgo.com, port: 25;\n  nested exception is:\n        javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?","body":"In my case that worked, thanks! javax.mail.MessagingException: Could not connect to SMTP host: mail.livemusicgo.com, port: 25;   nested exception is:         javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1530612187,"post_id":15496396,"comment_id":89286920,"body_markdown":"@surfealokesea The question is about HTTP and HTTPS, and an answer or a personal experience about SMTP isn&#39;t relevant.","body":"@surfealokesea The question is about HTTP and HTTPS, and an answer or a personal experience about SMTP isn&#39;t relevant."},{"owner":{"account_id":9310484,"reputation":335,"user_id":6912508,"accept_rate":67,"display_name":"sam1370"},"score":1,"creation_date":1535330205,"post_id":15496396,"comment_id":91013049,"body_markdown":"Yes but this is not just for him it is for other users that are having this same &#39;unrecognized ssl message&#39;. +1 to you, Thobith","body":"Yes but this is not just for him it is for other users that are having this same &#39;unrecognized ssl message&#39;. +1 to you, Thobith"},{"owner":{"account_id":14157784,"reputation":71,"user_id":10227920,"display_name":"Pasan Jayawickrama"},"score":0,"creation_date":1656599810,"post_id":15496396,"comment_id":128617142,"body_markdown":"I also Had &quot;javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?&quot;  Error and this worked out for me. In my case it was SMTP","body":"I also Had &quot;javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?&quot;  Error and this worked out for me. In my case it was SMTP"}],"tags":[],"owner":{"account_id":2514178,"reputation":247,"user_id":2185957,"display_name":"Thobith"},"comment_count":5,"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1470445526,"creation_date":1363687381,"answer_id":15496396,"question_id":6532273,"body_markdown":"    javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\r\n\r\n\r\nYou should have a local SMTP domain name that will contact the mail server and establishes a new connection as well you should change the SSL property in your programming below \r\n\r\n\r\n    javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection\r\n\r\n     props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;true&quot;); // Should be true","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<pre><code>javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\n</code></pre>\n\n<p>You should have a local SMTP domain name that will contact the mail server and establishes a new connection as well you should change the SSL property in your programming below </p>\n\n<pre><code>javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection\n\n props.put(\"mail.smtp.socketFactory.fallback\", \"true\"); // Should be true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"score":0,"creation_date":1462371548,"post_id":15901317,"comment_id":61610922,"body_markdown":"I had to do the same although I was inside the company !","body":"I had to do the same although I was inside the company !"},{"owner":{"account_id":8434309,"reputation":137,"user_id":6328915,"display_name":"Nitesh"},"score":1,"creation_date":1567749083,"post_id":15901317,"comment_id":102063485,"body_markdown":"can you please explain in brief how to resolve, me too facing same issue in my company right ow","body":"can you please explain in brief how to resolve, me too facing same issue in my company right ow"}],"tags":[],"owner":{"account_id":1029232,"reputation":568,"user_id":1037894,"accept_rate":94,"display_name":"Jay"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1365508881,"creation_date":1365508881,"answer_id":15901317,"question_id":6532273,"body_markdown":"I got the same error message when I forgot to log in to the company firewall, before performing a POST request through a proxy.","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>I got the same error message when I forgot to log in to the company firewall, before performing a POST request through a proxy.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":13,"creation_date":1435874732,"post_id":21521091,"comment_id":50395342,"body_markdown":"No, you got the error when accessing the HTTP port via HTTPS. Read the error message. You connected to a plaintext target. The situation you described wouldn&#39;t have caused an SSLException, as you wouldn&#39;t have been using SSL.","body":"No, you got the error when accessing the HTTP port via HTTPS. Read the error message. You connected to a plaintext target. The situation you described wouldn&#39;t have caused an SSLException, as you wouldn&#39;t have been using SSL."}],"tags":[],"owner":{"account_id":1831332,"reputation":1298,"user_id":1662668,"accept_rate":78,"display_name":"Soumyajit Swain"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1391409250,"creation_date":1391409250,"answer_id":21521091,"question_id":6532273,"body_markdown":"I got the same error. it was because I was accessing the https port using http.. The issue solved when I changed http to https. ","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>I got the same error. it was because I was accessing the https port using http.. The issue solved when I changed http to https. </p>\n"},{"tags":[],"owner":{"account_id":3653292,"reputation":1236,"user_id":3044904,"accept_rate":61,"display_name":"Salman"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1407680580,"creation_date":1407680580,"answer_id":25229515,"question_id":6532273,"body_markdown":"I face the same issue from Java application built in Jdevelopr 11.1.1.7 IDE. I solved the issue by unchecking the use of proxy form Project properties.\r\n\r\nYou can find it in the following:\r\nProject Properties -&gt; (from left panle )Run/Debug/Profile -&gt;Click (edit) form the right panel -&gt; Tool Setting from the left panel -&gt; uncheck (Use Proxy) option.","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>I face the same issue from Java application built in Jdevelopr 11.1.1.7 IDE. I solved the issue by unchecking the use of proxy form Project properties.</p>\n\n<p>You can find it in the following:\nProject Properties -> (from left panle )Run/Debug/Profile ->Click (edit) form the right panel -> Tool Setting from the left panel -> uncheck (Use Proxy) option.</p>\n"},{"tags":[],"owner":{"account_id":1819410,"reputation":4797,"user_id":1653776,"accept_rate":67,"display_name":"basiljames"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1486414035,"creation_date":1486414035,"answer_id":42077000,"question_id":6532273,"body_markdown":"Adding this as an answer as it might help someone later.\r\n\r\nI had to force jvm to use the IPv4 stack to resolve the error. My application used to work within company network, but while connecting from home it gave the same exception. No proxy involved. Added the jvm argument \r\n   `-Djava.net.preferIPv4Stack=true` and all the `https` requests were behaving normally.","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>Adding this as an answer as it might help someone later.</p>\n\n<p>I had to force jvm to use the IPv4 stack to resolve the error. My application used to work within company network, but while connecting from home it gave the same exception. No proxy involved. Added the jvm argument \n   <code>-Djava.net.preferIPv4Stack=true</code> and all the <code>https</code> requests were behaving normally.</p>\n"},{"tags":[],"owner":{"account_id":3552080,"reputation":487,"user_id":2966714,"display_name":"Faxon Lander Montenegro"},"comment_count":0,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1490205441,"creation_date":1490205441,"answer_id":42959322,"question_id":6532273,"body_markdown":"if connection is FTPS test:\r\n\r\nFTPSClient ftpClient = new FTPSClient(protocol, false);\r\n\r\nprotocol = TLS,SSL\r\nand false = isImplicit.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>if connection is FTPS test:</p>\n\n<p>FTPSClient ftpClient = new FTPSClient(protocol, false);</p>\n\n<p>protocol = TLS,SSL\nand false = isImplicit.</p>\n"},{"tags":[],"owner":{"account_id":9860832,"reputation":408,"user_id":7303912,"display_name":"Jose1755"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1521840548,"creation_date":1521840548,"answer_id":49458519,"question_id":6532273,"body_markdown":"I was facing this exception when using Gmail.\r\n\r\nIn order to use Gmail I had to **turn ON &quot;Allow less secure apps&quot;**.\r\n\r\nThis Gmail setting can be found at https://www.google.com/settings/security/lesssecureapps after login the gmail account.","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>I was facing this exception when using Gmail.</p>\n\n<p>In order to use Gmail I had to <strong>turn ON \"Allow less secure apps\"</strong>.</p>\n\n<p>This Gmail setting can be found at <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">https://www.google.com/settings/security/lesssecureapps</a> after login the gmail account.</p>\n"},{"comments":[{"owner":{"account_id":9162680,"reputation":3767,"user_id":6813506,"accept_rate":22,"display_name":"Rohit Gaikwad"},"score":0,"creation_date":1665123463,"post_id":49511001,"comment_id":130629872,"body_markdown":"earlier you used smtps then as a temporary workaround you fallback to smtp. These errors are related to https/smtps.","body":"earlier you used smtps then as a temporary workaround you fallback to smtp. These errors are related to https/smtps."}],"tags":[],"owner":{"account_id":3673303,"reputation":1737,"user_id":3059941,"display_name":"srsajid"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1522147962,"creation_date":1522147962,"answer_id":49511001,"question_id":6532273,"body_markdown":"i solved my problem using port 25 and Following prop\r\n\r\n    mailSender.javaMailProperties.putAll([\r\n                    &quot;mail.smtp.auth&quot;: &quot;true&quot;,\r\n                    &quot;mail.smtp.starttls.enable&quot;: &quot;false&quot;,\r\n                    &quot;mail.smtp.ssl.enable&quot;: &quot;false&quot;,\r\n                    &quot;mail.smtp.socketFactory.fallback&quot;: &quot;true&quot;,\r\n            ]);\r\n\r\n","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>i solved my problem using port 25 and Following prop</p>\n\n<pre><code>mailSender.javaMailProperties.putAll([\n                \"mail.smtp.auth\": \"true\",\n                \"mail.smtp.starttls.enable\": \"false\",\n                \"mail.smtp.ssl.enable\": \"false\",\n                \"mail.smtp.socketFactory.fallback\": \"true\",\n        ]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1553144917,"post_id":54191418,"comment_id":97278821,"body_markdown":"No, the solution was changing to a *plaintext* port.","body":"No, the solution was changing to a <i>plaintext</i> port."}],"tags":[],"owner":{"account_id":197068,"reputation":1356,"user_id":5434180,"accept_rate":75,"display_name":"Cleber Jorge Amaral"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1547514589,"creation_date":1547514589,"answer_id":54191418,"question_id":6532273,"body_markdown":"I&#39;ve got similar error using camel-mail component to send e-mails by gmail smtp. \r\n\r\nThe solution was changing from TLS port (587) to SSL port (465) as below:\r\n\r\n    &lt;route id=&quot;sendMail&quot;&gt;\r\n      &lt;from uri=&quot;jason:toEmail&quot;/&gt;\r\n      &lt;convertBodyTo type=&quot;java.lang.String&quot;/&gt;\r\n      &lt;setHeader headerName=&quot;Subject&quot;&gt;&lt;constant&gt;Something&lt;/constant&gt;&lt;/setHeader&gt;\r\n      &lt;to uri=&quot;smtps://smtp.gmail.com:465?username=myemail@gmail.com&amp;amp;password=mypw&amp;amp;to=someemail@gmail.com&amp;amp;debugMode=true&amp;amp;mail.smtp.starttls.enable=true&quot;/&gt;\r\n    &lt;/route&gt;\r\n\r\n","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>I've got similar error using camel-mail component to send e-mails by gmail smtp. </p>\n\n<p>The solution was changing from TLS port (587) to SSL port (465) as below:</p>\n\n<pre><code>&lt;route id=\"sendMail\"&gt;\n  &lt;from uri=\"jason:toEmail\"/&gt;\n  &lt;convertBodyTo type=\"java.lang.String\"/&gt;\n  &lt;setHeader headerName=\"Subject\"&gt;&lt;constant&gt;Something&lt;/constant&gt;&lt;/setHeader&gt;\n  &lt;to uri=\"smtps://smtp.gmail.com:465?username=myemail@gmail.com&amp;amp;password=mypw&amp;amp;to=someemail@gmail.com&amp;amp;debugMode=true&amp;amp;mail.smtp.starttls.enable=true\"/&gt;\n&lt;/route&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195495,"reputation":76,"user_id":438405,"display_name":"Henrique"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559729306,"creation_date":1559729306,"answer_id":56458406,"question_id":6532273,"body_markdown":"If you are running local using spring i&#39;d suggest use:\r\n\r\n\r\n    @Bean\r\n    public AmazonDynamoDB amazonDynamoDB() throws IOException {\r\n        return AmazonDynamoDBClientBuilder.standard()\r\n                .withCredentials(\r\n                        new AWSStaticCredentialsProvider(\r\n                                new BasicAWSCredentials(&quot;fake&quot;, &quot;credencial&quot;)\r\n                        )\r\n                )\r\n                .withClientConfiguration(new ClientConfigurationFactory().getConfig().withProtocol(Protocol.HTTP))\r\n                .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;localhost:8443&quot;, &quot;central&quot;))\r\n                .build();\r\n    }\r\n\r\nIt works for me using unit test.\r\n\r\nHope it&#39;s help!","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>If you are running local using spring i'd suggest use:</p>\n\n<pre><code>@Bean\npublic AmazonDynamoDB amazonDynamoDB() throws IOException {\n    return AmazonDynamoDBClientBuilder.standard()\n            .withCredentials(\n                    new AWSStaticCredentialsProvider(\n                            new BasicAWSCredentials(\"fake\", \"credencial\")\n                    )\n            )\n            .withClientConfiguration(new ClientConfigurationFactory().getConfig().withProtocol(Protocol.HTTP))\n            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(\"localhost:8443\", \"central\"))\n            .build();\n}\n</code></pre>\n\n<p>It works for me using unit test.</p>\n\n<p>Hope it's help!</p>\n"},{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658669255,"creation_date":1658669255,"answer_id":73098809,"question_id":6532273,"body_markdown":"In case you use Jetty version 9 or earlier you need to add it to jetty\r\nby\r\n\r\n    RUN java -jar ${JETTY_HOME}/start.jar --add-to-startd=https\r\n\r\nand according to this\r\nhttps://stackoverflow.com/questions/33146476/jetty-how-to-use-ssl-in-jetty-client-side\r\n\r\nfrom Jetty version 10 it should work out of the box\r\n","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>In case you use Jetty version 9 or earlier you need to add it to jetty\nby</p>\n<pre><code>RUN java -jar ${JETTY_HOME}/start.jar --add-to-startd=https\n</code></pre>\n<p>and according to this\n<a href=\"https://stackoverflow.com/questions/33146476/jetty-how-to-use-ssl-in-jetty-client-side\">Jetty: How to use SSL in Jetty client side</a></p>\n<p>from Jetty version 10 it should work out of the box</p>\n"}],"owner":{"account_id":181841,"reputation":2803,"user_id":416123,"accept_rate":93,"display_name":"karthi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704237,"favorite_count":0,"down_vote_count":1,"up_vote_count":224,"accepted_answer_id":6533715,"answer_count":12,"score":223,"last_activity_date":1665761112,"creation_date":1309423780,"question_id":6532273,"body_markdown":"I have a java complied package to speak with the https server on net. Running the compilation gives the following exception:\r\n\r\n    javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\r\n        at com.sun.net.ssl.internal.ssl.InputRecord.handleUnknownRecord(Unknown Source)\r\n    at com.sun.net.ssl.internal.ssl.InputRecord.read(Unknown Source)\r\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown Source)\r\n\r\nI think this is due to the connection established with the client machine is not secure.  Is there any way to configure the local machine or ports in order to connect to the remote https server?\r\n\r\n\r\n","title":"Unrecognized SSL message, plaintext connection? Exception","body":"<p>I have a java complied package to speak with the https server on net. Running the compilation gives the following exception:</p>\n\n<pre><code>javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\n    at com.sun.net.ssl.internal.ssl.InputRecord.handleUnknownRecord(Unknown Source)\nat com.sun.net.ssl.internal.ssl.InputRecord.read(Unknown Source)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(Unknown Source)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown Source)\n</code></pre>\n\n<p>I think this is due to the connection established with the client machine is not secure.  Is there any way to configure the local machine or ports in order to connect to the remote https server?</p>\n"},{"tags":["java","text-files","java.util.scanner"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1665758883,"post_id":74070970,"comment_id":130780052,"body_markdown":"It&#39;s expecting an empty line at the end of the file. You may want to check with `hasNextLine()` before reading those empty lines into `space`.","body":"It&#39;s expecting an empty line at the end of the file. You may want to check with <code>hasNextLine()</code> before reading those empty lines into <code>space</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1665758943,"post_id":74070970,"comment_id":130780077,"body_markdown":"As an aside, you don&#39;t need to assign that empty line to `space`. You can simply do `src.nextLine();` and ignore its result.","body":"As an aside, you don&#39;t need to assign that empty line to <code>space</code>. You can simply do <code>src.nextLine();</code> and ignore its result."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665759257,"post_id":74070970,"comment_id":130780207,"body_markdown":"Or just use `Files.lines(...)`, because you&#39;re not using any of the `Scanner` features.","body":"Or just use <code>Files.lines(...)</code>, because you&#39;re not using any of the <code>Scanner</code> features."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665760643,"creation_date":1665760217,"answer_id":74071297,"question_id":74070970,"body_markdown":"As mentioned in the [comment][1] (by [Federico klez Culloca][2]):\r\n&gt; It&#39;s expecting an empty line at the end of the file.\r\n\r\nTherefore I believe it is better to read the file one line at a time, in a loop, and process each line in the loop body.\r\n\r\nI also recommend using [try-with-resources][3] as well as [NIO.2][4].\r\n\r\nAccording to the code in your question, it appears that the only thing you do with the data, that you read from the file, is to print it.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\npublic class ReadText {\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Paths.get(&quot;file.txt&quot;);\r\n        try (BufferedReader br = Files.newBufferedReader(path)) {\r\n            String line = br.readLine();\r\n            int count = 0;\r\n            while (line != null) {\r\n                count++;\r\n                int ndx = count % 5;\r\n                switch (ndx) {\r\n                    case 0:\r\n                        System.out.println();\r\n                        break;\r\n                    case 1:\r\n                        long id = Long.parseLong(line.trim());\r\n                        System.out.println(id);\r\n                        break;\r\n                    case 2:\r\n                        String data = line;\r\n                        System.out.println(data);\r\n                        break;\r\n                    case 3:\r\n                        double op = Double.parseDouble(line);\r\n                        System.out.println(op);\r\n                        break;\r\n                    case 4:\r\n                        double cp = Double.parseDouble(line);\r\n                        System.out.println(cp);\r\n                        break;\r\n                    default:\r\n                        // Should never get here!\r\n                        throw new RuntimeException(&quot;Unhandled: &quot; + ndx);\r\n                }\r\n                line = br.readLine();\r\n            }\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nNote that method `trim()` is due to the fact that there is a single space after 121 in the first line of the text file content (which I copied from your question).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74070970/reading-text-files-using-scanner-and-no-line-found#comment130780052_74070970\r\n  [2]: https://stackoverflow.com/users/133203/federico-klez-culloca\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html","title":"Reading text files using Scanner and &quot;No Line Found&quot;","body":"<p>As mentioned in the <a href=\"https://stackoverflow.com/questions/74070970/reading-text-files-using-scanner-and-no-line-found#comment130780052_74070970\">comment</a> (by <a href=\"https://stackoverflow.com/users/133203/federico-klez-culloca\">Federico klez Culloca</a>):</p>\n<blockquote>\n<p>It's expecting an empty line at the end of the file.</p>\n</blockquote>\n<p>Therefore I believe it is better to read the file one line at a time, in a loop, and process each line in the loop body.</p>\n<p>I also recommend using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> as well as <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a>.</p>\n<p>According to the code in your question, it appears that the only thing you do with the data, that you read from the file, is to print it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class ReadText {\n\n    public static void main(String[] args) {\n        Path path = Paths.get(&quot;file.txt&quot;);\n        try (BufferedReader br = Files.newBufferedReader(path)) {\n            String line = br.readLine();\n            int count = 0;\n            while (line != null) {\n                count++;\n                int ndx = count % 5;\n                switch (ndx) {\n                    case 0:\n                        System.out.println();\n                        break;\n                    case 1:\n                        long id = Long.parseLong(line.trim());\n                        System.out.println(id);\n                        break;\n                    case 2:\n                        String data = line;\n                        System.out.println(data);\n                        break;\n                    case 3:\n                        double op = Double.parseDouble(line);\n                        System.out.println(op);\n                        break;\n                    case 4:\n                        double cp = Double.parseDouble(line);\n                        System.out.println(cp);\n                        break;\n                    default:\n                        // Should never get here!\n                        throw new RuntimeException(&quot;Unhandled: &quot; + ndx);\n                }\n                line = br.readLine();\n            }\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Note that method <code>trim()</code> is due to the fact that there is a single space after 121 in the first line of the text file content (which I copied from your question).</p>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665760292,"creation_date":1665760292,"answer_id":74071312,"question_id":74070970,"body_markdown":"At the end of file, an empty line is missing. In fact, it throws an exception when tries to read the last space at line `String space = src.nextLine();`.\r\n\r\nYou can fix checking if the last space exists.\r\n```java\r\npublic static void main(String[] args) throws NoSuchElementException, FileNotFoundException, IOException{\r\n    String filelocation = &quot;file.txt&quot;;//this is for file path \r\n\r\n    ProductList p = new ProductList();\r\n    try {\r\n        File myObj = new File(filelocation);\r\n        Scanner src = new Scanner(myObj);\r\n        while (src.hasNextLine()) {\r\n            long id = Long.parseLong(src.nextLine());\r\n            String data = src.nextLine();\r\n            double op = Double.parseDouble(src.nextLine());\r\n            double cp = Double.parseDouble(src.nextLine());\r\n            if (src.hasNextLine()) {\r\n                src.nextLine(); //read the space just if exists and it is not necessary to put it in a variable\r\n            }\r\n            System.out.println(id + &quot;\\n&quot; + data + &quot;\\n&quot; + op + &quot;\\n&quot; + cp + &quot;\\n&quot;);\r\n        }\r\n        src.close();\r\n    } catch (FileNotFoundException e) {\r\n        System.out.println(&quot;An error occurred.&quot;);\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"Reading text files using Scanner and &quot;No Line Found&quot;","body":"<p>At the end of file, an empty line is missing. In fact, it throws an exception when tries to read the last space at line <code>String space = src.nextLine();</code>.</p>\n<p>You can fix checking if the last space exists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws NoSuchElementException, FileNotFoundException, IOException{\n    String filelocation = &quot;file.txt&quot;;//this is for file path \n\n    ProductList p = new ProductList();\n    try {\n        File myObj = new File(filelocation);\n        Scanner src = new Scanner(myObj);\n        while (src.hasNextLine()) {\n            long id = Long.parseLong(src.nextLine());\n            String data = src.nextLine();\n            double op = Double.parseDouble(src.nextLine());\n            double cp = Double.parseDouble(src.nextLine());\n            if (src.hasNextLine()) {\n                src.nextLine(); //read the space just if exists and it is not necessary to put it in a variable\n            }\n            System.out.println(id + &quot;\\n&quot; + data + &quot;\\n&quot; + op + &quot;\\n&quot; + cp + &quot;\\n&quot;);\n        }\n        src.close();\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;An error occurred.&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24158054,"reputation":33,"user_id":18122017,"display_name":"jwolf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74071312,"answer_count":2,"score":0,"last_activity_date":1665760775,"creation_date":1665758740,"question_id":74070970,"body_markdown":"I am trying to use the Java Scanner class to read a text file all the way through and section each of the strings into the respected datatype such as a string &quot;123&quot; into long number = 123. \r\n\r\nHere is my code:\r\n\r\n```java\r\npublic static void main(String[] args) throws NoSuchElementException, FileNotFoundException, IOException{\r\n\tString filelocation = &quot;file.txt&quot;;//this is for file path \r\n\r\n\tProductList p = new ProductList();\r\n\ttry {\r\n\t    File myObj = new File(filelocation);\r\n\t    Scanner src = new Scanner(myObj);\r\n\t    while (src.hasNextLine()) {\r\n\t    \tlong id = Long.parseLong(src.nextLine());\r\n\t        String data = src.nextLine();\r\n\t        double op = Double.parseDouble(src.nextLine());\r\n\t        double cp = Double.parseDouble(src.nextLine());\r\n\t        String space = src.nextLine(); //without this line I get an error input &quot;&quot;\r\n\t         System.out.println(id +&quot;\\n&quot;+ data +&quot;\\n&quot;+ op +&quot;\\n&quot;+ cp+&quot;\\n&quot; + space);\r\n\t    }\r\n\t    src.close();\r\n\t} catch (FileNotFoundException e) {\r\n\t    System.out.println(&quot;An error occurred.&quot;);\r\n\t    e.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nHere is the content in the text file:\r\n\r\n```none\r\n121 \r\nDining Table\r\n129.99\r\n119.99\r\n\r\n1007\r\nLeather Storage Ottoman\r\n199.99\r\n199.99\r\n\r\n264\r\nGas-Powered Chainsaw\r\n249.99\r\n189.99\r\n\r\n763\r\nProtected Cruiser Takasago, 1898, 1/350, resin model kit\r\n239.99\r\n199.99\r\n\r\n7465\r\nVacuum Cleaner, Green, 2252\r\n99.99\r\n89.99\r\n\r\n354\r\nAlienware 55 OLED Gaming Monitor - AW5520QF\r\n4049.99\r\n3039.99\r\n```\r\n\r\nHere is the output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T50b5.png\r\n\r\nI do not understand why it is not printing the last item and how to take care of the error no line found. I understand you can throw an exception for illegals but I try that and still get the error. \r\n\r\n","title":"Reading text files using Scanner and &quot;No Line Found&quot;","body":"<p>I am trying to use the Java Scanner class to read a text file all the way through and section each of the strings into the respected datatype such as a string &quot;123&quot; into long number = 123.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws NoSuchElementException, FileNotFoundException, IOException{\n    String filelocation = &quot;file.txt&quot;;//this is for file path \n\n    ProductList p = new ProductList();\n    try {\n        File myObj = new File(filelocation);\n        Scanner src = new Scanner(myObj);\n        while (src.hasNextLine()) {\n            long id = Long.parseLong(src.nextLine());\n            String data = src.nextLine();\n            double op = Double.parseDouble(src.nextLine());\n            double cp = Double.parseDouble(src.nextLine());\n            String space = src.nextLine(); //without this line I get an error input &quot;&quot;\n             System.out.println(id +&quot;\\n&quot;+ data +&quot;\\n&quot;+ op +&quot;\\n&quot;+ cp+&quot;\\n&quot; + space);\n        }\n        src.close();\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;An error occurred.&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Here is the content in the text file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>121 \nDining Table\n129.99\n119.99\n\n1007\nLeather Storage Ottoman\n199.99\n199.99\n\n264\nGas-Powered Chainsaw\n249.99\n189.99\n\n763\nProtected Cruiser Takasago, 1898, 1/350, resin model kit\n239.99\n199.99\n\n7465\nVacuum Cleaner, Green, 2252\n99.99\n89.99\n\n354\nAlienware 55 OLED Gaming Monitor - AW5520QF\n4049.99\n3039.99\n</code></pre>\n<p>Here is the output:</p>\n<p><a href=\"https://i.stack.imgur.com/T50b5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T50b5.png\" alt=\"enter image description here\" /></a></p>\n<p>I do not understand why it is not printing the last item and how to take care of the error no line found. I understand you can throw an exception for illegals but I try that and still get the error.</p>\n"},{"tags":["java","google-vision"],"comments":[{"owner":{"account_id":15526713,"reputation":1017,"user_id":11201290,"display_name":"Brendan"},"score":0,"creation_date":1644276505,"post_id":70225243,"comment_id":125558527,"body_markdown":"Were you able to figure out the issue? Does it work if you update the version of the client library?","body":"Were you able to figure out the issue? Does it work if you update the version of the client library?"},{"owner":{"account_id":2611244,"reputation":671,"user_id":2261312,"accept_rate":64,"display_name":"AndrewG10i"},"score":0,"creation_date":1644366587,"post_id":70225243,"comment_id":125586989,"body_markdown":"Thank you for asking, just double-checked with the latest versions of the libs - issue still there. Updated to version: google-cloud-vision v2.0.19 and google-auth-library-oauth2-http v1.4.0","body":"Thank you for asking, just double-checked with the latest versions of the libs - issue still there. Updated to version: google-cloud-vision v2.0.19 and google-auth-library-oauth2-http v1.4.0"}],"answers":[{"comments":[{"owner":{"account_id":2611244,"reputation":671,"user_id":2261312,"accept_rate":64,"display_name":"AndrewG10i"},"score":0,"creation_date":1665975378,"post_id":74071425,"comment_id":130817403,"body_markdown":"Thank you so much for your post, it has resolved my issue! BTW, I have set scope to `https://www.googleapis.com/auth/cloud-vision`, seems it is [less wider scope](https://developers.google.com/identity/protocols/oauth2/scopes#vision). Also found [VisionScopes.CLOUD_VISION](https://developers.google.com/resources/api-libraries/documentation/vision/v1/java/latest/com/google/api/services/vision/v1/VisionScopes.html) but seems [it is not maintained anymore](https://mvnrepository.com/artifact/com.google.apis/google-api-services-vision/v1-rev451-1.25.0). But couldn&#39;t find how to set scope in json.","body":"Thank you so much for your post, it has resolved my issue! BTW, I have set scope to <code>https:&#47;&#47;www.googleapis.com&#47;auth&#47;cloud-vision</code>, seems it is <a href=\"https://developers.google.com/identity/protocols/oauth2/scopes#vision\" rel=\"nofollow noreferrer\">less wider scope</a>. Also found <a href=\"https://developers.google.com/resources/api-libraries/documentation/vision/v1/java/latest/com/google/api/services/vision/v1/VisionScopes.html\" rel=\"nofollow noreferrer\">VisionScopes.CLOUD_VISION</a> but seems <a href=\"https://mvnrepository.com/artifact/com.google.apis/google-api-services-vision/v1-rev451-1.25.0\" rel=\"nofollow noreferrer\">it is not maintained anymore</a>. But couldn&#39;t find how to set scope in json."}],"tags":[],"owner":{"account_id":4825219,"reputation":635,"user_id":3894835,"accept_rate":100,"display_name":"Argurth"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665760752,"creation_date":1665760752,"answer_id":74071425,"question_id":70225243,"body_markdown":"Just in case it might help someone, I had this issue: https://stackoverflow.com/questions/70188610/google-documentai-java-example-fails-with-io-grpc-statusruntimeexception-invali/70188611#70188611 THEN the same issue described here that I solved this way:\r\n\r\n - I tried with the original way of authentication provided in the documentation:\r\n\r\n```\r\nexport GOOGLE_APPLICATION_CREDENTIALS=/path/to/my/key.json\r\n```\r\n\r\n - It worked with this authentication method, but as soon as I added the credentials manually it stopped working:\r\n\r\n```\r\n.setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n```\r\n\r\n - I decided to log both credentials using settingsBuilder.getCredentialsProvider, it appeared that the automatic credential set a custom scope automatically &quot;https://www.googleapis.com/auth/cloud-platform&quot; that is NOT indicated in the generated key.kson file (scope array was empty). And it is NOT indicated that we must add it when authenticating through an InputStream in the google documentation https://github.com/googleapis/google-cloud-java#authentication as of today:\r\n\r\n```\r\n.setCredentials(ServiceAccountCredentials.fromStream(new FileInputStream(&quot;/path/to/my/key.json&quot;)))\r\n```\r\n\r\n - So I wrote this code instead:\r\n\r\n```\r\nCredentials credentials = \r\n            ServiceAccountCredentials\r\n              .fromStream(credentialStream)\r\n              .createScoped(&quot;https://www.googleapis.com/auth/cloud-platform&quot;)\r\n```\r\n\r\nAnd it worked ! It could also work if you edit the key.json file to add the scope in the array, I haven&#39;t tested it.\r\n\r\nBoth issue came from a lack of documentation in the Java libraries, so If someone from Google read this answer, please complete the documentation.","title":"Google Vision API with Multi-regional support: gives StatusRuntimeException: UNAUTHENTICATED when using with custom endpoint","body":"<p>Just in case it might help someone, I had this issue: <a href=\"https://stackoverflow.com/questions/70188610/google-documentai-java-example-fails-with-io-grpc-statusruntimeexception-invali/70188611#70188611\">Google DocumentAI Java example fails with io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Request contains an invalid argument</a> THEN the same issue described here that I solved this way:</p>\n<ul>\n<li>I tried with the original way of authentication provided in the documentation:</li>\n</ul>\n<pre><code>export GOOGLE_APPLICATION_CREDENTIALS=/path/to/my/key.json\n</code></pre>\n<ul>\n<li>It worked with this authentication method, but as soon as I added the credentials manually it stopped working:</li>\n</ul>\n<pre><code>.setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n</code></pre>\n<ul>\n<li>I decided to log both credentials using settingsBuilder.getCredentialsProvider, it appeared that the automatic credential set a custom scope automatically &quot;https://www.googleapis.com/auth/cloud-platform&quot; that is NOT indicated in the generated key.kson file (scope array was empty). And it is NOT indicated that we must add it when authenticating through an InputStream in the google documentation <a href=\"https://github.com/googleapis/google-cloud-java#authentication\" rel=\"nofollow noreferrer\">https://github.com/googleapis/google-cloud-java#authentication</a> as of today:</li>\n</ul>\n<pre><code>.setCredentials(ServiceAccountCredentials.fromStream(new FileInputStream(&quot;/path/to/my/key.json&quot;)))\n</code></pre>\n<ul>\n<li>So I wrote this code instead:</li>\n</ul>\n<pre><code>Credentials credentials = \n            ServiceAccountCredentials\n              .fromStream(credentialStream)\n              .createScoped(&quot;https://www.googleapis.com/auth/cloud-platform&quot;)\n</code></pre>\n<p>And it worked ! It could also work if you edit the key.json file to add the scope in the array, I haven't tested it.</p>\n<p>Both issue came from a lack of documentation in the Java libraries, so If someone from Google read this answer, please complete the documentation.</p>\n"}],"owner":{"account_id":2611244,"reputation":671,"user_id":2261312,"accept_rate":64,"display_name":"AndrewG10i"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74071425,"answer_count":1,"score":1,"last_activity_date":1665760752,"creation_date":1638617947,"question_id":70225243,"body_markdown":"Getting the `StatusRuntimeException: UNAUTHENTICATED` when using with custom endpoint as per the following guide:\r\n[Google Vision API - Multi-regional support][1]\r\n\r\nBut all works fine when using default endpoint. See the code sample below:\r\n\r\n    Credentials credentials = ServiceAccountCredentials.fromStream(new FileInputStream(credPath));\r\n    \r\n    // Works fine\r\n    ImageAnnotatorSettings settings = ImageAnnotatorSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(credentials)).build();\r\n    \r\n    // Works fine as well\r\n    ImageAnnotatorSettings settings = ImageAnnotatorSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(credentials)).setEndpoint(&quot;vision.googleapis.com:443&quot;).build();\r\n    \r\n    // Doesn&#39;t work - throws exception:\r\n    ImageAnnotatorSettings settings = ImageAnnotatorSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(credentials)).setEndpoint(&quot;us-vision.googleapis.com:443&quot;).build();\r\n    \r\n    visionClient = ImageAnnotatorClient.create(settings);\r\n\r\n\r\nException is the following:\r\n\r\n    com.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\r\n    \tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:73)\r\n    \tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\r\n    \tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\r\n    \tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n    \tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\r\n    \tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1074)\r\n    \tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\r\n    \tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1213)\r\n    \tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:983)\r\n    \tat com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:771)\r\n    \tat io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563)\r\n    \tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533)\r\n    \tat io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)\r\n    \tat io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)\r\n    \tat io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)\r\n    \tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:557)\r\n    \tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:69)\r\n    \tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:738)\r\n    \tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:717)\r\n    \tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n    \tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \tSuppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n    \t\tat com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n    \t\tat com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n    \t\tat com.google.cloud.vision.v1.ImageAnnotatorClient.batchAnnotateImages(ImageAnnotatorClient.java:203)\r\n    \t\tat com.google.cloud.vision.v1.ImageAnnotatorClient.batchAnnotateImages(ImageAnnotatorClient.java:179)\r\n            ...\r\n    \t\tat com.sun.ejb.containers.EjbAsyncTask.call(EjbAsyncTask.java:101)\r\n    \t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \t\t... 3 more\r\n    Caused by: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\r\n    \tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n    \t... 13 more\r\n\r\nAny thoughts how to fix that? Thanks! \r\n\r\n  [1]: https://cloud.google.com/vision/docs/ocr#regionalization","title":"Google Vision API with Multi-regional support: gives StatusRuntimeException: UNAUTHENTICATED when using with custom endpoint","body":"<p>Getting the <code>StatusRuntimeException: UNAUTHENTICATED</code> when using with custom endpoint as per the following guide:\n<a href=\"https://cloud.google.com/vision/docs/ocr#regionalization\" rel=\"nofollow noreferrer\">Google Vision API - Multi-regional support</a></p>\n<p>But all works fine when using default endpoint. See the code sample below:</p>\n<pre><code>Credentials credentials = ServiceAccountCredentials.fromStream(new FileInputStream(credPath));\n\n// Works fine\nImageAnnotatorSettings settings = ImageAnnotatorSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(credentials)).build();\n\n// Works fine as well\nImageAnnotatorSettings settings = ImageAnnotatorSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(credentials)).setEndpoint(&quot;vision.googleapis.com:443&quot;).build();\n\n// Doesn't work - throws exception:\nImageAnnotatorSettings settings = ImageAnnotatorSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(credentials)).setEndpoint(&quot;us-vision.googleapis.com:443&quot;).build();\n\nvisionClient = ImageAnnotatorClient.create(settings);\n</code></pre>\n<p>Exception is the following:</p>\n<pre><code>com.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\n    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:73)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\n    at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n    at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1074)\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\n    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1213)\n    at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:983)\n    at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:771)\n    at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563)\n    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533)\n    at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)\n    at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)\n    at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:557)\n    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:69)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:738)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:717)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at com.google.cloud.vision.v1.ImageAnnotatorClient.batchAnnotateImages(ImageAnnotatorClient.java:203)\n        at com.google.cloud.vision.v1.ImageAnnotatorClient.batchAnnotateImages(ImageAnnotatorClient.java:179)\n        ...\n        at com.sun.ejb.containers.EjbAsyncTask.call(EjbAsyncTask.java:101)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 more\nCaused by: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    ... 13 more\n</code></pre>\n<p>Any thoughts how to fix that? Thanks!</p>\n"},{"tags":["java","spring","spring-boot","model-view-controller"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1665731873,"post_id":74065620,"comment_id":130771201,"body_markdown":"Why should a controller know about a database-specific type?","body":"Why should a controller know about a database-specific type?"},{"owner":{"account_id":20638122,"reputation":63,"user_id":19331371,"display_name":"Abhishek jha"},"score":0,"creation_date":1665731963,"post_id":74065620,"comment_id":130771224,"body_markdown":"@FedericoklezCulloca I don&#39;t know. It has been assigned to me as a task and I don;&#39;t have any idea about this.","body":"@FedericoklezCulloca I don&#39;t know. It has been assigned to me as a task and I don;&#39;t have any idea about this."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1665732008,"post_id":74065620,"comment_id":130771233,"body_markdown":"Then ask for clarification to whoever gave you this task, because it doesn&#39;t make much sense.","body":"Then ask for clarification to whoever gave you this task, because it doesn&#39;t make much sense."},{"owner":{"account_id":20638122,"reputation":63,"user_id":19331371,"display_name":"Abhishek jha"},"score":0,"creation_date":1665732186,"post_id":74065620,"comment_id":130771282,"body_markdown":"@FedericoklezCulloca I have also attached the image.","body":"@FedericoklezCulloca I have also attached the image."},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665732214,"post_id":74065620,"comment_id":130771295,"body_markdown":"the things which you want to achieve can be done on Entity classs and not in controller","body":"the things which you want to achieve can be done on Entity classs and not in controller"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1665732394,"post_id":74065620,"comment_id":130771340,"body_markdown":"@Abhishekjha Leaving aside the fact that the image is decontextualized so it&#39;s hard to understand what it&#39;s about, they&#39;re talking both about a text box, which looks to me like a ui concept, and about varchar, which is a databes concept. My best guess (but a guess nonetheless) is that you need a text box that can contain a string of length 20, so you should probably take a look at a tutorial about [data validation in spring boot](https://www.baeldung.com/spring-boot-bean-validation).","body":"@Abhishekjha Leaving aside the fact that the image is decontextualized so it&#39;s hard to understand what it&#39;s about, they&#39;re talking both about a text box, which looks to me like a ui concept, and about varchar, which is a databes concept. My best guess (but a guess nonetheless) is that you need a text box that can contain a string of length 20, so you should probably take a look at a tutorial about <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">data validation in spring boot</a>."}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665731949,"creation_date":1665731949,"answer_id":74065668,"question_id":74065620,"body_markdown":"you cannot declare varchar in controller you have to use String \r\nprivate String str = &quot;&quot;; or you can use this\r\n``` \r\nStringBuilder str \r\n            = new StringBuilder();\r\nstr.setLength(20);  \r\n```","title":"How to create a field of data type varchar in controller class","body":"<p>you cannot declare varchar in controller you have to use String\nprivate String str = &quot;&quot;; or you can use this</p>\n<pre><code>StringBuilder str \n            = new StringBuilder();\nstr.setLength(20);  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14983696,"reputation":91,"user_id":10816954,"display_name":"Notedop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665759891,"creation_date":1665759891,"answer_id":74071245,"question_id":74065620,"body_markdown":"Ok, so your question is lacking context so I am going to make some assumptions. I&#39;m assuming that you have to implement some controller that exposes an URL endpoint. I assume that you want to be able to receive data on that endpoint and map it to an object (dto). I assume that you want to assure that you want to perform validitions on the received data.\r\n\r\nIm on my phone so I won&#39;t write it out completely but let me give you some pointers.\r\n\r\nCreate a dto object with the data structure that you&#39;re expecting to receive. \r\nCreate a contreoller with @Controller annotation.\r\nWithin the controller, create a method with the @postMapping annotation and configure it appropriately. The method should accept the dto class and a binding result class as method parameter. Within the method definition use the @Valid annotation before the dto class. The informs Spring to validate the dto and it will inject the valdition result into the Binding Result object. Note that the latter should be mentioned after the dto, in this example it would be the second and last parameter. \r\n\r\nNow in the dto, you can annotate the class fields with annotations from the javax.validation package. For example @NotNull or @Size which could assert the size of a string field and assure the availability of a field value. Note that I believe in later versions of Java, the validation package was moved to Jakarta package so take that into consideration. Also make sure to use the right annotations, for example there is also @Nonnull from spring which does other stuff.\r\n\r\nNow, within the method body you can now assert if there where any binding result errors. Just check the BindingResult.hasErrors() and then handle them appropriately.\r\n\r\nThe field of data type None does not ammake sense to me so will need more information to be able to help with that. ","title":"How to create a field of data type varchar in controller class","body":"<p>Ok, so your question is lacking context so I am going to make some assumptions. I'm assuming that you have to implement some controller that exposes an URL endpoint. I assume that you want to be able to receive data on that endpoint and map it to an object (dto). I assume that you want to assure that you want to perform validitions on the received data.</p>\n<p>Im on my phone so I won't write it out completely but let me give you some pointers.</p>\n<p>Create a dto object with the data structure that you're expecting to receive.\nCreate a contreoller with @Controller annotation.\nWithin the controller, create a method with the @postMapping annotation and configure it appropriately. The method should accept the dto class and a binding result class as method parameter. Within the method definition use the @Valid annotation before the dto class. The informs Spring to validate the dto and it will inject the valdition result into the Binding Result object. Note that the latter should be mentioned after the dto, in this example it would be the second and last parameter.</p>\n<p>Now in the dto, you can annotate the class fields with annotations from the javax.validation package. For example @NotNull or @Size which could assert the size of a string field and assure the availability of a field value. Note that I believe in later versions of Java, the validation package was moved to Jakarta package so take that into consideration. Also make sure to use the right annotations, for example there is also @Nonnull from spring which does other stuff.</p>\n<p>Now, within the method body you can now assert if there where any binding result errors. Just check the BindingResult.hasErrors() and then handle them appropriately.</p>\n<p>The field of data type None does not ammake sense to me so will need more information to be able to help with that.</p>\n"}],"owner":{"account_id":20638122,"reputation":63,"user_id":19331371,"display_name":"Abhishek jha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665759891,"creation_date":1665731671,"question_id":74065620,"body_markdown":"[![enter image description here][1]][1]\r\nHow do I create a field of data type `varchar` in my controller class with size as 20?\r\nAlso, could anyone please tell me how to create a field of data type `none`. Also, how to mention the fields to be mandatory?\r\n\r\nI am quite beginner in this. Any help would be appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qh2zK.png","title":"How to create a field of data type varchar in controller class","body":"<p><a href=\"https://i.stack.imgur.com/qh2zK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qh2zK.png\" alt=\"enter image description here\" /></a>\nHow do I create a field of data type <code>varchar</code> in my controller class with size as 20?\nAlso, could anyone please tell me how to create a field of data type <code>none</code>. Also, how to mention the fields to be mandatory?</p>\n<p>I am quite beginner in this. Any help would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2854980,"reputation":1326,"user_id":2451425,"accept_rate":86,"display_name":"RoberMP"},"score":0,"creation_date":1665690472,"post_id":74060820,"comment_id":130764295,"body_markdown":"The question is unclear, are you asking about Flux.merge, filtering or handling unresponsive connection?","body":"The question is unclear, are you asking about Flux.merge, filtering or handling unresponsive connection?"},{"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"score":0,"creation_date":1665694148,"post_id":74060820,"comment_id":130765222,"body_markdown":"sorry, i would like to handle that response to be closed when client closes connection. I have found a solution, to create additional &#39;heartbeat&#39; stream, which closes that connection, but results in receiving &#39;ping&#39; messages. But closing connection is main problem","body":"sorry, i would like to handle that response to be closed when client closes connection. I have found a solution, to create additional &#39;heartbeat&#39; stream, which closes that connection, but results in receiving &#39;ping&#39; messages. But closing connection is main problem"},{"owner":{"account_id":2854980,"reputation":1326,"user_id":2451425,"accept_rate":86,"display_name":"RoberMP"},"score":0,"creation_date":1665732222,"post_id":74060820,"comment_id":130771301,"body_markdown":"Not sure what set of technologies you are using, you mention kafka but I don&#39;t see how it is related with your question as you stated that your problem is to close connections with the clients, so I would asume that you are in the server side an you are trying to push data to clients using a technology with stateful connections like websockets. Response could vary a lot depending on what you are trying to implement, could you specify?","body":"Not sure what set of technologies you are using, you mention kafka but I don&#39;t see how it is related with your question as you stated that your problem is to close connections with the clients, so I would asume that you are in the server side an you are trying to push data to clients using a technology with stateful connections like websockets. Response could vary a lot depending on what you are trying to implement, could you specify?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1665735671,"post_id":74060820,"comment_id":130772209,"body_markdown":"@RoberMP is right. More details are required to provide a clean solution. A quick and dirty solution could be to use [takeUntilOther](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#takeUntilOther-org.reactivestreams.Publisher-) operator, where the &quot;other&quot; publisher would be `getHeartBeatStream().timeout(...).then(Mono.just(&quot;timeout&quot;))`, or something that intercept error on the heartbeat stream, etc.","body":"@RoberMP is right. More details are required to provide a clean solution. A quick and dirty solution could be to use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#takeUntilOther-org.reactivestreams.Publisher-\" rel=\"nofollow noreferrer\">takeUntilOther</a> operator, where the &quot;other&quot; publisher would be <code>getHeartBeatStream().timeout(...).then(Mono.just(&quot;timeout&quot;))</code>&zwnj;&#8203;, or something that intercept error on the heartbeat stream, etc."},{"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"score":0,"creation_date":1665756147,"post_id":74060820,"comment_id":130778977,"body_markdown":"@amanin I have added some other config","body":"@amanin I have added some other config"}],"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665759623,"creation_date":1665688993,"question_id":74060820,"body_markdown":"I would like to merge two streams (one is a heartbeat to detect, that connection with client is not closed), but not to return that heartbeat to the client (some kind of filter to just return data from Kafka only). Is there a good solution to do that? Or just to detect that connection with client is closed?\r\n\r\nI am using ReactiveKafkaConsumerTemplate to subscribe to the given topic. When client connects to the endpoint, then consumer starts working, but when client ends connection, its still subscribing (subscription works until Flux ends).\r\n\r\nMy code is similar to below:\r\n\r\n```\r\n@PostConstruct\r\nvoid initialize() {\r\n    final var properties = kafkaProperties.buildConsumerProperties();\r\n    properties.put(ConsumerConfig.GROUP_ID_CONFIG, TimelineNamingFactory.createTimelineGroupIdName(processInstanceId));\r\n    ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(properties);\r\n    this.template = new ReactiveKafkaConsumerTemplate&lt;&gt;(\r\n        basicReceiverOptions.subscription(\r\n            Set.of(TimelineNamingFactory.createTimelineTopicName())\r\n        ).closeTimeout(Duration.ofSeconds(1))\r\n    );\r\n}\r\n\r\n@GetMapping(value = &quot;/api/timeline:subscribe&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\nFlux&lt;String&gt; getTimelineEvents() {\r\n    return Flux.merge(\r\n        template.receiveAutoAck().map(ConsumerRecord::value),\r\n        getHeartbeatStream()\r\n    );\r\n}\r\n\r\n   private Flux&lt;String&gt; getHeartbeatStream() {\r\n       return Flux.interval(Duration.ofSeconds(2)).map(i -&gt; &quot;ping&quot;);\r\n   }\r\n\r\n```\r\n","title":"Merging two Flux streams but return only one (heartbeat)","body":"<p>I would like to merge two streams (one is a heartbeat to detect, that connection with client is not closed), but not to return that heartbeat to the client (some kind of filter to just return data from Kafka only). Is there a good solution to do that? Or just to detect that connection with client is closed?</p>\n<p>I am using ReactiveKafkaConsumerTemplate to subscribe to the given topic. When client connects to the endpoint, then consumer starts working, but when client ends connection, its still subscribing (subscription works until Flux ends).</p>\n<p>My code is similar to below:</p>\n<pre><code>@PostConstruct\nvoid initialize() {\n    final var properties = kafkaProperties.buildConsumerProperties();\n    properties.put(ConsumerConfig.GROUP_ID_CONFIG, TimelineNamingFactory.createTimelineGroupIdName(processInstanceId));\n    ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(properties);\n    this.template = new ReactiveKafkaConsumerTemplate&lt;&gt;(\n        basicReceiverOptions.subscription(\n            Set.of(TimelineNamingFactory.createTimelineTopicName())\n        ).closeTimeout(Duration.ofSeconds(1))\n    );\n}\n\n@GetMapping(value = &quot;/api/timeline:subscribe&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\nFlux&lt;String&gt; getTimelineEvents() {\n    return Flux.merge(\n        template.receiveAutoAck().map(ConsumerRecord::value),\n        getHeartbeatStream()\n    );\n}\n\n   private Flux&lt;String&gt; getHeartbeatStream() {\n       return Flux.interval(Duration.ofSeconds(2)).map(i -&gt; &quot;ping&quot;);\n   }\n\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","software-design"],"answers":[{"comments":[{"owner":{"account_id":18229199,"reputation":69,"user_id":13268444,"display_name":"naman singh"},"score":0,"creation_date":1665759725,"post_id":74071082,"comment_id":130780405,"body_markdown":"But is it a good practice to use it?","body":"But is it a good practice to use it?"},{"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"score":0,"creation_date":1665911933,"post_id":74071082,"comment_id":130806058,"body_markdown":"Why not? i think is ok","body":"Why not? i think is ok"},{"owner":{"account_id":18229199,"reputation":69,"user_id":13268444,"display_name":"naman singh"},"score":0,"creation_date":1665931891,"post_id":74071082,"comment_id":130809813,"body_markdown":"Finally got it. My concepts for JPA were not that clear. Thanks a ton","body":"Finally got it. My concepts for JPA were not that clear. Thanks a ton"}],"tags":[],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665759238,"creation_date":1665759238,"answer_id":74071082,"question_id":74071038,"body_markdown":"JPA is for NoSQL database too.","title":"Design pattern to connect spring and MongoDB","body":"<p>JPA is for NoSQL database too.</p>\n"},{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665759620,"creation_date":1665759620,"answer_id":74071183,"question_id":74071038,"body_markdown":"The MongoTemplate follows the standard template pattern in Spring and provides a ready-to-go, basic API to the underlying persistence engine.\r\n\r\nThe repository follows the Spring Data-centric approach and comes with more flexible and complex API operations, based on the well-known access patterns in all Spring Data projects.\r\n\r\nFor both, we need to start by defining the dependency — for example, in the pom.xml, with Maven\r\n\r\nYou can learn about how you can use mongo db with spring boot and how to configure your application from the below link in detail\r\nhttps://www.baeldung.com/spring-data-mongodb-tutorial","title":"Design pattern to connect spring and MongoDB","body":"<p>The MongoTemplate follows the standard template pattern in Spring and provides a ready-to-go, basic API to the underlying persistence engine.</p>\n<p>The repository follows the Spring Data-centric approach and comes with more flexible and complex API operations, based on the well-known access patterns in all Spring Data projects.</p>\n<p>For both, we need to start by defining the dependency — for example, in the pom.xml, with Maven</p>\n<p>You can learn about how you can use mongo db with spring boot and how to configure your application from the below link in detail\n<a href=\"https://www.baeldung.com/spring-data-mongodb-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-mongodb-tutorial</a></p>\n"}],"owner":{"account_id":18229199,"reputation":69,"user_id":13268444,"display_name":"naman singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666103424,"answer_count":2,"score":-1,"last_activity_date":1665759620,"creation_date":1665759050,"question_id":74071038,"body_markdown":"I am new to Spring Boot and I saw a concept of DAO or JPA that helps us to use Relational databases. But in my case I want to use mongo-DB so is there a particular design pattern with spring that I should be using in order to perform CRUD operations? \r\n\r\nWhat design patterns are generally used? \r\n\r\nIn case there is no such design pattern then what could be the best way to be performing CRUD operations using MongoDB? \r\n\r\nAlso are there any tools or standards that helps us connect java application to a NoSQL database?","title":"Design pattern to connect spring and MongoDB","body":"<p>I am new to Spring Boot and I saw a concept of DAO or JPA that helps us to use Relational databases. But in my case I want to use mongo-DB so is there a particular design pattern with spring that I should be using in order to perform CRUD operations?</p>\n<p>What design patterns are generally used?</p>\n<p>In case there is no such design pattern then what could be the best way to be performing CRUD operations using MongoDB?</p>\n<p>Also are there any tools or standards that helps us connect java application to a NoSQL database?</p>\n"},{"tags":["java","annotations","protocol-buffers","jacoco","generated"],"comments":[{"owner":{"account_id":55748,"reputation":5870,"user_id":167016,"accept_rate":78,"display_name":"vpram86"},"score":1,"creation_date":1655138557,"post_id":61513706,"comment_id":128255054,"body_markdown":"Were you able to find a way to do this? Bumping into this same problem (We use lombox as well, but lombok generated annotation is skipped properly)","body":"Were you able to find a way to do this? Bumping into this same problem (We use lombox as well, but lombok generated annotation is skipped properly)"}],"answers":[{"tags":[],"owner":{"account_id":259052,"reputation":466,"user_id":541654,"display_name":"Andrej Urvantsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665759529,"creation_date":1665759529,"answer_id":74071166,"question_id":61513706,"body_markdown":"That&#39;s an old question, but still\r\n\r\nhttps://github.com/protocolbuffers/protobuf/issues/42\r\n\r\nSo you suppose to add `--java_out=annotate_code` to the list of `protoc` options.\r\n\r\nIf you use https://github.com/google/protobuf-gradle-plugin gradle plugin for code generation, then you can do like this(Gradle Kotlin DSL):\r\n\r\n\r\n    protobuf {\r\n        generateProtoTasks {\r\n            all().forEach { task -&gt;\r\n                task.builtins {\r\n                    getByName(&quot;java&quot;) {\r\n                        option(&quot;annotate_code&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to add Java compile-time Custom annotation to Protobuf generated code","body":"<p>That's an old question, but still</p>\n<p><a href=\"https://github.com/protocolbuffers/protobuf/issues/42\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/issues/42</a></p>\n<p>So you suppose to add <code>--java_out=annotate_code</code> to the list of <code>protoc</code> options.</p>\n<p>If you use <a href=\"https://github.com/google/protobuf-gradle-plugin\" rel=\"nofollow noreferrer\">https://github.com/google/protobuf-gradle-plugin</a> gradle plugin for code generation, then you can do like this(Gradle Kotlin DSL):</p>\n<pre><code>protobuf {\n    generateProtoTasks {\n        all().forEach { task -&gt;\n            task.builtins {\n                getByName(&quot;java&quot;) {\n                    option(&quot;annotate_code&quot;)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2094629,"reputation":5281,"user_id":1863694,"accept_rate":53,"display_name":"Ivan Voroshilin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1455,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":74071166,"answer_count":1,"score":15,"last_activity_date":1665759529,"creation_date":1588204894,"question_id":61513706,"body_markdown":"I use gRPC framework with Proto 3. We have a java code coverage tool Jacoco which scans java byte code for java &quot;annotation&quot; @Generated  in compiled classes and if it has one, it skips that java class from coverage. But Proto-compiler adds this annotation:\r\n```\r\n@javax.annotation.Generated(\r\n    value = &quot;by gRPC proto compiler (version 1.20.0)&quot;,\r\n    comments = &quot;Source: myProto.proto&quot;)\r\npublic class MyClass {\r\n...\r\n}\r\n```\r\n\r\nBut the annotation javax.annotation.Generated has @Retention(value=SOURCE) which doesn&#39;t exist in compiled classes.\r\n\r\nIs there a way to add annotation to java generated files from protobuf as compile-time?\r\n\r\n","title":"How to add Java compile-time Custom annotation to Protobuf generated code","body":"<p>I use gRPC framework with Proto 3. We have a java code coverage tool Jacoco which scans java byte code for java \"annotation\" @Generated  in compiled classes and if it has one, it skips that java class from coverage. But Proto-compiler adds this annotation:</p>\n\n<pre><code>@javax.annotation.Generated(\n    value = \"by gRPC proto compiler (version 1.20.0)\",\n    comments = \"Source: myProto.proto\")\npublic class MyClass {\n...\n}\n</code></pre>\n\n<p>But the annotation javax.annotation.Generated has @Retention(value=SOURCE) which doesn't exist in compiled classes.</p>\n\n<p>Is there a way to add annotation to java generated files from protobuf as compile-time?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","servlets"],"answers":[{"comments":[{"owner":{"account_id":18923135,"reputation":1,"user_id":13806806,"display_name":"Smart Guy"},"score":0,"creation_date":1665893884,"post_id":74071036,"comment_id":130803782,"body_markdown":"it didnt work, the basic urls such as http://localhost:8080/test/404.html started throwing 404 error","body":"it didnt work, the basic urls such as <a href=\"http://localhost:8080/test/404.html\" rel=\"nofollow noreferrer\">localhost:8080/test/404.html</a> started throwing 404 error"}],"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665759040,"creation_date":1665759040,"answer_id":74071036,"question_id":74070770,"body_markdown":"try this:\r\n&quot;file:../../test/&quot;","title":"UTF-8 Encoded URL using option file: in WebMvcConfigurer not functional in spring boot","body":"<p>try this:\n&quot;file:../../test/&quot;</p>\n"}],"owner":{"account_id":18923135,"reputation":1,"user_id":13806806,"display_name":"Smart Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665759040,"creation_date":1665757750,"question_id":74070770,"body_markdown":"I have written a spring boot application with only spring-boot-starter-web as part of my spring boot project. I have added below configuration where I keep 2 html files named 404.html and 404ए.html in Test folder while 404s.html and in 404प्र.htmlin static folder under classpath. \r\n\r\n\r\n```\r\n@Configuration\r\npublic class StaticResourceConfiguration implements WebMvcConfigurer {\r\n\r\n    private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {&quot;file:../../test&quot;\r\n     ,&quot;classpath:/static/&quot;         \r\n            };\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/**&quot;)\r\n            .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\r\n   \r\n       }\r\n    \r\n   \r\n}\r\n```\r\n\r\nI tried to hit below urls and there respective result\r\n\r\n \r\n\r\n - http://localhost:8080/404s.html-- success 200 \r\n - http://localhost:8080/404प्र.html-- success 200       \r\n - http://localhost:8080/test/404.html-- success 200\r\n - **http://localhost:8080/test/404ए.html-- fail 404**\r\n\r\nBelow is the success Trace log for request  http://localhost:8080/404प्र.html-- success 200\r\n```\r\n2022-10-14T19:40:33.101+0530 TRACE o.s.web.filter.RequestContextFilter.initContextHolders Bound request context to thread: org.apache.catalina.connector.RequestFacade@9490ca2\r\n2022-10-14T19:40:33.102+0530 TRACE o.s.core.log.LogFormatUtils.traceDebug GET &quot;/404%E0%A4%AA%E0%A5%8D%E0%A4%B0.html&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-10-14T19:40:33.103+0530 TRACE o.s.w.s.h.AbstractHandlerMapping.getHandler Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [URL [file:../../test], classpath [static/]]] and 3 interceptors\r\n2022-10-14T19:40:33.104+0530 TRACE o.s.w.s.r.ResourceHttpRequestHandler.handleRequest Resource not modified\r\n2022-10-14T19:40:33.104+0530 TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult No view rendering, null ModelAndView returned.\r\n2022-10-14T19:40:33.105+0530 DEBUG o.s.web.servlet.FrameworkServlet.logResult Completed 304 NOT_MODIFIED, headers={masked}\r\n2022-10-14T19:40:33.105+0530 TRACE o.s.web.filter.RequestContextFilter.doFilterInternal Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@9490ca2\r\n```\r\n\r\nBelow is the failure Trace log for request  http://localhost:8080/test/404ए.html\r\n```\r\n2022-10-14T19:40:44.505+0530 TRACE o.s.web.filter.RequestContextFilter.initContextHolders Bound request context to thread: org.apache.catalina.connector.RequestFacade@9490ca2\r\n2022-10-14T19:40:44.505+0530 TRACE o.s.core.log.LogFormatUtils.traceDebug GET &quot;/test/404%E0%A4%8F.html&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-10-14T19:40:44.506+0530 TRACE o.s.w.s.h.AbstractHandlerMapping.getHandler Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [URL [file:../../test], classpath [static/]]] and 3 interceptors\r\n2022-10-14T19:40:44.506+0530 WARN o.s.w.s.r.PathResourceResolver.isInvalidEncodedPath &quot;Resolved resource path contains encoded &quot;../&quot; or &quot;..\\&quot;: file:../../test/404%E0%A4%8F.html&quot;\r\n2022-10-14T19:40:44.507+0530 WARN o.s.w.s.r.PathResourceResolver.isInvalidEncodedPath &quot;Resolved resource path contains encoded &quot;../&quot; or &quot;..\\&quot;: file:../../test/404%E0%A4%8F.html&quot;\r\n2022-10-14T19:40:44.507+0530 WARN o.s.w.s.r.PathResourceResolver.getResource &quot;Resource path &quot;test/404%E0%A4%8F.html&quot; was successfully resolved but resource &quot;file:../../test/404%E0%A4%8F.html&quot; is neither under the current location &quot;file:../../test&quot; nor under any of the allowed locations [URL [file:../../test], class path resource [static/]]&quot;\r\n2022-10-14T19:40:44.507+0530 DEBUG o.s.w.s.r.ResourceHttpRequestHandler.handleRequest Resource not found\r\n2022-10-14T19:40:44.508+0530 TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult No view rendering, null ModelAndView returned.\r\n2022-10-14T19:40:44.508+0530 DEBUG o.s.web.servlet.FrameworkServlet.logResult Completed 404 NOT_FOUND, headers={masked}\r\n2022-10-14T19:40:44.508+0530 TRACE o.s.web.filter.RequestContextFilter.doFilterInternal Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@9490ca2\r\n2022-10-14T19:40:44.510+0530 TRACE o.s.web.filter.RequestContextFilter.initContextHolders Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@762bf5a4\r\n2022-10-14T19:40:44.510+0530 TRACE o.s.core.log.LogFormatUtils.traceDebug &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-10-14T19:40:44.511+0530 TRACE o.s.w.s.h.AbstractHandlerMethodMapping.lookupHandlerMethod 2 matching mappings: [{ [/error], produces [text/html]}, { [/error]}]\r\n2022-10-14T19:40:44.512+0530 TRACE o.s.b.f.support.AbstractBeanFactory.doGetBean Returning cached instance of singleton bean &#39;basicErrorController&#39;\r\n2022-10-14T19:40:44.512+0530 TRACE o.s.w.s.h.AbstractHandlerMapping.getHandler Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n2022-10-14T19:40:44.513+0530 TRACE o.s.w.m.s.InvocableHandlerMethod.invokeForRequest Arguments: [org.apache.catalina.core.ApplicationHttpRequest@762bf5a4, org.apache.catalina.connector.ResponseFacade@6d648a54]\r\n2022-10-14T19:40:44.515+0530 TRACE o.s.w.s.support.WebContentGenerator.prepareResponse Applying default cacheSeconds=-1\r\n2022-10-14T19:40:44.516+0530 TRACE o.s.b.f.support.AbstractBeanFactory.doGetBean Returning cached instance of singleton bean &#39;error&#39;\r\n2022-10-14T19:40:44.516+0530 TRACE o.s.w.s.v.AbstractCachingViewResolver.resolveViewName View with key [error] served from cache\r\n2022-10-14T19:40:44.516+0530 DEBUG o.s.w.s.v.ContentNegotiatingViewResolver.getBestView Selected &#39;text/html&#39; given [text/html, text/html;q=0.8]\r\n2022-10-14T19:40:44.516+0530 TRACE o.s.web.servlet.DispatcherServlet.render Rendering view [org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$StaticView@245de034] \r\n2022-10-14T19:40:44.517+0530 DEBUG o.s.web.servlet.FrameworkServlet.logResult Exiting from &quot;ERROR&quot; dispatch, status 404, headers={masked}\r\n2022-10-14T19:40:44.517+0530 TRACE o.s.web.filter.RequestContextFilter.doFilterInternal Cleared thread-bound request context: org.apache.catalina.core.ApplicationHttpRequest@762bf5a4\r\n```\r\n\r\nI am unable to understand why the html from classpath static folder is process correctly but from externally configured folder is not handelled correctly by spring boot and how to resolve it.\r\n\r\nThanks in advance\r\n\r\n","title":"UTF-8 Encoded URL using option file: in WebMvcConfigurer not functional in spring boot","body":"<p>I have written a spring boot application with only spring-boot-starter-web as part of my spring boot project. I have added below configuration where I keep 2 html files named 404.html and 404ए.html in Test folder while 404s.html and in 404प्र.htmlin static folder under classpath.</p>\n<pre><code>@Configuration\npublic class StaticResourceConfiguration implements WebMvcConfigurer {\n\n    private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {&quot;file:../../test&quot;\n     ,&quot;classpath:/static/&quot;         \n            };\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/**&quot;)\n            .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\n   \n       }\n    \n   \n}\n</code></pre>\n<p>I tried to hit below urls and there respective result</p>\n<ul>\n<li>http://localhost:8080/404s.html-- success 200</li>\n<li>http://localhost:8080/404प्र.html-- success 200</li>\n<li>http://localhost:8080/test/404.html-- success 200</li>\n<li><strong>http://localhost:8080/test/404ए.html-- fail 404</strong></li>\n</ul>\n<p>Below is the success Trace log for request  http://localhost:8080/404प्र.html-- success 200</p>\n<pre><code>2022-10-14T19:40:33.101+0530 TRACE o.s.web.filter.RequestContextFilter.initContextHolders Bound request context to thread: org.apache.catalina.connector.RequestFacade@9490ca2\n2022-10-14T19:40:33.102+0530 TRACE o.s.core.log.LogFormatUtils.traceDebug GET &quot;/404%E0%A4%AA%E0%A5%8D%E0%A4%B0.html&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2022-10-14T19:40:33.103+0530 TRACE o.s.w.s.h.AbstractHandlerMapping.getHandler Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [URL [file:../../test], classpath [static/]]] and 3 interceptors\n2022-10-14T19:40:33.104+0530 TRACE o.s.w.s.r.ResourceHttpRequestHandler.handleRequest Resource not modified\n2022-10-14T19:40:33.104+0530 TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult No view rendering, null ModelAndView returned.\n2022-10-14T19:40:33.105+0530 DEBUG o.s.web.servlet.FrameworkServlet.logResult Completed 304 NOT_MODIFIED, headers={masked}\n2022-10-14T19:40:33.105+0530 TRACE o.s.web.filter.RequestContextFilter.doFilterInternal Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@9490ca2\n</code></pre>\n<p>Below is the failure Trace log for request  http://localhost:8080/test/404ए.html</p>\n<pre><code>2022-10-14T19:40:44.505+0530 TRACE o.s.web.filter.RequestContextFilter.initContextHolders Bound request context to thread: org.apache.catalina.connector.RequestFacade@9490ca2\n2022-10-14T19:40:44.505+0530 TRACE o.s.core.log.LogFormatUtils.traceDebug GET &quot;/test/404%E0%A4%8F.html&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2022-10-14T19:40:44.506+0530 TRACE o.s.w.s.h.AbstractHandlerMapping.getHandler Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [URL [file:../../test], classpath [static/]]] and 3 interceptors\n2022-10-14T19:40:44.506+0530 WARN o.s.w.s.r.PathResourceResolver.isInvalidEncodedPath &quot;Resolved resource path contains encoded &quot;../&quot; or &quot;..\\&quot;: file:../../test/404%E0%A4%8F.html&quot;\n2022-10-14T19:40:44.507+0530 WARN o.s.w.s.r.PathResourceResolver.isInvalidEncodedPath &quot;Resolved resource path contains encoded &quot;../&quot; or &quot;..\\&quot;: file:../../test/404%E0%A4%8F.html&quot;\n2022-10-14T19:40:44.507+0530 WARN o.s.w.s.r.PathResourceResolver.getResource &quot;Resource path &quot;test/404%E0%A4%8F.html&quot; was successfully resolved but resource &quot;file:../../test/404%E0%A4%8F.html&quot; is neither under the current location &quot;file:../../test&quot; nor under any of the allowed locations [URL [file:../../test], class path resource [static/]]&quot;\n2022-10-14T19:40:44.507+0530 DEBUG o.s.w.s.r.ResourceHttpRequestHandler.handleRequest Resource not found\n2022-10-14T19:40:44.508+0530 TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult No view rendering, null ModelAndView returned.\n2022-10-14T19:40:44.508+0530 DEBUG o.s.web.servlet.FrameworkServlet.logResult Completed 404 NOT_FOUND, headers={masked}\n2022-10-14T19:40:44.508+0530 TRACE o.s.web.filter.RequestContextFilter.doFilterInternal Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@9490ca2\n2022-10-14T19:40:44.510+0530 TRACE o.s.web.filter.RequestContextFilter.initContextHolders Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@762bf5a4\n2022-10-14T19:40:44.510+0530 TRACE o.s.core.log.LogFormatUtils.traceDebug &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2022-10-14T19:40:44.511+0530 TRACE o.s.w.s.h.AbstractHandlerMethodMapping.lookupHandlerMethod 2 matching mappings: [{ [/error], produces [text/html]}, { [/error]}]\n2022-10-14T19:40:44.512+0530 TRACE o.s.b.f.support.AbstractBeanFactory.doGetBean Returning cached instance of singleton bean 'basicErrorController'\n2022-10-14T19:40:44.512+0530 TRACE o.s.w.s.h.AbstractHandlerMapping.getHandler Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n2022-10-14T19:40:44.513+0530 TRACE o.s.w.m.s.InvocableHandlerMethod.invokeForRequest Arguments: [org.apache.catalina.core.ApplicationHttpRequest@762bf5a4, org.apache.catalina.connector.ResponseFacade@6d648a54]\n2022-10-14T19:40:44.515+0530 TRACE o.s.w.s.support.WebContentGenerator.prepareResponse Applying default cacheSeconds=-1\n2022-10-14T19:40:44.516+0530 TRACE o.s.b.f.support.AbstractBeanFactory.doGetBean Returning cached instance of singleton bean 'error'\n2022-10-14T19:40:44.516+0530 TRACE o.s.w.s.v.AbstractCachingViewResolver.resolveViewName View with key [error] served from cache\n2022-10-14T19:40:44.516+0530 DEBUG o.s.w.s.v.ContentNegotiatingViewResolver.getBestView Selected 'text/html' given [text/html, text/html;q=0.8]\n2022-10-14T19:40:44.516+0530 TRACE o.s.web.servlet.DispatcherServlet.render Rendering view [org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$StaticView@245de034] \n2022-10-14T19:40:44.517+0530 DEBUG o.s.web.servlet.FrameworkServlet.logResult Exiting from &quot;ERROR&quot; dispatch, status 404, headers={masked}\n2022-10-14T19:40:44.517+0530 TRACE o.s.web.filter.RequestContextFilter.doFilterInternal Cleared thread-bound request context: org.apache.catalina.core.ApplicationHttpRequest@762bf5a4\n</code></pre>\n<p>I am unable to understand why the html from classpath static folder is process correctly but from externally configured folder is not handelled correctly by spring boot and how to resolve it.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"score":2,"creation_date":1665759460,"post_id":74071011,"comment_id":130780299,"body_markdown":"Hey Speedy12, welcome to SO.  \nPlease elaborate on the issue instead of just copy/pasting an error.  \nAlso, tell us what you understand from this error message and the research you did, things you tried that didn&#39;t work, etc.","body":"Hey Speedy12, welcome to SO.   Please elaborate on the issue instead of just copy/pasting an error.   Also, tell us what you understand from this error message and the research you did, things you tried that didn&#39;t work, etc."},{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1665759470,"post_id":74071011,"comment_id":130780306,"body_markdown":"can you post the code for which you&#39;re getting error?","body":"can you post the code for which you&#39;re getting error?"},{"owner":{"account_id":26623554,"reputation":1,"user_id":20241948,"display_name":"speedy12"},"score":0,"creation_date":1665846246,"post_id":74071011,"comment_id":130796593,"body_markdown":"Yo guys i fixed the error it’s ok. Thank u","body":"Yo guys i fixed the error it’s ok. Thank u"}],"owner":{"account_id":26623554,"reputation":1,"user_id":20241948,"display_name":"speedy12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665758932,"creation_date":1665758932,"question_id":74071011,"body_markdown":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).","title":"I keep gettng the same debugging error on this simple springboot app","body":"<p>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.</p>\n<p>Reason: Failed to determine a suitable driver class</p>\n<p>Action:</p>\n<p>Consider the following:\nIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\nIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).</p>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1665758500,"post_id":74070890,"comment_id":130779897,"body_markdown":"[Tips for asking a good Structured Query Language (SQL) question](//meta.stackoverflow.com/questions/271055). Provide source data and desired final data state for it.","body":"<a href=\"//meta.stackoverflow.com/questions/271055\">Tips for asking a good Structured Query Language (SQL) question</a>. Provide source data and desired final data state for it."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665758943,"post_id":74070890,"comment_id":130780078,"body_markdown":"Do you have the same datatype on both tables?","body":"Do you have the same datatype on both tables?"},{"owner":{"account_id":5344315,"reputation":671,"user_id":4260286,"display_name":"Babajide Apata"},"score":0,"creation_date":1665759100,"post_id":74070890,"comment_id":130780135,"body_markdown":"Yes, they were not same datatype before, but I had to modify the destination column to  BINARY(16) which is the same datatype with the source column","body":"Yes, they were not same datatype before, but I had to modify the destination column to  BINARY(16) which is the same datatype with the source column"}],"owner":{"account_id":5344315,"reputation":671,"user_id":4260286,"display_name":"Babajide Apata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665758770,"creation_date":1665758362,"question_id":74070890,"body_markdown":"I have a 2 tables let&#39;s say (**`Account`** and **`Customer`**) that uses UUID as the primary key without proper relationship, and I am trying to fix appropriately. \r\n\r\nThe `customer_id`(not the UUID (PK)) on `account` is the same thing as the `provider_customer_id` on `customer` table,\r\n\r\nwhen I tried to update the `account` table by setting `customer_id` as the UUID of the `customer` table so as to reference the customer table from there with the script below\r\n\r\n    SET FOREIGN_KEY_CHECKS=0;\r\n    ALTER TABLE accounts\r\n        MODIFY COLUMN customer_id BINARY(16) NOT NULL;\r\n    UPDATE accounts a\r\n        INNER JOIN  customers c on a.customer_id = c.provider_customer_id\r\n    SET a.customer_id = (c.id)\r\n    WHERE c.provider_customer_id is not null ;\r\n    \r\n    ALTER TABLE accounts\r\n        ADD CONSTRAINT FK_ACCOUNTS_ON_CUSTOMER FOREIGN KEY (customer_id) REFERENCES customers (id);\r\n    SET FOREIGN_KEY_CHECKS=1;\r\n\r\nmysql updated as expected, but the UUID is totally different from what was in the `customer` table this was what it was updated to\r\n\r\n    43313231-3443-4134-0000-000000000000\r\n    43313231-3634-3137-0000-000000000000\r\n    43313231-3436-4847-0000-000000000000\r\n    43313231-3443-4134-0000-000000000000","title":"update UUID column from a select in mysql","body":"<p>I have a 2 tables let's say (<strong><code>Account</code></strong> and <strong><code>Customer</code></strong>) that uses UUID as the primary key without proper relationship, and I am trying to fix appropriately.</p>\n<p>The <code>customer_id</code>(not the UUID (PK)) on <code>account</code> is the same thing as the <code>provider_customer_id</code> on <code>customer</code> table,</p>\n<p>when I tried to update the <code>account</code> table by setting <code>customer_id</code> as the UUID of the <code>customer</code> table so as to reference the customer table from there with the script below</p>\n<pre><code>SET FOREIGN_KEY_CHECKS=0;\nALTER TABLE accounts\n    MODIFY COLUMN customer_id BINARY(16) NOT NULL;\nUPDATE accounts a\n    INNER JOIN  customers c on a.customer_id = c.provider_customer_id\nSET a.customer_id = (c.id)\nWHERE c.provider_customer_id is not null ;\n\nALTER TABLE accounts\n    ADD CONSTRAINT FK_ACCOUNTS_ON_CUSTOMER FOREIGN KEY (customer_id) REFERENCES customers (id);\nSET FOREIGN_KEY_CHECKS=1;\n</code></pre>\n<p>mysql updated as expected, but the UUID is totally different from what was in the <code>customer</code> table this was what it was updated to</p>\n<pre><code>43313231-3443-4134-0000-000000000000\n43313231-3634-3137-0000-000000000000\n43313231-3436-4847-0000-000000000000\n43313231-3443-4134-0000-000000000000\n</code></pre>\n"},{"tags":["java","spring","docker","spring-security","ldap"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1665778914,"post_id":74070581,"comment_id":130786150,"body_markdown":"ldap doesnt use port 443....","body":"ldap doesnt use port 443...."},{"owner":{"account_id":9230737,"reputation":205,"user_id":6856889,"display_name":"piotrassss"},"score":0,"creation_date":1665855738,"post_id":74070581,"comment_id":130798619,"body_markdown":"Sure, port 443 is to allow https connection to application from outside. And what we want is to connect to outside LDAP from inside application. Do I really also need to expose LDAP port to do this ?","body":"Sure, port 443 is to allow https connection to application from outside. And what we want is to connect to outside LDAP from inside application. Do I really also need to expose LDAP port to do this ?"}],"owner":{"account_id":9230737,"reputation":205,"user_id":6856889,"display_name":"piotrassss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665758535,"creation_date":1665756798,"question_id":74070581,"body_markdown":"I&#39;m using Spring Boot LdapTemplate to get data from corporate LDAP. Everything is working fine when running code from development non-docker environment (Windows10 with IntelliJ).\r\n\r\nWhen the application is deployed in docker container, then there is a problem when executing search line:\r\n\r\n    Filter f = new EqualsFilter(ldapAttributeEmail, email);\r\n    ldapTemplate.search(ldapBase, f.toString(), new MyAbstractCtxMapper());\r\n\r\ndocker image is openjdk:17-jdk-slim:\r\n\r\n    FROM openjdk:17-jdk-slim\r\n    EXPOSE 443\r\n    ARG JAR_FILE=app.war\r\n    ADD ${JAR_FILE} app.war\r\n    ARG PROPS_FILE=application.properties\r\n    ADD ${PROPS_FILE} application.properties\r\n    ARG TIKA_CONFIG_FILE=tika-config.xml\r\n    ADD ${TIKA_CONFIG_FILE} tika-config.xml\r\n    ARG CERT_FILE=cert.p12\r\n    ADD ${CERT_FILE} cert.p12\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.war&quot;]\r\n\r\nSpring Boot version is 2.7.2 and dependency for LDAP is:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nLDAP connection is configured in configuration class, credentials are ok:\r\n\r\n    @Configuration\r\n    public class LDAPConfiguration {\r\n\r\n    private final String ldapUrl;\r\n    private final String ldapUser;\r\n    private final String ldapPassword;\r\n\r\n    @Autowired\r\n    public LDAPConfiguration(\r\n            @Value(&quot;${ldap.url}&quot;) String ldapUrl,\r\n            @Value(&quot;${ldap.principal}&quot;) String ldapUser,\r\n            @Value(&quot;${ldap.password}&quot;) String ldapPassword) {\r\n        this.ldapUrl = ldapUrl;\r\n        this.ldapUser = ldapUser;\r\n        this.ldapPassword = ldapPassword;\r\n    }\r\n\r\n    @Bean\r\n    public LdapContextSource ldapContextSource() {\r\n        LdapContextSource contextSource = new LdapContextSource();\r\n\r\n        contextSource.setUrl(ldapUrl);\r\n        contextSource.setUserDn(ldapUser);\r\n        contextSource.setPassword(ldapPassword);\r\n\r\n        return contextSource;\r\n    }\r\n\r\n    @Bean\r\n    public LdapTemplate ldapTemplate() {\r\n        return new LdapTemplate(ldapContextSource());\r\n    }\r\n}\r\n\r\n\r\nthrown exception is:\r\n\r\n    org.springframework.ldap.UncategorizedLdapException: Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: LDAP connection has been closed; remaining name &#39;ou=People,o=XXX&#39;\r\n        at org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:228) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:401) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:332) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:633) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:574) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:534) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:550) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:566) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at com.nokia.mn.mdmt.security.LDAPSearchProvider.getDnForUser(LDAPSearchProvider.java:53) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at com.nokia.mn.mdmt.security.LDAPAuthenticationProvider.authenticate(LDAPAuthenticationProvider.java:60) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at com.nokia.mn.mdmt.security.LDAPAuthenticationProvider.authenticate(LDAPAuthenticationProvider.java:114) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar!/:5.7.2]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n      Caused by: javax.naming.NamingException: LDAP connection has been closed\r\n        at java.naming/com.sun.jndi.ldap.LdapRequest.getReplyBer(LdapRequest.java:133) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.Connection.readReply(Connection.java:444) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapClient.getSearchReply(LdapClient.java:639) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapClient.search(LdapClient.java:562) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapCtx.doSearch(LdapCtx.java:2014) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapCtx.searchAux(LdapCtx.java:1873) ~[na:na]\r\n        at java.naming/com.sun.jndi.ldap.LdapCtx.c_search(LdapCtx.java:1798) ~[na:na]\r\n        at java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_search(ComponentDirContext.java:392) ~[na:na]\r\n        at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(PartialCompositeDirContext.java:358) ~[na:na]\r\n        at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(PartialCompositeDirContext.java:341) ~[na:na]\r\n        at java.naming/javax.naming.directory.InitialDirContext.search(InitialDirContext.java:296) ~[na:na]\r\n        at org.springframework.ldap.core.LdapTemplate$4.executeSearch(LdapTemplate.java:326) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:367) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\r\n        ... 68 common frames omitted\r\n\r\n\r\nWhat could be cause of above exception ?\r\n ","title":"Cannot search corporate LDAP from docker container","body":"<p>I'm using Spring Boot LdapTemplate to get data from corporate LDAP. Everything is working fine when running code from development non-docker environment (Windows10 with IntelliJ).</p>\n<p>When the application is deployed in docker container, then there is a problem when executing search line:</p>\n<pre><code>Filter f = new EqualsFilter(ldapAttributeEmail, email);\nldapTemplate.search(ldapBase, f.toString(), new MyAbstractCtxMapper());\n</code></pre>\n<p>docker image is openjdk:17-jdk-slim:</p>\n<pre><code>FROM openjdk:17-jdk-slim\nEXPOSE 443\nARG JAR_FILE=app.war\nADD ${JAR_FILE} app.war\nARG PROPS_FILE=application.properties\nADD ${PROPS_FILE} application.properties\nARG TIKA_CONFIG_FILE=tika-config.xml\nADD ${TIKA_CONFIG_FILE} tika-config.xml\nARG CERT_FILE=cert.p12\nADD ${CERT_FILE} cert.p12\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.war&quot;]\n</code></pre>\n<p>Spring Boot version is 2.7.2 and dependency for LDAP is:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>LDAP connection is configured in configuration class, credentials are ok:</p>\n<pre><code>@Configuration\npublic class LDAPConfiguration {\n\nprivate final String ldapUrl;\nprivate final String ldapUser;\nprivate final String ldapPassword;\n\n@Autowired\npublic LDAPConfiguration(\n        @Value(&quot;${ldap.url}&quot;) String ldapUrl,\n        @Value(&quot;${ldap.principal}&quot;) String ldapUser,\n        @Value(&quot;${ldap.password}&quot;) String ldapPassword) {\n    this.ldapUrl = ldapUrl;\n    this.ldapUser = ldapUser;\n    this.ldapPassword = ldapPassword;\n}\n\n@Bean\npublic LdapContextSource ldapContextSource() {\n    LdapContextSource contextSource = new LdapContextSource();\n\n    contextSource.setUrl(ldapUrl);\n    contextSource.setUserDn(ldapUser);\n    contextSource.setPassword(ldapPassword);\n\n    return contextSource;\n}\n\n@Bean\npublic LdapTemplate ldapTemplate() {\n    return new LdapTemplate(ldapContextSource());\n}\n</code></pre>\n<p>}</p>\n<p>thrown exception is:</p>\n<pre><code>org.springframework.ldap.UncategorizedLdapException: Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: LDAP connection has been closed; remaining name 'ou=People,o=XXX'\n    at org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:228) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:401) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:332) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:633) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:574) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:534) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:550) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:566) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at com.nokia.mn.mdmt.security.LDAPSearchProvider.getDnForUser(LDAPSearchProvider.java:53) ~[classes!/:0.0.1-SNAPSHOT]\n    at com.nokia.mn.mdmt.security.LDAPAuthenticationProvider.authenticate(LDAPAuthenticationProvider.java:60) ~[classes!/:0.0.1-SNAPSHOT]\n    at com.nokia.mn.mdmt.security.LDAPAuthenticationProvider.authenticate(LDAPAuthenticationProvider.java:114) ~[classes!/:0.0.1-SNAPSHOT]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar!/:5.7.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar!/:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n  Caused by: javax.naming.NamingException: LDAP connection has been closed\n    at java.naming/com.sun.jndi.ldap.LdapRequest.getReplyBer(LdapRequest.java:133) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.Connection.readReply(Connection.java:444) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapClient.getSearchReply(LdapClient.java:639) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapClient.search(LdapClient.java:562) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.doSearch(LdapCtx.java:2014) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.searchAux(LdapCtx.java:1873) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.c_search(LdapCtx.java:1798) ~[na:na]\n    at java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_search(ComponentDirContext.java:392) ~[na:na]\n    at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(PartialCompositeDirContext.java:358) ~[na:na]\n    at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(PartialCompositeDirContext.java:341) ~[na:na]\n    at java.naming/javax.naming.directory.InitialDirContext.search(InitialDirContext.java:296) ~[na:na]\n    at org.springframework.ldap.core.LdapTemplate$4.executeSearch(LdapTemplate.java:326) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:367) ~[spring-ldap-core-2.4.1.jar!/:2.4.1]\n    ... 68 common frames omitted\n</code></pre>\n<p>What could be cause of above exception ?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":16432809,"reputation":320,"user_id":11871203,"display_name":"Redi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662066721,"creation_date":1662066721,"answer_id":73575451,"question_id":73574789,"body_markdown":"You can update a document using the [MongoCollection#updateOne()][1] method \r\n\r\nAn example would be:\r\n\r\n    collection.updateOne(Filters.eq(&quot;_id&quot;, new ObjectId(&quot;1234&quot;)), Updates.set(&quot;date&quot;, new Date());\r\n\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html#updateOne(org.bson.conversions.Bson,org.bson.conversions.Bson)","title":"How to upgrade this code to latest Mongo Java driver?","body":"<p>You can update a document using the <a href=\"https://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html#updateOne(org.bson.conversions.Bson,org.bson.conversions.Bson)\" rel=\"nofollow noreferrer\">MongoCollection#updateOne()</a> method</p>\n<p>An example would be:</p>\n<pre><code>collection.updateOne(Filters.eq(&quot;_id&quot;, new ObjectId(&quot;1234&quot;)), Updates.set(&quot;date&quot;, new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664006767,"creation_date":1662713281,"answer_id":73659576,"question_id":73574789,"body_markdown":"I will try to answer your questions. \r\n\r\nQ : **How to do either Update or Save on the Document in one go?**\r\n\r\n-&gt; MongoDB&#39;s `update` method updates the values in the existing document whereas the `save` method replaces the existing document with the document passed. Nothing happens in one go. \r\n\r\n`update` method only updates which are specific fields which are modified by comparing the fields from the modified document with the original document whereas the `save` method updates/replaces the values of all the fields of an original document by the taking values from the modified document and setting the values into the original document.\r\n\r\nQ : **What will be the proper way to update a single document in the new (Mongo Java driver 4.7.0)**\r\n\r\n-&gt; You should be using `updateOne(query, updates, options)` to update a single document on a MongoCollection object.\r\n\r\nFrom [updateOne docs][1] : \r\n\r\n&gt; The method accepts a filter that matches the document you want to\r\n&gt; update and an update statement that instructs the driver how to change\r\n&gt; the matching document. The updateOne() method only updates the first\r\n&gt; document that matches the filter.\r\n&gt; \r\n&gt; To perform an update with the updateOne() method, you must pass a\r\n&gt; query filter and an update document. The query filter specifies the\r\n&gt; criteria for which document to perform the update on and the update\r\n&gt; document provides instructions on what changes to make to it.\r\n&gt; \r\n&gt; You can optionally pass an instance of UpdateOptions to the\r\n&gt; updateOne() method in order to specify the method&#39;s behavior. For\r\n&gt; example, if you set the upsert field of the UpdateOptions object to\r\n&gt; true, the operation inserts a new document from the fields in both the\r\n&gt; query and update document if no documents match the query filter.\r\n\r\nQ : **Is it seems like it was an attempt to do UPSERT operation (Update or Insert) ?**\r\n\r\n-&gt; Yes, it&#39;s an upsert operation.\r\n\r\nQ : **Why the code is trying to remove `_id` from document ?**\r\n\r\n-&gt; The `update` method will update the document if the document was found by `internal_id`. If the document was not found and also if there is no `_id` field in the document, then the mongoshell will consider it as a new document and will invoke `insert` method internally via the `update` method to insert the document. For the insertion to happen, that&#39;s why it was removed from document.\r\n\r\nJust update the code to this. \r\n\r\n    @Override\r\n    public void saveOrUpdatePrinter(Document printer) {   \r\n        MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;PRINTERS&quot;);     \r\n        Document query = new Document().append(PRINTER_COLUMNS.internal_id, printer.get(PRINTER_COLUMNS.internal_id));\r\n        UpdateOptions options = new UpdateOptions().upsert(true);\r\n        printer.put(PRINTER_COLUMNS.updateDate,new Date());\r\n        UpdateResult result = collection.updateOne(query, printer, options);             \r\n        logger.debug(&quot;saveOrUpdatePrinter updated records: &quot; + result.getModifiedCount());\r\n    }\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/drivers/java/sync/v4.6/usage-examples/updateOne/\r\n","title":"How to upgrade this code to latest Mongo Java driver?","body":"<p>I will try to answer your questions.</p>\n<p>Q : <strong>How to do either Update or Save on the Document in one go?</strong></p>\n<p>-&gt; MongoDB's <code>update</code> method updates the values in the existing document whereas the <code>save</code> method replaces the existing document with the document passed. Nothing happens in one go.</p>\n<p><code>update</code> method only updates which are specific fields which are modified by comparing the fields from the modified document with the original document whereas the <code>save</code> method updates/replaces the values of all the fields of an original document by the taking values from the modified document and setting the values into the original document.</p>\n<p>Q : <strong>What will be the proper way to update a single document in the new (Mongo Java driver 4.7.0)</strong></p>\n<p>-&gt; You should be using <code>updateOne(query, updates, options)</code> to update a single document on a MongoCollection object.</p>\n<p>From <a href=\"https://www.mongodb.com/docs/drivers/java/sync/v4.6/usage-examples/updateOne/\" rel=\"nofollow noreferrer\">updateOne docs</a> :</p>\n<blockquote>\n<p>The method accepts a filter that matches the document you want to\nupdate and an update statement that instructs the driver how to change\nthe matching document. The updateOne() method only updates the first\ndocument that matches the filter.</p>\n<p>To perform an update with the updateOne() method, you must pass a\nquery filter and an update document. The query filter specifies the\ncriteria for which document to perform the update on and the update\ndocument provides instructions on what changes to make to it.</p>\n<p>You can optionally pass an instance of UpdateOptions to the\nupdateOne() method in order to specify the method's behavior. For\nexample, if you set the upsert field of the UpdateOptions object to\ntrue, the operation inserts a new document from the fields in both the\nquery and update document if no documents match the query filter.</p>\n</blockquote>\n<p>Q : <strong>Is it seems like it was an attempt to do UPSERT operation (Update or Insert) ?</strong></p>\n<p>-&gt; Yes, it's an upsert operation.</p>\n<p>Q : <strong>Why the code is trying to remove <code>_id</code> from document ?</strong></p>\n<p>-&gt; The <code>update</code> method will update the document if the document was found by <code>internal_id</code>. If the document was not found and also if there is no <code>_id</code> field in the document, then the mongoshell will consider it as a new document and will invoke <code>insert</code> method internally via the <code>update</code> method to insert the document. For the insertion to happen, that's why it was removed from document.</p>\n<p>Just update the code to this.</p>\n<pre><code>@Override\npublic void saveOrUpdatePrinter(Document printer) {   \n    MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;PRINTERS&quot;);     \n    Document query = new Document().append(PRINTER_COLUMNS.internal_id, printer.get(PRINTER_COLUMNS.internal_id));\n    UpdateOptions options = new UpdateOptions().upsert(true);\n    printer.put(PRINTER_COLUMNS.updateDate,new Date());\n    UpdateResult result = collection.updateOne(query, printer, options);             \n    logger.debug(&quot;saveOrUpdatePrinter updated records: &quot; + result.getModifiedCount());\n}\n</code></pre>\n"}],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73659576,"answer_count":2,"score":2,"last_activity_date":1665758259,"creation_date":1662062050,"question_id":73574789,"body_markdown":"I am working on this legacy application (7 years old). I have many methods that do the same thing that I am trying to upgrade to a newer MongoDB Java driver, but it won&#39;t compile.\r\n\r\n    @Override\r\n    public void saveOrUpdatePrinter(Document printer) {\r\n    \tprinter.put(PRINTER_COLUMNS.updateDate,new Date());\t\t\r\n    \tMongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;PRINTERS&quot;);\r\n    \tprinter.remove(&quot;_id&quot;);\t\t\r\n        Document query = new Document().append(PRINTER_COLUMNS.internal_id, printer.get(PRINTER_COLUMNS.internal_id));\t    \t    \r\n    \tWriteResult result = collection.update(query, printer, true, false);\r\n    \tlogger.debug(&quot;saveOrUpdatePrinter updeded records: &quot; + result.getN());\r\n    }//\r\n\r\nThe error is:\r\n\r\n&gt; The method update(Document, Document, boolean, boolean) is undefined\r\n&gt; for the type MongoCollection\\&lt;Document&gt;\r\n\r\nWhy was this removed?\r\n    \r\n    printer.remove(&quot;_id&quot;);\r\n\r\nAlso I would like to know how to do either update or save on the document in one go?\r\n\r\nAnd what will be the proper way to update a single document in the new (MongoDB Java driver 4.7.0)?\r\n\r\nReading this code a little more seems like it was an attempt to do UPSERT operation (update or insert).","title":"How to upgrade this code to latest Mongo Java driver?","body":"<p>I am working on this legacy application (7 years old). I have many methods that do the same thing that I am trying to upgrade to a newer MongoDB Java driver, but it won't compile.</p>\n<pre><code>@Override\npublic void saveOrUpdatePrinter(Document printer) {\n    printer.put(PRINTER_COLUMNS.updateDate,new Date());     \n    MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;PRINTERS&quot;);\n    printer.remove(&quot;_id&quot;);      \n    Document query = new Document().append(PRINTER_COLUMNS.internal_id, printer.get(PRINTER_COLUMNS.internal_id));              \n    WriteResult result = collection.update(query, printer, true, false);\n    logger.debug(&quot;saveOrUpdatePrinter updeded records: &quot; + result.getN());\n}//\n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>The method update(Document, Document, boolean, boolean) is undefined\nfor the type MongoCollection&lt;Document&gt;</p>\n</blockquote>\n<p>Why was this removed?</p>\n<pre><code>printer.remove(&quot;_id&quot;);\n</code></pre>\n<p>Also I would like to know how to do either update or save on the document in one go?</p>\n<p>And what will be the proper way to update a single document in the new (MongoDB Java driver 4.7.0)?</p>\n<p>Reading this code a little more seems like it was an attempt to do UPSERT operation (update or insert).</p>\n"},{"tags":["java","reactive-programming","rx-java2","reactive","rx-java-completable"],"answers":[{"comments":[{"owner":{"account_id":16459991,"reputation":11,"user_id":11891288,"display_name":"herman s"},"score":0,"creation_date":1665685771,"post_id":74060034,"comment_id":130763074,"body_markdown":"so how do i solve this ? sorry for my lack of knowlegde in RxJava ...","body":"so how do i solve this ? sorry for my lack of knowlegde in RxJava ..."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665688021,"post_id":74060034,"comment_id":130763647,"body_markdown":"@hermans Is there something specific about the above example that is unclear?","body":"@hermans Is there something specific about the above example that is unclear?"},{"owner":{"account_id":16459991,"reputation":11,"user_id":11891288,"display_name":"herman s"},"score":0,"creation_date":1665713698,"post_id":74060034,"comment_id":130768230,"body_markdown":"oh forgive me of my idiotic response, i didnt noticed the operators, it worked perfectly !\nthanks @artiomi","body":"oh forgive me of my idiotic response, i didnt noticed the operators, it worked perfectly ! thanks @artiomi"}],"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665684425,"creation_date":1665684425,"answer_id":74060034,"question_id":74059353,"body_markdown":"Try to chain the `Completable` this way because each call to `andThen()` is returning new instance of `Completable`.\r\n```\r\nCompletable x = Completable.complete();\r\nString[] allID = {&quot;01&quot;,&quot;02&quot;,&quot;09&quot;}\r\nfor (String Id : allID) {\r\n  x = x.andThen(processdata(Id));\r\n }\r\nreturn x;\r\n```","title":"How to add andThen() in a Completable.complete() programmatically in Rx / Reactive Java","body":"<p>Try to chain the <code>Completable</code> this way because each call to <code>andThen()</code> is returning new instance of <code>Completable</code>.</p>\n<pre><code>Completable x = Completable.complete();\nString[] allID = {&quot;01&quot;,&quot;02&quot;,&quot;09&quot;}\nfor (String Id : allID) {\n  x = x.andThen(processdata(Id));\n }\nreturn x;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16459991,"reputation":11,"user_id":11891288,"display_name":"herman s"},"score":0,"creation_date":1665722711,"post_id":74061431,"comment_id":130769345,"body_markdown":"thanks for the suggestion, but it is still not woking the processData(id) is not being executed ..., i forgot to mention that the processData(id) itself returning a Completable.complete(), probably somethings is still missing in the syntax.","body":"thanks for the suggestion, but it is still not woking the processData(id) is not being executed ..., i forgot to mention that the processData(id) itself returning a Completable.complete(), probably somethings is still missing in the syntax."},{"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"score":0,"creation_date":1665758048,"post_id":74061431,"comment_id":130779710,"body_markdown":"@hermans The code in my answer definitely works (aside from a missed semicolon, which I&#39;ve added). I think I&#39;d need to see what you tried to tell you what&#39;s wrong.","body":"@hermans The code in my answer definitely works (aside from a missed semicolon, which I&#39;ve added). I think I&#39;d need to see what you tried to tell you what&#39;s wrong."},{"owner":{"account_id":16459991,"reputation":11,"user_id":11891288,"display_name":"herman s"},"score":0,"creation_date":1665767478,"post_id":74061431,"comment_id":130782754,"body_markdown":"hello @dano, i was also wondering why the code isnt working ... all i wanted to do is just reworking someone&#39;s code (first code in the question). in which involving a loop of a lot of processData(id) with different id arguments .... i did know that processData(id) itself runs a bunch other process and at the end returns a Completable.complete(). ... i dont yet know exactly why your answer wont execute, is it somehow because not being &quot;completed()&quot; so it wont execute?","body":"hello @dano, i was also wondering why the code isnt working ... all i wanted to do is just reworking someone&#39;s code (first code in the question). in which involving a loop of a lot of processData(id) with different id arguments .... i did know that processData(id) itself runs a bunch other process and at the end returns a Completable.complete(). ... i dont yet know exactly why your answer wont execute, is it somehow because not being &quot;completed()&quot; so it wont execute?"},{"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"score":0,"creation_date":1665775433,"post_id":74061431,"comment_id":130785253,"body_markdown":"@hermans If `processData()` just does a bunch of stuff then returns `Completable.complete()`, it should not return a Completable at all, it should just return void. I suspect what you&#39;re seeing is because the `processData()` function is passed directly to `andThen()`, not in passed in a callback, like with `concatMapCompletable()`. Because the implementation of `processData()` is just immediately doing some work, that work is running immediately when the code hits the `andThen()` call, rather than being delayed until there is a subscription made downstream. (Continued)","body":"@hermans If <code>processData()</code> just does a bunch of stuff then returns <code>Completable.complete()</code>, it should not return a Completable at all, it should just return void. I suspect what you&#39;re seeing is because the <code>processData()</code> function is passed directly to <code>andThen()</code>, not in passed in a callback, like with <code>concatMapCompletable()</code>. Because the implementation of <code>processData()</code> is just immediately doing some work, that work is running immediately when the code hits the <code>andThen()</code> call, rather than being delayed until there is a subscription made downstream. (Continued)"},{"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"score":0,"creation_date":1665775509,"post_id":74061431,"comment_id":130785278,"body_markdown":"There is probably a `susbscribe` call missing from whoever calls the method that you&#39;re trying to refactor. The `fromArray()` method won&#39;t emit anything until it&#39;s subscribed to, which means the callback in `concatMapCompletable()` never runs. When you use `andThen()`, `processData()` gets called before the subscription ever happens, so it looks like things are working.","body":"There is probably a <code>susbscribe</code> call missing from whoever calls the method that you&#39;re trying to refactor. The <code>fromArray()</code> method won&#39;t emit anything until it&#39;s subscribed to, which means the callback in <code>concatMapCompletable()</code> never runs. When you use <code>andThen()</code>, <code>processData()</code> gets called before the subscription ever happens, so it looks like things are working."},{"owner":{"account_id":16459991,"reputation":11,"user_id":11891288,"display_name":"herman s"},"score":0,"creation_date":1666066855,"post_id":74061431,"comment_id":130841353,"body_markdown":"ach yes you probably right, although i am must do some refactoring of the original code, i dont know exactly what the processData(id) are doing, i know at least it did some data parsing, calculation, networking process, and also bunch other long complex process, a bit of spaghetti code. The method that calls this processData(id) itself is just small subprocess in this whole rxjava framework used in this apps. nevertheless i thank you for the answer, i will definitely used it on my future works","body":"ach yes you probably right, although i am must do some refactoring of the original code, i dont know exactly what the processData(id) are doing, i know at least it did some data parsing, calculation, networking process, and also bunch other long complex process, a bit of spaghetti code. The method that calls this processData(id) itself is just small subprocess in this whole rxjava framework used in this apps. nevertheless i thank you for the answer, i will definitely used it on my future works"}],"tags":[],"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665758008,"creation_date":1665692838,"answer_id":74061431,"question_id":74059353,"body_markdown":"The idiomatic RxJava way would be to do it like this, so you don&#39;t have to keep reassigning `Completable` instances to the same reference:\r\n\r\n    return Observable.fromArray(&quot;01&quot;,&quot;02&quot;,&quot;09&quot;)\r\n       .concatMapCompletable(id -&gt; processData(id));","title":"How to add andThen() in a Completable.complete() programmatically in Rx / Reactive Java","body":"<p>The idiomatic RxJava way would be to do it like this, so you don't have to keep reassigning <code>Completable</code> instances to the same reference:</p>\n<pre><code>return Observable.fromArray(&quot;01&quot;,&quot;02&quot;,&quot;09&quot;)\n   .concatMapCompletable(id -&gt; processData(id));\n</code></pre>\n"}],"owner":{"account_id":16459991,"reputation":11,"user_id":11891288,"display_name":"herman s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665758008,"creation_date":1665680278,"question_id":74059353,"body_markdown":"how do i make a chain of andThen() operator on an Completable ?\r\n\r\nfor example, the original code is this:\r\n \r\n\r\n    return Completable.complete()\r\n            .andThen(processdata(&quot;01&quot;))\r\n            .andThen(processdata(&quot;02&quot;))\r\n            .andThen(processdata(&quot;03&quot;))\r\n            .andThen(processdata(&quot;04&quot;))\r\n            .andThen(processdata(&quot;05&quot;))\r\n            .andThen(processdata(&quot;06&quot;))\r\n            .andThen(processdata(&quot;07&quot;)); //working\r\n\r\nit worked perfectly!\r\n\r\nbut i dont want a &quot;static&quot; defined value, and tried to convert the code above into this:\r\n\r\n        Completable x = Completable.complete();\r\n        String[] allID = {&quot;01&quot;,&quot;02&quot;,&quot;09&quot;}\r\n\t    for (String Id : allID) {\r\n            x.andThen(processdata(Id));\r\n        }\r\n        return x; //not working\r\n\r\nand it is not woking, as if nothing happened\r\n\r\nand then i realized that :\r\n\r\n    \t    Completable x = Completable.complete();\r\n            x.andThen(processdata(&quot;01&quot;));\r\n            x.andThen(processdata(&quot;02&quot;));\r\n            x.andThen(processdata(&quot;03&quot;));\r\n\t        return x; //not working\r\nis also not working ...\r\n\r\ncan anybody help how the proper way to chain a Completable in my case\r\n\r\n","title":"How to add andThen() in a Completable.complete() programmatically in Rx / Reactive Java","body":"<p>how do i make a chain of andThen() operator on an Completable ?</p>\n<p>for example, the original code is this:</p>\n<pre><code>return Completable.complete()\n        .andThen(processdata(&quot;01&quot;))\n        .andThen(processdata(&quot;02&quot;))\n        .andThen(processdata(&quot;03&quot;))\n        .andThen(processdata(&quot;04&quot;))\n        .andThen(processdata(&quot;05&quot;))\n        .andThen(processdata(&quot;06&quot;))\n        .andThen(processdata(&quot;07&quot;)); //working\n</code></pre>\n<p>it worked perfectly!</p>\n<p>but i dont want a &quot;static&quot; defined value, and tried to convert the code above into this:</p>\n<pre><code>    Completable x = Completable.complete();\n    String[] allID = {&quot;01&quot;,&quot;02&quot;,&quot;09&quot;}\n    for (String Id : allID) {\n        x.andThen(processdata(Id));\n    }\n    return x; //not working\n</code></pre>\n<p>and it is not woking, as if nothing happened</p>\n<p>and then i realized that :</p>\n<pre><code>        Completable x = Completable.complete();\n        x.andThen(processdata(&quot;01&quot;));\n        x.andThen(processdata(&quot;02&quot;));\n        x.andThen(processdata(&quot;03&quot;));\n        return x; //not working\n</code></pre>\n<p>is also not working ...</p>\n<p>can anybody help how the proper way to chain a Completable in my case</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":13,"creation_date":1518761005,"post_id":23862994,"comment_id":84645336,"body_markdown":"@NeilStockton asking for a comparison between two technologies isn&#39;t asking for opinions.","body":"@NeilStockton asking for a comparison between two technologies isn&#39;t asking for opinions."}],"answers":[{"comments":[{"owner":{"account_id":4197388,"reputation":8387,"user_id":3438473,"accept_rate":58,"display_name":"CuriousMind"},"score":81,"creation_date":1462303024,"post_id":23863416,"comment_id":61577243,"body_markdown":"So does this mean that Spring Data JPA cannot exist of itself? That is, under the hood, it uses one of the JPA provider (like Hibernate, Eclipselink or any other JPA provider)?","body":"So does this mean that Spring Data JPA cannot exist of itself? That is, under the hood, it uses one of the JPA provider (like Hibernate, Eclipselink or any other JPA provider)?"},{"owner":{"account_id":3291773,"reputation":3668,"user_id":2769917,"accept_rate":65,"display_name":"Asif Mushtaq"},"score":0,"creation_date":1539514611,"post_id":23863416,"comment_id":92522547,"body_markdown":"I mean if I use only hibernate there is little configuration for hibernate level, If I use spring data jpa, that looks much easier than hibernate. In this sense I asked you that question.","body":"I mean if I use only hibernate there is little configuration for hibernate level, If I use spring data jpa, that looks much easier than hibernate. In this sense I asked you that question."},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":1,"creation_date":1565713568,"post_id":23863416,"comment_id":101435115,"body_markdown":"More precisely, so far everything works fine you need only to understand the top level i.e. Spring Data JPA. With the first exception you potentially have to know the lower levels i.e. Hibernate, JDBC **and** the Database.","body":"More precisely, so far everything works fine you need only to understand the top level i.e. Spring Data JPA. With the first exception you potentially have to know the lower levels i.e. Hibernate, JDBC <b>and</b> the Database."},{"owner":{"account_id":2471685,"reputation":521,"user_id":2153380,"accept_rate":67,"display_name":"CᴴᴀZ"},"score":14,"creation_date":1624260757,"post_id":23863416,"comment_id":120299802,"body_markdown":"@CuriousMind No, Spring Data does not exist (work) independently. It uses Hibernate implementation by default, you can notice `hibernate-core` as one of child deps in `spring-data-jpa`","body":"@CuriousMind No, Spring Data does not exist (work) independently. It uses Hibernate implementation by default, you can notice <code>hibernate-core</code> as one of child deps in <code>spring-data-jpa</code>"},{"owner":{"account_id":1094073,"reputation":368,"user_id":8458293,"display_name":"Chi Cuong Le"},"score":0,"creation_date":1652000846,"post_id":23863416,"comment_id":127495829,"body_markdown":"In general, separation of implementation and API is good design. In this case Spring data implements idea of repository as an API. This API completely based on repository pattern and do not depends on anything else. Hibernate, eclipse Link or other library provide implementation for Spring Data API. From perspective of developers: spring data is required for compilation phase, hibernate is required for runtime phase.","body":"In general, separation of implementation and API is good design. In this case Spring data implements idea of repository as an API. This API completely based on repository pattern and do not depends on anything else. Hibernate, eclipse Link or other library provide implementation for Spring Data API. From perspective of developers: spring data is required for compilation phase, hibernate is required for runtime phase."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":5,"down_vote_count":0,"up_vote_count":450,"is_accepted":true,"score":450,"last_activity_date":1610139411,"creation_date":1401082958,"answer_id":23863416,"question_id":23862994,"body_markdown":"Hibernate is a JPA implementation, while Spring Data JPA is a JPA data access abstraction. Spring Data JPA cannot work without a JPA provider.\r\n\r\nSpring Data offers a solution to the [DDD `Repository` pattern][1] or the legacy `GenericDao` custom implementations. It can also generate JPA queries on your behalf through method name conventions.\r\n\r\nWith Spring Data, you may use Hibernate, EclipseLink, or any other JPA provider. A very interesting benefit of using Spring or Java EE is that you can control transaction boundaries declaratively using the `@Transactional` annotation.\r\n\r\nSpring JDBC is much more lightweight, and it&#39;s intended for native querying, and if you only intend to use JDBC alone, then you are better off using Spring JDBC to deal with the JDBC verbosity.\r\n\r\nTherefore, Hibernate and Spring Data are complementary rather than competitors.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>Hibernate is a JPA implementation, while Spring Data JPA is a JPA data access abstraction. Spring Data JPA cannot work without a JPA provider.</p>\n<p>Spring Data offers a solution to the <a href=\"https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design\" rel=\"noreferrer\">DDD <code>Repository</code> pattern</a> or the legacy <code>GenericDao</code> custom implementations. It can also generate JPA queries on your behalf through method name conventions.</p>\n<p>With Spring Data, you may use Hibernate, EclipseLink, or any other JPA provider. A very interesting benefit of using Spring or Java EE is that you can control transaction boundaries declaratively using the <code>@Transactional</code> annotation.</p>\n<p>Spring JDBC is much more lightweight, and it's intended for native querying, and if you only intend to use JDBC alone, then you are better off using Spring JDBC to deal with the JDBC verbosity.</p>\n<p>Therefore, Hibernate and Spring Data are complementary rather than competitors.</p>\n"},{"comments":[{"owner":{"account_id":13506638,"reputation":1925,"user_id":9744452,"display_name":"Vikki"},"score":12,"creation_date":1546230519,"post_id":45568472,"comment_id":94804542,"body_markdown":"So what is the Spring Data JPA underlying implementation, is it hibernate？because when i use PagingAndSortingRepository, it show Hibernate logs in the console.","body":"So what is the Spring Data JPA underlying implementation, is it hibernate？because when i use PagingAndSortingRepository, it show Hibernate logs in the console."},{"owner":{"account_id":2841815,"reputation":1495,"user_id":2441277,"display_name":"IamVickyAV"},"score":21,"creation_date":1571380516,"post_id":45568472,"comment_id":103228941,"body_markdown":"Spring Data JPA used Hibernate implementation by default.. If you see the transitive dependencies of spring-boot-starter-data-jpa, you can see hibernate-core there","body":"Spring Data JPA used Hibernate implementation by default.. If you see the transitive dependencies of spring-boot-starter-data-jpa, you can see hibernate-core there"}],"tags":[],"owner":{"account_id":4381097,"reputation":3399,"user_id":3572733,"accept_rate":46,"display_name":"Bhagwati Malav"},"comment_count":2,"down_vote_count":0,"up_vote_count":223,"is_accepted":false,"score":223,"last_activity_date":1519112748,"creation_date":1502195535,"answer_id":45568472,"question_id":23862994,"body_markdown":"There are 3 different things we are using here :\r\n\r\n 1. JPA : Java persistence api which provide specification for persisting, reading, managing data from your java object to relations in database.\r\n 2. Hibernate: There are various provider which implement jpa. Hibernate is one of them. So we have other provider as well. But if using jpa with spring it allows you to switch to different providers in future. \r\n 3. Spring Data JPA : This is another layer on top of jpa which spring provide to make your life easy. \r\n\r\n*So lets understand how **spring data jpa and spring + hibernate** works-*\r\n\r\n\r\n----------\r\n\r\n\r\n### Spring Data JPA:\r\n\r\nLet&#39;s say you are using spring + hibernate for your application. Now you need to have dao interface and implementation where you will be writing crud operation using SessionFactory of hibernate. Let say you are writing dao class for Employee class, tomorrow in your application you might need to write similiar crud operation for any other entity. So there is lot of boilerplate code we can see here.\r\n\r\nNow Spring data jpa allow us to define dao interfaces by extending its repositories(crudrepository, jparepository) so it provide you dao implementation at runtime. You don&#39;t need to write dao implementation anymore.Thats how spring data jpa makes your life easy.\r\n\r\n ","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>There are 3 different things we are using here :</p>\n\n<ol>\n<li>JPA : Java persistence api which provide specification for persisting, reading, managing data from your java object to relations in database.</li>\n<li>Hibernate: There are various provider which implement jpa. Hibernate is one of them. So we have other provider as well. But if using jpa with spring it allows you to switch to different providers in future. </li>\n<li>Spring Data JPA : This is another layer on top of jpa which spring provide to make your life easy. </li>\n</ol>\n\n<p><em>So lets understand how <strong>spring data jpa and spring + hibernate</strong> works-</em></p>\n\n<hr>\n\n<h3>Spring Data JPA:</h3>\n\n<p>Let's say you are using spring + hibernate for your application. Now you need to have dao interface and implementation where you will be writing crud operation using SessionFactory of hibernate. Let say you are writing dao class for Employee class, tomorrow in your application you might need to write similiar crud operation for any other entity. So there is lot of boilerplate code we can see here.</p>\n\n<p>Now Spring data jpa allow us to define dao interfaces by extending its repositories(crudrepository, jparepository) so it provide you dao implementation at runtime. You don't need to write dao implementation anymore.Thats how spring data jpa makes your life easy.</p>\n"},{"comments":[{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":3,"creation_date":1548412292,"post_id":51685858,"comment_id":95540921,"body_markdown":"Daobab, really? If you don&#39;t like jpql&#39;s like of type safety (I don&#39;t), JPA has a type safe criteria API... Standard JPA is better than that poor alternative.","body":"Daobab, really? If you don&#39;t like jpql&#39;s like of type safety (I don&#39;t), JPA has a type safe criteria API... Standard JPA is better than that poor alternative."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1692020119,"post_id":51685858,"comment_id":135565298,"body_markdown":"When you use Spring Data JPA there is no reason to need access to `EntityManager`, so this is not a problem. Spring also makes it very easy to manage transactions declaratively; no need to mess with Hibernate transactions yourself. &quot;Huge problems&quot; with more than one data source: this is not very complicated if you know what you are doing. It is also not true that `@Transactional` only works for the primary data source. No datasource pooling: I don&#39;t know why you think this, but this is simply not true.","body":"When you use Spring Data JPA there is no reason to need access to <code>EntityManager</code>, so this is not a problem. Spring also makes it very easy to manage transactions declaratively; no need to mess with Hibernate transactions yourself. &quot;Huge problems&quot; with more than one data source: this is not very complicated if you know what you are doing. It is also not true that <code>@Transactional</code> only works for the primary data source. No datasource pooling: I don&#39;t know why you think this, but this is simply not true."},{"owner":{"account_id":6135525,"reputation":327,"user_id":4784521,"display_name":"Peter YuChen waNgamer"},"score":0,"creation_date":1697333102,"post_id":51685858,"comment_id":136266512,"body_markdown":"\\@Transactional killed my last project. I&#39;m reading this because I have to learn it over about ORM in spring boot projects to understand how \\@Transactional works. Can&#39;t say more because I really DONT understand \\@Transactional.","body":"\\@Transactional killed my last project. I&#39;m reading this because I have to learn it over about ORM in spring boot projects to understand how \\@Transactional works. Can&#39;t say more because I really DONT understand \\@Transactional."}],"tags":[],"owner":{"account_id":13457294,"reputation":447,"user_id":9710519,"display_name":"Klaudiusz Wojtkowiak"},"comment_count":3,"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1554099938,"creation_date":1533387711,"answer_id":51685858,"question_id":23862994,"body_markdown":"I disagree SpringJPA makes live easy. Yes, it provides some classes and you can make some simple DAO fast, but in fact, it&#39;s all you can do.\r\nIf you want to do something more than findById() or save, you must go through hell:\r\n\r\n\r\n - no EntityManager access in org.springframework.data.repository classes (this is basic JPA class!)\r\n - own transaction management (hibernate transactions disallowed)\r\n - huge problems with more than one datasources configuration\r\n - no datasource pooling (HikariCP must be in use as third party library)\r\n\r\nWhy own transaction management is an disadvantage? Since Java 1.8 allows default methods into interfaces, Spring annotation based transactions, simple doesn&#39;t work.\r\n\r\nUnfortunately, SpringJPA is based on reflections, and sometimes you need to point a method name or entity package into annotations (!). That&#39;s why any refactoring makes big crash.\r\nSadly, @Transactional works for primary DS only :( So, if you have more than one DataSources, remember - transactions works just for primary one :)\r\n\r\n&gt; What are the main differences between Hibernate and Spring Data JPA?\r\n\r\nHibernate is JPA compatibile, SpringJPA Spring compatibile. Your HibernateJPA DAO can be used with JavaEE or Hibernate Standalone, when SpringJPA can be used within Spring -  SpringBoot for example\r\n\r\n&gt; When should we not use Hibernate or Spring Data JPA? Also, when may Spring JDBC template perform better than Hibernate / Spring Data JPA?\r\n\r\nUse Spring JDBC only when you need to use much Joins or when you need to use Spring having multiple datasource connections. Generally, avoid JPA for Joins.\r\n\r\nBut my general advice, use fresh solution&amp;mdash;Daobab (http://www.daobab.io).\r\nDaobab is my Java and any JPA engine integrator, and I believe it will help much in your tasks :)\r\n\r\n\r\n\r\n","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>I disagree SpringJPA makes live easy. Yes, it provides some classes and you can make some simple DAO fast, but in fact, it's all you can do.\nIf you want to do something more than findById() or save, you must go through hell:</p>\n\n<ul>\n<li>no EntityManager access in org.springframework.data.repository classes (this is basic JPA class!)</li>\n<li>own transaction management (hibernate transactions disallowed)</li>\n<li>huge problems with more than one datasources configuration</li>\n<li>no datasource pooling (HikariCP must be in use as third party library)</li>\n</ul>\n\n<p>Why own transaction management is an disadvantage? Since Java 1.8 allows default methods into interfaces, Spring annotation based transactions, simple doesn't work.</p>\n\n<p>Unfortunately, SpringJPA is based on reflections, and sometimes you need to point a method name or entity package into annotations (!). That's why any refactoring makes big crash.\nSadly, @Transactional works for primary DS only :( So, if you have more than one DataSources, remember - transactions works just for primary one :)</p>\n\n<blockquote>\n  <p>What are the main differences between Hibernate and Spring Data JPA?</p>\n</blockquote>\n\n<p>Hibernate is JPA compatibile, SpringJPA Spring compatibile. Your HibernateJPA DAO can be used with JavaEE or Hibernate Standalone, when SpringJPA can be used within Spring -  SpringBoot for example</p>\n\n<blockquote>\n  <p>When should we not use Hibernate or Spring Data JPA? Also, when may Spring JDBC template perform better than Hibernate / Spring Data JPA?</p>\n</blockquote>\n\n<p>Use Spring JDBC only when you need to use much Joins or when you need to use Spring having multiple datasource connections. Generally, avoid JPA for Joins.</p>\n\n<p>But my general advice, use fresh solution&mdash;Daobab (<a href=\"http://www.daobab.io\" rel=\"noreferrer\">http://www.daobab.io</a>).\nDaobab is my Java and any JPA engine integrator, and I believe it will help much in your tasks :)</p>\n"},{"comments":[{"owner":{"account_id":2123818,"reputation":969,"user_id":1886510,"display_name":"darw"},"score":0,"creation_date":1610469150,"post_id":51688975,"comment_id":116140402,"body_markdown":"What is w.r.t.?","body":"What is w.r.t.?"},{"owner":{"account_id":14011963,"reputation":52,"user_id":10120356,"display_name":"Thoopalliamar"},"score":1,"creation_date":1620480608,"post_id":51688975,"comment_id":119215944,"body_markdown":"with respect to","body":"with respect to"},{"owner":{"account_id":3518150,"reputation":315,"user_id":2941084,"accept_rate":100,"display_name":"Shane"},"score":1,"creation_date":1676107934,"post_id":51688975,"comment_id":133074215,"body_markdown":"I&#39;m guilty of using WRT sometimes, myself.  Your use here doesn&#39;t make sense.","body":"I&#39;m guilty of using WRT sometimes, myself.  Your use here doesn&#39;t make sense."}],"tags":[],"owner":{"account_id":14011963,"reputation":52,"user_id":10120356,"display_name":"Thoopalliamar"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1543334863,"creation_date":1533411203,"answer_id":51688975,"question_id":23862994,"body_markdown":"Hibernate is implementation of &quot;JPA&quot; which is a specification for Java objects in Database.\r\n\r\nI would recommend to use w.r.t JPA as you can switch between different ORMS.\r\n\r\nWhen you use JDBC then you need to use SQL Queries, so if you are proficient in SQL then go for JDBC.","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>Hibernate is implementation of \"JPA\" which is a specification for Java objects in Database.</p>\n\n<p>I would recommend to use w.r.t JPA as you can switch between different ORMS.</p>\n\n<p>When you use JDBC then you need to use SQL Queries, so if you are proficient in SQL then go for JDBC.</p>\n"},{"tags":[],"owner":{"account_id":4514192,"reputation":445,"user_id":3669507,"display_name":"GPopat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571641072,"creation_date":1563040824,"answer_id":57021629,"question_id":23862994,"body_markdown":"If you prefer simplicity and more control on SQL queries then I would suggest going with Spring Data/ Spring JDBC.\r\n\r\nIts good amount of learning curve in JPA and sometimes difficult to debug issues.\r\nOn the other hand, while you have full control over SQL, it becomes much easier to optimize query and improve performance. You can easily share your SQL with DBA or someone who has a better understanding of Database.\r\n\r\n","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>If you prefer simplicity and more control on SQL queries then I would suggest going with Spring Data/ Spring JDBC.</p>\n\n<p>Its good amount of learning curve in JPA and sometimes difficult to debug issues.\nOn the other hand, while you have full control over SQL, it becomes much easier to optimize query and improve performance. You can easily share your SQL with DBA or someone who has a better understanding of Database.</p>\n"},{"comments":[{"owner":{"account_id":263210,"reputation":10980,"user_id":548634,"accept_rate":78,"display_name":"John Eipe"},"score":2,"creation_date":1577166198,"post_id":59251653,"comment_id":105108946,"body_markdown":"this is a good answer but if you could list down the corner cases and detail it further it will be very helpful. It will become a Great Answer. Thanks","body":"this is a good answer but if you could list down the corner cases and detail it further it will be very helpful. It will become a Great Answer. Thanks"},{"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"score":2,"creation_date":1578999077,"post_id":59251653,"comment_id":105613542,"body_markdown":"Well, it&#39;s not that easy to recall those given that I haven&#39;t worked with Spring Data for quite a while - I will have to go over the old code and will add more comments. However, one of the annoyances straight from my head - in JPA very often objects have to reference each other (e.g. for cascading operations). This causes a Stack Overflow error (due to circular references) when Spring tries to serialize them forcing you into ugly fiddling/workarounds. This issue is tangential to Spring Data though because it&#39;s a JPA issue. However, since JPA is underlying Spring Data you get it &quot;for free&quot;.","body":"Well, it&#39;s not that easy to recall those given that I haven&#39;t worked with Spring Data for quite a while - I will have to go over the old code and will add more comments. However, one of the annoyances straight from my head - in JPA very often objects have to reference each other (e.g. for cascading operations). This causes a Stack Overflow error (due to circular references) when Spring tries to serialize them forcing you into ugly fiddling/workarounds. This issue is tangential to Spring Data though because it&#39;s a JPA issue. However, since JPA is underlying Spring Data you get it &quot;for free&quot;."},{"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"score":1,"creation_date":1579000134,"post_id":59251653,"comment_id":105614041,"body_markdown":"Edited the post and added one more example.","body":"Edited the post and added one more example."}],"tags":[],"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1579000080,"creation_date":1575904169,"answer_id":59251653,"question_id":23862994,"body_markdown":"`Spring Data` is a convenience library on top of `JPA` that abstracts away many things and brings Spring magic (like it or not) to the persistence store access. It is primarily used for working with relational databases. In short, it allows you to declare interfaces that have methods like `findByNameOrderByAge(String name);` that will be parsed in runtime and converted into appropriate `JPA` queries.\r\n \r\nIts placement atop of `JPA` makes its use tempting for:\r\n\r\n 1. Rookie developers who don&#39;t know `SQL` or know it badly. This is a\r\n    recipe for disaster but they can get away with it if the project is trivial. \r\n    \r\n 2. Experienced engineers who know what they do and want to spindle up things\r\n    fast. This might be a viable strategy (but read further).\r\n\r\nFrom my experience with `Spring Data`, its magic is too much (this is applicable to `Spring` in general). I started to use it heavily in one project and eventually hit several corner cases where I couldn&#39;t get the library out of my way and ended up with ugly workarounds. Later I read other users&#39; complaints and realized that these issues are typical for `Spring Data`. For example, check this issue that led to hours of investigation/swearing:\r\n\r\n     public TourAccommodationRate createTourAccommodationRate(\r\n            @RequestBody TourAccommodationRate tourAccommodationRate\r\n        ) {\r\n            if (tourAccommodationRate.getId() != null) {\r\n                throw new BadRequestException(&quot;id MUST NOT be specified in a body during entry creation&quot;);\r\n            }\r\n\r\n            // This is an ugly hack required for the Room slim model to work. The problem stems from the fact that\r\n            // when we send a child entity having the many-to-many (M:N) relation to the containing entity, its\r\n            // information is not fetched. As a result, we get NPEs when trying to access all but its Id in the\r\n            // code creating the corresponding slim model. By detaching the entity from the persistence context we\r\n            // force the ORM to re-fetch it from the database instead of taking it from the cache\r\n\r\n            tourAccommodationRateRepository.save(tourAccommodationRate);\r\n            entityManager.detach(tourAccommodationRate);\r\n            return tourAccommodationRateRepository.findOne(tourAccommodationRate.getId());\r\n        }\r\n\r\nI ended up going lower level and started using `JDBI` - a nice library with just enough &quot;magic&quot; to save you from the boilerplate. With it, you have complete control over SQL queries and almost never have to fight the library.","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p><code>Spring Data</code> is a convenience library on top of <code>JPA</code> that abstracts away many things and brings Spring magic (like it or not) to the persistence store access. It is primarily used for working with relational databases. In short, it allows you to declare interfaces that have methods like <code>findByNameOrderByAge(String name);</code> that will be parsed in runtime and converted into appropriate <code>JPA</code> queries.</p>\n\n<p>Its placement atop of <code>JPA</code> makes its use tempting for:</p>\n\n<ol>\n<li><p>Rookie developers who don't know <code>SQL</code> or know it badly. This is a\nrecipe for disaster but they can get away with it if the project is trivial. </p></li>\n<li><p>Experienced engineers who know what they do and want to spindle up things\nfast. This might be a viable strategy (but read further).</p></li>\n</ol>\n\n<p>From my experience with <code>Spring Data</code>, its magic is too much (this is applicable to <code>Spring</code> in general). I started to use it heavily in one project and eventually hit several corner cases where I couldn't get the library out of my way and ended up with ugly workarounds. Later I read other users' complaints and realized that these issues are typical for <code>Spring Data</code>. For example, check this issue that led to hours of investigation/swearing:</p>\n\n<pre><code> public TourAccommodationRate createTourAccommodationRate(\n        @RequestBody TourAccommodationRate tourAccommodationRate\n    ) {\n        if (tourAccommodationRate.getId() != null) {\n            throw new BadRequestException(\"id MUST NOT be specified in a body during entry creation\");\n        }\n\n        // This is an ugly hack required for the Room slim model to work. The problem stems from the fact that\n        // when we send a child entity having the many-to-many (M:N) relation to the containing entity, its\n        // information is not fetched. As a result, we get NPEs when trying to access all but its Id in the\n        // code creating the corresponding slim model. By detaching the entity from the persistence context we\n        // force the ORM to re-fetch it from the database instead of taking it from the cache\n\n        tourAccommodationRateRepository.save(tourAccommodationRate);\n        entityManager.detach(tourAccommodationRate);\n        return tourAccommodationRateRepository.findOne(tourAccommodationRate.getId());\n    }\n</code></pre>\n\n<p>I ended up going lower level and started using <code>JDBI</code> - a nice library with just enough \"magic\" to save you from the boilerplate. With it, you have complete control over SQL queries and almost never have to fight the library.</p>\n"}],"owner":{"account_id":2766036,"reputation":5499,"user_id":2381737,"accept_rate":26,"display_name":"hard coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174189,"favorite_count":0,"down_vote_count":2,"up_vote_count":340,"accepted_answer_id":23863416,"answer_count":6,"score":338,"last_activity_date":1665757695,"creation_date":1401080431,"question_id":23862994,"body_markdown":"What are the main differences between Hibernate and Spring Data JPA? \r\n\r\nWhen should we not use Hibernate or Spring Data JPA? \r\n\r\nAlso, when may Spring JDBC template perform better than Hibernate and Spring Data JPA?","title":"What&#39;s the difference between Hibernate and Spring Data JPA","body":"<p>What are the main differences between Hibernate and Spring Data JPA?</p>\n<p>When should we not use Hibernate or Spring Data JPA?</p>\n<p>Also, when may Spring JDBC template perform better than Hibernate and Spring Data JPA?</p>\n"},{"tags":["java","micronaut","graalvm","graalvm-native-image"],"answers":[{"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1665757610,"post_id":74064877,"comment_id":130779536,"body_markdown":"That&#39;s not the case. See my answer I reposted. The binary application is still capable of reading environment vars.","body":"That&#39;s not the case. See my answer I reposted. The binary application is still capable of reading environment vars."}],"tags":[],"owner":{"account_id":14473495,"reputation":473,"user_id":10454720,"display_name":"Иван Зыков"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665726960,"creation_date":1665726960,"answer_id":74064877,"question_id":73956991,"body_markdown":"I am suppose that this is happening because you are using native image. The application has been compiled already and you can&#39;t substitute these environment variables. May be you should try to do it on compiling step?","title":"Native Image: Overwrite configuration settings","body":"<p>I am suppose that this is happening because you are using native image. The application has been compiled already and you can't substitute these environment variables. May be you should try to do it on compiling step?</p>\n"},{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665757561,"creation_date":1665757561,"answer_id":74070732,"question_id":73956991,"body_markdown":"Repost of answer in [Micronaut discussion][1].\r\n\r\n&gt; You can pass properties as environment variables:\r\n\r\n```yml\r\nversion: &quot;3.9&quot;\r\nservices:\r\n  temposec:\r\n    image: ghcr.io/onstructive/tempo-security/tempo-security:0.2.25-native\r\n    environment:\r\n      MICRONAUT_HTTP_SERVICES_TEMPOSEC_URL: http://host.docker.internal:8090\r\n      ....\r\n```\r\n\r\n&gt; I believe this is more readable than a multi-line string variable.\r\n&gt; Alternatively, you can set the MICRONAUT_CONFIG_FILES env variable to a local file, and include all the configuration there.\r\n\r\n\r\n\r\n  [1]: https://github.com/micronaut-projects/micronaut-core/discussions/8109#discussioncomment-3848711","title":"Native Image: Overwrite configuration settings","body":"<p>Repost of answer in <a href=\"https://github.com/micronaut-projects/micronaut-core/discussions/8109#discussioncomment-3848711\" rel=\"nofollow noreferrer\">Micronaut discussion</a>.</p>\n<blockquote>\n<p>You can pass properties as environment variables:</p>\n</blockquote>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3.9&quot;\nservices:\n  temposec:\n    image: ghcr.io/onstructive/tempo-security/tempo-security:0.2.25-native\n    environment:\n      MICRONAUT_HTTP_SERVICES_TEMPOSEC_URL: http://host.docker.internal:8090\n      ....\n</code></pre>\n<blockquote>\n<p>I believe this is more readable than a multi-line string variable.\nAlternatively, you can set the MICRONAUT_CONFIG_FILES env variable to a local file, and include all the configuration there.</p>\n</blockquote>\n"}],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74070732,"answer_count":2,"score":0,"last_activity_date":1665757561,"creation_date":1664954421,"question_id":73956991,"body_markdown":"I&#39;m trying to run a Micronaut application as a native image in a Docker container. With the fat jar approach I could overwrite fields in my Micronaut configuration (`application.yml`) using the environment variable `JAVA_TOOL_OPTIONS` and then set a new value to my configuration fields (see listing below).\r\n\r\n```yml\r\nversion: &quot;3.9&quot;\r\nservices:\r\n  temposec:\r\n    image: ghcr.io/onstructive/tempo-security/tempo-security:0.2.25-native\r\n    environment:\r\n      JAVA_TOOL_OPTIONS: &quot;\\\r\n        -Dmicronaut.http.services.temposec.url=http://host.docker.internal:8090 \\\r\n        -Dlog.level.ch.onstructive=DEBUG \\\r\n        -Dmicronaut.caches.tempo-cache.maximumSize=0 \\\r\n        -Dmicronaut.caches.decision-cache.maximumSize=0 \\\r\n        -Dmicronaut.caches.attribute-cache.maximumSize=0 \\\r\n        -Dmicronaut.http.services.temposec.read-timeout=1s\r\n        &quot;\r\n    ports:\r\n      - &quot;127.0.0.1:6000:8080&quot;\r\n      - &quot;127.0.0.1:6001:8090&quot;\r\n```\r\n\r\nI guess that the native image does not care about the environment variable `JAVA_TOOL_OPTIONS`, so I was wondering how to do this with a GraalVM native image. Do I have to declare specific application env variables for each field? Or is there a more elegant way to achieve the same as with the Java VM?","title":"Native Image: Overwrite configuration settings","body":"<p>I'm trying to run a Micronaut application as a native image in a Docker container. With the fat jar approach I could overwrite fields in my Micronaut configuration (<code>application.yml</code>) using the environment variable <code>JAVA_TOOL_OPTIONS</code> and then set a new value to my configuration fields (see listing below).</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3.9&quot;\nservices:\n  temposec:\n    image: ghcr.io/onstructive/tempo-security/tempo-security:0.2.25-native\n    environment:\n      JAVA_TOOL_OPTIONS: &quot;\\\n        -Dmicronaut.http.services.temposec.url=http://host.docker.internal:8090 \\\n        -Dlog.level.ch.onstructive=DEBUG \\\n        -Dmicronaut.caches.tempo-cache.maximumSize=0 \\\n        -Dmicronaut.caches.decision-cache.maximumSize=0 \\\n        -Dmicronaut.caches.attribute-cache.maximumSize=0 \\\n        -Dmicronaut.http.services.temposec.read-timeout=1s\n        &quot;\n    ports:\n      - &quot;127.0.0.1:6000:8080&quot;\n      - &quot;127.0.0.1:6001:8090&quot;\n</code></pre>\n<p>I guess that the native image does not care about the environment variable <code>JAVA_TOOL_OPTIONS</code>, so I was wondering how to do this with a GraalVM native image. Do I have to declare specific application env variables for each field? Or is there a more elegant way to achieve the same as with the Java VM?</p>\n"},{"tags":["java","android","alarmmanager"],"comments":[{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1664362204,"post_id":72475429,"comment_id":130452812,"body_markdown":"Not exactly an Xamarin Coder, but according  to what you  say, I can provide you an  answer but  it will be Andro-Java.  If not possible ok:)","body":"Not exactly an Xamarin Coder, but according  to what you  say, I can provide you an  answer but  it will be Andro-Java.  If not possible ok:)"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1665047351,"post_id":72475429,"comment_id":130609148,"body_markdown":"The answer is welcome, I can convert the source code to C# Xamarin very easily","body":"The answer is welcome, I can convert the source code to C# Xamarin very easily"},{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665073087,"post_id":72475429,"comment_id":130619315,"body_markdown":"Sorry @TechGeek, the problem is, my answer is also not working....","body":"Sorry @TechGeek, the problem is, my answer is also not working...."},{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665073120,"post_id":72475429,"comment_id":130619322,"body_markdown":"So sorry....thnx","body":"So sorry....thnx"},{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665757570,"post_id":72475429,"comment_id":130779522,"body_markdown":"FYI - use SetRepeating(), not set() as if you use set() your app must be active until set() call","body":"FYI - use SetRepeating(), not set() as if you use set() your app must be active until set() call"},{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665757575,"post_id":72475429,"comment_id":130779523,"body_markdown":"Source: ANDROID DOCS","body":"Source: ANDROID DOCS"}],"answers":[{"comments":[{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665757507,"post_id":74070721,"comment_id":130779501,"body_markdown":"Im hoping it solves your question","body":"Im hoping it solves your question"},{"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"score":0,"creation_date":1665757518,"post_id":74070721,"comment_id":130779506,"body_markdown":"Convert it to Xamanrin first too.","body":"Convert it to Xamanrin first too."}],"tags":[],"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665757480,"creation_date":1665757480,"answer_id":74070721,"question_id":72475429,"body_markdown":"I might be sure that this works:) \r\nOpen a Util class, i called it Scheduler, it can schedule notification task or a alarm task :)You choose alarm, since my app needs both :D\r\n\r\n\r\n     \r\n\r\n    /**\r\n     * Set the context to use in AlarmManager/Database. They all require {@linkplain Context}\r\n     * for many different purposes\r\n     * &lt;p&gt;\r\n     *     For this very reason, Scheduler requires you to provide context. Also, Util class {@link\r\n     *     com.functionality.app.homepage.LifeStyleUtils} has most of its functions requiring {@link\r\n     *     Context}.\r\n     * &lt;/p&gt;\r\n     * @param ctx The context to use in issue raising in LifeStyleUitls,  e.t.c.\r\n     */\r\n    public Scheduler(Context ctx) {\r\n        this.ctx = ctx;\r\n    }\r\n\r\n    public int scheduleNotification(LocalDateTime time, Intent intent, int code) {\r\n        try {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTimeInMillis(System.currentTimeMillis());\r\n\r\n            cal.set(Calendar.MINUTE, time.getMinute());\r\n            cal.set(Calendar.HOUR, time.getHour());\r\n            cal.set(Calendar.MONTH, time.getMonthValue());\r\n\r\n            cal.set(Calendar.YEAR, time.getYear());\r\n            cal.set(Calendar.DAY_OF_MONTH, time.getDayOfMonth());\r\n\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(ctx,\r\n                    code, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n            AlarmManager alarmService = (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\r\n            alarmService.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),  1000* 60 * 5,\r\n                    pendingIntent);\r\n\r\n            return SUCCESS;\r\n        } catch(Exception e) {\r\n            return FAILURE;\r\n        }\r\n    }\r\n    /**\r\n     * Schedule a task outside the life cycle of app.\r\n     *\r\n     * @param time The time to set the task.\r\n     * @param intent The intent to use, including the Receiver class.\r\n     * @return failure or sucess.\r\n     */\r\n    public int scheduleTask(LocalDateTime time, Intent intent, int code) {\r\n        try {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTimeInMillis(System.currentTimeMillis());\r\n\r\n            cal.set(Calendar.MINUTE, time.getMinute());\r\n            cal.set(Calendar.HOUR, time.getHour());\r\n            cal.set(Calendar.MONTH, time.getMonthValue());\r\n\r\n            cal.set(Calendar.YEAR, time.getYear());\r\n            cal.set(Calendar.DAY_OF_MONTH, time.getDayOfMonth());\r\n\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(ctx,\r\n                    code, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n            AlarmManager alarmService = (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\r\n            alarmService.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),  1000* 60 * 5,\r\n                    pendingIntent);\r\n\r\n            return SUCCESS;\r\n        } catch(Exception e) {\r\n            return FAILURE;\r\n        }\r\n    }\r\n    public static PendingIntent getPendingIntent(Intent intent, Context context) {\r\n        return PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT\r\n                | PendingIntent.FLAG_IMMUTABLE);\r\n    }\r\n    public void cancelAlarm(PendingIntent pendingIntent) {\r\n        AlarmManager alarmManager= (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\r\n        alarmManager.cancel(pendingIntent);\r\n    }\r\n    public void cancelNotification(PendingIntent pendingIntent) {\r\n        AlarmManager alarmManager= (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\r\n        alarmManager.cancel(pendingIntent);\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nNote: use the function &quot;scheduleTask&quot; not &quot;scheduleNotification&quot;. Also, If you need reciever code, just comment, i&#39;ll send you, i dont wanna send since it will expose my idea, not sending notification since you need alarm. Also, R.raw file is my mp3 samusng galaxy on horizon recording, cant send you that.\r\n\r\n","title":"How to make an alarm application fire when alarm has matured?","body":"<p>I might be sure that this works:)\nOpen a Util class, i called it Scheduler, it can schedule notification task or a alarm task :)You choose alarm, since my app needs both :D</p>\n<pre><code>/**\n * Set the context to use in AlarmManager/Database. They all require {@linkplain Context}\n * for many different purposes\n * &lt;p&gt;\n *     For this very reason, Scheduler requires you to provide context. Also, Util class {@link\n *     com.functionality.app.homepage.LifeStyleUtils} has most of its functions requiring {@link\n *     Context}.\n * &lt;/p&gt;\n * @param ctx The context to use in issue raising in LifeStyleUitls,  e.t.c.\n */\npublic Scheduler(Context ctx) {\n    this.ctx = ctx;\n}\n\npublic int scheduleNotification(LocalDateTime time, Intent intent, int code) {\n    try {\n        Calendar cal = Calendar.getInstance();\n        cal.setTimeInMillis(System.currentTimeMillis());\n\n        cal.set(Calendar.MINUTE, time.getMinute());\n        cal.set(Calendar.HOUR, time.getHour());\n        cal.set(Calendar.MONTH, time.getMonthValue());\n\n        cal.set(Calendar.YEAR, time.getYear());\n        cal.set(Calendar.DAY_OF_MONTH, time.getDayOfMonth());\n\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(ctx,\n                code, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        AlarmManager alarmService = (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\n        alarmService.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),  1000* 60 * 5,\n                pendingIntent);\n\n        return SUCCESS;\n    } catch(Exception e) {\n        return FAILURE;\n    }\n}\n/**\n * Schedule a task outside the life cycle of app.\n *\n * @param time The time to set the task.\n * @param intent The intent to use, including the Receiver class.\n * @return failure or sucess.\n */\npublic int scheduleTask(LocalDateTime time, Intent intent, int code) {\n    try {\n        Calendar cal = Calendar.getInstance();\n        cal.setTimeInMillis(System.currentTimeMillis());\n\n        cal.set(Calendar.MINUTE, time.getMinute());\n        cal.set(Calendar.HOUR, time.getHour());\n        cal.set(Calendar.MONTH, time.getMonthValue());\n\n        cal.set(Calendar.YEAR, time.getYear());\n        cal.set(Calendar.DAY_OF_MONTH, time.getDayOfMonth());\n\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(ctx,\n                code, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        AlarmManager alarmService = (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\n        alarmService.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),  1000* 60 * 5,\n                pendingIntent);\n\n        return SUCCESS;\n    } catch(Exception e) {\n        return FAILURE;\n    }\n}\npublic static PendingIntent getPendingIntent(Intent intent, Context context) {\n    return PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT\n            | PendingIntent.FLAG_IMMUTABLE);\n}\npublic void cancelAlarm(PendingIntent pendingIntent) {\n    AlarmManager alarmManager= (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\n    alarmManager.cancel(pendingIntent);\n}\npublic void cancelNotification(PendingIntent pendingIntent) {\n    AlarmManager alarmManager= (AlarmManager) ctx.getSystemService(Context.ALARM_SERVICE);\n    alarmManager.cancel(pendingIntent);\n}\n</code></pre>\n<p>}</p>\n<p>Note: use the function &quot;scheduleTask&quot; not &quot;scheduleNotification&quot;. Also, If you need reciever code, just comment, i'll send you, i dont wanna send since it will expose my idea, not sending notification since you need alarm. Also, R.raw file is my mp3 samusng galaxy on horizon recording, cant send you that.</p>\n"}],"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665757480,"creation_date":1654168909,"question_id":72475429,"body_markdown":"I am building an alarm application in Android Java using the C# Xamarin framework. I have done almost everything according to the Android Java play book, but the Alarm Manager Service does not fire my alarm for some reason.\r\n\r\nI have a TimePicker and DatePicker objects in my application, I use the TimePicker to read the time and minute set by the user and the the DatePicker to read the day of the week the user intends to be reminded of a certain event. When I do a check on a sample time, I have set as the trigger time, then everything seems to be okay, but there is this parameter of `AlarmManager.Set(..,PendingIntent pIntent)`. I believe the object specifies the operation that needs to be performed when the Alarm has matured. Could that have something to do with why the application does not do anything when the time has matured?\r\n\r\nI have declared all the required permissions in my manifest file as follows.\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.SET_ALARM&quot;/&gt;\r\n &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\r\n```\r\n\r\nI then access a calendar instance and ask use my timepicker and datepicker objects to set it. I did this, because I was going to need the calendar time in milliseconds as a parameter in the `AlarmManager.Set()` call.\r\n\r\n```\r\n//adjust the time in the the calendar variable using the minute and hour from the timepicker\r\nCalendar calendar= Calendar.Instance;\r\n//make sure the instance fields are manipulated hierarchically    \r\n          calendar.Set(mycalendar.Year,mycalendar.Month,mycalendar.DayOfMonth,timepicker.Hour,timepicker.Minute);\r\n//use the alarm manager to set a new alarm with a pending Intent object\r\n         _alarmManager.Set(AlarmType.ElapsedRealtimeWakeup,calendar.TimeInMillis,alarmoperation);\r\n//this pending intent specifies the kind of operation that will happen when \r\n//the alarm goes live\r\n```\r\n\r\nThis is the PendingIntent that gets called when the alarm matures\r\n\r\n```\r\n PendingIntent alarmoperation = CreatePendingResult(908, new Intent(), PendingIntentFlags.OneShot);\r\n```\r\n\r\nHow do I program a pending intent to fire an alarm if that is what is causing the application not to fire? Is it because I used an empty intent as a constructor parameter when I created the pending intent?\r\n","title":"How to make an alarm application fire when alarm has matured?","body":"<p>I am building an alarm application in Android Java using the C# Xamarin framework. I have done almost everything according to the Android Java play book, but the Alarm Manager Service does not fire my alarm for some reason.</p>\n<p>I have a TimePicker and DatePicker objects in my application, I use the TimePicker to read the time and minute set by the user and the the DatePicker to read the day of the week the user intends to be reminded of a certain event. When I do a check on a sample time, I have set as the trigger time, then everything seems to be okay, but there is this parameter of <code>AlarmManager.Set(..,PendingIntent pIntent)</code>. I believe the object specifies the operation that needs to be performed when the Alarm has matured. Could that have something to do with why the application does not do anything when the time has matured?</p>\n<p>I have declared all the required permissions in my manifest file as follows.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SET_ALARM&quot;/&gt;\n &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n</code></pre>\n<p>I then access a calendar instance and ask use my timepicker and datepicker objects to set it. I did this, because I was going to need the calendar time in milliseconds as a parameter in the <code>AlarmManager.Set()</code> call.</p>\n<pre><code>//adjust the time in the the calendar variable using the minute and hour from the timepicker\nCalendar calendar= Calendar.Instance;\n//make sure the instance fields are manipulated hierarchically    \n          calendar.Set(mycalendar.Year,mycalendar.Month,mycalendar.DayOfMonth,timepicker.Hour,timepicker.Minute);\n//use the alarm manager to set a new alarm with a pending Intent object\n         _alarmManager.Set(AlarmType.ElapsedRealtimeWakeup,calendar.TimeInMillis,alarmoperation);\n//this pending intent specifies the kind of operation that will happen when \n//the alarm goes live\n</code></pre>\n<p>This is the PendingIntent that gets called when the alarm matures</p>\n<pre><code> PendingIntent alarmoperation = CreatePendingResult(908, new Intent(), PendingIntentFlags.OneShot);\n</code></pre>\n<p>How do I program a pending intent to fire an alarm if that is what is causing the application not to fire? Is it because I used an empty intent as a constructor parameter when I created the pending intent?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"score":0,"creation_date":1665757771,"post_id":74070708,"comment_id":130779585,"body_markdown":"Does this answer your question? [Realm Studio: Unable to open a realm... Invalid top array (ref: 34280, size: 11)](https://stackoverflow.com/questions/60229816/realm-studio-unable-to-open-a-realm-invalid-top-array-ref-34280-size-11)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60229816/realm-studio-unable-to-open-a-realm-invalid-top-array-ref-34280-size-11\">Realm Studio: Unable to open a realm... Invalid top array (ref: 34280, size: 11)</a>"},{"owner":{"account_id":7545684,"reputation":268,"user_id":5728830,"display_name":"Jhonny Luis"},"score":0,"creation_date":1665758641,"post_id":74070708,"comment_id":130779957,"body_markdown":"The case mentioned, it is trying to open using the realm-studio, I tried it and it works fine, but my problem is already with the phone when trying to make a query or when opening the app","body":"The case mentioned, it is trying to open using the realm-studio, I tried it and it works fine, but my problem is already with the phone when trying to make a query or when opening the app"}],"owner":{"account_id":7545684,"reputation":268,"user_id":5728830,"display_name":"Jhonny Luis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665757421,"creation_date":1665757421,"question_id":74070708,"body_markdown":"I need your help with this error, it&#39;s happening to me a lot, it&#39;s being generated on the line where I instantiate my realm, I understand that deleting the database file and recreating it could solve it, but how could I do it? this??\r\n\r\n\r\n    Caused by: io.realm.exceptions.RealmFileException: Unable to open a realm at path &#39;/data/data/com.myapp/files/default.realm&#39;: Invalid top array (ref: 222488, size: 11)\r\n    Exception backtrace:\r\n    &lt;backtrace not supported on this platform&gt; Path:Exception backtrace:\r\n    &lt;backtrace not supported on this platform&gt;. (Invalid top array (ref: 222488, size: 11)\r\n    Exception backtrace:\r\n    &lt;backtrace not supported on this platform&gt; Path: \r\n    /data/data/com.myapp/files/default.realm\r\n    Exception backtrace:\r\n    &lt;backtrace not supported on this platform&gt;) (/data/data/com.myapp/files/default.realm) in /Users/cm/Realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 101\r\n\r\n\r\nIn this way I establish the instance of my realm\r\n\r\n    Realm.init( MyApp.instance )\r\n\r\n           val config = RealmConfiguration.Builder()\r\n               .deleteRealmIfMigrationNeeded()\r\n               .build()\r\n\r\n           realm = Realm.getInstance(config)","title":"Realm Error java.lang.ExceptionInInitializerError","body":"<p>I need your help with this error, it's happening to me a lot, it's being generated on the line where I instantiate my realm, I understand that deleting the database file and recreating it could solve it, but how could I do it? this??</p>\n<pre><code>Caused by: io.realm.exceptions.RealmFileException: Unable to open a realm at path '/data/data/com.myapp/files/default.realm': Invalid top array (ref: 222488, size: 11)\nException backtrace:\n&lt;backtrace not supported on this platform&gt; Path:Exception backtrace:\n&lt;backtrace not supported on this platform&gt;. (Invalid top array (ref: 222488, size: 11)\nException backtrace:\n&lt;backtrace not supported on this platform&gt; Path: \n/data/data/com.myapp/files/default.realm\nException backtrace:\n&lt;backtrace not supported on this platform&gt;) (/data/data/com.myapp/files/default.realm) in /Users/cm/Realm/realm-java-release/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 101\n</code></pre>\n<p>In this way I establish the instance of my realm</p>\n<pre><code>Realm.init( MyApp.instance )\n\n       val config = RealmConfiguration.Builder()\n           .deleteRealmIfMigrationNeeded()\n           .build()\n\n       realm = Realm.getInstance(config)\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665748356,"post_id":74068743,"comment_id":130776043,"body_markdown":"Please show your code","body":"Please show your code"},{"owner":{"display_name":"user20222778"},"score":0,"creation_date":1665748530,"post_id":74068743,"comment_id":130776109,"body_markdown":"I have no code to show\nI&#39;m just creating a new jFileChooser object and I don&#39;t know how to achieve what I just asked.\nIs there any way to access the scrollbar of the jFileChooser?","body":"I have no code to show I&#39;m just creating a new jFileChooser object and I don&#39;t know how to achieve what I just asked. Is there any way to access the scrollbar of the jFileChooser?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1665749018,"post_id":74068743,"comment_id":130776259,"body_markdown":"More choices [here](https://codereview.stackexchange.com/q/4446/6692).","body":"More choices <a href=\"https://codereview.stackexchange.com/q/4446/6692\">here</a>."},{"owner":{"display_name":"user20222778"},"score":0,"creation_date":1665754423,"post_id":74068743,"comment_id":130778262,"body_markdown":"Yes, I checked the documentation and I wasn&#39;t able to find anything helpful?\n\nIs there any way to access the position of the scrollbar? or to disable the size &amp; modified fields?","body":"Yes, I checked the documentation and I wasn&#39;t able to find anything helpful?  Is there any way to access the position of the scrollbar? or to disable the size &amp; modified fields?"}],"answers":[{"comments":[{"owner":{"display_name":"user20222778"},"score":0,"creation_date":1665759201,"post_id":74070636,"comment_id":130780183,"body_markdown":"Thank you very much!\nThe first solution was exactly what I was looking for!","body":"Thank you very much! The first solution was exactly what I was looking for!"},{"owner":{"display_name":"user20222778"},"score":0,"creation_date":1665762110,"post_id":74070636,"comment_id":130781241,"body_markdown":"Is there any way I can use getDescendantsOfType to get all the buttons like the list, details view and disable them?","body":"Is there any way I can use getDescendantsOfType to get all the buttons like the list, details view and disable them?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665766910,"post_id":74070636,"comment_id":130782565,"body_markdown":"Yes. The method returns a `List` of objects you are searching for., so you just iterate through the list. The above code knows there is only 1 JList or JTable, so is just accesses that component directly from the List.","body":"Yes. The method returns a <code>List</code> of objects you are searching for., so you just iterate through the list. The above code knows there is only 1 JList or JTable, so is just accesses that component directly from the List."},{"owner":{"display_name":"user20222778"},"score":0,"creation_date":1665817855,"post_id":74070636,"comment_id":130791306,"body_markdown":"I tried something like this\n`JButton button = SwingUtils.getDescendantsOfType(JButton.class, chooseFile).get(button-index);\nbutton.setVisible(false);`\nI&#39;m trying to disable all of the jFileChooser upper buttons, including the Look In field, but it didn&#39;t work","body":"I tried something like this <code>JButton button = SwingUtils.getDescendantsOfType(JButton.class, chooseFile).get(button-index); button.setVisible(false);</code> I&#39;m trying to disable all of the jFileChooser upper buttons, including the Look In field, but it didn&#39;t work"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665844050,"post_id":74070636,"comment_id":130796133,"body_markdown":"I don&#39;t know what &quot;didn&#39;t word&quot; means. Did it compile? Did you add any debug code to verify you found all the buttons? Your original question has been answered. If you have a problem with new functionality, then ask a new question with a proper [mre] demonstrating what you tried. I can&#39;t guess what you tried, and I can&#39;t post code in a comment.  Again, the suggestion was to 1) first get a `List` of buttons and then 2) iterate through the list. When I follow these two steps it works fine for me.","body":"I don&#39;t know what &quot;didn&#39;t word&quot; means. Did it compile? Did you add any debug code to verify you found all the buttons? Your original question has been answered. If you have a problem with new functionality, then ask a new question with a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what you tried. I can&#39;t guess what you tried, and I can&#39;t post code in a comment.  Again, the suggestion was to 1) first get a <code>List</code> of buttons and then 2) iterate through the list. When I follow these two steps it works fine for me."},{"owner":{"display_name":"user20222778"},"score":0,"creation_date":1665936422,"post_id":74070636,"comment_id":130810822,"body_markdown":"Sorry, my bad. I have asked a new question.","body":"Sorry, my bad. I have asked a new question."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665757095,"creation_date":1665757095,"answer_id":74070636,"question_id":74068743,"body_markdown":"You can access the JList and change the orientation of the list as follows:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n    import java.util.List;\r\n    \r\n    class FileChooserList\r\n    {\r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t    JFileChooser  fileChooser = new JFileChooser(&quot;.&quot;);\r\n    \r\n    \t\t//  Change list orientation\r\n    \r\n    \t\tJList list = SwingUtils.getDescendantsOfType(JList.class, fileChooser).get(0);\r\n    \t\tlist.setLayoutOrientation( JList.VERTICAL );\r\n    \r\n        \tfileChooser.showOpenDialog(null);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nThe above code requires the [Swing Utils](https://tips4java.wordpress.com/2008/11/13/swing-utils/) class.\r\n\r\n&gt; disable the size and modified columns from the details view\r\n\r\nDepends on what you mean by &quot;disable&quot;. \r\n\r\nYou can remove those columns from the view of the table:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n    import java.util.List;\r\n    \r\n    class FileChooserDetails\r\n    {\r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t    JFileChooser  fileChooser = new JFileChooser(&quot;.&quot;);\r\n    \r\n    \t\t//  Show the Details view of the file chooser\r\n    \r\n    \t\tAction details = fileChooser.getActionMap().get(&quot;viewTypeDetails&quot;);\r\n    \t\tdetails.actionPerformed(null);\r\n    \r\n    \t\t//  Remove columns from view\r\n    \r\n    \t\tJTable table = SwingUtils.getDescendantsOfType(JTable.class, fileChooser).get(0);\r\n    \t\tTableColumnModel tcm = table.getColumnModel();\r\n    \t\ttcm.removeColumn( tcm.getColumn(3) );\r\n    \t\ttcm.removeColumn( tcm.getColumn(1) );\r\n    \r\n        \tfileChooser.showOpenDialog(null);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Customize jFileChooser vertical scrollbar","body":"<p>You can access the JList and change the orientation of the list as follows:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\nimport java.util.List;\n\nclass FileChooserList\n{\n    private static void createAndShowUI()\n    {\n        JFileChooser  fileChooser = new JFileChooser(&quot;.&quot;);\n\n        //  Change list orientation\n\n        JList list = SwingUtils.getDescendantsOfType(JList.class, fileChooser).get(0);\n        list.setLayoutOrientation( JList.VERTICAL );\n\n        fileChooser.showOpenDialog(null);\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>The above code requires the <a href=\"https://tips4java.wordpress.com/2008/11/13/swing-utils/\" rel=\"nofollow noreferrer\">Swing Utils</a> class.</p>\n<blockquote>\n<p>disable the size and modified columns from the details view</p>\n</blockquote>\n<p>Depends on what you mean by &quot;disable&quot;.</p>\n<p>You can remove those columns from the view of the table:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\nimport java.util.List;\n\nclass FileChooserDetails\n{\n    private static void createAndShowUI()\n    {\n        JFileChooser  fileChooser = new JFileChooser(&quot;.&quot;);\n\n        //  Show the Details view of the file chooser\n\n        Action details = fileChooser.getActionMap().get(&quot;viewTypeDetails&quot;);\n        details.actionPerformed(null);\n\n        //  Remove columns from view\n\n        JTable table = SwingUtils.getDescendantsOfType(JTable.class, fileChooser).get(0);\n        TableColumnModel tcm = table.getColumnModel();\n        tcm.removeColumn( tcm.getColumn(3) );\n        tcm.removeColumn( tcm.getColumn(1) );\n\n        fileChooser.showOpenDialog(null);\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user20222778"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74070636,"answer_count":1,"score":-1,"last_activity_date":1665757095,"creation_date":1665748079,"question_id":74068743,"body_markdown":"I&#39;m using a jFileChooser and I&#39;m trying to achieve the following :\r\n\r\nhttps://i.stack.imgur.com/O6MNj.png\r\n\r\nI&#39;m trying to force the the **LIST** view to have a **VERTICAL** scroll bar or my second option is to disable the **size** and **modified** columns from the details view.\r\n\r\nEDIT:\r\n\r\nIs there any way that I can insert a JScrollBar inside the jFileChooser?","title":"Customize jFileChooser vertical scrollbar","body":"<p>I'm using a jFileChooser and I'm trying to achieve the following :</p>\n<p><a href=\"https://i.stack.imgur.com/O6MNj.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/O6MNj.png</a></p>\n<p>I'm trying to force the the <strong>LIST</strong> view to have a <strong>VERTICAL</strong> scroll bar or my second option is to disable the <strong>size</strong> and <strong>modified</strong> columns from the details view.</p>\n<p>EDIT:</p>\n<p>Is there any way that I can insert a JScrollBar inside the jFileChooser?</p>\n"},{"tags":["java","swagger","openapi"],"comments":[{"owner":{"account_id":12701375,"reputation":95,"user_id":9227989,"display_name":"Babad00k"},"score":0,"creation_date":1659527891,"post_id":71316616,"comment_id":129315301,"body_markdown":"This may be probably too late but have you tried using `&lt;useTags&gt;true&lt;/useTags&gt;` under &lt;configOptions&gt;?","body":"This may be probably too late but have you tried using <code>&lt;useTags&gt;true&lt;&#47;useTags&gt;</code> under &lt;configOptions&gt;?"}],"answers":[{"tags":[],"owner":{"account_id":18179415,"reputation":11,"user_id":13227491,"display_name":"Jakub"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665757091,"creation_date":1665757091,"answer_id":74070634,"question_id":71316616,"body_markdown":"I&#39;ve used `&lt;useTags&gt;true&lt;/useTags&gt;` under `&lt;configOptions&gt;` in my Maven file and it works for me. YAML definition \r\n```\r\npaths:\r\n    &#39;/operation/&#39;:\r\n        get:\r\n            tags:\r\n                - Some-Service\r\n```\r\ngenerates &quot;SomeServiceApi&quot; class name with the `SpringCodegen` generator. Using &quot;openapi-generator-maven-plugin&quot; in the &quot;6.2.0&quot; version.","title":"How can I specify java interfaces file names using openapi.yaml and swagger-codegen-maven-plugin","body":"<p>I've used <code>&lt;useTags&gt;true&lt;/useTags&gt;</code> under <code>&lt;configOptions&gt;</code> in my Maven file and it works for me. YAML definition</p>\n<pre><code>paths:\n    '/operation/':\n        get:\n            tags:\n                - Some-Service\n</code></pre>\n<p>generates &quot;SomeServiceApi&quot; class name with the <code>SpringCodegen</code> generator. Using &quot;openapi-generator-maven-plugin&quot; in the &quot;6.2.0&quot; version.</p>\n"}],"owner":{"account_id":3584831,"reputation":135,"user_id":2992245,"display_name":"omer keynan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665757091,"creation_date":1646186249,"question_id":71316616,"body_markdown":"I&#39;m trying to generate 2 controller classes for 2 scopes in my project.\r\nI can do that with 2 separate openapi.yaml files, and 2 maven executions.\r\n\r\nI&#39;m using swagger-codegen-maven-plugin to get it done, and I could only find code that uses swagger.yaml or openapi.yaml with a different plugin. \r\nI can&#39;t find this combination, though I&#39;m positive it&#39;s possible.\r\n\r\nThe question is if I have 2 scopes such as &#39;DB&#39; and &#39;Browse&#39;, and I want to have 2 interfaces created for the 2 scopes such as DBApi.java and BrowseApi.java, how can it be done, and if it can be done using 1 openapi.yaml file?\r\n\r\nI did see example projects where 1 openapi.yaml file resulted in PetApi.java and StoreApi.java, but I couldn&#39;t find how to configure this in my setup.\r\n\r\nThanks.\r\n\r\nThe relevant part in the maven pom file is:\r\n\r\n```&lt;plugin&gt;\r\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;raptor-codegen&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;apiPackage&gt;com.app.seo.graph.rest.v1.api&lt;/apiPackage&gt;\r\n                            &lt;modelPackage&gt;com.app.seo.graph.rest.v1.model&lt;/modelPackage&gt;\r\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/api/openapi.yaml&lt;/inputSpec&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                                &lt;additional-properties&gt;preAuthorize=hasAuthority,useJsonPropertyOrder=true,resourceMetaType=com.ebay.jaxrs.server.ResourceOperation&lt;/additional-properties&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n","title":"How can I specify java interfaces file names using openapi.yaml and swagger-codegen-maven-plugin","body":"<p>I'm trying to generate 2 controller classes for 2 scopes in my project.\nI can do that with 2 separate openapi.yaml files, and 2 maven executions.</p>\n<p>I'm using swagger-codegen-maven-plugin to get it done, and I could only find code that uses swagger.yaml or openapi.yaml with a different plugin.\nI can't find this combination, though I'm positive it's possible.</p>\n<p>The question is if I have 2 scopes such as 'DB' and 'Browse', and I want to have 2 interfaces created for the 2 scopes such as DBApi.java and BrowseApi.java, how can it be done, and if it can be done using 1 openapi.yaml file?</p>\n<p>I did see example projects where 1 openapi.yaml file resulted in PetApi.java and StoreApi.java, but I couldn't find how to configure this in my setup.</p>\n<p>Thanks.</p>\n<p>The relevant part in the maven pom file is:</p>\n<pre><code>                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;raptor-codegen&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;apiPackage&gt;com.app.seo.graph.rest.v1.api&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;com.app.seo.graph.rest.v1.model&lt;/modelPackage&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/api/openapi.yaml&lt;/inputSpec&gt;\n                            &lt;configOptions&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;additional-properties&gt;preAuthorize=hasAuthority,useJsonPropertyOrder=true,resourceMetaType=com.ebay.jaxrs.server.ResourceOperation&lt;/additional-properties&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","mongodb","apache-kafka"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665749038,"post_id":74068782,"comment_id":130776268,"body_markdown":"&quot;I suspect mongo is not able to handle the persistence of the data resulting spring boot app taking more time to ack back to Kafka. What could be the reason for the lag?&quot; Haven&#39;t you just suggested the reason? You need to profile your code and see where it is spending its time.","body":"&quot;I suspect mongo is not able to handle the persistence of the data resulting spring boot app taking more time to ack back to Kafka. What could be the reason for the lag?&quot; Haven&#39;t you just suggested the reason? You need to profile your code and see where it is spending its time."},{"owner":{"account_id":10214070,"reputation":39,"user_id":8439090,"display_name":"Anuj Patel"},"score":0,"creation_date":1665750791,"post_id":74068782,"comment_id":130776825,"body_markdown":"@tgdavies, applications are running in Kubernetes, the application has enough resources and running fine, So app may not be the issue here.","body":"@tgdavies, applications are running in Kubernetes, the application has enough resources and running fine, So app may not be the issue here."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665756798,"post_id":74068782,"comment_id":130779209,"body_markdown":"Well, are you running insertOne Mongo functions, or batching events with insertMany like the official Mongo Kafka Connector would do? If just one-by-one, then yeah, you&#39;ll have high IO rates on the database","body":"Well, are you running insertOne Mongo functions, or batching events with insertMany like the official Mongo Kafka Connector would do? If just one-by-one, then yeah, you&#39;ll have high IO rates on the database"}],"owner":{"account_id":10214070,"reputation":39,"user_id":8439090,"display_name":"Anuj Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665756730,"creation_date":1665748289,"question_id":74068782,"body_markdown":"I have a **high-frequency ingestion** system that ingests the **IoT** data into the system.\r\nApproximately **6000** messages, with an average message size of 4KB, are being received each second.\r\nPrimarily, data is being ingested to Kafka, the spring-boot application will read the data from Kafka and persists it to standalone MongoDB, and will ack back to Kafka.\r\n\r\nWe are experiencing huge lag on the spring boot app, as it&#39;s not ack-back fast to Kafka. I suspect mongo is not able to handle the persistence of the data resulting spring boot app taking more time to ack back to Kafka.\r\nWhat could be the reason for the lag?\r\n\r\nmongo version : 4.2.1\r\n\r\n **ec2** - **r5.4xlarge**\r\n- average **CPU** utilization on mongo - **70%**, never crossed 90%\r\n- average **memory** utilization on mongo - **70%** \r\n\r\n **EBS** type: **io1** with 8000 IOPS\r\n\r\nEBS Monitoring metrics:\r\n\r\n - write throughput~ 3000\r\n - read throughput~ 1000\r\n\r\n\r\n","title":"Mongo Persistence Issue, resulting in huge kafka lag","body":"<p>I have a <strong>high-frequency ingestion</strong> system that ingests the <strong>IoT</strong> data into the system.\nApproximately <strong>6000</strong> messages, with an average message size of 4KB, are being received each second.\nPrimarily, data is being ingested to Kafka, the spring-boot application will read the data from Kafka and persists it to standalone MongoDB, and will ack back to Kafka.</p>\n<p>We are experiencing huge lag on the spring boot app, as it's not ack-back fast to Kafka. I suspect mongo is not able to handle the persistence of the data resulting spring boot app taking more time to ack back to Kafka.\nWhat could be the reason for the lag?</p>\n<p>mongo version : 4.2.1</p>\n<p><strong>ec2</strong> - <strong>r5.4xlarge</strong></p>\n<ul>\n<li>average <strong>CPU</strong> utilization on mongo - <strong>70%</strong>, never crossed 90%</li>\n<li>average <strong>memory</strong> utilization on mongo - <strong>70%</strong></li>\n</ul>\n<p><strong>EBS</strong> type: <strong>io1</strong> with 8000 IOPS</p>\n<p>EBS Monitoring metrics:</p>\n<ul>\n<li>write throughput~ 3000</li>\n<li>read throughput~ 1000</li>\n</ul>\n"},{"tags":["java","spring-boot","serialization","jodatime"],"owner":{"account_id":8734063,"reputation":93,"user_id":6533246,"display_name":"Diego Cairone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665756650,"creation_date":1665756650,"question_id":74070553,"body_markdown":"In an Spring boot app, I have a DTO class with a ```org.joda.time.DateTime``` field type. \r\n\r\nThis DTO is the web response body in an endpoint and Spring boot is serialisating it to a **timestamp**. \r\n\r\nI don&#39;t want that behaviors. Instead of that, I want ```DateTime``` to be serialised as a POJO.\r\n\r\nThis is an example:\r\n\r\nActual response: \r\n```\r\n{\r\n  &quot;thisDate&quot;: 1566518936800\r\n}\r\n```\r\nExpected response:\r\n```\r\n{\r\n    &quot;thisDate&quot;: {\r\n        &quot;monthOfYear&quot;: 8,\r\n        &quot;centuryOfEra&quot;: 20,\r\n        &quot;yearOfEra&quot;: 2019,\r\n        &quot;yearOfCentury&quot;: 19,\r\n        &quot;weekyear&quot;: 2019,\r\n        &quot;weekOfWeekyear&quot;: 34,\r\n        &quot;hourOfDay&quot;: 17,\r\n        &quot;minuteOfHour&quot;: 8,\r\n        &quot;secondOfMinute&quot;: 56,\r\n        &quot;millisOfSecond&quot;: 800,\r\n        &quot;secondOfDay&quot;: 61736,\r\n        &quot;millisOfDay&quot;: 61736800,\r\n        &quot;minuteOfDay&quot;: 1028,\r\n        &quot;era&quot;: 1,\r\n        &quot;dayOfMonth&quot;: 22,\r\n        &quot;dayOfWeek&quot;: 4,\r\n        &quot;dayOfYear&quot;: 234,\r\n        &quot;year&quot;: 2019,\r\n        &quot;chronology&quot;: {\r\n            &quot;zone&quot;: {\r\n                &quot;fixed&quot;: false,\r\n                &quot;uncachedZone&quot;: {\r\n                    &quot;cachable&quot;: true,\r\n                    &quot;fixed&quot;: false,\r\n                    &quot;id&quot;: &quot;America/Los_Angeles&quot;\r\n                },\r\n                &quot;id&quot;: &quot;America/Los_Angeles&quot;\r\n            }\r\n        },\r\n        &quot;millis&quot;: 1566518936800,\r\n        &quot;zone&quot;: {\r\n            &quot;fixed&quot;: false,\r\n            &quot;uncachedZone&quot;: {\r\n                &quot;cachable&quot;: true,\r\n                &quot;fixed&quot;: false,\r\n                &quot;id&quot;: &quot;America/Los_Angeles&quot;\r\n            },\r\n            &quot;id&quot;: &quot;America/Los_Angeles&quot;\r\n        },\r\n        &quot;afterNow&quot;: false,\r\n        &quot;beforeNow&quot;: true,\r\n        &quot;equalNow&quot;: false\r\n    }\r\n}\r\n```\r\n\r\nI know this is not the most common case but is what I need; actually the most common case is exactly the opposite.\r\n\r\nThanks in advance\r\n \r\n","title":"Spring boot - Joda DateTime serialisation","body":"<p>In an Spring boot app, I have a DTO class with a <code>org.joda.time.DateTime</code> field type.</p>\n<p>This DTO is the web response body in an endpoint and Spring boot is serialisating it to a <strong>timestamp</strong>.</p>\n<p>I don't want that behaviors. Instead of that, I want <code>DateTime</code> to be serialised as a POJO.</p>\n<p>This is an example:</p>\n<p>Actual response:</p>\n<pre><code>{\n  &quot;thisDate&quot;: 1566518936800\n}\n</code></pre>\n<p>Expected response:</p>\n<pre><code>{\n    &quot;thisDate&quot;: {\n        &quot;monthOfYear&quot;: 8,\n        &quot;centuryOfEra&quot;: 20,\n        &quot;yearOfEra&quot;: 2019,\n        &quot;yearOfCentury&quot;: 19,\n        &quot;weekyear&quot;: 2019,\n        &quot;weekOfWeekyear&quot;: 34,\n        &quot;hourOfDay&quot;: 17,\n        &quot;minuteOfHour&quot;: 8,\n        &quot;secondOfMinute&quot;: 56,\n        &quot;millisOfSecond&quot;: 800,\n        &quot;secondOfDay&quot;: 61736,\n        &quot;millisOfDay&quot;: 61736800,\n        &quot;minuteOfDay&quot;: 1028,\n        &quot;era&quot;: 1,\n        &quot;dayOfMonth&quot;: 22,\n        &quot;dayOfWeek&quot;: 4,\n        &quot;dayOfYear&quot;: 234,\n        &quot;year&quot;: 2019,\n        &quot;chronology&quot;: {\n            &quot;zone&quot;: {\n                &quot;fixed&quot;: false,\n                &quot;uncachedZone&quot;: {\n                    &quot;cachable&quot;: true,\n                    &quot;fixed&quot;: false,\n                    &quot;id&quot;: &quot;America/Los_Angeles&quot;\n                },\n                &quot;id&quot;: &quot;America/Los_Angeles&quot;\n            }\n        },\n        &quot;millis&quot;: 1566518936800,\n        &quot;zone&quot;: {\n            &quot;fixed&quot;: false,\n            &quot;uncachedZone&quot;: {\n                &quot;cachable&quot;: true,\n                &quot;fixed&quot;: false,\n                &quot;id&quot;: &quot;America/Los_Angeles&quot;\n            },\n            &quot;id&quot;: &quot;America/Los_Angeles&quot;\n        },\n        &quot;afterNow&quot;: false,\n        &quot;beforeNow&quot;: true,\n        &quot;equalNow&quot;: false\n    }\n}\n</code></pre>\n<p>I know this is not the most common case but is what I need; actually the most common case is exactly the opposite.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","overriding","lombok","builder","builder-pattern"],"comments":[{"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"score":0,"creation_date":1665747793,"post_id":74068255,"comment_id":130775843,"body_markdown":"Not sure about the requirements - seeing you found a solution by yourself. Just out of curiosity - is &quot;someField&quot; an additional field (not part of the original object) ?","body":"Not sure about the requirements - seeing you found a solution by yourself. Just out of curiosity - is &quot;someField&quot; an additional field (not part of the original object) ?"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1665747872,"post_id":74068255,"comment_id":130775872,"body_markdown":"@swinkler no its not additional. In the real code there are some object modifications within the setter and the given list is transformed and added to multiple fields at once.","body":"@swinkler no its not additional. In the real code there are some object modifications within the setter and the given list is transformed and added to multiple fields at once."}],"answers":[{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665747543,"creation_date":1665747543,"answer_id":74068644,"question_id":74068255,"body_markdown":"I solved it by combining both approaches.\r\n\r\n1. The default builder override to add the custom setter\r\n2. The inherited CustomBuilder to reuse the build() method\r\n\r\nThe only thing that was required to be done in addition was to also override the\r\nbuilder() method, so the CustomBuilder will be used instead of the default Builder\r\n\r\n```\r\n\r\nimport lombok.Builder;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class LombokCustomBuilderWithCustomSetterAndBuildMethodExamplesTest {\r\n\r\n    public static final String APPENDIX = &quot; - modified by custom build()&quot;;\r\n\r\n    @Test\r\n    void test() {\r\n        assertEquals(&quot;TEST&quot; + APPENDIX, ExampleC.builder().someCustomSetter(&quot;test&quot;).build().someField);\r\n    }\r\n\r\n    /**\r\n     * Combination of both\r\n     */\r\n    @Builder\r\n    public static class ExampleC {\r\n\r\n        private String someField;\r\n\r\n        /**\r\n         * So the CustomExampleCBuilder will be provided instead\r\n         * of the ExampleCBuilder \r\n         */\r\n        public static CustomExampleCBuilder builder() {\r\n            return new CustomExampleCBuilder();\r\n        }\r\n\r\n        /**\r\n         * Create a base builder override to only add &quot;someCustomeSetter&quot; and keep\r\n         * the rest of Lombok&#39;s methods by not overriding them\r\n         */\r\n        private static class ExampleCBuilder {\r\n\r\n            public ExampleCBuilder someCustomSetter(String someValue) {\r\n                this.someField = someValue.toUpperCase();\r\n                return this;\r\n            }\r\n\r\n        }\r\n\r\n        /**\r\n         * Create a child to use the Lombok .build() and enhance it\r\n         */\r\n        private static class CustomExampleCBuilder extends ExampleCBuilder {\r\n            @Override\r\n            public ExampleC build() {\r\n                ExampleC myCreatedObject = super.build();\r\n\r\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\r\n\r\n                myCreatedObject.someField += APPENDIX;\r\n\r\n                return myCreatedObject;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Enhancing Lombok&#39;s Builder with custom setter method and enhance the existing build method without reimplementation","body":"<p>I solved it by combining both approaches.</p>\n<ol>\n<li>The default builder override to add the custom setter</li>\n<li>The inherited CustomBuilder to reuse the build() method</li>\n</ol>\n<p>The only thing that was required to be done in addition was to also override the\nbuilder() method, so the CustomBuilder will be used instead of the default Builder</p>\n<pre><code>\nimport lombok.Builder;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class LombokCustomBuilderWithCustomSetterAndBuildMethodExamplesTest {\n\n    public static final String APPENDIX = &quot; - modified by custom build()&quot;;\n\n    @Test\n    void test() {\n        assertEquals(&quot;TEST&quot; + APPENDIX, ExampleC.builder().someCustomSetter(&quot;test&quot;).build().someField);\n    }\n\n    /**\n     * Combination of both\n     */\n    @Builder\n    public static class ExampleC {\n\n        private String someField;\n\n        /**\n         * So the CustomExampleCBuilder will be provided instead\n         * of the ExampleCBuilder \n         */\n        public static CustomExampleCBuilder builder() {\n            return new CustomExampleCBuilder();\n        }\n\n        /**\n         * Create a base builder override to only add &quot;someCustomeSetter&quot; and keep\n         * the rest of Lombok's methods by not overriding them\n         */\n        private static class ExampleCBuilder {\n\n            public ExampleCBuilder someCustomSetter(String someValue) {\n                this.someField = someValue.toUpperCase();\n                return this;\n            }\n\n        }\n\n        /**\n         * Create a child to use the Lombok .build() and enhance it\n         */\n        private static class CustomExampleCBuilder extends ExampleCBuilder {\n            @Override\n            public ExampleC build() {\n                ExampleC myCreatedObject = super.build();\n\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\n\n                myCreatedObject.someField += APPENDIX;\n\n                return myCreatedObject;\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665756473,"creation_date":1665745481,"question_id":74068255,"body_markdown":"I&#39;m using Lombok&#39;s `@Builder` annotation and need to add a custom setter method, as well as enhancing the build() method.\r\n\r\nHowever, I&#39;m stuck with two solutions where none covers both requirements at once and one contradicts the other.\r\n\r\nThey vary between the direct Builder override and an inherited Builder.\r\n\r\nThe code contains those two variants and describes what is and what isn&#39;t working.\r\n\r\n```\r\npublic class LombokCustomBuilderWithCustomSetterAndBuildMethodExamples {\r\n\r\n\r\n    /**\r\n     * Without builder inheritance\r\n     */\r\n    @Builder\r\n    public static class ExampleA {\r\n\r\n        private String someField;\r\n\r\n        /**\r\n         * Directly overwrites the Lombok builder\r\n         */\r\n        private static class ExampleABuilder {\r\n\r\n            /**\r\n             * this works\r\n             */\r\n            public ExampleABuilder someCustomSetter(String someValue) {\r\n                this.someField = someValue.toUpperCase();\r\n                return this;\r\n            }\r\n\r\n            /**\r\n             * super.builder() not available, as we have overwritten the Lombok&#39;s build() method entirely.\r\n             * We would need to re-implement the functionality by ourselves\r\n             */\r\n            public ExampleA build() {\r\n                ExampleA myCreatedObject = super.build();\r\n\r\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\r\n\r\n                return myCreatedObject;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * With child and parent builder inheritance\r\n     */\r\n    @Builder\r\n    public static class ExampleB {\r\n\r\n        private String someField;\r\n\r\n        private static class CustomExampleBBuilder extends ExampleBBuilder {\r\n\r\n            /**\r\n             * this does not work, as this.someField now has private access\r\n             */\r\n            public CustomExampleBBuilder someCustomSetter(String someValue) {\r\n                this.someField = someValue.toUpperCase();\r\n                return this;\r\n            }\r\n\r\n            /**\r\n             * This works, super.build() is available, we are using the Lombok&#39;s build() result\r\n             * and won&#39;t have to rewrite it\r\n             */\r\n            @Override\r\n            public ExampleB build() {\r\n                ExampleB myCreatedObject = super.build();\r\n\r\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\r\n\r\n                return myCreatedObject;\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nOn one hand, I&#39;d need the **inheritance** so the `build()` method does **not need to be reimplemented**, on the other hand I **cannot access the field** of the class I need to set with the **custom setter method**.\r\n\r\nHow can I reuse the existing `build()` method&#39;s result after the object has been built and at the same time have my custom setter method?\r\n\r\n","title":"Enhancing Lombok&#39;s Builder with custom setter method and enhance the existing build method without reimplementation","body":"<p>I'm using Lombok's <code>@Builder</code> annotation and need to add a custom setter method, as well as enhancing the build() method.</p>\n<p>However, I'm stuck with two solutions where none covers both requirements at once and one contradicts the other.</p>\n<p>They vary between the direct Builder override and an inherited Builder.</p>\n<p>The code contains those two variants and describes what is and what isn't working.</p>\n<pre><code>public class LombokCustomBuilderWithCustomSetterAndBuildMethodExamples {\n\n\n    /**\n     * Without builder inheritance\n     */\n    @Builder\n    public static class ExampleA {\n\n        private String someField;\n\n        /**\n         * Directly overwrites the Lombok builder\n         */\n        private static class ExampleABuilder {\n\n            /**\n             * this works\n             */\n            public ExampleABuilder someCustomSetter(String someValue) {\n                this.someField = someValue.toUpperCase();\n                return this;\n            }\n\n            /**\n             * super.builder() not available, as we have overwritten the Lombok's build() method entirely.\n             * We would need to re-implement the functionality by ourselves\n             */\n            public ExampleA build() {\n                ExampleA myCreatedObject = super.build();\n\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\n\n                return myCreatedObject;\n            }\n\n        }\n    }\n\n\n    /**\n     * With child and parent builder inheritance\n     */\n    @Builder\n    public static class ExampleB {\n\n        private String someField;\n\n        private static class CustomExampleBBuilder extends ExampleBBuilder {\n\n            /**\n             * this does not work, as this.someField now has private access\n             */\n            public CustomExampleBBuilder someCustomSetter(String someValue) {\n                this.someField = someValue.toUpperCase();\n                return this;\n            }\n\n            /**\n             * This works, super.build() is available, we are using the Lombok's build() result\n             * and won't have to rewrite it\n             */\n            @Override\n            public ExampleB build() {\n                ExampleB myCreatedObject = super.build();\n\n                if (myCreatedObject.someField == null) throw new RuntimeException(&quot;Some validation failed&quot;);\n\n                return myCreatedObject;\n            }\n\n        }\n    }\n}\n\n</code></pre>\n<p>On one hand, I'd need the <strong>inheritance</strong> so the <code>build()</code> method does <strong>not need to be reimplemented</strong>, on the other hand I <strong>cannot access the field</strong> of the class I need to set with the <strong>custom setter method</strong>.</p>\n<p>How can I reuse the existing <code>build()</code> method's result after the object has been built and at the same time have my custom setter method?</p>\n"},{"tags":["java","maven","socket.io","maven-dependency","java-package"],"comments":[{"owner":{"account_id":10322038,"reputation":189,"user_id":7614602,"display_name":"Prabhakaran"},"score":0,"creation_date":1665756860,"post_id":74070459,"comment_id":130779239,"body_markdown":"Before you randomly, try with import statements, you can just locate the jar in your .m2, open the jar with winzip or 7zip and find out manually.","body":"Before you randomly, try with import statements, you can just locate the jar in your .m2, open the jar with winzip or 7zip and find out manually."},{"owner":{"account_id":16722747,"reputation":11,"user_id":17397834,"display_name":"Josh Majors"},"score":0,"creation_date":1665775887,"post_id":74070459,"comment_id":130785371,"body_markdown":"@Prabhakaran , I unzipped the .jar. The MANIFEST.MF didn’t provide any useful information. The file path to get to the .class files was io/socket/engineio/server, which matches the package import I used.","body":"@Prabhakaran , I unzipped the .jar. The MANIFEST.MF didn’t provide any useful information. The file path to get to the .class files was io/socket/engineio/server, which matches the package import I used."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1665778703,"post_id":74070459,"comment_id":130786105,"body_markdown":"Things like this is why IDEs exist.  Consider adding java support so VSCode","body":"Things like this is why IDEs exist.  Consider adding java support so VSCode"}],"owner":{"account_id":16722747,"reputation":11,"user_id":17397834,"display_name":"Josh Majors"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665756194,"creation_date":1665756194,"question_id":74070459,"body_markdown":"I&#39;m attempting to use the socket.io implementation for Java. I need 2 dependencies: 1) [Engine.IO Java Server][1] and 2) [Socket.IO Server Java][2]. I&#39;m struggling to import the actual Java packages once the dependencies have been added to my ```pom.xml```. Looking at the [javadocs for Engine.IO Java Server][3], it looks like the package name to import should be ```io.socket.engineio.server```. However, this results in an error (details below). For other dependencies that I add, what&#39;s the best way to find the package name to actually import the dependency in my Java source code? \r\n\r\nI&#39;m not using an IDE like IntelliJ/Eclipse. I&#39;m just using a more simple text editor (VSCode) and a terminal. Also, I&#39;ve ensured the dependencies are actually downloaded and installed in my ```~/.m2/repository``` directory. Here are my files/terminal output.\r\n\r\n**Pom.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n  &lt;artifactId&gt;game-server&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;game-server&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.socket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;engine.io-server&lt;/artifactId&gt;\r\n      &lt;version&gt;6.1.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.socket&lt;/groupId&gt;\r\n        &lt;artifactId&gt;socket.io-server&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                &lt;mainClass&gt;com.mycompany.app.App&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**App.java**\r\n```java\r\npackage com.mycompany.app;\r\n\r\nimport io.socket.engineio.server;\r\n\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        System.out.println( &quot;Hello World!&quot; );\r\n    }\r\n\r\n}\r\n```\r\n**Terminal Output**\r\n```bash\r\n$ mvn compile\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] -------------------&lt; com.mycompany.app:game-server &gt;--------------------\r\n[INFO] Building game-server 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ game-server ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /home/josh/Repos/game/game-server/src/main/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ game-server ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 1 source file to /home/josh/Repos/game/game-server/target/classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /home/josh/Repos/game/game-server/src/main/java/com/mycompany/app/App.java:[3,26] package io.socket.engineio does not exis\r\n```\r\n\r\n\r\n  [1]: https://socketio.github.io/engine.io-server-java/index.html\r\n  [2]: https://github.com/trinopoty/socket.io-server-java\r\n  [3]: https://socketio.github.io/engine.io-server-java/javadocs/index.html","title":"How to find package name once Maven dependency is added","body":"<p>I'm attempting to use the socket.io implementation for Java. I need 2 dependencies: 1) <a href=\"https://socketio.github.io/engine.io-server-java/index.html\" rel=\"nofollow noreferrer\">Engine.IO Java Server</a> and 2) <a href=\"https://github.com/trinopoty/socket.io-server-java\" rel=\"nofollow noreferrer\">Socket.IO Server Java</a>. I'm struggling to import the actual Java packages once the dependencies have been added to my <code>pom.xml</code>. Looking at the <a href=\"https://socketio.github.io/engine.io-server-java/javadocs/index.html\" rel=\"nofollow noreferrer\">javadocs for Engine.IO Java Server</a>, it looks like the package name to import should be <code>io.socket.engineio.server</code>. However, this results in an error (details below). For other dependencies that I add, what's the best way to find the package name to actually import the dependency in my Java source code?</p>\n<p>I'm not using an IDE like IntelliJ/Eclipse. I'm just using a more simple text editor (VSCode) and a terminal. Also, I've ensured the dependencies are actually downloaded and installed in my <code>~/.m2/repository</code> directory. Here are my files/terminal output.</p>\n<p><strong>Pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;game-server&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;game-server&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.socket&lt;/groupId&gt;\n      &lt;artifactId&gt;engine.io-server&lt;/artifactId&gt;\n      &lt;version&gt;6.1.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.socket&lt;/groupId&gt;\n        &lt;artifactId&gt;socket.io-server&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                &lt;mainClass&gt;com.mycompany.app.App&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>App.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany.app;\n\nimport io.socket.engineio.server;\n\npublic class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Hello World!&quot; );\n    }\n\n}\n</code></pre>\n<p><strong>Terminal Output</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn compile\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------------&lt; com.mycompany.app:game-server &gt;--------------------\n[INFO] Building game-server 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ game-server ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /home/josh/Repos/game/game-server/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ game-server ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /home/josh/Repos/game/game-server/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/josh/Repos/game/game-server/src/main/java/com/mycompany/app/App.java:[3,26] package io.socket.engineio does not exis\n</code></pre>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":8209952,"reputation":823,"user_id":6178459,"display_name":"Arjan"},"score":1,"creation_date":1464062333,"post_id":37404068,"comment_id":62316318,"body_markdown":"The source of BufferedReader says &quot;The default is large enough for most purposes.&quot; http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/io/BufferedReader.java","body":"The source of BufferedReader says &quot;The default is large enough for most purposes.&quot; <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/io/BufferedReader.java\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464062370,"creation_date":1464062370,"answer_id":37404142,"question_id":37404068,"body_markdown":"As the [`BufferedReader` Javadoc](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html) says\r\n\r\n&gt; The buffer size may be specified, or the default size may be used. The default is large enough for most purposes. \r\n\r\nThe default was chosen as being &quot;large enough&quot; (which I would *interpret* as &quot;good enough&quot;).","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>As the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"noreferrer\"><code>BufferedReader</code> Javadoc</a> says</p>\n\n<blockquote>\n  <p>The buffer size may be specified, or the default size may be used. The default is large enough for most purposes. </p>\n</blockquote>\n\n<p>The default was chosen as being \"large enough\" (which I would <em>interpret</em> as \"good enough\").</p>\n"},{"tags":[],"owner":{"account_id":1624206,"reputation":1100,"user_id":1500134,"accept_rate":86,"display_name":"willbattel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464062409,"creation_date":1464062409,"answer_id":37404150,"question_id":37404068,"body_markdown":"8192, as you said, is 2^13. The exact reason for this number being the default is hard to come by, but I&#39;d venture to say it&#39;s based on the combination of normal use scenarios and data efficiency. You can specify a buffer size of whatever you want, though, using a different object constructor.\r\n\r\n    BufferedReader(Reader in, int sz)\r\nCreates a buffering character-input stream that uses an input buffer of the specified size.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\r\nand https://stackoverflow.com/questions/16973843/bufferedreader-default-buffer-size will provide further insight.","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>8192, as you said, is 2^13. The exact reason for this number being the default is hard to come by, but I'd venture to say it's based on the combination of normal use scenarios and data efficiency. You can specify a buffer size of whatever you want, though, using a different object constructor.</p>\n\n<pre><code>BufferedReader(Reader in, int sz)\n</code></pre>\n\n<p>Creates a buffering character-input stream that uses an input buffer of the specified size.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html</a>\nand <a href=\"https://stackoverflow.com/questions/16973843/bufferedreader-default-buffer-size\">BufferedReader default buffer size?</a> will provide further insight.</p>\n"},{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1464065036,"creation_date":1464065036,"answer_id":37404555,"question_id":37404068,"body_markdown":"Traditionally, memory managers and paging files in the operating system work on pages that are sized in powers of 2.  This allows very efficient multiply/divide operations to be performed with left/right shift operations.  When working with a buffer, the worst case scenario is to have a buffer with size 1 byte longer than the page size (that would result in an extra page swap with very low benefit).  So the default buffer sizes will also tend to be implemented in factors of two.\r\n\r\nI&#39;d assume (but have not checked) that the JVM looks for buffers like this and attempts to align them on page boundaries.\r\n\r\nWhy does this matter?  Page misses are quite expensive.  If you are doing a ton of IO, it&#39;s better to avoid the case where the page backing the buffer gets swapped out to disk (kind of defeats the purpose of the buffer).  That said, for most applications, this is a micro-optimization, and for the vast majority of cases, the default is fine.\r\n\r\nFor reference, Windows and Linux both currently use a 4KB memory page size.  So the default buffer on BufferedReader will consume exactly 2 pages.","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>Traditionally, memory managers and paging files in the operating system work on pages that are sized in powers of 2.  This allows very efficient multiply/divide operations to be performed with left/right shift operations.  When working with a buffer, the worst case scenario is to have a buffer with size 1 byte longer than the page size (that would result in an extra page swap with very low benefit).  So the default buffer sizes will also tend to be implemented in factors of two.</p>\n\n<p>I'd assume (but have not checked) that the JVM looks for buffers like this and attempts to align them on page boundaries.</p>\n\n<p>Why does this matter?  Page misses are quite expensive.  If you are doing a ton of IO, it's better to avoid the case where the page backing the buffer gets swapped out to disk (kind of defeats the purpose of the buffer).  That said, for most applications, this is a micro-optimization, and for the vast majority of cases, the default is fine.</p>\n\n<p>For reference, Windows and Linux both currently use a 4KB memory page size.  So the default buffer on BufferedReader will consume exactly 2 pages.</p>\n"},{"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1665756121,"post_id":58815893,"comment_id":130778967,"body_markdown":"Sorry, what? What are you trying to say? How does this answer OPs question?","body":"Sorry, what? What are you trying to say? How does this answer OPs question?"}],"tags":[],"owner":{"account_id":17081943,"reputation":9,"user_id":12360138,"display_name":"quantum-grammar-decoder"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1573551851,"creation_date":1573551851,"answer_id":58815893,"question_id":37404068,"body_markdown":"8192 is 2^13 and also reveals much information regarding the RIGHT v WRONG encoded in all we do. If one takes away or adds to the author intent, he modifies and therefore corrupts the entire thing. Try to add or take away from something perfect... good luck!\r\n","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>8192 is 2^13 and also reveals much information regarding the RIGHT v WRONG encoded in all we do. If one takes away or adds to the author intent, he modifies and therefore corrupts the entire thing. Try to add or take away from something perfect... good luck!</p>\n"},{"tags":[],"owner":{"account_id":9739810,"reputation":563,"user_id":7221823,"display_name":"Yevhenii Melnyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665755986,"creation_date":1665755986,"answer_id":74070410,"question_id":37404068,"body_markdown":"There is a JDK ticket https://bugs.openjdk.org/browse/JDK-4953311 that states\r\n\r\n&gt; Most OSes that we support uses a buffer size of 8192 (8K) bytes for their IO buffering, and this is also the buffer size used by Microsoft VM on Win32. We should change the default buffer size in these two classes to 8K.\r\n","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>There is a JDK ticket <a href=\"https://bugs.openjdk.org/browse/JDK-4953311\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-4953311</a> that states</p>\n<blockquote>\n<p>Most OSes that we support uses a buffer size of 8192 (8K) bytes for their IO buffering, and this is also the buffer size used by Microsoft VM on Win32. We should change the default buffer size in these two classes to 8K.</p>\n</blockquote>\n"}],"owner":{"account_id":8184169,"reputation":1173,"user_id":6160431,"accept_rate":93,"display_name":"Sanjit Kumar Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4849,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":37404555,"answer_count":5,"score":7,"last_activity_date":1665755986,"creation_date":1464061868,"question_id":37404068,"body_markdown":"When I construct a new `BufferedReader` it is providing me a buffer of 8192 characters. What is the logic/reason behind this?\r\n\r\n    8192 = 2 to the power of 13","title":"Why is the default char buffer size of BufferedReader 8192?","body":"<p>When I construct a new <code>BufferedReader</code> it is providing me a buffer of 8192 characters. What is the logic/reason behind this?</p>\n\n<pre><code>8192 = 2 to the power of 13\n</code></pre>\n"},{"tags":["java","intellij-idea","code-coverage"],"answers":[{"tags":[],"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665755871,"creation_date":1665755871,"answer_id":74070380,"question_id":74069646,"body_markdown":"This should be present, but it looks like you Coverage plugin is disabled, check it in Preferences | Plugins | Code Coverage for Java","title":"How to run code coverage for Java project in IntelliJ Idea","body":"<p>This should be present, but it looks like you Coverage plugin is disabled, check it in Preferences | Plugins | Code Coverage for Java</p>\n"}],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74070380,"answer_count":1,"score":0,"last_activity_date":1665755871,"creation_date":1665752509,"question_id":74069646,"body_markdown":"How to run test coverage build in Idea 2022.2.3 (currently the latest) for a Gradle managed Java project?\r\n\r\n[![Run with Coverage toolbar button][1]][1]\r\n\r\nThe toolbar button &quot;Run with Coverage&quot; action is disabled and run configurations for both &quot;Gradle&quot; and &quot;JUnit&quot; task types doesn&#39;t seem to contain any of *Code coverage* configuration tab and *Modify options* &gt; *Add Run Options* &gt; *Coverage settings* sub-menu referred in the [documentation][2]. The documentation also mentions\r\n\r\n&gt; Run configurations are currently being redesigned\r\n\r\nActual run configurations\r\n\r\n[![Gradle test run configuration][3]][3]\r\n\r\n[![JUnit run configuration][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ByRE4.png\r\n  [2]: https://www.jetbrains.com/help/idea/running-test-with-coverage.html\r\n  [3]: https://i.stack.imgur.com/60wYj.png\r\n  [4]: https://i.stack.imgur.com/M7enj.png","title":"How to run code coverage for Java project in IntelliJ Idea","body":"<p>How to run test coverage build in Idea 2022.2.3 (currently the latest) for a Gradle managed Java project?</p>\n<p><a href=\"https://i.stack.imgur.com/ByRE4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ByRE4.png\" alt=\"Run with Coverage toolbar button\" /></a></p>\n<p>The toolbar button &quot;Run with Coverage&quot; action is disabled and run configurations for both &quot;Gradle&quot; and &quot;JUnit&quot; task types doesn't seem to contain any of <em>Code coverage</em> configuration tab and <em>Modify options</em> &gt; <em>Add Run Options</em> &gt; <em>Coverage settings</em> sub-menu referred in the <a href=\"https://www.jetbrains.com/help/idea/running-test-with-coverage.html\" rel=\"nofollow noreferrer\">documentation</a>. The documentation also mentions</p>\n<blockquote>\n<p>Run configurations are currently being redesigned</p>\n</blockquote>\n<p>Actual run configurations</p>\n<p><a href=\"https://i.stack.imgur.com/60wYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/60wYj.png\" alt=\"Gradle test run configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/M7enj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M7enj.png\" alt=\"JUnit run configuration\" /></a></p>\n"},{"tags":["java","google-cloud-dataproc","dataproc"],"comments":[{"owner":{"account_id":174724,"reputation":25097,"user_id":404264,"accept_rate":58,"display_name":"Dagang Wei"},"score":0,"creation_date":1665886342,"post_id":74070302,"comment_id":130803084,"body_markdown":"I&#39;m afraid this is not possible. Can you consider adding retry in your cancel logic? Or consider deleting the cluster.","body":"I&#39;m afraid this is not possible. Can you consider adding retry in your cancel logic? Or consider deleting the cluster."},{"owner":{"account_id":17834267,"reputation":31,"user_id":12953619,"display_name":"stefanQ"},"score":0,"creation_date":1666019576,"post_id":74070302,"comment_id":130830242,"body_markdown":"Thanks for replying. I went with retry logic. Why is it not possible? It&#39;s not obvious to me.","body":"Thanks for replying. I went with retry logic. Why is it not possible? It&#39;s not obvious to me."},{"owner":{"account_id":3174180,"reputation":1009,"user_id":2682459,"accept_rate":92,"display_name":"user2682459"},"score":0,"creation_date":1666019965,"post_id":74070302,"comment_id":130830408,"body_markdown":"Deleting the cluster isn&#39;t a good option. For example, other jobs might be running that we don&#39;t want to cancel.","body":"Deleting the cluster isn&#39;t a good option. For example, other jobs might be running that we don&#39;t want to cancel."}],"owner":{"account_id":17834267,"reputation":31,"user_id":12953619,"display_name":"stefanQ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1665755504,"creation_date":1665755504,"question_id":74070302,"body_markdown":"I have to wait for a job to start running before I can cancel it. Is there a way to cancel the job early? Why can I not cancel a job in `SETUP_DONE`?\r\n\r\nCancelling the job errors with `FAILED_PRECONDITION: Cannot cancel jobId &#39;x&#39; in project &#39;y&#39; in state: &#39;SETUP_DONE&#39;; cancellable states: &#39;[PENDING, RUNNING]&#39;`\r\n\r\nDeleting the job also errors with `FAILED_PRECONDITION: Cannot delete non-terminal jobId &#39;x&#39; in project &#39;y&#39;; current state: &#39;SETUP_DONE&#39;`\r\n\r\nThis [thread][1] on GitHub raises the same question.\r\n\r\n\r\n  [1]: https://github.com/googleapis/google-cloud-java/issues/3754","title":"How can I cancel a dataproc job before it starts running?","body":"<p>I have to wait for a job to start running before I can cancel it. Is there a way to cancel the job early? Why can I not cancel a job in <code>SETUP_DONE</code>?</p>\n<p>Cancelling the job errors with <code>FAILED_PRECONDITION: Cannot cancel jobId 'x' in project 'y' in state: 'SETUP_DONE'; cancellable states: '[PENDING, RUNNING]'</code></p>\n<p>Deleting the job also errors with <code>FAILED_PRECONDITION: Cannot delete non-terminal jobId 'x' in project 'y'; current state: 'SETUP_DONE'</code></p>\n<p>This <a href=\"https://github.com/googleapis/google-cloud-java/issues/3754\" rel=\"nofollow noreferrer\">thread</a> on GitHub raises the same question.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665748411,"post_id":74067831,"comment_id":130776062,"body_markdown":"The complaint in your post does not match the one in the subject of your post.","body":"The complaint in your post does not match the one in the subject of your post."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665748515,"post_id":74067831,"comment_id":130776104,"body_markdown":"And it is unclear how often you call that function. Scenario please.","body":"And it is unclear how often you call that function. Scenario please."}],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665754657,"creation_date":1665754657,"answer_id":74070119,"question_id":74067831,"body_markdown":"Hope this will help, i&#39;m assuming the fileName as path\r\n````\r\nFile sd = Environment.getExternalStorageDirectory();\r\nFile image = new File(sd+filePath, imageName);\r\nBitmapFactory.Options bmOptions = new BitmapFactory.Options();\r\nBitmap bitmap = BitmapFactory.decodeFile(fileName ,bmOptions);\r\nbitmap = Bitmap.createScaledBitmap(bitmap,parent.getWidth(),parent.getHeight(),true);\r\nreturn butmap;\r\n````","title":"BitmapFactory.Options returns null","body":"<p>Hope this will help, i'm assuming the fileName as path</p>\n<pre><code>File sd = Environment.getExternalStorageDirectory();\nFile image = new File(sd+filePath, imageName);\nBitmapFactory.Options bmOptions = new BitmapFactory.Options();\nBitmap bitmap = BitmapFactory.decodeFile(fileName ,bmOptions);\nbitmap = Bitmap.createScaledBitmap(bitmap,parent.getWidth(),parent.getHeight(),true);\nreturn butmap;\n</code></pre>\n"}],"owner":{"account_id":26213782,"reputation":73,"user_id":19892188,"display_name":"Dinuka Shehan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665754657,"creation_date":1665742911,"question_id":74067831,"body_markdown":"I tried so many ways but I couldn&#39;t return the bitmap image from cache, it always return null bitmap.\r\n\r\n```\r\npublic static Bitmap readBitMap(String fileName) {\r\n    Bitmap bitmapFromCache = BitmapCacheUtil.getInstance().getBitmapFromCache(fileName);\r\n    if (null != bitmapFromCache) {\r\n        return bitmapFromCache;\r\n    }\r\n    BitmapFactory.Options opt = new BitmapFactory.Options();\r\n    opt.inJustDecodeBounds = false;\r\n    opt.inPreferredConfig = Bitmap.Config.RGB_565;\r\n    opt.inPurgeable = true;\r\n    opt.inInputShareable = true;\r\n    opt.inSampleSize = 1;\r\n    bitmapFromCache = BitmapFactory.decodeFile(fileName, opt);\r\n    BitmapCacheUtil.getInstance().addBitmapToCache(fileName, bitmapFromCache);\r\n    return bitmapFromCache;\r\n}\r\n```","title":"BitmapFactory.Options returns null","body":"<p>I tried so many ways but I couldn't return the bitmap image from cache, it always return null bitmap.</p>\n<pre><code>public static Bitmap readBitMap(String fileName) {\n    Bitmap bitmapFromCache = BitmapCacheUtil.getInstance().getBitmapFromCache(fileName);\n    if (null != bitmapFromCache) {\n        return bitmapFromCache;\n    }\n    BitmapFactory.Options opt = new BitmapFactory.Options();\n    opt.inJustDecodeBounds = false;\n    opt.inPreferredConfig = Bitmap.Config.RGB_565;\n    opt.inPurgeable = true;\n    opt.inInputShareable = true;\n    opt.inSampleSize = 1;\n    bitmapFromCache = BitmapFactory.decodeFile(fileName, opt);\n    BitmapCacheUtil.getInstance().addBitmapToCache(fileName, bitmapFromCache);\n    return bitmapFromCache;\n}\n</code></pre>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665754630,"creation_date":1665753685,"answer_id":74069896,"question_id":74069744,"body_markdown":"The reason is likely because there are invisible `[text]` nodes between your elements (in the example below &#39;\\n&#39; is a newline and &#39;\\t&#39; is a tab indent):\r\n\r\n```xml\r\n&lt;save&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_1&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;/chunk&gt;[text \\n\r\n\\t&#39;]&lt;chunk id=&quot;id_3&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_4&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_5&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_7&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n&#39;]\r\n&lt;/save&gt;\r\n```\r\n\r\nWhen you remove everything under `&lt;chunk id=&quot;id_5&quot;&gt;` it leaves the `[text]` nodes around it.\r\n\r\n```xml\r\n&lt;save&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_1&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;/chunk&gt;[text \\n\r\n\\t&#39;]&lt;chunk id=&quot;id_3&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n\r\n\\t&#39;]&lt;chunk id=&quot;id_4&quot;&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;name&gt;test_6&lt;/name&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;type&gt;log&lt;/type&gt;[text &#39;\\n\r\n\\t\\t&#39;]&lt;item&gt;2,3,4,5&lt;/item&gt;[text &#39;\\n\r\n\\t&#39;]&lt;/chunk&gt;[text &#39;\\n\r\n\\t&#39;][..where chunk used to be..][text &#39;\\n&#39;]\r\n&lt;/save&gt;\r\n```\r\n\r\nOne option to resolve this would be to re-format the document.\r\n\r\nAnother is to get the reference to the element you want to delete, check its preceding sibling node, and if it&#39;s a blank text node then remove it as well.\r\n","title":"Empty lines appear after the element is removed from the xml file","body":"<p>The reason is likely because there are invisible <code>[text]</code> nodes between your elements (in the example below '\\n' is a newline and '\\t' is a tab indent):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;save&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_1&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t\\t']&lt;/chunk&gt;[text \\n\n\\t']&lt;chunk id=&quot;id_3&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_4&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_5&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_7&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n']\n&lt;/save&gt;\n</code></pre>\n<p>When you remove everything under <code>&lt;chunk id=&quot;id_5&quot;&gt;</code> it leaves the <code>[text]</code> nodes around it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;save&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_1&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t\\t']&lt;/chunk&gt;[text \\n\n\\t']&lt;chunk id=&quot;id_3&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n\n\\t']&lt;chunk id=&quot;id_4&quot;&gt;[text '\\n\n\\t\\t']&lt;name&gt;test_6&lt;/name&gt;[text '\\n\n\\t\\t']&lt;type&gt;log&lt;/type&gt;[text '\\n\n\\t\\t']&lt;item&gt;2,3,4,5&lt;/item&gt;[text '\\n\n\\t']&lt;/chunk&gt;[text '\\n\n\\t'][..where chunk used to be..][text '\\n']\n&lt;/save&gt;\n</code></pre>\n<p>One option to resolve this would be to re-format the document.</p>\n<p>Another is to get the reference to the element you want to delete, check its preceding sibling node, and if it's a blank text node then remove it as well.</p>\n"}],"owner":{"account_id":26291969,"reputation":27,"user_id":19958859,"display_name":"miniWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74069896,"answer_count":1,"score":1,"last_activity_date":1665754630,"creation_date":1665752957,"question_id":74069744,"body_markdown":"Some elements have been added to the xml file through the add method. But why does the xml file leave a blank line after deleting an element, and how to get rid of it?\r\nThe main function is:\r\n```\r\n@Test\r\n    public void test() {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        OperateXml operateXml = new OperateXml();\r\n        try {\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n            Document document = builder.parse(new ClassPathResource(&quot;chunkInfo/chunk.xml&quot;).getFile());\r\n// operateXml.add(document);\r\n            operateXml.deleteNodeById(document,&quot;id_5&quot;);\r\n            operateXml.saveDocument(document, new ClassPathResource(&quot;chunkInfo/chunk.xml&quot;).getFile());\r\n} catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n}\r\n```\r\nThe save function is:\r\n```\r\npublic static void saveDocument(Document document, File xmlFile) {\r\n        TransformerFactory tff = TransformerFactory.newInstance();\r\n        try {\r\n            Transformer tf = tff.newTransformer();\r\n            tf.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, &quot;chunk.dtd&quot;);\r\n            tf.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n            tf.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n            tf.transform(new DOMSource(document), new StreamResult(xmlFile));\r\n        } catch (TransformerException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nBefore deleting the element, the xml file is：\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;!DOCTYPE save SYSTEM &quot;chunk.dtd&quot;&gt;\r\n&lt;save&gt;\r\n    &lt;chunk id=&quot;id_1&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n    &lt;chunk id=&quot;id_3&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n    &lt;chunk id=&quot;id_4&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n&lt;chunk id=&quot;id_5&quot;&gt;\r\n    &lt;name&gt;test_7&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n&lt;/save&gt;\r\n```\r\nAfter deleting the element (id=&quot;id_5&quot;), the xml file is：\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;!DOCTYPE save SYSTEM &quot;chunk.dtd&quot;&gt;\r\n&lt;save&gt;\r\n    &lt;chunk id=&quot;id_1&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n    &lt;chunk id=&quot;id_3&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n    &lt;chunk id=&quot;id_4&quot;&gt;\r\n    &lt;name&gt;test_6&lt;/name&gt;\r\n    &lt;type&gt;log&lt;/type&gt;\r\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\r\n  &lt;/chunk&gt;\r\n\r\n&lt;/save&gt;\r\n```","title":"Empty lines appear after the element is removed from the xml file","body":"<p>Some elements have been added to the xml file through the add method. But why does the xml file leave a blank line after deleting an element, and how to get rid of it?\nThe main function is:</p>\n<pre><code>@Test\n    public void test() {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        OperateXml operateXml = new OperateXml();\n        try {\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            Document document = builder.parse(new ClassPathResource(&quot;chunkInfo/chunk.xml&quot;).getFile());\n// operateXml.add(document);\n            operateXml.deleteNodeById(document,&quot;id_5&quot;);\n            operateXml.saveDocument(document, new ClassPathResource(&quot;chunkInfo/chunk.xml&quot;).getFile());\n} catch (Exception e) {\n            System.out.println(e);\n        }\n}\n</code></pre>\n<p>The save function is:</p>\n<pre><code>public static void saveDocument(Document document, File xmlFile) {\n        TransformerFactory tff = TransformerFactory.newInstance();\n        try {\n            Transformer tf = tff.newTransformer();\n            tf.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, &quot;chunk.dtd&quot;);\n            tf.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n            tf.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\n            tf.transform(new DOMSource(document), new StreamResult(xmlFile));\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Before deleting the element, the xml file is：</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!DOCTYPE save SYSTEM &quot;chunk.dtd&quot;&gt;\n&lt;save&gt;\n    &lt;chunk id=&quot;id_1&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n    &lt;chunk id=&quot;id_3&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n    &lt;chunk id=&quot;id_4&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n&lt;chunk id=&quot;id_5&quot;&gt;\n    &lt;name&gt;test_7&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n&lt;/save&gt;\n</code></pre>\n<p>After deleting the element (id=&quot;id_5&quot;), the xml file is：</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!DOCTYPE save SYSTEM &quot;chunk.dtd&quot;&gt;\n&lt;save&gt;\n    &lt;chunk id=&quot;id_1&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n    &lt;chunk id=&quot;id_3&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n    &lt;chunk id=&quot;id_4&quot;&gt;\n    &lt;name&gt;test_6&lt;/name&gt;\n    &lt;type&gt;log&lt;/type&gt;\n    &lt;item&gt;2,3,4,5&lt;/item&gt;\n  &lt;/chunk&gt;\n\n&lt;/save&gt;\n</code></pre>\n"},{"tags":["java","android","tokenize","whatsapp","multiautocompletetextview"],"comments":[{"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"score":0,"creation_date":1478508861,"post_id":40460997,"comment_id":68167149,"body_markdown":"http://stackoverflow.com/a/18486927/3850595","body":"<a href=\"http://stackoverflow.com/a/18486927/3850595\">stackoverflow.com/a/18486927/3850595</a>"},{"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"score":0,"creation_date":1478509201,"post_id":40460997,"comment_id":68167333,"body_markdown":"[check this link](https://android-arsenal.com/tag/197), lots of example available.. [best one](https://android-arsenal.com/details/1/2953)","body":"<a href=\"https://android-arsenal.com/tag/197\" rel=\"nofollow noreferrer\">check this link</a>, lots of example available.. <a href=\"https://android-arsenal.com/details/1/2953\" rel=\"nofollow noreferrer\">best one</a>"},{"owner":{"account_id":1265999,"reputation":11036,"user_id":1223291,"accept_rate":41,"display_name":"dipali"},"score":0,"creation_date":1478510186,"post_id":40460997,"comment_id":68167885,"body_markdown":"@NiranjPatel i want to add @ and open custom list popup same as autocompletetext view.","body":"@NiranjPatel i want to add @ and open custom list popup same as autocompletetext view."},{"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"score":0,"creation_date":1478510891,"post_id":40460997,"comment_id":68168259,"body_markdown":"@dipali try with Sergey Nikitin&#39;s Answer and try to modify code as per your requirement","body":"@dipali try with Sergey Nikitin&#39;s Answer and try to modify code as per your requirement"}],"answers":[{"tags":[],"owner":{"account_id":3929200,"reputation":817,"user_id":4837089,"display_name":"Sergey Nikitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478508749,"creation_date":1478508749,"answer_id":40461107,"question_id":40460997,"body_markdown":"Please see [TokenAutoComplete][1], I hope it help\r\n\r\n\r\n  [1]: https://github.com/splitwise/TokenAutoComplete","title":"Android MultiAutoCompleteTextView with custom tokenizer like as whatsapp GroupChat","body":"<p>Please see <a href=\"https://github.com/splitwise/TokenAutoComplete\" rel=\"nofollow noreferrer\">TokenAutoComplete</a>, I hope it help</p>\n"},{"comments":[{"owner":{"account_id":4255271,"reputation":870,"user_id":3481130,"display_name":"Mohammad Misbah"},"score":0,"creation_date":1483711806,"post_id":40520492,"comment_id":70220570,"body_markdown":"Hi @dipali....can explain how we get list at runtime from API on every time when write @, using this custom class?","body":"Hi @dipali....can explain how we get list at runtime from API on every time when write @, using this custom class?"},{"owner":{"account_id":1265999,"reputation":11036,"user_id":1223291,"accept_rate":41,"display_name":"dipali"},"score":0,"creation_date":1483937208,"post_id":40520492,"comment_id":70287242,"body_markdown":"@MohammadMisbah just use this custom class and set textview then it will perform filter in custom class arraylist.","body":"@MohammadMisbah just use this custom class and set textview then it will perform filter in custom class arraylist."}],"tags":[],"owner":{"account_id":1265999,"reputation":11036,"user_id":1223291,"accept_rate":41,"display_name":"dipali"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1478755527,"creation_date":1478755527,"answer_id":40520492,"question_id":40460997,"body_markdown":"I got solution for my question.\r\n\r\ni have create own custom view for multiautocompletetextview and add performFiltering method for open popup after @sign.\r\n\r\n\r\n\r\n    public class KcsMultiAutoCompleteTextView extends MultiAutoCompleteTextView {\r\n        public KcsMultiAutoCompleteTextView(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        public KcsMultiAutoCompleteTextView(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        public KcsMultiAutoCompleteTextView(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n        }\r\n    \r\n        @Override\r\n        protected void performFiltering(CharSequence text, int start, int end, int keyCode) {\r\n            if (text.charAt(start) == &#39;@&#39;) {\r\n                start = start + 1;\r\n            } else {\r\n                text = text.subSequence(0, start);\r\n                for (int i = start; i &lt; end; i++) {\r\n                    text = text + &quot;*&quot;;\r\n                }\r\n            }\r\n            super.performFiltering(text, start, end, keyCode);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Android MultiAutoCompleteTextView with custom tokenizer like as whatsapp GroupChat","body":"<p>I got solution for my question.</p>\n\n<p>i have create own custom view for multiautocompletetextview and add performFiltering method for open popup after @sign.</p>\n\n<pre><code>public class KcsMultiAutoCompleteTextView extends MultiAutoCompleteTextView {\n    public KcsMultiAutoCompleteTextView(Context context) {\n        super(context);\n    }\n\n    public KcsMultiAutoCompleteTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public KcsMultiAutoCompleteTextView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    @Override\n    protected void performFiltering(CharSequence text, int start, int end, int keyCode) {\n        if (text.charAt(start) == '@') {\n            start = start + 1;\n        } else {\n            text = text.subSequence(0, start);\n            for (int i = start; i &lt; end; i++) {\n                text = text + \"*\";\n            }\n        }\n        super.performFiltering(text, start, end, keyCode);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12431895,"reputation":2076,"user_id":9053942,"display_name":"Qazi Fahim Farhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611223836,"creation_date":1611223836,"answer_id":65825169,"question_id":40460997,"body_markdown":"Today I was looking for this. I used [android-multiautocomplete](https://github.com/Teamwork/android-multiautocomplete) library. Check the demo given with the library. In short, you have to extend 2 classes from the library, a tokenFilter (describes your pattern, in this case, `@` character) and a ViewBinder (to customize the suggestion rows, such as placing user image at certain position etc). So for me, this is the `TokenFilter` :\r\n```java\r\nimport androidx.annotation.NonNull;\r\nimport ridmik.one.entities.MucOptions;\r\nimport ridmik.one.ui.components.autocomplete.filter.HandleTokenFilter;\r\n\r\npublic class MucUserTokenFilter extends HandleTokenFilter&lt;MucOptions.User&gt; {\r\n\r\n  public MucUserTokenFilter() {\r\n    this(&#39;@&#39;);\r\n  }\r\n  public MucUserTokenFilter(char handleChar) {\r\n    super(handleChar);\r\n  }\r\n\r\n  @Override\r\n  protected boolean matchesConstraint(@NonNull MucOptions.User user, @NonNull CharSequence constraint) {\r\n    return user.getComparableName().toLowerCase().contains(constraint.toString().toLowerCase());\r\n  }\r\n\r\n  @Override\r\n  public @NonNull CharSequence toTokenString(@NonNull MucOptions.User user) {\r\n    return handleChar +user.getComparableName(); // Add handler at the begining! this is the trick!\r\n  }\r\n}\r\n\r\n```\r\n\r\nAnd this is the `ViewBinder`:\r\n```java\r\npublic class MucUserViewBinder implements AutoCompleteViewBinder&lt;MucOptions.User&gt; {\r\n  public static final String TAG = MucUserViewBinder.class.getSimpleName();\r\n  @Override\r\n  public long getItemId(@NonNull @NotNull MucOptions.User user) {\r\n    try{\r\n      if(user!=null) {\r\n        return user.userId;  // ei line e crash kore :/\r\n      }\r\n    }catch (Exception x) {\r\n      Timber.tag(TAG).e(&quot;Exception &quot;+x.getMessage());\r\n    }\r\n\r\n\r\n    return 0;\r\n  }\r\n\r\n  @Override\r\n  public int getItemLayoutId() {\r\n    return R.layout.simple_autocomplete_row;\r\n  }\r\n\r\n  @NonNull\r\n  @NotNull\r\n  @Override\r\n  public AutoCompleteViewHolder getViewHolder(@NonNull @NotNull View view) {\r\n    return new MucUserViewHolder(view);\r\n  }\r\n\r\n  @Override\r\n  public void bindData(@NonNull @NotNull AutoCompleteViewHolder viewHolder, @NonNull @NotNull MucOptions.User user,\r\n                       @Nullable @org.jetbrains.annotations.Nullable CharSequence constraint) {\r\n    MucUserViewHolder itemViewHolder = (MucUserViewHolder) viewHolder;\r\n    itemViewHolder.textView.setText(user.getComparableName());\r\n    String smallAvatar = user.image + &quot;_sm.png&quot;;\r\n    Timber.tag(TAG).e(&quot;user.image = &quot;+smallAvatar);\r\n    Picasso.get().load(smallAvatar)\r\n        .placeholder(ContextCompat.getDrawable(itemViewHolder.rootView.getContext(),\r\n            R.drawable.ic_avatar_placeholder)).into(itemViewHolder.avatar);\r\n  }\r\n\r\n  static class MucUserViewHolder extends AutoCompleteViewHolder {\r\n    public final TextView textView;\r\n    public final CircleImageView avatar;\r\n    public final View rootView;\r\n\r\n    protected MucUserViewHolder(@NonNull @NotNull View view) {\r\n      super(view);\r\n      this.rootView = view;\r\n      this.textView = view.findViewById(R.id.textView);\r\n      this.avatar = view.findViewById(R.id.avatar);\r\n    }\r\n  }\r\n}\r\n\r\n```\r\nAfter that, you go to your activity / fragment, and do this:\r\n```java\r\n\r\nprivate MultiAutoComplete multiAutoComplete = null; // A field in your Activity / Fragment class, initialize it to null.\r\n\r\nvoid initAutoSuggestions() {\r\n  \r\nArrayList&lt;MucOptions.User&gt; someList = getUsers(); // &lt;--- suggestions dataset depending on your code.\r\n        AutoCompleteTypeAdapter&lt;MucOptions.User&gt; nameTypeAdapter =\r\n            AutoCompleteTypeAdapter.Build.from(new MucUserViewBinder(), new MucUserTokenFilter());\r\n\r\n\r\n        nameTypeAdapter.setItems(someList);\r\n\r\n        this.multiAutoComplete = new MultiAutoComplete.Builder()\r\n            .tokenizer(new PrefixTokenizer(&#39;@&#39;))\r\n            .addTypeAdapter(nameTypeAdapter)\r\n            // .delayer(constraint -&gt; { return 10; }) // eta ki bujhi ni\r\n            .build();\r\n        \r\n        this.multiAutoComplete.onViewAttached(binding.textinput); // binding.textinput is your multiAutoCompleteView \r\n}\r\n```\r\n Then call it inside `onCreate` (for Activity) or `onViewCreated` (for fragment).\r\nFinally, inside the onDestroy:\r\n```java\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n          if(multiAutoComplete!=null) {\r\n            this.multiAutoComplete.onViewDetached(); // needed for @mention that thing\r\n        }\r\n}\r\n```\r\n\r\nYou can also see the Demo inside the library to see other options.","title":"Android MultiAutoCompleteTextView with custom tokenizer like as whatsapp GroupChat","body":"<p>Today I was looking for this. I used <a href=\"https://github.com/Teamwork/android-multiautocomplete\" rel=\"nofollow noreferrer\">android-multiautocomplete</a> library. Check the demo given with the library. In short, you have to extend 2 classes from the library, a tokenFilter (describes your pattern, in this case, <code>@</code> character) and a ViewBinder (to customize the suggestion rows, such as placing user image at certain position etc). So for me, this is the <code>TokenFilter</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.annotation.NonNull;\nimport ridmik.one.entities.MucOptions;\nimport ridmik.one.ui.components.autocomplete.filter.HandleTokenFilter;\n\npublic class MucUserTokenFilter extends HandleTokenFilter&lt;MucOptions.User&gt; {\n\n  public MucUserTokenFilter() {\n    this('@');\n  }\n  public MucUserTokenFilter(char handleChar) {\n    super(handleChar);\n  }\n\n  @Override\n  protected boolean matchesConstraint(@NonNull MucOptions.User user, @NonNull CharSequence constraint) {\n    return user.getComparableName().toLowerCase().contains(constraint.toString().toLowerCase());\n  }\n\n  @Override\n  public @NonNull CharSequence toTokenString(@NonNull MucOptions.User user) {\n    return handleChar +user.getComparableName(); // Add handler at the begining! this is the trick!\n  }\n}\n\n</code></pre>\n<p>And this is the <code>ViewBinder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MucUserViewBinder implements AutoCompleteViewBinder&lt;MucOptions.User&gt; {\n  public static final String TAG = MucUserViewBinder.class.getSimpleName();\n  @Override\n  public long getItemId(@NonNull @NotNull MucOptions.User user) {\n    try{\n      if(user!=null) {\n        return user.userId;  // ei line e crash kore :/\n      }\n    }catch (Exception x) {\n      Timber.tag(TAG).e(&quot;Exception &quot;+x.getMessage());\n    }\n\n\n    return 0;\n  }\n\n  @Override\n  public int getItemLayoutId() {\n    return R.layout.simple_autocomplete_row;\n  }\n\n  @NonNull\n  @NotNull\n  @Override\n  public AutoCompleteViewHolder getViewHolder(@NonNull @NotNull View view) {\n    return new MucUserViewHolder(view);\n  }\n\n  @Override\n  public void bindData(@NonNull @NotNull AutoCompleteViewHolder viewHolder, @NonNull @NotNull MucOptions.User user,\n                       @Nullable @org.jetbrains.annotations.Nullable CharSequence constraint) {\n    MucUserViewHolder itemViewHolder = (MucUserViewHolder) viewHolder;\n    itemViewHolder.textView.setText(user.getComparableName());\n    String smallAvatar = user.image + &quot;_sm.png&quot;;\n    Timber.tag(TAG).e(&quot;user.image = &quot;+smallAvatar);\n    Picasso.get().load(smallAvatar)\n        .placeholder(ContextCompat.getDrawable(itemViewHolder.rootView.getContext(),\n            R.drawable.ic_avatar_placeholder)).into(itemViewHolder.avatar);\n  }\n\n  static class MucUserViewHolder extends AutoCompleteViewHolder {\n    public final TextView textView;\n    public final CircleImageView avatar;\n    public final View rootView;\n\n    protected MucUserViewHolder(@NonNull @NotNull View view) {\n      super(view);\n      this.rootView = view;\n      this.textView = view.findViewById(R.id.textView);\n      this.avatar = view.findViewById(R.id.avatar);\n    }\n  }\n}\n\n</code></pre>\n<p>After that, you go to your activity / fragment, and do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate MultiAutoComplete multiAutoComplete = null; // A field in your Activity / Fragment class, initialize it to null.\n\nvoid initAutoSuggestions() {\n  \nArrayList&lt;MucOptions.User&gt; someList = getUsers(); // &lt;--- suggestions dataset depending on your code.\n        AutoCompleteTypeAdapter&lt;MucOptions.User&gt; nameTypeAdapter =\n            AutoCompleteTypeAdapter.Build.from(new MucUserViewBinder(), new MucUserTokenFilter());\n\n\n        nameTypeAdapter.setItems(someList);\n\n        this.multiAutoComplete = new MultiAutoComplete.Builder()\n            .tokenizer(new PrefixTokenizer('@'))\n            .addTypeAdapter(nameTypeAdapter)\n            // .delayer(constraint -&gt; { return 10; }) // eta ki bujhi ni\n            .build();\n        \n        this.multiAutoComplete.onViewAttached(binding.textinput); // binding.textinput is your multiAutoCompleteView \n}\n</code></pre>\n<p>Then call it inside <code>onCreate</code> (for Activity) or <code>onViewCreated</code> (for fragment).\nFinally, inside the onDestroy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onDestroy() {\n        super.onDestroy();\n          if(multiAutoComplete!=null) {\n            this.multiAutoComplete.onViewDetached(); // needed for @mention that thing\n        }\n}\n</code></pre>\n<p>You can also see the Demo inside the library to see other options.</p>\n"}],"owner":{"account_id":1265999,"reputation":11036,"user_id":1223291,"accept_rate":41,"display_name":"dipali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2273,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":40520492,"answer_count":3,"score":1,"last_activity_date":1665754581,"creation_date":1478508389,"question_id":40460997,"body_markdown":"I want to create custom tokenizer for @ like as whatspp feature (when open group and write @ then open popup for list and user can select any. Also user can remove that string of @.\r\n\r\nI have found twitter like search feature ([example][1]), \r\nbut in this, when user can write @ then do not show popup window of list. User can write something after @ then based on typing, popup window will show search result.\r\n\r\nI want to show something like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://automateddeveloper.blogspot.in/2014/04/building-twitter-style-autocomplete-for.html\r\n  [2]: https://i.stack.imgur.com/q0J03.png","title":"Android MultiAutoCompleteTextView with custom tokenizer like as whatsapp GroupChat","body":"<p>I want to create custom tokenizer for @ like as whatspp feature (when open group and write @ then open popup for list and user can select any. Also user can remove that string of @.</p>\n<p>I have found twitter like search feature (<a href=\"http://automateddeveloper.blogspot.in/2014/04/building-twitter-style-autocomplete-for.html\" rel=\"nofollow noreferrer\">example</a>),\nbut in this, when user can write @ then do not show popup window of list. User can write something after @ then based on typing, popup window will show search result.</p>\n<p>I want to show something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/q0J03.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q0J03.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","php","android"],"answers":[{"comments":[{"owner":{"account_id":7699298,"reputation":64,"user_id":5832512,"display_name":"pan he"},"score":0,"creation_date":1665732705,"post_id":74065767,"comment_id":130771408,"body_markdown":"so, you need send a request to get a cookie first, and send another request to get the file.","body":"so, you need send a request to get a cookie first, and send another request to get the file."}],"tags":[],"owner":{"account_id":7699298,"reputation":64,"user_id":5832512,"display_name":"pan he"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665732539,"creation_date":1665732539,"answer_id":74065767,"question_id":74064776,"body_markdown":"good question\r\n\r\nAutually if we send a get request to \r\n\r\n`http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg`  \r\n\r\nwe get the right resutl just like \r\n\r\n`&lt;html&gt;&lt;body&gt;&lt;script&gt;document.cookie=&quot;_test=9e105a99e90025d241c180c29fad3231 ; expires=Thu, 31-D...&quot;;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;` . \r\n\r\nwe can get a file in browser, because browser can parse  `html` ，\r\nwhen browser get the string result which is a  `html` page, it create another request with a new Header （`Cookie=_test=9e105a99e90025d241c180c29fad3231`), and with the Cookie, we get an image file from server.\r\n","title":"OkHttp3 response string show html file instaed of download file data","body":"<p>good question</p>\n<p>Autually if we send a get request to</p>\n<p><code>http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg</code></p>\n<p>we get the right resutl just like</p>\n<p><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;document.cookie=&quot;_test=9e105a99e90025d241c180c29fad3231 ; expires=Thu, 31-D...&quot;;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code> .</p>\n<p>we can get a file in browser, because browser can parse  <code>html</code> ，\nwhen browser get the string result which is a  <code>html</code> page, it create another request with a new Header （<code>Cookie=_test=9e105a99e90025d241c180c29fad3231</code>), and with the Cookie, we get an image file from server.</p>\n"},{"tags":[],"owner":{"account_id":2379521,"reputation":51,"user_id":2081848,"display_name":"Hitlar India"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665754511,"creation_date":1665754511,"answer_id":74070093,"question_id":74064776,"body_markdown":"Thanks for quick and good solution.\r\n\r\ni just add header as:- \r\n    **.header(&quot;Cookie&quot;, &quot;_test=9e105a99e90025d241c180c29fad3231&quot;)**\r\nand send again with above code, actual result come","title":"OkHttp3 response string show html file instaed of download file data","body":"<p>Thanks for quick and good solution.</p>\n<p>i just add header as:-\n<strong>.header(&quot;Cookie&quot;, &quot;_test=9e105a99e90025d241c180c29fad3231&quot;)</strong>\nand send again with above code, actual result come</p>\n"}],"owner":{"account_id":2379521,"reputation":51,"user_id":2081848,"display_name":"Hitlar India"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1665754511,"creation_date":1665726180,"question_id":74064776,"body_markdown":"I using Okhttp3 for download file from server in android application. my link is **http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg** it download file in firefox, chorme smoothly, while in okhttp3 response string shows \r\n\r\n    &lt;html&gt;&lt;body&gt;&lt;script&gt;document.cookie=&quot;_test=9e105a99e90025d241c180c29fad3231 ; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/&quot; ;document.location.href=&quot;http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg&amp;i=1&quot;;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\nbut i feel response string has Add.jpg file data. so, what can i change in okhttp3 code or php code that i gather App.jpg data in response string of okhttp3 \r\n\r\nPhp Code\r\n\r\n    if(isset($_GET[&#39;path&#39;]))\r\n    {\r\n        $url = $_GET[&#39;path&#39;];\r\n        $type   = &quot;application/pdf&quot;;\r\n        $completePath = &quot;http://www.webweb.infinityfreeapp.com/lichi/&quot;;\r\n        $visibleName = &quot;$url&quot;;\r\n        $completePath .= $url; \r\n        // Force download\r\n        header(&quot;Content-disposition: attachment; filename=$visibleName&quot;); \r\n        header(&quot;Content-Type: application/force-download&quot;); \r\n        header(&quot;Content-Transfer-Encoding: $type\\n&quot;);\r\n        // header(&quot;Content-Length: &quot;.filesize($completePath)); \r\n        header(&quot;Pragma: no-cache&quot;); \r\n        header(&quot;Cache-Control: must-revalidate, post-check=0, pre-check=0, public&quot;); \r\n        header(&quot;Expires: 0&quot;); \r\n        readfile($completePath); \r\n        die();\r\n    }\r\n\r\nI comment Content-Length because it crash system in uncomment\r\n\r\nJava code\r\n\r\n \r\n\r\n       OkHttpClient client = new OkHttpClient();\r\n        String url = &quot;http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg&quot;;\r\n        Call call = client.newCall(new Request.Builder().url(url).get().build());\r\n       \r\n          Response response = call.execute();\r\n          if (response.code() == 200 || response.code() == 201) {\r\n               Headers responseHeaders = response.headers();\r\n               for (int i = 0; i &lt; responseHeaders.size(); i++) \r\n                  Log.d(LOG_TAG, responseHeaders.name(i) + &quot;: &quot; + responseHeaders.value(i));\r\n                        \r\n                String str = response.body().string();\r\n         }\r\n\r\nHere str contain above html file information instead Add.jpg file data. so please give answer\r\n\r\n\r\n","title":"OkHttp3 response string show html file instaed of download file data","body":"<p>I using Okhttp3 for download file from server in android application. my link is <strong><a href=\"http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg\" rel=\"nofollow noreferrer\">http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg</a></strong> it download file in firefox, chorme smoothly, while in okhttp3 response string shows</p>\n<pre><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;document.cookie=&quot;_test=9e105a99e90025d241c180c29fad3231 ; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/&quot; ;document.location.href=&quot;http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg&amp;i=1&quot;;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>but i feel response string has Add.jpg file data. so, what can i change in okhttp3 code or php code that i gather App.jpg data in response string of okhttp3</p>\n<p>Php Code</p>\n<pre><code>if(isset($_GET['path']))\n{\n    $url = $_GET['path'];\n    $type   = &quot;application/pdf&quot;;\n    $completePath = &quot;http://www.webweb.infinityfreeapp.com/lichi/&quot;;\n    $visibleName = &quot;$url&quot;;\n    $completePath .= $url; \n    // Force download\n    header(&quot;Content-disposition: attachment; filename=$visibleName&quot;); \n    header(&quot;Content-Type: application/force-download&quot;); \n    header(&quot;Content-Transfer-Encoding: $type\\n&quot;);\n    // header(&quot;Content-Length: &quot;.filesize($completePath)); \n    header(&quot;Pragma: no-cache&quot;); \n    header(&quot;Cache-Control: must-revalidate, post-check=0, pre-check=0, public&quot;); \n    header(&quot;Expires: 0&quot;); \n    readfile($completePath); \n    die();\n}\n</code></pre>\n<p>I comment Content-Length because it crash system in uncomment</p>\n<p>Java code</p>\n<pre><code>   OkHttpClient client = new OkHttpClient();\n    String url = &quot;http://www.webweb.infinityfreeapp.com/lichi/download.php?path=Add.jpg&quot;;\n    Call call = client.newCall(new Request.Builder().url(url).get().build());\n   \n      Response response = call.execute();\n      if (response.code() == 200 || response.code() == 201) {\n           Headers responseHeaders = response.headers();\n           for (int i = 0; i &lt; responseHeaders.size(); i++) \n              Log.d(LOG_TAG, responseHeaders.name(i) + &quot;: &quot; + responseHeaders.value(i));\n                    \n            String str = response.body().string();\n     }\n</code></pre>\n<p>Here str contain above html file information instead Add.jpg file data. so please give answer</p>\n"},{"tags":["java","spring-boot","solr"],"comments":[{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1665762814,"post_id":74069979,"comment_id":130781508,"body_markdown":"The question is similar to https://stackoverflow.com/questions/58388829/spring-data-solr-is-creating-fieldtype-as-text-general-even-though-we-mention-as","body":"The question is similar to <a href=\"https://stackoverflow.com/questions/58388829/spring-data-solr-is-creating-fieldtype-as-text-general-even-though-we-mention-as\" title=\"spring data solr is creating fieldtype as text general even though we mention as\">stackoverflow.com/questions/58388829/&hellip;</a>"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1665763127,"post_id":74069979,"comment_id":130781622,"body_markdown":"Check if this helps: https://stackoverflow.com/questions/37042732/solr-text-indexed-as-array-of-text","body":"Check if this helps: <a href=\"https://stackoverflow.com/questions/37042732/solr-text-indexed-as-array-of-text\" title=\"solr text indexed as array of text\">stackoverflow.com/questions/37042732/&hellip;</a>"},{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":1,"creation_date":1665933989,"post_id":74069979,"comment_id":130810271,"body_markdown":"@pringi thanks for replying. Yes this is the way to solve the problem but this approach is possible to manually change data type in solr schema. I am looking a way to do this in `spring boot`","body":"@pringi thanks for replying. Yes this is the way to solve the problem but this approach is possible to manually change data type in solr schema. I am looking a way to do this in <code>spring boot</code>"}],"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665754488,"creation_date":1665754054,"question_id":74069979,"body_markdown":"I have a `Spring Boot` Application and I am trying to store data directly to Solr. Following is my `Solr Model class`\r\n```\r\npublic class AnalyticsGeoLocationSolr {\r\n\r\n    @Id\r\n    @Indexed(name = &quot;id&quot;, type = &quot;int&quot;)\r\n    private Integer id;\r\n\r\n    @Indexed(name = &quot;ipaddress&quot;, type = &quot;string&quot;) // defined as String\r\n    private String ipAddress;\r\n\r\n    @Indexed(name = &quot;country_name&quot;, type = &quot;string&quot;) // defined as String\r\n    private String countryName;\r\n\r\n// Getters and Setters\r\n```\r\nHere you can see that `ipAddress` and `CountryName` both are defined as `String` as `type=&quot;string&quot;`. However, the Solr is saving these variables as an `array of String`. Following is display of these fields in `Solr` (`as Json`):\r\n\r\n```\r\n&quot;ipAddress&quot;:[&quot;59.103.217.207&quot;],\r\n&quot;countryName&quot;:[&quot;Pakistan&quot;],\r\n// Other fields\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&lt;br&gt;\r\nNow, I want these String Objects to be stored as string i.e the expected Output should be &quot;ipAddress&quot;:&quot;59.103.217.207&quot; not an array (with [ ] around).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9N7t9.png","title":"String type is giving array of string in Solr, Spring Boot","body":"<p>I have a <code>Spring Boot</code> Application and I am trying to store data directly to Solr. Following is my <code>Solr Model class</code></p>\n<pre><code>public class AnalyticsGeoLocationSolr {\n\n    @Id\n    @Indexed(name = &quot;id&quot;, type = &quot;int&quot;)\n    private Integer id;\n\n    @Indexed(name = &quot;ipaddress&quot;, type = &quot;string&quot;) // defined as String\n    private String ipAddress;\n\n    @Indexed(name = &quot;country_name&quot;, type = &quot;string&quot;) // defined as String\n    private String countryName;\n\n// Getters and Setters\n</code></pre>\n<p>Here you can see that <code>ipAddress</code> and <code>CountryName</code> both are defined as <code>String</code> as <code>type=&quot;string&quot;</code>. However, the Solr is saving these variables as an <code>array of String</code>. Following is display of these fields in <code>Solr</code> (<code>as Json</code>):</p>\n<pre><code>&quot;ipAddress&quot;:[&quot;59.103.217.207&quot;],\n&quot;countryName&quot;:[&quot;Pakistan&quot;],\n// Other fields\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9N7t9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9N7t9.png\" alt=\"enter image description here\" /></a></p>\n<br>\nNow, I want these String Objects to be stored as string i.e the expected Output should be \"ipAddress\":\"59.103.217.207\" not an array (with [ ] around).\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665756107,"post_id":74070005,"comment_id":130778964,"body_markdown":"What `poi-ooxml` jars are you using?","body":"What <code>poi-ooxml</code> jars are you using?"},{"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"score":0,"creation_date":1665762581,"post_id":74070005,"comment_id":130781431,"body_markdown":"@Gagravarr Library is coming from MavenCentral via gradle &quot;implementation group: &#39;org.apache.poi&#39;, name: &#39;poi-ooxml&#39;, version: &#39;5.2.3&#39;&quot;.  This should result in poi-ooxml-5.2.3.jar getting used.","body":"@Gagravarr Library is coming from MavenCentral via gradle &quot;implementation group: &#39;org.apache.poi&#39;, name: &#39;poi-ooxml&#39;, version: &#39;5.2.3&#39;&quot;.  This should result in poi-ooxml-5.2.3.jar getting used."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1665787647,"post_id":74070005,"comment_id":130787914,"body_markdown":"Try swapping from `poi-ooxml-lite` to `poi-ooxml-full` ?","body":"Try swapping from <code>poi-ooxml-lite</code> to <code>poi-ooxml-full</code> ?"},{"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"score":0,"creation_date":1665801673,"post_id":74070005,"comment_id":130789463,"body_markdown":"@Gagravarr It does appear to be in poi-ooxml-full.  Probably for convenience poi-ooxml pulled in poi-ooxml-lite automatically.  In order to use poi-ooxml-full I had to explicitly exclude the poi-ooxml-lite transient dependency.  Thanks.","body":"@Gagravarr It does appear to be in poi-ooxml-full.  Probably for convenience poi-ooxml pulled in poi-ooxml-lite automatically.  In order to use poi-ooxml-full I had to explicitly exclude the poi-ooxml-lite transient dependency.  Thanks."},{"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"score":0,"creation_date":1665801685,"post_id":74070005,"comment_id":130789466,"body_markdown":"implementation &#39;org.apache.poi:poi-ooxml-full:5.2.3&#39;\n    implementation (&#39;org.apache.poi:poi-ooxml:5.2.3&#39;) {\n        exclude module: &#39;poi-ooxml-lite&#39;\n    }","body":"implementation &#39;org.apache.poi:poi-ooxml-full:5.2.3&#39;     implementation (&#39;org.apache.poi:poi-ooxml:5.2.3&#39;) {         exclude module: &#39;poi-ooxml-lite&#39;     }"}],"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665754186,"creation_date":1665754186,"question_id":74070005,"body_markdown":"I&#39;m encountering an issue trying to use Apache POI 5.2.3.  I&#39;m attempting to set the category axis mark interval and label.\r\n\r\nAs mentioned in another question(https://stackoverflow.com/a/66670362/2212458). The following code is supposed to handle this:\r\n\r\n        chart.getCTChart().getPlotArea().getCatAxArray(0).addNewTickLblSkip().setVal(2); // label only every second mark\r\n        chart.getCTChart().getPlotArea().getCatAxArray(0).addNewTickMarkSkip().setVal(2); // show only every second mark\r\n\r\nHowever, this results in a build error &quot;error: cannot access CTSkip&quot; and &quot;class file for org.openxmlformats.schemas.drawingml.x2006.chart.CTSkip not found&quot;.\r\n\r\nOther portions of the namespace are accessible such as CTTitle, CTNumFormat, CTTickMark are accessible, but for some reason CTSkip is not.  How do I work around this issue?","title":"Apache POI &quot;cannot access CTSkip&quot;","body":"<p>I'm encountering an issue trying to use Apache POI 5.2.3.  I'm attempting to set the category axis mark interval and label.</p>\n<p>As mentioned in another question(<a href=\"https://stackoverflow.com/a/66670362/2212458\">https://stackoverflow.com/a/66670362/2212458</a>). The following code is supposed to handle this:</p>\n<pre><code>    chart.getCTChart().getPlotArea().getCatAxArray(0).addNewTickLblSkip().setVal(2); // label only every second mark\n    chart.getCTChart().getPlotArea().getCatAxArray(0).addNewTickMarkSkip().setVal(2); // show only every second mark\n</code></pre>\n<p>However, this results in a build error &quot;error: cannot access CTSkip&quot; and &quot;class file for org.openxmlformats.schemas.drawingml.x2006.chart.CTSkip not found&quot;.</p>\n<p>Other portions of the namespace are accessible such as CTTitle, CTNumFormat, CTTickMark are accessible, but for some reason CTSkip is not.  How do I work around this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26622116,"reputation":3,"user_id":20240747,"display_name":"sea1731"},"score":0,"creation_date":1665753296,"post_id":74069546,"comment_id":130777807,"body_markdown":"I tried boas.write( num &amp; 0xff) but still returns -769654785","body":"I tried boas.write( num &amp; 0xff) but still returns -769654785"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665757741,"post_id":74069546,"comment_id":130779573,"body_markdown":"Have you considered using DataInputStream and DataOutputStream, which handle things like this for you?","body":"Have you considered using DataInputStream and DataOutputStream, which handle things like this for you?"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665753961,"creation_date":1665753961,"answer_id":74069951,"question_id":74069546,"body_markdown":"Your reading code is incorrect.\r\n\r\nYou need to cast `int` to `long` before shift (`&lt;&lt;`).\r\n\r\n```\r\nreturn readUInt16() \r\n    | ((long)readUInt16()) &lt;&lt; 16L \r\n    | ((long)readUInt16()) &lt;&lt; 32L \r\n    | ((long)readUInt16()) &lt;&lt; 48L;\r\n```\r\n\r\nSo if you can&#39;t change your read code it is impossible to fix your problem.\r\n","title":"ByteArrayInputStream cannot read long with ByteArrayOutputStream written in Java","body":"<p>Your reading code is incorrect.</p>\n<p>You need to cast <code>int</code> to <code>long</code> before shift (<code>&lt;&lt;</code>).</p>\n<pre><code>return readUInt16() \n    | ((long)readUInt16()) &lt;&lt; 16L \n    | ((long)readUInt16()) &lt;&lt; 32L \n    | ((long)readUInt16()) &lt;&lt; 48L;\n</code></pre>\n<p>So if you can't change your read code it is impossible to fix your problem.</p>\n"}],"owner":{"account_id":26622116,"reputation":3,"user_id":20240747,"display_name":"sea1731"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74069951,"answer_count":1,"score":0,"last_activity_date":1665754165,"creation_date":1665751972,"question_id":74069546,"body_markdown":"I have a read code for a long number like below;\r\n\r\n    ByteArrayInputStream in;\r\n    public long readUInt64() throws IOException {\r\n\t\treturn readUInt16() | readUInt16() &lt;&lt; 16L | readUInt16() &lt;&lt; 32L | readUInt16() &lt;&lt; 48L;\r\n\r\n    public int readUInt16() throws IOException {\r\n\t\treturn readWithEOF() | readWithEOF() &lt;&lt; 8;\r\n\t}\r\n    \tint readWithEOF() throws IOException {\r\n\t\tint data = this.in.read();\r\n\t\tif (data &lt; 0)\r\n\t\t\tthrow new EOFException();\r\n\t\treturn data;\r\n\t}\r\n\r\nI have write file like below;\r\n\r\n    ByteArrayOutputStream baos;\r\n    public void writeUInt64(Long val) {\r\n\t\t\t\r\n\t\twriteUInt16((int) (val &gt;&gt; 0L));\r\n\t\twriteUInt16((int) (val &gt;&gt; 16L));\r\n\t\twriteUInt16((int) (val &gt;&gt; 32L));\r\n\t\twriteUInt16((int) (val &gt;&gt; 48L));\t\r\n\t}\r\n    public void writeUInt16(int num) {\t\t\r\n\t\tbaos.write(num &gt;&gt; 0);\r\n\t\tbaos.write(num &gt;&gt; 8);\r\n\t}\r\nWhen I try to store a big value like 253402300799999L, the reading result is totally different. For small values the code runs fine.\r\nAssuming that changing read code is not possible, how can I fix this issue.\r\nthanks in advance.\r\n","title":"ByteArrayInputStream cannot read long with ByteArrayOutputStream written in Java","body":"<p>I have a read code for a long number like below;</p>\n<pre><code>ByteArrayInputStream in;\npublic long readUInt64() throws IOException {\n    return readUInt16() | readUInt16() &lt;&lt; 16L | readUInt16() &lt;&lt; 32L | readUInt16() &lt;&lt; 48L;\n\npublic int readUInt16() throws IOException {\n    return readWithEOF() | readWithEOF() &lt;&lt; 8;\n}\n    int readWithEOF() throws IOException {\n    int data = this.in.read();\n    if (data &lt; 0)\n        throw new EOFException();\n    return data;\n}\n</code></pre>\n<p>I have write file like below;</p>\n<pre><code>ByteArrayOutputStream baos;\npublic void writeUInt64(Long val) {\n        \n    writeUInt16((int) (val &gt;&gt; 0L));\n    writeUInt16((int) (val &gt;&gt; 16L));\n    writeUInt16((int) (val &gt;&gt; 32L));\n    writeUInt16((int) (val &gt;&gt; 48L));    \n}\npublic void writeUInt16(int num) {      \n    baos.write(num &gt;&gt; 0);\n    baos.write(num &gt;&gt; 8);\n}\n</code></pre>\n<p>When I try to store a big value like 253402300799999L, the reading result is totally different. For small values the code runs fine.\nAssuming that changing read code is not possible, how can I fix this issue.\nthanks in advance.</p>\n"},{"tags":["java","benchmarking","jmh"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665743156,"post_id":74062856,"comment_id":130774553,"body_markdown":"there&#39;s a paper they link https://www.ifi.uzh.ch/dam/jcr:2e51ad81-856f-4629-a6e2-67d382d337c2/fse20_author-version.pdf maybe that shows reasons why warmup forks have any effect on the following measurement forks (which then also do warmup runs to prep that fork). if there&#39;s any effect it&#39;s probably down to some os or cpu mechanisms that kick in for familiar tasks.","body":"there&#39;s a paper they link <a href=\"https://www.ifi.uzh.ch/dam/jcr:2e51ad81-856f-4629-a6e2-67d382d337c2/fse20_author-version.pdf\" rel=\"nofollow noreferrer\">ifi.uzh.ch/dam/jcr:2e51ad81-856f-4629-a6e2-67d382d337c2/&hellip;</a> maybe that shows reasons why warmup forks have any effect on the following measurement forks (which then also do warmup runs to prep that fork). if there&#39;s any effect it&#39;s probably down to some os or cpu mechanisms that kick in for familiar tasks."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1665743456,"post_id":74062856,"comment_id":130774636,"body_markdown":"The simplest reason is that it saves a bit time w.r.t. doing it in the same fork.","body":"The simplest reason is that it saves a bit time w.r.t. doing it in the same fork."},{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":0,"creation_date":1665752696,"post_id":74062856,"comment_id":130777518,"body_markdown":"@zapl Thanks for that reference. I&#39;ve read about half of it so far. It&#39;s very telling that their only reference to warmup forks is in section 2 where they basically only mention that they exist, as well as that &quot;JMH does not use warmup forks (w f ) by default&quot;.\n\nAfter that they never mention them again. Section 4.1 describing their approach makes it clear that they only use measurement forks. They never study the impact of potentially adding warmup forks.\n\nHowever, I am now looking at now at their stability function for minimizing the number for measurement fork in 4.2.2 which is relevant.","body":"@zapl Thanks for that reference. I&#39;ve read about half of it so far. It&#39;s very telling that their only reference to warmup forks is in section 2 where they basically only mention that they exist, as well as that &quot;JMH does not use warmup forks (w f ) by default&quot;.  After that they never mention them again. Section 4.1 describing their approach makes it clear that they only use measurement forks. They never study the impact of potentially adding warmup forks.  However, I am now looking at now at their stability function for minimizing the number for measurement fork in 4.2.2 which is relevant."},{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":0,"creation_date":1665754110,"post_id":74062856,"comment_id":130778136,"body_markdown":"@zapl I was hoping they try their approach with varying number of warmup forks but they do not. Section 5.3 explains that both their static and their dynamic configuration uses zero warmup-forks.\n\nI was looking to find wether they have anything definitive on the number of measurement forks but they mention nothing. They skim over the subject in section 6 where they simply mention *&quot;JMH 1.21 ...  reduced the number of forks from ten to five ... our results support reducing to five forks, which indicates that most fork-to-fork\nvariability is captured&quot;*. No mention for investigating &lt;5.","body":"@zapl I was hoping they try their approach with varying number of warmup forks but they do not. Section 5.3 explains that both their static and their dynamic configuration uses zero warmup-forks.  I was looking to find wether they have anything definitive on the number of measurement forks but they mention nothing. They skim over the subject in section 6 where they simply mention <i>&quot;JMH 1.21 ...  reduced the number of forks from ten to five ... our results support reducing to five forks, which indicates that most fork-to-fork variability is captured&quot;</i>. No mention for investigating &lt;5."},{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":0,"creation_date":1665754738,"post_id":74062856,"comment_id":130778414,"body_markdown":"@zapl Finally found the relevant info, last paragraph in section 5: *&quot;Generally, warmup iterations are more reduced than forks in our setup, indicating that fork-tofork variability is more present than within-fork variance ...&quot;*. I guess what I am looking for is fork-to-fork variability reasons, as I would expect that `f=1` should always be enough when `w_i` is high enough...","body":"@zapl Finally found the relevant info, last paragraph in section 5: <i>&quot;Generally, warmup iterations are more reduced than forks in our setup, indicating that fork-tofork variability is more present than within-fork variance ...&quot;</i>. I guess what I am looking for is fork-to-fork variability reasons, as I would expect that <code>f=1</code> should always be enough when <code>w_i</code> is high enough..."}],"answers":[{"comments":[{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":0,"creation_date":1665740434,"post_id":74062979,"comment_id":130773741,"body_markdown":"Can you explain how these examples are things that regular warmup iterations can&#39;t address? For instance, your first example about I/O caches: what would you protect against with an extra fork, that a generous number of Warmup iterations of significant duration cannot do? I&#39;m really sceptical about the value of forked warmups, especially when the execution environment is controlled (i.e. nothing else is running on the system performing the benchmark).","body":"Can you explain how these examples are things that regular warmup iterations can&#39;t address? For instance, your first example about I/O caches: what would you protect against with an extra fork, that a generous number of Warmup iterations of significant duration cannot do? I&#39;m really sceptical about the value of forked warmups, especially when the execution environment is controlled (i.e. nothing else is running on the system performing the benchmark)."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665741533,"post_id":74062979,"comment_id":130774093,"body_markdown":"Please reread my answer.  I am not claiming that an extra fork will help.  All I am saying is that it costs almost nothing to provide an option that allows the user to *try* it. You are asking why they provide the option, and I have given you my explanation.  It is to allow people to try it.","body":"Please reread my answer.  I am not claiming that an extra fork will help.  All I am saying is that it costs almost nothing to provide an option that allows the user to <i>try</i> it. You are asking why they provide the option, and I have given you my explanation.  It is to allow people to try it."},{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":0,"creation_date":1665750321,"post_id":74062979,"comment_id":130776665,"body_markdown":"Thank you, but my question really then would be answered by someone who has tried it and identified that &quot;I need to do a forked warmup in case X, because when I just fork and run immediately using only `@Warmup` bad thing Y happens which a number N of  extra forks preceding the measurement run via `@Fork(wamups=N)` prevents bad thing Y from happening. (Edited comment because accidentally pressed enter in middle of typing half of it).","body":"Thank you, but my question really then would be answered by someone who has tried it and identified that &quot;I need to do a forked warmup in case X, because when I just fork and run immediately using only <code>@Warmup</code> bad thing Y happens which a number N of  extra forks preceding the measurement run via <code>@Fork(wamups=N)</code> prevents bad thing Y from happening. (Edited comment because accidentally pressed enter in middle of typing half of it)."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665754081,"creation_date":1665705262,"answer_id":74062979,"question_id":74062856,"body_markdown":"&gt; I am having trouble understanding why the forked warmups were introduced as a feature. \r\n\r\nWarmup forks can do things like:\r\n\r\n  - prime directory and file caches by opening and files\r\n  - prime the virtual memory system by causing dirty pages to be written and adding pages to the free pool,\r\n  - prime a shared class cache (if your JVM supports this),\r\n  - and so on.\r\n\r\nThese things can definitely improve benchmark consistency.\r\n\r\nWhy do it multiple times?  \r\n\r\nIt is not clear to me that multiple warmup fork would help in practice ... or why.  But having the ability to try it *just in case it makes a difference* seems like a good thing&lt;sup&gt;1&lt;/sup&gt;.  \r\n\r\nPresumably the warmup fork feature was added because *at least some people* wanted it / asked for it.  And if you can do a single warmup fork run, an option to do it N times was probably a trivial extension.\r\n\r\n------------\r\n\r\n&lt;sup&gt;1 - Or even providing it to give performance obsessed people with too much time on their hands another &quot;tuning knob&quot; to twiddle.&lt;/sup&gt;","title":"Why are warmup forks useful in JMH?","body":"<blockquote>\n<p>I am having trouble understanding why the forked warmups were introduced as a feature.</p>\n</blockquote>\n<p>Warmup forks can do things like:</p>\n<ul>\n<li>prime directory and file caches by opening and files</li>\n<li>prime the virtual memory system by causing dirty pages to be written and adding pages to the free pool,</li>\n<li>prime a shared class cache (if your JVM supports this),</li>\n<li>and so on.</li>\n</ul>\n<p>These things can definitely improve benchmark consistency.</p>\n<p>Why do it multiple times?</p>\n<p>It is not clear to me that multiple warmup fork would help in practice ... or why.  But having the ability to try it <em>just in case it makes a difference</em> seems like a good thing<sup>1</sup>.</p>\n<p>Presumably the warmup fork feature was added because <em>at least some people</em> wanted it / asked for it.  And if you can do a single warmup fork run, an option to do it N times was probably a trivial extension.</p>\n<hr />\n<p><sup>1 - Or even providing it to give performance obsessed people with too much time on their hands another &quot;tuning knob&quot; to twiddle.</sup></p>\n"}],"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1665754081,"creation_date":1665704056,"question_id":74062856,"body_markdown":"In short my question is:\r\n\r\nWhat do forked warmups offer that within-fork warmups do not? What is the thing that makes executing forked warmups useful?\r\n\r\nJMH conveniently allows you to fork a new JVM instance in which your benchmarks are run. This is useful because as explained in [this](https://stackoverflow.com/q/25572778/309816) and [this](https://stackoverflow.com/q/35046745/309816) question, it allows you to run your benchmakrs with a clean slate: a fresh OS process where the state of both the JVM and the OS/system has no previous decisions/observations for the process which runs the benchmarks.\r\n\r\nIn addition, JMH allows you to perform a number of initial &quot;warmup&quot; runs of your benchmarks in the forked process, the results of which are discarded. These are useful to let the system &quot;settle&quot; with decisions made during execution (OS makes memory paging decisions, JIT compiles VM code to native, etc).\r\n\r\nThere are actually though two ways this can be done: using `@Warmup` annotation and using the `warmups` parameter of the `@Fork` annotation. As explained in [what is the difference between warmup attribute in Fork and Warmup annotation in jmh?](https://stackoverflow.com/q/47776345/309816) the former executes some initial iterations within each fork, whereas the latter executes some entire forks that are discarded.\r\n\r\nI am having trouble understanding why the forked warmups were introduced as a feature. A forked process presents a fresh challenge to the the OS/JVM removing any bias that may arise from previously executed code in the existing process. Having the forked process execute enough warmup iterations also means that any &quot;initial optimizations&quot; the OS/JVM perform, are given time to &quot;settle&quot;.\r\n\r\nSo then, why would I want to run some entire forks that are discarded all together by adding `@Fork(warmups = N)`? I&#39;m guessing it has to do with the OS/system being given time to settle on something (as the JVM does not stick around after each fork to use the information from the previous warm-up forks) but what is it about a process being created/torn-down a few times that helps improve results? And why would a generous `@Warmup` annotation not achieve the same if a single fork were to be used?\r\n","title":"Why are warmup forks useful in JMH?","body":"<p>In short my question is:</p>\n<p>What do forked warmups offer that within-fork warmups do not? What is the thing that makes executing forked warmups useful?</p>\n<p>JMH conveniently allows you to fork a new JVM instance in which your benchmarks are run. This is useful because as explained in <a href=\"https://stackoverflow.com/q/25572778/309816\">this</a> and <a href=\"https://stackoverflow.com/q/35046745/309816\">this</a> question, it allows you to run your benchmakrs with a clean slate: a fresh OS process where the state of both the JVM and the OS/system has no previous decisions/observations for the process which runs the benchmarks.</p>\n<p>In addition, JMH allows you to perform a number of initial &quot;warmup&quot; runs of your benchmarks in the forked process, the results of which are discarded. These are useful to let the system &quot;settle&quot; with decisions made during execution (OS makes memory paging decisions, JIT compiles VM code to native, etc).</p>\n<p>There are actually though two ways this can be done: using <code>@Warmup</code> annotation and using the <code>warmups</code> parameter of the <code>@Fork</code> annotation. As explained in <a href=\"https://stackoverflow.com/q/47776345/309816\">what is the difference between warmup attribute in Fork and Warmup annotation in jmh?</a> the former executes some initial iterations within each fork, whereas the latter executes some entire forks that are discarded.</p>\n<p>I am having trouble understanding why the forked warmups were introduced as a feature. A forked process presents a fresh challenge to the the OS/JVM removing any bias that may arise from previously executed code in the existing process. Having the forked process execute enough warmup iterations also means that any &quot;initial optimizations&quot; the OS/JVM perform, are given time to &quot;settle&quot;.</p>\n<p>So then, why would I want to run some entire forks that are discarded all together by adding <code>@Fork(warmups = N)</code>? I'm guessing it has to do with the OS/system being given time to settle on something (as the JVM does not stick around after each fork to use the information from the previous warm-up forks) but what is it about a process being created/torn-down a few times that helps improve results? And why would a generous <code>@Warmup</code> annotation not achieve the same if a single fork were to be used?</p>\n"},{"tags":["java","spring","spring-mvc","jsp"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1665755690,"post_id":74069894,"comment_id":130778790,"body_markdown":"Can you please add some code to illustrate what you are trying to do? I&#39;d say the controller will return a list of docks to the JSP view and in the JSP you will handle the drawing logic","body":"Can you please add some code to illustrate what you are trying to do? I&#39;d say the controller will return a list of docks to the JSP view and in the JSP you will handle the drawing logic"},{"owner":{"account_id":26036584,"reputation":1,"user_id":19741946,"display_name":"R&#233;da"},"score":0,"creation_date":1665757110,"post_id":74069894,"comment_id":130779334,"body_markdown":"So the controller should only send a list of docks(on json form)? then in my jsp i should iterate over them to construct the shapes","body":"So the controller should only send a list of docks(on json form)? then in my jsp i should iterate over them to construct the shapes"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1665757162,"post_id":74069894,"comment_id":130779362,"body_markdown":"Yeah, that&#39;s up to you, how you implement it. I would do it that way. The controller will handle only the data and the JSP will draw it depending on that data","body":"Yeah, that&#39;s up to you, how you implement it. I would do it that way. The controller will handle only the data and the JSP will draw it depending on that data"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665839573,"post_id":74069894,"comment_id":130795153,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26036584,"reputation":1,"user_id":19741946,"display_name":"R&#233;da"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665753671,"creation_date":1665753671,"question_id":74069894,"body_markdown":"I have a problem with my dock management application(built with `spring MVC`). In my application I need to build a view (in 2D plan) of the available docks. So my problem is that I don&#39;t know how to build such a view (the docks have a coordinate (x, y) and a length/width). What I really want is to have a 2D plan (with x and y axes) in which I build rectangles that represent the docks.\r\n\r\nBut I don&#39;t know how to do that in my `@Controller`.\r\n\r\nI am using JSPs to display the data.\r\n\r\nDo you have any ideas on a possible solution?\r\n\r\nThanks in advance.","title":"Drawing a 2D plan with spring mvc web","body":"<p>I have a problem with my dock management application(built with <code>spring MVC</code>). In my application I need to build a view (in 2D plan) of the available docks. So my problem is that I don't know how to build such a view (the docks have a coordinate (x, y) and a length/width). What I really want is to have a 2D plan (with x and y axes) in which I build rectangles that represent the docks.</p>\n<p>But I don't know how to do that in my <code>@Controller</code>.</p>\n<p>I am using JSPs to display the data.</p>\n<p>Do you have any ideas on a possible solution?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","react-native","gradle","upgrade"],"answers":[{"comments":[{"owner":{"account_id":20151994,"reputation":89,"user_id":14779103,"display_name":"jem4789"},"score":0,"creation_date":1665753652,"post_id":74034450,"comment_id":130777969,"body_markdown":"Thank you, I might just do this because although I fixed the bug above, more and more keep popping up and I think I&#39;d better just start again, could go on for a while!","body":"Thank you, I might just do this because although I fixed the bug above, more and more keep popping up and I think I&#39;d better just start again, could go on for a while!"},{"owner":{"account_id":20151994,"reputation":89,"user_id":14779103,"display_name":"jem4789"},"score":0,"creation_date":1666190523,"post_id":74034450,"comment_id":130877857,"body_markdown":"Hi again, I followed your instructions (started a new project, installed the packages I need and tested after each installation to check that my blank app would build). I installed some packages via npm and then had to install some other expo packages, which worked fine, until I came to install my final package &#39;react-native-vector-icons&#39; with npm. \n\nctd...","body":"Hi again, I followed your instructions (started a new project, installed the packages I need and tested after each installation to check that my blank app would build). I installed some packages via npm and then had to install some other expo packages, which worked fine, until I came to install my final package &#39;react-native-vector-icons&#39; with npm.   ctd..."},{"owner":{"account_id":20151994,"reputation":89,"user_id":14779103,"display_name":"jem4789"},"score":0,"creation_date":1666190839,"post_id":74034450,"comment_id":130877986,"body_markdown":"...ctd...\nIt installed fine but when I tried to build the project afterwards it failed, saying:\n\nFAILURE: Build failed with an exception.\n* Where:\nSettings file &#39;C:\\Users\\joann\\Desktop\\Apps\\PersonalChef2\\PersonalChef\\android\\settings.gradle&#39; line: 17\n\nCould not read script &#39;C:\\Users\\joann\\Desktop\\Apps\\PersonalChef2\\PersonalChef\\scripts\\autolinking.gradle&#39; as it does not exist.\n\nI don&#39;t have a scripts folder in my application at all, never mind an autolinking.gradle file. There are a few questions on this re the same error but nobody&#39;s provided a solution. Do you know of a solution?","body":"...ctd... It installed fine but when I tried to build the project afterwards it failed, saying:  FAILURE: Build failed with an exception. * Where: Settings file &#39;C:\\Users\\joann\\Desktop\\Apps\\PersonalChef2\\PersonalChef\\andr&zwnj;&#8203;oid\\settings.gradle&#39; line: 17  Could not read script &#39;C:\\Users\\joann\\Desktop\\Apps\\PersonalChef2\\PersonalChef\\scri&zwnj;&#8203;pts\\autolinking.grad&zwnj;&#8203;le&#39; as it does not exist.  I don&#39;t have a scripts folder in my application at all, never mind an autolinking.gradle file. There are a few questions on this re the same error but nobody&#39;s provided a solution. Do you know of a solution?"},{"owner":{"account_id":21256924,"reputation":51,"user_id":15638280,"display_name":"Jony"},"score":1,"creation_date":1666218199,"post_id":74034450,"comment_id":130886873,"body_markdown":"Hi Jem, I wanted to share a method that helps me to debug this kind of problem but I&#39;m still being a newbie. Without googling I&#39;d say that before certain RN&#39;s version it seems that it was necessary to manually link packages running inside the CLI.  I don&#39;t know if it varies considering that you are using Expo. But that package it&#39;s a common one and I have doubts that it&#39;s raising the error. Did you try installing only that package?. Maybe make a try running the RN&#39;s link command or checking that settings.gradle?. Otherwise make another question.","body":"Hi Jem, I wanted to share a method that helps me to debug this kind of problem but I&#39;m still being a newbie. Without googling I&#39;d say that before certain RN&#39;s version it seems that it was necessary to manually link packages running inside the CLI.  I don&#39;t know if it varies considering that you are using Expo. But that package it&#39;s a common one and I have doubts that it&#39;s raising the error. Did you try installing only that package?. Maybe make a try running the RN&#39;s link command or checking that settings.gradle?. Otherwise make another question."},{"owner":{"account_id":21256924,"reputation":51,"user_id":15638280,"display_name":"Jony"},"score":1,"creation_date":1666218434,"post_id":74034450,"comment_id":130886933,"body_markdown":"PD: once you know that certain packages are fine you could install them at once in order to make your test faster (be aware of dependencies conflicts). It&#39;s a little bit annoying to recreate a project and install it all again.","body":"PD: once you know that certain packages are fine you could install them at once in order to make your test faster (be aware of dependencies conflicts). It&#39;s a little bit annoying to recreate a project and install it all again."},{"owner":{"account_id":20151994,"reputation":89,"user_id":14779103,"display_name":"jem4789"},"score":1,"creation_date":1666703207,"post_id":74034450,"comment_id":130995770,"body_markdown":"Hi again @Jony thank you for replying, I tried your first suggestion and installed the react-native-vector-icons alone in a new project, then ran a build and it worked! Then I went on to install every other package (testing that it builds between each one) and it seems to have worked; it&#39;s running with all my packages now. The only thing that I did differently was install the vector icons package before the other packages rather than last! I can see an &#39;expo-modules-autolinking&#39; folder in my node modules now which wasn&#39;t there on my previous test so maybe that has something to do with it!","body":"Hi again @Jony thank you for replying, I tried your first suggestion and installed the react-native-vector-icons alone in a new project, then ran a build and it worked! Then I went on to install every other package (testing that it builds between each one) and it seems to have worked; it&#39;s running with all my packages now. The only thing that I did differently was install the vector icons package before the other packages rather than last! I can see an &#39;expo-modules-autolinking&#39; folder in my node modules now which wasn&#39;t there on my previous test so maybe that has something to do with it!"}],"tags":[],"owner":{"account_id":21256924,"reputation":51,"user_id":15638280,"display_name":"Jony"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665524849,"creation_date":1665524849,"answer_id":74034450,"question_id":73948072,"body_markdown":"I&#39;ve been struggling with this kind of errors for several days and there&#39;re a lot of post to read about out there. \r\n\r\nMy suggestion is to create a new RN project and test that everything is okay. I mean without anything added and test all your Gradle&#39;s commands. Then, if you see that your Gradle&#39;s files are fine, start adding the rest of your code. First, start adding all the necessary packages and test all again. And finally, add the code files itself. \r\n\r\n","title":"React Native Task error &#39;:app:processDebugMainManifest FAILED&#39;","body":"<p>I've been struggling with this kind of errors for several days and there're a lot of post to read about out there.</p>\n<p>My suggestion is to create a new RN project and test that everything is okay. I mean without anything added and test all your Gradle's commands. Then, if you see that your Gradle's files are fine, start adding the rest of your code. First, start adding all the necessary packages and test all again. And finally, add the code files itself.</p>\n"},{"tags":[],"owner":{"account_id":20151994,"reputation":89,"user_id":14779103,"display_name":"jem4789"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665753570,"creation_date":1665753570,"answer_id":74069865,"question_id":73948072,"body_markdown":"In case this helps anyone, I fixed this bug using the most popular answer (from user kjhughes) on this post: \r\n\r\n[https://stackoverflow.com/questions/19889132/error-the-processing-instruction-target-matching-xxmmll-is-not-allowed][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19889132/error-the-processing-instruction-target-matching-xxmmll-is-not-allowed\r\n\r\nI Ctrl F&#39;d `&lt;?xml ?&gt;` in my main project folder, went through each file that returned an instance from the search and found a couple of files where the &lt;?xml ?&gt; declaration wasn&#39;t at the very top of the file, so I moved it top the top.\r\n\r\nHope this helps!","title":"React Native Task error &#39;:app:processDebugMainManifest FAILED&#39;","body":"<p>In case this helps anyone, I fixed this bug using the most popular answer (from user kjhughes) on this post:</p>\n<p><a href=\"https://stackoverflow.com/questions/19889132/error-the-processing-instruction-target-matching-xxmmll-is-not-allowed\">Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed</a></p>\n<p>I Ctrl F'd <code>&lt;?xml ?&gt;</code> in my main project folder, went through each file that returned an instance from the search and found a couple of files where the  declaration wasn't at the very top of the file, so I moved it top the top.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":20151994,"reputation":89,"user_id":14779103,"display_name":"jem4789"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1897,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74069865,"answer_count":2,"score":1,"last_activity_date":1665753570,"creation_date":1664887578,"question_id":73948072,"body_markdown":"I recently upgraded React Native 0.63.4 to 0.70.1 and have been trying to iron everything out re upgrading packages and dependencies etc. \r\nI&#39;m really stuck on this particular error and can&#39;t seem to find a solution. \r\n\r\nThe command prompt says:\r\n\r\n&gt; Task :app:processDebugMainManifest FAILED\r\n\r\n...\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; com.android.manifmerger.ManifestMerger2$MergeFailureException: org.xml.sax.SAXParseException; lineNumber: 10; columnNumber: 6; The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\njava.lang.StackOverflowError (no error message)\r\n\r\n--------------------------------------------------------------------------------------------------\r\n\r\nI haven&#39;t been able to find a solution online apart from adding the line \r\n&#39;org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED&#39; to my android/gradle.properties file, which hasn&#39;t worked.\r\n\r\n\r\nThe issue that I had directly before this error was:-\r\n\r\nCommand prompt:\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not find org.webkit:android-jsc:r245459.\r\n     Required by:\r\n         project :app\r\n\r\nI resolved this by changing &#39;def jscFlavor = &#39;org.webkit:android-jsc:r245459&#39;&#39; to &#39;def jscFlavor = &#39;org.webkit:android-jsc:r250230&#39;&#39; in my android/app/build.gradle file, as I noticed that my &#39;node-modules/jsc-android/dist/org/webkit/android-jsc&#39; file contained an r250230 file rather than an r245459 one. I&#39;m not sure whether changing this manually has cause the most recent error.\r\n\r\n\r\nHere&#39;s my android/app/build.gradle file:\r\n\r\n    apply plugin: &quot;com.android.application&quot;\r\n    \r\n    import com.android.build.OutputFile\r\n    \r\n    /**\r\n     * The react.gradle file registers a task for each build variant (e.g. bundleDebugJsAndAssets\r\n     * and bundleReleaseJsAndAssets).\r\n     * These basically call `react-native bundle` with the correct arguments during the Android build\r\n     * cycle. By default, bundleDebugJsAndAssets is skipped, as in debug/dev mode we prefer to load the\r\n     * bundle directly from the development server. Below you can see all the possible configurations\r\n     * and their defaults. If you decide to add a configuration block, make sure to add it before the\r\n     * `apply from: &quot;../../node_modules/react-native/react.gradle&quot;` line.\r\n     *\r\n     * project.ext.react = [\r\n     *   // the name of the generated asset file containing your JS bundle\r\n     *   bundleAssetName: &quot;index.android.bundle&quot;,\r\n     *\r\n     *   // the entry file for bundle generation. If none specified and\r\n     *   // &quot;index.android.js&quot; exists, it will be used. Otherwise &quot;index.js&quot; is\r\n     *   // default. Can be overridden with ENTRY_FILE environment variable.\r\n     *   entryFile: &quot;index.android.js&quot;,\r\n     *\r\n     *   // https://reactnative.dev/docs/performance#enable-the-ram-format\r\n     *   bundleCommand: &quot;ram-bundle&quot;,\r\n     *\r\n     *   // whether to bundle JS and assets in debug mode\r\n     *   bundleInDebug: false,\r\n     *\r\n     *   // whether to bundle JS and assets in release mode\r\n     *   bundleInRelease: true,\r\n     *\r\n     *   // whether to bundle JS and assets in another build variant (if configured).\r\n     *   // See http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Build-Variants\r\n     *   // The configuration property can be in the following formats\r\n     *   //         &#39;bundleIn${productFlavor}${buildType}&#39;\r\n     *   //         &#39;bundleIn${buildType}&#39;\r\n     *   // bundleInFreeDebug: true,\r\n     *   // bundleInPaidRelease: true,\r\n     *   // bundleInBeta: true,\r\n     *\r\n     *   // whether to disable dev mode in custom build variants (by default only disabled in release)\r\n     *   // for example: to disable dev mode in the staging build type (if configured)\r\n     *   devDisabledInStaging: true,\r\n     *   // The configuration property can be in the following formats\r\n     *   //         &#39;devDisabledIn${productFlavor}${buildType}&#39;\r\n     *   //         &#39;devDisabledIn${buildType}&#39;\r\n     *\r\n     *   // the root of your project, i.e. where &quot;package.json&quot; lives\r\n     *   root: &quot;../../&quot;,\r\n     *\r\n     *   // where to put the JS bundle asset in debug mode\r\n     *   jsBundleDirDebug: &quot;$buildDir/intermediates/assets/debug&quot;,\r\n     *\r\n     *   // where to put the JS bundle asset in release mode\r\n     *   jsBundleDirRelease: &quot;$buildDir/intermediates/assets/release&quot;,\r\n     *\r\n     *   // where to put drawable resources / React Native assets, e.g. the ones you use via\r\n     *   // require(&#39;./image.png&#39;)), in debug mode\r\n     *   resourcesDirDebug: &quot;$buildDir/intermediates/res/merged/debug&quot;,\r\n     *\r\n     *   // where to put drawable resources / React Native assets, e.g. the ones you use via\r\n     *   // require(&#39;./image.png&#39;)), in release mode\r\n     *   resourcesDirRelease: &quot;$buildDir/intermediates/res/merged/release&quot;,\r\n     *\r\n     *   // by default the gradle tasks are skipped if none of the JS files or assets change; this means\r\n     *   // that we don&#39;t look at files in android/ or ios/ to determine whether the tasks are up to\r\n     *   // date; if you have any other folders that you want to ignore for performance reasons (gradle\r\n     *   // indexes the entire tree), add them here. Alternatively, if you have JS files in android/\r\n     *   // for example, you might want to remove it from here.\r\n     *   inputExcludes: [&quot;android/**&quot;, &quot;ios/**&quot;],\r\n     *\r\n     *   // override which node gets called and with what additional arguments\r\n     *   nodeExecutableAndArgs: [&quot;node&quot;],\r\n     *\r\n     *   // supply additional arguments to the packager\r\n     *   extraPackagerArgs: []\r\n     * ]\r\n     */\r\n    \r\n    project.ext.react = [\r\n        enableHermes: false\r\n    ]\r\n    \r\n    // MANUALLY REMOVED:\r\n        apply from: &#39;../../node_modules/react-native-unimodules/gradle.groovy&#39;\r\n        // apply from: &quot;../../node_modules/react-native/react.gradle&quot;\r\n        // apply from: &quot;../../node_modules/expo-constants/scripts/get-app-config-android.gradle&quot;\r\n        // apply from: &quot;../../node_modules/expo-updates/scripts/create-manifest-android.gradle&quot;\r\n    //\r\n    // ADDED:\r\n    // apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;expo-modules-core/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../gradle.groovy&quot;)\r\n    apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../react.gradle&quot;)\r\n    apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;expo-updates/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../scripts/create-manifest-android.gradle&quot;)\r\n    //\r\n    \r\n    /**\r\n     * Set this to true to create two separate APKs instead of one:\r\n     *   - An APK that only works on ARM devices\r\n     *   - An APK that only works on x86 devices\r\n     * The advantage is the size of the APK is reduced by about 4MB.\r\n     * Upload all the APKs to the Play Store and people will download\r\n     * the correct one based on the CPU architecture of their device.\r\n     */\r\n    def enableSeparateBuildPerCPUArchitecture = false\r\n    \r\n    /**\r\n     * Run Proguard to shrink the Java bytecode in release builds.\r\n     */\r\n    def enableProguardInReleaseBuilds = false\r\n    \r\n    /**\r\n     * The preferred build flavor of JavaScriptCore.\r\n     *\r\n     * For example, to use the international variant, you can use:\r\n     * `def jscFlavor = &#39;org.webkit:android-jsc-intl:+&#39;`\r\n     *\r\n     * The international variant includes ICU i18n library and necessary data\r\n     * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\r\n     * give correct results when using with locales other than en-US.  Note that\r\n     * this variant is about 6MiB larger per architecture than default.\r\n     */\r\n    // Original:\r\n    // def jscFlavor = &#39;org.webkit:android-jsc:+&#39;\r\n    \r\n    // ***BUG FIX*** Specific version:\r\n    // def jscFlavor = &#39;org.webkit:android-jsc:r245459&#39;\r\n    \r\n    // ADDED NEW Specific version (?) found in (node-modules &gt; jsc-android &gt; dist &gt; org &gt; webkit &gt; android-jsc &gt; r250230):\r\n    def jscFlavor = &#39;org.webkit:android-jsc:r250230&#39;\r\n    \r\n    /**\r\n     * Whether to enable the Hermes VM.\r\n     *\r\n     * This should be set on project.ext.react and mirrored here.  If it is not set\r\n     * on project.ext.react, JavaScript will not be compiled to Hermes Bytecode\r\n     * and the benefits of using Hermes will therefore be sharply reduced.\r\n     */\r\n    def enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false)\r\n    \r\n    android {\r\n        compileSdkVersion rootProject.ext.compileSdkVersion\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.personalchef&quot;\r\n            minSdkVersion rootProject.ext.minSdkVersion\r\n            targetSdkVersion rootProject.ext.targetSdkVersion\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n         // ADDED:\r\n            manifestPlaceholders = [\r\n                &#39;appAuthRedirectScheme&#39;: &#39;host.exp.exponent&#39;\r\n            ]\r\n         //\r\n        }\r\n        splits {\r\n            abi {\r\n                reset()\r\n                enable enableSeparateBuildPerCPUArchitecture\r\n                universalApk false  // If true, also generate a universal APK\r\n                include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\r\n            }\r\n        }\r\n        signingConfigs {\r\n            debug {\r\n                storeFile file(&#39;debug.keystore&#39;)\r\n                storePassword &#39;android&#39;\r\n                keyAlias &#39;androiddebugkey&#39;\r\n                keyPassword &#39;android&#39;\r\n            }\r\n        }\r\n        buildTypes {\r\n            debug {\r\n                signingConfig signingConfigs.debug\r\n            }\r\n            release {\r\n                // Caution! In production, you need to generate your own keystore file.\r\n                // see https://reactnative.dev/docs/signed-apk-android.\r\n                signingConfig signingConfigs.debug\r\n                minifyEnabled enableProguardInReleaseBuilds\r\n                proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n            }\r\n        }\r\n    \r\n        // applicationVariants are e.g. debug, release\r\n        applicationVariants.all { variant -&gt;\r\n            variant.outputs.each { output -&gt;\r\n                // For each separate APK per architecture, set a unique version code as described here:\r\n                // https://developer.android.com/studio/build/configure-apk-splits.html\r\n                def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n                def abi = output.getFilter(OutputFile.ABI)\r\n                if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                    output.versionCodeOverride =\r\n                            versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        //noinspection GradleDynamicVersion\r\n    \r\n        implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\r\n    \r\n        implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\r\n    \r\n        implementation project(&#39;:react-native-fs&#39;)\r\n        debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n          exclude group:&#39;com.facebook.fbjni&#39;\r\n        }\r\n        debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n            exclude group:&#39;com.facebook.flipper&#39;\r\n            exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n        }\r\n        debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\r\n            exclude group:&#39;com.facebook.flipper&#39;\r\n        }\r\n        addUnimodulesDependencies()\r\n    \r\n        if (enableHermes) {\r\n            def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;\r\n            debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n            releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n        } else {\r\n            implementation jscFlavor\r\n        }\r\n    }\r\n    \r\n    // Run this once to be able to run the application with BUCK\r\n    // puts all compile dependencies into folder libs for BUCK to use\r\n    task copyDownloadableDepsToLibs(type: Copy) {\r\n        // ORIGINAL:\r\n            // from configurations.compile\r\n            // into &#39;libs&#39;\r\n        // MANUALLY ADDED:\r\n        from configurations.implementation\r\n        into &#39;libs&#39;\r\n    }\r\n    // MANUALLY REMOVED:\r\n    apply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\n    //\r\n    // ADDED:\r\n    // apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;@react-native-community/cli-platform-android/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\r\n    // applyNativeModulesAppBuildGradle(project)\r\n    //\r\n\r\nMy android/build.gradle file:\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        ext {\r\n    \r\n            // MANUALLY REMOVED:\r\n    \r\n            // buildToolsVersion = &quot;29.0.3&quot;\r\n            // minSdkVersion = 21\r\n            // compileSdkVersion = 30\r\n            // targetSdkVersion = 30\r\n    \r\n            //\r\n            // MANUALLY ADDED:\r\n            buildToolsVersion = &quot;31.0.0&quot;\r\n            minSdkVersion = 21\r\n            compileSdkVersion = 31\r\n            targetSdkVersion = 31\r\n    \r\n            if (System.properties[&#39;os.arch&#39;] == &quot;aarch64&quot;) {\r\n                // For M1 Users we need to use the NDK 24 which added support for aarch64\r\n                ndkVersion = &quot;24.0.8215888&quot;\r\n            } else {\r\n                // Otherwise we default to the side-by-side NDK version from AGP.\r\n                ndkVersion = &quot;21.4.7075529&quot;\r\n            }\r\n            //\r\n        }\r\n        repositories {\r\n            google()\r\n    \r\n            // MANUALLY REMOVED:\r\n    \r\n            // jcenter()\r\n    \r\n            //\r\n    \r\n            // ADDED MANUALLY:\r\n    \r\n            mavenCentral()\r\n    \r\n            //\r\n        }\r\n        dependencies {\r\n            // MANUALLY REMOVED:\r\n    \r\n            // classpath(&quot;com.android.tools.build:gradle:4.1.0&quot;)\r\n    \r\n            //\r\n            // MANUALLY ADDED:\r\n    \r\n            classpath(&quot;com.android.tools.build:gradle:7.2.1&quot;)\r\n            classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\r\n            classpath(&quot;de.undercouch:gradle-download-task:5.0.1&quot;)\r\n    \r\n            //\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n    \r\n            google()\r\n    \r\n            // MANUALLY REMOVED:\r\n    \r\n            // mavenLocal()\r\n    \r\n            //\r\n    \r\n            maven {\r\n                // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n                url(&quot;$rootDir/../node_modules/react-native/android&quot;)\r\n            }\r\n            maven {\r\n                // Android JSC is installed from npm\r\n                url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n            }\r\n    \r\n            // ADDED MANUALLY:\r\n    \r\n            mavenCentral {\r\n                // We don&#39;t want to fetch react-native from Maven Central as there are\r\n                // older versions over there.\r\n                content {\r\n                    excludeGroup &quot;com.facebook.react&quot;\r\n                }\r\n            }\r\n    \r\n            //\r\n    \r\n            // MANUALLY REMOVED:\r\n    \r\n            // jcenter()\r\n    \r\n            //\r\n    \r\n            maven { url &#39;https://www.jitpack.io&#39; }\r\n        }\r\n    }\r\n\r\nMy android/settings.gradle file:\r\n\r\n    rootProject.name = &#39;PersonalChef&#39;\r\n    \r\n    // MANUALLY REMOVED:\r\n       // apply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\r\n    //\r\n    \r\n    // MANUALLY REMOVED:\r\n    // apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;expo-modules-core/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../gradle.groovy&quot;);\r\n    // includeUnimodulesProjects()\r\n    \r\n    // ADDED:\r\n    apply from: &#39;../node_modules/react-native-unimodules/gradle.groovy&#39;; includeUnimodulesProjects()\r\n    apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;@react-native-community/cli-platform-android/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\r\n    applyNativeModulesSettingsGradle(settings)\r\n    //\r\n    \r\n    include &#39;:app&#39;\r\n    includeBuild(&#39;../node_modules/react-native-gradle-plugin&#39;)\r\n    \r\n    \r\n    if (settings.hasProperty(&quot;newArchEnabled&quot;) &amp;&amp; settings.newArchEnabled == &quot;true&quot;) {\r\n        include(&quot;:ReactAndroid&quot;)\r\n        project(&quot;:ReactAndroid&quot;).projectDir = file(&#39;../node_modules/react-native/ReactAndroid&#39;)\r\n        include(&quot;:ReactAndroid:hermes-engine&quot;)\r\n        project(&quot;:ReactAndroid:hermes-engine&quot;).projectDir = file(&#39;../node_modules/react-native/ReactAndroid/hermes-engine&#39;)\r\n    }\r\n\r\nThank you in advance if you&#39;re able to help.","title":"React Native Task error &#39;:app:processDebugMainManifest FAILED&#39;","body":"<p>I recently upgraded React Native 0.63.4 to 0.70.1 and have been trying to iron everything out re upgrading packages and dependencies etc.\nI'm really stuck on this particular error and can't seem to find a solution.</p>\n<p>The command prompt says:</p>\n<blockquote>\n<p>Task :app:processDebugMainManifest FAILED</p>\n</blockquote>\n<p>...</p>\n<p>FAILURE: Build completed with 2 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.</li>\n</ul>\n<blockquote>\n<p>com.android.manifmerger.ManifestMerger2$MergeFailureException: org.xml.sax.SAXParseException; lineNumber: 10; columnNumber: 6; The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\njava.lang.StackOverflowError (no error message)</li>\n</ul>\n<hr />\n<p>I haven't been able to find a solution online apart from adding the line\n'org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED' to my android/gradle.properties file, which hasn't worked.</p>\n<p>The issue that I had directly before this error was:-</p>\n<p>Command prompt:</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all task dependencies for configuration ':app:debugCompileClasspath'.\nCould not find org.webkit:android-jsc:r245459.\nRequired by:\nproject :app</p>\n</blockquote>\n<p>I resolved this by changing 'def jscFlavor = 'org.webkit:android-jsc:r245459'' to 'def jscFlavor = 'org.webkit:android-jsc:r250230'' in my android/app/build.gradle file, as I noticed that my 'node-modules/jsc-android/dist/org/webkit/android-jsc' file contained an r250230 file rather than an r245459 one. I'm not sure whether changing this manually has cause the most recent error.</p>\n<p>Here's my android/app/build.gradle file:</p>\n<pre><code>apply plugin: &quot;com.android.application&quot;\n\nimport com.android.build.OutputFile\n\n/**\n * The react.gradle file registers a task for each build variant (e.g. bundleDebugJsAndAssets\n * and bundleReleaseJsAndAssets).\n * These basically call `react-native bundle` with the correct arguments during the Android build\n * cycle. By default, bundleDebugJsAndAssets is skipped, as in debug/dev mode we prefer to load the\n * bundle directly from the development server. Below you can see all the possible configurations\n * and their defaults. If you decide to add a configuration block, make sure to add it before the\n * `apply from: &quot;../../node_modules/react-native/react.gradle&quot;` line.\n *\n * project.ext.react = [\n *   // the name of the generated asset file containing your JS bundle\n *   bundleAssetName: &quot;index.android.bundle&quot;,\n *\n *   // the entry file for bundle generation. If none specified and\n *   // &quot;index.android.js&quot; exists, it will be used. Otherwise &quot;index.js&quot; is\n *   // default. Can be overridden with ENTRY_FILE environment variable.\n *   entryFile: &quot;index.android.js&quot;,\n *\n *   // https://reactnative.dev/docs/performance#enable-the-ram-format\n *   bundleCommand: &quot;ram-bundle&quot;,\n *\n *   // whether to bundle JS and assets in debug mode\n *   bundleInDebug: false,\n *\n *   // whether to bundle JS and assets in release mode\n *   bundleInRelease: true,\n *\n *   // whether to bundle JS and assets in another build variant (if configured).\n *   // See http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Build-Variants\n *   // The configuration property can be in the following formats\n *   //         'bundleIn${productFlavor}${buildType}'\n *   //         'bundleIn${buildType}'\n *   // bundleInFreeDebug: true,\n *   // bundleInPaidRelease: true,\n *   // bundleInBeta: true,\n *\n *   // whether to disable dev mode in custom build variants (by default only disabled in release)\n *   // for example: to disable dev mode in the staging build type (if configured)\n *   devDisabledInStaging: true,\n *   // The configuration property can be in the following formats\n *   //         'devDisabledIn${productFlavor}${buildType}'\n *   //         'devDisabledIn${buildType}'\n *\n *   // the root of your project, i.e. where &quot;package.json&quot; lives\n *   root: &quot;../../&quot;,\n *\n *   // where to put the JS bundle asset in debug mode\n *   jsBundleDirDebug: &quot;$buildDir/intermediates/assets/debug&quot;,\n *\n *   // where to put the JS bundle asset in release mode\n *   jsBundleDirRelease: &quot;$buildDir/intermediates/assets/release&quot;,\n *\n *   // where to put drawable resources / React Native assets, e.g. the ones you use via\n *   // require('./image.png')), in debug mode\n *   resourcesDirDebug: &quot;$buildDir/intermediates/res/merged/debug&quot;,\n *\n *   // where to put drawable resources / React Native assets, e.g. the ones you use via\n *   // require('./image.png')), in release mode\n *   resourcesDirRelease: &quot;$buildDir/intermediates/res/merged/release&quot;,\n *\n *   // by default the gradle tasks are skipped if none of the JS files or assets change; this means\n *   // that we don't look at files in android/ or ios/ to determine whether the tasks are up to\n *   // date; if you have any other folders that you want to ignore for performance reasons (gradle\n *   // indexes the entire tree), add them here. Alternatively, if you have JS files in android/\n *   // for example, you might want to remove it from here.\n *   inputExcludes: [&quot;android/**&quot;, &quot;ios/**&quot;],\n *\n *   // override which node gets called and with what additional arguments\n *   nodeExecutableAndArgs: [&quot;node&quot;],\n *\n *   // supply additional arguments to the packager\n *   extraPackagerArgs: []\n * ]\n */\n\nproject.ext.react = [\n    enableHermes: false\n]\n\n// MANUALLY REMOVED:\n    apply from: '../../node_modules/react-native-unimodules/gradle.groovy'\n    // apply from: &quot;../../node_modules/react-native/react.gradle&quot;\n    // apply from: &quot;../../node_modules/expo-constants/scripts/get-app-config-android.gradle&quot;\n    // apply from: &quot;../../node_modules/expo-updates/scripts/create-manifest-android.gradle&quot;\n//\n// ADDED:\n// apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('expo-modules-core/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../gradle.groovy&quot;)\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../react.gradle&quot;)\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('expo-updates/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../scripts/create-manifest-android.gradle&quot;)\n//\n\n/**\n * Set this to true to create two separate APKs instead of one:\n *   - An APK that only works on ARM devices\n *   - An APK that only works on x86 devices\n * The advantage is the size of the APK is reduced by about 4MB.\n * Upload all the APKs to the Play Store and people will download\n * the correct one based on the CPU architecture of their device.\n */\ndef enableSeparateBuildPerCPUArchitecture = false\n\n/**\n * Run Proguard to shrink the Java bytecode in release builds.\n */\ndef enableProguardInReleaseBuilds = false\n\n/**\n * The preferred build flavor of JavaScriptCore.\n *\n * For example, to use the international variant, you can use:\n * `def jscFlavor = 'org.webkit:android-jsc-intl:+'`\n *\n * The international variant includes ICU i18n library and necessary data\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\n * give correct results when using with locales other than en-US.  Note that\n * this variant is about 6MiB larger per architecture than default.\n */\n// Original:\n// def jscFlavor = 'org.webkit:android-jsc:+'\n\n// ***BUG FIX*** Specific version:\n// def jscFlavor = 'org.webkit:android-jsc:r245459'\n\n// ADDED NEW Specific version (?) found in (node-modules &gt; jsc-android &gt; dist &gt; org &gt; webkit &gt; android-jsc &gt; r250230):\ndef jscFlavor = 'org.webkit:android-jsc:r250230'\n\n/**\n * Whether to enable the Hermes VM.\n *\n * This should be set on project.ext.react and mirrored here.  If it is not set\n * on project.ext.react, JavaScript will not be compiled to Hermes Bytecode\n * and the benefits of using Hermes will therefore be sharply reduced.\n */\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false)\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        applicationId &quot;com.personalchef&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n     // ADDED:\n        manifestPlaceholders = [\n            'appAuthRedirectScheme': 'host.exp.exponent'\n        ]\n     //\n    }\n    splits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://reactnative.dev/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n    }\n\n    // applicationVariants are e.g. debug, release\n    applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\n            }\n\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    //noinspection GradleDynamicVersion\n\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\n\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\n\n    implementation project(':react-native-fs')\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n      exclude group:'com.facebook.fbjni'\n    }\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n        exclude group:'com.squareup.okhttp3', module:'okhttp'\n    }\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n    }\n    addUnimodulesDependencies()\n\n    if (enableHermes) {\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\n    } else {\n        implementation jscFlavor\n    }\n}\n\n// Run this once to be able to run the application with BUCK\n// puts all compile dependencies into folder libs for BUCK to use\ntask copyDownloadableDepsToLibs(type: Copy) {\n    // ORIGINAL:\n        // from configurations.compile\n        // into 'libs'\n    // MANUALLY ADDED:\n    from configurations.implementation\n    into 'libs'\n}\n// MANUALLY REMOVED:\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\n//\n// ADDED:\n// apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@react-native-community/cli-platform-android/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\n// applyNativeModulesAppBuildGradle(project)\n//\n</code></pre>\n<p>My android/build.gradle file:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext {\n\n        // MANUALLY REMOVED:\n\n        // buildToolsVersion = &quot;29.0.3&quot;\n        // minSdkVersion = 21\n        // compileSdkVersion = 30\n        // targetSdkVersion = 30\n\n        //\n        // MANUALLY ADDED:\n        buildToolsVersion = &quot;31.0.0&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 31\n        targetSdkVersion = 31\n\n        if (System.properties['os.arch'] == &quot;aarch64&quot;) {\n            // For M1 Users we need to use the NDK 24 which added support for aarch64\n            ndkVersion = &quot;24.0.8215888&quot;\n        } else {\n            // Otherwise we default to the side-by-side NDK version from AGP.\n            ndkVersion = &quot;21.4.7075529&quot;\n        }\n        //\n    }\n    repositories {\n        google()\n\n        // MANUALLY REMOVED:\n\n        // jcenter()\n\n        //\n\n        // ADDED MANUALLY:\n\n        mavenCentral()\n\n        //\n    }\n    dependencies {\n        // MANUALLY REMOVED:\n\n        // classpath(&quot;com.android.tools.build:gradle:4.1.0&quot;)\n\n        //\n        // MANUALLY ADDED:\n\n        classpath(&quot;com.android.tools.build:gradle:7.2.1&quot;)\n        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\n        classpath(&quot;de.undercouch:gradle-download-task:5.0.1&quot;)\n\n        //\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n\n        google()\n\n        // MANUALLY REMOVED:\n\n        // mavenLocal()\n\n        //\n\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n        }\n\n        // ADDED MANUALLY:\n\n        mavenCentral {\n            // We don't want to fetch react-native from Maven Central as there are\n            // older versions over there.\n            content {\n                excludeGroup &quot;com.facebook.react&quot;\n            }\n        }\n\n        //\n\n        // MANUALLY REMOVED:\n\n        // jcenter()\n\n        //\n\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n</code></pre>\n<p>My android/settings.gradle file:</p>\n<pre><code>rootProject.name = 'PersonalChef'\n\n// MANUALLY REMOVED:\n   // apply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\n//\n\n// MANUALLY REMOVED:\n// apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('expo-modules-core/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../gradle.groovy&quot;);\n// includeUnimodulesProjects()\n\n// ADDED:\napply from: '../node_modules/react-native-unimodules/gradle.groovy'; includeUnimodulesProjects()\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@react-native-community/cli-platform-android/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../native_modules.gradle&quot;);\napplyNativeModulesSettingsGradle(settings)\n//\n\ninclude ':app'\nincludeBuild('../node_modules/react-native-gradle-plugin')\n\n\nif (settings.hasProperty(&quot;newArchEnabled&quot;) &amp;&amp; settings.newArchEnabled == &quot;true&quot;) {\n    include(&quot;:ReactAndroid&quot;)\n    project(&quot;:ReactAndroid&quot;).projectDir = file('../node_modules/react-native/ReactAndroid')\n    include(&quot;:ReactAndroid:hermes-engine&quot;)\n    project(&quot;:ReactAndroid:hermes-engine&quot;).projectDir = file('../node_modules/react-native/ReactAndroid/hermes-engine')\n}\n</code></pre>\n<p>Thank you in advance if you're able to help.</p>\n"},{"tags":["java","json","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1665757122,"post_id":74069835,"comment_id":130779341,"body_markdown":"Why have a separate map for every entry?  That seems pointless.","body":"Why have a separate map for every entry?  That seems pointless."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665761015,"post_id":74069835,"comment_id":130780851,"body_markdown":"You&#39;re not dialing with **files** in any of the snippets you&#39;ve provided. Did you mean transforming a Collection into a `JSONObject`?","body":"You&#39;re not dialing with <b>files</b> in any of the snippets you&#39;ve provided. Did you mean transforming a Collection into a <code>JSONObject</code>?"},{"owner":{"account_id":20977791,"reputation":37,"user_id":15413342,"display_name":"nickgkd"},"score":0,"creation_date":1665992020,"post_id":74069835,"comment_id":130820322,"body_markdown":"@AlexanderIvanchenko How do I write the final JSONObject to the payload.json using Thymeleaf","body":"@AlexanderIvanchenko How do I write the final JSONObject to the payload.json using Thymeleaf"},{"owner":{"account_id":20977791,"reputation":37,"user_id":15413342,"display_name":"nickgkd"},"score":0,"creation_date":1665992052,"post_id":74069835,"comment_id":130820333,"body_markdown":"@accessviolation That&#39;s my requirement man","body":"@accessviolation That&#39;s my requirement man"}],"owner":{"account_id":20977791,"reputation":37,"user_id":15413342,"display_name":"nickgkd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665753432,"creation_date":1665753432,"question_id":74069835,"body_markdown":"I have a requirement wherein I need to iterate over a List of Maps i.e. List&lt;Map&lt;String, Object&gt;&gt; grab the data from the list, and map it to a JSON file. Now the challenge is that I need to loop the data dynamically in the JSON file. Well, I do know how to map a single set of data to a JSON file using Thymeleaf but I&#39;m not sure how to dynamically loop a JSON file using Thymeleaf.\r\nThe following thing is what I&#39;m aware of -\r\n\r\nI have a java class with a method that has the following code that will map the data from a HashMap to the JSON file.\r\n\r\n    public JSONObject response(){\r\n       Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n       Context context = new Context();\r\n       String responsePayload = null;\r\n       JSONObject jsonObject = null;\r\n       data.put(&quot;name&quot;, &quot;Wayne Rooney&quot;)\r\n       data.put(&quot;profession&quot;, &quot;Footballer&quot;)\r\n       context.setVariable(&quot;data&quot;, data);\r\n       responsePayload = templateEngine.process(&quot;resource/payload&quot;, context);\r\n       jsonObject = new JSONObject(responsePayload);\r\n    }\r\n\r\n\r\nThis is how the payload.json file looks\r\n\r\n    {\r\n        &quot;name&quot;: &quot;[(${data[&#39;name&#39;]})]&quot;,\r\n        &quot;profession&quot;: &quot;[(${data[&#39;profession&#39;]})]&quot;\r\n    }\r\n\r\n\r\nSo, my code works smoothly when only a single instance of HashMap data is mapped to the JSON file, but my next requirement is how do I loop a List of Maps i.e. List&lt;Map&lt;String, Object&gt;&gt; and map the data in my json file?\r\n\r\nFor e.g. Consider now I&#39;ve a List&lt;Map&lt;String, Object&gt;&gt; instead of Map&lt;String, Object&gt;\r\n\r\n   \r\n\r\n    public JSONObject response(){\r\n    List&lt;Map&lt;String, Object&gt;&gt; listOfMap = new ArrayList&lt;&gt;();\r\n    Map&lt;String, Object&gt; data1 = new HashMap&lt;&gt;();\r\n    Map&lt;String, Object&gt; data2 = new HashMap&lt;&gt;();\r\n    Map&lt;String, Object&gt; data3 = new HashMap&lt;&gt;();\r\n    Context context = new Context();\r\n    String responsePayload = null;\r\n    JSONObject jsonObject = null;\r\n    data1.put(&quot;name&quot;, &quot;Wayne Rooney&quot;)\r\n    data1.put(&quot;profession&quot;, &quot;Footballer&quot;)\r\n    data2.put(&quot;name&quot;, &quot;Cristiano Ronaldo&quot;)\r\n    data2.put(&quot;profession&quot;, &quot;Footballer&quot;)\r\n    data3.put(&quot;name&quot;, &quot;Sir Alex Ferguson&quot;)\r\n    data3.put(&quot;profession&quot;, &quot;Manager&quot;)\r\n    listOfMap.add(data1);\r\n    listOfMap.add(data2);\r\n    listOfMap.add(data3);\r\n    context.setVariable(&quot;data&quot;, listOfMap);\r\n    responsePayload = templateEngine.process(&quot;resource/payload&quot;, context);\r\n    jsonObject = new JSONObject(responsePayload);\r\n    return jsonObject;\r\n    }\r\n\r\nSo now how do I map this list of data to a JSON file? What changes do I need to make in the JSON file?\r\n\r\nI appreciate it if someone helps here.\r\nThank you!","title":"How to dynamically loop a JSON file using Thymeleaf in Spring boot","body":"<p>I have a requirement wherein I need to iterate over a List of Maps i.e. List&lt;Map&lt;String, Object&gt;&gt; grab the data from the list, and map it to a JSON file. Now the challenge is that I need to loop the data dynamically in the JSON file. Well, I do know how to map a single set of data to a JSON file using Thymeleaf but I'm not sure how to dynamically loop a JSON file using Thymeleaf.\nThe following thing is what I'm aware of -</p>\n<p>I have a java class with a method that has the following code that will map the data from a HashMap to the JSON file.</p>\n<pre><code>public JSONObject response(){\n   Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n   Context context = new Context();\n   String responsePayload = null;\n   JSONObject jsonObject = null;\n   data.put(&quot;name&quot;, &quot;Wayne Rooney&quot;)\n   data.put(&quot;profession&quot;, &quot;Footballer&quot;)\n   context.setVariable(&quot;data&quot;, data);\n   responsePayload = templateEngine.process(&quot;resource/payload&quot;, context);\n   jsonObject = new JSONObject(responsePayload);\n}\n</code></pre>\n<p>This is how the payload.json file looks</p>\n<pre><code>{\n    &quot;name&quot;: &quot;[(${data['name']})]&quot;,\n    &quot;profession&quot;: &quot;[(${data['profession']})]&quot;\n}\n</code></pre>\n<p>So, my code works smoothly when only a single instance of HashMap data is mapped to the JSON file, but my next requirement is how do I loop a List of Maps i.e. List&lt;Map&lt;String, Object&gt;&gt; and map the data in my json file?</p>\n<p>For e.g. Consider now I've a List&lt;Map&lt;String, Object&gt;&gt; instead of Map&lt;String, Object&gt;</p>\n<pre><code>public JSONObject response(){\nList&lt;Map&lt;String, Object&gt;&gt; listOfMap = new ArrayList&lt;&gt;();\nMap&lt;String, Object&gt; data1 = new HashMap&lt;&gt;();\nMap&lt;String, Object&gt; data2 = new HashMap&lt;&gt;();\nMap&lt;String, Object&gt; data3 = new HashMap&lt;&gt;();\nContext context = new Context();\nString responsePayload = null;\nJSONObject jsonObject = null;\ndata1.put(&quot;name&quot;, &quot;Wayne Rooney&quot;)\ndata1.put(&quot;profession&quot;, &quot;Footballer&quot;)\ndata2.put(&quot;name&quot;, &quot;Cristiano Ronaldo&quot;)\ndata2.put(&quot;profession&quot;, &quot;Footballer&quot;)\ndata3.put(&quot;name&quot;, &quot;Sir Alex Ferguson&quot;)\ndata3.put(&quot;profession&quot;, &quot;Manager&quot;)\nlistOfMap.add(data1);\nlistOfMap.add(data2);\nlistOfMap.add(data3);\ncontext.setVariable(&quot;data&quot;, listOfMap);\nresponsePayload = templateEngine.process(&quot;resource/payload&quot;, context);\njsonObject = new JSONObject(responsePayload);\nreturn jsonObject;\n}\n</code></pre>\n<p>So now how do I map this list of data to a JSON file? What changes do I need to make in the JSON file?</p>\n<p>I appreciate it if someone helps here.\nThank you!</p>\n"},{"tags":["java","connection-pooling","apache-commons-dbcp"],"comments":[{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":0,"creation_date":1493880045,"post_id":10684244,"comment_id":74591934,"body_markdown":"Does using validationQuery not degrade the performance? This query runs for every connection the application gets right?","body":"Does using validationQuery not degrade the performance? This query runs for every connection the application gets right?"},{"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"score":0,"creation_date":1642118701,"post_id":10684244,"comment_id":124993738,"body_markdown":"@yaswanth It&#39;s usually only run once at startup I would imagine, unless you have some special circumstance","body":"@yaswanth It&#39;s usually only run once at startup I would imagine, unless you have some special circumstance"}],"answers":[{"comments":[{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":6,"creation_date":1367589713,"post_id":10684260,"comment_id":23440652,"body_markdown":"select 1 is also valid on postgresql","body":"select 1 is also valid on postgresql"},{"owner":{"account_id":3197479,"reputation":27833,"user_id":2700356,"accept_rate":76,"display_name":"Yuci"},"score":1,"creation_date":1483982639,"post_id":10684260,"comment_id":70312115,"body_markdown":"`select 1` also works for Microsoft SQL Server 2014 - 12.0.2000.8 (X64), Feb 20 2014 20:04:26, Standard Edition (64-bit) on Windows NT 6.1 &lt;X64&gt; (Build 7601: Service Pack 1) (Hypervisor)","body":"<code>select 1</code> also works for Microsoft SQL Server 2014 - 12.0.2000.8 (X64), Feb 20 2014 20:04:26, Standard Edition (64-bit) on Windows NT 6.1 &lt;X64&gt; (Build 7601: Service Pack 1) (Hypervisor)"},{"owner":{"account_id":48647,"reputation":1999,"user_id":144599,"accept_rate":71,"display_name":"davidemm"},"score":1,"creation_date":1514932338,"post_id":10684260,"comment_id":83111151,"body_markdown":"`select 1` for Hive and Impala","body":"<code>select 1</code> for Hive and Impala"}],"tags":[],"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"comment_count":3,"down_vote_count":0,"up_vote_count":229,"is_accepted":true,"score":229,"last_activity_date":1665753282,"creation_date":1337599300,"answer_id":10684260,"question_id":10684244,"body_markdown":"There is not only one validationQuery for all databases. On each database you have to use different validationQuery.\r\n\r\nAfter few hours of googling and testing I have collected this table:\r\n\r\nDatabase      validationQuery \tnotes\r\n\r\n - **hsqldb** - `select 1 from INFORMATION_SCHEMA.SYSTEM_USERS`\r\n - **Oracle** - `select 1 from dual`\r\n - **DB2** - `select 1 from sysibm.sysdummy1`\r\n - **mysql** - `/* ping */ select 1`\r\n - **microsoft SQL Server** - `select 1` (tested on SQL-Server 9.0, 10.5 [2008])\r\n - **postgresql** - `select 1`\r\n - **ingres** - `select 1`\r\n - **derby** - `values 1`\r\n - **H2** - `select 1`\r\n - **Firebird** - `select 1 from rdb$database`\r\n - **MariaDb** - `select 1`\r\n - **Informix** - `select 1 from systables`\r\n - **Hive** - `select 1`\r\n - **Impala** - `select 1`\r\n\r\n\r\nI wrote about it on my blog - [validation query for various databases][1].\r\n\r\nIn advance there is an example of class, which return validationQuery according to JDBC driver.\r\n\r\nOr does anybody have better solution?\r\n\r\n  [1]: http://vondrnotes.blogspot.com/2012/05/validationquery-for-different-databases.html","title":"DBCP - validationQuery for different Databases","body":"<p>There is not only one validationQuery for all databases. On each database you have to use different validationQuery.</p>\n<p>After few hours of googling and testing I have collected this table:</p>\n<p>Database      validationQuery   notes</p>\n<ul>\n<li><strong>hsqldb</strong> - <code>select 1 from INFORMATION_SCHEMA.SYSTEM_USERS</code></li>\n<li><strong>Oracle</strong> - <code>select 1 from dual</code></li>\n<li><strong>DB2</strong> - <code>select 1 from sysibm.sysdummy1</code></li>\n<li><strong>mysql</strong> - <code>/* ping */ select 1</code></li>\n<li><strong>microsoft SQL Server</strong> - <code>select 1</code> (tested on SQL-Server 9.0, 10.5 [2008])</li>\n<li><strong>postgresql</strong> - <code>select 1</code></li>\n<li><strong>ingres</strong> - <code>select 1</code></li>\n<li><strong>derby</strong> - <code>values 1</code></li>\n<li><strong>H2</strong> - <code>select 1</code></li>\n<li><strong>Firebird</strong> - <code>select 1 from rdb$database</code></li>\n<li><strong>MariaDb</strong> - <code>select 1</code></li>\n<li><strong>Informix</strong> - <code>select 1 from systables</code></li>\n<li><strong>Hive</strong> - <code>select 1</code></li>\n<li><strong>Impala</strong> - <code>select 1</code></li>\n</ul>\n<p>I wrote about it on my blog - <a href=\"http://vondrnotes.blogspot.com/2012/05/validationquery-for-different-databases.html\" rel=\"noreferrer\">validation query for various databases</a>.</p>\n<p>In advance there is an example of class, which return validationQuery according to JDBC driver.</p>\n<p>Or does anybody have better solution?</p>\n"},{"tags":[],"owner":{"account_id":26282,"reputation":1253,"user_id":68237,"display_name":"yossis"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1453296405,"creation_date":1388049047,"answer_id":20782108,"question_id":10684244,"body_markdown":"For MySQL with the Connector/J driver, there&#39;s a lightweight validation query that just sends a ping to the server and returns a dummy result set.\r\nThe validation query can be (or should start with) exactly the following string:\r\n\r\n    /* ping */\r\n\r\nFor more infor refer to the [Validating Connections][1] in the MySQL driver manual \r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html","title":"DBCP - validationQuery for different Databases","body":"<p>For MySQL with the Connector/J driver, there's a lightweight validation query that just sends a ping to the server and returns a dummy result set.\nThe validation query can be (or should start with) exactly the following string:</p>\n\n<pre><code>/* ping */\n</code></pre>\n\n<p>For more infor refer to the <a href=\"https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html\" rel=\"noreferrer\">Validating Connections</a> in the MySQL driver manual </p>\n"},{"comments":[{"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"score":1,"creation_date":1615362655,"post_id":31082853,"comment_id":117664251,"body_markdown":"Thanks - I have just added it to list","body":"Thanks - I have just added it to list"}],"tags":[],"owner":{"account_id":293375,"reputation":882,"user_id":596634,"accept_rate":17,"display_name":"Deepan Prabhu Babu"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1435356419,"creation_date":1435356419,"answer_id":31082853,"question_id":10684244,"body_markdown":"For Informix, The validation query is,\r\nselect 1 from systables\r\n","title":"DBCP - validationQuery for different Databases","body":"<p>For Informix, The validation query is,\nselect 1 from systables</p>\n"},{"comments":[{"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"score":0,"creation_date":1615362668,"post_id":66527633,"comment_id":117664254,"body_markdown":"Thanks - I have just added it to list","body":"Thanks - I have just added it to list"}],"tags":[],"owner":{"account_id":3117618,"reputation":492,"user_id":2638053,"accept_rate":58,"display_name":"Amit P"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615197219,"creation_date":1615197219,"answer_id":66527633,"question_id":10684244,"body_markdown":"For MairaDB validation query is  &quot;select 1&quot; .","title":"DBCP - validationQuery for different Databases","body":"<p>For MairaDB validation query is  &quot;select 1&quot; .</p>\n"}],"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73766,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":10684260,"answer_count":4,"score":89,"last_activity_date":1665753282,"creation_date":1337599253,"question_id":10684244,"body_markdown":"I use DBCP pool and I want use *testOnBorrow* and *testOnReturn* to test if connection is still valid.  \r\nUnfortunately I have to set property validationQuery to make it work.\r\n\r\nQuestion: **What value should be in validationQuery?**\r\n\r\nI know, that: validationQuery must be an SQL SELECT statement, that returns at least one row. \r\n\r\nProblem is that we use various databases (DB2, Oracle, hsqldb).","title":"DBCP - validationQuery for different Databases","body":"<p>I use DBCP pool and I want use <em>testOnBorrow</em> and <em>testOnReturn</em> to test if connection is still valid.<br>\nUnfortunately I have to set property validationQuery to make it work.</p>\n\n<p>Question: <strong>What value should be in validationQuery?</strong></p>\n\n<p>I know, that: validationQuery must be an SQL SELECT statement, that returns at least one row. </p>\n\n<p>Problem is that we use various databases (DB2, Oracle, hsqldb).</p>\n"},{"tags":["java","json","postgresql","spring-boot"],"comments":[{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":1,"creation_date":1665742164,"post_id":74066698,"comment_id":130774300,"body_markdown":"What happens if you remove the square brackets from the json file?","body":"What happens if you remove the square brackets from the json file?"},{"owner":{"account_id":25260185,"reputation":21,"user_id":19091190,"display_name":"CaireMemphis"},"score":0,"creation_date":1665746448,"post_id":74066698,"comment_id":130775452,"body_markdown":"it&#39;s return this in console : `Hibernate: select case when count(*)&gt;0 then false else true end as col_0_0_ from event event0_ where desk_id=? and (event0_.start&gt;=? or event0_.stop&gt;=?) and (event0_.start&lt;=? or event0_.stop&lt;=?)` (from my method checkIfAvailable())","body":"it&#39;s return this in console : <code>Hibernate: select case when count(*)&gt;0 then false else true end as col_0_0_ from event event0_ where desk_id=? and (event0_.start&gt;=? or event0_.stop&gt;=?) and (event0_.start&lt;=? or event0_.stop&lt;=?)</code> (from my method checkIfAvailable())"},{"owner":{"account_id":25260185,"reputation":21,"user_id":19091190,"display_name":"CaireMemphis"},"score":0,"creation_date":1665749092,"post_id":74066698,"comment_id":130776281,"body_markdown":"and if i try to bypass checkIfAvailable : `2022-10-14 14:01:26.826 ERROR 18640 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\norg.postgresql.util.PSQLException: ERROR: relation &quot;hibernate_sequence&quot; does not exist\n`","body":"and if i try to bypass checkIfAvailable : <code>2022-10-14 14:01:26.826 ERROR 18640 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[&#47;].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageExcept&zwnj;&#8203;ion: could not extract ResultSet; SQL [n&#47;a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause org.postgresql.util.PSQLException: ERROR: relation &quot;hibernate_sequence&quot; does not exist </code>"}],"answers":[{"comments":[{"owner":{"account_id":25260185,"reputation":21,"user_id":19091190,"display_name":"CaireMemphis"},"score":0,"creation_date":1665751764,"post_id":74069434,"comment_id":130777140,"body_markdown":"same error code. I don’t know how I can have this error knowing that I take the same structure and the same input and output as another project where it worked perfectly.","body":"same error code. I don’t know how I can have this error knowing that I take the same structure and the same input and output as another project where it worked perfectly."},{"owner":{"account_id":17498155,"reputation":21,"user_id":12689021,"display_name":"xtreme"},"score":0,"creation_date":1665751903,"post_id":74069434,"comment_id":130777189,"body_markdown":"can you share code repository","body":"can you share code repository"},{"owner":{"account_id":25260185,"reputation":21,"user_id":19091190,"display_name":"CaireMemphis"},"score":0,"creation_date":1665752717,"post_id":74069434,"comment_id":130777533,"body_markdown":"`\n@Repository\npublic interface EventRepository  extends JpaRepository&lt;Event,Long&gt; {`\n\n`    @Query(&quot;select case when count(*) &gt; 0 then false else true end as available &quot; +\n            &quot;from Event where desk_id =:desk_id and not ((start &lt; :start and stop &lt; :start ) &quot; +\n            &quot;or(start &gt; :stop and stop &gt; :stop) )&quot;)\n\n    public Boolean checkIfAvailable(@Param(&quot;desk_id&quot;) Long desk, @Param(&quot;start&quot;) LocalDateTime start, @Param(&quot;stop&quot;)  LocalDateTime stop);\n\n\n`","body":"` @Repository public interface EventRepository  extends JpaRepository&lt;Event,Long&gt; {`  `    @Query(&quot;select case when count(*) &gt; 0 then false else true end as available &quot; +             &quot;from Event where desk_id =:desk_id and not ((start &lt; :start and stop &lt; :start ) &quot; +             &quot;or(start &gt; :stop and stop &gt; :stop) )&quot;)      public Boolean checkIfAvailable(@Param(&quot;desk_id&quot;) Long desk, @Param(&quot;start&quot;) LocalDateTime start, @Param(&quot;stop&quot;)  LocalDateTime stop);   `"},{"owner":{"account_id":17498155,"reputation":21,"user_id":12689021,"display_name":"xtreme"},"score":0,"creation_date":1665753490,"post_id":74069434,"comment_id":130777898,"body_markdown":"This is HQL version:  @Query(&quot;SELECT COUNT(t) &gt; 0 FROM Event t WHERE t.desk.id=:deskId AND NOT ((t.start &lt; :start AND t.stop &lt; :start ) OR (t.start &gt; :stop AND t.stop &gt; :stop))&quot;)\n    boolean checkIfAvailable(Long deskId, LocalDateTime start, LocalDateTime stop);","body":"This is HQL version:  @Query(&quot;SELECT COUNT(t) &gt; 0 FROM Event t WHERE t.desk.id=:deskId AND NOT ((t.start &lt; :start AND t.stop &lt; :start ) OR (t.start &gt; :stop AND t.stop &gt; :stop))&quot;)     boolean checkIfAvailable(Long deskId, LocalDateTime start, LocalDateTime stop);"},{"owner":{"account_id":17498155,"reputation":21,"user_id":12689021,"display_name":"xtreme"},"score":0,"creation_date":1665753656,"post_id":74069434,"comment_id":130777970,"body_markdown":"This is your version with native query:   @Query(value = &quot;select case when count(*) &gt; 0 then false else true end as available from Event where desk_id =:desk_id and not ((start &lt; :start and stop &lt; :start ) or (start &gt; :stop and stop &gt; :stop) )&quot;, nativeQuery = true) \npublic Boolean checkIfAvailable(@Param(&quot;desk_id&quot;) Long desk, @Param(&quot;start&quot;) LocalDateTime start, @Param(&quot;stop&quot;) LocalDateTime stop);","body":"This is your version with native query:   @Query(value = &quot;select case when count(*) &gt; 0 then false else true end as available from Event where desk_id =:desk_id and not ((start &lt; :start and stop &lt; :start ) or (start &gt; :stop and stop &gt; :stop) )&quot;, nativeQuery = true)  public Boolean checkIfAvailable(@Param(&quot;desk_id&quot;) Long desk, @Param(&quot;start&quot;) LocalDateTime start, @Param(&quot;stop&quot;) LocalDateTime stop);"}],"tags":[],"owner":{"account_id":17498155,"reputation":21,"user_id":12689021,"display_name":"xtreme"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665752885,"creation_date":1665751390,"answer_id":74069434,"question_id":74066698,"body_markdown":"Try this JSON as request body:\r\n\r\n    {\r\n       &quot;name&quot;:&quot;Michellllllllllll&quot;,\r\n       &quot;start&quot;:&quot;2021-01-01T00:01:00&quot;,\r\n       &quot;stop&quot;:&quot;2021-03-06T00:01:00&quot;,\r\n       &quot;desk&quot;:{\r\n          &quot;name&quot;:&quot;B-1&quot;,\r\n          &quot;id&quot;:9\r\n       }\r\n    }\r\n\r\nand It is not recommended to use entities as DTO (Data Transfer Object) between client and server.\r\n\r\nYou can consume new event details by `EventDto(String name, Date start, Date stop, Long deskId)` and then map it to EventEntity","title":"JSON parse error: Cannot deserialize value of type &quot;&quot; from Array value","body":"<p>Try this JSON as request body:</p>\n<pre><code>{\n   &quot;name&quot;:&quot;Michellllllllllll&quot;,\n   &quot;start&quot;:&quot;2021-01-01T00:01:00&quot;,\n   &quot;stop&quot;:&quot;2021-03-06T00:01:00&quot;,\n   &quot;desk&quot;:{\n      &quot;name&quot;:&quot;B-1&quot;,\n      &quot;id&quot;:9\n   }\n}\n</code></pre>\n<p>and It is not recommended to use entities as DTO (Data Transfer Object) between client and server.</p>\n<p>You can consume new event details by <code>EventDto(String name, Date start, Date stop, Long deskId)</code> and then map it to EventEntity</p>\n"}],"owner":{"account_id":25260185,"reputation":21,"user_id":19091190,"display_name":"CaireMemphis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4385,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1665753006,"creation_date":1665737405,"question_id":74066698,"body_markdown":"I have an object\r\n `Event(Long id,String name, LocalDateTime start, LocalDateTime stop, Desk desk(Long id, String name)`\r\nAnd i want to save at the database with a Create method :\r\n\r\n    @PostMapping(&quot;/flexoffice/events/create&quot;)\r\n    @ResponseStatus(HttpStatus.ACCEPTED)\r\n    public Event create(@RequestBody Event newEvent){\r\n        // It checks if the event is available, if the office is not taken during the time interval. If it is not, it throws an exception.\r\n        if (eventRepository.checkIfAvailable(newEvent.getDesk().getId(), newEvent.getStart(),newEvent.getStop()) == true) {\r\n\r\n            throw new ResponseStatusException(HttpStatus.CONFLICT,&quot;cr&#233;neau en conflit avec un autre&quot;);\r\n        }\r\n        return this.eventRepository.save(newEvent);\r\n\r\n    }\r\n\r\n When i try to execute the postmapping on Postman with a RequestBody in Json format :\r\n\r\n    [{\r\n    &quot;name&quot;: &quot;Michellllllllllll&quot;,\r\n    &quot;start&quot;: &quot;2021-01-01T00:01:00&quot;,\r\n    &quot;stop&quot;: &quot;2021-03-06T00:01:00&quot;,\r\n    &quot;desk&quot;: {\r\n      &quot;name&quot;: &quot;B-1&quot;,\r\n      &quot;id&quot;: 9\r\n    }}]\r\n  \r\n\r\nIt return :\r\n\r\n     Hibernate: select desk0_.Id as id1_1_0_, desk0_.board_id as board_id3_1_0_, desk0_.name as name2_1_0_, board1_.id as id1_0_1_, board1_.name as name2_0_1_ from desk desk0_ left outer join board board1_ on desk0_.board_id=board1_.id where desk0_.Id=?\r\n    2022-10-14 10:37:04.814 \r\n     WARN 19272 --- [nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `org.flexoffice.application.entity.Event` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `org.flexoffice.application.entity.Event` from Array value (token `JsonToken.START_ARRAY`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]\r\n\r\nI already try to use an empty class, catch all request body in string and format then, etc. and nothing change. help me please !","title":"JSON parse error: Cannot deserialize value of type &quot;&quot; from Array value","body":"<p>I have an object\n<code>Event(Long id,String name, LocalDateTime start, LocalDateTime stop, Desk desk(Long id, String name)</code>\nAnd i want to save at the database with a Create method :</p>\n<pre><code>@PostMapping(&quot;/flexoffice/events/create&quot;)\n@ResponseStatus(HttpStatus.ACCEPTED)\npublic Event create(@RequestBody Event newEvent){\n    // It checks if the event is available, if the office is not taken during the time interval. If it is not, it throws an exception.\n    if (eventRepository.checkIfAvailable(newEvent.getDesk().getId(), newEvent.getStart(),newEvent.getStop()) == true) {\n\n        throw new ResponseStatusException(HttpStatus.CONFLICT,&quot;créneau en conflit avec un autre&quot;);\n    }\n    return this.eventRepository.save(newEvent);\n\n}\n</code></pre>\n<p>When i try to execute the postmapping on Postman with a RequestBody in Json format :</p>\n<pre><code>[{\n&quot;name&quot;: &quot;Michellllllllllll&quot;,\n&quot;start&quot;: &quot;2021-01-01T00:01:00&quot;,\n&quot;stop&quot;: &quot;2021-03-06T00:01:00&quot;,\n&quot;desk&quot;: {\n  &quot;name&quot;: &quot;B-1&quot;,\n  &quot;id&quot;: 9\n}}]\n</code></pre>\n<p>It return :</p>\n<pre><code> Hibernate: select desk0_.Id as id1_1_0_, desk0_.board_id as board_id3_1_0_, desk0_.name as name2_1_0_, board1_.id as id1_0_1_, board1_.name as name2_0_1_ from desk desk0_ left outer join board board1_ on desk0_.board_id=board1_.id where desk0_.Id=?\n2022-10-14 10:37:04.814 \n WARN 19272 --- [nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `org.flexoffice.application.entity.Event` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `org.flexoffice.application.entity.Event` from Array value (token `JsonToken.START_ARRAY`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]\n</code></pre>\n<p>I already try to use an empty class, catch all request body in string and format then, etc. and nothing change. help me please !</p>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665752906,"creation_date":1665655418,"answer_id":74053909,"question_id":74052006,"body_markdown":"Well, adding an interface helps in this case:\r\n\r\n    @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.INTERFACES)\r\n    @Bean\r\n    public IStateService stateService()\r\n    {\r\n        return new StateService();\r\n    }\r\n\r\nI also had to add new interface `IStateService`, which I actually don&#39;t need. However, it still doesn&#39;t answer the question WHY, and doesn&#39;t bring any understanding either.","title":"Spring Batch StepScope and Proxies. Again","body":"<p>Well, adding an interface helps in this case:</p>\n<pre><code>@Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.INTERFACES)\n@Bean\npublic IStateService stateService()\n{\n    return new StateService();\n}\n</code></pre>\n<p>I also had to add new interface <code>IStateService</code>, which I actually don't need. However, it still doesn't answer the question WHY, and doesn't bring any understanding either.</p>\n"},{"comments":[{"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"score":0,"creation_date":1665752793,"post_id":74064455,"comment_id":130777577,"body_markdown":"It&#39;s not only about changing proxyMode, but about actual addition of an interface, I don&#39;t need there. Only changing `proxyMode` to `INTERFACES` doesn&#39;t change anything. I tried to play with all other modes — but still no result.","body":"It&#39;s not only about changing proxyMode, but about actual addition of an interface, I don&#39;t need there. Only changing <code>proxyMode</code> to <code>INTERFACES</code> doesn&#39;t change anything. I tried to play with all other modes — but still no result."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1665819431,"post_id":74064455,"comment_id":130791533,"body_markdown":"You don&#39;t need an interface. For classes, Spring will use CGlib to create proxies as mentioned in my answer. You should return the most specific type in your bean definition and it should work as expected, as documented here: https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#scoping-item-streams.","body":"You don&#39;t need an interface. For classes, Spring will use CGlib to create proxies as mentioned in my answer. You should return the most specific type in your bean definition and it should work as expected, as documented here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#scoping-item-streams\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/docs/current/reference/html/&hellip;</a>."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665723282,"creation_date":1665723282,"answer_id":74064455,"question_id":74052006,"body_markdown":"&gt; What am I misunderstanding in concept of @StepScope?\r\n\r\nThe step scope is designed for beans that should be lazily instantiated at runtime when the step is executed. By default, for interface based beans, Spring will create JDK dynamic proxies, and for classes it will use CGLib.\r\n\r\nIn the code you shared, you used `proxyMode = ScopedProxyMode.NO`, so you have explicitly told Spring to not create a proxy for that bean, hence your error. And that&#39;s why when you change it to `proxyMode = ScopedProxyMode.INTERFACES` it works.\r\n\r\n&gt; How can I store some state for particular step execution?\r\n\r\nThe execution context is designed for this very use case (among other use cases). So you can store that state in the `ExecutionContext` of the step and retrieve afterwards in the same job or when restarting a failed job.\r\n","title":"Spring Batch StepScope and Proxies. Again","body":"<blockquote>\n<p>What am I misunderstanding in concept of @StepScope?</p>\n</blockquote>\n<p>The step scope is designed for beans that should be lazily instantiated at runtime when the step is executed. By default, for interface based beans, Spring will create JDK dynamic proxies, and for classes it will use CGLib.</p>\n<p>In the code you shared, you used <code>proxyMode = ScopedProxyMode.NO</code>, so you have explicitly told Spring to not create a proxy for that bean, hence your error. And that's why when you change it to <code>proxyMode = ScopedProxyMode.INTERFACES</code> it works.</p>\n<blockquote>\n<p>How can I store some state for particular step execution?</p>\n</blockquote>\n<p>The execution context is designed for this very use case (among other use cases). So you can store that state in the <code>ExecutionContext</code> of the step and retrieve afterwards in the same job or when restarting a failed job.</p>\n"}],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665752906,"creation_date":1665646341,"question_id":74052006,"body_markdown":"I&#39;m trying to save a step-related state, that would be accessible from processor. For this purpose I made a class and a bean for it. My configuration file looks like this:\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @EnableScheduling\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class MyConfiguration\r\n    {\r\n        // Job, reader and writer beans\r\n    \r\n        @Bean(&quot;myStep&quot;)\r\n        Step myStep(@Qualifier(&quot;myReader&quot;) ItemReader&lt;InputEntity&gt; reader,\r\n                @Qualifier(&quot;myProcessor&quot;) ItemProcessor&lt;InputEntity, OutputEntity&gt; processor,\r\n                @Qualifier(&quot;myWriter&quot;) ItemWriter&lt;OutputEntity&gt; writer)\r\n        {\r\n            return stepBuilderFactory\r\n                    .get(&quot;myStep&quot;)\r\n                    .&lt;InputEntity, OutputEntity&gt; chunk(100)\r\n                    .reader(reader)\r\n                    .processor(processor)\r\n                    .writer(writer)\r\n                    .build();\r\n        }\r\n    \r\n        @StepScope\r\n        @Bean(&quot;myProcessor&quot;)\r\n        public MyProcessor processingStep(StateService s)\r\n        {\r\n            var processor = new MyProcessor();\r\n            processor.setStateService(s);\r\n            return processor;\r\n        }\r\n    \r\n        @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.NO)\r\n        @Bean\r\n        public StateService stateService()\r\n        {\r\n            return new StateService();\r\n        }\r\n    \r\n    }\r\n\r\nIdea behind is to create a state service for each new step execution (the class is empty at the moment and doesn&#39;t have `@Component` annotation). However, I get in trouble with Spring proxies:\r\n\r\n    org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named &#39;MyProcessor&#39; is expected to be of type &#39;very.long.package.name.steps.MyProcessor&#39; but was actually of type &#39;com.sun.proxy.$Proxy265&#39;\r\n\r\nGathering already answered questions and dozens of guides I tried following:\r\n\r\n - All possible proxy modes of `stateService` bean;\r\n - Injecting this bean directly into `MyProcessor` via `@Autowired` variable\r\n - Annotating configuration with `@EnableBatchProcessing`\r\n - Calling `stateService()` bean directly: `processor.setStateService(stateService());`\r\n - Injecting bean into step `Step` bean. In this case I have to change the method signature, so the method accepts `MyProcessor` instead of `ItemProcessor&lt;InputEntity, OutputEntity&gt;` to expose the variable\r\n\r\nNothing helped, I still get this exception. What am I misunderstanding in concept of `@StepScope`?    How can I store some state for particular step execution?\r\n\r\nI read [this][1], [this][2] and even [this][3], but neither helped me to understand it.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#step-scope\r\n  [2]: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/StepScope.html\r\n  [3]: https://www.manning.com/books/spring-batch-in-action","title":"Spring Batch StepScope and Proxies. Again","body":"<p>I'm trying to save a step-related state, that would be accessible from processor. For this purpose I made a class and a bean for it. My configuration file looks like this:</p>\n<pre><code>@Slf4j\n@Configuration\n@EnableScheduling\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class MyConfiguration\n{\n    // Job, reader and writer beans\n\n    @Bean(&quot;myStep&quot;)\n    Step myStep(@Qualifier(&quot;myReader&quot;) ItemReader&lt;InputEntity&gt; reader,\n            @Qualifier(&quot;myProcessor&quot;) ItemProcessor&lt;InputEntity, OutputEntity&gt; processor,\n            @Qualifier(&quot;myWriter&quot;) ItemWriter&lt;OutputEntity&gt; writer)\n    {\n        return stepBuilderFactory\n                .get(&quot;myStep&quot;)\n                .&lt;InputEntity, OutputEntity&gt; chunk(100)\n                .reader(reader)\n                .processor(processor)\n                .writer(writer)\n                .build();\n    }\n\n    @StepScope\n    @Bean(&quot;myProcessor&quot;)\n    public MyProcessor processingStep(StateService s)\n    {\n        var processor = new MyProcessor();\n        processor.setStateService(s);\n        return processor;\n    }\n\n    @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.NO)\n    @Bean\n    public StateService stateService()\n    {\n        return new StateService();\n    }\n\n}\n</code></pre>\n<p>Idea behind is to create a state service for each new step execution (the class is empty at the moment and doesn't have <code>@Component</code> annotation). However, I get in trouble with Spring proxies:</p>\n<pre><code>org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named 'MyProcessor' is expected to be of type 'very.long.package.name.steps.MyProcessor' but was actually of type 'com.sun.proxy.$Proxy265'\n</code></pre>\n<p>Gathering already answered questions and dozens of guides I tried following:</p>\n<ul>\n<li>All possible proxy modes of <code>stateService</code> bean;</li>\n<li>Injecting this bean directly into <code>MyProcessor</code> via <code>@Autowired</code> variable</li>\n<li>Annotating configuration with <code>@EnableBatchProcessing</code></li>\n<li>Calling <code>stateService()</code> bean directly: <code>processor.setStateService(stateService());</code></li>\n<li>Injecting bean into step <code>Step</code> bean. In this case I have to change the method signature, so the method accepts <code>MyProcessor</code> instead of <code>ItemProcessor&lt;InputEntity, OutputEntity&gt;</code> to expose the variable</li>\n</ul>\n<p>Nothing helped, I still get this exception. What am I misunderstanding in concept of <code>@StepScope</code>?    How can I store some state for particular step execution?</p>\n<p>I read <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#step-scope\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/StepScope.html\" rel=\"nofollow noreferrer\">this</a> and even <a href=\"https://www.manning.com/books/spring-batch-in-action\" rel=\"nofollow noreferrer\">this</a>, but neither helped me to understand it.</p>\n"},{"tags":["java","aop","aspectj","tapestry"],"answers":[{"comments":[{"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"score":0,"creation_date":1294148008,"post_id":4588953,"comment_id":5046403,"body_markdown":"Updated my aspect above. I added `!within(com.aspects.*) and I&#39;m still getting the same exception when I try to access a page.","body":"Updated my aspect above. I added `!within(com.aspects.*) and I&#39;m still getting the same exception when I try to access a page."},{"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"score":0,"creation_date":1294148424,"post_id":4588953,"comment_id":5046478,"body_markdown":"I have also tried excluding the package of the component library but that resulted in the same exception as above.","body":"I have also tried excluding the package of the component library but that resulted in the same exception as above."},{"owner":{"account_id":225273,"reputation":1264,"user_id":485671,"display_name":"ramnivas"},"score":0,"creation_date":1294168026,"post_id":4588953,"comment_id":5050650,"body_markdown":"I don&#39;t know much about Tapestry, but is it that the aspect is not visible to the classloader that loads Tapestry components?","body":"I don&#39;t know much about Tapestry, but is it that the aspect is not visible to the classloader that loads Tapestry components?"}],"tags":[],"owner":{"account_id":225273,"reputation":1264,"user_id":485671,"display_name":"ramnivas"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1294093482,"creation_date":1294093482,"answer_id":4588953,"question_id":4588563,"body_markdown":"You are advising the aspect&#39;s constructor due to the unrestricted `execution(*.new(..))` part of the pointcut. When the aspect is being instantiated, the advice doesn&#39;t have an instance of the aspect, hence the error. You should be able to fix this by adding `!within([package of].TraceAspect)`.","title":"NoAspectBoundException with aspectj and tapestry 5","body":"<p>You are advising the aspect's constructor due to the unrestricted <code>execution(*.new(..))</code> part of the pointcut. When the aspect is being instantiated, the advice doesn't have an instance of the aspect, hence the error. You should be able to fix this by adding <code>!within([package of].TraceAspect)</code>.</p>\n"},{"tags":[],"owner":{"account_id":252212,"reputation":549,"user_id":530100,"display_name":"Howard M. Lewis Ship"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1297432427,"creation_date":1297432427,"answer_id":4969778,"question_id":4588563,"body_markdown":"I think we are having a conflict of AOP.  AspectJ has done something to the code, and then Tapestry comes along and does something else ... including ignoring existing Class constructors on the component class and adding its own.  I&#39;m not sure how to get the two working together.","title":"NoAspectBoundException with aspectj and tapestry 5","body":"<p>I think we are having a conflict of AOP.  AspectJ has done something to the code, and then Tapestry comes along and does something else ... including ignoring existing Class constructors on the component class and adding its own.  I'm not sure how to get the two working together.</p>\n"},{"tags":[],"owner":{"account_id":5638871,"reputation":331,"user_id":4463466,"display_name":"Payam Soudachi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665752899,"creation_date":1665752899,"answer_id":74069731,"question_id":4588563,"body_markdown":"I know it is too late to answer this question. But as I understand it&#39;s better to don&#39;t use aspectj with the tapestry. If you want to use it you must not define the @Aspect class as a tapestry component. Just move the class to another path (anywhere except the pages package).","title":"NoAspectBoundException with aspectj and tapestry 5","body":"<p>I know it is too late to answer this question. But as I understand it's better to don't use aspectj with the tapestry. If you want to use it you must not define the @Aspect class as a tapestry component. Just move the class to another path (anywhere except the pages package).</p>\n"}],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4969778,"answer_count":3,"score":0,"last_activity_date":1665752899,"creation_date":1294090301,"question_id":4588563,"body_markdown":"I have a web project built with Tapestry 5.2.1. I have a simple logging aspect that I was using for tracing on this application. Everything was working fine until I started refactoring parts of the application and attempted to deploy it.\r\n\r\nWhen I deploy the application, no matter what page I attempt to go to I get the following exception:\r\n\r\n    Caused by: java.lang.RuntimeException: Exception assembling root component of page Index: Exception while initializing TraceAspect: org.aspectj.lang.NoAspectBoundException: TraceAspect\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.performAssembleRootComponent(ComponentAssemblerImpl.java:124)\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.access$000(ComponentAssemblerImpl.java:38)\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl$1.invoke(ComponentAssemblerImpl.java:82)\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl$1.invoke(ComponentAssemblerImpl.java:79)\r\n    \tat org.apache.tapestry5.ioc.internal.OperationTrackerImpl.invoke(OperationTrackerImpl.java:65)\r\n    \t... 73 more\r\n    Caused by: org.aspectj.lang.NoAspectBoundException: Exception while initializing TraceAspect: org.aspectj.lang.NoAspectBoundException: TraceAspect\r\n    \tat TraceAspect.aspectOf(TraceAspect.aj:1)\r\n    \tat com.wex.rrt.wrightweb.reportrequest.webapp.pages.Index.initializer(Index.java:3)\r\n    \tat com.wex.rrt.wrightweb.reportrequest.webapp.pages.Index.&lt;init&gt;(Index.java)\r\n    \tat $Instantiator_12d4da06f67.newInstance($Instantiator_12d4da06f67.java)\r\n    \tat org.apache.tapestry5.internal.structure.InternalComponentResourcesImpl.&lt;init&gt;(InternalComponentResourcesImpl.java:146)\r\n    \tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl.&lt;init&gt;(ComponentPageElementImpl.java:593)\r\n    \tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl.&lt;init&gt;(ComponentPageElementImpl.java:609)\r\n    \tat org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.performAssembleRootComponent(ComponentAssemblerImpl.java:93)\r\n    \t... 77 more\r\n    Caused by: org.aspectj.lang.NoAspectBoundException: TraceAspect\r\n    \tat TraceAspect.aspectOf(TraceAspect.aj:1)\r\n    \tat AbstractLoggingAspect.&lt;init&gt;(AbstractLoggingAspect.aj:7)\r\n    \tat TraceAspect.&lt;init&gt;(TraceAspect.aj:12)\r\n    \tat TraceAspect.ajc$postClinit(TraceAspect.aj:1)\r\n    \tat TraceAspect.&lt;clinit&gt;(TraceAspect.aj:1)\r\n    \t... 84 more\r\n\r\nMy aspect has remained unchanged and is this:\r\n\r\n    @Aspect\r\n    public class TraceAspect {\r\n    \r\n    \tLogger logger = Logger.getLogger(&quot;trace&quot;);\r\n    \t\r\n    \tpublic TraceAspect() {\r\n    \t\tlogger.setLevel(Level.ALL);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Will log every execution of\r\n    \t * &lt;ul&gt;\r\n    \t * &lt;li&gt;doEverything&lt;/li&gt;\r\n    \t * &lt;li&gt;doSomething&lt;/li&gt;\r\n    \t * &lt;/ul&gt;\r\n    \t * excluding any test classes.\r\n    \t */\r\n    \t@Pointcut(&quot;(execution(public void *(..)) || execution(*.new(..))) &amp;&amp; !within(*Test) !within(com.aspects.*)&quot;)\r\n    \tprotected void logging() {\r\n    \t}\r\n    \r\n    \t@Around(&quot;logging()&quot;)\r\n    \tpublic void doThing(final ProceedingJoinPoint thisJoinPoint) throws Throwable {\r\n    \t\tfinal String joinPointName = thisJoinPoint.getThis().getClass().getSimpleName() + &quot;.&quot; + thisJoinPoint.getSignature().getName() + &quot;()&quot;;\r\n    \t\tlogger.info(&quot;Entering [&quot; + joinPointName + &quot;]&quot;);\r\n    \t\tthisJoinPoint.proceed();\r\n    \t\tlogger.info(&quot;Leaving  [&quot; + joinPointName + &quot;]&quot;);\r\n    \t}\r\n    }\r\n\r\nDuring compilation everything works fine. I&#39;m using the maven plugin to compile the aspects:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;source&gt;1.6&lt;/source&gt;\r\n    \t\t&lt;target&gt;1.6&lt;/target&gt;\r\n    \t\t&lt;complianceLevel&gt;1.6&lt;/complianceLevel&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;compile&lt;/goal&gt; \r\n    \t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI&#39;ve been working at this off and on for most of the day and haven&#39;t gotten anywhere. I&#39;m not exactly understanding the [NoAspectBoundException][1]. It would seem that the compiler is not weaving the aspect completely? I&#39;m new to [AspectJ][2] but I&#39;m wondering if this is something to do with [Tapestry5][3]. Although I know that Tap5 uses AOP though. \r\n\r\nAs I said, this was all working as is just fine until I moved some things into a separate tapestry custom library that is now a dependency for my web app.\r\n\r\n\r\n  [1]: http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/NoAspectBoundException.html\r\n  [2]: http://www.eclipse.org/aspectj/\r\n  [3]: http://tapestry.apache.org","title":"NoAspectBoundException with aspectj and tapestry 5","body":"<p>I have a web project built with Tapestry 5.2.1. I have a simple logging aspect that I was using for tracing on this application. Everything was working fine until I started refactoring parts of the application and attempted to deploy it.</p>\n\n<p>When I deploy the application, no matter what page I attempt to go to I get the following exception:</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: Exception assembling root component of page Index: Exception while initializing TraceAspect: org.aspectj.lang.NoAspectBoundException: TraceAspect\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.performAssembleRootComponent(ComponentAssemblerImpl.java:124)\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.access$000(ComponentAssemblerImpl.java:38)\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl$1.invoke(ComponentAssemblerImpl.java:82)\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl$1.invoke(ComponentAssemblerImpl.java:79)\n    at org.apache.tapestry5.ioc.internal.OperationTrackerImpl.invoke(OperationTrackerImpl.java:65)\n    ... 73 more\nCaused by: org.aspectj.lang.NoAspectBoundException: Exception while initializing TraceAspect: org.aspectj.lang.NoAspectBoundException: TraceAspect\n    at TraceAspect.aspectOf(TraceAspect.aj:1)\n    at com.wex.rrt.wrightweb.reportrequest.webapp.pages.Index.initializer(Index.java:3)\n    at com.wex.rrt.wrightweb.reportrequest.webapp.pages.Index.&lt;init&gt;(Index.java)\n    at $Instantiator_12d4da06f67.newInstance($Instantiator_12d4da06f67.java)\n    at org.apache.tapestry5.internal.structure.InternalComponentResourcesImpl.&lt;init&gt;(InternalComponentResourcesImpl.java:146)\n    at org.apache.tapestry5.internal.structure.ComponentPageElementImpl.&lt;init&gt;(ComponentPageElementImpl.java:593)\n    at org.apache.tapestry5.internal.structure.ComponentPageElementImpl.&lt;init&gt;(ComponentPageElementImpl.java:609)\n    at org.apache.tapestry5.internal.pageload.ComponentAssemblerImpl.performAssembleRootComponent(ComponentAssemblerImpl.java:93)\n    ... 77 more\nCaused by: org.aspectj.lang.NoAspectBoundException: TraceAspect\n    at TraceAspect.aspectOf(TraceAspect.aj:1)\n    at AbstractLoggingAspect.&lt;init&gt;(AbstractLoggingAspect.aj:7)\n    at TraceAspect.&lt;init&gt;(TraceAspect.aj:12)\n    at TraceAspect.ajc$postClinit(TraceAspect.aj:1)\n    at TraceAspect.&lt;clinit&gt;(TraceAspect.aj:1)\n    ... 84 more\n</code></pre>\n\n<p>My aspect has remained unchanged and is this:</p>\n\n<pre><code>@Aspect\npublic class TraceAspect {\n\n    Logger logger = Logger.getLogger(\"trace\");\n\n    public TraceAspect() {\n        logger.setLevel(Level.ALL);\n    }\n\n    /**\n     * Will log every execution of\n     * &lt;ul&gt;\n     * &lt;li&gt;doEverything&lt;/li&gt;\n     * &lt;li&gt;doSomething&lt;/li&gt;\n     * &lt;/ul&gt;\n     * excluding any test classes.\n     */\n    @Pointcut(\"(execution(public void *(..)) || execution(*.new(..))) &amp;&amp; !within(*Test) !within(com.aspects.*)\")\n    protected void logging() {\n    }\n\n    @Around(\"logging()\")\n    public void doThing(final ProceedingJoinPoint thisJoinPoint) throws Throwable {\n        final String joinPointName = thisJoinPoint.getThis().getClass().getSimpleName() + \".\" + thisJoinPoint.getSignature().getName() + \"()\";\n        logger.info(\"Entering [\" + joinPointName + \"]\");\n        thisJoinPoint.proceed();\n        logger.info(\"Leaving  [\" + joinPointName + \"]\");\n    }\n}\n</code></pre>\n\n<p>During compilation everything works fine. I'm using the maven plugin to compile the aspects:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.6&lt;/source&gt;\n        &lt;target&gt;1.6&lt;/target&gt;\n        &lt;complianceLevel&gt;1.6&lt;/complianceLevel&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt; \n                &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I've been working at this off and on for most of the day and haven't gotten anywhere. I'm not exactly understanding the <a href=\"http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/NoAspectBoundException.html\" rel=\"nofollow\">NoAspectBoundException</a>. It would seem that the compiler is not weaving the aspect completely? I'm new to <a href=\"http://www.eclipse.org/aspectj/\" rel=\"nofollow\">AspectJ</a> but I'm wondering if this is something to do with <a href=\"http://tapestry.apache.org\" rel=\"nofollow\">Tapestry5</a>. Although I know that Tap5 uses AOP though. </p>\n\n<p>As I said, this was all working as is just fine until I moved some things into a separate tapestry custom library that is now a dependency for my web app.</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1665688195,"post_id":74060533,"comment_id":130763700,"body_markdown":"[Something like this](https://stackoverflow.com/a/30400217/266304) may be relevant - using `select for update ... skip locked`?","body":"<a href=\"https://stackoverflow.com/a/30400217/266304\">Something like this</a> may be relevant - using <code>select for update ... skip locked</code>?"},{"owner":{"account_id":1692034,"reputation":3206,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1665690051,"post_id":74060533,"comment_id":130764195,"body_markdown":"@AlexPoole – I just know how to spell the name of the RDBMS product correctly (&quot;Orakel&quot;, right?), so please excuse me if I am wrong here. But my understanding is that a `SELECT FOR UPDATE` without a `WHERE` clause would lock the whole table at once. If so, one thread would process all records, and the other threads will not see even one – until the lock is released and they will see them all (or is the latter scenario prevented by the `… SKIP LOCKED` clause you mentioned?).","body":"@AlexPoole – I just know how to spell the name of the RDBMS product correctly (&quot;Orakel&quot;, right?), so please excuse me if I am wrong here. But my understanding is that a <code>SELECT FOR UPDATE</code> without a <code>WHERE</code> clause would lock the whole table at once. If so, one thread would process all records, and the other threads will not see even one – until the lock is released and they will see them all (or is the latter scenario prevented by the <code>… SKIP LOCKED</code> clause you mentioned?)."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1665691781,"post_id":74060533,"comment_id":130764660,"body_markdown":"@tquadrat - if one thread locked all rows then the second would skip them all and do nothing; but I don&#39;t think that&#39;s what would happen. The table wouldn&#39;t be locked, rows would be locked as they are fetched, so each thread would lock `fetchsize` rows at a time, which could be interleaved. I believe... However, without a `where` or perhaps more importantly an `order by`, there&#39;s nothing stopping one thread processing rows the other has read and then released (when it committed/rolled back/closed its connection).","body":"@tquadrat - if one thread locked all rows then the second would skip them all and do nothing; but I don&#39;t think that&#39;s what would happen. The table wouldn&#39;t be locked, rows would be locked as they are fetched, so each thread would lock <code>fetchsize</code> rows at a time, which could be interleaved. I believe... However, without a <code>where</code> or perhaps more importantly an <code>order by</code>, there&#39;s nothing stopping one thread processing rows the other has read and then released (when it committed/rolled back/closed its connection)."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1665731298,"post_id":74060533,"comment_id":130771081,"body_markdown":"Processing millions of rows without a mechanism taking note of what has been processed is a potential open door to data corruption, ... think about software bug, hardware failure, network down, out of DB tmp space ,.. during the processing forcing you to relaunch... how to handle correctly without a recording of what has already been processed?","body":"Processing millions of rows without a mechanism taking note of what has been processed is a potential open door to data corruption, ... think about software bug, hardware failure, network down, out of DB tmp space ,.. during the processing forcing you to relaunch... how to handle correctly without a recording of what has already been processed?"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3206,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665752730,"creation_date":1665689750,"answer_id":74060938,"question_id":74060533,"body_markdown":"If I got you right, you have a SQL query like this:\r\n\r\n```SQL\r\nSELECT * FROM mytable\r\n```\r\nthat is executed in a method `doProcess()`, running in several threads.\r\n\r\nFrom all I know about RDBMS (and that is not that much), `SELECT` does not lock the records it reads. That means that all instances of `doProcess()` will get the same set of records and will process them – with the result, that each record is processed multiple times.\r\n\r\nTo get out of this, think about this structure (*THIS IS NOT JAVA CODE!*):\r\n\r\n```\r\nclass Processor implements Runnable\r\n{\r\n  private final MyRecord m_Record;\r\n  public Processor( final MyRecord record ) { m_Record = record; }\r\n  final void run() { doProcess(); }\r\n}\r\n\r\n…\r\nvar resultSet = executeQuery( &quot;SELECT * FROM myTable&quot; );\r\nwhile( resultSet.hasMoreEntries() )\r\n{\r\n    var record = resultSet.getEntry();\r\n    var processor = new Processor( record );\r\n    threadPool.execute( processor );\r\n}\r\n```\r\nTo implement this in *real* Java, have a look to `java.sql.ResultSet`, `Executors` and alike. You also need to create a `MyRecord` type that is initialised from the `ResultSet`.\r\n\r\nBasically, you have one single thread that is reading the data from the database (and does nothing more!), then it pulls another thread from a thread pool that does the processing of a single record and triggers it.","title":"Oracle and Java : How to avoid two different threads read the same rows from table contains million records","body":"<p>If I got you right, you have a SQL query like this:</p>\n<pre><code>SELECT * FROM mytable\n</code></pre>\n<p>that is executed in a method <code>doProcess()</code>, running in several threads.</p>\n<p>From all I know about RDBMS (and that is not that much), <code>SELECT</code> does not lock the records it reads. That means that all instances of <code>doProcess()</code> will get the same set of records and will process them – with the result, that each record is processed multiple times.</p>\n<p>To get out of this, think about this structure (<em>THIS IS NOT JAVA CODE!</em>):</p>\n<pre><code>class Processor implements Runnable\n{\n  private final MyRecord m_Record;\n  public Processor( final MyRecord record ) { m_Record = record; }\n  final void run() { doProcess(); }\n}\n\n…\nvar resultSet = executeQuery( &quot;SELECT * FROM myTable&quot; );\nwhile( resultSet.hasMoreEntries() )\n{\n    var record = resultSet.getEntry();\n    var processor = new Processor( record );\n    threadPool.execute( processor );\n}\n</code></pre>\n<p>To implement this in <em>real</em> Java, have a look to <code>java.sql.ResultSet</code>, <code>Executors</code> and alike. You also need to create a <code>MyRecord</code> type that is initialised from the <code>ResultSet</code>.</p>\n<p>Basically, you have one single thread that is reading the data from the database (and does nothing more!), then it pulls another thread from a thread pool that does the processing of a single record and triggers it.</p>\n"},{"tags":[],"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665690406,"creation_date":1665690406,"answer_id":74061038,"question_id":74060533,"body_markdown":"You could read the rows from one thread but pass each Row, as read from a ResultSet, to a pool of worker threads for faster processing.\r\n\r\nEach row will be processed exactly once and you can configure your pool for maximum throughput.","title":"Oracle and Java : How to avoid two different threads read the same rows from table contains million records","body":"<p>You could read the rows from one thread but pass each Row, as read from a ResultSet, to a pool of worker threads for faster processing.</p>\n<p>Each row will be processed exactly once and you can configure your pool for maximum throughput.</p>\n"}],"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1665752730,"creation_date":1665687427,"question_id":74060533,"body_markdown":"How to avoid two different java threads read the same rows from table contains million records. \r\n\r\nI have to process million records and there wont be any where clause in the query (as need to process all the available records) \r\n\r\nHow can i do it ? Not using any java framework","title":"Oracle and Java : How to avoid two different threads read the same rows from table contains million records","body":"<p>How to avoid two different java threads read the same rows from table contains million records.</p>\n<p>I have to process million records and there wont be any where clause in the query (as need to process all the available records)</p>\n<p>How can i do it ? Not using any java framework</p>\n"},{"tags":["java","nashorn"],"answers":[{"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665751790,"creation_date":1665751790,"answer_id":74069515,"question_id":72939616,"body_markdown":"Nashorn doesn&#39;t support this directly, however you can do something yourself using the [Java instrumentation API][1], and implementing a `ClassFileTransformer`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/package-summary.html","title":"Nashorn--Only one class is used to get its bytecode","body":"<p>Nashorn doesn't support this directly, however you can do something yourself using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">Java instrumentation API</a>, and implementing a <code>ClassFileTransformer</code>.</p>\n"}],"owner":{"account_id":25781669,"reputation":1,"user_id":19527195,"display_name":"BangBang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665751790,"creation_date":1657547249,"question_id":72939616,"body_markdown":"Nashorn,&quot;Java.extend function returns a type object for a subclass of the specified Java class (or implementation of the specified interface) that acts as a script-to-Java adapter for it.&quot;\r\nI passed Java.extend(xxx,{xxx: function(){}}).class get a class object,and I want to write its bytecode on a file.\r\nWhat should I do?","title":"Nashorn--Only one class is used to get its bytecode","body":"<p>Nashorn,&quot;Java.extend function returns a type object for a subclass of the specified Java class (or implementation of the specified interface) that acts as a script-to-Java adapter for it.&quot;\nI passed Java.extend(xxx,{xxx: function(){}}).class get a class object,and I want to write its bytecode on a file.\nWhat should I do?</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"score":0,"creation_date":1676973554,"post_id":74069455,"comment_id":133240228,"body_markdown":"I have the same problem. My investigations are settling on this being an Implementation Conflict where there are two &quot;capabilities&quot; at the the same version that are able to satisfy the w3c dependency. Gradle provides a cure.  I just have work out if there is an out of the box fix or if I have to craft something in DSL for the ResolutionStrategy. I am new to both. Have you tried a build scan?","body":"I have the same problem. My investigations are settling on this being an Implementation Conflict where there are two &quot;capabilities&quot; at the the same version that are able to satisfy the w3c dependency. Gradle provides a cure.  I just have work out if there is an out of the box fix or if I have to craft something in DSL for the ResolutionStrategy. I am new to both. Have you tried a build scan?"},{"owner":{"account_id":12256412,"reputation":107,"user_id":8945327,"display_name":"CT95"},"score":1,"creation_date":1677166443,"post_id":74069455,"comment_id":133287919,"body_markdown":"I solved my problem by dropping `jOpenDocument` and adopting `odfdom`. I am quite happy with my choice. Odfdom worked out of the box in my modular project by adding the dependency to the Gradle build system. I have been suggested in the jOpenDocument discussion group to include the library as source code, but I could not make it work. The time I spent to refactor the existing code to use odfdom was much less that trying to fix jOpenDocument (without success).","body":"I solved my problem by dropping <code>jOpenDocument</code> and adopting <code>odfdom</code>. I am quite happy with my choice. Odfdom worked out of the box in my modular project by adding the dependency to the Gradle build system. I have been suggested in the jOpenDocument discussion group to include the library as source code, but I could not make it work. The time I spent to refactor the existing code to use odfdom was much less that trying to fix jOpenDocument (without success)."},{"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"score":0,"creation_date":1677404323,"post_id":74069455,"comment_id":133327831,"body_markdown":"Congrats. I am getting the problem with both jOpenDocument and odfdom.  I now think it is a module problem or a byproduct of the other version upgrades that Gradle applied elsewhere in the build.","body":"Congrats. I am getting the problem with both jOpenDocument and odfdom.  I now think it is a module problem or a byproduct of the other version upgrades that Gradle applied elsewhere in the build."},{"owner":{"account_id":12256412,"reputation":107,"user_id":8945327,"display_name":"CT95"},"score":1,"creation_date":1677572654,"post_id":74069455,"comment_id":133359549,"body_markdown":"I suggest to also double check you run configurations. I work in Intellij and for some reason I do not recall my run configuration caused problems. After fixing that, odfdom worked out of the box. This is the dependency I used: `implementation &#39;org.odftoolkit:odfdom-java:0.11.0&#39;`","body":"I suggest to also double check you run configurations. I work in Intellij and for some reason I do not recall my run configuration caused problems. After fixing that, odfdom worked out of the box. This is the dependency I used: <code>implementation &#39;org.odftoolkit:odfdom-java:0.11.0&#39;</code>"},{"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"score":0,"creation_date":1678699743,"post_id":74069455,"comment_id":133577491,"body_markdown":"Odfdom is not yet modularized. There is an issue on this. My build uses a plug-in that reassembles the classpath packages into a module for use with jlink. So, I have 2 modules exporting the same w3c package. Java does not allow this &amp; now enforces this rule. I haven&#39;t yet worked out how to exercise package level control in Gradle configurations. I don&#39;t know enough to say whether a solution exists. I think I&#39;ll put this on the back burner awaiting inspiration.","body":"Odfdom is not yet modularized. There is an issue on this. My build uses a plug-in that reassembles the classpath packages into a module for use with jlink. So, I have 2 modules exporting the same w3c package. Java does not allow this &amp; now enforces this rule. I haven&#39;t yet worked out how to exercise package level control in Gradle configurations. I don&#39;t know enough to say whether a solution exists. I think I&#39;ll put this on the back burner awaiting inspiration."},{"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"score":0,"creation_date":1678700039,"post_id":74069455,"comment_id":133577588,"body_markdown":"Before I do I will try your suggestion about excluding org.w3c.dom from odftoolkit / jOpendocument. I should have done this a while ago, but I wanted to understand what this was doing. And so I dived down the rabbit hole.","body":"Before I do I will try your suggestion about excluding org.w3c.dom from odftoolkit / jOpendocument. I should have done this a while ago, but I wanted to understand what this was doing. And so I dived down the rabbit hole."}],"owner":{"account_id":12256412,"reputation":107,"user_id":8945327,"display_name":"CT95"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665751457,"creation_date":1665751457,"question_id":74069455,"body_markdown":"I have a modular project that requires `jOpenDocument` library. The problem is that `jOpenDocument` comes with `org.w3c.dom`, which conflicts with the same dependency introduced by `java.xml`, so I get the following errors:\r\n```\r\nerror: the unnamed module reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module javafx.graphicsEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module javafx.baseEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module jOpenDocument reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module javafx.controlsEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\r\nerror: module org.xerial.sqlitejdbc reads package org.w3c.dom from both java.xml and jOpenDocument\r\n```\r\nI tried to exclude the dependency from `jOpenDocument`, there is a number of useful links for that:\r\nhttps://stackoverflow.com/questions/30942825/exclude-package-from-gradle-dependency,\r\nhttps://tomgregory.com/how-to-exclude-gradle-dependencies/ and https://stackoverflow.com/questions/30237435/how-to-exclude-a-package-from-a-transitive-dependency-of-external-jar-included-i but no success. I can imagine there is a state of the art solution for that but I cannot see it. Can anyone point to some direction?\r\n\r\nHere is my build.gradle\r\n```\r\nplugins {\r\n  \tid &#39;application&#39;\r\n  \tid &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n  \tid &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.9&#39;\r\n  \tid &quot;org.beryx.jlink&quot; version &quot;2.25.0&quot;\r\n  \tid &#39;eclipse&#39;\r\n}\r\n\r\nsourceCompatibility = &quot;11&quot;\r\ntargetCompatibility = &quot;11&quot;\r\n\r\njavafx {\t\r\n    version = 14\r\n    modules = [ &#39;javafx.controls&#39;,&#39;javafx.fxml&#39;]\r\n}\r\n\r\napplication {\r\n    mainModule = &quot;Pervap3&quot; \r\n    mainClass = &quot;application.Main&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\t\r\n\timplementation &#39;org.glassfish:jakarta.json:2.0.1&#39;\r\n\t\r\n\timplementation(&#39;org.jopendocument:jOpenDocument:1.3&#39;) {\r\n        exclude group: &#39;org.w3c.dom&#39;\r\n    }\r\n    \r\n\timplementation &#39;org.xerial:sqlite-jdbc:3.39.3.0&#39;\t\r\n}\r\n```\r\nFor completeness, I am working in Eclipse 2022-06 which does not seem to integrate so well with Gradle. After some struggle I found that the `eclipse plugin` is required for a total merge of Gradle and Eclipse. Introducing that I managed to obtain the &quot;Project and External Dependencies&quot; item in the eclipse project explorer, which previously was not appearing. Now the project tree looks better, the dependencies managed by Gradle are now listed, but Eclipse still issues the &quot;Type not accessible&quot; error in my Java code and I am not sure why.\r\n\r\n\r\n","title":"How to exclude module/package dependency org.w3c.dom from jOpenDocument with Gradle","body":"<p>I have a modular project that requires <code>jOpenDocument</code> library. The problem is that <code>jOpenDocument</code> comes with <code>org.w3c.dom</code>, which conflicts with the same dependency introduced by <code>java.xml</code>, so I get the following errors:</p>\n<pre><code>error: the unnamed module reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module javafx.graphicsEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module javafx.baseEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module jOpenDocument reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module javafx.controlsEmpty reads package org.w3c.dom from both jOpenDocument and java.xml\nerror: module org.xerial.sqlitejdbc reads package org.w3c.dom from both java.xml and jOpenDocument\n</code></pre>\n<p>I tried to exclude the dependency from <code>jOpenDocument</code>, there is a number of useful links for that:\n<a href=\"https://stackoverflow.com/questions/30942825/exclude-package-from-gradle-dependency\">Exclude Package From Gradle Dependency</a>,\n<a href=\"https://tomgregory.com/how-to-exclude-gradle-dependencies/\" rel=\"nofollow noreferrer\">https://tomgregory.com/how-to-exclude-gradle-dependencies/</a> and <a href=\"https://stackoverflow.com/questions/30237435/how-to-exclude-a-package-from-a-transitive-dependency-of-external-jar-included-i\">How to exclude a package from a transitive dependency of external jar included in build.gradle?</a> but no success. I can imagine there is a state of the art solution for that but I cannot see it. Can anyone point to some direction?</p>\n<p>Here is my build.gradle</p>\n<pre><code>plugins {\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'org.javamodularity.moduleplugin' version '1.8.9'\n    id &quot;org.beryx.jlink&quot; version &quot;2.25.0&quot;\n    id 'eclipse'\n}\n\nsourceCompatibility = &quot;11&quot;\ntargetCompatibility = &quot;11&quot;\n\njavafx {    \n    version = 14\n    modules = [ 'javafx.controls','javafx.fxml']\n}\n\napplication {\n    mainModule = &quot;Pervap3&quot; \n    mainClass = &quot;application.Main&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    \n    implementation 'org.glassfish:jakarta.json:2.0.1'\n    \n    implementation('org.jopendocument:jOpenDocument:1.3') {\n        exclude group: 'org.w3c.dom'\n    }\n    \n    implementation 'org.xerial:sqlite-jdbc:3.39.3.0'    \n}\n</code></pre>\n<p>For completeness, I am working in Eclipse 2022-06 which does not seem to integrate so well with Gradle. After some struggle I found that the <code>eclipse plugin</code> is required for a total merge of Gradle and Eclipse. Introducing that I managed to obtain the &quot;Project and External Dependencies&quot; item in the eclipse project explorer, which previously was not appearing. Now the project tree looks better, the dependencies managed by Gradle are now listed, but Eclipse still issues the &quot;Type not accessible&quot; error in my Java code and I am not sure why.</p>\n"},{"tags":["java","xml","spring","spring-boot","migration"],"comments":[{"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"score":0,"creation_date":1665751711,"post_id":74069415,"comment_id":130777121,"body_markdown":"https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations","body":"<a href=\"https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations\" title=\"migrate spring app from xml to annotations\">stackoverflow.com/questions/5476125/&hellip;</a>"},{"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"score":0,"creation_date":1665751826,"post_id":74069415,"comment_id":130777160,"body_markdown":"Here is a [link](https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations) to the stack overflow answer","body":"Here is a <a href=\"https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations\">link</a> to the stack overflow answer"},{"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"score":0,"creation_date":1665752183,"post_id":74069415,"comment_id":130777288,"body_markdown":"Here is [documentation](https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations) you can follow","body":"Here is <a href=\"https://stackoverflow.com/questions/5476125/migrate-spring-app-from-xml-to-annotations\">documentation</a> you can follow"},{"owner":{"account_id":15539213,"reputation":346,"user_id":11210547,"display_name":"P&#233;ter Bar&#225;th"},"score":0,"creation_date":1665752273,"post_id":74069415,"comment_id":130777321,"body_markdown":"Thank you for your comment but I know and use this. The question is, I need taking the annotations and removing beans from xml files manually. Or, are there any forgotten technic which do this automatically?","body":"Thank you for your comment but I know and use this. The question is, I need taking the annotations and removing beans from xml files manually. Or, are there any forgotten technic which do this automatically?"},{"owner":{"account_id":15539213,"reputation":346,"user_id":11210547,"display_name":"P&#233;ter Bar&#225;th"},"score":0,"creation_date":1665752865,"post_id":74069415,"comment_id":130777613,"body_markdown":"OR if not automatically but faster way.","body":"OR if not automatically but faster way."}],"owner":{"account_id":15539213,"reputation":346,"user_id":11210547,"display_name":"P&#233;ter Bar&#225;th"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665751340,"creation_date":1665751340,"question_id":74069415,"body_markdown":"I have to migrate an xml-based Spring application to annotation-based one. I just started to migrate the beans. \r\nNot a hard task. If I see bean like that one:\r\n\r\n    &lt;bean id=&quot;first-big-service-bean&quot;\r\n              class=&quot;com.place.place.FirstBigService.java&quot;&gt;\r\n            &lt;property name=&quot;dao1&quot; ref=&quot;dao1-name&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;dao2&quot; ref=&quot;dao2-name&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;dao3&quot; ref=&quot;dao3-name&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;transformer1&quot; ref=&quot;transformer1-name&quot;&gt;&lt;/property&gt;\r\n            ...\r\n            &lt;property name=&quot;serviceX&quot; ref=&quot;serviceX-name&quot;&gt;&lt;/property&gt;\r\n     &lt;/bean&gt;\r\n\r\n 1. I just put `@Repository` annotation above the daos class, and\r\n    `@Service` annotation above services, transformers etc, etc. \r\n 2. After that, I put `@Autowired` annotation where I find these beans as a\r\n    property.  \r\n 3. After that I just remove all xml configured beans and\r\n    aliases from xml files.\r\n\r\nEasy, right?\r\n\r\nThe only problem with that is there are thousands of beans and 30-40 application context xml file. One is for the application and the others for tests.\r\n\r\nAs I see, it will be weeks...\r\n\r\nI&#39;m just wondering, are there any solution to do that automatically? If no, how can I do that on faster way?\r\n\r\nI&#39;m using IntelliJ and I use &quot;Find in Files (Ctrls+Shift+F)&quot; tool but there are a lot of cases where the beans aren&#39;t same than other. For example, the bean names are different or there is one or more additional whitespace character. So, this tool can&#39;t save time effectively. \r\n\r\nOther problem: When I search where is used the bean, I get hundreds of places. So, I have to put the `@Autowired` annotation one by one. The first problem with that, my head will explode but the bigger problem is that, if I miss one or two, it will be hard to find the remaining properties. \r\nBesides, the most of beans is prototype scoped. That means if I miss `@Autowired` annotation I will face errors when the property is injected and not at the creation of context, right? (Maybe I&#39;m wrong)\r\nWhat do you think? Can I miss this robot work? \r\n\r\n","title":"How can I migrate xml-based spring app to annotation-based automatically?","body":"<p>I have to migrate an xml-based Spring application to annotation-based one. I just started to migrate the beans.\nNot a hard task. If I see bean like that one:</p>\n<pre><code>&lt;bean id=&quot;first-big-service-bean&quot;\n          class=&quot;com.place.place.FirstBigService.java&quot;&gt;\n        &lt;property name=&quot;dao1&quot; ref=&quot;dao1-name&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;dao2&quot; ref=&quot;dao2-name&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;dao3&quot; ref=&quot;dao3-name&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;transformer1&quot; ref=&quot;transformer1-name&quot;&gt;&lt;/property&gt;\n        ...\n        &lt;property name=&quot;serviceX&quot; ref=&quot;serviceX-name&quot;&gt;&lt;/property&gt;\n &lt;/bean&gt;\n</code></pre>\n<ol>\n<li>I just put <code>@Repository</code> annotation above the daos class, and\n<code>@Service</code> annotation above services, transformers etc, etc.</li>\n<li>After that, I put <code>@Autowired</code> annotation where I find these beans as a\nproperty.</li>\n<li>After that I just remove all xml configured beans and\naliases from xml files.</li>\n</ol>\n<p>Easy, right?</p>\n<p>The only problem with that is there are thousands of beans and 30-40 application context xml file. One is for the application and the others for tests.</p>\n<p>As I see, it will be weeks...</p>\n<p>I'm just wondering, are there any solution to do that automatically? If no, how can I do that on faster way?</p>\n<p>I'm using IntelliJ and I use &quot;Find in Files (Ctrls+Shift+F)&quot; tool but there are a lot of cases where the beans aren't same than other. For example, the bean names are different or there is one or more additional whitespace character. So, this tool can't save time effectively.</p>\n<p>Other problem: When I search where is used the bean, I get hundreds of places. So, I have to put the <code>@Autowired</code> annotation one by one. The first problem with that, my head will explode but the bigger problem is that, if I miss one or two, it will be hard to find the remaining properties.\nBesides, the most of beans is prototype scoped. That means if I miss <code>@Autowired</code> annotation I will face errors when the property is injected and not at the creation of context, right? (Maybe I'm wrong)\nWhat do you think? Can I miss this robot work?</p>\n"},{"tags":["java","tomcat","nashorn"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1665493154,"post_id":74025622,"comment_id":130709340,"body_markdown":"Does this answer your question? [How to use Nashorn in Java 15 and later?](https://stackoverflow.com/questions/65265629/how-to-use-nashorn-in-java-15-and-later)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65265629/how-to-use-nashorn-in-java-15-and-later\">How to use Nashorn in Java 15 and later?</a>"}],"answers":[{"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665751217,"creation_date":1665751217,"answer_id":74069391,"question_id":74025622,"body_markdown":"You need to add ASM 7.3.1 jars as well that Nashorn depends on, at least `asm-7.3.1.jar`, `asm-commons-7.3.1.jar`, `asm-tree-7.3.1.jar`, and `asm-util-7.3.1.jar`, you can also fetch them from Maven Central.","title":"How to add the Nashorn module to Tomcat 10","body":"<p>You need to add ASM 7.3.1 jars as well that Nashorn depends on, at least <code>asm-7.3.1.jar</code>, <code>asm-commons-7.3.1.jar</code>, <code>asm-tree-7.3.1.jar</code>, and <code>asm-util-7.3.1.jar</code>, you can also fetch them from Maven Central.</p>\n"}],"owner":{"account_id":25359555,"reputation":3,"user_id":19175093,"display_name":"Simon42"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74069391,"answer_count":1,"score":0,"last_activity_date":1665751217,"creation_date":1665479203,"question_id":74025622,"body_markdown":"I want to add the Nashorn module to my Tomcat 10, but I haven&#39;t found a way how to do that. I am using OpenJDK 19. I downloaded the Nashorn jar file from here: https://search.maven.org/artifact/org.openjdk.nashorn/nashorn-core/15.4/jar. I added it to the lib directory of my Tomcat server, but it didn&#39;t work.\r\n\r\nSo maybe someone of you can help me how one can add the Nashorn module to Tomcat 10.\r\n\r\n","title":"How to add the Nashorn module to Tomcat 10","body":"<p>I want to add the Nashorn module to my Tomcat 10, but I haven't found a way how to do that. I am using OpenJDK 19. I downloaded the Nashorn jar file from here: <a href=\"https://search.maven.org/artifact/org.openjdk.nashorn/nashorn-core/15.4/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.openjdk.nashorn/nashorn-core/15.4/jar</a>. I added it to the lib directory of my Tomcat server, but it didn't work.</p>\n<p>So maybe someone of you can help me how one can add the Nashorn module to Tomcat 10.</p>\n"},{"tags":["java","mysql","jdbc","unix-socket"],"comments":[{"owner":{"account_id":34192,"reputation":3560,"user_id":96389,"accept_rate":75,"display_name":"setzamora"},"score":0,"creation_date":1285174366,"post_id":3771594,"comment_id":3992095,"body_markdown":"You might want to port MySQL C API http://dev.mysql.com/doc/refman/5.0/en/c.html to Java using Swig http://www.swig.org/. If you have the time and if it&#39;s all worth it :)","body":"You might want to port MySQL C API <a href=\"http://dev.mysql.com/doc/refman/5.0/en/c.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.0/en/c.html</a> to Java using Swig <a href=\"http://www.swig.org/\" rel=\"nofollow noreferrer\">swig.org</a>. If you have the time and if it&#39;s all worth it :)"},{"owner":{"account_id":42493,"reputation":6813,"user_id":123802,"display_name":"mdoar"},"score":1,"creation_date":1340928559,"post_id":3771594,"comment_id":19997605,"body_markdown":"I think what the original poster wanted was a MySQL JDBC connector that could use the local unix socket instead of TCP. As others pointed out, the standard JDBC connector does lots of clever stuff and unless you have confirmed that the network connection is a bottleneck you&#39;re risking premature optimization. I don&#39;t see a standard way to use sockets in the MySQL JDBC connector to do this.","body":"I think what the original poster wanted was a MySQL JDBC connector that could use the local unix socket instead of TCP. As others pointed out, the standard JDBC connector does lots of clever stuff and unless you have confirmed that the network connection is a bottleneck you&#39;re risking premature optimization. I don&#39;t see a standard way to use sockets in the MySQL JDBC connector to do this."},{"owner":{"account_id":474819,"reputation":3656,"user_id":884757,"accept_rate":83,"display_name":"ppostma1"},"score":0,"creation_date":1351896566,"post_id":3771594,"comment_id":17977796,"body_markdown":"I&#39;m thinking you&#39;re taking the same approach as I have, if you don&#39;t want the mysql server exposed to the web... use iptables and such to block the port, but local apps can still access under the firewall.","body":"I&#39;m thinking you&#39;re taking the same approach as I have, if you don&#39;t want the mysql server exposed to the web... use iptables and such to block the port, but local apps can still access under the firewall."}],"answers":[{"tags":[],"owner":{"account_id":9775,"reputation":14444,"user_id":18189,"accept_rate":80,"display_name":"MBCook"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1285174441,"creation_date":1285174441,"answer_id":3771672,"question_id":3771594,"body_markdown":"You could always take the C library and wrap it yourself. I think it supports UNIX sockets.\r\n\r\nCan I ask how you&#39;ve determined the TCP/IP overhead to be an issue? How did you narrow the problem (that I assume you&#39;re having) down to that?\r\n\r\nIs the problem just the connection overhead as opposed to the packet overhead? If establishing connections is taking too long a connection pooling library (such as the one in Apache commons) would handle that for you.","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>You could always take the C library and wrap it yourself. I think it supports UNIX sockets.</p>\n\n<p>Can I ask how you've determined the TCP/IP overhead to be an issue? How did you narrow the problem (that I assume you're having) down to that?</p>\n\n<p>Is the problem just the connection overhead as opposed to the packet overhead? If establishing connections is taking too long a connection pooling library (such as the one in Apache commons) would handle that for you.</p>\n"},{"comments":[{"owner":{"account_id":57200,"reputation":153333,"user_id":171318,"accept_rate":100,"display_name":"hek2mgl"},"score":1,"creation_date":1392644796,"post_id":3771738,"comment_id":33041185,"body_markdown":"`I would be surprised that the JDBC developers would have left a lot of TCP/IP overhead in the driver.` How should I understand this? How JDBC developers have influence on TCP/IP?","body":"<code>I would be surprised that the JDBC developers would have left a lot of TCP&#47;IP overhead in the driver.</code> How should I understand this? How JDBC developers have influence on TCP/IP?"},{"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"score":1,"creation_date":1394475044,"post_id":3771738,"comment_id":33896570,"body_markdown":"I mean that the developers of the mySQL JDBC driver would have tuned the networking code to avoid unnecessary overhead while using TCP. When you connect to a port on the same machine, then the kernel skips a lot of the overhead associated with TCP/IP. On the other hand it still is TCP/IP over a loopback network and the data has to go through the network layers. The JDBC developers of course cannot influence TCP/IP outside what&#39;s provided by the Java API. I would be surprised if this theorethical overhead would have a significant impact though, especially with a database behind it.","body":"I mean that the developers of the mySQL JDBC driver would have tuned the networking code to avoid unnecessary overhead while using TCP. When you connect to a port on the same machine, then the kernel skips a lot of the overhead associated with TCP/IP. On the other hand it still is TCP/IP over a loopback network and the data has to go through the network layers. The JDBC developers of course cannot influence TCP/IP outside what&#39;s provided by the Java API. I would be surprised if this theorethical overhead would have a significant impact though, especially with a database behind it."}],"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1285174985,"creation_date":1285174985,"answer_id":3771738,"question_id":3771594,"body_markdown":"Also the mySQL JDBC driver has been polished over a long period and has several optimization tweaks , like caching of metadata. I would be surprised that the JDBC developers would have left a lot of TCP/IP overhead in the driver.\r\n\r\nGoing over JNI to the C based implementation would probably cost more in jumping to native code than can be gained from reduced TCP/IP overhead.\r\n\r\nIf you really want to cut out the TCP/IP overhead you might consider using an embedded database like sqlite, derby or hypersonic.","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>Also the mySQL JDBC driver has been polished over a long period and has several optimization tweaks , like caching of metadata. I would be surprised that the JDBC developers would have left a lot of TCP/IP overhead in the driver.</p>\n\n<p>Going over JNI to the C based implementation would probably cost more in jumping to native code than can be gained from reduced TCP/IP overhead.</p>\n\n<p>If you really want to cut out the TCP/IP overhead you might consider using an embedded database like sqlite, derby or hypersonic.</p>\n"},{"tags":[],"owner":{"account_id":167726,"reputation":1736,"user_id":392730,"display_name":"Reboot"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1285177182,"creation_date":1285177182,"answer_id":3772063,"question_id":3771594,"body_markdown":"JDBC is only an interface specification. It does not add any TCP/IP overhead. If there is overhead it is caused by the JDBC driver. There are also JDBC drivers for in memory or file databases and don&#39;t use TCP/IP at all.\r\n\r\nThe MYSQL JDBC driver is a JDBC Type 4 driver. That means it does not use any native code to access the database. If Java has no method to access unix sockets, the driver can not use them either.[&lt;sup&gt;\\[1\\]&lt;/sup&gt;][1]\r\n\r\nIf you really want to use a unix socket maybe it is possible to use MySQL&#39;s ODBC driver which seems to supports unix sockets and then use a JDBC-ODBC bridge to access it from Java.\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.1/en/connector-j.html\r\n","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>JDBC is only an interface specification. It does not add any TCP/IP overhead. If there is overhead it is caused by the JDBC driver. There are also JDBC drivers for in memory or file databases and don't use TCP/IP at all.</p>\n\n<p>The MYSQL JDBC driver is a JDBC Type 4 driver. That means it does not use any native code to access the database. If Java has no method to access unix sockets, the driver can not use them either.<a href=\"http://dev.mysql.com/doc/refman/5.1/en/connector-j.html\" rel=\"nofollow noreferrer\"><sup>[1]</sup></a></p>\n\n<p>If you really want to use a unix socket maybe it is possible to use MySQL's ODBC driver which seems to supports unix sockets and then use a JDBC-ODBC bridge to access it from Java.</p>\n"},{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665750789,"creation_date":1305051930,"answer_id":5954614,"question_id":3771594,"body_markdown":"Just use junixsocket, https://github.com/kohlschutter/junixsocket\r\n\r\nIt&#39;s a JNI-powered library that provides access to AF_UNIX sockets using the standard Java Socket API, and also comes with a MySQL connection factory.\r\n","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>Just use junixsocket, <a href=\"https://github.com/kohlschutter/junixsocket\" rel=\"nofollow noreferrer\">https://github.com/kohlschutter/junixsocket</a></p>\n<p>It's a JNI-powered library that provides access to AF_UNIX sockets using the standard Java Socket API, and also comes with a MySQL connection factory.</p>\n"}],"owner":{"account_id":53648,"reputation":19565,"user_id":160406,"accept_rate":51,"display_name":"Ollie Glass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7925,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1665750789,"creation_date":1285173805,"question_id":3771594,"body_markdown":"Is it possible to make a Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?\r\n\r\nDoes anyone know a library (or a few libraries, perhaps) that makes this possible?","title":"Unix socket connection to MySql with Java to avoid JDBC&#39;s TCP/IP overhead?","body":"<p>Is it possible to make a Unix socket connection to MySql with Java to avoid JDBC's TCP/IP overhead?</p>\n\n<p>Does anyone know a library (or a few libraries, perhaps) that makes this possible?</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1440053399,"creation_date":1440053399,"answer_id":32111362,"question_id":32110433,"body_markdown":"Before exiting your application execute `scheduler.shutdown()` followed by `scheduler.awaitTermination(...timeout...)` ([read more](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination%28long,%20java.util.concurrent.TimeUnit%29)). Later method will do what you want: if no task is running, it will return immediately, and if task is in process, it will block until task if finished (or timeout is expired).","title":"Closing a program which uses scheduleWithFixedDelay","body":"<p>Before exiting your application execute <code>scheduler.shutdown()</code> followed by <code>scheduler.awaitTermination(...timeout...)</code> (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination%28long,%20java.util.concurrent.TimeUnit%29\" rel=\"nofollow\">read more</a>). Later method will do what you want: if no task is running, it will return immediately, and if task is in process, it will block until task if finished (or timeout is expired).</p>\n"},{"tags":[],"owner":{"account_id":4250460,"reputation":13,"user_id":3477711,"display_name":"ZeroKool"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440059724,"creation_date":1440059724,"answer_id":32113386,"question_id":32110433,"body_markdown":"Thank you very much **Aivean** for your support..  It worked perfectly :) \r\nI believe this is what you suggested. \r\n\r\n        \r\n    Thread close = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                try {\r\n                    scheduler.shutdown();\r\n                    if (!scheduler.awaitTermination(60000, TimeUnit.SECONDS)) {\r\n                        System.err.println(&quot;Threads didn&#39;t finish in 60000 seconds!&quot;);\r\n                    }\r\n                } catch (InterruptedException ex) {\r\n                }\r\n\r\n                System.out.println(&quot;Application closed..&quot;);\r\n\r\n                System.exit(0);\r\n\r\n            }\r\n        });\r\n        \r\n        close.start();","title":"Closing a program which uses scheduleWithFixedDelay","body":"<p>Thank you very much <strong>Aivean</strong> for your support..  It worked perfectly :) \nI believe this is what you suggested. </p>\n\n<pre><code>Thread close = new Thread(new Runnable() {\n        @Override\n        public void run() {\n\n            try {\n                scheduler.shutdown();\n                if (!scheduler.awaitTermination(60000, TimeUnit.SECONDS)) {\n                    System.err.println(\"Threads didn't finish in 60000 seconds!\");\n                }\n            } catch (InterruptedException ex) {\n            }\n\n            System.out.println(\"Application closed..\");\n\n            System.exit(0);\n\n        }\n    });\n\n    close.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24295610,"reputation":1,"user_id":18239878,"display_name":"Jaylen Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665750778,"creation_date":1665750657,"answer_id":74069261,"question_id":32110433,"body_markdown":"```\r\nthreadHandle.cancel(true/false);\r\n```\r\nSet to true will interrupt this task immediately, and set to false will wait for to be finished before closing it.","title":"Closing a program which uses scheduleWithFixedDelay","body":"<pre><code>threadHandle.cancel(true/false);\n</code></pre>\n<p>Set to true will interrupt this task immediately, and set to false will wait for to be finished before closing it.</p>\n"}],"owner":{"account_id":4250460,"reputation":13,"user_id":3477711,"display_name":"ZeroKool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32111362,"answer_count":3,"score":1,"last_activity_date":1665750778,"creation_date":1440049731,"question_id":32110433,"body_markdown":" I&#39;m working on a desktop application which does the same process again and again... in other words, It runs again and again all day long.\r\n\r\nI accomplish this task using `scheduleWithFixedDelay` as bellow.  \r\n\r\n     private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n\r\n    final ScheduledFuture&lt;?&gt; threadHandle = scheduler.scheduleWithFixedDelay(mainThread, 0, 5, TimeUnit.SECONDS);\r\n\r\nWhenever someone clicks the close button, I want to close the program only if the task for a particulate round is finished or if it&#39;s ideal.\r\n\r\nI done this using 2 `boolean` variables (one to check whther the user has clicked the close button and other one the check wther the process is running.)\r\nBut this method was not efficient.\r\n\r\nIs there any efficient way to get this task done, like using build in functions. \r\n\r\nThanks In Advance :)","title":"Closing a program which uses scheduleWithFixedDelay","body":"<p>I'm working on a desktop application which does the same process again and again... in other words, It runs again and again all day long.</p>\n\n<p>I accomplish this task using <code>scheduleWithFixedDelay</code> as bellow.  </p>\n\n<pre><code> private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n\nfinal ScheduledFuture&lt;?&gt; threadHandle = scheduler.scheduleWithFixedDelay(mainThread, 0, 5, TimeUnit.SECONDS);\n</code></pre>\n\n<p>Whenever someone clicks the close button, I want to close the program only if the task for a particulate round is finished or if it's ideal.</p>\n\n<p>I done this using 2 <code>boolean</code> variables (one to check whther the user has clicked the close button and other one the check wther the process is running.)\nBut this method was not efficient.</p>\n\n<p>Is there any efficient way to get this task done, like using build in functions. </p>\n\n<p>Thanks In Advance :)</p>\n"},{"tags":["java","spring","rest","http-post","resttemplate"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1665752554,"post_id":74069061,"comment_id":130777444,"body_markdown":"Can you add the error message?","body":"Can you add the error message?"}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665750743,"creation_date":1665750743,"answer_id":74069287,"question_id":74069061,"body_markdown":"try this way :\r\nHttpEntity&lt;Map&lt;?, ?&gt;&gt; entity = new HttpEntity&lt;Map&lt;?, ?&gt;&gt;(new Map&lt;null,null&gt;, headers);","title":"How can I send a POST request without any payload using restTemplate?","body":"<p>try this way :\nHttpEntity&lt;Map&gt; entity = new HttpEntity&lt;Map&gt;(new Map&lt;null,null&gt;, headers);</p>\n"}],"owner":{"account_id":18328293,"reputation":185,"user_id":13347446,"display_name":"Jithin M V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665750743,"creation_date":1665749692,"question_id":74069061,"body_markdown":"I need to trigger a POST request using rest template. But the problem is this request don&#39;t have any body. I tried invoking it from POSTMAN it was successful. Attaching the postman related screenshots below\r\n\r\n[![Request Header][1]][1]\r\n\r\n[![Request Body][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t2bSy.png\r\n  [2]: https://i.stack.imgur.com/XuEHt.png\r\n\r\n\r\nThe same API I need to trigger through rest template. But It is giving Bad request exception with the following piece of code\r\n\r\n\tHttpHeaders headers = new HttpHeaders();\r\n\theaders.set(&quot;Authorization&quot;, &quot;Bearer &quot; + &quot;&lt;token&gt;&quot;);\r\n\theaders.set(&quot;Content-Length&quot;, &quot;0&quot;);\r\n\tHttpEntity&lt;Map&lt;?, ?&gt;&gt; entity = new HttpEntity&lt;Map&lt;?, ?&gt;&gt;(null, headers);\r\n\tResponseEntity&lt;E&gt; response = null;\r\n\ttry {\r\n\t\tresponse = restTemplate.exchange(api, methodType, entity, type);\r\n\r\n\r\n&gt; nb: Instead of null. I also tried giving an empty map as body. But\r\n&gt; that too didn&#39;t work for me.\r\n\r\nCan somebody help me with this?","title":"How can I send a POST request without any payload using restTemplate?","body":"<p>I need to trigger a POST request using rest template. But the problem is this request don't have any body. I tried invoking it from POSTMAN it was successful. Attaching the postman related screenshots below</p>\n<p><a href=\"https://i.stack.imgur.com/t2bSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t2bSy.png\" alt=\"Request Header\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XuEHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XuEHt.png\" alt=\"Request Body\" /></a></p>\n<p>The same API I need to trigger through rest template. But It is giving Bad request exception with the following piece of code</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.set(&quot;Authorization&quot;, &quot;Bearer &quot; + &quot;&lt;token&gt;&quot;);\nheaders.set(&quot;Content-Length&quot;, &quot;0&quot;);\nHttpEntity&lt;Map&lt;?, ?&gt;&gt; entity = new HttpEntity&lt;Map&lt;?, ?&gt;&gt;(null, headers);\nResponseEntity&lt;E&gt; response = null;\ntry {\n    response = restTemplate.exchange(api, methodType, entity, type);\n</code></pre>\n<blockquote>\n<p>nb: Instead of null. I also tried giving an empty map as body. But\nthat too didn't work for me.</p>\n</blockquote>\n<p>Can somebody help me with this?</p>\n"},{"tags":["java","android","time","user-input"],"comments":[{"owner":{"account_id":6513889,"reputation":609,"user_id":5040323,"accept_rate":75,"display_name":"Shivanshu Verma"},"score":0,"creation_date":1665750119,"post_id":74069058,"comment_id":130776603,"body_markdown":"double time_needed = (double)((time_needed / 1000) % 60 it will give you time difference in seconds.","body":"double time_needed = (double)((time_needed / 1000) % 60 it will give you time difference in seconds."},{"owner":{"account_id":6513889,"reputation":609,"user_id":5040323,"accept_rate":75,"display_name":"Shivanshu Verma"},"score":0,"creation_date":1665750199,"post_id":74069058,"comment_id":130776627,"body_markdown":"to convert it up-to 2 decimal points \nString.format(&quot;%.2f&quot;, time_needed );","body":"to convert it up-to 2 decimal points  String.format(&quot;%.2f&quot;, time_needed );"}],"owner":{"account_id":26556496,"reputation":3,"user_id":20185022,"display_name":"Programmer1824"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665750704,"creation_date":1665749687,"question_id":74069058,"body_markdown":"I&#39;m currently coding an android app, which requires the user to input a number in response to something that is on the screen. I am trying to measure how long this takes. So I looked it up and found this [Stackoverflow post][1] about it. I immidently started coding, but soon i ran into a problem. It was not working. Here is my code for it: \r\n```\r\npublic class FirstFragment extends Fragment {\r\n    public static long time_start = System.currentTimeMillis();\r\n    public static long time_end;\r\n    public static double time_needed;\r\n    TextView showTimeNeededTextView;\r\n    public View onCreateView(\r\n\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n\r\n    ) {\r\n       \r\n\r\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\r\n        \r\n\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        \r\n        showTimeNeededTextView = fragmentFirstLayout.findViewById(R.id.time_needed_TW);\r\n       \r\n        return fragmentFirstLayout;\r\n}\r\n\r\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        public boolean onEditorAction(TextView v, int actionId, KeyEvent event){\r\n        // checks if input is null\r\n        if(editText.getText() != null){\r\n            end_timer();\r\n        }\r\n    \r\n        return true;\r\n\r\n       \r\n\r\n}\r\n        public void end_timer(){\r\n        time_end = System.currentTimeMillis();\r\n        time_needed = Double.parseDouble(String.valueOf(time_end - time_start)) ;\r\n        time_needed = (double)Math.round(time_needed*100d)/100d;\r\n        System.out.println(&quot;Time it took the user to input: &quot;+time_needed);\r\n}\r\n}\r\n\r\n```\r\n\r\n\r\nWhen running the code and trying it out for myself tho, time_needed was always rounded wrong, and didnt relate to any amount of time it took to answer. (Example: I intentionally wait 5 seconds to test the code, but it shows that it took me 1.0 seconds)\r\n\r\n[Example][2]\r\n\r\n\r\nIs there any way to fix this problem? \r\nThanks in advance\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55867763/how-to-measure-response-time-for-actions-in-android-apps\r\n  [2]: https://i.stack.imgur.com/dlBhK.png","title":"response time in android not working as intended (Java)","body":"<p>I'm currently coding an android app, which requires the user to input a number in response to something that is on the screen. I am trying to measure how long this takes. So I looked it up and found this <a href=\"https://stackoverflow.com/questions/55867763/how-to-measure-response-time-for-actions-in-android-apps\">Stackoverflow post</a> about it. I immidently started coding, but soon i ran into a problem. It was not working. Here is my code for it:</p>\n<pre><code>public class FirstFragment extends Fragment {\n    public static long time_start = System.currentTimeMillis();\n    public static long time_end;\n    public static double time_needed;\n    TextView showTimeNeededTextView;\n    public View onCreateView(\n\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n\n    ) {\n       \n\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\n        \n\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        \n        showTimeNeededTextView = fragmentFirstLayout.findViewById(R.id.time_needed_TW);\n       \n        return fragmentFirstLayout;\n}\n\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        public boolean onEditorAction(TextView v, int actionId, KeyEvent event){\n        // checks if input is null\n        if(editText.getText() != null){\n            end_timer();\n        }\n    \n        return true;\n\n       \n\n}\n        public void end_timer(){\n        time_end = System.currentTimeMillis();\n        time_needed = Double.parseDouble(String.valueOf(time_end - time_start)) ;\n        time_needed = (double)Math.round(time_needed*100d)/100d;\n        System.out.println(&quot;Time it took the user to input: &quot;+time_needed);\n}\n}\n\n</code></pre>\n<p>When running the code and trying it out for myself tho, time_needed was always rounded wrong, and didnt relate to any amount of time it took to answer. (Example: I intentionally wait 5 seconds to test the code, but it shows that it took me 1.0 seconds)</p>\n<p><a href=\"https://i.stack.imgur.com/dlBhK.png\" rel=\"nofollow noreferrer\">Example</a></p>\n<p>Is there any way to fix this problem?\nThanks in advance</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1665750285,"post_id":74069095,"comment_id":130776650,"body_markdown":"What did you try to make it a part of jar? Did you copy it into resources before launching maven? Alternative approach would be resource filtering.","body":"What did you try to make it a part of jar? Did you copy it into resources before launching maven? Alternative approach would be resource filtering."},{"owner":{"account_id":23378060,"reputation":41,"user_id":17446471,"display_name":"rahul"},"score":0,"creation_date":1667556913,"post_id":74069095,"comment_id":131199245,"body_markdown":"Achieved this by using maven resource filtering. Passed build details as parameters using maven goal in jenkins job which updates the build.properties file in target folder. Then created an endpoint to read that file and return build info in json as output.","body":"Achieved this by using maven resource filtering. Passed build details as parameters using maven goal in jenkins job which updates the build.properties file in target folder. Then created an endpoint to read that file and return build info in json as output."}],"owner":{"account_id":23378060,"reputation":41,"user_id":17446471,"display_name":"rahul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665749964,"creation_date":1665749854,"question_id":74069095,"body_markdown":"I want to add a simple text file from Jenkins build pipeline which contains below details \r\n\r\n    {\r\n        &quot;app name&quot;: &quot;service_1&quot;,\r\n        &quot;branch name&quot;: &quot;git branch name&quot;,\r\n        &quot;build date&quot;: &quot;date&quot;,\r\n        &quot;git revision&quot;: &quot;xyz&quot;,\r\n    }\r\n\r\nI am able to generate this file from jenkins with all details but its not the part of the jar so is there any way we can make it part of the generated .JAR file.\r\nSo that jenkins generated artefact will have a single .JAR file including version.txt.\r\nI will be creating an endpoint to read this version.txt file to check which version and branch is currently deployed on the server.","title":"Add version.txt file from jenkins in JAR using maven project","body":"<p>I want to add a simple text file from Jenkins build pipeline which contains below details</p>\n<pre><code>{\n    &quot;app name&quot;: &quot;service_1&quot;,\n    &quot;branch name&quot;: &quot;git branch name&quot;,\n    &quot;build date&quot;: &quot;date&quot;,\n    &quot;git revision&quot;: &quot;xyz&quot;,\n}\n</code></pre>\n<p>I am able to generate this file from jenkins with all details but its not the part of the jar so is there any way we can make it part of the generated .JAR file.\nSo that jenkins generated artefact will have a single .JAR file including version.txt.\nI will be creating an endpoint to read this version.txt file to check which version and branch is currently deployed on the server.</p>\n"},{"tags":["java","reflections","azul-zulu"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1664329106,"post_id":73874987,"comment_id":130444691,"body_markdown":"It says `WARNING`, not `ERROR`, and everything in the logs suggests your application is starting correctly. This is something to be aware of for future JVM updates but will not break tomorrow.","body":"It says <code>WARNING</code>, not <code>ERROR</code>, and everything in the logs suggests your application is starting correctly. This is something to be aware of for future JVM updates but will not break tomorrow."},{"owner":{"account_id":4672576,"reputation":11,"user_id":15238891,"display_name":"boo lean - Go FAT"},"score":0,"creation_date":1681573442,"post_id":73874987,"comment_id":134079894,"body_markdown":"I agree that it&#39;s just a warning. The program works and runs fine. However, it IS a stock-trading platform (which means IRS, SEC, not to mention the bank itself could cause major issues for someone who is using that software without using it legally) that is proprietary software. Proprietary software cannot be used &quot;legally&quot; with Open Source versions of JAVA. The licensing of the two conflict. I&#39;m not getting the SEC and/or IRS breathing down my neck for moving money with &quot;technically&quot; illegal use of software.","body":"I agree that it&#39;s just a warning. The program works and runs fine. However, it IS a stock-trading platform (which means IRS, SEC, not to mention the bank itself could cause major issues for someone who is using that software without using it legally) that is proprietary software. Proprietary software cannot be used &quot;legally&quot; with Open Source versions of JAVA. The licensing of the two conflict. I&#39;m not getting the SEC and/or IRS breathing down my neck for moving money with &quot;technically&quot; illegal use of software."}],"answers":[{"tags":[],"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665749774,"creation_date":1665749774,"answer_id":74069077,"question_id":73874987,"body_markdown":"To start with, you should run `java -version` from where you are running your application. That will clarify which JDK you are actually using.\r\n\r\nAs the comment says, you are only seeing warnings about illegal reflective access.  This is a result of changes between JDK 8 and JDK 9, encapsulating the JDK&#39;s internal APIs (which obviously also affect JDK 11). See JEP 260 (https://openjdk.org/jeps/260)\r\n\r\nHave a look at this answer on StackOverflow, which goes into more detail and provides some suggestions if you really want to get rid of the messages.\r\nhttps://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access","title":"how to prevent thinkorswim&#39;s illegal reflective access to java.lang.Classloader.user_paths (2022 - Azul Zulu JDK 11)","body":"<p>To start with, you should run <code>java -version</code> from where you are running your application. That will clarify which JDK you are actually using.</p>\n<p>As the comment says, you are only seeing warnings about illegal reflective access.  This is a result of changes between JDK 8 and JDK 9, encapsulating the JDK's internal APIs (which obviously also affect JDK 11). See JEP 260 (<a href=\"https://openjdk.org/jeps/260\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/260</a>)</p>\n<p>Have a look at this answer on StackOverflow, which goes into more detail and provides some suggestions if you really want to get rid of the messages.\n<a href=\"https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access\">What is an illegal reflective access?</a></p>\n"}],"owner":{"account_id":4672576,"reputation":11,"user_id":15238891,"display_name":"boo lean - Go FAT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665749774,"creation_date":1664324149,"question_id":73874987,"body_markdown":"I see many illegal reflective access related questions. As of recent ThinkOrSwim has finally implemented that JAVA 11 (the Azul Zulu openJDK 11) be used to launch thinkorswim. It has been warning this day would come. I have &quot;updated&quot; my java version to the extent of my knowledge, but am still receiving the following errors... \r\n\r\n    jesse@jesse-G74Sx:/$ cd /home/jesse/Programs/thinkorswim/thinkorswim\r\n    jesse@jesse-G74Sx:~/Programs/thinkorswim/thinkorswim$ sudo java -jar launcher.jar\r\n    [sudo] password for jesse: \r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.devexperts.jnlp.JavaLibraryPathUpdater (file:/home/jesse/Programs/thinkorswim/thinkorswim/suit/1975.0.80/tos-suit-1975.0.80.jar) to field java.lang.ClassLoader.usr_paths\r\n    WARNING: Please consider reporting this to the maintainers of com.devexperts.jnlp.JavaLibraryPathUpdater\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    Sep 27, 2022 8:08:06 PM com.devexperts.ssl.UrlStreamHandlerFactoryInstaller install\r\n    INFO: URL stream handler factory installed\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\r\n    INFO: Creating...\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\r\n    INFO: System truststore is enabled\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager getSystemTrustManagers\r\n    INFO: Got 1 system trust manager(s)\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\r\n    INFO: External truststore is enabled\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getCertificates\r\n    INFO: Creating certificates...\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getCertificates\r\n    INFO: Created 3 certificate(s)\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getTrustManagers\r\n    INFO: Created 1 trust manager(s) for external certificates\r\n    Sep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\r\n    INFO: The custom trust manager has been created\r\n\r\n\r\n\r\nI have updated my $PATH variable to show the zulu11 bin...\r\n\r\n    jesse@jesse-G74Sx:/$ echo $PATH\r\n    /usr/lib/jvm/zulu11/bin:/home/jesse/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\n\r\nI have updated alternatives to force the &#39;java&#39; command to use the correct repo..\r\n\r\n    jesse@jesse-G74Sx:/$ sudo update-alternatives --config java\r\n    There are 2 choices for the alternative java (providing /usr/bin/java).\r\n    \r\n      Selection    Path                             Priority   Status\r\n    ------------------------------------------------------------\r\n      0            /usr/lib/jvm/zulu11/bin/java      2115801   auto mode\r\n    * 1            /usr/lib/jvm/zulu11/bin/java      2115801   manual mode\r\n      2            /usr/lib/jvm/zulu8/jre/bin/java   1806401   manual mode\r\n    \r\n    Press &lt;enter&gt; to keep the current choice[*], or type selection number: 1\r\n\r\n\r\nI then updated my etc/environment file to force $JAVA_HOME to be the corresponding repo by adding the following JAVA_HOME line below the PATH variable line...\r\n\r\n&gt; PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin&quot;\r\n&gt;\r\n&gt;JAVA_HOME=&quot;/usr/lib/jvm/zulu11/&quot;\r\n\r\ni dont seem to actually be changing the JAVA_HOME variable, \r\n\r\n    jesse@jesse-G74Sx:/$ echo $JAVA_HOME\r\n    \r\n    jesse@jesse-G74Sx:/$ \r\n\r\n\r\nhowever, my main concern is that i need to show other repo&#39;s when i run update-alternatives... currently &quot;/usr/lib/jvm/zulu11/bin/java&quot; really ought to be showing another folder from my &#39;usr/lib/jvm&#39; files ie. \r\n\r\n    jesse@jesse-G74Sx:/$ cd usr/lib/jvm\r\n    jesse@jesse-G74Sx:/usr/lib/jvm$ ls\r\n    zulu11  zulu-11-amd64  zulu11-ca-amd64  zulu8  zulu-8-amd64  zulu8-ca-amd64\r\n    jesse@jesse-G74Sx:/usr/lib/jvm$ \r\n\r\n\r\ni think if i can get alternatives to show &quot;zulu-11-amd64&quot; or &quot;zulu11-ca-amd64&quot; and could set one of those to the &#39;java&#39; command, THEN i would have the newer version... \r\n\r\nEither my paths are crossed up, or i need to try a different &quot;alternative&quot; but i havent a clue how to get more alternatives listed, nor how to sufficiently set JAVA_HOME.. \r\n\r\nps. the only official documentation on how to do this is posted on td&#39;s website [here][1]\r\n\r\n\r\n  [1]: https://tlc.thinkorswim.com/center/faq/technical#q_011111111111111114","title":"how to prevent thinkorswim&#39;s illegal reflective access to java.lang.Classloader.user_paths (2022 - Azul Zulu JDK 11)","body":"<p>I see many illegal reflective access related questions. As of recent ThinkOrSwim has finally implemented that JAVA 11 (the Azul Zulu openJDK 11) be used to launch thinkorswim. It has been warning this day would come. I have &quot;updated&quot; my java version to the extent of my knowledge, but am still receiving the following errors...</p>\n<pre><code>jesse@jesse-G74Sx:/$ cd /home/jesse/Programs/thinkorswim/thinkorswim\njesse@jesse-G74Sx:~/Programs/thinkorswim/thinkorswim$ sudo java -jar launcher.jar\n[sudo] password for jesse: \nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.devexperts.jnlp.JavaLibraryPathUpdater (file:/home/jesse/Programs/thinkorswim/thinkorswim/suit/1975.0.80/tos-suit-1975.0.80.jar) to field java.lang.ClassLoader.usr_paths\nWARNING: Please consider reporting this to the maintainers of com.devexperts.jnlp.JavaLibraryPathUpdater\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nSep 27, 2022 8:08:06 PM com.devexperts.ssl.UrlStreamHandlerFactoryInstaller install\nINFO: URL stream handler factory installed\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\nINFO: Creating...\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\nINFO: System truststore is enabled\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager getSystemTrustManagers\nINFO: Got 1 system trust manager(s)\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\nINFO: External truststore is enabled\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getCertificates\nINFO: Creating certificates...\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getCertificates\nINFO: Created 3 certificate(s)\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.ExternalTrustManagerFactory getTrustManagers\nINFO: Created 1 trust manager(s) for external certificates\nSep 27, 2022 8:08:24 PM com.devexperts.ssl.CustomTrustManager &lt;init&gt;\nINFO: The custom trust manager has been created\n</code></pre>\n<p>I have updated my $PATH variable to show the zulu11 bin...</p>\n<pre><code>jesse@jesse-G74Sx:/$ echo $PATH\n/usr/lib/jvm/zulu11/bin:/home/jesse/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\n</code></pre>\n<p>I have updated alternatives to force the 'java' command to use the correct repo..</p>\n<pre><code>jesse@jesse-G74Sx:/$ sudo update-alternatives --config java\nThere are 2 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                             Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/zulu11/bin/java      2115801   auto mode\n* 1            /usr/lib/jvm/zulu11/bin/java      2115801   manual mode\n  2            /usr/lib/jvm/zulu8/jre/bin/java   1806401   manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 1\n</code></pre>\n<p>I then updated my etc/environment file to force $JAVA_HOME to be the corresponding repo by adding the following JAVA_HOME line below the PATH variable line...</p>\n<blockquote>\n<p>PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin&quot;</p>\n<p>JAVA_HOME=&quot;/usr/lib/jvm/zulu11/&quot;</p>\n</blockquote>\n<p>i dont seem to actually be changing the JAVA_HOME variable,</p>\n<pre><code>jesse@jesse-G74Sx:/$ echo $JAVA_HOME\n\njesse@jesse-G74Sx:/$ \n</code></pre>\n<p>however, my main concern is that i need to show other repo's when i run update-alternatives... currently &quot;/usr/lib/jvm/zulu11/bin/java&quot; really ought to be showing another folder from my 'usr/lib/jvm' files ie.</p>\n<pre><code>jesse@jesse-G74Sx:/$ cd usr/lib/jvm\njesse@jesse-G74Sx:/usr/lib/jvm$ ls\nzulu11  zulu-11-amd64  zulu11-ca-amd64  zulu8  zulu-8-amd64  zulu8-ca-amd64\njesse@jesse-G74Sx:/usr/lib/jvm$ \n</code></pre>\n<p>i think if i can get alternatives to show &quot;zulu-11-amd64&quot; or &quot;zulu11-ca-amd64&quot; and could set one of those to the 'java' command, THEN i would have the newer version...</p>\n<p>Either my paths are crossed up, or i need to try a different &quot;alternative&quot; but i havent a clue how to get more alternatives listed, nor how to sufficiently set JAVA_HOME..</p>\n<p>ps. the only official documentation on how to do this is posted on td's website <a href=\"https://tlc.thinkorswim.com/center/faq/technical#q_011111111111111114\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","spring","postgresql"],"answers":[{"tags":[],"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1665749688,"creation_date":1665749688,"answer_id":74069059,"question_id":74069021,"body_markdown":"If you just created your database and doesn&#39;t have any data in it you can try\r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\n`update` will only update the database rows it won&#39;t alter the table in PostgreSql.","title":"Data type is not updating on Database","body":"<p>If you just created your database and doesn't have any data in it you can try</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p><code>update</code> will only update the database rows it won't alter the table in PostgreSql.</p>\n"}],"owner":{"account_id":26618165,"reputation":23,"user_id":20237263,"display_name":"anderson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74069059,"answer_count":1,"score":1,"last_activity_date":1665749688,"creation_date":1665749470,"question_id":74069021,"body_markdown":"In my entity class, I want to change the data type of a field but it&#39;s not updating in the database. I am using PostgreSQL. I have also tried adding this:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\nin application properties and still, it doesn&#39;t work I don&#39;t know why, please help, and thanks.\r\n\r\nWhat I have :\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id // change Integer into Long data type in the database\r\n\r\n","title":"Data type is not updating on Database","body":"<p>In my entity class, I want to change the data type of a field but it's not updating in the database. I am using PostgreSQL. I have also tried adding this:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>in application properties and still, it doesn't work I don't know why, please help, and thanks.</p>\n<p>What I have :</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id // change Integer into Long data type in the database\n</code></pre>\n"},{"tags":["java","elasticsearch","spring-data","localdatetime"],"answers":[{"comments":[{"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"score":0,"creation_date":1665751707,"post_id":74069028,"comment_id":130777119,"body_markdown":"Even though I would prefer to get rid of T in elasticsearch date: &quot;2022-10-14T14:45:46&quot;","body":"Even though I would prefer to get rid of T in elasticsearch date: &quot;2022-10-14T14:45:46&quot;"}],"tags":[],"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665749500,"creation_date":1665749500,"answer_id":74069028,"question_id":74068638,"body_markdown":"I&#39;ve just deleted the entire index and created a new one and it works properly","title":"Springdata Elasticsearch Auditing LocalDateTime conversion exception","body":"<p>I've just deleted the entire index and created a new one and it works properly</p>\n"}],"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74069028,"answer_count":1,"score":0,"last_activity_date":1665749500,"creation_date":1665747508,"question_id":74068638,"body_markdown":"I am using Springdata elasticsearch version 4.4.3. I have configured ElasticSearch Auditing and created and Abstract Entity (Document) which is extended by every each entity.\r\n\r\nI am getting an exception because of convertion from Java LocalDateTime in elasticseach database when I try to create a document. Here is the Abstract class with date field annotated with @Field:\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic abstract class AbstractGenericElasticSearchDocument implements Serializable, Persistable&lt;String&gt; {\r\n\r\n    /**\r\n     * The Constant serialVersionUID.\r\n     */\r\n    private static final long serialVersionUID = 7801717107103785290L;\r\n\r\n    @CreatedDate\r\n    @Field(name = &quot;created_dttm&quot;, type = FieldType.Date, format = DateFormat.date_hour_minute_second)\r\n    private LocalDateTime creationDate;\r\n\r\n    /**\r\n     * The data aggiornamento.\r\n     */\r\n    @LastModifiedDate\r\n    @Field(name = &quot;updated_dttm&quot;, type = FieldType.Date, format = DateFormat.date_hour_minute_second)\r\n    private LocalDateTime updateDate;\r\n    \r\n}\r\n```\r\n\r\nHere is the exception stacktrace:\r\n```\r\norg.springframework.data.elasticsearch.RestStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;]; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;]]; nested: ElasticsearchException[Elasticsearch exception [type=illegal_argument_exception, reason=For input string: &quot;2022-10-14T13:20:54&quot;]];\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:69)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:601)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:584)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:187)\r\n\tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:201)\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:188)\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:360)\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:188)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy125.save(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy125.save(Unknown Source)\r\n\tat it.eustema.leda.business.service.impl.example.ExampleServiceImpl.indexExample(ExampleServiceImpl.java:138)\r\n\tat it.eustema.leda.controller.example.ExampleController.indexExample(ExampleController.java:85)\r\n\tat it.eustema.leda.controller.example.ExampleController$$FastClassBySpringCGLIB$$d431ffff.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n\tat it.eustema.leda.controller.aspect.ControllerMethodAspect.aroundProceed(ControllerMethodAspect.java:73)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n\tat it.eustema.leda.controller.example.ExampleController$$EnhancerBySpringCGLIB$$1982cc47.indexExample(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:68)\r\n\tat org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:131)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.springframework.cloud.sleuth.instrument.web.tomcat.TraceValve.invoke(TraceValve.java:103)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:835)\r\nCaused by: org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;]\r\n\tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:178)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2484)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:2461)\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2184)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2137)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:2105)\r\n\tat org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1241)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$doIndex$0(ElasticsearchRestTemplate.java:187)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:582)\r\n\t... 112 common frames omitted\r\n\tSuppressed: org.elasticsearch.client.ResponseException: method [PUT], host [http://leda.eustema.it:9200], URI [/example/_doc/6?timeout=1m], status line [HTTP/1.1 400 Bad Request]\r\n{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;mapper_parsing_exception&quot;,&quot;reason&quot;:&quot;failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;&quot;}],&quot;type&quot;:&quot;mapper_parsing_exception&quot;,&quot;reason&quot;:&quot;failed to parse field [created_dttm] of type [long] in document with id &#39;6&#39;. Preview of field&#39;s value: &#39;2022-10-14T13:20:54&#39;&quot;,&quot;caused_by&quot;:{&quot;type&quot;:&quot;illegal_argument_exception&quot;,&quot;reason&quot;:&quot;For input string: \\&quot;2022-10-14T13:20:54\\&quot;&quot;}},&quot;status&quot;:400}\r\n\t\tat org.elasticsearch.client.RestClient.convertResponse(RestClient.java:347)\r\n\t\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:313)\r\n\t\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:288)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2699)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171)\r\n\t\t... 117 common frames omitted\r\nCaused by: org.elasticsearch.ElasticsearchException: Elasticsearch exception [type=illegal_argument_exception, reason=For input string: &quot;2022-10-14T13:20:54&quot;]\r\n\tat org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:491)\r\n\tat org.elasticsearch.ElasticsearchException.fromXContent(ElasticsearchException.java:402)\r\n\tat org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:432)\r\n\tat org.elasticsearch.ElasticsearchException.failureFromXContent(ElasticsearchException.java:598)\r\n\tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:170)\r\n\t... 120 common frames omitted\r\n\r\n```\r\n\r\nI have read something in the web and in  official documentation and everything should work...\r\n\r\nIf I do not put the field annotation I can create the entity but not read it.\r\n\r\nMay you help to solve this issue?\r\n\r\nThanks\r\n\r\n","title":"Springdata Elasticsearch Auditing LocalDateTime conversion exception","body":"<p>I am using Springdata elasticsearch version 4.4.3. I have configured ElasticSearch Auditing and created and Abstract Entity (Document) which is extended by every each entity.</p>\n<p>I am getting an exception because of convertion from Java LocalDateTime in elasticseach database when I try to create a document. Here is the Abstract class with date field annotated with @Field:</p>\n<pre><code>@Getter\n@Setter\npublic abstract class AbstractGenericElasticSearchDocument implements Serializable, Persistable&lt;String&gt; {\n\n    /**\n     * The Constant serialVersionUID.\n     */\n    private static final long serialVersionUID = 7801717107103785290L;\n\n    @CreatedDate\n    @Field(name = &quot;created_dttm&quot;, type = FieldType.Date, format = DateFormat.date_hour_minute_second)\n    private LocalDateTime creationDate;\n\n    /**\n     * The data aggiornamento.\n     */\n    @LastModifiedDate\n    @Field(name = &quot;updated_dttm&quot;, type = FieldType.Date, format = DateFormat.date_hour_minute_second)\n    private LocalDateTime updateDate;\n    \n}\n</code></pre>\n<p>Here is the exception stacktrace:</p>\n<pre><code>org.springframework.data.elasticsearch.RestStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54']; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54']]; nested: ElasticsearchException[Elasticsearch exception [type=illegal_argument_exception, reason=For input string: &quot;2022-10-14T13:20:54&quot;]];\n    at org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:69)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:601)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:584)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:187)\n    at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:201)\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:188)\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:360)\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:188)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy125.save(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy125.save(Unknown Source)\n    at it.eustema.leda.business.service.impl.example.ExampleServiceImpl.indexExample(ExampleServiceImpl.java:138)\n    at it.eustema.leda.controller.example.ExampleController.indexExample(ExampleController.java:85)\n    at it.eustema.leda.controller.example.ExampleController$$FastClassBySpringCGLIB$$d431ffff.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at it.eustema.leda.controller.aspect.ControllerMethodAspect.aroundProceed(ControllerMethodAspect.java:73)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at it.eustema.leda.controller.example.ExampleController$$EnhancerBySpringCGLIB$$1982cc47.indexExample(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:68)\n    at org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:131)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.springframework.cloud.sleuth.instrument.web.tomcat.TraceValve.invoke(TraceValve.java:103)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54']\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:178)\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2484)\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:2461)\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2184)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2137)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:2105)\n    at org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1241)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$doIndex$0(ElasticsearchRestTemplate.java:187)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:582)\n    ... 112 common frames omitted\n    Suppressed: org.elasticsearch.client.ResponseException: method [PUT], host [http://leda.eustema.it:9200], URI [/example/_doc/6?timeout=1m], status line [HTTP/1.1 400 Bad Request]\n{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;mapper_parsing_exception&quot;,&quot;reason&quot;:&quot;failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54'&quot;}],&quot;type&quot;:&quot;mapper_parsing_exception&quot;,&quot;reason&quot;:&quot;failed to parse field [created_dttm] of type [long] in document with id '6'. Preview of field's value: '2022-10-14T13:20:54'&quot;,&quot;caused_by&quot;:{&quot;type&quot;:&quot;illegal_argument_exception&quot;,&quot;reason&quot;:&quot;For input string: \\&quot;2022-10-14T13:20:54\\&quot;&quot;}},&quot;status&quot;:400}\n        at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:347)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:313)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:288)\n        at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2699)\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171)\n        ... 117 common frames omitted\nCaused by: org.elasticsearch.ElasticsearchException: Elasticsearch exception [type=illegal_argument_exception, reason=For input string: &quot;2022-10-14T13:20:54&quot;]\n    at org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:491)\n    at org.elasticsearch.ElasticsearchException.fromXContent(ElasticsearchException.java:402)\n    at org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:432)\n    at org.elasticsearch.ElasticsearchException.failureFromXContent(ElasticsearchException.java:598)\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:170)\n    ... 120 common frames omitted\n\n</code></pre>\n<p>I have read something in the web and in  official documentation and everything should work...</p>\n<p>If I do not put the field annotation I can create the entity but not read it.</p>\n<p>May you help to solve this issue?</p>\n<p>Thanks</p>\n"},{"tags":["java","css-selectors","nio","unix-socket"],"answers":[{"comments":[{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1331629562,"post_id":9663465,"comment_id":12299362,"body_markdown":"Thanks. Its a pity that XNIO does not implement Selectors, its one of the major advantages of NIO.","body":"Thanks. Its a pity that XNIO does not implement Selectors, its one of the major advantages of NIO."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1331723346,"post_id":9663465,"comment_id":12328269,"body_markdown":"Although the answer does not include support for Selectors its the best answer.","body":"Although the answer does not include support for Selectors its the best answer."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":1,"creation_date":1334004272,"post_id":9663465,"comment_id":12905373,"body_markdown":"Update: Got confirmation from the actual developer on XNIO that in fact it does not support Unix Domain Socket. The interface defines it but the implementation does not yet exist. An implementation is in the making ...","body":"Update: Got confirmation from the actual developer on XNIO that in fact it does not support Unix Domain Socket. The interface defines it but the implementation does not yet exist. An implementation is in the making ..."},{"owner":{"account_id":8977,"reputation":18862,"user_id":16404,"accept_rate":95,"display_name":"Mike Pone"},"score":0,"creation_date":1392831463,"post_id":9663465,"comment_id":33143781,"body_markdown":"So hold on....  Your answer says you confirm XNIO supports unix sockets, but there is a comment here that says it doesn&#39;t.  Only one of you is correct.  I am downvoting this answer until this gets resolved.","body":"So hold on....  Your answer says you confirm XNIO supports unix sockets, but there is a comment here that says it doesn&#39;t.  Only one of you is correct.  I am downvoting this answer until this gets resolved."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1392985408,"post_id":9663465,"comment_id":33225573,"body_markdown":"Wow, this is a pretty old thread. At that point in time the XNIO API had an interface that allowed you to choose unix sockets, however I had got a reply from one of the developers that an implementation was still not available. Maybe this has changed, its nearly 2 years now since I asked.","body":"Wow, this is a pretty old thread. At that point in time the XNIO API had an interface that allowed you to choose unix sockets, however I had got a reply from one of the developers that an implementation was still not available. Maybe this has changed, its nearly 2 years now since I asked."},{"owner":{"account_id":8977,"reputation":18862,"user_id":16404,"accept_rate":95,"display_name":"Mike Pone"},"score":0,"creation_date":1395675679,"post_id":9663465,"comment_id":34433984,"body_markdown":"I looked in the latest 3.2 beta code and it looks like the API is still there with no implementation. http://grepcode.com/file/repo1.maven.org/maven2/org.jboss.xnio/xnio-api/3.2.0.Beta3/org/xnio/XnioWorker.java?av=f","body":"I looked in the latest 3.2 beta code and it looks like the API is still there with no implementation. <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.jboss.xnio/xnio-api/3.2.0.Beta3/org/xnio/XnioWorker.java?av=f\" rel=\"nofollow noreferrer\">grepcode.com/file/repo1.maven.org/maven2/org.jboss.xnio/&hellip;</a>"}],"tags":[],"owner":{"account_id":382517,"reputation":10216,"user_id":737790,"accept_rate":60,"display_name":"Yves Martin"},"comment_count":6,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1331632123,"creation_date":1331539173,"answer_id":9663465,"question_id":8782287,"body_markdown":"I confirm [XNIO][1] supports the use of Unix domain sockets, as &quot;local sockets&quot;. In addition to release note mention, here are:\r\n\r\n - The [corresponding task XNIO-48][2] in JBoss issue tracker\r\n - [Javadoc][3]\r\n - Full source code is [available there][4]\r\n\r\nBut none of XNIO channels implement [SelectableChannel][5] so I fear you will not be able to use Selectors.\r\n\r\nI propose you post an issue to improve this situation, both in XNIO and also in [GNU ClassPath project][6] where [LocalSocket.getSocketChannel][7] returns `null`.\r\n\r\n\r\n  [1]: http://www.jboss.org/xnio\r\n  [2]: https://issues.jboss.org/browse/XNIO-48\r\n  [3]: http://docs.jboss.org/xnio/2.0/api/\r\n  [4]: http://anonsvn.jboss.org/repos/xnio/xnio-base/trunk/\r\n  [5]: http://docs.oracle.com/javase/6/docs/api/java/nio/channels/SelectableChannel.html\r\n  [6]: http://www.gnu.org/software/classpath/\r\n  [7]: http://www.docjar.org/html/api/gnu/java/net/local/LocalSocket.java.html","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>I confirm <a href=\"http://www.jboss.org/xnio\" rel=\"nofollow\">XNIO</a> supports the use of Unix domain sockets, as \"local sockets\". In addition to release note mention, here are:</p>\n\n<ul>\n<li>The <a href=\"https://issues.jboss.org/browse/XNIO-48\" rel=\"nofollow\">corresponding task XNIO-48</a> in JBoss issue tracker</li>\n<li><a href=\"http://docs.jboss.org/xnio/2.0/api/\" rel=\"nofollow\">Javadoc</a></li>\n<li>Full source code is <a href=\"http://anonsvn.jboss.org/repos/xnio/xnio-base/trunk/\" rel=\"nofollow\">available there</a></li>\n</ul>\n\n<p>But none of XNIO channels implement <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/channels/SelectableChannel.html\" rel=\"nofollow\">SelectableChannel</a> so I fear you will not be able to use Selectors.</p>\n\n<p>I propose you post an issue to improve this situation, both in XNIO and also in <a href=\"http://www.gnu.org/software/classpath/\" rel=\"nofollow\">GNU ClassPath project</a> where <a href=\"http://www.docjar.org/html/api/gnu/java/net/local/LocalSocket.java.html\" rel=\"nofollow\">LocalSocket.getSocketChannel</a> returns <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":175076,"reputation":1122,"user_id":404818,"accept_rate":92,"display_name":"taharqa"},"score":0,"creation_date":1372975707,"post_id":17385917,"comment_id":25401171,"body_markdown":"you&#39;re welcome. I manage to read and write http request from nginx proxy to unix socket domain with it.","body":"you&#39;re welcome. I manage to read and write http request from nginx proxy to unix socket domain with it."}],"tags":[],"owner":{"account_id":175076,"reputation":1122,"user_id":404818,"accept_rate":92,"display_name":"taharqa"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1536066390,"creation_date":1372551619,"answer_id":17385917,"question_id":8782287,"body_markdown":"You can use the project jnr-unixsocket,(https://github.com/jnr/jnr-unixsocket)  which is the far most advanced implementation I&#39;ve seen. It does exactely what you want : nio concepts Selectors, Channels etc \r\n\r\nLook @ https://github.com/jnr/jnr-unixsocket/tree/master/src/test/java/jnr/unixsocket/example\r\n\r\n","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>You can use the project jnr-unixsocket,(<a href=\"https://github.com/jnr/jnr-unixsocket\" rel=\"nofollow noreferrer\">https://github.com/jnr/jnr-unixsocket</a>)  which is the far most advanced implementation I've seen. It does exactely what you want : nio concepts Selectors, Channels etc </p>\n\n<p>Look @ <a href=\"https://github.com/jnr/jnr-unixsocket/tree/master/src/test/java/jnr/unixsocket/example\" rel=\"nofollow noreferrer\">https://github.com/jnr/jnr-unixsocket/tree/master/src/test/java/jnr/unixsocket/example</a></p>\n"},{"comments":[{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1633205487,"post_id":69408547,"comment_id":122699294,"body_markdown":"That&#39;s great to hear. The project I was working on has long finished, but it&#39;s good to know for any future projects.","body":"That&#39;s great to hear. The project I was working on has long finished, but it&#39;s good to know for any future projects."}],"tags":[],"owner":{"account_id":143563,"reputation":26774,"user_id":351984,"accept_rate":86,"display_name":"Paul Rubel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633360305,"creation_date":1633102626,"answer_id":69408547,"question_id":8782287,"body_markdown":"JDK 16 has built-in support for Unix Domain Sockets. Here&#39;s [an example from Oracle about using it with NIO](https://docs.oracle.com/en/java/javase/16/core/internet-protocol-and-unix-domain-sockets-nio-example.html)\r\n","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>JDK 16 has built-in support for Unix Domain Sockets. Here's <a href=\"https://docs.oracle.com/en/java/javase/16/core/internet-protocol-and-unix-domain-sockets-nio-example.html\" rel=\"nofollow noreferrer\">an example from Oracle about using it with NIO</a></p>\n"},{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665748714,"creation_date":1665748714,"answer_id":74068877,"question_id":8782287,"body_markdown":"junixsocket now has support for NIO, Selectors and all.\r\n\r\nPlease give it another try: https://github.com/kohlschutter/junixsocket\r\n","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>junixsocket now has support for NIO, Selectors and all.</p>\n<p>Please give it another try: <a href=\"https://github.com/kohlschutter/junixsocket\" rel=\"nofollow noreferrer\">https://github.com/kohlschutter/junixsocket</a></p>\n"}],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6241,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":17385917,"answer_count":4,"score":7,"last_activity_date":1665748714,"creation_date":1326064719,"question_id":8782287,"body_markdown":"Is there a way to use Unix Domain sockets with Java NIO?\r\nI want to use NIO so that I can use Selectors on it in a single thread.\r\n\r\nI had a look at [junixsocket][1] but it only seems to support normal Sockets not NIO channels that support selectors.\r\n\r\n\r\n  [1]: http://code.google.com/p/junixsocket/","title":"Using Java NIO with Unix Domain sockets in non-blocking mode with selectors","body":"<p>Is there a way to use Unix Domain sockets with Java NIO?\nI want to use NIO so that I can use Selectors on it in a single thread.</p>\n\n<p>I had a look at <a href=\"http://code.google.com/p/junixsocket/\" rel=\"noreferrer\">junixsocket</a> but it only seems to support normal Sockets not NIO channels that support selectors.</p>\n"},{"tags":["java","jvm","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665748610,"creation_date":1665748610,"answer_id":74068860,"question_id":74066683,"body_markdown":"I found a [documentation that explains it nicely](https://blog.devgenius.io/java-garbage-collection-what-is-the-young-generation-old-generation-and-permanent-generation-953462ae2598).\r\n\r\nThe documentation from Oracle (https://www.oracle.com/webfolder/technetwork/Tutorials/obe/java/gc01/index.html) basically shows the same, although I find that documentation confusing because the first two images in the section &quot;The Generational Garbage Collection Process&quot; contain a partially filled survivor space, whereas the third image assumes the process started with two empty survivor spaces.\r\n\r\nSome more documentation is at https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/generations.html and https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html\r\n\r\nPlease note that naming Eden as YG is misleading - the survivor spaces are also part of the young generation.\r\n\r\nBasically the steps are:\r\n\r\n- Eden is full. Minor GC runs on YG, survivors (from Eden and from SN) go to SE.\r\n\r\n- Survivors from Eden now have a generation count of 1, survivors from SN have their generation count incremented.\r\n\r\n- Survivors with a generation count above some threshold are not copied to SE but to the old generation.\r\n\r\n**What happens if SE is too small?**\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html explains this case:\r\n\r\n&gt; If survivor spaces are too small, copying collection overflows directly into the tenured generation.\r\n\r\nI found no documentation for the following claim, but it seems reasonable that copying into SE starts with live objects from Eden and the live objects from SN are copied last. This way if an overflow occurs chances are that the overflowing objects are from SN (i.e. already older objects that have a higher chance of being promoted anyway.)","title":"Does survivol spaces get garbage collected before moving to the old generation?","body":"<p>I found a <a href=\"https://blog.devgenius.io/java-garbage-collection-what-is-the-young-generation-old-generation-and-permanent-generation-953462ae2598\" rel=\"nofollow noreferrer\">documentation that explains it nicely</a>.</p>\n<p>The documentation from Oracle (<a href=\"https://www.oracle.com/webfolder/technetwork/Tutorials/obe/java/gc01/index.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/webfolder/technetwork/Tutorials/obe/java/gc01/index.html</a>) basically shows the same, although I find that documentation confusing because the first two images in the section &quot;The Generational Garbage Collection Process&quot; contain a partially filled survivor space, whereas the third image assumes the process started with two empty survivor spaces.</p>\n<p>Some more documentation is at <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/generations.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/generations.html</a> and <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html</a></p>\n<p>Please note that naming Eden as YG is misleading - the survivor spaces are also part of the young generation.</p>\n<p>Basically the steps are:</p>\n<ul>\n<li><p>Eden is full. Minor GC runs on YG, survivors (from Eden and from SN) go to SE.</p>\n</li>\n<li><p>Survivors from Eden now have a generation count of 1, survivors from SN have their generation count incremented.</p>\n</li>\n<li><p>Survivors with a generation count above some threshold are not copied to SE but to the old generation.</p>\n</li>\n</ul>\n<p><strong>What happens if SE is too small?</strong>\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html</a> explains this case:</p>\n<blockquote>\n<p>If survivor spaces are too small, copying collection overflows directly into the tenured generation.</p>\n</blockquote>\n<p>I found no documentation for the following claim, but it seems reasonable that copying into SE starts with live objects from Eden and the live objects from SN are copied last. This way if an overflow occurs chances are that the overflowing objects are from SN (i.e. already older objects that have a higher chance of being promoted anyway.)</p>\n"}],"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74068860,"answer_count":1,"score":0,"last_activity_date":1665748610,"creation_date":1665737311,"question_id":74066683,"body_markdown":"I understand that when the Eden is full, a minor garbage collection is done. Surviving objects go to the survivol spaces. These objects will eventually arrive to the old generation.\r\n\r\nDoes the objects in the survivol spaces get garbage collected as well, or they will just be moved to the tenure generation and be GC there later (so the survivol spaces are no more than buffers for performance reasons)?\r\n\r\nIn other words, which one of the following algorithms is correct?\r\n**NOTE:** Let&#39;s call YG to the Eden, OG the old generation, SE the survivol space that is (E)mpty at a given time, and SN the one that is (N)ot.\r\n\r\n1. YG is full. Minor GC runs on it and survivors go to SE while objects from SN go to OG.\r\n\r\n2. YG is full. Minor GC runs on it and survivors go to SN first until SN is full, and remaining YG survivors go to SE. SN, which is now full, runs its own GN and its survivors go to OG. If all YG survivors weren&#39;t enough to make SN full, all YG survivors go to SN anyway but no GC runs on SN.\r\n\r\n3. YG is full. Minor GC runs on it and SN together (regardless of whether SN is full or not). SN survivors go to OG. YG survivors go to SE.\r\n\r\n**NOTE:** I have assumed that the number of YG survivors is never big enough as to fill SE more than once. What happens if, for instance, the number of YG survivors is twice or more the size of SE?","title":"Does survivol spaces get garbage collected before moving to the old generation?","body":"<p>I understand that when the Eden is full, a minor garbage collection is done. Surviving objects go to the survivol spaces. These objects will eventually arrive to the old generation.</p>\n<p>Does the objects in the survivol spaces get garbage collected as well, or they will just be moved to the tenure generation and be GC there later (so the survivol spaces are no more than buffers for performance reasons)?</p>\n<p>In other words, which one of the following algorithms is correct?\n<strong>NOTE:</strong> Let's call YG to the Eden, OG the old generation, SE the survivol space that is (E)mpty at a given time, and SN the one that is (N)ot.</p>\n<ol>\n<li><p>YG is full. Minor GC runs on it and survivors go to SE while objects from SN go to OG.</p>\n</li>\n<li><p>YG is full. Minor GC runs on it and survivors go to SN first until SN is full, and remaining YG survivors go to SE. SN, which is now full, runs its own GN and its survivors go to OG. If all YG survivors weren't enough to make SN full, all YG survivors go to SN anyway but no GC runs on SN.</p>\n</li>\n<li><p>YG is full. Minor GC runs on it and SN together (regardless of whether SN is full or not). SN survivors go to OG. YG survivors go to SE.</p>\n</li>\n</ol>\n<p><strong>NOTE:</strong> I have assumed that the number of YG survivors is never big enough as to fill SE more than once. What happens if, for instance, the number of YG survivors is twice or more the size of SE?</p>\n"},{"tags":["java","android","in-app-update"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1665751104,"post_id":74068663,"comment_id":130776924,"body_markdown":"On which line does it give you an error?","body":"On which line does it give you an error?"},{"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"score":0,"creation_date":1665813378,"post_id":74068663,"comment_id":130790730,"body_markdown":"Not in any line. All statements executed successfully. After execution that error pops up on screen. See the attached image please.","body":"Not in any line. All statements executed successfully. After execution that error pops up on screen. See the attached image please."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1665894194,"post_id":74068663,"comment_id":130803813,"body_markdown":"Have you seen the logs? There would be something for sure. Something wont fail without giving any errors/warnings.","body":"Have you seen the logs? There would be something for sure. Something wont fail without giving any errors/warnings."},{"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"score":0,"creation_date":1668313990,"post_id":74068663,"comment_id":131373351,"body_markdown":"Thanks brother. There was a log. It was permission related issue. As I was trying to read the apk file from device external storage.","body":"Thanks brother. There was a log. It was permission related issue. As I was trying to read the apk file from device external storage."}],"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1665748263,"creation_date":1665747623,"question_id":74068663,"body_markdown":"I have an updated app in my device storage. I have to install that upper version app from my existing lower version app in a button click. (Like the way **dora tv** users update their app)\r\nI wrote this code.But it&#39;s showing - &quot;There was a problem parsing the package&quot;.\r\nThere is no error in logcat &amp; no exception. What i need to do now?\r\n[App Install error][1]\r\n\r\n```\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    private void requestPermission() {\r\n        requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_WRITE_PERMISSION);\r\n    }\r\n\r\n    private void havePermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O\r\n                &amp;&amp; !getPackageManager().canRequestPackageInstalls()) {\r\n\r\n            Intent unknownAppSourceIntent = new Intent()\r\n                    .setAction(Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES)\r\n                    .setData(Uri.parse(String.format(&quot;package:%s&quot;, getPackageName())));\r\n\r\n            startActivityForResult(unknownAppSourceIntent, Constants.APP_INSTALL_REQUEST);\r\n            //unknownAppSourceDialog.launch(unknownAppSourceIntent);\r\n        } else {\r\n            apkInstall();\r\n        }\r\n    }\r\n\r\n  private void apkInstall() {\r\n        String path = Environment.getExternalStoragePublicDirectory(\r\n                Environment.DIRECTORY_DOWNLOADS).getPath() + File.separator + &quot;test.apk&quot;;\r\n\r\n        Log.d(&quot;filePath&quot;, path);\r\n        File file = new File(path);\r\n\r\n        if (file.exists() &amp;&amp; !file.isDirectory()) {\r\n            // do something\r\n            Log.d(&quot;fileExist&quot;, file.getName());\r\n        }\r\n        Intent intent;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            Uri apkUri = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\r\n            intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\r\n            intent.setData(apkUri);\r\n            intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        } else {\r\n            Uri apkUri = Uri.fromFile(file);\r\n            intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        }\r\n        try {\r\n            startActivityForResult(intent, Constants.APP_INSTALL_REQUEST);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            BizUiUtils.showToast(this, &quot;Error in installing App, please try again&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == Constants.APP_INSTALL_REQUEST) {\r\n            apkInstall();\r\n        }\r\n    }\r\n\r\n  ```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BeKe0.jpg","title":"&quot;There was a problem parsing the package&quot; - How to solve this?","body":"<p>I have an updated app in my device storage. I have to install that upper version app from my existing lower version app in a button click. (Like the way <strong>dora tv</strong> users update their app)\nI wrote this code.But it's showing - &quot;There was a problem parsing the package&quot;.\nThere is no error in logcat &amp; no exception. What i need to do now?\n<a href=\"https://i.stack.imgur.com/BeKe0.jpg\" rel=\"nofollow noreferrer\">App Install error</a></p>\n<pre><code>    @RequiresApi(api = Build.VERSION_CODES.M)\n    private void requestPermission() {\n        requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_WRITE_PERMISSION);\n    }\n\n    private void havePermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O\n                &amp;&amp; !getPackageManager().canRequestPackageInstalls()) {\n\n            Intent unknownAppSourceIntent = new Intent()\n                    .setAction(Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES)\n                    .setData(Uri.parse(String.format(&quot;package:%s&quot;, getPackageName())));\n\n            startActivityForResult(unknownAppSourceIntent, Constants.APP_INSTALL_REQUEST);\n            //unknownAppSourceDialog.launch(unknownAppSourceIntent);\n        } else {\n            apkInstall();\n        }\n    }\n\n  private void apkInstall() {\n        String path = Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_DOWNLOADS).getPath() + File.separator + &quot;test.apk&quot;;\n\n        Log.d(&quot;filePath&quot;, path);\n        File file = new File(path);\n\n        if (file.exists() &amp;&amp; !file.isDirectory()) {\n            // do something\n            Log.d(&quot;fileExist&quot;, file.getName());\n        }\n        Intent intent;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            Uri apkUri = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\n            intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\n            intent.setData(apkUri);\n            intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        } else {\n            Uri apkUri = Uri.fromFile(file);\n            intent = new Intent(Intent.ACTION_VIEW);\n            intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        }\n        try {\n            startActivityForResult(intent, Constants.APP_INSTALL_REQUEST);\n        } catch (Exception e) {\n            e.printStackTrace();\n            BizUiUtils.showToast(this, &quot;Error in installing App, please try again&quot;);\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == Constants.APP_INSTALL_REQUEST) {\n            apkInstall();\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1629794492,"post_id":68902157,"comment_id":121774613,"body_markdown":"What you&#39;re seeing is a feature to let the reader of the document know at a glance that the table extends to the next page.","body":"What you&#39;re seeing is a feature to let the reader of the document know at a glance that the table extends to the next page."},{"owner":{"account_id":10290135,"reputation":771,"user_id":7592120,"accept_rate":100,"display_name":"Vikum Dheemantha"},"score":1,"creation_date":1629810820,"post_id":68902157,"comment_id":121781319,"body_markdown":"@GilbertLeBlanc is there any option to disable that feature.","body":"@GilbertLeBlanc is there any option to disable that feature."}],"answers":[{"comments":[{"owner":{"account_id":10290135,"reputation":771,"user_id":7592120,"accept_rate":100,"display_name":"Vikum Dheemantha"},"score":1,"creation_date":1631783479,"post_id":69035587,"comment_id":122317333,"body_markdown":"What is the difference here? I did not see any difference.","body":"What is the difference here? I did not see any difference."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1631811954,"post_id":69035587,"comment_id":122330118,"body_markdown":"Difference in code? You can use an online tool to check the difference or go line by line. Does this work on your end?","body":"Difference in code? You can use an online tool to check the difference or go line by line. Does this work on your end?"},{"owner":{"account_id":1473199,"reputation":370,"user_id":1384237,"accept_rate":69,"display_name":"RASMiranda"},"score":0,"creation_date":1665747270,"post_id":69035587,"comment_id":130775712,"body_markdown":"@AlexeySubach you must be fun at parties...\nI did use a diff tool: https://www.diffchecker.com/hJI60DT2\nAnd basically is just using different data, this is not the answer to OP question.\nI&#39;m facing a similar issue but in my case is the top border on the next page that is not drawn.","body":"@AlexeySubach you must be fun at parties... I did use a diff tool: <a href=\"https://www.diffchecker.com/hJI60DT2\" rel=\"nofollow noreferrer\">diffchecker.com/hJI60DT2</a> And basically is just using different data, this is not the answer to OP question. I&#39;m facing a similar issue but in my case is the top border on the next page that is not drawn."}],"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1630608081,"creation_date":1630608081,"answer_id":69035587,"question_id":68902157,"body_markdown":"The following code produces the desired result for me for the latest `7.1.16` version of iText:\r\n\r\n```    Document document = new Document(pdfDocument);\r\n\r\n    Table table = new Table(new float[] {0.4f, 1f, 1f}, true)\r\n            .setWidth(UnitValue.createPercentValue(100))\r\n            .setMarginBottom(0);\r\n    document.add(table);\r\n    int count = 0;\r\n    for (int i = 0; i &lt; 300; i++) {\r\n        String[] dataRow = new String[] {&quot;1\\n2\\n3\\n4\\n5\\n6\\n7\\n8\\n9\\n10&quot;, &quot;2\\n3\\nsf\\n43&quot;, &quot;3\\nr\\nsdfsd\\n43&quot;};\r\n        createDataRow(dataRow, table);\r\n        count++;\r\n        if (count % 10 == 0) {\r\n            table.flush();\r\n        }\r\n    }\r\n    table.complete();\r\n\r\n    document.close();\r\n```\r\n\r\n\r\n```\r\n    private void createDataRow(String[] a, Table table) {\r\n        for (String s : a) {\r\n            Paragraph content = new Paragraph(s)\r\n                    .setFontSize(7)\r\n                    .setFixedLeading(9)\r\n                    .setFontColor(new DeviceCmyk(0, 0, 0, 100));\r\n\r\n            Cell cell = new Cell()\r\n                    .setBorder(new SolidBorder(ColorConstants.BLACK, 0.5f))\r\n                    .setPaddingLeft(2)\r\n                    .setPaddingTop(0)\r\n                    .setPaddingBottom(0)\r\n                    .setHorizontalAlignment(HorizontalAlignment.LEFT)\r\n                    .setVerticalAlignment(VerticalAlignment.MIDDLE)\r\n                    .add(content);\r\n\r\n            table.addCell(cell);\r\n        }\r\n    }\r\n```\r\n\r\nVisual result (end of first page):\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gsvJS.png","title":"iText 7 (Java) When Large Table extend to next page it does not draw bottom border","body":"<p>The following code produces the desired result for me for the latest <code>7.1.16</code> version of iText:</p>\n<pre><code>\n    Table table = new Table(new float[] {0.4f, 1f, 1f}, true)\n            .setWidth(UnitValue.createPercentValue(100))\n            .setMarginBottom(0);\n    document.add(table);\n    int count = 0;\n    for (int i = 0; i &lt; 300; i++) {\n        String[] dataRow = new String[] {&quot;1\\n2\\n3\\n4\\n5\\n6\\n7\\n8\\n9\\n10&quot;, &quot;2\\n3\\nsf\\n43&quot;, &quot;3\\nr\\nsdfsd\\n43&quot;};\n        createDataRow(dataRow, table);\n        count++;\n        if (count % 10 == 0) {\n            table.flush();\n        }\n    }\n    table.complete();\n\n    document.close();\n</code></pre>\n<pre><code>    private void createDataRow(String[] a, Table table) {\n        for (String s : a) {\n            Paragraph content = new Paragraph(s)\n                    .setFontSize(7)\n                    .setFixedLeading(9)\n                    .setFontColor(new DeviceCmyk(0, 0, 0, 100));\n\n            Cell cell = new Cell()\n                    .setBorder(new SolidBorder(ColorConstants.BLACK, 0.5f))\n                    .setPaddingLeft(2)\n                    .setPaddingTop(0)\n                    .setPaddingBottom(0)\n                    .setHorizontalAlignment(HorizontalAlignment.LEFT)\n                    .setVerticalAlignment(VerticalAlignment.MIDDLE)\n                    .add(content);\n\n            table.addCell(cell);\n        }\n    }\n</code></pre>\n<p>Visual result (end of first page):</p>\n<p><a href=\"https://i.stack.imgur.com/gsvJS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gsvJS.png\" alt=\"result\" /></a></p>\n"}],"owner":{"account_id":10290135,"reputation":771,"user_id":7592120,"accept_rate":100,"display_name":"Vikum Dheemantha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69035587,"answer_count":1,"score":4,"last_activity_date":1665748099,"creation_date":1629782628,"question_id":68902157,"body_markdown":"In my report generation java application with iText 7, I need to get data from a large data tables which may extend to several pages. \r\n\r\nMy code segments to generate the table.\r\n\r\n```lang-java\r\n    Table table = new Table(new float[] {0.4f, 1f, 1f, 1f, 1.3f, 1f, 1.3f, 0.6f,0.6f,1.2f}, true)\r\n                .setWidth(UnitValue.createPercentValue(100))\r\n                .setMarginTop(tblTopMargin)\r\n                .setMarginBottom(0);\r\n    int count = 0;\r\n    while (!dataList.empty()) {\r\n        String[] dataRow = dataList.poll();\r\n        createDataRow(dataRow, table);\r\n        count++;\r\n        if(count % 10 == 0) {\r\n            table.flush();\r\n        }\r\n    }\r\n```\r\n\r\nimplementation of `createDataRaw` method is mentioned below,\r\n\r\n```lang-java\r\nprivate void createDataRow(String[] a, Table table) {\r\n    for (String s : a) {\r\n\r\n      Paragraph content = new Paragraph(s)\r\n        .setFontSize(7)\r\n        .setFixedLeading(9)\r\n        .setFontColor(new DeviceCmyk(0, 0, 0, 100));\r\n\r\n      Cell cell = new Cell()\r\n        .setBorder(new SolidBorder(ColorConstants.BLACK, 0.5f))\r\n        .setPaddingLeft(2)\r\n        .setPaddingTop(0)\r\n        .setPaddingBottom(0)\r\n        .setHorizontalAlignment(HorizontalAlignment.LEFT)\r\n        .setVerticalAlignment(VerticalAlignment.MIDDLE)\r\n        .add(content);\r\n\r\n      table.addCell(cell);\r\n    }\r\n  }\r\n```\r\n\r\nwith the given code table generated with all the data. But when there is a page break between tables then the bottom line of the table is not showing except for the last table bottom.\r\n\r\nscreenshots are attached here to get a more clear idea.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan someone help me to solve this issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bvsy9.png","title":"iText 7 (Java) When Large Table extend to next page it does not draw bottom border","body":"<p>In my report generation java application with iText 7, I need to get data from a large data tables which may extend to several pages.</p>\n<p>My code segments to generate the table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Table table = new Table(new float[] {0.4f, 1f, 1f, 1f, 1.3f, 1f, 1.3f, 0.6f,0.6f,1.2f}, true)\n                .setWidth(UnitValue.createPercentValue(100))\n                .setMarginTop(tblTopMargin)\n                .setMarginBottom(0);\n    int count = 0;\n    while (!dataList.empty()) {\n        String[] dataRow = dataList.poll();\n        createDataRow(dataRow, table);\n        count++;\n        if(count % 10 == 0) {\n            table.flush();\n        }\n    }\n</code></pre>\n<p>implementation of <code>createDataRaw</code> method is mentioned below,</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void createDataRow(String[] a, Table table) {\n    for (String s : a) {\n\n      Paragraph content = new Paragraph(s)\n        .setFontSize(7)\n        .setFixedLeading(9)\n        .setFontColor(new DeviceCmyk(0, 0, 0, 100));\n\n      Cell cell = new Cell()\n        .setBorder(new SolidBorder(ColorConstants.BLACK, 0.5f))\n        .setPaddingLeft(2)\n        .setPaddingTop(0)\n        .setPaddingBottom(0)\n        .setHorizontalAlignment(HorizontalAlignment.LEFT)\n        .setVerticalAlignment(VerticalAlignment.MIDDLE)\n        .add(content);\n\n      table.addCell(cell);\n    }\n  }\n</code></pre>\n<p>with the given code table generated with all the data. But when there is a page break between tables then the bottom line of the table is not showing except for the last table bottom.</p>\n<p>screenshots are attached here to get a more clear idea.</p>\n<p><a href=\"https://i.stack.imgur.com/bvsy9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bvsy9.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone help me to solve this issue?</p>\n"},{"tags":["java","windows","docker","gradle"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1489849637,"creation_date":1489849282,"answer_id":42875936,"question_id":42875510,"body_markdown":"The plugin doesn&#39;t support Windows. It assumes you are running on a Linux system, because that&#39;s what Docker Engine requires. Docker for Windows uses Hyper-V virtualization (previously it relied on VirtualBox).\r\n\r\nYou&#39;ll need to run this Gradle plugin on a Linux system. That could be a VM on your Windows machine. I prefer to skip Docker for Windows; instead I run VirtualBox with a suitable Linux guest, then follow the installation instructions for Docker Engine inside that guest. Then, alongside `docker` in that guest, you can install `gradle` and any other development tools you need.","title":"Can&#39;t build docker image via gradle on Windows 10","body":"<p>The plugin doesn't support Windows. It assumes you are running on a Linux system, because that's what Docker Engine requires. Docker for Windows uses Hyper-V virtualization (previously it relied on VirtualBox).</p>\n\n<p>You'll need to run this Gradle plugin on a Linux system. That could be a VM on your Windows machine. I prefer to skip Docker for Windows; instead I run VirtualBox with a suitable Linux guest, then follow the installation instructions for Docker Engine inside that guest. Then, alongside <code>docker</code> in that guest, you can install <code>gradle</code> and any other development tools you need.</p>\n"},{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665748053,"creation_date":1665748053,"answer_id":74068736,"question_id":42875510,"body_markdown":"You&#39;re running an old version of junixsocket that does not support Windows. You need to upgrade to a later version.\r\n\r\nTry changing your junixsocket dependencies to\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.2&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPS: You have another error in the dependency configuration for native-common: `&lt;type&gt;pom&lt;/type&gt;` should only be specified for `junixsocket-core`, which is a POM-type artifact that includes `junixsocket-common` and `junixsocket-native-common`, which are both jar-type artifacts. Therefore just remove that declaration, since `junixsocket-core` is all you should need.\r\n","title":"Can&#39;t build docker image via gradle on Windows 10","body":"<p>You're running an old version of junixsocket that does not support Windows. You need to upgrade to a later version.</p>\n<p>Try changing your junixsocket dependencies to</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n  &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5.2&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>PS: You have another error in the dependency configuration for native-common: <code>&lt;type&gt;pom&lt;/type&gt;</code> should only be specified for <code>junixsocket-core</code>, which is a POM-type artifact that includes <code>junixsocket-common</code> and <code>junixsocket-native-common</code>, which are both jar-type artifacts. Therefore just remove that declaration, since <code>junixsocket-core</code> is all you should need.</p>\n"}],"owner":{"account_id":3231382,"reputation":2066,"user_id":2726561,"accept_rate":100,"display_name":"Vololodymyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42875936,"answer_count":2,"score":0,"last_activity_date":1665748053,"creation_date":1489846758,"question_id":42875510,"body_markdown":"I am new to Docker and i have problems with building image from the gradle script using [gradle-docker-plugin][1] :\r\n\r\n    task dockerBuildImage(type: DockerBuildImage, dependsOn: [dockerCreateDockerfile, assemble]) {\r\n        tag = &quot;my_tag_here&quot;\r\n        dockerFile = dockerCreateDockerfile.destFile\r\n        inputDir = dockerCreateDockerfile.destFile.parentFile\r\n    }\r\n\r\nAnd than i am getting such stacktrace:\r\n\r\n    Building image using context &#39;D:\\Learning\\1\\myproject\\webapp\\build&#39;.\r\n    Using Dockerfile &#39;D:\\Learning\\1\\myproject\\webapp\\build\\Dockerfile&#39;\r\n    Using tag &#39;localhost:5000/test/myproject-webapp:1.0.0-20170318135307&#39; for image.\r\n    Operating System not officially supported by junixsocket: Windows 10\r\n    java.lang.UnsatisfiedLinkError: Could not find library in classpath, tried: [libjunixsocket-windows10-1.8-amd64.so, libjunixsocket-windows10-1.5-amd64.so]\r\n            at org.newsclub.net.unix.NativeUnixSocket.load(NativeUnixSocket.java:81)\r\n            at org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:112)\r\n            at org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36)\r\n            at org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:50)\r\n            at com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51)\r\n            at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66)\r\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:118)\r\n            at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\r\n            at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\r\n            at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\r\n            at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:701)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n            at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n            at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:697)\r\n            at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\r\n            at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\r\n            at com.github.dockerjava.jaxrs.async.POSTCallbackNotifier.response(POSTCallbackNotifier.java:29)\r\n            at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:50)\r\n            at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:24)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    [dockerjava-jaxrs-async-0] ERROR com.github.dockerjava.core.async.ResultCallbackTemplate - Error during callback\r\n    java.lang.NoClassDefFoundError: Could not initialize class org.newsclub.net.unix.NativeUnixSocket\r\n            at org.newsclub.net.unix.AFUNIXSocketImpl.connect(AFUNIXSocketImpl.java:134)\r\n            at org.newsclub.net.unix.AFUNIXSocket.connect(AFUNIXSocket.java:97)\r\n            at com.github.dockerjava.jaxrs.ApacheUnixSocket.connect(ApacheUnixSocket.java:62)\r\n            at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.connectSocket(UnixConnectionSocketFactory.java:74)\r\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:134)\r\n            at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\r\n            at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\r\n            at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\r\n            at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:701)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n            at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n            at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:697)\r\n            at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\r\n            at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\r\n            at com.github.dockerjava.jaxrs.async.POSTCallbackNotifier.response(POSTCallbackNotifier.java:29)\r\n            at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:50)\r\n            at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:24)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    :webapp:dockerBuildImage FAILED\r\n\r\nIf i run &quot;docker build&quot; command directly - everything working fine. \r\nCan someone point me direction what can be wrong. Any ideas. \r\n\r\n  [1]: https://github.com/bmuschko/gradle-docker-plugin\r\n","title":"Can&#39;t build docker image via gradle on Windows 10","body":"<p>I am new to Docker and i have problems with building image from the gradle script using <a href=\"https://github.com/bmuschko/gradle-docker-plugin\" rel=\"nofollow noreferrer\">gradle-docker-plugin</a> :</p>\n\n<pre><code>task dockerBuildImage(type: DockerBuildImage, dependsOn: [dockerCreateDockerfile, assemble]) {\n    tag = \"my_tag_here\"\n    dockerFile = dockerCreateDockerfile.destFile\n    inputDir = dockerCreateDockerfile.destFile.parentFile\n}\n</code></pre>\n\n<p>And than i am getting such stacktrace:</p>\n\n<pre><code>Building image using context 'D:\\Learning\\1\\myproject\\webapp\\build'.\nUsing Dockerfile 'D:\\Learning\\1\\myproject\\webapp\\build\\Dockerfile'\nUsing tag 'localhost:5000/test/myproject-webapp:1.0.0-20170318135307' for image.\nOperating System not officially supported by junixsocket: Windows 10\njava.lang.UnsatisfiedLinkError: Could not find library in classpath, tried: [libjunixsocket-windows10-1.8-amd64.so, libjunixsocket-windows10-1.5-amd64.so]\n        at org.newsclub.net.unix.NativeUnixSocket.load(NativeUnixSocket.java:81)\n        at org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:112)\n        at org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36)\n        at org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:50)\n        at com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51)\n        at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66)\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:118)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\n        at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\n        at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\n        at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:701)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\n        at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:697)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\n        at com.github.dockerjava.jaxrs.async.POSTCallbackNotifier.response(POSTCallbackNotifier.java:29)\n        at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:50)\n        at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:24)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n[dockerjava-jaxrs-async-0] ERROR com.github.dockerjava.core.async.ResultCallbackTemplate - Error during callback\njava.lang.NoClassDefFoundError: Could not initialize class org.newsclub.net.unix.NativeUnixSocket\n        at org.newsclub.net.unix.AFUNIXSocketImpl.connect(AFUNIXSocketImpl.java:134)\n        at org.newsclub.net.unix.AFUNIXSocket.connect(AFUNIXSocket.java:97)\n        at com.github.dockerjava.jaxrs.ApacheUnixSocket.connect(ApacheUnixSocket.java:62)\n        at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.connectSocket(UnixConnectionSocketFactory.java:74)\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:134)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\n        at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\n        at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\n        at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:701)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\n        at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:697)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\n        at com.github.dockerjava.jaxrs.async.POSTCallbackNotifier.response(POSTCallbackNotifier.java:29)\n        at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:50)\n        at com.github.dockerjava.jaxrs.async.AbstractCallbackNotifier.call(AbstractCallbackNotifier.java:24)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n:webapp:dockerBuildImage FAILED\n</code></pre>\n\n<p>If i run \"docker build\" command directly - everything working fine. \nCan someone point me direction what can be wrong. Any ideas. </p>\n"},{"tags":["java","ubuntu","docker","virtualbox"],"answers":[{"tags":[],"owner":{"account_id":5696857,"reputation":47,"user_id":4503098,"display_name":"Dahai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502078275,"creation_date":1502078275,"answer_id":45539201,"question_id":45496205,"body_markdown":"I have found a solution using another Java API. That is &lt;a href=&quot;https://github.com/spotify/docker-client&quot;&gt;spotify/docker-client&lt;/a&gt;. I used the API like this:\r\n\r\n    import java.net.URI;\r\n    import java.util.Arrays;\r\n    \r\n    import com.google.common.collect.ImmutableMap;\r\n    import com.spotify.docker.client.DefaultDockerClient;\r\n    import com.spotify.docker.client.DockerClient;\r\n    import com.spotify.docker.client.LogStream;\r\n    import com.spotify.docker.client.messages.ContainerConfig;\r\n    import com.spotify.docker.client.messages.ContainerCreation;\r\n    import com.spotify.docker.client.messages.ExecCreation;\r\n    import com.spotify.docker.client.messages.HostConfig;\r\n    import com.spotify.docker.client.messages.HostConfig.Bind;\r\n    import com.spotify.docker.client.messages.PortBinding;\r\n    \r\n    public class MyDocker {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tDockerClient dockerClient = DefaultDockerClient.builder()\r\n\t\t\t\t        .uri(URI.create(&quot;http://192.168.5.31:2375&quot;))\r\n\t\t\t\t        .build();\r\n\t\t\t// Pull an image\r\n\t\t\t//docker.pull(&quot;tomcat&quot;);\r\n\t\t\t\r\n\t\t\tString p = PortBinding.randomPort(&quot;192.168.5.31&quot;).hostPort();\r\n\t\t\t\r\n\t\t\tfinal HostConfig hostConfig = HostConfig.builder()\r\n\t\t\t\t    .appendBinds(Bind.from(&quot;/home/cdh/test&quot;)\r\n\t\t\t\t               .to(&quot;/usr/local/tomcat/webapps/test&quot;).readOnly(false)\r\n\t\t\t\t               .build())\r\n\t\t\t\t\t.portBindings(ImmutableMap.of(&quot;8080/tcp&quot;, Arrays.asList(PortBinding.of(&quot;0.0.0.0&quot;, p)))).build();\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t    final ContainerConfig containerConfig = ContainerConfig.builder()\r\n\t\t            .hostConfig(hostConfig)\r\n\t\t            .image(&quot;tomcat:latest&quot;).exposedPorts(&quot;8080/tcp&quot;)\r\n\t\t            .build();\r\n\r\n\t\t    final ContainerCreation creation = dockerClient.createContainer(containerConfig);\r\n\t\t    final String id = creation.id();\r\n\r\n\t\t    // Start container\r\n\t\t    dockerClient.startContainer(id);\r\n\t\t\t// Exec command inside running container with attached STDOUT and STDERR\r\n\t\t\tfinal String[] command = {&quot;bash&quot;, &quot;-c&quot;, &quot;ls&quot;};\r\n\t\t\tfinal ExecCreation execCreation = dockerClient.execCreate(\r\n\t\t\t    id, command, DockerClient.ExecCreateParam.attachStdout(),\r\n\t\t\t    DockerClient.ExecCreateParam.attachStderr());\r\n\t\t\tfinal LogStream output = dockerClient.execStart(execCreation.id());\r\n\t\t\tfinal String execOutput = output.readFully();\r\n\r\n\t\t\t// Kill container\r\n\t\t\tdockerClient.killContainer(id);\r\n\r\n\t\t\t// Remove container\r\n\t\t\tdockerClient.removeContainer(id);\r\n\r\n\t\t\t// Close the docker client\r\n\t\t\tdockerClient.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nIt works perfectly. Now I suggested you can use the following code to access docker.\r\n\r\nCheers!","title":"Docker-java API connect virtualbox ubuntu docker in Eclipse on windows 10","body":"<p>I have found a solution using another Java API. That is <a href=\"https://github.com/spotify/docker-client\" rel=\"nofollow noreferrer\">spotify/docker-client</a>. I used the API like this:</p>\n\n<pre><code>import java.net.URI;\nimport java.util.Arrays;\n\nimport com.google.common.collect.ImmutableMap;\nimport com.spotify.docker.client.DefaultDockerClient;\nimport com.spotify.docker.client.DockerClient;\nimport com.spotify.docker.client.LogStream;\nimport com.spotify.docker.client.messages.ContainerConfig;\nimport com.spotify.docker.client.messages.ContainerCreation;\nimport com.spotify.docker.client.messages.ExecCreation;\nimport com.spotify.docker.client.messages.HostConfig;\nimport com.spotify.docker.client.messages.HostConfig.Bind;\nimport com.spotify.docker.client.messages.PortBinding;\n\npublic class MyDocker {\n\npublic static void main(String[] args) {\n    try {\n        DockerClient dockerClient = DefaultDockerClient.builder()\n                    .uri(URI.create(\"http://192.168.5.31:2375\"))\n                    .build();\n        // Pull an image\n        //docker.pull(\"tomcat\");\n\n        String p = PortBinding.randomPort(\"192.168.5.31\").hostPort();\n\n        final HostConfig hostConfig = HostConfig.builder()\n                .appendBinds(Bind.from(\"/home/cdh/test\")\n                           .to(\"/usr/local/tomcat/webapps/test\").readOnly(false)\n                           .build())\n                .portBindings(ImmutableMap.of(\"8080/tcp\", Arrays.asList(PortBinding.of(\"0.0.0.0\", p)))).build();    \n\n\n\n        final ContainerConfig containerConfig = ContainerConfig.builder()\n                .hostConfig(hostConfig)\n                .image(\"tomcat:latest\").exposedPorts(\"8080/tcp\")\n                .build();\n\n        final ContainerCreation creation = dockerClient.createContainer(containerConfig);\n        final String id = creation.id();\n\n        // Start container\n        dockerClient.startContainer(id);\n        // Exec command inside running container with attached STDOUT and STDERR\n        final String[] command = {\"bash\", \"-c\", \"ls\"};\n        final ExecCreation execCreation = dockerClient.execCreate(\n            id, command, DockerClient.ExecCreateParam.attachStdout(),\n            DockerClient.ExecCreateParam.attachStderr());\n        final LogStream output = dockerClient.execStart(execCreation.id());\n        final String execOutput = output.readFully();\n\n        // Kill container\n        dockerClient.killContainer(id);\n\n        // Remove container\n        dockerClient.removeContainer(id);\n\n        // Close the docker client\n        dockerClient.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>It works perfectly. Now I suggested you can use the following code to access docker.</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665747955,"creation_date":1665747955,"answer_id":74068720,"question_id":45496205,"body_markdown":"junixsocket version 2.0.4 does not support Windows. You need to upgrade to a later version.\r\n\r\nTry changing your junixsocket dependencies to\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.2&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Docker-java API connect virtualbox ubuntu docker in Eclipse on windows 10","body":"<p>junixsocket version 2.0.4 does not support Windows. You need to upgrade to a later version.</p>\n<p>Try changing your junixsocket dependencies to</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n  &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5.2&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5696857,"reputation":47,"user_id":4503098,"display_name":"Dahai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665747955,"creation_date":1501803911,"question_id":45496205,"body_markdown":"I have installed virtualbox on windows 10 and created a Ubuntu instance for docker host. Then installed docker on Ubuntu. I want to connect the docker using docker-java API (I am using docker-java 3.0.12), the code is below:\r\n\r\n    DockerClientConfig config = DefaultDockerClientConfig.createDefaultConfigBuilder()\r\n    \t\t\t\t\t.withDockerHost(&quot;tcp://192.168.5.31:2375&quot;).build();\r\n    DockerClient dockerClient = DockerClientBuilder.getInstance(config).build();\r\n    \r\n    CreateContainerResponse container1 =\r\n    dockerClient.createContainerCmd(&quot;tomcat:latest&quot;).withCmd(&quot;sleep&quot;, &quot;9999&quot;) .withName(&quot;mytomcat3&quot;).exec();\r\n    \r\n    dockerClient = DockerClientBuilder.getInstance().build();\r\n    dockerClient.startContainerCmd(container1.getId()).exec();\r\n\r\nI have got the follows info:\r\n\r\n    java.lang.RuntimeException: Library &#39;junixsocket-native-2.0.4.dll&#39; not found!\r\n    \tat org.newsclub.net.unix.NarSystem.getLibPath(NarSystem.java:132)\r\n    \tat org.newsclub.net.unix.NarSystem.loadLibrary(NarSystem.java:36)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:35)\r\n    \tat org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36)\r\n    \tat org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:54)\r\n    \tat com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51)\r\n    \tat com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:118)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\r\n    \tat org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\r\n    \tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343)\r\n    \tat com.github.dockerjava.jaxrs.StartContainerCmdExec.execute(StartContainerCmdExec.java:29)\r\n    \tat com.github.dockerjava.jaxrs.StartContainerCmdExec.execute(StartContainerCmdExec.java:12)\r\n    \tat com.github.dockerjava.jaxrs.AbstrSyncDockerCmdExec.exec(AbstrSyncDockerCmdExec.java:23)\r\n    \tat com.github.dockerjava.core.command.AbstrDockerCmd.exec(AbstrDockerCmd.java:35)\r\n    \tat com.github.dockerjava.core.command.StartContainerCmdImpl.exec(StartContainerCmdImpl.java:46)\r\n    \tat docker.MyDocker.main(MyDocker.java:53)...\r\n\r\nI can not download the dll. Can you please tell me how to fix this problem?\r\n\r\nMany thanks!\r\n\r\n","title":"Docker-java API connect virtualbox ubuntu docker in Eclipse on windows 10","body":"<p>I have installed virtualbox on windows 10 and created a Ubuntu instance for docker host. Then installed docker on Ubuntu. I want to connect the docker using docker-java API (I am using docker-java 3.0.12), the code is below:</p>\n\n<pre><code>DockerClientConfig config = DefaultDockerClientConfig.createDefaultConfigBuilder()\n                    .withDockerHost(\"tcp://192.168.5.31:2375\").build();\nDockerClient dockerClient = DockerClientBuilder.getInstance(config).build();\n\nCreateContainerResponse container1 =\ndockerClient.createContainerCmd(\"tomcat:latest\").withCmd(\"sleep\", \"9999\") .withName(\"mytomcat3\").exec();\n\ndockerClient = DockerClientBuilder.getInstance().build();\ndockerClient.startContainerCmd(container1.getId()).exec();\n</code></pre>\n\n<p>I have got the follows info:</p>\n\n<pre><code>java.lang.RuntimeException: Library 'junixsocket-native-2.0.4.dll' not found!\n    at org.newsclub.net.unix.NarSystem.getLibPath(NarSystem.java:132)\n    at org.newsclub.net.unix.NarSystem.loadLibrary(NarSystem.java:36)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:35)\n    at org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36)\n    at org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:54)\n    at com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51)\n    at com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:118)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\n    at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:435)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:252)\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684)\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343)\n    at com.github.dockerjava.jaxrs.StartContainerCmdExec.execute(StartContainerCmdExec.java:29)\n    at com.github.dockerjava.jaxrs.StartContainerCmdExec.execute(StartContainerCmdExec.java:12)\n    at com.github.dockerjava.jaxrs.AbstrSyncDockerCmdExec.exec(AbstrSyncDockerCmdExec.java:23)\n    at com.github.dockerjava.core.command.AbstrDockerCmd.exec(AbstrDockerCmd.java:35)\n    at com.github.dockerjava.core.command.StartContainerCmdImpl.exec(StartContainerCmdImpl.java:46)\n    at docker.MyDocker.main(MyDocker.java:53)...\n</code></pre>\n\n<p>I can not download the dll. Can you please tell me how to fix this problem?</p>\n\n<p>Many thanks!</p>\n"},{"tags":["java","spring-boot","unit-testing","bitbucket"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665747597,"post_id":74068628,"comment_id":130775807,"body_markdown":"80 is a privileged port. Try 8080","body":"80 is a privileged port. Try 8080"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665747711,"post_id":74068628,"comment_id":130775825,"body_markdown":"`result` is null, you should check why. I guess the port 80 is already in use on the server","body":"<code>result</code> is null, you should check why. I guess the port 80 is already in use on the server"},{"owner":{"account_id":25542851,"reputation":37,"user_id":19328650,"display_name":"podehi"},"score":0,"creation_date":1665748113,"post_id":74068628,"comment_id":130775962,"body_markdown":"@tgdavies Same problem.","body":"@tgdavies Same problem."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665748641,"post_id":74068628,"comment_id":130776151,"body_markdown":"As @Jens suggests, you&#39;ll need to find out why result is null.","body":"As @Jens suggests, you&#39;ll need to find out why result is null."}],"owner":{"account_id":25542851,"reputation":37,"user_id":19328650,"display_name":"podehi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665747513,"creation_date":1665747441,"question_id":74068628,"body_markdown":"Here&#39;s the method I&#39;m testing:\r\n```\r\n    public Socket initSocket(String[] possibleHosts, int port) {\r\n        for(String host : possibleHosts) {\r\n            try {\r\n                socket = new Socket(host, port);\r\n\r\n                LOG.info(&quot;initSocket(): Successfully initialized socket with host: &quot; + host);\r\n\r\n                break;\r\n            } catch (Exception e) {\r\n                LOG.error(&quot;initSocket(): Failed to initialize socket with host: &quot; + host, e);\r\n\r\n            }\r\n        }\r\n\r\n        return socket;\r\n    }\r\n```\r\n\r\nWhen the method is invoked, it&#39;s not known which hosts are up so it checks all of them. Here are the tests:\r\n```\r\nclass StompSocketTest extends Specification {\r\n\r\n    @Subject\r\n    def stompSocket = new StompSocket()\r\n\r\n    def &quot;Should initialize a socket with the first host&quot;() {\r\n        given:\r\n        String[] possibleHosts = [ &quot;localhost&quot;, &quot;wrongHost&quot; ]\r\n        def port = 80\r\n\r\n        when:\r\n        def result = stompSocket.initSocket( possibleHosts, port )\r\n\r\n        then:\r\n        result.getInetAddress().getHostName() == &quot;localhost&quot;\r\n        result.getPort() == 80\r\n    }\r\n\r\n    def &quot;Should initialize a socket with the second host&quot;() {\r\n        given:\r\n        String[] possibleHosts = [ &quot;wrongHost&quot;, &quot;localhost&quot; ]\r\n        def port = 80\r\n\r\n        when:\r\n        def result = stompSocket.initSocket( possibleHosts, port )\r\n\r\n        then:\r\n        result.getInetAddress().getHostName() == &quot;localhost&quot;\r\n        result.getPort() == 80\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe tests pass locally but they fail in a Bitbucket pipeline:\r\n```\r\nresult.getInetAddress().getHostName() == &quot;localhost&quot;\r\n|      |\r\nnull   java.lang.NullPointerException: Cannot invoke method getInetAddress() on null object\r\n```\r\n\r\nI suspect it has something to do with &quot;localhost&quot; not being a proper name for a host in the pipeline environment. However, I have no idea how to fix the issue so that it passes both locally and in the pipeline.","title":"Socket tests pass locally but fail in a Bitbucket pipeline","body":"<p>Here's the method I'm testing:</p>\n<pre><code>    public Socket initSocket(String[] possibleHosts, int port) {\n        for(String host : possibleHosts) {\n            try {\n                socket = new Socket(host, port);\n\n                LOG.info(&quot;initSocket(): Successfully initialized socket with host: &quot; + host);\n\n                break;\n            } catch (Exception e) {\n                LOG.error(&quot;initSocket(): Failed to initialize socket with host: &quot; + host, e);\n\n            }\n        }\n\n        return socket;\n    }\n</code></pre>\n<p>When the method is invoked, it's not known which hosts are up so it checks all of them. Here are the tests:</p>\n<pre><code>class StompSocketTest extends Specification {\n\n    @Subject\n    def stompSocket = new StompSocket()\n\n    def &quot;Should initialize a socket with the first host&quot;() {\n        given:\n        String[] possibleHosts = [ &quot;localhost&quot;, &quot;wrongHost&quot; ]\n        def port = 80\n\n        when:\n        def result = stompSocket.initSocket( possibleHosts, port )\n\n        then:\n        result.getInetAddress().getHostName() == &quot;localhost&quot;\n        result.getPort() == 80\n    }\n\n    def &quot;Should initialize a socket with the second host&quot;() {\n        given:\n        String[] possibleHosts = [ &quot;wrongHost&quot;, &quot;localhost&quot; ]\n        def port = 80\n\n        when:\n        def result = stompSocket.initSocket( possibleHosts, port )\n\n        then:\n        result.getInetAddress().getHostName() == &quot;localhost&quot;\n        result.getPort() == 80\n    }\n\n}\n</code></pre>\n<p>The tests pass locally but they fail in a Bitbucket pipeline:</p>\n<pre><code>result.getInetAddress().getHostName() == &quot;localhost&quot;\n|      |\nnull   java.lang.NullPointerException: Cannot invoke method getInetAddress() on null object\n</code></pre>\n<p>I suspect it has something to do with &quot;localhost&quot; not being a proper name for a host in the pipeline environment. However, I have no idea how to fix the issue so that it passes both locally and in the pipeline.</p>\n"},{"tags":["java","apache-nifi"],"answers":[{"comments":[{"owner":{"account_id":12683754,"reputation":1345,"user_id":9216423,"display_name":"Dulanga Heshan"},"score":0,"creation_date":1665904035,"post_id":74065562,"comment_id":130804860,"body_markdown":"same result brother","body":"same result brother"},{"owner":{"account_id":12683754,"reputation":1345,"user_id":9216423,"display_name":"Dulanga Heshan"},"score":2,"creation_date":1665913200,"post_id":74065562,"comment_id":130806255,"body_markdown":"I replaced dd with DD and MM with mm and now it works.","body":"I replaced dd with DD and MM with mm and now it works."}],"tags":[],"owner":{"account_id":2567554,"reputation":1043,"user_id":3810086,"display_name":"tonykoval"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665731386,"creation_date":1665731386,"answer_id":74065562,"question_id":74060790,"body_markdown":"You cannot depend on a field/attribute that is modified itself. Try this:\r\n```\r\n/dateFormatted  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy-MM-dd&quot;)\r\n/day   format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;dd&quot;)\r\n/month format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;MM&quot;)\r\n/year  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy&quot;)\r\n```\r\n\r\nOutput:\r\n```json\r\n{\r\n  &quot;date&quot; : &quot;20220103&quot;,\r\n  &quot;day&quot; : &quot;03&quot;,\r\n  &quot;dateFormatted&quot; : &quot;2022-01-03&quot;,\r\n  &quot;year&quot; : &quot;2022&quot;,\r\n  &quot;month&quot; : &quot;01&quot;\r\n}\r\n```","title":"NiFI toDate function in UpdateRecord alert the year and month","body":"<p>You cannot depend on a field/attribute that is modified itself. Try this:</p>\n<pre><code>/dateFormatted  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy-MM-dd&quot;)\n/day   format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;dd&quot;)\n/month format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;MM&quot;)\n/year  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy&quot;)\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;date&quot; : &quot;20220103&quot;,\n  &quot;day&quot; : &quot;03&quot;,\n  &quot;dateFormatted&quot; : &quot;2022-01-03&quot;,\n  &quot;year&quot; : &quot;2022&quot;,\n  &quot;month&quot; : &quot;01&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":12683754,"reputation":1345,"user_id":9216423,"display_name":"Dulanga Heshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665747344,"creation_date":1665688844,"question_id":74060790,"body_markdown":"My input flow file (CSV) contains the date as `20220103`. \r\nI want to create 3 properties as date, year, and month from the above input.\r\n\r\nSo I use the UpdateRecord processor with the below configurations:\r\n\r\n![processor configurations][1]\r\n\r\n    /date  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy-MM-dd&quot;)\r\n    /day   format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;dd&quot;)\r\n    /month format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;MM&quot;)\r\n    /year  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy&quot;)\r\n\r\nIt returns output flow file as below:\r\n```json\r\n[\r\n  {\r\n    &quot;date&quot;: &quot;2022-01-03&quot;,\r\n    &quot;year&quot;: 2021,\r\n    &quot;month&quot;: 12,\r\n    &quot;day&quot;: 3\r\n  }\r\n]\r\n```\r\nIt correctly converts the `/date` attribute, but `/year` and `/month` is different from input. How can I fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YQJGc.png","title":"NiFI toDate function in UpdateRecord alert the year and month","body":"<p>My input flow file (CSV) contains the date as <code>20220103</code>.\nI want to create 3 properties as date, year, and month from the above input.</p>\n<p>So I use the UpdateRecord processor with the below configurations:</p>\n<p><img src=\"https://i.stack.imgur.com/YQJGc.png\" alt=\"processor configurations\" /></p>\n<pre><code>/date  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy-MM-dd&quot;)\n/day   format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;dd&quot;)\n/month format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;MM&quot;)\n/year  format(toDate(/date, &quot;yyyyMMdd&quot;),&quot;yyyy&quot;)\n</code></pre>\n<p>It returns output flow file as below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;date&quot;: &quot;2022-01-03&quot;,\n    &quot;year&quot;: 2021,\n    &quot;month&quot;: 12,\n    &quot;day&quot;: 3\n  }\n]\n</code></pre>\n<p>It correctly converts the <code>/date</code> attribute, but <code>/year</code> and <code>/month</code> is different from input. How can I fix this?</p>\n"},{"tags":["java","unix-socket"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1629850303,"post_id":68913811,"comment_id":121794235,"body_markdown":"&#39;Instantiate communication&#39; means *creating* a socket. There is no prior socket, and therefore no prior file descriptor, to know. Your question doesn&#39;t make sense.","body":"&#39;Instantiate communication&#39; means <i>creating</i> a socket. There is no prior socket, and therefore no prior file descriptor, to know. Your question doesn&#39;t make sense."},{"owner":{"account_id":15043541,"reputation":105,"user_id":10857391,"display_name":"Igor"},"score":0,"creation_date":1629864611,"post_id":68913811,"comment_id":121796210,"body_markdown":"@user207421, sorry, I edited the question","body":"@user207421, sorry, I edited the question"}],"answers":[{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665747083,"creation_date":1665747083,"answer_id":74068566,"question_id":68913811,"body_markdown":"Since junixsocket 2.4 (although you should use the latest version, currently 2.5.2), we support &quot;casting&quot; `FileDescriptor` to several other objects, such as `Socket`, `InputStream`, etc.\r\n\r\njunixsocket will make sure that the &quot;cast&quot; (which isn&#39;t a trivial cast since it returns another object) succeeds — as long as the conversion is valid.\r\n\r\nExample:\r\n\r\n    FileDescriptor fd = ...;\r\n    AFUNIXSocket socket = FileDescriptorCast.using(fd).as(AFUNIXSocket.class);\r\n\r\nMore details here: https://kohlschutter.github.io/junixsocket/filedescriptors.html","title":"How to connect to Unix Domain Socket on client side service knowing only socket file descriptor","body":"<p>Since junixsocket 2.4 (although you should use the latest version, currently 2.5.2), we support &quot;casting&quot; <code>FileDescriptor</code> to several other objects, such as <code>Socket</code>, <code>InputStream</code>, etc.</p>\n<p>junixsocket will make sure that the &quot;cast&quot; (which isn't a trivial cast since it returns another object) succeeds — as long as the conversion is valid.</p>\n<p>Example:</p>\n<pre><code>FileDescriptor fd = ...;\nAFUNIXSocket socket = FileDescriptorCast.using(fd).as(AFUNIXSocket.class);\n</code></pre>\n<p>More details here: <a href=\"https://kohlschutter.github.io/junixsocket/filedescriptors.html\" rel=\"nofollow noreferrer\">https://kohlschutter.github.io/junixsocket/filedescriptors.html</a></p>\n"}],"owner":{"account_id":15043541,"reputation":105,"user_id":10857391,"display_name":"Igor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665747083,"creation_date":1629837415,"question_id":68913811,"body_markdown":"My **Service A** communicates with another **Service B** on the same host through *UNIX Domain Socket (UDS)*. The only information I have is a value of socket file descriptor with which the **Service B** is ready to send data through socket to **Service A**. I use 3rd party library **junixsocket** to communicate through **UDS** between services. And my question is how using this library I can connect to the socket on **Service A** side knowing only the socket file descriptor?\r\n \r\nI just found how to connect to socket on **Service A** side with socketPath:\r\n\r\n`File socketFile = new File(&quot;/path/to/your/socket&quot;); \r\nAFUNIXSocket sock = AFUNIXSocket.newInstance();\r\nsock.connect(new AFUNIXSocketAddress(socketFile));`\r\n\r\nBut I need to know how to connect to it with just file descriptor\r\n\r\nI’m using openJDK-11, that’s why I have to use 3rd party library for UDS communication","title":"How to connect to Unix Domain Socket on client side service knowing only socket file descriptor","body":"<p>My <strong>Service A</strong> communicates with another <strong>Service B</strong> on the same host through <em>UNIX Domain Socket (UDS)</em>. The only information I have is a value of socket file descriptor with which the <strong>Service B</strong> is ready to send data through socket to <strong>Service A</strong>. I use 3rd party library <strong>junixsocket</strong> to communicate through <strong>UDS</strong> between services. And my question is how using this library I can connect to the socket on <strong>Service A</strong> side knowing only the socket file descriptor?</p>\n<p>I just found how to connect to socket on <strong>Service A</strong> side with socketPath:</p>\n<p><code>File socketFile = new File(&quot;/path/to/your/socket&quot;);  AFUNIXSocket sock = AFUNIXSocket.newInstance(); sock.connect(new AFUNIXSocketAddress(socketFile));</code></p>\n<p>But I need to know how to connect to it with just file descriptor</p>\n<p>I’m using openJDK-11, that’s why I have to use 3rd party library for UDS communication</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1664263935,"post_id":73863234,"comment_id":130425222,"body_markdown":"Does this answer your question? [Spring Boot configure and use two data sources](https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-data-sources)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-data-sources\">Spring Boot configure and use two data sources</a>"}],"answers":[{"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665746853,"creation_date":1665746853,"answer_id":74068518,"question_id":73863234,"body_markdown":"Creating more than one data source works same as creating the first one. You might want to mark one of them as @Primary if you are using the default auto-configuration for JDBC or JPA (then that one will be picked up by any @Autowired injections).\r\n```\r\n@Bean\r\n@Primary\r\n@ConfigurationProperties(prefix=&quot;datasource.primary&quot;)\r\npublic DataSource primaryDataSource() {\r\n    return DataSourceBuilder.create().build();\r\n}\r\n\r\n@Bean\r\n@ConfigurationProperties(prefix=&quot;datasource.secondary&quot;)\r\npublic DataSource secondaryDataSource() {\r\n    return DataSourceBuilder.create().build();\r\n}\r\n```","title":"How to access two different user of same db in Spring MVC","body":"<p>Creating more than one data source works same as creating the first one. You might want to mark one of them as @Primary if you are using the default auto-configuration for JDBC or JPA (then that one will be picked up by any @Autowired injections).</p>\n<pre><code>@Bean\n@Primary\n@ConfigurationProperties(prefix=&quot;datasource.primary&quot;)\npublic DataSource primaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n\n@Bean\n@ConfigurationProperties(prefix=&quot;datasource.secondary&quot;)\npublic DataSource secondaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n"}],"owner":{"account_id":26454704,"reputation":3,"user_id":20097413,"display_name":"Vivan Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74068518,"answer_count":1,"score":0,"last_activity_date":1665746853,"creation_date":1664260227,"question_id":73863234,"body_markdown":"I have an application that runs Spring MVC.\r\n\r\nI need it to access 2 different User of same DB in my app.\r\n\r\nHow do I configure this using application.properties file?\r\n\r\n&gt; application.properties file\r\n\r\n    jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\r\n    jdbc.url=jdbc:oracle:thin:@myoracle.db.server:1521:my_sid\r\n    jdbc.username=USERA\r\n    jdbc.password=passwrord1\r\n\r\n    jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\r\n    jdbc.url=jdbc:oracle:thin:@myoracle.db.server:1521:my_sid\r\n    jdbc.username=USERB\r\n    jdbc.password=passwrord2\r\n\r\n\r\nRegards.\r\n","title":"How to access two different user of same db in Spring MVC","body":"<p>I have an application that runs Spring MVC.</p>\n<p>I need it to access 2 different User of same DB in my app.</p>\n<p>How do I configure this using application.properties file?</p>\n<blockquote>\n<p>application.properties file</p>\n</blockquote>\n<pre><code>jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\njdbc.url=jdbc:oracle:thin:@myoracle.db.server:1521:my_sid\njdbc.username=USERA\njdbc.password=passwrord1\n\njdbc.driverClassName=oracle.jdbc.driver.OracleDriver\njdbc.url=jdbc:oracle:thin:@myoracle.db.server:1521:my_sid\njdbc.username=USERB\njdbc.password=passwrord2\n</code></pre>\n<p>Regards.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","localization"],"answers":[{"comments":[{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665748657,"post_id":74068500,"comment_id":130776160,"body_markdown":"if you feel that my answer help you please give a tick","body":"if you feel that my answer help you please give a tick"},{"owner":{"account_id":5734600,"reputation":3267,"user_id":4529168,"display_name":"jiwopene"},"score":0,"creation_date":1665752192,"post_id":74068500,"comment_id":130777293,"body_markdown":"Well, I would like to have URLs different for each of the locales (and when the locale in URL does not match user&#39;s locale, `302 Found` redirect is performed to URL using user&#39;s locale.","body":"Well, I would like to have URLs different for each of the locales (and when the locale in URL does not match user&#39;s locale, <code>302 Found</code> redirect is performed to URL using user&#39;s locale."}],"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665746752,"creation_date":1665746752,"answer_id":74068500,"question_id":74067287,"body_markdown":"Websites implement localization in one of two ways. The first approach involves automatically detecting the user locale by examining HTTP request headers (Accept-Language header in particular) and localizing site content for the user locale (if supported).\r\n\r\nSpring MVC uses this approach by default. It uses the HttpServletRequest.getLocale method to determine the client locale and then loads localized messages from message sources. Note that the getLocale method returns a single Locale object whereas the Accept-Language header passed by the client could contain multiple languages (for example, Accept-Language: en-US, en-GB, en). In such cases, the getLocale method returns the Locale for the first matching language (en-US in the example above).\r\n\r\nTherefore, if you wish your Spring MVC application to automatically detect the client locale and serve localized content, simply declare a ResourceBundleMessageSource bean in the application context. No other configuration is required.\r\n\r\nThe second approach used by websites is to always display content in a default language first and then allowing the user to change the locale (using a dropdown or links in the site header or footer). In such cases, the users may choose locales that are not consistent with the Accept-Language header sent by their browser. For example, the Accept-Language header may contain fr-CH while the user may select de-DE as the locale.\r\n\r\nIt is in such scenarios that LocaleChangeInterceptor and SessionLocaleResolver are required to use the user selection instead of the request headers. These components can intercept the user choice and save it temporarily for the duration of the session to localize the site content correctly.\r\n\r\nand if you want more info refer this:\r\nhttps://stackoverflow.com/questions/41032674/spring-localization-without-passing-language-in-query-string","title":"Localized URLs in Spring","body":"<p>Websites implement localization in one of two ways. The first approach involves automatically detecting the user locale by examining HTTP request headers (Accept-Language header in particular) and localizing site content for the user locale (if supported).</p>\n<p>Spring MVC uses this approach by default. It uses the HttpServletRequest.getLocale method to determine the client locale and then loads localized messages from message sources. Note that the getLocale method returns a single Locale object whereas the Accept-Language header passed by the client could contain multiple languages (for example, Accept-Language: en-US, en-GB, en). In such cases, the getLocale method returns the Locale for the first matching language (en-US in the example above).</p>\n<p>Therefore, if you wish your Spring MVC application to automatically detect the client locale and serve localized content, simply declare a ResourceBundleMessageSource bean in the application context. No other configuration is required.</p>\n<p>The second approach used by websites is to always display content in a default language first and then allowing the user to change the locale (using a dropdown or links in the site header or footer). In such cases, the users may choose locales that are not consistent with the Accept-Language header sent by their browser. For example, the Accept-Language header may contain fr-CH while the user may select de-DE as the locale.</p>\n<p>It is in such scenarios that LocaleChangeInterceptor and SessionLocaleResolver are required to use the user selection instead of the request headers. These components can intercept the user choice and save it temporarily for the duration of the session to localize the site content correctly.</p>\n<p>and if you want more info refer this:\n<a href=\"https://stackoverflow.com/questions/41032674/spring-localization-without-passing-language-in-query-string\">Spring Localization without passing language in query string</a></p>\n"}],"owner":{"account_id":5734600,"reputation":3267,"user_id":4529168,"display_name":"jiwopene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665746752,"creation_date":1665740261,"question_id":74067287,"body_markdown":"There is quite a lot of documentation and guides that describe how to set up message localization in Spring framework. All of these that I found consider only changing messages (texts) on the webpages, but not page URLs. I would like to have completely different URLs for each locale. For example, `http://example.org/en/welcome` would be used in the English version, but `http://example.org/de/willkommen` would be used in the German version.\r\n\r\nI assume that I will not be able to use class annotations to route the pages. I prefer storing the path–controller mapping in a file and loading it at runtime.\r\n\r\nCould you tell me at least how to not hav","title":"Localized URLs in Spring","body":"<p>There is quite a lot of documentation and guides that describe how to set up message localization in Spring framework. All of these that I found consider only changing messages (texts) on the webpages, but not page URLs. I would like to have completely different URLs for each locale. For example, <code>http://example.org/en/welcome</code> would be used in the English version, but <code>http://example.org/de/willkommen</code> would be used in the German version.</p>\n<p>I assume that I will not be able to use class annotations to route the pages. I prefer storing the path–controller mapping in a file and loading it at runtime.</p>\n<p>Could you tell me at least how to not hav</p>\n"},{"tags":["java","serialization","apache-flink"],"comments":[{"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1604608348,"post_id":64704634,"comment_id":114406592,"body_markdown":"Just to confirm, logs from the workflow with the previous version of your POJO do NOT contain any INFO messages that look like `Class &lt;your class&gt; cannot be used as a POJO type...`","body":"Just to confirm, logs from the workflow with the previous version of your POJO do NOT contain any INFO messages that look like <code>Class &lt;your class&gt; cannot be used as a POJO type...</code>"},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1604608812,"post_id":64704634,"comment_id":114406727,"body_markdown":"@kkrugler that&#39;s right, I did verify that.","body":"@kkrugler that&#39;s right, I did verify that."}],"answers":[{"comments":[{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":1,"creation_date":1604773492,"post_id":64721838,"comment_id":114451484,"body_markdown":"Thanks for the information, but unfortunately it&#39;s not working for me. My &quot;old&quot; job has been released, so I cannot change that, and adding the type information in the new jar only (with the new field added to the class) doesn&#39;t seem to be enough, since I get an exception `StateMigrationException: For heap backends, the new state serializer must not be incompatible.`. I don&#39;t know if field order is relevant, but I&#39;ve tried many different orders in the fields provided to the factory (and changed the `fields` map to a `LinkedHashMap`), but I always get the aforementioned exception.","body":"Thanks for the information, but unfortunately it&#39;s not working for me. My &quot;old&quot; job has been released, so I cannot change that, and adding the type information in the new jar only (with the new field added to the class) doesn&#39;t seem to be enough, since I get an exception <code>StateMigrationException: For heap backends, the new state serializer must not be incompatible.</code>. I don&#39;t know if field order is relevant, but I&#39;ve tried many different orders in the fields provided to the factory (and changed the <code>fields</code> map to a <code>LinkedHashMap</code>), but I always get the aforementioned exception."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1604773960,"post_id":64721838,"comment_id":114451620,"body_markdown":"Yes, I was explaining how you might’ve avoided the problem you are in, not how to repair the current situation. For that you might be able to use the state processor api to migrate the state from the old serializer to a new one.","body":"Yes, I was explaining how you might’ve avoided the problem you are in, not how to repair the current situation. For that you might be able to use the state processor api to migrate the state from the old serializer to a new one."},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1604783213,"post_id":64721838,"comment_id":114453904,"body_markdown":"I&#39;m thinking I could use a [`TypeSerializerSnapshot`](https://ci.apache.org/projects/flink/flink-docs-release-1.9/dev/stream/state/custom_serialization.html#the-typeserializersnapshot-abstraction) that returns `org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer` in its `restoreSerializer` method and migrates to something that supports evolution (like kryo&#39;s `VersionFieldSerializer`), but it seems `TypeSerializer` can only be specified for each `StateDescriptor`, there&#39;s no way to configure that globally?","body":"I&#39;m thinking I could use a <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.9/dev/stream/state/custom_serialization.html#the-typeserializersnapshot-abstraction\" rel=\"nofollow noreferrer\"><code>TypeSerializerSnapshot</code></a> that returns <code>org.apache.flink.api.java.typeutils.runtime.kryo.KryoSeriali&zwnj;&#8203;zer</code> in its <code>restoreSerializer</code> method and migrates to something that supports evolution (like kryo&#39;s <code>VersionFieldSerializer</code>), but it seems <code>TypeSerializer</code> can only be specified for each <code>StateDescriptor</code>, there&#39;s no way to configure that globally?"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1604785707,"post_id":64721838,"comment_id":114454538,"body_markdown":"I believe you can register a custom Kryo serializer for a given class, and then any state descriptors for the class will use the serializer that&#39;s been registered. You can do this via `registerTypeWithKryoSerializer(Class&lt;?&gt;, Class&lt;? extends Serializer&gt;)`. Look at `com.esotericsoftware.kryo.Serializer`.","body":"I believe you can register a custom Kryo serializer for a given class, and then any state descriptors for the class will use the serializer that&#39;s been registered. You can do this via <code>registerTypeWithKryoSerializer(Class&lt;?&gt;, Class&lt;? extends Serializer&gt;)</code>. Look at <code>com.esotericsoftware.kryo.Serializer</code>."},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1604842865,"post_id":64721838,"comment_id":114464358,"body_markdown":"I&#39;ve updated the question adding what I&#39;ve tried, I don&#39;t know if you have further ideas.","body":"I&#39;ve updated the question adding what I&#39;ve tried, I don&#39;t know if you have further ideas."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1604857372,"post_id":64721838,"comment_id":114468644,"body_markdown":"I&#39;m not sufficiently familiar with the issues here, but this section of the docs may help: https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/stream/state/custom_serialization.html","body":"I&#39;m not sufficiently familiar with the issues here, but this section of the docs may help: <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.11/dev/stream/state/custom_serialization.html\" rel=\"nofollow noreferrer\">ci.apache.org/projects/flink/flink-docs-release-1.11/dev/str&zwnj;&#8203;eam/&hellip;</a>"},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1604860193,"post_id":64721838,"comment_id":114469535,"body_markdown":"I think I found a way to make it work, I&#39;ll post an answer.","body":"I think I found a way to make it work, I&#39;ll post an answer."}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604760695,"creation_date":1604698216,"answer_id":64721838,"question_id":64704634,"body_markdown":"Flink will accept a class as a valid POJO type even if it contains a field (such as a LIST or MAP) that it cannot serialize without falling back to Kryo. In such cases the INFO log message about `Class &lt;your class&gt; cannot be used as a POJO type ...` will not appear, but the class will not be fully supported for state migration.\r\n\r\nFlink can deal with LIST and MAP types in POJO fields, but doesn&#39;t do so automatically (in order to avoid breaking backwards compatibility). \r\n\r\nYou can get this working cleanly by annotating your class with `@TypeInfo` and implementing a `TypeInfoFactory&lt;T&gt;` for it that specifies the correct `org.apache.flink.api.common.typeinfo.Types` for each field, including the `org.apache.flink.api.common.typeinfo.Types#MAP`. \r\n\r\nThat might look something like this:\r\n\r\n```java\r\n@TypeInfo(MyPojo.MyPojoTypeInfoFactory.class)\r\npublic class MyPojo {\r\n  private String data;\r\n  private HashMap&lt;String, String&gt; attributes;\r\n\r\n  public static class MyPojoTypeInfoFactory extends TypeInfoFactory&lt;MyPojo&gt; {\r\n    @Override\r\n    public TypeInformation&lt;MyPojo&gt; createTypeInfo(\r\n        Type t, Map&lt;String, TypeInformation&lt;?&gt;&gt; genericParameters) {\r\n      Map&lt;String, TypeInformation&lt;?&gt;&gt; fields =\r\n          new HashMap&lt;String, TypeInformation&lt;?&gt;&gt;() {\r\n            {\r\n              put(&quot;data&quot;, Types.STRING);\r\n              put(&quot;attributes&quot;, Types.MAP(Types.STRING, Types.STRING));\r\n            }\r\n          };\r\n      return Types.POJO(MyPojo.class, fields);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNote that a Types.MAP field must not be null. Null keys are not allowed in the map, but null values are okay.","title":"Flink schema evolution not working for POJO class","body":"<p>Flink will accept a class as a valid POJO type even if it contains a field (such as a LIST or MAP) that it cannot serialize without falling back to Kryo. In such cases the INFO log message about <code>Class &lt;your class&gt; cannot be used as a POJO type ...</code> will not appear, but the class will not be fully supported for state migration.</p>\n<p>Flink can deal with LIST and MAP types in POJO fields, but doesn't do so automatically (in order to avoid breaking backwards compatibility).</p>\n<p>You can get this working cleanly by annotating your class with <code>@TypeInfo</code> and implementing a <code>TypeInfoFactory&lt;T&gt;</code> for it that specifies the correct <code>org.apache.flink.api.common.typeinfo.Types</code> for each field, including the <code>org.apache.flink.api.common.typeinfo.Types#MAP</code>.</p>\n<p>That might look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TypeInfo(MyPojo.MyPojoTypeInfoFactory.class)\npublic class MyPojo {\n  private String data;\n  private HashMap&lt;String, String&gt; attributes;\n\n  public static class MyPojoTypeInfoFactory extends TypeInfoFactory&lt;MyPojo&gt; {\n    @Override\n    public TypeInformation&lt;MyPojo&gt; createTypeInfo(\n        Type t, Map&lt;String, TypeInformation&lt;?&gt;&gt; genericParameters) {\n      Map&lt;String, TypeInformation&lt;?&gt;&gt; fields =\n          new HashMap&lt;String, TypeInformation&lt;?&gt;&gt;() {\n            {\n              put(&quot;data&quot;, Types.STRING);\n              put(&quot;attributes&quot;, Types.MAP(Types.STRING, Types.STRING));\n            }\n          };\n      return Types.POJO(MyPojo.class, fields);\n    }\n  }\n}\n</code></pre>\n<p>Note that a Types.MAP field must not be null. Null keys are not allowed in the map, but null values are okay.</p>\n"},{"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1604863954,"post_id":64741856,"comment_id":114470483,"body_markdown":"Glad you found a way to move forward.","body":"Glad you found a way to move forward."}],"tags":[],"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604861206,"creation_date":1604861206,"answer_id":64741856,"question_id":64704634,"body_markdown":"I haven&#39;t been able to make sense of what&#39;s going on internally in Flink,\r\nbut I found a way to achieve migration in 2 upgrades,\r\nalthough I don&#39;t really understand why it works.\r\n\r\nIn the first upgrade I don&#39;t add any new field to the POJO class,\r\nbut I add the type information that David suggested.\r\nThe critical thing in my case was that,\r\nsince my initial job could not be modified anymore and the POJO didn&#39;t have the annotations,\r\nthe type information for the `Map` in the `TypeInfoFactory` had to point to Kryo:\r\n\r\n    put(&quot;mapField&quot;, Types.GENERIC(Map.class));\r\n\r\nI then added a new state descriptor without modifying the old one (my old state was defined in terms of an interface):\r\n\r\n    ListStateDescriptor&lt;InterfaceWithGeneric&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;oldName&quot;,\r\n            TypeInformation.of(new TypeHint&lt;InterfaceWithGeneric&lt;String&gt;&gt;() {})\r\n    );\r\n\r\n    ListStateDescriptor&lt;MyPojo&gt; newLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;newName&quot;,\r\n            MyPojo.class\r\n    );\r\n\r\nWith that I can read from the old descriptor and initialize the new one as needed.\r\n\r\nIn the second upgrade I can remove the old descriptor and add the new field to the POJO,\r\nupdating the `TypeInfoFactory` as well.\r\nSerialization of the existing map will have to continue using Kryo,\r\nas I couldn&#39;t find a way to modify that.\r\n\r\nAdding the annotations, the new field, and the new descriptor in one upgrade didn&#39;t work for me.\r\nI also couldn&#39;t reuse the old descriptor;\r\nthe first upgrade would work fine,\r\nbut adding a new field in the second upgrade threw exceptions again.\r\nI don&#39;t know why some of the exceptions were referencing completely unrelated operators,\r\nbut it seems to just be erroneous reporting from the state restore backend.","title":"Flink schema evolution not working for POJO class","body":"<p>I haven't been able to make sense of what's going on internally in Flink,\nbut I found a way to achieve migration in 2 upgrades,\nalthough I don't really understand why it works.</p>\n<p>In the first upgrade I don't add any new field to the POJO class,\nbut I add the type information that David suggested.\nThe critical thing in my case was that,\nsince my initial job could not be modified anymore and the POJO didn't have the annotations,\nthe type information for the <code>Map</code> in the <code>TypeInfoFactory</code> had to point to Kryo:</p>\n<pre><code>put(&quot;mapField&quot;, Types.GENERIC(Map.class));\n</code></pre>\n<p>I then added a new state descriptor without modifying the old one (my old state was defined in terms of an interface):</p>\n<pre><code>ListStateDescriptor&lt;InterfaceWithGeneric&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\n        &quot;oldName&quot;,\n        TypeInformation.of(new TypeHint&lt;InterfaceWithGeneric&lt;String&gt;&gt;() {})\n);\n\nListStateDescriptor&lt;MyPojo&gt; newLSD = new ListStateDescriptor&lt;&gt;(\n        &quot;newName&quot;,\n        MyPojo.class\n);\n</code></pre>\n<p>With that I can read from the old descriptor and initialize the new one as needed.</p>\n<p>In the second upgrade I can remove the old descriptor and add the new field to the POJO,\nupdating the <code>TypeInfoFactory</code> as well.\nSerialization of the existing map will have to continue using Kryo,\nas I couldn't find a way to modify that.</p>\n<p>Adding the annotations, the new field, and the new descriptor in one upgrade didn't work for me.\nI also couldn't reuse the old descriptor;\nthe first upgrade would work fine,\nbut adding a new field in the second upgrade threw exceptions again.\nI don't know why some of the exceptions were referencing completely unrelated operators,\nbut it seems to just be erroneous reporting from the state restore backend.</p>\n"},{"comments":[{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1666078387,"post_id":74042854,"comment_id":130844012,"body_markdown":"The type of state (List or Value) doesn&#39;t matter, as far as I know, that&#39;s just the type I was using. I don&#39;t have that code anymore but I don&#39;t think I did anything special besides declaring them.","body":"The type of state (List or Value) doesn&#39;t matter, as far as I know, that&#39;s just the type I was using. I don&#39;t have that code anymore but I don&#39;t think I did anything special besides declaring them."},{"owner":{"account_id":7488622,"reputation":21,"user_id":5691081,"display_name":"Charles fu"},"score":0,"creation_date":1666085707,"post_id":74042854,"comment_id":130846312,"body_markdown":"Hi @Alxis, thanks for your reply. For the `InterfaceWithGeneric&lt;String&gt;` and `MyPojo`, do they refer to the same POJO class?\nDoes it mean the legacyLSD was already there before any changes happened?","body":"Hi @Alxis, thanks for your reply. For the <code>InterfaceWithGeneric&lt;String&gt;</code> and <code>MyPojo</code>, do they refer to the same POJO class? Does it mean the legacyLSD was already there before any changes happened?"},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1666086942,"post_id":74042854,"comment_id":130846748,"body_markdown":"`legacyLSD` was there already, and it&#39;s important that its name doesn&#39;t change (&quot;oldName&quot; in this example). `newLSD` can have any name and it doesn&#39;t have to use the same POJO class, if I recall correctly. Something I didn&#39;t mention is the wait time before upgrade 1 and 2 - since I had to read from old state and update new at runtime, I couldn&#39;t update all keys at the same time, so I had to wait a significant time between upgrades. I suppose this could be avoided with the state processor API.","body":"<code>legacyLSD</code> was there already, and it&#39;s important that its name doesn&#39;t change (&quot;oldName&quot; in this example). <code>newLSD</code> can have any name and it doesn&#39;t have to use the same POJO class, if I recall correctly. Something I didn&#39;t mention is the wait time before upgrade 1 and 2 - since I had to read from old state and update new at runtime, I couldn&#39;t update all keys at the same time, so I had to wait a significant time between upgrades. I suppose this could be avoided with the state processor API."},{"owner":{"account_id":7488622,"reputation":21,"user_id":5691081,"display_name":"Charles fu"},"score":0,"creation_date":1666087362,"post_id":74042854,"comment_id":130846914,"body_markdown":"Hi Alexis. We actually have our Flink deployed to AWS KDA. And they do not provide snapshot files, so sadly we cannot rely on State processor API. But I think the wait time is a good hint. we have read something about the state TTL and will probably start looking into it. Thank you!","body":"Hi Alexis. We actually have our Flink deployed to AWS KDA. And they do not provide snapshot files, so sadly we cannot rely on State processor API. But I think the wait time is a good hint. we have read something about the state TTL and will probably start looking into it. Thank you!"},{"owner":{"account_id":7488622,"reputation":21,"user_id":5691081,"display_name":"Charles fu"},"score":0,"creation_date":1666096376,"post_id":74042854,"comment_id":130850076,"body_markdown":"BTW, did you still have the try-catch block when successfully updating the applications?","body":"BTW, did you still have the try-catch block when successfully updating the applications?"},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1666113577,"post_id":74042854,"comment_id":130856959,"body_markdown":"You mean the one I showed in the test where I explicitly used `KryoSerializer`? No, I think that try-catch wasn&#39;t strictly needed in the end, and I of course didn&#39;t end up using the kryo serializer explicitly.","body":"You mean the one I showed in the test where I explicitly used <code>KryoSerializer</code>? No, I think that try-catch wasn&#39;t strictly needed in the end, and I of course didn&#39;t end up using the kryo serializer explicitly."},{"owner":{"account_id":7488622,"reputation":21,"user_id":5691081,"display_name":"Charles fu"},"score":0,"creation_date":1666164597,"post_id":74042854,"comment_id":130867878,"body_markdown":"Yes exactly, we are trying to re-implement that part. We do try out providing TypeInformation to the POJO class as well.\nThe update from the original version to the one with type information still throws state incompatible exceptions.\nBut if we have the TypeInformation one as the first version, we can freely update the POJO class in the following version.\nIn this case, we have to find out a way to update the current version to come along with the type information. But thanks for your clarification!","body":"Yes exactly, we are trying to re-implement that part. We do try out providing TypeInformation to the POJO class as well. The update from the original version to the one with type information still throws state incompatible exceptions. But if we have the TypeInformation one as the first version, we can freely update the POJO class in the following version. In this case, we have to find out a way to update the current version to come along with the type information. But thanks for your clarification!"},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1666168942,"post_id":74042854,"comment_id":130869393,"body_markdown":"If you&#39;re trying to keep the same class but add type information, you might actually have to instantiate `KryoSerializer` explicitly for the old descriptor (and only for the old one). If you add the type info annotation to the existing class then Flink will try to use it for the existing state as well (I think), so I imagine you have to override that if your class doesn&#39;t change but the annotation is added.","body":"If you&#39;re trying to keep the same class but add type information, you might actually have to instantiate <code>KryoSerializer</code> explicitly for the old descriptor (and only for the old one). If you add the type info annotation to the existing class then Flink will try to use it for the existing state as well (I think), so I imagine you have to override that if your class doesn&#39;t change but the annotation is added."},{"owner":{"account_id":7488622,"reputation":21,"user_id":5691081,"display_name":"Charles fu"},"score":0,"creation_date":1666171973,"post_id":74042854,"comment_id":130870549,"body_markdown":"The difference here is that we do not have any states explicitly declared in the current prod version. So we&#39;re not sure how to get access to the old state except for creating a new state.","body":"The difference here is that we do not have any states explicitly declared in the current prod version. So we&#39;re not sure how to get access to the old state except for creating a new state."}],"tags":[],"owner":{"account_id":7488622,"reputation":21,"user_id":5691081,"display_name":"Charles fu"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665746662,"creation_date":1665581974,"answer_id":74042854,"question_id":64704634,"body_markdown":"Our Flink project also encountered a similar issue as yours. \r\n\r\nWe basically had a corruptive POJO class(where getter/setter names weren&#39;t correct). And if we want to fix the naming of the getter/setter, plus update the currently running application with a snapshot. We get messages like this:\r\n[ListSerializer incompatible][1]\r\n\r\nSome detail regarding our project is that the corruptive POJO class mentioned above is nested in another top-level POJO class. And the top-level POJO class is fed to a Cogroup Function as an iterable. We are using google guava to instantiate the iterable into ArrayList.\r\n\r\n\r\n\r\n\r\nBack to your experience, for those 2 StateDescriptors, I have some questions and hope you can answer them.\r\n \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    ListStateDescriptor&lt;InterfaceWithGeneric&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;oldName&quot;,\r\n            TypeInformation.of(new TypeHint&lt;InterfaceWithGeneric&lt;String&gt;&gt;() {})\r\n    );\r\n\r\n    ListStateDescriptor&lt;MyPojo&gt; newLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;newName&quot;,\r\n            MyPojo.class\r\n    );\r\n\r\n&lt;!-- end snippet --&gt;\r\n 1. Why do we need ListStateDescriptor here instead of ValueStateDescriptor.\r\n 2. Did you declare them in the RichFunction(let&#39;s say RichMapFunction, RichCoGroupFunction, etc.)? And if so, are there any more code snippets where you used them? Or simple declaration will help with the problematic serializer?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MjTIZ.png","title":"Flink schema evolution not working for POJO class","body":"<p>Our Flink project also encountered a similar issue as yours.</p>\n<p>We basically had a corruptive POJO class(where getter/setter names weren't correct). And if we want to fix the naming of the getter/setter, plus update the currently running application with a snapshot. We get messages like this:\n<a href=\"https://i.stack.imgur.com/MjTIZ.png\" rel=\"nofollow noreferrer\">ListSerializer incompatible</a></p>\n<p>Some detail regarding our project is that the corruptive POJO class mentioned above is nested in another top-level POJO class. And the top-level POJO class is fed to a Cogroup Function as an iterable. We are using google guava to instantiate the iterable into ArrayList.</p>\n<p>Back to your experience, for those 2 StateDescriptors, I have some questions and hope you can answer them.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>ListStateDescriptor&lt;InterfaceWithGeneric&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\n        \"oldName\",\n        TypeInformation.of(new TypeHint&lt;InterfaceWithGeneric&lt;String&gt;&gt;() {})\n);\n\nListStateDescriptor&lt;MyPojo&gt; newLSD = new ListStateDescriptor&lt;&gt;(\n        \"newName\",\n        MyPojo.class\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol>\n<li>Why do we need ListStateDescriptor here instead of ValueStateDescriptor.</li>\n<li>Did you declare them in the RichFunction(let's say RichMapFunction, RichCoGroupFunction, etc.)? And if so, are there any more code snippets where you used them? Or simple declaration will help with the problematic serializer?</li>\n</ol>\n<p>Thanks!</p>\n"}],"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64741856,"answer_count":3,"score":0,"last_activity_date":1665746662,"creation_date":1604607071,"question_id":64704634,"body_markdown":"I have a class that fulfills the requirements to be treated as POJO,\r\nand this is the main transport class in my streaming job\r\n(it only contains primitives and a `Map&lt;String, String&gt;`).\r\nI have added a new `String` field and the corresponding getter and setter,\r\nbut if I stop the job that&#39;s using the previous class with a savepoint and try to use it to restart with the new class,\r\nI get an exception:\r\n\r\n     java.lang.Exception: Exception while creating StreamOperatorStateContext.\r\n            at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:195)\r\n            at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:253)\r\n            at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeState(StreamTask.java:901)\r\n            at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:415)\r\n            at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:705)\r\n            at org.apache.flink.runtime.taskmanager.Task.run(Task.java:530)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.apache.flink.util.FlinkException: Could not restore keyed state backend for WindowOperator_3b2dbb810ac7d55949cb205a3075facc_(8/8) from any of the 1 provided restore options.\r\n            at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)\r\n            at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:307)\r\n            at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:135)\r\n            ... 6 common frames omitted\r\n    Caused by: org.apache.flink.runtime.state.BackendBuildingException: Failed when trying to restore heap backend\r\n            at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:116)\r\n            at org.apache.flink.runtime.state.memory.MemoryStateBackend.createKeyedStateBackend(MemoryStateBackend.java:347)\r\n            at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:291)\r\n            at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142)\r\n            at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121)\r\n            ... 8 common frames omitted\r\n    Caused by: com.esotericsoftware.kryo.KryoException: java.lang.IndexOutOfBoundsException: Index: 172199998, Size: 13\r\n    ...\r\n            at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125)\r\n            at com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:528)\r\n            at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:761)\r\n            at org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.deserialize(KryoSerializer.java:346)\r\n            at org.apache.flink.api.common.typeutils.base.ListSerializer.deserialize(ListSerializer.java:133)\r\n            at org.apache.flink.api.common.typeutils.base.ListSerializer.deserialize(ListSerializer.java:42)\r\n            at org.apache.flink.runtime.state.heap.StateTableByKeyGroupReaders.lambda$createV2PlusReader$0(StateTableByKeyGroupReaders.java:77)\r\n            at org.apache.flink.runtime.state.KeyGroupPartitioner$PartitioningResultKeyGroupReader.readMappingsInKeyGroup(KeyGroupPartitioner.java:297)\r\n            at org.apache.flink.runtime.state.heap.HeapRestoreOperation.readKeyGroupStateData(HeapRestoreOperation.java:293)\r\n            at org.apache.flink.runtime.state.heap.HeapRestoreOperation.readStateHandleStateData(HeapRestoreOperation.java:254)\r\n            at org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:154)\r\n            at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:114)\r\n            ... 12 common frames omitted\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 172199998, Size: 13\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:657)\r\n            at java.util.ArrayList.get(ArrayList.java:433)\r\n            at com.esotericsoftware.kryo.util.MapReferenceResolver.getReadObject(MapReferenceResolver.java:42)\r\n            at com.esotericsoftware.kryo.Kryo.readReferenceOrNull(Kryo.java:805)\r\n            at com.esotericsoftware.kryo.Kryo.readObjectOrNull(Kryo.java:728)\r\n            at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:113)\r\n            ... 23 common frames omitted\r\n\r\nFor some reason it&#39;s falling back on Kryo.\r\n\r\nI am using Flink 1.9.3, and [according to the documentation](https://ci.apache.org/projects/flink/flink-docs-release-1.9/dev/stream/state/schema_evolution.html) this change should be supported.\r\n\r\n----------\r\n\r\nBased on David&#39;s answer, I&#39;m trying to see if I can migrate my state on the fly *before* adding the new field to the class.\r\nI&#39;ve added the `@TypeInfo` annotation and its factory to `MyPojo`,\r\nand I&#39;m trying to migrate state like this:\r\n\r\n    lsd = new ListStateDescriptor&lt;&gt;(\r\n            &quot;newName&quot;,\r\n            MyPojo.class\r\n    );\r\n\r\n    // migration\r\n\r\n    TypeToken&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; typeToken = new TypeToken&lt;LabeledClassWithTimestamp&lt;String&gt;&gt;() {};\r\n    ListStateDescriptor&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\r\n            &quot;oldName&quot;,\r\n            new KryoSerializer&lt;&gt;((Class&lt;LabeledClassWithTimestamp&lt;String&gt;&gt;) typeToken.getRawType(), runtimeContext.getExecutionConfig())\r\n    );\r\n\r\n    ListState&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; legacyState = runtimeContext.getListState(legacyLSD);\r\n    try {\r\n        List&lt;MyPojo&gt; newState = new ArrayList&lt;&gt;();\r\n        legacyState.get().forEach(o -&gt; newState.add((MyPojo) o));\r\n\r\n        if (!newState.isEmpty()) {\r\n            runtimeContext.getListState(lsd).update(newState);\r\n            legacyState.clear();\r\n        }\r\n    } catch (Exception e) {\r\n        LOG.error(&quot;Could not migrate state:&quot;, e);\r\n    }\r\n\r\nHowever, if I restore the job from a previous savepoint using the new jar,\r\nFlink throws a `StateMigrationException` *in a different operator*:\r\n\r\n    2020-11-08T12:57:59.369Z INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph:1511 [flink-akka.actor.default-dispatcher-17] window-operator (1/8) (uid) switched from RUNNING to FAILED. org.apache.flink.util.StateMigrationException: For heap backends, the new state serializer must not be incompatible.\r\n\r\nThat operator&#39;s state only holds integers:\r\n\r\n    public class SlidingWindowProcessFunction extends ProcessWindowFunction&lt;MyPojo, MyOutput, String, TimeWindow&gt; {\r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        private static final ListStateDescriptor&lt;Integer&gt; LSD = new ListStateDescriptor&lt;&gt;(\r\n                &quot;window-state&quot;, Integer.class);\r\n        \r\n        ...\r\n        \r\n        @Override\r\n        public void process(String key, Context context, Iterable&lt;MyPojo&gt; iterable, Collector&lt;MyOutput&gt; collector) {\r\n            ...\r\n            for (Integer hash : context.windowState().getListState(LSD).get()) {\r\n                alreadyProcessedHashes.add(hash);\r\n            }\r\n            ...\r\n        }\r\n    }\r\n\r\nIs `MyPojo`&#39;s serializer relevant for this other operator&#39;s state even though the POJO class is not used directly in its managed state?","title":"Flink schema evolution not working for POJO class","body":"<p>I have a class that fulfills the requirements to be treated as POJO,\nand this is the main transport class in my streaming job\n(it only contains primitives and a <code>Map&lt;String, String&gt;</code>).\nI have added a new <code>String</code> field and the corresponding getter and setter,\nbut if I stop the job that's using the previous class with a savepoint and try to use it to restart with the new class,\nI get an exception:</p>\n<pre><code> java.lang.Exception: Exception while creating StreamOperatorStateContext.\n        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:195)\n        at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:253)\n        at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeState(StreamTask.java:901)\n        at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:415)\n        at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:705)\n        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:530)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.flink.util.FlinkException: Could not restore keyed state backend for WindowOperator_3b2dbb810ac7d55949cb205a3075facc_(8/8) from any of the 1 provided restore options.\n        at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)\n        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:307)\n        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:135)\n        ... 6 common frames omitted\nCaused by: org.apache.flink.runtime.state.BackendBuildingException: Failed when trying to restore heap backend\n        at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:116)\n        at org.apache.flink.runtime.state.memory.MemoryStateBackend.createKeyedStateBackend(MemoryStateBackend.java:347)\n        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:291)\n        at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142)\n        at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121)\n        ... 8 common frames omitted\nCaused by: com.esotericsoftware.kryo.KryoException: java.lang.IndexOutOfBoundsException: Index: 172199998, Size: 13\n...\n        at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125)\n        at com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:528)\n        at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:761)\n        at org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.deserialize(KryoSerializer.java:346)\n        at org.apache.flink.api.common.typeutils.base.ListSerializer.deserialize(ListSerializer.java:133)\n        at org.apache.flink.api.common.typeutils.base.ListSerializer.deserialize(ListSerializer.java:42)\n        at org.apache.flink.runtime.state.heap.StateTableByKeyGroupReaders.lambda$createV2PlusReader$0(StateTableByKeyGroupReaders.java:77)\n        at org.apache.flink.runtime.state.KeyGroupPartitioner$PartitioningResultKeyGroupReader.readMappingsInKeyGroup(KeyGroupPartitioner.java:297)\n        at org.apache.flink.runtime.state.heap.HeapRestoreOperation.readKeyGroupStateData(HeapRestoreOperation.java:293)\n        at org.apache.flink.runtime.state.heap.HeapRestoreOperation.readStateHandleStateData(HeapRestoreOperation.java:254)\n        at org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:154)\n        at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:114)\n        ... 12 common frames omitted\nCaused by: java.lang.IndexOutOfBoundsException: Index: 172199998, Size: 13\n        at java.util.ArrayList.rangeCheck(ArrayList.java:657)\n        at java.util.ArrayList.get(ArrayList.java:433)\n        at com.esotericsoftware.kryo.util.MapReferenceResolver.getReadObject(MapReferenceResolver.java:42)\n        at com.esotericsoftware.kryo.Kryo.readReferenceOrNull(Kryo.java:805)\n        at com.esotericsoftware.kryo.Kryo.readObjectOrNull(Kryo.java:728)\n        at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:113)\n        ... 23 common frames omitted\n</code></pre>\n<p>For some reason it's falling back on Kryo.</p>\n<p>I am using Flink 1.9.3, and <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.9/dev/stream/state/schema_evolution.html\" rel=\"nofollow noreferrer\">according to the documentation</a> this change should be supported.</p>\n<hr />\n<p>Based on David's answer, I'm trying to see if I can migrate my state on the fly <em>before</em> adding the new field to the class.\nI've added the <code>@TypeInfo</code> annotation and its factory to <code>MyPojo</code>,\nand I'm trying to migrate state like this:</p>\n<pre><code>lsd = new ListStateDescriptor&lt;&gt;(\n        &quot;newName&quot;,\n        MyPojo.class\n);\n\n// migration\n\nTypeToken&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; typeToken = new TypeToken&lt;LabeledClassWithTimestamp&lt;String&gt;&gt;() {};\nListStateDescriptor&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; legacyLSD = new ListStateDescriptor&lt;&gt;(\n        &quot;oldName&quot;,\n        new KryoSerializer&lt;&gt;((Class&lt;LabeledClassWithTimestamp&lt;String&gt;&gt;) typeToken.getRawType(), runtimeContext.getExecutionConfig())\n);\n\nListState&lt;LabeledClassWithTimestamp&lt;String&gt;&gt; legacyState = runtimeContext.getListState(legacyLSD);\ntry {\n    List&lt;MyPojo&gt; newState = new ArrayList&lt;&gt;();\n    legacyState.get().forEach(o -&gt; newState.add((MyPojo) o));\n\n    if (!newState.isEmpty()) {\n        runtimeContext.getListState(lsd).update(newState);\n        legacyState.clear();\n    }\n} catch (Exception e) {\n    LOG.error(&quot;Could not migrate state:&quot;, e);\n}\n</code></pre>\n<p>However, if I restore the job from a previous savepoint using the new jar,\nFlink throws a <code>StateMigrationException</code> <em>in a different operator</em>:</p>\n<pre><code>2020-11-08T12:57:59.369Z INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph:1511 [flink-akka.actor.default-dispatcher-17] window-operator (1/8) (uid) switched from RUNNING to FAILED. org.apache.flink.util.StateMigrationException: For heap backends, the new state serializer must not be incompatible.\n</code></pre>\n<p>That operator's state only holds integers:</p>\n<pre><code>public class SlidingWindowProcessFunction extends ProcessWindowFunction&lt;MyPojo, MyOutput, String, TimeWindow&gt; {\n    private static final long serialVersionUID = 1L;\n    \n    private static final ListStateDescriptor&lt;Integer&gt; LSD = new ListStateDescriptor&lt;&gt;(\n            &quot;window-state&quot;, Integer.class);\n    \n    ...\n    \n    @Override\n    public void process(String key, Context context, Iterable&lt;MyPojo&gt; iterable, Collector&lt;MyOutput&gt; collector) {\n        ...\n        for (Integer hash : context.windowState().getListState(LSD).get()) {\n            alreadyProcessedHashes.add(hash);\n        }\n        ...\n    }\n}\n</code></pre>\n<p>Is <code>MyPojo</code>'s serializer relevant for this other operator's state even though the POJO class is not used directly in its managed state?</p>\n"},{"tags":["java","android","android-studio","xiaomi"],"answers":[{"comments":[{"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"score":0,"creation_date":1640730202,"post_id":70513132,"comment_id":124645929,"body_markdown":"USB debugging was already activated, but I had MIUI optimization active, deactivating it as you indicated solved my problem! Thanks","body":"USB debugging was already activated, but I had MIUI optimization active, deactivating it as you indicated solved my problem! Thanks"}],"tags":[],"owner":{"account_id":16095049,"reputation":393,"user_id":11617436,"display_name":"Khalid Fazal"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640761005,"creation_date":1640729921,"answer_id":70513132,"question_id":70513090,"body_markdown":"You should switch off the `MIUI Optimization` option from `Developer Options`.\r\n\r\nAlso check if `USB debugging` is switched on.","title":"Android Studio not showing build error in Xiaomi phone","body":"<p>You should switch off the <code>MIUI Optimization</code> option from <code>Developer Options</code>.</p>\n<p>Also check if <code>USB debugging</code> is switched on.</p>\n"}],"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70513132,"answer_count":1,"score":0,"last_activity_date":1665746614,"creation_date":1640729522,"question_id":70513090,"body_markdown":"My application restarts when I have errors in my code, the problem is that I cannot know in which line of code the error is because Android Studio does not tell me. I have this problem on a Xiaomi mi 11i phone (Android 11, MIUI 12.5.3) I can only see blue text. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have a Samsung J260 device in which I have no problems (when there are problems in my code it always tells me which line it is on), I don&#39;t like to do tests on my Samsung because it takes too long. What could be the problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I2FtF.png","title":"Android Studio not showing build error in Xiaomi phone","body":"<p>My application restarts when I have errors in my code, the problem is that I cannot know in which line of code the error is because Android Studio does not tell me. I have this problem on a Xiaomi mi 11i phone (Android 11, MIUI 12.5.3) I can only see blue text.</p>\n<p><a href=\"https://i.stack.imgur.com/I2FtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I2FtF.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a Samsung J260 device in which I have no problems (when there are problems in my code it always tells me which line it is on), I don't like to do tests on my Samsung because it takes too long. What could be the problem?</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-api"],"answers":[{"tags":[],"owner":{"account_id":243256,"reputation":3047,"user_id":515310,"display_name":"Christian Kohlsch&#252;tter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665746304,"creation_date":1665746304,"answer_id":74068421,"question_id":71579853,"body_markdown":"junixsocket version 2.0.4 does not support Windows. You need to upgrade to a later version.\r\n\r\nTry changing your junixsocket dependencies to\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.2&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPS: You have another error in the dependency configuration for native-common: `&lt;type&gt;pom&lt;/type&gt;` should only be specified for `junixsocket-core`, which is a POM-type artifact that includes `junixsocket-common` and `junixsocket-native-common`, which are both jar-type artifacts. Therefore just remove that declaration, since `junixsocket-core` is all you should need.\r\n","title":"Library &#39;junixsocket-native-2.0.4.dll&#39; not found! with java docker api","body":"<p>junixsocket version 2.0.4 does not support Windows. You need to upgrade to a later version.</p>\n<p>Try changing your junixsocket dependencies to</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n  &lt;artifactId&gt;junixsocket-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5.2&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>PS: You have another error in the dependency configuration for native-common: <code>&lt;type&gt;pom&lt;/type&gt;</code> should only be specified for <code>junixsocket-core</code>, which is a POM-type artifact that includes <code>junixsocket-common</code> and <code>junixsocket-native-common</code>, which are both jar-type artifacts. Therefore just remove that declaration, since <code>junixsocket-core</code> is all you should need.</p>\n"}],"owner":{"account_id":22002419,"reputation":79,"user_id":16273950,"display_name":"Marouen Ghozzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665746304,"creation_date":1647989403,"question_id":71579853,"body_markdown":"When trying to list all my containers which exist with docker on windows 10 . \r\n\r\nI got this error : \r\n\r\nLibrary &#39;junixsocket-native-2.0.4.dll&#39; not found!\r\n\r\nThis is my code : \r\n\r\n    public void listContainer() {\r\n    \t\tDefaultDockerClientConfig config\r\n    \t\t  = DefaultDockerClientConfig.createDefaultConfigBuilder()\r\n    \t\t    .withDockerHost(&quot;unix://172.0.0.2:9200&quot;).build();\r\n    \t\tDockerClient dockerClient = DockerClientBuilder\r\n    \t\t\t\t  .getInstance(config)\r\n    \t\t\t\t  .build();\r\n    \t\tList&lt;Container&gt; containers = dockerClient.listContainersCmd().exec() ;\t\t\r\n    \t\t\t\tfor(Container container : containers) {\r\n                System.out.println(container.getId()); \r\n            \r\n            }\r\n    \r\n    \t}\r\n\r\nThis is my pom.xml \r\n\r\n\t\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.12.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.10.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;docker-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.14&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junixsocket-server&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.kohlschutter.junixsocket/junixsocket-native --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junixsocket-native-common&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.spotify/dockerfile-maven-plugin --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\t\t\r\n    \t&lt;/dependencies&gt;\r\n\r\nThis is console log : \r\n\r\n Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is javax.ws.rs.ProcessingException] with root cause\r\n\r\njava.lang.RuntimeException: Library &#39;junixsocket-native-2.0.4.dll&#39; not found!\r\n\tat org.newsclub.net.unix.NarSystem.getLibPath(NarSystem.java:132) ~[junixsocket-native-common-2.0.4.jar:na]\r\n\tat org.newsclub.net.unix.NarSystem.loadLibrary(NarSystem.java:36) ~[junixsocket-native-common-2.0.4.jar:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n\tat org.newsclub.net.unix.NativeUnixSocket.&lt;clinit&gt;(NativeUnixSocket.java:35) ~[junixsocket-common-2.0.4.jar:na]\r\n\tat org.newsclub.net.unix.AFUNIXSocket.&lt;init&gt;(AFUNIXSocket.java:36) ~[junixsocket-common-2.0.4.jar:na]\r\n\tat org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:54) ~[junixsocket-common-2.0.4.jar:na]\r\n\tat com.github.dockerjava.jaxrs.ApacheUnixSocket.&lt;init&gt;(ApacheUnixSocket.java:51) ~[docker-java-3.0.14.jar:na]\r\n\tat com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66) ~[docker-java-3.0.14.jar:na]\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:119) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]\r\n\r\n","title":"Library &#39;junixsocket-native-2.0.4.dll&#39; not found! with java docker api","body":"<p>When trying to list all my containers which exist with docker on windows 10 .</p>\n<p>I got this error :</p>\n<p>Library 'junixsocket-native-2.0.4.dll' not found!</p>\n<p>This is my code :</p>\n<pre><code>public void listContainer() {\n        DefaultDockerClientConfig config\n          = DefaultDockerClientConfig.createDefaultConfigBuilder()\n            .withDockerHost(&quot;unix://172.0.0.2:9200&quot;).build();\n        DockerClient dockerClient = DockerClientBuilder\n                  .getInstance(config)\n                  .build();\n        List&lt;Container&gt; containers = dockerClient.listContainersCmd().exec() ;      \n                for(Container container : containers) {\n            System.out.println(container.getId()); \n        \n        }\n\n    }\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.12.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\n            &lt;version&gt;1.0.10.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n            &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\n            &lt;version&gt;3.0.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n  &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n  &lt;artifactId&gt;junixsocket-server&lt;/artifactId&gt;\n  &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.kohlschutter.junixsocket/junixsocket-native --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.kohlschutter.junixsocket&lt;/groupId&gt;\n    &lt;artifactId&gt;junixsocket-native-common&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.spotify/dockerfile-maven-plugin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n    &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.4.13&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n&lt;/dependency&gt;       \n    &lt;/dependencies&gt;\n</code></pre>\n<p>This is console log :</p>\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is javax.ws.rs.ProcessingException] with root cause</p>\n<p>java.lang.RuntimeException: Library 'junixsocket-native-2.0.4.dll' not found!\nat org.newsclub.net.unix.NarSystem.getLibPath(NarSystem.java:132) ~[junixsocket-native-common-2.0.4.jar:na]\nat org.newsclub.net.unix.NarSystem.loadLibrary(NarSystem.java:36) ~[junixsocket-native-common-2.0.4.jar:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\nat org.newsclub.net.unix.NativeUnixSocket.(NativeUnixSocket.java:35) ~[junixsocket-common-2.0.4.jar:na]\nat org.newsclub.net.unix.AFUNIXSocket.(AFUNIXSocket.java:36) ~[junixsocket-common-2.0.4.jar:na]\nat org.newsclub.net.unix.AFUNIXSocket.newInstance(AFUNIXSocket.java:54) ~[junixsocket-common-2.0.4.jar:na]\nat com.github.dockerjava.jaxrs.ApacheUnixSocket.(ApacheUnixSocket.java:51) ~[docker-java-3.0.14.jar:na]\nat com.github.dockerjava.jaxrs.UnixConnectionSocketFactory.createSocket(UnixConnectionSocketFactory.java:66) ~[docker-java-3.0.14.jar:na]\nat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:119) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\nat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]</p>\n"},{"tags":["java","http","https","httpclient","keep-alive"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1665668547,"post_id":74056738,"comment_id":130757130,"body_markdown":"Looks like you explicitly close connection in your code.","body":"Looks like you explicitly close connection in your code."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665668605,"post_id":74056738,"comment_id":130757148,"body_markdown":"You probably need to show us `openConnection` code.","body":"You probably need to show us <code>openConnection</code> code."},{"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"score":0,"creation_date":1665746042,"post_id":74056738,"comment_id":130775334,"body_markdown":"@talex : I have edited my question to add the openConnectionMethod()\nWith http, the same code works fine, but with https, the client port changes.","body":"@talex : I have edited my question to add the openConnectionMethod() With http, the same code works fine, but with https, the client port changes."},{"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"score":0,"creation_date":1666021777,"post_id":74056738,"comment_id":130831188,"body_markdown":"When a client creates a secured connection(https) but is unable to receive the final chunk, it treats the initial port it opened as in-progress or busy and opens a new one to proceed with the next request. \n\nIn my case, that is what is happening. In order to validate it, I enabled the Java debugging feature &quot;javax.net.debug&quot; in Java.","body":"When a client creates a secured connection(https) but is unable to receive the final chunk, it treats the initial port it opened as in-progress or busy and opens a new one to proceed with the next request.   In my case, that is what is happening. In order to validate it, I enabled the Java debugging feature &quot;javax.net.debug&quot; in Java."},{"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"score":0,"creation_date":1666021954,"post_id":74056738,"comment_id":130831268,"body_markdown":"I used two different client libraries weblogic client libs and default java package libs, application was deployed on Weblogic. \n\nAccording to the client logs, I could see that the final chunk was read when the weblogic client libraries were used.\n\nHowever, I was unable to see the final chunk when using the default Java packages.","body":"I used two different client libraries weblogic client libs and default java package libs, application was deployed on Weblogic.   According to the client logs, I could see that the final chunk was read when the weblogic client libraries were used.  However, I was unable to see the final chunk when using the default Java packages."},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1671023780,"post_id":74056738,"comment_id":132007208,"body_markdown":"Have you tried draining the HttpURLConnection input stream before closing it?","body":"Have you tried draining the HttpURLConnection input stream before closing it?"}],"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665745981,"creation_date":1665668240,"question_id":74056738,"body_markdown":"A chunked encoded response is provided by a simple web application I have deployed. Just to be sure that the keep-alive is honored, I call this URL connection twice in a loop. \r\n\r\nIt is clear that the client port changes with each iteration when I capture the tcp packets and check them. \r\nOnly during https calls does this happen, whereas during http calls it always reuses the client port.\r\n\r\nI call this method in a loop, and s_provider takes the value \r\nhttps://hostname:8443/servlet/testchunk or\r\nhttp://hostname:8080/servlet/testchunk\r\n\r\n```\r\nprivate static Serializable invoke() {\r\n    HttpConnCxt httpcontext = null;\r\n    String result = null;\r\n    try {\r\n      httpcontext = openConnection(new URL(s_provider));\r\n      httpcontext.out.flush();\r\n      httpcontext.out.close();\r\n      httpcontext.in = new ObjectInputStream(httpcontext.uc.getInputStream());\r\n\r\n      try {\r\n        result = (String)httpcontext.in.readObject();\r\n        Integer i = (Integer)httpcontext.in.readObject();\r\n        Long l1 = (Long)httpcontext.in.readObject();\r\n      } catch (java.io.EOFException eofEx) {\r\n        eofEx.printStackTrace();\r\n      }\r\n      return result;\r\n    } catch (Exception x) {\r\n      x.printStackTrace();\r\n    } finally {\r\n      try {\r\n        if (httpcontext != null &amp;&amp; httpcontext.in != null)\r\n          httpcontext.in.close();\r\n      } catch (Exception x) {}\r\n    }\r\n    return result;\r\n  }\r\n```\r\n\r\n\r\nAccording to the TCP dump captured during https iteration-1:\r\nThe client port is 54888, and the server port is 8443\r\n\r\nIn iteration-2:\r\nThe client port used is 54889, and the server port remains 8443.\r\n\r\n\r\nIs there a reason why https does not reuse the client port?\r\n\r\n\r\n\r\nEdited: Method openConnection(..)\r\n=========\r\n\r\n```\r\nprivate static HttpConnCxt openConnection(URL mUrl) throws Exception {\r\n    HttpConnCxt httpConnCxt = new HttpConnCxt(null, null, null);\r\n    try {\r\n      httpConnCxt.uc = mUrl.openConnection();\r\n      configureConnection(httpConnCxt.uc);\r\n      httpConnCxt.uc.setDoInput(true);\r\n      httpConnCxt.uc.setDoOutput(true);\r\n      httpConnCxt.uc.setUseCaches(false);\r\n      httpConnCxt.uc.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n      httpConnCxt.uc.setRequestProperty(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n      httpConnCxt.out = new java.io.ObjectOutputStream(httpConnCxt.uc.getOutputStream());\r\n      return httpConnCxt;\r\n    }\r\n    catch (Exception ex) {\r\n      throw ex;\r\n    }\r\n  }\r\n```\r\n\r\nWith http, the same code works fine, but with https, the client port changes.","title":"In Java despite being configured as keep alive, HTTPS creates multiple client ports","body":"<p>A chunked encoded response is provided by a simple web application I have deployed. Just to be sure that the keep-alive is honored, I call this URL connection twice in a loop.</p>\n<p>It is clear that the client port changes with each iteration when I capture the tcp packets and check them.\nOnly during https calls does this happen, whereas during http calls it always reuses the client port.</p>\n<p>I call this method in a loop, and s_provider takes the value\nhttps://hostname:8443/servlet/testchunk or\nhttp://hostname:8080/servlet/testchunk</p>\n<pre><code>private static Serializable invoke() {\n    HttpConnCxt httpcontext = null;\n    String result = null;\n    try {\n      httpcontext = openConnection(new URL(s_provider));\n      httpcontext.out.flush();\n      httpcontext.out.close();\n      httpcontext.in = new ObjectInputStream(httpcontext.uc.getInputStream());\n\n      try {\n        result = (String)httpcontext.in.readObject();\n        Integer i = (Integer)httpcontext.in.readObject();\n        Long l1 = (Long)httpcontext.in.readObject();\n      } catch (java.io.EOFException eofEx) {\n        eofEx.printStackTrace();\n      }\n      return result;\n    } catch (Exception x) {\n      x.printStackTrace();\n    } finally {\n      try {\n        if (httpcontext != null &amp;&amp; httpcontext.in != null)\n          httpcontext.in.close();\n      } catch (Exception x) {}\n    }\n    return result;\n  }\n</code></pre>\n<p>According to the TCP dump captured during https iteration-1:\nThe client port is 54888, and the server port is 8443</p>\n<p>In iteration-2:\nThe client port used is 54889, and the server port remains 8443.</p>\n<p>Is there a reason why https does not reuse the client port?</p>\n<h1>Edited: Method openConnection(..)</h1>\n<pre><code>private static HttpConnCxt openConnection(URL mUrl) throws Exception {\n    HttpConnCxt httpConnCxt = new HttpConnCxt(null, null, null);\n    try {\n      httpConnCxt.uc = mUrl.openConnection();\n      configureConnection(httpConnCxt.uc);\n      httpConnCxt.uc.setDoInput(true);\n      httpConnCxt.uc.setDoOutput(true);\n      httpConnCxt.uc.setUseCaches(false);\n      httpConnCxt.uc.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n      httpConnCxt.uc.setRequestProperty(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n      httpConnCxt.out = new java.io.ObjectOutputStream(httpConnCxt.uc.getOutputStream());\n      return httpConnCxt;\n    }\n    catch (Exception ex) {\n      throw ex;\n    }\n  }\n</code></pre>\n<p>With http, the same code works fine, but with https, the client port changes.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"score":0,"creation_date":1665740165,"post_id":74066966,"comment_id":130773642,"body_markdown":"Are you trying to return all files under `10001` at the same time? Or only 1 file?","body":"Are you trying to return all files under <code>10001</code> at the same time? Or only 1 file?"},{"owner":{"account_id":6706597,"reputation":15,"user_id":5171310,"display_name":"James"},"score":0,"creation_date":1665740563,"post_id":74066966,"comment_id":130773797,"body_markdown":"I want both a single file and all files","body":"I want both a single file and all files"},{"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"score":0,"creation_date":1665741407,"post_id":74066966,"comment_id":130774061,"body_markdown":"You can only return 1 file at a time. Therefore, in case of many files, you need to create a zip file and return it. So, for single file, what is the value of your `filename` and `root.resolve(filename)`?","body":"You can only return 1 file at a time. Therefore, in case of many files, you need to create a zip file and return it. So, for single file, what is the value of your <code>filename</code> and <code>root.resolve(filename)</code>?"},{"owner":{"account_id":6706597,"reputation":15,"user_id":5171310,"display_name":"James"},"score":0,"creation_date":1665744754,"post_id":74066966,"comment_id":130774973,"body_markdown":"the value is passed in the controller if I understand your question right.","body":"the value is passed in the controller if I understand your question right."}],"answers":[{"comments":[{"owner":{"account_id":6706597,"reputation":15,"user_id":5171310,"display_name":"James"},"score":0,"creation_date":1665739759,"post_id":74067045,"comment_id":130773516,"body_markdown":"Should I query the database for the file names in the storage service? This is how is class looks like.     private Long id;\n\n    @Column(nullable = false)\n    private String applicationLetter;\n\n    @Column(nullable = false)\n    private String certOfIncorporation;\n\n    @Column(nullable = false)\n    private String paymentReceipt;\n\n    @Column(nullable = false)\n    private String taxClearance;\n\n    @Column(nullable = false)\n    private String staffsResume;\n\n    @Column(nullable = false)\n    private String letterOfCredibility;","body":"Should I query the database for the file names in the storage service? This is how is class looks like.     private Long id;      @Column(nullable = false)     private String applicationLetter;      @Column(nullable = false)     private String certOfIncorporation;      @Column(nullable = false)     private String paymentReceipt;      @Column(nullable = false)     private String taxClearance;      @Column(nullable = false)     private String staffsResume;      @Column(nullable = false)     private String letterOfCredibility;"},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665739863,"post_id":74067045,"comment_id":130773539,"body_markdown":"yes query the database","body":"yes query the database"},{"owner":{"account_id":6706597,"reputation":15,"user_id":5171310,"display_name":"James"},"score":0,"creation_date":1665745062,"post_id":74067045,"comment_id":130775060,"body_markdown":"tried all the method but its still returning null value","body":"tried all the method but its still returning null value"}],"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665739070,"creation_date":1665739070,"answer_id":74067045,"question_id":74066966,"body_markdown":"refer this example :\r\n```\r\n  @GetMapping(&quot;/files&quot;)\r\n  public ResponseEntity&lt;List&lt;ResponseFile&gt;&gt; getListFiles() {\r\n    List&lt;ResponseFile&gt; files = storageService.getAllFiles().map(dbFile -&gt; {\r\n      String fileDownloadUri = ServletUriComponentsBuilder\r\n          .fromCurrentContextPath()\r\n          .path(&quot;/files/&quot;)\r\n          .path(dbFile.getId())\r\n          .toUriString();\r\n\r\n      return new ResponseFile(\r\n          dbFile.getName(),\r\n          fileDownloadUri,\r\n          dbFile.getType(),\r\n          dbFile.getData().length);\r\n    }).collect(Collectors.toList());\r\n\r\n    return ResponseEntity.status(HttpStatus.OK).body(files);\r\n  }\r\n\r\n  @GetMapping(&quot;/files/{id}&quot;)\r\n  public ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String id) {\r\n    FileDB fileDB = storageService.getFile(id);\r\n\r\n    return ResponseEntity.ok()\r\n        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileDB.getName() + &quot;\\&quot;&quot;)\r\n        .body(fileDB.getData());\r\n  }\r\n\r\n```","title":"how to download file from a file server in spring boot","body":"<p>refer this example :</p>\n<pre><code>  @GetMapping(&quot;/files&quot;)\n  public ResponseEntity&lt;List&lt;ResponseFile&gt;&gt; getListFiles() {\n    List&lt;ResponseFile&gt; files = storageService.getAllFiles().map(dbFile -&gt; {\n      String fileDownloadUri = ServletUriComponentsBuilder\n          .fromCurrentContextPath()\n          .path(&quot;/files/&quot;)\n          .path(dbFile.getId())\n          .toUriString();\n\n      return new ResponseFile(\n          dbFile.getName(),\n          fileDownloadUri,\n          dbFile.getType(),\n          dbFile.getData().length);\n    }).collect(Collectors.toList());\n\n    return ResponseEntity.status(HttpStatus.OK).body(files);\n  }\n\n  @GetMapping(&quot;/files/{id}&quot;)\n  public ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String id) {\n    FileDB fileDB = storageService.getFile(id);\n\n    return ResponseEntity.ok()\n        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileDB.getName() + &quot;\\&quot;&quot;)\n        .body(fileDB.getData());\n  }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665739551,"creation_date":1665739551,"answer_id":74067137,"question_id":74066966,"body_markdown":"Try this method for loading resource. to see if it works\r\n\r\nResource file = fileStorageService.loadFileAsResource(fileName);","title":"how to download file from a file server in spring boot","body":"<p>Try this method for loading resource. to see if it works</p>\n<p>Resource file = fileStorageService.loadFileAsResource(fileName);</p>\n"},{"tags":[],"owner":{"account_id":22070829,"reputation":49,"user_id":16331833,"display_name":"sonnv0812"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665739751,"creation_date":1665739751,"answer_id":74067181,"question_id":74066966,"body_markdown":"Try this code \r\n\r\n    @GetMapping( &quot;/files/{filename:.+}/{id}&quot;)\r\n    public void getFile(@PathVariable String filename, HttpServletRequest request, final HttpServletResponse response) {\r\n        BufferedInputStream bufferedInputStream = null;\r\n        try {\r\n            File file = ...;\r\n    \r\n            response.setHeader(&quot;Cache-Control&quot;, &quot;must-revalidate&quot;);\r\n            response.setHeader(&quot;Pragma&quot;, &quot;public&quot;);\r\n            response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n            response.setHeader(&quot;Content-disposition&quot;, &quot;attachment; &quot;);\r\n    \r\n            bufferedInputStream = new BufferedInputStream(new FileInputStream(file));\r\n            FileCopyUtils.copy(bufferedInputStream, response.getOutputStream());\r\n    \r\n        } catch (Exception e) {\r\n    \tlogger.error(e.getMesssage(), e);\r\n        } finally {\r\n            try {\r\n                response.getOutputStream().flush();\r\n                response.getOutputStream().close();\r\n            } catch (Exception ex) {\r\n                logger.error(ex);\r\n            }\r\n    \r\n            try {\r\n                if (bufferedInputStream != null)\r\n                    bufferedInputStream.close();\r\n            } catch (Exception ex) {\r\n                logger.error(ex);\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m not sure it will work with your system, but for me I still use this method to download files normally.","title":"how to download file from a file server in spring boot","body":"<p>Try this code</p>\n<pre><code>@GetMapping( &quot;/files/{filename:.+}/{id}&quot;)\npublic void getFile(@PathVariable String filename, HttpServletRequest request, final HttpServletResponse response) {\n    BufferedInputStream bufferedInputStream = null;\n    try {\n        File file = ...;\n\n        response.setHeader(&quot;Cache-Control&quot;, &quot;must-revalidate&quot;);\n        response.setHeader(&quot;Pragma&quot;, &quot;public&quot;);\n        response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\n        response.setHeader(&quot;Content-disposition&quot;, &quot;attachment; &quot;);\n\n        bufferedInputStream = new BufferedInputStream(new FileInputStream(file));\n        FileCopyUtils.copy(bufferedInputStream, response.getOutputStream());\n\n    } catch (Exception e) {\n    logger.error(e.getMesssage(), e);\n    } finally {\n        try {\n            response.getOutputStream().flush();\n            response.getOutputStream().close();\n        } catch (Exception ex) {\n            logger.error(ex);\n        }\n\n        try {\n            if (bufferedInputStream != null)\n                bufferedInputStream.close();\n        } catch (Exception ex) {\n            logger.error(ex);\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure it will work with your system, but for me I still use this method to download files normally.</p>\n"}],"owner":{"account_id":6706597,"reputation":15,"user_id":5171310,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1665745748,"creation_date":1665738717,"question_id":74066966,"body_markdown":"I uploaded a file using multipart successfully and appended the entity class id to it. Sending a get request returns a null value.\r\n\r\nThis is my post endpoint:\r\n\r\n    @PostMapping(&quot;/{id}/upload_multiple&quot;)\r\n    public ResponseEntity&lt;ResponseMessage&gt; createDocument(@PathVariable Long id,\r\n    \t\t@RequestParam(&quot;applicationLetter&quot;) MultipartFile appLetter,\r\n    \t\t@RequestParam(&quot;certificateOfInc&quot;) MultipartFile cInc, @RequestParam(&quot;paymentReceipt&quot;) MultipartFile payment,\r\n    \t\t@RequestParam(&quot;taxClearance&quot;) MultipartFile tax, @RequestParam(&quot;staffsResume&quot;) MultipartFile staffs,\r\n    \t\t@RequestParam(&quot;letterOfCredibility&quot;) MultipartFile credibility,\r\n    \t\t@RequestParam(&quot;workCertificate&quot;) MultipartFile workCert,\r\n    \t\t@RequestParam(&quot;consentAffidavit&quot;) MultipartFile affidavit,\r\n    \t\t@RequestParam(&quot;collaborationCert&quot;) MultipartFile colabo, @RequestParam(&quot;directorsId&quot;) MultipartFile idcard,\r\n    \t\t@RequestParam(&quot;membership&quot;) MultipartFile member) throws IOException {\r\n    \r\n    \tdocumentService.create(id, appLetter, cInc, payment, tax, staffs, credibility, workCert, affidavit, colabo,\r\n    \t\t\tidcard, member);\r\n    \tString message = &quot;Upload successful&quot;;\r\n    \r\n    \treturn ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\r\n    }\r\n\r\nuploaded files are saved in a another folder 10001 which is the ID of the document entity. My challenge now is to get those files from 10001 folder.\r\n[![uploaded][1]][1]  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1dppC.jpg\r\n\r\nThis is what I tried but is returning null value for all the documents:\r\n\r\n    @GetMapping( &quot;/files/{filename:.+}/{id}&quot;)\r\n\tpublic ResponseEntity&lt;Resource&gt; getFile(@PathVariable String filename) {\r\n\t\tResource file = documentService.load(filename);\r\n\t\treturn ResponseEntity.ok()\r\n\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n\t\t\t\t.header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + file.getFilename() + &quot;\\&quot;&quot;)\r\n\t\t\t\t.body(file);\r\n\t}\r\n\t\r\n\r\nMy service class:\r\n\r\n    private final Path root = Paths.get(&quot;documents&quot;);\r\n\r\n     @Override\r\n\t  public Resource load(String filename) {\r\n\t    try {\r\n\t      Path file = root.resolve(filename);\r\n\t      Resource resource = new UrlResource(file.toUri());\r\n\r\n\t      if (resource.exists() || resource.isReadable()) {\r\n\t        return resource;\r\n\t      } else {\r\n\t        throw new RuntimeException(&quot;Could not read the file!&quot;);\r\n\t      }\r\n\t    } catch (MalformedURLException e) {\r\n\t      throw new RuntimeException(&quot;Error: &quot; + e.getMessage());\r\n\t    }\r\n\t  }\r\n\r\nMy Entity class:\r\n\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Documents {\r\n    \r\n        @Id\r\n        @Column(nullable = false, updatable = false)\r\n        @SequenceGenerator(\r\n                name = &quot;primary_sequence&quot;,\r\n                sequenceName = &quot;primary_sequence&quot;,\r\n                allocationSize = 1,\r\n                initialValue = 10000\r\n        )\r\n        @GeneratedValue(\r\n                strategy = GenerationType.SEQUENCE,\r\n                generator = &quot;primary_sequence&quot;\r\n        )\r\n        private Long id;\r\n    \r\n        @Column(nullable = false)\r\n        private String applicationLetter;\r\n    \r\n        @Column(nullable = false)\r\n        private String certOfIncorporation;\r\n    \r\n        @Column(nullable = false)\r\n        private String paymentReceipt;\r\n    \r\n        @Column(nullable = false)\r\n        private String taxClearance;\r\n    \r\n        @Column(nullable = false)\r\n        private String staffsResume;\r\n    }","title":"how to download file from a file server in spring boot","body":"<p>I uploaded a file using multipart successfully and appended the entity class id to it. Sending a get request returns a null value.</p>\n<p>This is my post endpoint:</p>\n<pre><code>@PostMapping(&quot;/{id}/upload_multiple&quot;)\npublic ResponseEntity&lt;ResponseMessage&gt; createDocument(@PathVariable Long id,\n        @RequestParam(&quot;applicationLetter&quot;) MultipartFile appLetter,\n        @RequestParam(&quot;certificateOfInc&quot;) MultipartFile cInc, @RequestParam(&quot;paymentReceipt&quot;) MultipartFile payment,\n        @RequestParam(&quot;taxClearance&quot;) MultipartFile tax, @RequestParam(&quot;staffsResume&quot;) MultipartFile staffs,\n        @RequestParam(&quot;letterOfCredibility&quot;) MultipartFile credibility,\n        @RequestParam(&quot;workCertificate&quot;) MultipartFile workCert,\n        @RequestParam(&quot;consentAffidavit&quot;) MultipartFile affidavit,\n        @RequestParam(&quot;collaborationCert&quot;) MultipartFile colabo, @RequestParam(&quot;directorsId&quot;) MultipartFile idcard,\n        @RequestParam(&quot;membership&quot;) MultipartFile member) throws IOException {\n\n    documentService.create(id, appLetter, cInc, payment, tax, staffs, credibility, workCert, affidavit, colabo,\n            idcard, member);\n    String message = &quot;Upload successful&quot;;\n\n    return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\n}\n</code></pre>\n<p>uploaded files are saved in a another folder 10001 which is the ID of the document entity. My challenge now is to get those files from 10001 folder.\n<a href=\"https://i.stack.imgur.com/1dppC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1dppC.jpg\" alt=\"uploaded\" /></a></p>\n<p>This is what I tried but is returning null value for all the documents:</p>\n<pre><code>@GetMapping( &quot;/files/{filename:.+}/{id}&quot;)\npublic ResponseEntity&lt;Resource&gt; getFile(@PathVariable String filename) {\n    Resource file = documentService.load(filename);\n    return ResponseEntity.ok()\n            .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + file.getFilename() + &quot;\\&quot;&quot;)\n            .body(file);\n}\n</code></pre>\n<p>My service class:</p>\n<pre><code>private final Path root = Paths.get(&quot;documents&quot;);\n\n @Override\n  public Resource load(String filename) {\n    try {\n      Path file = root.resolve(filename);\n      Resource resource = new UrlResource(file.toUri());\n\n      if (resource.exists() || resource.isReadable()) {\n        return resource;\n      } else {\n        throw new RuntimeException(&quot;Could not read the file!&quot;);\n      }\n    } catch (MalformedURLException e) {\n      throw new RuntimeException(&quot;Error: &quot; + e.getMessage());\n    }\n  }\n</code></pre>\n<p>My Entity class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Documents {\n\n    @Id\n    @Column(nullable = false, updatable = false)\n    @SequenceGenerator(\n            name = &quot;primary_sequence&quot;,\n            sequenceName = &quot;primary_sequence&quot;,\n            allocationSize = 1,\n            initialValue = 10000\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;primary_sequence&quot;\n    )\n    private Long id;\n\n    @Column(nullable = false)\n    private String applicationLetter;\n\n    @Column(nullable = false)\n    private String certOfIncorporation;\n\n    @Column(nullable = false)\n    private String paymentReceipt;\n\n    @Column(nullable = false)\n    private String taxClearance;\n\n    @Column(nullable = false)\n    private String staffsResume;\n}\n</code></pre>\n"},{"tags":["java","spring","ignite"],"comments":[{"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"score":0,"creation_date":1665552465,"post_id":74036797,"comment_id":130724403,"body_markdown":"Please share full exception details. Inner exceptions should contain the actual reason for the failure.","body":"Please share full exception details. Inner exceptions should contain the actual reason for the failure."},{"owner":{"account_id":11610378,"reputation":25,"user_id":8504778,"display_name":"Bhushan"},"score":0,"creation_date":1665592294,"post_id":74036797,"comment_id":130738835,"body_markdown":"It is not allowing me to add entire error trace. Exceeds thier character limits","body":"It is not allowing me to add entire error trace. Exceeds thier character limits"},{"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"score":0,"creation_date":1665595957,"post_id":74036797,"comment_id":130740015,"body_markdown":"Try GitHub Gitsts or Pastebin.","body":"Try GitHub Gitsts or Pastebin."},{"owner":{"account_id":11610378,"reputation":25,"user_id":8504778,"display_name":"Bhushan"},"score":0,"creation_date":1665657232,"post_id":74036797,"comment_id":130753246,"body_markdown":"https://pastebin.com/6YDe9eW3","body":"<a href=\"https://pastebin.com/6YDe9eW3\" rel=\"nofollow noreferrer\">pastebin.com/6YDe9eW3</a>"}],"answers":[{"comments":[{"owner":{"account_id":11610378,"reputation":25,"user_id":8504778,"display_name":"Bhushan"},"score":0,"creation_date":1665755823,"post_id":74037525,"comment_id":130778846,"body_markdown":"i have done these changes but still getting error `IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi`","body":"i have done these changes but still getting error <code>IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi</code>"}],"tags":[],"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665557307,"creation_date":1665557226,"answer_id":74037525,"question_id":74036797,"body_markdown":"Try using this method to start the client\r\n\r\n    @Bean\r\n        public Ignite igniteInstance() {\r\n            log.info(&quot;Creating ignite instance&quot;);\r\n            TcpDiscoveryKubernetesIpFinder tcpDiscoveryKubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder();\r\n            tcpDiscoveryKubernetesIpFinder.setNamespace(&quot;default&quot;);\r\n            tcpDiscoveryKubernetesIpFinder.setServiceName(&quot;job-cache&quot;);\r\n     \r\n            TcpDiscoverySpi tcpDiscoverySpi = new TcpDiscoverySpi();\r\n            tcpDiscoverySpi.setIpFinder(tcpDiscoveryKubernetesIpFinder);\r\n     \r\n            IgniteConfiguration igniteConfiguration = new IgniteConfiguration();\r\n     \r\n            igniteConfiguration.setDiscoverySpi(tcpDiscoverySpi);\r\n            igniteConfiguration.setClientMode(false);\r\n     \r\n            return Ignition.start(igniteConfiguration);\r\n        }\r\n\r\n\r\nTry adding these dependencies rather than creating bean in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ignite-kubernetes&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.6&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;ignite-indexing&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFollow this documentataion,\r\n[Documentation][1] - Part 1\r\n\r\n\r\n  [1]: https://www.javacodegeeks.com/2020/04/apache-ignite-and-spring-on-your-kubernetes-cluster-part-1-spring-boot-application.html","title":"Getting IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi Exception","body":"<p>Try using this method to start the client</p>\n<pre><code>@Bean\n    public Ignite igniteInstance() {\n        log.info(&quot;Creating ignite instance&quot;);\n        TcpDiscoveryKubernetesIpFinder tcpDiscoveryKubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder();\n        tcpDiscoveryKubernetesIpFinder.setNamespace(&quot;default&quot;);\n        tcpDiscoveryKubernetesIpFinder.setServiceName(&quot;job-cache&quot;);\n \n        TcpDiscoverySpi tcpDiscoverySpi = new TcpDiscoverySpi();\n        tcpDiscoverySpi.setIpFinder(tcpDiscoveryKubernetesIpFinder);\n \n        IgniteConfiguration igniteConfiguration = new IgniteConfiguration();\n \n        igniteConfiguration.setDiscoverySpi(tcpDiscoverySpi);\n        igniteConfiguration.setClientMode(false);\n \n        return Ignition.start(igniteConfiguration);\n    }\n</code></pre>\n<p>Try adding these dependencies rather than creating bean in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-kubernetes&lt;/artifactId&gt;\n            &lt;version&gt;2.7.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\n            &lt;version&gt;2.7.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n                    &lt;artifactId&gt;ignite-indexing&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Follow this documentataion,\n<a href=\"https://www.javacodegeeks.com/2020/04/apache-ignite-and-spring-on-your-kubernetes-cluster-part-1-spring-boot-application.html\" rel=\"nofollow noreferrer\">Documentation</a> - Part 1</p>\n"},{"comments":[{"owner":{"account_id":11610378,"reputation":25,"user_id":8504778,"display_name":"Bhushan"},"score":0,"creation_date":1665755742,"post_id":74068313,"comment_id":130778806,"body_markdown":"The above error has gone when I changed both versions to 8.8.11 but the IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi error still exists.\nupdated error trace - https://pastebin.com/M3Qen865","body":"The above error has gone when I changed both versions to 8.8.11 but the IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi error still exists. updated error trace - <a href=\"https://pastebin.com/M3Qen865\" rel=\"nofollow noreferrer\">pastebin.com/M3Qen865</a>"},{"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"score":1,"creation_date":1665772198,"post_id":74068313,"comment_id":130784252,"body_markdown":"@Bhushan please look through the exception details, the answer is there: `Incompatible data region configuration`, you have inconsistent configs on different nodes.","body":"@Bhushan please look through the exception details, the answer is there: <code>Incompatible data region configuration</code>, you have inconsistent configs on different nodes."}],"tags":[],"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665745716,"creation_date":1665745716,"answer_id":74068313,"question_id":74036797,"body_markdown":"Error from the [detailed log](https://pastebin.com/raw/6YDe9eW3):\r\n\r\n`Local node and remote node have different version numbers (node will not join, Ignite does not support rolling updates, so versions must be exactly the same) [locBuildVer=8.7.12, rmtBuildVer=8.8.11`\r\n\r\nMake sure that all nodes have the same Ignite version.","title":"Getting IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi Exception","body":"<p>Error from the <a href=\"https://pastebin.com/raw/6YDe9eW3\" rel=\"nofollow noreferrer\">detailed log</a>:</p>\n<p><code>Local node and remote node have different version numbers (node will not join, Ignite does not support rolling updates, so versions must be exactly the same) [locBuildVer=8.7.12, rmtBuildVer=8.8.11</code></p>\n<p>Make sure that all nodes have the same Ignite version.</p>\n"}],"owner":{"account_id":11610378,"reputation":25,"user_id":8504778,"display_name":"Bhushan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665745716,"creation_date":1665551750,"question_id":74036797,"body_markdown":"I have installed apache ignite on openshift/Kubernetes cluster. while installing apache ignite I provided the following node-configuration.xml. I have followed [this][1] document to install ignite cluster\r\n \r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n    &lt;bean class=&quot;org.apache.ignite.configuration.IgniteConfiguration&quot;&gt;\r\n\r\n        &lt;property name=&quot;workDirectory&quot; value=&quot;/ignite/work&quot;/&gt;\r\n\r\n        &lt;property name=&quot;dataStorageConfiguration&quot;&gt;\r\n            &lt;bean class=&quot;org.apache.ignite.configuration.DataStorageConfiguration&quot;&gt;\r\n                &lt;property name=&quot;defaultDataRegionConfiguration&quot;&gt;\r\n                    &lt;bean class=&quot;org.apache.ignite.configuration.DataRegionConfiguration&quot;&gt;\r\n                        &lt;property name=&quot;persistenceEnabled&quot; value=&quot;true&quot;/&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/property&gt;\r\n\r\n                &lt;property name=&quot;walPath&quot; value=&quot;/ignite/wal&quot;/&gt;\r\n                &lt;property name=&quot;walArchivePath&quot; value=&quot;/ignite/walarchive&quot;/&gt;\r\n            &lt;/bean&gt;\r\n\r\n        &lt;/property&gt;\r\n\r\n        &lt;property name=&quot;discoverySpi&quot;&gt;\r\n            &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi&quot;&gt;\r\n                &lt;property name=&quot;ipFinder&quot;&gt;\r\n                    &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.kubernetes.TcpDiscoveryKubernetesIpFinder&quot;&gt;\r\n                        &lt;constructor-arg&gt;\r\n                            &lt;bean class=&quot;org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration&quot;&gt;\r\n                                &lt;property name=&quot;namespace&quot; value=&quot;ignite&quot; /&gt;\r\n                                &lt;property name=&quot;serviceName&quot; value=&quot;ignite-service&quot; /&gt;\r\n                            &lt;/bean&gt;\r\n                        &lt;/constructor-arg&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n\r\n \r\n\r\n  \r\n    \r\n  \r\n\r\n  and in java code used the below configuration to start to ignite client\r\n    \r\n        IgniteConfiguration cfg = new IgniteConfiguration();\r\n        cfg.setClientMode(true);\r\n        cfg.setPeerClassLoadingEnabled(false);\r\n        KubernetesConnectionConfiguration kubernetesCfg = new KubernetesConnectionConfiguration();\r\n        kubernetesCfg.setNamespace(&quot;ignite&quot;);\r\n        kubernetesCfg.setServiceName(&quot;ignite-service&quot;);\r\n        TcpDiscoveryKubernetesIpFinder kubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder(kubernetesCfg);\r\n        cfg.setDiscoverySpi(new TcpDiscoverySpi().setIpFinder(kubernetesIpFinder));\r\n    \r\n \r\n\r\n   but getting the following error while starting ignite java client.\r\n    \r\n    &gt; \r\n\r\n    [ERROR] 2022-10-11 18:15:56.638 [main] IgniteKernal - Failed to start manager: GridManagerAdapter [enabled=true, name=o.a.i.i.managers.discovery.GridDiscoveryManager]\r\n        org.apache.ignite.IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi [addrRslvr=null, sockTimeout=5000, ackTimeout=5000, marsh=JdkMarshaller [clsFilter=org.apache.ignite.marshaller.MarshallerUtils$1@6c302a1d], reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=5, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false]\r\n        \tat org.apache.ignite.internal.managers.GridManagerAdapter.startSpi(GridManagerAdapter.java:280) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.managers.discovery.GridDiscoveryManager.start(GridDiscoveryManager.java:985) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1919) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1235) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1784) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1706) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1143) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:660) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:597) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.apache.ignite.Ignition.getOrStart(Ignition.java:410) ~[ignite-core-8.8.11.jar!/:8.8.11]\r\n        \tat org.osdu.gcz.transformer.repository.ignite.DefaultFeatureCache.&lt;init&gt;(DefaultFeatureCache.java:64) ~[classes!/:0.17.0-SNAPSHOT]\r\n        \tat org.osdu.gcz.transformer.configuration.TransformerConfiguration.remoteFeatureCache(TransformerConfiguration.java:53) ~[classes!/:0.17.0-SNAPSHOT]\r\n        \tat org.osdu.gcz.transformer.configuration.TransformerConfiguration$$EnhancerBySpringCGLIB$$e666dfd2.CGLIB$remoteFeatureCache$1(\r\n\r\n  [1]: https://ignite.apache.org/docs/latest/installation/kubernetes/amazon-eks-deployment\r\n\r\n","title":"Getting IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi Exception","body":"<p>I have installed apache ignite on openshift/Kubernetes cluster. while installing apache ignite I provided the following node-configuration.xml. I have followed <a href=\"https://ignite.apache.org/docs/latest/installation/kubernetes/amazon-eks-deployment\" rel=\"nofollow noreferrer\">this</a> document to install ignite cluster</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n&lt;bean class=&quot;org.apache.ignite.configuration.IgniteConfiguration&quot;&gt;\n\n    &lt;property name=&quot;workDirectory&quot; value=&quot;/ignite/work&quot;/&gt;\n\n    &lt;property name=&quot;dataStorageConfiguration&quot;&gt;\n        &lt;bean class=&quot;org.apache.ignite.configuration.DataStorageConfiguration&quot;&gt;\n            &lt;property name=&quot;defaultDataRegionConfiguration&quot;&gt;\n                &lt;bean class=&quot;org.apache.ignite.configuration.DataRegionConfiguration&quot;&gt;\n                    &lt;property name=&quot;persistenceEnabled&quot; value=&quot;true&quot;/&gt;\n                &lt;/bean&gt;\n            &lt;/property&gt;\n\n            &lt;property name=&quot;walPath&quot; value=&quot;/ignite/wal&quot;/&gt;\n            &lt;property name=&quot;walArchivePath&quot; value=&quot;/ignite/walarchive&quot;/&gt;\n        &lt;/bean&gt;\n\n    &lt;/property&gt;\n\n    &lt;property name=&quot;discoverySpi&quot;&gt;\n        &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi&quot;&gt;\n            &lt;property name=&quot;ipFinder&quot;&gt;\n                &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.kubernetes.TcpDiscoveryKubernetesIpFinder&quot;&gt;\n                    &lt;constructor-arg&gt;\n                        &lt;bean class=&quot;org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration&quot;&gt;\n                            &lt;property name=&quot;namespace&quot; value=&quot;ignite&quot; /&gt;\n                            &lt;property name=&quot;serviceName&quot; value=&quot;ignite-service&quot; /&gt;\n                        &lt;/bean&gt;\n                    &lt;/constructor-arg&gt;\n                &lt;/bean&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and in java code used the below configuration to start to ignite client</p>\n<pre><code>    IgniteConfiguration cfg = new IgniteConfiguration();\n    cfg.setClientMode(true);\n    cfg.setPeerClassLoadingEnabled(false);\n    KubernetesConnectionConfiguration kubernetesCfg = new KubernetesConnectionConfiguration();\n    kubernetesCfg.setNamespace(&quot;ignite&quot;);\n    kubernetesCfg.setServiceName(&quot;ignite-service&quot;);\n    TcpDiscoveryKubernetesIpFinder kubernetesIpFinder = new TcpDiscoveryKubernetesIpFinder(kubernetesCfg);\n    cfg.setDiscoverySpi(new TcpDiscoverySpi().setIpFinder(kubernetesIpFinder));\n</code></pre>\n<p>but getting the following error while starting ignite java client.</p>\n<pre><code>&gt; \n\n[ERROR] 2022-10-11 18:15:56.638 [main] IgniteKernal - Failed to start manager: GridManagerAdapter [enabled=true, name=o.a.i.i.managers.discovery.GridDiscoveryManager]\n    org.apache.ignite.IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi [addrRslvr=null, sockTimeout=5000, ackTimeout=5000, marsh=JdkMarshaller [clsFilter=org.apache.ignite.marshaller.MarshallerUtils$1@6c302a1d], reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=5, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false]\n        at org.apache.ignite.internal.managers.GridManagerAdapter.startSpi(GridManagerAdapter.java:280) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.managers.discovery.GridDiscoveryManager.start(GridDiscoveryManager.java:985) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1919) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1235) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1784) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1706) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1143) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:660) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:597) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.apache.ignite.Ignition.getOrStart(Ignition.java:410) ~[ignite-core-8.8.11.jar!/:8.8.11]\n        at org.osdu.gcz.transformer.repository.ignite.DefaultFeatureCache.&lt;init&gt;(DefaultFeatureCache.java:64) ~[classes!/:0.17.0-SNAPSHOT]\n        at org.osdu.gcz.transformer.configuration.TransformerConfiguration.remoteFeatureCache(TransformerConfiguration.java:53) ~[classes!/:0.17.0-SNAPSHOT]\n        at org.osdu.gcz.transformer.configuration.TransformerConfiguration$$EnhancerBySpringCGLIB$$e666dfd2.CGLIB$remoteFeatureCache$1(\n</code></pre>\n"},{"tags":["java","performance","mongodb","resultset","database-performance"],"comments":[{"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"score":0,"creation_date":1454089467,"post_id":35090556,"comment_id":57903347,"body_markdown":"If I got the question right, I think once you call `myColl.find(query)` it returns a `DBCursor` object on which you can call `count()` method instead of issuing `myColl.count(query)` to get rows returned by the query.","body":"If I got the question right, I think once you call <code>myColl.find(query)</code> it returns a <code>DBCursor</code> object on which you can call <code>count()</code> method instead of issuing <code>myColl.count(query)</code> to get rows returned by the query."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1454089700,"post_id":35090556,"comment_id":57903485,"body_markdown":"@MadhusudanaReddySunnapu, actually it returns `FindIterable&lt;TDocument&gt;` object, which doesn&#39;t have `count()` method. In `MongoDB 2.0` there was such method but not in 3.0 version.","body":"@MadhusudanaReddySunnapu, actually it returns <code>FindIterable&lt;TDocument&gt;</code> object, which doesn&#39;t have <code>count()</code> method. In <code>MongoDB 2.0</code> there was such method but not in 3.0 version."}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665745674,"creation_date":1454088747,"question_id":35090556,"body_markdown":"I have a MongoDB 3.2 database. I want to execute a query in Java (MongoDB Java Driver 3.2.1) and to know how many rows have been returned. In other words, I need a `count()` analog of the SQL in MongoDB.\r\n\r\nThe official MongoDB documentation [proposes](https://www.mongodb.com/docs/manual/reference/method/db.collection.count) to use `myColl.count(query)`, which indeed returns the size of the result set. But the problem is that, as far as I understand, in order to return the number of the result set, this command has to perform the query. Now suppose the query is really &#171;heavy&#187; and I still want to get:\r\n\r\n 1. the query&#39;s result set;\r\n 2. the size of the result set (the rows number of query&#39;s result set).\r\n\r\nIn order to achieve my goal should I do:\r\n\r\n 1. execute a query: `myColl.find(query)` to get a result set;\r\n 2. execute one more time absolutely the same query `myColl.count(query)` to get a rows number of the result set.\r\n\r\nIs there any more optimal approach, which will less affect the performance?","title":"Get number of returned rows in MongoDB query with Java","body":"<p>I have a MongoDB 3.2 database. I want to execute a query in Java (MongoDB Java Driver 3.2.1) and to know how many rows have been returned. In other words, I need a <code>count()</code> analog of the SQL in MongoDB.</p>\n<p>The official MongoDB documentation <a href=\"https://www.mongodb.com/docs/manual/reference/method/db.collection.count\" rel=\"nofollow noreferrer\">proposes</a> to use <code>myColl.count(query)</code>, which indeed returns the size of the result set. But the problem is that, as far as I understand, in order to return the number of the result set, this command has to perform the query. Now suppose the query is really «heavy» and I still want to get:</p>\n<ol>\n<li>the query's result set;</li>\n<li>the size of the result set (the rows number of query's result set).</li>\n</ol>\n<p>In order to achieve my goal should I do:</p>\n<ol>\n<li>execute a query: <code>myColl.find(query)</code> to get a result set;</li>\n<li>execute one more time absolutely the same query <code>myColl.count(query)</code> to get a rows number of the result set.</li>\n</ol>\n<p>Is there any more optimal approach, which will less affect the performance?</p>\n"},{"tags":["java","mongodb","spring-boot","quartz-scheduler","scheduler"],"comments":[{"owner":{"account_id":264827,"reputation":3887,"user_id":2365724,"display_name":"PaoloC"},"score":2,"creation_date":1665745289,"post_id":73028803,"comment_id":130775124,"body_markdown":"Here&#39;s the complete [list of forks](https://github.com/michaelklishin/quartz-mongodb/network) to the above repo. Some of them is still active in August.","body":"Here&#39;s the complete <a href=\"https://github.com/michaelklishin/quartz-mongodb/network\" rel=\"nofollow noreferrer\">list of forks</a> to the above repo. Some of them is still active in August."}],"owner":{"account_id":4102023,"reputation":861,"user_id":3367269,"display_name":"ac184"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1665745464,"creation_date":1658179450,"question_id":73028803,"body_markdown":"Do we have support for Quartz with MongoDB officially? I see there is a library https://github.com/michaelklishin/quartz-mongodb . but it was mentioned as it is no longer maintained. at this stage, our application is using MongoDB and just for Quartz, don&#39;t want to add another DB (MySQL) to our project. Kindly suggest if it is advisable to use two databases or does Quartz has support for MongoDB. \r\n\r\n  I understand this is requesting for suggestion / opinion. Any inputs will greatly help us.\r\n\r\nThank you in advance!","title":"Quartz with MongoDB - any maintained alternative?","body":"<p>Do we have support for Quartz with MongoDB officially? I see there is a library <a href=\"https://github.com/michaelklishin/quartz-mongodb\" rel=\"nofollow noreferrer\">https://github.com/michaelklishin/quartz-mongodb</a> . but it was mentioned as it is no longer maintained. at this stage, our application is using MongoDB and just for Quartz, don't want to add another DB (MySQL) to our project. Kindly suggest if it is advisable to use two databases or does Quartz has support for MongoDB.</p>\n<p>I understand this is requesting for suggestion / opinion. Any inputs will greatly help us.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1665744326,"post_id":74067965,"comment_id":130774877,"body_markdown":"The reason is that you reassign the `car` variable. That variable holds a copy of the reference to the list element. Reassigning that variable does not change the element in the list.","body":"The reason is that you reassign the <code>car</code> variable. That variable holds a copy of the reference to the list element. Reassigning that variable does not change the element in the list."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1665744661,"post_id":74067965,"comment_id":130774952,"body_markdown":"What you actually want here is: `return cars.stream().peek(car -&gt; car.setBrand(&quot;BMW&quot;)).map(carRepository::saveAndFlush).collect(toList())`","body":"What you actually want here is: <code>return cars.stream().peek(car -&gt; car.setBrand(&quot;BMW&quot;)).map(carRepository::saveAndFlush).collec&zwnj;&#8203;t(toList())</code>"}],"answers":[{"comments":[{"owner":{"account_id":26620416,"reputation":1,"user_id":20239264,"display_name":"Will Wijgergangs"},"score":0,"creation_date":1665775148,"post_id":74068091,"comment_id":130785152,"body_markdown":"Thanks for the help it makes it clear for me","body":"Thanks for the help it makes it clear for me"}],"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665744867,"creation_date":1665744513,"answer_id":74068091,"question_id":74067965,"body_markdown":"The reason is that you reassign the `car` variable. That variable holds a copy of the reference to the list element. Reassigning that variable does not change the element in the list.\r\n\r\nYou can either extract just the value you want:\r\n\r\n    for (Car car : cars) {\r\n        car.setBrand(&quot;BMW&quot;);\t\t\t\r\n        car.setId(carRepository.saveAndFlush(car).getId());\r\n        System.err.println(&quot;car id:&quot; + car.getId());\r\n    }\r\n\r\nOr correctly work on the list by re-setting each entry. This requires the implementation of your `List&lt;Car&gt; cars` to be mutable, which it might not be.\r\n\r\n    for (int i=0;i&lt;cars.size(); i++) {\r\n        Car car = cars.get(i);\r\n        car.setBrand(&quot;BMW&quot;);\t\t\t\r\n        car = carRepository.saveAndFlush(car);\r\n        cars.set(i, car);\r\n        System.err.println(&quot;car id:&quot; + car.getId());\r\n    }\r\n\r\nYou should also take not of the approach that Seelenvirtuose posted in the comments. It creates a whole new `List` which might not be what you want, but it sure is elegant.","title":"Id of saved object not reflected in list","body":"<p>The reason is that you reassign the <code>car</code> variable. That variable holds a copy of the reference to the list element. Reassigning that variable does not change the element in the list.</p>\n<p>You can either extract just the value you want:</p>\n<pre><code>for (Car car : cars) {\n    car.setBrand(&quot;BMW&quot;);            \n    car.setId(carRepository.saveAndFlush(car).getId());\n    System.err.println(&quot;car id:&quot; + car.getId());\n}\n</code></pre>\n<p>Or correctly work on the list by re-setting each entry. This requires the implementation of your <code>List&lt;Car&gt; cars</code> to be mutable, which it might not be.</p>\n<pre><code>for (int i=0;i&lt;cars.size(); i++) {\n    Car car = cars.get(i);\n    car.setBrand(&quot;BMW&quot;);            \n    car = carRepository.saveAndFlush(car);\n    cars.set(i, car);\n    System.err.println(&quot;car id:&quot; + car.getId());\n}\n</code></pre>\n<p>You should also take not of the approach that Seelenvirtuose posted in the comments. It creates a whole new <code>List</code> which might not be what you want, but it sure is elegant.</p>\n"}],"owner":{"account_id":26620416,"reputation":1,"user_id":20239264,"display_name":"Will Wijgergangs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665744867,"creation_date":1665743813,"question_id":74067965,"body_markdown":"A list of cars is created which aren&#39;t stored in the database.\r\nVia setSaveCars values are set and the cars are saved in the database.\r\nAfter the saveAndFlush the id is set, the id under which it&#39;s saved in the database.\r\nThis is shown in the returned object but not in the list.\r\nBelow a simplified example code snippet plus the outcome when testing with a list of 2 cars.\r\n\r\nThe outcome of this code is with a list of 2 cars:\r\ncar id:18902\r\ncar id:18903\r\ncars id: 0\r\ncars id: 0\r\n\r\nCan sombody explain this behaviour?\r\n\r\n    private List&lt;Car&gt; setSaveCars(List&lt;Car&gt; cars) {\r\n       for (Car car : cars) {\r\n            car.setBrand(&quot;BMW&quot;);\t\t\t\r\n            car = carRepository.saveAndFlush(car);\r\n            System.err.println(&quot;car id:&quot; + car.getId());\r\n       }\r\n          \r\n       System.err.println(&quot;cars id:&quot; + cars.get(0).getId());\r\n       System.err.println(&quot;cars id:&quot; + cars.get(1).getId());\r\n       return cars;\r\n    }","title":"Id of saved object not reflected in list","body":"<p>A list of cars is created which aren't stored in the database.\nVia setSaveCars values are set and the cars are saved in the database.\nAfter the saveAndFlush the id is set, the id under which it's saved in the database.\nThis is shown in the returned object but not in the list.\nBelow a simplified example code snippet plus the outcome when testing with a list of 2 cars.</p>\n<p>The outcome of this code is with a list of 2 cars:\ncar id:18902\ncar id:18903\ncars id: 0\ncars id: 0</p>\n<p>Can sombody explain this behaviour?</p>\n<pre><code>private List&lt;Car&gt; setSaveCars(List&lt;Car&gt; cars) {\n   for (Car car : cars) {\n        car.setBrand(&quot;BMW&quot;);            \n        car = carRepository.saveAndFlush(car);\n        System.err.println(&quot;car id:&quot; + car.getId());\n   }\n      \n   System.err.println(&quot;cars id:&quot; + cars.get(0).getId());\n   System.err.println(&quot;cars id:&quot; + cars.get(1).getId());\n   return cars;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","application.properties"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1665597217,"post_id":74045979,"comment_id":130740434,"body_markdown":"Please add to the description also the `application.properties` file.","body":"Please add to the description also the <code>application.properties</code> file."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1665601797,"post_id":74045979,"comment_id":130741806,"body_markdown":"is the application properties located in `src/main/resources` ? I feel its not read correctly.\nalso this config class must be under package hierachy of the main springbootapplication class.","body":"is the application properties located in <code>src&#47;main&#47;resources</code> ? I feel its not read correctly. also this config class must be under package hierachy of the main springbootapplication class."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665608289,"post_id":74045979,"comment_id":130743517,"body_markdown":"Why? Feels like you are working around the autoconfiguration available, what is it you are trying to achieve that isn&#39;t possible with the auto configuration?","body":"Why? Feels like you are working around the autoconfiguration available, what is it you are trying to achieve that isn&#39;t possible with the auto configuration?"},{"owner":{"account_id":1376839,"reputation":853,"user_id":8636516,"display_name":"harkesh kumar"},"score":0,"creation_date":1665743894,"post_id":74045979,"comment_id":130774764,"body_markdown":"i can help with this please ping me","body":"i can help with this please ping me"}],"answers":[{"comments":[{"owner":{"display_name":"user19516326"},"score":0,"creation_date":1665599562,"post_id":74046338,"comment_id":130741151,"body_markdown":"Thanks! All right I will try this out once I&#39;m out of bath","body":"Thanks! All right I will try this out once I&#39;m out of bath"},{"owner":{"display_name":"user19516326"},"score":0,"creation_date":1665656623,"post_id":74046338,"comment_id":130753025,"body_markdown":"unfortunately nothing changed, but I have added (edited post) the class in which I use this bean, maybe here lays the problem?","body":"unfortunately nothing changed, but I have added (edited post) the class in which I use this bean, maybe here lays the problem?"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1665656979,"post_id":74046338,"comment_id":130753160,"body_markdown":"@Jawegiel how is  `DatabaseConnection` initialized?","body":"@Jawegiel how is  <code>DatabaseConnection</code> initialized?"}],"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665598512,"creation_date":1665598512,"answer_id":74046338,"question_id":74045979,"body_markdown":"For some reasons `@Value` annotated fields are not initialized I guess.  try sending values as `@Bean` method params.\r\n```\r\n@Configuration\r\n@ComponentScan\r\npublic class DatabaseConfig {\r\n\r\n @Bean(name = &quot;database_url&quot;)\r\n public String getDatabaseUrl(@Value(&quot;${spring.datasource.url}&quot;) String url,\r\n  @Value(&quot;${spring.datasource.username}&quot;)String username,\r\n  @Value(&quot;${spring.datasource.password}&quot;) String password\r\n  ) {\r\n    return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\r\n }\r\n}\r\n\r\n```","title":"Spring Boot create @Bean based on @Values","body":"<p>For some reasons <code>@Value</code> annotated fields are not initialized I guess.  try sending values as <code>@Bean</code> method params.</p>\n<pre><code>@Configuration\n@ComponentScan\npublic class DatabaseConfig {\n\n @Bean(name = &quot;database_url&quot;)\n public String getDatabaseUrl(@Value(&quot;${spring.datasource.url}&quot;) String url,\n  @Value(&quot;${spring.datasource.username}&quot;)String username,\n  @Value(&quot;${spring.datasource.password}&quot;) String password\n  ) {\n    return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\n }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665742700,"creation_date":1665742700,"answer_id":74067798,"question_id":74045979,"body_markdown":"`String` is immutable class, meaning each time a new `String` is created normally a new `String` *might* be created in the string pool and a new reference *might* be returned.\r\n\r\nFor this reason you can&#39;t have `String` object as a bean in your application context.\r\n\r\n    @Bean(name = &quot;database_url&quot;)\r\n    public String getDatabaseUrl() {  &lt;----------------The return type of String is wrong\r\n        return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\r\n    }\r\n\r\nSo just create a custom object in this `@Bean` method which could be transferred and used in the application context\r\n\r\nWhy not return a `DatabaseConnection` from that `@Bean` method this would seem the optimal solution in your problem.","title":"Spring Boot create @Bean based on @Values","body":"<p><code>String</code> is immutable class, meaning each time a new <code>String</code> is created normally a new <code>String</code> <em>might</em> be created in the string pool and a new reference <em>might</em> be returned.</p>\n<p>For this reason you can't have <code>String</code> object as a bean in your application context.</p>\n<pre><code>@Bean(name = &quot;database_url&quot;)\npublic String getDatabaseUrl() {  &lt;----------------The return type of String is wrong\n    return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\n}\n</code></pre>\n<p>So just create a custom object in this <code>@Bean</code> method which could be transferred and used in the application context</p>\n<p>Why not return a <code>DatabaseConnection</code> from that <code>@Bean</code> method this would seem the optimal solution in your problem.</p>\n"},{"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1665745264,"post_id":74068080,"comment_id":130775116,"body_markdown":"you understand that a String is immutable and can&#39;t be registered as bean in application context right? Check my answer bellow","body":"you understand that a String is immutable and can&#39;t be registered as bean in application context right? Check my answer bellow"},{"owner":{"account_id":1376839,"reputation":853,"user_id":8636516,"display_name":"harkesh kumar"},"score":0,"creation_date":1665745514,"post_id":74068080,"comment_id":130775183,"body_markdown":"yes you correct bro","body":"yes you correct bro"}],"tags":[],"owner":{"account_id":1376839,"reputation":853,"user_id":8636516,"display_name":"harkesh kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665744459,"creation_date":1665744459,"answer_id":74068080,"question_id":74045979,"body_markdown":"You have to create a new file where you 2st read data from property file     \r\n\r\n\r\n    @Configuration\r\n    @Getter\r\n    @Setter\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    public class DatabaseLoginProperties{\r\n        private String url;\r\n        private String username;\r\n        private String password;\r\n    }\r\n\r\n----Now above value you can uses in your java file -------------------\r\n\r\n    @Configuration\r\n    public class DatabaseConfig {\r\n        @Autowired\r\n        private DatabaseLoginProperties databaseLoginProperties;\r\n        @Bean\r\n        public String getDatabaseUrl() {\r\n            return databaseLoginProperties.getUrl()+&quot;?user=&quot;+databaseLoginProperties.getUsername()+&quot;&amp;password=&quot;+databaseLoginProperties.getPassword();\r\n        }\r\n    }","title":"Spring Boot create @Bean based on @Values","body":"<p>You have to create a new file where you 2st read data from property file</p>\n<pre><code>@Configuration\n@Getter\n@Setter\n@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\npublic class DatabaseLoginProperties{\n    private String url;\n    private String username;\n    private String password;\n}\n</code></pre>\n<p>----Now above value you can uses in your java file -------------------</p>\n<pre><code>@Configuration\npublic class DatabaseConfig {\n    @Autowired\n    private DatabaseLoginProperties databaseLoginProperties;\n    @Bean\n    public String getDatabaseUrl() {\n        return databaseLoginProperties.getUrl()+&quot;?user=&quot;+databaseLoginProperties.getUsername()+&quot;&amp;password=&quot;+databaseLoginProperties.getPassword();\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19516326"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1665744459,"creation_date":1665596344,"question_id":74045979,"body_markdown":"I want to get values from my application.properties from spring.datasource.* fields but those fields are null.\r\n\r\nHere is what I&#39;m doing:\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    public class DatabaseConfig {\r\n\r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String url;\r\n    @Value(&quot;${spring.datasource.username}&quot;)\r\n    private String username;\r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    private String password;\r\n\r\n    @Bean(name = &quot;database_url&quot;)\r\n    public String getDatabaseUrl() {\r\n        return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\r\n    }\r\n    }\r\n\r\napplication.properties\r\n\r\n    spring.datasource.url=jdbc:postgresql://db:5432/endlessblow_db\r\n    spring.datasource.username=kuba\r\n    spring.datasource.password=pass\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.platform=postgres\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n\r\nthis db in url is my docker postgre container host and it works fine.\r\n\r\n**EDIT**\r\nDatabaseConnection.java\r\n\r\n    public class DatabaseConnection {\r\n    \r\n        private String databaseUrl;\r\n    \r\n        @Autowired\r\n        void setDatabaseUrl(@Qualifier(&quot;database_url&quot;) String databaseUrl) {\r\n            this.databaseUrl = databaseUrl;\r\n        }\r\n    \r\n        private static DatabaseConnection instance;\r\n        private Connection connection;\r\n    \r\n        private DatabaseConnection() {\r\n            try {\r\n                Class.forName(&quot;org.postgresql.Driver&quot;);\r\n                this.connection = DriverManager.getConnection(databaseUrl);\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Database Connection Creation Failed : &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    \r\n    \r\n        public Connection getConnection() {\r\n            return connection;\r\n        }\r\n    \r\n        public static DatabaseConnection getInstance() throws SQLException, URISyntaxException, IOException {\r\n            if (instance == null) {\r\n                instance = new DatabaseConnection();\r\n            } else if (instance.getConnection().isClosed()) {\r\n                instance = new DatabaseConnection();\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\n\r\nWhat&#39;s wrong with this code? Thank you!","title":"Spring Boot create @Bean based on @Values","body":"<p>I want to get values from my application.properties from spring.datasource.* fields but those fields are null.</p>\n<p>Here is what I'm doing:</p>\n<pre><code>@Configuration\n@ComponentScan\npublic class DatabaseConfig {\n\n@Value(&quot;${spring.datasource.url}&quot;)\nprivate String url;\n@Value(&quot;${spring.datasource.username}&quot;)\nprivate String username;\n@Value(&quot;${spring.datasource.password}&quot;)\nprivate String password;\n\n@Bean(name = &quot;database_url&quot;)\npublic String getDatabaseUrl() {\n    return url+&quot;?user=&quot;+username+&quot;&amp;password=&quot;+password;\n}\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://db:5432/endlessblow_db\nspring.datasource.username=kuba\nspring.datasource.password=pass\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.platform=postgres\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>this db in url is my docker postgre container host and it works fine.</p>\n<p><strong>EDIT</strong>\nDatabaseConnection.java</p>\n<pre><code>public class DatabaseConnection {\n\n    private String databaseUrl;\n\n    @Autowired\n    void setDatabaseUrl(@Qualifier(&quot;database_url&quot;) String databaseUrl) {\n        this.databaseUrl = databaseUrl;\n    }\n\n    private static DatabaseConnection instance;\n    private Connection connection;\n\n    private DatabaseConnection() {\n        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n            this.connection = DriverManager.getConnection(databaseUrl);\n        } catch (Exception ex) {\n            System.out.println(&quot;Database Connection Creation Failed : &quot; + ex.getMessage());\n        }\n    }\n\n\n    public Connection getConnection() {\n        return connection;\n    }\n\n    public static DatabaseConnection getInstance() throws SQLException, URISyntaxException, IOException {\n        if (instance == null) {\n            instance = new DatabaseConnection();\n        } else if (instance.getConnection().isClosed()) {\n            instance = new DatabaseConnection();\n        }\n        return instance;\n    }\n}\n</code></pre>\n<p>What's wrong with this code? Thank you!</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","browserstack"],"answers":[{"tags":[],"owner":{"account_id":3466548,"reputation":445,"user_id":2901921,"display_name":"Sugan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665744322,"creation_date":1570182239,"answer_id":58233840,"question_id":58233311,"body_markdown":"Please try \r\n    \r\n    prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\r\n","title":"Hide Windows Leave/Cancel Pop-up by capabilities","body":"<p>Please try</p>\n<pre><code>prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\n</code></pre>\n"}],"owner":{"account_id":1719754,"reputation":1006,"user_id":1575988,"accept_rate":89,"display_name":"j.barrio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665744322,"creation_date":1570180274,"question_id":58233311,"body_markdown":"I&#39;m working with Selenium, Java and Browserstack. Usually I develop in MacOS and I improve the compatibility with the remote browser. I&#39;m trying to execute the same test cases that are working properly in MacOS, into a Windows remote machine. \r\n\r\nThe problem appears when I let a form incomplete because and I have clicked on a Cancel button to back again to the previous page. In this scenario the default chrome alert appears:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have tried the Chrome option:\r\n\r\n    options.addArguments(&quot;--disable-notifications&quot;);\r\n\r\nAlso:\r\n    \r\n    options.addArguments(&quot;--disable-popup-blocking&quot;);\r\n\r\nAnd with:\r\n\r\n    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\r\nI know I can use a condition in the cancel button associated to the system configuration, where the selenium code accept the alert, but I&#39;m searching an option more cleaning and easy.\r\n\r\nDo you know any other option, capability or whatever, that could block those pop-ups but not the others?\r\n\r\nThank you in advance.\r\n\r\n**EDIT NOTE**\r\nIt is something related with Chrome pop-ups only.\r\n\r\n  [1]: https://i.stack.imgur.com/A1lL1.png","title":"Hide Windows Leave/Cancel Pop-up by capabilities","body":"<p>I'm working with Selenium, Java and Browserstack. Usually I develop in MacOS and I improve the compatibility with the remote browser. I'm trying to execute the same test cases that are working properly in MacOS, into a Windows remote machine. </p>\n\n<p>The problem appears when I let a form incomplete because and I have clicked on a Cancel button to back again to the previous page. In this scenario the default chrome alert appears:</p>\n\n<p><a href=\"https://i.stack.imgur.com/A1lL1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A1lL1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried the Chrome option:</p>\n\n<pre><code>options.addArguments(\"--disable-notifications\");\n</code></pre>\n\n<p>Also:</p>\n\n<pre><code>options.addArguments(\"--disable-popup-blocking\");\n</code></pre>\n\n<p>And with:</p>\n\n<pre><code>prefs.put(\"profile.default_content_settings.popups\", 0);\n</code></pre>\n\n<p>I know I can use a condition in the cancel button associated to the system configuration, where the selenium code accept the alert, but I'm searching an option more cleaning and easy.</p>\n\n<p>Do you know any other option, capability or whatever, that could block those pop-ups but not the others?</p>\n\n<p>Thank you in advance.</p>\n\n<p><strong>EDIT NOTE</strong>\nIt is something related with Chrome pop-ups only.</p>\n"},{"tags":["java","list","algorithm","data-structures","dll"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1665738346,"post_id":74066791,"comment_id":130773060,"body_markdown":"That is the question / problem?","body":"That is the question / problem?"},{"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"score":0,"creation_date":1665738459,"post_id":74066791,"comment_id":130773094,"body_markdown":"@MrSmith42 yes, combine nodes until  you see a node with -1 so you delete that node and you proceed to combine the following elements","body":"@MrSmith42 yes, combine nodes until  you see a node with -1 so you delete that node and you proceed to combine the following elements"},{"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"score":0,"creation_date":1665738470,"post_id":74066791,"comment_id":130773097,"body_markdown":"by elements i mean numbers","body":"by elements i mean numbers"},{"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"score":0,"creation_date":1665742602,"post_id":74066791,"comment_id":130774418,"body_markdown":"@Abra fixed the deleteLast and insertFirst, the problem is an image and its not in english..","body":"@Abra fixed the deleteLast and insertFirst, the problem is an image and its not in english.."}],"answers":[{"tags":[],"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665743995,"creation_date":1665743995,"answer_id":74067996,"question_id":74066791,"body_markdown":"i managed to solve the problem.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    class DLLNode&lt;E&gt; {\r\n    \tprotected E element;\r\n    \tprotected DLLNode&lt;E&gt; pred, succ;\r\n    \r\n    \tpublic DLLNode(E elem, DLLNode&lt;E&gt; pred, DLLNode&lt;E&gt; succ) {\r\n    \t\tthis.element = elem;\r\n    \t\tthis.pred = pred;\r\n    \t\tthis.succ = succ;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn element.toString();\r\n    \t}\r\n    }\r\n    \r\n    class DLL&lt;E&gt; {\r\n    \tprivate DLLNode&lt;E&gt; first, last;\r\n    \r\n    \tpublic DLL() {\r\n    \t\t// Construct an empty SLL\r\n    \t\tthis.first = null;\r\n    \t\tthis.last = null;\r\n    \t}\r\n    \r\n    \tpublic void deleteList() {\r\n    \t\tfirst = null;\r\n    \t\tlast = null;\r\n    \t}\r\n    \t\r\n    \tpublic int length() {\r\n    \t\tint ret;\r\n    \t\tif (first != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = first;\r\n    \t\t\tret = 1;\r\n    \t\t\twhile (tmp.succ != null) {\r\n    \t\t\t\ttmp = tmp.succ;\r\n    \t\t\t\tret++;\r\n    \t\t\t}\r\n    \t\t\treturn ret;\r\n    \t\t} else\r\n    \t\t\treturn 0;\r\n    \r\n    \t}\r\n    \r\n    \tpublic DLLNode&lt;E&gt; find(E o) {\r\n    \t\tif (first != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = first;\r\n    \t\t\twhile (tmp.element != o &amp;&amp; tmp.succ != null)\r\n    \t\t\t\ttmp = tmp.succ;\r\n    \t\t\tif (tmp.element == o) {\r\n    \t\t\t\treturn tmp;\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Elementot ne postoi vo listata&quot;);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Listata e prazna&quot;);\r\n    \t\t}\r\n    \t\treturn first;\r\n    \t}\r\n    \t\r\n    \tpublic void insertFirst(E o) {\r\n    \t\tDLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, null, first);\r\n    \t\tif (first == null)\r\n    \t\t\tlast = ins;\r\n    \t\telse\r\n    \t\t\tfirst.pred = ins;\r\n    \t\tfirst = ins;\r\n    \t}\r\n    \r\n    \tpublic void insertLast(E o) {\r\n    \t\tif (first == null)\r\n    \t\t\tinsertFirst(o);\r\n    \t\telse {\r\n    \t\t\tDLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, last, null);\r\n    \t\t\tlast.succ = ins;\r\n    \t\t\tlast = ins;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void insertAfter(E o, DLLNode&lt;E&gt; after) {\r\n    \t\tif(after==last){\r\n    \t\t\tinsertLast(o);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tDLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, after, after.succ);\r\n    \t\tafter.succ.pred = ins;\r\n    \t\tafter.succ = ins;\r\n    \t}\r\n    \r\n    \tpublic void insertBefore(E o, DLLNode&lt;E&gt; before) {\r\n    \t\tif(before == first){\r\n    \t\t\tinsertFirst(o);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tDLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, before.pred, before);\r\n    \t\tbefore.pred.succ = ins;\r\n    \t\tbefore.pred = ins;\r\n    \t}\r\n    \r\n    \tpublic E deleteFirst() {\r\n    \t\tif (first != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = first;\r\n    \t\t\tfirst = first.succ;\r\n    \t\t\tif (first != null) first.pred = null;\r\n    \t\t\tif (first == null)\r\n    \t\t\t\tlast = null;\r\n    \t\t\treturn tmp.element;\r\n    \t\t} else\r\n    \t\t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic E deleteLast() {\r\n    \t\tif (first != null) {\r\n    \t\t\tif (first.succ == null)\r\n    \t\t\t\treturn deleteFirst();\r\n    \t\t\telse {\r\n    \t\t\t\tDLLNode&lt;E&gt; tmp = last;\r\n    \t\t\t\tlast = last.pred;\r\n    \t\t\t\tlast.succ = null;\r\n    \t\t\t\treturn tmp.element;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t// else throw Exception\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic E delete(DLLNode&lt;E&gt; node) {\r\n    \t\tif(node==first){\r\n    \t\t\tdeleteFirst();\r\n    \t\t\treturn node.element;\r\n    \t\t}\r\n    \t\tif(node==last){\r\n    \t\t\tdeleteLast();\r\n    \t\t\treturn node.element;\r\n    \t\t}\r\n    \t\tnode.pred.succ = node.succ;\r\n    \t\tnode.succ.pred = node.pred;\r\n    \t\treturn node.element;\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tString ret = new String();\r\n    \t\tif (first != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = first;\r\n    \t\t\tret += tmp + &quot; &quot;;\r\n    \t\t\twhile (tmp.succ != null) {\r\n    \t\t\t\ttmp = tmp.succ;\r\n    \t\t\t\tret += tmp + &quot; &quot;;\r\n    \t\t\t}\r\n    \t\t} else\r\n    \t\t\tret = &quot;Prazna lista!!!&quot;;\r\n    \t\treturn ret;\r\n    \t}\r\n    \t\r\n    \tpublic String toStringR() {\r\n    \t\tString ret = new String();\r\n    \t\tif (last != null) {\r\n    \t\t\tDLLNode&lt;E&gt; tmp = last;\r\n    \t\t\tret += tmp + &quot;&lt;-&gt;&quot;;\r\n    \t\t\twhile (tmp.pred != null) {\r\n    \t\t\t\ttmp = tmp.pred;\r\n    \t\t\t\tret += tmp + &quot;&lt;-&gt;&quot;;\r\n    \t\t\t}\r\n    \t\t} else\r\n    \t\t\tret = &quot;Prazna lista!!!&quot;;\r\n    \t\treturn ret;\r\n    \t}\r\n    \r\n    \tpublic DLLNode&lt;E&gt; getFirst() {\r\n    \t\treturn first;\r\n    \t}\r\n    \r\n    \tpublic DLLNode&lt;E&gt; getLast() {\r\n    \r\n    \t\treturn last;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class AddNum {\r\n    \tpublic static void addNum(DLL&lt;Integer&gt; lista) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tDLLNode&lt;Integer&gt; tmp = lista.getFirst().succ;\r\n    \t\tDLLNode&lt;Integer&gt; el = lista.getFirst();\r\n    \t\twhile(tmp != null) {\r\n    \t\t\tif(tmp.element == -1) {\r\n    \t\t\t\ttmp.element = 0;\r\n    \t\t\t\tel = tmp;\r\n    \t\t\t} \r\n    \t\t\telse {\r\n    \t\t\t\tel.element = el.element * 10 + tmp.element;\r\n    \t\t\t\tlista.delete(tmp);\r\n    \t\t\t}\r\n    \t\t\ttmp = tmp.succ;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\t// Integer\r\n    \t\tString s;\r\n    \t\tint i, n, num;\r\n    \t\tString[] pom;\r\n    \t\tDLL&lt;Integer&gt; list = new DLL&lt;Integer&gt;();\r\n    \r\n    \r\n    \t\ts = br.readLine();\r\n    \t\tn = Integer.parseInt(s);\r\n    \t\ts = br.readLine();\r\n    \t\tpom = s.split(&quot; &quot;);\r\n    \t\tfor (i = 0; i &lt; n; i++) {\r\n    \t\t\tnum = Integer.parseInt(pom[i]);\r\n    \t\t\tlist.insertLast(num);\r\n    \t\t}\r\n    \t\taddNum(list);\r\n    \t\tSystem.out.println(list);\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\n","title":"Adding numbers in DLL Java","body":"<p>i managed to solve the problem.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nclass DLLNode&lt;E&gt; {\n    protected E element;\n    protected DLLNode&lt;E&gt; pred, succ;\n\n    public DLLNode(E elem, DLLNode&lt;E&gt; pred, DLLNode&lt;E&gt; succ) {\n        this.element = elem;\n        this.pred = pred;\n        this.succ = succ;\n    }\n\n    @Override\n    public String toString() {\n        return element.toString();\n    }\n}\n\nclass DLL&lt;E&gt; {\n    private DLLNode&lt;E&gt; first, last;\n\n    public DLL() {\n        // Construct an empty SLL\n        this.first = null;\n        this.last = null;\n    }\n\n    public void deleteList() {\n        first = null;\n        last = null;\n    }\n    \n    public int length() {\n        int ret;\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            ret = 1;\n            while (tmp.succ != null) {\n                tmp = tmp.succ;\n                ret++;\n            }\n            return ret;\n        } else\n            return 0;\n\n    }\n\n    public DLLNode&lt;E&gt; find(E o) {\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            while (tmp.element != o &amp;&amp; tmp.succ != null)\n                tmp = tmp.succ;\n            if (tmp.element == o) {\n                return tmp;\n            } else {\n                System.out.println(&quot;Elementot ne postoi vo listata&quot;);\n            }\n        } else {\n            System.out.println(&quot;Listata e prazna&quot;);\n        }\n        return first;\n    }\n    \n    public void insertFirst(E o) {\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, null, first);\n        if (first == null)\n            last = ins;\n        else\n            first.pred = ins;\n        first = ins;\n    }\n\n    public void insertLast(E o) {\n        if (first == null)\n            insertFirst(o);\n        else {\n            DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, last, null);\n            last.succ = ins;\n            last = ins;\n        }\n    }\n\n    public void insertAfter(E o, DLLNode&lt;E&gt; after) {\n        if(after==last){\n            insertLast(o);\n            return;\n        }\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, after, after.succ);\n        after.succ.pred = ins;\n        after.succ = ins;\n    }\n\n    public void insertBefore(E o, DLLNode&lt;E&gt; before) {\n        if(before == first){\n            insertFirst(o);\n            return;\n        }\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, before.pred, before);\n        before.pred.succ = ins;\n        before.pred = ins;\n    }\n\n    public E deleteFirst() {\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            first = first.succ;\n            if (first != null) first.pred = null;\n            if (first == null)\n                last = null;\n            return tmp.element;\n        } else\n            return null;\n    }\n\n    public E deleteLast() {\n        if (first != null) {\n            if (first.succ == null)\n                return deleteFirst();\n            else {\n                DLLNode&lt;E&gt; tmp = last;\n                last = last.pred;\n                last.succ = null;\n                return tmp.element;\n            }\n        }\n        // else throw Exception\n        return null;\n    }\n\n    public E delete(DLLNode&lt;E&gt; node) {\n        if(node==first){\n            deleteFirst();\n            return node.element;\n        }\n        if(node==last){\n            deleteLast();\n            return node.element;\n        }\n        node.pred.succ = node.succ;\n        node.succ.pred = node.pred;\n        return node.element;\n        \n    }\n\n    @Override\n    public String toString() {\n        String ret = new String();\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            ret += tmp + &quot; &quot;;\n            while (tmp.succ != null) {\n                tmp = tmp.succ;\n                ret += tmp + &quot; &quot;;\n            }\n        } else\n            ret = &quot;Prazna lista!!!&quot;;\n        return ret;\n    }\n    \n    public String toStringR() {\n        String ret = new String();\n        if (last != null) {\n            DLLNode&lt;E&gt; tmp = last;\n            ret += tmp + &quot;&lt;-&gt;&quot;;\n            while (tmp.pred != null) {\n                tmp = tmp.pred;\n                ret += tmp + &quot;&lt;-&gt;&quot;;\n            }\n        } else\n            ret = &quot;Prazna lista!!!&quot;;\n        return ret;\n    }\n\n    public DLLNode&lt;E&gt; getFirst() {\n        return first;\n    }\n\n    public DLLNode&lt;E&gt; getLast() {\n\n        return last;\n    }\n    \n}\n\npublic class AddNum {\n    public static void addNum(DLL&lt;Integer&gt; lista) {\n        // TODO Auto-generated method stub\n        DLLNode&lt;Integer&gt; tmp = lista.getFirst().succ;\n        DLLNode&lt;Integer&gt; el = lista.getFirst();\n        while(tmp != null) {\n            if(tmp.element == -1) {\n                tmp.element = 0;\n                el = tmp;\n            } \n            else {\n                el.element = el.element * 10 + tmp.element;\n                lista.delete(tmp);\n            }\n            tmp = tmp.succ;\n        }\n        \n    }\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        // Integer\n        String s;\n        int i, n, num;\n        String[] pom;\n        DLL&lt;Integer&gt; list = new DLL&lt;Integer&gt;();\n\n\n        s = br.readLine();\n        n = Integer.parseInt(s);\n        s = br.readLine();\n        pom = s.split(&quot; &quot;);\n        for (i = 0; i &lt; n; i++) {\n            num = Integer.parseInt(pom[i]);\n            list.insertLast(num);\n        }\n        addNum(list);\n        System.out.println(list);\n    }\n\n    \n}\n</code></pre>\n"}],"owner":{"account_id":23012859,"reputation":341,"user_id":17135136,"display_name":"itmemilan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666008595,"accepted_answer_id":74067996,"answer_count":1,"score":0,"last_activity_date":1665743995,"creation_date":1665737892,"question_id":74066791,"body_markdown":"I am new to data structures and algorithms and I stumbled across this problem with doubly linked list. &lt;br&gt;\r\nThe program goes through the nodes and makes one number from them for example from nodes 1 &lt;-&gt; 2 &lt;-&gt; 3 it will create one number which is 123. When the program see a number -1 it deletes that node and proceed to create a new number from the following nodes.\r\nInput in the program will be:&lt;br&gt;\r\n10 -- number of elements in the list.&lt;br&gt;\r\n1 2 3 4 -1 5 -1 6 7 8&lt;br&gt;\r\nAnd the output will be:&lt;br&gt;\r\n1234 5 67&lt;br&gt;\r\nThis is my code:\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\n\r\nclass DLLNode&lt;E&gt; {\r\n    protected E element;\r\n    protected DLLNode&lt;E&gt; pred, succ;\r\n\r\n    public DLLNode(E elem, DLLNode&lt;E&gt; pred, DLLNode&lt;E&gt; succ) {\r\n        this.element = elem;\r\n        this.pred = pred;\r\n        this.succ = succ;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return element.toString();\r\n    }\r\n}\r\n\r\nclass DLL&lt;E&gt; {\r\n    private DLLNode&lt;E&gt; first, last;\r\n\r\n    public DLL() {\r\n        // Construct an empty SLL\r\n        this.first = null;\r\n        this.last = null;\r\n    }\r\n\r\n    public int length() {\r\n        int ret;\r\n        if (first != null) {\r\n            DLLNode&lt;E&gt; tmp = first;\r\n            ret = 1;\r\n            while (tmp.succ != null) {\r\n                tmp = tmp.succ;\r\n                ret++;\r\n            }\r\n            return ret;\r\n        }\r\n        else\r\n            return 0;\r\n\r\n    }\r\n\r\n    public DLLNode&lt;E&gt; getFirst() {\r\n        return first;\r\n    }\r\n\r\n    public DLLNode&lt;E&gt; find(E o) {\r\n        if (first != null) {\r\n            DLLNode&lt;E&gt; tmp = first;\r\n            while (tmp.element != o &amp;&amp; tmp.succ != null)\r\n                tmp = tmp.succ;\r\n            if (tmp.element == o) {\r\n                return tmp;\r\n            }\r\n            else {\r\n                System.out.println(&quot;Elementot ne postoi vo listata&quot;);\r\n            }\r\n        }\r\n        else {\r\n            System.out.println(&quot;Listata e prazna&quot;);\r\n        }\r\n        return first;\r\n    }\r\n\r\n    public void insertFirst(E o) {\r\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, null, first);\r\n        if (first == null)\r\n            last = ins;\r\n        else\r\n            first.pred = ins;\r\n        first = ins;\r\n    }\r\n\r\n    public void insertLast(E o) {\r\n        if (first == null)\r\n            insertFirst(o);\r\n        else {\r\n            DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, last, null);\r\n            last.succ = ins;\r\n            last = ins;\r\n        }\r\n    }\r\n\r\n    public void insertBefore(E o, DLLNode&lt;E&gt; before) {\r\n        if (before == first) {\r\n            insertFirst(o);\r\n            return;\r\n        }\r\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, before.pred, before);\r\n        before.pred.succ = ins;\r\n        before.pred = ins;\r\n    }\r\n\r\n    public E deleteFirst() {\r\n        if (first != null) {\r\n            DLLNode&lt;E&gt; tmp = first;\r\n            first = first.succ;\r\n            if (first != null)\r\n                first.pred = null;\r\n            if (first == null)\r\n                last = null;\r\n            return tmp.element;\r\n        }\r\n        else\r\n            return null;\r\n    }\r\n\r\n    public E deleteLast() {\r\n        if (first != null) {\r\n            if (first.succ == null)\r\n                return deleteFirst();\r\n            else {\r\n                DLLNode&lt;E&gt; tmp = last;\r\n                last = last.pred;\r\n                last.succ = null;\r\n                return tmp.element;\r\n            }\r\n        }\r\n        // else throw Exception\r\n        return null;\r\n    }\r\n\r\n    public E delete(DLLNode&lt;E&gt; node) {\r\n        if (node == first) {\r\n            deleteFirst();\r\n            return node.element;\r\n        }\r\n        if (node == last) {\r\n            deleteLast();\r\n            return node.element;\r\n        }\r\n        node.pred.succ = node.succ;\r\n        node.succ.pred = node.pred;\r\n        return node.element;\r\n\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String ret = new String();\r\n        if (first != null) {\r\n            DLLNode&lt;E&gt; tmp = first;\r\n            ret += tmp + &quot; &quot;;\r\n            while (tmp.succ != null) {\r\n                tmp = tmp.succ;\r\n                ret += tmp + &quot; &quot;;\r\n            }\r\n        }\r\n        else\r\n            ret = &quot;Prazna lista!!!&quot;;\r\n        return ret;\r\n    }\r\n}\r\n\r\npublic class AddNum {\r\n    public static void addNum(DLL&lt;Integer&gt; lista) {\r\n        DLLNode&lt;Integer&gt; tmp = lista.getFirst();\r\n        DLLNode&lt;Integer&gt; nov = null;\r\n        while (tmp.succ != null) {\r\n            if (tmp.element == -1) {\r\n                lista.delete(tmp);\r\n            }\r\n            else {\r\n                tmp.element = tmp.element * 10 + tmp.succ.element;\r\n            }\r\n            tmp = tmp.succ;\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        // Integer\r\n        String s;\r\n        int i, n, num;\r\n        String[] pom;\r\n        DLL&lt;Integer&gt; list = new DLL&lt;Integer&gt;();\r\n\r\n        s = br.readLine();\r\n        n = Integer.parseInt(s);\r\n        s = br.readLine();\r\n        pom = s.split(&quot; &quot;);\r\n        for (i = 0; i &lt; n; i++) {\r\n            num = Integer.parseInt(pom[i]);\r\n            list.insertLast(num);\r\n        }\r\n        addNum(list);\r\n        System.out.println(list);\r\n    }\r\n}\r\n```\r\n","title":"Adding numbers in DLL Java","body":"<p>I am new to data structures and algorithms and I stumbled across this problem with doubly linked list. <br>\nThe program goes through the nodes and makes one number from them for example from nodes 1 &lt;-&gt; 2 &lt;-&gt; 3 it will create one number which is 123. When the program see a number -1 it deletes that node and proceed to create a new number from the following nodes.\nInput in the program will be:<br>\n10 -- number of elements in the list.<br>\n1 2 3 4 -1 5 -1 6 7 8<br>\nAnd the output will be:<br>\n1234 5 67<br>\nThis is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nclass DLLNode&lt;E&gt; {\n    protected E element;\n    protected DLLNode&lt;E&gt; pred, succ;\n\n    public DLLNode(E elem, DLLNode&lt;E&gt; pred, DLLNode&lt;E&gt; succ) {\n        this.element = elem;\n        this.pred = pred;\n        this.succ = succ;\n    }\n\n    @Override\n    public String toString() {\n        return element.toString();\n    }\n}\n\nclass DLL&lt;E&gt; {\n    private DLLNode&lt;E&gt; first, last;\n\n    public DLL() {\n        // Construct an empty SLL\n        this.first = null;\n        this.last = null;\n    }\n\n    public int length() {\n        int ret;\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            ret = 1;\n            while (tmp.succ != null) {\n                tmp = tmp.succ;\n                ret++;\n            }\n            return ret;\n        }\n        else\n            return 0;\n\n    }\n\n    public DLLNode&lt;E&gt; getFirst() {\n        return first;\n    }\n\n    public DLLNode&lt;E&gt; find(E o) {\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            while (tmp.element != o &amp;&amp; tmp.succ != null)\n                tmp = tmp.succ;\n            if (tmp.element == o) {\n                return tmp;\n            }\n            else {\n                System.out.println(&quot;Elementot ne postoi vo listata&quot;);\n            }\n        }\n        else {\n            System.out.println(&quot;Listata e prazna&quot;);\n        }\n        return first;\n    }\n\n    public void insertFirst(E o) {\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, null, first);\n        if (first == null)\n            last = ins;\n        else\n            first.pred = ins;\n        first = ins;\n    }\n\n    public void insertLast(E o) {\n        if (first == null)\n            insertFirst(o);\n        else {\n            DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, last, null);\n            last.succ = ins;\n            last = ins;\n        }\n    }\n\n    public void insertBefore(E o, DLLNode&lt;E&gt; before) {\n        if (before == first) {\n            insertFirst(o);\n            return;\n        }\n        DLLNode&lt;E&gt; ins = new DLLNode&lt;E&gt;(o, before.pred, before);\n        before.pred.succ = ins;\n        before.pred = ins;\n    }\n\n    public E deleteFirst() {\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            first = first.succ;\n            if (first != null)\n                first.pred = null;\n            if (first == null)\n                last = null;\n            return tmp.element;\n        }\n        else\n            return null;\n    }\n\n    public E deleteLast() {\n        if (first != null) {\n            if (first.succ == null)\n                return deleteFirst();\n            else {\n                DLLNode&lt;E&gt; tmp = last;\n                last = last.pred;\n                last.succ = null;\n                return tmp.element;\n            }\n        }\n        // else throw Exception\n        return null;\n    }\n\n    public E delete(DLLNode&lt;E&gt; node) {\n        if (node == first) {\n            deleteFirst();\n            return node.element;\n        }\n        if (node == last) {\n            deleteLast();\n            return node.element;\n        }\n        node.pred.succ = node.succ;\n        node.succ.pred = node.pred;\n        return node.element;\n\n    }\n\n    @Override\n    public String toString() {\n        String ret = new String();\n        if (first != null) {\n            DLLNode&lt;E&gt; tmp = first;\n            ret += tmp + &quot; &quot;;\n            while (tmp.succ != null) {\n                tmp = tmp.succ;\n                ret += tmp + &quot; &quot;;\n            }\n        }\n        else\n            ret = &quot;Prazna lista!!!&quot;;\n        return ret;\n    }\n}\n\npublic class AddNum {\n    public static void addNum(DLL&lt;Integer&gt; lista) {\n        DLLNode&lt;Integer&gt; tmp = lista.getFirst();\n        DLLNode&lt;Integer&gt; nov = null;\n        while (tmp.succ != null) {\n            if (tmp.element == -1) {\n                lista.delete(tmp);\n            }\n            else {\n                tmp.element = tmp.element * 10 + tmp.succ.element;\n            }\n            tmp = tmp.succ;\n        }\n\n    }\n\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        // Integer\n        String s;\n        int i, n, num;\n        String[] pom;\n        DLL&lt;Integer&gt; list = new DLL&lt;Integer&gt;();\n\n        s = br.readLine();\n        n = Integer.parseInt(s);\n        s = br.readLine();\n        pom = s.split(&quot; &quot;);\n        for (i = 0; i &lt; n; i++) {\n            num = Integer.parseInt(pom[i]);\n            list.insertLast(num);\n        }\n        addNum(list);\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":["java","pitest"],"answers":[{"comments":[{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":1,"creation_date":1661268246,"post_id":73447929,"comment_id":129729295,"body_markdown":"Yes, you are technically correct to reduce the logic to the signum function in the simplified example I gave.  In my actual code, the magnitude of the value is still important, it&#39;s not the result of a Comparator.compareTo() call.  I should have provided a more appropriate example.","body":"Yes, you are technically correct to reduce the logic to the signum function in the simplified example I gave.  In my actual code, the magnitude of the value is still important, it&#39;s not the result of a Comparator.compareTo() call.  I should have provided a more appropriate example."}],"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661955028,"creation_date":1661183872,"answer_id":73447929,"question_id":73439324,"body_markdown":"From [What is mutation test?][1]\r\n&gt; When the application code changes, it should produce different results and cause the unit tests to fail. If a unit test does not fail in this situation, it may indicate an issue with the test suite.\r\n\r\nYour code is definitely correct, and I guess your unit test is also correct. So what&#39;s wrong?\r\n\r\nIMO, what I learn from your example is that.\r\n\r\nMutation Test also aim for **Conciseness**\r\n---\r\n\r\nWhich means there is no space for us to modify the program without changing the behaviour. \r\n\r\nLet say someone replaced `&gt;` with `&gt;=` accidentally,\r\n```java\r\n...\r\n} else if (scale &gt;= 0) {\r\n    this.scale = 1;\r\n}...\r\n```\r\nThe unit test will still pass, everything will still work. Except the code become confusing. Reader will wonder why it is `&gt;=` and not `&gt;`. \r\nNot possible to happen? Who knows!\r\n\r\n### What are the solutions?\r\n1. Reorder the condition, this is somehow &quot;tricky&quot;. But at least making the code more robust.\r\n  ```\r\n  if (scale &lt; 0) {\r\n      this.scale = -1;\r\n  } else if (scale &gt; 0) {\r\n      this.scale = 1;\r\n  } else {\r\n      this.scale = 0;\r\n  }\r\n  ```\r\n  \r\n2. Use [Integer.signum(int i)][2], which just return what you need in this case.\r\n&gt; Returns the signum function of the specified int value. (The return value is -1 if the specified value is negative; 0 if the specified value is zero; and 1 if the specified value is positive.)\r\n\r\n\r\n  [1]: https://pitest.org/\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#signum(int)","title":"JAVA | Mutation Testing | PiTEST | changed conditional boundary → SURVIVED | Impossible to kill","body":"<p>From <a href=\"https://pitest.org/\" rel=\"nofollow noreferrer\">What is mutation test?</a></p>\n<blockquote>\n<p>When the application code changes, it should produce different results and cause the unit tests to fail. If a unit test does not fail in this situation, it may indicate an issue with the test suite.</p>\n</blockquote>\n<p>Your code is definitely correct, and I guess your unit test is also correct. So what's wrong?</p>\n<p>IMO, what I learn from your example is that.</p>\n<h2>Mutation Test also aim for <strong>Conciseness</strong></h2>\n<p>Which means there is no space for us to modify the program without changing the behaviour.</p>\n<p>Let say someone replaced <code>&gt;</code> with <code>&gt;=</code> accidentally,</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n} else if (scale &gt;= 0) {\n    this.scale = 1;\n}...\n</code></pre>\n<p>The unit test will still pass, everything will still work. Except the code become confusing. Reader will wonder why it is <code>&gt;=</code> and not <code>&gt;</code>.\nNot possible to happen? Who knows!</p>\n<h3>What are the solutions?</h3>\n<ol>\n<li>Reorder the condition, this is somehow &quot;tricky&quot;. But at least making the code more robust.</li>\n</ol>\n<pre><code>if (scale &lt; 0) {\n    this.scale = -1;\n} else if (scale &gt; 0) {\n    this.scale = 1;\n} else {\n    this.scale = 0;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#signum(int)\" rel=\"nofollow noreferrer\">Integer.signum(int i)</a>, which just return what you need in this case.</li>\n</ol>\n<blockquote>\n<p>Returns the signum function of the specified int value. (The return value is -1 if the specified value is negative; 0 if the specified value is zero; and 1 if the specified value is positive.)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":285703,"reputation":2572,"user_id":584532,"accept_rate":79,"display_name":"nrainer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665743245,"creation_date":1665743245,"answer_id":74067880,"question_id":73439324,"body_markdown":"Such a syntactical change to the source code that does not change the semantics is called an equivalent mutant. It cannot be killed by definition.\r\n\r\nEquivalent mutants are a common problem in mutation testing. Pitest&#39;s mutation &quot;operators are largely designed to be stable (i.e not be too easy to detect) and minimise the number of equivalent mutations that they generate&quot; (http://pitest.org/quickstart/mutators/).\r\n\r\nYou need to live with those, it does not make sense to change the code just to satisfy Pitest.","title":"JAVA | Mutation Testing | PiTEST | changed conditional boundary → SURVIVED | Impossible to kill","body":"<p>Such a syntactical change to the source code that does not change the semantics is called an equivalent mutant. It cannot be killed by definition.</p>\n<p>Equivalent mutants are a common problem in mutation testing. Pitest's mutation &quot;operators are largely designed to be stable (i.e not be too easy to detect) and minimise the number of equivalent mutations that they generate&quot; (<a href=\"http://pitest.org/quickstart/mutators/\" rel=\"nofollow noreferrer\">http://pitest.org/quickstart/mutators/</a>).</p>\n<p>You need to live with those, it does not make sense to change the code just to satisfy Pitest.</p>\n"}],"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1665743245,"creation_date":1661130417,"question_id":73439324,"body_markdown":"I am initializing a final int field in a constructor by inspecting a local `scale` int value with respect to zero.\r\n\r\nMy code is of the form:\r\n\r\n    final int scale = calculateScale();\r\n    if (scale == 0) {\r\n        this.scale = 0;\r\n    } else if (scale &gt; 0) {\r\n        this.scale = 1;\r\n    } else {\r\n        this.scale = -1;\r\n    }\r\n\r\nI would expect this is a common pattern, since a Comparator also returns one of three values, -1, 0 or 1.\r\n\r\nPitest complains about the `scale &gt; 0` conditional, declaring the mutation `scale &gt;= 0` survives.\r\n\r\nHowever, scale cannot be zero at that point, otherwise it would have entered the first conditional block.\r\n\r\nIn my opinion, pitest is testing an invalid mutation, and a quick dataflow analysis would reveal `scale` cannot be zero.\r\n\r\nI don&#39;t like to modify code to fool pitest, but how could this be expressed such that pitest doesn&#39;t complain?\r\n","title":"JAVA | Mutation Testing | PiTEST | changed conditional boundary → SURVIVED | Impossible to kill","body":"<p>I am initializing a final int field in a constructor by inspecting a local <code>scale</code> int value with respect to zero.</p>\n<p>My code is of the form:</p>\n<pre><code>final int scale = calculateScale();\nif (scale == 0) {\n    this.scale = 0;\n} else if (scale &gt; 0) {\n    this.scale = 1;\n} else {\n    this.scale = -1;\n}\n</code></pre>\n<p>I would expect this is a common pattern, since a Comparator also returns one of three values, -1, 0 or 1.</p>\n<p>Pitest complains about the <code>scale &gt; 0</code> conditional, declaring the mutation <code>scale &gt;= 0</code> survives.</p>\n<p>However, scale cannot be zero at that point, otherwise it would have entered the first conditional block.</p>\n<p>In my opinion, pitest is testing an invalid mutation, and a quick dataflow analysis would reveal <code>scale</code> cannot be zero.</p>\n<p>I don't like to modify code to fool pitest, but how could this be expressed such that pitest doesn't complain?</p>\n"},{"tags":["java","jpa","eclipselink","auto-generate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665743507,"post_id":74067782,"comment_id":130774644,"body_markdown":"Try to use raw type `Set` as generic parameter","body":"Try to use raw type <code>Set</code> as generic parameter"},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":0,"creation_date":1665745535,"post_id":74067782,"comment_id":130775190,"body_markdown":"That works - but I have to do it on the entity as well as in the converter which isn&#39;t ideal","body":"That works - but I have to do it on the entity as well as in the converter which isn&#39;t ideal"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665745750,"post_id":74067782,"comment_id":130775253,"body_markdown":"Also see https://www.eclipse.org/forums/index.php/t/1103966/","body":"Also see <a href=\"https://www.eclipse.org/forums/index.php/t/1103966/\" rel=\"nofollow noreferrer\">eclipse.org/forums/index.php/t/1103966</a>"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665742614,"creation_date":1665742614,"question_id":74067782,"body_markdown":"I have an entity, with the following field:\r\n\r\n```java\r\n\t@Column(name=&quot;DAYS_BITMAP&quot;, length=7)\r\n\t@Convert(converter=DaysOfWeekSetToStringConverter.class)\r\n\tprivate Set&lt;DayOfWeek&gt; daysRunning;\r\n```\r\nI then have the converter as follows:\r\n\r\n```java\r\nimport java.time.DayOfWeek;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.AttributeConverter;\r\nimport javax.persistence.Converter;\r\n\r\n@Converter(autoApply = false)\r\npublic class DaysOfWeekSetToStringConverter implements AttributeConverter&lt;Set&lt;DayOfWeek&gt;, String&gt;\r\n{\r\n\r\n\t@Override\r\n\tpublic String convertToDatabaseColumn(Set&lt;DayOfWeek&gt; attribute) {\r\n\t\tchar[] result = &quot;0000000&quot;.toCharArray();\r\n\t\tfor (DayOfWeek dow : attribute)\r\n\t\t{\r\n\t\t\tresult[dow.getValue()-1] = &#39;1&#39;;\r\n\t\t}\r\n\t\treturn new String(result);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Set&lt;DayOfWeek&gt; convertToEntityAttribute(String dbData) {\r\n\t\tSet&lt;DayOfWeek&gt; results = new HashSet&lt;&gt;();\r\n\t\tchar[] daysOfWeekMonToSun = dbData.toCharArray();\r\n\t\tfor (int i=0;i&lt;7;i++) // 7 days in a week\r\n\t\t{\r\n\t\t\tif (daysOfWeekMonToSun[i] == &#39;1&#39;)\r\n\t\t\t{\r\n\t\t\t\tresults.add(DayOfWeek.of(i+1)); // days of week are indexed 1 = Monday, 7 = Sunday\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n}\r\n```\r\n\r\nWhen I come to ask eclipselink to generate the DDL for me, it does it - but it throws this error:\r\n\r\n```\r\nEL Fine]: server: Configured server platform: org.eclipse.persistence.platform.server.NoServerPlatform\r\n[EL Fine]: metadata: java.lang.ClassNotFoundException: java.util.Setjava.time.DayOfWeek\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:264)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.getVirtualMetadataClass(MetadataAsmFactory.java:542)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.buildClassMetadata(MetadataAsmFactory.java:143)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.getMetadataClass(MetadataAsmFactory.java:177)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.ORMetadata.getMetadataClass(ORMetadata.java:408)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.ORMetadata.getMetadataClass(ORMetadata.java:400)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.classes.ConverterAccessor.initClassificationClasses(ConverterAccessor.java:179)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.accessors.classes.ConverterAccessor.&lt;init&gt;(ConverterAccessor.java:85)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.initPersistenceUnitClasses(MetadataProcessor.java:378)\r\n\tat org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.processEntityMappings(MetadataProcessor.java:563)\r\n\tat org.eclipse.persistence.internal.jpa.deployment.PersistenceUnitProcessor.processORMetadata(PersistenceUnitProcessor.java:625)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2001)\r\n\tat org.eclipse.persistence.internal.jpa.deployment.JPAInitializer.callPredeploy(JPAInitializer.java:104)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:107)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.buildEntityManagerFactory(Main.java:94)\r\n\tat org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.execute(Main.java:80)\r\n\tat org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.main(Main.java:68)\r\n```\r\n\r\nHow can I help eclipselink to find the class it needs?","title":"eclipselink JPA error - can&#39;t find class java.util.Setjava.time.DayOfWeek","body":"<p>I have an entity, with the following field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Column(name=&quot;DAYS_BITMAP&quot;, length=7)\n    @Convert(converter=DaysOfWeekSetToStringConverter.class)\n    private Set&lt;DayOfWeek&gt; daysRunning;\n</code></pre>\n<p>I then have the converter as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.DayOfWeek;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter(autoApply = false)\npublic class DaysOfWeekSetToStringConverter implements AttributeConverter&lt;Set&lt;DayOfWeek&gt;, String&gt;\n{\n\n    @Override\n    public String convertToDatabaseColumn(Set&lt;DayOfWeek&gt; attribute) {\n        char[] result = &quot;0000000&quot;.toCharArray();\n        for (DayOfWeek dow : attribute)\n        {\n            result[dow.getValue()-1] = '1';\n        }\n        return new String(result);\n    }\n\n    @Override\n    public Set&lt;DayOfWeek&gt; convertToEntityAttribute(String dbData) {\n        Set&lt;DayOfWeek&gt; results = new HashSet&lt;&gt;();\n        char[] daysOfWeekMonToSun = dbData.toCharArray();\n        for (int i=0;i&lt;7;i++) // 7 days in a week\n        {\n            if (daysOfWeekMonToSun[i] == '1')\n            {\n                results.add(DayOfWeek.of(i+1)); // days of week are indexed 1 = Monday, 7 = Sunday\n            }\n        }\n        return results;\n    }\n}\n</code></pre>\n<p>When I come to ask eclipselink to generate the DDL for me, it does it - but it throws this error:</p>\n<pre><code>EL Fine]: server: Configured server platform: org.eclipse.persistence.platform.server.NoServerPlatform\n[EL Fine]: metadata: java.lang.ClassNotFoundException: java.util.Setjava.time.DayOfWeek\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.getVirtualMetadataClass(MetadataAsmFactory.java:542)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.buildClassMetadata(MetadataAsmFactory.java:143)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.objects.MetadataAsmFactory.getMetadataClass(MetadataAsmFactory.java:177)\n    at org.eclipse.persistence.internal.jpa.metadata.ORMetadata.getMetadataClass(ORMetadata.java:408)\n    at org.eclipse.persistence.internal.jpa.metadata.ORMetadata.getMetadataClass(ORMetadata.java:400)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.classes.ConverterAccessor.initClassificationClasses(ConverterAccessor.java:179)\n    at org.eclipse.persistence.internal.jpa.metadata.accessors.classes.ConverterAccessor.&lt;init&gt;(ConverterAccessor.java:85)\n    at org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.initPersistenceUnitClasses(MetadataProcessor.java:378)\n    at org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.processEntityMappings(MetadataProcessor.java:563)\n    at org.eclipse.persistence.internal.jpa.deployment.PersistenceUnitProcessor.processORMetadata(PersistenceUnitProcessor.java:625)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2001)\n    at org.eclipse.persistence.internal.jpa.deployment.JPAInitializer.callPredeploy(JPAInitializer.java:104)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:107)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.buildEntityManagerFactory(Main.java:94)\n    at org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.execute(Main.java:80)\n    at org.eclipse.jpt.jpa.eclipselink.core.ddlgen.Main.main(Main.java:68)\n</code></pre>\n<p>How can I help eclipselink to find the class it needs?</p>\n"},{"tags":["java","apache-camel","junit5","spring-camel","camel-test"],"answers":[{"tags":[],"owner":{"account_id":19843818,"reputation":1,"user_id":14535899,"display_name":"d4kine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665742519,"creation_date":1665742519,"answer_id":74067763,"question_id":73499256,"body_markdown":"Actually you don&#39;t, because this would test the underlying sql-component of the Camel framework, which is already tested. Instead of this, you could test  if the filled &quot;id&quot;-header contains the expected number (extracted from the body) which would be 12 in this case:\r\n\r\n    mockSQLStored.expectedHeaderValuesReceivedInAnyOrder(&quot;id&quot;, 12);","title":"Camel Testing: get Expected String of Header with parameters","body":"<p>Actually you don't, because this would test the underlying sql-component of the Camel framework, which is already tested. Instead of this, you could test  if the filled &quot;id&quot;-header contains the expected number (extracted from the body) which would be 12 in this case:</p>\n<pre><code>mockSQLStored.expectedHeaderValuesReceivedInAnyOrder(&quot;id&quot;, 12);\n</code></pre>\n"}],"owner":{"account_id":26164977,"reputation":1,"user_id":19850930,"display_name":"Alessandr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665742519,"creation_date":1661507988,"question_id":73499256,"body_markdown":"I have a route\r\n```\r\nfrom(&quot;sql:classpath:sql/selectAccounts.sql?outputClass=Account&amp;delay={{EXEC_INTVAL_MS:60000}}&amp;useIterator=false&quot;)\r\n\t.routeId(ROUTE_MIGRATE_ACCOUNTS)\r\n\t.to(&quot;log:accounts?showAll=true&amp;level=DEBUG&quot;)\r\n\t.setHeader(HEADER_MIGRATION_TYPE, constant(HEADER_MIGRATION_TYPE_ACCOUNTS))\r\n\t.setHeader(HEADER_API_TYPE, constant(HEADER_API_TYPE_ADRE))\r\n\t.setHeader(SQL_STORED_TEMPLATE, constant(&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;))\r\n\t.to(&quot;direct:markStarted&quot;)\r\n\r\nfrom(&quot;direct:markStarted&quot;).routeId(ROUTE_MARK_STARTED_IN)\r\n\t.split(body())\r\n\t.setHeader(&quot;id&quot;, convertToExpression(simple(&quot;${body.id}&quot;),Integer.class))\r\n\t.to(&quot;sql-stored:template&quot;).id(ID_MARK_STARTED_TO_SQL_STORE)\r\n\t.log(&quot;${header.id} marked as migration started&quot;);\r\n```\r\n\r\nwith Headers\r\n```\r\n\tstatic final String HEADER_API_TYPE = &quot;apiType&quot;;\r\n\tstatic final String HEADER_API_TYPE_ADRE = &quot;ADRE_API&quot;;\r\n```\r\nI would love to test if the sql-stored is called with expected header where the placeholder a filled like this\r\n\r\nADRE_API.MIGRATION_STARTET(INTEGER 12)\r\n\r\nI found \r\n```\r\nmockSQLStored.expectedHeaderValuesReceivedInAnyOrder(SQL_STORED_TEMPLATE,\r\n&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;,\r\n&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;);\r\n```\r\nwhats working perfect like this.\r\n\r\nHow can I check the header filled with the params?","title":"Camel Testing: get Expected String of Header with parameters","body":"<p>I have a route</p>\n<pre><code>from(&quot;sql:classpath:sql/selectAccounts.sql?outputClass=Account&amp;delay={{EXEC_INTVAL_MS:60000}}&amp;useIterator=false&quot;)\n    .routeId(ROUTE_MIGRATE_ACCOUNTS)\n    .to(&quot;log:accounts?showAll=true&amp;level=DEBUG&quot;)\n    .setHeader(HEADER_MIGRATION_TYPE, constant(HEADER_MIGRATION_TYPE_ACCOUNTS))\n    .setHeader(HEADER_API_TYPE, constant(HEADER_API_TYPE_ADRE))\n    .setHeader(SQL_STORED_TEMPLATE, constant(&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;))\n    .to(&quot;direct:markStarted&quot;)\n\nfrom(&quot;direct:markStarted&quot;).routeId(ROUTE_MARK_STARTED_IN)\n    .split(body())\n    .setHeader(&quot;id&quot;, convertToExpression(simple(&quot;${body.id}&quot;),Integer.class))\n    .to(&quot;sql-stored:template&quot;).id(ID_MARK_STARTED_TO_SQL_STORE)\n    .log(&quot;${header.id} marked as migration started&quot;);\n</code></pre>\n<p>with Headers</p>\n<pre><code>    static final String HEADER_API_TYPE = &quot;apiType&quot;;\n    static final String HEADER_API_TYPE_ADRE = &quot;ADRE_API&quot;;\n</code></pre>\n<p>I would love to test if the sql-stored is called with expected header where the placeholder a filled like this</p>\n<p>ADRE_API.MIGRATION_STARTET(INTEGER 12)</p>\n<p>I found</p>\n<pre><code>mockSQLStored.expectedHeaderValuesReceivedInAnyOrder(SQL_STORED_TEMPLATE,\n&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;,\n&quot;${header.apiType}.MIGRATION_STARTET(INTEGER ${header.id})&quot;);\n</code></pre>\n<p>whats working perfect like this.</p>\n<p>How can I check the header filled with the params?</p>\n"},{"tags":["java","mongodb","mongodb-query","mongodb-java","azure-cosmosdb-mongoapi"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1663578492,"post_id":73770816,"comment_id":130264549,"body_markdown":"You can convert the data into your db to store real number instead of string, is that a possibility?","body":"You can convert the data into your db to store real number instead of string, is that a possibility?"},{"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"score":0,"creation_date":1663578704,"post_id":73770816,"comment_id":130264612,"body_markdown":"hi @CharchitKapoor that is the &quot;nuclear&quot; option. we&#39;re trying to avoid that","body":"hi @CharchitKapoor that is the &quot;nuclear&quot; option. we&#39;re trying to avoid that"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1663579249,"post_id":73770816,"comment_id":130264795,"body_markdown":"Ok, so at present, you have strings and you are applying filters, by passing strings is that accurate?","body":"Ok, so at present, you have strings and you are applying filters, by passing strings is that accurate?"},{"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"score":0,"creation_date":1663580412,"post_id":73770816,"comment_id":130265165,"body_markdown":"correct, if i pass in an integer the DB/filter will not match anything","body":"correct, if i pass in an integer the DB/filter will not match anything"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1663580761,"post_id":73770816,"comment_id":130265279,"body_markdown":"Then the best thing is to write an aggregation pipeline, convert your `cId` to a number within the pipeline using `$convert` https://www.mongodb.com/docs/manual/reference/operator/aggregation/convert/ and then match it using your parameters","body":"Then the best thing is to write an aggregation pipeline, convert your <code>cId</code> to a number within the pipeline using <code>$convert</code> <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/convert/\" rel=\"nofollow noreferrer\">mongodb.com/docs/manual/reference/operator/aggregation/conve&zwnj;&#8203;rt</a> and then match it using your parameters"}],"answers":[{"tags":[],"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665741668,"creation_date":1665741668,"answer_id":74067614,"question_id":73770816,"body_markdown":"Posting @CharchitKapoor comment above as the best available answer within the limitations of my question.... (however in my case, I ended up converting the data on insertion to a real number)\r\n\r\nThe best thing is to write an aggregation pipeline, convert your cId to a number within the pipeline using $convert mongodb.com/docs/manual/reference/operator/aggregation/convert and then match it using your parameter","title":"MongoDB Java Driver Filter Integer Value of a String","body":"<p>Posting @CharchitKapoor comment above as the best available answer within the limitations of my question.... (however in my case, I ended up converting the data on insertion to a real number)</p>\n<p>The best thing is to write an aggregation pipeline, convert your cId to a number within the pipeline using $convert mongodb.com/docs/manual/reference/operator/aggregation/convert and then match it using your parameter</p>\n"}],"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74067614,"answer_count":1,"score":2,"last_activity_date":1665741668,"creation_date":1663577529,"question_id":73770816,"body_markdown":"I have MongoDB Document parameter of type &quot;real&quot; number but is represented in the DB as a string- e.g `&quot;cId&quot;=&quot;200&quot;` instead of `&quot;cId&quot;=200`I have to query the DB for a range of numbers; e.g. filter equivalent to `SELECT ALL where cId is less than 10 and greater than 5.`\r\n\r\nIs there a way to query the integer value of this parameter using a similar functional equivalent to `Integer.parseInt(str);` for example\r\n\r\nMy filter looks like\r\n\r\n    Bson filter = Filters.and(Filters.gt(&quot;cId&quot;, &quot;0&quot;), Filters.lt(&quot;cId&quot;,&quot;4&quot;));\r\n\r\nI&#39;m hoping for an equivalent of something like \r\n\r\n    Bson filter = Filters.and(Filters.gt(&quot;cId&quot;, valueOf(&quot;0&quot;)), Filters.lt(&quot;cId&quot;,valueOf(&quot;4&quot;)));\r\n\r\nThanks...","title":"MongoDB Java Driver Filter Integer Value of a String","body":"<p>I have MongoDB Document parameter of type &quot;real&quot; number but is represented in the DB as a string- e.g <code>&quot;cId&quot;=&quot;200&quot;</code> instead of <code>&quot;cId&quot;=200</code>I have to query the DB for a range of numbers; e.g. filter equivalent to <code>SELECT ALL where cId is less than 10 and greater than 5.</code></p>\n<p>Is there a way to query the integer value of this parameter using a similar functional equivalent to <code>Integer.parseInt(str);</code> for example</p>\n<p>My filter looks like</p>\n<pre><code>Bson filter = Filters.and(Filters.gt(&quot;cId&quot;, &quot;0&quot;), Filters.lt(&quot;cId&quot;,&quot;4&quot;));\n</code></pre>\n<p>I'm hoping for an equivalent of something like</p>\n<pre><code>Bson filter = Filters.and(Filters.gt(&quot;cId&quot;, valueOf(&quot;0&quot;)), Filters.lt(&quot;cId&quot;,valueOf(&quot;4&quot;)));\n</code></pre>\n<p>Thanks...</p>\n"},{"tags":["java","spring-boot","socket.io","socket.io-java-client"],"owner":{"account_id":16097021,"reputation":251,"user_id":12176903,"display_name":"Areej Fatimah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665741432,"creation_date":1665731875,"question_id":74065656,"body_markdown":"I have to implement client functionality using [https://github.com/socketio/socket.io-client-java][1]. I have socket.io nodejs server 4.x version. I want to establish around 300-700 socket connections using threadpool `ThreadPoolExecutor` in a loop after some fixed  delay. I have tried to implement this, the socket connections to server established but after sometimes got disconnected.Please help me figure the root cause of the issue of disconnections.\r\nI have tired\r\n\r\n - Without using threads at all.\r\n - Using `singleThreadPool`\r\n - Using `fixedThreadPool`\r\n - Using `scheduledThreadPool`\r\n\r\n        ScheduledThreadPoolExecutor executor = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(200);\r\n        ScheduledFuture&lt;?&gt; future;\r\n        future= executor.scheduleAtFixedRate(() -&gt; {\r\n        for(int i=1;i&lt;=300;i++) {\r\n\r\n                IO.Options options = IO.Options.builder()\r\n                        .setPath(&quot;/agent-manager/socket.io&quot;)\r\n                        .setTransports(new String[]{Polling.NAME,WebSocket.NAME})\r\n                        .setAuth(token)\r\n                        .build();\r\n\r\n                 socket = IO.socket(URI.create(&quot;wss://localhost:3000&quot;), options);\r\n                 socket.on(&quot;connect_error&quot;, new Emitter.Listener() {\r\n                    @Override\r\n                    public void call(Object... args) {\r\n                        System.out.println(args[0]);\r\n                    }\r\n                }).on(&quot;connect&quot;, new Emitter.Listener() {\r\n                    @Override\r\n                    public void call(Object... args) {\r\n                        System.out.println(socket.id() +&quot; &quot;+i+&quot; connected&quot;);\r\n                    }\r\n                }).on(&quot;disconnect&quot;, new Emitter.Listener() {\r\n                    @Override\r\n                    public void call(Object... args) {\r\n                        System.out.println(socket.id() +&quot; &quot;+i+&quot; disconnected&quot;);\r\n                    }\r\n                });\r\n                socket.connect();\r\n                lock.countDown();\r\n            }\r\n            }, 1000, delay, TimeUnit.MILLISECONDS);\r\n            lock.await(delay, TimeUnit.MILLISECONDS);\r\n            future.cancel(true);\r\n\r\nIn all above cases, disconnections appear after few seconds.\r\nIs there some sort of socket object ttl expiration, connection timeout, or server &amp; client are not sending any data in some time, so due to inactivity the disconnections appears? How to keep connections sustained?\r\n\r\n\r\n  [1]: https://github.com/socketio/socket.io-client-java","title":"Multiple socket io client connections in java","body":"<p>I have to implement client functionality using <a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">https://github.com/socketio/socket.io-client-java</a>. I have socket.io nodejs server 4.x version. I want to establish around 300-700 socket connections using threadpool <code>ThreadPoolExecutor</code> in a loop after some fixed  delay. I have tried to implement this, the socket connections to server established but after sometimes got disconnected.Please help me figure the root cause of the issue of disconnections.\nI have tired</p>\n<ul>\n<li><p>Without using threads at all.</p>\n</li>\n<li><p>Using <code>singleThreadPool</code></p>\n</li>\n<li><p>Using <code>fixedThreadPool</code></p>\n</li>\n<li><p>Using <code>scheduledThreadPool</code></p>\n<pre><code> ScheduledThreadPoolExecutor executor = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(200);\n ScheduledFuture&lt;?&gt; future;\n future= executor.scheduleAtFixedRate(() -&gt; {\n for(int i=1;i&lt;=300;i++) {\n\n         IO.Options options = IO.Options.builder()\n                 .setPath(&quot;/agent-manager/socket.io&quot;)\n                 .setTransports(new String[]{Polling.NAME,WebSocket.NAME})\n                 .setAuth(token)\n                 .build();\n\n          socket = IO.socket(URI.create(&quot;wss://localhost:3000&quot;), options);\n          socket.on(&quot;connect_error&quot;, new Emitter.Listener() {\n             @Override\n             public void call(Object... args) {\n                 System.out.println(args[0]);\n             }\n         }).on(&quot;connect&quot;, new Emitter.Listener() {\n             @Override\n             public void call(Object... args) {\n                 System.out.println(socket.id() +&quot; &quot;+i+&quot; connected&quot;);\n             }\n         }).on(&quot;disconnect&quot;, new Emitter.Listener() {\n             @Override\n             public void call(Object... args) {\n                 System.out.println(socket.id() +&quot; &quot;+i+&quot; disconnected&quot;);\n             }\n         });\n         socket.connect();\n         lock.countDown();\n     }\n     }, 1000, delay, TimeUnit.MILLISECONDS);\n     lock.await(delay, TimeUnit.MILLISECONDS);\n     future.cancel(true);\n</code></pre>\n</li>\n</ul>\n<p>In all above cases, disconnections appear after few seconds.\nIs there some sort of socket object ttl expiration, connection timeout, or server &amp; client are not sending any data in some time, so due to inactivity the disconnections appears? How to keep connections sustained?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9261,"page":962,"page_size":100}
