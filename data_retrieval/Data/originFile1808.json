{"items":[{"tags":["java","spring-boot","application.properties"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1632939508,"post_id":69381341,"comment_id":122631787,"body_markdown":"What is `contour` ? Anyway, maybe read this: https://www.baeldung.com/properties-with-spring","body":"What is <code>contour</code> ? Anyway, maybe read this: <a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/properties-with-spring</a>"},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1632941458,"post_id":69381341,"comment_id":122632457,"body_markdown":"a contour is a logical area of the project where the application or tests are located. These are 2 different places in the context of the project. For link that you have pointed, there is little info: ...&quot;4.3. Test-Specific Properties File\nWe might also have a requirement to use different property values when our application is under test.\n\nSpring Boot handles this for us by looking in our src/test/resources directory during a test run. Again, default properties will still be injectable as normal but will be overridden by these if there is a collision.&quot; - I&#39;m not sure I got it right.","body":"a contour is a logical area of the project where the application or tests are located. These are 2 different places in the context of the project. For link that you have pointed, there is little info: ...&quot;4.3. Test-Specific Properties File We might also have a requirement to use different property values when our application is under test.  Spring Boot handles this for us by looking in our src/test/resources directory during a test run. Again, default properties will still be injectable as normal but will be overridden by these if there is a collision.&quot; - I&#39;m not sure I got it right."}],"answers":[{"tags":[],"owner":{"account_id":19069434,"reputation":1,"user_id":13923922,"display_name":"Facundo Sanchez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632942416,"creation_date":1632942416,"answer_id":69382137,"question_id":69381341,"body_markdown":"you have to put this in your **application-test.yml** \r\n```\r\nspring:\r\n  profiles: test\r\n```","title":"In what order are application.yml read in spring boot?","body":"<p>you have to put this in your <strong>application-test.yml</strong></p>\n<pre><code>spring:\n  profiles: test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632953469,"creation_date":1632953469,"answer_id":69383857,"question_id":69381341,"body_markdown":"According to [Spring Boot reference documentation][1], the configuration data files are considered in the following order:\r\n\r\n 1. Application properties packaged inside your jar (application.properties and YAML variants).\r\n 2. Profile-specific application properties packaged inside your jar (application-{profile}.properties and YAML variants).\r\n 3. Application properties outside of your packaged jar (application.properties and YAML variants).\r\n 4. Profile-specific application properties outside of your packaged jar (application-{profile}.properties and YAML variants).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","title":"In what order are application.yml read in spring boot?","body":"<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">Spring Boot reference documentation</a>, the configuration data files are considered in the following order:</p>\n<ol>\n<li>Application properties packaged inside your jar (application.properties and YAML variants).</li>\n<li>Profile-specific application properties packaged inside your jar (application-{profile}.properties and YAML variants).</li>\n<li>Application properties outside of your packaged jar (application.properties and YAML variants).</li>\n<li>Profile-specific application properties outside of your packaged jar (application-{profile}.properties and YAML variants).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638172971,"creation_date":1637922920,"answer_id":70123038,"question_id":69381341,"body_markdown":" - Terminology:\r\n\r\n **Work Circuit** : /src/main/resources\r\n\r\n **Test Circuit** : /src/test/resources\r\n\r\n\r\n- Work Circut \r\n\r\n application.yaml\r\n\r\n```yml\r\nmain:\r\n  car:\r\n    name: &quot;Audi&quot;\r\n    id: &quot;10201&quot;\r\n```\r\n\r\napplication-local.yaml\r\n\r\n```yml\r\nmain:\r\n  car:\r\n    name: &quot;Mercedes&quot;\r\n    id: &quot;10200&quot;\r\n```\r\n\r\n- main class\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class SpringProfilesApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringProfilesApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    CommandLineRunner commandLineRunner(ProfileMain profileMain) {\r\n        return args -&gt; {\r\n            profileMain.printMainName();\r\n\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n- class\r\n\r\n```java\r\n@Component\r\npublic class ProfileMain {\r\n\r\n    @Value(&quot;${main.car.name}&quot;)\r\n    private String name;\r\n\r\n    @Value(&quot;${main.car.id}&quot;)\r\n    private String id;\r\n\r\n    public void printMainName() {\r\n        System.out.println(&quot;\\n name in Main application.yaml : &quot; + this.name + &quot;\\n&quot;);\r\n        System.out.println(&quot;\\n name in Main application.yaml : &quot; + this.id + &quot;\\n&quot;);\r\n    }\r\n}\r\n\r\n```\r\n– When you run the main class, without specifying any profiles, **application.yaml** will be used.\r\n– You can specify the profile you need in the **development environment**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n Now the settings of those properties that were in the main **application.yaml**, will be overridden in the specified profile - **local**.\r\n If the selected profile does not contain the settings that are in the main **application.yaml**, then the missing properties will be taken from the main **application.yaml**.\r\n\r\n- Test circuit\r\n\r\n```java\r\n@SpringBootTest(classes = SpringProfilesApplication.class)\r\nclass ProfileMainTest {\r\n\r\n    @Value(&quot;${main.car.name}&quot;)\r\n    private String name;\r\n\r\n    @Value(&quot;${main.car.id}&quot;)\r\n    private String id;\r\n\r\n    @Test\r\n    void printMainName() {\r\n        System.out.println(&quot;\\n In test circuit : &quot; + name);\r\n        System.out.println(&quot;\\n In test circuit : &quot; + id);\r\n    }\r\n```\r\n\r\nWhen we do not explicitly specify a profile, the settings will be taken from the main **application.yaml**.\r\n\r\nNow we use the ***.yaml** file from the test loop.\r\n\r\n**application-test.yaml**\r\n\r\n```java\r\nmain:\r\n  car:\r\n    name: &quot;Nissan&quot;\r\n    id: &quot;10203&quot;\r\n```\r\n\r\n```java\r\n@SpringBootTest(classes = SpringProfilesApplication.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass ProfileMainTest {\r\n...\r\n}\r\n\r\n```\r\nHere the properties (if any) will be redefined, that is, taken from the **application-test.yaml** file.\r\nBut if there is no property, then it will be taken from the main file\r\n**application.yml**.\r\n\r\n\r\n- Resume\r\n\r\n**In the Working circuit**\r\n\r\n1. If the profile is not specified, the settings will be taken from the main **application.yaml**.\r\n2. If a profile is specified, then the settings from this profile will override the settings from the main **application.yaml** file.\r\n  If some settings are missing, then the settings will be taken from the main **application.yaml** file(if any).\r\n\r\n**In the test circuit**\r\n\r\n1. If the profile is not specified, the settings will be taken from the main **application.yaml**.\r\n2. If a profile is specified, then the settings from this profile will override the settings from the main **application.yaml** file.\r\n If some settings are missing, then the settings will be taken from the main **application.yaml** file (if any).\r\n\r\n  [1]: https://i.stack.imgur.com/10ldj.png","title":"In what order are application.yml read in spring boot?","body":"<ul>\n<li>Terminology:</li>\n</ul>\n<p><strong>Work Circuit</strong> : /src/main/resources</p>\n<p><strong>Test Circuit</strong> : /src/test/resources</p>\n<ul>\n<li>Work Circut</li>\n</ul>\n<p>application.yaml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>main:\n  car:\n    name: &quot;Audi&quot;\n    id: &quot;10201&quot;\n</code></pre>\n<p>application-local.yaml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>main:\n  car:\n    name: &quot;Mercedes&quot;\n    id: &quot;10200&quot;\n</code></pre>\n<ul>\n<li>main class</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SpringProfilesApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringProfilesApplication.class, args);\n    }\n\n    @Bean\n    CommandLineRunner commandLineRunner(ProfileMain profileMain) {\n        return args -&gt; {\n            profileMain.printMainName();\n\n        };\n    }\n}\n</code></pre>\n<ul>\n<li>class</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ProfileMain {\n\n    @Value(&quot;${main.car.name}&quot;)\n    private String name;\n\n    @Value(&quot;${main.car.id}&quot;)\n    private String id;\n\n    public void printMainName() {\n        System.out.println(&quot;\\n name in Main application.yaml : &quot; + this.name + &quot;\\n&quot;);\n        System.out.println(&quot;\\n name in Main application.yaml : &quot; + this.id + &quot;\\n&quot;);\n    }\n}\n\n</code></pre>\n<p>– When you run the main class, without specifying any profiles, <strong>application.yaml</strong> will be used.\n– You can specify the profile you need in the <strong>development environment</strong></p>\n<p><a href=\"https://i.stack.imgur.com/10ldj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10ldj.png\" alt=\"enter image description here\" /></a></p>\n<p>Now the settings of those properties that were in the main <strong>application.yaml</strong>, will be overridden in the specified profile - <strong>local</strong>.\nIf the selected profile does not contain the settings that are in the main <strong>application.yaml</strong>, then the missing properties will be taken from the main <strong>application.yaml</strong>.</p>\n<ul>\n<li>Test circuit</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = SpringProfilesApplication.class)\nclass ProfileMainTest {\n\n    @Value(&quot;${main.car.name}&quot;)\n    private String name;\n\n    @Value(&quot;${main.car.id}&quot;)\n    private String id;\n\n    @Test\n    void printMainName() {\n        System.out.println(&quot;\\n In test circuit : &quot; + name);\n        System.out.println(&quot;\\n In test circuit : &quot; + id);\n    }\n</code></pre>\n<p>When we do not explicitly specify a profile, the settings will be taken from the main <strong>application.yaml</strong>.</p>\n<p>Now we use the *<strong>.yaml</strong> file from the test loop.</p>\n<p><strong>application-test.yaml</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>main:\n  car:\n    name: &quot;Nissan&quot;\n    id: &quot;10203&quot;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = SpringProfilesApplication.class)\n@ActiveProfiles(&quot;test&quot;)\nclass ProfileMainTest {\n...\n}\n\n</code></pre>\n<p>Here the properties (if any) will be redefined, that is, taken from the <strong>application-test.yaml</strong> file.\nBut if there is no property, then it will be taken from the main file\n<strong>application.yml</strong>.</p>\n<ul>\n<li>Resume</li>\n</ul>\n<p><strong>In the Working circuit</strong></p>\n<ol>\n<li>If the profile is not specified, the settings will be taken from the main <strong>application.yaml</strong>.</li>\n<li>If a profile is specified, then the settings from this profile will override the settings from the main <strong>application.yaml</strong> file.\nIf some settings are missing, then the settings will be taken from the main <strong>application.yaml</strong> file(if any).</li>\n</ol>\n<p><strong>In the test circuit</strong></p>\n<ol>\n<li>If the profile is not specified, the settings will be taken from the main <strong>application.yaml</strong>.</li>\n<li>If a profile is specified, then the settings from this profile will override the settings from the main <strong>application.yaml</strong> file.\nIf some settings are missing, then the settings will be taken from the main <strong>application.yaml</strong> file (if any).</li>\n</ol>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2580,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1638172971,"creation_date":1632938288,"question_id":69381341,"body_markdown":"I  suppose that it reads in work **working circuit** and then it reads in **testing circuit**.\r\n\r\n If **application.yml** is in **testing circuit** , it settings replace the settings has been reading in **application.yml**  of  **working circuit.** If You have defined **application-test.yml** and you point above a class an annotation **@SpringBootTest** and above **@ActiveProfile(&quot;test&quot;)** then the settings from **application-test.yml** replaces earlier settings.\r\n\r\nwhat do you think about all this ? How to understand this process correctly?","title":"In what order are application.yml read in spring boot?","body":"<p>I  suppose that it reads in work <strong>working circuit</strong> and then it reads in <strong>testing circuit</strong>.</p>\n<p>If <strong>application.yml</strong> is in <strong>testing circuit</strong> , it settings replace the settings has been reading in <strong>application.yml</strong>  of  <strong>working circuit.</strong> If You have defined <strong>application-test.yml</strong> and you point above a class an annotation <strong>@SpringBootTest</strong> and above <strong>@ActiveProfile(&quot;test&quot;)</strong> then the settings from <strong>application-test.yml</strong> replaces earlier settings.</p>\n<p>what do you think about all this ? How to understand this process correctly?</p>\n"},{"tags":["java","android","android-studio","emulation","mobile-development"],"answers":[{"tags":[],"owner":{"account_id":23486495,"reputation":21,"user_id":17537970,"display_name":"Abby S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638172909,"creation_date":1638172909,"answer_id":70151387,"question_id":70150644,"body_markdown":"So this worked for me.. cause I tried what someone suggested here on Stack Overflow. My laptop&#39;s display settings was set to 150%, which is recommended (according to my laptop settings), and I changed it to **125%** and it fixed the problem. Everything else on my screen turned a little bit smaller but it worked. I hope this helps someone else who ever encounters the same problem I had. ","title":"How do I resize my android emulator? software display is just on the top left corner the rest of the screen is just black","body":"<p>So this worked for me.. cause I tried what someone suggested here on Stack Overflow. My laptop's display settings was set to 150%, which is recommended (according to my laptop settings), and I changed it to <strong>125%</strong> and it fixed the problem. Everything else on my screen turned a little bit smaller but it worked. I hope this helps someone else who ever encounters the same problem I had.</p>\n"}],"owner":{"account_id":23486495,"reputation":21,"user_id":17537970,"display_name":"Abby S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638172909,"creation_date":1638168062,"question_id":70150644,"body_markdown":"[Click this link to see my problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PzPrZ.png\r\n\r\n\r\nplease I need help how do I fix this?","title":"How do I resize my android emulator? software display is just on the top left corner the rest of the screen is just black","body":"<p><a href=\"https://i.stack.imgur.com/PzPrZ.png\" rel=\"nofollow noreferrer\">Click this link to see my problem</a></p>\n<p>please I need help how do I fix this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":0,"creation_date":1315945046,"post_id":7407851,"comment_id":8950755,"body_markdown":"wouldn&#39;t `setEnabled(true/false)` be more appropriate?","body":"wouldn&#39;t <code>setEnabled(true&#47;false)</code> be more appropriate?"},{"owner":{"account_id":328457,"reputation":6447,"user_id":651418,"accept_rate":77,"display_name":"Roger"},"score":0,"creation_date":1315945387,"post_id":7407851,"comment_id":8950860,"body_markdown":"works. only it makes the textedit kinda gray, as if its disables. therefor setFocusable would be more preferable, only it doesn&#39;t work. :)","body":"works. only it makes the textedit kinda gray, as if its disables. therefor setFocusable would be more preferable, only it doesn&#39;t work. :)"}],"answers":[{"tags":[],"owner":{"account_id":542016,"reputation":1025,"user_id":910755,"accept_rate":61,"display_name":"NewProggie"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1315945446,"creation_date":1315945446,"answer_id":7408001,"question_id":7407851,"body_markdown":"You have to set the EditText to \r\n\r\n    etAdd.setEnabled(false);","title":"EditText.setFocusable(false); can&#39;t be set to true. :/","body":"<p>You have to set the EditText to </p>\n\n<pre><code>etAdd.setEnabled(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"down_vote_count":0,"up_vote_count":243,"is_accepted":true,"score":243,"last_activity_date":1315945509,"creation_date":1315945509,"answer_id":7408021,"question_id":7407851,"body_markdown":"Try\r\n\r\n    etAdd.setFocusableInTouchMode(true);\r\n    etAdd.setFocusable(true);\r\n\r\ninstead of just \r\n\r\n    etAdd.setFocusable(true);\r\n","title":"EditText.setFocusable(false); can&#39;t be set to true. :/","body":"<p>Try</p>\n\n<pre><code>etAdd.setFocusableInTouchMode(true);\netAdd.setFocusable(true);\n</code></pre>\n\n<p>instead of just </p>\n\n<pre><code>etAdd.setFocusable(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477438,"reputation":69,"user_id":1387512,"display_name":"Yohanfou"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1340645726,"creation_date":1340638001,"answer_id":11192306,"question_id":7407851,"body_markdown":"This solution has worked for me :\r\n\r\n \r\n     EditText test3 = (EditText) findViewById(R.id.edittext);\r\n     CheckBox check1= (CheckBox) findViewById(R.id.checkBox1);\r\n     test3.setClickable(false);\r\n     test3.setEnabled(false);\r\n     test3.setFocusable(false);\r\n     check1.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n\t      if(check1.isChecked()){\r\n\t         test3.setText(&quot;&quot;);\r\n\t         test3.setClickable(false);\r\n\t         test3.setEnabled(false);\r\n\t         test3.setFocusable(false);\r\n\t      } else {\r\n\t         test3.setClickable(true);\r\n\t         test3.setEnabled(true);\r\n\t         test3.setFocusable(true);\r\n\t         test3.setFocusableInTouchMode(true);\r\n\t      }\r\n\t    }\r\n     });\r\nAfter i check the checkbox the edittext is disabled.\r\n\r\ni hope it will help someone :)","title":"EditText.setFocusable(false); can&#39;t be set to true. :/","body":"<p>This solution has worked for me :</p>\n\n<pre><code> EditText test3 = (EditText) findViewById(R.id.edittext);\n CheckBox check1= (CheckBox) findViewById(R.id.checkBox1);\n test3.setClickable(false);\n test3.setEnabled(false);\n test3.setFocusable(false);\n check1.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n      if(check1.isChecked()){\n         test3.setText(\"\");\n         test3.setClickable(false);\n         test3.setEnabled(false);\n         test3.setFocusable(false);\n      } else {\n         test3.setClickable(true);\n         test3.setEnabled(true);\n         test3.setFocusable(true);\n         test3.setFocusableInTouchMode(true);\n      }\n    }\n });\n</code></pre>\n\n<p>After i check the checkbox the edittext is disabled.</p>\n\n<p>i hope it will help someone :)</p>\n"},{"tags":[],"owner":{"account_id":2901646,"reputation":2332,"user_id":3017473,"display_name":"Shohel Rana"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512022740,"creation_date":1512022740,"answer_id":47567040,"question_id":7407851,"body_markdown":"I use below code focus and click remove and add:\r\n\r\nRemove:\r\n`secondFirstHalfEditText.setClickable(false);\r\n secondFirstHalfEditText.setFocusable(false);`\r\n\r\n\r\nAdd :\r\n\r\n    editText.setClickable(true);\r\n    editText.setFocusableInTouchMode(true);\r\n    editText.setFocusable(true);\r\n\r\nMust use this For active Edittext &gt;&gt;\r\n\r\n    editText.setFocusableInTouchMode(true);\r\n\r\nIts working for me perfecly","title":"EditText.setFocusable(false); can&#39;t be set to true. :/","body":"<p>I use below code focus and click remove and add:</p>\n\n<p>Remove:\n<code>secondFirstHalfEditText.setClickable(false);\n secondFirstHalfEditText.setFocusable(false);</code></p>\n\n<p>Add :</p>\n\n<pre><code>editText.setClickable(true);\neditText.setFocusableInTouchMode(true);\neditText.setFocusable(true);\n</code></pre>\n\n<p>Must use this For active Edittext >></p>\n\n<pre><code>editText.setFocusableInTouchMode(true);\n</code></pre>\n\n<p>Its working for me perfecly</p>\n"},{"tags":[],"owner":{"account_id":8278935,"reputation":1367,"user_id":6224209,"display_name":"Vanya Rachel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638172890,"creation_date":1638172890,"answer_id":70151381,"question_id":7407851,"body_markdown":"my code work well using `editText.requestFocus();`","title":"EditText.setFocusable(false); can&#39;t be set to true. :/","body":"<p>my code work well using <code>editText.requestFocus();</code></p>\n"}],"owner":{"account_id":328457,"reputation":6447,"user_id":651418,"accept_rate":77,"display_name":"Roger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25734,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":7408021,"answer_count":5,"score":78,"last_activity_date":1638172890,"creation_date":1315944740,"question_id":7407851,"body_markdown":"A very strange situation, I&#39;ve got this code that is supposed to make an EditText filed uneditable if SpnSelected.equals(&quot;Service&quot;) and editable again, if its something else.\r\n\r\n    final EditText etAdd = (EditText)dialogAddTextView.findViewById(R.id.etSymb);\r\n\r\n        if ( SpnSelected.equals(&quot;Service&quot;) )\r\n        {\r\n        \tetAdd.setFocusable(false);\r\n        \tTextView tvInfo = (TextView)dialogAddTextView.findViewById(R.id.tvAddTextInfo);\r\n        }\r\n        else\r\n        {\r\n        \tetAdd.setFocusable(true);\r\n        \tTextView tvInfo = (TextView)dialogAddTextView.findViewById(R.id.tvAddTextInfo);\r\n        } \r\n\r\nIt does make it uneditable ok, but it doesn&#39;t bring the ability to edit back with etAdd.setFocusable(true);\r\n\r\nAny ideas what to do about it? Thanks! :)","title":"EditText.setFocusable(false); can&#39;t be set to true. :/","body":"<p>A very strange situation, I've got this code that is supposed to make an EditText filed uneditable if SpnSelected.equals(\"Service\") and editable again, if its something else.</p>\n\n<pre><code>final EditText etAdd = (EditText)dialogAddTextView.findViewById(R.id.etSymb);\n\n    if ( SpnSelected.equals(\"Service\") )\n    {\n        etAdd.setFocusable(false);\n        TextView tvInfo = (TextView)dialogAddTextView.findViewById(R.id.tvAddTextInfo);\n    }\n    else\n    {\n        etAdd.setFocusable(true);\n        TextView tvInfo = (TextView)dialogAddTextView.findViewById(R.id.tvAddTextInfo);\n    } \n</code></pre>\n\n<p>It does make it uneditable ok, but it doesn't bring the ability to edit back with etAdd.setFocusable(true);</p>\n\n<p>Any ideas what to do about it? Thanks! :)</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1589648885,"post_id":61838893,"comment_id":109379568,"body_markdown":"can you please try sending the request without a custom user agent header.","body":"can you please try sending the request without a custom user agent header."},{"owner":{"account_id":1414765,"reputation":89,"user_id":1340637,"display_name":"Nithin Prasad"},"score":1,"creation_date":1589649767,"post_id":61838893,"comment_id":109379994,"body_markdown":"@ThomasAndolf No, it didn&#39;t help. Still get 400 Bad Request.","body":"@ThomasAndolf No, it didn&#39;t help. Still get 400 Bad Request."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1589662351,"post_id":61838893,"comment_id":109384536,"body_markdown":"Can you post your logs or run your application in debug so we can se the actual request made","body":"Can you post your logs or run your application in debug so we can se the actual request made"},{"owner":{"account_id":1414765,"reputation":89,"user_id":1340637,"display_name":"Nithin Prasad"},"score":0,"creation_date":1589693999,"post_id":61838893,"comment_id":109391216,"body_markdown":"@ThomasAndolf Have edited my question with logs.","body":"@ThomasAndolf Have edited my question with logs."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1589694316,"post_id":61838893,"comment_id":109391290,"body_markdown":"What does your server endpoint look like? you&#39;ve provided the client code but not the server method.","body":"What does your server endpoint look like? you&#39;ve provided the client code but not the server method."},{"owner":{"account_id":1414765,"reputation":89,"user_id":1340637,"display_name":"Nithin Prasad"},"score":0,"creation_date":1589695358,"post_id":61838893,"comment_id":109391533,"body_markdown":"@RoddyoftheFrozenPeas Added sample request and response to my question.","body":"@RoddyoftheFrozenPeas Added sample request and response to my question."},{"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1589705613,"post_id":61838893,"comment_id":109394290,"body_markdown":"Your `curl` command is a **FORM** post by default, but the `body()` in  `assignQuizToCandidate` serialized into `application/json`. They are different content type.","body":"Your <code>curl</code> command is a <b>FORM</b> post by default, but the <code>body()</code> in  <code>assignQuizToCandidate</code> serialized into <code>application&#47;json</code>. They are different content type."},{"owner":{"account_id":1414765,"reputation":89,"user_id":1340637,"display_name":"Nithin Prasad"},"score":0,"creation_date":1589707545,"post_id":61838893,"comment_id":109394883,"body_markdown":"@Hantsy but I am constructing POST request what is that I need to do now? Any idea?","body":"@Hantsy but I am constructing POST request what is that I need to do now? Any idea?"}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1589713107,"creation_date":1589713107,"answer_id":61850668,"question_id":61838893,"body_markdown":"your problem is probably that you are sending the data in the wrong format. You are posting data in the body in the `application/json` format.\r\n\r\nBut if you look in the request it is made using the `-d` flag in `curl`.\r\n\r\nFrom the curl documentation:\r\n\r\n&gt;-d, --data &lt;data&gt;\r\n&gt;\r\n(HTTP)  Sends  the  specified  data  in  a POST request to the HTTP server, in the same way that a\r\n       browser does when a user has filled in an HTML form and presses the submit button. This will cause\r\n       curl  to  pass  the  data  to the server using the content-type application/x-www-form-urlencoded.\r\n       Compare to -F, --form.\r\n\r\nWhich basically means that you need to send the data in `FORM` format.\r\n\r\nThe Webflux documentation tells how to send the data as a form request.\r\n\r\n[Webflux Send FormData][1]\r\n\r\nSo your code should look like something (sort of):\r\n\r\n\r\n    public QuizResponse assignQuizToCandidate(String userId, String quizId) {\r\n    \r\n        final MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\r\n        formData.add(&quot;quiz_id&quot;, quizId);\r\n\r\n        return webClient.post()\r\n            .uri(FLEXIQUIZ_API_BASE_URL + &quot;/v1/users/&quot; + userId + &quot;/quizzes&quot;)\r\n            .header(&quot;X-API-KEY&quot;, FLEXIQUIZ_API_KEY)\r\n            .bodyValue(formData)\r\n            .retrive()\r\n            .bodyToMono(QuizResponse.class)\r\n            .block();\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-client-body-form","title":"Spring WebFlux WebClient - How to resolve 400 Bad Request","body":"<p>your problem is probably that you are sending the data in the wrong format. You are posting data in the body in the <code>application/json</code> format.</p>\n\n<p>But if you look in the request it is made using the <code>-d</code> flag in <code>curl</code>.</p>\n\n<p>From the curl documentation:</p>\n\n<blockquote>\n  <p>-d, --data </p>\n  \n  <p>(HTTP)  Sends  the  specified  data  in  a POST request to the HTTP server, in the same way that a\n         browser does when a user has filled in an HTML form and presses the submit button. This will cause\n         curl  to  pass  the  data  to the server using the content-type application/x-www-form-urlencoded.\n         Compare to -F, --form.</p>\n</blockquote>\n\n<p>Which basically means that you need to send the data in <code>FORM</code> format.</p>\n\n<p>The Webflux documentation tells how to send the data as a form request.</p>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-client-body-form\" rel=\"nofollow noreferrer\">Webflux Send FormData</a></p>\n\n<p>So your code should look like something (sort of):</p>\n\n<pre><code>public QuizResponse assignQuizToCandidate(String userId, String quizId) {\n\n    final MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\n    formData.add(\"quiz_id\", quizId);\n\n    return webClient.post()\n        .uri(FLEXIQUIZ_API_BASE_URL + \"/v1/users/\" + userId + \"/quizzes\")\n        .header(\"X-API-KEY\", FLEXIQUIZ_API_KEY)\n        .bodyValue(formData)\n        .retrive()\n        .bodyToMono(QuizResponse.class)\n        .block();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1414765,"reputation":89,"user_id":1340637,"display_name":"Nithin Prasad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594302203,"creation_date":1589715444,"answer_id":61851143,"question_id":61838893,"body_markdown":"Based on @ThomasAndolf answer here is what I had to do.\r\n\r\n```\r\npublic String assignQuizToCandidate(String userId, String quizId) {\r\n    final MultiValueMap&lt;String, String&gt; data = new LinkedMultiValueMap&lt;&gt;();\r\n    data.add(&quot;quiz_id&quot;, quizId);\r\n\r\n    return webClient.post()\r\n        .uri(FLEXIQUIZ_API_BASE_URL + &quot;/v1/users/&quot; + userId + &quot;/quizzes&quot;)\r\n        .header(&quot;X-API-KEY&quot;, FLEXIQUIZ_API_KEY)\r\n        .bodyValue(data)\r\n        .retrieve()\r\n        .bodyToMono(String.class)\r\n        .block();\r\n  }\r\n```\r\nI took the output as a String since the response only contains a string with the following message: \r\n```{&quot;message&quot;: &quot;200: OK&quot;}```","title":"Spring WebFlux WebClient - How to resolve 400 Bad Request","body":"<p>Based on @ThomasAndolf answer here is what I had to do.</p>\n<pre><code>public String assignQuizToCandidate(String userId, String quizId) {\n    final MultiValueMap&lt;String, String&gt; data = new LinkedMultiValueMap&lt;&gt;();\n    data.add(&quot;quiz_id&quot;, quizId);\n\n    return webClient.post()\n        .uri(FLEXIQUIZ_API_BASE_URL + &quot;/v1/users/&quot; + userId + &quot;/quizzes&quot;)\n        .header(&quot;X-API-KEY&quot;, FLEXIQUIZ_API_KEY)\n        .bodyValue(data)\n        .retrieve()\n        .bodyToMono(String.class)\n        .block();\n  }\n</code></pre>\n<p>I took the output as a String since the response only contains a string with the following message:\n<code>{&quot;message&quot;: &quot;200: OK&quot;}</code></p>\n"}],"owner":{"account_id":1414765,"reputation":89,"user_id":1340637,"display_name":"Nithin Prasad"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14603,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":61850668,"answer_count":2,"score":5,"last_activity_date":1638172755,"creation_date":1589641642,"question_id":61838893,"body_markdown":"I am a newbie to reactive programming and I am using Spring WebFlux&#39;s WebClient to make a POST request to the below URL as part of my Spring Boot application to assign an existing quiz to a candidate. I am having trouble understanding what I&#39;ve done wrong in constructing my WebClient request.\r\n\r\n**End-point**\r\n\r\n```https://www.flexiquiz.com/api/v1/users/{user_id}/quizzes```\r\n\r\nIn my request body, I need to pass the quiz id that I get from another API (works fine).\r\n\r\n```\r\n{\r\n   &quot;quiz_id&quot;: &quot;&quot;\r\n}\r\n```\r\n\r\nApart from passing the request body, I am also passing **X-API-KEY** as part of request header.\r\n\r\nHowever, when I tried hitting the end-point, I am getting a **{&quot;message&quot;:&quot;400: Bad Request&quot;}** error.\r\n\r\nBelow is my code.\r\n\r\n\r\n***QuizRequest.java***\r\n```\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@Data\r\npublic class QuizRequest {\r\n\r\n  @JsonProperty(&quot;quiz_id&quot;)\r\n  @NotBlank\r\n  private String quizId;\r\n\r\n  public QuizRequest(@NotBlank String quizId) {\r\n    this.quizId = quizId;\r\n  }\r\n}\r\n```\r\n\r\n***FlexiQuizClient.java***\r\n```\r\n@Service\r\n@Slf4j\r\npublic class FlexiQuizClient {\r\n\r\n  private static final String USER_AGENT = &quot;WebClient for FlexiQuiz&quot;;\r\n\r\n  private final WebClient webClient;\r\n\r\n  @Value(&quot;${flexiquiz.baseurl}&quot;)\r\n  private String FLEXIQUIZ_API_BASE_URL;\r\n\r\n  @Value(&quot;${flexiquiz.key}&quot;)\r\n  private String FLEXIQUIZ_API_KEY;\r\n\r\n  @Autowired\r\n  public FlexiQuizClient() {\r\n    this.webClient = WebClient.builder()\r\n        .baseUrl(FLEXIQUIZ_API_BASE_URL)\r\n        .defaultHeader(HttpHeaders.USER_AGENT, USER_AGENT)\r\n        .filter(logRequest())\r\n        .build();\r\n  }\r\n\r\n  public String assignQuizToCandidate(String userId, QuizRequest quizRequest) {\r\n    return Objects.requireNonNull(webClient.post()\r\n        .uri(FLEXIQUIZ_API_BASE_URL + &quot;/v1/users/&quot; + userId + &quot;/quizzes&quot;)\r\n        .header(&quot;X-API-KEY&quot;, FLEXIQUIZ_API_KEY)\r\n        .body(Mono.just(quizRequest), QuizRequest.class)\r\n        .exchange()\r\n        .block())\r\n        .bodyToMono(String.class)\r\n        .block();\r\n  }\r\n\r\n  private ExchangeFilterFunction logRequest() {\r\n    return (clientRequest, next) -&gt; {\r\n      log.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\r\n      clientRequest.headers()\r\n          .forEach((name, values) -&gt; values.forEach(value -&gt; log.info(&quot;{}={}&quot;, name, value)));\r\n      return next.exchange(clientRequest);\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nIn my resource class (controller), I am calling the web client method as shown below:\r\n\r\n***ResponseResource.java***\r\n```\r\nprivate String assignQuizToCandidate(String userId, QuizRequest quizRequest)\r\n      throws ParseException {\r\n    log.info(&quot;Assigning a quiz based on your skill&quot;);\r\n    String message = quizClient.assignQuizToCandidate(userId, quizRequest);\r\n    log.info(&quot;message from status: &quot; + message);\r\n    JSONParser parser = new JSONParser();\r\n    JSONObject json = (JSONObject) parser.parse(message);\r\n    return (String) json.get(&quot;message&quot;);\r\n}\r\n```\r\n\r\nInside another method I am calling the above method as shown below.\r\n```\r\nQuizRequest quizRequest = new QuizRequest(openQuiz.get().getQuizId());\r\nString status = assignQuizToCandidate(userId, quizRequest);\r\n```\r\n\r\nBelow are the logs:\r\n```\r\n2020-05-17 10:20:09.938 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Channel acquired, now 1 active connections and 0 inactive connections\r\n2020-05-17 10:20:09.938 DEBUG 32600 --- [ctor-http-nio-1] r.netty.http.client.HttpClientConnect    : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Handler is being applied: {uri=https://www.flexiquiz.com/api/v1/users/{userid}/quizzes, method=POST}\r\n2020-05-17 10:20:09.939 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [request_prepared])\r\n2020-05-17 10:20:09.939 DEBUG 32600 --- [ctor-http-nio-1] o.s.http.codec.json.Jackson2JsonEncoder  : [1bbedd72] Encoding [QuizRequest(quizId={quizid})]\r\n2020-05-17 10:20:09.941 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [request_sent])\r\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.http.client.HttpClientOperations     : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Received response (auto-read:false) : [Cache-Control=private, Content-Type=text/html; charset=utf-8, Server=Microsoft-IIS/10.0, Date=Sun, 17 May 2020 04:50:10 GMT, Content-Length=30]\r\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [response_received])\r\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] o.s.w.r.f.client.ExchangeFunctions       : [1bbedd72] Response 400 BAD_REQUEST\r\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.http.client.HttpClientOperations     : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Received last HTTP packet\r\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [response_completed])\r\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [disconnecting])\r\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Releasing channel\r\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Channel cleaned, now 0 active connections and 1 inactive connections\r\n2020-05-17 10:20:10.190 DEBUG 32600 --- [ctor-http-nio-1] reactor.netty.channel.FluxReceive        : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Subscribing inbound receiver [pending: 1, cancelled:false, inboundDone: true]\r\n2020-05-17 10:20:10.190 DEBUG 32600 --- [ctor-http-nio-1] o.s.core.codec.StringDecoder             : [1bbedd72] Decoded &quot;{&quot;message&quot;:&quot;400: Bad Request&quot;}&quot;\r\n2020-05-17 10:20:10.190  INFO 32600 --- [nio-8086-exec-6] i.d.ivrauto.resource.ResponseResource    : message from status: {&quot;message&quot;:&quot;400: Bad Request&quot;}\r\n2020-05-17 10:20:10.190  INFO 32600 --- [nio-8086-exec-6] i.d.ivrauto.resource.ResponseResource    : json.get(message): 400: Bad Request\r\n2020-05-17 10:20:10.190  INFO 32600 --- [nio-8086-exec-6] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades\r\n2020-05-17 10:20:10.195 DEBUG 32600 --- [nio-8086-exec-6] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections\r\n```\r\n\r\nBelow is the end point I am trying to access.\r\n```\r\nPOST: /v1/users/{user_id}/quizzes\r\n```\r\n\r\n***Example Request***\r\n```\r\n$ curl https://www.flexiquiz.com/api/v1/users/06e3244f-1381-4da4-aa75-996981b42edb/quizzes \r\n-H &quot;X-API-KEY: fcb5f59c-2a2f-44a9-8261-33cbfa97be99&quot;\r\n-d quiz_id=&quot;1153af46-9580-4672-af78-f23ce2577a14&quot;\r\n```\r\n\r\n***Example Response***\r\n```\r\n{                             \r\n    &quot;message&quot;: &quot;200: OK&quot;\r\n}\r\n```","title":"Spring WebFlux WebClient - How to resolve 400 Bad Request","body":"<p>I am a newbie to reactive programming and I am using Spring WebFlux's WebClient to make a POST request to the below URL as part of my Spring Boot application to assign an existing quiz to a candidate. I am having trouble understanding what I've done wrong in constructing my WebClient request.</p>\n\n<p><strong>End-point</strong></p>\n\n<p><code>https://www.flexiquiz.com/api/v1/users/{user_id}/quizzes</code></p>\n\n<p>In my request body, I need to pass the quiz id that I get from another API (works fine).</p>\n\n<pre><code>{\n   \"quiz_id\": \"\"\n}\n</code></pre>\n\n<p>Apart from passing the request body, I am also passing <strong>X-API-KEY</strong> as part of request header.</p>\n\n<p>However, when I tried hitting the end-point, I am getting a <strong>{\"message\":\"400: Bad Request\"}</strong> error.</p>\n\n<p>Below is my code.</p>\n\n<p><strong><em>QuizRequest.java</em></strong></p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@Data\npublic class QuizRequest {\n\n  @JsonProperty(\"quiz_id\")\n  @NotBlank\n  private String quizId;\n\n  public QuizRequest(@NotBlank String quizId) {\n    this.quizId = quizId;\n  }\n}\n</code></pre>\n\n<p><strong><em>FlexiQuizClient.java</em></strong></p>\n\n<pre><code>@Service\n@Slf4j\npublic class FlexiQuizClient {\n\n  private static final String USER_AGENT = \"WebClient for FlexiQuiz\";\n\n  private final WebClient webClient;\n\n  @Value(\"${flexiquiz.baseurl}\")\n  private String FLEXIQUIZ_API_BASE_URL;\n\n  @Value(\"${flexiquiz.key}\")\n  private String FLEXIQUIZ_API_KEY;\n\n  @Autowired\n  public FlexiQuizClient() {\n    this.webClient = WebClient.builder()\n        .baseUrl(FLEXIQUIZ_API_BASE_URL)\n        .defaultHeader(HttpHeaders.USER_AGENT, USER_AGENT)\n        .filter(logRequest())\n        .build();\n  }\n\n  public String assignQuizToCandidate(String userId, QuizRequest quizRequest) {\n    return Objects.requireNonNull(webClient.post()\n        .uri(FLEXIQUIZ_API_BASE_URL + \"/v1/users/\" + userId + \"/quizzes\")\n        .header(\"X-API-KEY\", FLEXIQUIZ_API_KEY)\n        .body(Mono.just(quizRequest), QuizRequest.class)\n        .exchange()\n        .block())\n        .bodyToMono(String.class)\n        .block();\n  }\n\n  private ExchangeFilterFunction logRequest() {\n    return (clientRequest, next) -&gt; {\n      log.info(\"Request: {} {}\", clientRequest.method(), clientRequest.url());\n      clientRequest.headers()\n          .forEach((name, values) -&gt; values.forEach(value -&gt; log.info(\"{}={}\", name, value)));\n      return next.exchange(clientRequest);\n    };\n  }\n}\n</code></pre>\n\n<p>In my resource class (controller), I am calling the web client method as shown below:</p>\n\n<p><strong><em>ResponseResource.java</em></strong></p>\n\n<pre><code>private String assignQuizToCandidate(String userId, QuizRequest quizRequest)\n      throws ParseException {\n    log.info(\"Assigning a quiz based on your skill\");\n    String message = quizClient.assignQuizToCandidate(userId, quizRequest);\n    log.info(\"message from status: \" + message);\n    JSONParser parser = new JSONParser();\n    JSONObject json = (JSONObject) parser.parse(message);\n    return (String) json.get(\"message\");\n}\n</code></pre>\n\n<p>Inside another method I am calling the above method as shown below.</p>\n\n<pre><code>QuizRequest quizRequest = new QuizRequest(openQuiz.get().getQuizId());\nString status = assignQuizToCandidate(userId, quizRequest);\n</code></pre>\n\n<p>Below are the logs:</p>\n\n<pre><code>2020-05-17 10:20:09.938 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Channel acquired, now 1 active connections and 0 inactive connections\n2020-05-17 10:20:09.938 DEBUG 32600 --- [ctor-http-nio-1] r.netty.http.client.HttpClientConnect    : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Handler is being applied: {uri=https://www.flexiquiz.com/api/v1/users/{userid}/quizzes, method=POST}\n2020-05-17 10:20:09.939 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [request_prepared])\n2020-05-17 10:20:09.939 DEBUG 32600 --- [ctor-http-nio-1] o.s.http.codec.json.Jackson2JsonEncoder  : [1bbedd72] Encoding [QuizRequest(quizId={quizid})]\n2020-05-17 10:20:09.941 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [request_sent])\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.http.client.HttpClientOperations     : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Received response (auto-read:false) : [Cache-Control=private, Content-Type=text/html; charset=utf-8, Server=Microsoft-IIS/10.0, Date=Sun, 17 May 2020 04:50:10 GMT, Content-Length=30]\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [response_received])\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] o.s.w.r.f.client.ExchangeFunctions       : [1bbedd72] Response 400 BAD_REQUEST\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.http.client.HttpClientOperations     : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Received last HTTP packet\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [response_completed])\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] onStateChange(POST{uri=/api/v1/users/{userid}/quizzes, connection=PooledConnection{channel=[id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443]}}, [disconnecting])\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Releasing channel\n2020-05-17 10:20:10.189 DEBUG 32600 --- [ctor-http-nio-1] r.n.resources.PooledConnectionProvider   : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Channel cleaned, now 0 active connections and 1 inactive connections\n2020-05-17 10:20:10.190 DEBUG 32600 --- [ctor-http-nio-1] reactor.netty.channel.FluxReceive        : [id: 0x2b404095, L:/192.168.0.106:62197 - R:www.flexiquiz.com/208.117.41.204:443] Subscribing inbound receiver [pending: 1, cancelled:false, inboundDone: true]\n2020-05-17 10:20:10.190 DEBUG 32600 --- [ctor-http-nio-1] o.s.core.codec.StringDecoder             : [1bbedd72] Decoded \"{\"message\":\"400: Bad Request\"}\"\n2020-05-17 10:20:10.190  INFO 32600 --- [nio-8086-exec-6] i.d.ivrauto.resource.ResponseResource    : message from status: {\"message\":\"400: Bad Request\"}\n2020-05-17 10:20:10.190  INFO 32600 --- [nio-8086-exec-6] i.d.ivrauto.resource.ResponseResource    : json.get(message): 400: Bad Request\n2020-05-17 10:20:10.190  INFO 32600 --- [nio-8086-exec-6] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades\n2020-05-17 10:20:10.195 DEBUG 32600 --- [nio-8086-exec-6] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections\n</code></pre>\n\n<p>Below is the end point I am trying to access.</p>\n\n<pre><code>POST: /v1/users/{user_id}/quizzes\n</code></pre>\n\n<p><strong><em>Example Request</em></strong></p>\n\n<pre><code>$ curl https://www.flexiquiz.com/api/v1/users/06e3244f-1381-4da4-aa75-996981b42edb/quizzes \n-H \"X-API-KEY: fcb5f59c-2a2f-44a9-8261-33cbfa97be99\"\n-d quiz_id=\"1153af46-9580-4672-af78-f23ce2577a14\"\n</code></pre>\n\n<p><strong><em>Example Response</em></strong></p>\n\n<pre><code>{                             \n    \"message\": \"200: OK\"\n}\n</code></pre>\n"},{"tags":["java","list","loops","instance"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1638174992,"post_id":70151241,"comment_id":124008361,"body_markdown":"Please elaborate how you mean: *to be different when I change them*. How should the change appear?","body":"Please elaborate how you mean: <i>to be different when I change them</i>. How should the change appear?"},{"owner":{"account_id":23386636,"reputation":15,"user_id":17451881,"display_name":"Ricardo"},"score":0,"creation_date":1638197427,"post_id":70151241,"comment_id":124017262,"body_markdown":"@Grim I put an example above, maybe it is not very clear. Considering that the conditions are fulfilled until the end, &quot;challengeHolder.setCompleted(true)&quot; is changing the boolean in the ChallengeHolder class but it is changed for each object in the list when I only want it to be changed for the object that reached the end.\n\nEach object has different conditions so none of them can be the same, I don&#39;t know if I&#39;m explaining this correctly.","body":"@Grim I put an example above, maybe it is not very clear. Considering that the conditions are fulfilled until the end, &quot;challengeHolder.setCompleted(true)&quot; is changing the boolean in the ChallengeHolder class but it is changed for each object in the list when I only want it to be changed for the object that reached the end.  Each object has different conditions so none of them can be the same, I don&#39;t know if I&#39;m explaining this correctly."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1638207719,"post_id":70151241,"comment_id":124021710,"body_markdown":"Well, the explination Id expected is like this: &quot;The user starts the application. The user see the menu in the console. The user print a list of registered challenges. The list contains two elements. The user select the first registreredchallange. The application asks what to modify, progress or completition. The user selects the progress and enter a 5. Then the application changes the progress of the first challange to 5. ...&quot;","body":"Well, the explination Id expected is like this: &quot;The user starts the application. The user see the menu in the console. The user print a list of registered challenges. The list contains two elements. The user select the first registreredchallange. The application asks what to modify, progress or completition. The user selects the progress and enter a 5. Then the application changes the progress of the first challange to 5. ...&quot;"},{"owner":{"account_id":23386636,"reputation":15,"user_id":17451881,"display_name":"Ricardo"},"score":0,"creation_date":1638229930,"post_id":70151241,"comment_id":124028497,"body_markdown":"That&#39;s correct, but when I run it with the code above, the progress (5) changes for the two challenges (or the all challenges in the list). When the list has only one challenge there is no problem, but when there are two challenges  I don&#39;t know how to change the progress only for the challenge that fulfills all the conditions.","body":"That&#39;s correct, but when I run it with the code above, the progress (5) changes for the two challenges (or the all challenges in the list). When the list has only one challenge there is no problem, but when there are two challenges  I don&#39;t know how to change the progress only for the challenge that fulfills all the conditions."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1638385347,"post_id":70151241,"comment_id":124076742,"body_markdown":"You need to show the code of `Challenge` /  `ChallengeHolder` classes.  It is very likely that some static fields are used there.  Also, `challengeRemaining` is declared, defined and not used in the loop.","body":"You need to show the code of <code>Challenge</code> /  <code>ChallengeHolder</code> classes.  It is very likely that some static fields are used there.  Also, <code>challengeRemaining</code> is declared, defined and not used in the loop."}],"owner":{"account_id":23386636,"reputation":15,"user_id":17451881,"display_name":"Ricardo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638172517,"creation_date":1638172111,"question_id":70151241,"body_markdown":"How can I create an instance for each object in a list?\r\n\r\nI am using a loop to store the values of this object but when I access these objects they are all the same, I want them to be different. \r\n\r\nIn this case, I have two challenges in &quot;registeredChallenges&quot; and I want the int progress and boolean completed to be different when I change them, how I can do that\r\n\r\n**Ex:**\r\n***Challenge1:*** Progress 1 and Completed false - ***Challenge2:*** Progress 5 and Completed true\r\n\r\nThank you!\r\n\r\n    List&lt;Challenge&gt; registeredChallenges = plugin.getChallengeRegistry().getRegisteredChallenges(ChallengeType.COLLECT);\r\n    for (Challenge challenge : registeredChallenges) {\r\n        ChallengeHolder challengeHolder = new ChallengeHolder(challenge, 0, false);\r\n        if (!challengeHolder.isCompleted()) {\r\n            int challengeCondition = challenge.getChallengeCondition();\r\n            if (challengeHolder.getProgress() &lt; challengeCondition) {\r\n                challengeHolder.setProgress(challengeHolder.getProgress() + 1);\r\n            }\r\n            int challengeRemaining = plugin.getDatabaseManager().getChallengeRemaining(playerUUID, challenge);\r\n            if (challengeHolder.getProgress() &gt;= challengeCondition) {\r\n                challengeHolder.setCompleted(true);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Multiple instances in loop","body":"<p>How can I create an instance for each object in a list?</p>\n<p>I am using a loop to store the values of this object but when I access these objects they are all the same, I want them to be different.</p>\n<p>In this case, I have two challenges in &quot;registeredChallenges&quot; and I want the int progress and boolean completed to be different when I change them, how I can do that</p>\n<p><strong>Ex:</strong>\n<em><strong>Challenge1:</strong></em> Progress 1 and Completed false - <em><strong>Challenge2:</strong></em> Progress 5 and Completed true</p>\n<p>Thank you!</p>\n<pre><code>List&lt;Challenge&gt; registeredChallenges = plugin.getChallengeRegistry().getRegisteredChallenges(ChallengeType.COLLECT);\nfor (Challenge challenge : registeredChallenges) {\n    ChallengeHolder challengeHolder = new ChallengeHolder(challenge, 0, false);\n    if (!challengeHolder.isCompleted()) {\n        int challengeCondition = challenge.getChallengeCondition();\n        if (challengeHolder.getProgress() &lt; challengeCondition) {\n            challengeHolder.setProgress(challengeHolder.getProgress() + 1);\n        }\n        int challengeRemaining = plugin.getDatabaseManager().getChallengeRemaining(playerUUID, challenge);\n        if (challengeHolder.getProgress() &gt;= challengeCondition) {\n            challengeHolder.setCompleted(true);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","c3p0"],"answers":[{"tags":[],"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1426823864,"creation_date":1426823864,"answer_id":29159165,"question_id":29158560,"body_markdown":"So, directly the issue is that the Connection pool was trying to acquire new Connections, but the tasks attempting to acquire those tasks froze for a long period of time, so long that c3p0 decided the tasks must be deadlocked and then discarded and replaced the Thread pool. Later, the Thread pool was hung on idle connection test tasks.\r\n\r\nNormally, &quot;hung&quot; tasks tend to look like the second Thread underneath the first &quot;Pool thread stack traces:&quot; label above: performing network IO that fails to complete. Your circumstances are odd in that two of the three threads are not stuck in IO. They have barely begun to do anything, yet they aren&#39;t live. Then you experience an OutOfMemoryError, and you get another APPARENT DEADLOCK on idle connection test tasks that also look like they mostly should be live.\r\n\r\nMaybe your application is very close to some kind of resource limits that are causing things to run very sluggishly? Straightforwardly, you might increase the amount of memory available to this application (or modify it to have a lower memory footprint). You experience an OOME the second time the Thread pool tries to flush and recreate hung Threads, not directly provoked by that, but quite possibly caused by the growing Thread footprint. (In your logs, are there lots of these APPARENT DEADLOCKs previously? If you force a JVM Thread dump, do you see lots of `com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread` instances around, still hung on old, not completing tasks?\r\n\r\nSome general comments: If your load is no more than 5-ish simultaneous queries, why such a heavy pool? why not `min_size` 5-ish, max 10-ish? Your max_statements setting is way too small for the number of Connections you permit in the pool. I&#39;d omit this entirely until you get things working smoothly. Then, to get a bit better performance, you might set the more-straightforward-to-reason-about `maxStatementsPerConnection` parameter if you want.\r\n\r\nMostly you need to keep your application&#39;s footprint (memory? Threads?) well below the resources alotted to it, either by increasing resources, reducing its footprint, or fixing any issue that might exist that cause its resource footprint to increase into limits. I&#39;d start by making the pool smaller, the available memory larger, and configuring the pool to be much smaller.","title":"Hibernate &quot;APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!&quot;","body":"<p>So, directly the issue is that the Connection pool was trying to acquire new Connections, but the tasks attempting to acquire those tasks froze for a long period of time, so long that c3p0 decided the tasks must be deadlocked and then discarded and replaced the Thread pool. Later, the Thread pool was hung on idle connection test tasks.</p>\n\n<p>Normally, \"hung\" tasks tend to look like the second Thread underneath the first \"Pool thread stack traces:\" label above: performing network IO that fails to complete. Your circumstances are odd in that two of the three threads are not stuck in IO. They have barely begun to do anything, yet they aren't live. Then you experience an OutOfMemoryError, and you get another APPARENT DEADLOCK on idle connection test tasks that also look like they mostly should be live.</p>\n\n<p>Maybe your application is very close to some kind of resource limits that are causing things to run very sluggishly? Straightforwardly, you might increase the amount of memory available to this application (or modify it to have a lower memory footprint). You experience an OOME the second time the Thread pool tries to flush and recreate hung Threads, not directly provoked by that, but quite possibly caused by the growing Thread footprint. (In your logs, are there lots of these APPARENT DEADLOCKs previously? If you force a JVM Thread dump, do you see lots of <code>com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread</code> instances around, still hung on old, not completing tasks?</p>\n\n<p>Some general comments: If your load is no more than 5-ish simultaneous queries, why such a heavy pool? why not <code>min_size</code> 5-ish, max 10-ish? Your max_statements setting is way too small for the number of Connections you permit in the pool. I'd omit this entirely until you get things working smoothly. Then, to get a bit better performance, you might set the more-straightforward-to-reason-about <code>maxStatementsPerConnection</code> parameter if you want.</p>\n\n<p>Mostly you need to keep your application's footprint (memory? Threads?) well below the resources alotted to it, either by increasing resources, reducing its footprint, or fixing any issue that might exist that cause its resource footprint to increase into limits. I'd start by making the pool smaller, the available memory larger, and configuring the pool to be much smaller.</p>\n"},{"tags":[],"owner":{"account_id":1402661,"reputation":1878,"user_id":1331134,"accept_rate":90,"display_name":"linuxatico"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1446742696,"creation_date":1446742696,"answer_id":33550466,"question_id":29158560,"body_markdown":"I stumbled into the same exception and the reason was a wrong password of the db user... \r\n\r\nc3p0 you&#39;re a funny guy","title":"Hibernate &quot;APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!&quot;","body":"<p>I stumbled into the same exception and the reason was a wrong password of the db user... </p>\n\n<p>c3p0 you're a funny guy</p>\n"},{"tags":[],"owner":{"account_id":986686,"reputation":868,"user_id":1005007,"accept_rate":63,"display_name":"Gep"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510848193,"creation_date":1510848193,"answer_id":47334150,"question_id":29158560,"body_markdown":"Authentication issue for me too. I just added the domain part to the database server name and it all worked. Very misleading error.","title":"Hibernate &quot;APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!&quot;","body":"<p>Authentication issue for me too. I just added the domain part to the database server name and it all worked. Very misleading error.</p>\n"}],"owner":{"account_id":179589,"reputation":1214,"user_id":412354,"accept_rate":58,"display_name":"Casey Jordan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36622,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":29159165,"answer_count":3,"score":12,"last_activity_date":1638172398,"creation_date":1426819748,"question_id":29158560,"body_markdown":"I recently got the following messages in our logs followed by a JVM crash (Due to OOME). I am not sure what to make of this and would really appreciate any guidance.\r\n\r\n\r\n    2015-03-19 21:15:02,457 [Timer-0] WARN  (ThreadPoolAsynchronousRunner.java [run]:608) - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@6824f21c -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks! \r\n    2015-03-19 21:26:29,543 [Timer-0] WARN  (ThreadPoolAsynchronousRunner.java [run]:624) - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@6824f21c -- APPARENT DEADLOCK!!! Complete Status: \r\n    \tManaged Threads: 3\r\n    \tActive Threads: 3\r\n    \tActive Tasks: \r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@15da1b6b (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@b35b08a (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@51cfdd17 (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0)\r\n    \tPending Tasks: \r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@19397937\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@5c7d3838\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@7aea62dd\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@55622ff2\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@74004a8\r\n    Pool thread stack traces:\r\n    \tThread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,main]\r\n    \t\tcom.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:560)\r\n    \tThread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,main]\r\n    \t\tjava.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \t\tjava.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\r\n    \t\tjava.net.SocketOutputStream.write(SocketOutputStream.java:153)\r\n    \t\tjava.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\r\n    \t\tjava.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\r\n    \t\tcom.mysql.jdbc.MysqlIO.send(MysqlIO.java:3227)\r\n    \t\tcom.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1917)\r\n    \t\tcom.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2060)\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2536)\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.configureClientCharacterSet(ConnectionImpl.java:1751)\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:3425)\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2196)\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:718)\r\n    \t\tcom.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:46)\r\n    \t\tsun.reflect.GeneratedConstructorAccessor306.newInstance(Unknown Source)\r\n    \t\tsun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \t\tjava.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n    \t\tcom.mysql.jdbc.Util.handleNewInstance(Util.java:406)\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:302)\r\n    \t\tcom.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:282)\r\n    \t\tcom.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\r\n    \t\tcom.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\r\n    \t\tcom.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\r\n    \t\tcom.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\r\n    \t\tcom.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n    \tThread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,main]\r\n    \t\tcom.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:560)\r\n    \r\n     \r\n    2015-03-19 21:56:59,137 [Timer-0] WARN  (ThreadPoolAsynchronousRunner.java [run]:608) - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@6824f21c -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks! \r\n    2015-03-19 21:56:59,143 [eXistThread-18676] ERROR (XQueryServlet.java [process]:566) - Java heap space \r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat org.exist.storage.btree.BTree$BTreeNode.read(BTree.java:1269)\r\n    \tat org.exist.storage.btree.BTree$BTreeNode.access$16(BTree.java:1239)\r\n    \tat org.exist.storage.btree.BTree.getBTreeNode(BTree.java:460)\r\n    \tat org.exist.storage.btree.BTree.scanSequential(BTree.java:413)\r\n    \tat org.exist.storage.btree.BTree$BTreeNode.scanNextPage(BTree.java:2039)\r\n    \tat org.exist.storage.btree.BTree$BTreeNode.query(BTree.java:1835)\r\n    \tat org.exist.storage.btree.BTree$BTreeNode.query(BTree.java:1759)\r\n    \tat org.exist.storage.btree.BTree$BTreeNode.query(BTree.java:1759)\r\n    \tat org.exist.storage.btree.BTree$BTreeNode.query(BTree.java:1759)\r\n    \tat org.exist.storage.btree.BTree$BTreeNode.access$12(BTree.java:1734)\r\n    \tat org.exist.storage.btree.BTree.query(BTree.java:379)\r\n    \tat org.exist.storage.structural.NativeStructuralIndexWorker.scanByType(NativeStructuralIndexWorker.java:259)\r\n    \tat org.exist.dom.VirtualNodeSet.getNodesFromIndex(VirtualNodeSet.java:457)\r\n    \tat org.exist.dom.VirtualNodeSet.realize(VirtualNodeSet.java:585)\r\n    \tat org.exist.dom.VirtualNodeSet.iterator(VirtualNodeSet.java:860)\r\n    \tat org.exist.dom.AbstractNodeSet.iterator(AbstractNodeSet.java:1)\r\n    \tat org.exist.storage.structural.NativeStructuralIndexWorker.findDescendantsByTagName(NativeStructuralIndexWorker.java:162)\r\n    \tat org.exist.xquery.LocationStep.getAttributes(LocationStep.java:645)\r\n    \tat org.exist.xquery.LocationStep.eval(LocationStep.java:434)\r\n    \tat org.exist.xquery.AbstractExpression.eval(AbstractExpression.java:71)\r\n    \tat org.exist.xquery.PathExpr.eval(PathExpr.java:264)\r\n    \tat org.exist.xquery.Predicate.selectByNodeSet(Predicate.java:446)\r\n    \tat org.exist.xquery.Predicate.evalPredicate(Predicate.java:326)\r\n    \tat org.exist.xquery.LocationStep.processPredicate(LocationStep.java:251)\r\n    \tat org.exist.xquery.LocationStep.applyPredicate(LocationStep.java:238)\r\n    \tat org.exist.xquery.LocationStep.eval(LocationStep.java:462)\r\n    \tat org.exist.xquery.AbstractExpression.eval(AbstractExpression.java:71)\r\n    \tat org.exist.xquery.PathExpr.eval(PathExpr.java:264)\r\n    \tat org.exist.xquery.LetExpr.eval(LetExpr.java:142)\r\n    \tat org.exist.xquery.LetExpr.eval(LetExpr.java:187)\r\n    \tat org.exist.xquery.LetExpr.eval(LetExpr.java:187)\r\n    \tat org.exist.xquery.BindingExpression.eval(BindingExpression.java:164)\r\n    2015-03-19 21:56:59,147 [Timer-0] WARN  (ThreadPoolAsynchronousRunner.java [run]:624) - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@6824f21c -- APPARENT DEADLOCK!!! Complete Status: \r\n    \tManaged Threads: 3\r\n    \tActive Threads: 3\r\n    \tActive Tasks: \r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@79180a12 (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@243c6d0c (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@50191373 (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2)\r\n    \tPending Tasks: \r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@3a9d08ca\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@3ecdd11\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@44ff846d\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@5ce5850a\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@eec1d04\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@6b8d4d9d\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@53e9706d\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@23d472cf\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@4dbe4f8c\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@4c5e0203\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@54ac79fd\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@546e2bad\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@6b13cc83\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@57e185f8\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@60357d68\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@45231180\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@3021aa73\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@6bb437ca\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@2021c9e9\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@7d53637c\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@409c2c97\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@adc5929\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@241ca71a\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@42b26866\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@636b1c33\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@b160466\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@4af34669\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@1b53e609\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@2062ebd4\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@1b6cfe8a\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@4b7c2380\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@4f9be748\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@78108924\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@474b002\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@2ebee32f\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@3e0fe017\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@42aa175b\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@637f5bac\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@3a017b77\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@7b4f2b78\r\n    Pool thread stack traces:\r\n    \tThread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,main]\r\n    \t\tsun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \t\tjava.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n    \t\tcom.mysql.jdbc.Util.handleNewInstance(Util.java:406)\r\n    \t\tcom.mysql.jdbc.ResultSetImpl.getInstance(ResultSetImpl.java:370)\r\n    \t\tcom.mysql.jdbc.MysqlIO.buildResultSetWithRows(MysqlIO.java:2532)\r\n    \t\tcom.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:477)\r\n    \t\tcom.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.java:2510)\r\n    \t\tcom.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1746)\r\n    \t\tcom.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2135)\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2536)\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)\r\n    \t\tcom.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1383)\r\n    \t\tcom.mysql.jdbc.DatabaseMetaData$9.forEach(DatabaseMetaData.java:4826)\r\n    \t\tcom.mysql.jdbc.IterateBlock.doForAll(IterateBlock.java:50)\r\n    \t\tcom.mysql.jdbc.DatabaseMetaData.getTables(DatabaseMetaData.java:4804)\r\n    \t\tcom.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnectionNoQuery(DefaultConnectionTester.java:185)\r\n    \t\tcom.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnection(DefaultConnectionTester.java:62)\r\n    \t\tcom.mchange.v2.c3p0.AbstractConnectionTester.activeCheckConnection(AbstractConnectionTester.java:67)\r\n    \t\tcom.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.testPooledConnection(C3P0PooledConnectionPool.java:368)\r\n    \t\tcom.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.refurbishIdleResource(C3P0PooledConnectionPool.java:310)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask.run(BasicResourcePool.java:1999)\r\n    \t\tcom.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n    \tThread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,main]\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2596)\r\n    \t\tcom.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)\r\n    \t\tcom.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1383)\r\n    \t\tcom.mysql.jdbc.DatabaseMetaData$9.forEach(DatabaseMetaData.java:4826)\r\n    \t\tcom.mysql.jdbc.IterateBlock.doForAll(IterateBlock.java:50)\r\n    \t\tcom.mysql.jdbc.DatabaseMetaData.getTables(DatabaseMetaData.java:4804)\r\n    \t\tcom.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnectionNoQuery(DefaultConnectionTester.java:185)\r\n    \t\tcom.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnection(DefaultConnectionTester.java:62)\r\n    \t\tcom.mchange.v2.c3p0.AbstractConnectionTester.activeCheckConnection(AbstractConnectionTester.java:67)\r\n    \t\tcom.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.testPooledConnection(C3P0PooledConnectionPool.java:368)\r\n    \t\tcom.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.refurbishIdleResource(C3P0PooledConnectionPool.java:310)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask.run(BasicResourcePool.java:1999)\r\n    \t\tcom.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n    \tThread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,main]\r\n    \t\tjava.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1012)\r\n    \t\tjava.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006)\r\n    \t\tcom.newrelic.agent.TransactionService.addTransaction(TransactionService.java:142)\r\n    \t\tcom.newrelic.agent.Transaction.getTransaction(Transaction.java:1104)\r\n    \t\tcom.newrelic.agent.Transaction.getTransaction(Transaction.java:1087)\r\n    \t\tcom.newrelic.agent.TracerService$TracerServiceImpl.getTracer(TracerService.java:136)\r\n    \t\tcom.newrelic.agent.TracerService.getTracer(TracerService.java:41)\r\n    \t\tcom.newrelic.agent.instrumentation.InvocationPoint.invoke(InvocationPoint.java:55)\r\n    \t\tcom.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java)\r\n    \t\tcom.mysql.jdbc.DatabaseMetaData$9.forEach(DatabaseMetaData.java:4826)\r\n    \t\tcom.mysql.jdbc.IterateBlock.doForAll(IterateBlock.java:50)\r\n    \t\tcom.mysql.jdbc.DatabaseMetaData.getTables(DatabaseMetaData.java:4804)\r\n    \t\tcom.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnectionNoQuery(DefaultConnectionTester.java:185)\r\n    \t\tcom.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnection(DefaultConnectionTester.java:62)\r\n    \t\tcom.mchange.v2.c3p0.AbstractConnectionTester.activeCheckConnection(AbstractConnectionTester.java:67)\r\n    \t\tcom.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.testPooledConnection(C3P0PooledConnectionPool.java:368)\r\n    \t\tcom.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.refurbishIdleResource(C3P0PooledConnectionPool.java:310)\r\n    \t\tcom.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask.run(BasicResourcePool.java:1999)\r\n    \t\tcom.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n\r\n\r\n\r\nWe are using hiberanate and c3p0 with the following c3p0 configuration:\r\n\r\n\r\nWe are using the following maven artifacts for hibernate and c3p0:\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.6.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.6.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nwith the following c3p0 configuration:\r\n\r\n      configuration = new Configuration().setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;)\r\n      .setProperty(&quot;hibernate.connection.provider_class&quot;, &quot;org.hibernate.connection.C3P0ConnectionProvider&quot;)\r\n      .setProperty(&quot;hibernate.c3p0.idle_test_period&quot;, &quot;1000&quot;)\r\n      .setProperty(&quot;hibernate.c3p0.min_size&quot;, &quot;20&quot;)\r\n      .setProperty(&quot;hibernate.c3p0.max_size&quot;, &quot;50&quot;)\r\n      .setProperty(&quot;hibernate.c3p0.timeout&quot;, &quot;1800&quot;)\r\n      .setProperty(&quot;hibernate.c3p0.max_statements&quot;, &quot;50&quot;)\r\n\r\nThe server is under very light load ~5 queries a second. (Java 8)\r\n","title":"Hibernate &quot;APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!&quot;","body":"<p>I recently got the following messages in our logs followed by a JVM crash (Due to OOME). I am not sure what to make of this and would really appreciate any guidance.</p>\n\n<pre><code>2015-03-19 21:15:02,457 [Timer-0] WARN  (ThreadPoolAsynchronousRunner.java [run]:608) - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@6824f21c -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks! \n2015-03-19 21:26:29,543 [Timer-0] WARN  (ThreadPoolAsynchronousRunner.java [run]:624) - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@6824f21c -- APPARENT DEADLOCK!!! Complete Status: \n    Managed Threads: 3\n    Active Threads: 3\n    Active Tasks: \n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@15da1b6b (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2)\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@b35b08a (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1)\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@51cfdd17 (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0)\n    Pending Tasks: \n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@19397937\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@5c7d3838\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@7aea62dd\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@55622ff2\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@74004a8\nPool thread stack traces:\n    Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,main]\n        com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:560)\n    Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,main]\n        java.net.SocketOutputStream.socketWrite0(Native Method)\n        java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\n        java.net.SocketOutputStream.write(SocketOutputStream.java:153)\n        java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\n        java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\n        com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3227)\n        com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1917)\n        com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2060)\n        com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2536)\n        com.mysql.jdbc.ConnectionImpl.configureClientCharacterSet(ConnectionImpl.java:1751)\n        com.mysql.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:3425)\n        com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2196)\n        com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:718)\n        com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:46)\n        sun.reflect.GeneratedConstructorAccessor306.newInstance(Unknown Source)\n        sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n        com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\n        com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:302)\n        com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:282)\n        com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\n        com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\n        com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\n        com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\n        com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\n        com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\n        com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n    Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,main]\n        com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:560)\n\n\n2015-03-19 21:56:59,137 [Timer-0] WARN  (ThreadPoolAsynchronousRunner.java [run]:608) - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@6824f21c -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks! \n2015-03-19 21:56:59,143 [eXistThread-18676] ERROR (XQueryServlet.java [process]:566) - Java heap space \njava.lang.OutOfMemoryError: Java heap space\n    at org.exist.storage.btree.BTree$BTreeNode.read(BTree.java:1269)\n    at org.exist.storage.btree.BTree$BTreeNode.access$16(BTree.java:1239)\n    at org.exist.storage.btree.BTree.getBTreeNode(BTree.java:460)\n    at org.exist.storage.btree.BTree.scanSequential(BTree.java:413)\n    at org.exist.storage.btree.BTree$BTreeNode.scanNextPage(BTree.java:2039)\n    at org.exist.storage.btree.BTree$BTreeNode.query(BTree.java:1835)\n    at org.exist.storage.btree.BTree$BTreeNode.query(BTree.java:1759)\n    at org.exist.storage.btree.BTree$BTreeNode.query(BTree.java:1759)\n    at org.exist.storage.btree.BTree$BTreeNode.query(BTree.java:1759)\n    at org.exist.storage.btree.BTree$BTreeNode.access$12(BTree.java:1734)\n    at org.exist.storage.btree.BTree.query(BTree.java:379)\n    at org.exist.storage.structural.NativeStructuralIndexWorker.scanByType(NativeStructuralIndexWorker.java:259)\n    at org.exist.dom.VirtualNodeSet.getNodesFromIndex(VirtualNodeSet.java:457)\n    at org.exist.dom.VirtualNodeSet.realize(VirtualNodeSet.java:585)\n    at org.exist.dom.VirtualNodeSet.iterator(VirtualNodeSet.java:860)\n    at org.exist.dom.AbstractNodeSet.iterator(AbstractNodeSet.java:1)\n    at org.exist.storage.structural.NativeStructuralIndexWorker.findDescendantsByTagName(NativeStructuralIndexWorker.java:162)\n    at org.exist.xquery.LocationStep.getAttributes(LocationStep.java:645)\n    at org.exist.xquery.LocationStep.eval(LocationStep.java:434)\n    at org.exist.xquery.AbstractExpression.eval(AbstractExpression.java:71)\n    at org.exist.xquery.PathExpr.eval(PathExpr.java:264)\n    at org.exist.xquery.Predicate.selectByNodeSet(Predicate.java:446)\n    at org.exist.xquery.Predicate.evalPredicate(Predicate.java:326)\n    at org.exist.xquery.LocationStep.processPredicate(LocationStep.java:251)\n    at org.exist.xquery.LocationStep.applyPredicate(LocationStep.java:238)\n    at org.exist.xquery.LocationStep.eval(LocationStep.java:462)\n    at org.exist.xquery.AbstractExpression.eval(AbstractExpression.java:71)\n    at org.exist.xquery.PathExpr.eval(PathExpr.java:264)\n    at org.exist.xquery.LetExpr.eval(LetExpr.java:142)\n    at org.exist.xquery.LetExpr.eval(LetExpr.java:187)\n    at org.exist.xquery.LetExpr.eval(LetExpr.java:187)\n    at org.exist.xquery.BindingExpression.eval(BindingExpression.java:164)\n2015-03-19 21:56:59,147 [Timer-0] WARN  (ThreadPoolAsynchronousRunner.java [run]:624) - com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@6824f21c -- APPARENT DEADLOCK!!! Complete Status: \n    Managed Threads: 3\n    Active Threads: 3\n    Active Tasks: \n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@79180a12 (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0)\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@243c6d0c (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1)\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@50191373 (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2)\n    Pending Tasks: \n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@3a9d08ca\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@3ecdd11\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@44ff846d\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@5ce5850a\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@eec1d04\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@6b8d4d9d\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@53e9706d\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@23d472cf\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@4dbe4f8c\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@4c5e0203\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@54ac79fd\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask@546e2bad\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@6b13cc83\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@57e185f8\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@60357d68\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@45231180\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@3021aa73\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@6bb437ca\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@2021c9e9\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@7d53637c\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@409c2c97\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@adc5929\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@241ca71a\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@42b26866\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@636b1c33\n        com.mchange.v2.resourcepool.BasicResourcePool$1DestroyResourceTask@b160466\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@4af34669\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@1b53e609\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@2062ebd4\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@1b6cfe8a\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@4b7c2380\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@4f9be748\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@78108924\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@474b002\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@2ebee32f\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@3e0fe017\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@42aa175b\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@637f5bac\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@3a017b77\n        com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@7b4f2b78\nPool thread stack traces:\n    Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,main]\n        sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n        com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\n        com.mysql.jdbc.ResultSetImpl.getInstance(ResultSetImpl.java:370)\n        com.mysql.jdbc.MysqlIO.buildResultSetWithRows(MysqlIO.java:2532)\n        com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:477)\n        com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.java:2510)\n        com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1746)\n        com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2135)\n        com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2536)\n        com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)\n        com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1383)\n        com.mysql.jdbc.DatabaseMetaData$9.forEach(DatabaseMetaData.java:4826)\n        com.mysql.jdbc.IterateBlock.doForAll(IterateBlock.java:50)\n        com.mysql.jdbc.DatabaseMetaData.getTables(DatabaseMetaData.java:4804)\n        com.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnectionNoQuery(DefaultConnectionTester.java:185)\n        com.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnection(DefaultConnectionTester.java:62)\n        com.mchange.v2.c3p0.AbstractConnectionTester.activeCheckConnection(AbstractConnectionTester.java:67)\n        com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.testPooledConnection(C3P0PooledConnectionPool.java:368)\n        com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.refurbishIdleResource(C3P0PooledConnectionPool.java:310)\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask.run(BasicResourcePool.java:1999)\n        com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n    Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,main]\n        com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2596)\n        com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)\n        com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1383)\n        com.mysql.jdbc.DatabaseMetaData$9.forEach(DatabaseMetaData.java:4826)\n        com.mysql.jdbc.IterateBlock.doForAll(IterateBlock.java:50)\n        com.mysql.jdbc.DatabaseMetaData.getTables(DatabaseMetaData.java:4804)\n        com.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnectionNoQuery(DefaultConnectionTester.java:185)\n        com.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnection(DefaultConnectionTester.java:62)\n        com.mchange.v2.c3p0.AbstractConnectionTester.activeCheckConnection(AbstractConnectionTester.java:67)\n        com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.testPooledConnection(C3P0PooledConnectionPool.java:368)\n        com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.refurbishIdleResource(C3P0PooledConnectionPool.java:310)\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask.run(BasicResourcePool.java:1999)\n        com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n    Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,main]\n        java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1012)\n        java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006)\n        com.newrelic.agent.TransactionService.addTransaction(TransactionService.java:142)\n        com.newrelic.agent.Transaction.getTransaction(Transaction.java:1104)\n        com.newrelic.agent.Transaction.getTransaction(Transaction.java:1087)\n        com.newrelic.agent.TracerService$TracerServiceImpl.getTracer(TracerService.java:136)\n        com.newrelic.agent.TracerService.getTracer(TracerService.java:41)\n        com.newrelic.agent.instrumentation.InvocationPoint.invoke(InvocationPoint.java:55)\n        com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java)\n        com.mysql.jdbc.DatabaseMetaData$9.forEach(DatabaseMetaData.java:4826)\n        com.mysql.jdbc.IterateBlock.doForAll(IterateBlock.java:50)\n        com.mysql.jdbc.DatabaseMetaData.getTables(DatabaseMetaData.java:4804)\n        com.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnectionNoQuery(DefaultConnectionTester.java:185)\n        com.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnection(DefaultConnectionTester.java:62)\n        com.mchange.v2.c3p0.AbstractConnectionTester.activeCheckConnection(AbstractConnectionTester.java:67)\n        com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.testPooledConnection(C3P0PooledConnectionPool.java:368)\n        com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.refurbishIdleResource(C3P0PooledConnectionPool.java:310)\n        com.mchange.v2.resourcepool.BasicResourcePool$AsyncTestIdleResourceTask.run(BasicResourcePool.java:1999)\n        com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n</code></pre>\n\n<p>We are using hiberanate and c3p0 with the following c3p0 configuration:</p>\n\n<p>We are using the following maven artifacts for hibernate and c3p0:</p>\n\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>with the following c3p0 configuration:</p>\n\n<pre><code>  configuration = new Configuration().setProperty(\"hibernate.dialect\", \"org.hibernate.dialect.MySQL5InnoDBDialect\")\n  .setProperty(\"hibernate.connection.provider_class\", \"org.hibernate.connection.C3P0ConnectionProvider\")\n  .setProperty(\"hibernate.c3p0.idle_test_period\", \"1000\")\n  .setProperty(\"hibernate.c3p0.min_size\", \"20\")\n  .setProperty(\"hibernate.c3p0.max_size\", \"50\")\n  .setProperty(\"hibernate.c3p0.timeout\", \"1800\")\n  .setProperty(\"hibernate.c3p0.max_statements\", \"50\")\n</code></pre>\n\n<p>The server is under very light load ~5 queries a second. (Java 8)</p>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1638174478,"post_id":70151222,"comment_id":124008160,"body_markdown":"It seems that this is a kind of weird implementation.  Are you going to wait for the response synchronously in your  ```channelRead``` method and then respond?","body":"It seems that this is a kind of weird implementation.  Are you going to wait for the response synchronously in your  <code>channelRead</code> method and then respond?"},{"owner":{"account_id":19098344,"reputation":33,"user_id":13947146,"display_name":"LuckyCurve"},"score":0,"creation_date":1638180974,"post_id":70151222,"comment_id":124010466,"body_markdown":"@zysaaa i don` t want to use synchronosly way, this is the reason why i use netty to implement. i want to new a bootstrap in `channelRead0` as a client and visit website that i want to collect, and multiplex EventLoopGroup that i use in ServerBootstrap. i think this way can take high concurrency. but i can` t get the visit website response in method `channelRead0`","body":"@zysaaa i don` t want to use synchronosly way, this is the reason why i use netty to implement. i want to new a bootstrap in <code>channelRead0</code> as a client and visit website that i want to collect, and multiplex EventLoopGroup that i use in ServerBootstrap. i think this way can take high concurrency. but i can` t get the visit website response in method <code>channelRead0</code>"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1638192465,"post_id":70151222,"comment_id":124015006,"body_markdown":"But ```ProxyRedirectHandler#channelRead0``` is sync in this way. You want to get response from ```HttpClientHandler``` and respond to client. I think the whole logic of waiting for the result and responding in ```ProxyRedirectHandler#channelRead0``` should be asynchronous.","body":"But <code>ProxyRedirectHandler#channelRead0</code> is sync in this way. You want to get response from <code>HttpClientHandler</code> and respond to client. I think the whole logic of waiting for the result and responding in <code>ProxyRedirectHandler#channelRead0</code> should be asynchronous."},{"owner":{"account_id":19098344,"reputation":33,"user_id":13947146,"display_name":"LuckyCurve"},"score":0,"creation_date":1638618433,"post_id":70151222,"comment_id":124139171,"body_markdown":"@zysaaa yeah, i want to implement asynchronous, this is why i choose netty not springmvc to implement, how can i do?","body":"@zysaaa yeah, i want to implement asynchronous, this is why i choose netty not springmvc to implement, how can i do?"}],"owner":{"account_id":19098344,"reputation":33,"user_id":13947146,"display_name":"LuckyCurve"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638172050,"creation_date":1638172050,"question_id":70151222,"body_markdown":"first of all, thank you to get on this question.\r\n\r\nI want to use Netty to implement a function like collect infomation from other website and show it, so Server ChannelHandler implements like this:\r\n```\r\npublic class ProxyRedirectHandler extends SimpleChannelInboundHandler&lt;FullHttpRequest&gt; {\r\n\r\n    private final Logger logger = getLogger(getClass());\r\n\r\n    @Override\r\n    protected void channelRead0(ChannelHandlerContext ctx, FullHttpRequest msg) throws Exception {\r\n        logger.info(&quot;proxy request start&quot;);\r\n\r\n        Bootstrap bootstrap = new Bootstrap();\r\n\r\n        bootstrap.group(ctx.channel().eventLoop())\r\n                .channel(NioSocketChannel.class)\r\n                // this handler include collect strategy and get response\r\n                .handler(new HttpClientHandler())\r\n                .connect(new InetSocketAddress(&quot;www.baidu.com&quot;, 443));\r\n\r\n        // show response\r\n        ctx.writeAndFlush(response)\r\n                .addListener(ChannelFutureListener.CLOSE);\r\n    }\r\n}\r\n```\r\ncore question confuse me is how can I get response from HttpClientHandler in method channelRead0, ","title":"Netty: how to share Object bewteen Channel","body":"<p>first of all, thank you to get on this question.</p>\n<p>I want to use Netty to implement a function like collect infomation from other website and show it, so Server ChannelHandler implements like this:</p>\n<pre><code>public class ProxyRedirectHandler extends SimpleChannelInboundHandler&lt;FullHttpRequest&gt; {\n\n    private final Logger logger = getLogger(getClass());\n\n    @Override\n    protected void channelRead0(ChannelHandlerContext ctx, FullHttpRequest msg) throws Exception {\n        logger.info(&quot;proxy request start&quot;);\n\n        Bootstrap bootstrap = new Bootstrap();\n\n        bootstrap.group(ctx.channel().eventLoop())\n                .channel(NioSocketChannel.class)\n                // this handler include collect strategy and get response\n                .handler(new HttpClientHandler())\n                .connect(new InetSocketAddress(&quot;www.baidu.com&quot;, 443));\n\n        // show response\n        ctx.writeAndFlush(response)\n                .addListener(ChannelFutureListener.CLOSE);\n    }\n}\n</code></pre>\n<p>core question confuse me is how can I get response from HttpClientHandler in method channelRead0,</p>\n"},{"tags":["java","spring-webflux","paysafe"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1568477424,"creation_date":1568477424,"answer_id":57937214,"question_id":57935651,"body_markdown":"The server you sent the request to answered with http status code 400. That means, that your request seems to be malformed.\r\n\r\nFor example, you could have forgotten to include a parameter.","title":"BadRequest: 400 Bad Request","body":"<p>The server you sent the request to answered with http status code 400. That means, that your request seems to be malformed.</p>\n\n<p>For example, you could have forgotten to include a parameter.</p>\n"},{"tags":[],"owner":{"account_id":23425720,"reputation":41,"user_id":17485231,"display_name":"Ravikumar Kumarasamy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638171883,"creation_date":1638171883,"answer_id":70151178,"question_id":57935651,"body_markdown":"400 Bad Request could be of many reasons. To find out what exactly causing issue try printing the response body as below:\r\n\r\n    .exchange()\r\n                    .flatMap(clientResponse -&gt; {\r\n                        if (clientResponse.statusCode().is5xxServerError()) {\r\n                            clientResponse.body((clientHttpResponse, context) -&gt; {\r\n                                return clientHttpResponse.getBody();\r\n                            });\r\n                            return clientResponse.bodyToMono(String.class);\r\n                        }\r\n                        else\r\n                            return clientResponse.bodyToMono(String.class);\r\n                    })\r\n                    .block();\r\n\r\nThis helps you to find the right reason and then you can fix","title":"BadRequest: 400 Bad Request","body":"<p>400 Bad Request could be of many reasons. To find out what exactly causing issue try printing the response body as below:</p>\n<pre><code>.exchange()\n                .flatMap(clientResponse -&gt; {\n                    if (clientResponse.statusCode().is5xxServerError()) {\n                        clientResponse.body((clientHttpResponse, context) -&gt; {\n                            return clientHttpResponse.getBody();\n                        });\n                        return clientResponse.bodyToMono(String.class);\n                    }\n                    else\n                        return clientResponse.bodyToMono(String.class);\n                })\n                .block();\n</code></pre>\n<p>This helps you to find the right reason and then you can fix</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6638,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638171883,"creation_date":1568465419,"question_id":57935651,"body_markdown":"I want to make a Authorization request using Spring Webflux to Paysafe test environment. I tried this:\r\n\r\n    Mono&lt;AuthorizeRequest&gt; transactionMono = Mono.just(transaction);\r\n            return client.post().uri(&quot;https://api.test.paysafe.com/cardpayments/v1/accounts/{id}/auths&quot;, &quot;123456789&quot;)\r\n            \t\t.header(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\r\n            \t\t.header(HttpHeaders.AUTHORIZATION, &quot;Basic dGVz.......&quot;)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .body(transactionMono, AuthorizeRequest.class)\r\n                    .retrieve()\r\n                    .bodyToMono(AuthorizeResponse.class);\r\n\r\nBut I get:\r\n\r\n    org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request\r\n    \tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:174)\r\n    \tat org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$createResponseException$15(DefaultWebClient.java:512)\r\n\r\nDo you know how I can solve this?","title":"BadRequest: 400 Bad Request","body":"<p>I want to make a Authorization request using Spring Webflux to Paysafe test environment. I tried this:</p>\n\n<pre><code>Mono&lt;AuthorizeRequest&gt; transactionMono = Mono.just(transaction);\n        return client.post().uri(\"https://api.test.paysafe.com/cardpayments/v1/accounts/{id}/auths\", \"123456789\")\n                .header(HttpHeaders.CONTENT_TYPE, \"application/json\")\n                .header(HttpHeaders.AUTHORIZATION, \"Basic dGVz.......\")\n                .accept(MediaType.APPLICATION_JSON)\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(transactionMono, AuthorizeRequest.class)\n                .retrieve()\n                .bodyToMono(AuthorizeResponse.class);\n</code></pre>\n\n<p>But I get:</p>\n\n<pre><code>org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:174)\n    at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$createResponseException$15(DefaultWebClient.java:512)\n</code></pre>\n\n<p>Do you know how I can solve this?</p>\n"},{"tags":["java","android","audio","stream","mp3"],"owner":{"account_id":2841825,"reputation":415,"user_id":2441286,"accept_rate":53,"display_name":"theCNG27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638171037,"creation_date":1425251748,"question_id":28800440,"body_markdown":"Sorry about the weird title, I couldn&#39;t think of anything better.\r\nIn my Android App I want to stream an .mp3 file from an http server, which requires basic authentication. The task is to download the data and save it to the sdcard while playing. (Basicly streaming an mp3 from an http server but also saving the file)\r\n\r\nI managed to download the mp3 from the server to the sdcard and to play the downloaded file with the Android MediaPlayer class. But playing only works right when the file is downloaded completely. I want my App to play WHILE downloading.\r\n\r\nCan someone point out a good solution to this problem? I thought about using some third-party audio library to stream mp3 audio from memory but I couldn&#39;t find anything useful for my problem. Are there any good free librarys for Android that suit my needs?","title":"Android - Play (mp3) from memory while streaming","body":"<p>Sorry about the weird title, I couldn't think of anything better.\nIn my Android App I want to stream an .mp3 file from an http server, which requires basic authentication. The task is to download the data and save it to the sdcard while playing. (Basicly streaming an mp3 from an http server but also saving the file)</p>\n\n<p>I managed to download the mp3 from the server to the sdcard and to play the downloaded file with the Android MediaPlayer class. But playing only works right when the file is downloaded completely. I want my App to play WHILE downloading.</p>\n\n<p>Can someone point out a good solution to this problem? I thought about using some third-party audio library to stream mp3 audio from memory but I couldn't find anything useful for my problem. Are there any good free librarys for Android that suit my needs?</p>\n"},{"tags":["java","localization","resourcebundle","chinese-locale"],"comments":[{"owner":{"account_id":10547126,"reputation":41,"user_id":7770990,"display_name":"DRAKU"},"score":0,"creation_date":1534013097,"post_id":51794257,"comment_id":90561727,"body_markdown":"I tried the following: Locale.CHINA and Locale.Taiwan VS. Locale.SIMPLIFIED_CHINESE and Locale.TRADITIONAL_CHINESE. All versions will result in the following output: getLanguage=zh;\ngetCountry= ;\ngetDisplayCountry= ;\ngetVariant= ;\ngetDisplayLanguage=中文;\ngetDisplayName=中文;\ngetDisplayScript= ;\ncurrentLocale.getDisplayLanguage()=中文;","body":"I tried the following: Locale.CHINA and Locale.Taiwan VS. Locale.SIMPLIFIED_CHINESE and Locale.TRADITIONAL_CHINESE. All versions will result in the following output: getLanguage=zh; getCountry= ; getDisplayCountry= ; getVariant= ; getDisplayLanguage=中文; getDisplayName=中文; getDisplayScript= ; currentLocale.getDisplayLanguage()=中文;"},{"owner":{"account_id":10547126,"reputation":41,"user_id":7770990,"display_name":"DRAKU"},"score":0,"creation_date":1534013374,"post_id":51794257,"comment_id":90561786,"body_markdown":"So I have no chance to distinguish simplified vs traditional Chinese?","body":"So I have no chance to distinguish simplified vs traditional Chinese?"},{"owner":{"account_id":10547126,"reputation":41,"user_id":7770990,"display_name":"DRAKU"},"score":0,"creation_date":1534013850,"post_id":51794257,"comment_id":90561885,"body_markdown":"...and always the MessagesBundle_zh.txt  only will be loaded.","body":"...and always the MessagesBundle_zh.txt  only will be loaded."}],"answers":[{"tags":[],"owner":{"account_id":6022316,"reputation":1,"user_id":4729048,"display_name":"young"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638170952,"creation_date":1638170952,"answer_id":70151021,"question_id":51794257,"body_markdown":"It seems your buddle don&#39;t support such names like &quot;MessagesBundle_zh_CN.txt&quot;.  In fact, you can just use zh.txt, cause zh-cn/zh-tw could be read by both sides with no much difficult","title":"Java: Load a chinese ResourceBundle (Simplified Chinese and Traditional Chinese) not working","body":"<p>It seems your buddle don't support such names like &quot;MessagesBundle_zh_CN.txt&quot;.  In fact, you can just use zh.txt, cause zh-cn/zh-tw could be read by both sides with no much difficult</p>\n"}],"owner":{"account_id":10547126,"reputation":41,"user_id":7770990,"display_name":"DRAKU"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638170952,"creation_date":1533936644,"question_id":51794257,"body_markdown":"In my Java application I create a `Locale` like this:\r\n\r\n    new Locale(&quot;es&quot;) // for spanish\r\n    new Locale (Locale.ITALIAN)\r\n    new Locale (&quot;gu&quot;) // for Gujarati\r\n\r\n\r\nNow the correct ResourceBundle- textfile will be loaded by doing this:\r\n    \r\n    ResourceBundle messages = ResourceBundle.getBundle(&quot;MessagesBundle&quot;, currentLocale, loader);\r\n\r\nThe resource textfiles are located in a separate folder with names:\r\n\r\n    MessagesBundle_es.txt, MessagesBundle_it.txt, MessagesBundle_ru.txt, etc...\r\n\r\nThey are all loaded well (russian (--&gt;cyrillic), Turkish, Czech, German, Spanish, Italian, etc...)\r\n\r\nBut there is a problem with Chinese. \r\nIn the code for traditional and simplified Chinese, I create the `Locale`- Object like these versions:\r\n\r\n    locale = Locale.SIMPLIFIED_CHINESE; //or\r\n    locale = Locale.TRADITIONAL_CHINESE; //or\r\n    locale= new Locale (&quot;zh&quot;,&quot;cn&quot;) //or\r\n    locale= new Locale (&quot;zh&quot;,&quot;tw&quot;) //or\r\n    locale= new Locale (&quot;zh&quot;,&quot;CN&quot;) //or\r\n    locale= new Locale (&quot;zh&quot;,&quot;TW&quot;) //or\r\n\r\nIf the MessagesBundle - file is called:\r\n\r\n    MessagesBundle_zh.txt\r\nthe Bundle will be loaded.\r\nBut if the Bundle is called\r\n\r\n    MessagesBundle_zh_CN or MessagesBundle_zh_TW //other postfixes: _zh-TX, _zh_Hans, etc..\r\n\r\nto differentiate between simplified and traditional Chinese, the ResourceBundle is ignored and the default Bundle:\r\n\r\n    MessagesBundle.txt\r\n\r\n  (English in this case) is loaded \r\n\r\n\r\nI tried several Versions of postfixes of the MessagesBundle Files, and many versions to create the Locales, but, alas, with no success. \r\nWhat can I try next. I have read a lot of similar Questions, but none worked for me.\r\n\r\n","title":"Java: Load a chinese ResourceBundle (Simplified Chinese and Traditional Chinese) not working","body":"<p>In my Java application I create a <code>Locale</code> like this:</p>\n\n<pre><code>new Locale(\"es\") // for spanish\nnew Locale (Locale.ITALIAN)\nnew Locale (\"gu\") // for Gujarati\n</code></pre>\n\n<p>Now the correct ResourceBundle- textfile will be loaded by doing this:</p>\n\n<pre><code>ResourceBundle messages = ResourceBundle.getBundle(\"MessagesBundle\", currentLocale, loader);\n</code></pre>\n\n<p>The resource textfiles are located in a separate folder with names:</p>\n\n<pre><code>MessagesBundle_es.txt, MessagesBundle_it.txt, MessagesBundle_ru.txt, etc...\n</code></pre>\n\n<p>They are all loaded well (russian (-->cyrillic), Turkish, Czech, German, Spanish, Italian, etc...)</p>\n\n<p>But there is a problem with Chinese. \nIn the code for traditional and simplified Chinese, I create the <code>Locale</code>- Object like these versions:</p>\n\n<pre><code>locale = Locale.SIMPLIFIED_CHINESE; //or\nlocale = Locale.TRADITIONAL_CHINESE; //or\nlocale= new Locale (\"zh\",\"cn\") //or\nlocale= new Locale (\"zh\",\"tw\") //or\nlocale= new Locale (\"zh\",\"CN\") //or\nlocale= new Locale (\"zh\",\"TW\") //or\n</code></pre>\n\n<p>If the MessagesBundle - file is called:</p>\n\n<pre><code>MessagesBundle_zh.txt\n</code></pre>\n\n<p>the Bundle will be loaded.\nBut if the Bundle is called</p>\n\n<pre><code>MessagesBundle_zh_CN or MessagesBundle_zh_TW //other postfixes: _zh-TX, _zh_Hans, etc..\n</code></pre>\n\n<p>to differentiate between simplified and traditional Chinese, the ResourceBundle is ignored and the default Bundle:</p>\n\n<pre><code>MessagesBundle.txt\n</code></pre>\n\n<p>(English in this case) is loaded </p>\n\n<p>I tried several Versions of postfixes of the MessagesBundle Files, and many versions to create the Locales, but, alas, with no success. \nWhat can I try next. I have read a lot of similar Questions, but none worked for me.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":8995451,"reputation":149,"user_id":6818597,"display_name":"neilharia7"},"score":0,"creation_date":1638089912,"post_id":70141894,"comment_id":123990592,"body_markdown":"Start backwards and find if the prev char is not numeric, then you&#39;ll get the index &amp; add + 1 to get the exact index","body":"Start backwards and find if the prev char is not numeric, then you&#39;ll get the index &amp; add + 1 to get the exact index"},{"owner":{"account_id":18491477,"reputation":45,"user_id":13470945,"display_name":"toydotgame"},"score":0,"creation_date":1638090324,"post_id":70141894,"comment_id":123990660,"body_markdown":"@neilharia7 What methods do I use to check if a character is non-numeric? I know how to iterate backwards over a string but the checks I&#39;ve tried aren&#39;t working well. Is `!Character.isDigit(c)` the right way to go?","body":"@neilharia7 What methods do I use to check if a character is non-numeric? I know how to iterate backwards over a string but the checks I&#39;ve tried aren&#39;t working well. Is <code>!Character.isDigit(c)</code> the right way to go?"},{"owner":{"account_id":8995451,"reputation":149,"user_id":6818597,"display_name":"neilharia7"},"score":0,"creation_date":1638091279,"post_id":70141894,"comment_id":123990812,"body_markdown":"`!Character.isDigit(s.charAt(i))` `s`being the string","body":"<code>!Character.isDigit(s.charAt(i))</code> <code>s</code>being the string"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638095613,"post_id":70141894,"comment_id":123991656,"body_markdown":"For an always correct way you need to take into account that a printing character, a code point, in the string may take up two indices. So the *reliable*  way doesn’t seem to be completely *simple*.","body":"For an always correct way you need to take into account that a printing character, a code point, in the string may take up two indices. So the <i>reliable</i>  way doesn’t seem to be completely <i>simple</i>."}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638099473,"creation_date":1638092380,"answer_id":70142154,"question_id":70141894,"body_markdown":"Note: the &#39;1&#39; is at index 9 in your String.\r\n\r\nIf you don&#39;t want, it not necessary to use RegEx for this.\r\n\r\nA method like this should do the job:\r\n\r\n```java\r\npublic static int findLastNumbersIndex(String s) {\r\n  boolean numberFound = false;\r\n  boolean charBeforeNumberFound = false;\r\n\r\n  //start at the end of the String\r\n  int index = s.length() - 1;\r\n\r\n  //loop from the back to the front while there are more chars \r\n  //and no nonDigit is found before a digit\r\n  while (index &gt;= 0 &amp;&amp; !charBeforeNumberFound) {\r\n    //when the first number was found, set the boolean flag\r\n    if (!numberFound &amp;&amp; Character.isDigit(s.charAt(index))) {\r\n      numberFound = true;\r\n    }\r\n\r\n    //when already a number was found and there is any nonDigit stop the execution\r\n    if (numberFound &amp;&amp; !Character.isDigit(s.charAt(index))) {\r\n      charBeforeNumberFound = true;\r\n      break;\r\n    }\r\n\r\n    index--;\r\n  }\r\n   \r\n  return index + 1;\r\n}\r\n\r\n```\r\n\r\nThe execution for different Strings: \r\n```java\r\npublic static void main(String[] args) {\r\n  System.out.println(&quot;\\&quot;987abc&lt;*(123\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;987abc&lt;*(123&quot;));\r\n  System.out.println(&quot;\\&quot;987abc&lt;*(123abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;987abc&lt;*(123abc&quot;));\r\n  System.out.println(&quot;\\&quot;987abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;987abc&quot;));\r\n  System.out.println(&quot;\\&quot;abc987\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;abc987&quot;));\r\n  System.out.println(&quot;\\&quot;987\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;987&quot;));\r\n  System.out.println(&quot;(Empty String)&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;&quot;));\r\n  System.out.println(&quot;\\&quot;abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;abc&quot;));\r\n}\r\n```\r\nreturns this output:\r\n```\r\n&quot;987abc&lt;*(123&quot; index of lastNumberSet: 9\r\n&quot;987abc&lt;*(123abc&quot; index of lastNumberSet: 9\r\n&quot;987abc&quot; index of lastNumberSet: 0\r\n&quot;abc987&quot; index of lastNumberSet: 3\r\n&quot;987&quot; index of lastNumberSet: 0\r\n(Empty String) index of lastNumberSet: 0\r\n&quot;abc&quot; index of lastNumberSet: 0\r\n```","title":"Find index of last non-numeric character in String","body":"<p>Note: the '1' is at index 9 in your String.</p>\n<p>If you don't want, it not necessary to use RegEx for this.</p>\n<p>A method like this should do the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int findLastNumbersIndex(String s) {\n  boolean numberFound = false;\n  boolean charBeforeNumberFound = false;\n\n  //start at the end of the String\n  int index = s.length() - 1;\n\n  //loop from the back to the front while there are more chars \n  //and no nonDigit is found before a digit\n  while (index &gt;= 0 &amp;&amp; !charBeforeNumberFound) {\n    //when the first number was found, set the boolean flag\n    if (!numberFound &amp;&amp; Character.isDigit(s.charAt(index))) {\n      numberFound = true;\n    }\n\n    //when already a number was found and there is any nonDigit stop the execution\n    if (numberFound &amp;&amp; !Character.isDigit(s.charAt(index))) {\n      charBeforeNumberFound = true;\n      break;\n    }\n\n    index--;\n  }\n   \n  return index + 1;\n}\n\n</code></pre>\n<p>The execution for different Strings:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  System.out.println(&quot;\\&quot;987abc&lt;*(123\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;987abc&lt;*(123&quot;));\n  System.out.println(&quot;\\&quot;987abc&lt;*(123abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;987abc&lt;*(123abc&quot;));\n  System.out.println(&quot;\\&quot;987abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;987abc&quot;));\n  System.out.println(&quot;\\&quot;abc987\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;abc987&quot;));\n  System.out.println(&quot;\\&quot;987\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;987&quot;));\n  System.out.println(&quot;(Empty String)&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;&quot;));\n  System.out.println(&quot;\\&quot;abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + findLastNumbersIndex(&quot;abc&quot;));\n}\n</code></pre>\n<p>returns this output:</p>\n<pre><code>&quot;987abc&lt;*(123&quot; index of lastNumberSet: 9\n&quot;987abc&lt;*(123abc&quot; index of lastNumberSet: 9\n&quot;987abc&quot; index of lastNumberSet: 0\n&quot;abc987&quot; index of lastNumberSet: 3\n&quot;987&quot; index of lastNumberSet: 0\n(Empty String) index of lastNumberSet: 0\n&quot;abc&quot; index of lastNumberSet: 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9748857,"reputation":4106,"user_id":7227834,"display_name":"AmrDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638093142,"creation_date":1638093142,"answer_id":70142255,"question_id":70141894,"body_markdown":"You can get it using Regex named group\r\n\r\n```java\r\npublic static int indexOfLastNumber(String text) {\r\n    Pattern pattern = Pattern.compile(&quot;(\\\\d+)(?!.*\\\\d)&quot;);\r\n    Matcher matcher = pattern.matcher(text);\r\n    return matcher.find() ? matcher.start() : -1;\r\n}\r\n```\r\n\r\nand I used test cases from @csalmhof answer, thanks to him\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;\\&quot;987abc&lt;*123\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;987abc&lt;*123&quot;));\r\n    System.out.println(&quot;\\&quot;987abc&lt;*123abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;987abc&lt;*123abc&quot;));\r\n    System.out.println(&quot;\\&quot;987abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;987abc&quot;));\r\n    System.out.println(&quot;\\&quot;abc987\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;abc987&quot;));\r\n    System.out.println(&quot;\\&quot;987\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;987&quot;));\r\n    System.out.println(&quot;(Empty String)&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;&quot;));\r\n    System.out.println(&quot;\\&quot;abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;abc&quot;));\r\n}\r\n```\r\n\r\nOutput, -1 for a text that has no numbers\r\n\r\n\r\n```java\r\n&quot;987abc&lt;*123&quot; index of lastNumberSet: 8\r\n&quot;987abc&lt;*123abc&quot; index of lastNumberSet: 8\r\n&quot;987abc&quot; index of lastNumberSet: 0\r\n&quot;abc987&quot; index of lastNumberSet: 3\r\n&quot;987&quot; index of lastNumberSet: 0\r\n(Empty String) index of lastNumberSet: -1\r\n&quot;abc&quot; index of lastNumberSet: -1\r\n```","title":"Find index of last non-numeric character in String","body":"<p>You can get it using Regex named group</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int indexOfLastNumber(String text) {\n    Pattern pattern = Pattern.compile(&quot;(\\\\d+)(?!.*\\\\d)&quot;);\n    Matcher matcher = pattern.matcher(text);\n    return matcher.find() ? matcher.start() : -1;\n}\n</code></pre>\n<p>and I used test cases from @csalmhof answer, thanks to him</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.out.println(&quot;\\&quot;987abc&lt;*123\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;987abc&lt;*123&quot;));\n    System.out.println(&quot;\\&quot;987abc&lt;*123abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;987abc&lt;*123abc&quot;));\n    System.out.println(&quot;\\&quot;987abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;987abc&quot;));\n    System.out.println(&quot;\\&quot;abc987\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;abc987&quot;));\n    System.out.println(&quot;\\&quot;987\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;987&quot;));\n    System.out.println(&quot;(Empty String)&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;&quot;));\n    System.out.println(&quot;\\&quot;abc\\&quot;&quot; + &quot; index of lastNumberSet: &quot; + indexOfLastNumber(&quot;abc&quot;));\n}\n</code></pre>\n<p>Output, -1 for a text that has no numbers</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;987abc&lt;*123&quot; index of lastNumberSet: 8\n&quot;987abc&lt;*123abc&quot; index of lastNumberSet: 8\n&quot;987abc&quot; index of lastNumberSet: 0\n&quot;abc987&quot; index of lastNumberSet: 3\n&quot;987&quot; index of lastNumberSet: 0\n(Empty String) index of lastNumberSet: -1\n&quot;abc&quot; index of lastNumberSet: -1\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638170811,"creation_date":1638100828,"answer_id":70143188,"question_id":70141894,"body_markdown":"Try this.\r\n\r\n    static int indexOfLastNumber(String s) {\r\n        int removedLength = s.replaceFirst(&quot;\\\\d+\\\\D*$&quot;, &quot;&quot;).length();\r\n        return s.length() == removedLength ? 0 : removedLength;\r\n    }\r\n\r\n    static void test(String s) {\r\n        System.out.println(s + &quot; : &quot; + indexOfLastNumber(s));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        test(&quot;987abc&lt;*(123&quot;);\r\n        test(&quot;987abc&lt;*(123)&quot;);\r\n        test(&quot;123&quot;);\r\n        test(&quot;foo&quot;);\r\n        test(&quot;&quot;);\r\n    }\r\n\r\n\r\noutput:\r\n\r\n    987abc&lt;*(123 : 9\r\n    987abc&lt;*(123) : 9\r\n    123 : 0\r\n    foo : 0\r\n     : 0\r\n\r\nor\r\n\r\n    static final Pattern LAST_NUMBER = Pattern.compile(&quot;\\\\d+\\\\D*$&quot;);\r\n\r\n    static int indexOfLastNumber(String s) {\r\n        Matcher m = LAST_NUMBER.matcher(s);\r\n        return m.find() ? m.start() : 0;\r\n    }\r\n","title":"Find index of last non-numeric character in String","body":"<p>Try this.</p>\n<pre><code>static int indexOfLastNumber(String s) {\n    int removedLength = s.replaceFirst(&quot;\\\\d+\\\\D*$&quot;, &quot;&quot;).length();\n    return s.length() == removedLength ? 0 : removedLength;\n}\n\nstatic void test(String s) {\n    System.out.println(s + &quot; : &quot; + indexOfLastNumber(s));\n}\n\npublic static void main(String[] args) {\n    test(&quot;987abc&lt;*(123&quot;);\n    test(&quot;987abc&lt;*(123)&quot;);\n    test(&quot;123&quot;);\n    test(&quot;foo&quot;);\n    test(&quot;&quot;);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>987abc&lt;*(123 : 9\n987abc&lt;*(123) : 9\n123 : 0\nfoo : 0\n : 0\n</code></pre>\n<p>or</p>\n<pre><code>static final Pattern LAST_NUMBER = Pattern.compile(&quot;\\\\d+\\\\D*$&quot;);\n\nstatic int indexOfLastNumber(String s) {\n    Matcher m = LAST_NUMBER.matcher(s);\n    return m.find() ? m.start() : 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638111901,"creation_date":1638111901,"answer_id":70144655,"question_id":70141894,"body_markdown":"You can use a pattern with a capture group, and if there is a match you can use [public int start(int group)](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#start-int-) to get the start index of the capture group of the Matcher.\r\n\r\n    (\\d)\\d*\\D*$\r\n\r\n- `(\\d)` Capture a single digit in **group 1**\r\n- `\\d*` Match optional digits\r\n- `\\D*` Match optional non digits\r\n- `$` End of string\r\n\r\nSee a [regex demo](https://regex101.com/r/n6426S/1) and a [Java demo](https://ideone.com/TcevP3)\r\n\r\nExample:\r\n\r\n    String[] strings = { &quot;987abc&lt;*(123&quot;, &quot;&quot;, &quot;123&quot;, &quot;test&quot;, &quot;abc123&quot; };\r\n    Pattern pattern = Pattern.compile(&quot;(\\\\d)\\\\d*\\\\D*$&quot;);\r\n    \r\n    for (String s : strings) {\r\n        Matcher matcher = pattern.matcher(s);\r\n        if (matcher.find()) {\r\n            System.out.printf(&quot;&#39;%s&#39; --&gt; %d\\n&quot;, s, matcher.start(1));\r\n            continue;\r\n        }\r\n        System.out.printf(&quot;&#39;%s&#39; --&gt; %d\\n&quot;, s, 0);\r\n    }\r\n\r\nOutput\r\n\r\n    &#39;987abc&lt;*(123&#39; --&gt; 9\r\n    &#39;&#39; --&gt; 0\r\n    &#39;123&#39; --&gt; 0\r\n    &#39;test&#39; --&gt; 0\r\n    &#39;abc123&#39; --&gt; 3","title":"Find index of last non-numeric character in String","body":"<p>You can use a pattern with a capture group, and if there is a match you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#start-int-\" rel=\"nofollow noreferrer\">public int start(int group)</a> to get the start index of the capture group of the Matcher.</p>\n<pre><code>(\\d)\\d*\\D*$\n</code></pre>\n<ul>\n<li><code>(\\d)</code> Capture a single digit in <strong>group 1</strong></li>\n<li><code>\\d*</code> Match optional digits</li>\n<li><code>\\D*</code> Match optional non digits</li>\n<li><code>$</code> End of string</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/n6426S/1\" rel=\"nofollow noreferrer\">regex demo</a> and a <a href=\"https://ideone.com/TcevP3\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>Example:</p>\n<pre><code>String[] strings = { &quot;987abc&lt;*(123&quot;, &quot;&quot;, &quot;123&quot;, &quot;test&quot;, &quot;abc123&quot; };\nPattern pattern = Pattern.compile(&quot;(\\\\d)\\\\d*\\\\D*$&quot;);\n\nfor (String s : strings) {\n    Matcher matcher = pattern.matcher(s);\n    if (matcher.find()) {\n        System.out.printf(&quot;'%s' --&gt; %d\\n&quot;, s, matcher.start(1));\n        continue;\n    }\n    System.out.printf(&quot;'%s' --&gt; %d\\n&quot;, s, 0);\n}\n</code></pre>\n<p>Output</p>\n<pre><code>'987abc&lt;*(123' --&gt; 9\n'' --&gt; 0\n'123' --&gt; 0\n'test' --&gt; 0\n'abc123' --&gt; 3\n</code></pre>\n"}],"owner":{"account_id":18491477,"reputation":45,"user_id":13470945,"display_name":"toydotgame"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70143188,"answer_count":4,"score":0,"last_activity_date":1638170811,"creation_date":1638089673,"question_id":70141894,"body_markdown":"Say I have a String made up of numbers, letters, and symbols,\r\n```\r\nString foo = &quot;987abc&lt;*(123&quot;;\r\n```\r\nHow would I be able to find the index of the first number in the last _set_ of numbers (`&quot;1&quot;`, at index `6`) in String `foo` – and if `foo = &quot;123&quot;`, I would get the index of that first number again (`&quot;1&quot;`, at index `0`). (And also have it return index `0` if `foo = &quot;&quot;`)\r\n\r\nI&#39;m pretty inexperienced with RegEx-es and search patterns like that, alongside the fact that every way I have tried hasn&#39;t worked properly (most of the time causing a `StringIndexOutOfBoundsException`).\r\n\r\n_What&#39;s a reliable, simple way of finding the index of the start of the last set of numbers in a String?_","title":"Find index of last non-numeric character in String","body":"<p>Say I have a String made up of numbers, letters, and symbols,</p>\n<pre><code>String foo = &quot;987abc&lt;*(123&quot;;\n</code></pre>\n<p>How would I be able to find the index of the first number in the last <em>set</em> of numbers (<code>&quot;1&quot;</code>, at index <code>6</code>) in String <code>foo</code> – and if <code>foo = &quot;123&quot;</code>, I would get the index of that first number again (<code>&quot;1&quot;</code>, at index <code>0</code>). (And also have it return index <code>0</code> if <code>foo = &quot;&quot;</code>)</p>\n<p>I'm pretty inexperienced with RegEx-es and search patterns like that, alongside the fact that every way I have tried hasn't worked properly (most of the time causing a <code>StringIndexOutOfBoundsException</code>).</p>\n<p><em>What's a reliable, simple way of finding the index of the start of the last set of numbers in a String?</em></p>\n"},{"tags":["java","google-cloud-datastore","datastore"],"answers":[{"tags":[],"owner":{"account_id":127461,"reputation":2848,"user_id":7644371,"display_name":"Jim Morrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637797001,"creation_date":1637797001,"answer_id":70104203,"question_id":70099376,"body_markdown":"You can copy an entity by passing it to a builder.  E.g.\r\n\r\n    Key alteredKey = Key.newBuilder(itr.getKey().getParent(), &quot;Active&quot;);\r\n    Entity newEntity = Entity.newBuilder(alteredKey, itr);`","title":"Copying Google Datastore entries from one Kind to another Kind in same project using Java","body":"<p>You can copy an entity by passing it to a builder.  E.g.</p>\n<pre><code>Key alteredKey = Key.newBuilder(itr.getKey().getParent(), &quot;Active&quot;);\nEntity newEntity = Entity.newBuilder(alteredKey, itr);`\n</code></pre>\n"}],"owner":{"account_id":23442655,"reputation":1,"user_id":17499924,"display_name":"Freddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638170678,"creation_date":1637770291,"question_id":70099376,"body_markdown":"I am trying to copy some Datastore entries from one Kind to another in Google using Java.\r\n\r\nI have some entries in the Kind &quot;Reserve&quot; and now when certain conditions meet, I would like these entries to be copied into a new Kind called &quot;Active&quot;.\r\n\r\nIn the Kind &quot;Reserve&quot;, each entries have the following properties such as:\r\n\r\nName, Surname, Timestamp, etc.\r\n\r\nMy code so far is:\r\n\r\n    if(dataList.contains(&quot;UpdateNeeded&quot;)) {\r\n                Datastore datastore = DatastoreOptions.getDefaultInstance().getService();\r\n                Query&lt;Entity&gt; query =\r\n                        Query.newEntityQueryBuilder().setNamespace(&quot;userdata&quot;)\r\n                                .setKind(&quot;Reserve&quot;).build();\r\n                QueryResults&lt;Entity&gt; results = datastore.run(query);\r\n                while (results.hasNext()) {\r\n                    Entity itr = results.next();\r\n               // it is here where i need to implement a logic to copy over to another Kind but I dont seem to figure out how.\r\n                }\r\n            }","title":"Copying Google Datastore entries from one Kind to another Kind in same project using Java","body":"<p>I am trying to copy some Datastore entries from one Kind to another in Google using Java.</p>\n<p>I have some entries in the Kind &quot;Reserve&quot; and now when certain conditions meet, I would like these entries to be copied into a new Kind called &quot;Active&quot;.</p>\n<p>In the Kind &quot;Reserve&quot;, each entries have the following properties such as:</p>\n<p>Name, Surname, Timestamp, etc.</p>\n<p>My code so far is:</p>\n<pre><code>if(dataList.contains(&quot;UpdateNeeded&quot;)) {\n            Datastore datastore = DatastoreOptions.getDefaultInstance().getService();\n            Query&lt;Entity&gt; query =\n                    Query.newEntityQueryBuilder().setNamespace(&quot;userdata&quot;)\n                            .setKind(&quot;Reserve&quot;).build();\n            QueryResults&lt;Entity&gt; results = datastore.run(query);\n            while (results.hasNext()) {\n                Entity itr = results.next();\n           // it is here where i need to implement a logic to copy over to another Kind but I dont seem to figure out how.\n            }\n        }\n</code></pre>\n"},{"tags":["java","string","formatting","stringbuilder"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1638168823,"post_id":70150623,"comment_id":124006623,"body_markdown":"There are other ways.  For example, read the javadoc for String.format ... and the description of the formatter pattern language.  **HOWEVER** ... the &quot;efficiency&quot; of if statements, and building strings like this is NOT what you should be considered here.  Your real focus should be the readability of the code.  (Even if there is a more performant way to write this code in Java, the overheads of assembling the output will be orders of magnitude less than the overheads of writing the characters on the screen via the user&#39;s console application.)","body":"There are other ways.  For example, read the javadoc for String.format ... and the description of the formatter pattern language.  <b>HOWEVER</b> ... the &quot;efficiency&quot; of if statements, and building strings like this is NOT what you should be considered here.  Your real focus should be the readability of the code.  (Even if there is a more performant way to write this code in Java, the overheads of assembling the output will be orders of magnitude less than the overheads of writing the characters on the screen via the user&#39;s console application.)"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638170374,"creation_date":1638169591,"answer_id":70150845,"question_id":70150623,"body_markdown":"Use [`String.format()`][1]:\r\n\r\n    sb.append(String.format(&quot; %2d &quot;, numbers[row][column]));\r\n\r\nfor all numbers. Meaning your code would look like:\r\n\r\n    for (int row = 0; row &lt; getNumberOfRows(); row++) {\r\n        for (int column = 0; column &lt; getNumberOfColumns(); column++) {\r\n            sb.append(String.format(&quot; %2d &quot;, numbers[row][column]));\r\n        }\r\n        sb.deleteCharAt(sb.length()-1);\r\n        sb.append(&quot;\\n&quot;);\r\n    }\r\n\r\nThe formatting conversion `%d` means &quot;decimal integer&quot; and `%2d` means the same, but with a minimum width of 2 chars (a space char being the default pad char, padding added by default to the left).\r\n\r\n---\r\n\r\nTo go &quot;next level&quot;, you could replace the inner loop with 1 statement:\r\n\r\n    sb.append(Arrays.stream(numbers[row])\r\n      .mapToObj(i -&gt; String.format(&quot;%2d&quot;, i))\r\n      .collect(Collectors.joining(&quot; &quot;, &quot;&quot;, &quot;\\n&quot;)));\r\n\r\n\r\nwhich streams the entire row and handles the spacing, trimming and newline etc all in one operation.\r\n\r\n---\r\n\r\nI leave the final level, doing it *all* in one statement, as an exercise for the reader. \r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)","title":"Optional space in formatting of strings in Java","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String.format()</code></a>:</p>\n<pre><code>sb.append(String.format(&quot; %2d &quot;, numbers[row][column]));\n</code></pre>\n<p>for all numbers. Meaning your code would look like:</p>\n<pre><code>for (int row = 0; row &lt; getNumberOfRows(); row++) {\n    for (int column = 0; column &lt; getNumberOfColumns(); column++) {\n        sb.append(String.format(&quot; %2d &quot;, numbers[row][column]));\n    }\n    sb.deleteCharAt(sb.length()-1);\n    sb.append(&quot;\\n&quot;);\n}\n</code></pre>\n<p>The formatting conversion <code>%d</code> means &quot;decimal integer&quot; and <code>%2d</code> means the same, but with a minimum width of 2 chars (a space char being the default pad char, padding added by default to the left).</p>\n<hr />\n<p>To go &quot;next level&quot;, you could replace the inner loop with 1 statement:</p>\n<pre><code>sb.append(Arrays.stream(numbers[row])\n  .mapToObj(i -&gt; String.format(&quot;%2d&quot;, i))\n  .collect(Collectors.joining(&quot; &quot;, &quot;&quot;, &quot;\\n&quot;)));\n</code></pre>\n<p>which streams the entire row and handles the spacing, trimming and newline etc all in one operation.</p>\n<hr />\n<p>I leave the final level, doing it <em>all</em> in one statement, as an exercise for the reader.</p>\n"}],"owner":{"account_id":23486575,"reputation":1,"user_id":17538045,"display_name":"CoderTryingToLearn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638170374,"creation_date":1638167942,"question_id":70150623,"body_markdown":"I want to code a program that displays a grid of numbers like this picture \r\n\r\nGrid Example:\r\n\r\n[![Grid Example][1]][1]\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n\r\n    for (int row = 0; row &lt; getNumberOfRows(); row++) {\r\n        for (int column = 0; column &lt; getNumberOfColumns(); column++) {\r\n            if (numbers[row][column] &lt; 10) {\r\n                sb.append(&quot; &quot; + numbers[row][column] + &quot; &quot;);\r\n            } else {\r\n                sb.append(numbers[row][column] + &quot; &quot;);\r\n            }\r\n        }\r\n        sb.deleteCharAt(sb.length()-1);\r\n        sb.append(&quot;\\n&quot;);\r\n    }\r\n\r\nThis is my current code however feel like using an if statement is not efficient and thought there might be an alternative way where the numbers are in placeholder positions.\r\n\r\n  [1]: https://i.stack.imgur.com/Jjg3f.png","title":"Optional space in formatting of strings in Java","body":"<p>I want to code a program that displays a grid of numbers like this picture</p>\n<p>Grid Example:</p>\n<p><a href=\"https://i.stack.imgur.com/Jjg3f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jjg3f.png\" alt=\"Grid Example\" /></a></p>\n<pre><code>StringBuilder sb = new StringBuilder();\n\nfor (int row = 0; row &lt; getNumberOfRows(); row++) {\n    for (int column = 0; column &lt; getNumberOfColumns(); column++) {\n        if (numbers[row][column] &lt; 10) {\n            sb.append(&quot; &quot; + numbers[row][column] + &quot; &quot;);\n        } else {\n            sb.append(numbers[row][column] + &quot; &quot;);\n        }\n    }\n    sb.deleteCharAt(sb.length()-1);\n    sb.append(&quot;\\n&quot;);\n}\n</code></pre>\n<p>This is my current code however feel like using an if statement is not efficient and thought there might be an alternative way where the numbers are in placeholder positions.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1638120523,"post_id":70145713,"comment_id":123997421,"body_markdown":"You may want to omit sensitive information such as email addresses.","body":"You may want to omit sensitive information such as email addresses."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1638129185,"post_id":70145713,"comment_id":123999602,"body_markdown":"Can you give more details? Do you read your data from another `API`? Do you have to implements two differents applications or `API`?","body":"Can you give more details? Do you read your data from another <code>API</code>? Do you have to implements two differents applications or <code>API</code>?"},{"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"score":0,"creation_date":1638139896,"post_id":70145713,"comment_id":124002052,"body_markdown":"Yes, I have the email sender API already written in a file that is saved on my laptop my job is to call that API to send an email.","body":"Yes, I have the email sender API already written in a file that is saved on my laptop my job is to call that API to send an email."}],"answers":[{"tags":[],"owner":{"account_id":5857532,"reputation":857,"user_id":4614350,"display_name":"Javaluca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638120191,"creation_date":1638120191,"answer_id":70145794,"question_id":70145713,"body_markdown":"Probably your endpoint should be \r\n\r\n    @PostMapping(&quot;/VGIL/postal/email&quot;)\r\n\r\nif there aren&#39;t any other settings you can make a request from postman to this address\r\n\r\n    http://localhost:8080/VGIL/postal/email\r\n","title":"Consume an email API to send message","body":"<p>Probably your endpoint should be</p>\n<pre><code>@PostMapping(&quot;/VGIL/postal/email&quot;)\n</code></pre>\n<p>if there aren't any other settings you can make a request from postman to this address</p>\n<pre><code>http://localhost:8080/VGIL/postal/email\n</code></pre>\n"}],"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638170186,"creation_date":1638119552,"question_id":70145713,"body_markdown":"I am supposed to write a Spring Boot endpoint to read an API and send an email to stakeholders. Here is my code:\r\n\r\n\r\n    @PostMapping(&quot;/10.233.201.246:7070/VGIL/postal/email&quot;)\r\n    public Object sendEmail(){\r\n        String to = &quot;karim@gamil.com&quot;;\r\n        String from = &quot;helen@gmail.com&quot;;\r\n        String subject = &quot;Log files processing&quot;;\r\n        String message = &quot;The logs files has been created successfully&quot;;\r\n        String cc = &quot;baldemtaga@gmail.com&quot;;\r\n        \r\n        return null;\r\n    }\r\n\r\n    @GetMapping(&quot;/sendEmail&quot;)\r\n    public String postEmailToStakeholders(){\r\n        String uri = &quot;localhost:8080/api/10.233.201.246:7070/VGIL/postal/email&quot;;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        return restTemplate.getForObject(uri, String.class, sendEmail());\r\n    }\r\n\r\n\r\nHere is the API in Postman:\r\n\r\n[![Email API ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hBcV0.jpg","title":"Consume an email API to send message","body":"<p>I am supposed to write a Spring Boot endpoint to read an API and send an email to stakeholders. Here is my code:</p>\n<pre><code>@PostMapping(&quot;/10.233.201.246:7070/VGIL/postal/email&quot;)\npublic Object sendEmail(){\n    String to = &quot;karim@gamil.com&quot;;\n    String from = &quot;helen@gmail.com&quot;;\n    String subject = &quot;Log files processing&quot;;\n    String message = &quot;The logs files has been created successfully&quot;;\n    String cc = &quot;baldemtaga@gmail.com&quot;;\n    \n    return null;\n}\n\n@GetMapping(&quot;/sendEmail&quot;)\npublic String postEmailToStakeholders(){\n    String uri = &quot;localhost:8080/api/10.233.201.246:7070/VGIL/postal/email&quot;;\n    RestTemplate restTemplate = new RestTemplate();\n    return restTemplate.getForObject(uri, String.class, sendEmail());\n}\n</code></pre>\n<p>Here is the API in Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/hBcV0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hBcV0.jpg\" alt=\"Email API \" /></a></p>\n"},{"tags":["java","android","gradle","capacitor"],"comments":[{"owner":{"account_id":5398272,"reputation":1451,"user_id":4298796,"display_name":"Mona Baharlou"},"score":0,"creation_date":1638090835,"post_id":70141736,"comment_id":123990728,"body_markdown":"Do you have google-services.json in ypur app folder ? Is the SDK location correct?","body":"Do you have google-services.json in ypur app folder ? Is the SDK location correct?"},{"owner":{"account_id":21735326,"reputation":21,"user_id":16396299,"display_name":"WuaFlees"},"score":0,"creation_date":1638127638,"post_id":70141736,"comment_id":123999223,"body_markdown":"I don`t have google-services.json in my app folder and how can i know what is the sdk correct location ?","body":"I don`t have google-services.json in my app folder and how can i know what is the sdk correct location ?"},{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1638157839,"post_id":70141736,"comment_id":124004776,"body_markdown":"The solution is in the error itself, `SDK location not found. Define location with an ANDROID_SDK_ROOT environment `","body":"The solution is in the error itself, <code>SDK location not found. Define location with an ANDROID_SDK_ROOT environment </code>"}],"answers":[{"tags":[],"owner":{"account_id":21735326,"reputation":21,"user_id":16396299,"display_name":"WuaFlees"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638170137,"creation_date":1638170137,"answer_id":70150908,"question_id":70141736,"body_markdown":"The solution was very simple, i had to select the project folder properly, anyways thanks for the help.","title":"Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;. in capacitor android","body":"<p>The solution was very simple, i had to select the project folder properly, anyways thanks for the help.</p>\n"}],"owner":{"account_id":21735326,"reputation":21,"user_id":16396299,"display_name":"WuaFlees"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638170137,"creation_date":1638087987,"question_id":70141736,"body_markdown":"i had this error while i&#39;m building my capacitor project i tried by updating sdk but is not working, how can i fix this ?\r\n\r\n    google-services.json not found, google-services plugin not applied. Push Notifications won&#39;t \r\n    work\r\n    WARNING:: Using flatDirs should be avoided because it doesn&#39;t support any meta-data formats.\r\n    Currently detected usages:\r\n    - repository flatDir used in: project &#39;:app&#39;, project &#39;:capacitor-cordova-android-plugins&#39;\r\n    WARNING:: Please remove usages of `jcenter()` Maven repository from your build scripts and \r\n    migrate your build to other Maven repositories.\r\n    This repository is deprecated and it will be shut down in the future.\r\n    See http://developer.android.com/r/tools/jcenter-end-of-service for more information.\r\n    Currently detected usages in: root project &#39;android&#39;, project &#39;:app&#39;, project &#39;:capacitor- \r\n    android&#39;, ...\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; SDK location not found. Define location with an ANDROID_SDK_ROOT environment \r\n    variable or by setting the sdk.dir path in your project&#39;s local properties file \r\n    at &#39;C:\\Users\\giova\\Desktop\\testapp\\android\\local.properties&#39;.[capacitor]  \r\n    \r\n    [ERROR] An error occurred while running subprocess capacitor. ","title":"Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;. in capacitor android","body":"<p>i had this error while i'm building my capacitor project i tried by updating sdk but is not working, how can i fix this ?</p>\n<pre><code>google-services.json not found, google-services plugin not applied. Push Notifications won't \nwork\nWARNING:: Using flatDirs should be avoided because it doesn't support any meta-data formats.\nCurrently detected usages:\n- repository flatDir used in: project ':app', project ':capacitor-cordova-android-plugins'\nWARNING:: Please remove usages of `jcenter()` Maven repository from your build scripts and \nmigrate your build to other Maven repositories.\nThis repository is deprecated and it will be shut down in the future.\nSee http://developer.android.com/r/tools/jcenter-end-of-service for more information.\nCurrently detected usages in: root project 'android', project ':app', project ':capacitor- \nandroid', ...\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; SDK location not found. Define location with an ANDROID_SDK_ROOT environment \nvariable or by setting the sdk.dir path in your project's local properties file \nat 'C:\\Users\\giova\\Desktop\\testapp\\android\\local.properties'.[capacitor]  \n\n[ERROR] An error occurred while running subprocess capacitor. \n</code></pre>\n"},{"tags":["java","spring","mongodb","reflection","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":9310284,"reputation":94,"user_id":6912372,"display_name":"Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607774610,"creation_date":1607774610,"answer_id":65264675,"question_id":65264572,"body_markdown":"From my point of view you should use more concrete class as field in your entity\r\nOR\r\nyou can try to use Converters as workaround of this issue:\r\nhttps://stackoverflow.com/questions/34212545/setup-custom-converters-in-spring-data-mongo","title":"Getting Failed to instantiate [java.nio.HeapByteBuffer]: No default constructor found while retrieving from Mongo","body":"<p>From my point of view you should use more concrete class as field in your entity\nOR\nyou can try to use Converters as workaround of this issue:\n<a href=\"https://stackoverflow.com/questions/34212545/setup-custom-converters-in-spring-data-mongo\">Setup custom converters in Spring Data Mongo</a></p>\n"}],"owner":{"account_id":19303964,"reputation":35,"user_id":14111222,"display_name":"user1803_stacker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638169710,"creation_date":1607774024,"question_id":65264572,"body_markdown":"I have a java class as follows\r\n\r\n```\r\n@Data\r\n@Document(collection=&quot;sample_collection&quot;)\r\npublic class sampleClass {\r\n  private Instant createTime;\r\n  private Object payLoad;\r\n  // some more fields\r\n}\r\n```\r\n\r\nThe payload object can be null or object of different classes, and can contain a field of type byteBuffer.\r\n\r\nNow, while trying to save this to Mongo as a document, I get no issues, but which retrieving the document, I get the instantiationException( whenever the payload object is populated and has the byteBuffer field )\r\n\r\nBelow are the exception details: \r\n\r\n```\r\norg.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate java.nio.HeapByteBuffer using constructor NO_CONSTRUCTOR with arguments \r\nat org.springframework.data.convert.ReflectionEntityInstantiator.createInstance\r\nat org.springframework.data.convert.ClassGeneratingEntityInstantiator.createInstance\r\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read\r\n```\r\n\r\nI&#39;m unable to find a way to define a constructor for the HeapByteBuffer field.\r\nAny leads would be appreciated.\r\n","title":"Getting Failed to instantiate [java.nio.HeapByteBuffer]: No default constructor found while retrieving from Mongo","body":"<p>I have a java class as follows</p>\n<pre><code>@Data\n@Document(collection=&quot;sample_collection&quot;)\npublic class sampleClass {\n  private Instant createTime;\n  private Object payLoad;\n  // some more fields\n}\n</code></pre>\n<p>The payload object can be null or object of different classes, and can contain a field of type byteBuffer.</p>\n<p>Now, while trying to save this to Mongo as a document, I get no issues, but which retrieving the document, I get the instantiationException( whenever the payload object is populated and has the byteBuffer field )</p>\n<p>Below are the exception details:</p>\n<pre><code>org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate java.nio.HeapByteBuffer using constructor NO_CONSTRUCTOR with arguments \nat org.springframework.data.convert.ReflectionEntityInstantiator.createInstance\nat org.springframework.data.convert.ClassGeneratingEntityInstantiator.createInstance\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read\n</code></pre>\n<p>I'm unable to find a way to define a constructor for the HeapByteBuffer field.\nAny leads would be appreciated.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23205820,"reputation":124,"user_id":17300051,"display_name":"droid24"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637762484,"creation_date":1637762484,"answer_id":70097459,"question_id":70097056,"body_markdown":"according to [Docs][1] \r\n\r\n    GoogleSignInAccount acct = GoogleSignIn.getLastSignedInAccount(getActivity());\r\n    if (acct != null) {\r\n      String personName = acct.getDisplayName();\r\n      String personEmail = acct.getEmail();\r\n      Uri personPhoto = acct.getPhotoUrl(); // this line to get  profile picture \r\n    }\r\n\r\n\r\nthen you can use Picasso Library to show images in ImageView\r\n\r\n    Picasso.with(this).load(personPhoto).into(R.id.imageview);\r\n\r\n\r\n  [1]: https://developers.google.com/identity/sign-in/android/people#retrieve_profile_information_for_a_signed-in_user","title":"How to get google account profile picture in android app","body":"<p>according to <a href=\"https://developers.google.com/identity/sign-in/android/people#retrieve_profile_information_for_a_signed-in_user\" rel=\"nofollow noreferrer\">Docs</a></p>\n<pre><code>GoogleSignInAccount acct = GoogleSignIn.getLastSignedInAccount(getActivity());\nif (acct != null) {\n  String personName = acct.getDisplayName();\n  String personEmail = acct.getEmail();\n  Uri personPhoto = acct.getPhotoUrl(); // this line to get  profile picture \n}\n</code></pre>\n<p>then you can use Picasso Library to show images in ImageView</p>\n<pre><code>Picasso.with(this).load(personPhoto).into(R.id.imageview);\n</code></pre>\n"}],"owner":{"account_id":23316924,"reputation":1,"user_id":17395418,"display_name":"ajay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638169601,"creation_date":1637760875,"question_id":70097056,"body_markdown":"I am using firebase google sign in in my project. I want to display the account name, email and profile picture. I can display the name and email without any problem but I am not able to display the users google account profile picture. How do I do that?","title":"How to get google account profile picture in android app","body":"<p>I am using firebase google sign in in my project. I want to display the account name, email and profile picture. I can display the name and email without any problem but I am not able to display the users google account profile picture. How do I do that?</p>\n"},{"tags":["java","lambda","garbage-collection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638176584,"post_id":70149939,"comment_id":124008947,"body_markdown":"How can you say that they had “a lifecycle together” when the method *returns* the supplier to the caller whereas the parameter variable *does not exist* after the method returned? Do you even understand what a lambda expression does?","body":"How can you say that they had “a lifecycle together” when the method <i>returns</i> the supplier to the caller whereas the parameter variable <i>does not exist</i> after the method returned? Do you even understand what a lambda expression does?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638163811,"creation_date":1638163811,"answer_id":70150115,"question_id":70149939,"body_markdown":"&gt; They both exist on the same stack and have a lifecycle together.\r\n\r\nNo they don&#39;t.\r\n\r\nHere:\r\n\r\n```\r\npublic class OhDearThatWasALieWasntIt {\r\n   void haha() throws Exception {\r\n     var supplier = incrementer(20);\r\n     Thread t = new Thread() {\r\n       public void run() {\r\n         supplier.get();\r\n       }\r\n     }\r\n   }\r\n}\r\n```\r\n\r\nThere you go. They don&#39;t share a stack at all. Your `incrementer` local var needs to travel all the way from one thread to an entirely different one, in fact.\r\n\r\nThe simple fact is, the compiler has no idea where that lambda is going to end up and who shall run it.\r\n\r\n&gt; Since the stack is allocated for each thread, there can be no concurrency issues.\r\n\r\nBaeldung oversimplified, perhaps. If a local var used in a lambda is __not__ final, then there are only 2 options:\r\n\r\n[A] the lambda gets a clone and this is incredibly confusing.\r\n\r\n[B] the variable is hoisted into heap and we now allow `volatile` on local vars; the maxim that local vars cannot possibly be shared with other threads is left by the wayside, and concurrency issues abound.\r\n\r\nLet&#39;s see this in action:\r\n\r\n```\r\nvoid meanCode() {\r\n  int local = 100;\r\n  Runnable r = () -&gt; {\r\n    for (int i = 0; i &lt; 10; i++) { \r\n      System.out.println(local++);\r\n    }\r\n  };\r\n\r\n  Thread a = new Thread(r);\r\n  a.start();\r\n  Thread.sleep(5);\r\n  for (int i = 0; i &lt; 10; i++) { \r\n    System.out.println(local++);\r\n  }\r\n}\r\n```\r\n\r\nEither `local` is now a variable used in 2 places and thus the above code is a race condition, or, a clone is handed out, and both the Runnable and the for loop at the end of the above snippet get their own local copy of `local`, thus race-condition free, printing `100` through `109` in order, but both print runs arbitrarily interleaved (I guess there&#39;s a bit of race condition left). The fact that you secretly have 2 variables is incredibly confusing.\r\n\r\nGiven that both options are utterly confusing, java instead just doesn&#39;t allow it at all. With (effectively) final variables, java gets to just give a copy to the lambda, thus neatly sidestepping any concurrency issues. It&#39;s also not confusing, as the variable is (effectively) final.\r\n\r\n## But there are no threads here!\r\n\r\nYeah you know that. How could the compiler possibly know that? The compiler (and runtime) work on single classes at a time. The compiler isn&#39;t going to &#39;treeshake&#39; your entire project to painstakingly ensure that your code never ends up in a scenario where this stuff ends up in multiple threads. Even if somehow it did, perhaps later on someone recompiles half this code base, or just adds on a few more classes that now do.\r\n","title":"Curious about lambda capture in Java","body":"<blockquote>\n<p>They both exist on the same stack and have a lifecycle together.</p>\n</blockquote>\n<p>No they don't.</p>\n<p>Here:</p>\n<pre><code>public class OhDearThatWasALieWasntIt {\n   void haha() throws Exception {\n     var supplier = incrementer(20);\n     Thread t = new Thread() {\n       public void run() {\n         supplier.get();\n       }\n     }\n   }\n}\n</code></pre>\n<p>There you go. They don't share a stack at all. Your <code>incrementer</code> local var needs to travel all the way from one thread to an entirely different one, in fact.</p>\n<p>The simple fact is, the compiler has no idea where that lambda is going to end up and who shall run it.</p>\n<blockquote>\n<p>Since the stack is allocated for each thread, there can be no concurrency issues.</p>\n</blockquote>\n<p>Baeldung oversimplified, perhaps. If a local var used in a lambda is <strong>not</strong> final, then there are only 2 options:</p>\n<p>[A] the lambda gets a clone and this is incredibly confusing.</p>\n<p>[B] the variable is hoisted into heap and we now allow <code>volatile</code> on local vars; the maxim that local vars cannot possibly be shared with other threads is left by the wayside, and concurrency issues abound.</p>\n<p>Let's see this in action:</p>\n<pre><code>void meanCode() {\n  int local = 100;\n  Runnable r = () -&gt; {\n    for (int i = 0; i &lt; 10; i++) { \n      System.out.println(local++);\n    }\n  };\n\n  Thread a = new Thread(r);\n  a.start();\n  Thread.sleep(5);\n  for (int i = 0; i &lt; 10; i++) { \n    System.out.println(local++);\n  }\n}\n</code></pre>\n<p>Either <code>local</code> is now a variable used in 2 places and thus the above code is a race condition, or, a clone is handed out, and both the Runnable and the for loop at the end of the above snippet get their own local copy of <code>local</code>, thus race-condition free, printing <code>100</code> through <code>109</code> in order, but both print runs arbitrarily interleaved (I guess there's a bit of race condition left). The fact that you secretly have 2 variables is incredibly confusing.</p>\n<p>Given that both options are utterly confusing, java instead just doesn't allow it at all. With (effectively) final variables, java gets to just give a copy to the lambda, thus neatly sidestepping any concurrency issues. It's also not confusing, as the variable is (effectively) final.</p>\n<h2>But there are no threads here!</h2>\n<p>Yeah you know that. How could the compiler possibly know that? The compiler (and runtime) work on single classes at a time. The compiler isn't going to 'treeshake' your entire project to painstakingly ensure that your code never ends up in a scenario where this stuff ends up in multiple threads. Even if somehow it did, perhaps later on someone recompiles half this code base, or just adds on a few more classes that now do.</p>\n"},{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1638169559,"creation_date":1638168871,"answer_id":70150760,"question_id":70149939,"body_markdown":"Capturing of the variable has absolutely nothing to do with the concurrent execution or its safety, the reason is completely different. \r\n\r\nBefore I answer your questions, let me first explain what is a lambda expression.\r\n\r\n# What is lambda expression\r\n\r\nWhen you use lambda expression, there are a few things happening, both during compilation and runtime, that are hidden from the developer. It&#39;s also worth nothing that lambda expression is part of the java language, it doesn&#39;t exist in the generated bytecode. \r\n\r\nI&#39;ll use following code as an example\r\n```java\r\npublic class GreeterFactory {\r\n\r\n\tprivate String header = &quot;Hello &quot;;\r\n\t\r\n\tpublic Function&lt;String, String&gt; createGreeter(int greeterId){\r\n\t\tFunction&lt;String, String&gt; greeter = username -&gt; {\r\n\t\t\treturn String.format(&quot;(%s) %s: %s&quot;, greeterId, header, username);\r\n\t\t};\r\n\t\t\r\n\t\treturn greeter;\r\n\t}\r\n}\r\n```\r\n\r\n## lamba expression is compiled into anonymous method\r\nWhen javac compiles java into bytecode, it&#39;ll convert your lambda&#39;s body into new method in the embedding class (that&#39;s why lambda expressions can be though of as anonymous methods).\r\n\r\nHere&#39;s what will be in the bytecode (decompiled with javap tool):\r\n```bytecode\r\nCompiled from &quot;GreeterFactory.java&quot;\r\npublic class various.GreeterFactory {\r\n  private java.lang.String header;\r\n  public various.GreeterFactory();\r\n  public java.util.function.Function&lt;java.lang.String, java.lang.String&gt; createGreeter(int);\r\n  private java.lang.String lambda$createGreeter$0(int, java.lang.String);\r\n}\r\n```\r\nAs you can see the `GreeterFactory` class not only has the `createGreeter` method that I&#39;ve written. It will also now have `lambda$createGreeter$0` method that was generated by the compiler. \r\n\r\nOne thing that you may notice here is that generated method has two parameters (int and String) even though in my lambda I declared only one parameter - String. The reason for this is because in the runtime this method will be called not only with the arguments that I pass (when I execute `apply` method form `Function` interface), but also all the &quot;captured&quot; values. Which gets us to point 2:\r\n\r\n## Lambda expression in runtime\r\nWe already know that lambda is converted into actual method, now the question is: what exactly am I getting as the result from the execution of that lamda expression (beside the fact that it&#39;s something implementing `Function` interface)? \r\n\r\nThe `Function&lt;String, String&gt; greeter` variable will actually point to an object that internally:\r\n * has reference to `this` `GreeterFactory` object (so that it can later call method on it)\r\n * holds all (used in the body of lambda expression) &quot;captured&quot; local variables (in my example: value of `greeterId`)\r\n * has reference to the generated `lambda$createGreeter$0` method\r\n\r\nYou can see it when you inspect that object in the debugger. Here&#39;s what you&#39;ll see:\r\n[![enter image description here][1]][1]\r\n\r\nNotice that `greeter` object has exactly those two values that I mentioned (reference to `this` `GreeterFactory` object and a value `23` that was copied from `greeterId`).\r\nThat&#39;s exactly what &quot;capturing&quot; means in case of lambda expression. \r\n\r\nLater when `apply` is executed on this object, it&#39;ll actually call `lambda$createGreeter$0` method on the `this` `GreeterFactory` object with all captured values + arguments that you pass into `apply` method.\r\n\r\n# Back to questions\r\nI hope I already explained above what &quot;capturing&quot; is and how it works.\r\nLet&#39;s get to point of final/effectively final.\r\n\r\n## Why captured variables must be effectively final.\r\ndisclaimer: I didn&#39;t find any official information about it, it&#39;s just my assumption, therefore: I may be wrong. \r\n\r\nNotice that lambdas exist only on java language level, not on bytecode.\r\nHaving explained how lambdas work (generation of new method) I think it would be technically possible to capture non-effectively-final variables as well.\r\n\r\nI think the reason why designers of lambda expression chose this way is rather focused on helping developers write a bug-free code.\r\n\r\nIf captured variables where non-effectively-final, meaning: they could be further modified outside of lambda as well as within lambda, that could lead to many confusion and misunderstandings from developers point of view, effectively leading to many bugs. I.e. devs could expect that changing variable&#39;s value within lambda should affect this variable in scope of outer method (that&#39;s because it&#39;s not visible in language that within body of lambda we are actually in scope of that newly generated method), or they could expect the opposite. In short: a total chaos.\r\n\r\nI think that&#39;s the reason behind such decision and that&#39;s why compiler and language enforce it, i.e. by treating lambda&#39;s scope and embedding method scope as one (even though in runtime those are different scopes). \r\n\r\nNotice that previously the same was true for variables captured by anonymous classes, therefore developers are already familiar with such approach. \r\n\r\nWhy lambda can freely modify fields in the object? Because it&#39;s just a method within the class of this object and as any other method, it has free access to all its members. It would be confusing to expect different behavior.\r\n\r\n  [1]: https://i.stack.imgur.com/ufg7Y.png","title":"Curious about lambda capture in Java","body":"<p>Capturing of the variable has absolutely nothing to do with the concurrent execution or its safety, the reason is completely different.</p>\n<p>Before I answer your questions, let me first explain what is a lambda expression.</p>\n<h1>What is lambda expression</h1>\n<p>When you use lambda expression, there are a few things happening, both during compilation and runtime, that are hidden from the developer. It's also worth nothing that lambda expression is part of the java language, it doesn't exist in the generated bytecode.</p>\n<p>I'll use following code as an example</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GreeterFactory {\n\n    private String header = &quot;Hello &quot;;\n    \n    public Function&lt;String, String&gt; createGreeter(int greeterId){\n        Function&lt;String, String&gt; greeter = username -&gt; {\n            return String.format(&quot;(%s) %s: %s&quot;, greeterId, header, username);\n        };\n        \n        return greeter;\n    }\n}\n</code></pre>\n<h2>lamba expression is compiled into anonymous method</h2>\n<p>When javac compiles java into bytecode, it'll convert your lambda's body into new method in the embedding class (that's why lambda expressions can be though of as anonymous methods).</p>\n<p>Here's what will be in the bytecode (decompiled with javap tool):</p>\n<pre><code>Compiled from &quot;GreeterFactory.java&quot;\npublic class various.GreeterFactory {\n  private java.lang.String header;\n  public various.GreeterFactory();\n  public java.util.function.Function&lt;java.lang.String, java.lang.String&gt; createGreeter(int);\n  private java.lang.String lambda$createGreeter$0(int, java.lang.String);\n}\n</code></pre>\n<p>As you can see the <code>GreeterFactory</code> class not only has the <code>createGreeter</code> method that I've written. It will also now have <code>lambda$createGreeter$0</code> method that was generated by the compiler.</p>\n<p>One thing that you may notice here is that generated method has two parameters (int and String) even though in my lambda I declared only one parameter - String. The reason for this is because in the runtime this method will be called not only with the arguments that I pass (when I execute <code>apply</code> method form <code>Function</code> interface), but also all the &quot;captured&quot; values. Which gets us to point 2:</p>\n<h2>Lambda expression in runtime</h2>\n<p>We already know that lambda is converted into actual method, now the question is: what exactly am I getting as the result from the execution of that lamda expression (beside the fact that it's something implementing <code>Function</code> interface)?</p>\n<p>The <code>Function&lt;String, String&gt; greeter</code> variable will actually point to an object that internally:</p>\n<ul>\n<li>has reference to <code>this</code> <code>GreeterFactory</code> object (so that it can later call method on it)</li>\n<li>holds all (used in the body of lambda expression) &quot;captured&quot; local variables (in my example: value of <code>greeterId</code>)</li>\n<li>has reference to the generated <code>lambda$createGreeter$0</code> method</li>\n</ul>\n<p>You can see it when you inspect that object in the debugger. Here's what you'll see:\n<a href=\"https://i.stack.imgur.com/ufg7Y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ufg7Y.png\" alt=\"enter image description here\" /></a></p>\n<p>Notice that <code>greeter</code> object has exactly those two values that I mentioned (reference to <code>this</code> <code>GreeterFactory</code> object and a value <code>23</code> that was copied from <code>greeterId</code>).\nThat's exactly what &quot;capturing&quot; means in case of lambda expression.</p>\n<p>Later when <code>apply</code> is executed on this object, it'll actually call <code>lambda$createGreeter$0</code> method on the <code>this</code> <code>GreeterFactory</code> object with all captured values + arguments that you pass into <code>apply</code> method.</p>\n<h1>Back to questions</h1>\n<p>I hope I already explained above what &quot;capturing&quot; is and how it works.\nLet's get to point of final/effectively final.</p>\n<h2>Why captured variables must be effectively final.</h2>\n<p>disclaimer: I didn't find any official information about it, it's just my assumption, therefore: I may be wrong.</p>\n<p>Notice that lambdas exist only on java language level, not on bytecode.\nHaving explained how lambdas work (generation of new method) I think it would be technically possible to capture non-effectively-final variables as well.</p>\n<p>I think the reason why designers of lambda expression chose this way is rather focused on helping developers write a bug-free code.</p>\n<p>If captured variables where non-effectively-final, meaning: they could be further modified outside of lambda as well as within lambda, that could lead to many confusion and misunderstandings from developers point of view, effectively leading to many bugs. I.e. devs could expect that changing variable's value within lambda should affect this variable in scope of outer method (that's because it's not visible in language that within body of lambda we are actually in scope of that newly generated method), or they could expect the opposite. In short: a total chaos.</p>\n<p>I think that's the reason behind such decision and that's why compiler and language enforce it, i.e. by treating lambda's scope and embedding method scope as one (even though in runtime those are different scopes).</p>\n<p>Notice that previously the same was true for variables captured by anonymous classes, therefore developers are already familiar with such approach.</p>\n<p>Why lambda can freely modify fields in the object? Because it's just a method within the class of this object and as any other method, it has free access to all its members. It would be confusing to expect different behavior.</p>\n"}],"owner":{"account_id":21710238,"reputation":77,"user_id":16021958,"display_name":"paiwmsn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70150760,"answer_count":2,"score":1,"last_activity_date":1638169559,"creation_date":1638162016,"question_id":70149939,"body_markdown":"I read https://www.baeldung.com/java-lambda-effectively-final-local-variables and many articles(stackoverflow) However, there are many unanswered questions.\r\n \r\n1. I don&#39;t know why you do capture (copy value) in lambda.\r\nThe following code is part of the code from the link I attached.\r\n\r\n``` java\r\nSupplier&lt;Integer&gt; incrementer(int start) {\r\n  return () -&gt; start++;\r\n}\r\n// start is a local variable, and we are trying to modify it inside of a lambda expression.\r\n\r\n```\r\nthey says\r\n&gt; Well, notice that we are returning the lambda from our method. Thus, the lambda won&#39;t get run until after the start method parameter gets garbage collected. Java has to make a copy of start in order for this lambda to live outside of this method.\r\n\r\n`start` variable&#39;s life cycle is `incrementer().` They both exist on the same stack and have a lifecycle together. But I don&#39;t understand why it says GC and it doesn&#39;t run.\r\n\r\n\r\n2. why only local variable must final or effective final? they(baeldung) say It because `Concurrency Issues`.\r\n\r\nSince the stack is allocated for each thread, there can be no concurrency issues. Rather, why do local variables need to be final when static member variables can cause concurrency problems?\r\n\r\n","title":"Curious about lambda capture in Java","body":"<p>I read <a href=\"https://www.baeldung.com/java-lambda-effectively-final-local-variables\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-lambda-effectively-final-local-variables</a> and many articles(stackoverflow) However, there are many unanswered questions.</p>\n<ol>\n<li>I don't know why you do capture (copy value) in lambda.\nThe following code is part of the code from the link I attached.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Supplier&lt;Integer&gt; incrementer(int start) {\n  return () -&gt; start++;\n}\n// start is a local variable, and we are trying to modify it inside of a lambda expression.\n\n</code></pre>\n<p>they says</p>\n<blockquote>\n<p>Well, notice that we are returning the lambda from our method. Thus, the lambda won't get run until after the start method parameter gets garbage collected. Java has to make a copy of start in order for this lambda to live outside of this method.</p>\n</blockquote>\n<p><code>start</code> variable's life cycle is <code>incrementer().</code> They both exist on the same stack and have a lifecycle together. But I don't understand why it says GC and it doesn't run.</p>\n<ol start=\"2\">\n<li>why only local variable must final or effective final? they(baeldung) say It because <code>Concurrency Issues</code>.</li>\n</ol>\n<p>Since the stack is allocated for each thread, there can be no concurrency issues. Rather, why do local variables need to be final when static member variables can cause concurrency problems?</p>\n"},{"tags":["java","ffmpeg","video-streaming","http-live-streaming","shaka"],"owner":{"account_id":3547973,"reputation":1492,"user_id":2963436,"accept_rate":40,"display_name":"Maayan Hope"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638169455,"creation_date":1638169455,"question_id":70150826,"body_markdown":"We need to get video file/data as a stream from the user or from a caller to our API and while processing it we need to generate live stream using HLS\r\n\r\nFFMPEG support creating live stream in HLS format with the following command\r\n\r\n  \r\n\r\n     String cmd[] = new String[]{\r\n                    &quot;ffmpeg&quot;,\r\n                    &quot;-re&quot;,\r\n                    &quot;-i&quot;, src,\r\n                    &quot;-c:v:0&quot;, &quot;copy&quot;,\r\n                    &quot;-b:v:1&quot;, &quot;512k&quot;,\r\n                    &quot;-b:a:0&quot;, &quot;64k&quot;,\r\n                    &quot;-b:a:1&quot;, &quot;32k&quot;,\r\n                    &quot;-map&quot;, &quot;0:v&quot;,\r\n                    &quot;-map&quot;, &quot;0:a&quot;,\r\n                    &quot;-map&quot;, &quot;0:v&quot;,\r\n                    &quot;-map&quot;, &quot;0:a&quot;,\r\n                    &quot;-f&quot;, &quot;hls&quot;,\r\n                    &quot;-var_stream_map&quot;, &quot;v:0,a:0 v:1,a:1&quot;,\r\n                    &quot;-hls_time&quot;, &quot;5&quot;,\r\n                    &quot;-hls_segment_filename&quot;, folder+&quot;/stream_%v/data%02d.ts&quot;,\r\n                    &quot;-hls_list_size&quot;, &quot;5&quot;,\r\n                    &quot;-hls_delete_threshold&quot;, &quot;2&quot;,\r\n                    &quot;-hls_flags&quot;, &quot;delete_segments&quot;,\r\n                    &quot;-master_pl_name&quot;, &quot;playlist.m3u8&quot;,\r\n                    folder+&quot;/stream_%v/sub-playlist.m3u8&quot;};\r\n      \r\n\r\nwhere the source can be \r\n\r\n1. A file on disk  /path/file.mp4\r\n2. A UDP url  udp://localhost:port\r\n\r\n\r\nWe are getting the bytes that we need to encode in a function like this:\r\n\r\n    handleFileStream(HttpServletRequest request)\r\n\r\n\r\nand then we can loop the input stream and send it to FFMPEG using UDP \r\n\r\n\r\n    ServletInputStream inputStream = request.getInputStream();\r\n    byte[] buffer = new byte[8 * 1024];\r\n    int bytesRead;\r\n     while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n         DatagramPacket packet = new DatagramPacket(buffer, bytesRead, address, udpCurPort);\r\n         socket.send(packet);               \r\n     }\r\n\r\n\r\n\r\nbut this method has 2 problems that we can see\r\n\r\n1. we need to communicate with FFMPEG with udp and we need a new port for each conversion and we assume that we will have multiple conversions running simultaneously\r\n\r\n2. we see that ffmpeg creates the HLS play list only at the end of the stream , and we what the stream to be created during the stream process\r\n\r\n\r\nIs there a better way to pass streaming bytes to FFMPEG?\r\n\r\nWe are running inside a java environment and we launch FFMPEG like this:\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    Process pr = rt.exec(cmd);\r\n\r\n","title":"FFMPEG - how to stream video directly to HLS","body":"<p>We need to get video file/data as a stream from the user or from a caller to our API and while processing it we need to generate live stream using HLS</p>\n<p>FFMPEG support creating live stream in HLS format with the following command</p>\n<pre><code> String cmd[] = new String[]{\n                &quot;ffmpeg&quot;,\n                &quot;-re&quot;,\n                &quot;-i&quot;, src,\n                &quot;-c:v:0&quot;, &quot;copy&quot;,\n                &quot;-b:v:1&quot;, &quot;512k&quot;,\n                &quot;-b:a:0&quot;, &quot;64k&quot;,\n                &quot;-b:a:1&quot;, &quot;32k&quot;,\n                &quot;-map&quot;, &quot;0:v&quot;,\n                &quot;-map&quot;, &quot;0:a&quot;,\n                &quot;-map&quot;, &quot;0:v&quot;,\n                &quot;-map&quot;, &quot;0:a&quot;,\n                &quot;-f&quot;, &quot;hls&quot;,\n                &quot;-var_stream_map&quot;, &quot;v:0,a:0 v:1,a:1&quot;,\n                &quot;-hls_time&quot;, &quot;5&quot;,\n                &quot;-hls_segment_filename&quot;, folder+&quot;/stream_%v/data%02d.ts&quot;,\n                &quot;-hls_list_size&quot;, &quot;5&quot;,\n                &quot;-hls_delete_threshold&quot;, &quot;2&quot;,\n                &quot;-hls_flags&quot;, &quot;delete_segments&quot;,\n                &quot;-master_pl_name&quot;, &quot;playlist.m3u8&quot;,\n                folder+&quot;/stream_%v/sub-playlist.m3u8&quot;};\n  \n</code></pre>\n<p>where the source can be</p>\n<ol>\n<li>A file on disk  /path/file.mp4</li>\n<li>A UDP url  udp://localhost:port</li>\n</ol>\n<p>We are getting the bytes that we need to encode in a function like this:</p>\n<pre><code>handleFileStream(HttpServletRequest request)\n</code></pre>\n<p>and then we can loop the input stream and send it to FFMPEG using UDP</p>\n<pre><code>ServletInputStream inputStream = request.getInputStream();\nbyte[] buffer = new byte[8 * 1024];\nint bytesRead;\n while ((bytesRead = inputStream.read(buffer)) != -1) {\n     DatagramPacket packet = new DatagramPacket(buffer, bytesRead, address, udpCurPort);\n     socket.send(packet);               \n }\n</code></pre>\n<p>but this method has 2 problems that we can see</p>\n<ol>\n<li><p>we need to communicate with FFMPEG with udp and we need a new port for each conversion and we assume that we will have multiple conversions running simultaneously</p>\n</li>\n<li><p>we see that ffmpeg creates the HLS play list only at the end of the stream , and we what the stream to be created during the stream process</p>\n</li>\n</ol>\n<p>Is there a better way to pass streaming bytes to FFMPEG?</p>\n<p>We are running inside a java environment and we launch FFMPEG like this:</p>\n<pre><code>Runtime rt = Runtime.getRuntime();\nProcess pr = rt.exec(cmd);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":15284776,"reputation":401,"user_id":11028099,"display_name":"Luis I&#241;esta"},"score":0,"creation_date":1593529467,"post_id":62660406,"comment_id":110810466,"body_markdown":"Is your interface annotated with @Repository ?","body":"Is your interface annotated with @Repository ?"},{"owner":{"account_id":1992813,"reputation":1423,"user_id":1786442,"accept_rate":50,"display_name":"hopsey"},"score":0,"creation_date":1593529558,"post_id":62660406,"comment_id":110810521,"body_markdown":"@LuisI&#241;esta I added it now with no effect","body":"@LuisI&#241;esta I added it now with no effect"},{"owner":{"account_id":17213890,"reputation":1600,"user_id":12462444,"display_name":"andreoss"},"score":0,"creation_date":1593529675,"post_id":62660406,"comment_id":110810597,"body_markdown":"Do you have `@ComponentScan` or `@EnableAutoconfiguration` somewhere? Try adding `@Import(Reports.class)` on top of `ReportsService`","body":"Do you have <code>@ComponentScan</code> or <code>@EnableAutoconfiguration</code> somewhere? Try adding <code>@Import(Reports.class)</code> on top of <code>ReportsService</code>"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1593529768,"post_id":62660406,"comment_id":110810647,"body_markdown":"That annotation is not required for Spring Data interfaces. The problem is _most likely_ that you have several Spring Data implementations included in your project and thus will need to specify a repository base type (such as `JpaRepository`). I doubt you need all the dependencies and can remove MongoDB and JDBC.","body":"That annotation is not required for Spring Data interfaces. The problem is <i>most likely</i> that you have several Spring Data implementations included in your project and thus will need to specify a repository base type (such as <code>JpaRepository</code>). I doubt you need all the dependencies and can remove MongoDB and JDBC."},{"owner":{"account_id":1992813,"reputation":1423,"user_id":1786442,"accept_rate":50,"display_name":"hopsey"},"score":0,"creation_date":1593530783,"post_id":62660406,"comment_id":110811194,"body_markdown":"@chrylis-cautiouslyoptimistic- that&#39;s most likely the reason. What if I need postgresql (`spring-boot-starter-data-jpa`) and mongodb together?","body":"@chrylis-cautiouslyoptimistic- that&#39;s most likely the reason. What if I need postgresql (<code>spring-boot-starter-data-jpa</code>) and mongodb together?"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1593531868,"post_id":62660406,"comment_id":110811742,"body_markdown":"If that&#39;s the case, then you simply have to be specific and extend `JpaRepository` and `MongoRepository` instead of being general and extending `CrudRepository`.","body":"If that&#39;s the case, then you simply have to be specific and extend <code>JpaRepository</code> and <code>MongoRepository</code> instead of being general and extending <code>CrudRepository</code>."},{"owner":{"account_id":1992813,"reputation":1423,"user_id":1786442,"accept_rate":50,"display_name":"hopsey"},"score":0,"creation_date":1593532370,"post_id":62660406,"comment_id":110812019,"body_markdown":"Yes, but I still need `spring-boot-starter-data-jpa` and `spring-data-mongodb` to include together, and apparently these two dependencies are causing the problem.","body":"Yes, but I still need <code>spring-boot-starter-data-jpa</code> and <code>spring-data-mongodb</code> to include together, and apparently these two dependencies are causing the problem."},{"owner":{"account_id":1992813,"reputation":1423,"user_id":1786442,"accept_rate":50,"display_name":"hopsey"},"score":0,"creation_date":1593533481,"post_id":62660406,"comment_id":110812620,"body_markdown":"Also, adding `@EnableMongoRepositories` and `@EnableJpaRepositories` didnt help, I&#39;m getting `Parameter 0 of constructor ReportsService required a bean named &#39;entityManagerFactory&#39; that could not be found`","body":"Also, adding <code>@EnableMongoRepositories</code> and <code>@EnableJpaRepositories</code> didnt help, I&#39;m getting <code>Parameter 0 of constructor ReportsService required a bean named &#39;entityManagerFactory&#39; that could not be found</code>"}],"answers":[{"tags":[],"owner":{"account_id":1992813,"reputation":1423,"user_id":1786442,"accept_rate":50,"display_name":"hopsey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593603551,"creation_date":1593598956,"answer_id":62674698,"question_id":62660406,"body_markdown":"OK, so the solution was to get rid of `org.springframework.data:spring-data-mongodb` and use something different instead, in my case I used mongodb Morphia.","title":"CrudRepository interface - bean not found","body":"<p>OK, so the solution was to get rid of <code>org.springframework.data:spring-data-mongodb</code> and use something different instead, in my case I used mongodb Morphia.</p>\n"}],"owner":{"account_id":1992813,"reputation":1423,"user_id":1786442,"accept_rate":50,"display_name":"hopsey"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638169236,"creation_date":1593529182,"question_id":62660406,"body_markdown":"I&#39;m using CrudRepository like this\r\n\r\n```\r\n@Repository\r\npublic interface Reports extends CrudRepository&lt;Report, UUID&gt; {\r\n\r\n}\r\n```\r\n\r\nwhen I&#39;m trying to inject `Reports` repository to service like this\r\n```\r\n@Component\r\n@AllArgsConstructor\r\nclass ReportsService {\r\n\r\n    private final Reports reports;\r\n\r\n// ...\r\n}\r\n```\r\nI&#39;m getting\r\n```\r\nParameter 0 of constructor in ReportsService required a bean of type &#39;Reports&#39; that could not be found.\r\nConsider defining a bean of type Reports in your configuration.\r\n```\r\nmy gradle dependencies file looks like this\r\n```\r\n    implementation(\r\n            &#39;org.flywaydb:flyway-core&#39;,\r\n            &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;,\r\n            &#39;com.vladmihalcea:hibernate-types-52:2.3.3&#39;,\r\n            &#39;org.springframework.boot:spring-boot-starter&#39;,\r\n            &#39;org.springframework.boot:spring-boot-starter-web&#39;,\r\n            &#39;com.google.code.gson:gson:2.8.5&#39;,\r\n            &#39;com.opencsv:opencsv:4.1&#39;,\r\n            &#39;org.springframework.data:spring-data-mongodb&#39;,\r\n            &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n    )\r\n```\r\nwhat could be configured wrong?","title":"CrudRepository interface - bean not found","body":"<p>I'm using CrudRepository like this</p>\n<pre><code>@Repository\npublic interface Reports extends CrudRepository&lt;Report, UUID&gt; {\n\n}\n</code></pre>\n<p>when I'm trying to inject <code>Reports</code> repository to service like this</p>\n<pre><code>@Component\n@AllArgsConstructor\nclass ReportsService {\n\n    private final Reports reports;\n\n// ...\n}\n</code></pre>\n<p>I'm getting</p>\n<pre><code>Parameter 0 of constructor in ReportsService required a bean of type 'Reports' that could not be found.\nConsider defining a bean of type Reports in your configuration.\n</code></pre>\n<p>my gradle dependencies file looks like this</p>\n<pre><code>    implementation(\n            'org.flywaydb:flyway-core',\n            'org.springframework.boot:spring-boot-starter-data-jpa',\n            'com.vladmihalcea:hibernate-types-52:2.3.3',\n            'org.springframework.boot:spring-boot-starter',\n            'org.springframework.boot:spring-boot-starter-web',\n            'com.google.code.gson:gson:2.8.5',\n            'com.opencsv:opencsv:4.1',\n            'org.springframework.data:spring-data-mongodb',\n            'org.springframework.boot:spring-boot-starter-data-jdbc'\n    )\n</code></pre>\n<p>what could be configured wrong?</p>\n"},{"tags":["java","spring-boot","spring-data-mongodb","query-by-example"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":1,"creation_date":1597298600,"post_id":63388842,"comment_id":112087836,"body_markdown":"Are you sure example matcher and findBy works together?","body":"Are you sure example matcher and findBy works together?"}],"answers":[{"tags":[],"owner":{"account_id":10361922,"reputation":103,"user_id":7642147,"display_name":"Mallikarjun Vishwanath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597389405,"creation_date":1597389405,"answer_id":63408234,"question_id":63388842,"body_markdown":"Finally found answer.\r\nfindBy and Example Executor doesn&#39;t work together.\r\n\r\nBy setting the child object filter and query by Example Executor as shown below.\r\n\r\n    public Page&lt;Student&gt; getStudentsPage(Student student, Pageable pageable) {\r\n            logger.debug(&quot;Getting Students : {}, {}&quot;, student, pageable);\r\n            //gets organization Id of the student from the session\r\n            String organizationId = userService.getUserMe().getOrganization().getId(); \r\n            student.setOrganization(new Organization(organizationId));\r\n            Page&lt;Student&gt; studentPage = studentRepository.findAll(Example.of(student), pageable);\r\n            \r\n            logger.debug(&quot;Students: {}&quot;, studentPage.getContent());\r\n            return studentPage;\r\n        }    \r\n\r\n   \r\n   \r\nThis works as expected!!\r\n\r\nThanks!!","title":"Spring data mongoDB : Find all by child object id with Example Executor and Pageable","body":"<p>Finally found answer.\nfindBy and Example Executor doesn't work together.</p>\n<p>By setting the child object filter and query by Example Executor as shown below.</p>\n<pre><code>public Page&lt;Student&gt; getStudentsPage(Student student, Pageable pageable) {\n        logger.debug(&quot;Getting Students : {}, {}&quot;, student, pageable);\n        //gets organization Id of the student from the session\n        String organizationId = userService.getUserMe().getOrganization().getId(); \n        student.setOrganization(new Organization(organizationId));\n        Page&lt;Student&gt; studentPage = studentRepository.findAll(Example.of(student), pageable);\n        \n        logger.debug(&quot;Students: {}&quot;, studentPage.getContent());\n        return studentPage;\n    }    \n</code></pre>\n<p>This works as expected!!</p>\n<p>Thanks!!</p>\n"}],"owner":{"account_id":10361922,"reputation":103,"user_id":7642147,"display_name":"Mallikarjun Vishwanath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2815,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63408234,"answer_count":1,"score":1,"last_activity_date":1638169120,"creation_date":1597297587,"question_id":63388842,"body_markdown":"I am facing issue in querying repository with find all by child object ID, Example and Pageable.\r\n \r\nStudentController.java\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/students&quot;)\r\n    public class StudentController {\r\n        @Autowired\r\n        private StudentService studentService;\r\n        \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public Page&lt;Student&gt; getStudentsPage(\r\n                @PageableDefault(page = 0, size = 10) @SortDefault.SortDefaults({\r\n                        @SortDefault(sort = &quot;id&quot;, direction = Direction.DESC) }) Pageable pageable,\r\n                Student student) {\r\n            return studentService.getStudentPage(student, pageable);\r\n        } \r\n    }\r\n\r\n\r\nStudentService.java\r\n\r\n    @Service\r\n    public class StudentService {\r\n        private static final Logger logger = LoggerFactory.getLogger(StudentService.class);    \r\n        @Autowired\r\n        private UserService userService;\r\n        \r\n        @Autowired\r\n        private StudentRepository studentRepository;\r\n        \r\n        public Page&lt;Student&gt; getStudentsPage(Student student, Pageable pageable) {\r\n            logger.debug(&quot;Getting Students : {}, {}&quot;, student, pageable);\r\n            //gets organization Id of the student from the session\r\n            String organizationId = userService.getUserMe().getOrganization().getId(); \r\n            Page&lt;Student&gt; studentPage = studentRepository.findAllByOrganizationId(organizationId, Example.of(student), pageable);\r\n            \r\n            logger.debug(&quot;Students: {}&quot;, studentPage.getContent());\r\n            return studentPage;\r\n        }\r\n    }\r\n\r\nStudentRepository.java\r\n\r\n    @Repository\r\n    public interface StudentRepository extends MongoRepository&lt;Student, String&gt; {    \r\n        Page&lt;Student&gt; findAllByOrganizationId(String organizationId, Example&lt;Student&gt; example, Pageable pageable);\r\n        \r\n    }\r\n\r\nStudent.java\r\n\r\n    @Document(collection = &quot;students&quot;)\r\n    public class Student {\r\n        @Id\r\n        private String       id;\r\n        private String       firstName;\r\n        private String       lastName;\r\n        @DBRef(db = &quot;organizations&quot;)\r\n        private Organization organization;\r\n        \r\n        public String getId() {\r\n            return id;\r\n        }\r\n        \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n        \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n        \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n        \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n        \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n        \r\n        public Organization getOrganization() {\r\n            return organization;\r\n        }\r\n        \r\n        public void setOrganization(Organization organization) {\r\n            this.organization = organization;\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Student [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, organization=&quot;\r\n                   + organization + &quot;]&quot;;\r\n        }\r\n        \r\n    }\r\n\r\nOrganization.java\r\n\r\n    @Document(collection = &quot;organizations&quot;)\r\n    public class Organization {\r\n        @Id\r\n        private String id;\r\n        private String name;\r\n        \r\n        public String getId() {\r\n            return id;\r\n        }\r\n        \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n        \r\n        public String getName() {\r\n            return name;\r\n        }\r\n        \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Organization [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n        }\r\n        \r\n    }\r\n\r\nThe GET API request:\r\nhttp://localhost:8080/students?page=0&amp;size=10&amp;sort=id,desc&amp;lastName=xyz\r\n\r\nthe repository method \r\nPage&lt;Student&gt; findAllByOrganizationId(String organizationId, Example&lt;Student&gt; example, Pageable pageable);\r\nshould return all the records with matching organizationId and lastName=xyz, But it returns the records that match with the organization Id along with all the students irrespective of the lastName.\r\n\r\nIs something wrong with the code?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring data mongoDB : Find all by child object id with Example Executor and Pageable","body":"<p>I am facing issue in querying repository with find all by child object ID, Example and Pageable.</p>\n<p>StudentController.java</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/students&quot;)\npublic class StudentController {\n    @Autowired\n    private StudentService studentService;\n    \n    @RequestMapping(method = RequestMethod.GET)\n    public Page&lt;Student&gt; getStudentsPage(\n            @PageableDefault(page = 0, size = 10) @SortDefault.SortDefaults({\n                    @SortDefault(sort = &quot;id&quot;, direction = Direction.DESC) }) Pageable pageable,\n            Student student) {\n        return studentService.getStudentPage(student, pageable);\n    } \n}\n</code></pre>\n<p>StudentService.java</p>\n<pre><code>@Service\npublic class StudentService {\n    private static final Logger logger = LoggerFactory.getLogger(StudentService.class);    \n    @Autowired\n    private UserService userService;\n    \n    @Autowired\n    private StudentRepository studentRepository;\n    \n    public Page&lt;Student&gt; getStudentsPage(Student student, Pageable pageable) {\n        logger.debug(&quot;Getting Students : {}, {}&quot;, student, pageable);\n        //gets organization Id of the student from the session\n        String organizationId = userService.getUserMe().getOrganization().getId(); \n        Page&lt;Student&gt; studentPage = studentRepository.findAllByOrganizationId(organizationId, Example.of(student), pageable);\n        \n        logger.debug(&quot;Students: {}&quot;, studentPage.getContent());\n        return studentPage;\n    }\n}\n</code></pre>\n<p>StudentRepository.java</p>\n<pre><code>@Repository\npublic interface StudentRepository extends MongoRepository&lt;Student, String&gt; {    \n    Page&lt;Student&gt; findAllByOrganizationId(String organizationId, Example&lt;Student&gt; example, Pageable pageable);\n    \n}\n</code></pre>\n<p>Student.java</p>\n<pre><code>@Document(collection = &quot;students&quot;)\npublic class Student {\n    @Id\n    private String       id;\n    private String       firstName;\n    private String       lastName;\n    @DBRef(db = &quot;organizations&quot;)\n    private Organization organization;\n    \n    public String getId() {\n        return id;\n    }\n    \n    public void setId(String id) {\n        this.id = id;\n    }\n    \n    public String getFirstName() {\n        return firstName;\n    }\n    \n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    \n    public String getLastName() {\n        return lastName;\n    }\n    \n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    \n    public Organization getOrganization() {\n        return organization;\n    }\n    \n    public void setOrganization(Organization organization) {\n        this.organization = organization;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Student [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, organization=&quot;\n               + organization + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>Organization.java</p>\n<pre><code>@Document(collection = &quot;organizations&quot;)\npublic class Organization {\n    @Id\n    private String id;\n    private String name;\n    \n    public String getId() {\n        return id;\n    }\n    \n    public void setId(String id) {\n        this.id = id;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Organization [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>The GET API request:\nhttp://localhost:8080/students?page=0&amp;size=10&amp;sort=id,desc&amp;lastName=xyz</p>\n<p>the repository method\nPage findAllByOrganizationId(String organizationId, Example example, Pageable pageable);\nshould return all the records with matching organizationId and lastName=xyz, But it returns the records that match with the organization Id along with all the students irrespective of the lastName.</p>\n<p>Is something wrong with the code?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":17831455,"reputation":31,"user_id":12951353,"display_name":"Akshay Som"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601443071,"creation_date":1601443071,"answer_id":64131333,"question_id":64119915,"body_markdown":"Specifying db name in end of string and removing &quot;`authSource`&quot; will solved the problem.\r\nAlso specifying &quot;`authSource=targetDBname`&quot; seems to be working.\r\nexample for working connection string \r\n\r\n    String conString = &quot;mongodb://&quot; + username + &quot;:&quot; + password + &quot;@&quot; + host + &quot;:&quot; + port+&quot;/dbName&quot;;\r\n\r\nReplace `dbName` with name of db in which the user has access to.","title":"Spring data-MongoDb Manual configuration","body":"<p>Specifying db name in end of string and removing &quot;<code>authSource</code>&quot; will solved the problem.\nAlso specifying &quot;<code>authSource=targetDBname</code>&quot; seems to be working.\nexample for working connection string</p>\n<pre><code>String conString = &quot;mongodb://&quot; + username + &quot;:&quot; + password + &quot;@&quot; + host + &quot;:&quot; + port+&quot;/dbName&quot;;\n</code></pre>\n<p>Replace <code>dbName</code> with name of db in which the user has access to.</p>\n"}],"owner":{"account_id":17831455,"reputation":31,"user_id":12951353,"display_name":"Akshay Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4871,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638168767,"creation_date":1601383472,"question_id":64119915,"body_markdown":"\r\nWhat I finally want to achieve is, connect to mongo db from java class, this configuration should be applicable to both MongoTemplate and MongoRepository\r\n\r\nspring boot provides configuration of mongodb directly via application.properties file by below properties\r\n\r\n    spring.data.mongodb.database=delivery\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.password=delivery-user\r\n    spring.data.mongodb.username=delivery-user\r\n\r\nInstead of this way , I need to connect to db with java class itself,\r\nThis is because I need to make the password encrypted in properties file and then decrypt from java class\r\nfrom my understanding I have tried creating a class below\r\n\r\n    @Configuration\r\n    public class MongoConfig extends AbstractMongoClientConfiguration {\r\n    \r\n        @Override\r\n        public MongoClient mongoClient() {\r\n            String username = &quot;delivery-user&quot;;\r\n            String password = &quot;delivery-user&quot;;\r\n            String port = &quot;27017&quot;;\r\n            String host = &quot;localhost&quot;;\r\n            String db = &quot;salesdata&quot;;\r\n    //have also tried by passing db name in conString\r\n            String conString = &quot;mongodb://&quot; + username + &quot;:&quot; + password + &quot;@&quot; + host + &quot;:&quot; + port+&quot;/?authSource=admin&quot; ;\r\n            MongoClient mClient = MongoClients.create(conString);\r\n            return mClient;\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected String getDatabaseName() {\r\n            return &quot;delivery&quot;;\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        public MongoTemplate mongoTemplate() {\r\n            MongoTemplate mt = new MongoTemplate(mongoClient(), getDatabaseName());\r\n            return mt;\r\n        }\r\n    }\r\n\r\nIm getting this error when running this application\r\n\r\n     Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;delivery-user&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties={}}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;delivery-user&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties={}}\r\n\r\nThe username and password is correct, also user has access to &quot;delivery&quot; db","title":"Spring data-MongoDb Manual configuration","body":"<p>What I finally want to achieve is, connect to mongo db from java class, this configuration should be applicable to both MongoTemplate and MongoRepository</p>\n<p>spring boot provides configuration of mongodb directly via application.properties file by below properties</p>\n<pre><code>spring.data.mongodb.database=delivery\nspring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.password=delivery-user\nspring.data.mongodb.username=delivery-user\n</code></pre>\n<p>Instead of this way , I need to connect to db with java class itself,\nThis is because I need to make the password encrypted in properties file and then decrypt from java class\nfrom my understanding I have tried creating a class below</p>\n<pre><code>@Configuration\npublic class MongoConfig extends AbstractMongoClientConfiguration {\n\n    @Override\n    public MongoClient mongoClient() {\n        String username = &quot;delivery-user&quot;;\n        String password = &quot;delivery-user&quot;;\n        String port = &quot;27017&quot;;\n        String host = &quot;localhost&quot;;\n        String db = &quot;salesdata&quot;;\n//have also tried by passing db name in conString\n        String conString = &quot;mongodb://&quot; + username + &quot;:&quot; + password + &quot;@&quot; + host + &quot;:&quot; + port+&quot;/?authSource=admin&quot; ;\n        MongoClient mClient = MongoClients.create(conString);\n        return mClient;\n\n    }\n\n    @Override\n    protected String getDatabaseName() {\n        return &quot;delivery&quot;;\n    }\n\n    @Bean\n    @Override\n    public MongoTemplate mongoTemplate() {\n        MongoTemplate mt = new MongoTemplate(mongoClient(), getDatabaseName());\n        return mt;\n    }\n}\n</code></pre>\n<p>Im getting this error when running this application</p>\n<pre><code> Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='delivery-user', source='admin', password=&lt;hidden&gt;, mechanismProperties={}}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='delivery-user', source='admin', password=&lt;hidden&gt;, mechanismProperties={}}\n</code></pre>\n<p>The username and password is correct, also user has access to &quot;delivery&quot; db</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1520862478,"post_id":49236707,"comment_id":85476753,"body_markdown":"[that link about migration](https://spring.io/blog/2017/11/01/spring-security-5-0-0-rc1-released#migrating-to-spring-security-5) starts with &quot;If you are not using an explicit PasswordEncoder or were relying on the old core PasswordEncoder you will need to migrate.&quot; - and you had explicit passwordencoder, so wouldn&#39;t that mean you don&#39;t need to migrate? So this seems essentially the same question you already had, not a new one","body":"<a href=\"https://spring.io/blog/2017/11/01/spring-security-5-0-0-rc1-released#migrating-to-spring-security-5\" rel=\"nofollow noreferrer\">that link about migration</a> starts with &quot;If you are not using an explicit PasswordEncoder or were relying on the old core PasswordEncoder you will need to migrate.&quot; - and you had explicit passwordencoder, so wouldn&#39;t that mean you don&#39;t need to migrate? So this seems essentially the same question you already had, not a new one"},{"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"score":0,"creation_date":1520862815,"post_id":49236707,"comment_id":85476990,"body_markdown":"I agree that, in a sense, I should not have to migrate, but I am also trying to look forward (the app is not currently in production so I figured it might be to good to start with Security 5) However, the above changes (to the PasswordEncoder bean), to my understanding should have alleviated the issues anyway. That is, it is encoding it according to the new format and and should thus be able to decode it appropriately. Thanks.","body":"I agree that, in a sense, I should not have to migrate, but I am also trying to look forward (the app is not currently in production so I figured it might be to good to start with Security 5) However, the above changes (to the PasswordEncoder bean), to my understanding should have alleviated the issues anyway. That is, it is encoding it according to the new format and and should thus be able to decode it appropriately. Thanks."},{"owner":{"account_id":4771027,"reputation":1749,"user_id":3855773,"accept_rate":22,"display_name":"Jimmy"},"score":0,"creation_date":1522850447,"post_id":49236707,"comment_id":86314488,"body_markdown":"Hi, did you figure out this issue? I am getting similar error if id null. I am following the same coding pattern you have described. Thanks","body":"Hi, did you figure out this issue? I am getting similar error if id null. I am following the same coding pattern you have described. Thanks"},{"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"score":0,"creation_date":1522882648,"post_id":49236707,"comment_id":86333192,"body_markdown":"@James I do not have the code in front of me at the moment, but I believe it had to do with the client (&quot;secret&quot; in the example), rather than the user, password. Before Security 5 / Spring Boot 2, it was content to accept a plain text password. Now, It seems as if you might have to either encode the client password (and prepend it with {id}) or, alternatively, prepend {noop} to it.","body":"@James I do not have the code in front of me at the moment, but I believe it had to do with the client (&quot;secret&quot; in the example), rather than the user, password. Before Security 5 / Spring Boot 2, it was content to accept a plain text password. Now, It seems as if you might have to either encode the client password (and prepend it with {id}) or, alternatively, prepend {noop} to it."},{"owner":{"account_id":4771027,"reputation":1749,"user_id":3855773,"accept_rate":22,"display_name":"Jimmy"},"score":0,"creation_date":1522905034,"post_id":49236707,"comment_id":86338789,"body_markdown":"Yes, so I am enconding the user&#39;s password at the time of registration with {id} and in database I can see the encrypted password. I am having issues while doing authentication. Do I need to do anything while authenticating?","body":"Yes, so I am enconding the user&#39;s password at the time of registration with {id} and in database I can see the encrypted password. I am having issues while doing authentication. Do I need to do anything while authenticating?"},{"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"score":0,"creation_date":1522929855,"post_id":49236707,"comment_id":86354093,"body_markdown":"@James I have added some code from a working application. I believe my primary change was setting the passwordEncoder in the `ClientDetailsServiceConfigurer`. Hope it helps.","body":"@James I have added some code from a working application. I believe my primary change was setting the passwordEncoder in the <code>ClientDetailsServiceConfigurer</code>. Hope it helps."},{"owner":{"account_id":4771027,"reputation":1749,"user_id":3855773,"accept_rate":22,"display_name":"Jimmy"},"score":0,"creation_date":1522930985,"post_id":49236707,"comment_id":86354882,"body_markdown":"Yes, I tried it with that too. But not any success. I have created question here and mentioned your thread as well. https://stackoverflow.com/questions/49654143/spring-security-5-there-is-no-passwordencoder-mapped-for-the-id-null","body":"Yes, I tried it with that too. But not any success. I have created question here and mentioned your thread as well. <a href=\"https://stackoverflow.com/questions/49654143/spring-security-5-there-is-no-passwordencoder-mapped-for-the-id-null\" title=\"spring security 5 there is no passwordencoder mapped for the id null\">stackoverflow.com/questions/49654143/&hellip;</a>"},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1593277991,"post_id":49236707,"comment_id":110725917,"body_markdown":"This one worked for me,\npublic PasswordEncoder passwordEncoder() { \n\treturn new BCryptPasswordEncoder();\n}","body":"This one worked for me, public PasswordEncoder passwordEncoder() {  \treturn new BCryptPasswordEncoder(); }"}],"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3297,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1638168740,"creation_date":1520862103,"question_id":49236707,"body_markdown":"This is a follow-up to an [earlier question][1].\r\n\r\nI am attempting to migrate an OAuth2 application to Spring Boot 2 / Security 5. According to one of the comments in my earlier question (and [this][2]), it appears as if the storage format for passwords is changing.\r\n\r\nIn my original (Spring 1.5.9) application, I had explicitly specified BCrypt \r\n\r\n// AppConfig\r\n\t \r\n       @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n        \treturn new BCryptPasswordEncoder();\r\n        }\r\n\r\n// SecurityConfig\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n \r\n\tauth.userDetailsService(userService)    \r\n\t.passwordEncoder(passwordEncoder);\r\n    }\r\n\r\nThis resulted in an error that the password &quot;did not look like BCrypt (the reason for my earlier question). \r\n\r\nThanks to a comment in response to my earlier question, it seemed as if I would need to prefix the stored password with {bcrypt}. I also replaced my PassowrdEncoder `@Bean` with:\r\n\r\n\r\n\r\n    PasswordEncoder passwordEncoder =\r\n        PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n\r\nHowever, this resulted in the following error:\r\n\r\n`java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;`\r\n\r\nNext, I tried changing the `@Bean` to the following:\r\n \r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\r\n\t\tString idForEncode = &quot;bcrypt&quot;;\r\n\t\tMap encoders = new HashMap&lt;&gt;();\r\n\t\tencoders.put(idForEncode, new BCryptPasswordEncoder());\r\n\r\n\t\tencoders.put(&quot;pbkdf2&quot;, new Pbkdf2PasswordEncoder());\r\n\t\tencoders.put(&quot;scrypt&quot;, new SCryptPasswordEncoder());\r\n\r\n\t\treturn new DelegatingPasswordEncoder(idForEncode, encoders);\r\n\r\n\t}\r\n\r\n\r\nThis resulted in the same error. The user creation part seems to work as expected. Running the following:\r\n\r\n\t\r\n\r\n    \t@Bean\r\n    \tpublic CommandLineRunner demo(UserRepository repository) {\r\n    \t\treturn(args) -&gt; {\r\n    \t\t\tOAuthUser user = new OAuthUser();\r\n    \r\n    \r\n    \t\t\tuser.setFirstName(&quot;K&quot;);\r\n    \t\t\tuser.setLastName(&quot;M&quot;);\r\n    \t\t\tuser.setPassword(passwordEncoder.encode(&quot;L&quot;));\r\n    \t\t\tuser.setUserName(&quot;KLM&quot;);\r\n    \t\t\t\r\n    repository.save(user);\r\n    \t\t};\r\n    \t}\r\n\r\n\r\nresults in a user with the password `{bcrypt}$2a$10$p/W7UV.fkghBRMzuDhh7z.G0uPLze9yFMLarbHdmwinzlqAHrMUQi`. \r\n\r\nHowever, user validation fails. Issuing this request:\r\n\r\n    curl --request POST \\\r\n      --url http://web:secret@localhost:8090/oauth/token \\\r\n      --header &#39;content-type: multipart/form-data; boundary=---011000010111000001101001&#39; \\\r\n      --form grant_type=password \\\r\n      --form username=KLM \\\r\n      --form &#39;pasword =L&#39;\r\n\r\ngives the \t&quot;message&quot;: &quot;There is no PasswordEncoder mapped for the id \\&quot;null\\&quot;&quot; message.\r\n\r\n\r\nFirst, any suggestions as to what the issue might be would be appreciated.\r\n\r\nSecond, concerning the migration to the new storage format, I have another inquiry. Is this storage format, that is, `{id]password`, a standard or something Spring specific? Basically, in the past, if a password were stored as BCrypt, I could presumably validate the password from C# or another application. All the application needed to know was how to handle the BCrypt standard. Will this new storage format inhibit the ability of validating the user through a non-Spring application or not?\r\n\r\nThanks.\r\n\r\nEDIT: \r\n\r\nI eventually got Spring Boot 2 / Security 5 to work with OAuth2. While I cannot recall the exact steps (I have been working on a few Spring projects off and on), I am posting what are hopes are my relevant bit of configuration to act as a guide. \r\n\r\nEnsure you add a password encoder bean:\r\n\r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n    return  PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n        \t//return new BCryptPasswordEncoder();\r\n        }\r\n\r\nFor the authorization server, ensure you reference both in the `AuthorizationServerSecurityConifgurer` and `ClientDetailsServiceConfigurer` sections. \r\n\r\n  \r\n\r\n      @EnableAuthorizationServer\r\n    @Configuration\r\n    public class AuthConfig extends AuthorizationServerConfigurerAdapter {\r\n    \r\n    // Some code omitted for brevity\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\r\n    \t\tsecurity.passwordEncoder(passwordEncoder);\r\n    \t\tsecurity.checkTokenAccess(&quot;permitAll()&quot;);\r\n    \t\tsecurity.tokenKeyAccess(&quot;permitAll()&quot;);\r\n    \t}\r\n    \r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\r\n    \t\tJdbcClientDetailsService details = new JdbcClientDetailsService(appConfig.dataSource());\r\n    \t\tdetails.setPasswordEncoder(passwordEncoder);\r\n    \t\t\r\n    \t\tconfigurer.withClientDetails(details);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n    \t\tTokenEnhancerChain enhancerChain = new TokenEnhancerChain();\r\n    \t\tendpoints.tokenStore(tokenStore).accessTokenConverter(converter)\r\n    \t\t.userDetailsService(userService)\r\n    \t\t.authenticationManager(authenticationManager);\r\n    \t}\r\n    \t\r\n\t\r\nIn the SecurityConfig, ensure you register it with AuthenticationManagerBuilder.\r\n\r\n    @Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.userDetailsService(userService).passwordEncoder(passwordEncoder);\r\n    \t}\r\n\r\n\r\nMake sure you configure your `ResourceServer`, including the HttpSecurity endpoints.\r\n\r\n    EnableResourceServer\r\n    @Configuration\r\n    public class ResourceConfig extends ResourceServerConfigurerAdapter {\r\n    \r\n    \tprivate AppConfig appConfig;\r\n    \r\n    \t@Autowired\r\n    \tprivate ResourceServerTokenServices tokenService;\r\n    \r\n    \t@Autowired\r\n    \tprivate AuthenticationManager authenticationManager;\r\n    \r\n    \t@Autowired\r\n    \tpublic ResourceConfig(AuthenticationManager authenticationManager, AppConfig appConfig) {\r\n    \t\tthis.authenticationManager = authenticationManager;\r\n    \t\tthis.appConfig = appConfig;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(ResourceServerSecurityConfigurer resources) throws Exception {\r\n    \t\tresources.resourceId(&quot;321&quot;);\r\n    \t\tresources.tokenServices(tokenService);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.headers().frameOptions().disable().and().requestMatchers().and().authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;).antMatchers(&quot;/h2/**&quot;).permitAll();\r\n    \r\n    \t}\r\n\r\nI believe it is the `@Config` classes that tend to be most relevant. There is nothing special about my UserDetailsService implementation and I did not think I even extended or customized the client in this app (outside from what is seen in the @Config).\r\n \r\n  [1]: https://stackoverflow.com/questions/49197111/migration-to-spring-boot-2-security-encoded-password-does-not-look-like-bcrypt?noredirect=1#comment85412093_49197111\r\n[2]: https://spring.io/blog/2017/11/01/spring-security-5-0-0-rc1-released#migrating-to-spring-security-5\r\n","title":"Spring Security 5 - Password Migration","body":"<p>This is a follow-up to an <a href=\"https://stackoverflow.com/questions/49197111/migration-to-spring-boot-2-security-encoded-password-does-not-look-like-bcrypt?noredirect=1#comment85412093_49197111\">earlier question</a>.</p>\n\n<p>I am attempting to migrate an OAuth2 application to Spring Boot 2 / Security 5. According to one of the comments in my earlier question (and <a href=\"https://spring.io/blog/2017/11/01/spring-security-5-0-0-rc1-released#migrating-to-spring-security-5\" rel=\"nofollow noreferrer\">this</a>), it appears as if the storage format for passwords is changing.</p>\n\n<p>In my original (Spring 1.5.9) application, I had explicitly specified BCrypt </p>\n\n<p>// AppConfig</p>\n\n<pre><code>   @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n</code></pre>\n\n<p>// SecurityConfig</p>\n\n<pre><code>@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n\nauth.userDetailsService(userService)    \n.passwordEncoder(passwordEncoder);\n}\n</code></pre>\n\n<p>This resulted in an error that the password \"did not look like BCrypt (the reason for my earlier question). </p>\n\n<p>Thanks to a comment in response to my earlier question, it seemed as if I would need to prefix the stored password with {bcrypt}. I also replaced my PassowrdEncoder <code>@Bean</code> with:</p>\n\n<pre><code>PasswordEncoder passwordEncoder =\n    PasswordEncoderFactories.createDelegatingPasswordEncoder();\n</code></pre>\n\n<p>However, this resulted in the following error:</p>\n\n<p><code>java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id \"null\"</code></p>\n\n<p>Next, I tried changing the <code>@Bean</code> to the following:</p>\n\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n\n    String idForEncode = \"bcrypt\";\n    Map encoders = new HashMap&lt;&gt;();\n    encoders.put(idForEncode, new BCryptPasswordEncoder());\n\n    encoders.put(\"pbkdf2\", new Pbkdf2PasswordEncoder());\n    encoders.put(\"scrypt\", new SCryptPasswordEncoder());\n\n    return new DelegatingPasswordEncoder(idForEncode, encoders);\n\n}\n</code></pre>\n\n<p>This resulted in the same error. The user creation part seems to work as expected. Running the following:</p>\n\n<pre><code>    @Bean\n    public CommandLineRunner demo(UserRepository repository) {\n        return(args) -&gt; {\n            OAuthUser user = new OAuthUser();\n\n\n            user.setFirstName(\"K\");\n            user.setLastName(\"M\");\n            user.setPassword(passwordEncoder.encode(\"L\"));\n            user.setUserName(\"KLM\");\n\nrepository.save(user);\n        };\n    }\n</code></pre>\n\n<p>results in a user with the password <code>{bcrypt}$2a$10$p/W7UV.fkghBRMzuDhh7z.G0uPLze9yFMLarbHdmwinzlqAHrMUQi</code>. </p>\n\n<p>However, user validation fails. Issuing this request:</p>\n\n<pre><code>curl --request POST \\\n  --url http://web:secret@localhost:8090/oauth/token \\\n  --header 'content-type: multipart/form-data; boundary=---011000010111000001101001' \\\n  --form grant_type=password \\\n  --form username=KLM \\\n  --form 'pasword =L'\n</code></pre>\n\n<p>gives the   \"message\": \"There is no PasswordEncoder mapped for the id \\\"null\\\"\" message.</p>\n\n<p>First, any suggestions as to what the issue might be would be appreciated.</p>\n\n<p>Second, concerning the migration to the new storage format, I have another inquiry. Is this storage format, that is, <code>{id]password</code>, a standard or something Spring specific? Basically, in the past, if a password were stored as BCrypt, I could presumably validate the password from C# or another application. All the application needed to know was how to handle the BCrypt standard. Will this new storage format inhibit the ability of validating the user through a non-Spring application or not?</p>\n\n<p>Thanks.</p>\n\n<p>EDIT: </p>\n\n<p>I eventually got Spring Boot 2 / Security 5 to work with OAuth2. While I cannot recall the exact steps (I have been working on a few Spring projects off and on), I am posting what are hopes are my relevant bit of configuration to act as a guide. </p>\n\n<p>Ensure you add a password encoder bean:</p>\n\n<pre><code>    @Bean\n    public PasswordEncoder passwordEncoder() {\nreturn  PasswordEncoderFactories.createDelegatingPasswordEncoder();\n        //return new BCryptPasswordEncoder();\n    }\n</code></pre>\n\n<p>For the authorization server, ensure you reference both in the <code>AuthorizationServerSecurityConifgurer</code> and <code>ClientDetailsServiceConfigurer</code> sections. </p>\n\n<pre><code>  @EnableAuthorizationServer\n@Configuration\npublic class AuthConfig extends AuthorizationServerConfigurerAdapter {\n\n// Some code omitted for brevity\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\n        security.passwordEncoder(passwordEncoder);\n        security.checkTokenAccess(\"permitAll()\");\n        security.tokenKeyAccess(\"permitAll()\");\n    }\n\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\n        JdbcClientDetailsService details = new JdbcClientDetailsService(appConfig.dataSource());\n        details.setPasswordEncoder(passwordEncoder);\n\n        configurer.withClientDetails(details);\n    }\n\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        TokenEnhancerChain enhancerChain = new TokenEnhancerChain();\n        endpoints.tokenStore(tokenStore).accessTokenConverter(converter)\n        .userDetailsService(userService)\n        .authenticationManager(authenticationManager);\n    }\n</code></pre>\n\n<p>In the SecurityConfig, ensure you register it with AuthenticationManagerBuilder.</p>\n\n<pre><code>@Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder);\n    }\n</code></pre>\n\n<p>Make sure you configure your <code>ResourceServer</code>, including the HttpSecurity endpoints.</p>\n\n<pre><code>EnableResourceServer\n@Configuration\npublic class ResourceConfig extends ResourceServerConfigurerAdapter {\n\n    private AppConfig appConfig;\n\n    @Autowired\n    private ResourceServerTokenServices tokenService;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    public ResourceConfig(AuthenticationManager authenticationManager, AppConfig appConfig) {\n        this.authenticationManager = authenticationManager;\n        this.appConfig = appConfig;\n    }\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) throws Exception {\n        resources.resourceId(\"321\");\n        resources.tokenServices(tokenService);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.headers().frameOptions().disable().and().requestMatchers().and().authorizeRequests()\n                .antMatchers(\"/user/**\").hasAuthority(\"ROLE_ADMIN\").antMatchers(\"/h2/**\").permitAll();\n\n    }\n</code></pre>\n\n<p>I believe it is the <code>@Config</code> classes that tend to be most relevant. There is nothing special about my UserDetailsService implementation and I did not think I even extended or customized the client in this app (outside from what is seen in the @Config).</p>\n"},{"tags":["java","rest","asp.net-web-api","twilio","voip"],"answers":[{"tags":[],"owner":{"account_id":1013290,"reputation":1264,"user_id":1025412,"accept_rate":57,"display_name":"Madis N&#245;mme"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467726769,"creation_date":1467726769,"answer_id":38205282,"question_id":38204674,"body_markdown":"The application id asked is the TwiML application ID. These can be created either manually through browser https://www.twilio.com/console/voice/dev-tools/twiml-apps/add or programmatically using the Twilio REST API as described in https://www.twilio.com/docs/api/rest/applications#list-post.\r\n\r\nMainly the application id will associate 2 urls: voice and message callback urls with your application. These are your application urls that Twilio will try to make requests when it gets new events or needs information. These urls should return [TwiML](https://www.twilio.com/docs/api/twiml)\r\n","title":"how do I get a Twilio SID?","body":"<p>The application id asked is the TwiML application ID. These can be created either manually through browser <a href=\"https://www.twilio.com/console/voice/dev-tools/twiml-apps/add\" rel=\"nofollow\">https://www.twilio.com/console/voice/dev-tools/twiml-apps/add</a> or programmatically using the Twilio REST API as described in <a href=\"https://www.twilio.com/docs/api/rest/applications#list-post\" rel=\"nofollow\">https://www.twilio.com/docs/api/rest/applications#list-post</a>.</p>\n\n<p>Mainly the application id will associate 2 urls: voice and message callback urls with your application. These are your application urls that Twilio will try to make requests when it gets new events or needs information. These urls should return <a href=\"https://www.twilio.com/docs/api/twiml\" rel=\"nofollow\">TwiML</a></p>\n"},{"tags":[],"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638168599,"creation_date":1467728045,"answer_id":38205744,"question_id":38204674,"body_markdown":"A temporary SID is [in the portal for testing][1].  However, [this kluge executes][2] by generating a new app with a new SID:\r\n\r\n\r\n\r\n    private void createApplication(TwilioRestClient client, String accountSID, String authToken, String fromNumber, String toNumber) {\r\n        log.info(&quot;createApplication..&quot;);\r\n        List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n        params.add(new BasicNameValuePair(&quot;FriendlyName&quot;, &quot;Phone Me&quot;));\r\n        params.add(new BasicNameValuePair(&quot;VoiceUrl&quot;, &quot;http://demo.twilio.com/docs/voice.xml&quot;));\r\n        params.add(new BasicNameValuePair(&quot;VoiceMethod&quot;, &quot;GET&quot;));\r\n        ApplicationFactory appFactory = client.getAccount().getApplicationFactory();\r\n        Application app = null;\r\n        try {\r\n            app = appFactory.create(params);\r\n        } catch (TwilioRestException ex) {\r\n            Logger.getLogger(Twilio.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        String sid = app.getSid();\r\n        log.info(sid);\r\n        log.info(&quot;name\\n&quot; + app.getFriendlyName());\r\n        log.info(&quot;sms url\\n&quot; + app.getSmsUrl());\r\n        log.info(&quot;voice url\\n&quot; + app.getVoiceUrl());\r\n        makeCall(client, accountSID, authToken, fromNumber, toNumber, sid);\r\n    }\r\n\r\n\r\n  [1]: https://www.twilio.com/login?g=/console/voice/dev-tools/test-credentials?&amp;t=9c3152caff940bb810fd43c2d8965b1ac8b7560ac12f73712c7b0005efa3b7d6\r\n  [2]: https://gist.github.com/THUFIR/f022faee0f2fd5c0e8af93c651045b31","title":"how do I get a Twilio SID?","body":"<p>A temporary SID is <a href=\"https://www.twilio.com/login?g=/console/voice/dev-tools/test-credentials?&amp;t=9c3152caff940bb810fd43c2d8965b1ac8b7560ac12f73712c7b0005efa3b7d6\" rel=\"nofollow noreferrer\">in the portal for testing</a>.  However, <a href=\"https://gist.github.com/THUFIR/f022faee0f2fd5c0e8af93c651045b31\" rel=\"nofollow noreferrer\">this kluge executes</a> by generating a new app with a new SID:</p>\n<pre><code>private void createApplication(TwilioRestClient client, String accountSID, String authToken, String fromNumber, String toNumber) {\n    log.info(&quot;createApplication..&quot;);\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n    params.add(new BasicNameValuePair(&quot;FriendlyName&quot;, &quot;Phone Me&quot;));\n    params.add(new BasicNameValuePair(&quot;VoiceUrl&quot;, &quot;http://demo.twilio.com/docs/voice.xml&quot;));\n    params.add(new BasicNameValuePair(&quot;VoiceMethod&quot;, &quot;GET&quot;));\n    ApplicationFactory appFactory = client.getAccount().getApplicationFactory();\n    Application app = null;\n    try {\n        app = appFactory.create(params);\n    } catch (TwilioRestException ex) {\n        Logger.getLogger(Twilio.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    String sid = app.getSid();\n    log.info(sid);\n    log.info(&quot;name\\n&quot; + app.getFriendlyName());\n    log.info(&quot;sms url\\n&quot; + app.getSmsUrl());\n    log.info(&quot;voice url\\n&quot; + app.getVoiceUrl());\n    makeCall(client, accountSID, authToken, fromNumber, toNumber, sid);\n}\n</code></pre>\n"}],"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638168599,"creation_date":1467725122,"question_id":38204674,"body_markdown":"A [question on dialing out with Twilio][1] caught my attention, particularly:\r\n\r\n    capability.allowClientOutgoing(&quot;APf5250942ec073c9d08848990cbc0ff5e&quot;);\r\n\r\n\r\nLooking at [sample code][2]:\r\n\r\n    // Install the Java helper library from twilio.com/docs/java/install\r\n    import com.twilio.sdk.TwilioRestClient;\r\n    import com.twilio.sdk.TwilioRestException;\r\n    import com.twilio.sdk.resource.instance.Application;\r\n    \r\n    public class Example { \r\n    \r\n      // Find your Account Sid and Token at twilio.com/user/account\r\n      public static final String ACCOUNT_SID = &quot;ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\r\n      public static final String AUTH_TOKEN = &quot;your_auth_token&quot;;\r\n    \r\n      public static void main(String[] args) throws TwilioRestException {\r\n        TwilioRestClient client = new TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN);\r\n    \r\n        // Get an object from its sid. If you do not have a sid,\r\n        // check out the list resource examples on this page\r\n        Application app = client.getAccount().getApplication(&quot;AP2a0747eba6abf96b7e3c3ff0b4530f6e&quot;);\r\n        System.out.println(app.getSmsUrl());\r\n        \r\n      }\r\n    }\r\n\r\n\r\nit&#39;s not much clearer.  The `ACCOUNT_SID` and `AUTH_TOKEN` are easy enough to copy/paste.  Where and how do I acquire the string to send?\r\n\r\n[Javadocs][3] say:\r\n\r\n\r\n    getApplication\r\n    \r\n    public Application getApplication(String sid)\r\n    \r\n    Get a given application instance by sid\r\n    \r\n    Parameters:\r\n        sid - The 34 character sid starting with AP\r\n\r\nwhich just brings me back to where, and how, to acquire a SID to initiate a call.\r\n\r\n  [1]: https://stackoverflow.com/q/17564775/262852\r\n  [2]: https://www.twilio.com/docs/api/rest/applications\r\n  [3]: http://twilio.github.io/twilio-java/","title":"how do I get a Twilio SID?","body":"<p>A <a href=\"https://stackoverflow.com/q/17564775/262852\">question on dialing out with Twilio</a> caught my attention, particularly:</p>\n\n<pre><code>capability.allowClientOutgoing(\"APf5250942ec073c9d08848990cbc0ff5e\");\n</code></pre>\n\n<p>Looking at <a href=\"https://www.twilio.com/docs/api/rest/applications\" rel=\"nofollow noreferrer\">sample code</a>:</p>\n\n<pre><code>// Install the Java helper library from twilio.com/docs/java/install\nimport com.twilio.sdk.TwilioRestClient;\nimport com.twilio.sdk.TwilioRestException;\nimport com.twilio.sdk.resource.instance.Application;\n\npublic class Example { \n\n  // Find your Account Sid and Token at twilio.com/user/account\n  public static final String ACCOUNT_SID = \"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\";\n  public static final String AUTH_TOKEN = \"your_auth_token\";\n\n  public static void main(String[] args) throws TwilioRestException {\n    TwilioRestClient client = new TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN);\n\n    // Get an object from its sid. If you do not have a sid,\n    // check out the list resource examples on this page\n    Application app = client.getAccount().getApplication(\"AP2a0747eba6abf96b7e3c3ff0b4530f6e\");\n    System.out.println(app.getSmsUrl());\n\n  }\n}\n</code></pre>\n\n<p>it's not much clearer.  The <code>ACCOUNT_SID</code> and <code>AUTH_TOKEN</code> are easy enough to copy/paste.  Where and how do I acquire the string to send?</p>\n\n<p><a href=\"http://twilio.github.io/twilio-java/\" rel=\"nofollow noreferrer\">Javadocs</a> say:</p>\n\n<pre><code>getApplication\n\npublic Application getApplication(String sid)\n\nGet a given application instance by sid\n\nParameters:\n    sid - The 34 character sid starting with AP\n</code></pre>\n\n<p>which just brings me back to where, and how, to acquire a SID to initiate a call.</p>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":3658762,"reputation":8521,"user_id":3049127,"display_name":"Shilly"},"score":0,"creation_date":1467645325,"post_id":38187862,"comment_id":63801358,"body_markdown":"The for-clause is just a ternary operator to set i to either o - 4 or to 0. The `&lt;&lt;` part is a bitwise operator, but I&#39;m not 100% sure what the result of that calculation is.","body":"The for-clause is just a ternary operator to set i to either o - 4 or to 0. The <code>&lt;&lt;</code> part is a bitwise operator, but I&#39;m not 100% sure what the result of that calculation is."},{"owner":{"account_id":424109,"reputation":18176,"user_id":803925,"display_name":"nbrooks"},"score":3,"creation_date":1467645412,"post_id":38187862,"comment_id":63801422,"body_markdown":"[Bitwise and Bit Shift Operators](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html), [Java Conditional Operator](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html), [Integer.parseInt](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)). Apart from the parseInt usage, the only non-Java syntax there is the `var i`, which would become `int i`. And of course `hash.length` becomes `hash.length()`.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">Bitwise and Bit Shift Operators</a>, <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">Java Conditional Operator</a>, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">Integer.parseInt</a>. Apart from the parseInt usage, the only non-Java syntax there is the <code>var i</code>, which would become <code>int i</code>. And of course <code>hash.length</code> becomes <code>hash.length()</code>."},{"owner":{"account_id":4063179,"reputation":2186,"user_id":3339122,"accept_rate":72,"display_name":"Lain"},"score":0,"creation_date":1467645623,"post_id":38187862,"comment_id":63801509,"body_markdown":"My lack of understanding was never seeing bitwise and bit shift operators before, thank you for clearing this up @nbrooks","body":"My lack of understanding was never seeing bitwise and bit shift operators before, thank you for clearing this up @nbrooks"}],"answers":[{"tags":[],"owner":{"account_id":6951436,"reputation":1275,"user_id":5333936,"accept_rate":89,"display_name":"CloudPotato"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1467645474,"creation_date":1467645474,"answer_id":38187976,"question_id":38187862,"body_markdown":"    int val = 0; //already turned to java\r\n        \r\n    int o = hash.length() % 4;  //already turned to java\r\n        \r\n    for (int i = o &gt; 0 ? o - 4 : 0; i &lt; hash.length; i += 4) {\r\n        val = ((val &lt;&lt; 16) + Integer.parseInt(hash.substring(i, i+4), 16)) % mod;\r\n    }\r\n\r\nThis is the java code","title":"Translating javascript to java","body":"<pre><code>int val = 0; //already turned to java\n\nint o = hash.length() % 4;  //already turned to java\n\nfor (int i = o &gt; 0 ? o - 4 : 0; i &lt; hash.length; i += 4) {\n    val = ((val &lt;&lt; 16) + Integer.parseInt(hash.substring(i, i+4), 16)) % mod;\n}\n</code></pre>\n\n<p>This is the java code</p>\n"},{"tags":[],"owner":{"account_id":2758064,"reputation":2799,"user_id":2375574,"accept_rate":89,"display_name":"Saleem Ahmed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638168594,"creation_date":1467646163,"answer_id":38188172,"question_id":38187862,"body_markdown":"for i = o \r\nwhere o is greater than zero . else o-4 is set as 0 \r\n\r\ntill\r\ni  less than hash.length\r\n\r\niterate \r\ni by 4 each time \r\n\r\nIn the loop each time : \r\nval is equal to - \r\n\r\nval left shift by 16 bits \r\nplus \r\nremainder of the integer value with a base 16 of (ith element of hash to the i+4 element ) and &quot;mod&quot;\r\n\r\nyou have not provided any definition for mod.  \r\n\r\nThe substring() method extracts the characters from a string, between two specified indices, and returns the new sub string.\r\n\r\nThis method extracts the characters in a string between &quot;start&quot; and &quot;end&quot;, not including &quot;end&quot; itself.\r\n\r\nIf &quot;start&quot; is greater than &quot;end&quot;, this method will swap the two arguments, meaning str.substring(1,4) == str.substring(4,1).\r\n\r\nIf either &quot;start&quot; or &quot;stop&quot; is less than 0, it is treated as if it were 0.\r\n\r\n[parseInt() function][1]\r\n\r\nIt parses the input as an integer plus the second argument specifies the radix, that is base of the number system in this case its a hex \r\n\r\n[Bitwise left Shift, the &lt;&lt; operator][2]\r\n\r\nval as i&#39;m guessing is already a value in the hexadecimal number system so this basically in the decimal system would be like a minus 1 \r\n\r\n[Ternary operator , your for loop][3]\r\n\r\nThe only operator which can take three arguments, basically short hand for an if{} else{} loop . \r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator","title":"Translating javascript to java","body":"<p>for i = o\nwhere o is greater than zero . else o-4 is set as 0</p>\n<p>till\ni  less than hash.length</p>\n<p>iterate\ni by 4 each time</p>\n<p>In the loop each time :\nval is equal to -</p>\n<p>val left shift by 16 bits\nplus\nremainder of the integer value with a base 16 of (ith element of hash to the i+4 element ) and &quot;mod&quot;</p>\n<p>you have not provided any definition for mod.</p>\n<p>The substring() method extracts the characters from a string, between two specified indices, and returns the new sub string.</p>\n<p>This method extracts the characters in a string between &quot;start&quot; and &quot;end&quot;, not including &quot;end&quot; itself.</p>\n<p>If &quot;start&quot; is greater than &quot;end&quot;, this method will swap the two arguments, meaning str.substring(1,4) == str.substring(4,1).</p>\n<p>If either &quot;start&quot; or &quot;stop&quot; is less than 0, it is treated as if it were 0.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\" rel=\"nofollow noreferrer\">parseInt() function</a></p>\n<p>It parses the input as an integer plus the second argument specifies the radix, that is base of the number system in this case its a hex</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators\" rel=\"nofollow noreferrer\">Bitwise left Shift, the &lt;&lt; operator</a></p>\n<p>val as i'm guessing is already a value in the hexadecimal number system so this basically in the decimal system would be like a minus 1</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\" rel=\"nofollow noreferrer\">Ternary operator , your for loop</a></p>\n<p>The only operator which can take three arguments, basically short hand for an if{} else{} loop .</p>\n"}],"owner":{"account_id":4063179,"reputation":2186,"user_id":3339122,"accept_rate":72,"display_name":"Lain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":38188172,"answer_count":2,"score":-1,"last_activity_date":1638168594,"creation_date":1467645126,"question_id":38187862,"body_markdown":"I have been working on turning a large javascript program into java. However I am unsure what is happening in these few lines here and how to turn it into java.\r\n\r\n        int val = 0; //already turned to java\r\n    \r\n        int o = hash.length() % 4;  //already turned to java\r\n\r\n    for (var i = o &gt; 0 ? o - 4 : 0; i &lt; hash.length; i += 4) {\r\n            val = ((val &lt;&lt; 16) + parseInt(hash.substring(i, i+4), 16)) % mod;\r\n        }\r\n\r\nIt is for a divisible function. hash is a string (specifically a sha256 string hash). Anyone able to help me figure out this weird forloop? Thanks.\r\n\r\nI am aware that the parseInt is turning it into base 16, as I have translated that part other places in the code.\r\n\r\n","title":"Translating javascript to java","body":"<p>I have been working on turning a large javascript program into java. However I am unsure what is happening in these few lines here and how to turn it into java.</p>\n\n<pre><code>    int val = 0; //already turned to java\n\n    int o = hash.length() % 4;  //already turned to java\n\nfor (var i = o &gt; 0 ? o - 4 : 0; i &lt; hash.length; i += 4) {\n        val = ((val &lt;&lt; 16) + parseInt(hash.substring(i, i+4), 16)) % mod;\n    }\n</code></pre>\n\n<p>It is for a divisible function. hash is a string (specifically a sha256 string hash). Anyone able to help me figure out this weird forloop? Thanks.</p>\n\n<p>I am aware that the parseInt is turning it into base 16, as I have translated that part other places in the code.</p>\n"},{"tags":["java","reference","java-stream"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1503442674,"post_id":45827962,"comment_id":78614281,"body_markdown":"What do you mean by _mutate each reference_? Do you mean replacing a (reference) value in the list? `reference.set(0, new Reference(..))`?","body":"What do you mean by <i>mutate each reference</i>? Do you mean replacing a (reference) value in the list? <code>reference.set(0, new Reference(..))</code>?"},{"owner":{"account_id":3282600,"reputation":1511,"user_id":2762832,"accept_rate":38,"display_name":"Ace"},"score":0,"creation_date":1503445687,"post_id":45827962,"comment_id":78614972,"body_markdown":"@SotiriosDelimanolis I mean to say change it or cause one or many of its internal member variable values to change.","body":"@SotiriosDelimanolis I mean to say change it or cause one or many of its internal member variable values to change."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1503445766,"post_id":45827962,"comment_id":78614992,"body_markdown":"Ok, so not _mutating the reference_. You meant mutating the objects being referencing by the reference values in the list? Yes, such changes would be reflected in the original `context.getReferences()` collection.","body":"Ok, so not <i>mutating the reference</i>. You meant mutating the objects being referencing by the reference values in the list? Yes, such changes would be reflected in the original <code>context.getReferences()</code> collection."}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1503447278,"creation_date":1503441045,"answer_id":45827969,"question_id":45827962,"body_markdown":"There is no general way to clone objects in Java.\r\n\r\nIt would be _fundamentally impossible_ for it to automatically return different instances.","title":"Does Java 8 Streaming Filter &amp; Collect return references to same objects in the list?","body":"<p>There is no general way to clone objects in Java.</p>\n\n<p>It would be <em>fundamentally impossible</em> for it to automatically return different instances.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600270497,"creation_date":1600270497,"answer_id":63923453,"question_id":45827962,"body_markdown":"The answer to your question is yes. As depicted below:\r\n\r\n  \r\n      private void run() {\r\n    \r\n        List&lt;Ref&gt; original = new ArrayList&lt;&gt;();\r\n        original.add(new Ref(1, &quot;A&quot;));\r\n        original.add(new Ref(2, &quot;B&quot;));\r\n        original.add(new Ref(3, &quot;C&quot;));\r\n    \r\n        System.out.println(&quot;Original: &quot; + original);\r\n        // Original: [Ref{id=1, name=&#39;A&#39;}, Ref{id=2, name=&#39;B&#39;}, Ref{id=3, name=&#39;C&#39;}]\r\n    \r\n        List&lt;Ref&gt; results = original.stream().collect(Collectors.toList());\r\n    \r\n        System.out.println(&quot;Aggregated: &quot; + results);\r\n        // Aggregated: [Ref{id=1, name=&#39;A&#39;}, Ref{id=2, name=&#39;B&#39;}, Ref{id=3, name=&#39;C&#39;}]\r\n    \r\n        results.forEach(r -&gt; r.name = r.name + &quot;CHANGED&quot;);\r\n    \r\n        System.out.println(&quot;Original: &quot; + original);\r\n        //Original: [Ref{id=1, name=&#39;ACHANGED&#39;}, Ref{id=2, name=&#39;BCHANGED&#39;}, Ref{id=3, name=&#39;CCHANGED&#39;}]\r\n\r\n      }\r\n\r\n\r\n","title":"Does Java 8 Streaming Filter &amp; Collect return references to same objects in the list?","body":"<p>The answer to your question is yes. As depicted below:</p>\n<pre><code>  private void run() {\n\n    List&lt;Ref&gt; original = new ArrayList&lt;&gt;();\n    original.add(new Ref(1, &quot;A&quot;));\n    original.add(new Ref(2, &quot;B&quot;));\n    original.add(new Ref(3, &quot;C&quot;));\n\n    System.out.println(&quot;Original: &quot; + original);\n    // Original: [Ref{id=1, name='A'}, Ref{id=2, name='B'}, Ref{id=3, name='C'}]\n\n    List&lt;Ref&gt; results = original.stream().collect(Collectors.toList());\n\n    System.out.println(&quot;Aggregated: &quot; + results);\n    // Aggregated: [Ref{id=1, name='A'}, Ref{id=2, name='B'}, Ref{id=3, name='C'}]\n\n    results.forEach(r -&gt; r.name = r.name + &quot;CHANGED&quot;);\n\n    System.out.println(&quot;Original: &quot; + original);\n    //Original: [Ref{id=1, name='ACHANGED'}, Ref{id=2, name='BCHANGED'}, Ref{id=3, name='CCHANGED'}]\n\n  }\n</code></pre>\n"}],"owner":{"account_id":3282600,"reputation":1511,"user_id":2762832,"accept_rate":38,"display_name":"Ace"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5816,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":45827969,"answer_count":2,"score":8,"last_activity_date":1638168515,"creation_date":1503440984,"question_id":45827962,"body_markdown":"For example consider the code below\r\n\r\n    List&lt;Reference&gt; references = context.getReferences()\r\n                                        .stream()\r\n                                        .filter(ref -&gt; ref.getCondition() == SOMETHING_DESIRABLE)\r\n                                        .collect(Collectors.toList());\r\n\r\nNow if I mutate each reference inside `references` list, will it be reflected inside the original `context.references`?","title":"Does Java 8 Streaming Filter &amp; Collect return references to same objects in the list?","body":"<p>For example consider the code below</p>\n<pre><code>List&lt;Reference&gt; references = context.getReferences()\n                                    .stream()\n                                    .filter(ref -&gt; ref.getCondition() == SOMETHING_DESIRABLE)\n                                    .collect(Collectors.toList());\n</code></pre>\n<p>Now if I mutate each reference inside <code>references</code> list, will it be reflected inside the original <code>context.references</code>?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1590663684,"post_id":62063011,"comment_id":109767660,"body_markdown":"Only adding the api isn&#39;t going to do anything. You also need an implementation like `hibernate-validator`. Instead of adding the `validation-api` use `spring-boot-starter-validation` which includes both the api and an implementation.","body":"Only adding the api isn&#39;t going to do anything. You also need an implementation like <code>hibernate-validator</code>. Instead of adding the <code>validation-api</code> use <code>spring-boot-starter-validation</code> which includes both the api and an implementation."},{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1590663984,"post_id":62063011,"comment_id":109767823,"body_markdown":"Can you also provide what you are trying to send as body to test it?","body":"Can you also provide what you are trying to send as body to test it?"},{"owner":{"account_id":17067529,"reputation":11,"user_id":12349229,"display_name":"Alex Otero"},"score":0,"creation_date":1590664167,"post_id":62063011,"comment_id":109767916,"body_markdown":"Thank you so much! Didn&#39;t know about the implementation. It worked.","body":"Thank you so much! Didn&#39;t know about the implementation. It worked."}],"answers":[{"tags":[],"owner":{"account_id":19202668,"reputation":11,"user_id":14030272,"display_name":"Shivam Jaiswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638168032,"creation_date":1638168032,"answer_id":70150640,"question_id":62063011,"body_markdown":"For my case, I removed this dependency\r\n``` \r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n  &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand added\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI think they both conflict with each other.\r\n","title":"@Valid @ModelAttribute not working properly","body":"<p>For my case, I removed this dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n  &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and added</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I think they both conflict with each other.</p>\n"}],"owner":{"account_id":17067529,"reputation":11,"user_id":12349229,"display_name":"Alex Otero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638168032,"creation_date":1590663383,"question_id":62063011,"body_markdown":"I have this controller\r\n\r\n    @Controller\r\n    public class EmpleadoController {\r\n        @Autowired\r\n        private EmpleadoService servicio;\r\n        \r\n        @PostMapping(&quot;/empleado/new/submit&quot;)\r\n        public String nuevoEmpleadoSubmit(@Valid @ModelAttribute(&quot;empleadoForm&quot;) Empleado empleadoForm, BindingResult bindingResult) {\r\n            if(bindingResult.hasErrors()) {\r\n                return &quot;formulario&quot;;\r\n            }else {\r\n                servicio.add(empleadoForm);\r\n                return &quot;redirect:/empleado/list&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nWith this model\r\n\r\n    package com.alexotero.spring.model;\r\n    \r\n    import javax.validation.constraints.Email;\r\n    import javax.validation.constraints.Min;\r\n    import javax.validation.constraints.NotEmpty;\r\n    \r\n    public class Empleado {\r\n    \r\n    \t@Min(0)\r\n    \tprivate long id;\r\n    \t@NotEmpty\r\n    \tprivate String nombre;\r\n    \t@Email\r\n    \tprivate String email;\r\n    \tprivate String telefono;\r\n    \r\n    //Constructors getters setters and stuff\r\n\r\nI&#39;ve also added this dependency to the pom.xml \r\n\r\n\t&lt;dependency&gt;\r\n\t  &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIt doesn&#39;t matter what i introduce in the form, the controller never detects any error. Always adds the object to the List(in the service) and redirects to the list.html. I cannot find where is the problem.\r\n","title":"@Valid @ModelAttribute not working properly","body":"<p>I have this controller</p>\n\n<pre><code>@Controller\npublic class EmpleadoController {\n    @Autowired\n    private EmpleadoService servicio;\n\n    @PostMapping(\"/empleado/new/submit\")\n    public String nuevoEmpleadoSubmit(@Valid @ModelAttribute(\"empleadoForm\") Empleado empleadoForm, BindingResult bindingResult) {\n        if(bindingResult.hasErrors()) {\n            return \"formulario\";\n        }else {\n            servicio.add(empleadoForm);\n            return \"redirect:/empleado/list\";\n        }\n    }\n}\n</code></pre>\n\n<p>With this model</p>\n\n<pre><code>package com.alexotero.spring.model;\n\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.Min;\nimport javax.validation.constraints.NotEmpty;\n\npublic class Empleado {\n\n    @Min(0)\n    private long id;\n    @NotEmpty\n    private String nombre;\n    @Email\n    private String email;\n    private String telefono;\n\n//Constructors getters setters and stuff\n</code></pre>\n\n<p>I've also added this dependency to the pom.xml </p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n  &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>It doesn't matter what i introduce in the form, the controller never detects any error. Always adds the object to the List(in the service) and redirects to the list.html. I cannot find where is the problem.</p>\n"},{"tags":["java","file","io","parseint"],"answers":[{"tags":[],"owner":{"account_id":11722808,"reputation":184,"user_id":8581230,"display_name":"Jack Larson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638165243,"creation_date":1638163089,"answer_id":70150049,"question_id":70150016,"body_markdown":"Is this you are looking for?\r\n```\r\n    import java.util.*;\r\n\r\n    public class Main\r\n    {\r\n        public static void main(String[] args) {\r\n            //System.in is a standard input stream\r\n            Scanner sc= new Scanner(System.in);    \r\n            String name=sc.next();\r\n            int a= sc.nextInt();\r\n            int b= sc.nextInt();\r\n            int c= sc.nextInt();\r\n            int d=(a+b+c)/3;\r\n            System.out.println(&quot;Average= &quot; +d);\r\n        }\r\n    }\r\n```","title":"How do I print both Strings and Ints from a single text file?","body":"<p>Is this you are looking for?</p>\n<pre><code>    import java.util.*;\n\n    public class Main\n    {\n        public static void main(String[] args) {\n            //System.in is a standard input stream\n            Scanner sc= new Scanner(System.in);    \n            String name=sc.next();\n            int a= sc.nextInt();\n            int b= sc.nextInt();\n            int c= sc.nextInt();\n            int d=(a+b+c)/3;\n            System.out.println(&quot;Average= &quot; +d);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638167775,"creation_date":1638167775,"answer_id":70150603,"question_id":70150016,"body_markdown":"Let&#39;s assume for a second that under each name they can be a variable number of numerical values.  What we want to do is, while each line is number, keep adding them together and keep track of the number of lines we&#39;ve read and when the line becomes a `String` probably print it out and setup for the next sequence.\r\n\r\nI honestly think that people think that `Scanner` is only useful for reading user input or a file and forget that they can use multiple `Scanner`s to parse the same content (or help with it)\r\n\r\nFor example.  I set up `Scanner` to read each line of the file (as a `String`).  I then setup a second `Scanner` (for each line) and test to see if it&#39;s an `int` or not and take appropriate action, for example...\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] arg) {\r\n            // Just beware, I&#39;m reading from an embedded resource here\r\n            Scanner input = new Scanner(Test.class.getResourceAsStream(&quot;/resources/Test.txt&quot;));\r\n            String name = null;\r\n            int tally = 0;\r\n            int count = 0;\r\n            while (input.hasNextLine()) {\r\n                String line = input.nextLine();\r\n                Scanner parser = new Scanner(line);\r\n                if (parser.hasNextInt()) {\r\n                    tally += parser.nextInt();\r\n                    count++;\r\n                } else {\r\n                    if (name != null) {\r\n                        System.out.println(name + &quot;; tally = &quot; + tally + &quot;; average = &quot; + (tally / (double) count));\r\n                    }\r\n\r\n                    name = parser.nextLine();\r\n                    tally = 0;\r\n                    count = 0;\r\n                }\r\n            }\r\n            if (name != null) {\r\n                System.out.println(name + &quot;; tally = &quot; + tally + &quot;; average = &quot; + (tally / (double) count));\r\n            }\r\n        }\r\n    }\r\n\r\nwhich based on your example data, prints something like...\r\n\r\n    James; tally = 821; average = 273.6666666666667\r\n    Kyle; tally = 1505; average = 501.6666666666667\r\n\r\n","title":"How do I print both Strings and Ints from a single text file?","body":"<p>Let's assume for a second that under each name they can be a variable number of numerical values.  What we want to do is, while each line is number, keep adding them together and keep track of the number of lines we've read and when the line becomes a <code>String</code> probably print it out and setup for the next sequence.</p>\n<p>I honestly think that people think that <code>Scanner</code> is only useful for reading user input or a file and forget that they can use multiple <code>Scanner</code>s to parse the same content (or help with it)</p>\n<p>For example.  I set up <code>Scanner</code> to read each line of the file (as a <code>String</code>).  I then setup a second <code>Scanner</code> (for each line) and test to see if it's an <code>int</code> or not and take appropriate action, for example...</p>\n<pre><code>import java.util.Scanner;\n\npublic class Test {\n\n    public static void main(String[] arg) {\n        // Just beware, I'm reading from an embedded resource here\n        Scanner input = new Scanner(Test.class.getResourceAsStream(&quot;/resources/Test.txt&quot;));\n        String name = null;\n        int tally = 0;\n        int count = 0;\n        while (input.hasNextLine()) {\n            String line = input.nextLine();\n            Scanner parser = new Scanner(line);\n            if (parser.hasNextInt()) {\n                tally += parser.nextInt();\n                count++;\n            } else {\n                if (name != null) {\n                    System.out.println(name + &quot;; tally = &quot; + tally + &quot;; average = &quot; + (tally / (double) count));\n                }\n\n                name = parser.nextLine();\n                tally = 0;\n                count = 0;\n            }\n        }\n        if (name != null) {\n            System.out.println(name + &quot;; tally = &quot; + tally + &quot;; average = &quot; + (tally / (double) count));\n        }\n    }\n}\n</code></pre>\n<p>which based on your example data, prints something like...</p>\n<pre><code>James; tally = 821; average = 273.6666666666667\nKyle; tally = 1505; average = 501.6666666666667\n</code></pre>\n"}],"owner":{"account_id":23485772,"reputation":1,"user_id":17537308,"display_name":"Sjdddisnsosns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1638167775,"creation_date":1638162719,"question_id":70150016,"body_markdown":"I have a file pretty much as follows, but for a couple more names (each word and number is on a separate line) :\r\nJames\r\n123\r\n343\r\n355\r\nKyle\r\n136\r\n689\r\n680\r\n\r\nI’ve been trying to read all these in as strings, and use parseInt to convert them to ints, as I need to find the avgs of the numbers following the names. It hasn’t worked though, and I’m curious as to how to print this file inside of Java. Thank you","title":"How do I print both Strings and Ints from a single text file?","body":"<p>I have a file pretty much as follows, but for a couple more names (each word and number is on a separate line) :\nJames\n123\n343\n355\nKyle\n136\n689\n680</p>\n<p>I’ve been trying to read all these in as strings, and use parseInt to convert them to ints, as I need to find the avgs of the numbers following the names. It hasn’t worked though, and I’m curious as to how to print this file inside of Java. Thank you</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":1,"creation_date":1638140115,"post_id":70148079,"comment_id":124002094,"body_markdown":"What do you mean by &quot;can&#39;t add @NoArgsConstructor&quot;?","body":"What do you mean by &quot;can&#39;t add @NoArgsConstructor&quot;?"},{"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"score":1,"creation_date":1638140251,"post_id":70148079,"comment_id":124002128,"body_markdown":"@TylerLiu I guess it&#39;s because the final fields need to be instantiated and lombok cannot guess with which values.","body":"@TylerLiu I guess it&#39;s because the final fields need to be instantiated and lombok cannot guess with which values."},{"owner":{"account_id":22059281,"reputation":43,"user_id":16322244,"display_name":"Krzysiek"},"score":0,"creation_date":1638140473,"post_id":70148079,"comment_id":124002186,"body_markdown":"@TylerLiu as peer said","body":"@TylerLiu as peer said"},{"owner":{"account_id":22059281,"reputation":43,"user_id":16322244,"display_name":"Krzysiek"},"score":0,"creation_date":1638140607,"post_id":70148079,"comment_id":124002217,"body_markdown":"@peer but even without lombok I can&#39;t add no parameter constructor because I get: Variable &#39;rates_interface&#39; might not have been initialized etc.","body":"@peer but even without lombok I can&#39;t add no parameter constructor because I get: Variable &#39;rates_interface&#39; might not have been initialized etc."},{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":1,"creation_date":1638140836,"post_id":70148079,"comment_id":124002257,"body_markdown":"Not sure if this will directly solve your problem, but you should use the `@RestController` annotation on your Controller class so that the `@ResponseBody` annotation is included.","body":"Not sure if this will directly solve your problem, but you should use the <code>@RestController</code> annotation on your Controller class so that the <code>@ResponseBody</code> annotation is included."},{"owner":{"account_id":22059281,"reputation":43,"user_id":16322244,"display_name":"Krzysiek"},"score":0,"creation_date":1638141109,"post_id":70148079,"comment_id":124002310,"body_markdown":"@TylerLiu tried it  and it didn&#39;t help but thanks","body":"@TylerLiu tried it  and it didn&#39;t help but thanks"},{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1638141482,"post_id":70148079,"comment_id":124002364,"body_markdown":"As a sanity check, are you sure Lombok is actually generating the constructors? I&#39;ve seen instances where the annotation is added without the IDE complaining, but the Lombok dependency was not added correctly, meaning the annotations didn&#39;t do anything.","body":"As a sanity check, are you sure Lombok is actually generating the constructors? I&#39;ve seen instances where the annotation is added without the IDE complaining, but the Lombok dependency was not added correctly, meaning the annotations didn&#39;t do anything."},{"owner":{"account_id":22059281,"reputation":43,"user_id":16322244,"display_name":"Krzysiek"},"score":0,"creation_date":1638141636,"post_id":70148079,"comment_id":124002394,"body_markdown":"@TylerLiu I&#39;m sure, all was well untill I added new query methods in interfaces and new PostMapping metod getSpecificRate()","body":"@TylerLiu I&#39;m sure, all was well untill I added new query methods in interfaces and new PostMapping metod getSpecificRate()"},{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1638142033,"post_id":70148079,"comment_id":124002463,"body_markdown":"Hmm, I don&#39;t see why a new PostMapping method would cause an issue, it must be the interfaces then. But you have the @Repository annotation on them. Very strange...","body":"Hmm, I don&#39;t see why a new PostMapping method would cause an issue, it must be the interfaces then. But you have the @Repository annotation on them. Very strange..."}],"answers":[{"tags":[],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638147699,"creation_date":1638147699,"answer_id":70148778,"question_id":70148079,"body_markdown":"Your `CurrencyExchange_Logic` class has two constructors: the required args constructor, which has parameters corresponding to the 3 `final` fields, and the all args constructor, with parameters corresponding to those 3 fields as well as `start` and `end`.\r\n\r\nWhen you only have one constructor defined, Spring knows how to implicitly choose it for injection. However, when you have more than one, you have to tell it which one you want it to use, using the `@Autowired` or `@Inject` annotation.\r\n\r\nI would guess you want Spring to use the required args constructor, as I doubt Spring has any way of knowing how to resolve the `start` or `end` fields. This can be done in lombok (`@RequiredArgsConstructor(onConstructor_ = @Autowired)`), or by just explicitly writing the constructor yourself and annotating it. Note you could also get rid of the all args constructor, if you don&#39;t need it, and Spring&#39;s implicit constructor injection should &quot;just work.&quot;","title":"Hey, I have a question about dependency injection in Spring and bean instantiation","body":"<p>Your <code>CurrencyExchange_Logic</code> class has two constructors: the required args constructor, which has parameters corresponding to the 3 <code>final</code> fields, and the all args constructor, with parameters corresponding to those 3 fields as well as <code>start</code> and <code>end</code>.</p>\n<p>When you only have one constructor defined, Spring knows how to implicitly choose it for injection. However, when you have more than one, you have to tell it which one you want it to use, using the <code>@Autowired</code> or <code>@Inject</code> annotation.</p>\n<p>I would guess you want Spring to use the required args constructor, as I doubt Spring has any way of knowing how to resolve the <code>start</code> or <code>end</code> fields. This can be done in lombok (<code>@RequiredArgsConstructor(onConstructor_ = @Autowired)</code>), or by just explicitly writing the constructor yourself and annotating it. Note you could also get rid of the all args constructor, if you don't need it, and Spring's implicit constructor injection should &quot;just work.&quot;</p>\n"}],"owner":{"account_id":22059281,"reputation":43,"user_id":16322244,"display_name":"Krzysiek"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70148778,"answer_count":1,"score":2,"last_activity_date":1638167307,"creation_date":1638139162,"question_id":70148079,"body_markdown":"```\r\n@Service\r\n@AllArgsConstructor\r\n@RequiredArgsConstructor\r\n//@NoArgsConstructor\r\npublic class CurrencyExchange_Logic implements LogicInterface {\r\n\r\n\r\n    private final Currency_Interface currency_interface;\r\n    private final Rates_Interface rates_interface;\r\n    private final OldRates_Interface Oldrates_interface;\r\n    String start, end;\r\n\r\n// methods\r\n}\r\n```\r\n\r\n\r\nStack trace:\r\n\r\n```\r\nC:\\Users\\mtsge\\.jdks\\azul-13.0.6\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3.4\\lib\\idea_rt.jar=60750:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3.4\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jdbc\\2.6.0\\spring-boot-starter-data-jdbc-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\2.6.0\\spring-boot-starter-jdbc-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\zaxxer\\HikariCP\\4.0.3\\HikariCP-4.0.3.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-jdbc\\5.3.13\\spring-jdbc-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\data\\spring-data-jdbc\\2.3.0\\spring-data-jdbc-2.3.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\data\\spring-data-relational\\2.3.0\\spring-data-relational-2.3.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\2.6.0\\spring-data-commons-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-tx\\5.3.13\\spring-tx-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\2.6.0\\spring-boot-starter-data-jpa-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\1.3.3\\jakarta.transaction-api-1.3.3.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\2.2.3\\jakarta.persistence-api-2.2.3.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.6.1.Final\\hibernate-core-5.6.1.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.2.Final\\jboss-logging-3.4.2.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\jboss\\jandex\\2.2.3.Final\\jandex-2.2.3.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.2.Final\\hibernate-commons-annotations-5.1.2.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.5\\jaxb-runtime-2.3.5.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.5\\txw2-2.3.5.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.12\\istack-commons-runtime-3.0.12.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\2.6.0\\spring-data-jpa-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-orm\\5.3.13\\spring-orm-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-aspects\\5.3.13\\spring-aspects-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-thymeleaf\\2.6.0\\spring-boot-starter-thymeleaf-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.6.0\\spring-boot-starter-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.6.0\\spring-boot-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.6.0\\spring-boot-autoconfigure-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.6.0\\spring-boot-starter-logging-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.7\\logback-classic-1.2.7.jar;C:\\Users\\mtsge\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.7\\logback-core-1.2.7.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.14.1\\log4j-to-slf4j-2.14.1.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.14.1\\log4j-api-2.14.1.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.32\\jul-to-slf4j-1.7.32.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\yaml\\snakeyaml\\1.29\\snakeyaml-1.29.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\thymeleaf\\extras\\thymeleaf-extras-java8time\\3.0.4.RELEASE\\thymeleaf-extras-java8time-3.0.4.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\2.6.0\\spring-boot-starter-validation-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.55\\tomcat-embed-el-9.0.55.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\6.2.0.Final\\hibernate-validator-6.2.0.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\2.0.2\\jakarta.validation-api-2.0.2.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.6.0\\spring-boot-starter-web-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.6.0\\spring-boot-starter-json-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.0\\jackson-datatype-jdk8-2.13.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.0\\jackson-datatype-jsr310-2.13.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.0\\jackson-module-parameter-names-2.13.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.6.0\\spring-boot-starter-tomcat-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.55\\tomcat-embed-core-9.0.55.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.55\\tomcat-embed-websocket-9.0.55.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-web\\5.3.13\\spring-web-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\mysql\\mysql-connector-java\\8.0.27\\mysql-connector-java-8.0.27.jar;C:\\Users\\mtsge\\.m2\\repository\\javax\\money\\money-api\\1.0.1\\money-api-1.0.1.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\javamoney\\moneta\\1.0\\moneta-1.0.jar;C:\\Users\\mtsge\\.m2\\repository\\javax\\annotation\\javax.annotation-api\\1.3.2\\javax.annotation-api-1.3.2.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\thymeleaf\\thymeleaf\\3.0.11.RELEASE\\thymeleaf-3.0.11.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\ognl\\ognl\\3.1.12\\ognl-3.1.12.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\javassist\\javassist\\3.20.0-GA\\javassist-3.20.0-GA.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\attoparser\\attoparser\\2.0.5.RELEASE\\attoparser-2.0.5.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\unbescape\\unbescape\\1.1.6.RELEASE\\unbescape-1.1.6.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.32\\slf4j-api-1.7.32.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.7\\spring-webmvc-5.3.7.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.13\\spring-aop-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.13\\spring-beans-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-context\\5.3.13\\spring-context-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-core\\5.3.13\\spring-core-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.13\\spring-jcl-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.13\\spring-expression-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\2.5.2\\spring-boot-starter-aop-2.5.2.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.7\\aspectjweaver-1.9.7.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\thymeleaf\\thymeleaf-spring5\\3.0.11.RELEASE\\thymeleaf-spring5-3.0.11.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.5\\gson-2.8.5.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\microsoft\\sqlserver\\mssql-jdbc\\9.4.0.jre8\\mssql-jdbc-9.4.0.jre8.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.22\\lombok-1.18.22.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\2.3.3\\jakarta.xml.bind-api-2.3.3.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\1.2.2\\jakarta.activation-api-1.2.2.jar;C:\\Users\\mtsge\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.11.22\\byte-buddy-1.11.22.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.11.3\\jackson-databind-2.11.3.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.0\\jackson-annotations-2.13.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.0\\jackson-core-2.13.0.jar&quot; com.example.currence_exchange.CurrenceExchangeApplication\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.0)\r\n\r\n2021-11-28 23:09:44.805  INFO 6976 --- [           main] c.e.c.CurrenceExchangeApplication        : Starting CurrenceExchangeApplication using Java 13.0.6 on DESKTOP-61G00PJ with PID 6976 (C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes started by mtsge in C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2)\r\n2021-11-28 23:09:44.810  INFO 6976 --- [           main] c.e.c.CurrenceExchangeApplication        : No active profile set, falling back to default profiles: default\r\n2021-11-28 23:09:46.741  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\r\n2021-11-28 23:09:46.741  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2021-11-28 23:09:46.855  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93 ms. Found 3 JPA repository interfaces.\r\n2021-11-28 23:09:47.146  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\r\n2021-11-28 23:09:47.147  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n2021-11-28 23:09:47.162  INFO 6976 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.example.currence_exchange.Interfaces.Currency_Interface. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2021-11-28 23:09:47.163  INFO 6976 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.example.currence_exchange.Interfaces.OldRates_Interface. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2021-11-28 23:09:47.165  INFO 6976 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.example.currence_exchange.Interfaces.Rates_Interface. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2021-11-28 23:09:47.166  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.\r\n2021-11-28 23:09:48.606  INFO 6976 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2021-11-28 23:09:48.624  INFO 6976 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-11-28 23:09:48.624  INFO 6976 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]\r\n2021-11-28 23:09:48.844  INFO 6976 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-11-28 23:09:48.845  INFO 6976 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3880 ms\r\n2021-11-28 23:09:49.138  INFO 6976 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2021-11-28 23:09:49.228  INFO 6976 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final\r\n2021-11-28 23:09:49.507  INFO 6976 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2021-11-28 23:09:49.704  INFO 6976 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2021-11-28 23:09:50.381  INFO 6976 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2021-11-28 23:09:50.429  INFO 6976 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\n2021-11-28 23:09:51.771  INFO 6976 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2021-11-28 23:09:51.789  INFO 6976 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2021-11-28 23:09:51.810  WARN 6976 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;viewControllers&#39; defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Controllers\\ViewControllers.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;currencyExchange_Logic&#39; defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Service\\CurrencyExchange_Logic.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.currence_exchange.Service.CurrencyExchange_Logic]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\r\n2021-11-28 23:09:51.811  INFO 6976 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2021-11-28 23:09:51.815  INFO 6976 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2021-11-28 23:09:51.841  INFO 6976 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2021-11-28 23:09:51.843  INFO 6976 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2021-11-28 23:09:51.860  INFO 6976 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2021-11-28 23:09:51.893 ERROR 6976 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;viewControllers&#39; defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Controllers\\ViewControllers.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;currencyExchange_Logic&#39; defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Service\\CurrencyExchange_Logic.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.currence_exchange.Service.CurrencyExchange_Logic]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.0.jar:2.6.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.0.jar:2.6.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.0.jar:2.6.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.0.jar:2.6.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.0.jar:2.6.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.0.jar:2.6.0]\r\n\tat com.example.currence_exchange.CurrenceExchangeApplication.main(CurrenceExchangeApplication.java:14) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;currencyExchange_Logic&#39; defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Service\\CurrencyExchange_Logic.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.currence_exchange.Service.CurrencyExchange_Logic]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.currence_exchange.Service.CurrencyExchange_Logic]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\t... 31 common frames omitted\r\nCaused by: java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3350) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2554) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\t... 32 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nController class\r\n\r\n```\r\n@Controller\r\n@RequiredArgsConstructor\r\npublic class ViewControllers {\r\n\r\n    private final CurrencyExchange_Logic currencyExchange_logic;\r\n    private final Rates_Interface rates_interface;\r\n    private final OldRates_Interface Oldrates_interface;\r\n\r\n\r\n    @PostMapping(&quot;specificRate&quot;)\r\n    public String getSpecificRate(Model model, @ModelAttribute(&quot;specific&quot;) @Valid RatesViewModel ratesViewModel) {\r\n        Set set = new HashSet&lt;&gt;();\r\n        set.add(rates_interface.getByCode(ratesViewModel.getCode()));\r\n        set.add(Oldrates_interface.getByCode(ratesViewModel.getCode()));\r\n\r\n        model.addAttribute(&quot;spec&quot;, set);\r\n        return &quot;formPage&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;all&quot;)\r\n    public String all(Model model, @RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) Integer page,\r\n                      @RequestParam(value = &quot;size&quot;, defaultValue = &quot;5&quot;) Integer size) {\r\n\r\n        Page&lt;CurrencyEntity&gt; ratePage = currencyExchange_logic.pagination(PageRequest.of(page - 1, size));\r\n        model.addAttribute(&quot;all&quot;, ratePage);\r\n\r\n        int totalPages = ratePage.getTotalPages();\r\n        if (totalPages &gt; 0) {\r\n            List&lt;Integer&gt; pageNumbers = IntStream.rangeClosed(1, totalPages)\r\n                    .boxed()\r\n                    .collect(Collectors.toList());\r\n            model.addAttribute(&quot;pageNumbers&quot;, pageNumbers);\r\n        }\r\n        return &quot;allPage&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;AllRates&quot;)\r\n    public String allRates(Model model) {\r\n        model.addAttribute(&quot;ratesOf&quot;, new DatesViewModel());\r\n        model.addAttribute(&quot;allRates&quot;, rates_interface.findAll());\r\n        return &quot;allRates&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String mainPaige(Model model) {\r\n        model.addAttribute(&quot;currencyAndAmount&quot;, new CurrencyViewModel());\r\n        return &quot;formPage&quot;;\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;RatesOfPeriod&quot;)\r\n    public String RatesOfPeriod(@ModelAttribute(&quot;ratesOf&quot;) @Valid DatesViewModel datesViewModel,\r\n                                BindingResult bindingResult, Model model) {\r\n        if (!bindingResult.hasErrors()) {\r\n            String start = Objects.toString(datesViewModel.getDatesFrom(), &quot;&quot;);\r\n            String end = Objects.toString(datesViewModel.getDatesTo(), &quot;&quot;);\r\n            try {\r\n                currencyExchange_logic.getRatesOfDates(start, end);\r\n                model.addAttribute(&quot;allRates&quot;, Oldrates_interface.findAll());\r\n                Oldrates_interface.deleteAll();\r\n            } catch (IOException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n        return &quot;allRates&quot;;\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;Calculate&quot;)\r\n    public String Calculate(@ModelAttribute(&quot;currencyAndAmount&quot;) @Valid CurrencyViewModel currencyViewModel,\r\n                            BindingResult bindingResult, Model model) {\r\n        if (!bindingResult.hasErrors()) {\r\n            var entity = currencyExchange_logic.CurrencyViewModelToEntity(currencyViewModel);\r\n            String start = Objects.toString(entity.getDateFrom(), &quot;&quot;);\r\n            String end = Objects.toString(entity.getDateTo(), &quot;&quot;);\r\n            try {\r\n                MonetaryAmountJson currencyJson = currencyExchange_logic.currencyJson(start, end);\r\n                var calVal = currencyExchange_logic.calculateMoney(currencyJson, entity);\r\n                model.addAttribute(&quot;endValue&quot;, calVal);\r\n            } catch (IOException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n            return &quot;end&quot;;\r\n        } else {\r\n            return &quot;formPage&quot;;\r\n        }\r\n    }\r\n\r\n// TODO: 28.11.2021 napisac testy i ZREFAKTOROWAC\r\n}\r\n```\r\n\r\ninterfaces\r\n\r\n```\r\nRepository\r\npublic interface Rates_Interface extends JpaRepository&lt;RatesEntity, Long&gt; {\r\n\r\n    @Query(&quot;select r from RatesEntity r where r.code = :code&quot;)\r\n    List&lt;RatesEntity&gt; getByCode(@Param(&quot;code&quot;) CurrencyEnum code);\r\n\r\n\r\n}\r\n\r\n\r\n\r\n@Repository\r\npublic interface OldRates_Interface extends JpaRepository&lt;OldRatesEntity, Long&gt; {\r\n\r\n    @Query(&quot;select r from OldRatesEntity r where r.code = :code&quot;)\r\n    List&lt;OldRatesEntity&gt; getByCode(@Param(&quot;code&quot;) CurrencyEnum code);\r\n}\r\n\r\n```\r\n\r\nQuestion i have is that stack informs that a bean Currency_Interface_Logic cannot be created beacuse the class above does not have a default constructor and therefore cannot inject dependencies but annotated this class with `@AllArgsConstructor`, `@RequiredArgsConstructor` (can&#39; add `@NoArgsConstructor`) so everything should be fine. Why do I get this error and how to fix it?\r\nAll was good until I added a new `@PostMapping` method (`getSpecificRate()`) and new query methods in above interfaces ","title":"Hey, I have a question about dependency injection in Spring and bean instantiation","body":"<pre><code>@Service\n@AllArgsConstructor\n@RequiredArgsConstructor\n//@NoArgsConstructor\npublic class CurrencyExchange_Logic implements LogicInterface {\n\n\n    private final Currency_Interface currency_interface;\n    private final Rates_Interface rates_interface;\n    private final OldRates_Interface Oldrates_interface;\n    String start, end;\n\n// methods\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>C:\\Users\\mtsge\\.jdks\\azul-13.0.6\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3.4\\lib\\idea_rt.jar=60750:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3.4\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jdbc\\2.6.0\\spring-boot-starter-data-jdbc-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\2.6.0\\spring-boot-starter-jdbc-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\zaxxer\\HikariCP\\4.0.3\\HikariCP-4.0.3.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-jdbc\\5.3.13\\spring-jdbc-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\data\\spring-data-jdbc\\2.3.0\\spring-data-jdbc-2.3.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\data\\spring-data-relational\\2.3.0\\spring-data-relational-2.3.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\2.6.0\\spring-data-commons-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-tx\\5.3.13\\spring-tx-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\2.6.0\\spring-boot-starter-data-jpa-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\1.3.3\\jakarta.transaction-api-1.3.3.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\2.2.3\\jakarta.persistence-api-2.2.3.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.6.1.Final\\hibernate-core-5.6.1.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.2.Final\\jboss-logging-3.4.2.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\jboss\\jandex\\2.2.3.Final\\jandex-2.2.3.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.2.Final\\hibernate-commons-annotations-5.1.2.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.5\\jaxb-runtime-2.3.5.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.5\\txw2-2.3.5.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.12\\istack-commons-runtime-3.0.12.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\2.6.0\\spring-data-jpa-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-orm\\5.3.13\\spring-orm-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-aspects\\5.3.13\\spring-aspects-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-thymeleaf\\2.6.0\\spring-boot-starter-thymeleaf-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.6.0\\spring-boot-starter-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.6.0\\spring-boot-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.6.0\\spring-boot-autoconfigure-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.6.0\\spring-boot-starter-logging-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.7\\logback-classic-1.2.7.jar;C:\\Users\\mtsge\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.7\\logback-core-1.2.7.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.14.1\\log4j-to-slf4j-2.14.1.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.14.1\\log4j-api-2.14.1.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.32\\jul-to-slf4j-1.7.32.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\yaml\\snakeyaml\\1.29\\snakeyaml-1.29.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\thymeleaf\\extras\\thymeleaf-extras-java8time\\3.0.4.RELEASE\\thymeleaf-extras-java8time-3.0.4.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\2.6.0\\spring-boot-starter-validation-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.55\\tomcat-embed-el-9.0.55.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\6.2.0.Final\\hibernate-validator-6.2.0.Final.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\2.0.2\\jakarta.validation-api-2.0.2.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.6.0\\spring-boot-starter-web-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.6.0\\spring-boot-starter-json-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.0\\jackson-datatype-jdk8-2.13.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.0\\jackson-datatype-jsr310-2.13.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.0\\jackson-module-parameter-names-2.13.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.6.0\\spring-boot-starter-tomcat-2.6.0.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.55\\tomcat-embed-core-9.0.55.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.55\\tomcat-embed-websocket-9.0.55.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-web\\5.3.13\\spring-web-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\mysql\\mysql-connector-java\\8.0.27\\mysql-connector-java-8.0.27.jar;C:\\Users\\mtsge\\.m2\\repository\\javax\\money\\money-api\\1.0.1\\money-api-1.0.1.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\javamoney\\moneta\\1.0\\moneta-1.0.jar;C:\\Users\\mtsge\\.m2\\repository\\javax\\annotation\\javax.annotation-api\\1.3.2\\javax.annotation-api-1.3.2.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\thymeleaf\\thymeleaf\\3.0.11.RELEASE\\thymeleaf-3.0.11.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\ognl\\ognl\\3.1.12\\ognl-3.1.12.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\javassist\\javassist\\3.20.0-GA\\javassist-3.20.0-GA.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\attoparser\\attoparser\\2.0.5.RELEASE\\attoparser-2.0.5.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\unbescape\\unbescape\\1.1.6.RELEASE\\unbescape-1.1.6.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.32\\slf4j-api-1.7.32.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.7\\spring-webmvc-5.3.7.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.13\\spring-aop-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.13\\spring-beans-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-context\\5.3.13\\spring-context-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-core\\5.3.13\\spring-core-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.13\\spring-jcl-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.13\\spring-expression-5.3.13.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\2.5.2\\spring-boot-starter-aop-2.5.2.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.7\\aspectjweaver-1.9.7.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\thymeleaf\\thymeleaf-spring5\\3.0.11.RELEASE\\thymeleaf-spring5-3.0.11.RELEASE.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.5\\gson-2.8.5.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\microsoft\\sqlserver\\mssql-jdbc\\9.4.0.jre8\\mssql-jdbc-9.4.0.jre8.jar;C:\\Users\\mtsge\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.22\\lombok-1.18.22.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\2.3.3\\jakarta.xml.bind-api-2.3.3.jar;C:\\Users\\mtsge\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\1.2.2\\jakarta.activation-api-1.2.2.jar;C:\\Users\\mtsge\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.11.22\\byte-buddy-1.11.22.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.11.3\\jackson-databind-2.11.3.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.0\\jackson-annotations-2.13.0.jar;C:\\Users\\mtsge\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.0\\jackson-core-2.13.0.jar&quot; com.example.currence_exchange.CurrenceExchangeApplication\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.0)\n\n2021-11-28 23:09:44.805  INFO 6976 --- [           main] c.e.c.CurrenceExchangeApplication        : Starting CurrenceExchangeApplication using Java 13.0.6 on DESKTOP-61G00PJ with PID 6976 (C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes started by mtsge in C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2)\n2021-11-28 23:09:44.810  INFO 6976 --- [           main] c.e.c.CurrenceExchangeApplication        : No active profile set, falling back to default profiles: default\n2021-11-28 23:09:46.741  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-11-28 23:09:46.741  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-11-28 23:09:46.855  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93 ms. Found 3 JPA repository interfaces.\n2021-11-28 23:09:47.146  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-11-28 23:09:47.147  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n2021-11-28 23:09:47.162  INFO 6976 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.example.currence_exchange.Interfaces.Currency_Interface. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2021-11-28 23:09:47.163  INFO 6976 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.example.currence_exchange.Interfaces.OldRates_Interface. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2021-11-28 23:09:47.165  INFO 6976 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.example.currence_exchange.Interfaces.Rates_Interface. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2021-11-28 23:09:47.166  INFO 6976 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.\n2021-11-28 23:09:48.606  INFO 6976 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-11-28 23:09:48.624  INFO 6976 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-11-28 23:09:48.624  INFO 6976 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]\n2021-11-28 23:09:48.844  INFO 6976 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-11-28 23:09:48.845  INFO 6976 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3880 ms\n2021-11-28 23:09:49.138  INFO 6976 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-11-28 23:09:49.228  INFO 6976 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final\n2021-11-28 23:09:49.507  INFO 6976 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-11-28 23:09:49.704  INFO 6976 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-11-28 23:09:50.381  INFO 6976 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-11-28 23:09:50.429  INFO 6976 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\n2021-11-28 23:09:51.771  INFO 6976 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2021-11-28 23:09:51.789  INFO 6976 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-11-28 23:09:51.810  WARN 6976 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'viewControllers' defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Controllers\\ViewControllers.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'currencyExchange_Logic' defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Service\\CurrencyExchange_Logic.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.currence_exchange.Service.CurrencyExchange_Logic]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\n2021-11-28 23:09:51.811  INFO 6976 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2021-11-28 23:09:51.815  INFO 6976 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2021-11-28 23:09:51.841  INFO 6976 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2021-11-28 23:09:51.843  INFO 6976 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2021-11-28 23:09:51.860  INFO 6976 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-11-28 23:09:51.893 ERROR 6976 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'viewControllers' defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Controllers\\ViewControllers.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'currencyExchange_Logic' defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Service\\CurrencyExchange_Logic.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.currence_exchange.Service.CurrencyExchange_Logic]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.0.jar:2.6.0]\n    at com.example.currence_exchange.CurrenceExchangeApplication.main(CurrenceExchangeApplication.java:14) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'currencyExchange_Logic' defined in file [C:\\Users\\mtsge\\OneDrive\\Pulpit\\Syf\\Currency Exchange2\\currence_exchange\\target\\classes\\com\\example\\currence_exchange\\Service\\CurrencyExchange_Logic.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.currence_exchange.Service.CurrencyExchange_Logic]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.currence_exchange.Service.CurrencyExchange_Logic]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.13.jar:5.3.13]\n    ... 31 common frames omitted\nCaused by: java.lang.NoSuchMethodException: com.example.currence_exchange.Service.CurrencyExchange_Logic.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3350) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2554) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78) ~[spring-beans-5.3.13.jar:5.3.13]\n    ... 32 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Controller class</p>\n<pre><code>@Controller\n@RequiredArgsConstructor\npublic class ViewControllers {\n\n    private final CurrencyExchange_Logic currencyExchange_logic;\n    private final Rates_Interface rates_interface;\n    private final OldRates_Interface Oldrates_interface;\n\n\n    @PostMapping(&quot;specificRate&quot;)\n    public String getSpecificRate(Model model, @ModelAttribute(&quot;specific&quot;) @Valid RatesViewModel ratesViewModel) {\n        Set set = new HashSet&lt;&gt;();\n        set.add(rates_interface.getByCode(ratesViewModel.getCode()));\n        set.add(Oldrates_interface.getByCode(ratesViewModel.getCode()));\n\n        model.addAttribute(&quot;spec&quot;, set);\n        return &quot;formPage&quot;;\n    }\n\n\n    @GetMapping(&quot;all&quot;)\n    public String all(Model model, @RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) Integer page,\n                      @RequestParam(value = &quot;size&quot;, defaultValue = &quot;5&quot;) Integer size) {\n\n        Page&lt;CurrencyEntity&gt; ratePage = currencyExchange_logic.pagination(PageRequest.of(page - 1, size));\n        model.addAttribute(&quot;all&quot;, ratePage);\n\n        int totalPages = ratePage.getTotalPages();\n        if (totalPages &gt; 0) {\n            List&lt;Integer&gt; pageNumbers = IntStream.rangeClosed(1, totalPages)\n                    .boxed()\n                    .collect(Collectors.toList());\n            model.addAttribute(&quot;pageNumbers&quot;, pageNumbers);\n        }\n        return &quot;allPage&quot;;\n    }\n\n\n    @GetMapping(&quot;AllRates&quot;)\n    public String allRates(Model model) {\n        model.addAttribute(&quot;ratesOf&quot;, new DatesViewModel());\n        model.addAttribute(&quot;allRates&quot;, rates_interface.findAll());\n        return &quot;allRates&quot;;\n    }\n\n\n    @GetMapping(&quot;/&quot;)\n    public String mainPaige(Model model) {\n        model.addAttribute(&quot;currencyAndAmount&quot;, new CurrencyViewModel());\n        return &quot;formPage&quot;;\n    }\n\n\n    @PostMapping(&quot;RatesOfPeriod&quot;)\n    public String RatesOfPeriod(@ModelAttribute(&quot;ratesOf&quot;) @Valid DatesViewModel datesViewModel,\n                                BindingResult bindingResult, Model model) {\n        if (!bindingResult.hasErrors()) {\n            String start = Objects.toString(datesViewModel.getDatesFrom(), &quot;&quot;);\n            String end = Objects.toString(datesViewModel.getDatesTo(), &quot;&quot;);\n            try {\n                currencyExchange_logic.getRatesOfDates(start, end);\n                model.addAttribute(&quot;allRates&quot;, Oldrates_interface.findAll());\n                Oldrates_interface.deleteAll();\n            } catch (IOException e) {\n                System.out.println(e.getMessage());\n            }\n        }\n        return &quot;allRates&quot;;\n    }\n\n\n    @PostMapping(&quot;Calculate&quot;)\n    public String Calculate(@ModelAttribute(&quot;currencyAndAmount&quot;) @Valid CurrencyViewModel currencyViewModel,\n                            BindingResult bindingResult, Model model) {\n        if (!bindingResult.hasErrors()) {\n            var entity = currencyExchange_logic.CurrencyViewModelToEntity(currencyViewModel);\n            String start = Objects.toString(entity.getDateFrom(), &quot;&quot;);\n            String end = Objects.toString(entity.getDateTo(), &quot;&quot;);\n            try {\n                MonetaryAmountJson currencyJson = currencyExchange_logic.currencyJson(start, end);\n                var calVal = currencyExchange_logic.calculateMoney(currencyJson, entity);\n                model.addAttribute(&quot;endValue&quot;, calVal);\n            } catch (IOException e) {\n                System.out.println(e.getMessage());\n            }\n            return &quot;end&quot;;\n        } else {\n            return &quot;formPage&quot;;\n        }\n    }\n\n// TODO: 28.11.2021 napisac testy i ZREFAKTOROWAC\n}\n</code></pre>\n<p>interfaces</p>\n<pre><code>Repository\npublic interface Rates_Interface extends JpaRepository&lt;RatesEntity, Long&gt; {\n\n    @Query(&quot;select r from RatesEntity r where r.code = :code&quot;)\n    List&lt;RatesEntity&gt; getByCode(@Param(&quot;code&quot;) CurrencyEnum code);\n\n\n}\n\n\n\n@Repository\npublic interface OldRates_Interface extends JpaRepository&lt;OldRatesEntity, Long&gt; {\n\n    @Query(&quot;select r from OldRatesEntity r where r.code = :code&quot;)\n    List&lt;OldRatesEntity&gt; getByCode(@Param(&quot;code&quot;) CurrencyEnum code);\n}\n\n</code></pre>\n<p>Question i have is that stack informs that a bean Currency_Interface_Logic cannot be created beacuse the class above does not have a default constructor and therefore cannot inject dependencies but annotated this class with <code>@AllArgsConstructor</code>, <code>@RequiredArgsConstructor</code> (can' add <code>@NoArgsConstructor</code>) so everything should be fine. Why do I get this error and how to fix it?\nAll was good until I added a new <code>@PostMapping</code> method (<code>getSpecificRate()</code>) and new query methods in above interfaces</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":7032092,"reputation":75,"user_id":5387405,"display_name":"mj. rahmati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638166882,"creation_date":1638166882,"answer_id":70150487,"question_id":70143430,"body_markdown":"I finally solved the problem. Follow the code section:\r\n\r\n```\r\n@Bean(&quot;jdbcTemplate&quot;)\r\n@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\npublic JdbcTemplate jdbcTemplate(\r\n        @Qualifier(&quot;tenantIdentifierResolver&quot;) TenantIdentifierResolverImpl tenantResolver,\r\n        @Qualifier(&quot;tenantConnectionProvider&quot;) DataSourceMultiTenantConnectionProviderImpl dataSourceProvider) {\r\n    return new RhaJdbcTemplate(dataSourceProvider.selectDataSource(tenantResolver.resolveCurrentTenantIdentifier()));\r\n}\r\n\r\n@Bean(value = &quot;transactionInterceptor&quot;)\r\npublic TransactionInterceptor transactionInterceptor(\r\n        @Qualifier(&quot;txProxyTemplateConfig&quot;) Properties txProxyTemplateConfig,\r\n        @Qualifier(&quot;transactionManager&quot;) PlatformTransactionManager transactionManager) {\r\n    TransactionInterceptor transactionInterceptor = new TransactionInterceptor();\r\n    transactionInterceptor.setTransactionAttributes(txProxyTemplateConfig);\r\n    transactionInterceptor.setTransactionManager(transactionManager);\r\n    return transactionInterceptor;\r\n}\r\n\r\n@Bean(&quot;genericJdbcDAO&quot;)\r\n@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\npublic ProxyFactoryBean genericJdbcDAO(\r\n        @Qualifier(&quot;jdbcTemplate&quot;) JdbcTemplate jdbcTemplate) throws ClassNotFoundException {\r\n    BaseGenericJdbcDAOImpl genericJdbcDAO = new BaseGenericJdbcDAOImpl();\r\n    genericJdbcDAO.setJdbcTemplate(jdbcTemplate);\r\n    ProxyFactoryBean proxyFactoryBean = new ProxyFactoryBean();\r\n    proxyFactoryBean.setTarget(genericJdbcDAO);\r\n    proxyFactoryBean.setProxyInterfaces(new Class[] {BaseGenericJdbcDAO.class});\r\n    proxyFactoryBean.setInterceptorNames(&quot;transactionInterceptor&quot;);\r\n    return proxyFactoryBean;\r\n}\r\n\r\n```\r\n\r\nThen inject **BaseGenericJdbcDAO** into the controller, as a sample:\r\n\r\n```\r\n@RestController\r\npublic class VoucherLineRest {\r\n    @Resource(name = &quot;genericJdbcDAO&quot;)\r\n    private BaseGenericJdbcDAO genericJdbcDAO;\r\n}\r\n```\r\nYou will see that for every request the correct data source selected and **TransactionInterceptor** intercept every method called from **BaseGenericJdbcDAO** bean and apply the correct transaction propagation on it.\r\n\r\nI hope you enjoy this experience.","title":"How to use transaction interceptor in a multi-tenant spring boot program?","body":"<p>I finally solved the problem. Follow the code section:</p>\n<pre><code>@Bean(&quot;jdbcTemplate&quot;)\n@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic JdbcTemplate jdbcTemplate(\n        @Qualifier(&quot;tenantIdentifierResolver&quot;) TenantIdentifierResolverImpl tenantResolver,\n        @Qualifier(&quot;tenantConnectionProvider&quot;) DataSourceMultiTenantConnectionProviderImpl dataSourceProvider) {\n    return new RhaJdbcTemplate(dataSourceProvider.selectDataSource(tenantResolver.resolveCurrentTenantIdentifier()));\n}\n\n@Bean(value = &quot;transactionInterceptor&quot;)\npublic TransactionInterceptor transactionInterceptor(\n        @Qualifier(&quot;txProxyTemplateConfig&quot;) Properties txProxyTemplateConfig,\n        @Qualifier(&quot;transactionManager&quot;) PlatformTransactionManager transactionManager) {\n    TransactionInterceptor transactionInterceptor = new TransactionInterceptor();\n    transactionInterceptor.setTransactionAttributes(txProxyTemplateConfig);\n    transactionInterceptor.setTransactionManager(transactionManager);\n    return transactionInterceptor;\n}\n\n@Bean(&quot;genericJdbcDAO&quot;)\n@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic ProxyFactoryBean genericJdbcDAO(\n        @Qualifier(&quot;jdbcTemplate&quot;) JdbcTemplate jdbcTemplate) throws ClassNotFoundException {\n    BaseGenericJdbcDAOImpl genericJdbcDAO = new BaseGenericJdbcDAOImpl();\n    genericJdbcDAO.setJdbcTemplate(jdbcTemplate);\n    ProxyFactoryBean proxyFactoryBean = new ProxyFactoryBean();\n    proxyFactoryBean.setTarget(genericJdbcDAO);\n    proxyFactoryBean.setProxyInterfaces(new Class[] {BaseGenericJdbcDAO.class});\n    proxyFactoryBean.setInterceptorNames(&quot;transactionInterceptor&quot;);\n    return proxyFactoryBean;\n}\n\n</code></pre>\n<p>Then inject <strong>BaseGenericJdbcDAO</strong> into the controller, as a sample:</p>\n<pre><code>@RestController\npublic class VoucherLineRest {\n    @Resource(name = &quot;genericJdbcDAO&quot;)\n    private BaseGenericJdbcDAO genericJdbcDAO;\n}\n</code></pre>\n<p>You will see that for every request the correct data source selected and <strong>TransactionInterceptor</strong> intercept every method called from <strong>BaseGenericJdbcDAO</strong> bean and apply the correct transaction propagation on it.</p>\n<p>I hope you enjoy this experience.</p>\n"}],"owner":{"account_id":7032092,"reputation":75,"user_id":5387405,"display_name":"mj. rahmati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70150487,"answer_count":1,"score":1,"last_activity_date":1638166882,"creation_date":1638102838,"question_id":70143430,"body_markdown":"I have a Spring Boot 2 + Hibernate 5 Multi-tenant application that connected to multiple oracle databases. when I use **JpaRepository**, everything is fine, ie after recieving http request, the **&#39;Interceptor&#39;** detects the data source and the **&#39;MultiTenantConnectionProvider&#39;** implementation selects the correct DataSource to be used by **TransactionManager**.\r\nWhat is the problem?\r\nI want to use TransactionInterceptor to handle transactions on some methods(with method names) from specific beans(that extends JdbcDaoSupport or inject JdbcDaoSupport implementations). Sorry if I explained a little confusing.\r\nBut for every http request, the data source of that beans is immutable(the default data source). while injected repositories operate on the correct data source within the correct transaction.\r\n\r\n```\r\n&lt;bean id=&quot;txProxyTemplate&quot; abstract=&quot;true&quot;\r\n          depends-on=&quot;transactionManager&quot;\r\n          class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;transactionManager&quot;&gt;\r\n            &lt;ref bean=&quot;transactionManager&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;transactionAttributes&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;save*&quot;&gt;PROPAGATION_REQUIRED,-Exception&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;genericJdbcDao&quot; parent=&quot;txProxyTemplate&quot;&gt;\r\n        &lt;property name=&quot;target&quot;&gt;\r\n            &lt;bean class=&quot;org.broker.dao.impl.BaseGenericJdbcDAOImpl&quot;&gt;\r\n                &lt;property name=&quot;jdbcTemplate&quot; ref=&quot;jdbcTemplate&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nCan anyone help solve this problem?","title":"How to use transaction interceptor in a multi-tenant spring boot program?","body":"<p>I have a Spring Boot 2 + Hibernate 5 Multi-tenant application that connected to multiple oracle databases. when I use <strong>JpaRepository</strong>, everything is fine, ie after recieving http request, the <strong>'Interceptor'</strong> detects the data source and the <strong>'MultiTenantConnectionProvider'</strong> implementation selects the correct DataSource to be used by <strong>TransactionManager</strong>.\nWhat is the problem?\nI want to use TransactionInterceptor to handle transactions on some methods(with method names) from specific beans(that extends JdbcDaoSupport or inject JdbcDaoSupport implementations). Sorry if I explained a little confusing.\nBut for every http request, the data source of that beans is immutable(the default data source). while injected repositories operate on the correct data source within the correct transaction.</p>\n<pre><code>&lt;bean id=&quot;txProxyTemplate&quot; abstract=&quot;true&quot;\n          depends-on=&quot;transactionManager&quot;\n          class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\n        &lt;property name=&quot;transactionManager&quot;&gt;\n            &lt;ref bean=&quot;transactionManager&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;transactionAttributes&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;save*&quot;&gt;PROPAGATION_REQUIRED,-Exception&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;genericJdbcDao&quot; parent=&quot;txProxyTemplate&quot;&gt;\n        &lt;property name=&quot;target&quot;&gt;\n            &lt;bean class=&quot;org.broker.dao.impl.BaseGenericJdbcDAOImpl&quot;&gt;\n                &lt;property name=&quot;jdbcTemplate&quot; ref=&quot;jdbcTemplate&quot;/&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Can anyone help solve this problem?</p>\n"},{"tags":["java","exit"],"comments":[{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":0,"creation_date":1423754261,"post_id":28481093,"comment_id":45284492,"body_markdown":"What reports this warning? Where do you call `System.exit(0)`, if not already inside a method?","body":"What reports this warning? Where do you call <code>System.exit(0)</code>, if not already inside a method?"},{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":0,"creation_date":1423754301,"post_id":28481093,"comment_id":45284518,"body_markdown":"Duplicate - http://stackoverflow.com/questions/3715967/when-should-we-call-system-exit-in-java - Not that I agree with the accepted answer.","body":"Duplicate - <a href=\"http://stackoverflow.com/questions/3715967/when-should-we-call-system-exit-in-java\" title=\"when should we call system exit in java\">stackoverflow.com/questions/3715967/&hellip;</a> - Not that I agree with the accepted answer."},{"owner":{"account_id":1051236,"reputation":18972,"user_id":1055118,"accept_rate":100,"display_name":"doctorlove"},"score":0,"creation_date":1423754306,"post_id":28481093,"comment_id":45284521,"body_markdown":"Why are you calling `System.exit(0)`?","body":"Why are you calling <code>System.exit(0)</code>?"},{"owner":{"account_id":15830899,"reputation":503,"user_id":11422246,"display_name":"Vasanthakumar Jagannathan"},"score":0,"creation_date":1638166979,"post_id":28481093,"comment_id":124006249,"body_markdown":"In most cases we use System.exit(1), if we are calling jar through script and there is an negative use case it is expected to return exit code 1 or above, then the script will capture the code and use it for the further decision.","body":"In most cases we use System.exit(1), if we are calling jar through script and there is an negative use case it is expected to return exit code 1 or above, then the script will capture the code and use it for the further decision."}],"answers":[{"tags":[],"owner":{"account_id":1686527,"reputation":14163,"user_id":1549700,"accept_rate":84,"display_name":"Machado"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1423755436,"creation_date":1423754326,"answer_id":28481164,"question_id":28481093,"body_markdown":"*&quot;Best Practice&quot;* actually **grounds** on **what** on you want to **execute**.\r\n\r\nIf you really do wish to **terminate** the program immediately, rather than letting upper levels of the program decide what to do, you should call: `System.exit(1)` (or some other non-zero positive exit status).\r\n\r\n- An exit code of `0` says to the shell (and parent processes) that execution completed normally; \r\n\r\n- Positive exit codes report that there was an error. Something you expected that could go wrong went actually wrong;\r\n\r\n- Negative exit code is when something you didn&#39;t expect went wrong (system error - unanticipated exception - externally forced termination e.g. `kill -9`);","title":"Java - Is it bad if a method invokes System.exit?","body":"<p><em>\"Best Practice\"</em> actually <strong>grounds</strong> on <strong>what</strong> on you want to <strong>execute</strong>.</p>\n\n<p>If you really do wish to <strong>terminate</strong> the program immediately, rather than letting upper levels of the program decide what to do, you should call: <code>System.exit(1)</code> (or some other non-zero positive exit status).</p>\n\n<ul>\n<li><p>An exit code of <code>0</code> says to the shell (and parent processes) that execution completed normally; </p></li>\n<li><p>Positive exit codes report that there was an error. Something you expected that could go wrong went actually wrong;</p></li>\n<li><p>Negative exit code is when something you didn't expect went wrong (system error - unanticipated exception - externally forced termination e.g. <code>kill -9</code>);</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423754512,"creation_date":1423754512,"answer_id":28481214,"question_id":28481093,"body_markdown":"The motivation for this warning (I&#39;m guessing you are looking at a findbugs result, but many other tools have this too) is as follows:\r\n\r\nWhen you call `System.exit()` directly. You are unable to use this code inside a unit test or an application server. As in both cases you code is ran inside a framework and you don&#39;t want this framework to exit. \r\n\r\nHowever, when you have a stand alone application, you might eventually want to exit. This can be done in two ways: end the execution of all non-demon threads by making them finish their tasks, or by calling System exit. In large applications using 3rd party libraries, the first option often is not viable or possible. \r\n\r\nSo I personally try to limit my applications to do one or two System exits (such as when the user requests the application to close). Keep them out of any parts of the code that are complex, so you can test and reuse those.","title":"Java - Is it bad if a method invokes System.exit?","body":"<p>The motivation for this warning (I'm guessing you are looking at a findbugs result, but many other tools have this too) is as follows:</p>\n\n<p>When you call <code>System.exit()</code> directly. You are unable to use this code inside a unit test or an application server. As in both cases you code is ran inside a framework and you don't want this framework to exit. </p>\n\n<p>However, when you have a stand alone application, you might eventually want to exit. This can be done in two ways: end the execution of all non-demon threads by making them finish their tasks, or by calling System exit. In large applications using 3rd party libraries, the first option often is not viable or possible. </p>\n\n<p>So I personally try to limit my applications to do one or two System exits (such as when the user requests the application to close). Keep them out of any parts of the code that are complex, so you can test and reuse those.</p>\n"},{"tags":[],"owner":{"account_id":15830899,"reputation":503,"user_id":11422246,"display_name":"Vasanthakumar Jagannathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638166871,"creation_date":1638166871,"answer_id":70150486,"question_id":28481093,"body_markdown":" - In most cases we use System.exit(1), if we are calling jar through\r\n   script and there is an negative use case it is expected to return\r\n   exit code 1 or above, then the script will capture the code and use\r\n   it for the further decision.\r\n\r\nA Guid to System.exit() https://www.baeldung.com/java-system-exit\r\n\r\n ","title":"Java - Is it bad if a method invokes System.exit?","body":"<ul>\n<li>In most cases we use System.exit(1), if we are calling jar through\nscript and there is an negative use case it is expected to return\nexit code 1 or above, then the script will capture the code and use\nit for the further decision.</li>\n</ul>\n<p>A Guid to System.exit() <a href=\"https://www.baeldung.com/java-system-exit\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-system-exit</a></p>\n"}],"owner":{"account_id":1184487,"reputation":2432,"user_id":1158745,"accept_rate":61,"display_name":"user1158745"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7373,"favorite_count":0,"down_vote_count":4,"up_vote_count":6,"answer_count":3,"score":2,"last_activity_date":1638166871,"creation_date":1423754122,"question_id":28481093,"body_markdown":"What&#39;s the best practice to calling `System.exit(0)`?  \r\n\r\nI am intentionally calling `System.exit(0)`.  What&#39;s the proper way to call `System.exit(0)`?\r\n\r\nShould I just create a method that calls `System.exit(0)`?\r\n\r\nThanks.","title":"Java - Is it bad if a method invokes System.exit?","body":"<p>What's the best practice to calling <code>System.exit(0)</code>?  </p>\n\n<p>I am intentionally calling <code>System.exit(0)</code>.  What's the proper way to call <code>System.exit(0)</code>?</p>\n\n<p>Should I just create a method that calls <code>System.exit(0)</code>?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"comments":[{"owner":{"account_id":1016,"reputation":17962,"user_id":1348,"accept_rate":88,"display_name":"blank"},"score":3,"creation_date":1344529670,"post_id":11887799,"comment_id":15820076,"body_markdown":"Why wouldn&#39;t you change the tested code? Code that is more testable is generally more loosely coupled ... why wouldn&#39;t you want that?","body":"Why wouldn&#39;t you change the tested code? Code that is more testable is generally more loosely coupled ... why wouldn&#39;t you want that?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1344529843,"post_id":11887799,"comment_id":15820151,"body_markdown":"possible duplicate of [Override Java System.currentTimeMillis](http://stackoverflow.com/questions/2001671/override-java-system-currenttimemillis)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2001671/override-java-system-currenttimemillis\">Override Java System.currentTimeMillis</a>"},{"owner":{"account_id":1016,"reputation":17962,"user_id":1348,"accept_rate":88,"display_name":"blank"},"score":0,"creation_date":1344530800,"post_id":11887799,"comment_id":15820561,"body_markdown":"... and another thing - changing &#39;tested&#39; code is easy - you&#39;ve got tests to tell you when you made a mistake - changing un-tested code on the other hand ... you need Michael Feathers kung foo ;)","body":"... and another thing - changing &#39;tested&#39; code is easy - you&#39;ve got tests to tell you when you made a mistake - changing un-tested code on the other hand ... you need Michael Feathers kung foo ;)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":11,"creation_date":1344531079,"post_id":11887799,"comment_id":15820685,"body_markdown":"Mocking a new date is not a good strategy ... if you want another date :-)","body":"Mocking a new date is not a good strategy ... if you want another date :-)"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1344553397,"post_id":11887799,"comment_id":15829295,"body_markdown":"Read my answer on http://stackoverflow.com/questions/11042200/can-i-use-mockito-to-match-an-object-with-an-auto-updated-timestamp, which is a similar (but not identical) problem.","body":"Read my answer on <a href=\"http://stackoverflow.com/questions/11042200/can-i-use-mockito-to-match-an-object-with-an-auto-updated-timestamp\" title=\"can i use mockito to match an object with an auto updated timestamp\">stackoverflow.com/questions/11042200/&hellip;</a>, which is a similar (but not identical) problem."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":9,"creation_date":1344553556,"post_id":11887799,"comment_id":15829319,"body_markdown":"@StephenC - Haha!  I had to read your comment about 3 times before I realised it was a joke.","body":"@StephenC - Haha!  I had to read your comment about 3 times before I realised it was a joke."}],"answers":[{"tags":[],"owner":{"account_id":1617529,"reputation":15129,"user_id":1494802,"accept_rate":100,"display_name":"munyengm"},"down_vote_count":1,"up_vote_count":72,"is_accepted":true,"score":71,"last_activity_date":1344548281,"creation_date":1344530097,"answer_id":11887958,"question_id":11887799,"body_markdown":"The right thing to do is to restructure your code to make it more testable as shown below.\r\nRestructuring your code to remove the direct dependency on Date will allow you to inject different implementations for normal runtime and test runtime:\r\n\r\n\r\n\r\n    interface DateTime {\r\n        Date getDate();\r\n    }\r\n    \r\n    class DateTimeImpl implements DateTime {\r\n        @Override\r\n        public Date getDate() {\r\n           return new Date();\r\n        }\r\n    }\r\n    \r\n    class MyClass {\r\n    \r\n        private final DateTime dateTime;\r\n        // inject your Mock DateTime when testing other wise inject DateTimeImpl\r\n    \r\n        public MyClass(final DateTime dateTime) {\r\n            this.dateTime = dateTime;\r\n        }\r\n    \r\n        public long getDoubleTime(){\r\n            return dateTime.getDate().getTime()*2;\r\n        }\r\n    }\r\n    \r\n    public class MyClassTest {\r\n    \tprivate MyClass myClassTest;\r\n    \t\r\n    \t@Before\r\n    \tpublic void setUp() {\r\n            final Date date = Mockito.mock(Date.class);\r\n            Mockito.when(date.getTime()).thenReturn(30L);\r\n    \t\t\r\n            final DateTime dt = Mockito.mock(DateTime.class);\r\n            Mockito.when(dt.getDate()).thenReturn(date);\r\n    \t\t\r\n            myClassTest = new MyClass(dt);\r\n        }\r\n    \t\r\n    \t@Test\r\n    \tpublic void someTest() {\r\n            final long doubleTime = myClassTest.getDoubleTime();\r\n            assertEquals(60, doubleTime);\r\n    \t}\r\n    }","title":"How to mock new Date() in java using Mockito","body":"<p>The right thing to do is to restructure your code to make it more testable as shown below.\nRestructuring your code to remove the direct dependency on Date will allow you to inject different implementations for normal runtime and test runtime:</p>\n\n<pre><code>interface DateTime {\n    Date getDate();\n}\n\nclass DateTimeImpl implements DateTime {\n    @Override\n    public Date getDate() {\n       return new Date();\n    }\n}\n\nclass MyClass {\n\n    private final DateTime dateTime;\n    // inject your Mock DateTime when testing other wise inject DateTimeImpl\n\n    public MyClass(final DateTime dateTime) {\n        this.dateTime = dateTime;\n    }\n\n    public long getDoubleTime(){\n        return dateTime.getDate().getTime()*2;\n    }\n}\n\npublic class MyClassTest {\n    private MyClass myClassTest;\n\n    @Before\n    public void setUp() {\n        final Date date = Mockito.mock(Date.class);\n        Mockito.when(date.getTime()).thenReturn(30L);\n\n        final DateTime dt = Mockito.mock(DateTime.class);\n        Mockito.when(dt.getDate()).thenReturn(date);\n\n        myClassTest = new MyClass(dt);\n    }\n\n    @Test\n    public void someTest() {\n        final long doubleTime = myClassTest.getDoubleTime();\n        assertEquals(60, doubleTime);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1344543209,"creation_date":1344543209,"answer_id":11891231,"question_id":11887799,"body_markdown":"You *could* do this by using [PowerMock][1], which augments Mockito to be able to mock static methods. You could then [mock `System.currentTimeMillis()`][2], which is where `new Date()` ultimately gets the time from.\r\n\r\nYou *could*. I&#39;m not going to advance an opinion on whether you *should*.\r\n\r\n\r\n  [1]: http://code.google.com/p/powermock/wiki/MockitoUsage\r\n  [2]: http://code.google.com/p/powermock/wiki/MockSystem","title":"How to mock new Date() in java using Mockito","body":"<p>You <em>could</em> do this by using <a href=\"http://code.google.com/p/powermock/wiki/MockitoUsage\" rel=\"noreferrer\">PowerMock</a>, which augments Mockito to be able to mock static methods. You could then <a href=\"http://code.google.com/p/powermock/wiki/MockSystem\" rel=\"noreferrer\">mock <code>System.currentTimeMillis()</code></a>, which is where <code>new Date()</code> ultimately gets the time from.</p>\n\n<p>You <em>could</em>. I'm not going to advance an opinion on whether you <em>should</em>.</p>\n"},{"tags":[],"owner":{"account_id":1762888,"reputation":2599,"user_id":1609479,"display_name":"Daniel Mora"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1512548084,"creation_date":1432400776,"answer_id":30415404,"question_id":11887799,"body_markdown":"If you have legacy code that you cannot refactor and you do not want to affect `System.currentTimeMillis()`, try this using `Powermock` and `PowerMockito`\r\n\r\n    //note the static import\r\n    import static org.powermock.api.mockito.PowerMockito.whenNew;\r\n\r\n    @PrepareForTest({ LegacyClassA.class, LegacyClassB.class })\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\n\r\n        Date NOW = sdf.parse(&quot;2015-05-23 00:00:00&quot;);\r\n\r\n        // everytime we call new Date() inside a method of any class\r\n        // declared in @PrepareForTest we will get the NOW instance \r\n        whenNew(Date.class).withNoArguments().thenReturn(NOW);\r\n\r\n    }\r\n\r\n    public class LegacyClassA {\r\n      public Date getSomeDate() {\r\n         return new Date(); //returns NOW\r\n      }\r\n    }\r\n","title":"How to mock new Date() in java using Mockito","body":"<p>If you have legacy code that you cannot refactor and you do not want to affect <code>System.currentTimeMillis()</code>, try this using <code>Powermock</code> and <code>PowerMockito</code></p>\n\n<pre><code>//note the static import\nimport static org.powermock.api.mockito.PowerMockito.whenNew;\n\n@PrepareForTest({ LegacyClassA.class, LegacyClassB.class })\n\n@Before\npublic void setUp() throws Exception {\n\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    sdf.setTimeZone(TimeZone.getTimeZone(\"PST\"));\n\n    Date NOW = sdf.parse(\"2015-05-23 00:00:00\");\n\n    // everytime we call new Date() inside a method of any class\n    // declared in @PrepareForTest we will get the NOW instance \n    whenNew(Date.class).withNoArguments().thenReturn(NOW);\n\n}\n\npublic class LegacyClassA {\n  public Date getSomeDate() {\n     return new Date(); //returns NOW\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467737342,"creation_date":1467737342,"answer_id":38208687,"question_id":11887799,"body_markdown":"One approach, that does not directly answer the question but might solve the underlying problem (having reproducible tests), is allow the `Date` as an parameter for tests and add a delegate to the default date.\r\n\r\nLike so\r\n\r\n    public class ClassToTest {\r\n    \r\n        public long getDoubleTime() {\r\n          return getDoubleTime(new Date());\r\n        }\r\n    \r\n        long getDoubleTime(Date date) {  // package visibility for tests\r\n          return date.getTime() * 2;\r\n        }\r\n    }\r\n\r\nIn production code, you use `getDoubleTime()` and test against `getDoubleTime(Date date)`.","title":"How to mock new Date() in java using Mockito","body":"<p>One approach, that does not directly answer the question but might solve the underlying problem (having reproducible tests), is allow the <code>Date</code> as an parameter for tests and add a delegate to the default date.</p>\n\n<p>Like so</p>\n\n<pre><code>public class ClassToTest {\n\n    public long getDoubleTime() {\n      return getDoubleTime(new Date());\n    }\n\n    long getDoubleTime(Date date) {  // package visibility for tests\n      return date.getTime() * 2;\n    }\n}\n</code></pre>\n\n<p>In production code, you use <code>getDoubleTime()</code> and test against <code>getDoubleTime(Date date)</code>.</p>\n"},{"tags":[],"owner":{"account_id":5717120,"reputation":110,"user_id":4516910,"display_name":"Avraham Shalev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1523361674,"creation_date":1523355269,"answer_id":49751041,"question_id":11887799,"body_markdown":"    Date now = new Date();    \r\n    now.set(2018, Calendar.FEBRUARY, 15, 1, 0); // set date to 2018-02-15\r\n    //set current time to 2018-02-15\r\n\tmockCurrentTime(now.getTimeInMillis());\r\n\r\n\tprivate void mockCurrentTime(long currTimeUTC) throws Exception {\r\n\t\t// mock new dates with current time\r\n\t\tPowerMockito.mockStatic(Date.class);\r\n\t\tPowerMockito.whenNew(Date.class).withNoArguments().thenAnswer(new Answer&lt;Date&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Date answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\t\treturn new Date(currTimeUTC);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//do not mock creation of specific dates\r\n\t\tPowerMockito.whenNew(Date.class).withArguments(anyLong()).thenAnswer(new Answer&lt;Date&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Date answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\t\treturn new Date((long) invocation.getArguments()[0]);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// mock new calendars created with time zone\r\n\t\tPowerMockito.mockStatic(Calendar.class);\r\n\t\tMockito.when(Calendar.getInstance(any(TimeZone.class))).thenAnswer(new Answer&lt;Calendar&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic Calendar answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\t\tTimeZone tz = invocation.getArgumentAt(0, TimeZone.class);\r\n\t\t\t\tCalendar cal = Calendar.getInstance(tz);\r\n\t\t\t\tcal.setTimeInMillis(currTimeUTC);\r\n\t\t\t\treturn cal;\r\n\t\t\t}\r\n\t\t});\r\n\t}","title":"How to mock new Date() in java using Mockito","body":"<pre><code>Date now = new Date();    \nnow.set(2018, Calendar.FEBRUARY, 15, 1, 0); // set date to 2018-02-15\n//set current time to 2018-02-15\nmockCurrentTime(now.getTimeInMillis());\n\nprivate void mockCurrentTime(long currTimeUTC) throws Exception {\n    // mock new dates with current time\n    PowerMockito.mockStatic(Date.class);\n    PowerMockito.whenNew(Date.class).withNoArguments().thenAnswer(new Answer&lt;Date&gt;() {\n\n        @Override\n        public Date answer(InvocationOnMock invocation) throws Throwable {\n            return new Date(currTimeUTC);\n        }\n    });\n\n    //do not mock creation of specific dates\n    PowerMockito.whenNew(Date.class).withArguments(anyLong()).thenAnswer(new Answer&lt;Date&gt;() {\n\n        @Override\n        public Date answer(InvocationOnMock invocation) throws Throwable {\n            return new Date((long) invocation.getArguments()[0]);\n        }\n    });\n\n    // mock new calendars created with time zone\n    PowerMockito.mockStatic(Calendar.class);\n    Mockito.when(Calendar.getInstance(any(TimeZone.class))).thenAnswer(new Answer&lt;Calendar&gt;() {\n        @Override\n        public Calendar answer(InvocationOnMock invocation) throws Throwable {\n            TimeZone tz = invocation.getArgumentAt(0, TimeZone.class);\n            Calendar cal = Calendar.getInstance(tz);\n            cal.setTimeInMillis(currTimeUTC);\n            return cal;\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12885913,"reputation":1275,"user_id":9319403,"display_name":"peter zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616901091,"creation_date":1616901091,"answer_id":66838084,"question_id":11887799,"body_markdown":"you can also use jmockit to mock new Date():\r\n\r\n```Java\r\n    @Test\r\n    public void mockTime() {\r\n        new MockUp&lt;System&gt;() {\r\n            @Mock\r\n            public long currentTimeMillis() {\r\n                // Now is always 11/11/2021\r\n                Date fake = new Date(121, Calendar.DECEMBER, 11);\r\n                return fake.getTime();\r\n            }\r\n        };\r\n        Assert.assertEquals(&quot;mock time failed&quot;, new Date(121, Calendar.DECEMBER, 11), new Date());\r\n    }\r\n```","title":"How to mock new Date() in java using Mockito","body":"<p>you can also use jmockit to mock new Date():</p>\n<pre><code>    @Test\n    public void mockTime() {\n        new MockUp&lt;System&gt;() {\n            @Mock\n            public long currentTimeMillis() {\n                // Now is always 11/11/2021\n                Date fake = new Date(121, Calendar.DECEMBER, 11);\n                return fake.getTime();\n            }\n        };\n        Assert.assertEquals(&quot;mock time failed&quot;, new Date(121, Calendar.DECEMBER, 11), new Date());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638166772,"creation_date":1617373224,"answer_id":66920707,"question_id":11887799,"body_markdown":"Working example with `new Date()` and `System.currentTimeMillis()` using PowerMockito.\\\r\nHere is an example for [Instance][1].\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(LegacyClass.class) // prepares byte-code of the LegacyClass\r\npublic class SystemTimeTest {\r\n    \r\n    private final Date fakeNow = Date.from(Instant.parse(&quot;2010-12-03T10:15:30.00Z&quot;));\r\n\r\n    @Before\r\n    public void init() throws Exception {\r\n        // mock new Date()\r\n        PowerMockito.whenNew(Date.class).withNoArguments().thenReturn(fakeNow);\r\n        System.out.println(&quot;Fake now: &quot; + fakeNow);\r\n\r\n        // mock System.currentTimeMillis()\r\n        PowerMockito.mockStatic(System.class);\r\n        PowerMockito.when(System.currentTimeMillis()).thenReturn(fakeNow.getTime());\r\n        System.out.println(&quot;Fake currentTimeMillis: &quot; + System.currentTimeMillis());\r\n    }\r\n\r\n    @Test\r\n    public void legacyClass() {\r\n        LegacyClass legacyClass = new LegacyClass();\r\n        legacyClass.methodWithNewDate();\r\n        legacyClass.methodWithCurrentTimeMillis();\r\n    }\r\n\r\n}\r\n\r\nclass LegacyClass {\r\n\r\n    public void methodWithNewDate() {\r\n        Date now = new Date();\r\n        System.out.println(&quot;LegacyClass new Date() is &quot; + now);\r\n    }\r\n\r\n    public void methodWithCurrentTimeMillis() {\r\n        long now = System.currentTimeMillis();\r\n        System.out.println(&quot;LegacyClass System.currentTimeMillis() is &quot; + now);\r\n    }\r\n\r\n}\r\n```\r\n\r\nConsole output\r\n```\r\nFake now: Fri Dec 03 16:15:30 NOVT 2010\r\nFake currentTimeMillis: 1291371330000\r\nLegacyClass new Date() is Fri Dec 03 16:15:30 NOVT 2010\r\nLegacyClass System.currentTimeMillis() is 1291371330000\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2001671/override-java-system-currenttimemillis-for-testing-time-sensitive-code/66920829#66920829","title":"How to mock new Date() in java using Mockito","body":"<p>Working example with <code>new Date()</code> and <code>System.currentTimeMillis()</code> using PowerMockito.<br />\nHere is an example for <a href=\"https://stackoverflow.com/questions/2001671/override-java-system-currenttimemillis-for-testing-time-sensitive-code/66920829#66920829\">Instance</a>.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(LegacyClass.class) // prepares byte-code of the LegacyClass\npublic class SystemTimeTest {\n    \n    private final Date fakeNow = Date.from(Instant.parse(&quot;2010-12-03T10:15:30.00Z&quot;));\n\n    @Before\n    public void init() throws Exception {\n        // mock new Date()\n        PowerMockito.whenNew(Date.class).withNoArguments().thenReturn(fakeNow);\n        System.out.println(&quot;Fake now: &quot; + fakeNow);\n\n        // mock System.currentTimeMillis()\n        PowerMockito.mockStatic(System.class);\n        PowerMockito.when(System.currentTimeMillis()).thenReturn(fakeNow.getTime());\n        System.out.println(&quot;Fake currentTimeMillis: &quot; + System.currentTimeMillis());\n    }\n\n    @Test\n    public void legacyClass() {\n        LegacyClass legacyClass = new LegacyClass();\n        legacyClass.methodWithNewDate();\n        legacyClass.methodWithCurrentTimeMillis();\n    }\n\n}\n\nclass LegacyClass {\n\n    public void methodWithNewDate() {\n        Date now = new Date();\n        System.out.println(&quot;LegacyClass new Date() is &quot; + now);\n    }\n\n    public void methodWithCurrentTimeMillis() {\n        long now = System.currentTimeMillis();\n        System.out.println(&quot;LegacyClass System.currentTimeMillis() is &quot; + now);\n    }\n\n}\n</code></pre>\n<p>Console output</p>\n<pre><code>Fake now: Fri Dec 03 16:15:30 NOVT 2010\nFake currentTimeMillis: 1291371330000\nLegacyClass new Date() is Fri Dec 03 16:15:30 NOVT 2010\nLegacyClass System.currentTimeMillis() is 1291371330000\n</code></pre>\n"}],"owner":{"account_id":1126566,"reputation":3898,"user_id":1113715,"accept_rate":90,"display_name":"Jordi P.S."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145285,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":11887958,"answer_count":7,"score":57,"last_activity_date":1638166772,"creation_date":1344529484,"question_id":11887799,"body_markdown":"I have a function that uses the current time to make some calculations. I&#39;d like to mock it using mockito.\r\n\r\nAn example of the class I&#39;d like to test:\r\n\r\n    public class ClassToTest {\r\n        public long getDoubleTime(){\r\n            return new Date().getTime()*2;\r\n        }\r\n    }\r\n\r\nI&#39;d like something like:\r\n\r\n    @Test\r\n    public void testDoubleTime(){\r\n       mockDateSomeHow(Date.class).when(getTime()).return(30);\r\n       assertEquals(60,new ClassToTest().getDoubleTime());\r\n    }\r\n\r\nIs it possible to mock that? I wouldn&#39;t like to change the &quot;tested&quot; code in order to be tested.","title":"How to mock new Date() in java using Mockito","body":"<p>I have a function that uses the current time to make some calculations. I'd like to mock it using mockito.</p>\n\n<p>An example of the class I'd like to test:</p>\n\n<pre><code>public class ClassToTest {\n    public long getDoubleTime(){\n        return new Date().getTime()*2;\n    }\n}\n</code></pre>\n\n<p>I'd like something like:</p>\n\n<pre><code>@Test\npublic void testDoubleTime(){\n   mockDateSomeHow(Date.class).when(getTime()).return(30);\n   assertEquals(60,new ClassToTest().getDoubleTime());\n}\n</code></pre>\n\n<p>Is it possible to mock that? I wouldn't like to change the \"tested\" code in order to be tested.</p>\n"},{"tags":["java","collections","hashmap","key","key-value"],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638166552,"creation_date":1638166552,"answer_id":70150446,"question_id":70150215,"body_markdown":"The way you describe it, it looks like this\r\n\r\n```java\r\n\r\nSet&lt;String&gt; kyes = map1.keySet();\r\n\r\nfor(String key: keys){\r\n String newKey = map2.get(key);\r\n String newValue = map1.get(key);\r\n newMap.put(newKey,newValue); \r\n\r\n}\r\n\r\n```","title":"how replace key from HashMap to values in newMap?","body":"<p>The way you describe it, it looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nSet&lt;String&gt; kyes = map1.keySet();\n\nfor(String key: keys){\n String newKey = map2.get(key);\n String newValue = map1.get(key);\n newMap.put(newKey,newValue); \n\n}\n\n</code></pre>\n"}],"owner":{"account_id":21054669,"reputation":1,"user_id":15497862,"display_name":"Alexander G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638166552,"creation_date":1638164546,"question_id":70150215,"body_markdown":"    HashMap&lt;String,String&gt; map1 = new HashMap&lt;String,String&gt;(); \r\n    map1.put(&quot;1&quot;,&quot;Russia&quot;); \r\n    map1.put(&quot;2&quot;,&quot;USA&quot;);\r\n\r\n//values from map2 to key in map1 or in newMap\r\n\r\n    HashMap&lt;String,String&gt; map2 = new HashMap&lt;String,String&gt;(); \r\n    map2.put(&quot;1&quot;,&quot;Moskow&quot;); \r\n    map2.put(&quot;2&quot;,&quot;New York&quot;);\r\n\r\n//how relplace value to key? in new Map\r\n\r\n    HashMap&lt;String,String&gt; newMap = new HashMap&lt;String,String&gt;(); \r\n    newMap.put(&quot;New York&quot;,&quot;USA&quot;); //key &quot;2&quot; from map1 &amp; map2","title":"how replace key from HashMap to values in newMap?","body":"<pre><code>HashMap&lt;String,String&gt; map1 = new HashMap&lt;String,String&gt;(); \nmap1.put(&quot;1&quot;,&quot;Russia&quot;); \nmap1.put(&quot;2&quot;,&quot;USA&quot;);\n</code></pre>\n<p>//values from map2 to key in map1 or in newMap</p>\n<pre><code>HashMap&lt;String,String&gt; map2 = new HashMap&lt;String,String&gt;(); \nmap2.put(&quot;1&quot;,&quot;Moskow&quot;); \nmap2.put(&quot;2&quot;,&quot;New York&quot;);\n</code></pre>\n<p>//how relplace value to key? in new Map</p>\n<pre><code>HashMap&lt;String,String&gt; newMap = new HashMap&lt;String,String&gt;(); \nnewMap.put(&quot;New York&quot;,&quot;USA&quot;); //key &quot;2&quot; from map1 &amp; map2\n</code></pre>\n"},{"tags":["java","multithreading","hibernate-entitymanager"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1638165583,"post_id":70150305,"comment_id":124005998,"body_markdown":"Entity manager is not thread safe. Each thread needs its own.","body":"Entity manager is not thread safe. Each thread needs its own."},{"owner":{"account_id":18503109,"reputation":151,"user_id":13479972,"display_name":"tedd"},"score":0,"creation_date":1638165879,"post_id":70150305,"comment_id":124006051,"body_markdown":"Thanks, In each thread i need create new ```UserService``` class instead of a static class, right ?","body":"Thanks, In each thread i need create new <code>UserService</code> class instead of a static class, right ?"},{"owner":{"account_id":18503109,"reputation":151,"user_id":13479972,"display_name":"tedd"},"score":0,"creation_date":1638166044,"post_id":70150305,"comment_id":124006084,"body_markdown":"if i don&#39;t use static class i get the following error [SQLITE_BUSY] The database file is locked (database is locked)","body":"if i don&#39;t use static class i get the following error [SQLITE_BUSY] The database file is locked (database is locked)"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1638169472,"post_id":70150305,"comment_id":124006768,"body_markdown":"You need to share the `EntityManagerFactory`.","body":"You need to share the <code>EntityManagerFactory</code>."}],"owner":{"account_id":18503109,"reputation":151,"user_id":13479972,"display_name":"tedd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638166094,"creation_date":1638165426,"question_id":70150305,"body_markdown":"I&#39;m making an application for multiple client and 1 server socket, each client socket work on with a thread. When a client contact with other client and do something then both send request to server to update current user, and each thread responsible for each client will update to database by ```UserService``` class **at the same time**. This make transaction get the error.\r\n```\r\npublic class UserService {\r\n    EntityManagerFactory entityManagerFactory;\r\n    @PersistenceContext\r\n    EntityManager entityManager;\r\n    EntityTransaction transaction;\r\n\r\n    public UserService() {\r\n        // turn off\r\n        entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;);\r\n        entityManager = entityManagerFactory.createEntityManager();\r\n        transaction = entityManager.getTransaction();\r\n    }\r\n    public void updateUser(User user) {\r\n        try {\r\n            transaction.begin();\r\n            entityManager.merge(user);\r\n            transaction.commit();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n**NOTE:** thread class that controls a socket I have declared static ```UserService```\r\nif i don&#39;t use static class i get the following error ```[SQLITE_BUSY] The database file is locked (database is locked)```\r\n```\r\npublic class EchoThread extends Thread {\r\n    protected Socket socket;\r\n    BufferedReader in;\r\n    BufferedWriter out;\r\n    private static UserService userService = new UserService();;\r\n\r\n    public EchoThread(Socket clientSocket) {\r\n        this.socket = clientSocket;\r\n    }\r\n\r\n    public void run() {\r\n        in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n        out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n        line = in.readLine();\r\n        // do something with current user\r\n\r\n        userService.updateUser(user);\r\n\r\n    }\r\n\r\n}\r\n```\r\nError\r\n```\r\njavax.persistence.RollbackException: Error while committing the transaction\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\r\n\tat Services.UserService.updateUser(UserService.java:25)\r\n\tat Utils.EchoThread.run(EchoThread.java:284)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map$Entry.getValue()&quot; because &quot;me&quot; is null\r\nERROR: HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: possible nonthreadsafe access to session\r\n```\r\n\r\nHow i can update it","title":"Cannot update database with EntityManager by using multithread socket","body":"<p>I'm making an application for multiple client and 1 server socket, each client socket work on with a thread. When a client contact with other client and do something then both send request to server to update current user, and each thread responsible for each client will update to database by <code>UserService</code> class <strong>at the same time</strong>. This make transaction get the error.</p>\n<pre><code>public class UserService {\n    EntityManagerFactory entityManagerFactory;\n    @PersistenceContext\n    EntityManager entityManager;\n    EntityTransaction transaction;\n\n    public UserService() {\n        // turn off\n        entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;);\n        entityManager = entityManagerFactory.createEntityManager();\n        transaction = entityManager.getTransaction();\n    }\n    public void updateUser(User user) {\n        try {\n            transaction.begin();\n            entityManager.merge(user);\n            transaction.commit();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>NOTE:</strong> thread class that controls a socket I have declared static <code>UserService</code>\nif i don't use static class i get the following error <code>[SQLITE_BUSY] The database file is locked (database is locked)</code></p>\n<pre><code>public class EchoThread extends Thread {\n    protected Socket socket;\n    BufferedReader in;\n    BufferedWriter out;\n    private static UserService userService = new UserService();;\n\n    public EchoThread(Socket clientSocket) {\n        this.socket = clientSocket;\n    }\n\n    public void run() {\n        in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n        line = in.readLine();\n        // do something with current user\n\n        userService.updateUser(user);\n\n    }\n\n}\n</code></pre>\n<p>Error</p>\n<pre><code>javax.persistence.RollbackException: Error while committing the transaction\n    at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\n    at Services.UserService.updateUser(UserService.java:25)\n    at Utils.EchoThread.run(EchoThread.java:284)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map$Entry.getValue()&quot; because &quot;me&quot; is null\nERROR: HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: possible nonthreadsafe access to session\n</code></pre>\n<p>How i can update it</p>\n"},{"tags":["java","spring","spring-boot","azure-waf"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1638166964,"post_id":70150291,"comment_id":124006247,"body_markdown":"*Is this approach correct?* no it isn&#39;t.","body":"<i>Is this approach correct?</i> no it isn&#39;t."},{"owner":{"account_id":9027238,"reputation":53,"user_id":6726150,"display_name":"Saketh Ram"},"score":0,"creation_date":1638202693,"post_id":70150291,"comment_id":124019637,"body_markdown":"Thank you @M.Deinum for quick response, Can you please suggest what is the right way to handle this instead of turning off the WAF rule? I am guessing this is a common problem for string request bodies flowing between frontend and backends..","body":"Thank you @M.Deinum for quick response, Can you please suggest what is the right way to handle this instead of turning off the WAF rule? I am guessing this is a common problem for string request bodies flowing between frontend and backends.."}],"owner":{"account_id":9027238,"reputation":53,"user_id":6726150,"display_name":"Saketh Ram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638165313,"creation_date":1638165313,"question_id":70150291,"body_markdown":"The azure waf is giving a sql injection rule match and rejecting with 403 if my request body in JSON has and sql keywords or special characters and we cannot disable the rule by our company policy. \r\n\r\nI wanted to get the request from frontend in Base64 encoded string and decode it before it reaches my RestController,  and encode to Base64 before I send the Response to the front end. \r\n\r\nIs this approach correct? \r\n\r\nIf yes, Can someone point me to some code to do it in a simple way like, HandlerInterceptor or something? I have read other questions but didn&#39;t get data about how to pre Decode and post Encode into base64 before @RequestBody deserialization happens. ","title":"How to accept request body in base64 and convert to json before it reaches RestController in Spring boot","body":"<p>The azure waf is giving a sql injection rule match and rejecting with 403 if my request body in JSON has and sql keywords or special characters and we cannot disable the rule by our company policy.</p>\n<p>I wanted to get the request from frontend in Base64 encoded string and decode it before it reaches my RestController,  and encode to Base64 before I send the Response to the front end.</p>\n<p>Is this approach correct?</p>\n<p>If yes, Can someone point me to some code to do it in a simple way like, HandlerInterceptor or something? I have read other questions but didn't get data about how to pre Decode and post Encode into base64 before @RequestBody deserialization happens.</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638099369,"creation_date":1638098730,"answer_id":70142921,"question_id":70142818,"body_markdown":"The _`data-gtm-id`_ attribute is a [Google Tag Manager](https://developers.google.com/tag-platform/tag-manager/web/datalayer) attribute and the value of _data-gtm-id_ attribute i.e. _5608_ is dynamically generated. Everytime you access the application it would get changed. So you won&#39;t be able to locate the element using the attribute _data-gtm-id_\r\n\r\n\r\n----------\r\n\r\n\r\nTo [click()](https://stackoverflow.com/questions/35770992/how-many-ways-to-click-on-webelement-in-webdriver/70077251#70077251) on the element with text as _**Join Now**_ you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- _linkText_:\r\n\r\n\t  driver.findElement(By.linkText(&quot;Join Now&quot;)).click();\r\n\r\n- _cssSelector_:\r\n\r\n\t  driver.findElement(By.cssSelector(&quot;a.button.red.full.gtm-click[title=&#39;Join Now&#39;]&quot;)).click();\r\n           \t\r\n- _xpath_:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//a[@class=&#39;button red full gtm-click&#39; and text()=&#39;Join Now&#39;]&quot;)).click();\r\n\r\n\r\n----------\r\n\r\n\r\nHowever, as the element is a dynamic element so to `click()` on the element you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- _linkText_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Google&quot;))).click();\r\n           \t\r\n- _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a.button.red.full.gtm-click[title=&#39;Join Now&#39;]&quot;))).click();\r\n           \t\r\n- _xpath_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@class=&#39;button red full gtm-click&#39; and text()=&#39;Join Now&#39;]&quot;))).click();","title":"Selenium, build XPath in java, to click on the button","body":"<p>The <em><code>data-gtm-id</code></em> attribute is a <a href=\"https://developers.google.com/tag-platform/tag-manager/web/datalayer\" rel=\"nofollow noreferrer\">Google Tag Manager</a> attribute and the value of <em>data-gtm-id</em> attribute i.e. <em>5608</em> is dynamically generated. Everytime you access the application it would get changed. So you won't be able to locate the element using the attribute <em>data-gtm-id</em></p>\n<hr />\n<p>To <a href=\"https://stackoverflow.com/questions/35770992/how-many-ways-to-click-on-webelement-in-webdriver/70077251#70077251\">click()</a> on the element with text as <em><strong>Join Now</strong></em> you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><em>linkText</em>:</p>\n<pre><code>driver.findElement(By.linkText(&quot;Join Now&quot;)).click();\n</code></pre>\n</li>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;a.button.red.full.gtm-click[title='Join Now']&quot;)).click();\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//a[@class='button red full gtm-click' and text()='Join Now']&quot;)).click();\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>However, as the element is a dynamic element so to <code>click()</code> on the element you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><em>linkText</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Google&quot;))).click();\n</code></pre>\n</li>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a.button.red.full.gtm-click[title='Join Now']&quot;))).click();\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@class='button red full gtm-click' and text()='Join Now']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638159990,"creation_date":1638159990,"answer_id":70149742,"question_id":70142818,"body_markdown":"I hope your element is right but it is clicking before it is loaded, so please add wait condition.\r\n\r\n    By joinNowBtn = By.xpath(&quot;//a[contains(text(),&#39;Join Now&#39;)]&quot;);\r\n    WebDriverWait wait = new WebDriverWait(driver, 20);\r\n    wait.until(ExpectedConditions.elementToBeClickable(joinNowBtn));\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(joinNowBtn));\r\n    driver.findElement(joinNowBtn).click();","title":"Selenium, build XPath in java, to click on the button","body":"<p>I hope your element is right but it is clicking before it is loaded, so please add wait condition.</p>\n<pre><code>By joinNowBtn = By.xpath(&quot;//a[contains(text(),'Join Now')]&quot;);\nWebDriverWait wait = new WebDriverWait(driver, 20);\nwait.until(ExpectedConditions.elementToBeClickable(joinNowBtn));\nwait.until(ExpectedConditions.visibilityOfElementLocated(joinNowBtn));\ndriver.findElement(joinNowBtn).click();\n</code></pre>\n"}],"owner":{"display_name":"user7125884"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638165031,"creation_date":1638097890,"question_id":70142818,"body_markdown":"I need please your help to build XPath, click on the button :\r\n\r\n![enter image description here][1]\r\n\r\n\r\nHTML is :\r\n\r\n    &lt;div class=&quot;offer col-md gtm-data gtm-impression slick-slide&quot; data-gtm-id=&quot;5608&quot; data-gtm-title=&quot;230 גיגה Rolling Package&quot; data-gtm-price=&quot;33.00&quot; data-gtm-category=&quot;חבילות&quot; data-gtm-list=&quot;homepage&quot; data-gtm-position=&quot;4&quot; data-slick-index=&quot;3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot; style=&quot;width: 370px;&quot; xpath=&quot;1&quot;&gt;\r\n        &lt;div class=&quot;upper&quot;&gt;\r\n            &lt;div class=&quot;title&quot;&gt;&lt;spam class=&quot;threshold&quot;&gt;230&lt;/spam&gt;&lt;spam class=&quot;units&quot;&gt;GB&lt;/spam&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;subtitle&quot;&gt;&lt;p&gt;Rolling Package&lt;/p&gt;\r\n    &lt;/div&gt;\r\n            &lt;!--&lt;div class=&quot;comment&quot;&gt;&lt;span&gt;test&lt;/span&gt;&lt;/div&gt;--&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;bottom&quot;&gt;\r\n          &lt;div class=&quot;price-area&quot;&gt;\r\n            &lt;div class=&quot;title&quot;&gt;&lt;spam class=&quot;price-number&quot;&gt;&lt;span class=&quot;number&quot;&gt;33&lt;/span&gt;&lt;/spam&gt; &lt;/div&gt;\r\n            &lt;div class=&quot;subtitle&quot;&gt;\r\n                &lt;span&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;link&quot;&gt;\r\n                &lt;a href=&quot;en/userGuide/step1?packageidReg=5608&amp;amp;packageidChange=5609&amp;amp;process=CustomerGuide&quot; class=&quot;button red full gtm-click&quot; title=&quot;Join Now&quot; tabindex=&quot;-1&quot; style=&quot;&quot;&gt;Join Now&lt;/a&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n![enter image description here][2]\r\n\r\nWhen I try to click on the button,\r\nby XPath :\r\n\r\n    //div[contains(@data-gtm-id, &#39;5608&#39;)] //a[@class=&#39;button red full gtm-click&#39;]\r\n\r\nI got this error :\r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;a href=&quot;userGuide/step1?packageidReg=5608&amp;amp;packageidChange=5609&amp;amp;process=CustomerGuide&quot; class=&quot;button red full gtm-click&quot; title=&quot;...&quot; tabindex=&quot;0&quot;&gt;להצטרפות&lt;/a&gt; is not clickable at point (951, 858). Other element would receive the click: &lt;p&gt;...&lt;/p&gt;\r\n      (Session info: chrome=96.0.4664.45)\r\n\r\nWhen I try :\r\n\r\n    (//a[contains(@class,&#39;button red&#39;)])[2]\r\n\r\nI can click on the button, \r\nBut I want the code to be more dynamic.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DUHUF.png\r\n  [2]: https://i.stack.imgur.com/5qiKB.png","title":"Selenium, build XPath in java, to click on the button","body":"<p>I need please your help to build XPath, click on the button :</p>\n<p><img src=\"https://i.stack.imgur.com/DUHUF.png\" alt=\"enter image description here\" /></p>\n<p>HTML is :</p>\n<pre><code>&lt;div class=&quot;offer col-md gtm-data gtm-impression slick-slide&quot; data-gtm-id=&quot;5608&quot; data-gtm-title=&quot;230 גיגה Rolling Package&quot; data-gtm-price=&quot;33.00&quot; data-gtm-category=&quot;חבילות&quot; data-gtm-list=&quot;homepage&quot; data-gtm-position=&quot;4&quot; data-slick-index=&quot;3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot; style=&quot;width: 370px;&quot; xpath=&quot;1&quot;&gt;\n    &lt;div class=&quot;upper&quot;&gt;\n        &lt;div class=&quot;title&quot;&gt;&lt;spam class=&quot;threshold&quot;&gt;230&lt;/spam&gt;&lt;spam class=&quot;units&quot;&gt;GB&lt;/spam&gt;&lt;/div&gt;\n        &lt;div class=&quot;subtitle&quot;&gt;&lt;p&gt;Rolling Package&lt;/p&gt;\n&lt;/div&gt;\n        &lt;!--&lt;div class=&quot;comment&quot;&gt;&lt;span&gt;test&lt;/span&gt;&lt;/div&gt;--&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;bottom&quot;&gt;\n      &lt;div class=&quot;price-area&quot;&gt;\n        &lt;div class=&quot;title&quot;&gt;&lt;spam class=&quot;price-number&quot;&gt;&lt;span class=&quot;number&quot;&gt;33&lt;/span&gt;&lt;/spam&gt; &lt;/div&gt;\n        &lt;div class=&quot;subtitle&quot;&gt;\n            &lt;span&gt;&lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;link&quot;&gt;\n            &lt;a href=&quot;en/userGuide/step1?packageidReg=5608&amp;amp;packageidChange=5609&amp;amp;process=CustomerGuide&quot; class=&quot;button red full gtm-click&quot; title=&quot;Join Now&quot; tabindex=&quot;-1&quot; style=&quot;&quot;&gt;Join Now&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/5qiKB.png\" alt=\"enter image description here\" /></p>\n<p>When I try to click on the button,\nby XPath :</p>\n<pre><code>//div[contains(@data-gtm-id, '5608')] //a[@class='button red full gtm-click']\n</code></pre>\n<p>I got this error :</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;a href=&quot;userGuide/step1?packageidReg=5608&amp;amp;packageidChange=5609&amp;amp;process=CustomerGuide&quot; class=&quot;button red full gtm-click&quot; title=&quot;...&quot; tabindex=&quot;0&quot;&gt;להצטרפות&lt;/a&gt; is not clickable at point (951, 858). Other element would receive the click: &lt;p&gt;...&lt;/p&gt;\n  (Session info: chrome=96.0.4664.45)\n</code></pre>\n<p>When I try :</p>\n<pre><code>(//a[contains(@class,'button red')])[2]\n</code></pre>\n<p>I can click on the button,\nBut I want the code to be more dynamic.</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":1,"creation_date":1638164465,"post_id":70150176,"comment_id":124005806,"body_markdown":"_&quot;...to initialize data member&quot;_ - this is exactly why constructor is used. It initializes the newly created instance.","body":"<i>&quot;...to initialize data member&quot;</i> - this is exactly why constructor is used. It initializes the newly created instance."},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":6,"creation_date":1638164827,"post_id":70150176,"comment_id":124005870,"body_markdown":"Does this answer your question? [Purpose of a constructor in Java?](https://stackoverflow.com/questions/19941825/purpose-of-a-constructor-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19941825/purpose-of-a-constructor-in-java\">Purpose of a constructor in Java?</a>"},{"owner":{"account_id":9109424,"reputation":718,"user_id":6778706,"display_name":"Amad&#225;n"},"score":0,"creation_date":1638173121,"post_id":70150176,"comment_id":124007739,"body_markdown":"Because we need to. An object is created using a constructor by definition. This is not Java specific, this is about class based object orientated development.\n\nSome languages though, like the infamous _ECMAScript_ aka &quot;JavaScript&quot; copy/link prototypes instead of instantiating classes.","body":"Because we need to. An object is created using a constructor by definition. This is not Java specific, this is about class based object orientated development.  Some languages though, like the infamous <i>ECMAScript</i> aka &quot;JavaScript&quot; copy/link prototypes instead of instantiating classes."}],"answers":[{"tags":[],"owner":{"account_id":17731441,"reputation":173,"user_id":12873946,"display_name":"George Glebov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638165023,"creation_date":1638165023,"answer_id":70150267,"question_id":70150176,"body_markdown":"We can use constructor to set it&#39;s fields.\r\n\r\n    public class FutilePoint {\r\n        \r\n        private double x, y, size;\r\n        private int color;\r\n        \r\n        public FutilePoint(double pos_x, double pos_y, double size, int color_RGB) {\r\n            this.x = pos_x;\r\n            this.y = pos_y;\r\n            this.size = size;\r\n            this.color = color_RGB;\r\n        }\r\n\r\n        public FutilePoint(pos_x, pos_y) {\r\n            this.x = pos_x;\r\n            this.y = pos.y;\r\n            this.size = 4;\r\n            this.color = 0x000000;\r\n        }\r\n    }\r\n\r\nThen we can create many different objects.\r\n\r\n    #import src.FutilePoint;\r\n    \r\n    //somewhere in a random class...\r\n\r\n    public void doMeaninglessStuff() {\r\n        for(int i = 1; i &lt;= 99999999; i++) {\r\n            for(int j = 1; j &lt;= 99999999; j++) {\r\n                new FutilePoint(i, j);\r\n            }\r\n        }\r\n        new Point(0, 0, 128, 0xFFFF3A);\r\n    }\r\n\r\nYou can also use it&#39;s methods in the constructor.","title":"Why we use constructor in java","body":"<p>We can use constructor to set it's fields.</p>\n<pre><code>public class FutilePoint {\n    \n    private double x, y, size;\n    private int color;\n    \n    public FutilePoint(double pos_x, double pos_y, double size, int color_RGB) {\n        this.x = pos_x;\n        this.y = pos_y;\n        this.size = size;\n        this.color = color_RGB;\n    }\n\n    public FutilePoint(pos_x, pos_y) {\n        this.x = pos_x;\n        this.y = pos.y;\n        this.size = 4;\n        this.color = 0x000000;\n    }\n}\n</code></pre>\n<p>Then we can create many different objects.</p>\n<pre><code>#import src.FutilePoint;\n\n//somewhere in a random class...\n\npublic void doMeaninglessStuff() {\n    for(int i = 1; i &lt;= 99999999; i++) {\n        for(int j = 1; j &lt;= 99999999; j++) {\n            new FutilePoint(i, j);\n        }\n    }\n    new Point(0, 0, 128, 0xFFFF3A);\n}\n</code></pre>\n<p>You can also use it's methods in the constructor.</p>\n"}],"owner":{"account_id":23486084,"reputation":11,"user_id":17537587,"display_name":"Omkar Doke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1638167489,"answer_count":1,"score":0,"last_activity_date":1638165023,"creation_date":1638164236,"question_id":70150176,"body_markdown":"**I know constructor is a special member of class use to initialize data member..But why we actually need constructor can somebody tell me.**","title":"Why we use constructor in java","body":"<p><strong>I know constructor is a special member of class use to initialize data member..But why we actually need constructor can somebody tell me.</strong></p>\n"},{"tags":["java","spring-mvc","swagger","springfox"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637601387,"post_id":70069083,"comment_id":123864403,"body_markdown":"[Migrating from existing 2.x version](https://springfox.github.io/springfox/docs/current/#migrating-from-existing-2-x-version), welcome! ;*","body":"<a href=\"https://springfox.github.io/springfox/docs/current/#migrating-from-existing-2-x-version\" rel=\"nofollow noreferrer\">Migrating from existing 2.x version</a>, welcome! ;*"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1637606552,"post_id":70069083,"comment_id":123866410,"body_markdown":"Consider moving to `springdoc` instead of using `Springfox`. You can find more info [here](https://stackoverflow.com/a/69108852/16572295).","body":"Consider moving to <code>springdoc</code> instead of using <code>Springfox</code>. You can find more info <a href=\"https://stackoverflow.com/a/69108852/16572295\">here</a>."},{"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"score":0,"creation_date":1637664453,"post_id":70069083,"comment_id":123881241,"body_markdown":"@Jo&#227;oDias after integrating swagger page is showing 404, any idea about this, my project is not springboot application","body":"@Jo&#227;oDias after integrating swagger page is showing 404, any idea about this, my project is not springboot application"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1637664584,"post_id":70069083,"comment_id":123881285,"body_markdown":"Unfortunately no, I&#39;ve always used without any issues in Spring Boot applications.","body":"Unfortunately no, I&#39;ve always used without any issues in Spring Boot applications."}],"answers":[{"tags":[],"owner":{"account_id":22853699,"reputation":98,"user_id":16998887,"display_name":"ganlana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638164906,"creation_date":1638164906,"answer_id":70150251,"question_id":70069083,"body_markdown":"Many resources on the Internet say that as long as the two packages ``springfox-swagger2`` and ``springfox-swagger-ui`` are available. I found that if only these two packages are used to run the project, it will report `ClassnotFoundException` or `NoSuchMethodException`. Add little by little, and finally the actual imported package is as follows:\r\n\r\n    &lt;spring.version&gt;5.1.5.RELEASE&lt;/spring.version&gt;\r\n    &lt;spring.plugin.version&gt;2.0.0.RELEASE&lt;/spring.plugin.version&gt;\r\n    &lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\r\n     &lt;!-- swagger2 jar--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-common&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-spi&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!--spring plugin,configure swagger--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.plugin.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nI didn&#39;t know the specific reason. But I tried it, if any package is missing, an error will be reported.\r\n\r\n","title":"Swagger is not working after migrating Springfox from v. 2.9.2 to 3.0.0","body":"<p>Many resources on the Internet say that as long as the two packages <code>springfox-swagger2</code> and <code>springfox-swagger-ui</code> are available. I found that if only these two packages are used to run the project, it will report <code>ClassnotFoundException</code> or <code>NoSuchMethodException</code>. Add little by little, and finally the actual imported package is as follows:</p>\n<pre><code>&lt;spring.version&gt;5.1.5.RELEASE&lt;/spring.version&gt;\n&lt;spring.plugin.version&gt;2.0.0.RELEASE&lt;/spring.plugin.version&gt;\n&lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\n &lt;!-- swagger2 jar--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-common&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-core&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-spi&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--spring plugin,configure swagger--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.plugin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I didn't know the specific reason. But I tried it, if any package is missing, an error will be reported.</p>\n"}],"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638164906,"creation_date":1637598219,"question_id":70069083,"body_markdown":"I am working on Spring MVC and trying to migrate Springfox v. 2.9.2 to 3.0.0. When I change the version to 3.0.0, it gives me error:\r\n\r\n&gt; org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NoClassDefFoundError: Could not initialize class springfox.documentation.schema.Types\r\n\r\nHere is my dependency:\r\n```xml\r\n&lt;swagger-version&gt;3.0.0&lt;/swagger-version&gt;\r\n&lt;swagger-version-ui&gt;3.0.0&lt;/swagger-version-ui&gt;\r\n&lt;swagger-annotations&gt;2.1.11&lt;/swagger-annotations&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n  &lt;version&gt;${swagger-version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n  &lt;version&gt;${swagger-version-ui}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n  &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n  &lt;version&gt;${swagger-annotations}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHow to properly configure Springfox 3.0.0 in Spring MVC?","title":"Swagger is not working after migrating Springfox from v. 2.9.2 to 3.0.0","body":"<p>I am working on Spring MVC and trying to migrate Springfox v. 2.9.2 to 3.0.0. When I change the version to 3.0.0, it gives me error:</p>\n<blockquote>\n<p>org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NoClassDefFoundError: Could not initialize class springfox.documentation.schema.Types</p>\n</blockquote>\n<p>Here is my dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;swagger-version&gt;3.0.0&lt;/swagger-version&gt;\n&lt;swagger-version-ui&gt;3.0.0&lt;/swagger-version-ui&gt;\n&lt;swagger-annotations&gt;2.1.11&lt;/swagger-annotations&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n  &lt;version&gt;${swagger-version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n  &lt;version&gt;${swagger-version-ui}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n  &lt;version&gt;${swagger-annotations}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How to properly configure Springfox 3.0.0 in Spring MVC?</p>\n"},{"tags":["java","biginteger","chess","bitboard"],"comments":[{"owner":{"account_id":149941,"reputation":2907,"user_id":362792,"display_name":"Hitobat"},"score":0,"creation_date":1638002418,"post_id":70133189,"comment_id":123975472,"body_markdown":"Maybe give BitSet class a try?","body":"Maybe give BitSet class a try?"},{"owner":{"account_id":149941,"reputation":2907,"user_id":362792,"display_name":"Hitobat"},"score":1,"creation_date":1638003020,"post_id":70133189,"comment_id":123975585,"body_markdown":"I mean utility class. See JavaDoc here: https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html Also see basic intro guide; https://www.baeldung.com/java-bitset","body":"I mean utility class. See JavaDoc here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/BitSet.html</a> Also see basic intro guide; <a href=\"https://www.baeldung.com/java-bitset\" rel=\"nofollow noreferrer\">baeldung.com/java-bitset</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638164595,"creation_date":1638021627,"answer_id":70135448,"question_id":70133189,"body_markdown":"Either the Java SE `BitSet` or `BigInteger` classes could be used to represent a bitboard.  And I nooticed that there are alternatives to the standard Java SE implementations&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nBut the real question is whether you could come up with an alternative implementation of the bitboard abstraction that is more efficient than those general purpose data structures.\r\n\r\nFor example, if your bitboard requires 80 bits, then you could represent it as a `long` array of length 2 or an `int` array of length 3.  This should be *at least as fast* as the better of `BitSet` or `BigInteger`, because those Java SEclasses both use arrays of integers under the hood.\r\n\r\n&lt;sup&gt;1 - A Google search is advised ...&lt;/sup&gt;\r\n\r\n-------------------------\r\n\r\nMy advice: pick whatever representation is easiest to use.  Get *interesting* part of your game implementation working first.  Then test it to see how fast it is.  If it is not fast enough ... put some effort into profiling and optimizing it; e.g. by tuning the bitboard implementation.  Don&#39;t optimize too early.","title":"Can BigIntegers be used in java to represent bitboards?","body":"<p>Either the Java SE <code>BitSet</code> or <code>BigInteger</code> classes could be used to represent a bitboard.  And I nooticed that there are alternatives to the standard Java SE implementations<sup>1</sup>.</p>\n<p>But the real question is whether you could come up with an alternative implementation of the bitboard abstraction that is more efficient than those general purpose data structures.</p>\n<p>For example, if your bitboard requires 80 bits, then you could represent it as a <code>long</code> array of length 2 or an <code>int</code> array of length 3.  This should be <em>at least as fast</em> as the better of <code>BitSet</code> or <code>BigInteger</code>, because those Java SEclasses both use arrays of integers under the hood.</p>\n<p><sup>1 - A Google search is advised ...</sup></p>\n<hr />\n<p>My advice: pick whatever representation is easiest to use.  Get <em>interesting</em> part of your game implementation working first.  Then test it to see how fast it is.  If it is not fast enough ... put some effort into profiling and optimizing it; e.g. by tuning the bitboard implementation.  Don't optimize too early.</p>\n"}],"owner":{"account_id":21415512,"reputation":17,"user_id":15774822,"display_name":"Orisade2003"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1638164595,"creation_date":1638001922,"question_id":70133189,"body_markdown":"I recently started working on my school project which is writing a chinese chess game with a computer player in Java, I want to represent the board with bitboards, however since the board is 9x10, bigint or double aren&#39;t large enough to represent it. I though about using the BigInteger class from java.math, however I&#39;m afraid it isn&#39;t efficient and therefore I will run into problems whnen writing the code for the computer player.... Does anyone know how efficient the BigInteger class is? Will I run into problems with it when trying to calculate the best computer moves? \r\nThanks.","title":"Can BigIntegers be used in java to represent bitboards?","body":"<p>I recently started working on my school project which is writing a chinese chess game with a computer player in Java, I want to represent the board with bitboards, however since the board is 9x10, bigint or double aren't large enough to represent it. I though about using the BigInteger class from java.math, however I'm afraid it isn't efficient and therefore I will run into problems whnen writing the code for the computer player.... Does anyone know how efficient the BigInteger class is? Will I run into problems with it when trying to calculate the best computer moves?\nThanks.</p>\n"},{"tags":["java","google-drive-api"],"comments":[{"owner":{"account_id":5015293,"reputation":551,"user_id":4030300,"accept_rate":27,"display_name":"Renu Thakur"},"score":0,"creation_date":1441796269,"post_id":32476746,"comment_id":52816051,"body_markdown":"Did you check this http://stackoverflow.com/questions/20471741/code-403-and-reason-forbidden-exception-at-uploading-file-in-google-p","body":"Did you check this <a href=\"http://stackoverflow.com/questions/20471741/code-403-and-reason-forbidden-exception-at-uploading-file-in-google-p\" title=\"code 403 and reason forbidden exception at uploading file in google p\">stackoverflow.com/questions/20471741/&hellip;</a>"},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1441799273,"post_id":32476746,"comment_id":52818106,"body_markdown":"@RenuThakur I went through the SO post suggested by you. The OP on that post seems to be using [Google+ API](https://developers.google.com/+/web/api/rest/?hl=en_US) and\nnot [Google Drive API](https://developers.google.com/drive/?hl=en_US). Also, it seems, he is using Android smartphone to upload files which is not my case.","body":"@RenuThakur I went through the SO post suggested by you. The OP on that post seems to be using <a href=\"https://developers.google.com/+/web/api/rest/?hl=en_US\" rel=\"nofollow noreferrer\">Google+ API</a> and not <a href=\"https://developers.google.com/drive/?hl=en_US\" rel=\"nofollow noreferrer\">Google Drive API</a>. Also, it seems, he is using Android smartphone to upload files which is not my case."},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1441799290,"post_id":32476746,"comment_id":52818123,"body_markdown":"I forgot to add that [when I tried running the code an year back, it ran fine](http://stackoverflow.com/questions/23613317/google-drive-java-api/23616857#23616857). The `Quickstart: Run a Drive App in Java` mentioned by the OP in that [post](http://stackoverflow.com/questions/23613317/google-drive-java-api/23616857) has been changed/updated since. For some reason, it is\nthrowing an `com.google.api.client.googleapis.json.GoogleJsonResponseException` now. I would like to know why is it so.","body":"I forgot to add that <a href=\"http://stackoverflow.com/questions/23613317/google-drive-java-api/23616857#23616857\">when I tried running the code an year back, it ran fine</a>. The <code>Quickstart: Run a Drive App in Java</code> mentioned by the OP in that <a href=\"http://stackoverflow.com/questions/23613317/google-drive-java-api/23616857\">post</a> has been changed/updated since. For some reason, it is throwing an <code>com.google.api.client.googleapis.json.GoogleJsonResponseExce&zwnj;&#8203;ption</code> now. I would like to know why is it so."}],"answers":[{"tags":[],"owner":{"account_id":83179,"reputation":1930,"user_id":233393,"accept_rate":50,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444781370,"creation_date":1444781370,"answer_id":33114613,"question_id":32476746,"body_markdown":"Been having same quota errors for months. Tried everything. It looks like problem on Google side.\r\nAmong all google products, Calendar API does not have any way to support their team. If anyone knows or have been able to contact Google team about Calendar API, let us know!","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<p>Been having same quota errors for months. Tried everything. It looks like problem on Google side.\nAmong all google products, Calendar API does not have any way to support their team. If anyone knows or have been able to contact Google team about Calendar API, let us know!</p>\n"},{"tags":[],"owner":{"account_id":7262474,"reputation":21,"user_id":5538597,"display_name":"user5538597"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446963905,"creation_date":1446963905,"answer_id":33591345,"question_id":32476746,"body_markdown":"I just had this problem and it is likely that you have created the credential file using a scope that does not allow inserting a file. Remove the credential file and re-run.","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<p>I just had this problem and it is likely that you have created the credential file using a scope that does not allow inserting a file. Remove the credential file and re-run.</p>\n"},{"tags":[],"owner":{"account_id":3870803,"reputation":5521,"user_id":3206119,"accept_rate":52,"display_name":"SpyZip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451301348,"creation_date":1451301348,"answer_id":34492487,"question_id":32476746,"body_markdown":"For me the problem was that the url was http... and it should be https...","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<p>For me the problem was that the url was http... and it should be https...</p>\n"},{"tags":[],"owner":{"account_id":2607312,"reputation":1234,"user_id":2258205,"display_name":"Suraj Muraleedharan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1470721203,"creation_date":1470721203,"answer_id":38842851,"question_id":32476746,"body_markdown":"I had the same issue, I did the following change and it resolved the issue\r\n\r\n1) Added SheetsScopes.DRIVE to the scopes to be given in authorize()\r\n\r\n    private static final List&lt;String&gt; SCOPES =\r\n                Arrays.asList(SheetsScopes.SPREADSHEETS,SheetsScopes.DRIVE);\r\n2) Created a new directory, so that next time I run it, it will authenticate and save the credential to the newly created directory\r\n\r\n    private static final java.io.File DATA_STORE_DIR = new java.io.File(\r\n            System.getProperty(&quot;user.home&quot;), &quot;.credentials/2/sheets.googleapis.com-java-quickstart.json&quot;);\r\n","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<p>I had the same issue, I did the following change and it resolved the issue</p>\n\n<p>1) Added SheetsScopes.DRIVE to the scopes to be given in authorize()</p>\n\n<pre><code>private static final List&lt;String&gt; SCOPES =\n            Arrays.asList(SheetsScopes.SPREADSHEETS,SheetsScopes.DRIVE);\n</code></pre>\n\n<p>2) Created a new directory, so that next time I run it, it will authenticate and save the credential to the newly created directory</p>\n\n<pre><code>private static final java.io.File DATA_STORE_DIR = new java.io.File(\n        System.getProperty(\"user.home\"), \".credentials/2/sheets.googleapis.com-java-quickstart.json\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9082922,"reputation":11,"user_id":6762108,"display_name":"Cesarov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472228224,"creation_date":1472228224,"answer_id":39170642,"question_id":32476746,"body_markdown":"I had the same problem but in my case resolve this with:\r\n\r\n    private static final List&lt;String&gt; SCOPES =\r\n            Arrays.asList(DriveScopes.DRIVE);\r\n\r\n\r\nfrom [DriveScopes][1]\r\n\r\n\r\n  [1]: https://developers.google.com/resources/api-libraries/documentation/drive/v2/java/latest/com/google/api/services/drive/DriveScopes.html\r\n\r\nand also create a new directory\r\n\r\n    private static final java.io.File DATA_STORE_DIR = new java.io.File(System.getProperty(&quot;user.home&quot;), &quot;.credentials/2/drive-java-quickstart.json&quot;);\r\n\r\n\r\nand i solved the problem","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<p>I had the same problem but in my case resolve this with:</p>\n\n<pre><code>private static final List&lt;String&gt; SCOPES =\n        Arrays.asList(DriveScopes.DRIVE);\n</code></pre>\n\n<p>from <a href=\"https://developers.google.com/resources/api-libraries/documentation/drive/v2/java/latest/com/google/api/services/drive/DriveScopes.html\" rel=\"nofollow\">DriveScopes</a></p>\n\n<p>and also create a new directory</p>\n\n<pre><code>private static final java.io.File DATA_STORE_DIR = new java.io.File(System.getProperty(\"user.home\"), \".credentials/2/drive-java-quickstart.json\");\n</code></pre>\n\n<p>and i solved the problem</p>\n"},{"tags":[],"owner":{"account_id":1385391,"reputation":3217,"user_id":1317559,"accept_rate":77,"display_name":"Yster"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474548531,"creation_date":1474548531,"answer_id":39639526,"question_id":32476746,"body_markdown":"After a long time searching, I found this answer hidden in the search engine:\r\n\r\nChange the line where you define scopes to:\r\n\r\n    private static final List&lt;String&gt; SCOPES = Arrays.asList(GmailScopes.MAIL_GOOGLE_COM);\r\n\r\nhttps://stackoverflow.com/a/38599382/1317559","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<p>After a long time searching, I found this answer hidden in the search engine:</p>\n\n<p>Change the line where you define scopes to:</p>\n\n<pre><code>private static final List&lt;String&gt; SCOPES = Arrays.asList(GmailScopes.MAIL_GOOGLE_COM);\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/38599382/1317559\">https://stackoverflow.com/a/38599382/1317559</a></p>\n"},{"tags":[],"owner":{"account_id":15560290,"reputation":61,"user_id":11225585,"display_name":"Vitali Rahin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1552990091,"creation_date":1552990091,"answer_id":55238351,"question_id":32476746,"body_markdown":"This issue happened when you change SCOPE and proceed to work with the old token. Just remove StoredCredential file.[Idea][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B1OtD.png","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<p>This issue happened when you change SCOPE and proceed to work with the old token. Just remove StoredCredential file.<a href=\"https://i.stack.imgur.com/B1OtD.png\" rel=\"noreferrer\">Idea</a></p>\n"},{"tags":[],"owner":{"account_id":5958620,"reputation":3514,"user_id":4684417,"accept_rate":0,"display_name":"Abhinav Saxena"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609994377,"creation_date":1609994377,"answer_id":65606708,"question_id":32476746,"body_markdown":"For me issue was **SCOPES**, it was set to **SheetsScopes.SPREADSHEETS_READONLY**.\r\n\r\nSo I changed it to **SheetsScopes.SPREADSHEETS**, deleted the Token folder in the project directory and run the program again and it worked.","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<p>For me issue was <strong>SCOPES</strong>, it was set to <strong>SheetsScopes.SPREADSHEETS_READONLY</strong>.</p>\n<p>So I changed it to <strong>SheetsScopes.SPREADSHEETS</strong>, deleted the Token folder in the project directory and run the program again and it worked.</p>\n"},{"tags":[],"owner":{"account_id":23486129,"reputation":1,"user_id":17537628,"display_name":"N J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638164337,"creation_date":1638164337,"answer_id":70150191,"question_id":32476746,"body_markdown":"1. Make sure to use DriveScopes.DRIVE for allowed SCOPE:\r\nprivate static final List&lt;String&gt; SCOPES = Collections.singletonList(DriveScopes.DRIVE);\r\n\r\n2. Make sure to reset token directory path as below:\r\n\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT,\r\n                JSON_FACTORY, clientSecrets, SCOPES)\r\n                //.setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setDataStoreFactory(new MemoryDataStoreFactory())\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n\r\nOthewise it will always use the cached version.","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<ol>\n<li><p>Make sure to use DriveScopes.DRIVE for allowed SCOPE:\nprivate static final List SCOPES = Collections.singletonList(DriveScopes.DRIVE);</p>\n</li>\n<li><p>Make sure to reset token directory path as below:</p>\n<pre><code> GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n         HTTP_TRANSPORT,\n         JSON_FACTORY, clientSecrets, SCOPES)\n         //.setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n         .setDataStoreFactory(new MemoryDataStoreFactory())\n         .setAccessType(&quot;offline&quot;)\n         .build();\n</code></pre>\n</li>\n</ol>\n<p>Othewise it will always use the cached version.</p>\n"}],"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32478,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":9,"score":16,"last_activity_date":1638164337,"creation_date":1441793443,"question_id":32476746,"body_markdown":"I am trying to upload a text file to my Google Drive account. No matter what, I always encounter an `com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden`\r\n\r\nStacktrace:\r\n----------\r\n\r\n    Exception in thread &quot;main&quot; com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\r\n    {\r\n      &quot;code&quot; : 403,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Forbidden&quot;,\r\n        &quot;reason&quot; : &quot;forbidden&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Forbidden&quot;\r\n    }\r\n    \tat com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:145)\r\n    \tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\r\n    \tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:423)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:343)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:460)\r\n    \tat chatterjee.sandeep.javabase.miscellaneous.DriveCommandLine.main(DriveCommandLine.java:69)\r\n\r\nHere is line 69 of `DriveCommandLine.java`\r\n\r\n    File file = service.files().insert(body, mediaContent).execute();\r\n\r\nComplete Code:\r\n-------------\r\n\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleTokenResponse;\r\n    import com.google.api.client.http.FileContent;\r\n    import com.google.api.client.http.HttpTransport;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.JsonFactory;\r\n    import com.google.api.client.json.jackson2.JacksonFactory;\r\n    import com.google.api.services.drive.Drive;\r\n    import com.google.api.services.drive.DriveScopes;\r\n    import com.google.api.services.drive.model.File;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Arrays;\r\n    \r\n    public class DriveCommandLine {\r\n        \r\n        private static String CLIENT_ID = &quot;CLIENT_ID&quot;;\r\n        private static String CLIENT_SECRET = &quot;CLIENT_SECRET&quot;;\r\n        \r\n        private static String REDIRECT_URI = &quot;REDIRECT_URI&quot;;\r\n        \r\n        public static void main(String[] args) throws IOException {\r\n            HttpTransport httpTransport = new NetHttpTransport();\r\n            JsonFactory jsonFactory = new JacksonFactory();\r\n            \r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n            httpTransport, jsonFactory, CLIENT_ID, CLIENT_SECRET,\r\n            Arrays.asList(DriveScopes.DRIVE_FILE)).setAccessType(&quot;online&quot;)\r\n            .setApprovalPrompt(&quot;auto&quot;).build();\r\n            \r\n            String url = flow.newAuthorizationUrl().setRedirectUri(REDIRECT_URI)\r\n            .build();\r\n            System.out\r\n            .println(&quot;Please open the following URL in your browser then type the authorization code:&quot;);\r\n            System.out.println(&quot;  &quot; + url);\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            String code = br.readLine();\r\n            \r\n            GoogleTokenResponse response = flow.newTokenRequest(code)\r\n            .setRedirectUri(REDIRECT_URI).execute();\r\n            GoogleCredential credential = new GoogleCredential()\r\n            .setFromTokenResponse(response);\r\n            \r\n            // Create a new authorized API client\r\n            Drive service = new Drive.Builder(httpTransport, jsonFactory,\r\n            credential).build();\r\n            \r\n            // Insert a file\r\n            File body = new File();\r\n            body.setTitle(&quot;My document&quot;);\r\n            body.setDescription(&quot;A test document&quot;);\r\n            body.setMimeType(&quot;text/plain&quot;);\r\n            \r\n            java.io.File fileContent = new java.io.File(\r\n            &quot;/path/to/TextFile.txt&quot;);\r\n            FileContent mediaContent = new FileContent(&quot;text/plain&quot;, fileContent);\r\n            \r\n            File file = service.files().insert(body, mediaContent).execute();\r\n            System.out.println(&quot;File ID: &quot; + file.getId());\r\n        }\r\n    }\r\n\r\n\r\nI have the following jars in my project build path:\r\n\r\n    commons-logging-1.1.1.jar\r\n    google-api-client-1.18.0-rc.jar\r\n    google-api-client-android-1.18.0-rc.jar\r\n    google-api-client-appengine-1.18.0-rc.jar\r\n    google-api-client-gson-1.18.0-rc.jar\r\n    google-api-client-jackson2-1.18.0-rc.jar\r\n    google-api-client-java6-1.18.0-rc.jar\r\n    google-api-client-servlet-1.18.0-rc.jar\r\n    google-api-services-drive-v1-rev123-1.18.0-rc.jar\r\n    google-http-client-1.18.0-rc.jar\r\n    google-http-client-android-1.18.0-rc.jar\r\n    google-http-client-appengine-1.18.0-rc.jar\r\n    google-http-client-gson-1.18.0-rc.jar\r\n    google-http-client-jackson2-1.18.0-rc.jar\r\n    google-http-client-jdo-1.18.0-rc.jar\r\n    google-oauth-client-1.18.0-rc.jar\r\n    google-oauth-client-appengine-1.18.0-rc.jar\r\n    google-oauth-client-java6-1.18.0-rc.jar\r\n    google-oauth-client-jetty-1.18.0-rc.jar\r\n    google-oauth-client-servlet-1.18.0-rc.jar\r\n    gson-2.1.jar\r\n    httpclient-4.0.3.jar\r\n    httpcore-4.0.1_1.jar\r\n    jackson-core-2.1.3.jar\r\n    jdo2-api-2.3-eb.jar\r\n    jetty-util-6.1.26.jar\r\n    jsr305-1.3.9.jar\r\n    transaction-api-1.1-rev-1.jar\r\n\r\nAt present I have two projects set up with Drive API enabled. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow where do I properly set up the permissions to resolve this issue? \r\n\r\nAlso, what am I doing wrong here?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/uvZpk.png","title":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden","body":"<p>I am trying to upload a text file to my Google Drive account. No matter what, I always encounter an <code>com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden</code></p>\n\n<h2>Stacktrace:</h2>\n\n<pre><code>Exception in thread \"main\" com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\n{\n  \"code\" : 403,\n  \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"message\" : \"Forbidden\",\n    \"reason\" : \"forbidden\"\n  } ],\n  \"message\" : \"Forbidden\"\n}\n    at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:145)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:423)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:343)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:460)\n    at chatterjee.sandeep.javabase.miscellaneous.DriveCommandLine.main(DriveCommandLine.java:69)\n</code></pre>\n\n<p>Here is line 69 of <code>DriveCommandLine.java</code></p>\n\n<pre><code>File file = service.files().insert(body, mediaContent).execute();\n</code></pre>\n\n<h2>Complete Code:</h2>\n\n<pre><code>import com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleTokenResponse;\nimport com.google.api.client.http.FileContent;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.services.drive.Drive;\nimport com.google.api.services.drive.DriveScopes;\nimport com.google.api.services.drive.model.File;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\n\npublic class DriveCommandLine {\n\n    private static String CLIENT_ID = \"CLIENT_ID\";\n    private static String CLIENT_SECRET = \"CLIENT_SECRET\";\n\n    private static String REDIRECT_URI = \"REDIRECT_URI\";\n\n    public static void main(String[] args) throws IOException {\n        HttpTransport httpTransport = new NetHttpTransport();\n        JsonFactory jsonFactory = new JacksonFactory();\n\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n        httpTransport, jsonFactory, CLIENT_ID, CLIENT_SECRET,\n        Arrays.asList(DriveScopes.DRIVE_FILE)).setAccessType(\"online\")\n        .setApprovalPrompt(\"auto\").build();\n\n        String url = flow.newAuthorizationUrl().setRedirectUri(REDIRECT_URI)\n        .build();\n        System.out\n        .println(\"Please open the following URL in your browser then type the authorization code:\");\n        System.out.println(\"  \" + url);\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String code = br.readLine();\n\n        GoogleTokenResponse response = flow.newTokenRequest(code)\n        .setRedirectUri(REDIRECT_URI).execute();\n        GoogleCredential credential = new GoogleCredential()\n        .setFromTokenResponse(response);\n\n        // Create a new authorized API client\n        Drive service = new Drive.Builder(httpTransport, jsonFactory,\n        credential).build();\n\n        // Insert a file\n        File body = new File();\n        body.setTitle(\"My document\");\n        body.setDescription(\"A test document\");\n        body.setMimeType(\"text/plain\");\n\n        java.io.File fileContent = new java.io.File(\n        \"/path/to/TextFile.txt\");\n        FileContent mediaContent = new FileContent(\"text/plain\", fileContent);\n\n        File file = service.files().insert(body, mediaContent).execute();\n        System.out.println(\"File ID: \" + file.getId());\n    }\n}\n</code></pre>\n\n<p>I have the following jars in my project build path:</p>\n\n<pre><code>commons-logging-1.1.1.jar\ngoogle-api-client-1.18.0-rc.jar\ngoogle-api-client-android-1.18.0-rc.jar\ngoogle-api-client-appengine-1.18.0-rc.jar\ngoogle-api-client-gson-1.18.0-rc.jar\ngoogle-api-client-jackson2-1.18.0-rc.jar\ngoogle-api-client-java6-1.18.0-rc.jar\ngoogle-api-client-servlet-1.18.0-rc.jar\ngoogle-api-services-drive-v1-rev123-1.18.0-rc.jar\ngoogle-http-client-1.18.0-rc.jar\ngoogle-http-client-android-1.18.0-rc.jar\ngoogle-http-client-appengine-1.18.0-rc.jar\ngoogle-http-client-gson-1.18.0-rc.jar\ngoogle-http-client-jackson2-1.18.0-rc.jar\ngoogle-http-client-jdo-1.18.0-rc.jar\ngoogle-oauth-client-1.18.0-rc.jar\ngoogle-oauth-client-appengine-1.18.0-rc.jar\ngoogle-oauth-client-java6-1.18.0-rc.jar\ngoogle-oauth-client-jetty-1.18.0-rc.jar\ngoogle-oauth-client-servlet-1.18.0-rc.jar\ngson-2.1.jar\nhttpclient-4.0.3.jar\nhttpcore-4.0.1_1.jar\njackson-core-2.1.3.jar\njdo2-api-2.3-eb.jar\njetty-util-6.1.26.jar\njsr305-1.3.9.jar\ntransaction-api-1.1-rev-1.jar\n</code></pre>\n\n<p>At present I have two projects set up with Drive API enabled. </p>\n\n<p><a href=\"https://i.stack.imgur.com/uvZpk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uvZpk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now where do I properly set up the permissions to resolve this issue? </p>\n\n<p>Also, what am I doing wrong here?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":1,"creation_date":1638150051,"post_id":70141067,"comment_id":124003649,"body_markdown":"As for now, VS Code Java does not support configurations in multi root folder scope, it only supports workspace level. So you can set it in workspace level but that configuration will be applied to all the workspace folders in your workspace.","body":"As for now, VS Code Java does not support configurations in multi root folder scope, it only supports workspace level. So you can set it in workspace level but that configuration will be applied to all the workspace folders in your workspace."},{"owner":{"account_id":3362676,"reputation":693,"user_id":2824131,"accept_rate":100,"display_name":"acid_srvnn"},"score":0,"creation_date":1638164188,"post_id":70141067,"comment_id":124005765,"body_markdown":"@ShengChen ok thanks","body":"@ShengChen ok thanks"}],"answers":[{"tags":[],"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638080460,"creation_date":1638080460,"answer_id":70141132,"question_id":70141067,"body_markdown":"source path takes an array as an argument. you can configure them like below:-\r\n\r\n    { \r\n       &quot;java.project.sourcePaths&quot;: [&quot;/src1 path&quot;, &quot;/src2 path&quot;] \r\n    }\r\n","title":"vscode - redhat-developer/vscode-java - multi root workspace - java.project.sourcePaths","body":"<p>source path takes an array as an argument. you can configure them like below:-</p>\n<pre><code>{ \n   &quot;java.project.sourcePaths&quot;: [&quot;/src1 path&quot;, &quot;/src2 path&quot;] \n}\n</code></pre>\n"}],"owner":{"account_id":3362676,"reputation":693,"user_id":2824131,"accept_rate":100,"display_name":"acid_srvnn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638164076,"creation_date":1638079561,"question_id":70141067,"body_markdown":"How to configure `java.project.sourcePaths` in a multi root workspace?\r\n\r\nI tried the obvious options - doesnt seem to work.\r\n\r\nUsing `Add folder to Java source path` just adds the folderpath directly without handling multi root.\r\n\r\n\r\nEdit : \r\n\r\nClasspath Configuration page has a dropdown to choose project folder. But lists only one folder. \r\n\r\n\r\n[![classpath config][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qAxDn.png","title":"vscode - redhat-developer/vscode-java - multi root workspace - java.project.sourcePaths","body":"<p>How to configure <code>java.project.sourcePaths</code> in a multi root workspace?</p>\n<p>I tried the obvious options - doesnt seem to work.</p>\n<p>Using <code>Add folder to Java source path</code> just adds the folderpath directly without handling multi root.</p>\n<p>Edit :</p>\n<p>Classpath Configuration page has a dropdown to choose project folder. But lists only one folder.</p>\n<p><a href=\"https://i.stack.imgur.com/qAxDn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qAxDn.png\" alt=\"classpath config\" /></a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"score":0,"creation_date":1638159348,"post_id":70149666,"comment_id":124005000,"body_markdown":"You have to write your Main class as public class Main&lt;T extends Base&gt;","body":"You have to write your Main class as public class Main&lt;T extends Base&gt;"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1638159864,"post_id":70149666,"comment_id":124005068,"body_markdown":"I think `&lt;T&gt;` here is Object, which is a legal super type of both Base and String.  The way you are doing this / thinking about this is flawed, basically.  Check out the answer to this question (ignore the duplicate text for PECS): https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java","body":"I think <code>&lt;T&gt;</code> here is Object, which is a legal super type of both Base and String.  The way you are doing this / thinking about this is flawed, basically.  Check out the answer to this question (ignore the duplicate text for PECS): <a href=\"https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\" title=\"difference between super t and extends t in java\">stackoverflow.com/questions/4343202/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638160227,"creation_date":1638160227,"answer_id":70149758,"question_id":70149666,"body_markdown":"I&#39;m going to add this as an actual answer.\r\n\r\nI think `&lt;T&gt;` here is Object, which is a legal super type of both Base and StringBuilder. The way you are doing this / thinking about this is flawed, basically. Check out the answer to this question (ignore the duplicate text for PECS):\r\n\r\nhttps://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\r\n\r\nNotice the examples that the accepted answer gives, especially the one with `&lt;Object&gt;`:\r\n\r\n    List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Integer&gt;();  // Integer is a &quot;superclass&quot; of Integer (in this context)\r\n    List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Number&gt;();   // Number is a superclass of Integer\r\n    List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Object&gt;();   // Object is a superclass of Integer\r\n\r\nSince you&#39;re allowing the diamond operator to &quot;figure out&quot; the type of `T`, it &quot;figures out&quot; that `Object` works and uses that.  Untested, but check if this also compiles:\r\n\r\n    Main&lt;? super Base&gt; main = new Main&lt;Object&gt;(new StringBuilder());","title":"Java generics lower bound","body":"<p>I'm going to add this as an actual answer.</p>\n<p>I think <code>&lt;T&gt;</code> here is Object, which is a legal super type of both Base and StringBuilder. The way you are doing this / thinking about this is flawed, basically. Check out the answer to this question (ignore the duplicate text for PECS):</p>\n<p><a href=\"https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\">Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java</a></p>\n<p>Notice the examples that the accepted answer gives, especially the one with <code>&lt;Object&gt;</code>:</p>\n<pre><code>List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Integer&gt;();  // Integer is a &quot;superclass&quot; of Integer (in this context)\nList&lt;? super Integer&gt; foo3 = new ArrayList&lt;Number&gt;();   // Number is a superclass of Integer\nList&lt;? super Integer&gt; foo3 = new ArrayList&lt;Object&gt;();   // Object is a superclass of Integer\n</code></pre>\n<p>Since you're allowing the diamond operator to &quot;figure out&quot; the type of <code>T</code>, it &quot;figures out&quot; that <code>Object</code> works and uses that.  Untested, but check if this also compiles:</p>\n<pre><code>Main&lt;? super Base&gt; main = new Main&lt;Object&gt;(new StringBuilder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638163989,"creation_date":1638163313,"answer_id":70150066,"question_id":70149666,"body_markdown":"**Edit:** I saw it a little late that **@markspace&#39;s answer** is nearly the same and was posted before this. I am only retaining this here due different styles of explanation, that is all.\r\n\r\n----------\r\n\r\nThis should be due to the diamond operator `&lt;&gt;` due to which automatic inference happens based on the most possible route, in this case the constructor parameter.\r\n\r\nI could not locate the official description of the diamond operator, but various sources describe it to the effect - the Java compiler does a type inference when given the diamond operator feature determines **the most suitable constructor declaration** that matches the invocation.\r\n\r\nIf you change your declaration to `GenericsSuper&lt;? super Base&gt; main = new GenericsSuper&lt;StringBuilder&gt;(new StringBuilder())` you will get your expected error.\r\n\r\nWithout this explicit declaration, `&lt;&gt;` leads to `&lt;Object&gt;` due to the `super` restriction, and consequently anything is allowed, because:\r\n- The code in `GenericsSuper` has no problem with `StringBuilder`. It just wants `T`.\r\n- `Base` has a common super with `StringBuilder` in `Object`.","title":"Java generics lower bound","body":"<p><strong>Edit:</strong> I saw it a little late that <strong>@markspace's answer</strong> is nearly the same and was posted before this. I am only retaining this here due different styles of explanation, that is all.</p>\n<hr />\n<p>This should be due to the diamond operator <code>&lt;&gt;</code> due to which automatic inference happens based on the most possible route, in this case the constructor parameter.</p>\n<p>I could not locate the official description of the diamond operator, but various sources describe it to the effect - the Java compiler does a type inference when given the diamond operator feature determines <strong>the most suitable constructor declaration</strong> that matches the invocation.</p>\n<p>If you change your declaration to <code>GenericsSuper&lt;? super Base&gt; main = new GenericsSuper&lt;StringBuilder&gt;(new StringBuilder())</code> you will get your expected error.</p>\n<p>Without this explicit declaration, <code>&lt;&gt;</code> leads to <code>&lt;Object&gt;</code> due to the <code>super</code> restriction, and consequently anything is allowed, because:</p>\n<ul>\n<li>The code in <code>GenericsSuper</code> has no problem with <code>StringBuilder</code>. It just wants <code>T</code>.</li>\n<li><code>Base</code> has a common super with <code>StringBuilder</code> in <code>Object</code>.</li>\n</ul>\n"}],"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70150066,"answer_count":2,"score":3,"last_activity_date":1638163989,"creation_date":1638159085,"question_id":70149666,"body_markdown":"I understand upper bound clearly, but don&#39;t fully understand lower bound. As for example I have this code:\r\n\r\n    public class Main&lt;T&gt; {\r\n        private T t;\r\n\r\n        public Main(T t) {\r\n            this.t = t;\r\n        }\r\n\r\n        private static class Base {}\r\n\r\n        public static void main(String[] args) {\r\n            Main&lt;? super Base&gt; main = new Main&lt;&gt;(new StringBuilder());\r\n            System.out.println(main.t.getClass());\r\n        }\r\n    }\r\n\r\nWhy there is no error during compile despite of `StringBuilder` isn&#39;t super class of `Base`. As I thought it would be illegal to provide type which is irrelevant (I know that it&#39;s impossible to assign non child class to `t` after type inference). Also it works with collections, does it means that collection could possibly store no child, no super class of `Base`? Please do not link me to PECS questions, I have read them a lot.","title":"Java generics lower bound","body":"<p>I understand upper bound clearly, but don't fully understand lower bound. As for example I have this code:</p>\n<pre><code>public class Main&lt;T&gt; {\n    private T t;\n\n    public Main(T t) {\n        this.t = t;\n    }\n\n    private static class Base {}\n\n    public static void main(String[] args) {\n        Main&lt;? super Base&gt; main = new Main&lt;&gt;(new StringBuilder());\n        System.out.println(main.t.getClass());\n    }\n}\n</code></pre>\n<p>Why there is no error during compile despite of <code>StringBuilder</code> isn't super class of <code>Base</code>. As I thought it would be illegal to provide type which is irrelevant (I know that it's impossible to assign non child class to <code>t</code> after type inference). Also it works with collections, does it means that collection could possibly store no child, no super class of <code>Base</code>? Please do not link me to PECS questions, I have read them a lot.</p>\n"},{"tags":["python","java","tabula","tabula-py"],"answers":[{"tags":[],"owner":{"display_name":"user14616876"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638163978,"creation_date":1638160467,"answer_id":70149784,"question_id":70149650,"body_markdown":"Now that you mention that you mention you use java for base code and python for reading PDF, It&#39;s better of using java entirely for more efficient code. Why? Because there are tools already ready for you. There is absolutely no need for struggling to link one language to another.\r\n\r\ncode:\r\n\r\n```package test;\r\n\r\nimport com.itextpdf.text.pdf.PdfReader;\r\nimport com.itextpdf.text.pdf.parser.PdfTextExtractor;\r\n\r\n/**\r\n * This class is used to read an existing\r\n *  pdf file using iText jar.\r\n */\r\npublic class PDFReadExample {\r\n\tpublic static void main(String args[]){\r\n\t\ttry {\r\n\t\t\t//Create PdfReader instance.\r\n\t\t\tPdfReader pdfReader = new PdfReader(&quot;D:\\\\testFile.pdf&quot;);\t\r\n\t\t\t\r\n\t\t\t//Get the number of pages in pdf.\r\n\t\t\tint pages = pdfReader.getNumberOfPages(); \r\n\t\t\t\r\n\t\t\t//Iterate the pdf through pages.\r\n\t\t\tfor(int i=1; i&lt;=pages; i++) { \r\n\t\t\t\t//Extract the page content using PdfTextExtractor.\r\n\t\t\t\tString pageContent = \r\n\t\t\t\t\tPdfTextExtractor.getTextFromPage(pdfReader, i);\r\n\t\t\t\t\r\n\t\t\t\t//Print the page content on console.\r\n\t\t\t\tSystem.out.println(&quot;Content on Page &quot;\r\n\t\t\t\t              + i + &quot;: &quot; + pageContent);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Close the PdfReader.\r\n\t\t\tpdfReader.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```","title":"tabula-py can&#39;t read file when the python script called by java","body":"<p>Now that you mention that you mention you use java for base code and python for reading PDF, It's better of using java entirely for more efficient code. Why? Because there are tools already ready for you. There is absolutely no need for struggling to link one language to another.</p>\n<p>code:</p>\n<pre><code>\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.parser.PdfTextExtractor;\n\n/**\n * This class is used to read an existing\n *  pdf file using iText jar.\n */\npublic class PDFReadExample {\n    public static void main(String args[]){\n        try {\n            //Create PdfReader instance.\n            PdfReader pdfReader = new PdfReader(&quot;D:\\\\testFile.pdf&quot;);    \n            \n            //Get the number of pages in pdf.\n            int pages = pdfReader.getNumberOfPages(); \n            \n            //Iterate the pdf through pages.\n            for(int i=1; i&lt;=pages; i++) { \n                //Extract the page content using PdfTextExtractor.\n                String pageContent = \n                    PdfTextExtractor.getTextFromPage(pdfReader, i);\n                \n                //Print the page content on console.\n                System.out.println(&quot;Content on Page &quot;\n                              + i + &quot;: &quot; + pageContent);\n            }\n            \n            //Close the PdfReader.\n            pdfReader.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20977491,"reputation":87,"user_id":15413107,"display_name":"Fong Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638163978,"creation_date":1638158953,"question_id":70149650,"body_markdown":"I&#39;m working on a project base on java. And the java program will run command to call a python script.\r\n\r\nThe python script is used tabula-py to read a pdf file and return the data.\r\n\r\nI tried the python script was work when I direct call it in terminal (pytho3 xxx.py)\r\n\r\nHowever, when I tried to call the python script from java, it will throw error:\r\n\r\n    Error from tabula-java:Error: File does not exist\r\n    Command &#39;[&#39;java&#39;, &#39;-Dfile.encoding=UTF8&#39;, &#39;-jar&#39;, &#39;/home/ubuntu/.local/lib/python3.8/site-packages/tabula/tabula-1.0.5-jar-with-dependencies.jar&#39;, &#39;--pages&#39;, &#39;all&#39;, &#39;--lattice&#39;, &#39;--guess&#39;, &#39;--format&#39;, &#39;JSON&#39;, &#39;/home/ubuntu/Documents/xxxx.pdf&#39;]&#39; returned non-zero exit status 1.\r\n\r\nI tried to call the script in full path, provide the pdf file in full path, tried `sys.append(python script path)` and both of them are not worked.\r\n\r\nI&#39;ve tried to call the tabula in java command, i.e. java -Dfile.encoding=UTF8 -jar /home/ubuntu/.local/lib/python3.8/site-packages/tabula/tabula-1.0.5-jar-with-dependencies.jar &quot;file_path&quot;\r\n\r\nAnd it&#39;s work and can read the file. However back to java to call the python script is not work\r\n\r\nIs there any method to solve this? Use the tabula in java program is not an option for my case","title":"tabula-py can&#39;t read file when the python script called by java","body":"<p>I'm working on a project base on java. And the java program will run command to call a python script.</p>\n<p>The python script is used tabula-py to read a pdf file and return the data.</p>\n<p>I tried the python script was work when I direct call it in terminal (pytho3 xxx.py)</p>\n<p>However, when I tried to call the python script from java, it will throw error:</p>\n<pre><code>Error from tabula-java:Error: File does not exist\nCommand '['java', '-Dfile.encoding=UTF8', '-jar', '/home/ubuntu/.local/lib/python3.8/site-packages/tabula/tabula-1.0.5-jar-with-dependencies.jar', '--pages', 'all', '--lattice', '--guess', '--format', 'JSON', '/home/ubuntu/Documents/xxxx.pdf']' returned non-zero exit status 1.\n</code></pre>\n<p>I tried to call the script in full path, provide the pdf file in full path, tried <code>sys.append(python script path)</code> and both of them are not worked.</p>\n<p>I've tried to call the tabula in java command, i.e. java -Dfile.encoding=UTF8 -jar /home/ubuntu/.local/lib/python3.8/site-packages/tabula/tabula-1.0.5-jar-with-dependencies.jar &quot;file_path&quot;</p>\n<p>And it's work and can read the file. However back to java to call the python script is not work</p>\n<p>Is there any method to solve this? Use the tabula in java program is not an option for my case</p>\n"},{"tags":["java","spring","spring-boot","aws-sdk","aws-xray"],"answers":[{"tags":[],"owner":{"account_id":19325061,"reputation":252,"user_id":14127907,"display_name":"Lei Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638163043,"creation_date":1638163043,"answer_id":70150042,"question_id":70106156,"body_markdown":"AWS xray java sdk annotation `XRayEnabled` is used on class.\r\nA workaround is moving private methonds which you don&#39;t want to be instrumented to an util class.","title":"Custom AWS-X-ray instrumentation","body":"<p>AWS xray java sdk annotation <code>XRayEnabled</code> is used on class.\nA workaround is moving private methonds which you don't want to be instrumented to an util class.</p>\n"}],"owner":{"account_id":3695522,"reputation":561,"user_id":3076981,"accept_rate":73,"display_name":"Arpit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638163043,"creation_date":1637817814,"question_id":70106156,"body_markdown":"I have a simple Spring boot rest API which when get called trigger calls to three different API using rest template, collect data and perform business operation mostly private and service layer methods those I don&#39;t need to trace in X-ray.\r\n\r\nI have implemented the required configuration and uses `@XRayEnabled` on the class which I need to trace, but I am seeing x-ray tracing all the methods calls in the overall flow.\r\n\r\nWherever In flow I need tracing I have open and close a new subsegment like this\r\n\r\n    AWSXRay.beginSubsegment(&quot;Name&quot;);\r\n    AWSXRay.endSubsegment();\r\n\r\nHow can I make this not to trace private and other methods.\r\n","title":"Custom AWS-X-ray instrumentation","body":"<p>I have a simple Spring boot rest API which when get called trigger calls to three different API using rest template, collect data and perform business operation mostly private and service layer methods those I don't need to trace in X-ray.</p>\n<p>I have implemented the required configuration and uses <code>@XRayEnabled</code> on the class which I need to trace, but I am seeing x-ray tracing all the methods calls in the overall flow.</p>\n<p>Wherever In flow I need tracing I have open and close a new subsegment like this</p>\n<pre><code>AWSXRay.beginSubsegment(&quot;Name&quot;);\nAWSXRay.endSubsegment();\n</code></pre>\n<p>How can I make this not to trace private and other methods.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1637931220,"post_id":70124596,"comment_id":123960858,"body_markdown":"Please don&#39;t post images of HTML. Please share it along with question.","body":"Please don&#39;t post images of HTML. Please share it along with question."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1637934768,"post_id":70124596,"comment_id":123962183,"body_markdown":"Please update your question with your code and its failure including stacktrace if getting any exception.","body":"Please update your question with your code and its failure including stacktrace if getting any exception."},{"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"score":0,"creation_date":1638020509,"post_id":70124596,"comment_id":123978873,"body_markdown":"@pburgr it doesnt have an error I am just asking how can i scroll in a specific division","body":"@pburgr it doesnt have an error I am just asking how can i scroll in a specific division"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1638168439,"post_id":70124596,"comment_id":124006533,"body_markdown":"see https://stackoverflow.com/questions/3401343/scroll-element-into-view-with-selenium","body":"see <a href=\"https://stackoverflow.com/questions/3401343/scroll-element-into-view-with-selenium\" title=\"scroll element into view with selenium\">stackoverflow.com/questions/3401343/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638162960,"creation_date":1638162960,"answer_id":70150039,"question_id":70124596,"body_markdown":"Please try following code,\r\n\r\n    /*\r\n     * By\r\n     * scroll to the element and wait\r\n     */\r\n    public void scroll(By element) {\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, driver.findElement(element));\r\n        log.info(&quot;Scrolling down&quot;);\r\n        wait_for_(&quot;scroll&quot;);\r\n    }","title":"Scroll in a specific div Selenium Java","body":"<p>Please try following code,</p>\n<pre><code>/*\n * By\n * scroll to the element and wait\n */\npublic void scroll(By element) {\n    JavascriptExecutor js = (JavascriptExecutor) driver;\n    js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, driver.findElement(element));\n    log.info(&quot;Scrolling down&quot;);\n    wait_for_(&quot;scroll&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638162960,"creation_date":1637930392,"question_id":70124596,"body_markdown":"I want to scroll a specific division in selenium java\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SjDcy.png\r\n\r\nAs you can see in the picture there are two divs, by default the left one has the scroll thing so if u scroll it scrolls in that\r\n\r\nI want to scroll in the division on the left but I cant set focus to it by clicking something in it cause that makes it go to another page.\r\n\r\nThanks","title":"Scroll in a specific div Selenium Java","body":"<p>I want to scroll a specific division in selenium java\n<a href=\"https://i.stack.imgur.com/SjDcy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SjDcy.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see in the picture there are two divs, by default the left one has the scroll thing so if u scroll it scrolls in that</p>\n<p>I want to scroll in the division on the left but I cant set focus to it by clicking something in it cause that makes it go to another page.</p>\n<p>Thanks</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1638159826,"post_id":70149719,"comment_id":124005064,"body_markdown":"Why not `subList` https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/sub-list.html","body":"Why not <code>subList</code> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/sub-list.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-lis&zwnj;&#8203;t/&hellip;</a>"},{"owner":{"account_id":1995082,"reputation":143,"user_id":1788205,"display_name":"MARSH"},"score":0,"creation_date":1638159933,"post_id":70149719,"comment_id":124005088,"body_markdown":"its type is not accepting could you please help me how to make it sublist with same type","body":"its type is not accepting could you please help me how to make it sublist with same type"},{"owner":{"account_id":13562715,"reputation":108,"user_id":9783847,"display_name":"Zurmati"},"score":0,"creation_date":1638160699,"post_id":70149719,"comment_id":124005193,"body_markdown":"You can use multiple of 4 and add increment of 1  into each multiple, so that way you will get 5,10,14,19,24 as your list sizes.","body":"You can use multiple of 4 and add increment of 1  into each multiple, so that way you will get 5,10,14,19,24 as your list sizes."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1638162495,"post_id":70149719,"comment_id":124005489,"body_markdown":"Seems like a design problem of whatever function you are passing these to that it specifically needs ArrayList instead of a generic List. Not to say there’s never a reason that needed but it should be rare.","body":"Seems like a design problem of whatever function you are passing these to that it specifically needs ArrayList instead of a generic List. Not to say there’s never a reason that needed but it should be rare."}],"answers":[{"tags":[],"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638162333,"creation_date":1638160466,"answer_id":70149782,"question_id":70149719,"body_markdown":"You can use the `chucked` function to split a given collection into a list of lists where the size of inner list can be any chosen number.\r\n```kotlin\r\nval array = arrayListOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)\r\nprintln(array.chunked(6)) // [[1, 2, 3, 4, 5, 6], [7, 8, 9, 10, 11, 12]]\r\n```\r\nIf the size of array is not divisible by 6, the last inner list will have the remaining (size % 6) elements.\r\n\r\nThis will give you a `List&lt;List&lt;Int&gt;&gt;`. If you really want it to be `ArrayList&lt;ArrayList&lt;Int&gt;&gt;` you can convert it like this:\r\n```kotlin\r\narray.chunked(6).map { it.toCollection(ArrayList()) }.toCollection(ArrayList())\r\n```\r\n","title":"how to split list in chunk of list item in kotlin","body":"<p>You can use the <code>chucked</code> function to split a given collection into a list of lists where the size of inner list can be any chosen number.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val array = arrayListOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)\nprintln(array.chunked(6)) // [[1, 2, 3, 4, 5, 6], [7, 8, 9, 10, 11, 12]]\n</code></pre>\n<p>If the size of array is not divisible by 6, the last inner list will have the remaining (size % 6) elements.</p>\n<p>This will give you a <code>List&lt;List&lt;Int&gt;&gt;</code>. If you really want it to be <code>ArrayList&lt;ArrayList&lt;Int&gt;&gt;</code> you can convert it like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>array.chunked(6).map { it.toCollection(ArrayList()) }.toCollection(ArrayList())\n</code></pre>\n"}],"owner":{"account_id":1995082,"reputation":143,"user_id":1788205,"display_name":"MARSH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638162333,"creation_date":1638159679,"question_id":70149719,"body_markdown":"    val listParentBarEntry : ArrayList&lt;BarEntry&gt;? = content[&quot;parentBarChartData&quot;]\r\n    val listChildBarEntry : ArrayList&lt;BarEntry&gt;? = content[&quot;childBarChartData&quot;]\r\n\r\nthis is my list item  both size is 24 i want to split into 4 split. \r\n1st size should index 0 to 5 \r\n2nd size should index 7 to 12\r\n3rd size should index 13 to 17 \r\n4th size should index 18 o 23\r\n\r\ni am trying with groupBy but its not working please help me how to split list into 4 list with same type ArrayList&lt;BarEntry&gt;.\r\n\r\n","title":"how to split list in chunk of list item in kotlin","body":"<pre><code>val listParentBarEntry : ArrayList&lt;BarEntry&gt;? = content[&quot;parentBarChartData&quot;]\nval listChildBarEntry : ArrayList&lt;BarEntry&gt;? = content[&quot;childBarChartData&quot;]\n</code></pre>\n<p>this is my list item  both size is 24 i want to split into 4 split.\n1st size should index 0 to 5\n2nd size should index 7 to 12\n3rd size should index 13 to 17\n4th size should index 18 o 23</p>\n<p>i am trying with groupBy but its not working please help me how to split list into 4 list with same type ArrayList.</p>\n"},{"tags":["java","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":2396781,"reputation":269,"user_id":2095435,"display_name":"Sergey_Klochkov"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1363720831,"creation_date":1363644955,"answer_id":15487985,"question_id":15487631,"body_markdown":"You can&#39;t just use JPA, cause it is an API =), but there are plenty JPA implementations:&lt;br/&gt;\r\n\r\n 1. [EclipseLink][1] \r\n 2. [ObjectDB][2]\r\n\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/\r\n  [2]: http://www.objectdb.com/","title":"can we use jpa without hibernate","body":"<p>You can't just use JPA, cause it is an API =), but there are plenty JPA implementations:<br/></p>\n\n<ol>\n<li><a href=\"http://www.eclipse.org/eclipselink/\" rel=\"nofollow\">EclipseLink</a> </li>\n<li><a href=\"http://www.objectdb.com/\" rel=\"nofollow\">ObjectDB</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":354311,"reputation":3293,"user_id":692580,"accept_rate":38,"display_name":"Laabidi Raissi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363645003,"creation_date":1363645003,"answer_id":15487994,"question_id":15487631,"body_markdown":"If you don&#39;t want to use Hibernate (or any other JPA provider), then you must implement your own provider, by giving an implementation for the javax.persistence.spi.PersistenceProvider interface.\r\nThe question, is, why do you need re-invent the wheel ? \r\nIf you don&#39;t like Hibernate, you can use one of the so many other JPA-Providers to choose from","title":"can we use jpa without hibernate","body":"<p>If you don't want to use Hibernate (or any other JPA provider), then you must implement your own provider, by giving an implementation for the javax.persistence.spi.PersistenceProvider interface.\nThe question, is, why do you need re-invent the wheel ? \nIf you don't like Hibernate, you can use one of the so many other JPA-Providers to choose from</p>\n"},{"tags":[],"owner":{"account_id":2433917,"reputation":478,"user_id":2124274,"display_name":"bornleo"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1628518769,"creation_date":1363645210,"answer_id":15488049,"question_id":15487631,"body_markdown":"You are right JPA is a specification. Hibernate, and EclipseLink are a couple of its implementations.\r\n\r\nYou have to specify the persistence provider(Hibernate, EclipseLink) in order to use the JPA implementation. The persistence providers have the implementation classes for JPA specifications.","title":"can we use jpa without hibernate","body":"<p>You are right JPA is a specification. Hibernate, and EclipseLink are a couple of its implementations.</p>\n<p>You have to specify the persistence provider(Hibernate, EclipseLink) in order to use the JPA implementation. The persistence providers have the implementation classes for JPA specifications.</p>\n"},{"tags":[],"owner":{"account_id":3304055,"reputation":37,"user_id":2779428,"display_name":"Raja Chinnappan"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1379170756,"creation_date":1379170385,"answer_id":18802985,"question_id":15487631,"body_markdown":"You can use JPA alone without using Hibernate and Before should know about major points in between Hibernate vs JPA as given below.\r\n\r\nHibernate \r\n\r\n1. Hibernate is a ORM Framework which is support complete ORM and also use JPA features.\r\n2. Second level Cache is available so Performance is very good \r\n3. Its support .Net using NHibernate tool\r\n4. Its generate HQL(Hibernate Query Language)\r\n\r\nJPA\r\n\r\n1. JPA is part of EJB specification which is released in J2EE 1.5 and this will use for java as well as J2EE \r\n2. Second Level Cache is not available so Performance is not good.\r\n3. Its not support to .Net\r\n4. Its generate JPQL(Java Persistence Query Language)\r\n5. Top of any persistence provider like Hibernate we can use JPA.\r\n\r\n","title":"can we use jpa without hibernate","body":"<p>You can use JPA alone without using Hibernate and Before should know about major points in between Hibernate vs JPA as given below.</p>\n\n<p>Hibernate </p>\n\n<ol>\n<li>Hibernate is a ORM Framework which is support complete ORM and also use JPA features.</li>\n<li>Second level Cache is available so Performance is very good </li>\n<li>Its support .Net using NHibernate tool</li>\n<li>Its generate HQL(Hibernate Query Language)</li>\n</ol>\n\n<p>JPA</p>\n\n<ol>\n<li>JPA is part of EJB specification which is released in J2EE 1.5 and this will use for java as well as J2EE </li>\n<li>Second Level Cache is not available so Performance is not good.</li>\n<li>Its not support to .Net</li>\n<li>Its generate JPQL(Java Persistence Query Language)</li>\n<li>Top of any persistence provider like Hibernate we can use JPA.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4105120,"reputation":51,"user_id":3369436,"display_name":"razvanspt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1457199421,"creation_date":1457199421,"answer_id":35817433,"question_id":15487631,"body_markdown":"JPA can be used without a JPA provider aka Hibernate, EclipseLink and so on only if the application server has already a JPA implementation. Most likely on the tutorials you have seen demos that were perfomed on such an application server.","title":"can we use jpa without hibernate","body":"<p>JPA can be used without a JPA provider aka Hibernate, EclipseLink and so on only if the application server has already a JPA implementation. Most likely on the tutorials you have seen demos that were perfomed on such an application server.</p>\n"},{"tags":[],"owner":{"account_id":13613566,"reputation":75,"user_id":9820210,"display_name":"Soodabeh Neirizi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548252251,"creation_date":1548252251,"answer_id":54329025,"question_id":15487631,"body_markdown":"you can&#39;t use JPA on its own. JPA is a specification, which defines an API for object-relational mappings and for managing persistent objects and you need a JPA provider to implement it, like Hibernate, EclipseLink.","title":"can we use jpa without hibernate","body":"<p>you can't use JPA on its own. JPA is a specification, which defines an API for object-relational mappings and for managing persistent objects and you need a JPA provider to implement it, like Hibernate, EclipseLink.</p>\n"},{"tags":[],"owner":{"account_id":17717238,"reputation":1,"user_id":12863255,"display_name":"Prasanth M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581165180,"creation_date":1581165180,"answer_id":60126814,"question_id":15487631,"body_markdown":"No, you cannot perform CRUD operations with JPA alone. As JPA is just a specification, you need the implementation to perform database operations. The implementations are provided by Hibernate, EclipseLink, Ibatis, etc.","title":"can we use jpa without hibernate","body":"<p>No, you cannot perform CRUD operations with JPA alone. As JPA is just a specification, you need the implementation to perform database operations. The implementations are provided by Hibernate, EclipseLink, Ibatis, etc.</p>\n"},{"tags":[],"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1638162149,"creation_date":1590281731,"answer_id":61980380,"question_id":15487631,"body_markdown":"Though this thread is pretty old, I felt it is worth breaking things down. \r\n\r\n**JPA:** It Is just a specification. In simpler words. Set of interfaces.\r\n\r\n**Hibernate, Eclipse Link, Apache OpenJPA:** A few of the many implementations of JPA. In addition to providing the basic implementations for the JPA specifications, Hibernate and other implementations provide their additional functionalities. You can choose based on your need\r\n\r\n**Spring Data:** \r\n\r\n - It provides additional abstraction. \r\n - When you use Hibernate/Eclipse Link you still have to write some boilerplate code. By using Spring JPA you can avoid that. \r\n - The most important thing to note is Spring data uses Hibernate by Default due to Springboot&#39;s Opinionated nature. You can change the default behavior if you would like. \r\n - When you run the following command in a Springboot project that uses Spring JPA(with default configuration), you will see Hibernate jars being used. \r\n\r\n&gt; Maven: `mvn dependency:tree`\r\n&gt;\r\n&gt; Gradle: `gradle dependencies`","title":"can we use jpa without hibernate","body":"<p>Though this thread is pretty old, I felt it is worth breaking things down.</p>\n<p><strong>JPA:</strong> It Is just a specification. In simpler words. Set of interfaces.</p>\n<p><strong>Hibernate, Eclipse Link, Apache OpenJPA:</strong> A few of the many implementations of JPA. In addition to providing the basic implementations for the JPA specifications, Hibernate and other implementations provide their additional functionalities. You can choose based on your need</p>\n<p><strong>Spring Data:</strong></p>\n<ul>\n<li>It provides additional abstraction.</li>\n<li>When you use Hibernate/Eclipse Link you still have to write some boilerplate code. By using Spring JPA you can avoid that.</li>\n<li>The most important thing to note is Spring data uses Hibernate by Default due to Springboot's Opinionated nature. You can change the default behavior if you would like.</li>\n<li>When you run the following command in a Springboot project that uses Spring JPA(with default configuration), you will see Hibernate jars being used.</li>\n</ul>\n<blockquote>\n<p>Maven: <code>mvn dependency:tree</code></p>\n<p>Gradle: <code>gradle dependencies</code></p>\n</blockquote>\n"}],"owner":{"account_id":388617,"reputation":1480,"user_id":747661,"accept_rate":58,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40298,"favorite_count":0,"down_vote_count":2,"up_vote_count":43,"accepted_answer_id":15488049,"answer_count":8,"score":41,"last_activity_date":1638162149,"creation_date":1363643485,"question_id":15487631,"body_markdown":"I am new to JPA.\r\n\r\nAs per my understanding, JPA is specification and Hibernate implements JPA and provide add on features along with JPA methods.\r\n\r\nBut I was going through JPA tutorials, where using `EntityManager` object we can perform CRUD on data, without using Hibernate libraries!\r\n\r\nSo can anyone please let me know \r\n\r\n1. Can I use JPA alone using `EntityManager` methods, not using Hibernate?\r\n\r\nPlease mention some useful link or example.\r\n\r\nMuch appreciate response.&lt;br&gt;\r\nThanks.","title":"can we use jpa without hibernate","body":"<p>I am new to JPA.</p>\n\n<p>As per my understanding, JPA is specification and Hibernate implements JPA and provide add on features along with JPA methods.</p>\n\n<p>But I was going through JPA tutorials, where using <code>EntityManager</code> object we can perform CRUD on data, without using Hibernate libraries!</p>\n\n<p>So can anyone please let me know </p>\n\n<ol>\n<li>Can I use JPA alone using <code>EntityManager</code> methods, not using Hibernate?</li>\n</ol>\n\n<p>Please mention some useful link or example.</p>\n\n<p>Much appreciate response.<br>\nThanks.</p>\n"},{"tags":["java","quarkus","aws-xray","quarkus-rest-client"],"comments":[{"owner":{"account_id":7217817,"reputation":3317,"user_id":5509575,"display_name":"Hack5"},"score":1,"creation_date":1637407745,"post_id":70037392,"comment_id":123821406,"body_markdown":"Please detail what you have tried so far, what resources you searched, etc.","body":"Please detail what you have tried so far, what resources you searched, etc."},{"owner":{"account_id":15324746,"reputation":31,"user_id":11056204,"display_name":"witty_arrow"},"score":0,"creation_date":1637578210,"post_id":70037392,"comment_id":123854885,"body_markdown":"I have a working Spring Boot Application where the downstream calls are using Feign Client which can be configured using HttpClientBuilder for XRAY tracing. Now I am trying to migrate the application to Quarkus. Since I am trying to use JAX-RS client in Quarkus, i am doing things with Request filter to start and end subsegment for tracing. Looking for a proper way to enable tracing for JAX-RS clients.","body":"I have a working Spring Boot Application where the downstream calls are using Feign Client which can be configured using HttpClientBuilder for XRAY tracing. Now I am trying to migrate the application to Quarkus. Since I am trying to use JAX-RS client in Quarkus, i am doing things with Request filter to start and end subsegment for tracing. Looking for a proper way to enable tracing for JAX-RS clients."}],"answers":[{"tags":[],"owner":{"account_id":19325061,"reputation":252,"user_id":14127907,"display_name":"Lei Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638161986,"creation_date":1638161986,"answer_id":70149935,"question_id":70037392,"body_markdown":"XRay SDK and Daemon are in maintenance mode and would not add new feature support. So, it won&#39;t support JAX RS client instrumentation. Alternatively, you can use opentelemetry java instrumentation with Collector.\r\nFor more details please refer to:\r\n* https://aws-otel.github.io/docs/getting-started/java-sdk\r\n* https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/jaxrs-client\r\n* https://github.com/aws-observability","title":"AWS XRay with Quarkus","body":"<p>XRay SDK and Daemon are in maintenance mode and would not add new feature support. So, it won't support JAX RS client instrumentation. Alternatively, you can use opentelemetry java instrumentation with Collector.\nFor more details please refer to:</p>\n<ul>\n<li><a href=\"https://aws-otel.github.io/docs/getting-started/java-sdk\" rel=\"nofollow noreferrer\">https://aws-otel.github.io/docs/getting-started/java-sdk</a></li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/jaxrs-client\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/jaxrs-client</a></li>\n<li><a href=\"https://github.com/aws-observability\" rel=\"nofollow noreferrer\">https://github.com/aws-observability</a></li>\n</ul>\n"}],"owner":{"account_id":15324746,"reputation":31,"user_id":11056204,"display_name":"witty_arrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638161986,"creation_date":1637336485,"question_id":70037392,"body_markdown":"I would like to trace downstream rest client calls using AWS Xray in Qurakus application.\r\nAny idea how to enable aws xray tracing for Rest Client calls in Quarkus Application.","title":"AWS XRay with Quarkus","body":"<p>I would like to trace downstream rest client calls using AWS Xray in Qurakus application.\nAny idea how to enable aws xray tracing for Rest Client calls in Quarkus Application.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"score":0,"creation_date":1638160675,"post_id":70149665,"comment_id":124005192,"body_markdown":"you are getting this error in which line of your code?","body":"you are getting this error in which line of your code?"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1638160814,"post_id":70149665,"comment_id":124005207,"body_markdown":"`Claims claims = AuthUtil.getClaimFromToken(token);` this line, I found many places throw this error, so I tried to dump the memory and analysis using MAT. @mystery","body":"<code>Claims claims = AuthUtil.getClaimFromToken(token);</code> this line, I found many places throw this error, so I tried to dump the memory and analysis using MAT. @mystery"},{"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"score":0,"creation_date":1638160938,"post_id":70149665,"comment_id":124005234,"body_markdown":"Then show code of this method..may be there is a problem","body":"Then show code of this method..may be there is a problem"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1638161130,"post_id":70149665,"comment_id":124005268,"body_markdown":"I have pasted my cod about `getClaimFromToken` @mystery","body":"I have pasted my cod about <code>getClaimFromToken</code> @mystery"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":1,"creation_date":1638161439,"post_id":70149665,"comment_id":124005316,"body_markdown":"What is the analysis result of MAT? Which object takes up a lot of memory","body":"What is the analysis result of MAT? Which object takes up a lot of memory"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638161077,"creation_date":1638159079,"question_id":70149665,"body_markdown":"Now I have some put global data logic in the spring cloud gateway interceptor `JwtAuthenticationGatewayFilterFactory` like this:\r\n\r\n\r\n\r\n    public static void setRequestGlobalHeader(String token, ServerWebExchange exchange, ServerHttpRequest request) {\r\n            Claims claims = AuthUtil.getClaimFromToken(token);\r\n            RequestContext.initMDC();\r\n            RequestContext.putLoginId(MapUtils.getLongValue(claims, &quot;userId&quot;, 0L));\r\n            RequestContext.putAppId(MapUtils.getIntValue(claims, &quot;appId&quot;, -1));\r\n            RequestContext.putDeviceId(MapUtils.getString(claims, &quot;deviceId&quot;, &quot;unknown&quot;));\r\n    \r\n            exchange.getRequest()\r\n                    .mutate()\r\n                    .header(&quot;id&quot;, String.valueOf(claims.get(&quot;id&quot;)))\r\n                    .header(&quot;appId&quot;, String.valueOf(claims.get(&quot;appId&quot;)))\r\n                    .header(&quot;userId&quot;, String.valueOf(claims.get(&quot;userId&quot;)))\r\n                    .header(&quot;accessToken&quot;, token)\r\n                    .header(&quot;x-access-token&quot;, token)\r\n                    .header(&quot;X-Request-ID&quot;, request.getHeaders().getFirst(AuthHeaderKey.REQUEST_ID))\r\n                    .build();\r\n        }\r\n\r\n\r\n\r\n\r\nI am facing a JVM out of memory problem right now, this is the log:\r\n\r\n\r\n\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.util.Arrays.copyOf(Arrays.java:3776) ~[?:?]\r\n    \tat java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:172) ~[?:?]\r\n    \tat java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:538) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:174) ~[?:?]\r\n    \tat java.net.URLStreamHandler.toExternalForm(URLStreamHandler.java:473) ~[?:?]\r\n    \tat java.net.URL.toExternalForm(URL.java:1044) ~[?:?]\r\n    \tat java.net.URL.toString(URL.java:1030) ~[?:?]\r\n    \tat org.springframework.boot.loader.jar.Handler.isUrlInJarFile(Handler.java:102) ~[dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\r\n    \tat org.springframework.boot.loader.jar.Handler.openConnection(Handler.java:88) ~[dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\r\n    \tat java.net.URL.openConnection(URL.java:1099) ~[?:?]\r\n    \tat jdk.internal.loader.URLClassPath$Loader.findResource(URLClassPath.java:737) ~[?:?]\r\n    \tat jdk.internal.loader.URLClassPath$1.next(URLClassPath.java:445) ~[?:?]\r\n    \tat jdk.internal.loader.URLClassPath$1.hasMoreElements(URLClassPath.java:455) ~[?:?]\r\n    \tat java.net.URLClassLoader$2$1.run(URLClassLoader.java:894) ~[?:?]\r\n    \tat java.net.URLClassLoader$2$1.run(URLClassLoader.java:892) ~[?:?]\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:708) ~[?:?]\r\n    \tat java.net.URLClassLoader$2.next(URLClassLoader.java:891) ~[?:?]\r\n    \tat java.net.URLClassLoader$2.hasMoreElements(URLClassLoader.java:916) ~[?:?]\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader$UseFastConnectionExceptionsEnumeration.hasMoreElements(LaunchedURLClassLoader.java:336) ~[dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\r\n    \tat java.lang.ClassLoader$CompoundEnumeration.hasMoreElements(ClassLoader.java:773) ~[?:?]\r\n    \tat java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1203) ~[?:?]\r\n    \tat java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221) ~[?:?]\r\n    \tat java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265) ~[?:?]\r\n    \tat java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300) ~[?:?]\r\n    \tat java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385) ~[?:?]\r\n    \tat io.jsonwebtoken.impl.lang.Services.loadAll(Services.java:80) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\r\n    \tat io.jsonwebtoken.impl.lang.Services.loadAll(Services.java:68) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\r\n    \tat io.jsonwebtoken.impl.compression.DefaultCompressionCodecResolver.&lt;init&gt;(DefaultCompressionCodecResolver.java:60) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.&lt;init&gt;(DefaultJwtParser.java:72) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParserBuilder.build(DefaultJwtParserBuilder.java:194) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\r\n    \tat misc.util.AuthUtil.getClaimFromToken(AuthUtil.java:257) ~[dolphin-common-1.0.0-SNAPSHOT-plain.jar!/:?]\r\n    \tat misc.util.AuthUtil.setRequestGlobalHeader(AuthUtil.java:292) ~[dolphin-common-1.0.0-SNAPSHOT-plain.jar!/:?]\r\n    \tat com.dolphin.gateway.filter.JwtAuthenticationGatewayFilterFactory.authImpl(JwtAuthenticationGatewayFilterFactory.java:71) ~[classes!/:?]\r\n    \tat com.dolphin.gateway.filter.JwtAuthenticationGatewayFilterFactory.lambda$apply$2(JwtAuthenticationGatewayFilterFactory.java:49) ~[classes!/:?]\r\n    \tat com.dolphin.gateway.filter.JwtAuthenticationGatewayFilterFactory$$Lambda$1082/0x00000000840484a0.filter(Unknown Source) ~[?:?]\r\n    \tat org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44) ~[spring-cloud-gateway-server-3.0.3.jar!/:3.0.3]\r\n    \tat org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:117) ~[spring-cloud-gateway-server-3.0.3.jar!/:3.0.3]\r\n    \tat org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain$$Lambda$1131/0x00000000b001c3b0.get(Unknown Source) ~[?:?]\r\n\r\n\r\nis the static method problem? the variable did not dispose when the request ended? what should I do to avoid the OOM problem? This is my code about `getClaimFromToken`:\r\n\r\n\r\n\r\n \r\n\r\n       public static Claims getClaimFromToken(String token) {\r\n            try {\r\n                Jws&lt;Claims&gt; claimsJws = Jwts.parserBuilder().setSigningKey(JWT_SIGN_KEY.getBytes()).build()\r\n                        .parseClaimsJws(token);\r\n                return claimsJws.getBody();\r\n            } catch (ExpiredJwtException e) {\r\n                throw GlobalException.ACCESS_TOKEN_EXPIRED_EXCEPTION;\r\n            } catch (JwtException e) {\r\n                throw GlobalException.ACCESS_TOKEN_INVALID_EXCEPTION;\r\n            }\r\n        }\r\n\r\n\r\n","title":"should I use a static method in the interceptor to put some global data in spring cloud gateway","body":"<p>Now I have some put global data logic in the spring cloud gateway interceptor <code>JwtAuthenticationGatewayFilterFactory</code> like this:</p>\n<pre><code>public static void setRequestGlobalHeader(String token, ServerWebExchange exchange, ServerHttpRequest request) {\n        Claims claims = AuthUtil.getClaimFromToken(token);\n        RequestContext.initMDC();\n        RequestContext.putLoginId(MapUtils.getLongValue(claims, &quot;userId&quot;, 0L));\n        RequestContext.putAppId(MapUtils.getIntValue(claims, &quot;appId&quot;, -1));\n        RequestContext.putDeviceId(MapUtils.getString(claims, &quot;deviceId&quot;, &quot;unknown&quot;));\n\n        exchange.getRequest()\n                .mutate()\n                .header(&quot;id&quot;, String.valueOf(claims.get(&quot;id&quot;)))\n                .header(&quot;appId&quot;, String.valueOf(claims.get(&quot;appId&quot;)))\n                .header(&quot;userId&quot;, String.valueOf(claims.get(&quot;userId&quot;)))\n                .header(&quot;accessToken&quot;, token)\n                .header(&quot;x-access-token&quot;, token)\n                .header(&quot;X-Request-ID&quot;, request.getHeaders().getFirst(AuthHeaderKey.REQUEST_ID))\n                .build();\n    }\n</code></pre>\n<p>I am facing a JVM out of memory problem right now, this is the log:</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOf(Arrays.java:3776) ~[?:?]\n    at java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:172) ~[?:?]\n    at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:538) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:174) ~[?:?]\n    at java.net.URLStreamHandler.toExternalForm(URLStreamHandler.java:473) ~[?:?]\n    at java.net.URL.toExternalForm(URL.java:1044) ~[?:?]\n    at java.net.URL.toString(URL.java:1030) ~[?:?]\n    at org.springframework.boot.loader.jar.Handler.isUrlInJarFile(Handler.java:102) ~[dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\n    at org.springframework.boot.loader.jar.Handler.openConnection(Handler.java:88) ~[dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\n    at java.net.URL.openConnection(URL.java:1099) ~[?:?]\n    at jdk.internal.loader.URLClassPath$Loader.findResource(URLClassPath.java:737) ~[?:?]\n    at jdk.internal.loader.URLClassPath$1.next(URLClassPath.java:445) ~[?:?]\n    at jdk.internal.loader.URLClassPath$1.hasMoreElements(URLClassPath.java:455) ~[?:?]\n    at java.net.URLClassLoader$2$1.run(URLClassLoader.java:894) ~[?:?]\n    at java.net.URLClassLoader$2$1.run(URLClassLoader.java:892) ~[?:?]\n    at java.security.AccessController.doPrivileged(AccessController.java:708) ~[?:?]\n    at java.net.URLClassLoader$2.next(URLClassLoader.java:891) ~[?:?]\n    at java.net.URLClassLoader$2.hasMoreElements(URLClassLoader.java:916) ~[?:?]\n    at org.springframework.boot.loader.LaunchedURLClassLoader$UseFastConnectionExceptionsEnumeration.hasMoreElements(LaunchedURLClassLoader.java:336) ~[dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\n    at java.lang.ClassLoader$CompoundEnumeration.hasMoreElements(ClassLoader.java:773) ~[?:?]\n    at java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1203) ~[?:?]\n    at java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221) ~[?:?]\n    at java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265) ~[?:?]\n    at java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300) ~[?:?]\n    at java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385) ~[?:?]\n    at io.jsonwebtoken.impl.lang.Services.loadAll(Services.java:80) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\n    at io.jsonwebtoken.impl.lang.Services.loadAll(Services.java:68) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\n    at io.jsonwebtoken.impl.compression.DefaultCompressionCodecResolver.&lt;init&gt;(DefaultCompressionCodecResolver.java:60) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\n    at io.jsonwebtoken.impl.DefaultJwtParser.&lt;init&gt;(DefaultJwtParser.java:72) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\n    at io.jsonwebtoken.impl.DefaultJwtParserBuilder.build(DefaultJwtParserBuilder.java:194) ~[jjwt-impl-0.11.2.jar!/:0.11.2]\n    at misc.util.AuthUtil.getClaimFromToken(AuthUtil.java:257) ~[dolphin-common-1.0.0-SNAPSHOT-plain.jar!/:?]\n    at misc.util.AuthUtil.setRequestGlobalHeader(AuthUtil.java:292) ~[dolphin-common-1.0.0-SNAPSHOT-plain.jar!/:?]\n    at com.dolphin.gateway.filter.JwtAuthenticationGatewayFilterFactory.authImpl(JwtAuthenticationGatewayFilterFactory.java:71) ~[classes!/:?]\n    at com.dolphin.gateway.filter.JwtAuthenticationGatewayFilterFactory.lambda$apply$2(JwtAuthenticationGatewayFilterFactory.java:49) ~[classes!/:?]\n    at com.dolphin.gateway.filter.JwtAuthenticationGatewayFilterFactory$$Lambda$1082/0x00000000840484a0.filter(Unknown Source) ~[?:?]\n    at org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44) ~[spring-cloud-gateway-server-3.0.3.jar!/:3.0.3]\n    at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:117) ~[spring-cloud-gateway-server-3.0.3.jar!/:3.0.3]\n    at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain$$Lambda$1131/0x00000000b001c3b0.get(Unknown Source) ~[?:?]\n</code></pre>\n<p>is the static method problem? the variable did not dispose when the request ended? what should I do to avoid the OOM problem? This is my code about <code>getClaimFromToken</code>:</p>\n<pre><code>   public static Claims getClaimFromToken(String token) {\n        try {\n            Jws&lt;Claims&gt; claimsJws = Jwts.parserBuilder().setSigningKey(JWT_SIGN_KEY.getBytes()).build()\n                    .parseClaimsJws(token);\n            return claimsJws.getBody();\n        } catch (ExpiredJwtException e) {\n            throw GlobalException.ACCESS_TOKEN_EXPIRED_EXCEPTION;\n        } catch (JwtException e) {\n            throw GlobalException.ACCESS_TOKEN_INVALID_EXCEPTION;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638160532,"creation_date":1638160532,"answer_id":70149788,"question_id":70149642,"body_markdown":"&gt; The goal of Spring Data repository abstraction is to significantly reduce the amount of boilerplate code required to implement data access layers for various persistence stores.\r\n\r\n**[Spring Data Repositories][1]** is a useful tool for providing pre-built functionality &amp; other convenient features for querying, altering, &amp; accessing your data from a connected data base or other data storage system.\r\n\r\nWhat you are referring to with `@Repository` is the spring annotation. This is usually a class-level annotation when defining your individual repository classes. \r\n\r\nIt is only &quot;required&quot; if you intend on using these types of repository classes. While there are other alternative means for querying your data, spring repositories are quite handy.\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-commons/docs/2.6.0/reference/html/#project","title":"Is @repository is required in spring boot","body":"<blockquote>\n<p>The goal of Spring Data repository abstraction is to significantly reduce the amount of boilerplate code required to implement data access layers for various persistence stores.</p>\n</blockquote>\n<p><strong><a href=\"https://docs.spring.io/spring-data/data-commons/docs/2.6.0/reference/html/#project\" rel=\"nofollow noreferrer\">Spring Data Repositories</a></strong> is a useful tool for providing pre-built functionality &amp; other convenient features for querying, altering, &amp; accessing your data from a connected data base or other data storage system.</p>\n<p>What you are referring to with <code>@Repository</code> is the spring annotation. This is usually a class-level annotation when defining your individual repository classes.</p>\n<p>It is only &quot;required&quot; if you intend on using these types of repository classes. While there are other alternative means for querying your data, spring repositories are quite handy.</p>\n"}],"owner":{"account_id":23279854,"reputation":29,"user_id":17363446,"display_name":"bindu shree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1638161325,"answer_count":1,"score":0,"last_activity_date":1638160988,"creation_date":1638158873,"question_id":70149642,"body_markdown":"While creating the login page in frontend the values are passed to backend spring boot using fetch request, in the backend created a pojo class for login and have the controller class ,in the controller call the rest api by adding @request body all the values are passed to rest api class ,is this required repository are not if it requires why.","title":"Is @repository is required in spring boot","body":"<p>While creating the login page in frontend the values are passed to backend spring boot using fetch request, in the backend created a pojo class for login and have the controller class ,in the controller call the rest api by adding @request body all the values are passed to rest api class ,is this required repository are not if it requires why.</p>\n"},{"tags":["java","quarkus","smallrye"],"owner":{"account_id":7016968,"reputation":51,"user_id":5377966,"display_name":"Rafik Bex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638160718,"creation_date":1638160718,"question_id":70149805,"body_markdown":"when the header data contains an Authorization entry with an expired jwt token, smallrye validates it showing an exception info because of token expiration.\r\n\r\nbeing a `@PermitAll` resource it should not consider the jwt to let the request being called.\r\n\r\nConfiguring the `quarkus.http.auth.proactive=false` has no effect, is there anyway to disable this validation without the use of filters?","title":"smallrye-quarkus validation can be disabled when requests has an expired jwt token on @PermitAll method?","body":"<p>when the header data contains an Authorization entry with an expired jwt token, smallrye validates it showing an exception info because of token expiration.</p>\n<p>being a <code>@PermitAll</code> resource it should not consider the jwt to let the request being called.</p>\n<p>Configuring the <code>quarkus.http.auth.proactive=false</code> has no effect, is there anyway to disable this validation without the use of filters?</p>\n"},{"tags":["java","selenium","testng"],"comments":[{"owner":{"account_id":20272202,"reputation":356,"user_id":14868118,"display_name":"oktaykcr"},"score":0,"creation_date":1638093539,"post_id":70140812,"comment_id":123991262,"body_markdown":"Hi ankush, I can&#39;t understand your problem. Are you want to ignore this test case or skipped specified condition? Did you examine [Skip Excepiton Test in TestNG](https://www.seleniumeasy.com/testng-tutorials/skip-test-in-testng)? If it doesn&#39;t solve your problem, you should debug your test case. Maybe the code logic you wrote is preventing the test from being skipped.","body":"Hi ankush, I can&#39;t understand your problem. Are you want to ignore this test case or skipped specified condition? Did you examine <a href=\"https://www.seleniumeasy.com/testng-tutorials/skip-test-in-testng\" rel=\"nofollow noreferrer\">Skip Excepiton Test in TestNG</a>? If it doesn&#39;t solve your problem, you should debug your test case. Maybe the code logic you wrote is preventing the test from being skipped."},{"owner":{"account_id":17888127,"reputation":39,"user_id":12995285,"display_name":"ankush singh"},"score":0,"creation_date":1638101543,"post_id":70140812,"comment_id":123992919,"body_markdown":"hi, i want to skipped this test case","body":"hi, i want to skipped this test case"},{"owner":{"account_id":20272202,"reputation":356,"user_id":14868118,"display_name":"oktaykcr"},"score":0,"creation_date":1638104275,"post_id":70140812,"comment_id":123993444,"body_markdown":"Did you try `@Test(enabled=false)`? It skips the specified test case.","body":"Did you try <code>@Test(enabled=false)</code>? It skips the specified test case."},{"owner":{"account_id":17888127,"reputation":39,"user_id":12995285,"display_name":"ankush singh"},"score":0,"creation_date":1638120944,"post_id":70140812,"comment_id":123997525,"body_markdown":"this method is use to ignore the test. I want to show my report that this test case is skip","body":"this method is use to ignore the test. I want to show my report that this test case is skip"},{"owner":{"account_id":20272202,"reputation":356,"user_id":14868118,"display_name":"oktaykcr"},"score":0,"creation_date":1638131157,"post_id":70140812,"comment_id":124000107,"body_markdown":"I found a solution [to Capture Skipped Automation Tests in Extent Report](https://blog.kiprosh.com/how-to-add-skipped-test-functions-to-the-extent-report/). Maybe this can help you.","body":"I found a solution <a href=\"https://blog.kiprosh.com/how-to-add-skipped-test-functions-to-the-extent-report/\" rel=\"nofollow noreferrer\">to Capture Skipped Automation Tests in Extent Report</a>. Maybe this can help you."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1638189817,"post_id":70140812,"comment_id":124013796,"body_markdown":"@ankushsingh You haven&#39;t mentioned how you tried `skipexception`. Because this exception is used to mark a test as skipped and it should work.","body":"@ankushsingh You haven&#39;t mentioned how you tried <code>skipexception</code>. Because this exception is used to mark a test as skipped and it should work."}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1638160221,"creation_date":1638160221,"answer_id":70149757,"question_id":70140812,"body_markdown":"Consider you have method A and method B . add annotation depends on tag in your method B so if method A fails method B will be skipped.\r\n\r\n    @Test(priority = 1, dependsOnMethods = &quot;administration_device_configure_custom_fields_default&quot;)","title":"Skipped a particular test method in testNG","body":"<p>Consider you have method A and method B . add annotation depends on tag in your method B so if method A fails method B will be skipped.</p>\n<pre><code>@Test(priority = 1, dependsOnMethods = &quot;administration_device_configure_custom_fields_default&quot;)\n</code></pre>\n"}],"owner":{"account_id":17888127,"reputation":39,"user_id":12995285,"display_name":"ankush singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70149757,"answer_count":1,"score":0,"last_activity_date":1638160221,"creation_date":1638076210,"question_id":70140812,"body_markdown":"i have a method and i want to run this method and then showing skip in report\r\n\r\n    @Test(priority = 18, dataProvider=&quot;excelSheetNameAsMethodName&quot;,dataProviderClass=ExcelDataProvider.class)\r\n\tpublic void addNotesFromRequisitionListAndDetailsPage(String username,String emailID,String password) throws Exception {\r\n\r\n\t\tcbatLoginPage().enterEmailID(emailID, password);\r\n\t\tcbatMyAccountPage().verifyApplicantTrackingTile();\r\n\t\tcbatMyAccountPage().selectTile(&quot;Applicant Tracking&quot;);\r\n\t\tcbatHomePage().switchWindow();\r\n\t\tcbatHomePage().verifyCBATHomePage(username);\r\n        cbatHomePage().selectWidget(&quot;MY REQUISITIONS&quot;);\r\n\t\tcbatRequisitionPage().clickFirstNoteIcon();\r\n\t\tString noteText = &quot;Test Note &quot;+ RandomGenerator.GenerateRandomNumber(3);\r\n\t\tcbatRequisitionPage().enterNewNote(noteText);\r\n\t\tcbatRequisitionPage().clickFirstNoteIcon();\r\n\t\tcbatRequisitionPage().verifyNoteAdded(noteText);\r\n\t\tcbatRequisitionPage().selectRequisition();\r\n\t\tcbatRequisitionPage().clickFilledNoteIcon();\r\n\t\tnoteText = &quot;Test Note &quot;+ RandomGenerator.GenerateRandomNumber(3);\r\n\t\tcbatRequisitionPage().enterNewNote(noteText);\r\n\t\tcbatRequisitionPage().clickFilledNoteIcon();;\r\n\t\tcbatRequisitionPage().verifyNoteAdded(noteText);\r\n\t}\r\n\r\nhow can i Skipped this test case ?\r\ni use throw new skipexception(&quot;message&quot;) but it doesn&#39;t work.","title":"Skipped a particular test method in testNG","body":"<p>i have a method and i want to run this method and then showing skip in report</p>\n<pre><code>@Test(priority = 18, dataProvider=&quot;excelSheetNameAsMethodName&quot;,dataProviderClass=ExcelDataProvider.class)\npublic void addNotesFromRequisitionListAndDetailsPage(String username,String emailID,String password) throws Exception {\n\n    cbatLoginPage().enterEmailID(emailID, password);\n    cbatMyAccountPage().verifyApplicantTrackingTile();\n    cbatMyAccountPage().selectTile(&quot;Applicant Tracking&quot;);\n    cbatHomePage().switchWindow();\n    cbatHomePage().verifyCBATHomePage(username);\n    cbatHomePage().selectWidget(&quot;MY REQUISITIONS&quot;);\n    cbatRequisitionPage().clickFirstNoteIcon();\n    String noteText = &quot;Test Note &quot;+ RandomGenerator.GenerateRandomNumber(3);\n    cbatRequisitionPage().enterNewNote(noteText);\n    cbatRequisitionPage().clickFirstNoteIcon();\n    cbatRequisitionPage().verifyNoteAdded(noteText);\n    cbatRequisitionPage().selectRequisition();\n    cbatRequisitionPage().clickFilledNoteIcon();\n    noteText = &quot;Test Note &quot;+ RandomGenerator.GenerateRandomNumber(3);\n    cbatRequisitionPage().enterNewNote(noteText);\n    cbatRequisitionPage().clickFilledNoteIcon();;\n    cbatRequisitionPage().verifyNoteAdded(noteText);\n}\n</code></pre>\n<p>how can i Skipped this test case ?\ni use throw new skipexception(&quot;message&quot;) but it doesn't work.</p>\n"},{"tags":["java","redis","lettuce"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1638160183,"creation_date":1472560772,"answer_id":39227782,"question_id":39204646,"body_markdown":"You have two options:\r\n\r\n1. You perform serialization (JDK serialization, JSON, Protobuf, ...) on your own. You can do that before sending data to Redis, or you implement an own `RedisCodec` that does the job (see [CustomCodecTest.java](https://github.com/mp911de/lettuce/blob/master/src/test/java/com/lambdaworks/redis/CustomCodecTest.java#L109) or [CustomCodecTest.java][1])\r\n2. Use a framework in front of lettuce (such as [Spring Data Redis](http://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis:serializer)). Spring Data Redis comes with various codecs that provide serialization out of the box.\r\n\r\n\r\n  [1]: https://github.com/wg/lettuce/blob/master/src/test/java/com/lambdaworks/redis/CustomCodecTest.java","title":"How to push complex java objects to Redis using lettuce 4.2 Cluster client","body":"<p>You have two options:</p>\n<ol>\n<li>You perform serialization (JDK serialization, JSON, Protobuf, ...) on your own. You can do that before sending data to Redis, or you implement an own <code>RedisCodec</code> that does the job (see <a href=\"https://github.com/mp911de/lettuce/blob/master/src/test/java/com/lambdaworks/redis/CustomCodecTest.java#L109\" rel=\"nofollow noreferrer\">CustomCodecTest.java</a> or <a href=\"https://github.com/wg/lettuce/blob/master/src/test/java/com/lambdaworks/redis/CustomCodecTest.java\" rel=\"nofollow noreferrer\">CustomCodecTest.java</a>)</li>\n<li>Use a framework in front of lettuce (such as <a href=\"http://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis:serializer\" rel=\"nofollow noreferrer\">Spring Data Redis</a>). Spring Data Redis comes with various codecs that provide serialization out of the box.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1833876,"reputation":5668,"user_id":1664624,"accept_rate":38,"display_name":"yelliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638159991,"creation_date":1638159991,"answer_id":70149743,"question_id":39204646,"body_markdown":"This is the customized RedisCodec to save the object as serialized form:\r\n\r\n    StatefulRedisConnection&lt;String, Object&gt; connect = RedisClient.create(redisUri).connect(\r\n      new RedisCodec&lt;String, Object&gt;() {\r\n        private final ByteArrayCodec byteArrayCodec = new ByteArrayCodec();\r\n    \r\n        @Override\r\n        public String decodeKey(ByteBuffer byteBuffer) {\r\n          return Charset.defaultCharset().decode(byteBuffer).toString();\r\n        }\r\n    \r\n        @Override\r\n        public Object decodeValue(ByteBuffer bytes) {\r\n          try (ObjectInputStream is = new ObjectInputStream(new ByteArrayInputStream(byteArrayCodec.decodeValue(bytes)))) {\r\n            return is.readObject();\r\n          } catch (Exception e) {\r\n            throw new IllegalArgumentException(e);\r\n          }\r\n        }\r\n    \r\n        @Override\r\n        public ByteBuffer encodeKey(String s) {\r\n          return Charset.defaultCharset().encode(s);\r\n        }\r\n    \r\n        @Override\r\n        public ByteBuffer encodeValue(Object o) {\r\n          try (ByteArrayOutputStream bos = new ByteArrayOutputStream(); ObjectOutputStream os = new ObjectOutputStream(bos)) {\r\n            os.writeObject(o);\r\n            return byteArrayCodec.encodeValue(bos.toByteArray());\r\n          } catch (Exception e) {\r\n            throw new IllegalArgumentException(e);\r\n          }\r\n        }\r\n      }\r\n    );\r\n    RedisCommands&lt;String, Object&gt; commands = connect.sync();\r\n    List&lt;String&gt; input = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;);\r\n    commands.set(&quot;test&quot;, input);\r\n    Object result = commands.get(&quot;test&quot;);\r\n    assert (result.equals(input));","title":"How to push complex java objects to Redis using lettuce 4.2 Cluster client","body":"<p>This is the customized RedisCodec to save the object as serialized form:</p>\n<pre><code>StatefulRedisConnection&lt;String, Object&gt; connect = RedisClient.create(redisUri).connect(\n  new RedisCodec&lt;String, Object&gt;() {\n    private final ByteArrayCodec byteArrayCodec = new ByteArrayCodec();\n\n    @Override\n    public String decodeKey(ByteBuffer byteBuffer) {\n      return Charset.defaultCharset().decode(byteBuffer).toString();\n    }\n\n    @Override\n    public Object decodeValue(ByteBuffer bytes) {\n      try (ObjectInputStream is = new ObjectInputStream(new ByteArrayInputStream(byteArrayCodec.decodeValue(bytes)))) {\n        return is.readObject();\n      } catch (Exception e) {\n        throw new IllegalArgumentException(e);\n      }\n    }\n\n    @Override\n    public ByteBuffer encodeKey(String s) {\n      return Charset.defaultCharset().encode(s);\n    }\n\n    @Override\n    public ByteBuffer encodeValue(Object o) {\n      try (ByteArrayOutputStream bos = new ByteArrayOutputStream(); ObjectOutputStream os = new ObjectOutputStream(bos)) {\n        os.writeObject(o);\n        return byteArrayCodec.encodeValue(bos.toByteArray());\n      } catch (Exception e) {\n        throw new IllegalArgumentException(e);\n      }\n    }\n  }\n);\nRedisCommands&lt;String, Object&gt; commands = connect.sync();\nList&lt;String&gt; input = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;);\ncommands.set(&quot;test&quot;, input);\nObject result = commands.get(&quot;test&quot;);\nassert (result.equals(input));\n</code></pre>\n"}],"owner":{"account_id":7957329,"reputation":53,"user_id":6006157,"display_name":"Pavan Kumar R R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7899,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39227782,"answer_count":2,"score":4,"last_activity_date":1638160183,"creation_date":1472468487,"question_id":39204646,"body_markdown":"I have a complex java object with all types of data types. We need to push this object to Redis cache with string as key and value is this object. We have Redis cluster of 6 machines.\r\n\r\nHow to push this object through java code using lettuce cluster client?\r\n","title":"How to push complex java objects to Redis using lettuce 4.2 Cluster client","body":"<p>I have a complex java object with all types of data types. We need to push this object to Redis cache with string as key and value is this object. We have Redis cluster of 6 machines.</p>\n\n<p>How to push this object through java code using lettuce cluster client?</p>\n"},{"tags":["java","android","button","android-recyclerview","onclick"],"comments":[{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1638061646,"post_id":70139744,"comment_id":123987314,"body_markdown":"do you have some sort of onClickListener for the imageButtons? Show your recyclver view adapter and the activity hosting the recyclver view.","body":"do you have some sort of onClickListener for the imageButtons? Show your recyclver view adapter and the activity hosting the recyclver view."},{"owner":{"account_id":21579680,"reputation":11,"user_id":15911072,"display_name":"Yiğit Budur"},"score":0,"creation_date":1638094508,"post_id":70139744,"comment_id":123991447,"body_markdown":"@BabyishTank I&#39;ve edited the main post with those. I tried my best to put an onClickListener but I get crashes if I put it on the onCreate event of the activity as the button doesn&#39;t exists before user presses a button to list items. So I couldn&#39;t find a way to do.","body":"@BabyishTank I&#39;ve edited the main post with those. I tried my best to put an onClickListener but I get crashes if I put it on the onCreate event of the activity as the button doesn&#39;t exists before user presses a button to list items. So I couldn&#39;t find a way to do."}],"answers":[{"tags":[],"owner":{"account_id":15118892,"reputation":396,"user_id":10910220,"display_name":"Ahmed Karam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638159987,"creation_date":1638076362,"answer_id":70140829,"question_id":70139744,"body_markdown":"I think the problem with you is that the click event happen on the screen in another view \r\n\r\nBy making a transparent rectangle i think the click go to the parent view \r\nTry to test that for ex:\r\n\r\n     &lt;LinearLayout\r\n     android:id=&quot;@+id/layout\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;wrap_content&quot;\r\n     android:gravity=&quot;center_vertical&quot;\r\n     android:orientation=&quot;horizontal&quot;&gt;\r\n            \r\n     &lt;ImageButton\r\n     android:layout_width=&quot;wrap_content&quot;\r\n     android:layout_height=&quot;wrap_content&quot;/&gt;\r\n            \r\n    &lt;/LinearLayout&gt;\r\n\r\nhandle the click on `layout` view if it work so you need to change the transparent rectangle button to a bold one or another approach\r\n\r\nbetter to add some code from your side to help us understand the problem well  ","title":"Getting the button press on recycler view item which is created with method","body":"<p>I think the problem with you is that the click event happen on the screen in another view</p>\n<p>By making a transparent rectangle i think the click go to the parent view\nTry to test that for ex:</p>\n<pre><code> &lt;LinearLayout\n android:id=&quot;@+id/layout\n android:layout_width=&quot;match_parent&quot;\n android:layout_height=&quot;wrap_content&quot;\n android:gravity=&quot;center_vertical&quot;\n android:orientation=&quot;horizontal&quot;&gt;\n        \n &lt;ImageButton\n android:layout_width=&quot;wrap_content&quot;\n android:layout_height=&quot;wrap_content&quot;/&gt;\n        \n&lt;/LinearLayout&gt;\n</code></pre>\n<p>handle the click on <code>layout</code> view if it work so you need to change the transparent rectangle button to a bold one or another approach</p>\n<p>better to add some code from your side to help us understand the problem well</p>\n"}],"owner":{"account_id":21579680,"reputation":11,"user_id":15911072,"display_name":"Yiğit Budur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638159987,"creation_date":1638058917,"question_id":70139744,"body_markdown":"I&#39;m pretty new to Android Studio and Java overall so this might be simple question but I couldn&#39;t find any solutions or either couldn&#39;t use them to fix my issue.\r\n\r\nSo I have a RecyclerView which I can insert items from a list of pre-defined items with the function &quot;addItems()&quot; when I press to a button and display them.\r\n\r\nAlso those items have ImageButtons -which is just a transparent rectangle- to get individual clicks on them.\r\n\r\nThe purpose of these ImageButtons are to switch to a new activity which I defined in the &quot;addItems()&quot; method.\r\n\r\nBut the problem is, I can&#39;t catch -but they respond to the clicks- click on those items, and also I can&#39;t pass the activity class or the layout file.\r\n\r\nTo be exact, I want to use these buttons to switch to a new activity and display the info of that item there.\r\n\r\nIt&#39;s my first question here, so if I need to show any code, please tell me to.\r\n\r\nNewsAdapter.java\r\n\r\n    package com.example.yiyecek2.Activities;\r\n\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.example.yiyecek2.R;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class NewsAdapter extends RecyclerView.Adapter&lt;NewsAdapter.NewsViewHolder&gt;\r\n    {\r\n        Context mContext;\r\n        List&lt;NewsItem&gt; mData;\r\n    \r\n    \r\n        public NewsAdapter(Context mContext, List&lt;NewsItem&gt; mData) {\r\n            this.mContext = mContext;\r\n            this.mData = mData;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public NewsViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n            View layout;\r\n            layout = LayoutInflater.from(mContext).inflate(R.layout.lyt_restoran,viewGroup,false);\r\n            return new NewsViewHolder(layout);\r\n        }\r\n        // Changed below ----------\r\n        @Override\r\n        public void onBindViewHolder(@NonNull NewsViewHolder newsViewHolder, int position) {\r\n            // Bind data here\r\n            newsViewHolder.tvSellerName.setText(mData.get(position).getSellerName());\r\n            newsViewHolder.tvSellerAddress.setText(mData.get(position).getSellerAddress());\r\n            newsViewHolder.ivSellerImage.setImageResource(mData.get(position).getSellerImage());\r\n            newsViewHolder.tvMinCost.setText(mData.get(position).getMinCost());\r\n            newsViewHolder.tvMinTime.setText(mData.get(position).getMinTime());\r\n            newsViewHolder.tvDeliveryCost.setText(mData.get(position).getDeliveryCost());\r\n            newsViewHolder.tvClassToGo.setText(mData.get(position).getClassToGo());\r\n            // Line below is the buttons attached to the items which I aim to use on switching Activities\r\n            newsViewHolder.ibGoSellerPage.setOnClickListener(new View.OnClickListener(){\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(SiparisActivity.this, classDominos.class);\r\n                    startActivity(intent); // startActivity is marked red\r\n                }\r\n            });\r\n        }\r\n        // Changed above ----------\r\n        @Override\r\n        public int getItemCount() {\r\n            return mData.size();\r\n        }\r\n    \r\n        public class NewsViewHolder extends RecyclerView.ViewHolder{\r\n            TextView tvSellerName, tvSellerAddress, tvMinCost, tvMinTime, tvDeliveryCost, tvClassToGo;\r\n            ImageView ivSellerImage;\r\n            ImageButton ibGoSellerPage;\r\n    \r\n            public NewsViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                tvSellerName = itemView.findViewById(R.id.tvFoodName);\r\n                tvSellerAddress = itemView.findViewById(R.id.tvFoodDescription);\r\n                ivSellerImage = itemView.findViewById(R.id.ivFoodImage);\r\n                tvMinCost = itemView.findViewById(R.id.tvFoodCost);\r\n                tvMinTime = itemView.findViewById(R.id.tvMinTime);\r\n                tvDeliveryCost = itemView.findViewById(R.id.tvDeliveryCost);\r\n                tvClassToGo = itemView.findViewById(R.id.tvClassToGo);\r\n                ibGoSellerPage = itemView.findViewById(R.id.ibGoSellerPage);\r\n                //int position = getAdapterPosition();\r\n                //Toast.makeText(mContext.getApplicationContext(), &quot;Position is: &quot;+position, Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSiparisActivity.java //this is where I list restaurant items with ImageButtons said above.\r\n\r\n    package com.example.yiyecek2.Activities;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    import android.widget.Button;\r\n    import android.widget.ImageButton;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.example.yiyecek2.R;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    \r\n    import recyclerview.CustomItemAnimator;\r\n    \r\n    public class SiparisActivity extends AppCompatActivity {\r\n        Button btnListRestaurants;\r\n        RecyclerView NewsRecyclerView;\r\n        NewsAdapter newsAdapter;\r\n        List&lt;NewsItem&gt; mData;\r\n        ImageButton ibGoSellerPage;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    \r\n            setContentView(R.layout.activity_siparis);\r\n    \r\n            // Hide the action bar\r\n            getSupportActionBar().hide();\r\n    \r\n            NewsRecyclerView = findViewById(R.id.news_rv);\r\n            btnListRestaurants = (Button) findViewById(R.id.buttonListRestaurants);\r\n    \r\n            NewsRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            NewsRecyclerView.setHasFixedSize(true);\r\n            NewsRecyclerView.setItemAnimator(new CustomItemAnimator());\r\n    \r\n    \r\n            // Get clicks on the &quot;List Restaurants&quot;\r\n            btnListRestaurants.setOnClickListener(new View.OnClickListener() {\r\n                int restaurantCount = 0;\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Toast toast = Toast.makeText(getApplicationContext(), &quot;Listing Restaurants&quot;, Toast.LENGTH_SHORT);\r\n                    toast.show();\r\n    \r\n                    Timer timerToTransition;\r\n                    timerToTransition = new Timer();\r\n                    TimerTask task = new TimerTask() {\r\n                        public void run() {\r\n                            addItems();\r\n                            restaurantCount++;\r\n                            if (restaurantCount &gt; 9)\r\n                            {\r\n                                System.out.println(restaurantCount);\r\n                                timerToTransition.cancel(); // Stops the timer when theres 10 Restaurants listed\r\n                            }\r\n                        }\r\n                    };\r\n                    timerToTransition.scheduleAtFixedRate(task,0,300); // waits 300ms before creating a new Restaurant\r\n                }\r\n            });\r\n    \r\n            if (ibGoSellerPage != null) // Check if Restaurant button exists\r\n            {\r\n                System.out.println(&quot;ON CLICK HERE&quot;);\r\n                ibGoSellerPage.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        System.out.println(&quot;ON CLICK HERE&quot;);\r\n                    }\r\n                });\r\n            }\r\n    \r\n            mData = new ArrayList&lt;&gt;();\r\n            // fill list news with pre defined data\r\n    \r\n            // Adapter ini and setup\r\n            newsAdapter = new NewsAdapter(this,mData);\r\n            NewsRecyclerView.setAdapter(newsAdapter);\r\n            NewsRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        }\r\n    \r\n        private void addItems()\r\n        {\r\n            RecyclerView.State state = null;\r\n            int switchInt = 0; // To use in the switch\r\n            // Random integer list to assign switchInt a random value\r\n    \r\n            int[] intList;\r\n            intList = new int[]{0,1,2,3,4,5,6,7};\r\n    \r\n            // Pick a random int\r\n            Random rand = new Random();\r\n            int rndInt = rand.nextInt(5);\r\n    \r\n            // Check if the array&#39;s index isn&#39;t empty(-1)\r\n            while (intList[rndInt] != -1)\r\n            {\r\n                switchInt = (int) intList[rndInt];\r\n                intList[rndInt] = -1;\r\n            }\r\n            //System.out.println(rndInt);\r\n            switch(switchInt) {\r\n                case 0:\r\n                    mData.add(0,new NewsItem(&quot;Domino&#39;s Pizza&quot;,&quot;Sarıg&#246;l, Ordu Cd. No:128, 34240 Gaziosmanpaşa/İstanbul&quot;,\r\n                            R.drawable.dominos,&quot;32 TL&quot;,&quot;30 dk.&quot;,&quot;0 TL&quot;,&quot;classDominos&quot;)); // I&#39;m trying to catch that &quot;classDominos&quot; to use to switch Activity\r\n                    break;\r\n                case 1:\r\n                    mData.add(0,new NewsItem(&quot;Migros&quot;,&quot;Bağlarbaşı, K&#252;&#231;&#252;kk&#246;y Yolu Cd., 34245 Gaziosmanpaşa/İstanbul&quot;,\r\n                            R.drawable.migroslogo,&quot;32 TL&quot;,&quot;25 dk.&quot;,&quot;0 TL&quot;, &quot;classDominos&quot;));\r\n                    break;\r\n                case 2:\r\n                    mData.add(0,new NewsItem(&quot;KFC&quot;,&quot;Yeşilpınar Mah. Şehit Metinkaya Sok Vialand AVM No:11 Mağaza No:237, 34065 Ey&#252;psultan&quot;,\r\n                            R.drawable.kfclogo,&quot;32 TL&quot;,&quot;35 dk.&quot;,&quot;3 TL&quot;, &quot;classDominos&quot;));\r\n                    break;\r\n                case 3:\r\n                    mData.add(0,new NewsItem(&quot;Popeyes&quot;,&quot;Yeşilpınar Mah. Şehit Metin Kaya Sok. No:11 K:3 Vialand AVM, 34065&quot;,\r\n                            R.drawable.popeyeslogo,&quot;32 TL&quot;,&quot;35 dk.&quot;,&quot;3 TL&quot;, &quot;classDominos&quot;));\r\n                    break;\r\n                case 4:\r\n                    mData.add(0,new NewsItem(&quot;Mado&quot;,&quot;İslambey, Hz. Halid Blv. No:43 D:B, 34050 Ey&#252;psultan/İstanbul&quot;,\r\n                            R.drawable.madologo,&quot;32 TL&quot;,&quot;35 dk.&quot;,&quot;3 TL&quot;, &quot;classDominos&quot;));\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n    \r\n            System.out.println(&quot;Added item&quot;);\r\n            newsAdapter.notifyItemInserted(0);\r\n            NewsRecyclerView.getLayoutManager().smoothScrollToPosition(NewsRecyclerView, state, 0);\r\n            \r\n            // Un-commenting the lines below crash the app when &quot;Listing Restaurants&quot; (Creating items)\r\n            //ibGoSellerPage = (ImageButton) findViewById(R.id.ibGoSellerPage);\r\n            /*ibGoSellerPage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    System.out.println(&quot;ON CLICK HERE&quot;);\r\n                }\r\n            });\r\n            */\r\n        }\r\n    }\r\nI can see the individual buttons in the profiler but how to catch clicks on them? (You can see I&#39;m holding the button on the right)\r\n[Profiler Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZLfWs.png","title":"Getting the button press on recycler view item which is created with method","body":"<p>I'm pretty new to Android Studio and Java overall so this might be simple question but I couldn't find any solutions or either couldn't use them to fix my issue.</p>\n<p>So I have a RecyclerView which I can insert items from a list of pre-defined items with the function &quot;addItems()&quot; when I press to a button and display them.</p>\n<p>Also those items have ImageButtons -which is just a transparent rectangle- to get individual clicks on them.</p>\n<p>The purpose of these ImageButtons are to switch to a new activity which I defined in the &quot;addItems()&quot; method.</p>\n<p>But the problem is, I can't catch -but they respond to the clicks- click on those items, and also I can't pass the activity class or the layout file.</p>\n<p>To be exact, I want to use these buttons to switch to a new activity and display the info of that item there.</p>\n<p>It's my first question here, so if I need to show any code, please tell me to.</p>\n<p>NewsAdapter.java</p>\n<pre><code>package com.example.yiyecek2.Activities;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.yiyecek2.R;\n\nimport java.util.List;\n\npublic class NewsAdapter extends RecyclerView.Adapter&lt;NewsAdapter.NewsViewHolder&gt;\n{\n    Context mContext;\n    List&lt;NewsItem&gt; mData;\n\n\n    public NewsAdapter(Context mContext, List&lt;NewsItem&gt; mData) {\n        this.mContext = mContext;\n        this.mData = mData;\n    }\n\n    @NonNull\n    @Override\n    public NewsViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\n        View layout;\n        layout = LayoutInflater.from(mContext).inflate(R.layout.lyt_restoran,viewGroup,false);\n        return new NewsViewHolder(layout);\n    }\n    // Changed below ----------\n    @Override\n    public void onBindViewHolder(@NonNull NewsViewHolder newsViewHolder, int position) {\n        // Bind data here\n        newsViewHolder.tvSellerName.setText(mData.get(position).getSellerName());\n        newsViewHolder.tvSellerAddress.setText(mData.get(position).getSellerAddress());\n        newsViewHolder.ivSellerImage.setImageResource(mData.get(position).getSellerImage());\n        newsViewHolder.tvMinCost.setText(mData.get(position).getMinCost());\n        newsViewHolder.tvMinTime.setText(mData.get(position).getMinTime());\n        newsViewHolder.tvDeliveryCost.setText(mData.get(position).getDeliveryCost());\n        newsViewHolder.tvClassToGo.setText(mData.get(position).getClassToGo());\n        // Line below is the buttons attached to the items which I aim to use on switching Activities\n        newsViewHolder.ibGoSellerPage.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(SiparisActivity.this, classDominos.class);\n                startActivity(intent); // startActivity is marked red\n            }\n        });\n    }\n    // Changed above ----------\n    @Override\n    public int getItemCount() {\n        return mData.size();\n    }\n\n    public class NewsViewHolder extends RecyclerView.ViewHolder{\n        TextView tvSellerName, tvSellerAddress, tvMinCost, tvMinTime, tvDeliveryCost, tvClassToGo;\n        ImageView ivSellerImage;\n        ImageButton ibGoSellerPage;\n\n        public NewsViewHolder(@NonNull View itemView) {\n            super(itemView);\n            tvSellerName = itemView.findViewById(R.id.tvFoodName);\n            tvSellerAddress = itemView.findViewById(R.id.tvFoodDescription);\n            ivSellerImage = itemView.findViewById(R.id.ivFoodImage);\n            tvMinCost = itemView.findViewById(R.id.tvFoodCost);\n            tvMinTime = itemView.findViewById(R.id.tvMinTime);\n            tvDeliveryCost = itemView.findViewById(R.id.tvDeliveryCost);\n            tvClassToGo = itemView.findViewById(R.id.tvClassToGo);\n            ibGoSellerPage = itemView.findViewById(R.id.ibGoSellerPage);\n            //int position = getAdapterPosition();\n            //Toast.makeText(mContext.getApplicationContext(), &quot;Position is: &quot;+position, Toast.LENGTH_SHORT).show();\n\n        }\n    }\n}\n</code></pre>\n<p>SiparisActivity.java //this is where I list restaurant items with ImageButtons said above.</p>\n<pre><code>package com.example.yiyecek2.Activities;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.ImageButton;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.yiyecek2.R;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\nimport recyclerview.CustomItemAnimator;\n\npublic class SiparisActivity extends AppCompatActivity {\n    Button btnListRestaurants;\n    RecyclerView NewsRecyclerView;\n    NewsAdapter newsAdapter;\n    List&lt;NewsItem&gt; mData;\n    ImageButton ibGoSellerPage;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        setContentView(R.layout.activity_siparis);\n\n        // Hide the action bar\n        getSupportActionBar().hide();\n\n        NewsRecyclerView = findViewById(R.id.news_rv);\n        btnListRestaurants = (Button) findViewById(R.id.buttonListRestaurants);\n\n        NewsRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n        NewsRecyclerView.setHasFixedSize(true);\n        NewsRecyclerView.setItemAnimator(new CustomItemAnimator());\n\n\n        // Get clicks on the &quot;List Restaurants&quot;\n        btnListRestaurants.setOnClickListener(new View.OnClickListener() {\n            int restaurantCount = 0;\n            @Override\n            public void onClick(View view) {\n                Toast toast = Toast.makeText(getApplicationContext(), &quot;Listing Restaurants&quot;, Toast.LENGTH_SHORT);\n                toast.show();\n\n                Timer timerToTransition;\n                timerToTransition = new Timer();\n                TimerTask task = new TimerTask() {\n                    public void run() {\n                        addItems();\n                        restaurantCount++;\n                        if (restaurantCount &gt; 9)\n                        {\n                            System.out.println(restaurantCount);\n                            timerToTransition.cancel(); // Stops the timer when theres 10 Restaurants listed\n                        }\n                    }\n                };\n                timerToTransition.scheduleAtFixedRate(task,0,300); // waits 300ms before creating a new Restaurant\n            }\n        });\n\n        if (ibGoSellerPage != null) // Check if Restaurant button exists\n        {\n            System.out.println(&quot;ON CLICK HERE&quot;);\n            ibGoSellerPage.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    System.out.println(&quot;ON CLICK HERE&quot;);\n                }\n            });\n        }\n\n        mData = new ArrayList&lt;&gt;();\n        // fill list news with pre defined data\n\n        // Adapter ini and setup\n        newsAdapter = new NewsAdapter(this,mData);\n        NewsRecyclerView.setAdapter(newsAdapter);\n        NewsRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n    }\n\n    private void addItems()\n    {\n        RecyclerView.State state = null;\n        int switchInt = 0; // To use in the switch\n        // Random integer list to assign switchInt a random value\n\n        int[] intList;\n        intList = new int[]{0,1,2,3,4,5,6,7};\n\n        // Pick a random int\n        Random rand = new Random();\n        int rndInt = rand.nextInt(5);\n\n        // Check if the array's index isn't empty(-1)\n        while (intList[rndInt] != -1)\n        {\n            switchInt = (int) intList[rndInt];\n            intList[rndInt] = -1;\n        }\n        //System.out.println(rndInt);\n        switch(switchInt) {\n            case 0:\n                mData.add(0,new NewsItem(&quot;Domino's Pizza&quot;,&quot;Sarıgöl, Ordu Cd. No:128, 34240 Gaziosmanpaşa/İstanbul&quot;,\n                        R.drawable.dominos,&quot;32 TL&quot;,&quot;30 dk.&quot;,&quot;0 TL&quot;,&quot;classDominos&quot;)); // I'm trying to catch that &quot;classDominos&quot; to use to switch Activity\n                break;\n            case 1:\n                mData.add(0,new NewsItem(&quot;Migros&quot;,&quot;Bağlarbaşı, Küçükköy Yolu Cd., 34245 Gaziosmanpaşa/İstanbul&quot;,\n                        R.drawable.migroslogo,&quot;32 TL&quot;,&quot;25 dk.&quot;,&quot;0 TL&quot;, &quot;classDominos&quot;));\n                break;\n            case 2:\n                mData.add(0,new NewsItem(&quot;KFC&quot;,&quot;Yeşilpınar Mah. Şehit Metinkaya Sok Vialand AVM No:11 Mağaza No:237, 34065 Eyüpsultan&quot;,\n                        R.drawable.kfclogo,&quot;32 TL&quot;,&quot;35 dk.&quot;,&quot;3 TL&quot;, &quot;classDominos&quot;));\n                break;\n            case 3:\n                mData.add(0,new NewsItem(&quot;Popeyes&quot;,&quot;Yeşilpınar Mah. Şehit Metin Kaya Sok. No:11 K:3 Vialand AVM, 34065&quot;,\n                        R.drawable.popeyeslogo,&quot;32 TL&quot;,&quot;35 dk.&quot;,&quot;3 TL&quot;, &quot;classDominos&quot;));\n                break;\n            case 4:\n                mData.add(0,new NewsItem(&quot;Mado&quot;,&quot;İslambey, Hz. Halid Blv. No:43 D:B, 34050 Eyüpsultan/İstanbul&quot;,\n                        R.drawable.madologo,&quot;32 TL&quot;,&quot;35 dk.&quot;,&quot;3 TL&quot;, &quot;classDominos&quot;));\n                break;\n            default:\n                break;\n        }\n\n        System.out.println(&quot;Added item&quot;);\n        newsAdapter.notifyItemInserted(0);\n        NewsRecyclerView.getLayoutManager().smoothScrollToPosition(NewsRecyclerView, state, 0);\n        \n        // Un-commenting the lines below crash the app when &quot;Listing Restaurants&quot; (Creating items)\n        //ibGoSellerPage = (ImageButton) findViewById(R.id.ibGoSellerPage);\n        /*ibGoSellerPage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                System.out.println(&quot;ON CLICK HERE&quot;);\n            }\n        });\n        */\n    }\n}\n</code></pre>\n<p>I can see the individual buttons in the profiler but how to catch clicks on them? (You can see I'm holding the button on the right)\n<a href=\"https://i.stack.imgur.com/ZLfWs.png\" rel=\"nofollow noreferrer\">Profiler Screenshot</a></p>\n"},{"tags":["java","amazon-web-services","scala","etl","aws-glue"],"comments":[{"owner":{"account_id":6276245,"reputation":2747,"user_id":4878848,"accept_rate":25,"display_name":"Nikunj Kakadiya"},"score":0,"creation_date":1638182526,"post_id":70149725,"comment_id":124011036,"body_markdown":"What is the value for the WRITE_URI ? Also what is the file that you are reading - is it a single file? Because when you are writing the dataframe you are partitioning By Year, month,day and hour so the new files would be created accordingly inside these directories for the path you provide.","body":"What is the value for the WRITE_URI ? Also what is the file that you are reading - is it a single file? Because when you are writing the dataframe you are partitioning By Year, month,day and hour so the new files would be created accordingly inside these directories for the path you provide."},{"owner":{"account_id":18743966,"reputation":93,"user_id":13666640,"display_name":"msd"},"score":0,"creation_date":1638182977,"post_id":70149725,"comment_id":124011179,"body_markdown":"@NikunjKakadiya s3//location","body":"@NikunjKakadiya s3//location"}],"owner":{"account_id":18743966,"reputation":93,"user_id":13666640,"display_name":"msd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638159795,"creation_date":1638159795,"question_id":70149725,"body_markdown":"hey i have  a data frame with \r\n\r\n    df.withColumn(&quot;file_name&quot;, input_file_name)\r\n\r\ni have file name with some other columns \r\n\r\ni need to override the same file in s3 \r\n\r\ni used something like\r\n \r\n\r\n                df.toDF()\r\n                  .write\r\n                  .mode(&quot;overwrite&quot;)\r\n                  .format(&quot;json&quot;)\r\n                  .partitionBy(&quot;year&quot;, &quot;month&quot;, &quot;day&quot;, &quot;hour&quot;)\r\n                  .save(WRITE_URI)\r\n\r\nbut i am not able to see the data getting  override  or updated \r\n\r\n\r\ni get execution error like \r\n\r\n    Exception in User Class: java.lang.IllegalArgumentException : Can not create a Path from an empty string\r\n\r\nprinted my dataFrame  there is no empty value \r\n\r\n\r\nplease help me to resolve this ","title":"aws glue how to override files in s3 with same file name in scala","body":"<p>hey i have  a data frame with</p>\n<pre><code>df.withColumn(&quot;file_name&quot;, input_file_name)\n</code></pre>\n<p>i have file name with some other columns</p>\n<p>i need to override the same file in s3</p>\n<p>i used something like</p>\n<pre><code>            df.toDF()\n              .write\n              .mode(&quot;overwrite&quot;)\n              .format(&quot;json&quot;)\n              .partitionBy(&quot;year&quot;, &quot;month&quot;, &quot;day&quot;, &quot;hour&quot;)\n              .save(WRITE_URI)\n</code></pre>\n<p>but i am not able to see the data getting  override  or updated</p>\n<p>i get execution error like</p>\n<pre><code>Exception in User Class: java.lang.IllegalArgumentException : Can not create a Path from an empty string\n</code></pre>\n<p>printed my dataFrame  there is no empty value</p>\n<p>please help me to resolve this</p>\n"},{"tags":["java","spring-boot","amazon-redshift"],"answers":[{"tags":[],"owner":{"account_id":7179246,"reputation":1369,"user_id":5483900,"display_name":"ankursingh1000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638159394,"creation_date":1638159394,"answer_id":70149693,"question_id":70124976,"body_markdown":"I have tried a few more things and got success.\r\n\r\n      try (PreparedStatement statement =\r\n                     connection.prepareStatement\r\n                             (&quot;call myproc( null, null, 3, 4, &#39;rs&#39; )&quot;)) {\r\n            statement.execute();\r\n            try (PreparedStatement p = connection.prepareStatement(&quot;fetch all from rs&quot;)) {\r\n                try (ResultSet resultSet = p.executeQuery()) {\r\n\r\n                }\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nI don&#39;t know why this code work. One thing for refcursor Never set Autocommit to true.","title":"Unable to call Redshift stored procedure using refcursor","body":"<p>I have tried a few more things and got success.</p>\n<pre><code>  try (PreparedStatement statement =\n                 connection.prepareStatement\n                         (&quot;call myproc( null, null, 3, 4, 'rs' )&quot;)) {\n        statement.execute();\n        try (PreparedStatement p = connection.prepareStatement(&quot;fetch all from rs&quot;)) {\n            try (ResultSet resultSet = p.executeQuery()) {\n\n            }\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I don't know why this code work. One thing for refcursor Never set Autocommit to true.</p>\n"}],"owner":{"account_id":7179246,"reputation":1369,"user_id":5483900,"display_name":"ankursingh1000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638159394,"creation_date":1637932343,"question_id":70124976,"body_markdown":"I followed this document https://docs.aws.amazon.com/redshift/latest/dg/stored-procedure-result-set.html \r\nBut seems to have incomplete, there is no reference to the `statement` object which is used to pull the data from the refcursor\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X1nOm.png\r\n\r\nI tried various things\r\n``` \r\nPreparedStatement statement = connection.\r\n                    prepareStatement(&quot;call myproc( null, null, 3, 4, &#39;rs&#39; )&quot;);\r\n      boolean bb = statement.execute();\r\nResultSet resultSet = statement.executeQuery(&quot;fetch all from rs&quot;)\r\n\r\n ```\r\nThe above code is failing with\r\n\r\n```\r\njava.sql.SQLNonTransientException: [Amazon][JDBC](11200) Invalid operation for this statement object\r\n```\r\n\r\nAlso tried to create a new prepareStatement object\r\n\r\n```\r\nPreparedStatement statement = connection.\r\n                    prepareStatement(&quot;call myproc( null, null, 3, 4, &#39;rs&#39; )&quot;);\r\n      boolean bb = statement.execute();\r\nPreparedStatement p = connection.prepareStatement(&quot;fetch all from rs&quot;)\r\n ResultSet resultSet = p.executeQuery()\r\n```\r\nThe above statement failed with \r\n```\r\n&quot;INTERNAL_SERVER_ERROR&quot;,&quot;message&quot;:&quot;java.sql.SQLException: [Amazon](500310) Invalid operation: cursor \\&quot;rs\\&quot; does not exist;&quot;\r\n```\r\n \r\n\r\nGradle.properties entry\r\n```\r\n     dependency(group: &#39;com.amazon.redshift&#39;, name: &#39;redshift-jdbc42-no-awssdk&#39;, version: &#39;1.2.37.1061&#39;)\r\n            dependencySet(group: &quot;com.amazonaws&quot;, version: &quot;1.11.688&quot;) {\r\n                entry &quot;aws-java-sdk-s3&quot;\r\n                entry &quot;aws-java-sdk-sts&quot;\r\n                entry &quot;aws-java-sdk-redshift&quot;\r\n            };\r\n```","title":"Unable to call Redshift stored procedure using refcursor","body":"<p>I followed this document <a href=\"https://docs.aws.amazon.com/redshift/latest/dg/stored-procedure-result-set.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/redshift/latest/dg/stored-procedure-result-set.html</a>\nBut seems to have incomplete, there is no reference to the <code>statement</code> object which is used to pull the data from the refcursor</p>\n<p><a href=\"https://i.stack.imgur.com/X1nOm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1nOm.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried various things</p>\n<pre><code>PreparedStatement statement = connection.\n                    prepareStatement(&quot;call myproc( null, null, 3, 4, 'rs' )&quot;);\n      boolean bb = statement.execute();\nResultSet resultSet = statement.executeQuery(&quot;fetch all from rs&quot;)\n\n</code></pre>\n<p>The above code is failing with</p>\n<pre><code>java.sql.SQLNonTransientException: [Amazon][JDBC](11200) Invalid operation for this statement object\n</code></pre>\n<p>Also tried to create a new prepareStatement object</p>\n<pre><code>PreparedStatement statement = connection.\n                    prepareStatement(&quot;call myproc( null, null, 3, 4, 'rs' )&quot;);\n      boolean bb = statement.execute();\nPreparedStatement p = connection.prepareStatement(&quot;fetch all from rs&quot;)\n ResultSet resultSet = p.executeQuery()\n</code></pre>\n<p>The above statement failed with</p>\n<pre><code>&quot;INTERNAL_SERVER_ERROR&quot;,&quot;message&quot;:&quot;java.sql.SQLException: [Amazon](500310) Invalid operation: cursor \\&quot;rs\\&quot; does not exist;&quot;\n</code></pre>\n<p>Gradle.properties entry</p>\n<pre><code>     dependency(group: 'com.amazon.redshift', name: 'redshift-jdbc42-no-awssdk', version: '1.2.37.1061')\n            dependencySet(group: &quot;com.amazonaws&quot;, version: &quot;1.11.688&quot;) {\n                entry &quot;aws-java-sdk-s3&quot;\n                entry &quot;aws-java-sdk-sts&quot;\n                entry &quot;aws-java-sdk-redshift&quot;\n            };\n</code></pre>\n"},{"tags":["java","jar"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638159306,"creation_date":1638157835,"answer_id":70149555,"question_id":70149543,"body_markdown":"Use a facade, like slf4j.  Think of it from the point of view of the person using your jar in their application. They will want all the logging going to one place, whether it is logging for your jar or for the rest of the application, they will not want to configure your library&#39;s logging separately.   \r\n\r\nUsing a logging facade means your library writes to whatever log the rest of the application uses. The application should be in charge of logging, not your jar. \r\n\r\nFor which facade to use, slf4j seems like a better choice, commons logging can get in trouble where multiple classloaders are involved. See https://stackoverflow.com/q/873051/217324","title":"What&#39;s the best approach in jar/library creation?","body":"<p>Use a facade, like slf4j.  Think of it from the point of view of the person using your jar in their application. They will want all the logging going to one place, whether it is logging for your jar or for the rest of the application, they will not want to configure your library's logging separately.</p>\n<p>Using a logging facade means your library writes to whatever log the rest of the application uses. The application should be in charge of logging, not your jar.</p>\n<p>For which facade to use, slf4j seems like a better choice, commons logging can get in trouble where multiple classloaders are involved. See <a href=\"https://stackoverflow.com/q/873051/217324\">Difference between Simple Logging Facade for Java and Apache Commons Logging</a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638159293,"creation_date":1638158949,"answer_id":70149649,"question_id":70149543,"body_markdown":"One can use [**`System.Logger`**][1]\r\n\r\n&gt; System.Logger instances log messages that will be **routed to the underlying logging framework the LoggerFinder** uses. System.Logger instances are typically obtained from the System class, by calling System.getLogger(loggerName) or System.getLogger(loggerName, bundle).\r\n\r\nLoggers across libraries always were a pain. Java.util.logging incorporated Logging into the Standard Edition. Since Java 9 there is a Standard Edition way to integrate loggers.\r\n\r\nThis leaves the choice to the library user. No longer a mix, version blues, etcetera. The exact logger in a straight application could be java util Logger.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/System.Logger.html","title":"What&#39;s the best approach in jar/library creation?","body":"<p>One can use <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/System.Logger.html\" rel=\"nofollow noreferrer\"><strong><code>System.Logger</code></strong></a></p>\n<blockquote>\n<p>System.Logger instances log messages that will be <strong>routed to the underlying logging framework the LoggerFinder</strong> uses. System.Logger instances are typically obtained from the System class, by calling System.getLogger(loggerName) or System.getLogger(loggerName, bundle).</p>\n</blockquote>\n<p>Loggers across libraries always were a pain. Java.util.logging incorporated Logging into the Standard Edition. Since Java 9 there is a Standard Edition way to integrate loggers.</p>\n<p>This leaves the choice to the library user. No longer a mix, version blues, etcetera. The exact logger in a straight application could be java util Logger.</p>\n"}],"owner":{"account_id":13515575,"reputation":143,"user_id":9750259,"display_name":"Andriy Zhuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70149555,"answer_count":2,"score":0,"last_activity_date":1638159306,"creation_date":1638157649,"question_id":70149543,"body_markdown":"I need to create jar/library that does some stuff and writes some logs. For logs I was thinking about java.util.logging.Logger vs Logback. So the question is:\r\nShould I prefer using java out-of-the-box logging or it&#39;s totally fine to include some third-party tools?\r\n\r\nOr it should be purely the matter of my needs and which one to use doesn&#39;t really matter?","title":"What&#39;s the best approach in jar/library creation?","body":"<p>I need to create jar/library that does some stuff and writes some logs. For logs I was thinking about java.util.logging.Logger vs Logback. So the question is:\nShould I prefer using java out-of-the-box logging or it's totally fine to include some third-party tools?</p>\n<p>Or it should be purely the matter of my needs and which one to use doesn't really matter?</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":464804,"reputation":3156,"user_id":868533,"display_name":"supersam654"},"score":4,"creation_date":1375900809,"post_id":18111231,"comment_id":26516044,"body_markdown":"What are you going to do if the array is not sorted?","body":"What are you going to do if the array is not sorted?"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1375900887,"post_id":18111231,"comment_id":26516096,"body_markdown":"You have to write your own logic. Iterate over the array, and test each element with the next element.","body":"You have to write your own logic. Iterate over the array, and test each element with the next element."},{"owner":{"account_id":3110285,"reputation":215,"user_id":2632188,"accept_rate":50,"display_name":"OxomHuK"},"score":0,"creation_date":1375901020,"post_id":18111231,"comment_id":26516179,"body_markdown":"nothing, i just need somehow check if arr is sorted or not","body":"nothing, i just need somehow check if arr is sorted or not"},{"owner":{"account_id":3110285,"reputation":215,"user_id":2632188,"accept_rate":50,"display_name":"OxomHuK"},"score":0,"creation_date":1375901044,"post_id":18111231,"comment_id":26516193,"body_markdown":"only iteration can help here?","body":"only iteration can help here?"},{"owner":{"account_id":3078156,"reputation":396,"user_id":2607024,"display_name":"Zhe"},"score":1,"creation_date":1375901226,"post_id":18111231,"comment_id":26516317,"body_markdown":"How else would you check to see if the array were sorted?","body":"How else would you check to see if the array were sorted?"},{"owner":{"account_id":2164982,"reputation":2827,"user_id":1918282,"accept_rate":90,"display_name":"Code Enthusiastic"},"score":1,"creation_date":1375901741,"post_id":18111231,"comment_id":26516630,"body_markdown":"Arrays.sort sorts the array. It doesn&#39;t check whether an array is sorted or not.","body":"Arrays.sort sorts the array. It doesn&#39;t check whether an array is sorted or not."}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1375900861,"creation_date":1375900861,"answer_id":18111261,"question_id":18111231,"body_markdown":"You don&#39;t need to sort your array to check if it&#39;s sorted. Loop over each consecutive pair of elements and check if the first is less than the second; if you find a pair for which this isn&#39;t true, the array is not sorted.\r\n\r\n    boolean sorted = true;\r\n    \r\n    for (int i = 0; i &lt; arr.length - 1; i++) {\r\n        if (arr[i] &gt; arr[i+1]) {\r\n            sorted = false;\r\n            break;\r\n        }\r\n    }","title":"How to check if array is already sorted","body":"<p>You don't need to sort your array to check if it's sorted. Loop over each consecutive pair of elements and check if the first is less than the second; if you find a pair for which this isn't true, the array is not sorted.</p>\n\n<pre><code>boolean sorted = true;\n\nfor (int i = 0; i &lt; arr.length - 1; i++) {\n    if (arr[i] &gt; arr[i+1]) {\n        sorted = false;\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1375905150,"creation_date":1375900930,"answer_id":18111289,"question_id":18111231,"body_markdown":"    public static &lt;T&gt;\r\n    boolean isArraySorted(T[] elements, Comparator&lt;? super T&gt; cmp) {\r\n      int n = elements.length;\r\n      for (int i = 1; i &lt; n; ++i) {\r\n        if (cmp.compare(elements[i-1], elements[i]) &gt; 0) { return false; }\r\n      }\r\n      return true;\r\n    }","title":"How to check if array is already sorted","body":"<pre><code>public static &lt;T&gt;\nboolean isArraySorted(T[] elements, Comparator&lt;? super T&gt; cmp) {\n  int n = elements.length;\n  for (int i = 1; i &lt; n; ++i) {\n    if (cmp.compare(elements[i-1], elements[i]) &gt; 0) { return false; }\n  }\n  return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1260153,"reputation":28291,"user_id":1596545,"accept_rate":99,"display_name":"flavian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375902168,"creation_date":1375900941,"answer_id":18111292,"question_id":18111231,"body_markdown":"    public static boolean isSorted(int[] arr) {\r\n        for (int i = 0; i &lt; arr.length - 1; i++) {\r\n            if (a[i + 1] &lt; a[i]) {\r\n                return false;\r\n            };\r\n        }\r\n        return true;\r\n    }","title":"How to check if array is already sorted","body":"<pre><code>public static boolean isSorted(int[] arr) {\n    for (int i = 0; i &lt; arr.length - 1; i++) {\n        if (a[i + 1] &lt; a[i]) {\n            return false;\n        };\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":525198,"reputation":690,"user_id":971686,"accept_rate":75,"display_name":"Anshul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375901018,"creation_date":1375901018,"answer_id":18111319,"question_id":18111231,"body_markdown":"Well you can check it in O(n) worst case linear time.\r\nA non-sorted array (assuming you mean sorting in ascending order) will have a trip point. That is at some point arr[i] &gt; arr[i+1]\r\n\r\nAll you need to do is\r\n\r\n    boolean is_array_sorted(int arr[]) {\r\n      for(int i=0; i &lt; arr.len-1; i++) {\r\n        if(arr[i] &gt; arr[i+1]) {\r\n           return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\nJust change the `&gt;` to `&lt;` if your array sort is supposed to be descending order","title":"How to check if array is already sorted","body":"<p>Well you can check it in O(n) worst case linear time.\nA non-sorted array (assuming you mean sorting in ascending order) will have a trip point. That is at some point arr[i] > arr[i+1]</p>\n\n<p>All you need to do is</p>\n\n<pre><code>boolean is_array_sorted(int arr[]) {\n  for(int i=0; i &lt; arr.len-1; i++) {\n    if(arr[i] &gt; arr[i+1]) {\n       return false;\n    }\n  }\n  return true;\n}\n</code></pre>\n\n<p>Just change the <code>&gt;</code> to <code>&lt;</code> if your array sort is supposed to be descending order</p>\n"},{"tags":[],"owner":{"account_id":2630640,"reputation":2056,"user_id":2276686,"display_name":"user2276686"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1522198447,"creation_date":1495165321,"answer_id":44061060,"question_id":18111231,"body_markdown":"A shorter version:\r\n\r\n    [0,1,2,3,4].reduce((a,v) =&gt; (a!==false) &amp;&amp; (a &lt;= v) ? v : false, -Infinity)\r\n    [4,3,1,2,0].reduce((a,v) =&gt; (a!==false) &amp;&amp; (a &gt;= v) ? v : false, +Infinity)\r\n\r\nBe careful, as in some cases it isn&#39;t effective because it will loop through entire array without breaking prematurely.\r\n\r\n[Array.prototype.reduce()][1]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce?v=example","title":"How to check if array is already sorted","body":"<p>A shorter version:</p>\n\n<pre><code>[0,1,2,3,4].reduce((a,v) =&gt; (a!==false) &amp;&amp; (a &lt;= v) ? v : false, -Infinity)\n[4,3,1,2,0].reduce((a,v) =&gt; (a!==false) &amp;&amp; (a &gt;= v) ? v : false, +Infinity)\n</code></pre>\n\n<p>Be careful, as in some cases it isn't effective because it will loop through entire array without breaking prematurely.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce?v=example\" rel=\"nofollow noreferrer\">Array.prototype.reduce()</a></p>\n"},{"tags":[],"owner":{"account_id":2739996,"reputation":1850,"user_id":2361752,"accept_rate":47,"display_name":"xhg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550112662,"creation_date":1550112662,"answer_id":54682520,"question_id":18111231,"body_markdown":"You can use `.every`\r\n\r\n```\r\nlet isSorted = array.every((v, i) =&gt; (i === 0 || v &lt;= array[i - 1]))\r\n  || array.every((v, i) =&gt; (i === 0 || v &gt;= array[i - 1]))\r\n```","title":"How to check if array is already sorted","body":"<p>You can use <code>.every</code></p>\n\n<pre><code>let isSorted = array.every((v, i) =&gt; (i === 0 || v &lt;= array[i - 1]))\n  || array.every((v, i) =&gt; (i === 0 || v &gt;= array[i - 1]))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16731570,"reputation":11,"user_id":12093783,"display_name":"Nilanjan Banerjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635774899,"creation_date":1568958386,"answer_id":58022432,"question_id":18111231,"body_markdown":"    function isArraySorted(arr) {\r\n        for (let i=0;i&lt;arr.length;i++) {\r\n            if (arr[i+1] &amp;&amp; (arr[i+1] &gt; arr[i])) {\r\n                continue;\r\n            } else if(arr[i+1] &amp;&amp; (arr[i+1] &lt; arr[i])) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n    \r\nThis worked for me.","title":"How to check if array is already sorted","body":"<pre><code>function isArraySorted(arr) {\n    for (let i=0;i&lt;arr.length;i++) {\n        if (arr[i+1] &amp;&amp; (arr[i+1] &gt; arr[i])) {\n            continue;\n        } else if(arr[i+1] &amp;&amp; (arr[i+1] &lt; arr[i])) {\n            return false;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638158636,"creation_date":1638158636,"answer_id":70149626,"question_id":18111231,"body_markdown":"A slight variation of [the generics version](https://stackoverflow.com/a/18111289/918858) by [Mike Samuel](https://stackoverflow.com/users/20394/mike-samuel) but using `Comparable&lt;T&gt;` instead of `Comparator&lt;T&gt;`:\r\n\r\n```java\r\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; boolean isSorted(T[] elements) {\r\n\tint n = elements.length;\r\n\tfor (int i = 1; i &lt; n; ++i) {\r\n\t\tif (elements[i - 1].compareTo(elements[i]) &gt; 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n```","title":"How to check if array is already sorted","body":"<p>A slight variation of <a href=\"https://stackoverflow.com/a/18111289/918858\">the generics version</a> by <a href=\"https://stackoverflow.com/users/20394/mike-samuel\">Mike Samuel</a> but using <code>Comparable&lt;T&gt;</code> instead of <code>Comparator&lt;T&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; boolean isSorted(T[] elements) {\n    int n = elements.length;\n    for (int i = 1; i &lt; n; ++i) {\n        if (elements[i - 1].compareTo(elements[i]) &gt; 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":3110285,"reputation":215,"user_id":2632188,"accept_rate":50,"display_name":"OxomHuK"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53168,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":8,"score":17,"last_activity_date":1638158636,"creation_date":1375900765,"question_id":18111231,"body_markdown":"so how to make such logic\r\n\r\n    int[] arr = {2, 5, 3};\r\n\r\n    if (/* arr is sorted */)\r\n        ....\r\n    else \r\n        ...\r\n\r\nIts bad that method Array.sort is void","title":"How to check if array is already sorted","body":"<p>so how to make such logic</p>\n\n<pre><code>int[] arr = {2, 5, 3};\n\nif (/* arr is sorted */)\n    ....\nelse \n    ...\n</code></pre>\n\n<p>Its bad that method Array.sort is void</p>\n"},{"tags":["java","android","file-upload","uri","profile-picture"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1638157080,"post_id":70148998,"comment_id":124004665,"body_markdown":"You shouldn&#39;t be using `ACTION_PICK` for images - that&#39;s what the `GetContent` contract is for. Even if you were using `ACTION_PICK`, what made you believe that it was ever going to give you any extras back? As per [`ACTION_PICK`&#39;s documentation](https://developer.android.com/reference/android/content/Intent#ACTION_PICK), it only returns a `Uri` and nothing else.","body":"You shouldn&#39;t be using <code>ACTION_PICK</code> for images - that&#39;s what the <code>GetContent</code> contract is for. Even if you were using <code>ACTION_PICK</code>, what made you believe that it was ever going to give you any extras back? As per <a href=\"https://developer.android.com/reference/android/content/Intent#ACTION_PICK\" rel=\"nofollow noreferrer\"><code>ACTION_PICK</code>&#39;s documentation</a>, it only returns a <code>Uri</code> and nothing else."}],"answers":[{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638158348,"creation_date":1638158348,"answer_id":70149607,"question_id":70148998,"body_markdown":"method to start Activity.\r\n\r\n     private void selectImage(){\r\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        activityResultLauncher.launch(intent);\r\n    }\r\n\r\nThen, override onRequestPermissionsResult() as follows:\r\n\r\n     @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0){\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                selectImage();\r\n            }else {\r\n                Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAnother, method as follows:\r\n\r\n     private void displayResult(){\r\n        activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == Activity.RESULT_OK){\r\n                        Intent data = result.getData();\r\n                        if (data != null){\r\n                            Uri selectedImageUri = data.getData();\r\n                            if (selectedImageUri != null){\r\n                                try {\r\n                                    InputStream inputStream = getContentResolver().openInputStream(selectedImageUri);\r\n                                    Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                                    noteBinding.imageNote.setImageBitmap(bitmap);\r\n                                    selectedImagePath = getPathFormatUri(selectedImageUri);\r\n                                }catch (Exception e){\r\n                                    Toast.makeText(CreateNoteActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n    }\r\nAnother method for returning url/path for the image.\r\n\r\n     private String getPathFormatUri(Uri contentUri){\r\n        String filePath;\r\n        Cursor cursor = getContentResolver()\r\n                .query(contentUri,null,null,null,null);\r\n        if (cursor == null){\r\n            filePath = contentUri.getPath();\r\n        }else {\r\n            cursor.moveToFirst();\r\n            int index = cursor.getColumnIndex(&quot;_data&quot;);\r\n            filePath = cursor.getString(index);\r\n            cursor.close();\r\n        }\r\n\r\n        return filePath;\r\n    }","title":"ActivityResultLauncher for uploading profile picture","body":"<p>method to start Activity.</p>\n<pre><code> private void selectImage(){\n    Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n    activityResultLauncher.launch(intent);\n}\n</code></pre>\n<p>Then, override onRequestPermissionsResult() as follows:</p>\n<pre><code> @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0){\n        if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\n            selectImage();\n        }else {\n            Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>Another, method as follows:</p>\n<pre><code> private void displayResult(){\n    activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                if (result.getResultCode() == Activity.RESULT_OK){\n                    Intent data = result.getData();\n                    if (data != null){\n                        Uri selectedImageUri = data.getData();\n                        if (selectedImageUri != null){\n                            try {\n                                InputStream inputStream = getContentResolver().openInputStream(selectedImageUri);\n                                Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n                                noteBinding.imageNote.setImageBitmap(bitmap);\n                                selectedImagePath = getPathFormatUri(selectedImageUri);\n                            }catch (Exception e){\n                                Toast.makeText(CreateNoteActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }\n                }\n            });\n}\n</code></pre>\n<p>Another method for returning url/path for the image.</p>\n<pre><code> private String getPathFormatUri(Uri contentUri){\n    String filePath;\n    Cursor cursor = getContentResolver()\n            .query(contentUri,null,null,null,null);\n    if (cursor == null){\n        filePath = contentUri.getPath();\n    }else {\n        cursor.moveToFirst();\n        int index = cursor.getColumnIndex(&quot;_data&quot;);\n        filePath = cursor.getString(index);\n        cursor.close();\n    }\n\n    return filePath;\n}\n</code></pre>\n"}],"owner":{"account_id":23484249,"reputation":1,"user_id":17535970,"display_name":"mendoh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638158348,"creation_date":1638150594,"question_id":70148998,"body_markdown":"I want to pick a picture from the phone gallery to upload as the profile picture of the user in an app. And I want to get the URI for it so I can store it in the user database.\r\n\r\n    activityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n                    if (result.getResultCode() == RESULT_OK &amp;&amp; result.getData()!= null) {\r\n                        Bundle data = result.getData().getExtras();\r\n                        Uri myUri = (Uri) data.get(&quot;data&quot;);\r\n                        profilePic.setImageURI(myUri);\r\n                    }\r\n            });\r\n\r\n        uploadPicture.setOnClickListener(view -&gt; {\r\n            Intent imagePickerIntent = new Intent(Intent.ACTION_PICK, \r\n    MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            imagePickerIntent.setType(&quot;image/*&quot;);\r\n            activityResultLauncher.launch(imagePickerIntent);\r\n        });\r\n\r\n\r\nRight now I can enter code here and open the gallery and browse through pictures but the app crashes when i select one and try to go back to my app from the gallery. Can anyone tell me how to fix my code? Thanks","title":"ActivityResultLauncher for uploading profile picture","body":"<p>I want to pick a picture from the phone gallery to upload as the profile picture of the user in an app. And I want to get the URI for it so I can store it in the user database.</p>\n<pre><code>activityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n                if (result.getResultCode() == RESULT_OK &amp;&amp; result.getData()!= null) {\n                    Bundle data = result.getData().getExtras();\n                    Uri myUri = (Uri) data.get(&quot;data&quot;);\n                    profilePic.setImageURI(myUri);\n                }\n        });\n\n    uploadPicture.setOnClickListener(view -&gt; {\n        Intent imagePickerIntent = new Intent(Intent.ACTION_PICK, \nMediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        imagePickerIntent.setType(&quot;image/*&quot;);\n        activityResultLauncher.launch(imagePickerIntent);\n    });\n</code></pre>\n<p>Right now I can enter code here and open the gallery and browse through pictures but the app crashes when i select one and try to go back to my app from the gallery. Can anyone tell me how to fix my code? Thanks</p>\n"},{"tags":["java","spring","spring-data-jpa","multipartform-data"],"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1638147533,"post_id":70148502,"comment_id":124003283,"body_markdown":"You don&#39;t say how you want it to look, but have you tried wrapping the `result` in a [`ByteArrayResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html) when adding it to the `formData` `Map`?","body":"You don&#39;t say how you want it to look, but have you tried wrapping the <code>result</code> in a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html\" rel=\"nofollow noreferrer\"><code>ByteArrayResource</code></a> when adding it to the <code>formData</code> <code>Map</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638158082,"creation_date":1638158082,"answer_id":70149579,"question_id":70148502,"body_markdown":"You could try like this\r\n\r\n    @RequestMapping(method = { RequestMethod.POST }, value = &quot;/getData&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;byte[]&gt; getAttachmentDetails(@RequestBody Integer attachmentId) {\r\n       MultiValueMap&lt;String, Object&gt; formData = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n       byte[] result = emailIntakeService.getAttachmentDetails(attachmentId);\r\n       return ResponseEntity.ok()\r\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + &quot;filename.xls&quot; + &quot;\\&quot;&quot;)\r\n            .body(result);\r\n    }","title":"How to return byte[] as multipartFile as response to UI?","body":"<p>You could try like this</p>\n<pre><code>@RequestMapping(method = { RequestMethod.POST }, value = &quot;/getData&quot;)\n@ResponseBody\npublic ResponseEntity&lt;byte[]&gt; getAttachmentDetails(@RequestBody Integer attachmentId) {\n   MultiValueMap&lt;String, Object&gt; formData = new LinkedMultiValueMap&lt;String, Object&gt;();\n   byte[] result = emailIntakeService.getAttachmentDetails(attachmentId);\n   return ResponseEntity.ok()\n        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + &quot;filename.xls&quot; + &quot;\\&quot;&quot;)\n        .body(result);\n}\n</code></pre>\n"}],"owner":{"account_id":22764921,"reputation":1,"user_id":16923120,"display_name":"vignesh28"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638158082,"creation_date":1638143940,"question_id":70148502,"body_markdown":"The attachment is already stored in the database. The Api which I was trying to achieve is getting the attachment Id as input and sending the respective byte[] as multipartFile as response to UI.\r\n\r\nThe current code snippet is:\r\n\r\n \r\n\r\n    @RequestMapping(method = { RequestMethod.POST }, value = &quot;/getData&quot;, produces = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; getAttachmentDetails(@RequestBody Integer attachmentId) {\r\n       MultiValueMap&lt;String, Object&gt; formData = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n       byte[] result = emailIntakeService.getAttachmentDetails(attachmentId);\r\n       formData.add(&quot;file&quot;, result);    \r\n       return new ResponseEntity&lt;&gt;(formData,HttpStatus.OK);\r\n    }\r\n\r\nthe response : file=%5BB%4011a93325\r\n\r\nCan someone help how to send byte[] as multipartFile as reponse.","title":"How to return byte[] as multipartFile as response to UI?","body":"<p>The attachment is already stored in the database. The Api which I was trying to achieve is getting the attachment Id as input and sending the respective byte[] as multipartFile as response to UI.</p>\n<p>The current code snippet is:</p>\n<pre><code>@RequestMapping(method = { RequestMethod.POST }, value = &quot;/getData&quot;, produces = MediaType.MULTIPART_FORM_DATA_VALUE)\n@ResponseBody\npublic ResponseEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; getAttachmentDetails(@RequestBody Integer attachmentId) {\n   MultiValueMap&lt;String, Object&gt; formData = new LinkedMultiValueMap&lt;String, Object&gt;();\n   byte[] result = emailIntakeService.getAttachmentDetails(attachmentId);\n   formData.add(&quot;file&quot;, result);    \n   return new ResponseEntity&lt;&gt;(formData,HttpStatus.OK);\n}\n</code></pre>\n<p>the response : file=%5BB%4011a93325</p>\n<p>Can someone help how to send byte[] as multipartFile as reponse.</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1638158083,"post_id":70149564,"comment_id":124004820,"body_markdown":"You don&#39;t need to.  Just cast it to an int.  (It&#39;s what Character.hashCode does.). Also, why are you not using HashMap which will take care of this for you?","body":"You don&#39;t need to.  Just cast it to an int.  (It&#39;s what Character.hashCode does.). Also, why are you not using HashMap which will take care of this for you?"},{"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"score":0,"creation_date":1638175962,"post_id":70149564,"comment_id":124008742,"body_markdown":"You can&#39;t have a hash function without collision if the hash size is less than the input.","body":"You can&#39;t have a hash function without collision if the hash size is less than the input."}],"owner":{"account_id":16206005,"reputation":302,"user_id":11701897,"display_name":"Atharva Kadlag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638157893,"creation_date":1638157893,"question_id":70149564,"body_markdown":"The goal is to map a string to a character. The issue is that non-ascii characters are also valid. So I am not able to think of what my hash function would be.","title":"Fast and maintainable way of implementing character to string lookup table (in Java)","body":"<p>The goal is to map a string to a character. The issue is that non-ascii characters are also valid. So I am not able to think of what my hash function would be.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13562715,"reputation":108,"user_id":9783847,"display_name":"Zurmati"},"score":0,"creation_date":1638160977,"post_id":70149541,"comment_id":124005241,"body_markdown":"show me your logcat?","body":"show me your logcat?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638163026,"post_id":70149541,"comment_id":124005578,"body_markdown":"[Edit] your question and post details of the errors you are getting. In other words, post the error message you are getting and also the stack trace.","body":"<a href=\"https://stackoverflow.com/posts/70149541/edit\">Edit</a> your question and post details of the errors you are getting. In other words, post the error message you are getting and also the stack trace."}],"owner":{"account_id":23187027,"reputation":1,"user_id":17283949,"display_name":"Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638157646,"creation_date":1638157646,"question_id":70149541,"body_markdown":"I am trying to make my program read data from three similar JSON files. However, when I try to print them in the public static main class, I keep on getting errors. Kindly, can someone tell me where is my problem? Thank you! I am preparing them for my Java GUI and hopefully going to be linking the three files into a button that will invoke them all. \r\n\r\n\r\n\r\n\r\n\r\n\r\n   \r\n\r\n   \r\n\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.math.BigDecimal;\r\n    \r\n    public class JSON {\r\n    \r\n        public static void main(String[] args) throws IOException, ParseException {\r\n            new JSON();\r\n        }\r\n    \r\n    \r\n        public JSON() throws IOException, ParseException {\r\n            lfcJSON();\r\n            ifcJSON();\r\n            afcJSON();\r\n    \r\n        }\r\n    \r\n        private void lfcJSON() throws IOException, ParseException {\r\n    \r\n            JSONParser jsonParser = new JSONParser();\r\n            FileReader reader = new FileReader(&quot;src/LFCSquad.json&quot;);\r\n            Object obj = jsonParser.parse(reader);\r\n            JSONObject lfcJsonObj = (JSONObject) obj;\r\n    \r\n            String tName = (String) lfcJsonObj.get(&quot;teamName&quot;);\r\n            String hTown = (String) lfcJsonObj.get(&quot;homeTown&quot;);\r\n            BigDecimal fYear = (BigDecimal) lfcJsonObj.get(&quot;founded&quot;);\r\n    \r\n            JSONArray array = (JSONArray) lfcJsonObj.get(&quot;players&quot;);\r\n    \r\n            for (int i = 0; i &lt; array.size(); i++) {\r\n                JSONObject players = (JSONObject) array.get(i);\r\n                String name = (String) lfcJsonObj.get(&quot;name&quot;);\r\n                BigDecimal age = (BigDecimal) lfcJsonObj.get(&quot;age&quot;);\r\n                BigDecimal goals = (BigDecimal) lfcJsonObj.get(&quot;goals&quot;);\r\n                BigDecimal assists = (BigDecimal) lfcJsonObj.get(&quot;assists&quot;);\r\n                BigDecimal kitNum = (BigDecimal) lfcJsonObj.get(&quot;kitNumber&quot;);\r\n                String pos = (String) lfcJsonObj.get(&quot;posisiton&quot;);\r\n                String country = (String) lfcJsonObj.get(&quot;nationality&quot;);\r\n    \r\n    \r\n            }\r\n        }\r\n            private void ifcJSON() throws IOException, ParseException {\r\n    \r\n                JSONParser jsonParser = new JSONParser();\r\n                FileReader reader = new FileReader(&quot;src/IFCSquad.json&quot;);\r\n                Object obj = jsonParser.parse(reader);\r\n                JSONObject ifcJsonObj = (JSONObject) obj;\r\n    \r\n                String tName = (String) ifcJsonObj.get(&quot;teamName&quot;);\r\n                String hTown = (String) ifcJsonObj.get(&quot;homeTown&quot;);\r\n                BigDecimal fYear = (BigDecimal) ifcJsonObj.get(&quot;founded&quot;);\r\n    \r\n                JSONArray array = (JSONArray) ifcJsonObj.get(&quot;players&quot;);\r\n    \r\n                for (int i = 0; i &lt; array.size(); i++) {\r\n                    JSONObject players = (JSONObject) array.get(i);\r\n                    String name = (String) ifcJsonObj.get(&quot;name&quot;);\r\n                    BigDecimal age = (BigDecimal) ifcJsonObj.get(&quot;age&quot;);\r\n                    BigDecimal goals = (BigDecimal) ifcJsonObj.get(&quot;goals&quot;);\r\n                    BigDecimal assists = (BigDecimal) ifcJsonObj.get(&quot;assists&quot;);\r\n                    BigDecimal kitNum = (BigDecimal) ifcJsonObj.get(&quot;kitNumber&quot;);\r\n                    String pos = (String) ifcJsonObj.get(&quot;posisiton&quot;);\r\n                    String country = (String) ifcJsonObj.get(&quot;nationality&quot;);\r\n    \r\n                }\r\n            }\r\n            private void afcJSON () throws IOException, ParseException {\r\n    \r\n               JSONParser jsonParser = new JSONParser();\r\n               FileReader reader = new FileReader(&quot;src/AFCSquad.json&quot;);\r\n               Object obj = jsonParser.parse(reader);\r\n               JSONObject lfcJsonObj = (JSONObject) obj;\r\n               String tName = (String) lfcJsonObj.get(&quot;teamName&quot;);\r\n               String hTown = (String) lfcJsonObj.get(&quot;homeTown&quot;);\r\n               BigDecimal fYear = (BigDecimal) lfcJsonObj.get(&quot;founded&quot;);\r\n               JSONArray array = (JSONArray) lfcJsonObj.get(&quot;players&quot;);\r\n    \r\n               for (int i = 0; i &lt; array.size(); i++) {\r\n    \r\n                  JSONObject players = (JSONObject) array.get(i);\r\n                  String name = (String) lfcJsonObj.get(&quot;name&quot;);\r\n                  BigDecimal age = (BigDecimal) lfcJsonObj.get(&quot;age&quot;);\r\n                  BigDecimal goals = (BigDecimal) lfcJsonObj.get(&quot;goals&quot;);\r\n                  BigDecimal assists = (BigDecimal) lfcJsonObj.get(&quot;assists&quot;);\r\n                  BigDecimal kitNum = (BigDecimal) lfcJsonObj.get(&quot;kitNumber&quot;);\r\n                  String pos = (String) lfcJsonObj.get(&quot;posisiton&quot;);\r\n                  String country = (String) lfcJsonObj.get(&quot;nationality&quot;);\r\n    \r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n","title":"Reading Multiple JSON Files in Java","body":"<p>I am trying to make my program read data from three similar JSON files. However, when I try to print them in the public static main class, I keep on getting errors. Kindly, can someone tell me where is my problem? Thank you! I am preparing them for my Java GUI and hopefully going to be linking the three files into a button that will invoke them all.</p>\n<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.math.BigDecimal;\n\npublic class JSON {\n\n    public static void main(String[] args) throws IOException, ParseException {\n        new JSON();\n    }\n\n\n    public JSON() throws IOException, ParseException {\n        lfcJSON();\n        ifcJSON();\n        afcJSON();\n\n    }\n\n    private void lfcJSON() throws IOException, ParseException {\n\n        JSONParser jsonParser = new JSONParser();\n        FileReader reader = new FileReader(&quot;src/LFCSquad.json&quot;);\n        Object obj = jsonParser.parse(reader);\n        JSONObject lfcJsonObj = (JSONObject) obj;\n\n        String tName = (String) lfcJsonObj.get(&quot;teamName&quot;);\n        String hTown = (String) lfcJsonObj.get(&quot;homeTown&quot;);\n        BigDecimal fYear = (BigDecimal) lfcJsonObj.get(&quot;founded&quot;);\n\n        JSONArray array = (JSONArray) lfcJsonObj.get(&quot;players&quot;);\n\n        for (int i = 0; i &lt; array.size(); i++) {\n            JSONObject players = (JSONObject) array.get(i);\n            String name = (String) lfcJsonObj.get(&quot;name&quot;);\n            BigDecimal age = (BigDecimal) lfcJsonObj.get(&quot;age&quot;);\n            BigDecimal goals = (BigDecimal) lfcJsonObj.get(&quot;goals&quot;);\n            BigDecimal assists = (BigDecimal) lfcJsonObj.get(&quot;assists&quot;);\n            BigDecimal kitNum = (BigDecimal) lfcJsonObj.get(&quot;kitNumber&quot;);\n            String pos = (String) lfcJsonObj.get(&quot;posisiton&quot;);\n            String country = (String) lfcJsonObj.get(&quot;nationality&quot;);\n\n\n        }\n    }\n        private void ifcJSON() throws IOException, ParseException {\n\n            JSONParser jsonParser = new JSONParser();\n            FileReader reader = new FileReader(&quot;src/IFCSquad.json&quot;);\n            Object obj = jsonParser.parse(reader);\n            JSONObject ifcJsonObj = (JSONObject) obj;\n\n            String tName = (String) ifcJsonObj.get(&quot;teamName&quot;);\n            String hTown = (String) ifcJsonObj.get(&quot;homeTown&quot;);\n            BigDecimal fYear = (BigDecimal) ifcJsonObj.get(&quot;founded&quot;);\n\n            JSONArray array = (JSONArray) ifcJsonObj.get(&quot;players&quot;);\n\n            for (int i = 0; i &lt; array.size(); i++) {\n                JSONObject players = (JSONObject) array.get(i);\n                String name = (String) ifcJsonObj.get(&quot;name&quot;);\n                BigDecimal age = (BigDecimal) ifcJsonObj.get(&quot;age&quot;);\n                BigDecimal goals = (BigDecimal) ifcJsonObj.get(&quot;goals&quot;);\n                BigDecimal assists = (BigDecimal) ifcJsonObj.get(&quot;assists&quot;);\n                BigDecimal kitNum = (BigDecimal) ifcJsonObj.get(&quot;kitNumber&quot;);\n                String pos = (String) ifcJsonObj.get(&quot;posisiton&quot;);\n                String country = (String) ifcJsonObj.get(&quot;nationality&quot;);\n\n            }\n        }\n        private void afcJSON () throws IOException, ParseException {\n\n           JSONParser jsonParser = new JSONParser();\n           FileReader reader = new FileReader(&quot;src/AFCSquad.json&quot;);\n           Object obj = jsonParser.parse(reader);\n           JSONObject lfcJsonObj = (JSONObject) obj;\n           String tName = (String) lfcJsonObj.get(&quot;teamName&quot;);\n           String hTown = (String) lfcJsonObj.get(&quot;homeTown&quot;);\n           BigDecimal fYear = (BigDecimal) lfcJsonObj.get(&quot;founded&quot;);\n           JSONArray array = (JSONArray) lfcJsonObj.get(&quot;players&quot;);\n\n           for (int i = 0; i &lt; array.size(); i++) {\n\n              JSONObject players = (JSONObject) array.get(i);\n              String name = (String) lfcJsonObj.get(&quot;name&quot;);\n              BigDecimal age = (BigDecimal) lfcJsonObj.get(&quot;age&quot;);\n              BigDecimal goals = (BigDecimal) lfcJsonObj.get(&quot;goals&quot;);\n              BigDecimal assists = (BigDecimal) lfcJsonObj.get(&quot;assists&quot;);\n              BigDecimal kitNum = (BigDecimal) lfcJsonObj.get(&quot;kitNumber&quot;);\n              String pos = (String) lfcJsonObj.get(&quot;posisiton&quot;);\n              String country = (String) lfcJsonObj.get(&quot;nationality&quot;);\n\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","properties","graphql-java"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1638157516,"post_id":70149256,"comment_id":124004725,"body_markdown":"Does path of `vendor` folder is `resources/static/vendor`?","body":"Does path of <code>vendor</code> folder is <code>resources&#47;static&#47;vendor</code>?"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1638183545,"post_id":70149256,"comment_id":124011366,"body_markdown":"@FaeemazazBhanej from vendor github I got /`src/main/resources/static/vendor/altair/**` and `/src/main/resources/templates/altair.html`","body":"@FaeemazazBhanej from vendor github I got /<code>src&#47;main&#47;resources&#47;static&#47;vendor&#47;altair&#47;**</code> and <code>&#47;src&#47;main&#47;resources&#47;templates&#47;altair.html</code>"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638157006,"creation_date":1638154194,"question_id":70149256,"body_markdown":"I have an application spring-boot 2.6.\r\n\r\nI&#39;m handling 404 exception successfully with settings in `application.yml` below:\r\n```yml\r\nspring:\r\n    mvc:\r\n        throw-exception-if-no-handler-found: true\r\n    web:\r\n        resources:\r\n            add-mappings: false\r\n```\r\n\r\nThat same application are using `altair-spring-boot-starter` that provide static files then I have got errors bellow:\r\n\r\n```log\r\nNo handler found for GET /vendor/altair/styles.css\r\nNo handler found for GET /vendor/altair/assets/img/logo_350.svg\r\nNo handler found for GET /vendor/altair/runtime-es2018.js\r\nNo handler found for GET /vendor/altair/main-es2018.js\r\nNo handler found for GET /vendor/altair/polyfills-es2018.js\r\nNo handler found for GET /vendor/altair/favicon.ico\r\n```\r\n\r\nIf I turn `spring.web.resources.add-mappings` to `true` static files `altair` works but handle 404 dosen&#39;t work.\r\n\r\nHow to handle 404 exception spring boot and add satic files to mapping resources? Is there any way to do both on `application.yaml`?\r\n\r\n","title":"handle 404 exception and add static files in spring.web.resources spring-boot","body":"<p>I have an application spring-boot 2.6.</p>\n<p>I'm handling 404 exception successfully with settings in <code>application.yml</code> below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n    mvc:\n        throw-exception-if-no-handler-found: true\n    web:\n        resources:\n            add-mappings: false\n</code></pre>\n<p>That same application are using <code>altair-spring-boot-starter</code> that provide static files then I have got errors bellow:</p>\n<pre><code>No handler found for GET /vendor/altair/styles.css\nNo handler found for GET /vendor/altair/assets/img/logo_350.svg\nNo handler found for GET /vendor/altair/runtime-es2018.js\nNo handler found for GET /vendor/altair/main-es2018.js\nNo handler found for GET /vendor/altair/polyfills-es2018.js\nNo handler found for GET /vendor/altair/favicon.ico\n</code></pre>\n<p>If I turn <code>spring.web.resources.add-mappings</code> to <code>true</code> static files <code>altair</code> works but handle 404 dosen't work.</p>\n<p>How to handle 404 exception spring boot and add satic files to mapping resources? Is there any way to do both on <code>application.yaml</code>?</p>\n"},{"tags":["java","windows","environment-variables","pentaho-spoon"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1638148746,"post_id":70148807,"comment_id":124003461,"body_markdown":"In Windows, click on System settings.  Then go to advanced system settings and at the bottom click on Environment variables.  From there, correct your search path.  Note that this won&#39;t work if your spoon.bat file makes the call using an absolute path name. You may need to edit the .bat file and make appropriate changes there.","body":"In Windows, click on System settings.  Then go to advanced system settings and at the bottom click on Environment variables.  From there, correct your search path.  Note that this won&#39;t work if your spoon.bat file makes the call using an absolute path name. You may need to edit the .bat file and make appropriate changes there."},{"owner":{"account_id":11029648,"reputation":33,"user_id":8101351,"display_name":"Eren_Jaeger_Snk"},"score":0,"creation_date":1638150751,"post_id":70148807,"comment_id":124003736,"body_markdown":"I already set the path in Enviroment variebles but it does not work sir","body":"I already set the path in Enviroment variebles but it does not work sir"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1638156657,"post_id":70148807,"comment_id":124004603,"body_markdown":"Sorry but I don&#39;t know what else to suggest,  I edited your tags to try and generate some other suggestions.   You might also try searching for any online help/support in the pentaho-spoon community.","body":"Sorry but I don&#39;t know what else to suggest,  I edited your tags to try and generate some other suggestions.   You might also try searching for any online help/support in the pentaho-spoon community."},{"owner":{"account_id":6514367,"reputation":1462,"user_id":5040684,"display_name":"Ana GH"},"score":1,"creation_date":1638186493,"post_id":70148807,"comment_id":124012465,"body_markdown":"@Eren_Jaeger_Snk Apart from the problem with setting the path (with which I can&#39;t help, sorry), keep in mind that spoon is not certified to work with java 14, you have to work with java 8, refer to Pentaho oficial documentation: https://help.hitachivantara.com/Documentation/Pentaho/9.2/Setup/Components_Reference, section Java Virtual Machine.","body":"@Eren_Jaeger_Snk Apart from the problem with setting the path (with which I can&#39;t help, sorry), keep in mind that spoon is not certified to work with java 14, you have to work with java 8, refer to Pentaho oficial documentation: <a href=\"https://help.hitachivantara.com/Documentation/Pentaho/9.2/Setup/Components_Reference\" rel=\"nofollow noreferrer\">help.hitachivantara.com/Documentation/Pentaho/9.2/Setup/&hellip;</a>, section Java Virtual Machine."}],"owner":{"account_id":11029648,"reputation":33,"user_id":8101351,"display_name":"Eren_Jaeger_Snk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638148848,"answer_count":0,"score":0,"last_activity_date":1638156494,"creation_date":1638148117,"question_id":70148807,"body_markdown":"I just try to run spoon.bat but notification says `javaw.exe` does not found, after I read the notification, spoon.bat can not find the `javaw.exe` because the folder was `C:\\Program Files\\Java\\jdk-14.0.1\\bin\\bin\\javax.exe`, so the problem is **`\\bin\\bin`** in java folder structure the is no `\\bin\\bin\\` it was `C:\\Program Files\\Java\\jdk-14.0.1\\bin` , So what can I do to change `C:\\Program Files\\Java\\jdk-14.0.1\\bin\\bin\\javaw.exe` to `C:\\Program Files\\Java\\jdk-14.0.1\\bin\\javaw.exe`","title":"Windows can not find javaw.exe","body":"<p>I just try to run spoon.bat but notification says <code>javaw.exe</code> does not found, after I read the notification, spoon.bat can not find the <code>javaw.exe</code> because the folder was <code>C:\\Program Files\\Java\\jdk-14.0.1\\bin\\bin\\javax.exe</code>, so the problem is <strong><code>\\bin\\bin</code></strong> in java folder structure the is no <code>\\bin\\bin\\</code> it was <code>C:\\Program Files\\Java\\jdk-14.0.1\\bin</code> , So what can I do to change <code>C:\\Program Files\\Java\\jdk-14.0.1\\bin\\bin\\javaw.exe</code> to <code>C:\\Program Files\\Java\\jdk-14.0.1\\bin\\javaw.exe</code></p>\n"},{"tags":["java","spring-boot","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":10501614,"reputation":1404,"user_id":7740166,"display_name":"Viettel Solutions"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638154349,"creation_date":1638154349,"answer_id":70149264,"question_id":70146400,"body_markdown":"Use array of multipartfile (you can try to use list instead) and send files by form-data\r\n  \r\n    @RequestMapping(value = &quot;file/{id}&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; addFile(@PathVariable Long id, @RequestBody MultipartFile[] filesRequestList) throws IOException {\r\n\r\n      // log..\r\n\r\n    }","title":"File upload problem. In what form to send data to API","body":"<p>Use array of multipartfile (you can try to use list instead) and send files by form-data</p>\n<pre><code>@RequestMapping(value = &quot;file/{id}&quot;, method = RequestMethod.POST)\npublic ResponseEntity&lt;?&gt; addFile(@PathVariable Long id, @RequestBody MultipartFile[] filesRequestList) throws IOException {\n\n  // log..\n\n}\n</code></pre>\n"}],"owner":{"account_id":23193397,"reputation":53,"user_id":17289413,"display_name":"eva_mila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638154349,"creation_date":1638124886,"question_id":70146400,"body_markdown":"Prompt, I have a problem uploading files to the database. I need to implement a controller that accepts a number of files from 1 to n with additional parameters.\r\nFor example:\r\n\r\n    public class FilesDTO{\r\n      private String name;\r\n    \r\n    \r\n        private String type;\r\n    \r\n        private MultipartFile file;\r\n    \r\n    get / get \r\n    }\r\n\r\nfurther implement the controller, for example:\r\n\r\n     @RequestMapping(value = &quot;file/{id}&quot;, method = RequestMethod.POST, consumes = { MediaType.APPLICATION_JSON_VALUE,\r\n                MediaType.MULTIPART_FORM_DATA_VALUE })\r\n        public ResponseEntity&lt;?&gt; addFile(@PathVariable Long id, @ModelAttribute List&lt;FilesDTO&gt; filesRequestList) throws IOException {\r\n    \r\n          // log..\r\n    \r\n        }\r\n\r\nhow to send a request correctly and in what form to this controller?\r\n\r\nIf you use postman.\r\nmaybe I misunderstood how to implement the controller, tell me how best to do\r\nmaybe this should be done not through dto","title":"File upload problem. In what form to send data to API","body":"<p>Prompt, I have a problem uploading files to the database. I need to implement a controller that accepts a number of files from 1 to n with additional parameters.\nFor example:</p>\n<pre><code>public class FilesDTO{\n  private String name;\n\n\n    private String type;\n\n    private MultipartFile file;\n\nget / get \n}\n</code></pre>\n<p>further implement the controller, for example:</p>\n<pre><code> @RequestMapping(value = &quot;file/{id}&quot;, method = RequestMethod.POST, consumes = { MediaType.APPLICATION_JSON_VALUE,\n            MediaType.MULTIPART_FORM_DATA_VALUE })\n    public ResponseEntity&lt;?&gt; addFile(@PathVariable Long id, @ModelAttribute List&lt;FilesDTO&gt; filesRequestList) throws IOException {\n\n      // log..\n\n    }\n</code></pre>\n<p>how to send a request correctly and in what form to this controller?</p>\n<p>If you use postman.\nmaybe I misunderstood how to implement the controller, tell me how best to do\nmaybe this should be done not through dto</p>\n"},{"tags":["java","file-read"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638153797,"creation_date":1638153797,"answer_id":70149229,"question_id":70149154,"body_markdown":"&gt;  it reads the first line again. is there a way to specify I want the second line?\r\n\r\nNo; not unless you remember the position (in __bytes__, not characters and certainly not lines!) to start reading on. Files are bags o bytes, not &#39;sets of lines&#39;, the file system just doesn&#39;t work that way. The only way to &#39;navigate to the 814095th line&#39; is to start reading from the top until you have read through 814095 newline symbols.\r\n\r\nTo access a file at some index, generally you&#39;d use a `new RandomAccessFile`, but I doubt you really want this - why not just keep the InputStream open, inside a long-lived object, that has a &#39;getNextMessage&#39; method that pulls exactly 1 line off every time you call it. `BufferedReader` is pretty much exactly this - already exists in java. Just use that.\r\n","title":"Can I access a file with a specific index or line number that I want to access?","body":"<blockquote>\n<p>it reads the first line again. is there a way to specify I want the second line?</p>\n</blockquote>\n<p>No; not unless you remember the position (in <strong>bytes</strong>, not characters and certainly not lines!) to start reading on. Files are bags o bytes, not 'sets of lines', the file system just doesn't work that way. The only way to 'navigate to the 814095th line' is to start reading from the top until you have read through 814095 newline symbols.</p>\n<p>To access a file at some index, generally you'd use a <code>new RandomAccessFile</code>, but I doubt you really want this - why not just keep the InputStream open, inside a long-lived object, that has a 'getNextMessage' method that pulls exactly 1 line off every time you call it. <code>BufferedReader</code> is pretty much exactly this - already exists in java. Just use that.</p>\n"}],"owner":{"account_id":16273596,"reputation":1,"user_id":11751449,"display_name":"crystal sarver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638153797,"creation_date":1638152696,"question_id":70149154,"body_markdown":"I am having an issue with reading a file in java. the issue is I have one method &quot;sender&quot;, that calls another method &quot;getMessage&quot;. when I call getMessage I need to read from a file. each line of the file is a message. I need to open the file, get the message and return it back to sender. I have it finding the file, opening it and getting the first line, but the issue is every time I return the first message and try to come back for the second message, it reads the first line again. is there a way to specify I want the second line? or I could even keep track of the length of each message so I know the index of what character I want to start with but I don&#39;t know how to access the file with an index.","title":"Can I access a file with a specific index or line number that I want to access?","body":"<p>I am having an issue with reading a file in java. the issue is I have one method &quot;sender&quot;, that calls another method &quot;getMessage&quot;. when I call getMessage I need to read from a file. each line of the file is a message. I need to open the file, get the message and return it back to sender. I have it finding the file, opening it and getting the first line, but the issue is every time I return the first message and try to come back for the second message, it reads the first line again. is there a way to specify I want the second line? or I could even keep track of the length of each message so I know the index of what character I want to start with but I don't know how to access the file with an index.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":543749,"reputation":66644,"user_id":1435869,"display_name":"karakfa"},"score":0,"creation_date":1634492776,"post_id":69607013,"comment_id":123033600,"body_markdown":"it&#39;s using the preset value. Check the value set with `echo %_JAVA_OPTIONS%` and set it in Environment variables or perhaps delete it altogether.","body":"it&#39;s using the preset value. Check the value set with <code>echo %_JAVA_OPTIONS%</code> and set it in Environment variables or perhaps delete it altogether."},{"owner":{"account_id":19980810,"reputation":27,"user_id":14644041,"display_name":"Landyn J"},"score":0,"creation_date":1634493178,"post_id":69607013,"comment_id":123033691,"body_markdown":"@karakfa, how do I keep those variables but ignore them here specifically?","body":"@karakfa, how do I keep those variables but ignore them here specifically?"},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":1,"creation_date":1634493709,"post_id":69607013,"comment_id":123033822,"body_markdown":"I&#39;m using macOS, but **maybe** it works with Windows, too: In Linux and macOS you can execute `_JAVA_OPTIONS=... java -jar ...` to set the options for a specific process at the command line.","body":"I&#39;m using macOS, but <b>maybe</b> it works with Windows, too: In Linux and macOS you can execute <code>_JAVA_OPTIONS=... java -jar ...</code> to set the options for a specific process at the command line."}],"answers":[{"tags":[],"owner":{"account_id":19980810,"reputation":27,"user_id":14644041,"display_name":"Landyn J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634523468,"creation_date":1634493464,"answer_id":69607165,"question_id":69607013,"body_markdown":"Delete the `_JAVA_OPTIONS` environment variable.","title":"Initial heap size set to a larger value than the maximum heap size","body":"<p>Delete the <code>_JAVA_OPTIONS</code> environment variable.</p>\n"},{"tags":[],"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638153623,"creation_date":1634494365,"answer_id":69607293,"question_id":69607013,"body_markdown":"Override the current JAVA_OPTS value\r\n\r\n    -Xms&lt;size&gt;        set initial Java heap size\r\n    -Xmx&lt;size&gt;        set maximum Java heap size\r\n\r\nI am suggesting to keep on rate 1 to 2 between Xms and Xmx ","title":"Initial heap size set to a larger value than the maximum heap size","body":"<p>Override the current JAVA_OPTS value</p>\n<pre><code>-Xms&lt;size&gt;        set initial Java heap size\n-Xmx&lt;size&gt;        set maximum Java heap size\n</code></pre>\n<p>I am suggesting to keep on rate 1 to 2 between Xms and Xmx</p>\n"}],"owner":{"account_id":19980810,"reputation":27,"user_id":14644041,"display_name":"Landyn J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69607293,"answer_count":2,"score":0,"last_activity_date":1638153623,"creation_date":1634492432,"question_id":69607013,"body_markdown":"Im trying to start a .jar file with these args:\r\n```\r\n&quot;C:\\Program Files\\Eclipse Foundation\\jdk-16.0.2.7-hotspot\\bin\\java.exe&quot; -Xmx4G -Xms3G -jar paper.jar\r\n```\r\nand I get the error:\r\n```\r\nPicked up _JAVA_OPTIONS: -Xmx512M\r\nInitial heap size set to a larger value than the maximum heap size```\r\n\r\n","title":"Initial heap size set to a larger value than the maximum heap size","body":"<p>Im trying to start a .jar file with these args:</p>\n<pre><code>&quot;C:\\Program Files\\Eclipse Foundation\\jdk-16.0.2.7-hotspot\\bin\\java.exe&quot; -Xmx4G -Xms3G -jar paper.jar\n</code></pre>\n<p>and I get the error:</p>\n<pre><code>Picked up _JAVA_OPTIONS: -Xmx512M\nInitial heap size set to a larger value than the maximum heap size```\n\n</code></pre>\n"},{"tags":["java","list","collections","set"],"answers":[{"tags":[],"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638149912,"creation_date":1638149912,"answer_id":70148944,"question_id":70148891,"body_markdown":"To convert from a Set to a List, you can simply do `new ArrayList&lt;&gt;(mySet)`. So you can do something like: \r\n```\r\nSet&lt;String&gt; set1 = new HashSet&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;));\r\nSet&lt;String&gt; set2 = new HashSet&lt;&gt;(Arrays.asList(&quot;c&quot;, &quot;d&quot;));\r\nList&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;List&lt;String&gt;&gt;();\r\nList&lt;Set&lt;String&gt;&gt; listOfSets = new ArrayList&lt;&gt;();\r\nlistOfSets.add(set1);\r\nlistOfSets.add(set2);\r\nfor (Set&lt;String&gt; set : listOfSets) {\r\n    result.add(new ArrayList&lt;&gt;(set));\r\n}\r\nSystem.out.println(result);\r\n```\r\nOutput: `[[a, b], [c, d]]`","title":"How to convert List&lt;Set&lt;String&gt;&gt; to List&lt;List&lt;String&gt;&gt; in java?","body":"<p>To convert from a Set to a List, you can simply do <code>new ArrayList&lt;&gt;(mySet)</code>. So you can do something like:</p>\n<pre><code>Set&lt;String&gt; set1 = new HashSet&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;));\nSet&lt;String&gt; set2 = new HashSet&lt;&gt;(Arrays.asList(&quot;c&quot;, &quot;d&quot;));\nList&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;List&lt;String&gt;&gt;();\nList&lt;Set&lt;String&gt;&gt; listOfSets = new ArrayList&lt;&gt;();\nlistOfSets.add(set1);\nlistOfSets.add(set2);\nfor (Set&lt;String&gt; set : listOfSets) {\n    result.add(new ArrayList&lt;&gt;(set));\n}\nSystem.out.println(result);\n</code></pre>\n<p>Output: <code>[[a, b], [c, d]]</code></p>\n"},{"tags":[],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638150010,"creation_date":1638150010,"answer_id":70148955,"question_id":70148891,"body_markdown":"Do you care about order in the `Set`s? If you do, you&#39;ll have to make sure you don&#39;t have them as Sets in the first place. If you don&#39;t, you can use the Java 8+ streams API:\r\n\r\n    list.stream().map(ArrayList::new).collect(Collectors.toList());\r\n\r\nOr a `for` loop.","title":"How to convert List&lt;Set&lt;String&gt;&gt; to List&lt;List&lt;String&gt;&gt; in java?","body":"<p>Do you care about order in the <code>Set</code>s? If you do, you'll have to make sure you don't have them as Sets in the first place. If you don't, you can use the Java 8+ streams API:</p>\n<pre><code>list.stream().map(ArrayList::new).collect(Collectors.toList());\n</code></pre>\n<p>Or a <code>for</code> loop.</p>\n"}],"owner":{"account_id":11749789,"reputation":521,"user_id":8599435,"display_name":"Himanshu Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1638150010,"creation_date":1638149238,"question_id":70148891,"body_markdown":"How can we convert List&lt;Set&lt;String&gt;&gt; to List&lt;List&lt;String&gt;&gt; in java easily? \r\nContext: I came across this issue where I have generated List&lt;Set&lt;String&gt;&gt; while in function return expects List&lt;List&lt;String&gt;&gt;.","title":"How to convert List&lt;Set&lt;String&gt;&gt; to List&lt;List&lt;String&gt;&gt; in java?","body":"<p>How can we convert List&lt;Set&gt; to List&lt;List&gt; in java easily?\nContext: I came across this issue where I have generated List&lt;Set&gt; while in function return expects List&lt;List&gt;.</p>\n"},{"tags":["java","csv","arraylist"],"answers":[{"tags":[],"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638149282,"creation_date":1638149282,"answer_id":70148896,"question_id":70148321,"body_markdown":"The question is not totally clear to me. I am assuming you want to organize some data inside a CSV that later a Java program will parse in order to execute a quiz. I am also assuming that you are struggling with how the CSV file should be organized.\r\n\r\n**One solution** \r\n\r\nOne CSV possibility would be (assuming you don&#39;t have any comma or semicolon inside your data) : \r\n\r\n    question_number,theme,difficulty,question,possible_answers,correct_answer\r\n    0,Sport,Medium,Who is current leader at formula 1 championship ?, 1. Hamilton;2. Verstappen,2. Verstappen\r\n    1,Science,Easy,What does the acronym LASER stands for ?,1. Light Amplification Stimulated by Emission of Radiation;2. Light Amplification Stimulated by Emission of Rigatoni,\r\n\r\nFor readability :\r\n[![Possible CSV example][1]][1]\r\n\r\n \r\n\r\n\r\nAs you saw the file is divided into different columns that are comma-separated. The possible_answers column includes itself a list of the possible answers which are semicolon-separated.\r\nThis should be easily parsable with basic Java and be coherent with the implementation that you described.\r\n\r\nThis format would not allow the use of comma or semi-columns inside the data. In case you want to allow them you might want to escape the column values using double-quotes. This process is described by the [RFC 4180 CSV standard][2]. (The RFC 4180 standard has no official value regarding the CSV format itself but it is a commonly accepted description of it)\r\n\r\n&gt;    5.  Each field may or may not be enclosed in double-quotes (however\r\n&gt;        some programs, such as Microsoft Excel, do not use double quotes\r\n&gt;        at all).  If fields are not enclosed with double quotes, then\r\n&gt;        double quotes may not appear inside the fields.  For example:\r\n&gt; \r\n&gt;        &quot;aaa&quot;,&quot;bbb&quot;,&quot;ccc&quot; CRLF\r\n&gt;        zzz,yyy,xxx\r\n&gt; \r\n&gt;    6.  Fields containing line breaks (CRLF), double quotes, and commas\r\n&gt;        should be enclosed in double-quotes.  For example:\r\n&gt; \r\n&gt;        &quot;aaa&quot;,&quot;b CRLF\r\n&gt;        bb&quot;,&quot;ccc&quot; CRLF\r\n&gt;        zzz,yyy,xxx\r\n\r\n**Alternative solution idea**\r\n\r\nAssuming the maximum number of &quot;possible_answers&quot; is knwon, an alternative solution would have been to include some columns \r\n\r\n&gt; answer_1,answer_2,answer_3,answer_4\r\n\r\nAnd to fill them only when necessary. This would avoid the trick of parsing a semi-column separated list of possible answers.\r\n\r\n  [1]: https://i.stack.imgur.com/JiusH.png\r\n  [2]: https://datatracker.ietf.org/doc/html/rfc4180","title":"creating exploitable .csv file for java program","body":"<p>The question is not totally clear to me. I am assuming you want to organize some data inside a CSV that later a Java program will parse in order to execute a quiz. I am also assuming that you are struggling with how the CSV file should be organized.</p>\n<p><strong>One solution</strong></p>\n<p>One CSV possibility would be (assuming you don't have any comma or semicolon inside your data) :</p>\n<pre><code>question_number,theme,difficulty,question,possible_answers,correct_answer\n0,Sport,Medium,Who is current leader at formula 1 championship ?, 1. Hamilton;2. Verstappen,2. Verstappen\n1,Science,Easy,What does the acronym LASER stands for ?,1. Light Amplification Stimulated by Emission of Radiation;2. Light Amplification Stimulated by Emission of Rigatoni,\n</code></pre>\n<p>For readability :\n<a href=\"https://i.stack.imgur.com/JiusH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JiusH.png\" alt=\"Possible CSV example\" /></a></p>\n<p>As you saw the file is divided into different columns that are comma-separated. The possible_answers column includes itself a list of the possible answers which are semicolon-separated.\nThis should be easily parsable with basic Java and be coherent with the implementation that you described.</p>\n<p>This format would not allow the use of comma or semi-columns inside the data. In case you want to allow them you might want to escape the column values using double-quotes. This process is described by the <a href=\"https://datatracker.ietf.org/doc/html/rfc4180\" rel=\"nofollow noreferrer\">RFC 4180 CSV standard</a>. (The RFC 4180 standard has no official value regarding the CSV format itself but it is a commonly accepted description of it)</p>\n<blockquote>\n<ol start=\"5\">\n<li><p>Each field may or may not be enclosed in double-quotes (however\nsome programs, such as Microsoft Excel, do not use double quotes\nat all).  If fields are not enclosed with double quotes, then\ndouble quotes may not appear inside the fields.  For example:</p>\n<p>&quot;aaa&quot;,&quot;bbb&quot;,&quot;ccc&quot; CRLF\nzzz,yyy,xxx</p>\n</li>\n<li><p>Fields containing line breaks (CRLF), double quotes, and commas\nshould be enclosed in double-quotes.  For example:</p>\n<p>&quot;aaa&quot;,&quot;b CRLF\nbb&quot;,&quot;ccc&quot; CRLF\nzzz,yyy,xxx</p>\n</li>\n</ol>\n</blockquote>\n<p><strong>Alternative solution idea</strong></p>\n<p>Assuming the maximum number of &quot;possible_answers&quot; is knwon, an alternative solution would have been to include some columns</p>\n<blockquote>\n<p>answer_1,answer_2,answer_3,answer_4</p>\n</blockquote>\n<p>And to fill them only when necessary. This would avoid the trick of parsing a semi-column separated list of possible answers.</p>\n"}],"owner":{"account_id":20482524,"reputation":19,"user_id":15030434,"display_name":"Louis Wheelz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":70148896,"answer_count":1,"score":-2,"last_activity_date":1638149282,"creation_date":1638141649,"question_id":70148321,"body_markdown":"I&#39;m both new to JAVA and .csv file so bear with me please!\r\nHere&#39;s my problem, i have this word file :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iM5zX.png\r\n\r\nbasically i have a theme (here Science)\r\na difficulty level, a question number, a question, available answers and a right answer\r\n\r\nI would like to be able to create a .csv file that i could then exploint in a java program, i&#39;d like to store the different themes in an arraylist, the questions and their answers in another arraylist and so on. But i don&#39;t really know what&#39;s my best option since as you can see i have different formats of questions, it can be true or false, multiple choice question, and also just a question where the user would have to answer directly with a sentence. Which means that for example in that case i wouldnt have a &quot;available answer&quot; field.\r\n\r\nThanks for any help or suggestions","title":"creating exploitable .csv file for java program","body":"<p>I'm both new to JAVA and .csv file so bear with me please!\nHere's my problem, i have this word file :</p>\n<p><a href=\"https://i.stack.imgur.com/iM5zX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iM5zX.png\" alt=\"enter image description here\" /></a></p>\n<p>basically i have a theme (here Science)\na difficulty level, a question number, a question, available answers and a right answer</p>\n<p>I would like to be able to create a .csv file that i could then exploint in a java program, i'd like to store the different themes in an arraylist, the questions and their answers in another arraylist and so on. But i don't really know what's my best option since as you can see i have different formats of questions, it can be true or false, multiple choice question, and also just a question where the user would have to answer directly with a sentence. Which means that for example in that case i wouldnt have a &quot;available answer&quot; field.</p>\n<p>Thanks for any help or suggestions</p>\n"},{"tags":["java","for-loop","multidimensional-array","chess"],"comments":[{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1638138511,"post_id":70147872,"comment_id":124001753,"body_markdown":"It&#39;s working for me. Is `board` defined correctly, and where are you defining it?","body":"It&#39;s working for me. Is <code>board</code> defined correctly, and where are you defining it?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1638138542,"post_id":70147872,"comment_id":124001761,"body_markdown":"Your code looks to me like it should work.  Maybe your `board` array doesn&#39;t store what you think it should.  I&#39;d recommend stepping through this with a debugger to find out what&#39;s going on.","body":"Your code looks to me like it should work.  Maybe your <code>board</code> array doesn&#39;t store what you think it should.  I&#39;d recommend stepping through this with a debugger to find out what&#39;s going on."}],"answers":[{"tags":[],"owner":{"account_id":9559255,"reputation":184,"user_id":7100722,"display_name":"M0ngi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638139287,"creation_date":1638139287,"answer_id":70148087,"question_id":70147872,"body_markdown":"I&#39;ve tested your code &amp; it&#39;s running perfectly, perhaps the problem is in your board initialization?\r\n\r\nTry to debug your code by showing the actual content of the array at the beginning of `decideWinner` function.\r\n\r\nI&#39;ve used this initialization for the board, if it might help.\r\n\r\n    public void initBoard() {\r\n      board = new char[8][8];\r\n      // Init pawns\r\n      for (int j = 0; j &lt; board.length; j++) {\r\n        board[j][1] = &#39;P&#39;;\r\n        board[j][6] = &#39;P&#39;;\r\n      }\r\n      // Rooks\r\n      board[0][0] = &#39;R&#39;;\r\n      board[7][0] = &#39;R&#39;;\r\n      board[0][7] = &#39;R&#39;;\r\n      board[7][7] = &#39;R&#39;;\r\n    \r\n      // Knights\r\n      board[1][0] = &#39;N&#39;;\r\n      board[6][0] = &#39;N&#39;;\r\n      board[1][7] = &#39;N&#39;;\r\n      board[6][7] = &#39;N&#39;;\r\n    \r\n      // Bishops\r\n      board[2][0] = &#39;B&#39;;\r\n      board[5][0] = &#39;B&#39;;\r\n      board[2][7] = &#39;B&#39;;\r\n      board[5][7] = &#39;B&#39;;\r\n    \r\n      // Queens\r\n      board[3][0] = &#39;Q&#39;;\r\n      board[4][7] = &#39;Q&#39;;\r\n    \r\n      // Kings\r\n      board[4][0] = &#39;K&#39;; // White\r\n      board[3][7] = &#39;S&#39;; // Black\r\n    \r\n      // Empty space\r\n      for (int y = 0; y &lt; board.length; y++) {\r\n        for (int x = 2; x &lt; 6; x++) {\r\n          board[y][x] = &#39; &#39;;\r\n        }\r\n      }\r\n    }","title":"Check if a char is in a 2D array in java","body":"<p>I've tested your code &amp; it's running perfectly, perhaps the problem is in your board initialization?</p>\n<p>Try to debug your code by showing the actual content of the array at the beginning of <code>decideWinner</code> function.</p>\n<p>I've used this initialization for the board, if it might help.</p>\n<pre><code>public void initBoard() {\n  board = new char[8][8];\n  // Init pawns\n  for (int j = 0; j &lt; board.length; j++) {\n    board[j][1] = 'P';\n    board[j][6] = 'P';\n  }\n  // Rooks\n  board[0][0] = 'R';\n  board[7][0] = 'R';\n  board[0][7] = 'R';\n  board[7][7] = 'R';\n\n  // Knights\n  board[1][0] = 'N';\n  board[6][0] = 'N';\n  board[1][7] = 'N';\n  board[6][7] = 'N';\n\n  // Bishops\n  board[2][0] = 'B';\n  board[5][0] = 'B';\n  board[2][7] = 'B';\n  board[5][7] = 'B';\n\n  // Queens\n  board[3][0] = 'Q';\n  board[4][7] = 'Q';\n\n  // Kings\n  board[4][0] = 'K'; // White\n  board[3][7] = 'S'; // Black\n\n  // Empty space\n  for (int y = 0; y &lt; board.length; y++) {\n    for (int x = 2; x &lt; 6; x++) {\n      board[y][x] = ' ';\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638148629,"creation_date":1638146283,"answer_id":70148690,"question_id":70147872,"body_markdown":"If you find a king, you need to interrupt your search. You can do it by a `break` statement.\r\n\r\n    for(int y = 0; y &lt; board.length;y++){\r\n        for(int x = 0;x &lt; board[0].length;x++){\r\n            if(get(x,y) == &#39;K&#39;){\r\n                kingWhiteIsAlive = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    for(int j = 0; j &lt; board.length;j++){\r\n        for(int i = 0;i &lt; board[0].length;i++){\r\n            if(get(i,j) == &#39;S&#39;){\r\n                kingBlackIsAlive = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n","title":"Check if a char is in a 2D array in java","body":"<p>If you find a king, you need to interrupt your search. You can do it by a <code>break</code> statement.</p>\n<pre><code>for(int y = 0; y &lt; board.length;y++){\n    for(int x = 0;x &lt; board[0].length;x++){\n        if(get(x,y) == 'K'){\n            kingWhiteIsAlive = true;\n            break;\n        }\n    }\n}\nfor(int j = 0; j &lt; board.length;j++){\n    for(int i = 0;i &lt; board[0].length;i++){\n        if(get(i,j) == 'S'){\n            kingBlackIsAlive = true;\n            break;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23482854,"reputation":3,"user_id":17534758,"display_name":"Moorched"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70148087,"answer_count":2,"score":-1,"last_activity_date":1638148629,"creation_date":1638137274,"question_id":70147872,"body_markdown":"I have been working on my homework of creating a simple chess program.\r\n\r\nThe chessboard is a **2D array**, named board. The pieces are all single chars like R,Q,K, and empty space is filled with a &#39; &#39; char, so a space.\r\n\r\n    public static char[][] board;\r\n\r\nThe method get should return the char or whatever is there on the coordinate (x,y).\r\n\r\n     public char get(int x, int y) {\r\n            if(x &lt; board[0].length &amp;&amp; x &gt;= 0 &amp;&amp; y &lt; board.length &amp;&amp; y &gt;= 0){\r\n                return board[x][y];\r\n            }\r\n            else\r\n                return &#39;\\0&#39;;\r\n        }\r\n\r\nAnd the problem is that my program of evaluating who is the winner is not working as expected.\r\n\r\nThis program checks whether the **king of each team is still in the chessboard**, so the board array.\r\n\r\nIt should return 0 if both are still alive, 1, if only the white king is alive, and 2 if only the black king is alive.\r\n\r\nI have made a program, or at least tried to make one, that goes through each coordinate and checks if there is a character &#39;K&#39;, which represents the white king, and &#39;S&#39;, the black king.\r\n\r\nI have set the boolean kingIsAlive to false, so that if there is no K or S found in the array, it remains false.\r\n\r\nThough, my code at the bottom, with the if and else that returns 0,1 or2, has the error, that **kingWhiteIsAlive is always false** and **kingBlackIsAlive is always false.**\r\n\r\nSo, I think my program of turning the kingIsAlive boolean to true is not working at all....\r\n\r\n**The errors I got is:**\r\n\r\nWhite should have won =&gt; expected: &lt;1&gt; but was: &lt;-1&gt;\r\n\r\nNo one should have won =&gt; expected: &lt;0&gt; but was: &lt;1&gt;\r\n\r\nAnd after a couple of hours trying, I gave up and decided to ask here.\r\n\r\n    public int decideWinner(){\r\n        boolean kingWhiteIsAlive = false;\r\n        boolean kingBlackIsAlive = false;\r\n\r\n        for(int y = 0; y &lt; board.length;y++){\r\n            for(int x = 0;x &lt; board[0].length;x++){\r\n                if(get(x,y) == &#39;K&#39;){\r\n                    kingWhiteIsAlive = true;\r\n                }\r\n            }\r\n        }\r\n        for(int j = 0; j &lt; board.length;j++){\r\n            for(int i = 0;i &lt; board[0].length;i++){\r\n                if(get(i,j) == &#39;S&#39;){\r\n                    kingBlackIsAlive = true;\r\n                }\r\n            }\r\n        }\r\n        if(kingWhiteIsAlive &amp;&amp; kingBlackIsAlive){\r\n            return 0;\r\n        }\r\n        else if(kingWhiteIsAlive &amp;&amp; !kingBlackIsAlive){\r\n            return 1;\r\n        }\r\n        else if(!kingWhiteIsAlive &amp;&amp; kingBlackIsAlive){\r\n            return 2;\r\n        }\r\n        else\r\n            return -1;\r\n    } \r\nreturn -1 is for a test case that there are no kings from both teams.","title":"Check if a char is in a 2D array in java","body":"<p>I have been working on my homework of creating a simple chess program.</p>\n<p>The chessboard is a <strong>2D array</strong>, named board. The pieces are all single chars like R,Q,K, and empty space is filled with a ' ' char, so a space.</p>\n<pre><code>public static char[][] board;\n</code></pre>\n<p>The method get should return the char or whatever is there on the coordinate (x,y).</p>\n<pre><code> public char get(int x, int y) {\n        if(x &lt; board[0].length &amp;&amp; x &gt;= 0 &amp;&amp; y &lt; board.length &amp;&amp; y &gt;= 0){\n            return board[x][y];\n        }\n        else\n            return '\\0';\n    }\n</code></pre>\n<p>And the problem is that my program of evaluating who is the winner is not working as expected.</p>\n<p>This program checks whether the <strong>king of each team is still in the chessboard</strong>, so the board array.</p>\n<p>It should return 0 if both are still alive, 1, if only the white king is alive, and 2 if only the black king is alive.</p>\n<p>I have made a program, or at least tried to make one, that goes through each coordinate and checks if there is a character 'K', which represents the white king, and 'S', the black king.</p>\n<p>I have set the boolean kingIsAlive to false, so that if there is no K or S found in the array, it remains false.</p>\n<p>Though, my code at the bottom, with the if and else that returns 0,1 or2, has the error, that <strong>kingWhiteIsAlive is always false</strong> and <strong>kingBlackIsAlive is always false.</strong></p>\n<p>So, I think my program of turning the kingIsAlive boolean to true is not working at all....</p>\n<p><strong>The errors I got is:</strong></p>\n<p>White should have won =&gt; expected: &lt;1&gt; but was: &lt;-1&gt;</p>\n<p>No one should have won =&gt; expected: &lt;0&gt; but was: &lt;1&gt;</p>\n<p>And after a couple of hours trying, I gave up and decided to ask here.</p>\n<pre><code>public int decideWinner(){\n    boolean kingWhiteIsAlive = false;\n    boolean kingBlackIsAlive = false;\n\n    for(int y = 0; y &lt; board.length;y++){\n        for(int x = 0;x &lt; board[0].length;x++){\n            if(get(x,y) == 'K'){\n                kingWhiteIsAlive = true;\n            }\n        }\n    }\n    for(int j = 0; j &lt; board.length;j++){\n        for(int i = 0;i &lt; board[0].length;i++){\n            if(get(i,j) == 'S'){\n                kingBlackIsAlive = true;\n            }\n        }\n    }\n    if(kingWhiteIsAlive &amp;&amp; kingBlackIsAlive){\n        return 0;\n    }\n    else if(kingWhiteIsAlive &amp;&amp; !kingBlackIsAlive){\n        return 1;\n    }\n    else if(!kingWhiteIsAlive &amp;&amp; kingBlackIsAlive){\n        return 2;\n    }\n    else\n        return -1;\n} \n</code></pre>\n<p>return -1 is for a test case that there are no kings from both teams.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638148473,"creation_date":1638148079,"answer_id":70148803,"question_id":64676604,"body_markdown":"### How to connect to Oracle from Java?\r\n\r\nCommonly, in the java world, the most used driver is the **THIN** which is a **pure java** driver implementation provided by oracle which uses **sockets** to the connection. There are other options:\r\n\r\n1. JDBC-ODBC bridge (no longer distributed with new Java) \r\n2. Native-API driver (OCI driver fits here), \r\n3. Network-Protocol driver \r\n4. Database-Protocol driver (Thin driver) \r\n\r\nSource: https://stackoverflow.com/a/21711330/3957754\r\n\r\n&gt; There are not other options to connect to oracle from java.\r\n\r\n### What is oracle wallet?\r\n\r\nIn short, is just an option provided by oracle to **hide** the user and password when some client (java, c#, oracle sql developer, agents, etc) wants to establish a connection to the database instance. \r\n\r\nHere an example of traditional connection from spring boot in which user and password are required:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:oracle:thin:@host:port:sid\r\n    username: user\r\n    password: pwd\r\n```\r\n\r\nFor more details check these links:\r\n\r\n- https://docs.oracle.com/cd/E92519_02/pt856pbr3/eng/pt/tsvt/concept_UnderstandingOracleWallet.html?pli=ul_d96e224_tsvt\r\n- https://www.appservgrid.com/documentation111/docs/rdbms12cr1/DBIMI/to_dbimi10236_d209.htm#DBIMI10236\r\n- https://www.microfocus.com/documentation/dataexpress/WS24/Help/GUID-CB6FAEE3-6570-4A14-8A61-885F3F578C4B.html\r\n- https://o7planning.org/10495/oracle-wallet\r\n\r\n### How to use oracle wallet?\r\n\r\nIf user &amp; password are not required, what is the magic? Of course there are no magic. As any other service, the alternative is a file. So if you review the following links, you will find a lot of steps to create some **special files** that the client(java, c#, oracle sql developer, agents, etc) **should use instead user and password**:\r\n\r\n![oracle wallet files](https://i.stack.imgur.com/wM0FJ.png)\r\n\r\n- https://www.jetbrains.com/help/datagrip/connect-to-oracle-cloud-by-using-wallets.html\r\n- https://sumanruet.wordpress.com/2015/11/22/how-to-use-oracle-wallet/\r\n- https://helpcenter.netwrix.com/NA/Configure_IT_Infrastructure/Oracle/Configure_Oracle_Create_Wallet.html\r\n- http://www.dba-oracle.com/t_wallet_manager.htm\r\n- https://community.appdynamics.com/t5/Knowledge-Base/How-do-I-configure-Oracle-Wallet-authentication-for-database/ta-p/37633\r\n\r\n### How to use the oracle wallet files?\r\n\r\nAfter a lot of lectures, I found these links:\r\n\r\n- http://oracle.ninja/using-one-client-with-multiple-oracle-wallets/\r\n- https://babumani.blogspot.com/2020/07/configure-oracle-client-with-multiple.html\r\n- https://oraclesean.com/blog/managing-wallets-for-multiple-oracle-autonomous-databases\r\n\r\nIn which as other lectures, one option is to use the classic file called **tnsnames.ora** specifying the absolute path **MY_WALLET_DIRECTORY** of the wallet files:\r\n\r\n```\r\nMY_AWESOME_ID= (description= (retry_count=20)(retry_delay=3)(address=(protocol=tcps)(port=1522)\r\n(host=adb.eu-frankfurt-1.oraclecloud.com))(connect_data=(service_name=oracon_frankfurtdb.atp.oraclecloud.com))\r\n(security=(ssl_server_cert_dn=&quot;CN=adwc.eucom...&quot;)\r\n(MY_WALLET_DIRECTORY=D:\\_Downloads_\\Oracle_DB_Client_19.3\\network\\admin\\FRANKFURT)(SSL_VERSION=1.2)(SSL_SERVER_DN_MATCH=yes)))\r\n```\r\n\r\nComparing the previous with some official **tnsnames.ora** templates, we can see that just **MY_WALLET_DIRECTORY** under security **do the job** :\r\n\r\n```\r\nMYSID=\r\n  (DESCRIPTION =\r\n    (ADDRESS_LIST =\r\n      (ADDRESS = (PROTOCOL = TCP)(HOST = mydnshostname)(PORT = 1521))\r\n    )\r\n    (CONNECT_DATA =\r\n      (SERVICE_NAME = MYSID)\r\n    )\r\n  ) \r\n```\r\n- http://www.dba-oracle.com/t_sample_tnsnames.ora.htm\r\n- https://docs.oracle.com/cd/B19306_01/gateways.102/b16217/a_smpfil.htm\r\n\r\nAnother links:\r\n\r\n- https://stackoverflow.com/questions/66588523/setup-oracle-ssl-listener\r\n\r\n### How to use tnsnames.ora from java?\r\n\r\nAccording to [this](https://stackoverflow.com/questions/54888853/how-to-configure-tnsnames-ora-file-with-spring-boot-application), we can use tnsnames.ora directly on **THIN** connection passing the folder which contains the wallet files to the **TNS_ADMIN** parameter:\r\n\r\n```\r\njdbc:oracle:thin:@wallet_dbname?TNS_ADMIN=/foo/bar/\r\n```\r\nor more elegantly\r\n\r\n```\r\njdbc:oracle:thin:@wallet_dbname?TNS_ADMIN=$ORACLE_HOME/network/admin\r\n```\r\n\r\nThis configuration requires extra libraries [18.3 JDBC drivers](https://www.oracle.com/database/technologies/appdev/jdbc-ucp-183-downloads.html). \r\n\r\n### Advice\r\n\r\nAs you can see, a lot and crazy steps are required to implement this kind of authentication. Also is not devops compatible because manual or human tasks are required. You could use docker to automate that. Anyway is to complex and tedious this implementation. \r\n\r\nIf the attacker was able to obtain your user &amp; password using the following ways, **Why couldn&#39;t he access the oracle wallet files?**:\r\n\r\n- illegal direct access to the production infrastructure allows him to read any file on the server: application.yml, wallet files, etc\r\n- illegal access to the source code in which you have the credentials (very bad idea)\r\n- access to the server trough a bug in the java application.\r\n\r\n**I advice to use the classic way: THIN with user &amp; password** but with these security dispositions:\r\n\r\n- use [environment variables](https://stackoverflow.com/a/35535138/3957754) to hide credentials in source code\r\n- use some [variables manager](https://stackoverflow.com/a/70106410/3957754)\r\n- just database administrator should know or access to the database credentials of the production environment.\r\n- production database should no be exposed to the world. It must be within a private network and specific clients (spring boot apps) should be able to access it.\r\n- create specific user for specific apps. This user be able to see a minimal set of objects (schemes, tables, views, etc)\r\n- constantly scan your source code and infrastructure to find security issues.\r\n","title":"is there anyway to connect spring boot with tcps to database?","body":"<h3>How to connect to Oracle from Java?</h3>\n<p>Commonly, in the java world, the most used driver is the <strong>THIN</strong> which is a <strong>pure java</strong> driver implementation provided by oracle which uses <strong>sockets</strong> to the connection. There are other options:</p>\n<ol>\n<li>JDBC-ODBC bridge (no longer distributed with new Java)</li>\n<li>Native-API driver (OCI driver fits here),</li>\n<li>Network-Protocol driver</li>\n<li>Database-Protocol driver (Thin driver)</li>\n</ol>\n<p>Source: <a href=\"https://stackoverflow.com/a/21711330/3957754\">https://stackoverflow.com/a/21711330/3957754</a></p>\n<blockquote>\n<p>There are not other options to connect to oracle from java.</p>\n</blockquote>\n<h3>What is oracle wallet?</h3>\n<p>In short, is just an option provided by oracle to <strong>hide</strong> the user and password when some client (java, c#, oracle sql developer, agents, etc) wants to establish a connection to the database instance.</p>\n<p>Here an example of traditional connection from spring boot in which user and password are required:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:oracle:thin:@host:port:sid\n    username: user\n    password: pwd\n</code></pre>\n<p>For more details check these links:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/cd/E92519_02/pt856pbr3/eng/pt/tsvt/concept_UnderstandingOracleWallet.html?pli=ul_d96e224_tsvt\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E92519_02/pt856pbr3/eng/pt/tsvt/concept_UnderstandingOracleWallet.html?pli=ul_d96e224_tsvt</a></li>\n<li><a href=\"https://www.appservgrid.com/documentation111/docs/rdbms12cr1/DBIMI/to_dbimi10236_d209.htm#DBIMI10236\" rel=\"nofollow noreferrer\">https://www.appservgrid.com/documentation111/docs/rdbms12cr1/DBIMI/to_dbimi10236_d209.htm#DBIMI10236</a></li>\n<li><a href=\"https://www.microfocus.com/documentation/dataexpress/WS24/Help/GUID-CB6FAEE3-6570-4A14-8A61-885F3F578C4B.html\" rel=\"nofollow noreferrer\">https://www.microfocus.com/documentation/dataexpress/WS24/Help/GUID-CB6FAEE3-6570-4A14-8A61-885F3F578C4B.html</a></li>\n<li><a href=\"https://o7planning.org/10495/oracle-wallet\" rel=\"nofollow noreferrer\">https://o7planning.org/10495/oracle-wallet</a></li>\n</ul>\n<h3>How to use oracle wallet?</h3>\n<p>If user &amp; password are not required, what is the magic? Of course there are no magic. As any other service, the alternative is a file. So if you review the following links, you will find a lot of steps to create some <strong>special files</strong> that the client(java, c#, oracle sql developer, agents, etc) <strong>should use instead user and password</strong>:</p>\n<p><img src=\"https://i.stack.imgur.com/wM0FJ.png\" alt=\"oracle wallet files\" /></p>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/datagrip/connect-to-oracle-cloud-by-using-wallets.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/datagrip/connect-to-oracle-cloud-by-using-wallets.html</a></li>\n<li><a href=\"https://sumanruet.wordpress.com/2015/11/22/how-to-use-oracle-wallet/\" rel=\"nofollow noreferrer\">https://sumanruet.wordpress.com/2015/11/22/how-to-use-oracle-wallet/</a></li>\n<li><a href=\"https://helpcenter.netwrix.com/NA/Configure_IT_Infrastructure/Oracle/Configure_Oracle_Create_Wallet.html\" rel=\"nofollow noreferrer\">https://helpcenter.netwrix.com/NA/Configure_IT_Infrastructure/Oracle/Configure_Oracle_Create_Wallet.html</a></li>\n<li><a href=\"http://www.dba-oracle.com/t_wallet_manager.htm\" rel=\"nofollow noreferrer\">http://www.dba-oracle.com/t_wallet_manager.htm</a></li>\n<li><a href=\"https://community.appdynamics.com/t5/Knowledge-Base/How-do-I-configure-Oracle-Wallet-authentication-for-database/ta-p/37633\" rel=\"nofollow noreferrer\">https://community.appdynamics.com/t5/Knowledge-Base/How-do-I-configure-Oracle-Wallet-authentication-for-database/ta-p/37633</a></li>\n</ul>\n<h3>How to use the oracle wallet files?</h3>\n<p>After a lot of lectures, I found these links:</p>\n<ul>\n<li><a href=\"http://oracle.ninja/using-one-client-with-multiple-oracle-wallets/\" rel=\"nofollow noreferrer\">http://oracle.ninja/using-one-client-with-multiple-oracle-wallets/</a></li>\n<li><a href=\"https://babumani.blogspot.com/2020/07/configure-oracle-client-with-multiple.html\" rel=\"nofollow noreferrer\">https://babumani.blogspot.com/2020/07/configure-oracle-client-with-multiple.html</a></li>\n<li><a href=\"https://oraclesean.com/blog/managing-wallets-for-multiple-oracle-autonomous-databases\" rel=\"nofollow noreferrer\">https://oraclesean.com/blog/managing-wallets-for-multiple-oracle-autonomous-databases</a></li>\n</ul>\n<p>In which as other lectures, one option is to use the classic file called <strong>tnsnames.ora</strong> specifying the absolute path <strong>MY_WALLET_DIRECTORY</strong> of the wallet files:</p>\n<pre><code>MY_AWESOME_ID= (description= (retry_count=20)(retry_delay=3)(address=(protocol=tcps)(port=1522)\n(host=adb.eu-frankfurt-1.oraclecloud.com))(connect_data=(service_name=oracon_frankfurtdb.atp.oraclecloud.com))\n(security=(ssl_server_cert_dn=&quot;CN=adwc.eucom...&quot;)\n(MY_WALLET_DIRECTORY=D:\\_Downloads_\\Oracle_DB_Client_19.3\\network\\admin\\FRANKFURT)(SSL_VERSION=1.2)(SSL_SERVER_DN_MATCH=yes)))\n</code></pre>\n<p>Comparing the previous with some official <strong>tnsnames.ora</strong> templates, we can see that just <strong>MY_WALLET_DIRECTORY</strong> under security <strong>do the job</strong> :</p>\n<pre><code>MYSID=\n  (DESCRIPTION =\n    (ADDRESS_LIST =\n      (ADDRESS = (PROTOCOL = TCP)(HOST = mydnshostname)(PORT = 1521))\n    )\n    (CONNECT_DATA =\n      (SERVICE_NAME = MYSID)\n    )\n  ) \n</code></pre>\n<ul>\n<li><a href=\"http://www.dba-oracle.com/t_sample_tnsnames.ora.htm\" rel=\"nofollow noreferrer\">http://www.dba-oracle.com/t_sample_tnsnames.ora.htm</a></li>\n<li><a href=\"https://docs.oracle.com/cd/B19306_01/gateways.102/b16217/a_smpfil.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/B19306_01/gateways.102/b16217/a_smpfil.htm</a></li>\n</ul>\n<p>Another links:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/66588523/setup-oracle-ssl-listener\">Setup Oracle SSL Listener</a></li>\n</ul>\n<h3>How to use tnsnames.ora from java?</h3>\n<p>According to <a href=\"https://stackoverflow.com/questions/54888853/how-to-configure-tnsnames-ora-file-with-spring-boot-application\">this</a>, we can use tnsnames.ora directly on <strong>THIN</strong> connection passing the folder which contains the wallet files to the <strong>TNS_ADMIN</strong> parameter:</p>\n<pre><code>jdbc:oracle:thin:@wallet_dbname?TNS_ADMIN=/foo/bar/\n</code></pre>\n<p>or more elegantly</p>\n<pre><code>jdbc:oracle:thin:@wallet_dbname?TNS_ADMIN=$ORACLE_HOME/network/admin\n</code></pre>\n<p>This configuration requires extra libraries <a href=\"https://www.oracle.com/database/technologies/appdev/jdbc-ucp-183-downloads.html\" rel=\"nofollow noreferrer\">18.3 JDBC drivers</a>.</p>\n<h3>Advice</h3>\n<p>As you can see, a lot and crazy steps are required to implement this kind of authentication. Also is not devops compatible because manual or human tasks are required. You could use docker to automate that. Anyway is to complex and tedious this implementation.</p>\n<p>If the attacker was able to obtain your user &amp; password using the following ways, <strong>Why couldn't he access the oracle wallet files?</strong>:</p>\n<ul>\n<li>illegal direct access to the production infrastructure allows him to read any file on the server: application.yml, wallet files, etc</li>\n<li>illegal access to the source code in which you have the credentials (very bad idea)</li>\n<li>access to the server trough a bug in the java application.</li>\n</ul>\n<p><strong>I advice to use the classic way: THIN with user &amp; password</strong> but with these security dispositions:</p>\n<ul>\n<li>use <a href=\"https://stackoverflow.com/a/35535138/3957754\">environment variables</a> to hide credentials in source code</li>\n<li>use some <a href=\"https://stackoverflow.com/a/70106410/3957754\">variables manager</a></li>\n<li>just database administrator should know or access to the database credentials of the production environment.</li>\n<li>production database should no be exposed to the world. It must be within a private network and specific clients (spring boot apps) should be able to access it.</li>\n<li>create specific user for specific apps. This user be able to see a minimal set of objects (schemes, tables, views, etc)</li>\n<li>constantly scan your source code and infrastructure to find security issues.</li>\n</ul>\n"}],"owner":{"account_id":19167713,"reputation":33,"user_id":14002105,"display_name":"solaris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70148803,"answer_count":1,"score":2,"last_activity_date":1638148473,"creation_date":1604479123,"question_id":64676604,"body_markdown":"I&#39;m using oracle database 12c and spring boot 2.3 with data JPA. My goal is to connect with the wallet throw TCPS to the database. There is no example or guides for this on the net as I searched. Can anyone explain and show some examples for this?","title":"is there anyway to connect spring boot with tcps to database?","body":"<p>I'm using oracle database 12c and spring boot 2.3 with data JPA. My goal is to connect with the wallet throw TCPS to the database. There is no example or guides for this on the net as I searched. Can anyone explain and show some examples for this?</p>\n"},{"tags":["java","methods","singleton","decorator"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1638147180,"post_id":70148729,"comment_id":124003229,"body_markdown":"so what is your question?","body":"so what is your question?"},{"owner":{"account_id":22743826,"reputation":15,"user_id":16904863,"display_name":"Nimtheria"},"score":0,"creation_date":1638212912,"post_id":70148729,"comment_id":124023490,"body_markdown":"@ScaryWombat As mentioned, the buffs are not showing up on the Pokemon they should be attached to when the program is run.","body":"@ScaryWombat As mentioned, the buffs are not showing up on the Pokemon they should be attached to when the program is run."}],"answers":[{"tags":[],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638148465,"creation_date":1638148465,"answer_id":70148837,"question_id":70148729,"body_markdown":"In the code in your question, you have three different `Pokemon` variables named `p`: one in the scope of `AttackUp`&#39;s constructor, one in the scope of `PokemonDecorator`&#39;s constructor  and one in the scope of the `addRandomBuff` method.\r\n\r\nWhen you say `p = new AttackUp(p);` or `p = new HpUp(p);`, this assigns a new value to the `p` in the `addRandomBuff` method. Note however that it doesn&#39;t change the assignment of the `Pokemon` that is passed in from the calling method, and since the decorator pattern you are using does not mutate any state on the original `Pokemon` object, this is why you are not seeing the change coming through in the end.\r\n\r\nYou are very close, however; in your `for` loop, try changing the line to:\r\n\r\n`randP = addRandomBuff(randP);`","title":"Having issues calling a decorator method (Java)","body":"<p>In the code in your question, you have three different <code>Pokemon</code> variables named <code>p</code>: one in the scope of <code>AttackUp</code>'s constructor, one in the scope of <code>PokemonDecorator</code>'s constructor  and one in the scope of the <code>addRandomBuff</code> method.</p>\n<p>When you say <code>p = new AttackUp(p);</code> or <code>p = new HpUp(p);</code>, this assigns a new value to the <code>p</code> in the <code>addRandomBuff</code> method. Note however that it doesn't change the assignment of the <code>Pokemon</code> that is passed in from the calling method, and since the decorator pattern you are using does not mutate any state on the original <code>Pokemon</code> object, this is why you are not seeing the change coming through in the end.</p>\n<p>You are very close, however; in your <code>for</code> loop, try changing the line to:</p>\n<p><code>randP = addRandomBuff(randP);</code></p>\n"}],"owner":{"account_id":22743826,"reputation":15,"user_id":16904863,"display_name":"Nimtheria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70148837,"answer_count":1,"score":1,"last_activity_date":1638148465,"creation_date":1638146845,"question_id":70148729,"body_markdown":"Working on a group project that is essentially a text-based Pokemon rip-off. My classmates and I were given a UML to work from so I can&#39;t accept any solutions that would add methods or change their parameters. But essentially the issue we&#39;re running into is this:\r\n\r\nThere is a singleton PokemonGenerator class, that has a method *generateRandomPokemon(int level)* that picks a random Pokemon from a list of 23 Pokemon and then gives them a random buff to either their Attack or HP for each level above 1. I&#39;m just going to talk about the AttackUp one since they both function the same. So the generateRandomPokemon method creates a pokemon and then has this little bit\r\n\r\n    for(int x = 1; x &lt; level; x++){\r\n      addRandomBuff(randP); \r\n    }\r\nWhere it calls the method *Pokemon addRandomBuff(Pokemon p)*. There is also a class called PokemonDecorator, and extending from it are some classes: AttackUp, AttackDown, HpUp, and HpDown. \r\nAttackUp&#39;s constructor reads as follows:\r\n\r\n    public AttackUp(Pokemon p)\r\n      {\r\n        super(p, &quot; +ATK&quot;, 0);\r\n      }\r\nas PokemonDecorator&#39;s constructor reads:\r\n\r\n    public PokemonDecorator(Pokemon p, String extraName, int extraHp)\r\n      {\r\n        super(p.getName() + extraName, p.getHp() + extraHp, p.getMaxHp() + extraHp);\r\n        pokemon = p;\r\n      }\r\n(PokemonDecorator has member Pokemon p, and extends abstract class Pokemon whose constructor is *Pokemon(name, hp, maxHp)*).\r\nAnyways, we keep running into various issues with trying to use the buff/debuff classes. None of the buffs are showing up on the Pokemon they should be attached to. Here is our current iteration of the method (although it has gone through many iterations)\r\n\r\n    Pokemon addRandomBuff(Pokemon p)\r\n      {\r\n        int buff = (int)(Math.random()* 2) + 1;\r\n        if(buff == 1)\r\n        {\r\n          p = new AttackUp(p);  \r\n        }\r\n        if(buff == 2)\r\n        {\r\n          p = new HpUp(p);\r\n        } \r\n        return p; \r\n      }\r\n\r\nWhen the code runs, the Pokemon should display &quot;+ATK&quot; or &quot;+HP&quot; by their names if the buff is attached, and they are not. Setting p = the decorators does not seem correct to me but it&#39;s the only way I could write it without getting a compiler error about not having an instance of AttackUp or PokemonDecorator inside the PokemonGenerator class.","title":"Having issues calling a decorator method (Java)","body":"<p>Working on a group project that is essentially a text-based Pokemon rip-off. My classmates and I were given a UML to work from so I can't accept any solutions that would add methods or change their parameters. But essentially the issue we're running into is this:</p>\n<p>There is a singleton PokemonGenerator class, that has a method <em>generateRandomPokemon(int level)</em> that picks a random Pokemon from a list of 23 Pokemon and then gives them a random buff to either their Attack or HP for each level above 1. I'm just going to talk about the AttackUp one since they both function the same. So the generateRandomPokemon method creates a pokemon and then has this little bit</p>\n<pre><code>for(int x = 1; x &lt; level; x++){\n  addRandomBuff(randP); \n}\n</code></pre>\n<p>Where it calls the method <em>Pokemon addRandomBuff(Pokemon p)</em>. There is also a class called PokemonDecorator, and extending from it are some classes: AttackUp, AttackDown, HpUp, and HpDown.\nAttackUp's constructor reads as follows:</p>\n<pre><code>public AttackUp(Pokemon p)\n  {\n    super(p, &quot; +ATK&quot;, 0);\n  }\n</code></pre>\n<p>as PokemonDecorator's constructor reads:</p>\n<pre><code>public PokemonDecorator(Pokemon p, String extraName, int extraHp)\n  {\n    super(p.getName() + extraName, p.getHp() + extraHp, p.getMaxHp() + extraHp);\n    pokemon = p;\n  }\n</code></pre>\n<p>(PokemonDecorator has member Pokemon p, and extends abstract class Pokemon whose constructor is <em>Pokemon(name, hp, maxHp)</em>).\nAnyways, we keep running into various issues with trying to use the buff/debuff classes. None of the buffs are showing up on the Pokemon they should be attached to. Here is our current iteration of the method (although it has gone through many iterations)</p>\n<pre><code>Pokemon addRandomBuff(Pokemon p)\n  {\n    int buff = (int)(Math.random()* 2) + 1;\n    if(buff == 1)\n    {\n      p = new AttackUp(p);  \n    }\n    if(buff == 2)\n    {\n      p = new HpUp(p);\n    } \n    return p; \n  }\n</code></pre>\n<p>When the code runs, the Pokemon should display &quot;+ATK&quot; or &quot;+HP&quot; by their names if the buff is attached, and they are not. Setting p = the decorators does not seem correct to me but it's the only way I could write it without getting a compiler error about not having an instance of AttackUp or PokemonDecorator inside the PokemonGenerator class.</p>\n"},{"tags":["java","multithreading","file"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638141626,"post_id":70148268,"comment_id":124002392,"body_markdown":"Please show what you tried and the errors you got.","body":"Please show what you tried and the errors you got."},{"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"score":0,"creation_date":1638142482,"post_id":70148268,"comment_id":124002547,"body_markdown":"@tgdavies , trust me! :-) ... I tested different approaches but after each time it didn&#39;t work, I deleted it as I believed it&#39;s not useable.","body":"@tgdavies , trust me! :-) ... I tested different approaches but after each time it didn&#39;t work, I deleted it as I believed it&#39;s not useable."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1638143257,"post_id":70148268,"comment_id":124002667,"body_markdown":"Before increasing the complexity of your code by an order of magnitude, ask yourself WHY you think you need to do this.","body":"Before increasing the complexity of your code by an order of magnitude, ask yourself WHY you think you need to do this."},{"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"score":0,"creation_date":1638144380,"post_id":70148268,"comment_id":124002842,"body_markdown":"@JimGarrison , The files finally should be read in parallel. I wanted to create a serially reading approach to know how to read JSON file as a string, and then convert serial approach to parallel ... (I do know how did I increase the complexity of the code WITHOUT any reason ... )","body":"@JimGarrison , The files finally should be read in parallel. I wanted to create a serially reading approach to know how to read JSON file as a string, and then convert serial approach to parallel ... (I do know how did I increase the complexity of the code WITHOUT any reason ... )"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1638148064,"post_id":70148268,"comment_id":124003369,"body_markdown":"Without seeing what you tried, we can&#39;t know what it is that you don&#39;t yet understand about threads in Java.","body":"Without seeing what you tried, we can&#39;t know what it is that you don&#39;t yet understand about threads in Java."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1638146274,"creation_date":1638141869,"answer_id":70148336,"question_id":70148268,"body_markdown":"I&#39;ve not tested this code directly (as I don&#39;t have a bunch of files to read), but the basic idea would be to do something like...\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            try {\r\n                int numberOfFiles = 10;\r\n                ExecutorService service = Executors.newFixedThreadPool(10);\r\n                List&lt;ReadWorker&gt; workers = new ArrayList&lt;&gt;(numberOfFiles);\r\n                for (int fileIndex = 0; fileIndex &lt; numberOfFiles; fileIndex++) {\r\n                    workers.add(new ReadWorker(fileIndex));\r\n                }\r\n                List&lt;Future&lt;String&gt;&gt; results = service.invokeAll(workers);\r\n                for (Future&lt;String&gt; result : results) {\r\n                    try {\r\n                        String value = result.get();\r\n                    } catch (ExecutionException ex) {\r\n                        Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            } catch (InterruptedException ex) {\r\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n        public class ReadWorker implements Callable&lt;String&gt; {\r\n\r\n            private int fileIndex;\r\n\r\n            public ReadWorker(int fileIndex) {\r\n                this.fileIndex = fileIndex;\r\n            }\r\n\r\n            @Override\r\n            public String call() throws Exception {\r\n                try (BufferedReader br = new BufferedReader(new FileReader(&quot;Files/file&quot; + fileIndex + &quot;.json&quot;))) {\r\n                    StringBuilder sb = new StringBuilder();\r\n                    String line = br.readLine();\r\n\r\n                    while (line != null) {\r\n                        sb.append(line);\r\n                        sb.append(System.lineSeparator());\r\n                        line = br.readLine();\r\n                    }\r\n                    return sb.toString();\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nThis will basically execute a series of `Callable`s and wait for them all to complete, at which time, you can then read the results (or errors)\r\n\r\nSee the [Executors](https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html) trail for more details\r\n\r\n# Tested and verified version...\r\n\r\nSo, I dumped a series of files into a the `Files` folder at the root of my working directory, modified the above example to list all the files in that directory and read them....\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileFilter;\r\n    import java.io.FileReader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n\r\n            File files[] = new File(&quot;Files&quot;).listFiles(new FileFilter() {\r\n                @Override\r\n                public boolean accept(File pathname) {\r\n                    return pathname.getName().toLowerCase().endsWith(&quot;.svg&quot;);\r\n                }\r\n            });\r\n\r\n            try {\r\n                int numberOfFiles = files.length;\r\n                ExecutorService service = Executors.newFixedThreadPool(20);\r\n                List&lt;ReadWorker&gt; workers = new ArrayList&lt;&gt;(numberOfFiles);\r\n                for (File file : files) {\r\n                    workers.add(new ReadWorker(file));\r\n                }\r\n                System.out.println(&quot;Execute...&quot;);\r\n                List&lt;Future&lt;String&gt;&gt; results = service.invokeAll(workers);\r\n                System.out.println(&quot;Results...&quot;);\r\n                for (Future&lt;String&gt; result : results) {\r\n                    try {\r\n                        String value = result.get();\r\n                        System.out.println(value);\r\n                    } catch (ExecutionException ex) {\r\n                        Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n                service.shutdownNow();\r\n            } catch (InterruptedException ex) {\r\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n        public class ReadWorker implements Callable&lt;String&gt; {\r\n\r\n            private File file;\r\n\r\n            public ReadWorker(File file) {\r\n                this.file = file;\r\n            }\r\n\r\n            @Override\r\n            public String call() throws Exception {\r\n                System.out.println(&quot;Reading &quot; + file);\r\n                try (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n                    StringBuilder sb = new StringBuilder();\r\n                    String line = br.readLine();\r\n\r\n                    while (line != null) {\r\n                        sb.append(line);\r\n                        sb.append(System.lineSeparator());\r\n                        line = br.readLine();\r\n                    }\r\n                    return sb.toString();\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nAnd this works just fine and I have no issue.\r\n\r\n`java.io.FileNotFoundException: Files\\file0.json` is a localised issue you are going to have to solve.  Does `file0.json` actually exist?  Does it exist in the `Files` directory?  Is the `Files` directory in the root of the working directory when the program is executed?\r\n\r\nNone of these issues can be solved by us, as we don&#39;t have access to your environment\r\n\r\n# Test #3\r\n\r\nI then renamed all the files in my `Files` directory to `file{x}.json` using...\r\n\r\n    File files[] = new File(&quot;Files&quot;).listFiles(new FileFilter() {\r\n        @Override\r\n        public boolean accept(File pathname) {\r\n            return pathname.getName().toLowerCase().endsWith(&quot;.svg&quot;);\r\n        }\r\n    });\r\n\r\n    for (int index = 0; index &lt; files.length; index++) {\r\n        File source = files[index];\r\n        File target = new File(source.getParent(), &quot;file&quot; + index + &quot;.json&quot;);\r\n        source.renameTo(target);\r\n    }\r\n\r\nAnd the modified the example slightly to include a `File#exists` report...\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            try {\r\n                int numberOfFiles = 10;\r\n                ExecutorService service = Executors.newFixedThreadPool(20);\r\n                List&lt;ReadWorker&gt; workers = new ArrayList&lt;&gt;(numberOfFiles);\r\n                for (int index = 0; index &lt; numberOfFiles; index++) {\r\n                    workers.add(new ReadWorker(index));\r\n                }\r\n                System.out.println(&quot;Execute...&quot;);\r\n                List&lt;Future&lt;String&gt;&gt; results = service.invokeAll(workers);\r\n                System.out.println(&quot;Results...&quot;);\r\n                for (Future&lt;String&gt; result : results) {\r\n                    try {\r\n                        String value = result.get();\r\n                        System.out.println(value);\r\n                    } catch (ExecutionException ex) {\r\n                        Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n                service.shutdownNow();\r\n            } catch (InterruptedException ex) {\r\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n        public class ReadWorker implements Callable&lt;String&gt; {\r\n\r\n            private int fileIndex;\r\n\r\n            public ReadWorker(int fileIndex) {\r\n                this.fileIndex = fileIndex;\r\n            }\r\n\r\n            @Override\r\n            public String call() throws Exception {\r\n                System.out.println(&quot;Reading &quot; + fileIndex);\r\n                File file = new File(&quot;Files/file&quot; + fileIndex + &quot;.json&quot;);\r\n                System.out.println(&quot;File &quot; + fileIndex + &quot; exists = &quot; + file.exists());\r\n                try (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n                    StringBuilder sb = new StringBuilder();\r\n                    String line = br.readLine();\r\n\r\n                    while (line != null) {\r\n                        sb.append(line);\r\n                        sb.append(System.lineSeparator());\r\n                        line = br.readLine();\r\n                    }\r\n                    return sb.toString();\r\n                } finally {\r\n                    System.out.println(&quot;All done here&quot;);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nWhich prints\r\n\r\n    Execute...\r\n    Reading 8\r\n    Reading 1\r\n    Reading 2\r\n    Reading 4\r\n    Reading 6\r\n    Reading 9\r\n    Reading 3\r\n    Reading 7\r\n    Reading 0\r\n    Reading 5\r\n    File 8 exists = true\r\n    File 1 exists = true\r\n    File 5 exists = true\r\n    File 4 exists = true\r\n    File 9 exists = true\r\n    File 2 exists = true\r\n    File 0 exists = true\r\n    File 3 exists = true\r\n    File 7 exists = true\r\n    File 6 exists = true\r\n    All done here\r\n    All done here\r\n    All done here\r\n    All done here\r\n    All done here\r\n    All done here\r\n    All done here\r\n    All done here\r\n    All done here\r\n    All done here\r\n    Results...\r\n    // I won&#39;t bore you with the results, as it&#39;s a lot of pointless text\r\n\r\nwhich all worked without issues\r\n","title":"Converting serially reading multiple files to reading them in parallel?","body":"<p>I've not tested this code directly (as I don't have a bunch of files to read), but the basic idea would be to do something like...</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        try {\n            int numberOfFiles = 10;\n            ExecutorService service = Executors.newFixedThreadPool(10);\n            List&lt;ReadWorker&gt; workers = new ArrayList&lt;&gt;(numberOfFiles);\n            for (int fileIndex = 0; fileIndex &lt; numberOfFiles; fileIndex++) {\n                workers.add(new ReadWorker(fileIndex));\n            }\n            List&lt;Future&lt;String&gt;&gt; results = service.invokeAll(workers);\n            for (Future&lt;String&gt; result : results) {\n                try {\n                    String value = result.get();\n                } catch (ExecutionException ex) {\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        } catch (InterruptedException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public class ReadWorker implements Callable&lt;String&gt; {\n\n        private int fileIndex;\n\n        public ReadWorker(int fileIndex) {\n            this.fileIndex = fileIndex;\n        }\n\n        @Override\n        public String call() throws Exception {\n            try (BufferedReader br = new BufferedReader(new FileReader(&quot;Files/file&quot; + fileIndex + &quot;.json&quot;))) {\n                StringBuilder sb = new StringBuilder();\n                String line = br.readLine();\n\n                while (line != null) {\n                    sb.append(line);\n                    sb.append(System.lineSeparator());\n                    line = br.readLine();\n                }\n                return sb.toString();\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>This will basically execute a series of <code>Callable</code>s and wait for them all to complete, at which time, you can then read the results (or errors)</p>\n<p>See the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">Executors</a> trail for more details</p>\n<h1>Tested and verified version...</h1>\n<p>So, I dumped a series of files into a the <code>Files</code> folder at the root of my working directory, modified the above example to list all the files in that directory and read them....</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileFilter;\nimport java.io.FileReader;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n\n        File files[] = new File(&quot;Files&quot;).listFiles(new FileFilter() {\n            @Override\n            public boolean accept(File pathname) {\n                return pathname.getName().toLowerCase().endsWith(&quot;.svg&quot;);\n            }\n        });\n\n        try {\n            int numberOfFiles = files.length;\n            ExecutorService service = Executors.newFixedThreadPool(20);\n            List&lt;ReadWorker&gt; workers = new ArrayList&lt;&gt;(numberOfFiles);\n            for (File file : files) {\n                workers.add(new ReadWorker(file));\n            }\n            System.out.println(&quot;Execute...&quot;);\n            List&lt;Future&lt;String&gt;&gt; results = service.invokeAll(workers);\n            System.out.println(&quot;Results...&quot;);\n            for (Future&lt;String&gt; result : results) {\n                try {\n                    String value = result.get();\n                    System.out.println(value);\n                } catch (ExecutionException ex) {\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n            service.shutdownNow();\n        } catch (InterruptedException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public class ReadWorker implements Callable&lt;String&gt; {\n\n        private File file;\n\n        public ReadWorker(File file) {\n            this.file = file;\n        }\n\n        @Override\n        public String call() throws Exception {\n            System.out.println(&quot;Reading &quot; + file);\n            try (BufferedReader br = new BufferedReader(new FileReader(file))) {\n                StringBuilder sb = new StringBuilder();\n                String line = br.readLine();\n\n                while (line != null) {\n                    sb.append(line);\n                    sb.append(System.lineSeparator());\n                    line = br.readLine();\n                }\n                return sb.toString();\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>And this works just fine and I have no issue.</p>\n<p><code>java.io.FileNotFoundException: Files\\file0.json</code> is a localised issue you are going to have to solve.  Does <code>file0.json</code> actually exist?  Does it exist in the <code>Files</code> directory?  Is the <code>Files</code> directory in the root of the working directory when the program is executed?</p>\n<p>None of these issues can be solved by us, as we don't have access to your environment</p>\n<h1>Test #3</h1>\n<p>I then renamed all the files in my <code>Files</code> directory to <code>file{x}.json</code> using...</p>\n<pre><code>File files[] = new File(&quot;Files&quot;).listFiles(new FileFilter() {\n    @Override\n    public boolean accept(File pathname) {\n        return pathname.getName().toLowerCase().endsWith(&quot;.svg&quot;);\n    }\n});\n\nfor (int index = 0; index &lt; files.length; index++) {\n    File source = files[index];\n    File target = new File(source.getParent(), &quot;file&quot; + index + &quot;.json&quot;);\n    source.renameTo(target);\n}\n</code></pre>\n<p>And the modified the example slightly to include a <code>File#exists</code> report...</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        try {\n            int numberOfFiles = 10;\n            ExecutorService service = Executors.newFixedThreadPool(20);\n            List&lt;ReadWorker&gt; workers = new ArrayList&lt;&gt;(numberOfFiles);\n            for (int index = 0; index &lt; numberOfFiles; index++) {\n                workers.add(new ReadWorker(index));\n            }\n            System.out.println(&quot;Execute...&quot;);\n            List&lt;Future&lt;String&gt;&gt; results = service.invokeAll(workers);\n            System.out.println(&quot;Results...&quot;);\n            for (Future&lt;String&gt; result : results) {\n                try {\n                    String value = result.get();\n                    System.out.println(value);\n                } catch (ExecutionException ex) {\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n            service.shutdownNow();\n        } catch (InterruptedException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public class ReadWorker implements Callable&lt;String&gt; {\n\n        private int fileIndex;\n\n        public ReadWorker(int fileIndex) {\n            this.fileIndex = fileIndex;\n        }\n\n        @Override\n        public String call() throws Exception {\n            System.out.println(&quot;Reading &quot; + fileIndex);\n            File file = new File(&quot;Files/file&quot; + fileIndex + &quot;.json&quot;);\n            System.out.println(&quot;File &quot; + fileIndex + &quot; exists = &quot; + file.exists());\n            try (BufferedReader br = new BufferedReader(new FileReader(file))) {\n                StringBuilder sb = new StringBuilder();\n                String line = br.readLine();\n\n                while (line != null) {\n                    sb.append(line);\n                    sb.append(System.lineSeparator());\n                    line = br.readLine();\n                }\n                return sb.toString();\n            } finally {\n                System.out.println(&quot;All done here&quot;);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>Which prints</p>\n<pre><code>Execute...\nReading 8\nReading 1\nReading 2\nReading 4\nReading 6\nReading 9\nReading 3\nReading 7\nReading 0\nReading 5\nFile 8 exists = true\nFile 1 exists = true\nFile 5 exists = true\nFile 4 exists = true\nFile 9 exists = true\nFile 2 exists = true\nFile 0 exists = true\nFile 3 exists = true\nFile 7 exists = true\nFile 6 exists = true\nAll done here\nAll done here\nAll done here\nAll done here\nAll done here\nAll done here\nAll done here\nAll done here\nAll done here\nAll done here\nResults...\n// I won't bore you with the results, as it's a lot of pointless text\n</code></pre>\n<p>which all worked without issues</p>\n"}],"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1638145075,"accepted_answer_id":70148336,"answer_count":1,"score":-3,"last_activity_date":1638147511,"creation_date":1638140997,"question_id":70148268,"body_markdown":"Following code in Java reads multiple files one after another **serially** and **it works well** till here. (The files are JSON and at this step they are stored in a String/Buffer without parsing.)\r\n\r\n    for (int fileIndex = 0; fileIndex &lt; numberOfFiles; fileIndex++) {\r\n    \r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;Files/file&quot; + fileIndex + &quot;.json&quot;));\r\n            try {\r\n                StringBuilder sb = new StringBuilder();\r\n                String line = br.readLine();\r\n    \r\n                while (line != null) {\r\n                    sb.append(line);\r\n                    sb.append(System.lineSeparator());\r\n                    line = br.readLine();\r\n                }\r\n                String contentJSON = sb.toString();\r\n            } finally {\r\n                br.close();\r\n            }\r\n        }\r\n\r\nHow to read those files **in parallel** by using `Threads` ?\r\n\r\n*I could not match Multithreading to above code and every time got errors.*\r\n","title":"Converting serially reading multiple files to reading them in parallel?","body":"<p>Following code in Java reads multiple files one after another <strong>serially</strong> and <strong>it works well</strong> till here. (The files are JSON and at this step they are stored in a String/Buffer without parsing.)</p>\n<pre><code>for (int fileIndex = 0; fileIndex &lt; numberOfFiles; fileIndex++) {\n\n        BufferedReader br = new BufferedReader(new FileReader(&quot;Files/file&quot; + fileIndex + &quot;.json&quot;));\n        try {\n            StringBuilder sb = new StringBuilder();\n            String line = br.readLine();\n\n            while (line != null) {\n                sb.append(line);\n                sb.append(System.lineSeparator());\n                line = br.readLine();\n            }\n            String contentJSON = sb.toString();\n        } finally {\n            br.close();\n        }\n    }\n</code></pre>\n<p>How to read those files <strong>in parallel</strong> by using <code>Threads</code> ?</p>\n<p><em>I could not match Multithreading to above code and every time got errors.</em></p>\n"},{"tags":["java","sql","postgresql","maven","intellij-idea"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638131848,"post_id":70147215,"comment_id":124000282,"body_markdown":"Plural or singular? `user` or `users`? You used both in your Question.","body":"Plural or singular? <code>user</code> or <code>users</code>? You used both in your Question."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638131868,"post_id":70147215,"comment_id":124000284,"body_markdown":"Did you verify which schema is in use?","body":"Did you verify which schema is in use?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638131925,"post_id":70147215,"comment_id":124000295,"body_markdown":"Did you verify the table‘s existence by querying Postgres‘ meta-data  tables?","body":"Did you verify the table‘s existence by querying Postgres‘ meta-data  tables?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638132093,"post_id":70147215,"comment_id":124000339,"body_markdown":"Are you running into a conflict with reserved keywords? Append a trailing underscore to your identifiers to avoid conflicts, as the SQL spec explicitly promises to never use trailing underscore.","body":"Are you running into a conflict with reserved keywords? Append a trailing underscore to your identifiers to avoid conflicts, as the SQL spec explicitly promises to never use trailing underscore."}],"answers":[{"tags":[],"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638131672,"creation_date":1638131672,"answer_id":70147262,"question_id":70147215,"body_markdown":"Press &quot;choose schema&quot; link :)","title":"PostgreSql unable to resolve table user","body":"<p>Press &quot;choose schema&quot; link :)</p>\n"},{"tags":[],"owner":{"account_id":6897470,"reputation":9957,"user_id":5298879,"display_name":"Zegarek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638132566,"creation_date":1638132566,"answer_id":70147350,"question_id":70147215,"body_markdown":"If you can confirm that the table exists and you connect to the right database, the error message might be misleading. This can be caused by [incorrect database/dialect settings][1] as well as [other IntelliJ db connection settings][2].\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360007103039--Solved-Unable-to-resolve-table-name\r\n  [2]: https://stackoverflow.com/a/68460687/5298879","title":"PostgreSql unable to resolve table user","body":"<p>If you can confirm that the table exists and you connect to the right database, the error message might be misleading. This can be caused by <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360007103039--Solved-Unable-to-resolve-table-name\" rel=\"nofollow noreferrer\">incorrect database/dialect settings</a> as well as <a href=\"https://stackoverflow.com/a/68460687/5298879\">other IntelliJ db connection settings</a>.</p>\n"}],"owner":{"account_id":23482091,"reputation":11,"user_id":17534092,"display_name":"Rafal Graczykowski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1336,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70147350,"answer_count":2,"score":-1,"last_activity_date":1638147093,"creation_date":1638131212,"question_id":70147215,"body_markdown":"My problem is that intellij raise an error that unable to resolve table user.\r\n\r\nTable is created in database it can be seen in database in Intellij but it looks like compiler doesn&#39;t have an access to it.\r\nDid someone have similiar problem? \r\n\r\n\r\n[enter image description here][1]\r\n\r\n```\r\npublic void getUser(String user) {\r\n        connect();\r\n        String SQL = &quot;SELECT users , password  FROM users WHERE users = ?&quot;;\r\n        try {\r\n            pstmt = connection.prepareStatement(SQL);\r\n            pstmt.setString(1, user);\r\n            pstmt.executeUpdate();\r\n            ResultSet rs = pstmt.executeQuery(SQL);\r\n            System.out.println(rs.getString(&quot;password&quot;));\r\n        } catch (SQLException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/AV54E.jpg","title":"PostgreSql unable to resolve table user","body":"<p>My problem is that intellij raise an error that unable to resolve table user.</p>\n<p>Table is created in database it can be seen in database in Intellij but it looks like compiler doesn't have an access to it.\nDid someone have similiar problem?</p>\n<p><a href=\"https://i.stack.imgur.com/AV54E.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public void getUser(String user) {\n        connect();\n        String SQL = &quot;SELECT users , password  FROM users WHERE users = ?&quot;;\n        try {\n            pstmt = connection.prepareStatement(SQL);\n            pstmt.setString(1, user);\n            pstmt.executeUpdate();\n            ResultSet rs = pstmt.executeQuery(SQL);\n            System.out.println(rs.getString(&quot;password&quot;));\n        } catch (SQLException ex) {\n            System.out.println(ex.getMessage());\n        }\n</code></pre>\n"},{"tags":["java","ssl","ocsp"],"answers":[{"tags":[],"owner":{"account_id":9771003,"reputation":33,"user_id":7242894,"display_name":"Ed Newman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638146986,"creation_date":1638142242,"answer_id":70148366,"question_id":66401570,"body_markdown":"The primary issue is that ocsp.enable=true needs to be set in the Java security properties file not on the command line. You can create an override file and use via: -\r\n\r\nDjava.security.properties=../java.security-client \r\n\r\nSadly not seeing OCSP Stapling enabled as yet in OpenJDK11 so further work required.","title":"Java Client OCSP throws &quot;Could not determine revocation status&quot;","body":"<p>The primary issue is that ocsp.enable=true needs to be set in the Java security properties file not on the command line. You can create an override file and use via: -</p>\n<p>Djava.security.properties=../java.security-client</p>\n<p>Sadly not seeing OCSP Stapling enabled as yet in OpenJDK11 so further work required.</p>\n"}],"owner":{"account_id":9771003,"reputation":33,"user_id":7242894,"display_name":"Ed Newman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638146986,"creation_date":1614447184,"question_id":66401570,"body_markdown":"I am try to enable OCSP checking on the client side of a mutual TLS connection. If I enable on server-side only then the server will correctly validate the client certificate. \r\n\r\nWhen I enable on the client side with the following parameters:\r\n\r\n    -Djavax.net.ssl.trustStore=&quot;$ROOTDIR/certs/intermediate/certs/local-truststore.jks&quot; -Djavax.net.ssl.trustStorePassword=&lt;some-password&gt; -Djava.security.debug=&quot;certpath ocsp&quot; -Djavax.net.debug=&quot;all&quot; -Dcom.sun.net.ssl.checkRevocation=true -Docsp.enable=true\r\n\r\nthen client throws the error:\r\n\r\n    java.security.cert.CertPathValidatorException: Could not determine revocation status\r\n\r\nLooking at the ocsp certpath debug trace and through a variety of different scenarios, it appears that somehow the OCSP validator is treating the CA certificates as &quot;bad&quot; (see the certpath: RejectKeySelector.match: bad key line below).\r\n\r\n    certpath: ForwardBuilder.getMatchingCerts()...\r\n    certpath: ForwardBuilder.getMatchingEECerts()...\r\n    certpath: X509CertSelector.match(SN: 1000\r\n      Issuer: CN=root-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\r\n      Subject: CN=intermediate-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\r\n    certpath: X509CertSelector.match: subject DNs don&#39;t match\r\n    certpath: X509CertSelector.match(SN: 1003\r\n      Issuer: CN=intermediate-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\r\n      Subject: CN=ledger.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\r\n    certpath: X509CertSelector.match: subject DNs don&#39;t match\r\n    certpath: ForwardBuilder.getMatchingCACerts()...\r\n    certpath: ForwardBuilder.getMatchingCACerts(): the target is a CA\r\n    certpath: X509CertSelector.match(SN: f9e9243278f85e6a21408510cbedf46d8f0333\r\n      Issuer: CN=root-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\r\n      Subject: CN=root-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\r\n    certpath: X509CertSelector.match returning: true\r\n    **certpath: RejectKeySelector.match: bad key**\r\n    certpath: X509CertSelector.match(SN: 1000\r\n      Issuer: CN=root-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\r\n      Subject: CN=intermediate-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\r\n    certpath: X509CertSelector.match: subject DNs don&#39;t match\r\n    certpath: X509CertSelector.match(SN: 1003\r\n      Issuer: CN=intermediate-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\r\n      Subject: CN=ledger.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\r\n    certpath: X509CertSelector.match: subject DNs don&#39;t match\r\n    certpath: ForwardBuilder.getMatchingCACerts: found 0 CA certs\r\n    certpath: SunCertPathBuilder.depthFirstSearchForward(): certs.size=0\r\n    12:16:23.215 [main] ERROR app.ClientApp$ - io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\r\nThis appears to be thrown in the following JDK library code:\r\n\r\n    http://cr.openjdk.java.net/~vinnie/8019627/webrev.00/raw_files/new/src/share/classes/sun/security/provider/certpath/RevocationChecker.java\r\n\r\nThe exact certificate changes based on which CA is passed in a truststore, i.e. in the two tier I have in my test configuration, it would fail on root-ca when only that passed, or intermediate-ca when both passed. \r\n\r\nHigher in the trace I see this from SunCertPathBuilder.engineBuild\r\n\r\n      Target Cert Constraints: RejectKeySelector: [\r\n    X509CertSelector: [\r\n      Subject: CN=root-ca.acme.com,O=Acme Corp\\, LLC,ST=New York,C=US\r\n      matchAllSubjectAltNames flag: true\r\n      Key Usage: KeyUsage [\r\n      Crl_Sign\r\n    ]\r\n\r\nBut not clear why (in this case root-ca) is added to RejectKeySelector.\r\n\r\nWhat is the expected combination of certs passed from server (chain or individual) and truststore (chain or root only) that is expected to work?\r\n\r\n\r\n\r\n\r\n","title":"Java Client OCSP throws &quot;Could not determine revocation status&quot;","body":"<p>I am try to enable OCSP checking on the client side of a mutual TLS connection. If I enable on server-side only then the server will correctly validate the client certificate.</p>\n<p>When I enable on the client side with the following parameters:</p>\n<pre><code>-Djavax.net.ssl.trustStore=&quot;$ROOTDIR/certs/intermediate/certs/local-truststore.jks&quot; -Djavax.net.ssl.trustStorePassword=&lt;some-password&gt; -Djava.security.debug=&quot;certpath ocsp&quot; -Djavax.net.debug=&quot;all&quot; -Dcom.sun.net.ssl.checkRevocation=true -Docsp.enable=true\n</code></pre>\n<p>then client throws the error:</p>\n<pre><code>java.security.cert.CertPathValidatorException: Could not determine revocation status\n</code></pre>\n<p>Looking at the ocsp certpath debug trace and through a variety of different scenarios, it appears that somehow the OCSP validator is treating the CA certificates as &quot;bad&quot; (see the certpath: RejectKeySelector.match: bad key line below).</p>\n<pre><code>certpath: ForwardBuilder.getMatchingCerts()...\ncertpath: ForwardBuilder.getMatchingEECerts()...\ncertpath: X509CertSelector.match(SN: 1000\n  Issuer: CN=root-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\n  Subject: CN=intermediate-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\ncertpath: X509CertSelector.match: subject DNs don't match\ncertpath: X509CertSelector.match(SN: 1003\n  Issuer: CN=intermediate-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\n  Subject: CN=ledger.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\ncertpath: X509CertSelector.match: subject DNs don't match\ncertpath: ForwardBuilder.getMatchingCACerts()...\ncertpath: ForwardBuilder.getMatchingCACerts(): the target is a CA\ncertpath: X509CertSelector.match(SN: f9e9243278f85e6a21408510cbedf46d8f0333\n  Issuer: CN=root-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\n  Subject: CN=root-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\ncertpath: X509CertSelector.match returning: true\n**certpath: RejectKeySelector.match: bad key**\ncertpath: X509CertSelector.match(SN: 1000\n  Issuer: CN=root-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\n  Subject: CN=intermediate-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\ncertpath: X509CertSelector.match: subject DNs don't match\ncertpath: X509CertSelector.match(SN: 1003\n  Issuer: CN=intermediate-ca.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US\n  Subject: CN=ledger.acme.com, O=&quot;Acme Corp, LLC&quot;, ST=New York, C=US)\ncertpath: X509CertSelector.match: subject DNs don't match\ncertpath: ForwardBuilder.getMatchingCACerts: found 0 CA certs\ncertpath: SunCertPathBuilder.depthFirstSearchForward(): certs.size=0\n12:16:23.215 [main] ERROR app.ClientApp$ - io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n</code></pre>\n<p>This appears to be thrown in the following JDK library code:</p>\n<pre><code>http://cr.openjdk.java.net/~vinnie/8019627/webrev.00/raw_files/new/src/share/classes/sun/security/provider/certpath/RevocationChecker.java\n</code></pre>\n<p>The exact certificate changes based on which CA is passed in a truststore, i.e. in the two tier I have in my test configuration, it would fail on root-ca when only that passed, or intermediate-ca when both passed.</p>\n<p>Higher in the trace I see this from SunCertPathBuilder.engineBuild</p>\n<pre><code>  Target Cert Constraints: RejectKeySelector: [\nX509CertSelector: [\n  Subject: CN=root-ca.acme.com,O=Acme Corp\\, LLC,ST=New York,C=US\n  matchAllSubjectAltNames flag: true\n  Key Usage: KeyUsage [\n  Crl_Sign\n]\n</code></pre>\n<p>But not clear why (in this case root-ca) is added to RejectKeySelector.</p>\n<p>What is the expected combination of certs passed from server (chain or individual) and truststore (chain or root only) that is expected to work?</p>\n"},{"tags":["java","json","csv","converters"],"comments":[{"owner":{"display_name":"user1907906"},"score":1,"creation_date":1405505541,"post_id":24778058,"comment_id":38450992,"body_markdown":"Is there anything you have tried?","body":"Is there anything you have tried?"},{"owner":{"account_id":3518086,"reputation":581,"user_id":2941041,"accept_rate":87,"display_name":"Ismail Sen"},"score":0,"creation_date":1405505807,"post_id":24778058,"comment_id":38451160,"body_markdown":"CDL but I&#39;m not free to set parameters so I can have the output I want.","body":"CDL but I&#39;m not free to set parameters so I can have the output I want."},{"owner":{"account_id":3518086,"reputation":581,"user_id":2941041,"accept_rate":87,"display_name":"Ismail Sen"},"score":0,"creation_date":1405513341,"post_id":24778058,"comment_id":38455853,"body_markdown":"@Tichodroma , Have you ever faced my issue ?","body":"@Tichodroma , Have you ever faced my issue ?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1405514340,"post_id":24778058,"comment_id":38456549,"body_markdown":"Have you considered actually writing some code?  (Yes, I know that&#39;s a rash thing to suggest.)","body":"Have you considered actually writing some code?  (Yes, I know that&#39;s a rash thing to suggest.)"},{"owner":{"account_id":3518086,"reputation":581,"user_id":2941041,"accept_rate":87,"display_name":"Ismail Sen"},"score":0,"creation_date":1405514538,"post_id":24778058,"comment_id":38456678,"body_markdown":"@HotLicks Yes. I&#39;ve tried with CDL,OpenCSV,Jackson and GSON.","body":"@HotLicks Yes. I&#39;ve tried with CDL,OpenCSV,Jackson and GSON."},{"owner":{"display_name":"user784540"},"score":0,"creation_date":1405514900,"post_id":24778058,"comment_id":38456927,"body_markdown":"@IsmailSen please update your question and state that JSON structure is not predefined, and you can get JSON with arbitrary structure and you need to process it.","body":"@IsmailSen please update your question and state that JSON structure is not predefined, and you can get JSON with arbitrary structure and you need to process it."},{"owner":{"account_id":3518086,"reputation":581,"user_id":2941041,"accept_rate":87,"display_name":"Ismail Sen"},"score":0,"creation_date":1405515429,"post_id":24778058,"comment_id":38457301,"body_markdown":"@RafaelOsipov,I&#39;ve added what you asked.","body":"@RafaelOsipov,I&#39;ve added what you asked."},{"owner":{"display_name":"user784540"},"score":1,"creation_date":1405515827,"post_id":24778058,"comment_id":38457607,"body_markdown":"@IsmailSen I think that forms of that JSON are limited. Analyze forms of JSON structure you can get from the database, and declare java class or java classes which can reflect this structure. And after that use GSON or another deserializer to process this json structure.","body":"@IsmailSen I think that forms of that JSON are limited. Analyze forms of JSON structure you can get from the database, and declare java class or java classes which can reflect this structure. And after that use GSON or another deserializer to process this json structure."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1405528370,"post_id":24778058,"comment_id":38466652,"body_markdown":"What about using Java?","body":"What about using Java?"},{"owner":{"account_id":2500239,"reputation":3969,"user_id":2175572,"accept_rate":93,"display_name":"t3dodson"},"score":0,"creation_date":1405580087,"post_id":24778058,"comment_id":38486855,"body_markdown":"@IsmailSen Rafael is right there are rules for the structure of json formated text. My $0.02 is that going from a structured document like json or xml to a flat csv file loses information in general. I don&#39;t think there is a consistent way to represent arbitrary json in a csv. You will have difficulty translating between the two.","body":"@IsmailSen Rafael is right there are rules for the structure of json formated text. My $0.02 is that going from a structured document like json or xml to a flat csv file loses information in general. I don&#39;t think there is a consistent way to represent arbitrary json in a csv. You will have difficulty translating between the two."},{"owner":{"account_id":3518086,"reputation":581,"user_id":2941041,"accept_rate":87,"display_name":"Ismail Sen"},"score":0,"creation_date":1405580592,"post_id":24778058,"comment_id":38487141,"body_markdown":"@RafaelOsipov I&#39;ve deserialize the JSON and I&#39;ve added the output in the Edits","body":"@RafaelOsipov I&#39;ve deserialize the JSON and I&#39;ve added the output in the Edits"},{"owner":{"display_name":"user784540"},"score":0,"creation_date":1405582106,"post_id":24778058,"comment_id":38488031,"body_markdown":"@IsmailSen I&#39;ve posted my answer, check it, please.","body":"@IsmailSen I&#39;ve posted my answer, check it, please."}],"answers":[{"tags":[],"owner":{"display_name":"user784540"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1405582010,"creation_date":1405582010,"answer_id":24797339,"question_id":24778058,"body_markdown":"Comments are not convenient place to post longs answers, so I post my answer here.\r\n\r\n1. Analyze your JSON and all possible JSON structures you can get from your database. It should be a limited number of JSON forms.\r\n\r\n2. As you have analyzed your JSON structure build a class/class hierarchy, that fully reflects this structure.\r\n\r\n3. Use [JSON serializer/deserializer library](https://sites.google.com/site/gson/gson-user-guide) at your choice, to deserialize JSON to a java object.\r\n\r\n4. Employ StringBuffer/StringBuilder classes, and iterate over your object information, and build comma delimited (or tab-delimited) strings.\r\n\r\n5. Write strings you have built on the previous stage to the file.\r\n\r\nThat&#39;s it.","title":"Convert nested arbitrary JSON to CSV in Java","body":"<p>Comments are not convenient place to post longs answers, so I post my answer here.</p>\n\n<ol>\n<li><p>Analyze your JSON and all possible JSON structures you can get from your database. It should be a limited number of JSON forms.</p></li>\n<li><p>As you have analyzed your JSON structure build a class/class hierarchy, that fully reflects this structure.</p></li>\n<li><p>Use <a href=\"https://sites.google.com/site/gson/gson-user-guide\" rel=\"nofollow\">JSON serializer/deserializer library</a> at your choice, to deserialize JSON to a java object.</p></li>\n<li><p>Employ StringBuffer/StringBuilder classes, and iterate over your object information, and build comma delimited (or tab-delimited) strings.</p></li>\n<li><p>Write strings you have built on the previous stage to the file.</p></li>\n</ol>\n\n<p>That's it.</p>\n"},{"tags":[],"owner":{"account_id":1786278,"reputation":552,"user_id":1627688,"display_name":"ahaaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410854312,"creation_date":1410854312,"answer_id":25863493,"question_id":24778058,"body_markdown":"https://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java has what you are looking for.\r\n\r\nBasically, you need to use org.json.CDL to convert from JSON to CSV format","title":"Convert nested arbitrary JSON to CSV in Java","body":"<p><a href=\"https://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java\">Converting JSON to XLS/CSV in Java</a> has what you are looking for.</p>\n\n<p>Basically, you need to use org.json.CDL to convert from JSON to CSV format</p>\n"},{"tags":[],"owner":{"account_id":9484651,"reputation":503,"user_id":7051361,"display_name":"skap"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481408336,"creation_date":1481406889,"answer_id":41080726,"question_id":24778058,"body_markdown":"Like you said :\r\n\r\n&gt; The **JSON structure is arbitrary** and **could be anything**, nested or not.\r\n\r\nThe JSON to CSV conversion can&#39;t be generalized as it varies from user to user and also depends specific requirements.\r\n\r\nBut still there&#39;s a **library** [**json2flat**][1] which tries to achieve it. But it may differ from user&#39;s requirement. Still it&#39;s worth a try.\r\n\r\nFor example for the JSON given above: \r\n\r\n    {\r\n        &quot;_id&quot;: 1,\r\n        &quot;name&quot;: &quot;Aurelia Menendez&quot;,\r\n        &quot;scores&quot;: [\r\n                  {\r\n                     &quot;type&quot;: &quot;exam&quot;,\r\n                     &quot;score&quot;: 60.06045071030959\r\n                   },\r\n                   {\r\n                     &quot;type&quot;: &quot;quiz&quot;,\r\n                     &quot;score&quot;: 52.79790691903873\r\n                   },\r\n                   {\r\n                    &quot;type&quot;: &quot;homework&quot;,\r\n                    &quot;score&quot;: 71.76133439165544\r\n                   }\r\n                 ]\r\n    }\r\n\r\ncan be interpreted as follows :\r\n\r\n    /_id,/name,/scores/type,/scores/score\r\n    1,&quot;Aurelia Menendez&quot;,&quot;exam&quot;,60.06045071030959\r\n    1,&quot;Aurelia Menendez&quot;,&quot;quiz&quot;,52.79790691903873\r\n    1,&quot;Aurelia Menendez&quot;,&quot;homework&quot;,71.76133439165544\r\n\r\n  [1]: https://github.com/opendevl/Json2Flat","title":"Convert nested arbitrary JSON to CSV in Java","body":"<p>Like you said :</p>\n\n<blockquote>\n  <p>The <strong>JSON structure is arbitrary</strong> and <strong>could be anything</strong>, nested or not.</p>\n</blockquote>\n\n<p>The JSON to CSV conversion can't be generalized as it varies from user to user and also depends specific requirements.</p>\n\n<p>But still there's a <strong>library</strong> <a href=\"https://github.com/opendevl/Json2Flat\" rel=\"nofollow noreferrer\"><strong>json2flat</strong></a> which tries to achieve it. But it may differ from user's requirement. Still it's worth a try.</p>\n\n<p>For example for the JSON given above: </p>\n\n<pre><code>{\n    \"_id\": 1,\n    \"name\": \"Aurelia Menendez\",\n    \"scores\": [\n              {\n                 \"type\": \"exam\",\n                 \"score\": 60.06045071030959\n               },\n               {\n                 \"type\": \"quiz\",\n                 \"score\": 52.79790691903873\n               },\n               {\n                \"type\": \"homework\",\n                \"score\": 71.76133439165544\n               }\n             ]\n}\n</code></pre>\n\n<p>can be interpreted as follows :</p>\n\n<pre><code>/_id,/name,/scores/type,/scores/score\n1,\"Aurelia Menendez\",\"exam\",60.06045071030959\n1,\"Aurelia Menendez\",\"quiz\",52.79790691903873\n1,\"Aurelia Menendez\",\"homework\",71.76133439165544\n</code></pre>\n"}],"owner":{"account_id":3518086,"reputation":581,"user_id":2941041,"accept_rate":87,"display_name":"Ismail Sen"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26180,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":3,"score":7,"last_activity_date":1638146463,"creation_date":1405505330,"question_id":24778058,"body_markdown":"This question has been asked many times but I couldn&#39;t find the answer that fixes my issue.\r\n\r\nI&#39;m trying to convert nested JSON format to CSV format like this  :\r\n\r\nThe **JSON structure is arbitrary** and **could be anything**, nested or not.\r\n\r\nI&#39;m not suppose to know it, it&#39;s a database answer and I need to export this JSON answer into CSV file.\r\n\r\nHere is an **example** \r\n\r\nInput : \r\n\r\n    \r\n       {\r\n        &quot;_id&quot;: 1,\r\n        &quot;name&quot;: &quot;Aurelia Menendez&quot;,\r\n        &quot;scores&quot;: [\r\n                  {\r\n                     &quot;type&quot;: &quot;exam&quot;,\r\n                     &quot;score&quot;: 60.06045071030959\r\n                   },\r\n                   {\r\n                     &quot;type&quot;: &quot;quiz&quot;,\r\n                     &quot;score&quot;: 52.79790691903873\r\n                   },\r\n                   {\r\n                    &quot;type&quot;: &quot;homework&quot;,\r\n                    &quot;score&quot;: 71.76133439165544\r\n                   }\r\n                 ]\r\n              }\r\n\r\nThe output I&#39;m looking for :\r\n\r\n    _id,name,scores.type,scores.score,scores.type,scores.score,scores.type,scores.score  \r\n     1,Aurelia Menendez,exam,60.06...,quiz,52.79...,homework,71.76..\r\n\r\nThis is an example, it could be any other JSON document. \r\n\r\nThe idea here is to use dot notation in the CSV column name. \r\n\r\nI&#39;ve already used CDL but the output is not what I want :\r\n\r\n    _id\tscores\tname\r\n     1\t&quot;[{score:60.06045071030959,type:exam},{score:52.79790691903873,type:quiz},{score:71.76133439165544,type:homework}]&quot;\tAurelia Menendez\r\n\r\nSo how can I convert nested JSON to CSV with dot notation and in a generic way ?\r\n\r\n\r\n**Edits**\r\n\r\nDeserialisation of the JSON with **Jackson** :\r\n\r\n       ObjectMapper mapper=new ObjectMapper();\r\n\t\t\r\n\t\tJsonNode jsonNode=mapper.readValue(new File(&quot;C:\\\\...\\\\...\\...\\\\test.json&quot;), JsonNode.class);\r\n\r\n\t\t\r\nIsmail","title":"Convert nested arbitrary JSON to CSV in Java","body":"<p>This question has been asked many times but I couldn't find the answer that fixes my issue.</p>\n\n<p>I'm trying to convert nested JSON format to CSV format like this  :</p>\n\n<p>The <strong>JSON structure is arbitrary</strong> and <strong>could be anything</strong>, nested or not.</p>\n\n<p>I'm not suppose to know it, it's a database answer and I need to export this JSON answer into CSV file.</p>\n\n<p>Here is an <strong>example</strong> </p>\n\n<p>Input : </p>\n\n<pre><code>   {\n    \"_id\": 1,\n    \"name\": \"Aurelia Menendez\",\n    \"scores\": [\n              {\n                 \"type\": \"exam\",\n                 \"score\": 60.06045071030959\n               },\n               {\n                 \"type\": \"quiz\",\n                 \"score\": 52.79790691903873\n               },\n               {\n                \"type\": \"homework\",\n                \"score\": 71.76133439165544\n               }\n             ]\n          }\n</code></pre>\n\n<p>The output I'm looking for :</p>\n\n<pre><code>_id,name,scores.type,scores.score,scores.type,scores.score,scores.type,scores.score  \n 1,Aurelia Menendez,exam,60.06...,quiz,52.79...,homework,71.76..\n</code></pre>\n\n<p>This is an example, it could be any other JSON document. </p>\n\n<p>The idea here is to use dot notation in the CSV column name. </p>\n\n<p>I've already used CDL but the output is not what I want :</p>\n\n<pre><code>_id scores  name\n 1  \"[{score:60.06045071030959,type:exam},{score:52.79790691903873,type:quiz},{score:71.76133439165544,type:homework}]\" Aurelia Menendez\n</code></pre>\n\n<p>So how can I convert nested JSON to CSV with dot notation and in a generic way ?</p>\n\n<p><strong>Edits</strong></p>\n\n<p>Deserialisation of the JSON with <strong>Jackson</strong> :</p>\n\n<pre><code>   ObjectMapper mapper=new ObjectMapper();\n\n    JsonNode jsonNode=mapper.readValue(new File(\"C:\\\\...\\\\...\\...\\\\test.json\"), JsonNode.class);\n</code></pre>\n\n<p>Ismail</p>\n"},{"tags":["java","yaml","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":14881307,"reputation":11,"user_id":13387932,"display_name":"0XPW87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638133004,"creation_date":1638133004,"answer_id":70147395,"question_id":70147219,"body_markdown":"Not entirely sure if I understood your question correctly, but here is my solution:\r\n\r\n```\r\nSample sample = new Sample(); // your class\r\n\t\tfor(Field field : sample.getClass().getDeclaredFields()) {\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\tObject value = field.get(sample);\r\n\t\t\tSystem.out.println(field.getName().toLowerCase() + &quot; &quot; + value.toString() + &quot; &quot; + field.getGenericType().getTypeName());\r\n\t\t}\r\n```\r\n\r\nfor example, if you have a class like this:\r\n\r\n```\r\npublic class Sample {\r\n\t\r\n\tString name = &quot;John&quot;;\r\n\tString lastName = &quot;Doe&quot;;\r\n\tint six = 6;\r\n\t\r\n}\r\n```\r\n\r\nit will generate the following output:\r\n\r\n```\r\nname John java.lang.String\r\nlastname Doe java.lang.String\r\nsix 6 int\r\n```\r\n\r\nyou can then plug this into your YAML writer\r\n\r\n\r\nHope that answers it","title":"Serialize all properties to YAML as lowercase","body":"<p>Not entirely sure if I understood your question correctly, but here is my solution:</p>\n<pre><code>Sample sample = new Sample(); // your class\n        for(Field field : sample.getClass().getDeclaredFields()) {\n            field.setAccessible(true);\n            Object value = field.get(sample);\n            System.out.println(field.getName().toLowerCase() + &quot; &quot; + value.toString() + &quot; &quot; + field.getGenericType().getTypeName());\n        }\n</code></pre>\n<p>for example, if you have a class like this:</p>\n<pre><code>public class Sample {\n    \n    String name = &quot;John&quot;;\n    String lastName = &quot;Doe&quot;;\n    int six = 6;\n    \n}\n</code></pre>\n<p>it will generate the following output:</p>\n<pre><code>name John java.lang.String\nlastname Doe java.lang.String\nsix 6 int\n</code></pre>\n<p>you can then plug this into your YAML writer</p>\n<p>Hope that answers it</p>\n"}],"owner":{"account_id":220808,"reputation":1532,"user_id":478429,"accept_rate":96,"display_name":"Veles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638144648,"creation_date":1638131241,"question_id":70147219,"body_markdown":"So I have the following object:\r\n\r\n    public class Foo {\r\n\r\n        private String firstName = &quot;John&quot;;\r\n        private String lastName = &quot;Doe&quot;;\r\n\r\n    }\r\n\r\nI want to serialize this class to YAML using SnakeYAML (not Jackson or using annotations) and make all properties lowercase like so:\r\n\r\n    firstname: John\r\n    lastname: Doe\r\n\r\nI need to do this for a lot of classes, so I am looking for a generic way. Overriding PropertyUtils does not seem to work like in this case for parsing: https://stackoverflow.com/questions/33391769/how-to-parse-field-name-with-dash-in-snakeyaml","title":"Serialize all properties to YAML as lowercase","body":"<p>So I have the following object:</p>\n<pre><code>public class Foo {\n\n    private String firstName = &quot;John&quot;;\n    private String lastName = &quot;Doe&quot;;\n\n}\n</code></pre>\n<p>I want to serialize this class to YAML using SnakeYAML (not Jackson or using annotations) and make all properties lowercase like so:</p>\n<pre><code>firstname: John\nlastname: Doe\n</code></pre>\n<p>I need to do this for a lot of classes, so I am looking for a generic way. Overriding PropertyUtils does not seem to work like in this case for parsing: <a href=\"https://stackoverflow.com/questions/33391769/how-to-parse-field-name-with-dash-in-snakeyaml\">How to parse field name with dash in snakeyaml?</a></p>\n"},{"tags":["java","android-studio","kotlin","jsoup"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1638163389,"post_id":70148508,"comment_id":124005638,"body_markdown":"The query seems in order - it *should* return: `//misite.com/play?id=MTI4MzM3`. How does `get(data).text` look like?","body":"The query seems in order - it <i>should</i> return: <code>&#47;&#47;misite.com&#47;play?id=MTI4MzM3</code>. How does <code>get(data).text</code> look like?"},{"owner":{"account_id":23483572,"reputation":1,"user_id":17535388,"display_name":"juan manuel"},"score":0,"creation_date":1638169208,"post_id":70148508,"comment_id":124006705,"body_markdown":"If I need to get that value","body":"If I need to get that value"}],"owner":{"account_id":23483572,"reputation":1,"user_id":17535388,"display_name":"juan manuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638144022,"creation_date":1638144022,"question_id":70148508,"body_markdown":"I am doing some tests in kotlin, but I need to extract the following information, I am doing it in the following way but it is without success\r\n\r\nI need extract the link from the following line\r\n\r\n    &lt;li role=&quot;presentation&quot; data-video=&quot;//misite.com/play?id=MTI4MzM3&quot; class=&quot;tab-video&quot;&gt;\r\n\r\nI do it in the following way but I did not succeed returns me in white\r\n\r\n    Jsoup.parse(get(data).text).selectFirst(&quot;li.tab-video&quot;)?.attr(&quot;data-video&quot;) ?: return false","title":"How can I extract the following information through jsoup.parse","body":"<p>I am doing some tests in kotlin, but I need to extract the following information, I am doing it in the following way but it is without success</p>\n<p>I need extract the link from the following line</p>\n<pre><code>&lt;li role=&quot;presentation&quot; data-video=&quot;//misite.com/play?id=MTI4MzM3&quot; class=&quot;tab-video&quot;&gt;\n</code></pre>\n<p>I do it in the following way but I did not succeed returns me in white</p>\n<pre><code>Jsoup.parse(get(data).text).selectFirst(&quot;li.tab-video&quot;)?.attr(&quot;data-video&quot;) ?: return false\n</code></pre>\n"},{"tags":["java","docker","garbage-collection"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1638132991,"post_id":70147299,"comment_id":124000533,"body_markdown":"For your use case, I *suggest* you try [GraalVM](https://www.graalvm.org/).","body":"For your use case, I <i>suggest</i> you try <a href=\"https://www.graalvm.org/\" rel=\"nofollow noreferrer\">GraalVM</a>."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1638138478,"post_id":70147299,"comment_id":124001741,"body_markdown":"I would love to, but that requires plenty of changes to make it work and I won&#39;t be able to do that short term.","body":"I would love to, but that requires plenty of changes to make it work and I won&#39;t be able to do that short term."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638179305,"post_id":70147299,"comment_id":124009924,"body_markdown":"“*But during startup it takes almost all the RAM which causes issues during server/multiple simultaneous application restarts.*”—this statement matches what you said previously, i.e. “*I cannot reduce the RAM limits…, as it needs it during high load, startup, and some special events.*”, but it’s not clear, how this issue is supposed to be solved. If all applications *really need* this amount of RAM (the reason why you can’t reduce the max limit), and they need it all at the same time, because of “*simultaneous application restarts*” only actual RAM can help. Or prevent *simultaneous* restarts.","body":"“<i>But during startup it takes almost all the RAM which causes issues during server/multiple simultaneous application restarts.</i>”—this statement matches what you said previously, i.e. “<i>I cannot reduce the RAM limits…, as it needs it during high load, startup, and some special events.</i>”, but it’s not clear, how this issue is supposed to be solved. If all applications <i>really need</i> this amount of RAM (the reason why you can’t reduce the max limit), and they need it all at the same time, because of “<i>simultaneous application restarts</i>” only actual RAM can help. Or prevent <i>simultaneous</i> restarts."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1638183176,"post_id":70147299,"comment_id":124011242,"body_markdown":"&quot;how this issue is supposed to be solved&quot; -&gt; See TLDR for the actual question. &quot;They need it all at the same time&quot; -&gt; The cluster automatically manages this, but the longer it occupies the RAM, the longer it takes to start all the applications. If you have a suggestion on how to improve the wording feel free to leave a comment or edit the question.","body":"&quot;how this issue is supposed to be solved&quot; -&gt; See TLDR for the actual question. &quot;They need it all at the same time&quot; -&gt; The cluster automatically manages this, but the longer it occupies the RAM, the longer it takes to start all the applications. If you have a suggestion on how to improve the wording feel free to leave a comment or edit the question."}],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638143679,"creation_date":1638143298,"answer_id":70148455,"question_id":70147299,"body_markdown":"I think [this is similar question to what you are asking](https://stackoverflow.com/questions/54490373/java-12-gc-jep-346is-behavior-is-particularly-disadvantageous-in-container-env).\r\n\r\nAs it is pointed in the comments to the question this feature is opt-in and can be enabled using parameters described in the [JEP 346 Documentation](https://openjdk.java.net/jeps/346#Description).\r\n\r\nBoth `-XX:G1PeriodicGCInterval` and `-XX:G1PeriodicGCSystemLoadThreshold` have to be set to a value greater than default 0 for the functionality to work.","title":"Java 17 app shows very high RAM usage in docker","body":"<p>I think <a href=\"https://stackoverflow.com/questions/54490373/java-12-gc-jep-346is-behavior-is-particularly-disadvantageous-in-container-env\">this is similar question to what you are asking</a>.</p>\n<p>As it is pointed in the comments to the question this feature is opt-in and can be enabled using parameters described in the <a href=\"https://openjdk.java.net/jeps/346#Description\" rel=\"nofollow noreferrer\">JEP 346 Documentation</a>.</p>\n<p>Both <code>-XX:G1PeriodicGCInterval</code> and <code>-XX:G1PeriodicGCSystemLoadThreshold</code> have to be set to a value greater than default 0 for the functionality to work.</p>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3374,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70148455,"answer_count":1,"score":2,"last_activity_date":1638143679,"creation_date":1638132083,"question_id":70147299,"body_markdown":"I have a application that during idle times usually only needs 1GB of RAM however when I launch it inside in docker, then it shows much higher RAM usage (5GB) from the outside.\r\nThe JVM metric show that I still only use ~1GB of RAM, but the JVM does not really release any RAM it ever claimed.\r\nI cannot reduce the RAM limits (~8GB using MaxRamPercentage), as it needs it during high load, startup, and some special events. I could periodically call `System.gc()` as that frees and releases a lot of memory, but the RAM shoots back up to where it was after a few requests. This claiming of unused RAM wastes a lot of resources and causes OOMs on the server as none of the applications release their memory.\r\n\r\nAccording to this [JEP-346][1] the &quot;bug&quot; has been fixed, that caused the garbage collector to not release the memory, but I don&#39;t see any improvements.\r\n\r\nFor testing purposes, I also tried using the `-XX:+UseShenandoahGC` and it releases the memory as expected. But during startup it takes almost all the RAM which causes issues during server/multiple simultaneous application restarts.\r\n\r\n**TLDR:** Actually used RAM ~1 GB, claimed RAM ~5 GB, RAM Limit ~8GB.\r\nThe default GC does not release enough RAM, without explicitly calling System.gc().\r\nIs the G1 GC the default GC in Java 17? (AFAICT it is)\r\nAre there any parameters required to make the changes from [JEP-346][1] work as expected?\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/346","title":"Java 17 app shows very high RAM usage in docker","body":"<p>I have a application that during idle times usually only needs 1GB of RAM however when I launch it inside in docker, then it shows much higher RAM usage (5GB) from the outside.\nThe JVM metric show that I still only use ~1GB of RAM, but the JVM does not really release any RAM it ever claimed.\nI cannot reduce the RAM limits (~8GB using MaxRamPercentage), as it needs it during high load, startup, and some special events. I could periodically call <code>System.gc()</code> as that frees and releases a lot of memory, but the RAM shoots back up to where it was after a few requests. This claiming of unused RAM wastes a lot of resources and causes OOMs on the server as none of the applications release their memory.</p>\n<p>According to this <a href=\"https://openjdk.java.net/jeps/346\" rel=\"nofollow noreferrer\">JEP-346</a> the &quot;bug&quot; has been fixed, that caused the garbage collector to not release the memory, but I don't see any improvements.</p>\n<p>For testing purposes, I also tried using the <code>-XX:+UseShenandoahGC</code> and it releases the memory as expected. But during startup it takes almost all the RAM which causes issues during server/multiple simultaneous application restarts.</p>\n<p><strong>TLDR:</strong> Actually used RAM ~1 GB, claimed RAM ~5 GB, RAM Limit ~8GB.\nThe default GC does not release enough RAM, without explicitly calling System.gc().\nIs the G1 GC the default GC in Java 17? (AFAICT it is)\nAre there any parameters required to make the changes from <a href=\"https://openjdk.java.net/jeps/346\" rel=\"nofollow noreferrer\">JEP-346</a> work as expected?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1638173599,"post_id":70148379,"comment_id":124007871,"body_markdown":"You jump over the first and there is no second one.","body":"You jump over the first and there is no second one."},{"owner":{"account_id":21765986,"reputation":57,"user_id":16069854,"display_name":"RaulRohjans"},"score":0,"creation_date":1638175121,"post_id":70148379,"comment_id":124008411,"body_markdown":"So the c.moveToNext() gets executed before it enters the while? If so, using a do while will probably fix this, thank you.","body":"So the c.moveToNext() gets executed before it enters the while? If so, using a do while will probably fix this, thank you."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1638181067,"post_id":70148379,"comment_id":124010494,"body_markdown":"Just delete the line `c.moveToFirst();`.","body":"Just delete the line <code>c.moveToFirst();</code>."},{"owner":{"account_id":21765986,"reputation":57,"user_id":16069854,"display_name":"RaulRohjans"},"score":0,"creation_date":1638205501,"post_id":70148379,"comment_id":124020860,"body_markdown":"@blackapps I have tried commenting it before and the same happens","body":"@blackapps I have tried commenting it before and the same happens"}],"owner":{"account_id":21765986,"reputation":57,"user_id":16069854,"display_name":"RaulRohjans"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638142451,"creation_date":1638142451,"question_id":70148379,"body_markdown":"In my app users are able to download files, which uses Download Manager. What I want to do is get all the files that are still downloading and check if the one I care about is still downloading, but what happens is it skips the while entirely. \r\n\r\nHere is my code:\r\n\r\n    //Check if the file is downloading\r\n            DownloadManager.Query q = new DownloadManager.Query();\r\n            q.setFilterById(DownloadManager.STATUS_PAUSED|DownloadManager.STATUS_RUNNING|DownloadManager.STATUS_PENDING);\r\n            DownloadManager dm = (DownloadManager) mContext.getSystemService(Context.DOWNLOAD_SERVICE);\r\n            Cursor c = dm.query(q);\r\n            c.moveToFirst();\r\n            while (c.moveToNext()){\r\n                if(c.getString(c.getColumnIndex(DownloadManager.COLUMN_TITLE)).equals(&quot;example-file-name.mp4&quot;){\r\n                    file_exists = true;\r\n                    holder.download_btn.setVisibility(View.GONE);\r\n                    holder.pgb_downloading.setVisibility(View.VISIBLE);\r\n                    break;\r\n                }\r\n            }\r\n            c.close();","title":"Download Manager Query returns nothing","body":"<p>In my app users are able to download files, which uses Download Manager. What I want to do is get all the files that are still downloading and check if the one I care about is still downloading, but what happens is it skips the while entirely.</p>\n<p>Here is my code:</p>\n<pre><code>//Check if the file is downloading\n        DownloadManager.Query q = new DownloadManager.Query();\n        q.setFilterById(DownloadManager.STATUS_PAUSED|DownloadManager.STATUS_RUNNING|DownloadManager.STATUS_PENDING);\n        DownloadManager dm = (DownloadManager) mContext.getSystemService(Context.DOWNLOAD_SERVICE);\n        Cursor c = dm.query(q);\n        c.moveToFirst();\n        while (c.moveToNext()){\n            if(c.getString(c.getColumnIndex(DownloadManager.COLUMN_TITLE)).equals(&quot;example-file-name.mp4&quot;){\n                file_exists = true;\n                holder.download_btn.setVisibility(View.GONE);\n                holder.pgb_downloading.setVisibility(View.VISIBLE);\n                break;\n            }\n        }\n        c.close();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpql"],"comments":[{"owner":{"account_id":7634558,"reputation":2008,"user_id":5788486,"display_name":"Shekhar Rai"},"score":0,"creation_date":1601543709,"post_id":64152279,"comment_id":113442848,"body_markdown":"Does this answer your question? [How to delete delete entities from a joined table with JPA 2.1 CriteriaDelete](https://stackoverflow.com/questions/22070249/how-to-delete-delete-entities-from-a-joined-table-with-jpa-2-1-criteriadelete)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22070249/how-to-delete-delete-entities-from-a-joined-table-with-jpa-2-1-criteriadelete\">How to delete delete entities from a joined table with JPA 2.1 CriteriaDelete</a>"},{"owner":{"account_id":18367889,"reputation":11,"user_id":13378555,"display_name":"GURU"},"score":0,"creation_date":1601545182,"post_id":64152279,"comment_id":113443452,"body_markdown":"it seems like but i want update query","body":"it seems like but i want update query"}],"owner":{"account_id":18367889,"reputation":11,"user_id":13378555,"display_name":"GURU"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638141496,"creation_date":1601543491,"question_id":64152279,"body_markdown":"While trying to update a foreign key value of my table 2, I get the below error and how to update a foreign key value using criteria queries.\r\n\r\nUser Entity class: \r\n\r\n      @Entity\r\n      public class User  {\r\n        \t@Id \r\n        \t@Column(name=&quot;USER_ID&quot;)\r\n            private int userId;\r\n        \t@Column(name=&quot;USER_NAME&quot;)\r\n            private String userName;\r\n           @OneToMany(mappedBy = &quot;user&quot;)\r\n           private Collection&lt;Rooms&gt;rooms  = new ArrayList&lt;Rooms&gt;();\r\n        }\r\n\r\nRooms Entity class:\r\n\r\n    @Entity\r\n    public class Rooms {\r\n    \t@Id\r\n    \t@Column(name = &quot;ROOM_ID&quot;)\r\n    \tprivate int roomId;\r\n    \t@Column(name = &quot;ROOM_NAME&quot;)\r\n    \tprivate String RoomName;\r\n        @ManyToOne\r\n    \t@JoinColumn(name = &quot;USER_ID&quot;)\r\n    \tprivate User user;\r\n    }\r\n\r\nMy update criteria query:\r\n\r\n    CriteriaBuilder connectionIdBuilder = roomSession.getCriteriaBuilder();\r\n    CriteriaUpdate&lt;Rooms&gt; criteriaUpdate = connectionIdBuilder.createCriteriaUpdate(Rooms.class);\r\n    Root&lt;Rooms&gt; roomRoot = criteriaUpdate.from(Rooms.class);\r\n    Path&lt;Integer&gt; bId = roomRoot.join(&quot;user&quot;).get(SmatrEntityParameters.USER_ID);\r\n\t     criteriaUpdate.where(connectionIdBuilder.equal(roomRoot.join(&quot;user&quot;).get(SmatrEntityParameters.USER_ID),userId));\t\t\r\n    roomSession.createQuery(criteriaUpdate).executeUpdate();\r\n\r\n \r\n**Error:update/delete criteria queries cannot define joins** \r\n\r\n    java.lang.IllegalArgumentException: UPDATE/DELETE criteria queries cannot define joins\r\n    \tat org.hibernate.query.criteria.internal.path.RootImpl.illegalJoin(RootImpl.java:69)\r\n    \tat org.hibernate.query.criteria.internal.path.AbstractFromImpl.join(AbstractFromImpl.java:393)\r\n    \tat org.hibernate.query.criteria.internal.path.AbstractFromImpl.join(AbstractFromImpl.java:386)\r\n    \tat com.sss.iot.smatr.util.CriteriaMethods.updatereference(CriteriaMethods.java:232)\r\n\r\n\r\nPlease give me suggestions on how I update a foreign key value i.e here userid using criteria queries.\r\n","title":"problem while update a foreign key value using criteria","body":"<p>While trying to update a foreign key value of my table 2, I get the below error and how to update a foreign key value using criteria queries.</p>\n<p>User Entity class:</p>\n<pre><code>  @Entity\n  public class User  {\n        @Id \n        @Column(name=&quot;USER_ID&quot;)\n        private int userId;\n        @Column(name=&quot;USER_NAME&quot;)\n        private String userName;\n       @OneToMany(mappedBy = &quot;user&quot;)\n       private Collection&lt;Rooms&gt;rooms  = new ArrayList&lt;Rooms&gt;();\n    }\n</code></pre>\n<p>Rooms Entity class:</p>\n<pre><code>@Entity\npublic class Rooms {\n    @Id\n    @Column(name = &quot;ROOM_ID&quot;)\n    private int roomId;\n    @Column(name = &quot;ROOM_NAME&quot;)\n    private String RoomName;\n    @ManyToOne\n    @JoinColumn(name = &quot;USER_ID&quot;)\n    private User user;\n}\n</code></pre>\n<p>My update criteria query:</p>\n<pre><code>CriteriaBuilder connectionIdBuilder = roomSession.getCriteriaBuilder();\nCriteriaUpdate&lt;Rooms&gt; criteriaUpdate = connectionIdBuilder.createCriteriaUpdate(Rooms.class);\nRoot&lt;Rooms&gt; roomRoot = criteriaUpdate.from(Rooms.class);\nPath&lt;Integer&gt; bId = roomRoot.join(&quot;user&quot;).get(SmatrEntityParameters.USER_ID);\n     criteriaUpdate.where(connectionIdBuilder.equal(roomRoot.join(&quot;user&quot;).get(SmatrEntityParameters.USER_ID),userId));      \nroomSession.createQuery(criteriaUpdate).executeUpdate();\n</code></pre>\n<p><strong>Error:update/delete criteria queries cannot define joins</strong></p>\n<pre><code>java.lang.IllegalArgumentException: UPDATE/DELETE criteria queries cannot define joins\n    at org.hibernate.query.criteria.internal.path.RootImpl.illegalJoin(RootImpl.java:69)\n    at org.hibernate.query.criteria.internal.path.AbstractFromImpl.join(AbstractFromImpl.java:393)\n    at org.hibernate.query.criteria.internal.path.AbstractFromImpl.join(AbstractFromImpl.java:386)\n    at com.sss.iot.smatr.util.CriteriaMethods.updatereference(CriteriaMethods.java:232)\n</code></pre>\n<p>Please give me suggestions on how I update a foreign key value i.e here userid using criteria queries.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":14854758,"reputation":239,"user_id":10727619,"display_name":"GamingFelix"},"score":0,"creation_date":1601588906,"post_id":64163561,"comment_id":113462516,"body_markdown":"Hi! Sorry I don&#39;t know much about spring boot, but I do see it says List. And  your Cards is a Set. Is it not? -&gt; Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]  &lt;- have you tried making it a List instead?","body":"Hi! Sorry I don&#39;t know much about spring boot, but I do see it says List. And  your Cards is a Set. Is it not? -&gt; Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]  &lt;- have you tried making it a List instead?"},{"owner":{"account_id":19269124,"reputation":679,"user_id":14083453,"display_name":"trolloldem"},"score":0,"creation_date":1601632881,"post_id":64163561,"comment_id":113473146,"body_markdown":"@Jo&#227;o Predro, you&#39;ve missed the @Table(name = &quot;decks&quot;) on the Deck Entity","body":"@Jo&#227;o Predro, you&#39;ve missed the @Table(name = &quot;decks&quot;) on the Deck Entity"},{"owner":{"account_id":11940537,"reputation":5,"user_id":8773035,"display_name":"Jo&#227;o Pedro"},"score":0,"creation_date":1601928446,"post_id":64163561,"comment_id":113553387,"body_markdown":"@trollodem I make the annotation but doesn&#39;t change anything.","body":"@trollodem I make the annotation but doesn&#39;t change anything."}],"owner":{"account_id":11940537,"reputation":5,"user_id":8773035,"display_name":"Jo&#227;o Pedro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638141446,"creation_date":1601588309,"question_id":64163561,"body_markdown":"I am creating a simple card game system with Spring JPA.\r\n\r\nIn the model, I create a relationship ManyToMany between a `Card` and a `Deck`. \r\n\r\nCard.java\r\n\r\n```java\r\npackage br.com.magiclibray.domain;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;cards&quot;)\r\npublic class Card implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\tprivate String name;\r\n\tprivate double price;\r\n\t\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinTable(name = &quot;cards_decks&quot;,\r\n            joinColumns = {\r\n                    @JoinColumn(name = &quot;card_id&quot;, referencedColumnName = &quot;id&quot;,\r\n                            nullable = false, updatable = false)},\r\n            inverseJoinColumns = {\r\n                    @JoinColumn(name = &quot;deck_id&quot;, referencedColumnName = &quot;id&quot;,\r\n                            nullable = false, updatable = false)})\r\n    private Set&lt;Deck&gt; decks = new HashSet&lt;&gt;();\r\n\t\r\n\t\r\n\tpublic Card() {\r\n\t}\r\n\r\n\tpublic Card(int id, String name) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\r\n\tpublic double getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\r\n\tpublic void setPrice(double price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\r\n\tpublic Set&lt;Deck&gt; getDecks() {\r\n\t\treturn decks;\r\n\t}\r\n\r\n\tpublic void setDecks(Set&lt;Deck&gt; decks) {\r\n\t\tthis.decks = decks;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint result = 1;\r\n\t\tresult = prime * result + id;\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tCard other = (Card) obj;\r\n\t\tif (id != other.id)\r\n\t\t\treturn false;\r\n\t\treturn true;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```java\r\npackage br.com.magiclibray.domain;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;decks&quot;)\r\npublic class Deck implements Serializable{\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate double price;\r\n\t\r\n\t//private Format format;\r\n\t\r\n    @ManyToMany(mappedBy = &quot;decks&quot;, fetch = FetchType.LAZY)\r\n    private Set&lt;Card&gt; cards = new HashSet&lt;&gt;();\r\n\r\n\tpublic Deck() {\r\n\t}\r\n\r\n\tpublic Deck(int id, String name, double price) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.price = price;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic double getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\r\n\tpublic void setPrice(double price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\r\n\tpublic Set&lt;Card&gt; getCards() {\r\n\t\treturn cards;\r\n\t}\r\n\r\n\tpublic void setCards(Set&lt;Card&gt; cards) {\r\n\t\tthis.cards = cards;\r\n\t}\r\n\r\n\tpublic static long getSerialversionuid() {\r\n\t\treturn serialVersionUID;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint result = 1;\r\n\t\tresult = prime * result + id;\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tDeck other = (Deck) obj;\r\n\t\tif (id != other.id)\r\n\t\t\treturn false;\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nBut when I&#39;m trying to execute spring boot and generate my h2 database, I receive the following stack of error. \r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;formatRepository&#39; defined in br.com.magiclibray.repositories.FormatRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting bean property &#39;mappingContext&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1697) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1442) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:624) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:612) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat br.com.magiclibray.MagicLibrayApplication.main(MagicLibrayApplication.java:10) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_211]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\t... 33 common frames omitted\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:403) ~[spring-orm-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_211]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_211]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_211]\r\n\tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_211]\r\nCaused by: org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]\r\n\tat org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:499) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n\tat org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:466) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n\tat org.hibernate.mapping.Property.isValid(Property.java:227) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n\tat org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:624) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n\tat org.hibernate.mapping.RootClass.validate(RootClass.java:267) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n\tat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:354) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:465) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\t... 4 common frames omitted\r\n```\r\n\r\nAfter severeal refactoring i still retturning to this point. I ask if someone has the same issue, and has quite similar implementation.\r\n\r\nHere is my *pom.xml* for futher questions about version.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;br.com.magiclibray&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;magiclibray&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;MagicLibray&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot for showcase.&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t\t\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Could not determine type for: java.util.List, at table: format","body":"<p>I am creating a simple card game system with Spring JPA.</p>\n<p>In the model, I create a relationship ManyToMany between a <code>Card</code> and a <code>Deck</code>.</p>\n<p>Card.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package br.com.magiclibray.domain;\n\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;cards&quot;)\npublic class Card implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    private String name;\n    private double price;\n    \n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinTable(name = &quot;cards_decks&quot;,\n            joinColumns = {\n                    @JoinColumn(name = &quot;card_id&quot;, referencedColumnName = &quot;id&quot;,\n                            nullable = false, updatable = false)},\n            inverseJoinColumns = {\n                    @JoinColumn(name = &quot;deck_id&quot;, referencedColumnName = &quot;id&quot;,\n                            nullable = false, updatable = false)})\n    private Set&lt;Deck&gt; decks = new HashSet&lt;&gt;();\n    \n    \n    public Card() {\n    }\n\n    public Card(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    \n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public Set&lt;Deck&gt; getDecks() {\n        return decks;\n    }\n\n    public void setDecks(Set&lt;Deck&gt; decks) {\n        this.decks = decks;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + id;\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Card other = (Card) obj;\n        if (id != other.id)\n            return false;\n        return true;\n    }\n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package br.com.magiclibray.domain;\n\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;decks&quot;)\npublic class Deck implements Serializable{\n    \n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String name;\n    private double price;\n    \n    //private Format format;\n    \n    @ManyToMany(mappedBy = &quot;decks&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Card&gt; cards = new HashSet&lt;&gt;();\n\n    public Deck() {\n    }\n\n    public Deck(int id, String name, double price) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.price = price;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public Set&lt;Card&gt; getCards() {\n        return cards;\n    }\n\n    public void setCards(Set&lt;Card&gt; cards) {\n        this.cards = cards;\n    }\n\n    public static long getSerialversionuid() {\n        return serialVersionUID;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + id;\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Deck other = (Deck) obj;\n        if (id != other.id)\n            return false;\n        return true;\n    }\n\n}\n\n</code></pre>\n<p>But when I'm trying to execute spring boot and generate my h2 database, I receive the following stack of error.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'formatRepository' defined in br.com.magiclibray.repositories.FormatRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaMappingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1697) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1442) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:624) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:612) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at br.com.magiclibray.MagicLibrayApplication.main(MagicLibrayApplication.java:10) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_211]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.4.RELEASE.jar:2.3.4.RELEASE]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    ... 33 common frames omitted\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:403) ~[spring-orm-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_211]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_211]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_211]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_211]\nCaused by: org.hibernate.MappingException: Could not determine type for: java.util.List, at table: format, for columns: [org.hibernate.mapping.Column(decks)]\n    at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:499) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:466) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.mapping.Property.isValid(Property.java:227) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:624) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.mapping.RootClass.validate(RootClass.java:267) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:354) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:465) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    ... 4 common frames omitted\n</code></pre>\n<p>After severeal refactoring i still retturning to this point. I ask if someone has the same issue, and has quite similar implementation.</p>\n<p>Here is my <em>pom.xml</em> for futher questions about version.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;br.com.magiclibray&lt;/groupId&gt;\n    &lt;artifactId&gt;magiclibray&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MagicLibray&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot for showcase.&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt; \n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":2,"creation_date":1601881583,"post_id":64203590,"comment_id":113532218,"body_markdown":"You need to use @JoinColumn in AddressModel as you are storing foreign key in that table","body":"You need to use @JoinColumn in AddressModel as you are storing foreign key in that table"},{"owner":{"account_id":19232434,"reputation":31,"user_id":14054042,"display_name":"Pritish Deshpande"},"score":0,"creation_date":1601883669,"post_id":64203590,"comment_id":113533102,"body_markdown":"That really helped..","body":"That really helped.."}],"owner":{"account_id":19232434,"reputation":31,"user_id":14054042,"display_name":"Pritish Deshpande"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638141399,"creation_date":1601880264,"question_id":64203590,"body_markdown":"I have a simple ER\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6T6IN.png\r\n\r\n\r\nI&#39;m using `@JoinColumn` to get the model\r\n\r\n    @OneToOne(cascade=CascadeType.ALL)\r\n\t@JoinColumn(name=&quot;dealer_id&quot;,referencedColumnName=&quot;dealer_id&quot;)\r\n\tAddressModel addressModel;\r\n\r\nSo based on dealer_id I&#39;m fetching the relevant address.\r\n\r\nbut Query formed by hibernate is\r\n\r\n    Hibernate: \r\n    select\r\n        addressmod0_.add_id as add_id1_0_0_,\r\n        addressmod0_.custom as custom2_0_0_,\r\n        addressmod0_.dealer_id as dealer_i3_0_0_,\r\n        addressmod0_.district as district4_0_0_,\r\n        addressmod0_.pincode as pincode5_0_0_,\r\n        addressmod0_.state as state6_0_0_,\r\n        addressmod0_.taluka as taluka7_0_0_,\r\n        addressmod0_.village as village8_0_0_ \r\n    from\r\n        address addressmod0_ \r\n    where\r\n        addressmod0_.add_id=?\r\n\r\nThe reference should be dealer_id and not add_id. Don&#39;t know why such wrong query is formed despite of giving the different reference.\r\nAny help is appreciated!!","title":"@JoinColumn issue regarding the reference","body":"<p>I have a simple ER</p>\n<p><a href=\"https://i.stack.imgur.com/6T6IN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6T6IN.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using <code>@JoinColumn</code> to get the model</p>\n<pre><code>@OneToOne(cascade=CascadeType.ALL)\n@JoinColumn(name=&quot;dealer_id&quot;,referencedColumnName=&quot;dealer_id&quot;)\nAddressModel addressModel;\n</code></pre>\n<p>So based on dealer_id I'm fetching the relevant address.</p>\n<p>but Query formed by hibernate is</p>\n<pre><code>Hibernate: \nselect\n    addressmod0_.add_id as add_id1_0_0_,\n    addressmod0_.custom as custom2_0_0_,\n    addressmod0_.dealer_id as dealer_i3_0_0_,\n    addressmod0_.district as district4_0_0_,\n    addressmod0_.pincode as pincode5_0_0_,\n    addressmod0_.state as state6_0_0_,\n    addressmod0_.taluka as taluka7_0_0_,\n    addressmod0_.village as village8_0_0_ \nfrom\n    address addressmod0_ \nwhere\n    addressmod0_.add_id=?\n</code></pre>\n<p>The reference should be dealer_id and not add_id. Don't know why such wrong query is formed despite of giving the different reference.\nAny help is appreciated!!</p>\n"},{"tags":["java","spring","spring-boot","maven","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1601897530,"post_id":64206456,"comment_id":113539197,"body_markdown":"The problem is that you didn&#39;t mark your tomcat dependencies as provided. Mark them provided and rebuild your war.","body":"The problem is that you didn&#39;t mark your tomcat dependencies as provided. Mark them provided and rebuild your war."}],"owner":{"account_id":8674453,"reputation":21,"user_id":6492235,"display_name":"rs13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1875,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638141349,"creation_date":1601892202,"question_id":64206456,"body_markdown":"I have a spring-boot project that builds successfully but there is a problem deploying the war file, be it in tomcat or through maven plugins. When I manually place the war file in `*/webapps` and try to deploy it, I get the following error:\r\n\r\n```\r\nwebapps\\leave.war]\r\nOct 05, 2020 2:57:48 PM org.apache.catalina.loader.WebappClassLoaderBase validate\r\njar file\r\nINFO: validateJarFile(C:\\Program Files\\apache-tomcat-7.0.106\\webapps\\leave\\WEB-I\r\nNF\\lib\\tomcat-embed-core-9.0.21.jar) - jar not loaded. See Servlet Spec 3.0, sec\r\ntion 10.7.2. Offending class: javax/servlet/Servlet.class\r\n\r\nOct 05, 2020 2:57:48 PM org.apache.catalina.loader.WebappClassLoaderBase validat\r\neJarFile\r\nINFO: validateJarFile(C:\\Program Files\\apache-tomcat-7.0.106\\webapps\\leave\\WEB-I\r\nNF\\lib\\tomcat-embed-el-9.0.21.jar) - jar not loaded. See Servlet Spec 3.0, secti\r\non 10.7.2. Offending class: javax/el/Expression.class\r\n\r\nOct 05, 2020 2:57:49 PM org.apache.catalina.deploy.WebXml setVersion\r\nWARNING: Unknown version string [4.0]. Default version will be used.\r\n\r\nOct 05, 2020 2:57:49 PM org.apache.catalina.core.ContainerBase addChildInternal\r\n**SEVERE: ContainerBase.addChild: start:\r\norg.apache.catalina.LifecycleException: Failed to start component [StandardEngin\r\ne[Catalina].StandardHost[localhost].StandardContext[/leave]]**\r\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(Lifecy\r\ncleBase.java:440)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase\r\n.java:1007)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:98\r\n3)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\r\n\r\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127\r\n)\r\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:\r\n2019)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executo\r\nrs.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoo\r\nlExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPo\r\nolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n**Caused by: java.lang.IllegalArgumentException: More than one fragment with the n\r\name [org_apache_tomcat_websocket] was found. This is not legal with relative ord\r\nering. See section 8.2.2 2c of the Servlet specification for details. Consider u\r\nsing absolute ordering.**\r\n        at org.apache.catalina.deploy.WebXml.orderWebFragments(WebXml.java:2338)\r\n\r\n        at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.jav\r\na:1228)\r\n        at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfi\r\ng.java:888)\r\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfi\r\ng.java:388)\r\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBa\r\nse.java:123)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContex\r\nt.java:5536)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n        ... 10 more\r\n\r\nOct 05, 2020 2:57:49 PM org.apache.catalina.startup.HostConfig deployWAR\r\nSEVERE: Error deploying web application archive [C:\\Program Files\\apache-tomcat-\r\n7.0.106\\webapps\\leave.war]\r\n**java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catal\r\nina.LifecycleException: Failed to start component [StandardEngine[Catalina].Stan\r\ndardHost[localhost].StandardContext[/leave]]**\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase\r\n.java:1011)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:98\r\n3)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\r\n\r\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127\r\n)\r\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:\r\n2019)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executo\r\nrs.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoo\r\nlExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPo\r\nolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nOct 05, 2020 2:57:49 PM org.apache.catalina.startup.HostConfig deployWAR\r\nINFO: Deployment of web application archive [C:\\Program Files\\apache-tomcat-7.0.\r\n106\\webapps\\leave.war] has finished in [67,451] ms\r\n```\r\n\r\nI have looked everywhere for a solution but nothing worked. I can&#39;t understand what I am supposed to do with absolute ordering since I don&#39;t even have a web.xml in my app. web-fragments.xml too doesn&#39;t have any &lt; ordering &gt; elements. ","title":"java.lang.IllegalArgumentException: More than one fragment with the name [org_apache_tomcat_websocket] was found","body":"<p>I have a spring-boot project that builds successfully but there is a problem deploying the war file, be it in tomcat or through maven plugins. When I manually place the war file in <code>*/webapps</code> and try to deploy it, I get the following error:</p>\n<pre><code>webapps\\leave.war]\nOct 05, 2020 2:57:48 PM org.apache.catalina.loader.WebappClassLoaderBase validate\njar file\nINFO: validateJarFile(C:\\Program Files\\apache-tomcat-7.0.106\\webapps\\leave\\WEB-I\nNF\\lib\\tomcat-embed-core-9.0.21.jar) - jar not loaded. See Servlet Spec 3.0, sec\ntion 10.7.2. Offending class: javax/servlet/Servlet.class\n\nOct 05, 2020 2:57:48 PM org.apache.catalina.loader.WebappClassLoaderBase validat\neJarFile\nINFO: validateJarFile(C:\\Program Files\\apache-tomcat-7.0.106\\webapps\\leave\\WEB-I\nNF\\lib\\tomcat-embed-el-9.0.21.jar) - jar not loaded. See Servlet Spec 3.0, secti\non 10.7.2. Offending class: javax/el/Expression.class\n\nOct 05, 2020 2:57:49 PM org.apache.catalina.deploy.WebXml setVersion\nWARNING: Unknown version string [4.0]. Default version will be used.\n\nOct 05, 2020 2:57:49 PM org.apache.catalina.core.ContainerBase addChildInternal\n**SEVERE: ContainerBase.addChild: start:\norg.apache.catalina.LifecycleException: Failed to start component [StandardEngin\ne[Catalina].StandardHost[localhost].StandardContext[/leave]]**\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(Lifecy\ncleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase\n.java:1007)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:98\n3)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\n\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127\n)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:\n2019)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executo\nrs.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoo\nlExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPo\nolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n**Caused by: java.lang.IllegalArgumentException: More than one fragment with the n\name [org_apache_tomcat_websocket] was found. This is not legal with relative ord\nering. See section 8.2.2 2c of the Servlet specification for details. Consider u\nsing absolute ordering.**\n        at org.apache.catalina.deploy.WebXml.orderWebFragments(WebXml.java:2338)\n\n        at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.jav\na:1228)\n        at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfi\ng.java:888)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfi\ng.java:388)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBa\nse.java:123)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContex\nt.java:5536)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 10 more\n\nOct 05, 2020 2:57:49 PM org.apache.catalina.startup.HostConfig deployWAR\nSEVERE: Error deploying web application archive [C:\\Program Files\\apache-tomcat-\n7.0.106\\webapps\\leave.war]\n**java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catal\nina.LifecycleException: Failed to start component [StandardEngine[Catalina].Stan\ndardHost[localhost].StandardContext[/leave]]**\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase\n.java:1011)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:98\n3)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\n\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127\n)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:\n2019)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executo\nrs.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoo\nlExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPo\nolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\nOct 05, 2020 2:57:49 PM org.apache.catalina.startup.HostConfig deployWAR\nINFO: Deployment of web application archive [C:\\Program Files\\apache-tomcat-7.0.\n106\\webapps\\leave.war] has finished in [67,451] ms\n</code></pre>\n<p>I have looked everywhere for a solution but nothing worked. I can't understand what I am supposed to do with absolute ordering since I don't even have a web.xml in my app. web-fragments.xml too doesn't have any &lt; ordering &gt; elements.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-tool-suite"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1601974715,"post_id":64222348,"comment_id":113565815,"body_markdown":"Since it&#39;s based on Eclipse, https://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer might be related","body":"Since it&#39;s based on Eclipse, <a href=\"https://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer\" title=\"maven error failure to transfer\">stackoverflow.com/questions/5074063/&hellip;</a> might be related"},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":1,"creation_date":1601980944,"post_id":64222348,"comment_id":113568546,"body_markdown":"sounds definitely like the issue mentioned in the previous comment, so please take a look and delete your local Maven cache.","body":"sounds definitely like the issue mentioned in the previous comment, so please take a look and delete your local Maven cache."},{"owner":{"account_id":19573450,"reputation":35,"user_id":14324066,"display_name":"Fack Coding"},"score":0,"creation_date":1601983094,"post_id":64222348,"comment_id":113569510,"body_markdown":"I cleared the cache, and it solve those 4 errors .. but now I get 2 new warnings..  I edited my post!","body":"I cleared the cache, and it solve those 4 errors .. but now I get 2 new warnings..  I edited my post!"},{"owner":{"account_id":1571583,"reputation":2828,"user_id":1459174,"accept_rate":88,"display_name":"prem30488"},"score":0,"creation_date":1601989982,"post_id":64222348,"comment_id":113572754,"body_markdown":"check your pom.xml, what version is there and check compiler compliance, what is there? Both values should be same. Also in build path the same native library should be used.(JDK not JRE)","body":"check your pom.xml, what version is there and check compiler compliance, what is there? Both values should be same. Also in build path the same native library should be used.(JDK not JRE)"},{"owner":{"account_id":2455831,"reputation":3908,"user_id":2141091,"accept_rate":100,"display_name":"Kris"},"score":0,"creation_date":1601999509,"post_id":64222348,"comment_id":113577992,"body_markdown":"THe warnings about jre means Eclipse/STS cannot find a jvm of the version that your project is configured to use. All you have to do is add a jre of the right version to your workspace. Go to &quot;Window &gt;&gt; Preferences&quot; then type &#39;JRE&#39; in the searchbox.","body":"THe warnings about jre means Eclipse/STS cannot find a jvm of the version that your project is configured to use. All you have to do is add a jre of the right version to your workspace. Go to &quot;Window &gt;&gt; Preferences&quot; then type &#39;JRE&#39; in the searchbox."},{"owner":{"account_id":19573450,"reputation":35,"user_id":14324066,"display_name":"Fack Coding"},"score":0,"creation_date":1602051018,"post_id":64222348,"comment_id":113593335,"body_markdown":"@Kris I edited the default path of the JRE to the folder of the `JDK D:\\Java\\JDK` and it still doesn&#39;t work :(","body":"@Kris I edited the default path of the JRE to the folder of the <code>JDK D:\\Java\\JDK</code> and it still doesn&#39;t work :("},{"owner":{"account_id":2455831,"reputation":3908,"user_id":2141091,"accept_rate":100,"display_name":"Kris"},"score":0,"creation_date":1602602432,"post_id":64222348,"comment_id":113769193,"body_markdown":"Maybe Eclipse doesn&#39;t update the info about the JRE if you just change its path, that could be a bug. Try deleting the JRE in preference. Then add it back. Also, make sure the JDK you point to is actually a JDK 11 (from the path `D:\\Java\\JDK` I cannot tell what version it is)","body":"Maybe Eclipse doesn&#39;t update the info about the JRE if you just change its path, that could be a bug. Try deleting the JRE in preference. Then add it back. Also, make sure the JDK you point to is actually a JDK 11 (from the path <code>D:\\Java\\JDK</code> I cannot tell what version it is)"}],"owner":{"account_id":19573450,"reputation":35,"user_id":14324066,"display_name":"Fack Coding"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638141306,"creation_date":1601974088,"question_id":64222348,"body_markdown":"This is my first Spring Boot project.\r\nI Installed Spring Tool Suite IDE and when I try to create a new project! I Get these errors (as you can see on the GIF) \r\n\r\nI tried with Java8 and Java11 and I still get the error.\r\n\r\nThe stack trace of the error:\r\n\r\n&gt; ArtifactTransferException: Failure to transfer\r\n&gt; org.codehaus.plexus:plexus-utils:pom:3.1.0 from\r\n&gt; https://repo.maven.apache.org/maven2 was cached in the local\r\n&gt; repository, resolution will not be reattempted until the update\r\n&gt; interval of central has elapsed or updates are forced. Original error:\r\n&gt; Could not transfer artifact org.codehaus.plexus:plexus-utils:pom:3.1.0\r\n&gt; from/to central (https://repo.maven.apache.org/maven2):\r\n&gt; repo.maven.apache.org\r\n\r\nThe 4 errors:\r\n[![enter image description here][1]][1]\r\n\r\nI did  `cd %userprofile%\\.m2\\repository` on the cmd and then I did `start .` to open the folder, then I manually deleted the cache.\r\n\r\nThat solved the 4 errors above. \r\nBut I got 2 new warnings:\r\nDescription\tResource\tPath\tLocation\tType\r\nFirst warning:\r\n&gt; Build path specifies execution environment JavaSE-11. There are no\r\n&gt; JREs installed in the workspace that are strictly compatible with this\r\n&gt; environment.\r\n\r\nSecond warning:\r\n\r\n&gt; The compiler compliance specified is 11 but a JRE 14 is\r\n&gt; used\tproduits\r\n\r\nImage of the new warnings:\r\n[![enter image description here:][2]][2]\r\n\r\nWhen I open File-&gt; Properties I got this :\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/As9qX.png\r\n  [2]: https://i.stack.imgur.com/4SpE2.png\r\n  [3]: https://i.stack.imgur.com/ksqF8.png","title":"Why I cant create a new Spring boot project with STS IDE?","body":"<p>This is my first Spring Boot project.\nI Installed Spring Tool Suite IDE and when I try to create a new project! I Get these errors (as you can see on the GIF)</p>\n<p>I tried with Java8 and Java11 and I still get the error.</p>\n<p>The stack trace of the error:</p>\n<blockquote>\n<p>ArtifactTransferException: Failure to transfer\norg.codehaus.plexus:plexus-utils:pom:3.1.0 from\n<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> was cached in the local\nrepository, resolution will not be reattempted until the update\ninterval of central has elapsed or updates are forced. Original error:\nCould not transfer artifact org.codehaus.plexus:plexus-utils:pom:3.1.0\nfrom/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>):\nrepo.maven.apache.org</p>\n</blockquote>\n<p>The 4 errors:\n<a href=\"https://i.stack.imgur.com/As9qX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/As9qX.png\" alt=\"enter image description here\" /></a></p>\n<p>I did  <code>cd %userprofile%\\.m2\\repository</code> on the cmd and then I did <code>start .</code> to open the folder, then I manually deleted the cache.</p>\n<p>That solved the 4 errors above.\nBut I got 2 new warnings:\nDescription Resource    Path    Location    Type\nFirst warning:</p>\n<blockquote>\n<p>Build path specifies execution environment JavaSE-11. There are no\nJREs installed in the workspace that are strictly compatible with this\nenvironment.</p>\n</blockquote>\n<p>Second warning:</p>\n<blockquote>\n<p>The compiler compliance specified is 11 but a JRE 14 is\nused  produits</p>\n</blockquote>\n<p>Image of the new warnings:\n<a href=\"https://i.stack.imgur.com/4SpE2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4SpE2.png\" alt=\"enter image description here:\" /></a></p>\n<p>When I open File-&gt; Properties I got this :</p>\n<p><a href=\"https://i.stack.imgur.com/ksqF8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ksqF8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jetty","jetty-10"],"answers":[{"tags":[],"owner":{"account_id":10226265,"reputation":376,"user_id":7548747,"display_name":"Lachlan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638141197,"creation_date":1638141197,"answer_id":70148291,"question_id":70091676,"body_markdown":"The `WebAppProvider` uses a `org.eclipse.jetty.util.Scanner`, and the javadoc for `Scanner.setScanInterval(int)` says:\r\n\r\n&gt; @param scanInterval pause between scans in seconds, or 0 for no scan after the initial scan.\r\n\r\nSo if don&#39;t want regular scans after the initial scan you can set the scanInterval to 0 by setting the Jetty property `jetty.deploy.scanInterval=0` in your deploy.ini file.","title":"How to turn off the scan for the war files in Jetty10","body":"<p>The <code>WebAppProvider</code> uses a <code>org.eclipse.jetty.util.Scanner</code>, and the javadoc for <code>Scanner.setScanInterval(int)</code> says:</p>\n<blockquote>\n<p>@param scanInterval pause between scans in seconds, or 0 for no scan after the initial scan.</p>\n</blockquote>\n<p>So if don't want regular scans after the initial scan you can set the scanInterval to 0 by setting the Jetty property <code>jetty.deploy.scanInterval=0</code> in your deploy.ini file.</p>\n"}],"owner":{"account_id":20610705,"reputation":207,"user_id":15129964,"display_name":"Ashish Goyanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70148291,"answer_count":1,"score":0,"last_activity_date":1638141197,"creation_date":1637736142,"question_id":70091676,"body_markdown":"I am working with Jetty10 and by defalut, war scan is enabled and the scan interval is set to 1 second. It means Jetty scans the complete web apps directory every 1 sec. Please correct me if I am wrong.\r\nthe below code is in the jetty\\etc\\jetty-deploy.XML\r\n\r\n     &lt;Set name=&quot;scanInterval&quot;&gt;&lt;Property name=&quot;jetty.deploy.scanInterval&quot; default=&quot;1&quot;/&gt;&lt;/Set&gt;\r\n\r\nI don&#39;t want that burden to my application and turning this scan off will reduce the overhead of jetty scanning complete web apps every 1 sec.\r\n\r\nSo, my question is how can we turn off this scan? do we need to set it to -1 or is there any approach to do this?\r\n\r\n","title":"How to turn off the scan for the war files in Jetty10","body":"<p>I am working with Jetty10 and by defalut, war scan is enabled and the scan interval is set to 1 second. It means Jetty scans the complete web apps directory every 1 sec. Please correct me if I am wrong.\nthe below code is in the jetty\\etc\\jetty-deploy.XML</p>\n<pre><code> &lt;Set name=&quot;scanInterval&quot;&gt;&lt;Property name=&quot;jetty.deploy.scanInterval&quot; default=&quot;1&quot;/&gt;&lt;/Set&gt;\n</code></pre>\n<p>I don't want that burden to my application and turning this scan off will reduce the overhead of jetty scanning complete web apps every 1 sec.</p>\n<p>So, my question is how can we turn off this scan? do we need to set it to -1 or is there any approach to do this?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638140465,"creation_date":1638140465,"answer_id":70148210,"question_id":70148172,"body_markdown":"Just change your Service class to use `id` instead of `person.getId()`:\r\n```java\r\npublic int updatePerson(UUID id, Person person) {\r\n    String sql = &quot;UPDATE person SET name = ? WHERE id = ?&quot;;\r\n    return jdbcTemplate.update(sql, person.getName(), id);\r\n}\r\n```","title":"PUT request wont go through unless I provide ID in body","body":"<p>Just change your Service class to use <code>id</code> instead of <code>person.getId()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int updatePerson(UUID id, Person person) {\n    String sql = &quot;UPDATE person SET name = ? WHERE id = ?&quot;;\n    return jdbcTemplate.update(sql, person.getName(), id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1848211,"reputation":595,"user_id":1675403,"accept_rate":100,"display_name":"Rstew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638140733,"creation_date":1638140733,"answer_id":70148243,"question_id":70148172,"body_markdown":"If I understand your question, you&#39;re looking to use the `Person` as a payload template for updating an instance of that class.\r\n\r\nYou can utilise @JsonProperty annotations.\r\n\r\n    public class Person {\r\n        \r\n        private String name;\r\n\r\n        @JsonProperty(access = Access.WRITE_ONLY)\r\n        private UUID id;\r\n        \r\n        public(UUID id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n        ...getters\r\n    } \r\n\r\n","title":"PUT request wont go through unless I provide ID in body","body":"<p>If I understand your question, you're looking to use the <code>Person</code> as a payload template for updating an instance of that class.</p>\n<p>You can utilise @JsonProperty annotations.</p>\n<pre><code>public class Person {\n    \n    private String name;\n\n    @JsonProperty(access = Access.WRITE_ONLY)\n    private UUID id;\n    \n    public(UUID id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n    ...getters\n} \n</code></pre>\n"}],"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70148210,"answer_count":2,"score":-2,"last_activity_date":1638141193,"creation_date":1638140053,"question_id":70148172,"body_markdown":"I am using path variable in url in order to update my object. How can I modify my code for it to work without needing to provide an id in the post body if I already got it in the url?\r\n\r\n```java\r\n    public class Person {\r\n        \r\n        private String name;\r\n        private UUID id;\r\n        \r\n        public(UUID id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n        ...getters\r\n    } \r\n```\r\n\r\nService class\r\n```\r\npublic int updatePerson(UUID id, Person person) {\r\n        String sql = &quot;UPDATE person SET name = ? WHERE id = ?&quot;;\r\n        return jdbcTemplate.update(sql, person.getName(), person.getId());\r\n    }\r\n```\r\n\r\nController\r\n```java\r\n @PutMapping(&quot;/{id}&quot;)\r\n    public int updatePerson(@PathVariable UUID id, @RequestBody Person person) {\r\n        return personService.updatePerson(id, person);\r\n    }\r\n```","title":"PUT request wont go through unless I provide ID in body","body":"<p>I am using path variable in url in order to update my object. How can I modify my code for it to work without needing to provide an id in the post body if I already got it in the url?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Person {\n        \n        private String name;\n        private UUID id;\n        \n        public(UUID id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n        ...getters\n    } \n</code></pre>\n<p>Service class</p>\n<pre><code>public int updatePerson(UUID id, Person person) {\n        String sql = &quot;UPDATE person SET name = ? WHERE id = ?&quot;;\n        return jdbcTemplate.update(sql, person.getName(), person.getId());\n    }\n</code></pre>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PutMapping(&quot;/{id}&quot;)\n    public int updatePerson(@PathVariable UUID id, @RequestBody Person person) {\n        return personService.updatePerson(id, person);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1181763,"reputation":2612,"user_id":1156554,"display_name":"David"},"score":0,"creation_date":1602094495,"post_id":64249829,"comment_id":113614650,"body_markdown":"What constitutes a &quot;repeated item&quot; in this case?","body":"What constitutes a &quot;repeated item&quot; in this case?"},{"owner":{"account_id":12456171,"reputation":339,"user_id":9069309,"display_name":"Cebrail Yilmaz"},"score":0,"creation_date":1602094532,"post_id":64249829,"comment_id":113614667,"body_markdown":"Which database you are using? Are you using an ORM like Spring Data JPA? If so you could query as something starting with &#39;findDistinct..()&#39; or if you&#39;re using the JDBC you can create a SQL query.\n\nGive more details, please. You can share your repository and service classes.","body":"Which database you are using? Are you using an ORM like Spring Data JPA? If so you could query as something starting with &#39;findDistinct..()&#39; or if you&#39;re using the JDBC you can create a SQL query.  Give more details, please. You can share your repository and service classes."},{"owner":{"account_id":12837139,"reputation":29,"user_id":9286368,"display_name":"Dennis"},"score":0,"creation_date":1602094587,"post_id":64249829,"comment_id":113614693,"body_markdown":"My database is PostgreSQL and I am using Spring Data JPA.","body":"My database is PostgreSQL and I am using Spring Data JPA."},{"owner":{"account_id":12837139,"reputation":29,"user_id":9286368,"display_name":"Dennis"},"score":0,"creation_date":1602094626,"post_id":64249829,"comment_id":113614713,"body_markdown":"I am creating an api that returns some numeric values.","body":"I am creating an api that returns some numeric values."},{"owner":{"account_id":12456171,"reputation":339,"user_id":9069309,"display_name":"Cebrail Yilmaz"},"score":0,"creation_date":1602095116,"post_id":64249829,"comment_id":113614958,"body_markdown":"`resultados = resultados.stream().distinct().collect(Collectors.toList())`\nDoes this solve your problem, or is this what you want the result to look like?","body":"<code>resultados = resultados.stream().distinct().collect(Collectors.toList())</code> Does this solve your problem, or is this what you want the result to look like?"},{"owner":{"account_id":12837139,"reputation":29,"user_id":9286368,"display_name":"Dennis"},"score":0,"creation_date":1602095553,"post_id":64249829,"comment_id":113615155,"body_markdown":"It didn&#39;t work... My response is like this:\nid = 1\nyear = 1\nvalue = 100\n\nEach unity has only 5 years so I receive this data repeated 3 times because another script is inserting 5 times.","body":"It didn&#39;t work... My response is like this: id = 1 year = 1 value = 100  Each unity has only 5 years so I receive this data repeated 3 times because another script is inserting 5 times."},{"owner":{"account_id":5368515,"reputation":1067,"user_id":4277677,"display_name":"Rony Nguyen"},"score":1,"creation_date":1602096741,"post_id":64249829,"comment_id":113615609,"body_markdown":"Can you add more detail about how your data structure with some records and your expected result?","body":"Can you add more detail about how your data structure with some records and your expected result?"},{"owner":{"account_id":12837139,"reputation":29,"user_id":9286368,"display_name":"Dennis"},"score":0,"creation_date":1602098228,"post_id":64249829,"comment_id":113616202,"body_markdown":"I got a solution using: \nselect distinct id_unidade, mensal, anual, porcentagem from resultados where id_empresa = 176 and tipo_tarifa=&#39;verde&#39;;\n\nBut I cannot use it because my repository is like this:\n@Query(value=&quot;select * from result where id_empresa = :id_empresa and tipo_tarifa= :tipo_tarifa&quot;, nativeQuery=true)\n\tList&lt;Resultados&gt; listarResultadosPorTarifa( @Param( &quot;id_empresa&quot; ) Integer id_empresa, @Param( &quot;tipo_tarifa&quot; ) String tipo_tarifa );\n\nIf I use it I got an error: id column is not in resultset","body":"I got a solution using:  select distinct id_unidade, mensal, anual, porcentagem from resultados where id_empresa = 176 and tipo_tarifa=&#39;verde&#39;;  But I cannot use it because my repository is like this: @Query(value=&quot;select * from result where id_empresa = :id_empresa and tipo_tarifa= :tipo_tarifa&quot;, nativeQuery=true) \tList&lt;Resultados&gt; listarResultadosPorTarifa( @Param( &quot;id_empresa&quot; ) Integer id_empresa, @Param( &quot;tipo_tarifa&quot; ) String tipo_tarifa );  If I use it I got an error: id column is not in resultset"}],"owner":{"account_id":12837139,"reputation":29,"user_id":9286368,"display_name":"Dennis"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140881,"creation_date":1602093827,"question_id":64249829,"body_markdown":"I am trying to remove the repeated items that come from a table in the database.\r\nI tried to create two lists that receive the same values and compare but it didn’t work, could you show me a way?\r\n\r\n```java\r\n@GetMapping( &quot;consulta/{id_empresa}/{tipo_tarifa}&quot; )\r\nArrayList&lt;ResultadosDTO&gt; listarResultadosPorTarifa( @PathVariable( &quot;id_empresa&quot; ) Integer id_empresa, @PathVariable( &quot;tipo_tarifa&quot; ) String tipo_tarifa ) {\r\n\t\t\r\n\t\tList&lt;Resultados&gt; resultados = repository.listarResultadosPorTarifa(id_empresa, tipo_tarifa);\r\n\t\t\r\n\t\t//System.out.println(resultados.size()); &lt;- Aqui ele mostra a quantidade elementos armazenados na vari&#225;vel resultados\r\n\t\t\r\n\t\tArrayList&lt;ResultadosDTO&gt; ConjuntoResultados = new ArrayList&lt;&gt;();\r\n\t\tArrayList&lt;ResultadosDTO&gt; lista = new ArrayList&lt;&gt;(); // Criando uma segunda lsita que tambem vai receber os valores e ser&#227;o comparados para excluir os repetidos\r\n\t\tfor ( int i=0; i&lt;resultados.size(); i++ )\r\n\t\t{\r\n\t\t\tResultadosDTO r = new ResultadosDTO();\r\n\t\t\tr.setId(resultados.get(i).getId());\r\n\t\t\tr.setId_empresa(resultados.get(i).getId_empresa());\r\n\t\t\tr.setId_unidade(resultados.get(i).getId_unidade());\r\n\t\t\tr.setTipo_tarifa(resultados.get(i).getTipo_tarifa());\r\n\t\t\tr.setAno(resultados.get(i).getAno());\r\n\t\t\tr.setMensal(resultados.get(i).getMensal());\r\n\t\t\tr.setAnual(resultados.get(i).getAnual());\r\n\t\t\tr.setPorcentagem(resultados.get(i).getPorcentagem());\r\n\t\t\t\r\n\t\t\tConjuntoResultados.add(r);\r\n\t\t\tlista.add(r);\r\n\t\t\t\r\n\t\t\t//System.out.println(lista);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\treturn ConjuntoResultados;\r\n\t\t\r\n}\r\n```","title":"How to remove repeated items?","body":"<p>I am trying to remove the repeated items that come from a table in the database.\nI tried to create two lists that receive the same values and compare but it didn’t work, could you show me a way?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping( &quot;consulta/{id_empresa}/{tipo_tarifa}&quot; )\nArrayList&lt;ResultadosDTO&gt; listarResultadosPorTarifa( @PathVariable( &quot;id_empresa&quot; ) Integer id_empresa, @PathVariable( &quot;tipo_tarifa&quot; ) String tipo_tarifa ) {\n        \n        List&lt;Resultados&gt; resultados = repository.listarResultadosPorTarifa(id_empresa, tipo_tarifa);\n        \n        //System.out.println(resultados.size()); &lt;- Aqui ele mostra a quantidade elementos armazenados na variável resultados\n        \n        ArrayList&lt;ResultadosDTO&gt; ConjuntoResultados = new ArrayList&lt;&gt;();\n        ArrayList&lt;ResultadosDTO&gt; lista = new ArrayList&lt;&gt;(); // Criando uma segunda lsita que tambem vai receber os valores e serão comparados para excluir os repetidos\n        for ( int i=0; i&lt;resultados.size(); i++ )\n        {\n            ResultadosDTO r = new ResultadosDTO();\n            r.setId(resultados.get(i).getId());\n            r.setId_empresa(resultados.get(i).getId_empresa());\n            r.setId_unidade(resultados.get(i).getId_unidade());\n            r.setTipo_tarifa(resultados.get(i).getTipo_tarifa());\n            r.setAno(resultados.get(i).getAno());\n            r.setMensal(resultados.get(i).getMensal());\n            r.setAnual(resultados.get(i).getAnual());\n            r.setPorcentagem(resultados.get(i).getPorcentagem());\n            \n            ConjuntoResultados.add(r);\n            lista.add(r);\n            \n            //System.out.println(lista);\n            \n        }\n\n        return ConjuntoResultados;\n        \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":0,"creation_date":1602080009,"post_id":64245683,"comment_id":113607283,"body_markdown":"Are you testing using this url: ADDRESS/register?","body":"Are you testing using this url: ADDRESS/register?"},{"owner":{"account_id":19680649,"reputation":1,"user_id":14407853,"display_name":"tomek25"},"score":0,"creation_date":1602138994,"post_id":64245683,"comment_id":113626566,"body_markdown":"Yest I&#39;, testing using localhost:8080/register.","body":"Yest I&#39;, testing using localhost:8080/register."}],"owner":{"account_id":19680649,"reputation":1,"user_id":14407853,"display_name":"tomek25"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140851,"creation_date":1602079193,"question_id":64245683,"body_markdown":"I&#39;m trying to do my second app using Spring Boot. I have problems with security config even if I use `permittAll` method. Here&#39;s part of my code with `WebSecurityConfig`:\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity(debug=true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        MyUserDetailsService userDetailsService;\r\n        @Autowired\r\n        private PasswordEncoder passwordEncoder;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .httpBasic()\r\n                    .and()\r\n                    .authorizeRequests()\r\n                        .antMatchers(&quot;/register&quot;).permitAll()\r\n                        .antMatchers(&quot;/users&quot;).authenticated()\r\n                    .and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n            \r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(authenticationProvider());\r\n        }\r\n    \r\n    \r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider(){\r\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n            provider.setPasswordEncoder(passwordEncoder);\r\n            provider.setUserDetailsService(userDetailsService);\r\n            return provider;\r\n        }\r\n    \r\n    }\r\n\r\nWhen I use Postman on /register I have 401 Unauthorised, tried to do it many ways but have no idea what to do anymore. Of course, Rest controller handles /register and /users.\r\n\r\nThank you in advance for any help.","title":"Spring security 401 Unauthorised despite of permitAll","body":"<p>I'm trying to do my second app using Spring Boot. I have problems with security config even if I use <code>permittAll</code> method. Here's part of my code with <code>WebSecurityConfig</code>:</p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug=true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    MyUserDetailsService userDetailsService;\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .httpBasic()\n                .and()\n                .authorizeRequests()\n                    .antMatchers(&quot;/register&quot;).permitAll()\n                    .antMatchers(&quot;/users&quot;).authenticated()\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        \n    }\n\n\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(userDetailsService);\n        return provider;\n    }\n\n}\n</code></pre>\n<p>When I use Postman on /register I have 401 Unauthorised, tried to do it many ways but have no idea what to do anymore. Of course, Rest controller handles /register and /users.</p>\n<p>Thank you in advance for any help.</p>\n"},{"tags":["java","spring","spring-boot","session","spring-security"],"comments":[{"owner":{"account_id":14901094,"reputation":642,"user_id":13989422,"display_name":"Morteza"},"score":0,"creation_date":1602244943,"post_id":64255734,"comment_id":113666644,"body_markdown":"your description is not clear. But according to your question, I guess you need to assign certain expiration time to your sessions. If that is not what you want please edit your explanation to make it clearer.","body":"your description is not clear. But according to your question, I guess you need to assign certain expiration time to your sessions. If that is not what you want please edit your explanation to make it clearer."}],"owner":{"account_id":17494810,"reputation":11,"user_id":12686216,"display_name":"Hwan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638140822,"creation_date":1602130826,"question_id":64255734,"body_markdown":"We are currently working on an LMS project. I want to create a lecture that I took a class at a certain time and took if it was more than the input time when I opened the class.\r\n\r\nBy the way, should I use a session or a thread to create something that time passes when I enter a specific page? \r\n\r\nAnyone can give me directions","title":"In Spring Boot and Spring Security, can I get the time when I enter a specific page and how long I stay when the page exits?","body":"<p>We are currently working on an LMS project. I want to create a lecture that I took a class at a certain time and took if it was more than the input time when I opened the class.</p>\n<p>By the way, should I use a session or a thread to create something that time passes when I enter a specific page?</p>\n<p>Anyone can give me directions</p>\n"},{"tags":["java","spring","eclipse","spring-boot"],"comments":[{"owner":{"account_id":10756655,"reputation":362,"user_id":7914401,"display_name":"Leroy"},"score":0,"creation_date":1602337544,"post_id":64293748,"comment_id":113691541,"body_markdown":"did you try to right click the main class of springboot app then click &#39;debug as&#39; ?","body":"did you try to right click the main class of springboot app then click &#39;debug as&#39; ?"},{"owner":{"display_name":"user13039345"},"score":0,"creation_date":1602337874,"post_id":64293748,"comment_id":113691636,"body_markdown":"@Leroy When I try that there is only one option for &quot;Java Application&quot;","body":"@Leroy When I try that there is only one option for &quot;Java Application&quot;"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1602340686,"post_id":64293748,"comment_id":113692448,"body_markdown":"The Spring Tools add some convenience features like property autocompletion but aren&#39;t required at all just to develop a Boot application. Just run it as &quot;Java application&quot; (assuming you&#39;re using the modern `main` style).","body":"The Spring Tools add some convenience features like property autocompletion but aren&#39;t required at all just to develop a Boot application. Just run it as &quot;Java application&quot; (assuming you&#39;re using the modern <code>main</code> style)."}],"owner":{"display_name":"user13039345"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140733,"creation_date":1602335037,"question_id":64293748,"body_markdown":"I&#39;m trying to debug a Spring Boot API application in Eclipse. I have breakpoints set but none of them are hitting when running the application. After looking into it some more, it seems that I need to install Spring Tool Suite Eclipse plugin. According to this post: https://stackoverflow.com/questions/36583947/how-to-debug-a-spring-boot-application-in-spring-tool-suite, there should be a Debug As &gt; Spring Boot App option when I right-click on the project. However, I am not seeing anything like this. When I open the &quot;Boot Dashboard&quot;, I am just taken to a webpage with release notes. \r\n\r\nDoes anybody know what I am doing incorrectly?\r\nThanks!","title":"Eclipse - Spring Tool Suite Debug As Spring Boot App","body":"<p>I'm trying to debug a Spring Boot API application in Eclipse. I have breakpoints set but none of them are hitting when running the application. After looking into it some more, it seems that I need to install Spring Tool Suite Eclipse plugin. According to this post: <a href=\"https://stackoverflow.com/questions/36583947/how-to-debug-a-spring-boot-application-in-spring-tool-suite\">How to debug a Spring Boot application in Spring Tool Suite</a>, there should be a Debug As &gt; Spring Boot App option when I right-click on the project. However, I am not seeing anything like this. When I open the &quot;Boot Dashboard&quot;, I am just taken to a webpage with release notes.</p>\n<p>Does anybody know what I am doing incorrectly?\nThanks!</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1602351126,"post_id":64296310,"comment_id":113695417,"body_markdown":"Are you sure the table name is ADMIN not ADMINS? Add the Admins entity class.","body":"Are you sure the table name is ADMIN not ADMINS? Add the Admins entity class."},{"owner":{"account_id":19388754,"reputation":1,"user_id":14304586,"display_name":"rambowrench"},"score":0,"creation_date":1602351281,"post_id":64296310,"comment_id":113695463,"body_markdown":"```@Entity\n//@SequenceGenerator(name = &quot;ADM-SEQ&quot;, initialValue = 7280, allocationSize = 8000)\n@Table(name = &quot;ADMIN&quot;)\npublic class Admins { ||||||||||||||||||||yes i&#39;m sure","body":"```@Entity //@SequenceGenerator(name = &quot;ADM-SEQ&quot;, initialValue = 7280, allocationSize = 8000) @Table(name = &quot;ADMIN&quot;) public class Admins { ||||||||||||||||||||yes i&#39;m sure"},{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1602352257,"post_id":64296310,"comment_id":113695710,"body_markdown":"Can you show your database structure in MySQL Workbench or another db tool? Because the error is very clear that it can&#39;t find a table INTERNET_BANKING.ADMIN","body":"Can you show your database structure in MySQL Workbench or another db tool? Because the error is very clear that it can&#39;t find a table INTERNET_BANKING.ADMIN"},{"owner":{"account_id":19388754,"reputation":1,"user_id":14304586,"display_name":"rambowrench"},"score":0,"creation_date":1602353393,"post_id":64296310,"comment_id":113696005,"body_markdown":"plz check the link [ https://drive.google.com/file/d/10Xq9u3u7gX7ZnJjhglMgOyI9B0FrXu4o/view?usp=sharing ]","body":"plz check the link [ <a href=\"https://drive.google.com/file/d/10Xq9u3u7gX7ZnJjhglMgOyI9B0FrXu4o/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/10Xq9u3u7gX7ZnJjhglMgOyI9B0FrXu4o/&hellip;</a> ]"},{"owner":{"account_id":19388754,"reputation":1,"user_id":14304586,"display_name":"rambowrench"},"score":0,"creation_date":1602355032,"post_id":64296310,"comment_id":113696466,"body_markdown":"@OnurBaşt&#252;rk are you able to view the image i shared?","body":"@OnurBaşt&#252;rk are you able to view the image i shared?"},{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1602356373,"post_id":64296310,"comment_id":113696822,"body_markdown":"Yeah case sensitivity could be the problem. Just try and check if the error occurs again! That&#39;s why I asked for the db schema","body":"Yeah case sensitivity could be the problem. Just try and check if the error occurs again! That&#39;s why I asked for the db schema"},{"owner":{"account_id":18858438,"reputation":2538,"user_id":13755857,"display_name":"Shawrup"},"score":0,"creation_date":1602357578,"post_id":64296310,"comment_id":113697109,"body_markdown":"in your query change ADMIN to admin and try again. Where did you install Mysql server ? Windows , Linux or Mac ?","body":"in your query change ADMIN to admin and try again. Where did you install Mysql server ? Windows , Linux or Mac ?"},{"owner":{"account_id":19388754,"reputation":1,"user_id":14304586,"display_name":"rambowrench"},"score":0,"creation_date":1602358010,"post_id":64296310,"comment_id":113697235,"body_markdown":"no @ShawrupKumerSuter i&#39;m using pop os. &amp; thanks everyone it helped","body":"no @ShawrupKumerSuter i&#39;m using pop os. &amp; thanks everyone it helped"}],"owner":{"account_id":19388754,"reputation":1,"user_id":14304586,"display_name":"rambowrench"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140693,"creation_date":1602350894,"question_id":64296310,"body_markdown":"I&#39;m trying to build spring boot project.\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/INTERNET_BANKING?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\nspring.datasource.username=springuser\r\nspring.datasource.password=password\r\n```\r\nmy `application.properties` file have these settings\r\n\r\n```java\r\n@Repository\r\npublic interface adminRepository extends CrudRepository&lt;Admins, Long&gt; {\r\n    @Query(value =  &quot;select A_PASSWD from ADMIN where A_ID=?1&quot;, nativeQuery = true)\r\n    String checkPasswordById(long id);\r\n}\r\n```\r\nmy repository class have this func.\r\n```java\r\n@GetMapping(&quot;/logWithID&quot;)\r\n    public String returnHomePage(@RequestParam(&quot;ID&quot;) long id, @RequestParam(&quot;passwd&quot;) String passwd) {\r\n        if (admrepo.existsById(id)) {\r\n            System.out.println(admrepo.checkPasswordById(id));\r\n            if (admrepo.checkPasswordById(id) == passwd) {\r\n                return &quot;admin&quot;;\r\n            }else{\r\n                return &quot;login&quot;;\r\n            }\r\n        } else if (cstrepo.existsById(id)) {\r\n            if (cstrepo.checkPasswordById(id) == passwd) {\r\n                return &quot;customer&quot;;\r\n            }else{\r\n                return &quot;login&quot;;\r\n            }\r\n        }else{\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n```\r\nmy controller class have this func.\r\n```java\r\n@Entity\r\n@Table(name = &quot;ADMIN&quot;)\r\npublic class Admins {\r\n```\r\nmy entity class\r\n```\r\n-2020-10-10 22:42:32.482 - INFO 8068 --- [nio-8100-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n-2020-10-10 22:42:32.482 - INFO 8068 --- [nio-8100-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n-2020-10-10 22:42:32.489 - INFO 8068 --- [nio-8100-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms\r\n-2020-10-10 22:43:51.754 -DEBUG 8068 --- [nio-8100-exec-4] org.hibernate.SQL                        : select count(*) as col_0_0_ from admin admins0_ where admins0_.a_id=?\r\n-Hibernate: select count(*) as col_0_0_ from admin admins0_ where admins0_.a_id=?\r\n2020-10-10 22:43:52.085 -DEBUG 8068 --- [nio-8100-exec-4] org.hibernate.SQL                        : select A_PASSWD from ADMIN where A_ID=?\r\n-Hibernate: select A_PASSWD from ADMIN where A_ID=?\r\n2020-10-10 22:43:52.154 - WARN 8068 --- [nio-8100-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1146, SQLState: 42S02\r\n-2020-10-10 22:43:52.154 -ERROR 8068 --- [nio-8100-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table &#39;INTERNET_BANKING.ADMIN&#39; doesn&#39;t exist\r\n-2020-10-10 22:43:52.245 -ERROR 8068 --- [nio-8100-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\r\n-\r\njava.sql.SQLSyntaxErrorException: Table &#39;INTERNET_BANKING.ADMIN&#39; doesn&#39;t exist\r\n```\r\n&amp; I&#39;m getting this error. \r\nI dropped my tables &amp; rebuilt them again but the error persist.","title":"whenever i try to login my application these sql error 1146 happens. how to solve it?","body":"<p>I'm trying to build spring boot project.</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/INTERNET_BANKING?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\nspring.datasource.username=springuser\nspring.datasource.password=password\n</code></pre>\n<p>my <code>application.properties</code> file have these settings</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface adminRepository extends CrudRepository&lt;Admins, Long&gt; {\n    @Query(value =  &quot;select A_PASSWD from ADMIN where A_ID=?1&quot;, nativeQuery = true)\n    String checkPasswordById(long id);\n}\n</code></pre>\n<p>my repository class have this func.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/logWithID&quot;)\n    public String returnHomePage(@RequestParam(&quot;ID&quot;) long id, @RequestParam(&quot;passwd&quot;) String passwd) {\n        if (admrepo.existsById(id)) {\n            System.out.println(admrepo.checkPasswordById(id));\n            if (admrepo.checkPasswordById(id) == passwd) {\n                return &quot;admin&quot;;\n            }else{\n                return &quot;login&quot;;\n            }\n        } else if (cstrepo.existsById(id)) {\n            if (cstrepo.checkPasswordById(id) == passwd) {\n                return &quot;customer&quot;;\n            }else{\n                return &quot;login&quot;;\n            }\n        }else{\n            return &quot;login&quot;;\n        }\n    }\n</code></pre>\n<p>my controller class have this func.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;ADMIN&quot;)\npublic class Admins {\n</code></pre>\n<p>my entity class</p>\n<pre><code>-2020-10-10 22:42:32.482 - INFO 8068 --- [nio-8100-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n-2020-10-10 22:42:32.482 - INFO 8068 --- [nio-8100-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n-2020-10-10 22:42:32.489 - INFO 8068 --- [nio-8100-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms\n-2020-10-10 22:43:51.754 -DEBUG 8068 --- [nio-8100-exec-4] org.hibernate.SQL                        : select count(*) as col_0_0_ from admin admins0_ where admins0_.a_id=?\n-Hibernate: select count(*) as col_0_0_ from admin admins0_ where admins0_.a_id=?\n2020-10-10 22:43:52.085 -DEBUG 8068 --- [nio-8100-exec-4] org.hibernate.SQL                        : select A_PASSWD from ADMIN where A_ID=?\n-Hibernate: select A_PASSWD from ADMIN where A_ID=?\n2020-10-10 22:43:52.154 - WARN 8068 --- [nio-8100-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1146, SQLState: 42S02\n-2020-10-10 22:43:52.154 -ERROR 8068 --- [nio-8100-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table 'INTERNET_BANKING.ADMIN' doesn't exist\n-2020-10-10 22:43:52.245 -ERROR 8068 --- [nio-8100-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\n-\njava.sql.SQLSyntaxErrorException: Table 'INTERNET_BANKING.ADMIN' doesn't exist\n</code></pre>\n<p>&amp; I'm getting this error.\nI dropped my tables &amp; rebuilt them again but the error persist.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":8928758,"reputation":11,"user_id":13208939,"display_name":"Yatish Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638140643,"creation_date":1602581239,"question_id":64332421,"body_markdown":"I have custom metrics which is pushed to the metrics endpoint, I use the metrics endpoint to push to Datadog. I wanted to know how to test `DatadogMeterRegistry` in spring boot application.\r\n\r\nI found something in [GitHub][1] but it was dead-end \r\n```java\r\n@Configuration\r\npublic class CustomMetricsConfig {\r\n\r\n    @Bean\r\n    public MeterBinder tlsServiceMetrics(TslService tslService) {\r\n        return registry -&gt; {\r\n            registry.gauge(&quot;TestMetrics.summaryCount&quot;, testService, v -&gt; v.getService().getSummary().size()).sum());\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/blob/363b9d8e1d4af93a986eac6595b71493c2de5708/implementations/micrometer-registry-datadog/src/test/java/io/micrometer/datadog/DatadogMeterRegistryTest.java","title":"How to test DatadogMeterRegistry in spring boot application?","body":"<p>I have custom metrics which is pushed to the metrics endpoint, I use the metrics endpoint to push to Datadog. I wanted to know how to test <code>DatadogMeterRegistry</code> in spring boot application.</p>\n<p>I found something in <a href=\"https://github.com/micrometer-metrics/micrometer/blob/363b9d8e1d4af93a986eac6595b71493c2de5708/implementations/micrometer-registry-datadog/src/test/java/io/micrometer/datadog/DatadogMeterRegistryTest.java\" rel=\"nofollow noreferrer\">GitHub</a> but it was dead-end</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CustomMetricsConfig {\n\n    @Bean\n    public MeterBinder tlsServiceMetrics(TslService tslService) {\n        return registry -&gt; {\n            registry.gauge(&quot;TestMetrics.summaryCount&quot;, testService, v -&gt; v.getService().getSummary().size()).sum());\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2318717,"reputation":67,"user_id":2035116,"display_name":"Jaykumar Javiya"},"score":0,"creation_date":1602591462,"post_id":64334196,"comment_id":113763705,"body_markdown":"have you changed/installed java&#39;s new version in UNIX server?","body":"have you changed/installed java&#39;s new version in UNIX server?"},{"owner":{"account_id":15435352,"reputation":1,"user_id":11135602,"display_name":"Savio Coelho"},"score":0,"creation_date":1602594071,"post_id":64334196,"comment_id":113764955,"body_markdown":"Highly unlikely...No","body":"Highly unlikely...No"},{"owner":{"account_id":15435352,"reputation":1,"user_id":11135602,"display_name":"Savio Coelho"},"score":0,"creation_date":1602594104,"post_id":64334196,"comment_id":113764974,"body_markdown":"The dependency have not changed as well","body":"The dependency have not changed as well"}],"owner":{"account_id":15435352,"reputation":1,"user_id":11135602,"display_name":"Savio Coelho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140619,"creation_date":1602587774,"question_id":64334196,"body_markdown":"Error: Could not find or load main class org.springframework.boot.loader.PropertiesLauncher - JAVA -SpringBoot Application;\r\n\r\nThe application was working fine until a few months ago; is running fine locally but not the UNIX servers.\r\n\r\nCLI used -\r\n```\r\njava -cp SomeJAR.jar -Dloader.main=MainClass org.springframework.boot.loader.PropertiesLauncher classpath:some.xml\r\n```\r\nThe only that has changed in the project is that Unit Test Cases were added, what could be causing this issue???","title":"Error: Could not find or load main class org.springframework.boot.loader.PropertiesLauncher - JAVA -SpringBoot Application","body":"<p>Error: Could not find or load main class org.springframework.boot.loader.PropertiesLauncher - JAVA -SpringBoot Application;</p>\n<p>The application was working fine until a few months ago; is running fine locally but not the UNIX servers.</p>\n<p>CLI used -</p>\n<pre><code>java -cp SomeJAR.jar -Dloader.main=MainClass org.springframework.boot.loader.PropertiesLauncher classpath:some.xml\n</code></pre>\n<p>The only that has changed in the project is that Unit Test Cases were added, what could be causing this issue???</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1602648559,"post_id":64346222,"comment_id":113783938,"body_markdown":"Can you remove ComponentScan from the Application and see if things are working fine?","body":"Can you remove ComponentScan from the Application and see if things are working fine?"},{"owner":{"account_id":19730350,"reputation":1,"user_id":14445970,"display_name":"Ng Siong Teck"},"score":0,"creation_date":1602652561,"post_id":64346222,"comment_id":113784779,"body_markdown":"@sonus21 If I removed ComponentScan, Springboot will not process EnableJpaRepositories in the java datasource config file. If i add EnableJpaREpositories in the springboot main app, it will throw not a managed type error.","body":"@sonus21 If I removed ComponentScan, Springboot will not process EnableJpaRepositories in the java datasource config file. If i add EnableJpaREpositories in the springboot main app, it will throw not a managed type error."},{"owner":{"account_id":19730350,"reputation":1,"user_id":14445970,"display_name":"Ng Siong Teck"},"score":0,"creation_date":1605062473,"post_id":64346222,"comment_id":114535851,"body_markdown":"@sonus21 I just found out the issue that I forgot to import the module in maven. Thanks for the help anyway!! Cheers","body":"@sonus21 I just found out the issue that I forgot to import the module in maven. Thanks for the help anyway!! Cheers"}],"owner":{"account_id":19730350,"reputation":1,"user_id":14445970,"display_name":"Ng Siong Teck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140599,"creation_date":1602646283,"question_id":64346222,"body_markdown":"I would like to ask on how to configure the SpringBoot application to include external Jar Java DataSource Configuration. Entity classes are all annotated with `@Entity` in the external Jar entity classes, repository interfaces with @ repository annotation with CrudRepository extended. The Lib module is packaged as a JAR file with Datasource configured in Java. The WAR module is supposed to import the LIB jar, and use it to extract data from database, with the datasource configured with the JAR itself.\r\n\r\nMaven build extract\r\n\r\n    &lt;groupId&gt;com.sample.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;App-war&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sample.lib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;Lib-jar&lt;/artifactId&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.penta.account&lt;/groupId&gt;\r\n                &lt;artifactId&gt;AccountService-jar&lt;/artifactId&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nI have tried the following method below which resulted in &#39;not a managed type&#39; error for entity class. I understand that @EnableJpaRepository and @EntityScan is supposed to scan external JAR Spring beans to be included in the WAR application.\r\n\r\n    @SpringBootApplication()\r\n    @EnableJpaRepositories({&quot;com.sample.lib.repository&quot;,&quot;com.sample.app.repository&quot;})\r\n    @EntityScan({&quot;com.sample.lib.entity&quot;,&quot;com.sample.app.entity&quot;})\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application .class, args);\r\n        }\r\n    }\r\n\r\nSo I thought that I should have imported the Java datasource configuration, and then use it to store the packages to scan. The application can be compiled but the components in the WAR were not compiled, resulting spring boot to use the default login page and ignoring any custom authentication in the WAR packages.\r\n\r\nDataSource Java configuration for LibDSConfig\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(&quot;com.sample.lib.repository&quot;)\r\n    public class LibDSConfig {\r\n    \r\n        // Other @Bean classes\r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n            em.setDataSource(local());\r\n            em.setPackagesToScan(new String[]{com.sample.lib.entity});\r\n            JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            em.setJpaVendorAdapter(vendorAdapter);\r\n            em.setJpaProperties(additionalProperties());\r\n            return em;\r\n        }    \r\n    }\r\n\r\nDataSource Java configuration for AppDSConfig\r\n\r\n    @Configuration\r\n        @EnableJpaRepositories(&quot;com.sample.app.repository&quot;)\r\n        public class AppDSConfig {\r\n        \r\n            // Other @Bean classes\r\n            @Bean\r\n            public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n                LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n                em.setDataSource(local());\r\n                em.setPackagesToScan(new String[]{com.sample.app.entity});\r\n                JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n                em.setJpaVendorAdapter(vendorAdapter);\r\n                em.setJpaProperties(additionalProperties());\r\n                return em;\r\n            }    \r\n        }\r\n\r\nSpringboot main java configuration\r\n\r\n\r\n    @SpringBootApplication()\r\n    @ComponentScan({&quot;com.sample.lib.entity&quot;,&quot;com.sample.lib.entity&quot;})\r\n    @Import({\r\n        AppDSConfig.class,\r\n        LibDSConfig .class\r\n    })\r\n    public class Application{\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nI understand that the @ComponentScan only scans the entity classes as configured in the code above. I would like to ask if there are any alternative solutions to import external jar java configurations?","title":"Scanning external jar java datasource configuration in a multimodule SpringBoot application","body":"<p>I would like to ask on how to configure the SpringBoot application to include external Jar Java DataSource Configuration. Entity classes are all annotated with <code>@Entity</code> in the external Jar entity classes, repository interfaces with @ repository annotation with CrudRepository extended. The Lib module is packaged as a JAR file with Datasource configured in Java. The WAR module is supposed to import the LIB jar, and use it to extract data from database, with the datasource configured with the JAR itself.</p>\n<p>Maven build extract</p>\n<pre><code>&lt;groupId&gt;com.sample.app&lt;/groupId&gt;\n&lt;artifactId&gt;App-war&lt;/artifactId&gt;\n&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sample.lib&lt;/groupId&gt;\n            &lt;artifactId&gt;Lib-jar&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.penta.account&lt;/groupId&gt;\n            &lt;artifactId&gt;AccountService-jar&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I have tried the following method below which resulted in 'not a managed type' error for entity class. I understand that @EnableJpaRepository and @EntityScan is supposed to scan external JAR Spring beans to be included in the WAR application.</p>\n<pre><code>@SpringBootApplication()\n@EnableJpaRepositories({&quot;com.sample.lib.repository&quot;,&quot;com.sample.app.repository&quot;})\n@EntityScan({&quot;com.sample.lib.entity&quot;,&quot;com.sample.app.entity&quot;})\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application .class, args);\n    }\n}\n</code></pre>\n<p>So I thought that I should have imported the Java datasource configuration, and then use it to store the packages to scan. The application can be compiled but the components in the WAR were not compiled, resulting spring boot to use the default login page and ignoring any custom authentication in the WAR packages.</p>\n<p>DataSource Java configuration for LibDSConfig</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(&quot;com.sample.lib.repository&quot;)\npublic class LibDSConfig {\n\n    // Other @Bean classes\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(local());\n        em.setPackagesToScan(new String[]{com.sample.lib.entity});\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(additionalProperties());\n        return em;\n    }    \n}\n</code></pre>\n<p>DataSource Java configuration for AppDSConfig</p>\n<pre><code>@Configuration\n    @EnableJpaRepositories(&quot;com.sample.app.repository&quot;)\n    public class AppDSConfig {\n    \n        // Other @Bean classes\n        @Bean\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n            LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n            em.setDataSource(local());\n            em.setPackagesToScan(new String[]{com.sample.app.entity});\n            JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n            em.setJpaVendorAdapter(vendorAdapter);\n            em.setJpaProperties(additionalProperties());\n            return em;\n        }    \n    }\n</code></pre>\n<p>Springboot main java configuration</p>\n<pre><code>@SpringBootApplication()\n@ComponentScan({&quot;com.sample.lib.entity&quot;,&quot;com.sample.lib.entity&quot;})\n@Import({\n    AppDSConfig.class,\n    LibDSConfig .class\n})\npublic class Application{\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>I understand that the @ComponentScan only scans the entity classes as configured in the code above. I would like to ask if there are any alternative solutions to import external jar java configurations?</p>\n"},{"tags":["java","python-3.x","macos","mini-forge"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1638139812,"post_id":70148103,"comment_id":124002038,"body_markdown":"Is the trailing dot after `zip` needed?  `https://www.languagetool.org/download/LanguageTool-5.5.zip.`  returns 404 error too.","body":"Is the trailing dot after <code>zip</code> needed?  <code>https:&#47;&#47;www.languagetool.org&#47;download&#47;LanguageTool-5.5.zip.</code>  returns 404 error too."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1638140178,"post_id":70148103,"comment_id":124002112,"body_markdown":"The issue has been reported in [Github](https://github.com/jxmorris12/language_tool_python/issues/48), although it seems to be solved now. Are you still facing the problem?","body":"The issue has been reported in <a href=\"https://github.com/jxmorris12/language_tool_python/issues/48\" rel=\"nofollow noreferrer\">Github</a>, although it seems to be solved now. Are you still facing the problem?"},{"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"score":0,"creation_date":1638140475,"post_id":70148103,"comment_id":124002187,"body_markdown":"@AlexRudenko I tried also to go up `.../download` but got the same error 403.","body":"@AlexRudenko I tried also to go up <code>...&#47;download</code> but got the same error 403."},{"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"score":0,"creation_date":1638140564,"post_id":70148103,"comment_id":124002203,"body_markdown":"@jccampanero I just tried\n\n`req = requests.get(&#39;https://www.languagetool.org/download/LanguageTool-5.5.zip&#39;,stream=True, proxies=None)`\n\ngeting\n\n`&lt;Response [403]&gt;`","body":"@jccampanero I just tried  <code>req = requests.get(&#39;https:&#47;&#47;www.languagetool.org&#47;download&#47;Language&zwnj;&#8203;Tool-5.5.zip&#39;,stream&zwnj;&#8203;=True, proxies=None)</code>  geting  <code>&lt;Response [403]&gt;</code>"},{"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"score":0,"creation_date":1638140735,"post_id":70148103,"comment_id":124002238,"body_markdown":"Could it be something related with user agents on Safari with Mac M1? \n\nI&#39;m trying on Linux Mint same code, but it works fine.","body":"Could it be something related with user agents on Safari with Mac M1?   I&#39;m trying on Linux Mint same code, but it works fine."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1638142042,"post_id":70148103,"comment_id":124002464,"body_markdown":"I agree with you. I obtained the same result. And I agree with @JoopEggen, if you examine the response `history` a redirect is performed.","body":"I agree with you. I obtained the same result. And I agree with @JoopEggen, if you examine the response <code>history</code> a redirect is performed."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1638143705,"post_id":70148103,"comment_id":124002730,"body_markdown":"The redirect is performed against `https://languagetool.org/download/LanguageTool-5.5.zip`. Pay attention to the url, it is not under `www` anymore. And this link returns always `403`, forbidden.","body":"The redirect is performed against <code>https:&#47;&#47;languagetool.org&#47;download&#47;LanguageTool-5.5.zip</code>. Pay attention to the url, it is not under <code>www</code> anymore. And this link returns always <code>403</code>, forbidden."},{"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"score":0,"creation_date":1638144443,"post_id":70148103,"comment_id":124002853,"body_markdown":"Agree, I Just post the issue in the official forum page:\n\nhttps://forum.languagetool.org/t/automated-download-of-lt-does-not-work/7424\n\nand they tell me This is a known issue, and we’re working on it. It will hopefully be fixed in a few days.\n\nI just wonder if we can just get the local files from the languages to make it work and stop depending on the server...","body":"Agree, I Just post the issue in the official forum page:  <a href=\"https://forum.languagetool.org/t/automated-download-of-lt-does-not-work/7424\" rel=\"nofollow noreferrer\">forum.languagetool.org/t/automated-download-of-lt-does-not-w&zwnj;&#8203;ork/&hellip;</a>  and they tell me This is a known issue, and we’re working on it. It will hopefully be fixed in a few days.  I just wonder if we can just get the local files from the languages to make it work and stop depending on the server..."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638140566,"creation_date":1638140566,"answer_id":70148220,"question_id":70148103,"body_markdown":"***Not an answer: the network traffic***\r\n\r\nIn the browser, development tool, network: a redirect on the zip,\r\nFor the rest tracking.\r\n\r\n| Name | Status | Type | Initiator | Size | Time |\r\n|------|--------|------|-----------|------|------|\r\n| collect?v=1&amp;_v=j96&amp;a=421817770&amp;t=event&amp;_s=2&amp;dl=htt…-languagetool-org-download-languaget&amp;z=2037529220 | 200 | xhr | analytics.js:44 | 22 B | 211  ms |\r\n| Pingym?gm0=0&amp;gm1=0&amp;tivt=2549&amp;hov=1&amp;tth=113&amp;intt=2&amp;intl…0:tp=1:mt=7&amp;sek=3697285284406464539:1638139533389 | 200 | ping | inside.js:1 | 1.3 kB | 324  ms |\r\n| Bilddt?advEntityId=819590&amp;asId=ecf354bb-1855-2567-a204…13*,rmeas:1,rend:1,renddet:DIV.qs.sn,lt:0%7D&amp;br=c | 200 | gif | dcmads.js:1011 | 216 B | 1.08 s |\r\n| Document LanguageTool-5.5.zip | **301** | document / redirect | others | 300 B | 295  ms |\r\n| XHRcollect?t=dc&amp;aip=1&amp;_r=3&amp;v=1&amp;_v=j96&amp;tid=UA-10824261…7377033.1638135822&amp;_u=SCCACEABBAAAAC~&amp;z=905256628 | 200 | xhr | analytics.js:44 | 22 B | 195  ms |\r\n| Document LanguageTool-5.5.zip | 200 | document | LanguageTool-5.5.zip | 11.0 kB | 494  ms |\r\n\r\nNot sure whether the redirect is causing the problem.","title":"Exception: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip. language_tool_python, Mac M1","body":"<p><em><strong>Not an answer: the network traffic</strong></em></p>\n<p>In the browser, development tool, network: a redirect on the zip,\nFor the rest tracking.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Status</th>\n<th>Type</th>\n<th>Initiator</th>\n<th>Size</th>\n<th>Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>collect?v=1&amp;_v=j96&amp;a=421817770&amp;t=event&amp;_s=2&amp;dl=htt…-languagetool-org-download-languaget&amp;z=2037529220</td>\n<td>200</td>\n<td>xhr</td>\n<td>analytics.js:44</td>\n<td>22 B</td>\n<td>211  ms</td>\n</tr>\n<tr>\n<td>Pingym?gm0=0&amp;gm1=0&amp;tivt=2549&amp;hov=1&amp;tth=113&amp;intt=2&amp;intl…0:tp=1:mt=7&amp;sek=3697285284406464539:1638139533389</td>\n<td>200</td>\n<td>ping</td>\n<td>inside.js:1</td>\n<td>1.3 kB</td>\n<td>324  ms</td>\n</tr>\n<tr>\n<td>Bilddt?advEntityId=819590&amp;asId=ecf354bb-1855-2567-a204…13*,rmeas:1,rend:1,renddet:DIV.qs.sn,lt:0%7D&amp;br=c</td>\n<td>200</td>\n<td>gif</td>\n<td>dcmads.js:1011</td>\n<td>216 B</td>\n<td>1.08 s</td>\n</tr>\n<tr>\n<td>Document LanguageTool-5.5.zip</td>\n<td><strong>301</strong></td>\n<td>document / redirect</td>\n<td>others</td>\n<td>300 B</td>\n<td>295  ms</td>\n</tr>\n<tr>\n<td>XHRcollect?t=dc&amp;aip=1&amp;_r=3&amp;v=1&amp;_v=j96&amp;tid=UA-10824261…7377033.1638135822&amp;_u=SCCACEABBAAAAC~&amp;z=905256628</td>\n<td>200</td>\n<td>xhr</td>\n<td>analytics.js:44</td>\n<td>22 B</td>\n<td>195  ms</td>\n</tr>\n<tr>\n<td>Document LanguageTool-5.5.zip</td>\n<td>200</td>\n<td>document</td>\n<td>LanguageTool-5.5.zip</td>\n<td>11.0 kB</td>\n<td>494  ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Not sure whether the redirect is causing the problem.</p>\n"}],"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638140566,"creation_date":1638139390,"question_id":70148103,"body_markdown":"When using **language_tool_python** package for finding gramatical errors, I found the following Exception:\r\n\r\n`Exception: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip.`\r\n\r\nI am using Mac M1, had to install **Java 17** (tried Java 8 as well) from Azul Zulu so its recognizes Java module.\r\n\r\nOn Linux, works fine.\r\n\r\nSeems like there is a problem with the URL, but when we go directly the file exists!\r\n\r\nhttps://www.languagetool.org/download/LanguageTool-5.5.zip\r\n\r\nAlso tried version 2.5 but I got the same result.\r\n\r\nIs there a workaround for this?\r\n\r\nThanks!\r\n\r\nHere the traceback:\r\n\r\n```---------------------------------------------------------------------------\r\nException                                 Traceback (most recent call last)\r\n/var/folders/d_/hfs18jf54371qfmf54zq289c0000gn/T/ipykernel_33610/1177712971.py in &lt;module&gt;\r\n----&gt; 1 tool = language_tool_python.LanguageTool(&#39;en-US&#39;)\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in __init__(self, language, motherTongue, remote_server, newSpellings)\r\n     43             self._update_remote_server_config(self._url)\r\n     44         elif not self._server_is_alive():\r\n---&gt; 45             self._start_server_on_free_port()\r\n     46         if language is None:\r\n     47             try:\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in _start_server_on_free_port(self)\r\n    179             self._url = &#39;http://{}:{}/v2/&#39;.format(self._HOST, self._port)\r\n    180             try:\r\n--&gt; 181                 self._start_local_server()\r\n    182                 break\r\n    183             except ServerError:\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in _start_local_server(self)\r\n    189     def _start_local_server(self):\r\n    190         # Before starting local server, download language tool if needed.\r\n--&gt; 191         download_lt()\r\n    192         err = None\r\n    193         try:\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in download_lt(update)\r\n    152         return\r\n    153 \r\n--&gt; 154     download_zip(language_tool_download_url, download_folder)\r\n    155 \r\n    156 if __name__ == &#39;__main__&#39;:\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in download_zip(url, directory)\r\n    123     # Download file.\r\n    124     downloaded_file = tempfile.NamedTemporaryFile(suffix=&#39;.zip&#39;, delete=False)\r\n--&gt; 125     http_get(url, downloaded_file)\r\n    126     # Close the file so we can extract it.\r\n    127     downloaded_file.close()\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in http_get(url, out_file, proxies)\r\n    104     total = int(content_length) if content_length is not None else None\r\n    105     if req.status_code == 403: # Not found on AWS\r\n--&gt; 106         raise Exception(&#39;Could not find at URL {}.&#39;.format(url))\r\n    107     progress = tqdm.tqdm(unit=&quot;B&quot;, unit_scale=True, total=total, desc=&#39;Downloading LanguageTool&#39;)\r\n    108     for chunk in req.iter_content(chunk_size=1024):\r\n\r\nException: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip.```","title":"Exception: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip. language_tool_python, Mac M1","body":"<p>When using <strong>language_tool_python</strong> package for finding gramatical errors, I found the following Exception:</p>\n<p><code>Exception: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip.</code></p>\n<p>I am using Mac M1, had to install <strong>Java 17</strong> (tried Java 8 as well) from Azul Zulu so its recognizes Java module.</p>\n<p>On Linux, works fine.</p>\n<p>Seems like there is a problem with the URL, but when we go directly the file exists!</p>\n<p><a href=\"https://www.languagetool.org/download/LanguageTool-5.5.zip\" rel=\"nofollow noreferrer\">https://www.languagetool.org/download/LanguageTool-5.5.zip</a></p>\n<p>Also tried version 2.5 but I got the same result.</p>\n<p>Is there a workaround for this?</p>\n<p>Thanks!</p>\n<p>Here the traceback:</p>\n<pre><code>Exception                                 Traceback (most recent call last)\n/var/folders/d_/hfs18jf54371qfmf54zq289c0000gn/T/ipykernel_33610/1177712971.py in &lt;module&gt;\n----&gt; 1 tool = language_tool_python.LanguageTool('en-US')\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in __init__(self, language, motherTongue, remote_server, newSpellings)\n     43             self._update_remote_server_config(self._url)\n     44         elif not self._server_is_alive():\n---&gt; 45             self._start_server_on_free_port()\n     46         if language is None:\n     47             try:\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in _start_server_on_free_port(self)\n    179             self._url = 'http://{}:{}/v2/'.format(self._HOST, self._port)\n    180             try:\n--&gt; 181                 self._start_local_server()\n    182                 break\n    183             except ServerError:\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in _start_local_server(self)\n    189     def _start_local_server(self):\n    190         # Before starting local server, download language tool if needed.\n--&gt; 191         download_lt()\n    192         err = None\n    193         try:\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in download_lt(update)\n    152         return\n    153 \n--&gt; 154     download_zip(language_tool_download_url, download_folder)\n    155 \n    156 if __name__ == '__main__':\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in download_zip(url, directory)\n    123     # Download file.\n    124     downloaded_file = tempfile.NamedTemporaryFile(suffix='.zip', delete=False)\n--&gt; 125     http_get(url, downloaded_file)\n    126     # Close the file so we can extract it.\n    127     downloaded_file.close()\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in http_get(url, out_file, proxies)\n    104     total = int(content_length) if content_length is not None else None\n    105     if req.status_code == 403: # Not found on AWS\n--&gt; 106         raise Exception('Could not find at URL {}.'.format(url))\n    107     progress = tqdm.tqdm(unit=&quot;B&quot;, unit_scale=True, total=total, desc='Downloading LanguageTool')\n    108     for chunk in req.iter_content(chunk_size=1024):\n\nException: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip.```\n</code></pre>\n"},{"tags":["java","video","libgdx"],"comments":[{"owner":{"account_id":6509008,"reputation":2795,"user_id":5036979,"display_name":"Ahmed Ashraf"},"score":0,"creation_date":1475846321,"post_id":35940543,"comment_id":67120352,"body_markdown":"Hi, did you get an answer yet, I&#39;m facing the same problem","body":"Hi, did you get an answer yet, I&#39;m facing the same problem"},{"owner":{"account_id":4881377,"reputation":5297,"user_id":3946482,"accept_rate":93,"display_name":"plaidshirt"},"score":0,"creation_date":1476079785,"post_id":35940543,"comment_id":67184275,"body_markdown":"@AhmedAshrafG : No, I haven&#39;t got yet.","body":"@AhmedAshrafG : No, I haven&#39;t got yet."},{"owner":{"account_id":6509008,"reputation":2795,"user_id":5036979,"display_name":"Ahmed Ashraf"},"score":0,"creation_date":1476119446,"post_id":35940543,"comment_id":67206523,"body_markdown":"Ok thanks @Kovacs, guess I have to do it natively in android/desktop","body":"Ok thanks @Kovacs, guess I have to do it natively in android/desktop"}],"answers":[{"tags":[],"owner":{"account_id":3568052,"reputation":1179,"user_id":2979092,"accept_rate":88,"display_name":"WLGfx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638140443,"creation_date":1637336645,"answer_id":70037426,"question_id":35940543,"body_markdown":"Okay, so this was asked 5 years ago(ish), but I decided for my current project I needed it working with LibGDX.\r\n\r\nFirst off the repository page:\r\n\r\n    https://github.com/libgdx/gdx-video\r\n\r\nA page that kind of helped me a little and probably won&#39;t be mentioned again:\r\n\r\n    https://github.com/libgdx/gdx-video/issues/2\r\n\r\nAnd then this that I was curious about:\r\n\r\n    https://oss.sonatype.org/content/repositories/snapshots/com/badlogicgames/gdx-video/\r\n\r\nNB: This is Nov 2021 so the current versions of IntelliJ Idea and LibGDX I am using for this.\r\n\r\nBefore I start with integrating this library I&#39;ll add that LibGDX still sets up the older version of LWJGL for Desktop as the earlier version, but I fixed this by changing the &#39;DesktopLauncher.java&#39; to this:\r\n\r\n    //import com.badlogic.gdx.backends.lwjgl.LwjglApplication;\r\n    //import com.badlogic.gdx.backends.lwjgl.LwjglApplicationConfiguration;\r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\r\n    import com.mygdx.game.MyGdxGame;\r\n\r\n    public class DesktopLauncher {\r\n\t    public static void main (String[] arg) {\r\n\t\t    //LwjglApplicationConfiguration config = new LwjglApplicationConfiguration();\r\n\t\t    //new LwjglApplication(new MyGdxGame(), config);\r\n\t\t    Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\r\n\t\t    config.setWindowedMode(1280, 768);\r\n\t\t    new Lwjgl3Application(new MyGdxGame(), config);\r\n\t    }\r\n    }\r\n\r\nOn the first page it gives an explanation thus:\r\n\r\n    Core:\r\n    implementation &quot;com.badlogicgames.gdx-video:gdx-video:0.0.1&quot;\r\n    Desktop:\r\n    implementation &quot;com.badlogicgames.gdx-video:gdx-video-lwjgl:0.0.1&quot;\r\n    or\r\n    implementation &quot;com.badlogicgames.gdx-video:gdx-video-lwjgl3:0.0.1&quot;\r\n    Android:\r\n    implementation &quot;com.badlogicgames.gdx-video:gdx-video-android:0.0.1&quot;\r\n\r\nIt says on the github page to use the current version of &#39;gdx-video&#39; instead of &#39;0.0.1&#39;. The 3rd link above is the repository for &#39;gdx-video&#39; and on entering the directories, the current version as of this date is &#39;1.3.2-SNAPSHOT&#39;. It took me a few days to figure out I had to add the &#39;-SNAPSHOT&#39; at the end.\r\n\r\nSo, to get this working, the &#39;build.gradle&#39; file was changed to this:\r\n\r\n    project(&quot;:core&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n\r\n        // https://oss.sonatype.org/content/repositories/snapshots/com/badlogicgames/gdx-video/\r\n\r\n        dependencies {\r\n            implementation &quot;com.badlogicgames.gdx-video:gdx-video:1.3.2-SNAPSHOT&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\r\n            \r\n        }\r\n    }\r\n\r\n    project(&quot;:android&quot;) {\r\n        apply plugin: &quot;com.android.application&quot;\r\n\r\n        configurations { natives }\r\n\r\n        dependencies {\r\n            implementation project(&quot;:core&quot;)\r\n            implementation &quot;com.badlogicgames.gdx-video:gdx-video-android:1.3.2-SNAPSHOT&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64&quot;\r\n            \r\n        }\r\n    }\r\n\r\n    project(&quot;:desktop&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n\r\n\r\n        dependencies {\r\n            implementation project(&quot;:core&quot;)\r\n            implementation &quot;com.badlogicgames.gdx-video:gdx-video-desktop:1.3.2-SNAPSHOT&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop&quot;\r\n            \r\n        }\r\n    }\r\n\r\nThe desktop project then built and ran fine, but on Android it still compained. This was a simple fix as the error message said that the minSdkVersion needed to be 16 and not 14.\r\n\r\nIn the &#39;build.gradle:android&#39;:\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.mygdx.game&quot;\r\n        minSdkVersion 16 // just change this\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n\r\nAlso note that you will need to resync your gradle project.\r\n\r\nSo, this has got it building for desktop and android, I&#39;m not using other platforms but it should be the same for what is available in the repository.\r\n\r\nAlso, I&#39;m just about to start testing this out so I don&#39;t actually know if it is working. I&#39;ll come back and make edits as needed.\r\n\r\n**UPDATE: 28 Nov 2021**\r\n\r\nI&#39;ve ditched &#39;gdx-video&#39; mainly because of the overhead of converting the video frames to a texture compatile with LibGDX. I&#39;ve used ffmpeg in the past and by using a custom shader to render the YUV video frame instead of converting to RGB first. This is most notable when playing 1080p videos on low end Android hardware, the video playback is very glitchy. Using my old code I was able to play 1080p 60FPS on a single core 800Mhz Arm chip. This version was struggling playing 25FPS on a quad core ARM chip.\r\n\r\nAlso the desktop version of &#39;gdx-video&#39;, although would build, the VideoPlayerDesktop class was missing and could not play a single thing.\r\n\r\nSo for me, it&#39;s back to the drawing board and set up two separate projects.","title":"Video playing in libGDX","body":"<p>Okay, so this was asked 5 years ago(ish), but I decided for my current project I needed it working with LibGDX.</p>\n<p>First off the repository page:</p>\n<pre><code>https://github.com/libgdx/gdx-video\n</code></pre>\n<p>A page that kind of helped me a little and probably won't be mentioned again:</p>\n<pre><code>https://github.com/libgdx/gdx-video/issues/2\n</code></pre>\n<p>And then this that I was curious about:</p>\n<pre><code>https://oss.sonatype.org/content/repositories/snapshots/com/badlogicgames/gdx-video/\n</code></pre>\n<p>NB: This is Nov 2021 so the current versions of IntelliJ Idea and LibGDX I am using for this.</p>\n<p>Before I start with integrating this library I'll add that LibGDX still sets up the older version of LWJGL for Desktop as the earlier version, but I fixed this by changing the 'DesktopLauncher.java' to this:</p>\n<pre><code>//import com.badlogic.gdx.backends.lwjgl.LwjglApplication;\n//import com.badlogic.gdx.backends.lwjgl.LwjglApplicationConfiguration;\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\nimport com.mygdx.game.MyGdxGame;\n\npublic class DesktopLauncher {\n    public static void main (String[] arg) {\n        //LwjglApplicationConfiguration config = new LwjglApplicationConfiguration();\n        //new LwjglApplication(new MyGdxGame(), config);\n        Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\n        config.setWindowedMode(1280, 768);\n        new Lwjgl3Application(new MyGdxGame(), config);\n    }\n}\n</code></pre>\n<p>On the first page it gives an explanation thus:</p>\n<pre><code>Core:\nimplementation &quot;com.badlogicgames.gdx-video:gdx-video:0.0.1&quot;\nDesktop:\nimplementation &quot;com.badlogicgames.gdx-video:gdx-video-lwjgl:0.0.1&quot;\nor\nimplementation &quot;com.badlogicgames.gdx-video:gdx-video-lwjgl3:0.0.1&quot;\nAndroid:\nimplementation &quot;com.badlogicgames.gdx-video:gdx-video-android:0.0.1&quot;\n</code></pre>\n<p>It says on the github page to use the current version of 'gdx-video' instead of '0.0.1'. The 3rd link above is the repository for 'gdx-video' and on entering the directories, the current version as of this date is '1.3.2-SNAPSHOT'. It took me a few days to figure out I had to add the '-SNAPSHOT' at the end.</p>\n<p>So, to get this working, the 'build.gradle' file was changed to this:</p>\n<pre><code>project(&quot;:core&quot;) {\n    apply plugin: &quot;java-library&quot;\n\n    // https://oss.sonatype.org/content/repositories/snapshots/com/badlogicgames/gdx-video/\n\n    dependencies {\n        implementation &quot;com.badlogicgames.gdx-video:gdx-video:1.3.2-SNAPSHOT&quot;\n        api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\n        api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\n        \n    }\n}\n\nproject(&quot;:android&quot;) {\n    apply plugin: &quot;com.android.application&quot;\n\n    configurations { natives }\n\n    dependencies {\n        implementation project(&quot;:core&quot;)\n        implementation &quot;com.badlogicgames.gdx-video:gdx-video-android:1.3.2-SNAPSHOT&quot;\n        api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64&quot;\n        api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64&quot;\n        \n    }\n}\n\nproject(&quot;:desktop&quot;) {\n    apply plugin: &quot;java-library&quot;\n\n\n    dependencies {\n        implementation project(&quot;:core&quot;)\n        implementation &quot;com.badlogicgames.gdx-video:gdx-video-desktop:1.3.2-SNAPSHOT&quot;\n        api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\n        api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\n        api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop&quot;\n        api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop&quot;\n        \n    }\n}\n</code></pre>\n<p>The desktop project then built and ran fine, but on Android it still compained. This was a simple fix as the error message said that the minSdkVersion needed to be 16 and not 14.</p>\n<p>In the 'build.gradle:android':</p>\n<pre><code>defaultConfig {\n    applicationId &quot;com.mygdx.game&quot;\n    minSdkVersion 16 // just change this\n    targetSdkVersion 30\n    versionCode 1\n    versionName &quot;1.0&quot;\n}\n</code></pre>\n<p>Also note that you will need to resync your gradle project.</p>\n<p>So, this has got it building for desktop and android, I'm not using other platforms but it should be the same for what is available in the repository.</p>\n<p>Also, I'm just about to start testing this out so I don't actually know if it is working. I'll come back and make edits as needed.</p>\n<p><strong>UPDATE: 28 Nov 2021</strong></p>\n<p>I've ditched 'gdx-video' mainly because of the overhead of converting the video frames to a texture compatile with LibGDX. I've used ffmpeg in the past and by using a custom shader to render the YUV video frame instead of converting to RGB first. This is most notable when playing 1080p videos on low end Android hardware, the video playback is very glitchy. Using my old code I was able to play 1080p 60FPS on a single core 800Mhz Arm chip. This version was struggling playing 25FPS on a quad core ARM chip.</p>\n<p>Also the desktop version of 'gdx-video', although would build, the VideoPlayerDesktop class was missing and could not play a single thing.</p>\n<p>So for me, it's back to the drawing board and set up two separate projects.</p>\n"}],"owner":{"account_id":4881377,"reputation":5297,"user_id":3946482,"accept_rate":93,"display_name":"plaidshirt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2816,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638140443,"creation_date":1457700048,"question_id":35940543,"body_markdown":"I have tried to use [GDX-video extension][1] in a libGDX project. I have converted an `MP4` file into `OGG` (Theora+Vorbis) with use of `VLC` and placed under `res/data/` folder in android project.\r\nWhen I run project, see black screen.\r\n\r\n    package com.mygdx.game;\r\n    \r\n    import com.badlogic.gdx.ApplicationAdapter;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.InputMultiplexer;\r\n    import com.badlogic.gdx.InputProcessor;\r\n    import com.badlogic.gdx.graphics.GL20;\r\n    import com.badlogic.gdx.graphics.Mesh;\r\n    import com.badlogic.gdx.graphics.PerspectiveCamera;\r\n    import com.badlogic.gdx.graphics.VertexAttributes.Usage;\r\n    import com.badlogic.gdx.graphics.g3d.Environment;\r\n    import com.badlogic.gdx.graphics.g3d.ModelInstance;\r\n    import com.badlogic.gdx.graphics.g3d.attributes.ColorAttribute;\r\n    import com.badlogic.gdx.graphics.g3d.environment.DirectionalLight;\r\n    import com.badlogic.gdx.graphics.g3d.utils.CameraInputController;\r\n    import com.badlogic.gdx.graphics.g3d.utils.MeshBuilder;\r\n    import com.badlogic.gdx.math.Vector3;\r\n    import com.badlogic.gdx.video.VideoPlayer;\r\n    import com.badlogic.gdx.video.VideoPlayerCreator;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    \r\n    public class MyGdxGame extends ApplicationAdapter implements InputProcessor {\r\n        public PerspectiveCamera cam;\r\n        public CameraInputController inputController;\r\n        public ModelInstance instance;\r\n        public Environment environment;\r\n    \r\n        public VideoPlayer videoPlayer;\r\n        public Mesh mesh;\r\n    \r\n        private final Vector3 tmpV1 = new Vector3();\r\n        private final Vector3 target = new Vector3();\r\n    \r\n        @Override\r\n        public void create() {\r\n            environment = new Environment();\r\n            environment.set(new ColorAttribute(ColorAttribute.AmbientLight, .4f, .4f, .4f, 1f));\r\n            environment.add(new DirectionalLight().set(0.8f, 0.8f, 0.8f, -1f, -0.8f, -0.2f));\r\n    \r\n            cam = new PerspectiveCamera(67, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\r\n            cam.position.set(10f, 10f, 10f);\r\n            cam.lookAt(0, 0, 0);\r\n            cam.near = 0.1f;\r\n            cam.far = 300f;\r\n            cam.update();\r\n    \r\n            MeshBuilder meshBuilder = new MeshBuilder();\r\n            meshBuilder.begin(Usage.Position | Usage.TextureCoordinates, GL20.GL_TRIANGLES);\r\n            // @formatter:off\r\n            meshBuilder.box(5, 5, 5);\r\n            // @formatter:on\r\n            mesh = meshBuilder.end();\r\n            videoPlayer = VideoPlayerCreator.createVideoPlayer(cam, mesh, GL20.GL_TRIANGLES);\r\n            try {\r\n                videoPlayer.play(Gdx.files.internal(&quot;data/converted.ogg&quot;));\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            Gdx.input.setInputProcessor(new InputMultiplexer(this, inputController = new CameraInputController(cam)));\r\n            Gdx.gl.glEnable(GL20.GL_CULL_FACE);\r\n            Gdx.gl.glCullFace(GL20.GL_BACK);\r\n        }\r\n    \r\n        @Override\r\n        public void render() {\r\n            inputController.update();\r\n    \r\n            Gdx.gl.glViewport(0, 0, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\r\n            Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\r\n    \r\n            final float delta = Gdx.graphics.getDeltaTime();\r\n            tmpV1.set(cam.direction).crs(cam.up).y = 0f;\r\n            cam.rotateAround(target, tmpV1.nor(), delta * 20);\r\n            cam.rotateAround(target, Vector3.Y, delta * -30);\r\n            cam.update();\r\n    \r\n            if (!videoPlayer.render()) { // As soon as the video is finished, we start the file again using the same player.\r\n                try {\r\n                    videoPlayer.play(Gdx.files.internal(&quot;data/converted.ogg&quot;));\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void dispose () {\r\n        }\r\n    \r\n        public boolean needsGL20 () {\r\n            return true;\r\n        }\r\n    \r\n        public void resume () {\r\n        }\r\n    \r\n        public void resize (int width, int height) {\r\n        }\r\n    \r\n        public void pause () {\r\n        }\r\n    \r\n        @Override\r\n        public boolean keyDown(int keycode) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean keyUp(int keycode) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean keyTyped(char character) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean touchDown(int screenX, int screenY, int pointer, int button) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean touchUp(int screenX, int screenY, int pointer, int button) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean touchDragged(int screenX, int screenY, int pointer) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean mouseMoved(int screenX, int screenY) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean scrolled(int amount) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nIt is a freshly created project, only necessary `Gradle` dependencies have added to it.\r\n\r\n\r\n  [1]: https://github.com/libgdx/gdx-video","title":"Video playing in libGDX","body":"<p>I have tried to use <a href=\"https://github.com/libgdx/gdx-video\" rel=\"nofollow\">GDX-video extension</a> in a libGDX project. I have converted an <code>MP4</code> file into <code>OGG</code> (Theora+Vorbis) with use of <code>VLC</code> and placed under <code>res/data/</code> folder in android project.\nWhen I run project, see black screen.</p>\n\n<pre><code>package com.mygdx.game;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.InputMultiplexer;\nimport com.badlogic.gdx.InputProcessor;\nimport com.badlogic.gdx.graphics.GL20;\nimport com.badlogic.gdx.graphics.Mesh;\nimport com.badlogic.gdx.graphics.PerspectiveCamera;\nimport com.badlogic.gdx.graphics.VertexAttributes.Usage;\nimport com.badlogic.gdx.graphics.g3d.Environment;\nimport com.badlogic.gdx.graphics.g3d.ModelInstance;\nimport com.badlogic.gdx.graphics.g3d.attributes.ColorAttribute;\nimport com.badlogic.gdx.graphics.g3d.environment.DirectionalLight;\nimport com.badlogic.gdx.graphics.g3d.utils.CameraInputController;\nimport com.badlogic.gdx.graphics.g3d.utils.MeshBuilder;\nimport com.badlogic.gdx.math.Vector3;\nimport com.badlogic.gdx.video.VideoPlayer;\nimport com.badlogic.gdx.video.VideoPlayerCreator;\n\nimport java.io.FileNotFoundException;\n\npublic class MyGdxGame extends ApplicationAdapter implements InputProcessor {\n    public PerspectiveCamera cam;\n    public CameraInputController inputController;\n    public ModelInstance instance;\n    public Environment environment;\n\n    public VideoPlayer videoPlayer;\n    public Mesh mesh;\n\n    private final Vector3 tmpV1 = new Vector3();\n    private final Vector3 target = new Vector3();\n\n    @Override\n    public void create() {\n        environment = new Environment();\n        environment.set(new ColorAttribute(ColorAttribute.AmbientLight, .4f, .4f, .4f, 1f));\n        environment.add(new DirectionalLight().set(0.8f, 0.8f, 0.8f, -1f, -0.8f, -0.2f));\n\n        cam = new PerspectiveCamera(67, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\n        cam.position.set(10f, 10f, 10f);\n        cam.lookAt(0, 0, 0);\n        cam.near = 0.1f;\n        cam.far = 300f;\n        cam.update();\n\n        MeshBuilder meshBuilder = new MeshBuilder();\n        meshBuilder.begin(Usage.Position | Usage.TextureCoordinates, GL20.GL_TRIANGLES);\n        // @formatter:off\n        meshBuilder.box(5, 5, 5);\n        // @formatter:on\n        mesh = meshBuilder.end();\n        videoPlayer = VideoPlayerCreator.createVideoPlayer(cam, mesh, GL20.GL_TRIANGLES);\n        try {\n            videoPlayer.play(Gdx.files.internal(\"data/converted.ogg\"));\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        Gdx.input.setInputProcessor(new InputMultiplexer(this, inputController = new CameraInputController(cam)));\n        Gdx.gl.glEnable(GL20.GL_CULL_FACE);\n        Gdx.gl.glCullFace(GL20.GL_BACK);\n    }\n\n    @Override\n    public void render() {\n        inputController.update();\n\n        Gdx.gl.glViewport(0, 0, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\n\n        final float delta = Gdx.graphics.getDeltaTime();\n        tmpV1.set(cam.direction).crs(cam.up).y = 0f;\n        cam.rotateAround(target, tmpV1.nor(), delta * 20);\n        cam.rotateAround(target, Vector3.Y, delta * -30);\n        cam.update();\n\n        if (!videoPlayer.render()) { // As soon as the video is finished, we start the file again using the same player.\n            try {\n                videoPlayer.play(Gdx.files.internal(\"data/converted.ogg\"));\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public void dispose () {\n    }\n\n    public boolean needsGL20 () {\n        return true;\n    }\n\n    public void resume () {\n    }\n\n    public void resize (int width, int height) {\n    }\n\n    public void pause () {\n    }\n\n    @Override\n    public boolean keyDown(int keycode) {\n        return false;\n    }\n\n    @Override\n    public boolean keyUp(int keycode) {\n        return false;\n    }\n\n    @Override\n    public boolean keyTyped(char character) {\n        return false;\n    }\n\n    @Override\n    public boolean touchDown(int screenX, int screenY, int pointer, int button) {\n        return false;\n    }\n\n    @Override\n    public boolean touchUp(int screenX, int screenY, int pointer, int button) {\n        return false;\n    }\n\n    @Override\n    public boolean touchDragged(int screenX, int screenY, int pointer) {\n        return false;\n    }\n\n    @Override\n    public boolean mouseMoved(int screenX, int screenY) {\n        return false;\n    }\n\n    @Override\n    public boolean scrolled(int amount) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>It is a freshly created project, only necessary <code>Gradle</code> dependencies have added to it.</p>\n"},{"tags":["java","class","object","inheritance","arraylist"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1638139583,"post_id":70148046,"comment_id":124001995,"body_markdown":"Please clarify what your intent is. Your main class does not even compile as is and your description is hard to follow. Do you want to add a `List` or a `Map` to the parent class?","body":"Please clarify what your intent is. Your main class does not even compile as is and your description is hard to follow. Do you want to add a <code>List</code> or a <code>Map</code> to the parent class?"},{"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"score":0,"creation_date":1638139712,"post_id":70148046,"comment_id":124002019,"body_markdown":"I want a list for the parent class.","body":"I want a list for the parent class."},{"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"score":0,"creation_date":1638139787,"post_id":70148046,"comment_id":124002034,"body_markdown":"I did put the main class with errors so it&#39;d be a little easier to understand with the comments.","body":"I did put the main class with errors so it&#39;d be a little easier to understand with the comments."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1638139872,"post_id":70148046,"comment_id":124002049,"body_markdown":"But what is `employeeList` in your main class? It seems to be a `List&lt;EmployeeService&gt;` so do you want a `List&lt;EmployeeService&gt;` property in your `List&lt;EmployeeService&gt;`?","body":"But what is <code>employeeList</code> in your main class? It seems to be a <code>List&lt;EmployeeService&gt;</code> so do you want a <code>List&lt;EmployeeService&gt;</code> property in your <code>List&lt;EmployeeService&gt;</code>?"},{"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"score":0,"creation_date":1638140048,"post_id":70148046,"comment_id":124002080,"body_markdown":"It&#39;s a hashMap that&#39;s used to create a new object with the child class, not the parent. And it&#39;s part of an assignment, I&#39;m sorry if the instructions are vague. All I need help with is to be able to pass an arrayList from the parent class to the child class.","body":"It&#39;s a hashMap that&#39;s used to create a new object with the child class, not the parent. And it&#39;s part of an assignment, I&#39;m sorry if the instructions are vague. All I need help with is to be able to pass an arrayList from the parent class to the child class."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1638140140,"post_id":70148046,"comment_id":124002101,"body_markdown":"It makes no sense at all. Is it an `ArrayList` or a `HashMap`?","body":"It makes no sense at all. Is it an <code>ArrayList</code> or a <code>HashMap</code>?"},{"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"score":0,"creation_date":1638140209,"post_id":70148046,"comment_id":124002118,"body_markdown":"An arrayList. I&#39;ll remove the main class if that helps. Ignore the HashMap please.","body":"An arrayList. I&#39;ll remove the main class if that helps. Ignore the HashMap please."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638140345,"creation_date":1638140345,"answer_id":70148199,"question_id":70148046,"body_markdown":"Just add the property and an additional constructor to the parent class as follows:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class EmployeeService {\r\n    private String experience;\r\n    private String position;\r\n    private List&lt;String&gt; serviceList;\r\n\r\n    public EmployeeService (String experience, String position) {\r\n        this.setExperience (experience);\r\n        this.setPosition(position);\r\n    }\r\n\r\n    public EmployeeService (String experience, String position, List&lt;String&gt; serviceList) {\r\n        this(experience, position);\r\n        this.serviceList = new ArrayList&lt;&gt;(serviceList);\r\n    }\r\n\r\n    public String getExperience() {\r\n        return experience;\r\n    }\r\n\r\n    public void setExperience(String experience) {\r\n        this.experience = experience;\r\n    }\r\n\r\n    public String getPosition() {\r\n        return position;\r\n    }\r\n\r\n    public void setPosition(String position) {\r\n        this.position = position;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Experience - &quot; + experience + &quot;Position&quot; + &quot; - &quot; + position;\r\n    }\r\n}\r\n```\r\n\r\nThen adapt your child class:\r\n```java\r\nimport java.util.List;\r\n\r\npublic class EmployeeInfo extends EmployeeService {\r\n    private String firstName;\r\n    private String address;\r\n\r\n    public EmployeeInfo (String firstName, String address, String experience, String position) {\r\n        super(experience, position);\r\n        this.setFirstName (firstName);\r\n        this.setAddress(address);\r\n    }\r\n\r\n    public EmployeeInfo (String firstName, String address, String experience, String position, List&lt;String&gt; serviceList) {\r\n        super(experience, position, serviceList);\r\n        this.setFirstName (firstName);\r\n        this.setAddress(address);\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Name - &quot; + firstName + &quot;Address&quot; + &quot; - &quot; + address + super.toString();\r\n    }\r\n}\r\n```","title":"How to add an arrayList to this child class?","body":"<p>Just add the property and an additional constructor to the parent class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class EmployeeService {\n    private String experience;\n    private String position;\n    private List&lt;String&gt; serviceList;\n\n    public EmployeeService (String experience, String position) {\n        this.setExperience (experience);\n        this.setPosition(position);\n    }\n\n    public EmployeeService (String experience, String position, List&lt;String&gt; serviceList) {\n        this(experience, position);\n        this.serviceList = new ArrayList&lt;&gt;(serviceList);\n    }\n\n    public String getExperience() {\n        return experience;\n    }\n\n    public void setExperience(String experience) {\n        this.experience = experience;\n    }\n\n    public String getPosition() {\n        return position;\n    }\n\n    public void setPosition(String position) {\n        this.position = position;\n    }\n\n    public String toString() {\n        return &quot;Experience - &quot; + experience + &quot;Position&quot; + &quot; - &quot; + position;\n    }\n}\n</code></pre>\n<p>Then adapt your child class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\npublic class EmployeeInfo extends EmployeeService {\n    private String firstName;\n    private String address;\n\n    public EmployeeInfo (String firstName, String address, String experience, String position) {\n        super(experience, position);\n        this.setFirstName (firstName);\n        this.setAddress(address);\n    }\n\n    public EmployeeInfo (String firstName, String address, String experience, String position, List&lt;String&gt; serviceList) {\n        super(experience, position, serviceList);\n        this.setFirstName (firstName);\n        this.setAddress(address);\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String toString() {\n        return &quot;Name - &quot; + firstName + &quot;Address&quot; + &quot; - &quot; + address + super.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70148199,"answer_count":1,"score":0,"last_activity_date":1638140345,"creation_date":1638138777,"question_id":70148046,"body_markdown":"\r\nContext - So there are two classes that uses inheritance. The EmployeeService is the parent class and the EmployeeInfo is the child class.\r\n\r\nWhat do I need help with - So I am trying to insert an arrayList to the parent class that combines the information of the **experience** and **position** and makes a new arrayList called serviceList. \r\n\r\nAnd when I call a super() in the child class, I should be able to call the arrayList rather than the String variables  (experience, position). \r\n\r\n**To put it short, I should basically be able to pass an arrayList as the third parameter in the child class employeeInfo method instead of String experience or String position**\r\n\r\nParent class - \r\n```\r\npublic class EmployeeService () {\r\n\tprivate String experience;\r\n\tprivate String position;\r\n\t\r\n\tpublic EmployeeService (String experience, String position) {\r\n\t\tthis.setExperience (experience);\r\n\t    this.setPosition(position);\r\n\t}\r\n\t\r\n\tpublic String getExperience() {\r\n\t\treturn experience;\r\n\t}\r\n\r\n\tpublic void setExperience(String experience) {\r\n\t\tthis.experience = experience;\r\n\t}\r\n\t\r\n\tpublic String getPosition() {\r\n\t\treturn position;\r\n\t}\r\n\r\n\tpublic void setPosition(String position) {\r\n\t\tthis.position = position;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn &quot;Experience - &quot; + experience + &quot;Position&quot; + &quot; - &quot; + position;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nChild class - \r\n```\r\npublic class EmployeeInfo () {\r\n\tprivate String firstName;\r\n\tprivate String address;\r\n\t\r\n\tpublic EmployeeInfo (String firstName, String address,String experience, String position) {\r\n\t\tsuper(experience, position);\r\n\t\tthis.setFirstName (firstName);\r\n\t    this.setAddress(address);\r\n\t}\r\n\t\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\t\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\r\n\tpublic void setAddress(String address) {\r\n\t\tthis.address = address;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn &quot;Name - &quot; + firstName + &quot;Address&quot; + &quot; - &quot; + address + super.toString();\r\n\t}\r\n}\r\n","title":"How to add an arrayList to this child class?","body":"<p>Context - So there are two classes that uses inheritance. The EmployeeService is the parent class and the EmployeeInfo is the child class.</p>\n<p>What do I need help with - So I am trying to insert an arrayList to the parent class that combines the information of the <strong>experience</strong> and <strong>position</strong> and makes a new arrayList called serviceList.</p>\n<p>And when I call a super() in the child class, I should be able to call the arrayList rather than the String variables  (experience, position).</p>\n<p><strong>To put it short, I should basically be able to pass an arrayList as the third parameter in the child class employeeInfo method instead of String experience or String position</strong></p>\n<p>Parent class -</p>\n<pre><code>public class EmployeeService () {\n    private String experience;\n    private String position;\n    \n    public EmployeeService (String experience, String position) {\n        this.setExperience (experience);\n        this.setPosition(position);\n    }\n    \n    public String getExperience() {\n        return experience;\n    }\n\n    public void setExperience(String experience) {\n        this.experience = experience;\n    }\n    \n    public String getPosition() {\n        return position;\n    }\n\n    public void setPosition(String position) {\n        this.position = position;\n    }\n    \n    public String toString() {\n        return &quot;Experience - &quot; + experience + &quot;Position&quot; + &quot; - &quot; + position;\n    }\n    \n}\n\n</code></pre>\n<p>Child class -</p>\n<pre><code>public class EmployeeInfo () {\n    private String firstName;\n    private String address;\n    \n    public EmployeeInfo (String firstName, String address,String experience, String position) {\n        super(experience, position);\n        this.setFirstName (firstName);\n        this.setAddress(address);\n    }\n    \n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    \n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n    \n    public String toString() {\n        return &quot;Name - &quot; + firstName + &quot;Address&quot; + &quot; - &quot; + address + super.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":1783732,"reputation":11618,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"score":0,"creation_date":1520343659,"post_id":49131948,"comment_id":85269098,"body_markdown":"Can you add the junit code?","body":"Can you add the junit code?"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1520362604,"post_id":49131948,"comment_id":85281199,"body_markdown":"What do you mean by &quot;THIS IS NOT RECOGNIZED&quot;?","body":"What do you mean by &quot;THIS IS NOT RECOGNIZED&quot;?"},{"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"score":0,"creation_date":1520501242,"post_id":49131948,"comment_id":85344327,"body_markdown":"This means that if I tried to pick org.springframework.book.test in IDEA it shows me warn message &quot;No suggestions&quot;. So that I am not able to access to outputCapture class. I will edit my question.","body":"This means that if I tried to pick org.springframework.book.test in IDEA it shows me warn message &quot;No suggestions&quot;. So that I am not able to access to outputCapture class. I will edit my question."},{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1520516728,"post_id":49131948,"comment_id":85354142,"body_markdown":"have you added in your configuration (maven?) the dependency to spring boot test? please show your `pom.xml`","body":"have you added in your configuration (maven?) the dependency to spring boot test? please show your <code>pom.xml</code>"}],"answers":[{"tags":[],"owner":{"account_id":1030890,"reputation":6354,"user_id":1039203,"accept_rate":86,"display_name":"KeyMaker00"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564944770,"creation_date":1564944267,"answer_id":57349318,"question_id":49131948,"body_markdown":"Just a wide guess since I don&#39;t know your dependencies: if you are using maven, try to add the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt; &lt;!-- or another version --&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe reason is that `OutputCapture` comes along from the project `spring-boot-test`.\r\n\r\nGithub: [OutputCapture][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/rule/OutputCapture.java","title":"Spring feature OutputCapture does not work in valid spring boot version","body":"<p>Just a wide guess since I don't know your dependencies: if you are using maven, try to add the following dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;version&gt;2.1.6.RELEASE&lt;/version&gt; &lt;!-- or another version --&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The reason is that <code>OutputCapture</code> comes along from the project <code>spring-boot-test</code>.</p>\n\n<p>Github: <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/rule/OutputCapture.java\" rel=\"nofollow noreferrer\">OutputCapture</a></p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638140236,"creation_date":1638140236,"answer_id":70148188,"question_id":49131948,"body_markdown":"The `OutputCapture` class was [deprecated](https://docs.spring.io/spring-boot/docs/2.2.0.RELEASE/api/org/springframework/boot/test/rule/OutputCapture.html) in version 2.2.0 in Spring Boot test in favour of the `OutputCaptureRule` class.\r\n\r\nSee this [answer](https://stackoverflow.com/a/61268662/3059685) for how to use `OutputCaptureRule` class.","title":"Spring feature OutputCapture does not work in valid spring boot version","body":"<p>The <code>OutputCapture</code> class was <a href=\"https://docs.spring.io/spring-boot/docs/2.2.0.RELEASE/api/org/springframework/boot/test/rule/OutputCapture.html\" rel=\"nofollow noreferrer\">deprecated</a> in version 2.2.0 in Spring Boot test in favour of the <code>OutputCaptureRule</code> class.</p>\n<p>See this <a href=\"https://stackoverflow.com/a/61268662/3059685\">answer</a> for how to use <code>OutputCaptureRule</code> class.</p>\n"}],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638140236,"creation_date":1520342746,"question_id":49131948,"body_markdown":"I cannot use the feature with `OutputCapture` within [JUnit testing][1]. I want to use this feature to see some log messages.\r\nIf I tried to include the class package `org.springframework.book.test.rule.OutputCapture` in IDEA it shows me warn message &quot;No suggestions&quot;. So that I am not able to access to outputCapture class (even test package is not visible).\r\n\r\nAs I found out on this [website][2] this class is supported since version 1.3. \r\nHowever I am using correct spring boot version 1.5.\r\n\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.springframework.boot.test.rule.OutputCapture; THIS IS NOT RECOGNIZED\r\n    \r\n    import static org.hamcrest.Matchers.*;\r\n    import static org.junit.Assert.*;\r\n    \r\n    public class MyTest {\r\n    \r\n    \t@Rule\r\n    \tpublic OutputCapture capture = new OutputCapture();\r\n    \r\n    \t@Test\r\n    \tpublic void testName() throws Exception {\r\n    \t\tSystem.out.println(&quot;Hello World!&quot;);\r\n    \t\tassertThat(capture.toString(), containsString(&quot;World&quot;));\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nWhat is wrong?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-output-capture-test-utility\r\n  [2]: https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/api/org/springframework/boot/test/rule/OutputCapture.html","title":"Spring feature OutputCapture does not work in valid spring boot version","body":"<p>I cannot use the feature with <code>OutputCapture</code> within <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-output-capture-test-utility\" rel=\"nofollow noreferrer\">JUnit testing</a>. I want to use this feature to see some log messages.\nIf I tried to include the class package <code>org.springframework.book.test.rule.OutputCapture</code> in IDEA it shows me warn message \"No suggestions\". So that I am not able to access to outputCapture class (even test package is not visible).</p>\n\n<p>As I found out on this <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/api/org/springframework/boot/test/rule/OutputCapture.html\" rel=\"nofollow noreferrer\">website</a> this class is supported since version 1.3. \nHowever I am using correct spring boot version 1.5.</p>\n\n<pre><code>import org.junit.Rule;\nimport org.junit.Test;\nimport org.springframework.boot.test.rule.OutputCapture; THIS IS NOT RECOGNIZED\n\nimport static org.hamcrest.Matchers.*;\nimport static org.junit.Assert.*;\n\npublic class MyTest {\n\n    @Rule\n    public OutputCapture capture = new OutputCapture();\n\n    @Test\n    public void testName() throws Exception {\n        System.out.println(\"Hello World!\");\n        assertThat(capture.toString(), containsString(\"World\"));\n    }\n\n}\n</code></pre>\n\n<p>What is wrong?</p>\n"},{"tags":["java","spring","spring-boot","asynchronous","scheduled-tasks"],"comments":[{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":1,"creation_date":1603015595,"post_id":64411786,"comment_id":113897375,"body_markdown":"Hi, how do you define that this solution work on one thread? By default, @Scheduled work on one thread, but you then pass execution to `commonTaskExecutor`.\nTry to view all current active threads via `jconsole`.","body":"Hi, how do you define that this solution work on one thread? By default, @Scheduled work on one thread, but you then pass execution to <code>commonTaskExecutor</code>. Try to view all current active threads via <code>jconsole</code>."},{"owner":{"account_id":19664179,"reputation":1,"user_id":14395016,"display_name":"Marcinek"},"score":0,"creation_date":1603016170,"post_id":64411786,"comment_id":113897485,"body_markdown":"@shadownindzya I make thousands of operations in my async method&#39;s loop, and log the current thread name in each iteration.","body":"@shadownindzya I make thousands of operations in my async method&#39;s loop, and log the current thread name in each iteration."},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603016928,"post_id":64411786,"comment_id":113897647,"body_markdown":"I reproduced your configuration, and all work as expected\n```\n 16:27:15.001  INFO 5927 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Started schedule at thread = pool-1-thread-1\n16:27:15.004  INFO 5927 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Ended schedule at thread = pool-1-thread-1\n16:27:15.008  INFO 5927 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations on TEST1\n16:27:25.008  INFO 5927 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations executed on TEST1\n\n```","body":"I reproduced your configuration, and all work as expected ```  16:27:15.001  INFO 5927 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Started schedule at thread = pool-1-thread-1 16:27:15.004  INFO 5927 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Ended schedule at thread = pool-1-thread-1 16:27:15.008  INFO 5927 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations on TEST1 16:27:25.008  INFO 5927 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations executed on TEST1  ```"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017121,"post_id":64411786,"comment_id":113897695,"body_markdown":"and with jconsole I see - `pool-1-thread-1` thread of Scheduled executor. And `TEST1, TEST2,...` threads of common executor pool.","body":"and with jconsole I see - <code>pool-1-thread-1</code> thread of Scheduled executor. And <code>TEST1, TEST2,...</code> threads of common executor pool."},{"owner":{"account_id":19664179,"reputation":1,"user_id":14395016,"display_name":"Marcinek"},"score":0,"creation_date":1603017332,"post_id":64411786,"comment_id":113897748,"body_markdown":"@shadownindzya try to log the current thread name in a loop for eg 10000 times and you will always get TEST1 thread, at least for me it works like that","body":"@shadownindzya try to log the current thread name in a loop for eg 10000 times and you will always get TEST1 thread, at least for me it works like that"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017487,"post_id":64411786,"comment_id":113897783,"body_markdown":"hm, do you mean inside that async method use infinite loop?","body":"hm, do you mean inside that async method use infinite loop?"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017586,"post_id":64411786,"comment_id":113897818,"body_markdown":"in this case, of course it will work on one thread. You should try call from infinite loop inside `ScheduledTask#process` method","body":"in this case, of course it will work on one thread. You should try call from infinite loop inside <code>ScheduledTask#process</code> method"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017638,"post_id":64411786,"comment_id":113897835,"body_markdown":"@Scheduled(cron = &quot;15 * * * * ?&quot;)\n    public void process() {\n        logger.info(&quot;Started schedule at thread = {}&quot;, Thread.currentThread().getName());\n        for (int i=0; i&lt;10000;i++) {\n            confirmReservationTask.confirmReservations();\n        }\n        logger.info(&quot;Ended schedule at thread = {}&quot;, Thread.currentThread().getName());\n    }","body":"@Scheduled(cron = &quot;15 * * * * ?&quot;)     public void process() {         logger.info(&quot;Started schedule at thread = {}&quot;, Thread.currentThread().getName());         for (int i=0; i&lt;10000;i++) {             confirmReservationTask.confirmReservations();         }         logger.info(&quot;Ended schedule at thread = {}&quot;, Thread.currentThread().getName());     }"},{"owner":{"account_id":19664179,"reputation":1,"user_id":14395016,"display_name":"Marcinek"},"score":0,"creation_date":1603017732,"post_id":64411786,"comment_id":113897852,"body_markdown":"Not infinite, just force the @Async method to run longer so it can uses different threads. My method runs for 1,5min and still on 1 thread (TEST1)","body":"Not infinite, just force the @Async method to run longer so it can uses different threads. My method runs for 1,5min and still on 1 thread (TEST1)"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017756,"post_id":64411786,"comment_id":113897859,"body_markdown":"and you got something like this:\n  INFO 6447 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Started schedule at thread = pool-1-thread-1\n INFO 6447 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations on TEST1\n  INFO 6447 --- [         TEST11] s.example.ConfirmReservationTask         : Run confirmReservations on TEST11\n INFO 6447 --- [         TEST10] s.example.ConfirmReservationTask         : Run confirmReservations on TEST10\n INFO 6447 --- [         TEST17] s.example.ConfirmReservationTask         : Run confirmReservations on TEST17","body":"and you got something like this:   INFO 6447 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Started schedule at thread = pool-1-thread-1  INFO 6447 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations on TEST1   INFO 6447 --- [         TEST11] s.example.ConfirmReservationTask         : Run confirmReservations on TEST11  INFO 6447 --- [         TEST10] s.example.ConfirmReservationTask         : Run confirmReservations on TEST10  INFO 6447 --- [         TEST17] s.example.ConfirmReservationTask         : Run confirmReservations on TEST17"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603018075,"post_id":64411786,"comment_id":113897928,"body_markdown":"can you share your logs with my @Scheduled example above ?","body":"can you share your logs with my @Scheduled example above ?"}],"owner":{"account_id":19664179,"reputation":1,"user_id":14395016,"display_name":"Marcinek"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140068,"creation_date":1603013841,"question_id":64411786,"body_markdown":"I have read many questions and answers about using `@Scheduled` with `@Async` in Spring but no one resolves my problem and my asynchronous method still runs single-threaded. So here is my Configuration class:\r\n\r\n    @EnableScheduling\r\n    @EnableAsync\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class SchedulerConfiguration {\r\n    \r\n        private final ThreadPoolProperties threadPoolProperties;\r\n    \r\n        @Bean\r\n        public TaskExecutor commonTaskExecutor() {\r\n            ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n            taskExecutor.setCorePoolSize(threadPoolProperties.getCorePoolSize()); // 10\r\n            taskExecutor.setMaxPoolSize(threadPoolProperties.getMaxPoolSize()); // 20\r\n            taskExecutor.setQueueCapacity(threadPoolProperties.getQueueCapacity()); // 5\r\n            taskExecutor.setThreadNamePrefix(&quot;TEST&quot;);\r\n            taskExecutor.initialize();\r\n            return taskExecutor;\r\n        }\r\n    }\r\n\r\nThen we have a bean with the `@Scheduled` method:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class ScheduledTask {\r\n    \r\n        private final ConfirmReservationTask confirmReservationTask;\r\n    \r\n        @Scheduled(cron = &quot;${booking.scheduler.confirmReservationsCron}&quot;)\r\n        public void process() {\r\n            confirmReservationTask.confirmReservations();\r\n        }\r\n    }\r\n\r\nAnd finally, another bean (to avoid self-injection and proxy problems with asynchronous processing) with `@Async` method:\r\n\r\n    @Log4j2\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class ConfirmReservationTask {\r\n    \r\n        private final ReservationService reservationService;\r\n    \r\n        @Async(&quot;commonTaskExecutor&quot;)\r\n        public void confirmReservations() {\r\n        ...\r\n        }\r\n    }\r\n\r\nunfortunately, this solution works in only one thread, however, the method uses the correct `ThreadExecutor`. How to solve it?","title":"How to run @Async method inside the @Scheduled one","body":"<p>I have read many questions and answers about using <code>@Scheduled</code> with <code>@Async</code> in Spring but no one resolves my problem and my asynchronous method still runs single-threaded. So here is my Configuration class:</p>\n<pre><code>@EnableScheduling\n@EnableAsync\n@Configuration\n@RequiredArgsConstructor\npublic class SchedulerConfiguration {\n\n    private final ThreadPoolProperties threadPoolProperties;\n\n    @Bean\n    public TaskExecutor commonTaskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setCorePoolSize(threadPoolProperties.getCorePoolSize()); // 10\n        taskExecutor.setMaxPoolSize(threadPoolProperties.getMaxPoolSize()); // 20\n        taskExecutor.setQueueCapacity(threadPoolProperties.getQueueCapacity()); // 5\n        taskExecutor.setThreadNamePrefix(&quot;TEST&quot;);\n        taskExecutor.initialize();\n        return taskExecutor;\n    }\n}\n</code></pre>\n<p>Then we have a bean with the <code>@Scheduled</code> method:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class ScheduledTask {\n\n    private final ConfirmReservationTask confirmReservationTask;\n\n    @Scheduled(cron = &quot;${booking.scheduler.confirmReservationsCron}&quot;)\n    public void process() {\n        confirmReservationTask.confirmReservations();\n    }\n}\n</code></pre>\n<p>And finally, another bean (to avoid self-injection and proxy problems with asynchronous processing) with <code>@Async</code> method:</p>\n<pre><code>@Log4j2\n@Component\n@RequiredArgsConstructor\npublic class ConfirmReservationTask {\n\n    private final ReservationService reservationService;\n\n    @Async(&quot;commonTaskExecutor&quot;)\n    public void confirmReservations() {\n    ...\n    }\n}\n</code></pre>\n<p>unfortunately, this solution works in only one thread, however, the method uses the correct <code>ThreadExecutor</code>. How to solve it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8184,"page":1808,"page_size":100}
