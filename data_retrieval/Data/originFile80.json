{"items":[{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1699284664,"post_id":77432264,"comment_id":136509074,"body_markdown":"This points to a broken Gradle installation, daemon or cache. And Gradle 6 is fairly old, you should consider using a newer version if you are going to reinstall anyway.","body":"This points to a broken Gradle installation, daemon or cache. And Gradle 6 is fairly old, you should consider using a newer version if you are going to reinstall anyway."},{"owner":{"account_id":28656859,"reputation":1,"user_id":21942667,"display_name":"JustDreaming"},"score":0,"creation_date":1699287349,"post_id":77432264,"comment_id":136509663,"body_markdown":"First, I Installed Gradle 8.4, but i deleted it, because i understood that its not what I need. The Build-File Just Disappeared","body":"First, I Installed Gradle 8.4, but i deleted it, because i understood that its not what I need. The Build-File Just Disappeared"}],"owner":{"account_id":28656859,"reputation":1,"user_id":21942667,"display_name":"JustDreaming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699284362,"creation_date":1699284362,"question_id":77432264,"body_markdown":"I&#39;m trying to create a project in Eclipse using Gradle 6.0.1 installed on my PC, after which this huge crash log immediately appears:\r\n\r\n```\r\norg.gradle.tooling.BuildException: Could not execute build using connection to Gradle installation &#39;C:\\gradle-6.0.1&#39;.\r\n\tat org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:51)\r\n\tat org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:29)\r\n\tat org.gradle.tooling.internal.consumer.ResultHandlerAdapter.onFailure(ResultHandlerAdapter.java:43)\r\n\tat org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:69)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.gradle.tooling.internal.consumer.BlockingResultHandler.getResult(BlockingResultHandler.java:46)\r\n\tat org.gradle.tooling.internal.consumer.DefaultBuildLauncher.run(DefaultBuildLauncher.java:83)\r\n\tat org.eclipse.buildship.core.internal.workspace.InitializeNewProjectOperation.initProjectIfNotExists(InitializeNewProjectOperation.java:60)\r\n\tat org.eclipse.buildship.core.internal.workspace.InitializeNewProjectOperation.runInToolingApi(InitializeNewProjectOperation.java:45)\r\n\tat org.eclipse.buildship.core.internal.operation.ToolingApiOperations$1.runInToolingApi(ToolingApiOperations.java:55)\r\n\tat org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager$WorkspaceRunnableAdapter.run(DefaultToolingApiOperationManager.java:58)\r\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2380)\r\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2405)\r\n\tat org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:39)\r\n\tat org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:33)\r\n\tat org.eclipse.buildship.ui.internal.wizard.project.ProjectPreviewWizardPage$4.run(ProjectPreviewWizardPage.java:311)\r\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\r\nCaused by: org.gradle.internal.exceptions.LocationAwareException: Could not open cp_init remapped class cache for 6a5krabdzij62jglcll542e66 (C:\\Users\\Hop\\.gradle\\caches\\6.0.1\\scripts-remapped\\eclipsePlugin_fva2mogjl74vfg4zf9ras45q\\6a5krabdzij62jglcll542e66\\cp_init27b7120d8bed45e60dd0b95b8e5ecea0).\r\n\tat org.gradle.initialization.exception.DefaultExceptionAnalyser.transform(DefaultExceptionAnalyser.java:99)\r\n\tat org.gradle.initialization.exception.DefaultExceptionAnalyser.collectFailures(DefaultExceptionAnalyser.java:65)\r\n\tat org.gradle.initialization.exception.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:48)\r\n\tat org.gradle.initialization.exception.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:166)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:133)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:110)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:60)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:57)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:85)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:78)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:189)\r\n\tat org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:78)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:57)\r\n\tat org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:54)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:51)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:50)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:68)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:27)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.cache.CacheOpenException: Could not open cp_init remapped class cache for 6a5krabdzij62jglcll542e66 (C:\\Users\\Hop\\.gradle\\caches\\6.0.1\\scripts-remapped\\eclipsePlugin_fva2mogjl74vfg4zf9ras45q\\6a5krabdzij62jglcll542e66\\cp_init27b7120d8bed45e60dd0b95b8e5ecea0).\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:80)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:42)\r\n\tat org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:95)\r\n\tat org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\r\n\tat org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler.compile(FileCacheBackedScriptClassCompiler.java:105)\r\n\tat org.gradle.groovy.scripts.internal.CrossBuildInMemoryCachingScriptClassCache.getOrCompile(CrossBuildInMemoryCachingScriptClassCache.java:49)\r\n\tat org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:50)\r\n\tat org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:209)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1$1.run(BuildOperationScriptPlugin.java:69)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.execute(BuildOperationScriptPlugin.java:66)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.execute(BuildOperationScriptPlugin.java:63)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:49)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:63)\r\n\tat org.gradle.configuration.DefaultInitScriptProcessor.process(DefaultInitScriptProcessor.java:50)\r\n\tat org.gradle.initialization.InitScriptHandler$1.run(InitScriptHandler.java:55)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.initialization.InitScriptHandler.executeScripts(InitScriptHandler.java:49)\r\n\tat org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:33)\r\n\tat org.gradle.initialization.BuildOperatingFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperatingFiringSettingsPreparer.java:59)\r\n\tat org.gradle.initialization.BuildOperatingFiringSettingsPreparer$LoadBuild.run(BuildOperatingFiringSettingsPreparer.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.initialization.BuildOperatingFiringSettingsPreparer.prepareSettings(BuildOperatingFiringSettingsPreparer.java:42)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.prepareSettings(DefaultGradleLauncher.java:194)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:138)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:130)\r\n\t... 75 more\r\nCaused by: org.gradle.cache.CacheOpenException: Could not open cp_init generic class cache for initialization script &#39;C:\\Users\\Hop\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle&#39; (C:\\Users\\Hop\\.gradle\\caches\\6.0.1\\scripts\\6a5krabdzij62jglcll542e66\\cp_init\\cp_init27b7120d8bed45e60dd0b95b8e5ecea0).\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:80)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:42)\r\n\tat org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:95)\r\n\tat org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\r\n\tat org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$RemapBuildScriptsAction.execute(FileCacheBackedScriptClassCompiler.java:430)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$RemapBuildScriptsAction.execute(FileCacheBackedScriptClassCompiler.java:398)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:177)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:156)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\r\n\tat org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:216)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:206)\r\n\tat org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:142)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:78)\r\n\t... 120 more\r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.classgen.Verifier\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler$CustomCompilationUnit.&lt;init&gt;(DefaultScriptCompilationHandler.java:284)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler$1.createCompilationUnit(DefaultScriptCompilationHandler.java:124)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:142)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:98)\r\n\tat org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler.compileToDir(BuildOperationBackedScriptCompilationHandler.java:51)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:152)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:132)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:177)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:156)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\r\n\tat org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:216)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:206)\r\n\tat org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:142)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:78)\r\n\t... 135 more\r\nCaused by: java.lang.ExceptionInInitializerError: Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7 [in thread &quot;Daemon worker&quot;]\r\n\t... 159 more\r\n\r\n```\r\n\r\n\r\n\r\nAnd I don&#39;t even know what I did and what I should do. I Checked the correctness of GRADLE_HOME, I looked to see if the path in Preferences was correct. Everything should work! I do not know why gradle does not want to work, I checked everything, but it did not give any results at all","title":"Could not execute build using connection to Gradle installation &#39;C:\\gradle-6.0.1&#39; Eclipse","body":"<p>I'm trying to create a project in Eclipse using Gradle 6.0.1 installed on my PC, after which this huge crash log immediately appears:</p>\n<pre><code>org.gradle.tooling.BuildException: Could not execute build using connection to Gradle installation 'C:\\gradle-6.0.1'.\n    at org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:51)\n    at org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:29)\n    at org.gradle.tooling.internal.consumer.ResultHandlerAdapter.onFailure(ResultHandlerAdapter.java:43)\n    at org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:69)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n    at org.gradle.tooling.internal.consumer.BlockingResultHandler.getResult(BlockingResultHandler.java:46)\n    at org.gradle.tooling.internal.consumer.DefaultBuildLauncher.run(DefaultBuildLauncher.java:83)\n    at org.eclipse.buildship.core.internal.workspace.InitializeNewProjectOperation.initProjectIfNotExists(InitializeNewProjectOperation.java:60)\n    at org.eclipse.buildship.core.internal.workspace.InitializeNewProjectOperation.runInToolingApi(InitializeNewProjectOperation.java:45)\n    at org.eclipse.buildship.core.internal.operation.ToolingApiOperations$1.runInToolingApi(ToolingApiOperations.java:55)\n    at org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager$WorkspaceRunnableAdapter.run(DefaultToolingApiOperationManager.java:58)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2380)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2405)\n    at org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:39)\n    at org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:33)\n    at org.eclipse.buildship.ui.internal.wizard.project.ProjectPreviewWizardPage$4.run(ProjectPreviewWizardPage.java:311)\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\nCaused by: org.gradle.internal.exceptions.LocationAwareException: Could not open cp_init remapped class cache for 6a5krabdzij62jglcll542e66 (C:\\Users\\Hop\\.gradle\\caches\\6.0.1\\scripts-remapped\\eclipsePlugin_fva2mogjl74vfg4zf9ras45q\\6a5krabdzij62jglcll542e66\\cp_init27b7120d8bed45e60dd0b95b8e5ecea0).\n    at org.gradle.initialization.exception.DefaultExceptionAnalyser.transform(DefaultExceptionAnalyser.java:99)\n    at org.gradle.initialization.exception.DefaultExceptionAnalyser.collectFailures(DefaultExceptionAnalyser.java:65)\n    at org.gradle.initialization.exception.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:48)\n    at org.gradle.initialization.exception.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:166)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:133)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:110)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:60)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:57)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:85)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:78)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:189)\n    at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:57)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:54)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:50)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:68)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:27)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.cache.CacheOpenException: Could not open cp_init remapped class cache for 6a5krabdzij62jglcll542e66 (C:\\Users\\Hop\\.gradle\\caches\\6.0.1\\scripts-remapped\\eclipsePlugin_fva2mogjl74vfg4zf9ras45q\\6a5krabdzij62jglcll542e66\\cp_init27b7120d8bed45e60dd0b95b8e5ecea0).\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:80)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:42)\n    at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:95)\n    at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\n    at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler.compile(FileCacheBackedScriptClassCompiler.java:105)\n    at org.gradle.groovy.scripts.internal.CrossBuildInMemoryCachingScriptClassCache.getOrCompile(CrossBuildInMemoryCachingScriptClassCache.java:49)\n    at org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:50)\n    at org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:209)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1$1.run(BuildOperationScriptPlugin.java:69)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.execute(BuildOperationScriptPlugin.java:66)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.execute(BuildOperationScriptPlugin.java:63)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:49)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:63)\n    at org.gradle.configuration.DefaultInitScriptProcessor.process(DefaultInitScriptProcessor.java:50)\n    at org.gradle.initialization.InitScriptHandler$1.run(InitScriptHandler.java:55)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.initialization.InitScriptHandler.executeScripts(InitScriptHandler.java:49)\n    at org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:33)\n    at org.gradle.initialization.BuildOperatingFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperatingFiringSettingsPreparer.java:59)\n    at org.gradle.initialization.BuildOperatingFiringSettingsPreparer$LoadBuild.run(BuildOperatingFiringSettingsPreparer.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.initialization.BuildOperatingFiringSettingsPreparer.prepareSettings(BuildOperatingFiringSettingsPreparer.java:42)\n    at org.gradle.initialization.DefaultGradleLauncher.prepareSettings(DefaultGradleLauncher.java:194)\n    at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:138)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:130)\n    ... 75 more\nCaused by: org.gradle.cache.CacheOpenException: Could not open cp_init generic class cache for initialization script 'C:\\Users\\Hop\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle' (C:\\Users\\Hop\\.gradle\\caches\\6.0.1\\scripts\\6a5krabdzij62jglcll542e66\\cp_init\\cp_init27b7120d8bed45e60dd0b95b8e5ecea0).\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:80)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:42)\n    at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:95)\n    at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\n    at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$RemapBuildScriptsAction.execute(FileCacheBackedScriptClassCompiler.java:430)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$RemapBuildScriptsAction.execute(FileCacheBackedScriptClassCompiler.java:398)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:177)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:156)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\n    at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:216)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:206)\n    at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\n    at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:142)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:78)\n    ... 120 more\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.classgen.Verifier\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler$CustomCompilationUnit.&lt;init&gt;(DefaultScriptCompilationHandler.java:284)\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler$1.createCompilationUnit(DefaultScriptCompilationHandler.java:124)\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:142)\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:98)\n    at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler.compileToDir(BuildOperationBackedScriptCompilationHandler.java:51)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:152)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:132)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:177)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:156)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\n    at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:216)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:206)\n    at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\n    at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:142)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:78)\n    ... 135 more\nCaused by: java.lang.ExceptionInInitializerError: Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7 [in thread &quot;Daemon worker&quot;]\n    ... 159 more\n\n</code></pre>\n<p>And I don't even know what I did and what I should do. I Checked the correctness of GRADLE_HOME, I looked to see if the path in Preferences was correct. Everything should work! I do not know why gradle does not want to work, I checked everything, but it did not give any results at all</p>\n"},{"tags":["java","intellij-idea","websphere-8"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1699283688,"post_id":77432136,"comment_id":136508867,"body_markdown":"A similar issue was resolved recently: https://youtrack.jetbrains.com/issue/IDEA-320285/Wildfly-28-NoSuchMethodError-org.jboss.as.controller.client.ModelControllerClientFactory.create. Please update IntelliJ IDEA at https://www.jetbrains.com/idea/download/index.html and see if it helps.","body":"A similar issue was resolved recently: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-320285/Wildfly-28-NoSuchMethodError-org.jboss.as.controller.client.ModelControllerClientFactory.create\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-320285/&hellip;</a>. Please update IntelliJ IDEA at <a href=\"https://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download/index.html</a> and see if it helps."},{"owner":{"account_id":3070021,"reputation":81,"user_id":2600925,"accept_rate":10,"display_name":"Mark"},"score":0,"creation_date":1699284175,"post_id":77432136,"comment_id":136508966,"body_markdown":"I&#39;m running Intellij 2019.1 and NO Wildfly. Also, I&#39;m using Maven.","body":"I&#39;m running Intellij 2019.1 and NO Wildfly. Also, I&#39;m using Maven."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1699284222,"post_id":77432136,"comment_id":136508979,"body_markdown":"2019.1 is way too old and may not support your app server version. Please update to the latest IntelliJ IDEA release and report if it helps.","body":"2019.1 is way too old and may not support your app server version. Please update to the latest IntelliJ IDEA release and report if it helps."},{"owner":{"account_id":3070021,"reputation":81,"user_id":2600925,"accept_rate":10,"display_name":"Mark"},"score":0,"creation_date":1699284300,"post_id":77432136,"comment_id":136508996,"body_markdown":"So the inference is it is a problem &quot;just waiting to happen&quot; (because of the age of the tool)?","body":"So the inference is it is a problem &quot;just waiting to happen&quot; (because of the age of the tool)?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1699284917,"post_id":77432136,"comment_id":136509132,"body_markdown":"Find where you have that character entity reference in a document or something&#39;s name/ID and remove it?","body":"Find where you have that character entity reference in a document or something&#39;s name/ID and remove it?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1699285176,"post_id":77432136,"comment_id":136509185,"body_markdown":"We analyzed your stacktrace and found that a similar issue was fixed in the more recent IntelliJ IDEA versions. It makes sense to give it a try in order not to waste time on investigating the already resolved problems. If it still happens in the current release, please file a new bug at https://youtrack.jetbrains.com/newIssue?project=IDEA with the IDE logs (Help | Collect Logs and Diagnostic Data) and the full log from the IntelliJ IDEA run console when the server is started. Specify the exact app server version you are using and if it can be reproduced with the default server settings.","body":"We analyzed your stacktrace and found that a similar issue was fixed in the more recent IntelliJ IDEA versions. It makes sense to give it a try in order not to waste time on investigating the already resolved problems. If it still happens in the current release, please file a new bug at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with the IDE logs (Help | Collect Logs and Diagnostic Data) and the full log from the IntelliJ IDEA run console when the server is started. Specify the exact app server version you are using and if it can be reproduced with the default server settings."}],"owner":{"account_id":3070021,"reputation":81,"user_id":2600925,"accept_rate":10,"display_name":"Mark"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699284084,"creation_date":1699283185,"question_id":77432136,"body_markdown":"I&#39;m running IntelliJ 2019.1, deploying app to a local Websphere server v8.5.5. My app had been working up to this point - able to build artifacts/projects and deploy to local server, either selecting to Run or Debug. But now am getting the error &quot;Error running admin process:\r\nMessage: java.lang.NullPointerException Stack trace: com.intellij.javaee.process.common.JavaeeProcessUtilException: java.lang.NullPointerException at com.intellij.javaee.process.common.MethodInvocator.invoke(MethodInvocator.java:47) at com.intellij.javaee.oss.process.JavaeeProcess.processRequest(JavaeeProcess.java:112) at com.intellij.javaee.oss.process.JavaeeProcess.run(JavaeeProcess.java:52) at com.intellij.javaee.oss.process.JavaeeProcess.main(JavaeeProcess.java:31) Caused by: java.lang.NullPointerException at com.intellij.j2ee.webSphere.agent.WebSphereAgent.createClient(WebSphereAgent.java:82) at com.intellij.j2ee.webSphere.agent.WebSphereAgent.connect(WebSphereAgent.java:51) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) at java.lang.reflect.Method.invoke(Method.java:611) at com.intellij.javaee.process.common.MethodInvocator.invoke(MethodInvocator.java:41) ... 3 more &quot;\r\n\r\nI&#39;m also seeing this error during the server startup - &quot;[Fatal Error] :10:33: Character reference &quot;&amp;#21&quot; is an invalid XML character.&quot;\r\n\r\nAny suggestions?","title":"IntelliJ 2019 throwing java.lang.NullPointerException error","body":"<p>I'm running IntelliJ 2019.1, deploying app to a local Websphere server v8.5.5. My app had been working up to this point - able to build artifacts/projects and deploy to local server, either selecting to Run or Debug. But now am getting the error &quot;Error running admin process:\nMessage: java.lang.NullPointerException Stack trace: com.intellij.javaee.process.common.JavaeeProcessUtilException: java.lang.NullPointerException at com.intellij.javaee.process.common.MethodInvocator.invoke(MethodInvocator.java:47) at com.intellij.javaee.oss.process.JavaeeProcess.processRequest(JavaeeProcess.java:112) at com.intellij.javaee.oss.process.JavaeeProcess.run(JavaeeProcess.java:52) at com.intellij.javaee.oss.process.JavaeeProcess.main(JavaeeProcess.java:31) Caused by: java.lang.NullPointerException at com.intellij.j2ee.webSphere.agent.WebSphereAgent.createClient(WebSphereAgent.java:82) at com.intellij.j2ee.webSphere.agent.WebSphereAgent.connect(WebSphereAgent.java:51) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) at java.lang.reflect.Method.invoke(Method.java:611) at com.intellij.javaee.process.common.MethodInvocator.invoke(MethodInvocator.java:41) ... 3 more &quot;</p>\n<p>I'm also seeing this error during the server startup - &quot;[Fatal Error] :10:33: Character reference &quot;&amp;#21&quot; is an invalid XML character.&quot;</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","class","methods","console","account"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699275065,"post_id":77431168,"comment_id":136506950,"body_markdown":"Think through your logic: You appear to be trying to call `log_in` on the array list itself, which won&#39;t work and doesn&#39;t make sense. Instead, your log_in menu selection should first and foremost, get the user&#39;s name and password using a Scanner, and then perhaps loop through the array list, using a for loop, and test to see if any of the accounts within the list match the name and password given. It should then set a field, perhaps `Account currentAccount` with that result.","body":"Think through your logic: You appear to be trying to call <code>log_in</code> on the array list itself, which won&#39;t work and doesn&#39;t make sense. Instead, your log_in menu selection should first and foremost, get the user&#39;s name and password using a Scanner, and then perhaps loop through the array list, using a for loop, and test to see if any of the accounts within the list match the name and password given. It should then set a field, perhaps <code>Account currentAccount</code> with that result."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699281873,"creation_date":1699281548,"answer_id":77431960,"question_id":77431168,"body_markdown":"Your current code won&#39;t work because you&#39;re trying to call `log_in` on the ArrayList itself, which doesn&#39;t work and doesn&#39;t make sense.  Instead, and to be honest, I think that you may want to re-think and re-write your code. \r\nSuggestions include:\r\n* Create an Account class that has just the fields needed for *one* Account, including userName, password, accountId, and perhaps a boolean loggedIn, one that has constructor(s), getters, setters, toString, and perhaps equals and hashCode method overrides.\r\n* This class should have no UI code within it, for example, no println statements and no use of a Scanner object.\r\n* Create a separate Accounts class, one that holds a private field, `List&lt;Account&gt; accounts = new ArrayList&lt;&gt;();`\r\n* Give this class a logIn method that takes two Strings, one for userName and one for password.\r\n* Give this an Account field, currentAccount, one that is set if the user is logged in.\r\n* Create a Project class, or better yet, name it TestAccounts, give it an Accounts object, and give it all the UI code, the println statements and Scanner code. This is where you&#39;d call Accounts logIn method.\r\n","title":"Log in method for accounts class","body":"<p>Your current code won't work because you're trying to call <code>log_in</code> on the ArrayList itself, which doesn't work and doesn't make sense.  Instead, and to be honest, I think that you may want to re-think and re-write your code.\nSuggestions include:</p>\n<ul>\n<li>Create an Account class that has just the fields needed for <em>one</em> Account, including userName, password, accountId, and perhaps a boolean loggedIn, one that has constructor(s), getters, setters, toString, and perhaps equals and hashCode method overrides.</li>\n<li>This class should have no UI code within it, for example, no println statements and no use of a Scanner object.</li>\n<li>Create a separate Accounts class, one that holds a private field, <code>List&lt;Account&gt; accounts = new ArrayList&lt;&gt;();</code></li>\n<li>Give this class a logIn method that takes two Strings, one for userName and one for password.</li>\n<li>Give this an Account field, currentAccount, one that is set if the user is logged in.</li>\n<li>Create a Project class, or better yet, name it TestAccounts, give it an Accounts object, and give it all the UI code, the println statements and Scanner code. This is where you'd call Accounts logIn method.</li>\n</ul>\n"}],"owner":{"account_id":29837813,"reputation":1,"user_id":22866828,"display_name":"user22866828"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699283899,"creation_date":1699274532,"question_id":77431168,"body_markdown":"I have an accounts class that makes an account with username and log in and saves each user in a list account_list. I have a method in this class to log in changing a logged_in value from false to true. At the moment I can&#39;t call the function because of a static reference to a non static method or generaly being unsure of how I should call the method. I have two files in this branch Account.java:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Accounts {\r\n    private String username;\r\n    private String password;\r\n    private Boolean logged_in;\r\n    private String account_id;\r\n\r\n    private Accounts(String username, String password, Boolean logged_in, String account_id) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.logged_in = logged_in;\r\n        this.account_id = account_id;\r\n    }\r\n\r\n    static Accounts createAccount(Scanner scanner) {\r\n        System.out.println(&quot;Username:&quot;);\r\n        var username = scanner.nextLine();\r\n        System.out.println(&quot;Password:&quot;);\r\n        var password = scanner.nextLine();\r\n        return new Accounts(username, password, false, &quot;1&quot;);\r\n    }\r\n\r\n    public boolean log_in(Scanner scanner) {\r\n        System.out.println(&quot;Username:&quot;);\r\n        var username = scanner.nextLine();\r\n        System.out.println(&quot;Password:&quot;);\r\n        var password = scanner.nextLine();\r\n        if (username == this.username &amp;&amp; password == this.password) {\r\n            System.out.println(&quot;Logged in sucscefully!&quot;);\r\n            return this.logged_in = true;\r\n\r\n        } else {\r\n            System.out.println(&quot;Log in failed!&quot;);\r\n            return this.logged_in = false;\r\n        }\r\n\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Username: %s Password: %s&quot;.formatted(username, password);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand Project.java\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class Project {\r\n    private String choice;\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Accounts&gt; account_list = new ArrayList&lt;&gt;();\r\n        try (Scanner scanner = new Scanner(System.in)) {\r\n            System.out.println(&quot;Welcome to my password database program&quot;);\r\n            boolean done = false;\r\n            while (!done) {\r\n                System.out.println(&quot;1. Create account \\n2. Log in \\n3. View passwords \\n4. Log out \\n5. Exit program&quot;);\r\n                var choice = scanner.nextLine();\r\n                if (choice.equals(&quot;1&quot;)) {\r\n                    Accounts account = Accounts.createAccount(scanner);\r\n                    account_list.add(account);\r\n                    System.out.println(account);\r\n                }else if (choice.equals(&quot;2&quot;)){\r\n                    account_list.log_in(scanner)\r\n                    \r\n                }else if (choice.equals(&quot;5&quot;)) {\r\n                    done = true;\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;m still fairly new to java and I&#39;m stuck to doing everything in console because I&#39;m also doing the same program in Python and for making it easier to be consistent between the two languages I&#39;m staying in console\r\n\r\nI have tried making the function static which doesn&#39;t work as it&#39;s a class when calling the method of the function. I have tried calling on the object in the account_list list fairly unsuccsesfully expecting it to work when a specific object is called on I had problems making it work as I want to have the possibility of having a lot of accounts saved simultaneously.\r\n\r\nMy spelling is most likely bad I&#39;m dyslexic and not a native English speaker. Thanks in advance!","title":"Log in method for accounts class","body":"<p>I have an accounts class that makes an account with username and log in and saves each user in a list account_list. I have a method in this class to log in changing a logged_in value from false to true. At the moment I can't call the function because of a static reference to a non static method or generaly being unsure of how I should call the method. I have two files in this branch Account.java:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Accounts {\n    private String username;\n    private String password;\n    private Boolean logged_in;\n    private String account_id;\n\n    private Accounts(String username, String password, Boolean logged_in, String account_id) {\n        this.username = username;\n        this.password = password;\n        this.logged_in = logged_in;\n        this.account_id = account_id;\n    }\n\n    static Accounts createAccount(Scanner scanner) {\n        System.out.println(&quot;Username:&quot;);\n        var username = scanner.nextLine();\n        System.out.println(&quot;Password:&quot;);\n        var password = scanner.nextLine();\n        return new Accounts(username, password, false, &quot;1&quot;);\n    }\n\n    public boolean log_in(Scanner scanner) {\n        System.out.println(&quot;Username:&quot;);\n        var username = scanner.nextLine();\n        System.out.println(&quot;Password:&quot;);\n        var password = scanner.nextLine();\n        if (username == this.username &amp;&amp; password == this.password) {\n            System.out.println(&quot;Logged in sucscefully!&quot;);\n            return this.logged_in = true;\n\n        } else {\n            System.out.println(&quot;Log in failed!&quot;);\n            return this.logged_in = false;\n        }\n\n    }\n\n    public String toString() {\n        return &quot;Username: %s Password: %s&quot;.formatted(username, password);\n    }\n\n}\n</code></pre>\n<p>and Project.java</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Project {\n    private String choice;\n\n    public static void main(String[] args) {\n        List&lt;Accounts&gt; account_list = new ArrayList&lt;&gt;();\n        try (Scanner scanner = new Scanner(System.in)) {\n            System.out.println(&quot;Welcome to my password database program&quot;);\n            boolean done = false;\n            while (!done) {\n                System.out.println(&quot;1. Create account \\n2. Log in \\n3. View passwords \\n4. Log out \\n5. Exit program&quot;);\n                var choice = scanner.nextLine();\n                if (choice.equals(&quot;1&quot;)) {\n                    Accounts account = Accounts.createAccount(scanner);\n                    account_list.add(account);\n                    System.out.println(account);\n                }else if (choice.equals(&quot;2&quot;)){\n                    account_list.log_in(scanner)\n                    \n                }else if (choice.equals(&quot;5&quot;)) {\n                    done = true;\n\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>I'm still fairly new to java and I'm stuck to doing everything in console because I'm also doing the same program in Python and for making it easier to be consistent between the two languages I'm staying in console</p>\n<p>I have tried making the function static which doesn't work as it's a class when calling the method of the function. I have tried calling on the object in the account_list list fairly unsuccsesfully expecting it to work when a specific object is called on I had problems making it work as I want to have the possibility of having a lot of accounts saved simultaneously.</p>\n<p>My spelling is most likely bad I'm dyslexic and not a native English speaker. Thanks in advance!</p>\n"},{"tags":["java","kotlin","unit-testing","mockito","handler"],"comments":[{"owner":{"account_id":8505383,"reputation":19,"user_id":6377156,"display_name":"Xuai"},"score":0,"creation_date":1699274469,"post_id":77431161,"comment_id":136506846,"body_markdown":"is there any way to solve this issue?  i am a newbie in Unit testing","body":"is there any way to solve this issue?  i am a newbie in Unit testing"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1699274707,"post_id":77431161,"comment_id":136506887,"body_markdown":"Where does the lateinit error come from? I don&#39;t see such a property in the code you&#39;ve posted","body":"Where does the lateinit error come from? I don&#39;t see such a property in the code you&#39;ve posted"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1699282642,"post_id":77431161,"comment_id":136508670,"body_markdown":"@Jorn the Mockk library has a `CapturingSlot` class with a `captured` property which is lateinit.","body":"@Jorn the Mockk library has a <code>CapturingSlot</code> class with a <code>captured</code> property which is lateinit."},{"owner":{"account_id":8505383,"reputation":19,"user_id":6377156,"display_name":"Xuai"},"score":0,"creation_date":1699322415,"post_id":77431161,"comment_id":136514537,"body_markdown":"sorry missout val slotRunnable = slot&lt;Runnable&gt;() at setup","body":"sorry missout val slotRunnable = slot&lt;Runnable&gt;() at setup"}],"answers":[{"comments":[{"owner":{"account_id":8505383,"reputation":19,"user_id":6377156,"display_name":"Xuai"},"score":0,"creation_date":1700536885,"post_id":77432119,"comment_id":136663945,"body_markdown":"Using Slot and Mock constructor works too. thanks for the info","body":"Using Slot and Mock constructor works too. thanks for the info"}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699283011,"creation_date":1699283011,"answer_id":77432119,"question_id":77431161,"body_markdown":"Your system-under-test creates a new Handler:\r\n\r\n```\r\nnew Handler(Looper.getMainLooper()).postDelayed(...\r\n```\r\n\r\nBut your unit test code uses `every` only for a specific mock handler:\r\n\r\n```\r\nval Handler = mockk&lt;Handler&gt;(relaxed = true)\r\n\r\n    every {\r\n        Handler.postDelayed(capture(slotrunnable) ,100)\r\n```\r\n\r\nSo this will only work for that specific mock object. You may have been misled by naming your object with a capital initial letter, the same name as the class. Don&#39;t do that. If you had named it `handler` instead of `Handler`, you would then have noticed that your `every` will affect only that method and not the whole class.\r\n\r\nYou should pass a Handler object to your method (dependency injection) instead of creating it inside the method. Then your unit test can pass the mock object to your method under test.","title":"how to Mock handler in kotlin","body":"<p>Your system-under-test creates a new Handler:</p>\n<pre><code>new Handler(Looper.getMainLooper()).postDelayed(...\n</code></pre>\n<p>But your unit test code uses <code>every</code> only for a specific mock handler:</p>\n<pre><code>val Handler = mockk&lt;Handler&gt;(relaxed = true)\n\n    every {\n        Handler.postDelayed(capture(slotrunnable) ,100)\n</code></pre>\n<p>So this will only work for that specific mock object. You may have been misled by naming your object with a capital initial letter, the same name as the class. Don't do that. If you had named it <code>handler</code> instead of <code>Handler</code>, you would then have noticed that your <code>every</code> will affect only that method and not the whole class.</p>\n<p>You should pass a Handler object to your method (dependency injection) instead of creating it inside the method. Then your unit test can pass the mock object to your method under test.</p>\n"}],"owner":{"account_id":8505383,"reputation":19,"user_id":6377156,"display_name":"Xuai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77432119,"answer_count":1,"score":0,"last_activity_date":1699283011,"creation_date":1699274447,"question_id":77431161,"body_markdown":"       public void myTesting(){\r\n        System.out.println(&quot;testing before &quot;);\r\n        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;test&quot;);\r\n            }\r\n        }, 100);\r\n        System.out.println(&quot;testing after &quot;);\r\n\r\n    }\r\n\r\nI am trying to mock the above handler code on kotlin using slot function to return run() function \r\n\r\nhere are my changes \r\n\r\n        mockkStatic(Looper::class)\r\n        mockkStatic(Runnable::class)\r\n        val looper = mockk&lt;Looper&gt;{\r\n            every {\r\n                thread\r\n            } returns Thread.currentThread()\r\n        }\r\n\r\n        every {\r\n            Looper.getMainLooper()\r\n        } returns looper\r\n\r\n        val Handler = mockk&lt;Handler&gt;(relaxed = true)\r\n\r\n        every {\r\n            Handler.postDelayed(capture(slotrunnable) ,100)\r\n        } answers  {\r\n            true\r\n        }\r\n\r\n        slotrunnable.captured.run()\r\n\r\n        Manager.myTesting()\r\n\r\nwhen i run the test case i am getting \r\nlateinit property captured has not been initialized slot ","title":"how to Mock handler in kotlin","body":"<pre><code>   public void myTesting(){\n    System.out.println(&quot;testing before &quot;);\n    new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(&quot;test&quot;);\n        }\n    }, 100);\n    System.out.println(&quot;testing after &quot;);\n\n}\n</code></pre>\n<p>I am trying to mock the above handler code on kotlin using slot function to return run() function</p>\n<p>here are my changes</p>\n<pre><code>    mockkStatic(Looper::class)\n    mockkStatic(Runnable::class)\n    val looper = mockk&lt;Looper&gt;{\n        every {\n            thread\n        } returns Thread.currentThread()\n    }\n\n    every {\n        Looper.getMainLooper()\n    } returns looper\n\n    val Handler = mockk&lt;Handler&gt;(relaxed = true)\n\n    every {\n        Handler.postDelayed(capture(slotrunnable) ,100)\n    } answers  {\n        true\n    }\n\n    slotrunnable.captured.run()\n\n    Manager.myTesting()\n</code></pre>\n<p>when i run the test case i am getting\nlateinit property captured has not been initialized slot</p>\n"},{"tags":["java","containers","agents-jade"],"owner":{"account_id":27352476,"reputation":11,"user_id":20861415,"display_name":"Active_one"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699282818,"creation_date":1699282818,"question_id":77432095,"body_markdown":"I&#39;m new to JADE and have recently created a Service agent that looks up the definition of words from two dictionaries (WordNet(r) 3.0 (2006) and Easton&#39;s 1897 Bible Dictionary).\r\nI want to merge all services and behaviors of ServiceAgent into one. My goal is to end up having one agent class and one behavior class capable of handling requests to any dictionary from dict.org but I&#39;m not sure how to do that.\r\n\r\nI&#39;m using Linux Red Hat and have downloaded Apache ANT 1.9.2 and Java JDK 1.5.0 if that helps.\r\n\r\nHere is ServiceAgent.java code:\r\n```\r\npackage jadelab1;\r\n\r\nimport jade.core.*;\r\nimport jade.core.behaviours.*;\r\nimport jade.lang.acl.*;\r\nimport jade.domain.*;\r\nimport jade.domain.FIPAAgentManagement.*;\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class ServiceAgent extends Agent {\r\n        protected void setup () {\r\n                //services registration at DF\r\n                DFAgentDescription dfad = new DFAgentDescription();\r\n                dfad.setName(getAID());\r\n                //service no 1\r\n                ServiceDescription sd1 = new ServiceDescription();\r\n                sd1.setType(&quot;answers&quot;);\r\n                sd1.setName(&quot;wordnet&quot;);\r\n                //Serive no 2\r\n                ServiceDescription sd2 = new ServiceDescription();\r\n                sd2.setType(&quot;answers&quot;);\r\n                sd2.setName(&quot;Easton&#39;s 1897 Bible Dictionary&quot;);\r\n                //add them all\r\n                dfad.addServices(sd1);\r\n                dfad.addServices(sd2);\r\n                try {\r\n                        DFService.register(this,dfad);\r\n                } catch (FIPAException ex) {\r\n                        ex.printStackTrace();\r\n                }\r\n\r\n                addBehaviour(new AnotherDictionaryCyclicBehaviour(this));\r\n                addBehaviour(new WordnetCyclicBehaviour(this));\r\n                //doDelete();\r\n        }\r\n        protected void takeDown() {\r\n                //services deregistration before termination\r\n                try {\r\n                        DFService.deregister(this);\r\n                } catch (FIPAException ex) {\r\n                        ex.printStackTrace();\r\n                }\r\n        }\r\n        public String makeRequest(String serviceName, String word)\r\n        {\r\n                StringBuffer response = new StringBuffer();\r\n                try\r\n                {\r\n                        URL url;\r\n                        URLConnection urlConn;\r\n                        DataOutputStream printout;\r\n                        DataInputStream input;\r\n                        url = new URL(&quot;http://dict.org/bin/Dict&quot;);\r\n                        urlConn = url.openConnection();\r\n                        urlConn.setDoInput(true);\r\n                        urlConn.setDoOutput(true);\r\n                        urlConn.setUseCaches(false);\r\n                        urlConn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n                        String content = &quot;Form=Dict1&amp;Strategy=*&amp;Database=&quot; + URLEncoder.encode(serviceName) + &quot;&amp;Query=&quot; + URLEncoder.encode(word) + &quot;&amp;submit=Submit+query&quot;;\r\n                        //forth\r\n                        printout = new DataOutputStream(urlConn.getOutputStream());\r\n                        printout.writeBytes(content);\r\n                        printout.flush();\r\n                        printout.close();\r\n                        //back\r\n                        input = new DataInputStream(urlConn.getInputStream());\r\n                        String str;\r\n                        while (null != ((str = input.readLine())))\r\n                        {\r\n                                response.append(str);\r\n                        }\r\n                        input.close();\r\n                }\r\n                catch (Exception ex)\r\n                {\r\n                        System.out.println(ex.getMessage());\r\n                }\r\n                //cut what is unnecessary\r\n                return response.substring(response.indexOf(&quot;&lt;hr&gt;&quot;)+4, response.lastIndexOf(&quot;&lt;hr&gt;&quot;));\r\n        }\r\n}\r\n\r\n\r\nclass AnotherDictionaryCyclicBehaviour extends CyclicBehaviour {\r\n    ServiceAgent agent;\r\n\r\n    public AnotherDictionaryCyclicBehaviour(ServiceAgent agent) {\r\n        this.agent = agent;\r\n    }\r\n\r\n    public void action() {\r\n        MessageTemplate template = MessageTemplate.MatchOntology(&quot;Easton&#39;s 1897 Bible Dictionary&quot;);\r\n        ACLMessage message = agent.receive(template);\r\n        if (message == null) {\r\n            block();\r\n        }\r\n \r\n        else {\r\n                    // Process the incoming message and handle the request for the new dictionary service\r\n                    String content = message.getContent();\r\n                    ACLMessage reply = message.createReply();\r\n                    reply.setPerformative(ACLMessage.INFORM);\r\n                    String response = &quot;&quot;;\r\n                    try \r\n                       {\r\n                        // Call the makeRequest method for the new dictionary service\r\n                        response = agent.makeRequest(&quot;easton&quot;, content);\r\n                       } \r\n                    catch (NumberFormatException ex) \r\n                       {\r\n                        response = ex.getMessage();\r\n                       }\r\n            reply.setContent(response);\r\n            agent.send(reply);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass WordnetCyclicBehaviour extends CyclicBehaviour\r\n{\r\n        ServiceAgent agent;\r\n        public WordnetCyclicBehaviour(ServiceAgent agent)\r\n        {\r\n                this.agent = agent;\r\n        }\r\n        public void action()\r\n        {\r\n                MessageTemplate template = MessageTemplate.MatchOntology(&quot;wordnet&quot;);\r\n                ACLMessage message = agent.receive(template);\r\n                if (message == null)\r\n                {\r\n                        block();\r\n                }\r\n                else\r\n                {\r\n                        //process the incoming message\r\n                        String content = message.getContent();\r\n                        ACLMessage reply = message.createReply();\r\n                        reply.setPerformative(ACLMessage.INFORM);\r\n                        String response = &quot;&quot;;\r\n                        try\r\n                        {\r\n                                response = agent.makeRequest(&quot;wn&quot;,content);\r\n                        }\r\n                        catch (NumberFormatException ex)\r\n                        {\r\n                                response = ex.getMessage();\r\n                        }\r\n                        reply.setContent(response);\r\n                        agent.send(reply);\r\n                }\r\n        }\r\n}\r\n```\r\nI&#39;m also including MyAgent.java code (just in case):\r\n\r\n```\r\npackage jadelab1;\r\n\r\nimport jade.core.*;\r\nimport jade.core.behaviours.*;\r\nimport jade.lang.acl.*;\r\nimport jade.domain.*;\r\nimport jade.domain.FIPAAgentManagement.*;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class MyAgent extends Agent {\r\n        protected void setup () {\r\n                displayResponse(&quot;Hello, I am &quot; + getAID().getLocalName());\r\n                addBehaviour(new MyCyclicBehaviour(this));\r\n                //doDelete();\r\n        }\r\n        protected void takeDown() {\r\n                displayResponse(&quot;See you&quot;);\r\n        }\r\n        public void displayResponse(String message) {\r\n                JOptionPane.showMessageDialog(null,message,&quot;Message&quot;,JOptionPane.PLAIN_MESSAGE);\r\n        }\r\n        public void displayHtmlResponse(String html) {\r\n                JTextPane tp = new JTextPane();\r\n                JScrollPane js = new JScrollPane();\r\n                js.getViewport().add(tp);\r\n                JFrame jf = new JFrame();\r\n                jf.getContentPane().add(js);\r\n                jf.pack();\r\n                jf.setSize(400,500);\r\n                jf.setVisible(true);\r\n                tp.setContentType(&quot;text/html&quot;);\r\n                tp.setEditable(false);\r\n                tp.setText(html);\r\n        }\r\n}\r\n\r\nclass MyCyclicBehaviour extends CyclicBehaviour {\r\n        MyAgent myAgent;\r\n        public MyCyclicBehaviour(MyAgent myAgent) {\r\n                this.myAgent = myAgent;\r\n        }\r\n        public void action() {\r\n                ACLMessage message = myAgent.receive();\r\n                if (message == null) {\r\n                        block();\r\n                } else {\r\n                        String ontology = message.getOntology();\r\n                        String content = message.getContent();\r\n                        int performative = message.getPerformative();\r\n                        if (performative == ACLMessage.REQUEST)\r\n                        {\r\n                                //I cannot answer but I will search for someone who can\r\n                                DFAgentDescription dfad = new DFAgentDescription();\r\n                                ServiceDescription sd = new ServiceDescription();\r\n                                sd.setName(ontology);\r\n                                dfad.addServices(sd);\r\n                                try\r\n                                {\r\n                                        DFAgentDescription[] result = DFService.search(myAgent, dfad);\r\n                                        if (result.length == 0) myAgent.displayResponse(&quot;No service has been found ...&quot;);\r\n                                        else\r\n                                        {\r\n                                                String foundAgent = result[0].getName().getLocalName();\r\n                                                myAgent.displayResponse(&quot;Agent &quot; + foundAgent + &quot; is a service provider. Sending message to &quot; + foundAgent);\r\n                                                ACLMessage forward = new ACLMessage(ACLMessage.REQUEST);\r\n                                                forward.addReceiver(new AID(foundAgent, AID.ISLOCALNAME));\r\n                                                forward.setContent(content);\r\n                                                forward.setOntology(ontology);\r\n                                                myAgent.send(forward);\r\n                                        }\r\n                                }\r\n                                catch (FIPAException ex)\r\n                                {\r\n                                        ex.printStackTrace();\r\n                                        myAgent.displayResponse(&quot;Problem occured while searching for a service ...&quot;);\r\n                                }\r\n                        }\r\n                        else\r\n                        {       //when it is an answer\r\n                                myAgent.displayHtmlResponse(content);\r\n                        }\r\n                }\r\n        }\r\n}\r\n```\r\n\r\n\r\n\r\nI noticed that the following lines in the ServiceAgent are the most important:\r\nsd2.setName(&quot;Easton&#39;s 1897 Bible Dictionary&quot;);\r\nMessageTemplate template = MessageTemplate.MatchOntology(&quot;Easton&#39;s 1897 Bible Dictionary&quot;);\r\nresponse = agent.makeRequest(&quot;easton&quot;, content);\r\n\r\nHere&#39;s what I&#39;ve already tried:\r\n\r\nModfied ServiceAgent class:\r\n\r\n```\r\npublic class ServiceAgent extends Agent {\r\n    private String dictionaryName;\r\n\r\n    protected void setup() {\r\n\r\n        // This should Get dictionary name from the arguments passed during agent creation\r\n        Object[] args = getArguments();\r\n\r\n        if (args != null &amp;&amp; args.length &gt; 0) {\r\n            dictionaryName = (String) args[0];\r\n            // rest of the original code here\r\n        } else {\r\n            System.out.println(&quot;No dictionary name provided. Agent will not provide any service.&quot;);\r\n            doDelete();\r\n        }\r\n    }\r\n\r\n    // rest of the original code here\r\n\r\n    public String makeRequest(String word) {\r\n        // rest of the original code here\r\n        response = agent.makeRequest(dictionaryName, content);\r\n        // rest of the original code here\r\n    }\r\n}\r\n```\r\n\r\n\r\nand the modified AnotherDictionaryCyclicBehaviour class:\r\n\r\n```\r\nclass AnotherDictionaryCyclicBehaviour extends CyclicBehaviour {\r\n    private String dictionaryName;\r\n    ServiceAgent agent;\r\n\r\n    public AnotherDictionaryCyclicBehaviour (ServiceAgent agent, String dictionaryName) {\r\n        this.agent = agent;\r\n        this.dictionaryName = dictionaryName;\r\n    }\r\n\r\n    public void action() {\r\n        MessageTemplate template = MessageTemplate.MatchOntology(dictionaryName);\r\n        // rest of the original code here\r\n        response = agent.makeRequest(content);\r\n        // rest of the original code here.\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nBy making these changes, the agent and its behavior should become more versatile. The dictionary name is no longer hard-coded, so users should be able to dynamically specify it during agent configuration. The problem is that after the changes, the agent stil did not recognize other dictionaries. I guess this problem is extremely simple, but I would still appreciate any help.","title":"Creating a universal agent in a Java Agent Development Framework (JADE)","body":"<p>I'm new to JADE and have recently created a Service agent that looks up the definition of words from two dictionaries (WordNet(r) 3.0 (2006) and Easton's 1897 Bible Dictionary).\nI want to merge all services and behaviors of ServiceAgent into one. My goal is to end up having one agent class and one behavior class capable of handling requests to any dictionary from dict.org but I'm not sure how to do that.</p>\n<p>I'm using Linux Red Hat and have downloaded Apache ANT 1.9.2 and Java JDK 1.5.0 if that helps.</p>\n<p>Here is ServiceAgent.java code:</p>\n<pre><code>package jadelab1;\n\nimport jade.core.*;\nimport jade.core.behaviours.*;\nimport jade.lang.acl.*;\nimport jade.domain.*;\nimport jade.domain.FIPAAgentManagement.*;\nimport java.net.*;\nimport java.io.*;\n\npublic class ServiceAgent extends Agent {\n        protected void setup () {\n                //services registration at DF\n                DFAgentDescription dfad = new DFAgentDescription();\n                dfad.setName(getAID());\n                //service no 1\n                ServiceDescription sd1 = new ServiceDescription();\n                sd1.setType(&quot;answers&quot;);\n                sd1.setName(&quot;wordnet&quot;);\n                //Serive no 2\n                ServiceDescription sd2 = new ServiceDescription();\n                sd2.setType(&quot;answers&quot;);\n                sd2.setName(&quot;Easton's 1897 Bible Dictionary&quot;);\n                //add them all\n                dfad.addServices(sd1);\n                dfad.addServices(sd2);\n                try {\n                        DFService.register(this,dfad);\n                } catch (FIPAException ex) {\n                        ex.printStackTrace();\n                }\n\n                addBehaviour(new AnotherDictionaryCyclicBehaviour(this));\n                addBehaviour(new WordnetCyclicBehaviour(this));\n                //doDelete();\n        }\n        protected void takeDown() {\n                //services deregistration before termination\n                try {\n                        DFService.deregister(this);\n                } catch (FIPAException ex) {\n                        ex.printStackTrace();\n                }\n        }\n        public String makeRequest(String serviceName, String word)\n        {\n                StringBuffer response = new StringBuffer();\n                try\n                {\n                        URL url;\n                        URLConnection urlConn;\n                        DataOutputStream printout;\n                        DataInputStream input;\n                        url = new URL(&quot;http://dict.org/bin/Dict&quot;);\n                        urlConn = url.openConnection();\n                        urlConn.setDoInput(true);\n                        urlConn.setDoOutput(true);\n                        urlConn.setUseCaches(false);\n                        urlConn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n                        String content = &quot;Form=Dict1&amp;Strategy=*&amp;Database=&quot; + URLEncoder.encode(serviceName) + &quot;&amp;Query=&quot; + URLEncoder.encode(word) + &quot;&amp;submit=Submit+query&quot;;\n                        //forth\n                        printout = new DataOutputStream(urlConn.getOutputStream());\n                        printout.writeBytes(content);\n                        printout.flush();\n                        printout.close();\n                        //back\n                        input = new DataInputStream(urlConn.getInputStream());\n                        String str;\n                        while (null != ((str = input.readLine())))\n                        {\n                                response.append(str);\n                        }\n                        input.close();\n                }\n                catch (Exception ex)\n                {\n                        System.out.println(ex.getMessage());\n                }\n                //cut what is unnecessary\n                return response.substring(response.indexOf(&quot;&lt;hr&gt;&quot;)+4, response.lastIndexOf(&quot;&lt;hr&gt;&quot;));\n        }\n}\n\n\nclass AnotherDictionaryCyclicBehaviour extends CyclicBehaviour {\n    ServiceAgent agent;\n\n    public AnotherDictionaryCyclicBehaviour(ServiceAgent agent) {\n        this.agent = agent;\n    }\n\n    public void action() {\n        MessageTemplate template = MessageTemplate.MatchOntology(&quot;Easton's 1897 Bible Dictionary&quot;);\n        ACLMessage message = agent.receive(template);\n        if (message == null) {\n            block();\n        }\n \n        else {\n                    // Process the incoming message and handle the request for the new dictionary service\n                    String content = message.getContent();\n                    ACLMessage reply = message.createReply();\n                    reply.setPerformative(ACLMessage.INFORM);\n                    String response = &quot;&quot;;\n                    try \n                       {\n                        // Call the makeRequest method for the new dictionary service\n                        response = agent.makeRequest(&quot;easton&quot;, content);\n                       } \n                    catch (NumberFormatException ex) \n                       {\n                        response = ex.getMessage();\n                       }\n            reply.setContent(response);\n            agent.send(reply);\n        }\n    }\n}\n\n\nclass WordnetCyclicBehaviour extends CyclicBehaviour\n{\n        ServiceAgent agent;\n        public WordnetCyclicBehaviour(ServiceAgent agent)\n        {\n                this.agent = agent;\n        }\n        public void action()\n        {\n                MessageTemplate template = MessageTemplate.MatchOntology(&quot;wordnet&quot;);\n                ACLMessage message = agent.receive(template);\n                if (message == null)\n                {\n                        block();\n                }\n                else\n                {\n                        //process the incoming message\n                        String content = message.getContent();\n                        ACLMessage reply = message.createReply();\n                        reply.setPerformative(ACLMessage.INFORM);\n                        String response = &quot;&quot;;\n                        try\n                        {\n                                response = agent.makeRequest(&quot;wn&quot;,content);\n                        }\n                        catch (NumberFormatException ex)\n                        {\n                                response = ex.getMessage();\n                        }\n                        reply.setContent(response);\n                        agent.send(reply);\n                }\n        }\n}\n</code></pre>\n<p>I'm also including MyAgent.java code (just in case):</p>\n<pre><code>package jadelab1;\n\nimport jade.core.*;\nimport jade.core.behaviours.*;\nimport jade.lang.acl.*;\nimport jade.domain.*;\nimport jade.domain.FIPAAgentManagement.*;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class MyAgent extends Agent {\n        protected void setup () {\n                displayResponse(&quot;Hello, I am &quot; + getAID().getLocalName());\n                addBehaviour(new MyCyclicBehaviour(this));\n                //doDelete();\n        }\n        protected void takeDown() {\n                displayResponse(&quot;See you&quot;);\n        }\n        public void displayResponse(String message) {\n                JOptionPane.showMessageDialog(null,message,&quot;Message&quot;,JOptionPane.PLAIN_MESSAGE);\n        }\n        public void displayHtmlResponse(String html) {\n                JTextPane tp = new JTextPane();\n                JScrollPane js = new JScrollPane();\n                js.getViewport().add(tp);\n                JFrame jf = new JFrame();\n                jf.getContentPane().add(js);\n                jf.pack();\n                jf.setSize(400,500);\n                jf.setVisible(true);\n                tp.setContentType(&quot;text/html&quot;);\n                tp.setEditable(false);\n                tp.setText(html);\n        }\n}\n\nclass MyCyclicBehaviour extends CyclicBehaviour {\n        MyAgent myAgent;\n        public MyCyclicBehaviour(MyAgent myAgent) {\n                this.myAgent = myAgent;\n        }\n        public void action() {\n                ACLMessage message = myAgent.receive();\n                if (message == null) {\n                        block();\n                } else {\n                        String ontology = message.getOntology();\n                        String content = message.getContent();\n                        int performative = message.getPerformative();\n                        if (performative == ACLMessage.REQUEST)\n                        {\n                                //I cannot answer but I will search for someone who can\n                                DFAgentDescription dfad = new DFAgentDescription();\n                                ServiceDescription sd = new ServiceDescription();\n                                sd.setName(ontology);\n                                dfad.addServices(sd);\n                                try\n                                {\n                                        DFAgentDescription[] result = DFService.search(myAgent, dfad);\n                                        if (result.length == 0) myAgent.displayResponse(&quot;No service has been found ...&quot;);\n                                        else\n                                        {\n                                                String foundAgent = result[0].getName().getLocalName();\n                                                myAgent.displayResponse(&quot;Agent &quot; + foundAgent + &quot; is a service provider. Sending message to &quot; + foundAgent);\n                                                ACLMessage forward = new ACLMessage(ACLMessage.REQUEST);\n                                                forward.addReceiver(new AID(foundAgent, AID.ISLOCALNAME));\n                                                forward.setContent(content);\n                                                forward.setOntology(ontology);\n                                                myAgent.send(forward);\n                                        }\n                                }\n                                catch (FIPAException ex)\n                                {\n                                        ex.printStackTrace();\n                                        myAgent.displayResponse(&quot;Problem occured while searching for a service ...&quot;);\n                                }\n                        }\n                        else\n                        {       //when it is an answer\n                                myAgent.displayHtmlResponse(content);\n                        }\n                }\n        }\n}\n</code></pre>\n<p>I noticed that the following lines in the ServiceAgent are the most important:\nsd2.setName(&quot;Easton's 1897 Bible Dictionary&quot;);\nMessageTemplate template = MessageTemplate.MatchOntology(&quot;Easton's 1897 Bible Dictionary&quot;);\nresponse = agent.makeRequest(&quot;easton&quot;, content);</p>\n<p>Here's what I've already tried:</p>\n<p>Modfied ServiceAgent class:</p>\n<pre><code>public class ServiceAgent extends Agent {\n    private String dictionaryName;\n\n    protected void setup() {\n\n        // This should Get dictionary name from the arguments passed during agent creation\n        Object[] args = getArguments();\n\n        if (args != null &amp;&amp; args.length &gt; 0) {\n            dictionaryName = (String) args[0];\n            // rest of the original code here\n        } else {\n            System.out.println(&quot;No dictionary name provided. Agent will not provide any service.&quot;);\n            doDelete();\n        }\n    }\n\n    // rest of the original code here\n\n    public String makeRequest(String word) {\n        // rest of the original code here\n        response = agent.makeRequest(dictionaryName, content);\n        // rest of the original code here\n    }\n}\n</code></pre>\n<p>and the modified AnotherDictionaryCyclicBehaviour class:</p>\n<pre><code>class AnotherDictionaryCyclicBehaviour extends CyclicBehaviour {\n    private String dictionaryName;\n    ServiceAgent agent;\n\n    public AnotherDictionaryCyclicBehaviour (ServiceAgent agent, String dictionaryName) {\n        this.agent = agent;\n        this.dictionaryName = dictionaryName;\n    }\n\n    public void action() {\n        MessageTemplate template = MessageTemplate.MatchOntology(dictionaryName);\n        // rest of the original code here\n        response = agent.makeRequest(content);\n        // rest of the original code here.\n    }\n}\n\n</code></pre>\n<p>By making these changes, the agent and its behavior should become more versatile. The dictionary name is no longer hard-coded, so users should be able to dynamically specify it during agent configuration. The problem is that after the changes, the agent stil did not recognize other dictionaries. I guess this problem is extremely simple, but I would still appreciate any help.</p>\n"},{"tags":["java","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":6886800,"reputation":1062,"user_id":5291611,"accept_rate":96,"display_name":"alturkovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699282723,"creation_date":1699280701,"answer_id":77431857,"question_id":77344269,"body_markdown":"I managed to solve this myself. Here is a configuration example if someone else has the same problem:\r\n\r\n```java\r\n@Configuration\r\nclass SpringDocConfiguration implements InitializingBean\r\n{\r\n    @Override\r\n    public void afterPropertiesSet()\r\n    {\r\n        SpringDocUtils.getConfig().replaceWithSchema(Duration.class, new StringSchema().example(&quot;PT10S&quot;));\r\n    }\r\n}\r\n```","title":"OpenApi java.time.Duration default format","body":"<p>I managed to solve this myself. Here is a configuration example if someone else has the same problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass SpringDocConfiguration implements InitializingBean\n{\n    @Override\n    public void afterPropertiesSet()\n    {\n        SpringDocUtils.getConfig().replaceWithSchema(Duration.class, new StringSchema().example(&quot;PT10S&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6886800,"reputation":1062,"user_id":5291611,"accept_rate":96,"display_name":"alturkovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":77431857,"answer_count":1,"score":7,"last_activity_date":1699282723,"creation_date":1698055219,"question_id":77344269,"body_markdown":"I am using springdoc to generate my OpenAPI documentation. \r\n\r\n```\r\npublic class MyDto {\r\n    ....\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n    private Duration duration;\r\n    ....\r\n}\r\n```\r\nOpenApi shows the definition of `MyDto` as below, the duration gets deserialized to something similar to:\r\n\r\n```\r\n&quot;duration&quot;: {\r\n    &quot;seconds&quot;: 0,\r\n    &quot;nano&quot;: 0,\r\n    &quot;negative&quot;: true,\r\n    &quot;zero&quot;: true,\r\n    &quot;units&quot;: [\r\n      {\r\n        &quot;dateBased&quot;: true,\r\n        &quot;timeBased&quot;: true,\r\n        &quot;duration&quot;: {\r\n          &quot;seconds&quot;: 0,\r\n          &quot;nano&quot;: 0,\r\n          &quot;negative&quot;: true,\r\n          &quot;zero&quot;: true\r\n        },\r\n        &quot;durationEstimated&quot;: true\r\n      }\r\n    ]\r\n  }\r\n```\r\n\r\nI want it to be formated as a String without having to add `@Schema(type = &quot;string&quot;, format = &quot;duration&quot;)` to each `java.util.Duration` in all of my DTOs on each `Duration` field.\r\n\r\nI have `jackson-datatype-jsr310` on my classpath and serializing/deserializing payloads works as expected using [ISO 8601][1] formatted Strings, except for OpenAPI showing wrong format.\r\n\r\nIs it possible to somehow tell OpenAPI to treat `java.util.Duration` as a String by default?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"OpenApi java.time.Duration default format","body":"<p>I am using springdoc to generate my OpenAPI documentation.</p>\n<pre><code>public class MyDto {\n    ....\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    private Duration duration;\n    ....\n}\n</code></pre>\n<p>OpenApi shows the definition of <code>MyDto</code> as below, the duration gets deserialized to something similar to:</p>\n<pre><code>&quot;duration&quot;: {\n    &quot;seconds&quot;: 0,\n    &quot;nano&quot;: 0,\n    &quot;negative&quot;: true,\n    &quot;zero&quot;: true,\n    &quot;units&quot;: [\n      {\n        &quot;dateBased&quot;: true,\n        &quot;timeBased&quot;: true,\n        &quot;duration&quot;: {\n          &quot;seconds&quot;: 0,\n          &quot;nano&quot;: 0,\n          &quot;negative&quot;: true,\n          &quot;zero&quot;: true\n        },\n        &quot;durationEstimated&quot;: true\n      }\n    ]\n  }\n</code></pre>\n<p>I want it to be formated as a String without having to add <code>@Schema(type = &quot;string&quot;, format = &quot;duration&quot;)</code> to each <code>java.util.Duration</code> in all of my DTOs on each <code>Duration</code> field.</p>\n<p>I have <code>jackson-datatype-jsr310</code> on my classpath and serializing/deserializing payloads works as expected using <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formatted Strings, except for OpenAPI showing wrong format.</p>\n<p>Is it possible to somehow tell OpenAPI to treat <code>java.util.Duration</code> as a String by default?</p>\n"},{"tags":["java","header","key","token","retrofit2"],"owner":{"account_id":29838953,"reputation":1,"user_id":22867711,"display_name":"3DShnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699282387,"creation_date":1699282387,"question_id":77432039,"body_markdown":"I made an application using Retrofit, but there is a problem without the token does not work. Must use Key and Value (Token). I understand that it is necessary to do it with the help of Header, but how?\r\n\r\n    @Headers(&quot;Authorization&quot;)\r\n    @GET(&quot;api/Profiles/GetProfile?id={id}&quot;)\r\n    Call&lt;ResponseData&gt; getUser(@Header(&quot;X-Lisa-Lanet&quot;) token, String);","title":"Key and value must be in retrofit Header","body":"<p>I made an application using Retrofit, but there is a problem without the token does not work. Must use Key and Value (Token). I understand that it is necessary to do it with the help of Header, but how?</p>\n<pre><code>@Headers(&quot;Authorization&quot;)\n@GET(&quot;api/Profiles/GetProfile?id={id}&quot;)\nCall&lt;ResponseData&gt; getUser(@Header(&quot;X-Lisa-Lanet&quot;) token, String);\n</code></pre>\n"},{"tags":["java","debugging"],"answers":[{"comments":[{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":43,"creation_date":1535111922,"post_id":138518,"comment_id":90957207,"body_markdown":"Worth to mention is that you might want to configure your address like `*:1044` to enable remote debugging from any computer","body":"Worth to mention is that you might want to configure your address like <code>*:1044</code> to enable remote debugging from any computer"},{"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"score":9,"creation_date":1536155267,"post_id":138518,"comment_id":91323172,"body_markdown":"HerrDerb is right.. Since Java 9 &quot;address=1044&quot; is not always listening on all interfaces. &quot;address=*:1044&quot; makes Java 9+ behave like Java 8...","body":"HerrDerb is right.. Since Java 9 &quot;address=1044&quot; is not always listening on all interfaces. &quot;address=*:1044&quot; makes Java 9+ behave like Java 8..."},{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":4,"creation_date":1593615457,"post_id":138518,"comment_id":110844344,"body_markdown":"Just a note: It is _**not required**_ to add the `address` parameter. If not provided the agent is selecting a random port number.\n\nThis might be useful if you start multiple nodes within the same java command line.","body":"Just a note: It is <i><b>not required</b></i> to add the <code>address</code> parameter. If not provided the agent is selecting a random port number.  This might be useful if you start multiple nodes within the same java command line."},{"owner":{"account_id":2312862,"reputation":1095,"user_id":2030601,"display_name":"Decoded"},"score":4,"creation_date":1604618888,"post_id":138518,"comment_id":114410116,"body_markdown":"its also safer to use `address=localhost:&lt;debug port&gt;` vs just selecting the port","body":"its also safer to use <code>address=localhost:&lt;debug port&gt;</code> vs just selecting the port"}],"tags":[],"owner":{"account_id":5405,"reputation":21843,"user_id":8683,"accept_rate":91,"display_name":"Hans Sjunnesson"},"comment_count":4,"down_vote_count":7,"up_vote_count":384,"is_accepted":true,"score":377,"last_activity_date":1651760608,"creation_date":1222422632,"answer_id":138518,"question_id":138511,"body_markdown":"I have [this article][1] bookmarked on setting this up for Java 5 and below.\r\n\r\nBasically [run it with][2]:\r\n\r\n    -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044\r\n\r\nFor [Java 5 and above][3], run it with:\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=1044\r\n\r\nIf you want Java to **wait for you to connect** before executing the application, replace `suspend=n` with `suspend=y`.\r\n\r\n  [1]: http://www.eclipsezone.com/eclipse/forums/t53459.html\r\n  [2]: http://download.oracle.com/otn_hosted_doc/jdeveloper/904preview/jdk14doc/docs/tooldocs/windows/jdb.html\r\n  [3]: http://javahowto.blogspot.ru/2010/09/java-agentlibjdwp-for-attaching.html","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<p>I have <a href=\"http://www.eclipsezone.com/eclipse/forums/t53459.html\" rel=\"noreferrer\">this article</a> bookmarked on setting this up for Java 5 and below.</p>\n<p>Basically <a href=\"http://download.oracle.com/otn_hosted_doc/jdeveloper/904preview/jdk14doc/docs/tooldocs/windows/jdb.html\" rel=\"noreferrer\">run it with</a>:</p>\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044\n</code></pre>\n<p>For <a href=\"http://javahowto.blogspot.ru/2010/09/java-agentlibjdwp-for-attaching.html\" rel=\"noreferrer\">Java 5 and above</a>, run it with:</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=1044\n</code></pre>\n<p>If you want Java to <strong>wait for you to connect</strong> before executing the application, replace <code>suspend=n</code> with <code>suspend=y</code>.</p>\n"},{"comments":[{"owner":{"account_id":237323,"reputation":4915,"user_id":505406,"accept_rate":62,"display_name":"RoboAlex"},"score":7,"creation_date":1338530532,"post_id":173447,"comment_id":14123414,"body_markdown":"Your are exactly correct.. I tried with **-Xdebug** and **-Xrunjdwp** but It didn&#39;t work. when I tried with **-Xrunjdwp** or **agentlib:jdwp** It is working. ( on Java 7 )","body":"Your are exactly correct.. I tried with <b>-Xdebug</b> and <b>-Xrunjdwp</b> but It didn&#39;t work. when I tried with <b>-Xrunjdwp</b> or <b>agentlib:jdwp</b> It is working. ( on Java 7 )"},{"owner":{"account_id":76898,"reputation":2279,"user_id":219843,"accept_rate":93,"display_name":"Ring"},"score":0,"creation_date":1461251980,"post_id":173447,"comment_id":61124707,"body_markdown":"This only worked for me when I put quotes around it, otherwise I got this error: ERROR: JDWP Non-server transport dt_socket server=y suspend=y address=8000 must have a connection address specified through the &#39;address=&#39; option","body":"This only worked for me when I put quotes around it, otherwise I got this error: ERROR: JDWP Non-server transport dt_socket server=y suspend=y address=8000 must have a connection address specified through the &#39;address=&#39; option"},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":2,"creation_date":1461949699,"post_id":173447,"comment_id":61446597,"body_markdown":"Is `Xrunjdwp` deprecated (or removed?) why would we pick `agentlib:jdwp` over it?","body":"Is <code>Xrunjdwp</code> deprecated (or removed?) why would we pick <code>agentlib:jdwp</code> over it?"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1464616058,"post_id":173447,"comment_id":62545791,"body_markdown":"I think you&#39;re wrong. Netbeans uses `-Xdebug -Xrunjdwp` when debugging Maven projects, and they run like they&#39;re JITed.","body":"I think you&#39;re wrong. Netbeans uses <code>-Xdebug -Xrunjdwp</code> when debugging Maven projects, and they run like they&#39;re JITed."}],"tags":[],"owner":{"account_id":2259,"reputation":18603,"user_id":3122,"accept_rate":81,"display_name":"paulgreg"},"comment_count":4,"down_vote_count":1,"up_vote_count":518,"is_accepted":false,"score":517,"last_activity_date":1699281995,"creation_date":1223277557,"answer_id":173447,"question_id":138511,"body_markdown":"Before Java 5.0, use `-Xdebug` and `-Xrunjdwp` arguments. These options will still work in later versions, but it will run in interpreted mode instead of JIT, which will be slower.\r\n\r\nFrom Java 5.0, it is better to use the `-agentlib:jdwp` single option:\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=1044\r\n\r\nOptions on `-Xrunjdwp` or `agentlib:jdwp` arguments are :\r\n\r\n * `transport=dt_socket` : means the way used to connect to JVM (socket is a good choice, it can be used to debug a distant computer)\r\n * `address=8000` : TCP/IP port exposed, to connect from the debugger (will only allow local connections, see Antony Shumskikh&#39;s answer for remote debugging)\r\n * `suspend=y` : if &#39;y&#39;, tell the JVM to wait until debugger is attached to begin execution, otherwise (if &#39;n&#39;), starts execution right away.\r\n","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<p>Before Java 5.0, use <code>-Xdebug</code> and <code>-Xrunjdwp</code> arguments. These options will still work in later versions, but it will run in interpreted mode instead of JIT, which will be slower.</p>\n<p>From Java 5.0, it is better to use the <code>-agentlib:jdwp</code> single option:</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=1044\n</code></pre>\n<p>Options on <code>-Xrunjdwp</code> or <code>agentlib:jdwp</code> arguments are :</p>\n<ul>\n<li><code>transport=dt_socket</code> : means the way used to connect to JVM (socket is a good choice, it can be used to debug a distant computer)</li>\n<li><code>address=8000</code> : TCP/IP port exposed, to connect from the debugger (will only allow local connections, see Antony Shumskikh's answer for remote debugging)</li>\n<li><code>suspend=y</code> : if 'y', tell the JVM to wait until debugger is attached to begin execution, otherwise (if 'n'), starts execution right away.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1603273,"reputation":2630,"user_id":1483903,"accept_rate":75,"display_name":"thebiggestlebowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1477662052,"creation_date":1477661691,"answer_id":40306242,"question_id":138511,"body_markdown":"For java 1.5 or greater: \r\n    \r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 &lt;YourAppName&gt;\r\n\r\nFor java 1.4:\r\n   \r\n    java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 &lt;YourAppName&gt;\r\n\r\nFor java 1.3: \r\n\r\n    java -Xnoagent -Djava.compiler=NONE -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 &lt;YourAppName&gt;\r\n\r\n\r\nHere is output from a simple program:\r\n\r\n    java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044 HelloWhirled\r\n    Listening for transport dt_socket at address: 1044\r\n    Hello whirled","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<p>For java 1.5 or greater: </p>\n\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 &lt;YourAppName&gt;\n</code></pre>\n\n<p>For java 1.4:</p>\n\n<pre><code>java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 &lt;YourAppName&gt;\n</code></pre>\n\n<p>For java 1.3: </p>\n\n<pre><code>java -Xnoagent -Djava.compiler=NONE -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 &lt;YourAppName&gt;\n</code></pre>\n\n<p>Here is output from a simple program:</p>\n\n<pre><code>java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044 HelloWhirled\nListening for transport dt_socket at address: 1044\nHello whirled\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6200,"reputation":34664,"user_id":10335,"accept_rate":80,"display_name":"neves"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698262199,"creation_date":1505932729,"answer_id":46329491,"question_id":138511,"body_markdown":"Here is the easiest solution for *maven* builds.\r\n\r\nThere are a lot of environment special configurations needed if you are using Maven. So, if you start your program from maven, just run the `mvnDebug` command instead of `mvn`, it will take care of starting your app with remote debugging configurated. Now you can just attach a debugger on port 8000. \r\n\r\nIt&#39;ll take care of all the environment problems for you.","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<p>Here is the easiest solution for <em>maven</em> builds.</p>\n<p>There are a lot of environment special configurations needed if you are using Maven. So, if you start your program from maven, just run the <code>mvnDebug</code> command instead of <code>mvn</code>, it will take care of starting your app with remote debugging configurated. Now you can just attach a debugger on port 8000.</p>\n<p>It'll take care of all the environment problems for you.</p>\n"},{"comments":[{"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"score":3,"creation_date":1551984103,"post_id":48396996,"comment_id":96851376,"body_markdown":"Just making a note: the Oracle link says this will achieve the same old behavior, but it is not secure and not recommended.","body":"Just making a note: the Oracle link says this will achieve the same old behavior, but it is not secure and not recommended."},{"owner":{"account_id":3561836,"reputation":1206,"user_id":3408806,"display_name":"nobjta_9x_tq"},"score":0,"creation_date":1636743684,"post_id":48396996,"comment_id":123647138,"body_markdown":"Yeah, I wasted some days to find this answer for docker-compose, docker swarm debug remote with inteliji, just do exactly(with `*:`): address=*:5005","body":"Yeah, I wasted some days to find this answer for docker-compose, docker swarm debug remote with inteliji, just do exactly(with <code>*:</code>): address=*:5005"},{"owner":{"account_id":3930333,"reputation":2257,"user_id":3249197,"accept_rate":100,"display_name":"starwarswii"},"score":0,"creation_date":1664378588,"post_id":48396996,"comment_id":130459295,"body_markdown":"new non-dead link: https://www.oracle.com/java/technologies/javase/9-all-relnotes.html","body":"new non-dead link: <a href=\"https://www.oracle.com/java/technologies/javase/9-all-relnotes.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/9-all-relnotes.html</a>"},{"owner":{"account_id":7247338,"reputation":647,"user_id":8073646,"display_name":"Rory Browne"},"score":0,"creation_date":1690534561,"post_id":48396996,"comment_id":135370356,"body_markdown":"In general I think it would be better (more secure, and generally better practice) to bind the port to localhost, and set up an ssh tunnel.","body":"In general I think it would be better (more secure, and generally better practice) to bind the port to localhost, and set up an ssh tunnel."}],"tags":[],"owner":{"account_id":8668341,"reputation":1281,"user_id":6488013,"display_name":"Antony Shumskikh"},"comment_count":4,"down_vote_count":0,"up_vote_count":118,"is_accepted":false,"score":118,"last_activity_date":1516695424,"creation_date":1516695424,"answer_id":48396996,"question_id":138511,"body_markdown":"Since Java 9.0 JDWP supports only local connections by default.\r\nhttp://www.oracle.com/technetwork/java/javase/9-notes-3745703.html#JDK-8041435\r\n\r\nFor remote debugging one should run program with `*:` in address:\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8000\r\n\r\n","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<p>Since Java 9.0 JDWP supports only local connections by default.\n<a href=\"http://www.oracle.com/technetwork/java/javase/9-notes-3745703.html#JDK-8041435\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/9-notes-3745703.html#JDK-8041435</a></p>\n\n<p>For remote debugging one should run program with <code>*:</code> in address:</p>\n\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7881563,"reputation":101,"user_id":9573426,"display_name":"Jovi Qiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1576496777,"creation_date":1522391306,"answer_id":49569527,"question_id":138511,"body_markdown":"### java \r\n\r\n    java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8001,suspend=y -jar target/cxf-boot-simple-0.0.1-SNAPSHOT.jar\r\n\r\n\r\n`address` specifies the port at which it will allow to debug\r\n\r\n### Maven\r\n\r\n**Debug Spring Boot app with Maven:\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=**&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8001&quot;","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<h3>java</h3>\n\n<pre><code>java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8001,suspend=y -jar target/cxf-boot-simple-0.0.1-SNAPSHOT.jar\n</code></pre>\n\n<p><code>address</code> specifies the port at which it will allow to debug</p>\n\n<h3>Maven</h3>\n\n<p>**Debug Spring Boot app with Maven:</p>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=**\"-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8001\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6685637,"reputation":739,"user_id":5156999,"display_name":"Santosh b"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1576496734,"creation_date":1551093315,"answer_id":54864975,"question_id":138511,"body_markdown":"Command Line\r\n------------\r\n\r\n    -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=PORT_NUMBER\r\n\r\nGradle\r\n------\r\n\r\n    gradle bootrun --debug-jvm\r\n\r\nMaven\r\n-----\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=PORT_NUMBER","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<h2>Command Line</h2>\n\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=PORT_NUMBER\n</code></pre>\n\n<h2>Gradle</h2>\n\n<pre><code>gradle bootrun --debug-jvm\n</code></pre>\n\n<h2>Maven</h2>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=\"-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=PORT_NUMBER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8098318,"reputation":1530,"user_id":6102097,"display_name":"Boney"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579861384,"creation_date":1579857553,"answer_id":59893443,"question_id":138511,"body_markdown":"```\r\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=PORT_NUMBER\r\n```\r\n\r\nHere we just use a Socket Attaching Connector, which is enabled by default when the dt_socket transport is configured and the VM is running in the server debugging mode.\r\n\r\nFor more details u can refer to : https://stackify.com/java-remote-debugging/","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=PORT_NUMBER\n</code></pre>\n\n<p>Here we just use a Socket Attaching Connector, which is enabled by default when the dt_socket transport is configured and the VM is running in the server debugging mode.</p>\n\n<p>For more details u can refer to : <a href=\"https://stackify.com/java-remote-debugging/\" rel=\"nofollow noreferrer\">https://stackify.com/java-remote-debugging/</a></p>\n"},{"tags":[],"owner":{"account_id":9454851,"reputation":1,"user_id":7030465,"display_name":"Prashant Jainer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637218968,"creation_date":1637218968,"answer_id":70015702,"question_id":138511,"body_markdown":"If you are using java 9 or higher, to remotely debug (which is also the case when you use docker at local) you have to provide `--debug *:($port)`. Because from java 9 `--debug ($port)` will only allow to debug ***at local, not remotely***.\r\n\r\nSo, you can provide command in docker-compose like \r\n`command: -- /opt/jboss/wildfly/bin/standalone.sh --debug *:8787`","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<p>If you are using java 9 or higher, to remotely debug (which is also the case when you use docker at local) you have to provide <code>--debug *:($port)</code>. Because from java 9 <code>--debug ($port)</code> will only allow to debug <em><strong>at local, not remotely</strong></em>.</p>\n<p>So, you can provide command in docker-compose like\n<code>command: -- /opt/jboss/wildfly/bin/standalone.sh --debug *:8787</code></p>\n"}],"owner":{"account_id":2259,"reputation":18603,"user_id":3122,"accept_rate":81,"display_name":"paulgreg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540948,"favorite_count":0,"down_vote_count":2,"up_vote_count":395,"accepted_answer_id":138518,"answer_count":9,"score":393,"last_activity_date":1699281995,"creation_date":1222422449,"question_id":138511,"body_markdown":"I know there&#39;s some `JAVA_OPTS` to set to remotely debug a Java program.\r\n\r\nWhat are they and what do they mean ?","title":"What are Java command line options to set to allow JVM to be remotely debugged?","body":"<p>I know there's some <code>JAVA_OPTS</code> to set to remotely debug a Java program.</p>\n\n<p>What are they and what do they mean ?</p>\n"},{"tags":["java","debugging","remote-debugging"],"comments":[{"owner":{"account_id":1775560,"reputation":1720,"user_id":1619407,"display_name":"Alessandro Giusa"},"score":0,"creation_date":1505206077,"post_id":975271,"comment_id":79305740,"body_markdown":"https://stackoverflow.com/a/46171836/1619407","body":"<a href=\"https://stackoverflow.com/a/46171836/1619407\">stackoverflow.com/a/46171836/1619407</a>"}],"answers":[{"comments":[{"owner":{"account_id":68277,"reputation":562,"user_id":199296,"display_name":"Mat Gessel"},"score":11,"creation_date":1400796581,"post_id":975342,"comment_id":36642242,"body_markdown":"[Official JDPA Connection and Invocation Documentation](http://docs.oracle.com/javase/8/docs/technotes/guides/jpda/conninv.html#Invocation)","body":"<a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/jpda/conninv.html#Invocation\" rel=\"nofollow noreferrer\">Official JDPA Connection and Invocation Documentation</a>"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":3,"creation_date":1439090589,"post_id":975342,"comment_id":51716071,"body_markdown":"@DJGummikuh Nice! I&#39;ve updated the post to use the newer-style `-agentlib` option for your cutting-and-pasting pleasure. :-)","body":"@DJGummikuh Nice! I&#39;ve updated the post to use the newer-style <code>-agentlib</code> option for your cutting-and-pasting pleasure. :-)"},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1499903929,"post_id":975342,"comment_id":77111778,"body_markdown":"Do we always need to have the source code for the remote app to be present in the machine where we do remote debugging ?","body":"Do we always need to have the source code for the remote app to be present in the machine where we do remote debugging ?"},{"owner":{"account_id":1538152,"reputation":1933,"user_id":1433551,"accept_rate":43,"display_name":"Iwan Satria"},"score":0,"creation_date":1517663064,"post_id":975342,"comment_id":84191877,"body_markdown":"You need to _know_ the source code. Either you have the .java files or you have the .jar / .class files combined with the decompiler. IDE such as Eclipse can have a decompiler such as JDecompiler installed so that you can debug the .class file as if it&#39;s a .java file (excluding the comments).","body":"You need to <i>know</i> the source code. Either you have the .java files or you have the .jar / .class files combined with the decompiler. IDE such as Eclipse can have a decompiler such as JDecompiler installed so that you can debug the .class file as if it&#39;s a .java file (excluding the comments)."},{"owner":{"account_id":2749725,"reputation":2715,"user_id":2369389,"accept_rate":71,"display_name":"madduci"},"score":0,"creation_date":1523605238,"post_id":975342,"comment_id":86637902,"body_markdown":"what about java9+ applications optimized with jlink?","body":"what about java9+ applications optimized with jlink?"},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1529502688,"post_id":975342,"comment_id":88897354,"body_markdown":"How can we run shell script by passing the below parameters ?","body":"How can we run shell script by passing the below parameters ?"},{"owner":{"account_id":3545310,"reputation":821,"user_id":2961429,"accept_rate":96,"display_name":"du369"},"score":0,"creation_date":1532712708,"post_id":975342,"comment_id":90092575,"body_markdown":"What if the java process is not started with thoses arguments int the first place? Can I somehow make the said jvm instance debuggable?","body":"What if the java process is not started with thoses arguments int the first place? Can I somehow make the said jvm instance debuggable?"},{"owner":{"account_id":234626,"reputation":2687,"user_id":500902,"accept_rate":100,"display_name":"Marvin"},"score":4,"creation_date":1551366618,"post_id":975342,"comment_id":96621985,"body_markdown":"Worth repeating a comment from this https://stackoverflow.com/a/138518/500902, &quot;Since Java 9 &quot;address=1044&quot; is not always listening on all interfaces. &quot;address=*:1044&quot; makes Java 9+ behave like Java 8&quot; to allow debugging from different host","body":"Worth repeating a comment from this <a href=\"https://stackoverflow.com/a/138518/500902\">stackoverflow.com/a/138518/500902</a>, &quot;Since Java 9 &quot;address=1044&quot; is not always listening on all interfaces. &quot;address=*:1044&quot; makes Java 9+ behave like Java 8&quot; to allow debugging from different host"},{"owner":{"account_id":6112702,"reputation":369,"user_id":4768635,"display_name":"MrBlack"},"score":0,"creation_date":1567951763,"post_id":975342,"comment_id":102112766,"body_markdown":"Thanks. I&#39;d like to emphasize that **order of arguments is important**, for me `java -jar app.jar -agentlib` command didn&#39;t open debugger port, but `java -agentlib -jar app.jar` did","body":"Thanks. I&#39;d like to emphasize that <b>order of arguments is important</b>, for me <code>java -jar app.jar -agentlib</code> command didn&#39;t open debugger port, but <code>java -agentlib -jar app.jar</code> did"},{"owner":{"account_id":2697215,"reputation":1088,"user_id":2328925,"display_name":"NaderNader"},"score":0,"creation_date":1585046850,"post_id":975342,"comment_id":107622870,"body_markdown":"Suggested updated to this answer.... I had to modify this solution to work for connecting to java on a windows machine with multiple network interfaces.  Only setting address=*:4000 allowed me to connect to the java process from my IDE on another computer.  My final working solution is &#39;-Xdebug Xrunjdwp:server=y,transport=dt_socket,address=*:4000,suspend=n&#39;.","body":"Suggested updated to this answer.... I had to modify this solution to work for connecting to java on a windows machine with multiple network interfaces.  Only setting address=*:4000 allowed me to connect to the java process from my IDE on another computer.  My final working solution is &#39;-Xdebug Xrunjdwp:server=y,transport=dt_socket,address=*:4000,suspend&zwnj;&#8203;=n&#39;."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1672999347,"post_id":975342,"comment_id":132403817,"body_markdown":"anybody else has been coming back to this page for years to copy/paste?","body":"anybody else has been coming back to this page for years to copy/paste?"}],"tags":[],"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"comment_count":11,"down_vote_count":3,"up_vote_count":534,"is_accepted":true,"score":531,"last_activity_date":1699281885,"creation_date":1244638043,"answer_id":975342,"question_id":975271,"body_markdown":"**Edit:** I noticed that some people are cutting and pasting the invocation here. The answer I originally gave was relevant for the OP only. Here&#39;s a more modern invocation style (including using the more conventional port of 8000):\r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,address=8000,suspend=n\r\n    &lt;other arguments&gt;\r\n\r\n**Note:** With `address=8000` (as used above), the debug server will only listen on `localhost` (see https://stackoverflow.com/questions/138511/). If you want the server to listen on all interfaces, to be able to debug across the network, use `address=*:8000`. Obviously only do this on a restricted, trusted network...\r\n\r\nOriginal answer follows.\r\n\r\n----\r\n\r\nTry this:\r\n\r\n    java -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=4000,suspend=n myapp\r\n\r\nTwo points here:\r\n\r\n1. No spaces in the `runjdwp` option.\r\n2. Options come before the class name. Any arguments you have after the class name are arguments to your program!","title":"Remote debugging a Java application","body":"<p><strong>Edit:</strong> I noticed that some people are cutting and pasting the invocation here. The answer I originally gave was relevant for the OP only. Here's a more modern invocation style (including using the more conventional port of 8000):</p>\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,address=8000,suspend=n\n&lt;other arguments&gt;\n</code></pre>\n<p><strong>Note:</strong> With <code>address=8000</code> (as used above), the debug server will only listen on <code>localhost</code> (see <a href=\"https://stackoverflow.com/questions/138511/\">What are Java command line options to set to allow JVM to be remotely debugged?</a>). If you want the server to listen on all interfaces, to be able to debug across the network, use <code>address=*:8000</code>. Obviously only do this on a restricted, trusted network...</p>\n<p>Original answer follows.</p>\n<hr />\n<p>Try this:</p>\n<pre><code>java -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=4000,suspend=n myapp\n</code></pre>\n<p>Two points here:</p>\n<ol>\n<li>No spaces in the <code>runjdwp</code> option.</li>\n<li>Options come before the class name. Any arguments you have after the class name are arguments to your program!</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1601057056,"post_id":8131547,"comment_id":113296258,"body_markdown":"The &quot;Step by Step guide&quot; in the link uses some out-of-date options.","body":"The &quot;Step by Step guide&quot; in the link uses some out-of-date options."}],"tags":[],"owner":{"account_id":1040742,"reputation":339,"user_id":1046818,"display_name":"Gaurav"},"comment_count":1,"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1368706162,"creation_date":1321331712,"answer_id":8131547,"question_id":975271,"body_markdown":"Steps:\r\n\r\n1. Start your remote java application with debugging options as said in above post.  \r\n2. Configure Eclipse for remote debugging by specifying host and port.  \r\n3. Start remote debugging in Eclipse and wait for connection to succeed.  \r\n4. Setup breakpoint and debug.  \r\n5. If you want to debug from start of application use suspend=y , this will keep remote application suspended until you connect from eclipse.\r\n\r\nSee [Step by Step guide on Java remote debugging][1] for full details.\r\n\r\n\r\n  [1]: http://javarevisited.blogspot.com/2011/02/how-to-setup-remote-debugging-in.html","title":"Remote debugging a Java application","body":"<p>Steps:</p>\n\n<ol>\n<li>Start your remote java application with debugging options as said in above post.  </li>\n<li>Configure Eclipse for remote debugging by specifying host and port.  </li>\n<li>Start remote debugging in Eclipse and wait for connection to succeed.  </li>\n<li>Setup breakpoint and debug.  </li>\n<li>If you want to debug from start of application use suspend=y , this will keep remote application suspended until you connect from eclipse.</li>\n</ol>\n\n<p>See <a href=\"http://javarevisited.blogspot.com/2011/02/how-to-setup-remote-debugging-in.html\" rel=\"noreferrer\">Step by Step guide on Java remote debugging</a> for full details.</p>\n"},{"comments":[{"owner":{"account_id":265294,"reputation":724,"user_id":552175,"accept_rate":100,"display_name":"Sundae"},"score":0,"creation_date":1409823045,"post_id":22631355,"comment_id":40101144,"body_markdown":"The following works with Eclipse&#39;s default settings:\n\n-agentlib:jdwp=transport=dt_socket,server=y,address=8000","body":"The following works with Eclipse&#39;s default settings:  -agentlib:jdwp=transport=dt_socket,server=y,address=8000"}],"tags":[],"owner":{"account_id":1356352,"reputation":10628,"user_id":1294667,"accept_rate":67,"display_name":"Sairam Krish"},"comment_count":1,"down_vote_count":1,"up_vote_count":96,"is_accepted":false,"score":95,"last_activity_date":1406962921,"creation_date":1395742360,"answer_id":22631355,"question_id":975271,"body_markdown":"For JDK 1.3 or earlier : \r\n\r\n    -Xnoagent -Djava.compiler=NONE -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=6006\r\n\r\nFor JDK 1.4 \r\n\r\n    -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=6006\r\n\r\nFor newer JDK :\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=6006\r\n\r\nPlease change the port number based on your needs.\r\n\r\n\r\nFrom [java technotes][1] \r\n&gt; From 5.0 onwards the -agentlib:jdwp option is used to load and specify\r\n&gt; options to the JDWP agent. For releases prior to 5.0, the -Xdebug and\r\n&gt; -Xrunjdwp options are used (the 5.0 implementation also supports the -Xdebug and -Xrunjdwp options but the newer -agentlib:jdwp option is preferable as the JDWP agent in 5.0 uses the JVM TI interface to the\r\n&gt; VM rather than the older JVMDI interface)\r\n\r\nOne more thing to note, from [JVM Tool interface documentation][2]:\r\n\r\n&gt; JVM TI was introduced at JDK 5.0. JVM TI replaces the Java Virtual Machine Profiler Interface (JVMPI) and the Java Virtual Machine Debug Interface (JVMDI) which, as of JDK 6, are no longer provided.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/jpda/conninv.html#Invocation\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/jvmti","title":"Remote debugging a Java application","body":"<p>For JDK 1.3 or earlier : </p>\n\n<pre><code>-Xnoagent -Djava.compiler=NONE -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=6006\n</code></pre>\n\n<p>For JDK 1.4 </p>\n\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=6006\n</code></pre>\n\n<p>For newer JDK :</p>\n\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=6006\n</code></pre>\n\n<p>Please change the port number based on your needs.</p>\n\n<p>From <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jpda/conninv.html#Invocation\">java technotes</a> </p>\n\n<blockquote>\n  <p>From 5.0 onwards the -agentlib:jdwp option is used to load and specify\n  options to the JDWP agent. For releases prior to 5.0, the -Xdebug and\n  -Xrunjdwp options are used (the 5.0 implementation also supports the -Xdebug and -Xrunjdwp options but the newer -agentlib:jdwp option is preferable as the JDWP agent in 5.0 uses the JVM TI interface to the\n  VM rather than the older JVMDI interface)</p>\n</blockquote>\n\n<p>One more thing to note, from <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jvmti\">JVM Tool interface documentation</a>:</p>\n\n<blockquote>\n  <p>JVM TI was introduced at JDK 5.0. JVM TI replaces the Java Virtual Machine Profiler Interface (JVMPI) and the Java Virtual Machine Debug Interface (JVMDI) which, as of JDK 6, are no longer provided.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":6271315,"reputation":395,"user_id":4875473,"display_name":"Nathan Niesen"},"score":0,"creation_date":1536181155,"post_id":38087488,"comment_id":91336354,"body_markdown":"In Java 8 the JDK supports a [JAVA_TOOL_OPTIONS](https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/envvars002.html) environment variable so to enable the debugger for any Java application you need to use:\n\n`JAVA_TOOL_OPTIONS=-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n`\n\np.s. sorry for the edits, fighting with the formatter.","body":"In Java 8 the JDK supports a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/envvars002.html\" rel=\"nofollow noreferrer\">JAVA_TOOL_OPTIONS</a> environment variable so to enable the debugger for any Java application you need to use:  <code>JAVA_TOOL_OPTIONS=-agentlib:jdwp=transport=dt_socket,address&zwnj;&#8203;=8000,server=y,suspe&zwnj;&#8203;nd=n</code>  p.s. sorry for the edits, fighting with the formatter."},{"owner":{"account_id":984172,"reputation":594,"user_id":1003113,"display_name":"Martynas Juseviius"},"score":0,"creation_date":1604963140,"post_id":38087488,"comment_id":114502902,"body_markdown":"Any idea about NetBeans?","body":"Any idea about NetBeans?"}],"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467154102,"creation_date":1467154102,"answer_id":38087488,"question_id":975271,"body_markdown":"This is how you should setup Eclipse Debugger for remote debugging:\r\n\r\n***Eclipse Settings:***  \r\n\r\n1.Click the Run Button  \r\n2.Select the Debug Configurations  \r\n3.Select the Remote Java Application  \r\n4.New Configuration \r\n \r\n - Name : GatewayPortalProject\r\n - Project : GatewayPortal-portlet\r\n - Connection Type: Socket Attach\r\n - Connection Properties: \r\ni)\tlocalhost   ii)\t8787  \r\n\r\n***For JBoss:***\r\n\r\n1.Change the `/path/toJboss/jboss-eap-6.1/bin/standalone.conf` in your vm as follows:\r\n   Uncomment the following line by removing the #:\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=n&quot;\r\n\r\n\r\n**For Tomcat :**\r\n\r\nIn **catalina.bat** file :\r\n\r\nStep 1: \r\n\r\n    CATALINA_OPTS=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n&quot;\r\n\r\nStep 2: \r\n\r\n    JPDA_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n&quot;\r\n\r\nStep 3: Run Tomcat from command prompt like below: \r\n\r\n    catalina.sh jpda start\r\n\r\nThen you need to set **breakpoints** in the Java classes you desire to debug. ","title":"Remote debugging a Java application","body":"<p>This is how you should setup Eclipse Debugger for remote debugging:</p>\n\n<p><strong><em>Eclipse Settings:</em></strong>  </p>\n\n<p>1.Click the Run Button<br>\n2.Select the Debug Configurations<br>\n3.Select the Remote Java Application<br>\n4.New Configuration </p>\n\n<ul>\n<li>Name : GatewayPortalProject</li>\n<li>Project : GatewayPortal-portlet</li>\n<li>Connection Type: Socket Attach</li>\n<li>Connection Properties: \ni)  localhost   ii) 8787  </li>\n</ul>\n\n<p><strong><em>For JBoss:</em></strong></p>\n\n<p>1.Change the <code>/path/toJboss/jboss-eap-6.1/bin/standalone.conf</code> in your vm as follows:\n   Uncomment the following line by removing the #:</p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=n\"\n</code></pre>\n\n<p><strong>For Tomcat :</strong></p>\n\n<p>In <strong>catalina.bat</strong> file :</p>\n\n<p>Step 1: </p>\n\n<pre><code>CATALINA_OPTS=\"-Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n\"\n</code></pre>\n\n<p>Step 2: </p>\n\n<pre><code>JPDA_OPTS=\"-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n\"\n</code></pre>\n\n<p>Step 3: Run Tomcat from command prompt like below: </p>\n\n<pre><code>catalina.sh jpda start\n</code></pre>\n\n<p>Then you need to set <strong>breakpoints</strong> in the Java classes you desire to debug. </p>\n"},{"comments":[{"owner":{"account_id":418298,"reputation":368,"user_id":3759031,"display_name":"Vijayan Kani"},"score":0,"creation_date":1664195530,"post_id":56823745,"comment_id":130408580,"body_markdown":"The page attached doesn&#39;t exit","body":"The page attached doesn&#39;t exit"},{"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"score":0,"creation_date":1664202730,"post_id":56823745,"comment_id":130411239,"body_markdown":"@VijayanKani Thanks I searched and found an updated page.","body":"@VijayanKani Thanks I searched and found an updated page."}],"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"comment_count":2,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1664202675,"creation_date":1561886600,"answer_id":56823745,"question_id":975271,"body_markdown":"**Answer covering Java &gt;= 9:**\r\n\r\n\r\nFor Java 9+, the JVM option needs a slight change by prefixing the address with the IP address of the machine hosting the JVM, or just `*`:\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,suspend=n\r\n\r\nThis is due to a change noted in https://www.oracle.com/java/technologies/javase/9-all-relnotes.html#JDK-8041435.\r\n\r\nFor Java &lt; 9, the port number is enough to connect.","title":"Remote debugging a Java application","body":"<p><strong>Answer covering Java &gt;= 9:</strong></p>\n<p>For Java 9+, the JVM option needs a slight change by prefixing the address with the IP address of the machine hosting the JVM, or just <code>*</code>:</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,suspend=n\n</code></pre>\n<p>This is due to a change noted in <a href=\"https://www.oracle.com/java/technologies/javase/9-all-relnotes.html#JDK-8041435\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase/9-all-relnotes.html#JDK-8041435</a>.</p>\n<p>For Java &lt; 9, the port number is enough to connect.</p>\n"},{"comments":[{"owner":{"account_id":10633601,"reputation":195,"user_id":7830933,"display_name":"xoX Zeus Xox"},"score":5,"creation_date":1573651905,"post_id":57842735,"comment_id":103950788,"body_markdown":"I would guess that is because in your second example, everything after &quot;app.jar&quot; is passed as arguments into your main method","body":"I would guess that is because in your second example, everything after &quot;app.jar&quot; is passed as arguments into your main method"},{"owner":{"account_id":6112702,"reputation":369,"user_id":4768635,"display_name":"MrBlack"},"score":0,"creation_date":1574199903,"post_id":57842735,"comment_id":104145027,"body_markdown":"@xoXZeusXox ha ha. Yes, it passed as arguments. Thanks for mentioning.","body":"@xoXZeusXox ha ha. Yes, it passed as arguments. Thanks for mentioning."},{"owner":{"account_id":12089070,"reputation":451,"user_id":8836232,"display_name":"petronius"},"score":0,"creation_date":1603973428,"post_id":57842735,"comment_id":114208398,"body_markdown":"That seems new to java 11","body":"That seems new to java 11"}],"tags":[],"owner":{"account_id":6112702,"reputation":369,"user_id":4768635,"display_name":"MrBlack"},"comment_count":3,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1614759158,"creation_date":1567952282,"answer_id":57842735,"question_id":975271,"body_markdown":"I&#39;d like to emphasize that **order of arguments is important**.\r\n\r\n`java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000 -jar app.jar` command **opens debugger port**,\r\n\r\nbut `java -jar app.jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000` command **doesn&#39;t**. It will pass everything after **app.jar** as command-line arguments.","title":"Remote debugging a Java application","body":"<p>I'd like to emphasize that <strong>order of arguments is important</strong>.</p>\n<p><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000 -jar app.jar</code> command <strong>opens debugger port</strong>,</p>\n<p>but <code>java -jar app.jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000</code> command <strong>doesn't</strong>. It will pass everything after <strong>app.jar</strong> as command-line arguments.</p>\n"},{"tags":[],"owner":{"account_id":3276952,"reputation":51,"user_id":2758679,"display_name":"JCompagner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624020924,"creation_date":1624020924,"answer_id":68035542,"question_id":975271,"body_markdown":"for everybody that has the problem that if you really do remote debugging from 1 machine to the other then using :\r\n\r\n-agentlib:jdwp=transport=dt_socket,server=y,address=8000,suspend=n \r\n\r\nis not enough because that binds now (at least on unix/osx machines) to localhost so you can only connect to it from localhost.\r\n\r\nIf you try to remote debug this then you will get connection refused for this. From i think Java 9 on you need to do:\r\n\r\n-agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,suspend=n \r\n\r\nor give an ip that it needs to bind on for hat *\r\n","title":"Remote debugging a Java application","body":"<p>for everybody that has the problem that if you really do remote debugging from 1 machine to the other then using :</p>\n<p>-agentlib:jdwp=transport=dt_socket,server=y,address=8000,suspend=n</p>\n<p>is not enough because that binds now (at least on unix/osx machines) to localhost so you can only connect to it from localhost.</p>\n<p>If you try to remote debug this then you will get connection refused for this. From i think Java 9 on you need to do:</p>\n<p>-agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,suspend=n</p>\n<p>or give an ip that it needs to bind on for hat *</p>\n"},{"tags":[],"owner":{"account_id":5280092,"reputation":1,"user_id":4215755,"display_name":"kabanowster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698329880,"creation_date":1698329880,"answer_id":77367809,"question_id":975271,"body_markdown":"Every solution here is describing the method to attach debugger after the application starts.\r\nIn the &quot;debugger listening&quot; setup you need to set server=n and suspend=n. If not the Gradle will throw permission denied error.\r\n\r\nbuild.gradle:\r\n\r\n    run {\r\n\t    jvmArgs = [&quot;-agentlib:jdwp=transport=dt_socket,server=n,suspend=n,address=5005&quot;\r\n    }\r\n\r\n","title":"Remote debugging a Java application","body":"<p>Every solution here is describing the method to attach debugger after the application starts.\nIn the &quot;debugger listening&quot; setup you need to set server=n and suspend=n. If not the Gradle will throw permission denied error.</p>\n<p>build.gradle:</p>\n<pre><code>run {\n    jvmArgs = [&quot;-agentlib:jdwp=transport=dt_socket,server=n,suspend=n,address=5005&quot;\n}\n</code></pre>\n"}],"owner":{"display_name":"Guru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479958,"favorite_count":0,"down_vote_count":2,"up_vote_count":302,"closed_date":1699281913,"accepted_answer_id":975342,"answer_count":8,"score":300,"last_activity_date":1699281885,"creation_date":1244636871,"question_id":975271,"body_markdown":"I have a java application running on linux machine.  I run the java application using the following:\r\n\r\n    java myapp -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=4000, suspend=n\r\n\r\nI have opened port 4000 for TCP on this Linux machine.  I use eclipse from Windows XP machine and try to connect to this application.  I have opened the port in windows also.\r\n\r\nBoth machines are on the LAN but I can&#39;t seem to connect the debugger to the Java application.  What am I doing wrong?\r\n","title":"Remote debugging a Java application","body":"<p>I have a java application running on linux machine.  I run the java application using the following:</p>\n\n<pre><code>java myapp -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=4000, suspend=n\n</code></pre>\n\n<p>I have opened port 4000 for TCP on this Linux machine.  I use eclipse from Windows XP machine and try to connect to this application.  I have opened the port in windows also.</p>\n\n<p>Both machines are on the LAN but I can't seem to connect the debugger to the Java application.  What am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","hazelcast"],"comments":[{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1639491289,"post_id":70350153,"comment_id":124358006,"body_markdown":"Which version are you using? Do you confirm that you&#39;re running on your machine or are you running in a containerized environment?","body":"Which version are you using? Do you confirm that you&#39;re running on your machine or are you running in a containerized environment?"},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1639491311,"post_id":70350153,"comment_id":124358016,"body_markdown":"Is multicast enabled on the host ?","body":"Is multicast enabled on the host ?"},{"owner":{"account_id":8965799,"reputation":658,"user_id":6686499,"accept_rate":25,"display_name":"Nobita"},"score":0,"creation_date":1639491638,"post_id":70350153,"comment_id":124358157,"body_markdown":"@Nicolas hazelcast versions tried `com.hazelcast:hazelcast:3.12.6` and `com.hazelcast:hazelcast-all:4.1`. Yes, i am running it on my local machine, not containerized environment.","body":"@Nicolas hazelcast versions tried <code>com.hazelcast:hazelcast:3.12.6</code> and <code>com.hazelcast:hazelcast-all:4.1</code>. Yes, i am running it on my local machine, not containerized environment."},{"owner":{"account_id":8965799,"reputation":658,"user_id":6686499,"accept_rate":25,"display_name":"Nobita"},"score":0,"creation_date":1639491898,"post_id":70350153,"comment_id":124358279,"body_markdown":"@NeilStevenson As part of the above config, i am enabling it. Not sure how to verify the same on host. Let me know your thoughts on this.","body":"@NeilStevenson As part of the above config, i am enabling it. Not sure how to verify the same on host. Let me know your thoughts on this."},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":1,"creation_date":1639507215,"post_id":70350153,"comment_id":124364670,"body_markdown":"There might be something indicative in the logs, if you could post them from both processes. You could always use [TCP](https://docs.hazelcast.com/hazelcast/5.0/clusters/discovering-by-tcp) to progress, and figuring out the cause here becomes less urgent. `ifconfig` might be a start to finding the cause, if your host has it.","body":"There might be something indicative in the logs, if you could post them from both processes. You could always use <a href=\"https://docs.hazelcast.com/hazelcast/5.0/clusters/discovering-by-tcp\" rel=\"nofollow noreferrer\">TCP</a> to progress, and figuring out the cause here becomes less urgent. <code>ifconfig</code> might be a start to finding the cause, if your host has it."},{"owner":{"account_id":8965799,"reputation":658,"user_id":6686499,"accept_rate":25,"display_name":"Nobita"},"score":0,"creation_date":1639573027,"post_id":70350153,"comment_id":124382204,"body_markdown":"@NeilStevenson I have updated the question with the logs for both processes along with the `ifconfig` output.","body":"@NeilStevenson I have updated the question with the logs for both processes along with the <code>ifconfig</code> output."},{"owner":{"account_id":8965799,"reputation":658,"user_id":6686499,"accept_rate":25,"display_name":"Nobita"},"score":0,"creation_date":1639575627,"post_id":70350153,"comment_id":124383348,"body_markdown":"@NeilStevenson Using the TCP config, it worked.","body":"@NeilStevenson Using the TCP config, it worked."},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1639607075,"post_id":70350153,"comment_id":124395370,"body_markdown":"You&#39;re using a VPN? 1390 seems an non-default MTU. Perhaps something a networking guru or forum can help with -- if you need multicast discovery. Multicast is only used for discovery, after that it&#39;s TCP anyway.","body":"You&#39;re using a VPN? 1390 seems an non-default MTU. Perhaps something a networking guru or forum can help with -- if you need multicast discovery. Multicast is only used for discovery, after that it&#39;s TCP anyway."}],"owner":{"account_id":8965799,"reputation":658,"user_id":6686499,"accept_rate":25,"display_name":"Nobita"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1483,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699281882,"creation_date":1639490396,"question_id":70350153,"body_markdown":"I am trying to use Hazelcast in a Spring Boot application on my local. But it seems that each instance is starting up separately(without any errors) and not joining into the existing member list.\r\n\r\nInstance 1:\r\n```\r\nMembers {size:1, ver:1} [\r\n\tMember [10.111.130.204]:5701 - 6d4a2864-5c90-4063-a2cc-deb64a950622 this\r\n]\r\n```\r\n\r\nInstance 2:\r\n```\r\nMembers {size:1, ver:1} [\r\n    Member [10.111.130.204]:5702 - 196c9d1f-7fd4-4c48-8dec-0fb913671610 this\r\n]\r\n```\r\n\r\n\r\nI followed the guideline found here to setup a simple environment https://guides.hazelcast.org/hazelcast-embedded-springboot/\r\n\r\n\r\nCan someone help figure out what am I missing here?\r\n\r\n----------\r\n\r\nPS:\r\n\r\nI also tried creating below configs, still the same behaviour.\r\n\r\n```\r\n    @Bean\r\n    public Config hazelCastConfig() {\r\n        Config config = new Config();\r\n        config.getNetworkConfig().setPortAutoIncrement(true);\r\n        config.getGroupConfig().setName(&quot;hazelcast-cluster&quot;);\r\n        config.setManagementCenterConfig(new ManagementCenterConfig().setEnabled(true).setUrl(&quot;http://localhost:8080/hazelcast-mancenter&quot;));\r\n        NetworkConfig network = config.getNetworkConfig();\r\n        JoinConfig join = network.getJoin();\r\n        join.getMulticastConfig().setEnabled(true);\r\n        return config;\r\n    }\r\n\r\n    @Bean\r\n    public HazelcastInstance hazelcastInstance(Config hazelCastConfig) {\r\n        return Hazelcast.newHazelcastInstance(hazelCastConfig);\r\n    }\r\n```\r\n----------\r\n\r\nSample Logs[Instance 1]\r\n```\r\n2021-12-15 18:08:06.186  INFO 38768 --- [           main] com.example.hzdemo.HzDemoApplication     : Starting HzDemoApplication\r\n2021-12-15 18:08:06.192  INFO 38768 --- [           main] com.example.hzdemo.HzDemoApplication     : No active profile set, falling back to default profiles: default\r\n2021-12-15 18:08:07.776  INFO 38768 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\r\n2021-12-15 18:08:07.783  INFO 38768 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-12-15 18:08:07.783  INFO 38768 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]\r\n2021-12-15 18:08:07.854  INFO 38768 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-12-15 18:08:07.854  INFO 38768 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1542 ms\r\n2021-12-15 18:08:07.943  WARN 38768 --- [           main] c.h.instance.HazelcastInstanceFactory    : Hazelcast is starting in a Java modular environment (Java 9 and newer) but without proper access to required Java packages. Use additional Java arguments to provide Hazelcast access to Java internal API. The internal API access is used to get the best performance results. Arguments to be used:\r\n --add-modules java.se --add-exports java.base/jdk.internal.ref=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.nio=ALL-UNNAMED --add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.management/sun.management=ALL-UNNAMED --add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED\r\n2021-12-15 18:08:07.966  INFO 38768 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [hazelcast-cluster] [3.12.6] Prefer IPv4 stack is true, prefer IPv6 addresses is false\r\n2021-12-15 18:08:07.985  INFO 38768 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [hazelcast-cluster] [3.12.6] Picked [10.111.130.204]:5701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5701], bind any local is true\r\n2021-12-15 18:08:07.994  INFO 38768 --- [           main] com.hazelcast.system                     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Hazelcast 3.12.6 (20200130 - be02cc5) starting at [10.111.130.204]:5701\r\n2021-12-15 18:08:07.994  INFO 38768 --- [           main] com.hazelcast.system                     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Copyright (c) 2008-2020, Hazelcast, Inc. All Rights Reserved.\r\n2021-12-15 18:08:08.208  INFO 38768 --- [           main] c.h.s.i.o.impl.BackpressureRegulator     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Backpressure is disabled\r\n2021-12-15 18:08:08.576  INFO 38768 --- [           main] com.hazelcast.instance.Node              : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Creating MulticastJoiner\r\n2021-12-15 18:08:08.676  INFO 38768 --- [           main] c.h.s.i.o.impl.OperationExecutorImpl     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Starting 16 partition threads and 9 generic threads (1 dedicated for priority tasks)\r\n2021-12-15 18:08:08.678  INFO 38768 --- [           main] c.h.internal.diagnostics.Diagnostics     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\r\n2021-12-15 18:08:08.686  INFO 38768 --- [           main] com.hazelcast.core.LifecycleService      : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] [10.111.130.204]:5701 is STARTING\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.hazelcast.internal.networking.nio.SelectorOptimizer (file:/Users/&lt;user&gt;/.gradle/caches/modules-2/files-2.1/com.hazelcast/hazelcast/3.12.6/7640af720dfb86de81d93617271e2959dea6bfdc/hazelcast-3.12.6.jar) to field sun.nio.ch.SelectorImpl.selectedKeys\r\nWARNING: Please consider reporting this to the maintainers of com.hazelcast.internal.networking.nio.SelectorOptimizer\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2021-12-15 18:08:11.096  INFO 38768 --- [           main] c.h.internal.cluster.ClusterService      : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] \r\n\r\nMembers {size:1, ver:1} [\r\n\tMember [10.111.130.204]:5701 - 6d4a2864-5c90-4063-a2cc-deb64a950622 this\r\n]\r\n\r\n2021-12-15 18:08:11.111  INFO 38768 --- [           main] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Hazelcast will connect to Hazelcast Management Center on address: \r\nhttp://localhost:8080/hazelcast-mancenter\r\n2021-12-15 18:08:11.117  INFO 38768 --- [           main] com.hazelcast.core.LifecycleService      : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] [10.111.130.204]:5701 is STARTED\r\n2021-12-15 18:08:11.389  INFO 38768 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path &#39;&#39;\r\n2021-12-15 18:08:11.404  INFO 38768 --- [           main] com.example.hzdemo.HzDemoApplication     : Started HzDemoApplication in 5.715 seconds (JVM running for 6.731)\r\n2021-12-15 18:08:12.126  INFO 38768 --- [.MC.Task.Poller] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Failed to pull tasks from Management Center\r\n2021-12-15 18:08:12.126  INFO 38768 --- [MC.State.Sender] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Failed to connect to: http://localhost:8080/hazelcast-mancenter/collector.do\r\n2021-12-15 18:08:12.126  INFO 38768 --- [MC.State.Sender] com.hazelcast.client.impl.ClientEngine   : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Applying a new client selector :ClientSelector{any}\r\n```\r\n\r\n\r\nSample Logs[Instance 2]\r\n```\r\n2021-12-15 18:09:06.831  INFO 39059 --- [           main] com.example.hzdemo.HzDemoApplication     : Starting HzDemoApplication\r\n2021-12-15 18:09:06.843  INFO 39059 --- [           main] com.example.hzdemo.HzDemoApplication     : No active profile set, falling back to default profiles: default\r\n2021-12-15 18:09:07.943  INFO 39059 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8082 (http)\r\n2021-12-15 18:09:07.953  INFO 39059 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-12-15 18:09:07.954  INFO 39059 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]\r\n2021-12-15 18:09:08.024  INFO 39059 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-12-15 18:09:08.024  INFO 39059 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1047 ms\r\n2021-12-15 18:09:08.162  INFO 39059 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [hazelcast-cluster] [3.12.6] Prefer IPv4 stack is true, prefer IPv6 addresses is false\r\n2021-12-15 18:09:08.188  INFO 39059 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [hazelcast-cluster] [3.12.6] Picked [10.111.130.204]:5702, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5702], bind any local is true\r\n2021-12-15 18:09:08.213  INFO 39059 --- [           main] com.hazelcast.system                     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Hazelcast 3.12.6 (20200130 - be02cc5) starting at [10.111.130.204]:5702\r\n2021-12-15 18:09:08.213  INFO 39059 --- [           main] com.hazelcast.system                     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Copyright (c) 2008-2020, Hazelcast, Inc. All Rights Reserved.\r\n2021-12-15 18:09:08.490  INFO 39059 --- [           main] c.h.s.i.o.impl.BackpressureRegulator     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Backpressure is disabled\r\n2021-12-15 18:09:08.917  INFO 39059 --- [           main] com.hazelcast.instance.Node              : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Creating MulticastJoiner\r\n2021-12-15 18:09:09.101  INFO 39059 --- [           main] c.h.s.i.o.impl.OperationExecutorImpl     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Starting 16 partition threads and 9 generic threads (1 dedicated for priority tasks)\r\n2021-12-15 18:09:09.104  INFO 39059 --- [           main] c.h.internal.diagnostics.Diagnostics     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\r\n2021-12-15 18:09:09.107  INFO 39059 --- [           main] com.hazelcast.core.LifecycleService      : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] [10.111.130.204]:5702 is STARTING\r\n2021-12-15 18:09:11.423  INFO 39059 --- [           main] c.h.internal.cluster.ClusterService      : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] \r\n\r\nMembers {size:1, ver:1} [\r\n        Member [10.111.130.204]:5702 - 196c9d1f-7fd4-4c48-8dec-0fb913671610 this\r\n]\r\n\r\n2021-12-15 18:09:11.424  WARN 39059 --- [           main] com.hazelcast.instance.Node              : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Config seed port is 5701 and cluster size is 1. Some of the ports seem occupied!\r\n2021-12-15 18:09:11.451  INFO 39059 --- [           main] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Hazelcast will connect to Hazelcast Management Center on address: \r\nhttp://localhost:8080/hazelcast-mancenter\r\n2021-12-15 18:09:11.460  INFO 39059 --- [           main] com.hazelcast.core.LifecycleService      : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] [10.111.130.204]:5702 is STARTED\r\n2021-12-15 18:09:11.620  INFO 39059 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n2021-12-15 18:09:11.761  INFO 39059 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8082 (http) with context path &#39;&#39;\r\n2021-12-15 18:09:11.765  INFO 39059 --- [           main] com.example.hzdemo.HzDemoApplication     : Started HzDemoApplication in 5.854 seconds (JVM running for 6.337)\r\n2021-12-15 18:09:12.470  INFO 39059 --- [.MC.Task.Poller] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Failed to pull tasks from Management Center\r\n2021-12-15 18:09:12.470  INFO 39059 --- [MC.State.Sender] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Failed to connect to: http://localhost:8080/hazelcast-mancenter/collector.do\r\n2021-12-15 18:09:12.471  INFO 39059 --- [MC.State.Sender] com.hazelcast.client.impl.ClientEngine   : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Applying a new client selector :ClientSelector{any}\r\n```\r\n\r\nifconfig output:\r\n```\r\nutun2: flags=80d1&lt;UP,POINTOPOINT,RUNNING,NOARP,MULTICAST&gt; mtu 1390\r\n\tinet 10.111.130.204 --&gt; 10.111.130.204 netmask 0xffffc000 \r\n```","title":"Hazelcast new members not joining existing cluster","body":"<p>I am trying to use Hazelcast in a Spring Boot application on my local. But it seems that each instance is starting up separately(without any errors) and not joining into the existing member list.</p>\n<p>Instance 1:</p>\n<pre><code>Members {size:1, ver:1} [\n    Member [10.111.130.204]:5701 - 6d4a2864-5c90-4063-a2cc-deb64a950622 this\n]\n</code></pre>\n<p>Instance 2:</p>\n<pre><code>Members {size:1, ver:1} [\n    Member [10.111.130.204]:5702 - 196c9d1f-7fd4-4c48-8dec-0fb913671610 this\n]\n</code></pre>\n<p>I followed the guideline found here to setup a simple environment <a href=\"https://guides.hazelcast.org/hazelcast-embedded-springboot/\" rel=\"nofollow noreferrer\">https://guides.hazelcast.org/hazelcast-embedded-springboot/</a></p>\n<p>Can someone help figure out what am I missing here?</p>\n<hr />\n<p>PS:</p>\n<p>I also tried creating below configs, still the same behaviour.</p>\n<pre><code>    @Bean\n    public Config hazelCastConfig() {\n        Config config = new Config();\n        config.getNetworkConfig().setPortAutoIncrement(true);\n        config.getGroupConfig().setName(&quot;hazelcast-cluster&quot;);\n        config.setManagementCenterConfig(new ManagementCenterConfig().setEnabled(true).setUrl(&quot;http://localhost:8080/hazelcast-mancenter&quot;));\n        NetworkConfig network = config.getNetworkConfig();\n        JoinConfig join = network.getJoin();\n        join.getMulticastConfig().setEnabled(true);\n        return config;\n    }\n\n    @Bean\n    public HazelcastInstance hazelcastInstance(Config hazelCastConfig) {\n        return Hazelcast.newHazelcastInstance(hazelCastConfig);\n    }\n</code></pre>\n<hr />\n<p>Sample Logs[Instance 1]</p>\n<pre><code>2021-12-15 18:08:06.186  INFO 38768 --- [           main] com.example.hzdemo.HzDemoApplication     : Starting HzDemoApplication\n2021-12-15 18:08:06.192  INFO 38768 --- [           main] com.example.hzdemo.HzDemoApplication     : No active profile set, falling back to default profiles: default\n2021-12-15 18:08:07.776  INFO 38768 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\n2021-12-15 18:08:07.783  INFO 38768 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-12-15 18:08:07.783  INFO 38768 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]\n2021-12-15 18:08:07.854  INFO 38768 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-12-15 18:08:07.854  INFO 38768 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1542 ms\n2021-12-15 18:08:07.943  WARN 38768 --- [           main] c.h.instance.HazelcastInstanceFactory    : Hazelcast is starting in a Java modular environment (Java 9 and newer) but without proper access to required Java packages. Use additional Java arguments to provide Hazelcast access to Java internal API. The internal API access is used to get the best performance results. Arguments to be used:\n --add-modules java.se --add-exports java.base/jdk.internal.ref=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.nio=ALL-UNNAMED --add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.management/sun.management=ALL-UNNAMED --add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED\n2021-12-15 18:08:07.966  INFO 38768 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [hazelcast-cluster] [3.12.6] Prefer IPv4 stack is true, prefer IPv6 addresses is false\n2021-12-15 18:08:07.985  INFO 38768 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [hazelcast-cluster] [3.12.6] Picked [10.111.130.204]:5701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5701], bind any local is true\n2021-12-15 18:08:07.994  INFO 38768 --- [           main] com.hazelcast.system                     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Hazelcast 3.12.6 (20200130 - be02cc5) starting at [10.111.130.204]:5701\n2021-12-15 18:08:07.994  INFO 38768 --- [           main] com.hazelcast.system                     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Copyright (c) 2008-2020, Hazelcast, Inc. All Rights Reserved.\n2021-12-15 18:08:08.208  INFO 38768 --- [           main] c.h.s.i.o.impl.BackpressureRegulator     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Backpressure is disabled\n2021-12-15 18:08:08.576  INFO 38768 --- [           main] com.hazelcast.instance.Node              : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Creating MulticastJoiner\n2021-12-15 18:08:08.676  INFO 38768 --- [           main] c.h.s.i.o.impl.OperationExecutorImpl     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Starting 16 partition threads and 9 generic threads (1 dedicated for priority tasks)\n2021-12-15 18:08:08.678  INFO 38768 --- [           main] c.h.internal.diagnostics.Diagnostics     : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\n2021-12-15 18:08:08.686  INFO 38768 --- [           main] com.hazelcast.core.LifecycleService      : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] [10.111.130.204]:5701 is STARTING\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.hazelcast.internal.networking.nio.SelectorOptimizer (file:/Users/&lt;user&gt;/.gradle/caches/modules-2/files-2.1/com.hazelcast/hazelcast/3.12.6/7640af720dfb86de81d93617271e2959dea6bfdc/hazelcast-3.12.6.jar) to field sun.nio.ch.SelectorImpl.selectedKeys\nWARNING: Please consider reporting this to the maintainers of com.hazelcast.internal.networking.nio.SelectorOptimizer\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2021-12-15 18:08:11.096  INFO 38768 --- [           main] c.h.internal.cluster.ClusterService      : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] \n\nMembers {size:1, ver:1} [\n    Member [10.111.130.204]:5701 - 6d4a2864-5c90-4063-a2cc-deb64a950622 this\n]\n\n2021-12-15 18:08:11.111  INFO 38768 --- [           main] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Hazelcast will connect to Hazelcast Management Center on address: \nhttp://localhost:8080/hazelcast-mancenter\n2021-12-15 18:08:11.117  INFO 38768 --- [           main] com.hazelcast.core.LifecycleService      : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] [10.111.130.204]:5701 is STARTED\n2021-12-15 18:08:11.389  INFO 38768 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''\n2021-12-15 18:08:11.404  INFO 38768 --- [           main] com.example.hzdemo.HzDemoApplication     : Started HzDemoApplication in 5.715 seconds (JVM running for 6.731)\n2021-12-15 18:08:12.126  INFO 38768 --- [.MC.Task.Poller] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Failed to pull tasks from Management Center\n2021-12-15 18:08:12.126  INFO 38768 --- [MC.State.Sender] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Failed to connect to: http://localhost:8080/hazelcast-mancenter/collector.do\n2021-12-15 18:08:12.126  INFO 38768 --- [MC.State.Sender] com.hazelcast.client.impl.ClientEngine   : [10.111.130.204]:5701 [hazelcast-cluster] [3.12.6] Applying a new client selector :ClientSelector{any}\n</code></pre>\n<p>Sample Logs[Instance 2]</p>\n<pre><code>2021-12-15 18:09:06.831  INFO 39059 --- [           main] com.example.hzdemo.HzDemoApplication     : Starting HzDemoApplication\n2021-12-15 18:09:06.843  INFO 39059 --- [           main] com.example.hzdemo.HzDemoApplication     : No active profile set, falling back to default profiles: default\n2021-12-15 18:09:07.943  INFO 39059 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8082 (http)\n2021-12-15 18:09:07.953  INFO 39059 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-12-15 18:09:07.954  INFO 39059 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]\n2021-12-15 18:09:08.024  INFO 39059 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-12-15 18:09:08.024  INFO 39059 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1047 ms\n2021-12-15 18:09:08.162  INFO 39059 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [hazelcast-cluster] [3.12.6] Prefer IPv4 stack is true, prefer IPv6 addresses is false\n2021-12-15 18:09:08.188  INFO 39059 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [hazelcast-cluster] [3.12.6] Picked [10.111.130.204]:5702, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5702], bind any local is true\n2021-12-15 18:09:08.213  INFO 39059 --- [           main] com.hazelcast.system                     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Hazelcast 3.12.6 (20200130 - be02cc5) starting at [10.111.130.204]:5702\n2021-12-15 18:09:08.213  INFO 39059 --- [           main] com.hazelcast.system                     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Copyright (c) 2008-2020, Hazelcast, Inc. All Rights Reserved.\n2021-12-15 18:09:08.490  INFO 39059 --- [           main] c.h.s.i.o.impl.BackpressureRegulator     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Backpressure is disabled\n2021-12-15 18:09:08.917  INFO 39059 --- [           main] com.hazelcast.instance.Node              : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Creating MulticastJoiner\n2021-12-15 18:09:09.101  INFO 39059 --- [           main] c.h.s.i.o.impl.OperationExecutorImpl     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Starting 16 partition threads and 9 generic threads (1 dedicated for priority tasks)\n2021-12-15 18:09:09.104  INFO 39059 --- [           main] c.h.internal.diagnostics.Diagnostics     : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\n2021-12-15 18:09:09.107  INFO 39059 --- [           main] com.hazelcast.core.LifecycleService      : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] [10.111.130.204]:5702 is STARTING\n2021-12-15 18:09:11.423  INFO 39059 --- [           main] c.h.internal.cluster.ClusterService      : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] \n\nMembers {size:1, ver:1} [\n        Member [10.111.130.204]:5702 - 196c9d1f-7fd4-4c48-8dec-0fb913671610 this\n]\n\n2021-12-15 18:09:11.424  WARN 39059 --- [           main] com.hazelcast.instance.Node              : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Config seed port is 5701 and cluster size is 1. Some of the ports seem occupied!\n2021-12-15 18:09:11.451  INFO 39059 --- [           main] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Hazelcast will connect to Hazelcast Management Center on address: \nhttp://localhost:8080/hazelcast-mancenter\n2021-12-15 18:09:11.460  INFO 39059 --- [           main] com.hazelcast.core.LifecycleService      : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] [10.111.130.204]:5702 is STARTED\n2021-12-15 18:09:11.620  INFO 39059 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2021-12-15 18:09:11.761  INFO 39059 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8082 (http) with context path ''\n2021-12-15 18:09:11.765  INFO 39059 --- [           main] com.example.hzdemo.HzDemoApplication     : Started HzDemoApplication in 5.854 seconds (JVM running for 6.337)\n2021-12-15 18:09:12.470  INFO 39059 --- [.MC.Task.Poller] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Failed to pull tasks from Management Center\n2021-12-15 18:09:12.470  INFO 39059 --- [MC.State.Sender] c.h.i.m.ManagementCenterService          : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Failed to connect to: http://localhost:8080/hazelcast-mancenter/collector.do\n2021-12-15 18:09:12.471  INFO 39059 --- [MC.State.Sender] com.hazelcast.client.impl.ClientEngine   : [10.111.130.204]:5702 [hazelcast-cluster] [3.12.6] Applying a new client selector :ClientSelector{any}\n</code></pre>\n<p>ifconfig output:</p>\n<pre><code>utun2: flags=80d1&lt;UP,POINTOPOINT,RUNNING,NOARP,MULTICAST&gt; mtu 1390\n    inet 10.111.130.204 --&gt; 10.111.130.204 netmask 0xffffc000 \n</code></pre>\n"},{"tags":["java","spring","redis","spring-data","spring-data-redis"],"owner":{"account_id":20148089,"reputation":61,"user_id":14776106,"display_name":"BladesV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699281168,"creation_date":1699281168,"question_id":77431915,"body_markdown":"I began using Spring Data Redis, with the high level Repository abstraction.\r\nMy application has many threads which read and update entities at the same time.\r\n\r\nTo my amazement, when updating an entity Spring calls DEL operation before re-saving the entity:\r\nhttps://github.com/spring-projects/spring-data-redis/issues/1135\r\n\r\nThis leads to a race condition in my app - the findAll() method is sometimes called between the DEL and HMSET operations, which results in missing values.\r\n\r\nI wasn&#39;t able to find a way to use the Repository higher level api without having this critical issue.\r\n\r\nI am trying to use the lower level RedisTemplate to implement it myself - Is there some guide on how to implement it, so that it will function like the provided Repository interface?\r\n\r\nThank you\r\n","title":"Spring Data Redis Repository - save() exectues DEL operation which leads to race condition with findAll()","body":"<p>I began using Spring Data Redis, with the high level Repository abstraction.\nMy application has many threads which read and update entities at the same time.</p>\n<p>To my amazement, when updating an entity Spring calls DEL operation before re-saving the entity:\n<a href=\"https://github.com/spring-projects/spring-data-redis/issues/1135\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-redis/issues/1135</a></p>\n<p>This leads to a race condition in my app - the findAll() method is sometimes called between the DEL and HMSET operations, which results in missing values.</p>\n<p>I wasn't able to find a way to use the Repository higher level api without having this critical issue.</p>\n<p>I am trying to use the lower level RedisTemplate to implement it myself - Is there some guide on how to implement it, so that it will function like the provided Repository interface?</p>\n<p>Thank you</p>\n"},{"tags":["java","json","spring-boot","rest","microservices"],"answers":[{"tags":[],"owner":{"account_id":23699447,"reputation":11,"user_id":17722795,"display_name":"Sepehr Asadiyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699280994,"creation_date":1699280994,"answer_id":77431896,"question_id":77430296,"body_markdown":"I hope it helps you if I understand it correctly.\r\nI highly suggest using Kafka.\r\n\r\n**The object goes through REST calls.**\r\n``` \r\npublic class Bucket&lt;T extends GenericResponse&gt; implements Serializable {\r\n\r\n    private Request triggeredActionRequest;\r\n\r\n\r\n    //you can find your response for each micro by searching\r\n    //and you can move on if one micro failed to add response.\r\n    private Map&lt;MicroNameEnum, T&gt; responses;\r\n\r\n    public Request getTriggeredActionRequest() {\r\n        return triggeredActionRequest;\r\n    }\r\n\r\n    public void setTriggeredActionRequest(Request triggeredActionRequest) {\r\n        this.triggeredActionRequest = triggeredActionRequest;\r\n    }\r\n\r\n    public Map&lt;MicroNameEnum, T&gt; getResponses() {\r\n        return responses;\r\n    }\r\n\r\n    public void setResponses(Map&lt;MicroNameEnum, T&gt; responses) {\r\n        this.responses = responses;\r\n    }\r\n}\r\n```\r\n**Response**\r\n```\r\npublic class GenericResponse implements Serializable {\r\n    private String absoluteJson;\r\n\r\n    //You can add any fields you want,\r\n// and every microservice will be aware of them without requiring explicit casting.\r\n\r\n\r\n    public String getAbsoluteJson() {\r\n        return absoluteJson;\r\n    }\r\n\r\n    public void setAbsoluteJson(String absoluteJson) {\r\n        this.absoluteJson = absoluteJson;\r\n    }\r\n}\r\n```\r\nEnum\r\n```\r\npublic enum MicroNameEnum {\r\n    MICRO1(&quot;MICRO1&quot;),\r\n    MICRO2(&quot;MICRO2&quot;),\r\n    MICRO3(&quot;MICRO2&quot;),\r\n    MICRO4(&quot;MICRO4&quot;),\r\n    MICRO5(&quot;MICRO5&quot;),\r\n    MICRO6(&quot;MICRO6&quot;),\r\n    MICRO7(&quot;MICRO7&quot;),\r\n    MICRO8(&quot;MICRO8&quot;);\r\n\r\n\r\n    private final String value;\r\n\r\n    MicroNameEnum(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n}\r\n```\r\nThis class only exists in your first microservice. If you want to use it in other microservices (if the absolute JSON is not sufficient for your needs), create a common project and inject it into your microservices.\r\n**do not forget use super()**\r\n```\r\npublic class MicroOneResponse extends GenericResponse implements Serializable {\r\n\r\n    //this only exist in you micro one class.\r\n\r\n    private Long idMicroOne;\r\n    //any filed or data you want\r\n\r\n\r\n    public Long getIdMicroOne() {\r\n        return idMicroOne;\r\n    }\r\n\r\n    public void setIdMicroOne(Long idMicroOne) {\r\n        this.idMicroOne = idMicroOne;\r\n    }\r\n}\r\n```\r\n ","title":"Communication between Micro-services using Generic Object layer for Request and Responses","body":"<p>I hope it helps you if I understand it correctly.\nI highly suggest using Kafka.</p>\n<p><strong>The object goes through REST calls.</strong></p>\n<pre><code>public class Bucket&lt;T extends GenericResponse&gt; implements Serializable {\n\n    private Request triggeredActionRequest;\n\n\n    //you can find your response for each micro by searching\n    //and you can move on if one micro failed to add response.\n    private Map&lt;MicroNameEnum, T&gt; responses;\n\n    public Request getTriggeredActionRequest() {\n        return triggeredActionRequest;\n    }\n\n    public void setTriggeredActionRequest(Request triggeredActionRequest) {\n        this.triggeredActionRequest = triggeredActionRequest;\n    }\n\n    public Map&lt;MicroNameEnum, T&gt; getResponses() {\n        return responses;\n    }\n\n    public void setResponses(Map&lt;MicroNameEnum, T&gt; responses) {\n        this.responses = responses;\n    }\n}\n</code></pre>\n<p><strong>Response</strong></p>\n<pre><code>public class GenericResponse implements Serializable {\n    private String absoluteJson;\n\n    //You can add any fields you want,\n// and every microservice will be aware of them without requiring explicit casting.\n\n\n    public String getAbsoluteJson() {\n        return absoluteJson;\n    }\n\n    public void setAbsoluteJson(String absoluteJson) {\n        this.absoluteJson = absoluteJson;\n    }\n}\n</code></pre>\n<p>Enum</p>\n<pre><code>public enum MicroNameEnum {\n    MICRO1(&quot;MICRO1&quot;),\n    MICRO2(&quot;MICRO2&quot;),\n    MICRO3(&quot;MICRO2&quot;),\n    MICRO4(&quot;MICRO4&quot;),\n    MICRO5(&quot;MICRO5&quot;),\n    MICRO6(&quot;MICRO6&quot;),\n    MICRO7(&quot;MICRO7&quot;),\n    MICRO8(&quot;MICRO8&quot;);\n\n\n    private final String value;\n\n    MicroNameEnum(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>This class only exists in your first microservice. If you want to use it in other microservices (if the absolute JSON is not sufficient for your needs), create a common project and inject it into your microservices.\n<strong>do not forget use super()</strong></p>\n<pre><code>public class MicroOneResponse extends GenericResponse implements Serializable {\n\n    //this only exist in you micro one class.\n\n    private Long idMicroOne;\n    //any filed or data you want\n\n\n    public Long getIdMicroOne() {\n        return idMicroOne;\n    }\n\n    public void setIdMicroOne(Long idMicroOne) {\n        this.idMicroOne = idMicroOne;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2319359,"reputation":27,"user_id":9318280,"display_name":"Mohit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699280994,"creation_date":1699265728,"question_id":77430296,"body_markdown":"I m designing a distributed system which is based on Spring boot and communication between them will be taken care by REST API calls.\r\nNow number of services I have is greater than 8. I want to design a communication layer or a library common to all the services. \r\n1. I want to use a generic request so all the services can understand and give response back in generic object layer.\r\n2. The Generic Object can have field such as \r\n        a. Request Payload; Timestamp; some identifiers for business use cases.\r\n3. The Response can be appended to the same JSON Structure \r\n        a. Request Payload; Timestamp; some identifiers for business use cases; Response Array with     \r\n        microservice name -- microservice response\r\n4. Each microservice can add the response and this entire JSON object can be send further to any of the services, so each service can read and pull out the data it requires. \r\n\r\nSo basically, we will have an initial request and that request keeps on getting appended with various microservice reponses.\r\n\r\nI m trying to avoid microservices sharing each others contract and becoming tightly coupled.\r\n\r\n\r\n\r\n\r\nI need help to design the Generic Object. So do we have any Frameworks or Library which can help doing this ?\r\nIf any one has already tried the above approach how was experience ? Performance, Scalability, Maintenance, extendability and so on.\r\n\r\nSince the request/response will be in JSON form, so keeping in mind loosely coupled contracts need to avoid JSON based Parsing errors as well.","title":"Communication between Micro-services using Generic Object layer for Request and Responses","body":"<p>I m designing a distributed system which is based on Spring boot and communication between them will be taken care by REST API calls.\nNow number of services I have is greater than 8. I want to design a communication layer or a library common to all the services.</p>\n<ol>\n<li>I want to use a generic request so all the services can understand and give response back in generic object layer.</li>\n<li>The Generic Object can have field such as\na. Request Payload; Timestamp; some identifiers for business use cases.</li>\n<li>The Response can be appended to the same JSON Structure\na. Request Payload; Timestamp; some identifiers for business use cases; Response Array with<br />\nmicroservice name -- microservice response</li>\n<li>Each microservice can add the response and this entire JSON object can be send further to any of the services, so each service can read and pull out the data it requires.</li>\n</ol>\n<p>So basically, we will have an initial request and that request keeps on getting appended with various microservice reponses.</p>\n<p>I m trying to avoid microservices sharing each others contract and becoming tightly coupled.</p>\n<p>I need help to design the Generic Object. So do we have any Frameworks or Library which can help doing this ?\nIf any one has already tried the above approach how was experience ? Performance, Scalability, Maintenance, extendability and so on.</p>\n<p>Since the request/response will be in JSON form, so keeping in mind loosely coupled contracts need to avoid JSON based Parsing errors as well.</p>\n"},{"tags":["java","selenium-webdriver","dom","webdriverwait","staleelementreferenceexception"],"comments":[{"owner":{"account_id":19832213,"reputation":476,"user_id":14526514,"display_name":"Reyot"},"score":0,"creation_date":1689417777,"post_id":76692228,"comment_id":135212689,"body_markdown":"I don&#39;t know about how it is on java, but checking `document.readyState` in selenium python often doesn&#39;t work.","body":"I don&#39;t know about how it is on java, but checking <code>document.readyState</code> in selenium python often doesn&#39;t work."}],"owner":{"account_id":17367766,"reputation":3,"user_id":12582507,"display_name":"sarath k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689487415,"answer_count":0,"score":0,"last_activity_date":1699280663,"creation_date":1689395665,"question_id":76692228,"body_markdown":"Before input the value we are using wait method until DOM load,if i used webdriver wait im getting stale element error message ,what is the best approach to use wait method where we require page to load DOM elements  \r\n\r\n```\r\npublic static void waitForPageToComplete(WebDriver driver) {\r\n    ExpectedCondition&lt;Boolean&gt; pageLoad = new ExpectedCondition&lt;Boolean&gt;() {\r\n        @Override\r\n        public Boolean apply(WebDriver driver) {\r\n            return ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;);\r\n        }\r\n    };\r\n    try {\r\n        Thread.sleep(5000);\r\n        WebDriverWait wait = new WebDriverWait(driver, ofSeconds(2));\r\n        wait.until(pageLoad);\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Wait for page to load&quot; + e);\r\n    }\r\n}\r\n```","title":"Wait method suggestion on stale element","body":"<p>Before input the value we are using wait method until DOM load,if i used webdriver wait im getting stale element error message ,what is the best approach to use wait method where we require page to load DOM elements</p>\n<pre><code>public static void waitForPageToComplete(WebDriver driver) {\n    ExpectedCondition&lt;Boolean&gt; pageLoad = new ExpectedCondition&lt;Boolean&gt;() {\n        @Override\n        public Boolean apply(WebDriver driver) {\n            return ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;);\n        }\n    };\n    try {\n        Thread.sleep(5000);\n        WebDriverWait wait = new WebDriverWait(driver, ofSeconds(2));\n        wait.until(pageLoad);\n    } catch (Exception e) {\n        System.out.println(&quot;Wait for page to load&quot; + e);\n    }\n}\n</code></pre>\n"},{"tags":["java","image","nullpointerexception"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699230113,"post_id":77428129,"comment_id":136501685,"body_markdown":"Personally, I would do this differently.  Instead of trying to use `for(int n=0;n&lt;x*y;n++) {` and then some fancy pancy maths, I&#39;d simply loop over the `bottom` files and the loop over the `top` files independently","body":"Personally, I would do this differently.  Instead of trying to use <code>for(int n=0;n&lt;x*y;n++) {</code> and then some fancy pancy maths, I&#39;d simply loop over the <code>bottom</code> files and the loop over the <code>top</code> files independently"},{"owner":{"account_id":21693349,"reputation":13,"user_id":16007677,"display_name":"ItsErtHere"},"score":0,"creation_date":1699277076,"post_id":77428129,"comment_id":136507340,"body_markdown":"I am way too math oriented! I&#39;ll try that!","body":"I am way too math oriented! I&#39;ll try that!"},{"owner":{"account_id":21693349,"reputation":13,"user_id":16007677,"display_name":"ItsErtHere"},"score":0,"creation_date":1699280127,"post_id":77428129,"comment_id":136508076,"body_markdown":"I just tried that and I am getting the same error at line 17 now!","body":"I just tried that and I am getting the same error at line 17 now!"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699306404,"post_id":77428129,"comment_id":136512938,"body_markdown":"So, two things.  1) Make sure that the image you&#39;re trying to load is actually a supported image (and isn&#39;t corrupted in some way); 2) it has enough pixels (`i`/`j`) for `getRGB` to work.","body":"So, two things.  1) Make sure that the image you&#39;re trying to load is actually a supported image (and isn&#39;t corrupted in some way); 2) it has enough pixels (<code>i</code>/<code>j</code>) for <code>getRGB</code> to work."},{"owner":{"account_id":21693349,"reputation":13,"user_id":16007677,"display_name":"ItsErtHere"},"score":0,"creation_date":1699315499,"post_id":77428129,"comment_id":136513998,"body_markdown":"@MadProgrammer both of those conditions are true. All of my images are exactly the same size (16 by 16 px). It says that the return value of &quot;javax.imageio.ImageIO.read(java.io.File)&quot; is null, which must mean it thinks there are only 3 images in my top folder, while I have 10 total .png photos.","body":"@MadProgrammer both of those conditions are true. All of my images are exactly the same size (16 by 16 px). It says that the return value of &quot;javax.imageio.ImageIO.read(java.io.File)&quot; is null, which must mean it thinks there are only 3 images in my top folder, while I have 10 total .png photos."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699315594,"post_id":77428129,"comment_id":136514005,"body_markdown":"Again, I would, print out the image names as you try and load, identify the image which is causing your problems, either remove it or check that it&#39;s not corrupted","body":"Again, I would, print out the image names as you try and load, identify the image which is causing your problems, either remove it or check that it&#39;s not corrupted"},{"owner":{"account_id":21693349,"reputation":13,"user_id":16007677,"display_name":"ItsErtHere"},"score":0,"creation_date":1699391919,"post_id":77428129,"comment_id":136525249,"body_markdown":"I just checked again, none of the images are corrupted? Maybe it has to do with the names of the images? The code is only doing the first 3 images... I&#39;m just trying to find patterns here.","body":"I just checked again, none of the images are corrupted? Maybe it has to do with the names of the images? The code is only doing the first 3 images... I&#39;m just trying to find patterns here."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699392527,"post_id":77428129,"comment_id":136525367,"body_markdown":"Try a different test - try just loading the images - it&#39;s possible that one of the image is in an unsupported format (but named `.png`) - *&quot;ImageIO.read(file); will return null if no registered ImageReader is found.&quot;*.  I would, personally, pre-load all the images, so that you&#39;re not having to read the bottom images n number of times","body":"Try a different test - try just loading the images - it&#39;s possible that one of the image is in an unsupported format (but named <code>.png</code>) - <i>&quot;ImageIO.read(file); will return null if no registered ImageReader is found.&quot;</i>.  I would, personally, pre-load all the images, so that you&#39;re not having to read the bottom images n number of times"},{"owner":{"account_id":21693349,"reputation":13,"user_id":16007677,"display_name":"ItsErtHere"},"score":0,"creation_date":1699483055,"post_id":77428129,"comment_id":136539144,"body_markdown":"I just did that. They all open fine and all are .png files","body":"I just did that. They all open fine and all are .png files"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699484312,"post_id":77428129,"comment_id":136539294,"body_markdown":"Well, I&#39;m at the end of my list - the only reason to return `null` from `ImageIO.read` is the supplied image is unsupported","body":"Well, I&#39;m at the end of my list - the only reason to return <code>null</code> from <code>ImageIO.read</code> is the supplied image is unsupported"}],"owner":{"account_id":21693349,"reputation":13,"user_id":16007677,"display_name":"ItsErtHere"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699280397,"creation_date":1699229646,"question_id":77428129,"body_markdown":"I am overlaying multiple images and giving them their own file names. I am overlaying each bottom image (in a folder named bottom with 12 images) with each top image (in a folder named top with 10 images). My naming procedure works, and my overlaying procedure works, but my code, for some reason, only goes through the first 3 images in the top folder and returns a NullPointerExeption, while going through all of the bottom images. How can I make it iterate through all of my images?\r\n\r\nThe code that I tried is:\r\n```java\r\npackage images;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.image.BufferedImage;\r\npublic class overlay_images {\r\n    public static void main(String[] args) throws IOException,NullPointerException {\r\n        File bottom = new File(&quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\bottom&quot;);\r\n        File top = new File(&quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\top_lantern_blocks&quot;);\r\n        int x = bottom.listFiles().length;\r\n        int y = top.listFiles().length;\r\n        BufferedImage[][] imgs = new BufferedImage[x*y][2];\r\n        BufferedImage[] newImgs = new BufferedImage[x*y];\r\n        String newFileName = &quot;&quot;;\r\n        for(int n=0;n&lt;x*y;n++) {\r\n            imgs[n] = new BufferedImage[] {ImageIO.read(bottom.listFiles()[n%x]),\r\n                ImageIO.read(top.listFiles()[n/x])};\r\n            newImgs[n] = new BufferedImage(16,16,BufferedImage.TYPE_4BYTE_ABGR);\r\n            for(int i=0;i&lt;16;i++) {\r\n                for(int j=0;j&lt;16;j++) {\r\n                    int ptop = ImageIO.read(top.listFiles()[n/x]).getRGB(i,j);\r\n                    int pbttm = ImageIO.read(bottom.listFiles()[n%x]).getRGB(i,j);\r\n                    if(ptop/(2^24)==0) {newImgs[n].setRGB(i,j,pbttm);} else {newImgs[n].setRGB(i,j,ptop);}\r\n                }\r\n            }\r\n            newImgs[n].setRGB(8,15,imgs[n%x][0].getRGB(8,15));\r\n            newFileName = &quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\lantern_blocks\\\\&quot;;\r\n            newFileName+= top.listFiles()[n/x].getName().replace(&quot;.png&quot;,&quot;&quot;) + &quot;_&quot;;\r\n            newFileName+= bottom.listFiles()[n%x].getName();\r\n            newFileName = newFileName.replace(&quot;bulb&quot;, &quot;lantern&quot;);\r\n            newFileName = newFileName.replace(&quot;_off&quot;, &quot;_block&quot;);\r\n            ImageIO.write(newImgs[n],&quot;png&quot;,new File(newFileName));\r\n        }\r\n    }\r\n}\r\n```\r\nVSCode is showing that line 21 is causing the error: `int ptop = ImageIO.read(top.listFiles()[n/x]).getRGB(i,j);`\r\nHow can I fix this error?\r\nI just redid the code to iterate directly through files instead of through numbers and I am getting the same error at line 17:\r\n```java\r\npackage images;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.image.BufferedImage;\r\npublic class overlay_images {\r\n    public static void main(String[] args) throws IOException,NullPointerException {\r\n        File bottom = new File(&quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\bottom&quot;);\r\n        File top = new File(&quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\top_lantern_blocks&quot;);\r\n        BufferedImage newImg = new BufferedImage(16,16,BufferedImage.TYPE_4BYTE_ABGR);\r\n        String newFileName = &quot;&quot;;\r\n        for(File m:bottom.listFiles()) {\r\n            for(File n:top.listFiles()) {\r\n                newImg=new BufferedImage(16,16,BufferedImage.TYPE_4BYTE_ABGR);\r\n                for(int i=0;i&lt;16;i++) {\r\n                    for(int j=0;j&lt;16;j++) {\r\n                        int ptop = ImageIO.read(n).getRGB(i,j);\r\n                        int pbttm = ImageIO.read(m).getRGB(i,j);\r\n                        if(ptop/(2^24)==0) {newImg.setRGB(i,j,pbttm);} else {newImg.setRGB(i,j,ptop);}\r\n                }\r\n            }\r\n            newImg.setRGB(8,15,ImageIO.read(m).getRGB(8,15));\r\n            newFileName = &quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\lantern_blocks\\\\&quot;;\r\n            newFileName+= n.getName().replace(&quot;.png&quot;,&quot;&quot;) + &quot;_&quot;;\r\n            newFileName+= m.getName();\r\n            newFileName = newFileName.replace(&quot;bulb&quot;, &quot;lantern&quot;);\r\n            newFileName = newFileName.replace(&quot;_off&quot;, &quot;_block&quot;);\r\n            ImageIO.write(newImg,&quot;png&quot;,new File(newFileName));\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How do I get my code to overlay all of my groups of images correctly without throwing a NullPointerException?","body":"<p>I am overlaying multiple images and giving them their own file names. I am overlaying each bottom image (in a folder named bottom with 12 images) with each top image (in a folder named top with 10 images). My naming procedure works, and my overlaying procedure works, but my code, for some reason, only goes through the first 3 images in the top folder and returns a NullPointerExeption, while going through all of the bottom images. How can I make it iterate through all of my images?</p>\n<p>The code that I tried is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package images;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\npublic class overlay_images {\n    public static void main(String[] args) throws IOException,NullPointerException {\n        File bottom = new File(&quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\bottom&quot;);\n        File top = new File(&quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\top_lantern_blocks&quot;);\n        int x = bottom.listFiles().length;\n        int y = top.listFiles().length;\n        BufferedImage[][] imgs = new BufferedImage[x*y][2];\n        BufferedImage[] newImgs = new BufferedImage[x*y];\n        String newFileName = &quot;&quot;;\n        for(int n=0;n&lt;x*y;n++) {\n            imgs[n] = new BufferedImage[] {ImageIO.read(bottom.listFiles()[n%x]),\n                ImageIO.read(top.listFiles()[n/x])};\n            newImgs[n] = new BufferedImage(16,16,BufferedImage.TYPE_4BYTE_ABGR);\n            for(int i=0;i&lt;16;i++) {\n                for(int j=0;j&lt;16;j++) {\n                    int ptop = ImageIO.read(top.listFiles()[n/x]).getRGB(i,j);\n                    int pbttm = ImageIO.read(bottom.listFiles()[n%x]).getRGB(i,j);\n                    if(ptop/(2^24)==0) {newImgs[n].setRGB(i,j,pbttm);} else {newImgs[n].setRGB(i,j,ptop);}\n                }\n            }\n            newImgs[n].setRGB(8,15,imgs[n%x][0].getRGB(8,15));\n            newFileName = &quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\lantern_blocks\\\\&quot;;\n            newFileName+= top.listFiles()[n/x].getName().replace(&quot;.png&quot;,&quot;&quot;) + &quot;_&quot;;\n            newFileName+= bottom.listFiles()[n%x].getName();\n            newFileName = newFileName.replace(&quot;bulb&quot;, &quot;lantern&quot;);\n            newFileName = newFileName.replace(&quot;_off&quot;, &quot;_block&quot;);\n            ImageIO.write(newImgs[n],&quot;png&quot;,new File(newFileName));\n        }\n    }\n}\n</code></pre>\n<p>VSCode is showing that line 21 is causing the error: <code>int ptop = ImageIO.read(top.listFiles()[n/x]).getRGB(i,j);</code>\nHow can I fix this error?\nI just redid the code to iterate directly through files instead of through numbers and I am getting the same error at line 17:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package images;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\npublic class overlay_images {\n    public static void main(String[] args) throws IOException,NullPointerException {\n        File bottom = new File(&quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\bottom&quot;);\n        File top = new File(&quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\top_lantern_blocks&quot;);\n        BufferedImage newImg = new BufferedImage(16,16,BufferedImage.TYPE_4BYTE_ABGR);\n        String newFileName = &quot;&quot;;\n        for(File m:bottom.listFiles()) {\n            for(File n:top.listFiles()) {\n                newImg=new BufferedImage(16,16,BufferedImage.TYPE_4BYTE_ABGR);\n                for(int i=0;i&lt;16;i++) {\n                    for(int j=0;j&lt;16;j++) {\n                        int ptop = ImageIO.read(n).getRGB(i,j);\n                        int pbttm = ImageIO.read(m).getRGB(i,j);\n                        if(ptop/(2^24)==0) {newImg.setRGB(i,j,pbttm);} else {newImg.setRGB(i,j,ptop);}\n                }\n            }\n            newImg.setRGB(8,15,ImageIO.read(m).getRGB(8,15));\n            newFileName = &quot;C:\\\\Users\\\\mymsa\\\\Documents\\\\Mathmatical Docs\\\\Java Math\\\\images\\\\all_img\\\\lantern_blocks\\\\&quot;;\n            newFileName+= n.getName().replace(&quot;.png&quot;,&quot;&quot;) + &quot;_&quot;;\n            newFileName+= m.getName();\n            newFileName = newFileName.replace(&quot;bulb&quot;, &quot;lantern&quot;);\n            newFileName = newFileName.replace(&quot;_off&quot;, &quot;_block&quot;);\n            ImageIO.write(newImg,&quot;png&quot;,new File(newFileName));\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","graalvm","graaljs"],"answers":[{"comments":[{"owner":{"account_id":6718742,"reputation":321,"user_id":5179636,"display_name":"colouredmirrorball"},"score":1,"creation_date":1661779388,"post_id":73497977,"comment_id":129845890,"body_markdown":"That&#39;s interesting. At least, the error is clearer to me now. I had no idea the engine could be created before the context and then attached later. Looks like we&#39;re doing the reverse: create a context and then ask it for an engine. I&#39;m unsure if there&#39;s a benefit to doing the one or the other. In any case it looks like we can&#39;t reuse contexts as we want all script executions to be independent from each other (no variable reuse and so on). But the error is gone now so thanks!","body":"That&#39;s interesting. At least, the error is clearer to me now. I had no idea the engine could be created before the context and then attached later. Looks like we&#39;re doing the reverse: create a context and then ask it for an engine. I&#39;m unsure if there&#39;s a benefit to doing the one or the other. In any case it looks like we can&#39;t reuse contexts as we want all script executions to be independent from each other (no variable reuse and so on). But the error is gone now so thanks!"},{"owner":{"account_id":3235923,"reputation":1098,"user_id":2730161,"display_name":"Jordan LaPrise"},"score":1,"creation_date":1674008825,"post_id":73497977,"comment_id":132621975,"body_markdown":"Please consider editing this post as it does not actually resolve the underlying issue and simply suppresses the warning with `.option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)`","body":"Please consider editing this post as it does not actually resolve the underlying issue and simply suppresses the warning with <code>.option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)</code>"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1674028128,"post_id":73497977,"comment_id":132624756,"body_markdown":"Questions is &quot;how to get rid of these warnings?&quot; and [Bruce`s answer](https://stackoverflow.com/a/75023914/175554) tells it is same performance.","body":"Questions is &quot;how to get rid of these warnings?&quot; and <a href=\"https://stackoverflow.com/a/75023914/175554\">Bruce`s answer</a> tells it is same performance."}],"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1674027817,"creation_date":1661501414,"answer_id":73497977,"question_id":73445276,"body_markdown":"You can use context eval instead of ScriptEngine which makes it slower performance wise check [here](https://www.graalvm.org/latest/reference-manual/js/FAQ/#warning-implementation-does-not-support-runtime-compilation). Code below is working for me without the warning.\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        Engine engine = Engine.newBuilder()\r\n                .option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)\r\n                .build();\r\n        Context ctx = Context.newBuilder(&quot;js&quot;).engine(engine).build();\r\n\r\n        String script = &quot;6 * 7&quot;;\r\n\r\n        Object eval = ctx.eval(&quot;js&quot;, script);\r\n        System.out.println(eval);\r\n    }\r\n```\r\noutput looks like below in my intellij\r\n[![graalvm js engine output from intellij][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dd2Xr.png","title":"GraalJS: how to get rid of these warnings?","body":"<p>You can use context eval instead of ScriptEngine which makes it slower performance wise check <a href=\"https://www.graalvm.org/latest/reference-manual/js/FAQ/#warning-implementation-does-not-support-runtime-compilation\" rel=\"nofollow noreferrer\">here</a>. Code below is working for me without the warning.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        Engine engine = Engine.newBuilder()\n                .option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)\n                .build();\n        Context ctx = Context.newBuilder(&quot;js&quot;).engine(engine).build();\n\n        String script = &quot;6 * 7&quot;;\n\n        Object eval = ctx.eval(&quot;js&quot;, script);\n        System.out.println(eval);\n    }\n</code></pre>\n<p>output looks like below in my intellij\n<a href=\"https://i.stack.imgur.com/Dd2Xr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dd2Xr.png\" alt=\"graalvm js engine output from intellij\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699280195,"creation_date":1672949920,"answer_id":75023914,"question_id":73445276,"body_markdown":"You need to set the option on the engine, not the context (builder).\r\n\r\nSo\r\n\r\n```java\r\nGraalJSScriptEngine.create(\r\n        Engine.newBuilder()\r\n              .option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)\r\n              .build(),\r\n        Context.newBuilder(&quot;js&quot;)\r\n               .allowIO(false)\r\n               .option(JSContextOptions.ECMASCRIPT_VERSION_NAME, &quot;2022&quot;)\r\n)\r\n```\r\n\r\nThe only difference between [ozkanpakdil&#39;s answer](https://stackoverflow.com/a/73497977/48136) is that the above code use the API of the `ScriptEngine` (`javax.script`), while in the other answer using graalvm&#39;s `Context` (`org.graalvm.polyglot`) will give you a pure graalvm API.\r\n\r\nThere&#39;s some differences e.g in the `eval` method one requires a `Reader` as it doesn&#39;t know graalvm&#39;s `Source`, while the other can use this object directly.\r\nOr one allows you to pass `Writer`s for the engine to write output, while graalvm uses `OutputStream`s.\r\n\r\nThat said the performance is the same as in both case the source will run in interpreted mode (hence the warning).\r\n\r\n----\r\n\r\nIf the JS code needs to have good performance then it might be required to either switch to GraalVM distribution, or to modify the `java` command line to switch the compiler to to Graal (requires to enable Compiler Interface via `-XX:+EnableJVMCI -XX:+UseJVMCICompiler` and modify the module path with the jars of graal and truffle in particular).","title":"GraalJS: how to get rid of these warnings?","body":"<p>You need to set the option on the engine, not the context (builder).</p>\n<p>So</p>\n<pre class=\"lang-java prettyprint-override\"><code>GraalJSScriptEngine.create(\n        Engine.newBuilder()\n              .option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)\n              .build(),\n        Context.newBuilder(&quot;js&quot;)\n               .allowIO(false)\n               .option(JSContextOptions.ECMASCRIPT_VERSION_NAME, &quot;2022&quot;)\n)\n</code></pre>\n<p>The only difference between <a href=\"https://stackoverflow.com/a/73497977/48136\">ozkanpakdil's answer</a> is that the above code use the API of the <code>ScriptEngine</code> (<code>javax.script</code>), while in the other answer using graalvm's <code>Context</code> (<code>org.graalvm.polyglot</code>) will give you a pure graalvm API.</p>\n<p>There's some differences e.g in the <code>eval</code> method one requires a <code>Reader</code> as it doesn't know graalvm's <code>Source</code>, while the other can use this object directly.\nOr one allows you to pass <code>Writer</code>s for the engine to write output, while graalvm uses <code>OutputStream</code>s.</p>\n<p>That said the performance is the same as in both case the source will run in interpreted mode (hence the warning).</p>\n<hr />\n<p>If the JS code needs to have good performance then it might be required to either switch to GraalVM distribution, or to modify the <code>java</code> command line to switch the compiler to to Graal (requires to enable Compiler Interface via <code>-XX:+EnableJVMCI -XX:+UseJVMCICompiler</code> and modify the module path with the jars of graal and truffle in particular).</p>\n"}],"owner":{"account_id":6718742,"reputation":321,"user_id":5179636,"display_name":"colouredmirrorball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3154,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73497977,"answer_count":2,"score":4,"last_activity_date":1699280195,"creation_date":1661171954,"question_id":73445276,"body_markdown":"We&#39;re using GraalVM.js as a ScriptEngine in our application. The goal is to have a Java JRE that can run user-defined javascript scripts to extend functionality.\r\n\r\nMVCE:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n            ScriptEngine engine = GraalJSScriptEngine.create(null, Context.newBuilder(&quot;js&quot;));\r\n\r\n            String script = &quot;6 * 7&quot;;\r\n            Object eval = ((Compilable) engine).compile(script).eval();\r\n            System.out.println(eval);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe code neatly prints &quot;42&quot; but not before this lengthy warning:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    [To redirect Truffle log output to a file use one of the following options:\r\n    * &#39;--log.file=&lt;path&gt;&#39; if the option is passed using a guest language launcher.\r\n    * &#39;-Dpolyglot.log.file=&lt;path&gt;&#39; if the option is passed using the host Java launcher.\r\n    * Configure logging using the polyglot embedding API.]\r\n    [engine] WARNING: The polyglot context is using an implementation that does not support runtime compilation.\r\n    The guest application code will therefore be executed in interpreted mode only.\r\n    Execution only in interpreted mode will strongly impact the guest application performance.\r\n    For more information on using GraalVM see https://www.graalvm.org/java/quickstart/.\r\n    To disable this warning the &#39;--engine.WarnInterpreterOnly=false&#39; option or use the &#39;-Dpolyglot.engine.WarnInterpreterOnly=false&#39; system property.\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have tried to follow the printed suggestion:\r\n\r\n        ScriptEngine engine = GraalJSScriptEngine.create(null, Context.newBuilder(&quot;js&quot;)\r\n            .option(&quot;engine.WarnInterpreterOnly&quot;,&quot;false&quot;)\r\n        );\r\n\r\nUnfortunately this fails with an exception:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Option engine.WarnInterpreterOnly is an engine option. Engine level options can only be configured for contexts without a shared engine set. To resolve this, configure the option when creating the Engine or create a context without a shared engine.\r\n    \tat com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:131)\r\n    \tat com.oracle.truffle.polyglot.PolyglotContextConfig.findObjectForContextOption(PolyglotContextConfig.java:433)\r\n    \tat com.oracle.truffle.polyglot.PolyglotContextConfig.&lt;init&gt;(PolyglotContextConfig.java:260)\r\n    \tat com.oracle.truffle.polyglot.PolyglotEngineImpl.createContext(PolyglotEngineImpl.java:1697)\r\n    \tat com.oracle.truffle.polyglot.PolyglotEngineDispatch.createContext(PolyglotEngineDispatch.java:159)\r\n    \tat org.graalvm.polyglot.Context$Builder.build(Context.java:1837)\r\n    \tat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.createDefaultContext(GraalJSScriptEngine.java:353)\r\n    \tat com.oracle.truffle.js.scriptengine.GraalJSBindings.initContext(GraalJSBindings.java:91)\r\n    \tat com.oracle.truffle.js.scriptengine.GraalJSBindings.requireContext(GraalJSBindings.java:86)\r\n    \tat com.oracle.truffle.js.scriptengine.GraalJSBindings.entrySet(GraalJSBindings.java:172)\r\n    \tat java.base/java.util.AbstractMap.containsKey(AbstractMap.java:144)\r\n    \tat java.scripting/javax.script.SimpleScriptContext.getAttribute(SimpleScriptContext.java:158)\r\n    \tat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.createSource(GraalJSScriptEngine.java:450)\r\n    \tat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.compile(GraalJSScriptEngine.java:628)\r\n    \tat Scratch.main(scratch_1.java:17)\r\n\r\n    Process finished with exit code 1\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;m unsure what this exception means and how to solve it. It would be impractical to add a VM option, and the documentation promises it should be possible to pass on options like this: https://www.graalvm.org/22.0/reference-manual/polyglot-programming/#passing-options-programmatically\r\n\r\nThe log option doesn&#39;t work at all:\r\n\r\n        ScriptEngine engine = GraalJSScriptEngine.create(null, Context.newBuilder(&quot;js&quot;)\r\n            .option(&quot;log.file&quot;,&quot;log\\\\engine.log&quot;)\r\n        );\r\n\r\nresults in\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: log.file\r\n\tat com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:131)\r\n\tat com.oracle.truffle.polyglot.PolyglotEngineImpl.parseLoggerName(PolyglotEngineImpl.java:776)\r\n\tat com.oracle.truffle.polyglot.PolyglotContextConfig.&lt;init&gt;(PolyglotContextConfig.java:257)\r\n\tat com.oracle.truffle.polyglot.PolyglotEngineImpl.createContext(PolyglotEngineImpl.java:1697)\r\n\tat com.oracle.truffle.polyglot.PolyglotEngineDispatch.createContext(PolyglotEngineDispatch.java:159)\r\n\tat org.graalvm.polyglot.Context$Builder.build(Context.java:1837)\r\n\tat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.createDefaultContext(GraalJSScriptEngine.java:353)\r\n\tat com.oracle.truffle.js.scriptengine.GraalJSBindings.initContext(GraalJSBindings.java:91)\r\n\tat com.oracle.truffle.js.scriptengine.GraalJSBindings.requireContext(GraalJSBindings.java:86)\r\n\tat com.oracle.truffle.js.scriptengine.GraalJSBindings.entrySet(GraalJSBindings.java:172)\r\n\tat java.base/java.util.AbstractMap.containsKey(AbstractMap.java:144)\r\n\tat java.scripting/javax.script.SimpleScriptContext.getAttribute(SimpleScriptContext.java:158)\r\n\tat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.createSource(GraalJSScriptEngine.java:450)\r\n\tat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.compile(GraalJSScriptEngine.java:628)\r\n\tat Scratch.main(scratch_1.java:17)\r\n\r\n\r\n\r\nDependencies:\r\n\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;22.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;js&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;22.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js-scriptengine --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;22.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\nAny suggestions?","title":"GraalJS: how to get rid of these warnings?","body":"<p>We're using GraalVM.js as a ScriptEngine in our application. The goal is to have a Java JRE that can run user-defined javascript scripts to extend functionality.</p>\n<p>MVCE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ScriptEngine engine = GraalJSScriptEngine.create(null, Context.newBuilder(&quot;js&quot;));\n\n        String script = &quot;6 * 7&quot;;\n        Object eval = ((Compilable) engine).compile(script).eval();\n        System.out.println(eval);\n</code></pre>\n<p>The code neatly prints &quot;42&quot; but not before this lengthy warning:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>[To redirect Truffle log output to a file use one of the following options:\n* '--log.file=&lt;path&gt;' if the option is passed using a guest language launcher.\n* '-Dpolyglot.log.file=&lt;path&gt;' if the option is passed using the host Java launcher.\n* Configure logging using the polyglot embedding API.]\n[engine] WARNING: The polyglot context is using an implementation that does not support runtime compilation.\nThe guest application code will therefore be executed in interpreted mode only.\nExecution only in interpreted mode will strongly impact the guest application performance.\nFor more information on using GraalVM see https://www.graalvm.org/java/quickstart/.\nTo disable this warning the '--engine.WarnInterpreterOnly=false' option or use the '-Dpolyglot.engine.WarnInterpreterOnly=false' system property.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I have tried to follow the printed suggestion:</p>\n<pre><code>    ScriptEngine engine = GraalJSScriptEngine.create(null, Context.newBuilder(&quot;js&quot;)\n        .option(&quot;engine.WarnInterpreterOnly&quot;,&quot;false&quot;)\n    );\n</code></pre>\n<p>Unfortunately this fails with an exception:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Exception in thread \"main\" java.lang.IllegalArgumentException: Option engine.WarnInterpreterOnly is an engine option. Engine level options can only be configured for contexts without a shared engine set. To resolve this, configure the option when creating the Engine or create a context without a shared engine.\n    at com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:131)\n    at com.oracle.truffle.polyglot.PolyglotContextConfig.findObjectForContextOption(PolyglotContextConfig.java:433)\n    at com.oracle.truffle.polyglot.PolyglotContextConfig.&lt;init&gt;(PolyglotContextConfig.java:260)\n    at com.oracle.truffle.polyglot.PolyglotEngineImpl.createContext(PolyglotEngineImpl.java:1697)\n    at com.oracle.truffle.polyglot.PolyglotEngineDispatch.createContext(PolyglotEngineDispatch.java:159)\n    at org.graalvm.polyglot.Context$Builder.build(Context.java:1837)\n    at com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.createDefaultContext(GraalJSScriptEngine.java:353)\n    at com.oracle.truffle.js.scriptengine.GraalJSBindings.initContext(GraalJSBindings.java:91)\n    at com.oracle.truffle.js.scriptengine.GraalJSBindings.requireContext(GraalJSBindings.java:86)\n    at com.oracle.truffle.js.scriptengine.GraalJSBindings.entrySet(GraalJSBindings.java:172)\n    at java.base/java.util.AbstractMap.containsKey(AbstractMap.java:144)\n    at java.scripting/javax.script.SimpleScriptContext.getAttribute(SimpleScriptContext.java:158)\n    at com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.createSource(GraalJSScriptEngine.java:450)\n    at com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.compile(GraalJSScriptEngine.java:628)\n    at Scratch.main(scratch_1.java:17)\n\nProcess finished with exit code 1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm unsure what this exception means and how to solve it. It would be impractical to add a VM option, and the documentation promises it should be possible to pass on options like this: <a href=\"https://www.graalvm.org/22.0/reference-manual/polyglot-programming/#passing-options-programmatically\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.0/reference-manual/polyglot-programming/#passing-options-programmatically</a></p>\n<p>The log option doesn't work at all:</p>\n<pre><code>    ScriptEngine engine = GraalJSScriptEngine.create(null, Context.newBuilder(&quot;js&quot;)\n        .option(&quot;log.file&quot;,&quot;log\\\\engine.log&quot;)\n    );\n</code></pre>\n<p>results in</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: log.file\nat com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:131)\nat com.oracle.truffle.polyglot.PolyglotEngineImpl.parseLoggerName(PolyglotEngineImpl.java:776)\nat com.oracle.truffle.polyglot.PolyglotContextConfig.&lt;init&gt;(PolyglotContextConfig.java:257)\nat com.oracle.truffle.polyglot.PolyglotEngineImpl.createContext(PolyglotEngineImpl.java:1697)\nat com.oracle.truffle.polyglot.PolyglotEngineDispatch.createContext(PolyglotEngineDispatch.java:159)\nat org.graalvm.polyglot.Context$Builder.build(Context.java:1837)\nat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.createDefaultContext(GraalJSScriptEngine.java:353)\nat com.oracle.truffle.js.scriptengine.GraalJSBindings.initContext(GraalJSBindings.java:91)\nat com.oracle.truffle.js.scriptengine.GraalJSBindings.requireContext(GraalJSBindings.java:86)\nat com.oracle.truffle.js.scriptengine.GraalJSBindings.entrySet(GraalJSBindings.java:172)\nat java.base/java.util.AbstractMap.containsKey(AbstractMap.java:144)\nat java.scripting/javax.script.SimpleScriptContext.getAttribute(SimpleScriptContext.java:158)\nat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.createSource(GraalJSScriptEngine.java:450)\nat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.compile(GraalJSScriptEngine.java:628)\nat Scratch.main(scratch_1.java:17)\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\n        &lt;version&gt;22.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n        &lt;artifactId&gt;js&lt;/artifactId&gt;\n        &lt;version&gt;22.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js-scriptengine --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n        &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n        &lt;version&gt;22.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","apache-camel","quarkus","seda"],"owner":{"account_id":24235009,"reputation":67,"user_id":18188271,"display_name":"raweber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699280125,"creation_date":1699280125,"question_id":77431791,"body_markdown":"I am writing an end-to-end test for my quarkus application that is using Apache Camel. I am basically receiving a message from a URI and sending it to a seda route with multiple consumers. This all works fine in production.\r\n\r\nBut when I am running my test to see whether the SEDA endpoint got a message, the log shows me\r\n\r\n```\r\n2023-11-06 15:02:25,858 INFO  [org.apa.cam.tes.jun.CamelTestSupport] (main) ********************************************************************************\r\n2023-11-06 15:02:25,858 INFO  [org.apa.cam.tes.jun.CamelTestSupport] (main) Testing done: checkSedaForwarding() (com.example[......])\r\n2023-11-06 15:02:25,858 INFO  [org.apa.cam.tes.jun.CamelTestSupport] (main) Took: 48ms (48 millis)\r\n2023-11-06 15:02:25,858 INFO  [org.apa.cam.tes.jun.CamelTestSupport] (main) ********************************************************************************\r\n2023-11-06 15:02:26,601 INFO  [com.get.not.not.LogNotificationSender] (Camel (camel-1) thread #4 - seda://EXAMPLE_ROUTE) Message: [com.google.firebase.messaging.Message@39fa3316] captured\r\n2023-11-06 15:02:26,601 INFO  [com.get.not.mes.han.ExampleRouteHandler] (Camel (camel-1) thread #4 - seda://EXAMPLE_ROUTE) Push notification [com.google.firebase.messaging.Message@39fa3316] got sent out successfully with response:\r\n {\r\n     &quot;name&quot;:&quot;projects/example/messages/0:1500415314455276%31bd1c9631bd1c96&quot;\r\n}\r\n2023-11-06 15:02:35,864 WARN  [org.apa.cam.com.moc.MockEndpoint] (main) The latch did not reach 0 within the specified time\r\n```\r\n\r\nand the test fails, even though I can see that the desired handler got called. My test looks like this:\r\n\r\n```\r\n    @Test\r\n    public void checkSedaForwarding() throws Exception {\r\n\r\n    var eventString = new String(Files.readAllBytes(Paths.get(&quot;src/test/resources/testEvent.json&quot;)));\r\n    getMockEndpoint(&quot;mock:seda:EXAMPLE_ROUTE&quot;).expectedMessageCount(1);\r\n\r\n\r\n    template.sendBody(&quot;direct:example-route&quot;, eventString);\r\n\r\n    Mockito.verify(exampleRouteHandler, Mockito.times(1)).handle(Mockito.any()); // doesn&#39;t get detected\r\n    MockEndpoint.assertIsSatisfied(context);\r\n\r\n    Assertions.assertNotNull(context.hasEndpoint(&quot;mock:direct:example-route&quot;));\r\n    Assertions.assertNotNull(context.hasEndpoint(&quot;mock:seda:EXAMPLE_ROUTE&quot;));\r\nAssertions.assertNotNull(context.hasEndpoint(&quot;direct:example-route&quot;));\r\n        Assertions.assertNotNull(context.hasEndpoint(&quot;seda:EXAMPLE_ROUTE&quot;));\r\n    }\r\n```\r\n\r\nI assume it has something to do with multithreading, as it says something with `thread #4`. I don&#39;t know, why the test is not waiting for the event to arrive at the seda endpoint. \r\n\r\nI already tried increasing the timeout time, didn&#39;t help.\r\n\r\nThanks in advance for any help!\r\n","title":"How to end-to-end test an Apache Camel Route with SEDA included?","body":"<p>I am writing an end-to-end test for my quarkus application that is using Apache Camel. I am basically receiving a message from a URI and sending it to a seda route with multiple consumers. This all works fine in production.</p>\n<p>But when I am running my test to see whether the SEDA endpoint got a message, the log shows me</p>\n<pre><code>2023-11-06 15:02:25,858 INFO  [org.apa.cam.tes.jun.CamelTestSupport] (main) ********************************************************************************\n2023-11-06 15:02:25,858 INFO  [org.apa.cam.tes.jun.CamelTestSupport] (main) Testing done: checkSedaForwarding() (com.example[......])\n2023-11-06 15:02:25,858 INFO  [org.apa.cam.tes.jun.CamelTestSupport] (main) Took: 48ms (48 millis)\n2023-11-06 15:02:25,858 INFO  [org.apa.cam.tes.jun.CamelTestSupport] (main) ********************************************************************************\n2023-11-06 15:02:26,601 INFO  [com.get.not.not.LogNotificationSender] (Camel (camel-1) thread #4 - seda://EXAMPLE_ROUTE) Message: [com.google.firebase.messaging.Message@39fa3316] captured\n2023-11-06 15:02:26,601 INFO  [com.get.not.mes.han.ExampleRouteHandler] (Camel (camel-1) thread #4 - seda://EXAMPLE_ROUTE) Push notification [com.google.firebase.messaging.Message@39fa3316] got sent out successfully with response:\n {\n     &quot;name&quot;:&quot;projects/example/messages/0:1500415314455276%31bd1c9631bd1c96&quot;\n}\n2023-11-06 15:02:35,864 WARN  [org.apa.cam.com.moc.MockEndpoint] (main) The latch did not reach 0 within the specified time\n</code></pre>\n<p>and the test fails, even though I can see that the desired handler got called. My test looks like this:</p>\n<pre><code>    @Test\n    public void checkSedaForwarding() throws Exception {\n\n    var eventString = new String(Files.readAllBytes(Paths.get(&quot;src/test/resources/testEvent.json&quot;)));\n    getMockEndpoint(&quot;mock:seda:EXAMPLE_ROUTE&quot;).expectedMessageCount(1);\n\n\n    template.sendBody(&quot;direct:example-route&quot;, eventString);\n\n    Mockito.verify(exampleRouteHandler, Mockito.times(1)).handle(Mockito.any()); // doesn't get detected\n    MockEndpoint.assertIsSatisfied(context);\n\n    Assertions.assertNotNull(context.hasEndpoint(&quot;mock:direct:example-route&quot;));\n    Assertions.assertNotNull(context.hasEndpoint(&quot;mock:seda:EXAMPLE_ROUTE&quot;));\nAssertions.assertNotNull(context.hasEndpoint(&quot;direct:example-route&quot;));\n        Assertions.assertNotNull(context.hasEndpoint(&quot;seda:EXAMPLE_ROUTE&quot;));\n    }\n</code></pre>\n<p>I assume it has something to do with multithreading, as it says something with <code>thread #4</code>. I don't know, why the test is not waiting for the event to arrive at the seda endpoint.</p>\n<p>I already tried increasing the timeout time, didn't help.</p>\n<p>Thanks in advance for any help!</p>\n"},{"tags":["java","logging","jdbc"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1698929097,"post_id":77409453,"comment_id":136468215,"body_markdown":"To configure it.  Some drivers are obnoxiously verbose even at level INFO, to the point where I turn them off:   `driver.getParentLogger().setLevel(Level.OFF);`  And yes, a Driver must implement it.","body":"To configure it.  Some drivers are obnoxiously verbose even at level INFO, to the point where I turn them off:   <code>driver.getParentLogger().setLevel(Level.OFF);</code>  And yes, a Driver must implement it."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698930194,"creation_date":1698929580,"answer_id":77409716,"question_id":77409453,"body_markdown":"The method was added in JDBC 4.1 / Java 7 as JSR 221 maintenance release 1.  The specific rationale for the addition is not included in the document that lists the changes: [JDBC Maintenance Release 4.1](https://jcp.org/aboutJava/communityprocess/maintenance/jsr221/221MRapproved.pdf)\r\n\r\nThe overall rational says:\r\n\r\n&gt; *&quot;The goal is to address several specification issues and to provide support for Automatic Resource Management introduced in\r\nJava SE 7 as well as several minor enhancements requested by the JDBC EG and user community.&quot;*\r\n\r\n... so my guess is that this was one of the requested minor enhancements.  Presumably, *they* thought that this enhancement was justifiable.\r\n\r\n&gt; Why is this method part of the JDBC API? \r\n\r\nBecause it was requested by someone.\r\n\r\n&gt; Why would the user need the parent logger of all the loggers of the JDBC? \r\n\r\nPresumably some users did ... otherwise they wouldn&#39;t have requested it!  Also, their reasons must have strong enough to convince the JSR principals, even if we don&#39;t know what the actual reasons are&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nOne possible reason is that this allows the application to control logging levels without needing to know fine details of a particular driver&#39;s logger hierarchy.\r\n\r\n&gt; If JDBC has its own logging system,\r\n\r\nIt doesn&#39;t actually.  The `java.util.logging.Logger` class is provided by Java SE.  A JDBC driver doesn&#39;t have to use JUL logging ... or any logging at all.\r\n\r\n&gt; ... I do not understand why the user should have the parent logger. For what purpose?\r\n\r\nSee above.\r\n\r\n&gt; Is it necessary to implement?\r\n\r\nNo.  `Driver.getParentLogger` is an optional operation.  According to the [javadocs][1], a driver can throw `SQLFeatureNotSupportedException` if it doesn&#39;t use JUL logging.\r\n\r\n------------------------\r\n\r\n&lt;sup&gt;1 - You could trawl the archives for the JSR 223 mailing lists to see if there was discussion there.  I&#39;m not interested in doing it for you though.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Driver.html#getParentLogger()","title":"Why is getParentLogger needed in jdbc?","body":"<p>The method was added in JDBC 4.1 / Java 7 as JSR 221 maintenance release 1.  The specific rationale for the addition is not included in the document that lists the changes: <a href=\"https://jcp.org/aboutJava/communityprocess/maintenance/jsr221/221MRapproved.pdf\" rel=\"nofollow noreferrer\">JDBC Maintenance Release 4.1</a></p>\n<p>The overall rational says:</p>\n<blockquote>\n<p><em>&quot;The goal is to address several specification issues and to provide support for Automatic Resource Management introduced in\nJava SE 7 as well as several minor enhancements requested by the JDBC EG and user community.&quot;</em></p>\n</blockquote>\n<p>... so my guess is that this was one of the requested minor enhancements.  Presumably, <em>they</em> thought that this enhancement was justifiable.</p>\n<blockquote>\n<p>Why is this method part of the JDBC API?</p>\n</blockquote>\n<p>Because it was requested by someone.</p>\n<blockquote>\n<p>Why would the user need the parent logger of all the loggers of the JDBC?</p>\n</blockquote>\n<p>Presumably some users did ... otherwise they wouldn't have requested it!  Also, their reasons must have strong enough to convince the JSR principals, even if we don't know what the actual reasons are<sup>1</sup>.</p>\n<p>One possible reason is that this allows the application to control logging levels without needing to know fine details of a particular driver's logger hierarchy.</p>\n<blockquote>\n<p>If JDBC has its own logging system,</p>\n</blockquote>\n<p>It doesn't actually.  The <code>java.util.logging.Logger</code> class is provided by Java SE.  A JDBC driver doesn't have to use JUL logging ... or any logging at all.</p>\n<blockquote>\n<p>... I do not understand why the user should have the parent logger. For what purpose?</p>\n</blockquote>\n<p>See above.</p>\n<blockquote>\n<p>Is it necessary to implement?</p>\n</blockquote>\n<p>No.  <code>Driver.getParentLogger</code> is an optional operation.  According to the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Driver.html#getParentLogger()\" rel=\"nofollow noreferrer\">javadocs</a>, a driver can throw <code>SQLFeatureNotSupportedException</code> if it doesn't use JUL logging.</p>\n<hr />\n<p><sup>1 - You could trawl the archives for the JSR 223 mailing lists to see if there was discussion there.  I'm not interested in doing it for you though.</sup></p>\n"}],"owner":{"account_id":29810487,"reputation":1,"user_id":22846013,"display_name":"maryana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698938756,"answer_count":1,"score":0,"last_activity_date":1699279846,"creation_date":1698927155,"question_id":77409453,"body_markdown":"Why is this method part of the JDBC API? Why would the user need the parent logger of all the loggers of the JDBC? If JDBC has its own logging system, I do not understand why the user should have the parent logger. For what purpose? Is it necessary to implement? \r\n","title":"Why is getParentLogger needed in jdbc?","body":"<p>Why is this method part of the JDBC API? Why would the user need the parent logger of all the loggers of the JDBC? If JDBC has its own logging system, I do not understand why the user should have the parent logger. For what purpose? Is it necessary to implement?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":12169543,"reputation":208,"user_id":8884694,"display_name":"zXor"},"score":0,"creation_date":1618911241,"post_id":67176078,"comment_id":118739953,"body_markdown":"Sure that your class is being scanned(loaded) properly by spring ?","body":"Sure that your class is being scanned(loaded) properly by spring ?"},{"owner":{"account_id":2553962,"reputation":6998,"user_id":2216380,"display_name":"Royal Bg"},"score":0,"creation_date":1618911265,"post_id":67176078,"comment_id":118739973,"body_markdown":"You are not instantiating the object by yourself, aren&#39;t oyu?","body":"You are not instantiating the object by yourself, aren&#39;t oyu?"},{"owner":{"account_id":20914162,"reputation":1,"user_id":15364277,"display_name":"tigrou"},"score":0,"creation_date":1618911714,"post_id":67176078,"comment_id":118740201,"body_markdown":"@zXor I&#39;m not sure at all, but as I added the following annotations \nComponent\nComponentScan\nConfiguration\nPropertySource(&quot;application.properties&quot;)\nI think it should be enough to let spring scan the class? Or am I wrong?","body":"@zXor I&#39;m not sure at all, but as I added the following annotations  Component ComponentScan Configuration PropertySource(&quot;application.properties&quot;) I think it should be enough to let spring scan the class? Or am I wrong?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1618911759,"post_id":67176078,"comment_id":118740222,"body_markdown":"If it is `null` you either create an object instance yourself with `new MyObject()` (the `@Component` annotations doesn&#39;t matter then because you are still creating a new instance outside the scope of Spring) or you haven&#39;t configured a `PropertySourcesPlaceHolderConfigurer` in your application.","body":"If it is <code>null</code> you either create an object instance yourself with <code>new MyObject()</code> (the <code>@Component</code> annotations doesn&#39;t matter then because you are still creating a new instance outside the scope of Spring) or you haven&#39;t configured a <code>PropertySourcesPlaceHolderConfigurer</code> in your application."},{"owner":{"account_id":20914162,"reputation":1,"user_id":15364277,"display_name":"tigrou"},"score":0,"creation_date":1618912113,"post_id":67176078,"comment_id":118740379,"body_markdown":"@M.Deinum I have a PropertySourcesPlaceHolderConfigurer  in another class : `@Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();\n        configurer.setIgnoreResourceNotFound(true);\n        configurer.setIgnoreUnresolvablePlaceholders(true);\n        return configurer;\n    }`","body":"@M.Deinum I have a PropertySourcesPlaceHolderConfigurer  in another class : <code>@Bean     public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {         PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();         configurer.setIgnoreResourceNotFound(true);         configurer.setIgnoreUnresolvablePlaceholders(true);         return configurer;     }</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1618912142,"post_id":67176078,"comment_id":118740395,"body_markdown":"If that is the case, the only conclusion can be you are creating a new instance of that class outside the scope of Spring. And please don&#39;t add additional code/information as comments as that is totally unreadable, edit your question instead.","body":"If that is the case, the only conclusion can be you are creating a new instance of that class outside the scope of Spring. And please don&#39;t add additional code/information as comments as that is totally unreadable, edit your question instead."},{"owner":{"account_id":20914162,"reputation":1,"user_id":15364277,"display_name":"tigrou"},"score":0,"creation_date":1618912359,"post_id":67176078,"comment_id":118740478,"body_markdown":"Unfortunately, no I have the issue in a test class, in a test method =&gt; &#39;@Component\npublic class myClassTest {\n\n\n@Value(&quot;${value:&#39;DefaultValue&#39;}&quot;)\nprivate String myValue;\n  ... \n  @Test\n  public void test() {\nSystem.out.println(&quot;test &quot; + test + &quot; &quot; + myValue); }&#39;\n\n=&gt; Only a sysout is performed in my test and I always receive a null value :(","body":"Unfortunately, no I have the issue in a test class, in a test method =&gt; &#39;@Component public class myClassTest {   @Value(&quot;${value:&#39;DefaultValue&#39;}&quot;) private String myValue;   ...    @Test   public void test() { System.out.println(&quot;test &quot; + test + &quot; &quot; + myValue); }&#39;  =&gt; Only a sysout is performed in my test and I always receive a null value :("},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1618912547,"post_id":67176078,"comment_id":118740573,"body_markdown":"Let me guess run and controlled by JUnit and not Spring. Which is more or less the same as creating an instance outside the scope of Spring. JUnit doesn&#39;t know about Spring so this will simply not work. Also this is crucial information for your question.","body":"Let me guess run and controlled by JUnit and not Spring. Which is more or less the same as creating an instance outside the scope of Spring. JUnit doesn&#39;t know about Spring so this will simply not work. Also this is crucial information for your question."},{"owner":{"account_id":20914162,"reputation":1,"user_id":15364277,"display_name":"tigrou"},"score":0,"creation_date":1618912915,"post_id":67176078,"comment_id":118740752,"body_markdown":"Indeed, it is executed by Junit. So, this can be the issue, that&#39;s a good news. Do you have any idea to solve the issue?","body":"Indeed, it is executed by Junit. So, this can be the issue, that&#39;s a good news. Do you have any idea to solve the issue?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1618917974,"post_id":67176078,"comment_id":118743000,"body_markdown":"You need to run it with the proper Spring annotations for testing (see the testing chapter) and even then I doubt the `@Value` will be processed (I know `@Autowired` is replaced, but I doubt `@Value`).","body":"You need to run it with the proper Spring annotations for testing (see the testing chapter) and even then I doubt the <code>@Value</code> will be processed (I know <code>@Autowired</code> is replaced, but I doubt <code>@Value</code>)."},{"owner":{"account_id":20914162,"reputation":1,"user_id":15364277,"display_name":"tigrou"},"score":0,"creation_date":1618923134,"post_id":67176078,"comment_id":118745297,"body_markdown":"Thanks, now I&#39;am able to retrieve the default value of my property, it&#39;s better than nothing, but still not perfect.","body":"Thanks, now I&#39;am able to retrieve the default value of my property, it&#39;s better than nothing, but still not perfect."},{"owner":{"account_id":20914162,"reputation":1,"user_id":15364277,"display_name":"tigrou"},"score":0,"creation_date":1618923278,"post_id":67176078,"comment_id":118745366,"body_markdown":"I removed the Junit dependencies and replaced by @ExtendWith annotation. Unfortunattely, the application.properties file is not read correctly","body":"I removed the Junit dependencies and replaced by @ExtendWith annotation. Unfortunattely, the application.properties file is not read correctly"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1618912236,"post_id":67176504,"comment_id":118740428,"body_markdown":"Regardless, even with `@Component` if you do `new YourClass()` it won&#39;t work either. How many annotations you are going to throw at it.","body":"Regardless, even with <code>@Component</code> if you do <code>new YourClass()</code> it won&#39;t work either. How many annotations you are going to throw at it."},{"owner":{"account_id":20736312,"reputation":31,"user_id":15235869,"display_name":"Alex Boyarsky"},"score":0,"creation_date":1618912412,"post_id":67176504,"comment_id":118740505,"body_markdown":"Spring isn&#39;t aware of arbitrary creation through constructors. It violates the Inversion of Control principle, as bean creation, injection and destruction are managed by the ioc-container but not by developer directly.","body":"Spring isn&#39;t aware of arbitrary creation through constructors. It violates the Inversion of Control principle, as bean creation, injection and destruction are managed by the ioc-container but not by developer directly."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1618912502,"post_id":67176504,"comment_id":118740548,"body_markdown":"Please read my comments... This won&#39;t help as he is creating a new instance himself, instead of using the spring provided one.","body":"Please read my comments... This won&#39;t help as he is creating a new instance himself, instead of using the spring provided one."}],"tags":[],"owner":{"account_id":20736312,"reputation":31,"user_id":15235869,"display_name":"Alex Boyarsky"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618912174,"creation_date":1618912174,"answer_id":67176504,"question_id":67176078,"body_markdown":"Every class where you use `@Value` annotation MUST be a spring-managed bean. You can achieve this by adding `@Component` annotation but make sure that you have configured component scan `@ComponentScan(basePackages = &quot;your.package&quot;)` in your java configuration, so spring knows where to search for components. ","title":"Spring @Value always returns a null value","body":"<p>Every class where you use <code>@Value</code> annotation MUST be a spring-managed bean. You can achieve this by adding <code>@Component</code> annotation but make sure that you have configured component scan <code>@ComponentScan(basePackages = &quot;your.package&quot;)</code> in your java configuration, so spring knows where to search for components.</p>\n"},{"tags":[],"owner":{"account_id":20914162,"reputation":1,"user_id":15364277,"display_name":"tigrou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618925430,"creation_date":1618925430,"answer_id":67179988,"question_id":67176078,"body_markdown":"Finally, with the help of everybody here (special thanks to @M. Deinum I fixed my issue.\r\n\r\nSo, first thing done, replace the Junit dependeny (use) by a Spring test dependency.\r\nsecondly, I&#39;ve updated my test to be executed with Spring with those lines :\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = {AppConfig.class})\r\n\r\nThis was enough to retrieve the default value of the @Value field.\r\nTo retrieve the value I had to add \r\n\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n\r\nin my AppConfig class\r\n","title":"Spring @Value always returns a null value","body":"<p>Finally, with the help of everybody here (special thanks to @M. Deinum I fixed my issue.</p>\n<p>So, first thing done, replace the Junit dependeny (use) by a Spring test dependency.\nsecondly, I've updated my test to be executed with Spring with those lines :</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {AppConfig.class})\n</code></pre>\n<p>This was enough to retrieve the default value of the @Value field.\nTo retrieve the value I had to add</p>\n<pre><code>@PropertySource(&quot;classpath:application.properties&quot;)\n</code></pre>\n<p>in my AppConfig class</p>\n"},{"tags":[],"owner":{"account_id":6070220,"reputation":111,"user_id":21962268,"display_name":"spring coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699279833,"creation_date":1699279833,"answer_id":77431755,"question_id":67176078,"body_markdown":"I was facing similar issue ... I had `PropertySourcesPlaceholderConfigurer` bean in my config which was non static and resulted in the issue. \r\n\r\nMaking the bean static solved the issue for me [https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/value-annotations.html][1]\r\n\r\n\r\n&gt; A default lenient embedded value resolver is provided by Spring. It\r\n&gt; will try to resolve the property value and if it cannot be resolved,\r\n&gt; the property name (for example ${catalog.name}) will be injected as\r\n&gt; the value. If you want to maintain strict control over nonexistent\r\n&gt; values, you should declare a PropertySourcesPlaceholderConfigurer\r\n&gt; bean, as the following example shows:\r\n\r\n```java\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n\t@Bean\r\n\tpublic static PropertySourcesPlaceholderConfigurer propertyPlaceholderConfigurer() {\r\n\t\treturn new PropertySourcesPlaceholderConfigurer();\r\n\t}\r\n}\r\n```\r\n\r\n&gt; When configuring a PropertySourcesPlaceholderConfigurer using\r\n&gt; JavaConfig, the @Bean method must be static.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/value-annotations.html","title":"Spring @Value always returns a null value","body":"<p>I was facing similar issue ... I had <code>PropertySourcesPlaceholderConfigurer</code> bean in my config which was non static and resulted in the issue.</p>\n<p>Making the bean static solved the issue for me <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/value-annotations.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/value-annotations.html</a></p>\n<blockquote>\n<p>A default lenient embedded value resolver is provided by Spring. It\nwill try to resolve the property value and if it cannot be resolved,\nthe property name (for example ${catalog.name}) will be injected as\nthe value. If you want to maintain strict control over nonexistent\nvalues, you should declare a PropertySourcesPlaceholderConfigurer\nbean, as the following example shows:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertyPlaceholderConfigurer() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n}\n</code></pre>\n<blockquote>\n<p>When configuring a PropertySourcesPlaceholderConfigurer using\nJavaConfig, the @Bean method must be static.</p>\n</blockquote>\n"}],"owner":{"account_id":20914162,"reputation":1,"user_id":15364277,"display_name":"tigrou"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1812,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1699279833,"creation_date":1618910649,"question_id":67176078,"body_markdown":"I&#39;m facing an issue with a dev I have to do with Spring (not spring boot).\r\nIn a class, I have to retrieve the value of a property defined on a properties files (application.properties).\r\nSo, I use the @Value annotation (normally it&#39;s easy to use), but it doesn&#39;t work in my case.\r\nIn my class, I have this code : \r\n\r\n    @Value(&quot;${value:&#39;DefaultValue&#39;}&quot;)\r\n    private String myValue;\r\nwith the import : `import org.springframework.beans.factory.annotation.Value;`\r\n\r\nMy property file contains : `value=a value`\r\n\r\nBut, when I want to test my application, I always receive a null value (also with the use of the default value).\r\nI try to add deafferents annotations in my class like \r\n\r\n    @Component\r\n\r\n...\r\n\r\nDo you have any suggestion? I&#39;m pretty sure I miss a config somewhere, but I don&#39;t know what.\r\n\r\nThanks in advance\r\n\r\nTigrou\r\n\r\n\r\n","title":"Spring @Value always returns a null value","body":"<p>I'm facing an issue with a dev I have to do with Spring (not spring boot).\nIn a class, I have to retrieve the value of a property defined on a properties files (application.properties).\nSo, I use the @Value annotation (normally it's easy to use), but it doesn't work in my case.\nIn my class, I have this code :</p>\n<pre><code>@Value(&quot;${value:'DefaultValue'}&quot;)\nprivate String myValue;\n</code></pre>\n<p>with the import : <code>import org.springframework.beans.factory.annotation.Value;</code></p>\n<p>My property file contains : <code>value=a value</code></p>\n<p>But, when I want to test my application, I always receive a null value (also with the use of the default value).\nI try to add deafferents annotations in my class like</p>\n<pre><code>@Component\n</code></pre>\n<p>...</p>\n<p>Do you have any suggestion? I'm pretty sure I miss a config somewhere, but I don't know what.</p>\n<p>Thanks in advance</p>\n<p>Tigrou</p>\n"},{"tags":["java","postgresql","jdbc","postgresql-14"],"comments":[{"owner":{"account_id":5175809,"reputation":1052,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":2,"creation_date":1699116247,"post_id":77422843,"comment_id":136492059,"body_markdown":"Your first variant looks for PostgresWithJDBCConnection somewhere in the jars you put in your classpath, but fails. Your second try lacks the driver-jar in the class-path. Very probably the next error will be caused by not telling java in which package your PostgresWithJDBCConnection is.","body":"Your first variant looks for PostgresWithJDBCConnection somewhere in the jars you put in your classpath, but fails. Your second try lacks the driver-jar in the class-path. Very probably the next error will be caused by not telling java in which package your PostgresWithJDBCConnection is."},{"owner":{"account_id":19600074,"reputation":11,"user_id":14345129,"display_name":"Ahn Jun-Yeong"},"score":0,"creation_date":1699150149,"post_id":77422843,"comment_id":136494941,"body_markdown":"@GyroGearloose Alright Gyro, thank you for giving me some hints. In short, you mean I should register the path of the driver-jar file in the class-path? After that, I also have to tell it which package my java file is? I don&#39;t know how to do though.","body":"@GyroGearloose Alright Gyro, thank you for giving me some hints. In short, you mean I should register the path of the driver-jar file in the class-path? After that, I also have to tell it which package my java file is? I don&#39;t know how to do though."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1699152366,"post_id":77422843,"comment_id":136495043,"body_markdown":"Try running some simple programs, with no dependencies, from the command line. Once you have that working, come back to this program.","body":"Try running some simple programs, with no dependencies, from the command line. Once you have that working, come back to this program."},{"owner":{"account_id":19600074,"reputation":11,"user_id":14345129,"display_name":"Ahn Jun-Yeong"},"score":0,"creation_date":1699159873,"post_id":77422843,"comment_id":136495337,"body_markdown":"@tgdavies I tried to run test.java that prints &quot;adsf&quot; via both terminal running and VSCode UI (clicking &#39;run&#39; button), and both work!","body":"@tgdavies I tried to run test.java that prints &quot;adsf&quot; via both terminal running and VSCode UI (clicking &#39;run&#39; button), and both work!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699178989,"post_id":77422843,"comment_id":136496627,"body_markdown":"Okay. Next step is to keep the same simple program, but add the postgresql jar to the class path (as you did before) and see if the program still runs and prints &quot;adsf&quot;.","body":"Okay. Next step is to keep the same simple program, but add the postgresql jar to the class path (as you did before) and see if the program still runs and prints &quot;adsf&quot;."},{"owner":{"account_id":19600074,"reputation":11,"user_id":14345129,"display_name":"Ahn Jun-Yeong"},"score":0,"creation_date":1699187247,"post_id":77422843,"comment_id":136497378,"body_markdown":"@tgdavies NO WAY! It suddenly doesn&#39;t work with the jar file - ```javac -cp &#39;./postgresql-42.6.0.jar&#39; test.java``` (no problem with this) then ```java -cp &#39;./postgresql-42.6.0.jar&#39; test``` raises ```Error: Could not find or load main class test``` error. Do you have any idea about this happening? Thanks for your help, I might be getting closer to the solution?","body":"@tgdavies NO WAY! It suddenly doesn&#39;t work with the jar file - <code>javac -cp &#39;.&#47;postgresql-42.6.0.jar&#39; test.java</code> (no problem with this) then <code>java -cp &#39;.&#47;postgresql-42.6.0.jar&#39; test</code> raises <code>Error: Could not find or load main class test</code> error. Do you have any idea about this happening? Thanks for your help, I might be getting closer to the solution?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699240205,"post_id":77422843,"comment_id":136502410,"body_markdown":"Once you set the class path to *only* look at the jar file, it can&#39;t see the `.class` file you are trying to run. You&#39;ll need to add the directory that your class file hierarchy is in to the class path (remember how packages are treated).","body":"Once you set the class path to <i>only</i> look at the jar file, it can&#39;t see the <code>.class</code> file you are trying to run. You&#39;ll need to add the directory that your class file hierarchy is in to the class path (remember how packages are treated)."},{"owner":{"account_id":19600074,"reputation":11,"user_id":14345129,"display_name":"Ahn Jun-Yeong"},"score":0,"creation_date":1699253898,"post_id":77422843,"comment_id":136503487,"body_markdown":"@tgdavies Oh Lord. I tried ```java -cp &#39;./postgresql-42.6.0.jar:./&#39; PostgresWithJDBCConnection``` and now it works! Thank you so much legend. For this time, I clarified both paths for each ```.jar``` and ```.class```but still don&#39;t know how to add the parent directory ```FamilyCalendar``` to class path permanently(?) so that my VSCode environment automatically recognizes both files and runs my java file by just clicking &#39;run&#39; button. Would you help me with this as well? Even if you can&#39;t, again I really appreciate your kind instructions.","body":"@tgdavies Oh Lord. I tried <code>java -cp &#39;.&#47;postgresql-42.6.0.jar:.&#47;&#39; PostgresWithJDBCConnection</code> and now it works! Thank you so much legend. For this time, I clarified both paths for each <code>.jar</code> and <code>.class</code>but still don&#39;t know how to add the parent directory <code>FamilyCalendar</code> to class path permanently(?) so that my VSCode environment automatically recognizes both files and runs my java file by just clicking &#39;run&#39; button. Would you help me with this as well? Even if you can&#39;t, again I really appreciate your kind instructions."}],"owner":{"account_id":19600074,"reputation":11,"user_id":14345129,"display_name":"Ahn Jun-Yeong"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699279770,"answer_count":0,"score":0,"last_activity_date":1699279781,"creation_date":1699114516,"question_id":77422843,"body_markdown":"I am trying to run a java file which tests whether my java file is well connected to postgresql@14 using JDBC(jar file) in VSCode environment. But I am facing some problems.\r\n\r\nFirst, the tree visualization of my current directory(called ```FamilyCalendar```) is as follows: \r\n\r\n```\r\n.\r\n DateBox.java\r\n FamilyCalendar.java\r\n PostgresWithJDBCConnection.class\r\n PostgresWithJDBCConnection.java\r\n PostgresWithJDBCDelete.java\r\n PostgresWithJDBCInsert.java\r\n PostgresWithJDBCSelect.java\r\n PostgresWithJDBCUpdate.java\r\n StringManager.java\r\n postgresql-42.6.0.jar\r\n```\r\n\r\nAnd the following is ```PostgresWithJDBCConnection.java``` source code.\r\n\r\n```java\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\npublic class PostgresWithJDBCConnection {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\ttry (Connection connection = DriverManager.getConnection(&quot;jdbc:postgresql://127.0.0.1:5432/dob&quot;, &quot;dob&quot;,\r\n\t\t\t\t&quot;MY_PASSWD&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Connection established successfully&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\tSystem.out.print(e.getMessage());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nTo test the connection, I tried both ways; terminal environment and VSCode UI.\r\n\r\n## Terminal Environment\r\n\r\nI tried the following commands.\r\n\r\n```\r\njavac -cp &#39;./postgresql-42.6.0.jar&#39; PostgresWithJDBCConnection.java\r\njava -cp &#39;./postgresql-42.6.0.jar&#39; PostgresWithJDBCConnection\r\n```\r\n\r\nThen, for the second command line(java -cp ..), the error occurs;\r\n\r\n```\r\nError: Could not find or load main class PostgresWithJDBCConnection\r\n```\r\n\r\nBut as you can see my tree visualization of the working directory, there is definitely such class file.\r\n\r\n## VSCode UI\r\n\r\nAfter I failed with the previous one, I just decided to click the ```run``` button() on the right-top of VSCode, but the error occurs as well:\r\n\r\n```\r\n[Running] cd &quot;/Users/dob/Justin/FamilyCalendar/&quot; &amp;&amp; javac PostgresWithJDBCConnection.java &amp;&amp; java PostgresWithJDBCConnection\r\nNo suitable driver found for jdbc:postgresql://127.0.0.1:5432/dob\r\n[Done] exited with code=0 in 1.208 seconds\r\n```\r\n\r\nSeemingly it&#39;s because I didn&#39;t clarify the ```.jar``` file(for JDBC) - but does it mean I always have to manually clarify the path? \r\n\r\n\r\n\r\n\r\n\r\nCan anyone explain what the problem is and let me know how to solve it?\r\n\r\nThanks for reading! Please let me know if my description was insufficient for you to handle the problem.\r\n\r\n\r\n\r\nThe thing is that I successfully run everything with all the environments and files the exact same in virtual machine that uses Ubuntu - this may not be that informational though.","title":"Error: Could not find or load main class PostgresWithJDBCConnection","body":"<p>I am trying to run a java file which tests whether my java file is well connected to postgresql@14 using JDBC(jar file) in VSCode environment. But I am facing some problems.</p>\n<p>First, the tree visualization of my current directory(called <code>FamilyCalendar</code>) is as follows:</p>\n<pre><code>.\n DateBox.java\n FamilyCalendar.java\n PostgresWithJDBCConnection.class\n PostgresWithJDBCConnection.java\n PostgresWithJDBCDelete.java\n PostgresWithJDBCInsert.java\n PostgresWithJDBCSelect.java\n PostgresWithJDBCUpdate.java\n StringManager.java\n postgresql-42.6.0.jar\n</code></pre>\n<p>And the following is <code>PostgresWithJDBCConnection.java</code> source code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class PostgresWithJDBCConnection {\n    public static void main(String[] args) {\n\n        try (Connection connection = DriverManager.getConnection(&quot;jdbc:postgresql://127.0.0.1:5432/dob&quot;, &quot;dob&quot;,\n                &quot;MY_PASSWD&quot;)) {\n            System.out.println(&quot;Connection established successfully&quot;);\n        } catch (SQLException e) {\n            System.out.print(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>To test the connection, I tried both ways; terminal environment and VSCode UI.</p>\n<h2>Terminal Environment</h2>\n<p>I tried the following commands.</p>\n<pre><code>javac -cp './postgresql-42.6.0.jar' PostgresWithJDBCConnection.java\njava -cp './postgresql-42.6.0.jar' PostgresWithJDBCConnection\n</code></pre>\n<p>Then, for the second command line(java -cp ..), the error occurs;</p>\n<pre><code>Error: Could not find or load main class PostgresWithJDBCConnection\n</code></pre>\n<p>But as you can see my tree visualization of the working directory, there is definitely such class file.</p>\n<h2>VSCode UI</h2>\n<p>After I failed with the previous one, I just decided to click the <code>run</code> button() on the right-top of VSCode, but the error occurs as well:</p>\n<pre><code>[Running] cd &quot;/Users/dob/Justin/FamilyCalendar/&quot; &amp;&amp; javac PostgresWithJDBCConnection.java &amp;&amp; java PostgresWithJDBCConnection\nNo suitable driver found for jdbc:postgresql://127.0.0.1:5432/dob\n[Done] exited with code=0 in 1.208 seconds\n</code></pre>\n<p>Seemingly it's because I didn't clarify the <code>.jar</code> file(for JDBC) - but does it mean I always have to manually clarify the path?</p>\n<p>Can anyone explain what the problem is and let me know how to solve it?</p>\n<p>Thanks for reading! Please let me know if my description was insufficient for you to handle the problem.</p>\n<p>The thing is that I successfully run everything with all the environments and files the exact same in virtual machine that uses Ubuntu - this may not be that informational though.</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":439185,"reputation":193,"user_id":827950,"accept_rate":60,"display_name":"Florian Patzl"},"score":1,"creation_date":1699354537,"post_id":77431735,"comment_id":136518368,"body_markdown":"A note: Currently I am using a subclass of Wrapper with concrete generic type as a workaround:\n\n`public static class LocalDateWrapper extends Wrapper&lt;LocalDate&gt; { }`\n\nAnd change Dto to use `private LocalDateWrapper dateValue;`","body":"A note: Currently I am using a subclass of Wrapper with concrete generic type as a workaround:  <code>public static class LocalDateWrapper extends Wrapper&lt;LocalDate&gt; { }</code>  And change Dto to use <code>private LocalDateWrapper dateValue;</code>"}],"owner":{"account_id":439185,"reputation":193,"user_id":827950,"accept_rate":60,"display_name":"Florian Patzl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699279763,"creation_date":1699279763,"question_id":77431735,"body_markdown":"I&#39;m trying to build a generic wrapper type to be used in multiple DTOs that are used as input parameters to HTTP GET endpoints, but Spring deserializes the value as &quot;String&quot; instead of the correct generic type.\r\n\r\nFor example, consider this controller:\r\n\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n       @Data\r\n       public static class Wrapper&lt;T extends Comparable&lt;?&gt;&gt; {\r\n          private T value;\r\n       }\r\n    \r\n       @Data\r\n       public static class Dto{\r\n          private Wrapper&lt;LocalDate&gt; dateValue;\r\n       }\r\n    \r\n       @GetMapping(&quot;/demo&quot;)\r\n       public void sample(Dto dto) {\r\n          LocalDate value = dto.dateValue.value;\r\n          System.out.println(value);\r\n       }\r\n    }\r\n\r\nWhen invoking the endpoint like this in the browser: \r\nhttp://localhost:8080/demo?dateValue.value=2023-11-06\r\n\r\nI get the following error, because &quot;dto.value&quot; has been deserialized as String instead of LocalDate:\r\n\r\n    java.lang.ClassCastException: class java.lang.String cannot be cast to class java.time.LocalDate (java.lang.String and java.time.LocalDate are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n**Is there any way to tell Spring: &quot;Hey, please convert the value of my wrapper to LocalDate before invoking my endpoint&quot;?**\r\n\r\n\r\nI think the underlying cause of this is Java type erasure and initially I was suspecting a Jackson deserialization issue. For that I found solutions, e.g. https://www.baeldung.com/jackson-deserialization.\r\n\r\nBut now I *think* in the case of GET request params, Jackson is not even involved (because there&#39;s no JSON to deserialize, only query parameters, right?)... and I can&#39;t find any good sources. The closest thing I found is this SO thread, but it&#39;s missing the tricky &quot;generics&quot; part: https://stackoverflow.com/questions/16942193/spring-mvc-complex-object-as-get-requestparam\r\n\r\nI feel like I&#39;m missing something super obvious here and just didn&#39;t type the right search keywords yet.\r\n\r\n\r\nI reproduced this in an example app based on Java 17 and Spring Boot 3.1.5 - if necessary I can push it to some Github repo.","title":"Spring MVC: GET with wrapped generic value","body":"<p>I'm trying to build a generic wrapper type to be used in multiple DTOs that are used as input parameters to HTTP GET endpoints, but Spring deserializes the value as &quot;String&quot; instead of the correct generic type.</p>\n<p>For example, consider this controller:</p>\n<pre><code>@RestController\npublic class MyController {\n\n   @Data\n   public static class Wrapper&lt;T extends Comparable&lt;?&gt;&gt; {\n      private T value;\n   }\n\n   @Data\n   public static class Dto{\n      private Wrapper&lt;LocalDate&gt; dateValue;\n   }\n\n   @GetMapping(&quot;/demo&quot;)\n   public void sample(Dto dto) {\n      LocalDate value = dto.dateValue.value;\n      System.out.println(value);\n   }\n}\n</code></pre>\n<p>When invoking the endpoint like this in the browser:\nhttp://localhost:8080/demo?dateValue.value=2023-11-06</p>\n<p>I get the following error, because &quot;dto.value&quot; has been deserialized as String instead of LocalDate:</p>\n<pre><code>java.lang.ClassCastException: class java.lang.String cannot be cast to class java.time.LocalDate (java.lang.String and java.time.LocalDate are in module java.base of loader 'bootstrap')\n</code></pre>\n<p><strong>Is there any way to tell Spring: &quot;Hey, please convert the value of my wrapper to LocalDate before invoking my endpoint&quot;?</strong></p>\n<p>I think the underlying cause of this is Java type erasure and initially I was suspecting a Jackson deserialization issue. For that I found solutions, e.g. <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-deserialization</a>.</p>\n<p>But now I <em>think</em> in the case of GET request params, Jackson is not even involved (because there's no JSON to deserialize, only query parameters, right?)... and I can't find any good sources. The closest thing I found is this SO thread, but it's missing the tricky &quot;generics&quot; part: <a href=\"https://stackoverflow.com/questions/16942193/spring-mvc-complex-object-as-get-requestparam\">Spring MVC: Complex object as GET @RequestParam</a></p>\n<p>I feel like I'm missing something super obvious here and just didn't type the right search keywords yet.</p>\n<p>I reproduced this in an example app based on Java 17 and Spring Boot 3.1.5 - if necessary I can push it to some Github repo.</p>\n"},{"tags":["java","eclipse","jboss","eclipse-plugin","wildfly"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1699283856,"post_id":77431732,"comment_id":136508901,"body_markdown":"Do you have an image of what that&#39;s supposed to look like, and what you&#39;re seeing instead?","body":"Do you have an image of what that&#39;s supposed to look like, and what you&#39;re seeing instead?"}],"owner":{"account_id":29838689,"reputation":1,"user_id":22867498,"display_name":"Adnane Jammoua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699279745,"creation_date":1699279745,"question_id":77431732,"body_markdown":"I&#39;m currently trying to install JBOSS TOOLS on my Eclipse, but the &quot;selected features&quot; tab is not popping. Anyone had a similar problem?\r\n\r\n\r\n\r\nI cleared the cache, installed eclipse all over again but it&#39;s not working.","title":"Eclipse Jboss, wildfly","body":"<p>I'm currently trying to install JBOSS TOOLS on my Eclipse, but the &quot;selected features&quot; tab is not popping. Anyone had a similar problem?</p>\n<p>I cleared the cache, installed eclipse all over again but it's not working.</p>\n"},{"tags":["java","android","google-oauth","google-signin"],"owner":{"account_id":12244530,"reputation":2176,"user_id":8936551,"accept_rate":20,"display_name":"sejn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699279351,"creation_date":1699279351,"question_id":77431678,"body_markdown":"I can&#39;t able to login my app suddenly with google after the target sdk version updates. I am getting Could not sign-in to google, make sure to call onStart/onStop methods to initialize GoogleApiClient properly.\r\n\r\n","title":"Unable to sign in with google with compileSDK 34","body":"<p>I can't able to login my app suddenly with google after the target sdk version updates. I am getting Could not sign-in to google, make sure to call onStart/onStop methods to initialize GoogleApiClient properly.</p>\n"},{"tags":["java","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699279323,"creation_date":1699279323,"answer_id":77431673,"question_id":77430643,"body_markdown":"You need to use a `UserCredentialsConnectionFactoryAdaptor`, e.g. as follows:\r\n\r\n```java\r\nActiveMQComponent amqComponent = new ActiveMQComponent();\r\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\r\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot; jms.watchTopicAdvisories=false&quot;);\r\n       \r\nUserCredentialsConnectionFactoryAdapter uca = new UserCredentialsConnectionFactoryAdapter();\r\nuca.setUsername(amqUser);\r\nuca.setPassword(amqPassword);\r\nuca.setTargetConnectionFactory(cf);\r\n            \r\nCachingConnectionFactory ccf = new CachingConnectionFactory(uca);\r\nccf.setClientId(amqClientID);\r\n            \r\namqComponent.setConnectionFactory(ccf);\r\namqComponent.setMaxConcurrentConsumers(1);\r\n            \r\ncontext.addComponent(&quot;activemq&quot;, amqComponent);\r\n```","title":"org.springframework.jms.connection.CachingConnectionFactory provide username and password","body":"<p>You need to use a <code>UserCredentialsConnectionFactoryAdaptor</code>, e.g. as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActiveMQComponent amqComponent = new ActiveMQComponent();\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot; jms.watchTopicAdvisories=false&quot;);\n       \nUserCredentialsConnectionFactoryAdapter uca = new UserCredentialsConnectionFactoryAdapter();\nuca.setUsername(amqUser);\nuca.setPassword(amqPassword);\nuca.setTargetConnectionFactory(cf);\n            \nCachingConnectionFactory ccf = new CachingConnectionFactory(uca);\nccf.setClientId(amqClientID);\n            \namqComponent.setConnectionFactory(ccf);\namqComponent.setMaxConcurrentConsumers(1);\n            \ncontext.addComponent(&quot;activemq&quot;, amqComponent);\n</code></pre>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77431673,"answer_count":1,"score":0,"last_activity_date":1699279323,"creation_date":1699269124,"question_id":77430643,"body_markdown":"How do I provide a username and password into a `org.springframework.jms.connection.CachingConnectionFactory`? (NOT the rabbit one).\r\n\r\nUsing Apache Camel, I&#39;m trying the following:\r\n\r\n```java\r\nActiveMQComponent amqComponent = new ActiveMQComponent();\r\n//amqComponent.setUsername(amqUser);\r\n//amqComponent.setPassword(amqPassword);\r\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\r\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot;?jms.watchTopicAdvisories=false&quot;);\r\n\r\nCachingConnectionFactory ccf = new CachingConnectionFactory(cf);\r\nccf.setClientId(&quot;clientID&quot;);\r\namqComponent.setConnectionFactory(ccf);\r\n\r\ncontext.addComponent(&quot;activemq&quot;, amqComponent);\r\n```\r\n\r\nIf I uncomment the `.setUsername` and `.setPassword` calls, I get an error:\r\n\r\n&gt; &quot;SingleConnectionFactory does not support custom username and password&quot;\r\n\r\n(because `SingleConnectionFactory` is the parent class for this `CachingConnectionFactory`).\r\n\r\nClearly if I leave the lines commented, I get an authentication error because I&#39;m not providing a user/password.\r\n\r\nHow can I pass the ActiveMQ credentials when using a `CachingConnectionFactory`?\r\n\r\n(as an aside, https://stackoverflow.com/questions/63120705/spring-integration-how-to-use-singleconnectionfactory-with-activemq discusses why I am trying to use a CCF as opposed to just using the ActiveMQConnectionFactory - &quot;with each poll, it creates a new connection to the Broker - flooding my broker with hundreds of connections&quot;)","title":"org.springframework.jms.connection.CachingConnectionFactory provide username and password","body":"<p>How do I provide a username and password into a <code>org.springframework.jms.connection.CachingConnectionFactory</code>? (NOT the rabbit one).</p>\n<p>Using Apache Camel, I'm trying the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActiveMQComponent amqComponent = new ActiveMQComponent();\n//amqComponent.setUsername(amqUser);\n//amqComponent.setPassword(amqPassword);\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot;?jms.watchTopicAdvisories=false&quot;);\n\nCachingConnectionFactory ccf = new CachingConnectionFactory(cf);\nccf.setClientId(&quot;clientID&quot;);\namqComponent.setConnectionFactory(ccf);\n\ncontext.addComponent(&quot;activemq&quot;, amqComponent);\n</code></pre>\n<p>If I uncomment the <code>.setUsername</code> and <code>.setPassword</code> calls, I get an error:</p>\n<blockquote>\n<p>&quot;SingleConnectionFactory does not support custom username and password&quot;</p>\n</blockquote>\n<p>(because <code>SingleConnectionFactory</code> is the parent class for this <code>CachingConnectionFactory</code>).</p>\n<p>Clearly if I leave the lines commented, I get an authentication error because I'm not providing a user/password.</p>\n<p>How can I pass the ActiveMQ credentials when using a <code>CachingConnectionFactory</code>?</p>\n<p>(as an aside, <a href=\"https://stackoverflow.com/questions/63120705/spring-integration-how-to-use-singleconnectionfactory-with-activemq\">Spring Integration: How to use SingleConnectionFactory with ActiveMQ?</a> discusses why I am trying to use a CCF as opposed to just using the ActiveMQConnectionFactory - &quot;with each poll, it creates a new connection to the Broker - flooding my broker with hundreds of connections&quot;)</p>\n"},{"tags":["java","apache-spark","spark-streaming","nats.io","nats-streaming-server"],"answers":[{"tags":[],"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699278828,"creation_date":1699278828,"answer_id":77431611,"question_id":77396073,"body_markdown":"Found out a solution for this scenario ! Messages were getting duplicated in every batches because there was no acknowledgment to NATS for the messages after consuming it. Had to use a durable consumer and pass the consumer name as an option in the spark code.\r\n\r\nInstructions to create a durable consumer : https://docs.nats.io/nats-concepts/jetstream/js_walkthrough#3.-creating-a-consumer\r\n\r\nInfo related to durable consumer : https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced\r\n\r\n*&quot;nats.durable.name&quot; Durable subscriptions allow clients to assign a durable name to a subscription when it is created. Doing this causes the NATS Streaming server to track the last acknowledged message for that clientID + durable name, so that only messages since the last acknowledged message will be delivered to the client. Obligatory configuration.*\r\n\r\nPass this consumer name as an option by using key &quot;**nats.durable.name**&quot;:\r\n\r\n    Dataset&lt;Row&gt; df = spark.readStream()\r\n                    .format(&quot;nats&quot;)\r\n                    .option(&quot;nats.host&quot;, &quot;localhost&quot;)\r\n                    .option(&quot;nats.port&quot;, 4222)\r\n                    .option(&quot;nats.stream.name&quot;, &quot;my_stream3&quot;)\r\n                    .option(&quot;nats.stream.subjects&quot;, &quot;mysub3&quot;)\r\n                    // wait 90 seconds for an ack before resending a message\r\n                    .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\r\n                    //.option(&quot;nats.num.listeners&quot;, 2)\r\n                    // Each listener will fetch 10 messages at a time\r\n                   // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\r\n                      .option(&quot;nats.durable.name&quot;, &quot;my_consumer&quot;)\r\n                    .load();\r\n\r\nThis will make sure that only messages since the last acknowledged message will be delivered to the client.","title":"Spark Streaming output mode to process only new messages","body":"<p>Found out a solution for this scenario ! Messages were getting duplicated in every batches because there was no acknowledgment to NATS for the messages after consuming it. Had to use a durable consumer and pass the consumer name as an option in the spark code.</p>\n<p>Instructions to create a durable consumer : <a href=\"https://docs.nats.io/nats-concepts/jetstream/js_walkthrough#3.-creating-a-consumer\" rel=\"nofollow noreferrer\">https://docs.nats.io/nats-concepts/jetstream/js_walkthrough#3.-creating-a-consumer</a></p>\n<p>Info related to durable consumer : <a href=\"https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced\" rel=\"nofollow noreferrer\">https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced</a></p>\n<p><em>&quot;nats.durable.name&quot; Durable subscriptions allow clients to assign a durable name to a subscription when it is created. Doing this causes the NATS Streaming server to track the last acknowledged message for that clientID + durable name, so that only messages since the last acknowledged message will be delivered to the client. Obligatory configuration.</em></p>\n<p>Pass this consumer name as an option by using key &quot;<strong>nats.durable.name</strong>&quot;:</p>\n<pre><code>Dataset&lt;Row&gt; df = spark.readStream()\n                .format(&quot;nats&quot;)\n                .option(&quot;nats.host&quot;, &quot;localhost&quot;)\n                .option(&quot;nats.port&quot;, 4222)\n                .option(&quot;nats.stream.name&quot;, &quot;my_stream3&quot;)\n                .option(&quot;nats.stream.subjects&quot;, &quot;mysub3&quot;)\n                // wait 90 seconds for an ack before resending a message\n                .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\n                //.option(&quot;nats.num.listeners&quot;, 2)\n                // Each listener will fetch 10 messages at a time\n               // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\n                  .option(&quot;nats.durable.name&quot;, &quot;my_consumer&quot;)\n                .load();\n</code></pre>\n<p>This will make sure that only messages since the last acknowledged message will be delivered to the client.</p>\n"}],"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77431611,"answer_count":1,"score":1,"last_activity_date":1699278828,"creation_date":1698756807,"question_id":77396073,"body_markdown":"\r\nI&#39;m using nats-spark-connector ( https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced ) to connect to NATS Jetstream and consume the message and process using Spark Java code. Below is the code snippet\r\n\r\n    private static void sparkNatsTester() {\r\n            SparkSession spark = SparkSession.builder()\r\n                    .appName(&quot;spark-with-nats&quot;)\r\n                    .master(&quot;local&quot;)\r\n    //              .config(&quot;spark.logConf&quot;, &quot;false&quot;)\r\n                      .config(&quot;spark.jars&quot;,\r\n                      &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\r\n                      )\r\n    //                .config(&quot;spark.executor.instances&quot;, &quot;2&quot;)\r\n    //                .config(&quot;spark.cores.max&quot;, &quot;4&quot;)\r\n    //                .config(&quot;spark.executor.memory&quot;, &quot;2g&quot;)\r\n                      .getOrCreate();\r\n            System.out.println(&quot;sparkSession : &quot;+ spark);\r\n            Dataset&lt;Row&gt; df = spark.readStream()\r\n                    .format(&quot;nats&quot;)\r\n                    .option(&quot;nats.host&quot;, &quot;localhost&quot;)\r\n                    .option(&quot;nats.port&quot;, 4222)\r\n                    .option(&quot;nats.stream.name&quot;, &quot;my_stream3&quot;)\r\n                    .option(&quot;nats.stream.subjects&quot;, &quot;mysub3&quot;)\r\n                    // wait 90 seconds for an ack before resending a message\r\n                    .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\r\n                    //.option(&quot;nats.num.listeners&quot;, 2)\r\n                    // Each listener will fetch 10 messages at a time\r\n                   // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\r\n                    .load();\r\n            System.out.println(&quot;Successfully read nats stream !&quot;);\r\n            \r\n            StreamingQuery query;\r\n            try {\r\n                query = df.writeStream()\r\n                          .outputMode(&quot;append&quot;)\r\n                          .format(&quot;console&quot;)\r\n                          .option(&quot;truncate&quot;, false)\r\n                          .start();\r\n                query.awaitTermination();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } \r\n        }\r\n\r\nAs per nats-io jetstream guide ( https://docs.nats.io/nats-concepts/jetstream/js_walkthrough) using below command to publish messages to the stream (subject name : mysub3)\r\n\r\n    nats pub foo --count=1000 --sleep 1s &quot;publication #{{Count}} @ {{TimeStamp}}&quot; \r\n\r\nAfter publishing the messages to nats stream, output of the code is :\r\n\r\n    Successfully read nats stream !\r\n    Status change nats: connection opened\r\n    -------------------------------------------\r\n    Batch: 0\r\n    -------------------------------------------\r\n    +-------+--------+-------+\r\n    |subject|dateTime|content|\r\n    +-------+--------+-------+\r\n    +-------+--------+-------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 1\r\n    -------------------------------------------\r\n    +-------+--------+-------+\r\n    |subject|dateTime|content|\r\n    +-------+--------+-------+\r\n    +-------+--------+-------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 2\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 3\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 4\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 5\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:35 +0530|publication #5 @ 2023-10-31T18:04:35+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 6\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:35 +0530|publication #5 @ 2023-10-31T18:04:35+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:36 +0530|publication #6 @ 2023-10-31T18:04:36+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:37 +0530|publication #7 @ 2023-10-31T18:04:37+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n\r\nAnd it continues to print the same set of messages for every batch. Since I&#39;m using `outputMode(&quot;append&quot;)` I was expecting only newly published messages should get printed for every batch. But all messages including messages which got printed in previous batch is included in the subsequent batches . I tried with `outputMode(&quot;update&quot;)` as well. It&#39;s giving same output as append. \r\nCan you please help me how to make sure each batch prints/receives only newly pushed messages ?","title":"Spark Streaming output mode to process only new messages","body":"<p>I'm using nats-spark-connector ( <a href=\"https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced\" rel=\"nofollow noreferrer\">https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced</a> ) to connect to NATS Jetstream and consume the message and process using Spark Java code. Below is the code snippet</p>\n<pre><code>private static void sparkNatsTester() {\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;spark-with-nats&quot;)\n                .master(&quot;local&quot;)\n//              .config(&quot;spark.logConf&quot;, &quot;false&quot;)\n                  .config(&quot;spark.jars&quot;,\n                  &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\n                  )\n//                .config(&quot;spark.executor.instances&quot;, &quot;2&quot;)\n//                .config(&quot;spark.cores.max&quot;, &quot;4&quot;)\n//                .config(&quot;spark.executor.memory&quot;, &quot;2g&quot;)\n                  .getOrCreate();\n        System.out.println(&quot;sparkSession : &quot;+ spark);\n        Dataset&lt;Row&gt; df = spark.readStream()\n                .format(&quot;nats&quot;)\n                .option(&quot;nats.host&quot;, &quot;localhost&quot;)\n                .option(&quot;nats.port&quot;, 4222)\n                .option(&quot;nats.stream.name&quot;, &quot;my_stream3&quot;)\n                .option(&quot;nats.stream.subjects&quot;, &quot;mysub3&quot;)\n                // wait 90 seconds for an ack before resending a message\n                .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\n                //.option(&quot;nats.num.listeners&quot;, 2)\n                // Each listener will fetch 10 messages at a time\n               // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\n                .load();\n        System.out.println(&quot;Successfully read nats stream !&quot;);\n        \n        StreamingQuery query;\n        try {\n            query = df.writeStream()\n                      .outputMode(&quot;append&quot;)\n                      .format(&quot;console&quot;)\n                      .option(&quot;truncate&quot;, false)\n                      .start();\n            query.awaitTermination();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n    }\n</code></pre>\n<p>As per nats-io jetstream guide ( <a href=\"https://docs.nats.io/nats-concepts/jetstream/js_walkthrough\" rel=\"nofollow noreferrer\">https://docs.nats.io/nats-concepts/jetstream/js_walkthrough</a>) using below command to publish messages to the stream (subject name : mysub3)</p>\n<pre><code>nats pub foo --count=1000 --sleep 1s &quot;publication #{{Count}} @ {{TimeStamp}}&quot; \n</code></pre>\n<p>After publishing the messages to nats stream, output of the code is :</p>\n<pre><code>Successfully read nats stream !\nStatus change nats: connection opened\n-------------------------------------------\nBatch: 0\n-------------------------------------------\n+-------+--------+-------+\n|subject|dateTime|content|\n+-------+--------+-------+\n+-------+--------+-------+\n\n-------------------------------------------\nBatch: 1\n-------------------------------------------\n+-------+--------+-------+\n|subject|dateTime|content|\n+-------+--------+-------+\n+-------+--------+-------+\n\n-------------------------------------------\nBatch: 2\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n+-------+---------------------------+------------------------------------------+\n\n-------------------------------------------\nBatch: 3\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n|mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\n|mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\n+-------+---------------------------+------------------------------------------+\n\n-------------------------------------------\nBatch: 4\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n|mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\n|mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\n|mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\n+-------+---------------------------+------------------------------------------+\n\n-------------------------------------------\nBatch: 5\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n|mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\n|mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\n|mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\n|mysub3 |10/31/2023 - 18:04:35 +0530|publication #5 @ 2023-10-31T18:04:35+05:30|\n+-------+---------------------------+------------------------------------------+\n\n-------------------------------------------\nBatch: 6\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n|mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\n|mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\n|mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\n|mysub3 |10/31/2023 - 18:04:35 +0530|publication #5 @ 2023-10-31T18:04:35+05:30|\n|mysub3 |10/31/2023 - 18:04:36 +0530|publication #6 @ 2023-10-31T18:04:36+05:30|\n|mysub3 |10/31/2023 - 18:04:37 +0530|publication #7 @ 2023-10-31T18:04:37+05:30|\n+-------+---------------------------+------------------------------------------+\n</code></pre>\n<p>And it continues to print the same set of messages for every batch. Since I'm using <code>outputMode(&quot;append&quot;)</code> I was expecting only newly published messages should get printed for every batch. But all messages including messages which got printed in previous batch is included in the subsequent batches . I tried with <code>outputMode(&quot;update&quot;)</code> as well. It's giving same output as append.\nCan you please help me how to make sure each batch prints/receives only newly pushed messages ?</p>\n"},{"tags":["python","java","coap","dtls","californium"],"comments":[{"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"score":0,"creation_date":1699357311,"post_id":77431606,"comment_id":136518880,"body_markdown":"Maybe you start with PSK authentication? Name: Client_identity, secret secretPSK.","body":"Maybe you start with PSK authentication? Name: Client_identity, secret secretPSK."},{"owner":{"account_id":13205819,"reputation":39,"user_id":9537602,"display_name":"iGod"},"score":0,"creation_date":1699359720,"post_id":77431606,"comment_id":136519288,"body_markdown":"@AchimKraus I&#39;ve tried but I couldn&#39;t figure out where to store those credentials using pydtls","body":"@AchimKraus I&#39;ve tried but I couldn&#39;t figure out where to store those credentials using pydtls"},{"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"score":0,"creation_date":1699510544,"post_id":77431606,"comment_id":136541637,"body_markdown":"I&#39;m common with Californium, but unfortunately not with pydtls. Do you know, how to load a client certificate into pydtls? And how to set the trusted CA certificates in pydtls?","body":"I&#39;m common with Californium, but unfortunately not with pydtls. Do you know, how to load a client certificate into pydtls? And how to set the trusted CA certificates in pydtls?"},{"owner":{"account_id":13205819,"reputation":39,"user_id":9537602,"display_name":"iGod"},"score":0,"creation_date":1699537517,"post_id":77431606,"comment_id":136546464,"body_markdown":"@AchimKraus When using the wrap_client() function, there&#39;s a parameter named &quot;ca_certs&quot; that I is meant to receive ca certificates and then there are 2 others named &quot;certfile&quot; and &quot;keyfile&quot;","body":"@AchimKraus When using the wrap_client() function, there&#39;s a parameter named &quot;ca_certs&quot; that I is meant to receive ca certificates and then there are 2 others named &quot;certfile&quot; and &quot;keyfile&quot;"},{"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"score":0,"creation_date":1699540334,"post_id":77431606,"comment_id":136547084,"body_markdown":"Not sure, if that really works with pydtls. Please try &quot;ca_certs&quot; = &quot;caTrustStore.pem&quot;, &quot;certfile&quot; = &quot;client.pem&quot; and &quot;keyfile&quot; = &quot;clientPrivateKey.pem&quot;.","body":"Not sure, if that really works with pydtls. Please try &quot;ca_certs&quot; = &quot;caTrustStore.pem&quot;, &quot;certfile&quot; = &quot;client.pem&quot; and &quot;keyfile&quot; = &quot;clientPrivateKey.pem&quot;."},{"owner":{"account_id":13205819,"reputation":39,"user_id":9537602,"display_name":"iGod"},"score":0,"creation_date":1699619619,"post_id":77431606,"comment_id":136557991,"body_markdown":"@AchimKraus Still no connection. Is specifying the cipher needed to establish a connection? I think I&#39;m giving up on using a Python client. I thought Having another option other than Californium&#39;s client would be a good idea. I appreciate your help anyway","body":"@AchimKraus Still no connection. Is specifying the cipher needed to establish a connection? I think I&#39;m giving up on using a Python client. I thought Having another option other than Californium&#39;s client would be a good idea. I appreciate your help anyway"},{"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"score":0,"creation_date":1699639741,"post_id":77431606,"comment_id":136561643,"body_markdown":"Check https://coap.space/impls.html for a list if implementations. And usually asking the projects on github may also have a chance, if you haven&#39;t done it so far. Unfortunately CoAPThon seems not to be very alive.","body":"Check <a href=\"https://coap.space/impls.html\" rel=\"nofollow noreferrer\">coap.space/impls.html</a> for a list if implementations. And usually asking the projects on github may also have a chance, if you haven&#39;t done it so far. Unfortunately CoAPThon seems not to be very alive."}],"owner":{"account_id":13205819,"reputation":39,"user_id":9537602,"display_name":"iGod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699278809,"creation_date":1699278809,"question_id":77431606,"body_markdown":"I&#39;m trying to connect a CoAP + DTLS client using Python&#39;s CoAPthon library to the CoAP Secure Server from one of the Eclipse Californium examples. Heres the server code:\r\n\r\n        /*******************************************************************************\r\n     * Copyright (c) 2015, 2017 Institute for Pervasive Computing, ETH Zurich and others.\r\n     * \r\n     * All rights reserved. This program and the accompanying materials\r\n     * are made available under the terms of the Eclipse Public License v2.0\r\n     * and Eclipse Distribution License v1.0 which accompany this distribution.\r\n     * \r\n     * The Eclipse Public License is available at\r\n     *    http://www.eclipse.org/legal/epl-v20.html\r\n     * and the Eclipse Distribution License is available at\r\n     *    http://www.eclipse.org/org/documents/edl-v10.html.\r\n     * \r\n     * Contributors:\r\n     *    Matthias Kovatsch - creator and main architect\r\n     *    Achim Kraus (Bosch Software Innovations GmbH) - use credentials util to setup\r\n     *                                                    DtlsConnectorConfig.Builder.\r\n     *    Bosch Software Innovations GmbH - migrate to SLF4J\r\n     ******************************************************************************/\r\n    package org.eclipse.californium.examples;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.security.GeneralSecurityException;\r\n    import java.security.cert.Certificate;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import org.eclipse.californium.core.CoapResource;\r\n    import org.eclipse.californium.core.CoapServer;\r\n    import org.eclipse.californium.core.coap.CoAP.ResponseCode;\r\n    import org.eclipse.californium.core.config.CoapConfig;\r\n    import org.eclipse.californium.core.network.CoapEndpoint;\r\n    import org.eclipse.californium.core.network.Endpoint;\r\n    import org.eclipse.californium.core.network.interceptors.MessageTracer;\r\n    import org.eclipse.californium.core.server.resources.CoapExchange;\r\n    import org.eclipse.californium.elements.config.Configuration;\r\n    import org.eclipse.californium.elements.config.Configuration.DefinitionsProvider;\r\n    import org.eclipse.californium.elements.util.SslContextUtil;\r\n    import org.eclipse.californium.examples.CredentialsUtil.Mode;\r\n    import org.eclipse.californium.scandium.DTLSConnector;\r\n    import org.eclipse.californium.scandium.MdcConnectionListener;\r\n    import org.eclipse.californium.scandium.config.DtlsConfig;\r\n    import org.eclipse.californium.scandium.config.DtlsConnectorConfig;\r\n    import org.eclipse.californium.scandium.config.DtlsConfig.DtlsRole;\r\n    import org.eclipse.californium.scandium.dtls.CertificateType;\r\n    import org.eclipse.californium.scandium.dtls.cipher.CipherSuite;\r\n    import org.eclipse.californium.scandium.dtls.x509.SingleCertificateProvider;\r\n    import org.eclipse.californium.scandium.dtls.x509.StaticNewAdvancedCertificateVerifier;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class SecureServer2 {\r\n    \tprivate static final char[] KEY_STORE_PASSWORD = &quot;endPass&quot;.toCharArray();\r\n    \tprivate static final String KEY_STORE_LOCATION = &quot;certs/keyStore.jks&quot;;\r\n    \tprivate static final char[] TRUST_STORE_PASSWORD = &quot;rootPass&quot;.toCharArray();\r\n    \tprivate static final String TRUST_STORE_LOCATION = &quot;certs/trustStore.jks&quot;;\r\n    \tprivate static final File CONFIG_FILE = new File(&quot;Californium3SecureServer.properties&quot;);\r\n    \tprivate static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for Secure Server&quot;;\r\n    \tprivate static final int DEFAULT_PORT = 5684;\r\n    \tprivate static final Logger LOG = LoggerFactory\r\n    \t\t\t.getLogger(SecureServer2.class.getName());\r\n    \tstatic {\r\n    \t\tCoapConfig.register();\r\n    \t\tDtlsConfig.register();\r\n    \t}\r\n    \r\n    \tprivate static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void applyDefinitions(Configuration config) {\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_ROLE, DtlsRole.SERVER_ONLY);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_RECOMMENDED_CIPHER_SUITES_ONLY, false);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_PRESELECTED_CIPHER_SUITES, CipherSuite.STRONG_ENCRYPTION_PREFERENCE);\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic static final List&lt;Mode&gt; SUPPORTED_MODES = Arrays.asList(Mode.PSK, Mode.ECDHE_PSK, Mode.RPK, Mode.X509,\r\n    \t\t\tMode.WANT_AUTH, Mode.NO_AUTH);\r\n    \r\n    \tpublic static void main(String[] args) throws IOException, GeneralSecurityException {\r\n    \r\n    \t\tSystem.out.println(&quot;Usage: java -jar ... [PSK] [ECDHE_PSK] [RPK] [X509] [WANT_AUTH|NO_AUTH]&quot;);\r\n    \t\tSystem.out.println(&quot;Default :            [PSK] [ECDHE_PSK] [RPK] [X509]&quot;);\r\n    \r\n    \t\tConfiguration configuration = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\r\n    \t\tConfiguration.setStandard(configuration);\r\n    \t\tint dtlsPort = configuration.get(CoapConfig.COAP_SECURE_PORT);\r\n    \r\n    \t\tCoapServer server = new CoapServer();\r\n    \t\tserver.add(new CoapResource(&quot;secure&quot;) {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void handleGET(CoapExchange exchange) {\r\n    \t\t\t\texchange.respond(ResponseCode.CONTENT, &quot;hello security23&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\r\n    \t\t\t// load the key store\r\n    \t\t\tSslContextUtil.Credentials serverCredentials = SslContextUtil.loadCredentials(\r\n    \t\t\t\t\tSslContextUtil.CLASSPATH_SCHEME + KEY_STORE_LOCATION, &quot;server&quot;, KEY_STORE_PASSWORD,\r\n    \t\t\t\t\tKEY_STORE_PASSWORD);\r\n    \t\t\t\r\n    \t\t\tCertificate[] trustedCertificates = SslContextUtil.loadTrustedCertificates(\r\n    \t\t\t\t\tSslContextUtil.CLASSPATH_SCHEME + TRUST_STORE_LOCATION, &quot;root&quot;, TRUST_STORE_PASSWORD);\r\n    \r\n    \t\t\tDtlsConnectorConfig.Builder builder = DtlsConnectorConfig.builder(configuration)\r\n    \t\t\t\t\t.setAddress(new InetSocketAddress(&quot;127.0.0.1&quot;,dtlsPort))\r\n    \t\t\t\t\t.setCertificateIdentityProvider(\r\n    \t\t\t\t\t\t\tnew SingleCertificateProvider(serverCredentials.getPrivateKey(), serverCredentials.getCertificateChain(), CertificateType.RAW_PUBLIC_KEY, CertificateType.X_509))\r\n    \t\t\t\t\t.setAdvancedCertificateVerifier(StaticNewAdvancedCertificateVerifier.builder()\r\n    \t\t\t\t\t\t\t.setTrustedCertificates(trustedCertificates).setTrustAllRPKs().build());\r\n    \r\n    \t\t\t\r\n    \r\n    \t\r\n    \t\tDTLSConnector connector = new DTLSConnector(builder.build());\r\n    \t\tCoapEndpoint.Builder coapBuilder = new CoapEndpoint.Builder()\r\n    \t\t\t\t.setConfiguration(configuration)\r\n    \t\t\t\t.setConnector(connector);\r\n    \t\t\r\n    \t\tserver.addEndpoint(coapBuilder.build());\r\n    \t\tserver.start();\r\n    \r\n    \t\t// add special interceptor for message traces\r\n    \t\tfor (Endpoint ep : server.getEndpoints()) {\r\n    \t\t\tep.addInterceptor(new MessageTracer());\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Secure CoAP server powered by Scandium (Sc) is listening on port &quot; + dtlsPort);\r\n    \t}\r\n    \r\n    }\r\nHere&#39;s the correspondent Client on java that is able to connect to this server:\r\n\r\n    /*******************************************************************************\r\n     * Copyright (c) 2015, 2017 Institute for Pervasive Computing, ETH Zurich and others.\r\n     * \r\n     * All rights reserved. This program and the accompanying materials\r\n     * are made available under the terms of the Eclipse Public License v2.0\r\n     * and Eclipse Distribution License v1.0 which accompany this distribution.\r\n     * \r\n     * The Eclipse Public License is available at\r\n     *    http://www.eclipse.org/legal/epl-v20.html\r\n     * and the Eclipse Distribution License is available at\r\n     *    http://www.eclipse.org/org/documents/edl-v10.html.\r\n     * \r\n     * Contributors:\r\n     *    Matthias Kovatsch - creator and main architect\r\n     *    Achim Kraus (Bosch Software Innovations GmbH) - use credentials util to setup\r\n     *                                                    DtlsConnectorConfig.Builder.\r\n     *    Bosch Software Innovations GmbH - migrate to SLF4J\r\n     ******************************************************************************/\r\n    package org.eclipse.californium.examples;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.Principal;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import org.eclipse.californium.core.CoapClient;\r\n    import org.eclipse.californium.core.CoapResponse;\r\n    import org.eclipse.californium.core.Utils;\r\n    import org.eclipse.californium.core.config.CoapConfig;\r\n    import org.eclipse.californium.core.network.CoapEndpoint;\r\n    import org.eclipse.californium.elements.DtlsEndpointContext;\r\n    import org.eclipse.californium.elements.EndpointContext;\r\n    import org.eclipse.californium.elements.config.Configuration;\r\n    import org.eclipse.californium.elements.config.Configuration.DefinitionsProvider;\r\n    import org.eclipse.californium.elements.exception.ConnectorException;\r\n    import org.eclipse.californium.examples.CredentialsUtil.Mode;\r\n    import org.eclipse.californium.scandium.DTLSConnector;\r\n    import org.eclipse.californium.scandium.config.DtlsConfig;\r\n    import org.eclipse.californium.scandium.config.DtlsConnectorConfig;\r\n    import org.eclipse.californium.scandium.config.DtlsConfig.DtlsRole;\r\n    import org.eclipse.californium.scandium.dtls.cipher.CipherSuite;\r\n    import org.eclipse.californium.scandium.dtls.pskstore.AdvancedSinglePskStore;\r\n    \r\n    public class SecureClient2 {\r\n    \tprivate static final File CONFIG_FILE = new File(&quot;Californium3SecureClient.properties&quot;);\r\n    \tprivate static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for Secure Client&quot;;\r\n    \r\n    \tstatic {\r\n    \t\tCoapConfig.register();\r\n    \t\tDtlsConfig.register();\r\n    \t}\r\n    \r\n    \tprivate static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void applyDefinitions(Configuration config) {\r\n    \t\t\tconfig.set(CoapConfig.MAX_ACTIVE_PEERS, 10);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_ROLE, DtlsRole.CLIENT_ONLY);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_USE_SERVER_NAME_INDICATION, false);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_RECOMMENDED_CIPHER_SUITES_ONLY, false);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_PRESELECTED_CIPHER_SUITES, CipherSuite.STRONG_ENCRYPTION_PREFERENCE);\r\n    \t\t\tconfig.setTransient(DtlsConfig.DTLS_CIPHER_SUITES);\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic static final List&lt;Mode&gt; SUPPORTED_MODES = Arrays.asList(Mode.PSK, Mode.ECDHE_PSK, Mode.RPK, Mode.X509,\r\n    \t\t\tMode.RPK_TRUST, Mode.X509_TRUST);\r\n    \tprivate static final String SERVER_URI = &quot;coaps://192.168.1.14:5684/secure&quot;;\r\n    \r\n    \tprivate final DTLSConnector dtlsConnector;\r\n    \tprivate final Configuration configuration;\r\n    \r\n    \tpublic SecureClient2(DTLSConnector dtlsConnector, Configuration configuration) {\r\n    \t\tthis.dtlsConnector = dtlsConnector;\r\n    \t\tthis.configuration = configuration;\r\n    \t}\r\n    \r\n    \tpublic void test() {\r\n    \t\tCoapResponse response = null;\r\n    \t\ttry {\r\n    \t\t\tURI uri = new URI(SERVER_URI);\r\n    \t\t\tCoapClient client = new CoapClient(uri);\r\n    \t\t\tCoapEndpoint.Builder builder = new CoapEndpoint.Builder()\r\n    \t\t\t\t\t.setConfiguration(configuration)\r\n    \t\t\t\t\t.setConnector(dtlsConnector);\r\n    \r\n    \t\t\tclient.setEndpoint(builder.build());\r\n    \t\t\tresponse = client.get();\r\n    \t\t\tclient.shutdown();\r\n    \t\t} catch (URISyntaxException e) {\r\n    \t\t\tSystem.err.println(&quot;Invalid URI: &quot; + e.getMessage());\r\n    \t\t\tSystem.exit(-1);\r\n    \t\t} catch (ConnectorException | IOException e) {\r\n    \t\t\tSystem.err.println(&quot;Error occurred while sending request: &quot; + e);\r\n    \t\t\tSystem.exit(-1);\r\n    \t\t}\r\n    \r\n    \t\tif (response != null) {\r\n    \r\n    \t\t\tSystem.out.println(response.getCode() + &quot; - &quot; + response.getCode().name());\r\n    \t\t\tSystem.out.println(response.getOptions());\r\n    \t\t\tSystem.out.println(response.getResponseText());\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tSystem.out.println(&quot;ADVANCED:&quot;);\r\n    \t\t\tEndpointContext context = response.advanced().getSourceContext();\r\n    \t\t\tPrincipal identity = context.getPeerIdentity();\r\n    \t\t\tif (identity != null) { \r\n    \t\t\t\tSystem.out.println(context.getPeerIdentity());\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;anonymous&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;CIPHER - &quot; + context.get(DtlsEndpointContext.KEY_CIPHER));\r\n    \t\t\tSystem.out.println(Utils.prettyPrint(response));\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;No response received.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tSystem.out.println(&quot;Usage: java -cp ... org.eclipse.californium.examples.SecureClient [PSK|ECDHE_PSK] [RPK|RPK_TRUST] [X509|X509_TRUST]&quot;);\r\n    \t\tSystem.out.println(&quot;Default:            [PSK] [RPK] [X509]&quot;);\r\n    \r\n    \t\tConfiguration configuration = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\r\n    \t\tConfiguration.setStandard(configuration);\r\n    \r\n    \t\tDtlsConnectorConfig.Builder builder = DtlsConnectorConfig.builder(configuration);\r\n    \t\tCredentialsUtil.setupCid(args, builder);\r\n    \t\tList&lt;Mode&gt; modes = CredentialsUtil.parse(args, CredentialsUtil.DEFAULT_CLIENT_MODES, SUPPORTED_MODES);\r\n    //\t\tif (modes.contains(CredentialsUtil.Mode.PSK) || modes.contains(CredentialsUtil.Mode.ECDHE_PSK)) {\r\n    //\t\t\tbuilder.setAdvancedPskStore(new AdvancedSinglePskStore(CredentialsUtil.OPEN_PSK_IDENTITY, CredentialsUtil.OPEN_PSK_SECRET));\r\n    //\t\t}\r\n    \t\tSystem.out.println(&quot;pass- &quot; +  CredentialsUtil.OPEN_PSK_IDENTITY + &quot; - &quot; + new String(CredentialsUtil.OPEN_PSK_SECRET, StandardCharsets.UTF_8));\r\n    \r\n    \t\tCredentialsUtil.setupCredentials(builder, CredentialsUtil.CLIENT_NAME, modes);\r\n    \t\t// uncomment next line to load pem file for the example\r\n    \t\t// CredentialsUtil.loadCredentials(builder, &quot;client.pem&quot;);\r\n    \t\tDTLSConnector dtlsConnector = new DTLSConnector(builder.build());\r\n    \r\n    \t\tSecureClient2 client = new SecureClient2(dtlsConnector, configuration);\r\n    \t\tclient.test();\r\n    \t}\r\n    }\r\n\r\nNow I&#39;m trying to connect to the server using this Python code that is based on CoAPton&#39;s [test_secure.py][1], more specifically the *test_ok_with_handshake_on_connect()* function:\r\n\r\n    #setup a client side DTLS socket\r\n    _sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\r\n    _sock.setsockopt(socket.SOL SOCKET, socket.so REUSEADDR, 1)\r\n    _sock.wrap_client( sock,cert_reqs=ssl.CERT_REQUIRED, ca_certs=&quot;./certificate.pem&quot;,do_handshake_on_connect=True,ciphers=&quot;SHA256&quot;)\r\n    client = HelperCIient(server=(host, port), sock=_sock)\r\n    request = Request()\r\n    request.destination = (host, port)\r\n    request.code = defines. Codes.GET.number\r\n    request.uri path = path\r\n    response = client. request)\r\n    response = client.get(path)\r\n    print(response.pretty_print())\r\n    client.stop()\r\nI generated the .pem file used on the python script from a keystone file provided on the Eclipse Californium repository ([demo_certs][2])\r\n\r\nI&#39;m rather new to this, I only need the python client and the eclipse server to share a certificate so that the connection is secure. When I run the Python code I get this info on the server side (13:11:51.704 INFO [] [ServerHandshaker]: Start certificate identity.) but nothing else. Can you help me? Thanks in advance.\r\n\r\n  [1]: https://github.com/Tanganelli/CoAPthon/blob/master/test_secure.py\r\n  [2]: https://github.com/eclipse-californium/californium/tree/main/demo-certs","title":"How to connect Python COAP + DTLS client to a Eclipse Californium&#39;s CoAP Secure Server?","body":"<p>I'm trying to connect a CoAP + DTLS client using Python's CoAPthon library to the CoAP Secure Server from one of the Eclipse Californium examples. Heres the server code:</p>\n<pre><code>    /*******************************************************************************\n * Copyright (c) 2015, 2017 Institute for Pervasive Computing, ETH Zurich and others.\n * \n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v2.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n * \n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v20.html\n * and the Eclipse Distribution License is available at\n *    http://www.eclipse.org/org/documents/edl-v10.html.\n * \n * Contributors:\n *    Matthias Kovatsch - creator and main architect\n *    Achim Kraus (Bosch Software Innovations GmbH) - use credentials util to setup\n *                                                    DtlsConnectorConfig.Builder.\n *    Bosch Software Innovations GmbH - migrate to SLF4J\n ******************************************************************************/\npackage org.eclipse.californium.examples;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.security.GeneralSecurityException;\nimport java.security.cert.Certificate;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.eclipse.californium.core.CoapResource;\nimport org.eclipse.californium.core.CoapServer;\nimport org.eclipse.californium.core.coap.CoAP.ResponseCode;\nimport org.eclipse.californium.core.config.CoapConfig;\nimport org.eclipse.californium.core.network.CoapEndpoint;\nimport org.eclipse.californium.core.network.Endpoint;\nimport org.eclipse.californium.core.network.interceptors.MessageTracer;\nimport org.eclipse.californium.core.server.resources.CoapExchange;\nimport org.eclipse.californium.elements.config.Configuration;\nimport org.eclipse.californium.elements.config.Configuration.DefinitionsProvider;\nimport org.eclipse.californium.elements.util.SslContextUtil;\nimport org.eclipse.californium.examples.CredentialsUtil.Mode;\nimport org.eclipse.californium.scandium.DTLSConnector;\nimport org.eclipse.californium.scandium.MdcConnectionListener;\nimport org.eclipse.californium.scandium.config.DtlsConfig;\nimport org.eclipse.californium.scandium.config.DtlsConnectorConfig;\nimport org.eclipse.californium.scandium.config.DtlsConfig.DtlsRole;\nimport org.eclipse.californium.scandium.dtls.CertificateType;\nimport org.eclipse.californium.scandium.dtls.cipher.CipherSuite;\nimport org.eclipse.californium.scandium.dtls.x509.SingleCertificateProvider;\nimport org.eclipse.californium.scandium.dtls.x509.StaticNewAdvancedCertificateVerifier;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class SecureServer2 {\n    private static final char[] KEY_STORE_PASSWORD = &quot;endPass&quot;.toCharArray();\n    private static final String KEY_STORE_LOCATION = &quot;certs/keyStore.jks&quot;;\n    private static final char[] TRUST_STORE_PASSWORD = &quot;rootPass&quot;.toCharArray();\n    private static final String TRUST_STORE_LOCATION = &quot;certs/trustStore.jks&quot;;\n    private static final File CONFIG_FILE = new File(&quot;Californium3SecureServer.properties&quot;);\n    private static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for Secure Server&quot;;\n    private static final int DEFAULT_PORT = 5684;\n    private static final Logger LOG = LoggerFactory\n            .getLogger(SecureServer2.class.getName());\n    static {\n        CoapConfig.register();\n        DtlsConfig.register();\n    }\n\n    private static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\n\n        @Override\n        public void applyDefinitions(Configuration config) {\n            config.set(DtlsConfig.DTLS_ROLE, DtlsRole.SERVER_ONLY);\n            config.set(DtlsConfig.DTLS_RECOMMENDED_CIPHER_SUITES_ONLY, false);\n            config.set(DtlsConfig.DTLS_PRESELECTED_CIPHER_SUITES, CipherSuite.STRONG_ENCRYPTION_PREFERENCE);\n        }\n    };\n\n    public static final List&lt;Mode&gt; SUPPORTED_MODES = Arrays.asList(Mode.PSK, Mode.ECDHE_PSK, Mode.RPK, Mode.X509,\n            Mode.WANT_AUTH, Mode.NO_AUTH);\n\n    public static void main(String[] args) throws IOException, GeneralSecurityException {\n\n        System.out.println(&quot;Usage: java -jar ... [PSK] [ECDHE_PSK] [RPK] [X509] [WANT_AUTH|NO_AUTH]&quot;);\n        System.out.println(&quot;Default :            [PSK] [ECDHE_PSK] [RPK] [X509]&quot;);\n\n        Configuration configuration = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\n        Configuration.setStandard(configuration);\n        int dtlsPort = configuration.get(CoapConfig.COAP_SECURE_PORT);\n\n        CoapServer server = new CoapServer();\n        server.add(new CoapResource(&quot;secure&quot;) {\n\n            @Override\n            public void handleGET(CoapExchange exchange) {\n                exchange.respond(ResponseCode.CONTENT, &quot;hello security23&quot;);\n            }\n        });\n    \n            // load the key store\n            SslContextUtil.Credentials serverCredentials = SslContextUtil.loadCredentials(\n                    SslContextUtil.CLASSPATH_SCHEME + KEY_STORE_LOCATION, &quot;server&quot;, KEY_STORE_PASSWORD,\n                    KEY_STORE_PASSWORD);\n            \n            Certificate[] trustedCertificates = SslContextUtil.loadTrustedCertificates(\n                    SslContextUtil.CLASSPATH_SCHEME + TRUST_STORE_LOCATION, &quot;root&quot;, TRUST_STORE_PASSWORD);\n\n            DtlsConnectorConfig.Builder builder = DtlsConnectorConfig.builder(configuration)\n                    .setAddress(new InetSocketAddress(&quot;127.0.0.1&quot;,dtlsPort))\n                    .setCertificateIdentityProvider(\n                            new SingleCertificateProvider(serverCredentials.getPrivateKey(), serverCredentials.getCertificateChain(), CertificateType.RAW_PUBLIC_KEY, CertificateType.X_509))\n                    .setAdvancedCertificateVerifier(StaticNewAdvancedCertificateVerifier.builder()\n                            .setTrustedCertificates(trustedCertificates).setTrustAllRPKs().build());\n\n            \n\n    \n        DTLSConnector connector = new DTLSConnector(builder.build());\n        CoapEndpoint.Builder coapBuilder = new CoapEndpoint.Builder()\n                .setConfiguration(configuration)\n                .setConnector(connector);\n        \n        server.addEndpoint(coapBuilder.build());\n        server.start();\n\n        // add special interceptor for message traces\n        for (Endpoint ep : server.getEndpoints()) {\n            ep.addInterceptor(new MessageTracer());\n        }\n\n        System.out.println(&quot;Secure CoAP server powered by Scandium (Sc) is listening on port &quot; + dtlsPort);\n    }\n\n}\n</code></pre>\n<p>Here's the correspondent Client on java that is able to connect to this server:</p>\n<pre><code>/*******************************************************************************\n * Copyright (c) 2015, 2017 Institute for Pervasive Computing, ETH Zurich and others.\n * \n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v2.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n * \n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v20.html\n * and the Eclipse Distribution License is available at\n *    http://www.eclipse.org/org/documents/edl-v10.html.\n * \n * Contributors:\n *    Matthias Kovatsch - creator and main architect\n *    Achim Kraus (Bosch Software Innovations GmbH) - use credentials util to setup\n *                                                    DtlsConnectorConfig.Builder.\n *    Bosch Software Innovations GmbH - migrate to SLF4J\n ******************************************************************************/\npackage org.eclipse.californium.examples;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.Principal;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.eclipse.californium.core.CoapClient;\nimport org.eclipse.californium.core.CoapResponse;\nimport org.eclipse.californium.core.Utils;\nimport org.eclipse.californium.core.config.CoapConfig;\nimport org.eclipse.californium.core.network.CoapEndpoint;\nimport org.eclipse.californium.elements.DtlsEndpointContext;\nimport org.eclipse.californium.elements.EndpointContext;\nimport org.eclipse.californium.elements.config.Configuration;\nimport org.eclipse.californium.elements.config.Configuration.DefinitionsProvider;\nimport org.eclipse.californium.elements.exception.ConnectorException;\nimport org.eclipse.californium.examples.CredentialsUtil.Mode;\nimport org.eclipse.californium.scandium.DTLSConnector;\nimport org.eclipse.californium.scandium.config.DtlsConfig;\nimport org.eclipse.californium.scandium.config.DtlsConnectorConfig;\nimport org.eclipse.californium.scandium.config.DtlsConfig.DtlsRole;\nimport org.eclipse.californium.scandium.dtls.cipher.CipherSuite;\nimport org.eclipse.californium.scandium.dtls.pskstore.AdvancedSinglePskStore;\n\npublic class SecureClient2 {\n    private static final File CONFIG_FILE = new File(&quot;Californium3SecureClient.properties&quot;);\n    private static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for Secure Client&quot;;\n\n    static {\n        CoapConfig.register();\n        DtlsConfig.register();\n    }\n\n    private static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\n\n        @Override\n        public void applyDefinitions(Configuration config) {\n            config.set(CoapConfig.MAX_ACTIVE_PEERS, 10);\n            config.set(DtlsConfig.DTLS_ROLE, DtlsRole.CLIENT_ONLY);\n            config.set(DtlsConfig.DTLS_USE_SERVER_NAME_INDICATION, false);\n            config.set(DtlsConfig.DTLS_RECOMMENDED_CIPHER_SUITES_ONLY, false);\n            config.set(DtlsConfig.DTLS_PRESELECTED_CIPHER_SUITES, CipherSuite.STRONG_ENCRYPTION_PREFERENCE);\n            config.setTransient(DtlsConfig.DTLS_CIPHER_SUITES);\n        }\n    };\n\n    public static final List&lt;Mode&gt; SUPPORTED_MODES = Arrays.asList(Mode.PSK, Mode.ECDHE_PSK, Mode.RPK, Mode.X509,\n            Mode.RPK_TRUST, Mode.X509_TRUST);\n    private static final String SERVER_URI = &quot;coaps://192.168.1.14:5684/secure&quot;;\n\n    private final DTLSConnector dtlsConnector;\n    private final Configuration configuration;\n\n    public SecureClient2(DTLSConnector dtlsConnector, Configuration configuration) {\n        this.dtlsConnector = dtlsConnector;\n        this.configuration = configuration;\n    }\n\n    public void test() {\n        CoapResponse response = null;\n        try {\n            URI uri = new URI(SERVER_URI);\n            CoapClient client = new CoapClient(uri);\n            CoapEndpoint.Builder builder = new CoapEndpoint.Builder()\n                    .setConfiguration(configuration)\n                    .setConnector(dtlsConnector);\n\n            client.setEndpoint(builder.build());\n            response = client.get();\n            client.shutdown();\n        } catch (URISyntaxException e) {\n            System.err.println(&quot;Invalid URI: &quot; + e.getMessage());\n            System.exit(-1);\n        } catch (ConnectorException | IOException e) {\n            System.err.println(&quot;Error occurred while sending request: &quot; + e);\n            System.exit(-1);\n        }\n\n        if (response != null) {\n\n            System.out.println(response.getCode() + &quot; - &quot; + response.getCode().name());\n            System.out.println(response.getOptions());\n            System.out.println(response.getResponseText());\n            System.out.println();\n            System.out.println(&quot;ADVANCED:&quot;);\n            EndpointContext context = response.advanced().getSourceContext();\n            Principal identity = context.getPeerIdentity();\n            if (identity != null) { \n                System.out.println(context.getPeerIdentity());\n            } else {\n                System.out.println(&quot;anonymous&quot;);\n            }\n            System.out.println(&quot;CIPHER - &quot; + context.get(DtlsEndpointContext.KEY_CIPHER));\n            System.out.println(Utils.prettyPrint(response));\n        } else {\n            System.out.println(&quot;No response received.&quot;);\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        System.out.println(&quot;Usage: java -cp ... org.eclipse.californium.examples.SecureClient [PSK|ECDHE_PSK] [RPK|RPK_TRUST] [X509|X509_TRUST]&quot;);\n        System.out.println(&quot;Default:            [PSK] [RPK] [X509]&quot;);\n\n        Configuration configuration = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\n        Configuration.setStandard(configuration);\n\n        DtlsConnectorConfig.Builder builder = DtlsConnectorConfig.builder(configuration);\n        CredentialsUtil.setupCid(args, builder);\n        List&lt;Mode&gt; modes = CredentialsUtil.parse(args, CredentialsUtil.DEFAULT_CLIENT_MODES, SUPPORTED_MODES);\n//      if (modes.contains(CredentialsUtil.Mode.PSK) || modes.contains(CredentialsUtil.Mode.ECDHE_PSK)) {\n//          builder.setAdvancedPskStore(new AdvancedSinglePskStore(CredentialsUtil.OPEN_PSK_IDENTITY, CredentialsUtil.OPEN_PSK_SECRET));\n//      }\n        System.out.println(&quot;pass- &quot; +  CredentialsUtil.OPEN_PSK_IDENTITY + &quot; - &quot; + new String(CredentialsUtil.OPEN_PSK_SECRET, StandardCharsets.UTF_8));\n\n        CredentialsUtil.setupCredentials(builder, CredentialsUtil.CLIENT_NAME, modes);\n        // uncomment next line to load pem file for the example\n        // CredentialsUtil.loadCredentials(builder, &quot;client.pem&quot;);\n        DTLSConnector dtlsConnector = new DTLSConnector(builder.build());\n\n        SecureClient2 client = new SecureClient2(dtlsConnector, configuration);\n        client.test();\n    }\n}\n</code></pre>\n<p>Now I'm trying to connect to the server using this Python code that is based on CoAPton's <a href=\"https://github.com/Tanganelli/CoAPthon/blob/master/test_secure.py\" rel=\"nofollow noreferrer\">test_secure.py</a>, more specifically the <em>test_ok_with_handshake_on_connect()</em> function:</p>\n<pre><code>#setup a client side DTLS socket\n_sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\n_sock.setsockopt(socket.SOL SOCKET, socket.so REUSEADDR, 1)\n_sock.wrap_client( sock,cert_reqs=ssl.CERT_REQUIRED, ca_certs=&quot;./certificate.pem&quot;,do_handshake_on_connect=True,ciphers=&quot;SHA256&quot;)\nclient = HelperCIient(server=(host, port), sock=_sock)\nrequest = Request()\nrequest.destination = (host, port)\nrequest.code = defines. Codes.GET.number\nrequest.uri path = path\nresponse = client. request)\nresponse = client.get(path)\nprint(response.pretty_print())\nclient.stop()\n</code></pre>\n<p>I generated the .pem file used on the python script from a keystone file provided on the Eclipse Californium repository (<a href=\"https://github.com/eclipse-californium/californium/tree/main/demo-certs\" rel=\"nofollow noreferrer\">demo_certs</a>)</p>\n<p>I'm rather new to this, I only need the python client and the eclipse server to share a certificate so that the connection is secure. When I run the Python code I get this info on the server side (13:11:51.704 INFO [] [ServerHandshaker]: Start certificate identity.) but nothing else. Can you help me? Thanks in advance.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":12766164,"reputation":467,"user_id":10789874,"display_name":"Shivam Papat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648825494,"creation_date":1648825494,"answer_id":71709046,"question_id":71708679,"body_markdown":"Yes there is.\r\nWhen you compile your java file with\r\n\r\n    javac file.java\r\n\r\nThis  default stores *.class* of that file in same folder.\r\n\r\nTo store *.class* in different folder use -d paramter with javac as:\r\n\r\n    javac file.java -d &quot;Path&quot;\r\n\r\nFor ex:\r\n\r\n    javac file.java -d &quot;D:/Classes&quot;\r\n\r\nThen while running the files you have to set classpath so that JVM will search class files in that folder:\r\n\r\n    java -classpath &quot;D:/Classes&quot; file\r\n\r\nFYI:\r\nIf your file name is say **Test.java** and when you run javac, **Test.class** gets created at the path mentioned.","title":"How to separate the .java and .class file in Vs Code?","body":"<p>Yes there is.\nWhen you compile your java file with</p>\n<pre><code>javac file.java\n</code></pre>\n<p>This  default stores <em>.class</em> of that file in same folder.</p>\n<p>To store <em>.class</em> in different folder use -d paramter with javac as:</p>\n<pre><code>javac file.java -d &quot;Path&quot;\n</code></pre>\n<p>For ex:</p>\n<pre><code>javac file.java -d &quot;D:/Classes&quot;\n</code></pre>\n<p>Then while running the files you have to set classpath so that JVM will search class files in that folder:</p>\n<pre><code>java -classpath &quot;D:/Classes&quot; file\n</code></pre>\n<p>FYI:\nIf your file name is say <strong>Test.java</strong> and when you run javac, <strong>Test.class</strong> gets created at the path mentioned.</p>\n"},{"tags":[],"owner":{"account_id":24341266,"reputation":1,"user_id":18278654,"display_name":"lNoelia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648825526,"creation_date":1648825526,"answer_id":71709056,"question_id":71708679,"body_markdown":"You can change the path where your .class is created following the next steps:\r\n\r\n * File -&gt; Preferences -&gt;Settings \r\n * Write java.output on the search bar and it should show you &quot;Java &gt; Project : Output Path.\r\n * Click on edit in setting.json and write the new path where you want your .class to be generated.","title":"How to separate the .java and .class file in Vs Code?","body":"<p>You can change the path where your .class is created following the next steps:</p>\n<ul>\n<li>File -&gt; Preferences -&gt;Settings</li>\n<li>Write java.output on the search bar and it should show you &quot;Java &gt; Project : Output Path.</li>\n<li>Click on edit in setting.json and write the new path where you want your .class to be generated.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":23326638,"reputation":1,"user_id":17403718,"display_name":"Jyoti Prakash"},"score":0,"creation_date":1648915405,"post_id":71709073,"comment_id":126746229,"body_markdown":"No i didn&#39;t compiled manually\nI just used the extensions","body":"No i didn&#39;t compiled manually I just used the extensions"},{"owner":{"account_id":24762165,"reputation":31,"user_id":18646425,"display_name":"neozero"},"score":0,"creation_date":1648989651,"post_id":71709073,"comment_id":126757489,"body_markdown":"Have you been able to solve the problem ?","body":"Have you been able to solve the problem ?"}],"tags":[],"owner":{"account_id":24762165,"reputation":31,"user_id":18646425,"display_name":"neozero"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648825602,"creation_date":1648825602,"answer_id":71709073,"question_id":71708679,"body_markdown":"Do you compile manually with command line javac ?\r\nIf so you can make a bash script (if you are on linux) that move all class file to another directory after compilation.\r\n\r\nSomething like:\r\n\r\n    mv *.class destination/\r\n\r\nI think you have similar command on windows.\r\n\r\nIn vscode you can can then configure your launch.json to execute that command as well as the compilation one.","title":"How to separate the .java and .class file in Vs Code?","body":"<p>Do you compile manually with command line javac ?\nIf so you can make a bash script (if you are on linux) that move all class file to another directory after compilation.</p>\n<p>Something like:</p>\n<pre><code>mv *.class destination/\n</code></pre>\n<p>I think you have similar command on windows.</p>\n<p>In vscode you can can then configure your launch.json to execute that command as well as the compilation one.</p>\n"},{"tags":[],"owner":{"account_id":29130530,"reputation":1,"user_id":22315911,"display_name":"DIVYANSH KUMAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699278711,"creation_date":1699278711,"answer_id":77431591,"question_id":71708679,"body_markdown":"1. Create a project folder. eg. Test-Project\r\n2. Create src file in Test-Project. (You can name in what ever you want.)\r\n3. Create .vscode/settings.json in Test-project\r\n4. Write this in settings.json\r\n\t- `{\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;\r\n}`\r\n\r\n\r\n**Note**: Remember to use Run java instead of Run Code when compiling and running.\r\nThis will automatically create bin folder and put the .class files inside it for every new class.\r\n\r\n\r\n----------\r\n\r\n\r\nI did a lot of digging on the internet and finally came up with this solution:)\r\nThank you.\r\n\r\n","title":"How to separate the .java and .class file in Vs Code?","body":"<ol>\n<li>Create a project folder. eg. Test-Project</li>\n<li>Create src file in Test-Project. (You can name in what ever you want.)</li>\n<li>Create .vscode/settings.json in Test-project</li>\n<li>Write this in settings.json\n<ul>\n<li><code>{ &quot;java.project.outputPath&quot;: &quot;bin&quot; }</code></li>\n</ul>\n</li>\n</ol>\n<p><strong>Note</strong>: Remember to use Run java instead of Run Code when compiling and running.\nThis will automatically create bin folder and put the .class files inside it for every new class.</p>\n<hr />\n<p>I did a lot of digging on the internet and finally came up with this solution:)\nThank you.</p>\n"}],"owner":{"account_id":23326638,"reputation":1,"user_id":17403718,"display_name":"Jyoti Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1699278711,"creation_date":1648823917,"question_id":71708679,"body_markdown":"# \r\n\r\n**When we compile a java code the .class file is created in the same place where the source code is .  Is there a way like when we compile a java code the .class file file will be formed in a different folder**\r\n\r\nI tried creating projects and then writing the code but it didn&#39;t work\r\n\r\n\r\n***\r\n\r\n***Edit: The problem is solved. I created a java project in VS Code then the source code is in src folder and the .class file is in bin folder. Thank You everyone....***\r\n\r\n***","title":"How to separate the .java and .class file in Vs Code?","body":"<h1></h1>\n<p><strong>When we compile a java code the .class file is created in the same place where the source code is .  Is there a way like when we compile a java code the .class file file will be formed in a different folder</strong></p>\n<p>I tried creating projects and then writing the code but it didn't work</p>\n<hr />\n<p><em><strong>Edit: The problem is solved. I created a java project in VS Code then the source code is in src folder and the .class file is in bin folder. Thank You everyone....</strong></em></p>\n<hr />\n"},{"tags":["java","spring","testing"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1699279119,"post_id":77431566,"comment_id":136507826,"body_markdown":"Other than testing the mapping from one type to the other, how else would the custom matcher be used?  At a glance, it doesn&#39;t appear the custom matcher is needed.  In the mapping test, have a **separate** test for each mapped field.","body":"Other than testing the mapping from one type to the other, how else would the custom matcher be used?  At a glance, it doesn&#39;t appear the custom matcher is needed.  In the mapping test, have a <b>separate</b> test for each mapped field."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1699282496,"post_id":77431566,"comment_id":136508631,"body_markdown":"@AndrewS In the integration tests, I test the REST API endpoints which always return a DTO. In the unit tests I test mainly the service layer that converts the domain model returned by the command pattern operations (commands return domain models) into DTOs. I suppose that extensive and precise unit testing of the command pattern (it&#39;s responsible for business logic) and testing just the conversion in the service layer would be okay for the unit tests? What about integration tests when I get a `ResponseEntity&lt;ExampleDTO&gt;` as a response? Do I convert that to domain model and use the matcher?","body":"@AndrewS In the integration tests, I test the REST API endpoints which always return a DTO. In the unit tests I test mainly the service layer that converts the domain model returned by the command pattern operations (commands return domain models) into DTOs. I suppose that extensive and precise unit testing of the command pattern (it&#39;s responsible for business logic) and testing just the conversion in the service layer would be okay for the unit tests? What about integration tests when I get a <code>ResponseEntity&lt;ExampleDTO&gt;</code> as a response? Do I convert that to domain model and use the matcher?"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699278494,"creation_date":1699278494,"question_id":77431566,"body_markdown":"I have 2 custom matchers (extending AssertJ&#39;s `AbstractAssert`) for a model, and for its DTO object. I wonder if there&#39;s a better way to do that.\r\n\r\nThere&#39;s a domain model class `Example`:\r\n```\r\npublic class Example {\r\n\r\n    private Long id;\r\n    private String value;\r\n}\r\n```\r\n\r\nAnd there&#39;s its DTO class that is returned as a response in REST requests:\r\n```\r\npublic class ExampleDTO {\r\n\r\n    private String value;\r\n}\r\n```\r\n\r\nI&#39;ve created custom matchers for these classes to facilitate testing. But I have trouble with code duplication. Here&#39;s a custom matcher for `Example` class:\r\n```\r\npublic class ExampleAssert extends AbstractAssert&lt;ExampleAssert, Example&gt; {\r\n    \r\n    // some boilerplate code\r\n\r\n    public ExampleAssert hasValue(String expected) {\r\n        Assertions.assertThat(actual.getValue).isEqualTo(expected);\r\n        return this;\r\n    }\r\n}\r\n```\r\nYou will notice that the custom matcher class for the DTO is pretty much the duplication of the above.\r\n```\r\npublic class ExampleDTOAssert extends AbstractAssert&lt;ExampleDTOAssert, ExampleDTO&gt; {\r\n    \r\n    // some boilerplate code\r\n\r\n    public ExampleDTOAssert hasValue(String expected) {\r\n        Assertions.assertThat(actual.getValue).isEqualTo(expected);\r\n        return this;\r\n    }\r\n}\r\n```\r\nI could really use your help to simplify it. Two things that come into my mind:\r\n* inheritence (feels like a code smell though)\r\n* converting one model to the other and use one of the matchers (still a code smell!)","title":"Separate custom matchers: one for DTO, one for domain model","body":"<p>I have 2 custom matchers (extending AssertJ's <code>AbstractAssert</code>) for a model, and for its DTO object. I wonder if there's a better way to do that.</p>\n<p>There's a domain model class <code>Example</code>:</p>\n<pre><code>public class Example {\n\n    private Long id;\n    private String value;\n}\n</code></pre>\n<p>And there's its DTO class that is returned as a response in REST requests:</p>\n<pre><code>public class ExampleDTO {\n\n    private String value;\n}\n</code></pre>\n<p>I've created custom matchers for these classes to facilitate testing. But I have trouble with code duplication. Here's a custom matcher for <code>Example</code> class:</p>\n<pre><code>public class ExampleAssert extends AbstractAssert&lt;ExampleAssert, Example&gt; {\n    \n    // some boilerplate code\n\n    public ExampleAssert hasValue(String expected) {\n        Assertions.assertThat(actual.getValue).isEqualTo(expected);\n        return this;\n    }\n}\n</code></pre>\n<p>You will notice that the custom matcher class for the DTO is pretty much the duplication of the above.</p>\n<pre><code>public class ExampleDTOAssert extends AbstractAssert&lt;ExampleDTOAssert, ExampleDTO&gt; {\n    \n    // some boilerplate code\n\n    public ExampleDTOAssert hasValue(String expected) {\n        Assertions.assertThat(actual.getValue).isEqualTo(expected);\n        return this;\n    }\n}\n</code></pre>\n<p>I could really use your help to simplify it. Two things that come into my mind:</p>\n<ul>\n<li>inheritence (feels like a code smell though)</li>\n<li>converting one model to the other and use one of the matchers (still a code smell!)</li>\n</ul>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":29838336,"reputation":1,"user_id":22867220,"display_name":"deepparmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699278478,"creation_date":1699278478,"question_id":77431563,"body_markdown":"here are my mysql table named employee definition\r\n```\r\n\r\nCREATE TABLE `employee` (\r\n  `EmployeeId` int NOT NULL,\r\n  `LastName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\r\n  `FirstName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\r\n  `Title` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `ReportsTo` int DEFAULT NULL,\r\n  `BirthDate` datetime DEFAULT NULL,\r\n  `HireDate` datetime DEFAULT NULL,\r\n  `Address` varchar(70) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `City` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `State` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Country` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `PostalCode` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Phone` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Fax` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Email` varchar(60) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  PRIMARY KEY (`EmployeeId`),\r\n  KEY `IFK_EmployeeReportsTo` (`ReportsTo`),\r\n  CONSTRAINT `FK_EmployeeReportsTo` FOREIGN KEY (`ReportsTo`) REFERENCES `employee` (`EmployeeId`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\r\n```\r\n\r\n\r\nhere is my model class\r\n\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\n\r\n@Entity\r\n@Table(name = &quot;employee&quot;)\r\n@Data\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Employee_Model {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;EmployeeId&quot;)\r\n    Integer id;\r\n\r\n    @Column(name = &quot;FirstName&quot;)\r\n    String FirstName;\r\n\r\n    @Column(name = &quot;LastName&quot;)\r\n    String LastName;\r\n\r\n    @Column(name = &quot;Title&quot;)\r\n    String Title;\r\n\r\n    @Column(name = &quot;ReportsTo&quot;)\r\n    Integer ReportsTo;\r\n\r\n    @Column(name = &quot;BirthDate&quot;)\r\n    LocalDateTime BirthDate;\r\n\r\n    @Column(name = &quot;HireDate&quot;)\r\n    LocalDateTime HireDate;\r\n\r\n    @Column(name = &quot;Address&quot;)\r\n    String Address;\r\n\r\n    @Column(name = &quot;City&quot;)\r\n    String City;\r\n    @Column(name = &quot;State&quot;)\r\n    String State;\r\n    @Column(name = &quot;Country&quot;)\r\n    String Country;\r\n\r\n    @Column(name = &quot;PostalCode&quot;)\r\n    String PostalCode;\r\n    @Column(name = &quot;Phone&quot;)\r\n    String Phone;\r\n    @Column(name = &quot;Fax&quot;)\r\n    String Fax;\r\n    @Column(name = &quot;Email&quot;)\r\n    String Email;\r\n}\r\n```\r\n\r\nwhen i hit endpoint it gives me below output \r\n\r\n```\r\n {\r\n        &quot;id&quot;: 0,\r\n        &quot;state&quot;: &quot;AB&quot;,\r\n        &quot;address&quot;: &quot;11120 Jasper Ave NW&quot;,\r\n        &quot;country&quot;: &quot;Canada&quot;,\r\n        &quot;lastName&quot;: null,\r\n        &quot;firstName&quot;: null,\r\n        &quot;city&quot;: &quot;Edmonton&quot;,\r\n        &quot;postalCode&quot;: null,\r\n        &quot;phone&quot;: &quot;+1 (780) 428-9482&quot;,\r\n        &quot;fax&quot;: &quot;+1 (780) 428-3457&quot;,\r\n        &quot;email&quot;: &quot;andrew@chinookcorp.com&quot;,\r\n        &quot;reportsTo&quot;: null,\r\n        &quot;title&quot;: &quot;General Manager&quot;,\r\n        &quot;birthDate&quot;: null,\r\n        &quot;hireDate&quot;: null\r\n    }\r\n```\r\n\r\nI could not understand why it gives me null in certain fields although data is avallible in database and also change databse table structure like below\r\n\r\n```\r\nCREATE TABLE `employee` (\r\n  `EmployeeId` int NOT NULL,\r\n  `LastName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\r\n  `FirstName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\r\n  `Title` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `ReportsTo` int DEFAULT NULL,\r\n  `BirthDate` datetime DEFAULT NULL,\r\n  `HireDate` datetime DEFAULT NULL,\r\n  `Address` varchar(70) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `City` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `State` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Country` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `PostalCode` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Phone` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Fax` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Email` varchar(60) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `employee_id` int NOT NULL,\r\n  `birth_date` datetime DEFAULT NULL,\r\n  `first_name` varchar(255) DEFAULT NULL,\r\n  `hire_date` datetime DEFAULT NULL,\r\n  `last_name` varchar(255) DEFAULT NULL,\r\n  `postal_code` varchar(255) DEFAULT NULL,\r\n  `reports_to` int DEFAULT NULL,\r\n  `id` int NOT NULL,\r\n  PRIMARY KEY (`EmployeeId`),\r\n  KEY `IFK_EmployeeReportsTo` (`ReportsTo`),\r\n  CONSTRAINT `FK_EmployeeReportsTo` FOREIGN KEY (`ReportsTo`) REFERENCES `employee` (`EmployeeId`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci \r\n```\r\n\r\n\r\nbut when i change the value of name attribute of @Column annotation of the fields that gives me null to the lowercase letter it is working fine like this\r\n\r\n@Column(name = &quot;birthdate&quot;)\r\nLocalDateTime BirthDate;\r\n\r\n@Column(name = &quot;FirstName&quot;)\r\nString FirstName;\r\n\r\ncan you explain me how it is working?\r\n\r\n**how hibernte naming strategie working ?**\r\n**why it is giving me null values in certin fields?**\r\n**if i change those column name to lower case why it is working fine?**","title":"Mapping issue Spring Model class automatic generating column and returned null as column value","body":"<p>here are my mysql table named employee definition</p>\n<pre><code>\nCREATE TABLE `employee` (\n  `EmployeeId` int NOT NULL,\n  `LastName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\n  `FirstName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\n  `Title` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `ReportsTo` int DEFAULT NULL,\n  `BirthDate` datetime DEFAULT NULL,\n  `HireDate` datetime DEFAULT NULL,\n  `Address` varchar(70) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `City` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `State` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Country` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `PostalCode` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Phone` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Fax` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Email` varchar(60) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  PRIMARY KEY (`EmployeeId`),\n  KEY `IFK_EmployeeReportsTo` (`ReportsTo`),\n  CONSTRAINT `FK_EmployeeReportsTo` FOREIGN KEY (`ReportsTo`) REFERENCES `employee` (`EmployeeId`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n</code></pre>\n<p>here is my model class</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = &quot;employee&quot;)\n@Data\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Employee_Model {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;EmployeeId&quot;)\n    Integer id;\n\n    @Column(name = &quot;FirstName&quot;)\n    String FirstName;\n\n    @Column(name = &quot;LastName&quot;)\n    String LastName;\n\n    @Column(name = &quot;Title&quot;)\n    String Title;\n\n    @Column(name = &quot;ReportsTo&quot;)\n    Integer ReportsTo;\n\n    @Column(name = &quot;BirthDate&quot;)\n    LocalDateTime BirthDate;\n\n    @Column(name = &quot;HireDate&quot;)\n    LocalDateTime HireDate;\n\n    @Column(name = &quot;Address&quot;)\n    String Address;\n\n    @Column(name = &quot;City&quot;)\n    String City;\n    @Column(name = &quot;State&quot;)\n    String State;\n    @Column(name = &quot;Country&quot;)\n    String Country;\n\n    @Column(name = &quot;PostalCode&quot;)\n    String PostalCode;\n    @Column(name = &quot;Phone&quot;)\n    String Phone;\n    @Column(name = &quot;Fax&quot;)\n    String Fax;\n    @Column(name = &quot;Email&quot;)\n    String Email;\n}\n</code></pre>\n<p>when i hit endpoint it gives me below output</p>\n<pre><code> {\n        &quot;id&quot;: 0,\n        &quot;state&quot;: &quot;AB&quot;,\n        &quot;address&quot;: &quot;11120 Jasper Ave NW&quot;,\n        &quot;country&quot;: &quot;Canada&quot;,\n        &quot;lastName&quot;: null,\n        &quot;firstName&quot;: null,\n        &quot;city&quot;: &quot;Edmonton&quot;,\n        &quot;postalCode&quot;: null,\n        &quot;phone&quot;: &quot;+1 (780) 428-9482&quot;,\n        &quot;fax&quot;: &quot;+1 (780) 428-3457&quot;,\n        &quot;email&quot;: &quot;andrew@chinookcorp.com&quot;,\n        &quot;reportsTo&quot;: null,\n        &quot;title&quot;: &quot;General Manager&quot;,\n        &quot;birthDate&quot;: null,\n        &quot;hireDate&quot;: null\n    }\n</code></pre>\n<p>I could not understand why it gives me null in certain fields although data is avallible in database and also change databse table structure like below</p>\n<pre><code>CREATE TABLE `employee` (\n  `EmployeeId` int NOT NULL,\n  `LastName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\n  `FirstName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\n  `Title` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `ReportsTo` int DEFAULT NULL,\n  `BirthDate` datetime DEFAULT NULL,\n  `HireDate` datetime DEFAULT NULL,\n  `Address` varchar(70) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `City` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `State` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Country` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `PostalCode` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Phone` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Fax` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Email` varchar(60) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `employee_id` int NOT NULL,\n  `birth_date` datetime DEFAULT NULL,\n  `first_name` varchar(255) DEFAULT NULL,\n  `hire_date` datetime DEFAULT NULL,\n  `last_name` varchar(255) DEFAULT NULL,\n  `postal_code` varchar(255) DEFAULT NULL,\n  `reports_to` int DEFAULT NULL,\n  `id` int NOT NULL,\n  PRIMARY KEY (`EmployeeId`),\n  KEY `IFK_EmployeeReportsTo` (`ReportsTo`),\n  CONSTRAINT `FK_EmployeeReportsTo` FOREIGN KEY (`ReportsTo`) REFERENCES `employee` (`EmployeeId`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci \n</code></pre>\n<p>but when i change the value of name attribute of @Column annotation of the fields that gives me null to the lowercase letter it is working fine like this</p>\n<p>@Column(name = &quot;birthdate&quot;)\nLocalDateTime BirthDate;</p>\n<p>@Column(name = &quot;FirstName&quot;)\nString FirstName;</p>\n<p>can you explain me how it is working?</p>\n<p><strong>how hibernte naming strategie working ?</strong>\n<strong>why it is giving me null values in certin fields?</strong>\n<strong>if i change those column name to lower case why it is working fine?</strong></p>\n"},{"tags":["java","multithreading","apache-camel"],"owner":{"account_id":16640921,"reputation":1,"user_id":12026478,"display_name":"pearowaty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699278392,"creation_date":1699278392,"question_id":77431550,"body_markdown":"I created new apache camel route scheduler and I want to be invoked by multiple threads on an interval. want to execute x number of threads. I am unsure how to go about it\r\n\r\n    public class TestRoute extends RouteBuilder {\r\n\r\n    private TestProperties properties;\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;scheduler://testScheduler&quot; +\r\n            &quot;?delay=5000&quot; +\r\n            &quot;&amp;poolSize=3&quot;)\r\n            .routeId(&quot;testRoute&quot;)\r\n            .startupOrder(1)\r\n            .process(this::printLog);\r\n    }\r\n\r\n    private void printLog(Exchange exchange) throws InterruptedException {\r\n        Thread.sleep(10000);\r\n        log.info(&quot;Start route&quot;);\r\n    }\r\n}\r\n\r\nI used now apache camel 4.0.2\r\n\r\n    implementation &quot;org.apache.camel.springboot:camel-spring-boot:4.0.2&quot;\r\n    implementation &quot;org.apache.camel.springboot:camel-spring-boot-starter:4.0.2&quot;\r\n\r\nIn application logs\r\n```\r\n2023-11-06 14:21:29,639 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\r\n2023-11-06 14:21:39,655 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\r\n2023-11-06 14:21:49,663 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\r\n```\r\n\r\n\r\nIn older version 2.25.4 multi-threading works fine","title":"Execute apache camel route scheduler with multiple threads","body":"<p>I created new apache camel route scheduler and I want to be invoked by multiple threads on an interval. want to execute x number of threads. I am unsure how to go about it</p>\n<pre><code>public class TestRoute extends RouteBuilder {\n\nprivate TestProperties properties;\n\n@Override\npublic void configure() throws Exception {\n    from(&quot;scheduler://testScheduler&quot; +\n        &quot;?delay=5000&quot; +\n        &quot;&amp;poolSize=3&quot;)\n        .routeId(&quot;testRoute&quot;)\n        .startupOrder(1)\n        .process(this::printLog);\n}\n\nprivate void printLog(Exchange exchange) throws InterruptedException {\n    Thread.sleep(10000);\n    log.info(&quot;Start route&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>I used now apache camel 4.0.2</p>\n<pre><code>implementation &quot;org.apache.camel.springboot:camel-spring-boot:4.0.2&quot;\nimplementation &quot;org.apache.camel.springboot:camel-spring-boot-starter:4.0.2&quot;\n</code></pre>\n<p>In application logs</p>\n<pre><code>2023-11-06 14:21:29,639 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\n2023-11-06 14:21:39,655 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\n2023-11-06 14:21:49,663 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\n</code></pre>\n<p>In older version 2.25.4 multi-threading works fine</p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699277599,"post_id":77431419,"comment_id":136507429,"body_markdown":"Look at the `compareTo()` method in your `Node` class: `public int compareTo(){  }`; it does not declare any parameters, hence, you can not pass any parameters. Besides that, its empty and does not return any value, so it wont pass the compiler anyway. As a side note: you should not declare the type parameter `T` but declare `implements BinaryTreeInterface&lt;LinkedBinaryTree.Node&lt;E&gt;&gt;` Its problematic that the `Node` class is not `public` but allowing the code using your class to substitute it (via type parameter `T`) with arbitrary other types will cause even more problems.","body":"Look at the <code>compareTo()</code> method in your <code>Node</code> class: <code>public int compareTo(){  }</code>; it does not declare any parameters, hence, you can not pass any parameters. Besides that, its empty and does not return any value, so it wont pass the compiler anyway. As a side note: you should not declare the type parameter <code>T</code> but declare <code>implements BinaryTreeInterface&lt;LinkedBinaryTree.Node&lt;E&gt;&gt;</code> Its problematic that the <code>Node</code> class is not <code>public</code> but allowing the code using your class to substitute it (via type parameter <code>T</code>) with arbitrary other types will cause even more problems."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699277752,"post_id":77431419,"comment_id":136507463,"body_markdown":"To hide the node class as an implementation detail, you should declare `implements BinaryTreeInterface&lt;E&gt;` but then, you have to change all implementations to not assume that the parameter is a node but rather search for the right node in every operation.","body":"To hide the node class as an implementation detail, you should declare <code>implements BinaryTreeInterface&lt;E&gt;</code> but then, you have to change all implementations to not assume that the parameter is a node but rather search for the right node in every operation."}],"owner":{"account_id":29838340,"reputation":1,"user_id":22867223,"display_name":"Tin Dng "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699277933,"creation_date":1699276932,"question_id":77431419,"body_markdown":"i was building a binary tree by myself but this error occured:\r\nLinkedBinaryTree.java:111: error: method compareTo in class Node&lt;E#2&gt; cannot be applied to given types;\r\n                if(leftNode.compareTo(currentNode) == 0){\r\n                           ^\r\n  required: no arguments\r\n  found:    Node&lt;E#1&gt;\r\n  reason: actual and formal argument lists differ in length\r\n  where E#1,E#2 are type-variables:\r\n    E#1 extends Object declared in class LinkedBinaryTree\r\n    E#2 extends Object declared in class Node\r\n\r\nThis is my code:\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic class LinkedBinaryTree&lt;E,T&gt; implements BinaryTreeInterface&lt;T&gt; {\r\n\t\r\n\tprotected static class Node&lt;E&gt;{\r\n\t\tprivate E element;\t// an element stored at this node\r\n\t\tprivate Node &lt;E&gt; parent ; // a reference to the parent node (if any)\r\n\t\tprivate Node &lt;E&gt; left ; // a reference to the left child\r\n\t\tprivate Node &lt;E&gt; right ; // a reference to the right child\r\n\t\t\r\n\t\t// Constructs a node with the given element and neighbors .\r\n\t\tpublic Node ( E e , Node &lt;E &gt; above , Node &lt;E &gt; leftChild , Node &lt;E &gt; rightChild ) {\r\n\t\t\t// To do\r\n\t\t\telement = e;\r\n\t\t\tparent = above;\r\n\t\t\tleft = leftChild;\r\n\t\t\tright = rightChild;\r\n\t\t}\r\n\t}\r\n\t\r\n\tNode&lt;E&gt; root = null;\r\n\tint n = 0;\r\n\t\r\n\t// update methods\r\n\tpublic Node &lt;E&gt; addRoot ( E element ) {\r\n\t\t// Add element to root of an empty tree\r\n\t\tif(!isEmpty()){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\troot.element = element;\r\n\t\troot.parent = null;\r\n\t\troot.left = null;\r\n\t\troot.right = null;\r\n\t\tn++;\r\n\t\treturn root;\r\n\t}\r\n\t\r\n\tpublic Node &lt;E&gt; addLeft ( Node p , E element ) {\r\n\t\t// Add element to left child node of p if empty\r\n\t\tif(p.left.element != null){\r\n\t\t\treturn p.left;\r\n\t\t}\r\n\t\tNode&lt;E&gt; new_node = new Node&lt;&gt;(element, p, null, null);\r\n\t\tp.left = new_node;\r\n\t\tn++;\r\n\t\treturn new_node;\r\n\t}\r\n\t\r\n\tpublic Node &lt;E &gt; addRight ( Node p , E element ) {\r\n\t\t// Add element to right child node of p if empty\r\n\t\tif(p.right.element != null){\r\n\t\t\treturn p.right;\r\n\t\t}\r\n\t\tNode&lt;E&gt; new_node = new Node&lt;&gt;(element, p, null, null);\r\n\t\tp.right = new_node;\r\n\t\tn++;\r\n\t\treturn new_node;\r\n\t}\r\n\t\r\n\tpublic void set ( Node p , E element ) {\r\n\t\t// set element to node p\r\n\t\tp.element = element;\r\n\t}\r\n\t\r\n\tpublic T root(){\r\n\t\treturn (T) root;\r\n\t}\r\n\t\r\n\tpublic int size(){\r\n\t\treturn n;\r\n\t}\r\n\t\r\n\tpublic boolean isEmpty(){\r\n\t\treturn root == null;\r\n\t}\r\n\t\r\n\tpublic int numChildren (T p){\r\n\t\tint count = 0;\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\tif(currentNode.left != null){\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\tif(currentNode.right != null){\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\t\r\n\tpublic T parent(T p){\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\treturn (T) currentNode.parent;\r\n\t}\r\n\t\r\n\tpublic T left(T p){\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\treturn (T) currentNode.left;\r\n\t}\r\n\t\r\n\tpublic T right(T p){\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\treturn (T) currentNode.right;\r\n\t}\r\n\t\r\n\tpublic T sibling(T p){\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\tNode&lt;E&gt; parentNode = currentNode.parent;\r\n\t\tNode&lt;E&gt; leftNode = (Node&lt;E&gt;) parentNode.left;\r\n\t\tif(leftNode.compareTo(currentNode) == 0){\r\n\t\t\treturn (T) parentNode.right;\r\n\t\t}\r\n\t\treturn (T) parentNode.left;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n```\r\npublic interface BinaryTreeInterface&lt;T&gt; {\r\n\tT root();\r\n\tint size(); // number of node in tree\r\n\tboolean isEmpty();\r\n\tint numChildren (T p) ; // nmber of children of element p;\r\n\t\r\n\tT parent(T p) ; // return parent of p\r\n\tT left(T p) ; // return left child of p\r\n\tT right(T p) ; // return right child of p\r\n\tT sibling(T p) ; // return sibling of p\r\n}\r\n```\r\n\r\n\r\nCan you describe the error detailedly for me and how to solve this error","title":"method compareTo in class Node&lt;E#2&gt; cannot be applied to given types","body":"<p>i was building a binary tree by myself but this error occured:\nLinkedBinaryTree.java:111: error: method compareTo in class Node&lt;E#2&gt; cannot be applied to given types;\nif(leftNode.compareTo(currentNode) == 0){\n^\nrequired: no arguments\nfound:    Node&lt;E#1&gt;\nreason: actual and formal argument lists differ in length\nwhere E#1,E#2 are type-variables:\nE#1 extends Object declared in class LinkedBinaryTree\nE#2 extends Object declared in class Node</p>\n<p>This is my code:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic class LinkedBinaryTree&lt;E,T&gt; implements BinaryTreeInterface&lt;T&gt; {\n    \n    protected static class Node&lt;E&gt;{\n        private E element;  // an element stored at this node\n        private Node &lt;E&gt; parent ; // a reference to the parent node (if any)\n        private Node &lt;E&gt; left ; // a reference to the left child\n        private Node &lt;E&gt; right ; // a reference to the right child\n        \n        // Constructs a node with the given element and neighbors .\n        public Node ( E e , Node &lt;E &gt; above , Node &lt;E &gt; leftChild , Node &lt;E &gt; rightChild ) {\n            // To do\n            element = e;\n            parent = above;\n            left = leftChild;\n            right = rightChild;\n        }\n    }\n    \n    Node&lt;E&gt; root = null;\n    int n = 0;\n    \n    // update methods\n    public Node &lt;E&gt; addRoot ( E element ) {\n        // Add element to root of an empty tree\n        if(!isEmpty()){\n            return null;\n        }\n        root.element = element;\n        root.parent = null;\n        root.left = null;\n        root.right = null;\n        n++;\n        return root;\n    }\n    \n    public Node &lt;E&gt; addLeft ( Node p , E element ) {\n        // Add element to left child node of p if empty\n        if(p.left.element != null){\n            return p.left;\n        }\n        Node&lt;E&gt; new_node = new Node&lt;&gt;(element, p, null, null);\n        p.left = new_node;\n        n++;\n        return new_node;\n    }\n    \n    public Node &lt;E &gt; addRight ( Node p , E element ) {\n        // Add element to right child node of p if empty\n        if(p.right.element != null){\n            return p.right;\n        }\n        Node&lt;E&gt; new_node = new Node&lt;&gt;(element, p, null, null);\n        p.right = new_node;\n        n++;\n        return new_node;\n    }\n    \n    public void set ( Node p , E element ) {\n        // set element to node p\n        p.element = element;\n    }\n    \n    public T root(){\n        return (T) root;\n    }\n    \n    public int size(){\n        return n;\n    }\n    \n    public boolean isEmpty(){\n        return root == null;\n    }\n    \n    public int numChildren (T p){\n        int count = 0;\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        if(currentNode.left != null){\n            count++;\n        }\n        if(currentNode.right != null){\n            count++;\n        }\n        return count;\n    }\n    \n    public T parent(T p){\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        return (T) currentNode.parent;\n    }\n    \n    public T left(T p){\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        return (T) currentNode.left;\n    }\n    \n    public T right(T p){\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        return (T) currentNode.right;\n    }\n    \n    public T sibling(T p){\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        Node&lt;E&gt; parentNode = currentNode.parent;\n        Node&lt;E&gt; leftNode = (Node&lt;E&gt;) parentNode.left;\n        if(leftNode.compareTo(currentNode) == 0){\n            return (T) parentNode.right;\n        }\n        return (T) parentNode.left;\n    }\n}\n</code></pre>\n<pre><code>public interface BinaryTreeInterface&lt;T&gt; {\n    T root();\n    int size(); // number of node in tree\n    boolean isEmpty();\n    int numChildren (T p) ; // nmber of children of element p;\n    \n    T parent(T p) ; // return parent of p\n    T left(T p) ; // return left child of p\n    T right(T p) ; // return right child of p\n    T sibling(T p) ; // return sibling of p\n}\n</code></pre>\n<p>Can you describe the error detailedly for me and how to solve this error</p>\n"},{"tags":["java","multithreading","vert.x","vertx-eventbus"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699277122,"creation_date":1699277122,"answer_id":77431430,"question_id":77307423,"body_markdown":"&gt;It doesn&#39;t matter if the EB-consumer is reachable and what it responses. The thread simply gets blocked.\r\n\r\nWhile the event loop is blocked waiting for the future to complete, it cannot handle the event that completes the future.\r\n\r\n&gt;Now, if I change the handler to blockingHandler in 1st line, the whole thing starts to work just as expected\r\n\r\nIn this case, it&#39;s one of the worker pool threads which is blocked waiting for the future to complete, and then the future is completed by the event loop thread.","title":"Vert.x async to sync blocks event-loop-thread","body":"<blockquote>\n<p>It doesn't matter if the EB-consumer is reachable and what it responses. The thread simply gets blocked.</p>\n</blockquote>\n<p>While the event loop is blocked waiting for the future to complete, it cannot handle the event that completes the future.</p>\n<blockquote>\n<p>Now, if I change the handler to blockingHandler in 1st line, the whole thing starts to work just as expected</p>\n</blockquote>\n<p>In this case, it's one of the worker pool threads which is blocked waiting for the future to complete, and then the future is completed by the event loop thread.</p>\n"}],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77431430,"answer_count":1,"score":0,"last_activity_date":1699277122,"creation_date":1697532306,"question_id":77307423,"body_markdown":"In my router-handler I need to `await` for the event-bus request to make it synchronous.\r\n\r\nThe code looks like so:\r\n\r\n```\r\nrouter.patch &#39;/api/check&#39; handler this::validateField\r\n\r\nvoid validateField( RoutingContext rc ) {\r\n  log.info &#39;validate start&#39;\r\n\r\n  CountDownLatch countDownLatch = new CountDownLatch( 1 )\r\n    \r\n  Future&lt;Message&gt; fut = vertx.eventBus().request( &#39;validate&#39;, &#39;msg&#39; ).onComplete{ countDownLatch.countDown() }\r\n    \r\n  boolean done = countDownLatch.await 4, TimeUnit.SECONDS\r\n\r\n  if( !done )\r\n    rc.json &#39;service.failure&#39;\r\n  else if( fut.failed() ){\r\n    ReplyException cause = (ReplyException)fut.cause()\r\n    rc.json ReplyFailure.RECIPIENT_FAILURE == cause?.failureType ? cause.message : &#39;service.failure&#39;\r\n  }else\r\n    rc.json &#39;ok&#39;\r\n}\r\n```\r\n\r\nThe code above produces the following log output:\r\n```\r\n[vert.x-eventloop-thread-2] 10:11:03.940 INFO  my.Klass - validate start\r\n[vertx-blocked-thread-checker] 10:11:06.297 WARN  i.v.core.impl.BlockedThreadChecker - Thread Thread[vert.x-eventloop-thread-2,5,main] has been blocked for 2357 ms, time limit is 2000 ms\r\n[vertx-blocked-thread-checker] 10:11:07.298 WARN  i.v.core.impl.BlockedThreadChecker - Thread Thread[vert.x-eventloop-thread-2,5,main] has been blocked for 3357 ms, time limit is 2000 ms\r\n```\r\nAs you can see, the `countDownLatch` blocks the event-loop-thread for 4 seconds before it&#39;s timeout occurs and completes unconditionally. \r\n\r\nIt doesn&#39;t matter if the EB-consumer is reachable and what it responses. The thread simply gets blocked.\r\n\r\nThe same behavior occurs with java&#39;s `CompletableFuture`.\r\n\r\nNow, if I change the `handler` to `blockingHandler` in 1st line, the whole thing starts to work just as expected:\r\n\r\n```\r\nrouter.patch &#39;/api/check&#39; blockingHandler this::validateField\r\n```\r\nThe code reacts properly on `NO_HANDLERS` and on valid consumer requests and is waiting as long as needed.\r\n\r\nWhy does it behave like that?","title":"Vert.x async to sync blocks event-loop-thread","body":"<p>In my router-handler I need to <code>await</code> for the event-bus request to make it synchronous.</p>\n<p>The code looks like so:</p>\n<pre><code>router.patch '/api/check' handler this::validateField\n\nvoid validateField( RoutingContext rc ) {\n  log.info 'validate start'\n\n  CountDownLatch countDownLatch = new CountDownLatch( 1 )\n    \n  Future&lt;Message&gt; fut = vertx.eventBus().request( 'validate', 'msg' ).onComplete{ countDownLatch.countDown() }\n    \n  boolean done = countDownLatch.await 4, TimeUnit.SECONDS\n\n  if( !done )\n    rc.json 'service.failure'\n  else if( fut.failed() ){\n    ReplyException cause = (ReplyException)fut.cause()\n    rc.json ReplyFailure.RECIPIENT_FAILURE == cause?.failureType ? cause.message : 'service.failure'\n  }else\n    rc.json 'ok'\n}\n</code></pre>\n<p>The code above produces the following log output:</p>\n<pre><code>[vert.x-eventloop-thread-2] 10:11:03.940 INFO  my.Klass - validate start\n[vertx-blocked-thread-checker] 10:11:06.297 WARN  i.v.core.impl.BlockedThreadChecker - Thread Thread[vert.x-eventloop-thread-2,5,main] has been blocked for 2357 ms, time limit is 2000 ms\n[vertx-blocked-thread-checker] 10:11:07.298 WARN  i.v.core.impl.BlockedThreadChecker - Thread Thread[vert.x-eventloop-thread-2,5,main] has been blocked for 3357 ms, time limit is 2000 ms\n</code></pre>\n<p>As you can see, the <code>countDownLatch</code> blocks the event-loop-thread for 4 seconds before it's timeout occurs and completes unconditionally.</p>\n<p>It doesn't matter if the EB-consumer is reachable and what it responses. The thread simply gets blocked.</p>\n<p>The same behavior occurs with java's <code>CompletableFuture</code>.</p>\n<p>Now, if I change the <code>handler</code> to <code>blockingHandler</code> in 1st line, the whole thing starts to work just as expected:</p>\n<pre><code>router.patch '/api/check' blockingHandler this::validateField\n</code></pre>\n<p>The code reacts properly on <code>NO_HANDLERS</code> and on valid consumer requests and is waiting as long as needed.</p>\n<p>Why does it behave like that?</p>\n"},{"tags":["java","swing","user-interface","event-handling","observer-pattern"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1699275899,"post_id":77431257,"comment_id":136507101,"body_markdown":"The [model-view-controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (MVC) pattern is useful when creating a Swing GUI.  Create an application model that keeps track of the cars and their position on a logical representation of the map using plain Java getter/setter classes.  The view (Swing UI) will draw the representation of the logical model.  Period.  Nothing else.  Your simulation loop will update the model and repaint the view.","body":"The <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> (MVC) pattern is useful when creating a Swing GUI.  Create an application model that keeps track of the cars and their position on a logical representation of the map using plain Java getter/setter classes.  The view (Swing UI) will draw the representation of the logical model.  Period.  Nothing else.  Your simulation loop will update the model and repaint the view."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1699275988,"post_id":77431257,"comment_id":136507119,"body_markdown":"I would use SwingPropertyChangeSupport along with PropertyChangeListeners to help implement MVC as @GilbertLeBlanc suggests above, which can reduce coupling.","body":"I would use SwingPropertyChangeSupport along with PropertyChangeListeners to help implement MVC as @GilbertLeBlanc suggests above, which can reduce coupling."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699276006,"post_id":77431257,"comment_id":136507124,"body_markdown":"Note that best if you post real code, not kind-of/sort-of code.","body":"Note that best if you post real code, not kind-of/sort-of code."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699276111,"post_id":77431257,"comment_id":136507144,"body_markdown":"You should explain your problem with details, add a [minimal reproducible example](https://stackoverflow.com/help/mcve), and don&#39;t ask many questions at once.","body":"You should explain your problem with details, add a <a href=\"https://stackoverflow.com/help/mcve\">minimal reproducible example</a>, and don&#39;t ask many questions at once."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699276548,"creation_date":1699276548,"answer_id":77431382,"question_id":77431257,"body_markdown":"One way to add &quot;events&quot; to any code is to use a listener framework, and a clean one to use is the java.beans Property Change Listener framework. You would add to the model classes a support object and methods that allow addition or removal of property change listener objects. This will allow outside code to be notified of what changes occur and when. For example:\r\n\r\n```\r\nimport java.beans.PropertyChangeListener;\r\nimport javax.swing.event.SwingPropertyChangeSupport;\r\n\r\npublic class Car {\r\n    public static final String POSITION = &quot;position&quot;;\r\n    public static final String IMAGE = &quot;image&quot;;\r\n    private SwingPropertyChangeSupport pcSupport = new SwingPropertyChangeSupport(this);\r\n    private CarPosition carPosition;\r\n    private TypeOfImage carImage;\r\n\r\n    public void setPosition(int x, int y) {\r\n        CarPosition oldPosition = carPosition;\r\n        this.carPosition = new CarPosition(x, y);\r\n        pcSupport.firePropertyChange(POSITION, oldPosition, carPosition);\r\n    }\r\n\r\n    public void setImage(TypeOfImage typeOfImage) {\r\n        TypeOfImage oldImage = typeOfImage;\r\n        this.carImage = typeOfImage;\r\n        pcSupport.firePropertyChange(IMAGE, oldImage, typeOfImage);\r\n    }\r\n\r\n    public int getX() {\r\n        return carPosition.x();\r\n    }\r\n\r\n    public int getY() {\r\n        return carPosition.y();\r\n    }\r\n\r\n    public CarPosition getCarPosition() {\r\n        return carPosition;\r\n    }\r\n\r\n    public TypeOfImage getImage() {\r\n        return carImage;\r\n    }\r\n\r\n    public void addPropertyChangeListener(PropertyChangeListener listener) {\r\n        pcSupport.addPropertyChangeListener(listener);\r\n    }\r\n\r\n    public void removePropertyChangeListener(PropertyChangeListener listener) {\r\n        pcSupport.removePropertyChangeListener(listener);\r\n    }\r\n}\r\n```\r\n\r\nAssuming a simple enum\r\n```\r\nenum TypeOfImage {\r\n    RED_CAR, BLUE_CAR, GREEN_CAR\r\n}\r\n```\r\n\r\nBest to have the listener return a single object, and so if changing position in one method, have a record to allow this to be returned\r\n```\r\nrecord CarPosition(int x, int y) {\r\n}\r\n```\r\n\r\nThen this can be used in the view as follows\r\n```\r\nclass CarView extends JPanel {\r\n    private Car car;\r\n\r\n    public CarView(Car car) {\r\n        this.car = car;\r\n        car.addPropertyChangeListener(e -&gt; {\r\n            if (e.getPropertyName().equals(Car.POSITION)) {\r\n                repaint();\r\n            }\r\n        });\r\n        car.addPropertyChangeListener(e -&gt; {\r\n            if (e.getPropertyName().equals(Car.IMAGE)) {\r\n                repaint();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.drawImage(car.getImage().getSprite(), car.getX(), car.getY(), null);\r\n    }\r\n}\r\n```","title":"Create and integrate custom events in a Java Swing App","body":"<p>One way to add &quot;events&quot; to any code is to use a listener framework, and a clean one to use is the java.beans Property Change Listener framework. You would add to the model classes a support object and methods that allow addition or removal of property change listener objects. This will allow outside code to be notified of what changes occur and when. For example:</p>\n<pre><code>import java.beans.PropertyChangeListener;\nimport javax.swing.event.SwingPropertyChangeSupport;\n\npublic class Car {\n    public static final String POSITION = &quot;position&quot;;\n    public static final String IMAGE = &quot;image&quot;;\n    private SwingPropertyChangeSupport pcSupport = new SwingPropertyChangeSupport(this);\n    private CarPosition carPosition;\n    private TypeOfImage carImage;\n\n    public void setPosition(int x, int y) {\n        CarPosition oldPosition = carPosition;\n        this.carPosition = new CarPosition(x, y);\n        pcSupport.firePropertyChange(POSITION, oldPosition, carPosition);\n    }\n\n    public void setImage(TypeOfImage typeOfImage) {\n        TypeOfImage oldImage = typeOfImage;\n        this.carImage = typeOfImage;\n        pcSupport.firePropertyChange(IMAGE, oldImage, typeOfImage);\n    }\n\n    public int getX() {\n        return carPosition.x();\n    }\n\n    public int getY() {\n        return carPosition.y();\n    }\n\n    public CarPosition getCarPosition() {\n        return carPosition;\n    }\n\n    public TypeOfImage getImage() {\n        return carImage;\n    }\n\n    public void addPropertyChangeListener(PropertyChangeListener listener) {\n        pcSupport.addPropertyChangeListener(listener);\n    }\n\n    public void removePropertyChangeListener(PropertyChangeListener listener) {\n        pcSupport.removePropertyChangeListener(listener);\n    }\n}\n</code></pre>\n<p>Assuming a simple enum</p>\n<pre><code>enum TypeOfImage {\n    RED_CAR, BLUE_CAR, GREEN_CAR\n}\n</code></pre>\n<p>Best to have the listener return a single object, and so if changing position in one method, have a record to allow this to be returned</p>\n<pre><code>record CarPosition(int x, int y) {\n}\n</code></pre>\n<p>Then this can be used in the view as follows</p>\n<pre><code>class CarView extends JPanel {\n    private Car car;\n\n    public CarView(Car car) {\n        this.car = car;\n        car.addPropertyChangeListener(e -&gt; {\n            if (e.getPropertyName().equals(Car.POSITION)) {\n                repaint();\n            }\n        });\n        car.addPropertyChangeListener(e -&gt; {\n            if (e.getPropertyName().equals(Car.IMAGE)) {\n                repaint();\n            }\n        });\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawImage(car.getImage().getSprite(), car.getX(), car.getY(), null);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16872775,"reputation":3,"user_id":12200930,"display_name":"Cesar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77431382,"answer_count":1,"score":0,"last_activity_date":1699276548,"creation_date":1699275395,"question_id":77431257,"body_markdown":"I&#39;ve been creating a Java Swing app which tracks the position of dummy cars and plots them on a map. I&#39;m afraid that the app is getting bigger and I need a sort of split between UI and app logic. \r\n\r\nIs it possible to implement an event/listener architecture with different types of events to update the UI when necessary? How? \r\n\r\nAt present, I manage to update car position in this way:\r\n\r\n```\r\nclass car {\r\n    setPosition(int x, int y) {\r\n        _x = x; _y = y;\r\n        carImage.setPosition(x,y);\r\n    }\r\n    changeImage(enum typeOfImage) {\r\n        carImage.changeImage(typeOfImage);\r\n    }\r\n}\r\n```\r\nAs you can see I need a UI object inside my logic app, and this breaks the split between UI and logic. In addition, I would like to change the logo of the car whenever the car&#39;s state changes and hide or show the image at my convenience. So I think that an observer pattern should be suitable in this scenario.\r\n\r\n\r\nThank you","title":"Create and integrate custom events in a Java Swing App","body":"<p>I've been creating a Java Swing app which tracks the position of dummy cars and plots them on a map. I'm afraid that the app is getting bigger and I need a sort of split between UI and app logic.</p>\n<p>Is it possible to implement an event/listener architecture with different types of events to update the UI when necessary? How?</p>\n<p>At present, I manage to update car position in this way:</p>\n<pre><code>class car {\n    setPosition(int x, int y) {\n        _x = x; _y = y;\n        carImage.setPosition(x,y);\n    }\n    changeImage(enum typeOfImage) {\n        carImage.changeImage(typeOfImage);\n    }\n}\n</code></pre>\n<p>As you can see I need a UI object inside my logic app, and this breaks the split between UI and logic. In addition, I would like to change the logo of the car whenever the car's state changes and hide or show the image at my convenience. So I think that an observer pattern should be suitable in this scenario.</p>\n<p>Thank you</p>\n"},{"tags":["java","webview","ui-automation","android-espresso"],"owner":{"account_id":27260842,"reputation":1,"user_id":20783685,"display_name":"Siddurevan Ss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699276377,"creation_date":1699276216,"question_id":77431347,"body_markdown":"```java\r\nonWebView(Matchers.allOf(isDisplayed(), isJavascriptEnabled())).withTimeout(5, TimeUnit.SECONDS)\r\n                .withElement(findElement(Locator.XPATH, &quot;//div[@class=&#39;story-metadata-card__title-and-author&#39;]&quot;));\r\n```\r\n\r\ni running this but its not waiting for 5 sec until view get displayed, even i put 10 sec it will fail without waiting 10 sec, \r\nhow to fix and how to use waits as implicitly and explicitly like in selenium \r\n\r\ni tried with adding more time i.e 10sec but waiting less than 1sec and failing cases","title":"How to add wait in espresso web view cases","body":"<pre class=\"lang-java prettyprint-override\"><code>onWebView(Matchers.allOf(isDisplayed(), isJavascriptEnabled())).withTimeout(5, TimeUnit.SECONDS)\n                .withElement(findElement(Locator.XPATH, &quot;//div[@class='story-metadata-card__title-and-author']&quot;));\n</code></pre>\n<p>i running this but its not waiting for 5 sec until view get displayed, even i put 10 sec it will fail without waiting 10 sec,\nhow to fix and how to use waits as implicitly and explicitly like in selenium</p>\n<p>i tried with adding more time i.e 10sec but waiting less than 1sec and failing cases</p>\n"},{"tags":["java","soap","jboss","wildfly","jax-ws"],"owner":{"account_id":2069003,"reputation":35,"user_id":1843878,"display_name":"mcs130"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699276206,"creation_date":1699236602,"question_id":77428395,"body_markdown":"I recently posted a question which is now resolved by upgrading from WildFly 23 to 27, where the simple JAX-WS endpoint deploys, you see the startup in the logs and the WSDL URL responds w/ the WSDL expected.  [Original post w/ deployment issue][1]\r\n\r\nNow after getting past the deployment issue, I used POSTMAN to import the WSDL from the WildFly-hosted endpoint. It loaded ok and the 2 operations were shown correctly. \r\n\r\nThe SOAP message is sent from POSTMAN TO the server \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n  &lt;soap:Body&gt;\r\n    &lt;getEmployee xmlns=&quot;http://ws.jaxws.example.com/&quot;&gt;\r\n      &lt;arg0&gt;100&lt;/arg0&gt;\r\n    &lt;/getEmployee&gt;\r\n  &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nand I get back the following response w/ an Error:\r\n\r\n```\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n        &lt;soap:Fault&gt;\r\n            &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\r\n            &lt;faultstring&gt;Unmarshalling Error: unexpected element (uri:&quot;http://ws.jaxws.example.com/&quot;, local:&quot;arg0&quot;). Expected elements are &amp;lt;{}arg0&gt; &lt;/faultstring&gt;\r\n        &lt;/soap:Fault&gt;\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n``` \r\nWSDL: (from the deployed service) \r\n```\r\n\r\n&lt;wsdl:definitions xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:tns=&quot;http://ws.jaxws.example.com/&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:ns1=&quot;http://schemas.xmlsoap.org/soap/http&quot; name=&quot;EmployeeService&quot; targetNamespace=&quot;http://ws.jaxws.example.com/&quot;&gt;\r\n&lt;wsdl:types&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://ws.jaxws.example.com/&quot; elementFormDefault=&quot;unqualified&quot; targetNamespace=&quot;http://ws.jaxws.example.com/&quot; version=&quot;1.0&quot;&gt;\r\n&lt;xs:element name=&quot;Employee&quot; type=&quot;tns:employee&quot;/&gt;\r\n&lt;xs:element name=&quot;addEmployee&quot; type=&quot;tns:addEmployee&quot;/&gt;\r\n&lt;xs:element name=&quot;addEmployeeResponse&quot; type=&quot;tns:addEmployeeResponse&quot;/&gt;\r\n&lt;xs:element name=&quot;getEmployee&quot; type=&quot;tns:getEmployee&quot;/&gt;\r\n&lt;xs:element name=&quot;getEmployeeResponse&quot; type=&quot;tns:getEmployeeResponse&quot;/&gt;\r\n&lt;xs:complexType name=&quot;addEmployee&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;arg0&quot; type=&quot;xs:int&quot;/&gt;\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;arg1&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;addEmployeeResponse&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;return&quot; type=&quot;tns:employee&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;employee&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;getEmployee&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element form=&quot;qualified&quot; name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;getEmployeeResponse&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;return&quot; type=&quot;tns:employee&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n&lt;/wsdl:types&gt;\r\n&lt;wsdl:message name=&quot;addEmployee&quot;&gt;\r\n&lt;wsdl:part element=&quot;tns:addEmployee&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n&lt;/wsdl:message&gt;\r\n&lt;wsdl:message name=&quot;getEmployeeResponse&quot;&gt;\r\n&lt;wsdl:part element=&quot;tns:getEmployeeResponse&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n&lt;/wsdl:message&gt;\r\n&lt;wsdl:message name=&quot;addEmployeeResponse&quot;&gt;\r\n&lt;wsdl:part element=&quot;tns:addEmployeeResponse&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n&lt;/wsdl:message&gt;\r\n&lt;wsdl:message name=&quot;getEmployee&quot;&gt;\r\n&lt;wsdl:part element=&quot;tns:getEmployee&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n&lt;/wsdl:message&gt;\r\n&lt;wsdl:portType name=&quot;EmployeeService&quot;&gt;\r\n&lt;wsdl:operation name=&quot;addEmployee&quot;&gt;\r\n&lt;wsdl:input message=&quot;tns:addEmployee&quot; name=&quot;addEmployee&quot;&gt; &lt;/wsdl:input&gt;\r\n&lt;wsdl:output message=&quot;tns:addEmployeeResponse&quot; name=&quot;addEmployeeResponse&quot;&gt; &lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;wsdl:operation name=&quot;getEmployee&quot;&gt;\r\n&lt;wsdl:input message=&quot;tns:getEmployee&quot; name=&quot;getEmployee&quot;&gt; &lt;/wsdl:input&gt;\r\n&lt;wsdl:output message=&quot;tns:getEmployeeResponse&quot; name=&quot;getEmployeeResponse&quot;&gt; &lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;/wsdl:portType&gt;\r\n&lt;wsdl:binding name=&quot;EmployeeServiceSoapBinding&quot; type=&quot;tns:EmployeeService&quot;&gt;\r\n&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n&lt;wsdl:operation name=&quot;addEmployee&quot;&gt;\r\n&lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\r\n&lt;wsdl:input name=&quot;addEmployee&quot;&gt;\r\n&lt;soap:body use=&quot;literal&quot;/&gt;\r\n&lt;/wsdl:input&gt;\r\n&lt;wsdl:output name=&quot;addEmployeeResponse&quot;&gt;\r\n&lt;soap:body use=&quot;literal&quot;/&gt;\r\n&lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;wsdl:operation name=&quot;getEmployee&quot;&gt;\r\n&lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\r\n&lt;wsdl:input name=&quot;getEmployee&quot;&gt;\r\n&lt;soap:body use=&quot;literal&quot;/&gt;\r\n&lt;/wsdl:input&gt;\r\n&lt;wsdl:output name=&quot;getEmployeeResponse&quot;&gt;\r\n&lt;soap:body use=&quot;literal&quot;/&gt;\r\n&lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;/wsdl:binding&gt;\r\n&lt;wsdl:service name=&quot;EmployeeService&quot;&gt;\r\n&lt;wsdl:port binding=&quot;tns:EmployeeServiceSoapBinding&quot; name=&quot;EmployeeServiceImplPort&quot;&gt;\r\n&lt;soap:address location=&quot;http://localhost:8080/employee-service/EmployeeService&quot;/&gt;\r\n&lt;/wsdl:port&gt;\r\n&lt;/wsdl:service&gt;\r\n&lt;/wsdl:definitions&gt;\r\n\r\n```\r\n\r\nThe JAXB annotated class for the &quot;Employee&quot; looks like this:\r\n\r\n```\r\npackage com.example.jaxws.ws;\r\n\r\nimport jakarta.xml.bind.annotation.XmlRootElement;\r\nimport jakarta.xml.bind.annotation.XmlType;\r\n\r\n@XmlRootElement(name = &quot;Employee&quot;)\r\n@XmlType()\r\npublic class Employee {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    private int id;\r\n\r\n    private String name;\r\n\r\n    public Employee() {\r\n    }\r\n\r\n    public Employee(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\nThe service implementation and interface look like this:\r\n\r\n```\r\npackage com.example.jaxws.ws;\r\n\r\nimport jakarta.jws.WebMethod;\r\nimport jakarta.jws.WebParam;\r\nimport jakarta.jws.WebResult;\r\nimport jakarta.jws.WebService;\r\nimport jakarta.jws.soap.SOAPBinding;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.logging.log4j.ThreadContext;\r\n\r\nimport java.util.UUID;\r\n\r\n@WebService(serviceName = &quot;EmployeeService&quot;, endpointInterface = &quot;com.example.jaxws.ws.EmployeeService&quot;)\r\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n\r\n    private static final Logger logger = LogManager.getLogger(EmployeeServiceImpl.class);\r\n\r\n    @WebMethod\r\n    @WebResult(name = &quot;Employee&quot;)\r\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id) {\r\n\r\n        String txid = UUID.randomUUID().toString();\r\n        ThreadContext.put(&quot;txid&quot;, txid);\r\n        Employee employee = new Employee(id, &quot;Smith&quot;);\r\n        logger.info(&quot;Employee: [] returned&quot;, employee.toString());\r\n        return null;\r\n\r\n    }\r\n\r\n    @WebMethod\r\n    public Employee addEmployee(int id, String name) {\r\n        return new Employee(id, name);\r\n    }\r\n}\r\n\r\n\r\n```\r\nInterface:\r\n```\r\npackage com.example.jaxws.ws;\r\n\r\nimport jakarta.jws.WebMethod;\r\nimport jakarta.jws.WebParam;\r\nimport jakarta.jws.WebService;\r\nimport jakarta.jws.soap.SOAPBinding;\r\n\r\n@WebService\r\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\r\npublic interface EmployeeService {\r\n\r\n    @WebMethod\r\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id);\r\n    @WebMethod\r\n    Employee addEmployee(int id, String name);\r\n}\r\n```\r\n\r\nThe WSDL was generated. I have run wsconsume to see what classes it would generate for a client side call (but I ended up using POSTMAN for now just to do a basic test call on the service end).  \r\n\r\nNo errors were seen during the code generation and I got a folder full of code:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIm trying to understand why a Fault is returned. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77400299/wildfly-23-server-simple-jax-ws-deployment-all-attempts-to-access-the-wsdl-a\r\n  [2]: https://i.stack.imgur.com/mOQ9r.png","title":"Wildfly 27 Server - Simple JAX-WS deployment - Deployment/Startup works - SOAP call results in Fault &quot;unmarshall error&quot;","body":"<p>I recently posted a question which is now resolved by upgrading from WildFly 23 to 27, where the simple JAX-WS endpoint deploys, you see the startup in the logs and the WSDL URL responds w/ the WSDL expected.  <a href=\"https://stackoverflow.com/questions/77400299/wildfly-23-server-simple-jax-ws-deployment-all-attempts-to-access-the-wsdl-a\">Original post w/ deployment issue</a></p>\n<p>Now after getting past the deployment issue, I used POSTMAN to import the WSDL from the WildFly-hosted endpoint. It loaded ok and the 2 operations were shown correctly.</p>\n<p>The SOAP message is sent from POSTMAN TO the server</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;soap:Body&gt;\n    &lt;getEmployee xmlns=&quot;http://ws.jaxws.example.com/&quot;&gt;\n      &lt;arg0&gt;100&lt;/arg0&gt;\n    &lt;/getEmployee&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>and I get back the following response w/ an Error:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;soap:Fault&gt;\n            &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\n            &lt;faultstring&gt;Unmarshalling Error: unexpected element (uri:&quot;http://ws.jaxws.example.com/&quot;, local:&quot;arg0&quot;). Expected elements are &amp;lt;{}arg0&gt; &lt;/faultstring&gt;\n        &lt;/soap:Fault&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>WSDL: (from the deployed service)</p>\n<pre><code>\n&lt;wsdl:definitions xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:tns=&quot;http://ws.jaxws.example.com/&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:ns1=&quot;http://schemas.xmlsoap.org/soap/http&quot; name=&quot;EmployeeService&quot; targetNamespace=&quot;http://ws.jaxws.example.com/&quot;&gt;\n&lt;wsdl:types&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://ws.jaxws.example.com/&quot; elementFormDefault=&quot;unqualified&quot; targetNamespace=&quot;http://ws.jaxws.example.com/&quot; version=&quot;1.0&quot;&gt;\n&lt;xs:element name=&quot;Employee&quot; type=&quot;tns:employee&quot;/&gt;\n&lt;xs:element name=&quot;addEmployee&quot; type=&quot;tns:addEmployee&quot;/&gt;\n&lt;xs:element name=&quot;addEmployeeResponse&quot; type=&quot;tns:addEmployeeResponse&quot;/&gt;\n&lt;xs:element name=&quot;getEmployee&quot; type=&quot;tns:getEmployee&quot;/&gt;\n&lt;xs:element name=&quot;getEmployeeResponse&quot; type=&quot;tns:getEmployeeResponse&quot;/&gt;\n&lt;xs:complexType name=&quot;addEmployee&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;arg0&quot; type=&quot;xs:int&quot;/&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;arg1&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;addEmployeeResponse&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;return&quot; type=&quot;tns:employee&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;employee&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;getEmployee&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element form=&quot;qualified&quot; name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;getEmployeeResponse&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;return&quot; type=&quot;tns:employee&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n&lt;/wsdl:types&gt;\n&lt;wsdl:message name=&quot;addEmployee&quot;&gt;\n&lt;wsdl:part element=&quot;tns:addEmployee&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=&quot;getEmployeeResponse&quot;&gt;\n&lt;wsdl:part element=&quot;tns:getEmployeeResponse&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=&quot;addEmployeeResponse&quot;&gt;\n&lt;wsdl:part element=&quot;tns:addEmployeeResponse&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=&quot;getEmployee&quot;&gt;\n&lt;wsdl:part element=&quot;tns:getEmployee&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:portType name=&quot;EmployeeService&quot;&gt;\n&lt;wsdl:operation name=&quot;addEmployee&quot;&gt;\n&lt;wsdl:input message=&quot;tns:addEmployee&quot; name=&quot;addEmployee&quot;&gt; &lt;/wsdl:input&gt;\n&lt;wsdl:output message=&quot;tns:addEmployeeResponse&quot; name=&quot;addEmployeeResponse&quot;&gt; &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=&quot;getEmployee&quot;&gt;\n&lt;wsdl:input message=&quot;tns:getEmployee&quot; name=&quot;getEmployee&quot;&gt; &lt;/wsdl:input&gt;\n&lt;wsdl:output message=&quot;tns:getEmployeeResponse&quot; name=&quot;getEmployeeResponse&quot;&gt; &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:portType&gt;\n&lt;wsdl:binding name=&quot;EmployeeServiceSoapBinding&quot; type=&quot;tns:EmployeeService&quot;&gt;\n&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n&lt;wsdl:operation name=&quot;addEmployee&quot;&gt;\n&lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\n&lt;wsdl:input name=&quot;addEmployee&quot;&gt;\n&lt;soap:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:input&gt;\n&lt;wsdl:output name=&quot;addEmployeeResponse&quot;&gt;\n&lt;soap:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=&quot;getEmployee&quot;&gt;\n&lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\n&lt;wsdl:input name=&quot;getEmployee&quot;&gt;\n&lt;soap:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:input&gt;\n&lt;wsdl:output name=&quot;getEmployeeResponse&quot;&gt;\n&lt;soap:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:binding&gt;\n&lt;wsdl:service name=&quot;EmployeeService&quot;&gt;\n&lt;wsdl:port binding=&quot;tns:EmployeeServiceSoapBinding&quot; name=&quot;EmployeeServiceImplPort&quot;&gt;\n&lt;soap:address location=&quot;http://localhost:8080/employee-service/EmployeeService&quot;/&gt;\n&lt;/wsdl:port&gt;\n&lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n\n</code></pre>\n<p>The JAXB annotated class for the &quot;Employee&quot; looks like this:</p>\n<pre><code>package com.example.jaxws.ws;\n\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlType;\n\n@XmlRootElement(name = &quot;Employee&quot;)\n@XmlType()\npublic class Employee {\n\n    private static final long serialVersionUID = 1L;\n    private int id;\n\n    private String name;\n\n    public Employee() {\n    }\n\n    public Employee(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n\n}\n\n\n</code></pre>\n<p>The service implementation and interface look like this:</p>\n<pre><code>package com.example.jaxws.ws;\n\nimport jakarta.jws.WebMethod;\nimport jakarta.jws.WebParam;\nimport jakarta.jws.WebResult;\nimport jakarta.jws.WebService;\nimport jakarta.jws.soap.SOAPBinding;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.ThreadContext;\n\nimport java.util.UUID;\n\n@WebService(serviceName = &quot;EmployeeService&quot;, endpointInterface = &quot;com.example.jaxws.ws.EmployeeService&quot;)\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\npublic class EmployeeServiceImpl implements EmployeeService {\n\n    private static final Logger logger = LogManager.getLogger(EmployeeServiceImpl.class);\n\n    @WebMethod\n    @WebResult(name = &quot;Employee&quot;)\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id) {\n\n        String txid = UUID.randomUUID().toString();\n        ThreadContext.put(&quot;txid&quot;, txid);\n        Employee employee = new Employee(id, &quot;Smith&quot;);\n        logger.info(&quot;Employee: [] returned&quot;, employee.toString());\n        return null;\n\n    }\n\n    @WebMethod\n    public Employee addEmployee(int id, String name) {\n        return new Employee(id, name);\n    }\n}\n\n\n</code></pre>\n<p>Interface:</p>\n<pre><code>package com.example.jaxws.ws;\n\nimport jakarta.jws.WebMethod;\nimport jakarta.jws.WebParam;\nimport jakarta.jws.WebService;\nimport jakarta.jws.soap.SOAPBinding;\n\n@WebService\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\npublic interface EmployeeService {\n\n    @WebMethod\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id);\n    @WebMethod\n    Employee addEmployee(int id, String name);\n}\n</code></pre>\n<p>The WSDL was generated. I have run wsconsume to see what classes it would generate for a client side call (but I ended up using POSTMAN for now just to do a basic test call on the service end).</p>\n<p>No errors were seen during the code generation and I got a folder full of code:</p>\n<p><a href=\"https://i.stack.imgur.com/mOQ9r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mOQ9r.png\" alt=\"enter image description here\" /></a></p>\n<p>Im trying to understand why a Fault is returned.</p>\n"},{"tags":["javascript","java","primefaces"],"answers":[{"comments":[{"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"score":0,"creation_date":1699302558,"post_id":77431318,"comment_id":136512333,"body_markdown":"Thank you for the response, it looks good at first, but it seems like I cannot get a Date object in java without an actual date: it always contains either today s date or 1st of January 1970 and due to this, it gives an error","body":"Thank you for the response, it looks good at first, but it seems like I cannot get a Date object in java without an actual date: it always contains either today s date or 1st of January 1970 and due to this, it gives an error"}],"tags":[],"owner":{"account_id":27983350,"reputation":2127,"user_id":21370707,"display_name":"Keyboard Corporation"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699275984,"creation_date":1699275984,"answer_id":77431318,"question_id":77431228,"body_markdown":"Use the ```minDate``` and ```maxDate``` attributes of the ```p:datePicker``` component. Since you want to limit the time (hours, minutes, seconds), you can set the ```minDate``` and ```maxDate``` to the same date, but with different times.\r\n\r\n\r\nFirst, you need to create a ```java.util.Date``` object with the maximum time you want to allow. You can do this by creating a ```java.util.Calendar``` object, setting the hours, minutes, and seconds, and then getting the ```java.util.Date``` object.\r\n\r\nExample;\r\n```\r\nCalendar calendar = Calendar.getInstance();\r\ncalendar.set(Calendar.HOUR_OF_DAY, maxHour);\r\ncalendar.set(Calendar.MINUTE, maxMinute);\r\ncalendar.set(Calendar.SECOND, maxSecond);\r\nDate maxTime = calendar.getTime();\r\n```\r\nThen, you set this ```Date``` object to the ```maxDate``` attribute of the ```p:datePicker``` component.\r\n\r\nIn the above code, ```traineeDashboard.minDate``` and ```traineeDashboard.maxTime``` are the ```Date``` objects that you created in your managed bean.\r\n\r\nThis way, the user will not be able to select a time that is outside the range you specified.\r\n\r\nRemember to set the ```minDate``` and ```maxDate``` attributes to the same date, but with different times. For example, if you want to allow a time range from 00:00:00 to 01:30:00, you can set the ```minDate``` to 00:00:00 and the ```maxDate``` to 01:30:00.\r\n\r\nAlso, note that the ```minDate``` and ```maxDate``` attributes accept ```java.util.Date``` objects, not ```java.time.LocalDateTime``` or ```java.time.LocalTime``` objects. If you&#39;re using ```java.time``` classes, you can convert them to ```java.util.Date``` objects using the ```java.sql.Timestamp``` class or the ```java.time.Instant``` class.","title":"Limit the Primefaces datePicker hour, minutes and seconds to given values","body":"<p>Use the <code>minDate</code> and <code>maxDate</code> attributes of the <code>p:datePicker</code> component. Since you want to limit the time (hours, minutes, seconds), you can set the <code>minDate</code> and <code>maxDate</code> to the same date, but with different times.</p>\n<p>First, you need to create a <code>java.util.Date</code> object with the maximum time you want to allow. You can do this by creating a <code>java.util.Calendar</code> object, setting the hours, minutes, and seconds, and then getting the <code>java.util.Date</code> object.</p>\n<p>Example;</p>\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.set(Calendar.HOUR_OF_DAY, maxHour);\ncalendar.set(Calendar.MINUTE, maxMinute);\ncalendar.set(Calendar.SECOND, maxSecond);\nDate maxTime = calendar.getTime();\n</code></pre>\n<p>Then, you set this <code>Date</code> object to the <code>maxDate</code> attribute of the <code>p:datePicker</code> component.</p>\n<p>In the above code, <code>traineeDashboard.minDate</code> and <code>traineeDashboard.maxTime</code> are the <code>Date</code> objects that you created in your managed bean.</p>\n<p>This way, the user will not be able to select a time that is outside the range you specified.</p>\n<p>Remember to set the <code>minDate</code> and <code>maxDate</code> attributes to the same date, but with different times. For example, if you want to allow a time range from 00:00:00 to 01:30:00, you can set the <code>minDate</code> to 00:00:00 and the <code>maxDate</code> to 01:30:00.</p>\n<p>Also, note that the <code>minDate</code> and <code>maxDate</code> attributes accept <code>java.util.Date</code> objects, not <code>java.time.LocalDateTime</code> or <code>java.time.LocalTime</code> objects. If you're using <code>java.time</code> classes, you can convert them to <code>java.util.Date</code> objects using the <code>java.sql.Timestamp</code> class or the <code>java.time.Instant</code> class.</p>\n"}],"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77431318,"answer_count":1,"score":1,"last_activity_date":1699275984,"creation_date":1699275164,"question_id":77431228,"body_markdown":"I am using a datePicker Primefaces element in order to allow the user to select a value for the hours, minutes and seconds. Currently, the hour has values between 0 and 24, the minutes are between 0 and 60 and same for the seconds.\r\n\r\nI want to limit this possibility of choice to some static values, obtained from getting the length of a video posted on the page. \r\n\r\nSo, for example, if the video has 1 minute and 30 seconds, I want the hours part not to allow the user to press the arrow up or down, the minutes to be maximum 30 and the minutes 1. \r\nI tried the below code, but it does not work - I manage to see the max length of the video when I enter the page, but if I move the arrows from the datePicker element, I can select anything.\r\n\r\n\r\nWhat can I do?\r\n\r\nThe UI datePicker element:\r\n``` \r\n&lt;p:outputPanel styleClass=&quot;input-group timestamp-input&quot;&gt;\r\n                                &lt;p:datePicker id=&quot;timeDatePicker&quot;\r\n                                              widgetVar=&quot;widgetVarOfDatePicker&quot;\r\n                                              value=&quot;#{traineeDashboard.newIncidentTimestamp}&quot;\r\n                                              timeOnly=&quot;true&quot;\r\n                                              showSeconds=&quot;true&quot;\r\n                                              appendTo=&quot;@this&quot;&gt;\r\n                                    &lt;f:converter converterId=&quot;timeConverter&quot;/&gt;\r\n                                &lt;/p:datePicker&gt;\r\n```\r\n\r\nJS Code:\r\n\r\n``` \r\n\r\nfunction setMaxTimeForDatePicker(hours, minutes, seconds) {\r\n    var timePicker = PF(&#39;widgetVarOfDatePicker&#39;); \r\n    var hoursDropdown = $(&#39;div.ui-hour-picker span:eq(1)&#39;);\r\n    var minutesDropdown = $(&#39;div.ui-minute-picker span:eq(1)&#39;);\r\n    var secondsDropdown = $(&#39;div.ui-second-picker span:eq(1)&#39;);\r\n\r\n    hoursDropdown.text(hours);\r\n    minutesDropdown.text(minutes);\r\n    secondsDropdown.text(seconds);\r\n\r\n    hoursDropdown.trigger(&#39;change&#39;);\r\n    minutesDropdown.trigger(&#39;change&#39;);\r\n    secondsDropdown.trigger(&#39;change&#39;);\r\n}\r\n\r\n$(function() {\r\n    var timePicker = PF(&#39;widgetVarOfDatePicker&#39;); // Replace with your actual widgetVar\r\n\r\n    // Override the behaviors for incrementing and decrementing hours, minutes, and seconds\r\n    timePicker.cfg.onHourChange = function(newHour) {\r\n        let maxHour = 2;\r\n        let minHour = 0;\r\n        if (newHour &lt; minHour || newHour &gt; maxHour) {\r\n            // Set the hour back to the minimum or maximum as appropriate\r\n            this.setTime(minHour, this.currentMinute, this.currentSecond);\r\n        }\r\n    };\r\n\r\n    timePicker.cfg.onMinuteChange = function(newMinute) {\r\n        if (newMinute &lt; minMinute || newMinute &gt; maxMinute) {\r\n            // Set the minute back to the minimum or maximum as appropriate\r\n            this.setTime(this.currentHour, minMinute, this.currentSecond);\r\n        }\r\n    };\r\n\r\n    timePicker.cfg.onSecondChange = function(newSecond) {\r\n        if (newSecond &lt; minSecond || newSecond &gt; maxSecond) {\r\n            // Set the second back to the minimum or maximum as appropriate\r\n            this.setTime(this.currentHour, this.currentMinute, minSecond);\r\n        }\r\n    };\r\n});\r\n\r\n```\r\n","title":"Limit the Primefaces datePicker hour, minutes and seconds to given values","body":"<p>I am using a datePicker Primefaces element in order to allow the user to select a value for the hours, minutes and seconds. Currently, the hour has values between 0 and 24, the minutes are between 0 and 60 and same for the seconds.</p>\n<p>I want to limit this possibility of choice to some static values, obtained from getting the length of a video posted on the page.</p>\n<p>So, for example, if the video has 1 minute and 30 seconds, I want the hours part not to allow the user to press the arrow up or down, the minutes to be maximum 30 and the minutes 1.\nI tried the below code, but it does not work - I manage to see the max length of the video when I enter the page, but if I move the arrows from the datePicker element, I can select anything.</p>\n<p>What can I do?</p>\n<p>The UI datePicker element:</p>\n<pre><code>&lt;p:outputPanel styleClass=&quot;input-group timestamp-input&quot;&gt;\n                                &lt;p:datePicker id=&quot;timeDatePicker&quot;\n                                              widgetVar=&quot;widgetVarOfDatePicker&quot;\n                                              value=&quot;#{traineeDashboard.newIncidentTimestamp}&quot;\n                                              timeOnly=&quot;true&quot;\n                                              showSeconds=&quot;true&quot;\n                                              appendTo=&quot;@this&quot;&gt;\n                                    &lt;f:converter converterId=&quot;timeConverter&quot;/&gt;\n                                &lt;/p:datePicker&gt;\n</code></pre>\n<p>JS Code:</p>\n<pre><code>\nfunction setMaxTimeForDatePicker(hours, minutes, seconds) {\n    var timePicker = PF('widgetVarOfDatePicker'); \n    var hoursDropdown = $('div.ui-hour-picker span:eq(1)');\n    var minutesDropdown = $('div.ui-minute-picker span:eq(1)');\n    var secondsDropdown = $('div.ui-second-picker span:eq(1)');\n\n    hoursDropdown.text(hours);\n    minutesDropdown.text(minutes);\n    secondsDropdown.text(seconds);\n\n    hoursDropdown.trigger('change');\n    minutesDropdown.trigger('change');\n    secondsDropdown.trigger('change');\n}\n\n$(function() {\n    var timePicker = PF('widgetVarOfDatePicker'); // Replace with your actual widgetVar\n\n    // Override the behaviors for incrementing and decrementing hours, minutes, and seconds\n    timePicker.cfg.onHourChange = function(newHour) {\n        let maxHour = 2;\n        let minHour = 0;\n        if (newHour &lt; minHour || newHour &gt; maxHour) {\n            // Set the hour back to the minimum or maximum as appropriate\n            this.setTime(minHour, this.currentMinute, this.currentSecond);\n        }\n    };\n\n    timePicker.cfg.onMinuteChange = function(newMinute) {\n        if (newMinute &lt; minMinute || newMinute &gt; maxMinute) {\n            // Set the minute back to the minimum or maximum as appropriate\n            this.setTime(this.currentHour, minMinute, this.currentSecond);\n        }\n    };\n\n    timePicker.cfg.onSecondChange = function(newSecond) {\n        if (newSecond &lt; minSecond || newSecond &gt; maxSecond) {\n            // Set the second back to the minimum or maximum as appropriate\n            this.setTime(this.currentHour, this.currentMinute, minSecond);\n        }\n    };\n});\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caching","spring-cache"],"owner":{"account_id":29086655,"reputation":1,"user_id":22281435,"display_name":"Akshaya Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699275801,"creation_date":1698650484,"question_id":77386812,"body_markdown":"**Right now, my app is organized like this:**\r\n\r\n- Controller Layer: Handles user requests.\r\n- Business Service Layer: Manages data, including caching.\r\n- Repository Layer: Deals with data storage.\r\n\r\n    \r\n\r\n**Code Example:**\r\n\r\n```\r\n// Controller Layer\r\n@RestController\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/users/{id}&quot;)\r\n    public User getUserById(@PathVariable Long id) {\r\n        return userService.getUserById(id);\r\n    }\r\n}\r\n\r\n// Business Service Layer\r\n@Service\r\npublic class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Cacheable(value = &quot;users&quot;, key = &quot;#id&quot;)\r\n    public User getUserById(Long id) {\r\n\r\n        // some business checks\r\n        return userRepository.findById(id).orElse(null);\r\n    }\r\n}\r\n\r\n// Repository Layer\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n\r\n```\r\n    \r\n\r\n\r\n\r\n\r\n\r\n**I want to introduce application level caching :**\r\n\r\n- Controller Layer: No change.\r\n- Business Service Layer: Still handles data but now using cache manager.\r\n- Cached Service Layer: New layer for handling cached data.\r\n- Repository Layer: Remains the same.\r\n\r\n**Code Example:**\r\n\r\n```\r\n// Controller Layer\r\n@RestController\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/users/{id}&quot;)\r\n    public User getUserById(@PathVariable Long id) {\r\n        return userService.getUserById(id);\r\n    }\r\n}\r\n\r\n// Business Service Layer\r\n@Service\r\npublic class UserService {\r\n    @Autowired\r\n    private CachedUserService cachedUserService;\r\n\r\n    public User getUserById(Long id) {\r\n            // some Business Logic\r\n        return cachedUserService.getUserById(id);\r\n    }\r\n}\r\n\r\n// Cached Service Layer\r\n@Service\r\npublic class CachedUserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private CacheManager cacheManager;\r\n\r\n    public User getUserById(Long id) {\r\n        Cache cache = cacheManager.getCache(&quot;users&quot;);\r\n        ValueWrapper result = cache.get(id);\r\n\r\n        if (result != null) {\r\n            return (User) result.get();\r\n        } else {\r\n            User user = userRepository.findById(id).orElse(null);\r\n            cache.put(id, user);\r\n            return user;\r\n        }\r\n    }\r\n}\r\n\r\n// Repository Layer\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n\r\n```\r\n\r\n\r\nIs this a good way to update my app&#39;s structure, or are there any potential problems or better approaches I should consider? Your advice would be really helpful. Thanks!","title":"Best Practices for Implementing Spring Caching?","body":"<p><strong>Right now, my app is organized like this:</strong></p>\n<ul>\n<li>Controller Layer: Handles user requests.</li>\n<li>Business Service Layer: Manages data, including caching.</li>\n<li>Repository Layer: Deals with data storage.</li>\n</ul>\n<p><strong>Code Example:</strong></p>\n<pre><code>// Controller Layer\n@RestController\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users/{id}&quot;)\n    public User getUserById(@PathVariable Long id) {\n        return userService.getUserById(id);\n    }\n}\n\n// Business Service Layer\n@Service\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Cacheable(value = &quot;users&quot;, key = &quot;#id&quot;)\n    public User getUserById(Long id) {\n\n        // some business checks\n        return userRepository.findById(id).orElse(null);\n    }\n}\n\n// Repository Layer\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n<p><strong>I want to introduce application level caching :</strong></p>\n<ul>\n<li>Controller Layer: No change.</li>\n<li>Business Service Layer: Still handles data but now using cache manager.</li>\n<li>Cached Service Layer: New layer for handling cached data.</li>\n<li>Repository Layer: Remains the same.</li>\n</ul>\n<p><strong>Code Example:</strong></p>\n<pre><code>// Controller Layer\n@RestController\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users/{id}&quot;)\n    public User getUserById(@PathVariable Long id) {\n        return userService.getUserById(id);\n    }\n}\n\n// Business Service Layer\n@Service\npublic class UserService {\n    @Autowired\n    private CachedUserService cachedUserService;\n\n    public User getUserById(Long id) {\n            // some Business Logic\n        return cachedUserService.getUserById(id);\n    }\n}\n\n// Cached Service Layer\n@Service\npublic class CachedUserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private CacheManager cacheManager;\n\n    public User getUserById(Long id) {\n        Cache cache = cacheManager.getCache(&quot;users&quot;);\n        ValueWrapper result = cache.get(id);\n\n        if (result != null) {\n            return (User) result.get();\n        } else {\n            User user = userRepository.findById(id).orElse(null);\n            cache.put(id, user);\n            return user;\n        }\n    }\n}\n\n// Repository Layer\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n<p>Is this a good way to update my app's structure, or are there any potential problems or better approaches I should consider? Your advice would be really helpful. Thanks!</p>\n"},{"tags":["java","file","path","fortify"],"comments":[{"owner":{"account_id":15804504,"reputation":63,"user_id":11403344,"display_name":"RaVin"},"score":0,"creation_date":1556101609,"post_id":55823435,"comment_id":98320390,"body_markdown":"I tried new File(path.normalize().toString()) but this also does not work .Infact it raised 1 more flag for vulnerability","body":"I tried new File(path.normalize().toString()) but this also does not work .Infact it raised 1 more flag for vulnerability"}],"answers":[{"comments":[{"owner":{"account_id":15804504,"reputation":63,"user_id":11403344,"display_name":"RaVin"},"score":0,"creation_date":1556504645,"post_id":55868097,"comment_id":98448772,"body_markdown":"The file name comes from user input , there is no other way but process the the input .","body":"The file name comes from user input , there is no other way but process the the input ."},{"owner":{"account_id":10674291,"reputation":88,"user_id":10067428,"display_name":"Raphael Hagi"},"score":0,"creation_date":1556543879,"post_id":55868097,"comment_id":98464036,"body_markdown":"Do you really need to maintain the original filename? If this is true, ok. You just need to care about the filename itself. I guy can send to  you a .cmd, .bat, .exe somethig like that. If you take care about this issue, can you mark this as false positive.","body":"Do you really need to maintain the original filename? If this is true, ok. You just need to care about the filename itself. I guy can send to  you a .cmd, .bat, .exe somethig like that. If you take care about this issue, can you mark this as false positive."}],"tags":[],"owner":{"account_id":10674291,"reputation":88,"user_id":10067428,"display_name":"Raphael Hagi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556283247,"creation_date":1556283247,"answer_id":55868097,"question_id":55823435,"body_markdown":"This &quot;sUnsanitized&quot; variable comes from user input? Maybe this is your real problem.\r\n\r\nNever trust in user input its a number one rule to develpment.","title":"How to fix Fortify Path Manipulation ( Input Validation and Representation , Data Flow ) vulnerability","body":"<p>This \"sUnsanitized\" variable comes from user input? Maybe this is your real problem.</p>\n\n<p>Never trust in user input its a number one rule to develpment.</p>\n"}],"owner":{"account_id":15804504,"reputation":63,"user_id":11403344,"display_name":"RaVin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699275635,"creation_date":1556086310,"question_id":55823435,"body_markdown":"I am getting fortify path manipulation vulnerability for creating a file with new keyword \r\n\r\nI have tried to sanitize the path before passing it to File object, but the problem persists.\r\nTried this link also:\r\nhttps://www.securecoding.cert.org/confluence/display/java/FIO00-J.+Do+not+operate+on+files+in+shared+directories\r\n\r\n```\r\npublic static String sanitizePath(String sUnsanitized) throws URISyntaxException, EncodingException {\r\n\r\n   String sSanitized = SAPI.encoder().canonicalize(sUnsanitized);\r\n   return sSanitized;\r\n\r\n}\r\n\r\n\r\n//// the main method code snippet /////\r\n\r\nString sSanitizedPath = Utils.sanitizePath(file.getOriginalFilename());\r\n\r\n-- fortify scan detects problem here ..in below line --\r\n\r\nFile filePath = new File(AppInitializer.UPLOAD_LOCATION, sSanitizedPath);\r\n\r\nString canonicalPath = filePath.getCanonicalPath();\r\nFileOutputStream fileOutputStream = new FileOutputStream(canonicalPath);\r\n```\r\nAfter the santizePath , I thought the scan will be not pick ,vulnerabilit but , it did.","title":"How to fix Fortify Path Manipulation ( Input Validation and Representation , Data Flow ) vulnerability","body":"<p>I am getting fortify path manipulation vulnerability for creating a file with new keyword </p>\n\n<p>I have tried to sanitize the path before passing it to File object, but the problem persists.\nTried this link also:\n<a href=\"https://www.securecoding.cert.org/confluence/display/java/FIO00-J.+Do+not+operate+on+files+in+shared+directories\" rel=\"nofollow noreferrer\">https://www.securecoding.cert.org/confluence/display/java/FIO00-J.+Do+not+operate+on+files+in+shared+directories</a></p>\n\n<pre><code>public static String sanitizePath(String sUnsanitized) throws URISyntaxException, EncodingException {\n\n   String sSanitized = SAPI.encoder().canonicalize(sUnsanitized);\n   return sSanitized;\n\n}\n\n\n//// the main method code snippet /////\n\nString sSanitizedPath = Utils.sanitizePath(file.getOriginalFilename());\n\n-- fortify scan detects problem here ..in below line --\n\nFile filePath = new File(AppInitializer.UPLOAD_LOCATION, sSanitizedPath);\n\nString canonicalPath = filePath.getCanonicalPath();\nFileOutputStream fileOutputStream = new FileOutputStream(canonicalPath);\n</code></pre>\n\n<p>After the santizePath , I thought the scan will be not pick ,vulnerabilit but , it did.</p>\n"},{"tags":["java","spring","https","exception"],"comments":[{"owner":{"account_id":9457510,"reputation":348,"user_id":7032335,"accept_rate":55,"display_name":"Mike.Chun"},"score":0,"creation_date":1490851230,"post_id":43109014,"comment_id":73298575,"body_markdown":"@FarazDurrani Thank you!, I will attempt that tomorrow when I get on my programming computer.","body":"@FarazDurrani Thank you!, I will attempt that tomorrow when I get on my programming computer."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1490851309,"post_id":43109014,"comment_id":73298605,"body_markdown":"forget about it. That solution is not correct. Instead, take a look at this: http://springinpractice.com/2013/10/07/handling-json-error-object-responses-with-springs-resttemplate","body":"forget about it. That solution is not correct. Instead, take a look at this: <a href=\"http://springinpractice.com/2013/10/07/handling-json-error-object-responses-with-springs-resttemplate\" rel=\"nofollow noreferrer\">springinpractice.com/2013/10/07/&hellip;</a>"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1490851535,"post_id":43109014,"comment_id":73298694,"body_markdown":"Sorry, this is not the way StackOverflow works.  Questions of the form _&quot;I want to do X, please give me tips and/or sample code&quot;_ are considered off-topic.  Please visit the [help] and read [ask], and especially read [Why is Can someone help me? not an actual question?](http://meta.stackoverflow.com/q/284236/18157)","body":"Sorry, this is not the way StackOverflow works.  Questions of the form <i>&quot;I want to do X, please give me tips and/or sample code&quot;</i> are considered off-topic.  Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and especially read <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is Can someone help me? not an actual question?</a>"},{"owner":{"account_id":9457510,"reputation":348,"user_id":7032335,"accept_rate":55,"display_name":"Mike.Chun"},"score":0,"creation_date":1490853273,"post_id":43109014,"comment_id":73299427,"body_markdown":"@JimGarrison The problem is clear, and the OP needs help accomplishing the tasks. I do not need no code samples just a hint would help answer my question.","body":"@JimGarrison The problem is clear, and the OP needs help accomplishing the tasks. I do not need no code samples just a hint would help answer my question."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1490853416,"post_id":43109014,"comment_id":73299493,"body_markdown":"Without seeing your code nobody can possibly help. The question is off-topic.","body":"Without seeing your code nobody can possibly help. The question is off-topic."},{"owner":{"account_id":9457510,"reputation":348,"user_id":7032335,"accept_rate":55,"display_name":"Mike.Chun"},"score":0,"creation_date":1490896229,"post_id":43109014,"comment_id":73329034,"body_markdown":"@JimGarrison Revised.","body":"@JimGarrison Revised."}],"answers":[{"tags":[],"owner":{"account_id":4747025,"reputation":528,"user_id":3838083,"display_name":"Cyphrags"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1490851236,"creation_date":1490851236,"answer_id":43109146,"question_id":43109014,"body_markdown":"I don&#39;t know if this applies to your problem (as you did not provide your code yet) but this might help: \r\n\r\n    @ResponseStatus(value=HttpStatus.NOT_FOUND, reason=&quot;No such Order&quot;)  // 404\r\n     public class OrderNotFoundException extends RuntimeException {\r\n         // ...\r\n     }\r\n\r\nYou can basically add the @ResponseStatus to a function inside your class, set the value to the appropriate one (in your case INTERNAL_SERVER_ERROR as shown [here][1]).\r\n\r\nI hope this helps! If not, please provide your code.\r\n\r\nMaybe this link about Exception-Handling in spring might help: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpStatus.html#INTERNAL_SERVER_ERROR","title":"How to handle HttpServerErrorException?","body":"<p>I don't know if this applies to your problem (as you did not provide your code yet) but this might help: </p>\n\n<pre><code>@ResponseStatus(value=HttpStatus.NOT_FOUND, reason=\"No such Order\")  // 404\n public class OrderNotFoundException extends RuntimeException {\n     // ...\n }\n</code></pre>\n\n<p>You can basically add the @ResponseStatus to a function inside your class, set the value to the appropriate one (in your case INTERNAL_SERVER_ERROR as shown <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpStatus.html#INTERNAL_SERVER_ERROR\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>I hope this helps! If not, please provide your code.</p>\n\n<p>Maybe this link about Exception-Handling in spring might help: <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a></p>\n"}],"owner":{"account_id":9457510,"reputation":348,"user_id":7032335,"accept_rate":55,"display_name":"Mike.Chun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13555,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699275635,"creation_date":1490850551,"question_id":43109014,"body_markdown":"I am currently using java and spring boot to get authorized in a API. It depends on the value that users inserts to see weather the api is valid or not.If it&#39;s valid it would basically display data.\r\n\r\n**Main Problem**\r\n\r\nWhen user enters wrong value in the end of the api. I get error 500 &quot;internal server error&quot; and it stops my spring application. I want to create an exception where it would catch this error and spits out that there&#39;s an error 500 rather than stopping my application. Even with wrong value I want my application to continue running. \r\n\r\n**Error**\r\n\r\nWhen users enter the wrong params I receive an error below\r\n\r\n     org.springframework.web.client.HttpServerErrorException: 500 Internal Server Error \r\n\r\nHow can I override it, so that even if user enter wrong data, Don&#39;t break my application and continue running. Just display Null for data.\r\n\r\n**Attempt to handle**\r\n\r\nI was able to allow my application to continue running with following code below\r\n\r\n    try {  //OauthRestTemplate exhanges credentials for api access\r\n     } catch (HttpServerErrorException e ) {    \t    \t\r\n       e.getStatusCode();\r\n       logger.info(e + &quot;Server bypass, Continue running application&quot;);\r\n     \t//allow application to continue running but does not display the actual message that would be on the api.\r\n    \t    }\r\n      //output\r\n       org.springframework.web.client.HttpServerErrorException: 500 Internal Server ErrorServer bypass, Continue running application\r\n      \r\n\r\nBut I want it to by pass the status 500 and display the actual message when I am on the api with wrong parameters. I should receive the same values that are printed on the api. Example Below\r\n\r\n    {&quot;message&quot;:&quot;Physical resource does not exist for mac address: D&quot;,&quot;code&quot;:&quot;APRO-2001&quot;,&quot;timestamp&quot;:1490895756655,&quot;type&quot;:&quot;com.server.camp.framework.exception.ErrorResponse&quot;,&quot;status&quot;:&quot;INTERNAL_SERVER_ERROR&quot;}\r\n    ","title":"How to handle HttpServerErrorException?","body":"<p>I am currently using java and spring boot to get authorized in a API. It depends on the value that users inserts to see weather the api is valid or not.If it's valid it would basically display data.</p>\n\n<p><strong>Main Problem</strong></p>\n\n<p>When user enters wrong value in the end of the api. I get error 500 \"internal server error\" and it stops my spring application. I want to create an exception where it would catch this error and spits out that there's an error 500 rather than stopping my application. Even with wrong value I want my application to continue running. </p>\n\n<p><strong>Error</strong></p>\n\n<p>When users enter the wrong params I receive an error below</p>\n\n<pre><code> org.springframework.web.client.HttpServerErrorException: 500 Internal Server Error \n</code></pre>\n\n<p>How can I override it, so that even if user enter wrong data, Don't break my application and continue running. Just display Null for data.</p>\n\n<p><strong>Attempt to handle</strong></p>\n\n<p>I was able to allow my application to continue running with following code below</p>\n\n<pre><code>try {  //OauthRestTemplate exhanges credentials for api access\n } catch (HttpServerErrorException e ) {                \n   e.getStatusCode();\n   logger.info(e + \"Server bypass, Continue running application\");\n    //allow application to continue running but does not display the actual message that would be on the api.\n        }\n  //output\n   org.springframework.web.client.HttpServerErrorException: 500 Internal Server ErrorServer bypass, Continue running application\n</code></pre>\n\n<p>But I want it to by pass the status 500 and display the actual message when I am on the api with wrong parameters. I should receive the same values that are printed on the api. Example Below</p>\n\n<pre><code>{\"message\":\"Physical resource does not exist for mac address: D\",\"code\":\"APRO-2001\",\"timestamp\":1490895756655,\"type\":\"com.server.camp.framework.exception.ErrorResponse\",\"status\":\"INTERNAL_SERVER_ERROR\"}\n</code></pre>\n"},{"tags":["java","reflection","terminology"],"comments":[{"owner":{"account_id":3292987,"reputation":11366,"user_id":2770850,"accept_rate":85,"display_name":"Nabin"},"score":16,"creation_date":1478149337,"post_id":37628,"comment_id":68039313,"body_markdown":"For me it is a way of getting class names at runtime and creating objects of that class.","body":"For me it is a way of getting class names at runtime and creating objects of that class."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":106,"creation_date":1491342345,"post_id":37628,"comment_id":73507666,"body_markdown":"because this is a popular question I&#39;d like to point out that reflection (Without annotations) should be the very last tool you go to when solving a problem.  I use it and love it, but it cancels out all the advantages of Java&#39;s static typing.  If you do need it, isolate it to as small an area as possible (One method or one class).  It&#39;s more acceptable to use it in tests than production code.   With annotations it should be fine--The main point is not to specify class or method names as &quot;Strings&quot; if you can possibly avoid it.","body":"because this is a popular question I&#39;d like to point out that reflection (Without annotations) should be the very last tool you go to when solving a problem.  I use it and love it, but it cancels out all the advantages of Java&#39;s static typing.  If you do need it, isolate it to as small an area as possible (One method or one class).  It&#39;s more acceptable to use it in tests than production code.   With annotations it should be fine--The main point is not to specify class or method names as &quot;Strings&quot; if you can possibly avoid it."},{"owner":{"account_id":5013,"reputation":14613,"user_id":7852,"accept_rate":74,"display_name":"givanse"},"score":2,"creation_date":1524263686,"post_id":37628,"comment_id":86917776,"body_markdown":"see also: https://softwareengineering.stackexchange.com/questions/123956/why-should-i-use-reflection","body":"see also: <a href=\"https://softwareengineering.stackexchange.com/questions/123956/why-should-i-use-reflection\" title=\"why should i use reflection\">softwareengineering.stackexchange.com/questions/123956/&hellip;</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":9,"creation_date":1542891776,"post_id":37628,"comment_id":93737016,"body_markdown":"In addition to @BillK&#39;s comment: Reflection is very powerful, I&#39;d call it magic. With great power comes great responsibility. Use it only if you know what you&#39;re doing.","body":"In addition to @BillK&#39;s comment: Reflection is very powerful, I&#39;d call it magic. With great power comes great responsibility. Use it only if you know what you&#39;re doing."},{"owner":{"account_id":5006,"reputation":12120,"user_id":7839,"accept_rate":96,"display_name":"Trap"},"score":0,"creation_date":1591839694,"post_id":37628,"comment_id":110211449,"body_markdown":"@BillK Why would someone use reflection over static typing if it wasn&#39;t for a good reason?","body":"@BillK Why would someone use reflection over static typing if it wasn&#39;t for a good reason?"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":3,"creation_date":1591995824,"post_id":37628,"comment_id":110276211,"body_markdown":"@Trap I dont know, thats why I was recommending against itits really annoying when I run into reflection when there were other solutions available, or reflection that isnt isolated to a very small, constrained and clearly documented area of the code.  But asking why programmers do what they do is beyond my ability to answer.","body":"@Trap I dont know, thats why I was recommending against itits really annoying when I run into reflection when there were other solutions available, or reflection that isnt isolated to a very small, constrained and clearly documented area of the code.  But asking why programmers do what they do is beyond my ability to answer."}],"answers":[{"comments":[{"owner":{"account_id":1803342,"reputation":305,"user_id":1641086,"accept_rate":73,"display_name":"Chaitanya Gudala"},"score":43,"creation_date":1353650377,"post_id":37632,"comment_id":18514696,"body_markdown":"can u please explain what is the significance of that null parameter in this line Method method = foo.getClass().getMethod(&quot;doSomething&quot;, null);","body":"can u please explain what is the significance of that null parameter in this line Method method = foo.getClass().getMethod(&quot;doSomething&quot;, null);"},{"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"score":64,"creation_date":1353978859,"post_id":37632,"comment_id":18603998,"body_markdown":"The null indicates there are no parameters being passed to the foo method. See http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Method.html#invoke(java.lang.Object, java.lang.Object...) for details.","body":"The null indicates there are no parameters being passed to the foo method. See <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Method.html#invoke(java.lang.Object\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/reflect/&hellip;</a>, java.lang.Object...) for details."},{"owner":{"account_id":1208116,"reputation":4903,"user_id":1177198,"accept_rate":66,"display_name":"bigtunacan"},"score":894,"creation_date":1363059991,"post_id":37632,"comment_id":21688679,"body_markdown":"Just to clear up since this has so many upvotes.  The ability to inspect the code in the system and see object types is not reflection, but rather Type Introspection.  Reflection is then the ability to make modifications at runtime by making use of introspection.  The distinction is necessary here as some languages support introspection, but do not support reflection.  One such example is C++.","body":"Just to clear up since this has so many upvotes.  The ability to inspect the code in the system and see object types is not reflection, but rather Type Introspection.  Reflection is then the ability to make modifications at runtime by making use of introspection.  The distinction is necessary here as some languages support introspection, but do not support reflection.  One such example is C++."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":54,"creation_date":1375113001,"post_id":37632,"comment_id":26194778,"body_markdown":"I love reflection but if you have control over the code then using reflection as specified in this answer is unnessary and therefore an abuse--You should use Type Introspection (instanceof) and strong types. If there is any way but reflection to do something, that&#39;s how it should be done. Reflection causes serious heartache because you lose all advantages of using a statically typed language. If you need it you need it, however even then I&#39;d consider a pre-packaged solution like Spring or something that completely encapsulates the reflection necessary--IE: let someone else have the headaches.","body":"I love reflection but if you have control over the code then using reflection as specified in this answer is unnessary and therefore an abuse--You should use Type Introspection (instanceof) and strong types. If there is any way but reflection to do something, that&#39;s how it should be done. Reflection causes serious heartache because you lose all advantages of using a statically typed language. If you need it you need it, however even then I&#39;d consider a pre-packaged solution like Spring or something that completely encapsulates the reflection necessary--IE: let someone else have the headaches."},{"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"score":3,"creation_date":1403185863,"post_id":37632,"comment_id":37568114,"body_markdown":"Isn&#39;t introspection the same as self-reflection?","body":"Isn&#39;t introspection the same as self-reflection?"},{"owner":{"account_id":1741826,"reputation":1818,"user_id":1593007,"accept_rate":76,"display_name":"nww04"},"score":0,"creation_date":1453907094,"post_id":37632,"comment_id":57806067,"body_markdown":"I just realize one thing maybe this is what I am doing in JavaScript? I open up firebugs/chrome inspector plug a break point and see what my code doing on that point, also looking for methods if it exists on an instance and try it out and check what it spits out? All this done on runtime. If this is the case wow, this is what it is.","body":"I just realize one thing maybe this is what I am doing in JavaScript? I open up firebugs/chrome inspector plug a break point and see what my code doing on that point, also looking for methods if it exists on an instance and try it out and check what it spits out? All this done on runtime. If this is the case wow, this is what it is."},{"owner":{"account_id":2066541,"reputation":805,"user_id":1841956,"accept_rate":67,"display_name":"RestInPeace"},"score":8,"creation_date":1461922466,"post_id":37632,"comment_id":61428768,"body_markdown":"@bigtunacan Where did you get that information from? I see the term &quot;reflection&quot; used in official Java documentation from Oracle to describe not only the ability to make changes at runtime but also the ability to see the type of an object. Not to mention that most so-called &quot;type introspection&quot; related classes (ex: `Method`, `Constructor`, `Modifier`, `Field`, `Member`, basically apparently all except `Class`) are within the `java.lang.*reflect*` package. Perhaps the concept &quot;reflection&quot; comprehensively includes both &quot;type introspection&quot; and modification at run-time?","body":"@bigtunacan Where did you get that information from? I see the term &quot;reflection&quot; used in official Java documentation from Oracle to describe not only the ability to make changes at runtime but also the ability to see the type of an object. Not to mention that most so-called &quot;type introspection&quot; related classes (ex: <code>Method</code>, <code>Constructor</code>, <code>Modifier</code>, <code>Field</code>, <code>Member</code>, basically apparently all except <code>Class</code>) are within the <code>java.lang.*reflect*</code> package. Perhaps the concept &quot;reflection&quot; comprehensively includes both &quot;type introspection&quot; and modification at run-time?"},{"owner":{"account_id":1208116,"reputation":4903,"user_id":1177198,"accept_rate":66,"display_name":"bigtunacan"},"score":5,"creation_date":1461934409,"post_id":37632,"comment_id":61436753,"body_markdown":"@RestInPeace, that is a correct assumption.  Reflection relies on introspection and so encompasses that as a piece.  My comment was to clarify that reflection allows runtime modifications.  The answer gives an example that shows these runtime modifications occurring, but defines reflection as just the ability to do the introspection. This question has very high SEO for reflection and I thought it important to add additional clarification.","body":"@RestInPeace, that is a correct assumption.  Reflection relies on introspection and so encompasses that as a piece.  My comment was to clarify that reflection allows runtime modifications.  The answer gives an example that shows these runtime modifications occurring, but defines reflection as just the ability to do the introspection. This question has very high SEO for reflection and I thought it important to add additional clarification."},{"owner":{"account_id":5519,"reputation":70083,"user_id":8922,"accept_rate":75,"display_name":"Sebastian Redl"},"score":0,"creation_date":1486371966,"post_id":37632,"comment_id":71299313,"body_markdown":"C++ does not, at this time, support type introspection in any relevant way. It is planned for a future version. Some external tools (such as Qt&#39;s moc) extend C++ with type introspection capabilities.","body":"C++ does not, at this time, support type introspection in any relevant way. It is planned for a future version. Some external tools (such as Qt&#39;s moc) extend C++ with type introspection capabilities."},{"owner":{"account_id":7759221,"reputation":1261,"user_id":5872507,"accept_rate":80,"display_name":"Lucas"},"score":0,"creation_date":1490363471,"post_id":37632,"comment_id":73091950,"body_markdown":"C# have dynamic objects and anonymous objects too, like `ExpandoObject`","body":"C# have dynamic objects and anonymous objects too, like <code>ExpandoObject</code>"},{"owner":{"account_id":7605211,"reputation":1533,"user_id":5768269,"accept_rate":79,"display_name":"Wesos de Queso"},"score":0,"creation_date":1501454867,"post_id":37632,"comment_id":77771242,"body_markdown":"It useless for non Java editors. It would be insane if you could modify classes attributes or methods at runtime.","body":"It useless for non Java editors. It would be insane if you could modify classes attributes or methods at runtime."},{"owner":{"account_id":5667261,"reputation":1536,"user_id":4483113,"display_name":"idelvall"},"score":0,"creation_date":1529304876,"post_id":37632,"comment_id":88807800,"body_markdown":"@bigtunacan that is not accurate, at least in the Java world. Reflection is the API to both get and set that information at runtime whereas introspection is the process of inspecting java beans, based on method naming convention and reflection https://stackoverflow.com/questions/2044446/java-introspection-and-reflection","body":"@bigtunacan that is not accurate, at least in the Java world. Reflection is the API to both get and set that information at runtime whereas introspection is the process of inspecting java beans, based on method naming convention and reflection <a href=\"https://stackoverflow.com/questions/2044446/java-introspection-and-reflection\" title=\"java introspection and reflection\">stackoverflow.com/questions/2044446/&hellip;</a>"},{"owner":{"account_id":7576919,"reputation":351,"user_id":5748982,"display_name":"Fritz"},"score":0,"creation_date":1654639325,"post_id":37632,"comment_id":128137839,"body_markdown":"Does the Java compiler require reflection?","body":"Does the Java compiler require reflection?"}],"tags":[],"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"comment_count":13,"down_vote_count":3,"up_vote_count":2012,"is_accepted":true,"score":2009,"last_activity_date":1583622532,"creation_date":1220258698,"answer_id":37632,"question_id":37628,"body_markdown":"The name reflection is used to describe code which is able to inspect other code in the same system (or itself).\r\n\r\nFor example, say you have an object of an unknown type in Java, and you would like to call a &#39;doSomething&#39; method on it if one exists. Java&#39;s static typing system isn&#39;t really designed to support this unless the object conforms to a known interface, but using reflection, your code can look at the object and find out if it has a method called &#39;doSomething&#39; and then call it if you want to.\r\n\r\nSo, to give you a code example of this in Java (imagine the object in question is foo) :\r\n\r\n    Method method = foo.getClass().getMethod(&quot;doSomething&quot;, null);\r\n    method.invoke(foo, null);\r\n\r\nOne very common use case in Java is the usage with annotations. JUnit 4, for example, will use reflection to look through your classes for methods tagged with the @Test annotation, and will then call them when running the unit test.\r\n\r\nThere are some good reflection examples to get you started at http://docs.oracle.com/javase/tutorial/reflect/index.html\r\n\r\nAnd finally, yes, the concepts are pretty much similar in other statically typed languages which support reflection (like C#). In dynamically typed languages, the use case described above is less necessary (since the compiler will allow any method to be called on any object, failing at runtime if it does not exist), but the second case of looking for methods which are marked or work in a certain way is still common.\r\n\r\n**Update from a comment:**\r\n\r\n&gt; The ability to inspect the code in the system and see object types is\r\n&gt; not reflection, but rather Type Introspection. Reflection is then the\r\n&gt; ability to make modifications at runtime by making use of\r\n&gt; introspection. The distinction is necessary here as some languages\r\n&gt; support introspection, but do not support reflection. One such example\r\n&gt; is C++\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/reflect/index.html","title":"What is reflection and why is it useful?","body":"<p>The name reflection is used to describe code which is able to inspect other code in the same system (or itself).</p>\n\n<p>For example, say you have an object of an unknown type in Java, and you would like to call a 'doSomething' method on it if one exists. Java's static typing system isn't really designed to support this unless the object conforms to a known interface, but using reflection, your code can look at the object and find out if it has a method called 'doSomething' and then call it if you want to.</p>\n\n<p>So, to give you a code example of this in Java (imagine the object in question is foo) :</p>\n\n<pre><code>Method method = foo.getClass().getMethod(\"doSomething\", null);\nmethod.invoke(foo, null);\n</code></pre>\n\n<p>One very common use case in Java is the usage with annotations. JUnit 4, for example, will use reflection to look through your classes for methods tagged with the @Test annotation, and will then call them when running the unit test.</p>\n\n<p>There are some good reflection examples to get you started at <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/reflect/index.html</a></p>\n\n<p>And finally, yes, the concepts are pretty much similar in other statically typed languages which support reflection (like C#). In dynamically typed languages, the use case described above is less necessary (since the compiler will allow any method to be called on any object, failing at runtime if it does not exist), but the second case of looking for methods which are marked or work in a certain way is still common.</p>\n\n<p><strong>Update from a comment:</strong></p>\n\n<blockquote>\n  <p>The ability to inspect the code in the system and see object types is\n  not reflection, but rather Type Introspection. Reflection is then the\n  ability to make modifications at runtime by making use of\n  introspection. The distinction is necessary here as some languages\n  support introspection, but do not support reflection. One such example\n  is C++</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1958,"reputation":51303,"user_id":2695,"accept_rate":85,"display_name":"Jorge C&#243;rdoba"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1585341443,"creation_date":1220259052,"answer_id":37634,"question_id":37628,"body_markdown":"Reflection is a set of functions which allows you to access the runtime information of your program and modify it behavior (with some limitations).\r\n\r\nIt&#39;s useful because it allows you to change the runtime behavior depending on the meta information of your program, that is, you can check the return type of a function and change the way you handle the situation.\r\n\r\nIn C# for example you can load an assembly (a .dll) in runtime an examine it, navigating through the classes and taking actions according to what you found. It also let you create an instance of a class on runtime, invoke its method, etc.\r\n\r\nWhere can it be useful? Is not useful every time but for concrete situations. For example you can use it to get the name of the class for logging purposes, to dynamically create handlers for events according to what&#39;s specified on a configuration file and so on...","title":"What is reflection and why is it useful?","body":"<p>Reflection is a set of functions which allows you to access the runtime information of your program and modify it behavior (with some limitations).</p>\n\n<p>It's useful because it allows you to change the runtime behavior depending on the meta information of your program, that is, you can check the return type of a function and change the way you handle the situation.</p>\n\n<p>In C# for example you can load an assembly (a .dll) in runtime an examine it, navigating through the classes and taking actions according to what you found. It also let you create an instance of a class on runtime, invoke its method, etc.</p>\n\n<p>Where can it be useful? Is not useful every time but for concrete situations. For example you can use it to get the name of the class for logging purposes, to dynamically create handlers for events according to what's specified on a configuration file and so on...</p>\n"},{"tags":[],"owner":{"account_id":2391,"reputation":36935,"user_id":3320,"accept_rate":100,"display_name":"Mendelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1602215614,"creation_date":1220259057,"answer_id":37635,"question_id":37628,"body_markdown":"Not every language supports reflection, but the principles are usually the same in languages that support it.\r\n\r\nReflection is the ability to &quot;reflect&quot; on the structure of your program. Or more concrete. To look at the objects and classes you have and programmatically get back information on the methods, fields, and interfaces they implement. You can also look at things like annotations.\r\n\r\nIt&#39;s useful in a lot of situations. Everywhere you want to be able to dynamically plug in classes into your code. Lots of object relational mappers use reflection to be able to instantiate objects from databases without knowing in advance what objects they&#39;re going to use. Plug-in architectures is another place where reflection is useful. Being able to dynamically load code and determine if there are types there that implement the right interface to use as a plugin is important in those situations.","title":"What is reflection and why is it useful?","body":"<p>Not every language supports reflection, but the principles are usually the same in languages that support it.</p>\n<p>Reflection is the ability to &quot;reflect&quot; on the structure of your program. Or more concrete. To look at the objects and classes you have and programmatically get back information on the methods, fields, and interfaces they implement. You can also look at things like annotations.</p>\n<p>It's useful in a lot of situations. Everywhere you want to be able to dynamically plug in classes into your code. Lots of object relational mappers use reflection to be able to instantiate objects from databases without knowing in advance what objects they're going to use. Plug-in architectures is another place where reflection is useful. Being able to dynamically load code and determine if there are types there that implement the right interface to use as a plugin is important in those situations.</p>\n"},{"comments":[{"owner":{"account_id":369744,"reputation":990,"user_id":717290,"accept_rate":33,"display_name":"Fernando Gabrieli"},"score":3,"creation_date":1543700404,"post_id":37638,"comment_id":94014834,"body_markdown":"So in other words, you can create an instance out of it&#39;s qualified name and the compiler won&#39;t complain about it (because say you use just a String for the class name). Then, at run time, if that class is not present you get an exception. You kind of bypassed the compiler in this case. Would you give me some specific use case for this? I just can&#39;t picture when i would choose it.","body":"So in other words, you can create an instance out of it&#39;s qualified name and the compiler won&#39;t complain about it (because say you use just a String for the class name). Then, at run time, if that class is not present you get an exception. You kind of bypassed the compiler in this case. Would you give me some specific use case for this? I just can&#39;t picture when i would choose it."},{"owner":{"account_id":678,"reputation":10109,"user_id":890,"accept_rate":75,"display_name":"Liedman"},"score":4,"creation_date":1547555134,"post_id":37638,"comment_id":95224252,"body_markdown":"@FernandoGabrieli while it is true that it is easy to create runtime errors with reflection, it is also perfectly possible to use reflection without risking runtime exceptions. As hinted in my answer, a common use of reflection is for libraries or frameworks, which explicitly _can&#39;t_ know the structure of the application at compile time, since they are compiled separate from the application. Any library that uses &quot;code by convention&quot; is likely to use reflection, but not necessarily using magic strings.","body":"@FernandoGabrieli while it is true that it is easy to create runtime errors with reflection, it is also perfectly possible to use reflection without risking runtime exceptions. As hinted in my answer, a common use of reflection is for libraries or frameworks, which explicitly <i>can&#39;t</i> know the structure of the application at compile time, since they are compiled separate from the application. Any library that uses &quot;code by convention&quot; is likely to use reflection, but not necessarily using magic strings."},{"owner":{"account_id":13414497,"reputation":29015,"user_id":10147399,"display_name":"Aykhan Hagverdili"},"score":1,"creation_date":1576009930,"post_id":37638,"comment_id":104756885,"body_markdown":"`C++` does have Run-time type information. [RTTI](https://en.wikipedia.org/wiki/Run-time_type_information)","body":"<code>C++</code> does have Run-time type information. <a href=\"https://en.wikipedia.org/wiki/Run-time_type_information\" rel=\"nofollow noreferrer\">RTTI</a>"}],"tags":[],"owner":{"account_id":678,"reputation":10109,"user_id":890,"accept_rate":75,"display_name":"Liedman"},"comment_count":3,"down_vote_count":0,"up_vote_count":298,"is_accepted":false,"score":298,"last_activity_date":1453595815,"creation_date":1220259149,"answer_id":37638,"question_id":37628,"body_markdown":"&gt; **Reflection** is a language&#39;s ability to inspect and dynamically call classes, methods, attributes, etc. at runtime.\r\n\r\nFor example, all objects in Java have the method `getClass()`, which lets you determine the object&#39;s class even if you don&#39;t know it at compile time (e.g. if you declared it as an `Object`) - this might seem trivial, but such reflection is not possible in less dynamic languages such as `C++`. More advanced uses lets you list and call methods, constructors, etc.\r\n\r\nReflection is important since it lets you write programs that do not have to &quot;know&quot; everything at compile time, making them more dynamic, since they can be tied together at runtime. The code can be written against known interfaces, but the actual classes to be used can be instantiated using reflection from configuration files.\r\n\r\nLots of modern frameworks use reflection extensively for this very reason. Most other modern languages use reflection as well, and in scripting languages (such as Python) they are even more tightly integrated, since it feels more natural within the general programming model of those languages.","title":"What is reflection and why is it useful?","body":"<blockquote>\n  <p><strong>Reflection</strong> is a language's ability to inspect and dynamically call classes, methods, attributes, etc. at runtime.</p>\n</blockquote>\n\n<p>For example, all objects in Java have the method <code>getClass()</code>, which lets you determine the object's class even if you don't know it at compile time (e.g. if you declared it as an <code>Object</code>) - this might seem trivial, but such reflection is not possible in less dynamic languages such as <code>C++</code>. More advanced uses lets you list and call methods, constructors, etc.</p>\n\n<p>Reflection is important since it lets you write programs that do not have to \"know\" everything at compile time, making them more dynamic, since they can be tied together at runtime. The code can be written against known interfaces, but the actual classes to be used can be instantiated using reflection from configuration files.</p>\n\n<p>Lots of modern frameworks use reflection extensively for this very reason. Most other modern languages use reflection as well, and in scripting languages (such as Python) they are even more tightly integrated, since it feels more natural within the general programming model of those languages.</p>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"comment_count":0,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1220261455,"creation_date":1220261455,"answer_id":37659,"question_id":37628,"body_markdown":"Reflection is a key mechanism to allow an application or framework to work with code that might not have even been written yet!\r\n\r\nTake for example your typical web.xml file. This will contain a list of servlet elements, which contain nested servlet-class elements. The servlet container will process the web.xml file, and create new a new instance of each servlet class through reflection.\r\n\r\nAnother example would be the Java API for XML Parsing [(JAXP)](http://en.wikipedia.org/wiki/Java_API_for_XML_Processing). Where an XML parser provider is &#39;plugged-in&#39; via well-known system properties, which are used to construct new instances through reflection.\r\n\r\nAnd finally, the most comprehensive example is [Spring](http://www.springframework.org/) which uses reflection to create its beans, and for its heavy use of proxies","title":"What is reflection and why is it useful?","body":"<p>Reflection is a key mechanism to allow an application or framework to work with code that might not have even been written yet!</p>\n\n<p>Take for example your typical web.xml file. This will contain a list of servlet elements, which contain nested servlet-class elements. The servlet container will process the web.xml file, and create new a new instance of each servlet class through reflection.</p>\n\n<p>Another example would be the Java API for XML Parsing <a href=\"http://en.wikipedia.org/wiki/Java_API_for_XML_Processing\" rel=\"noreferrer\">(JAXP)</a>. Where an XML parser provider is 'plugged-in' via well-known system properties, which are used to construct new instances through reflection.</p>\n\n<p>And finally, the most comprehensive example is <a href=\"http://www.springframework.org/\" rel=\"noreferrer\">Spring</a> which uses reflection to create its beans, and for its heavy use of proxies</p>\n"},{"comments":[{"owner":{"account_id":19582,"reputation":7930,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":8,"creation_date":1272546371,"post_id":39918,"comment_id":2765837,"body_markdown":"What should Callcount be set to?","body":"What should Callcount be set to?"},{"owner":{"account_id":19582,"reputation":7930,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":9,"creation_date":1272546801,"post_id":39918,"comment_id":2765892,"body_markdown":"I got a Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.StackOverflowError when I ran this.","body":"I got a Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.StackOverflowError when I ran this."},{"owner":{"account_id":166642,"reputation":31837,"user_id":390897,"accept_rate":84,"display_name":"fny"},"score":3,"creation_date":1353650971,"post_id":39918,"comment_id":18514842,"body_markdown":"@Tom `callCount` should be set to zero. It&#39;s value is used to determine how many tabs should precede each line of output: each time dump needs to dump a &quot;subobject&quot;, the output would print as nested in the parent. That method proves useful when wrapped in another. Consider `printDump(Object obj){  System.out.println(dump(obj, 0)); }`.","body":"@Tom <code>callCount</code> should be set to zero. It&#39;s value is used to determine how many tabs should precede each line of output: each time dump needs to dump a &quot;subobject&quot;, the output would print as nested in the parent. That method proves useful when wrapped in another. Consider <code>printDump(Object obj){  System.out.println(dump(obj, 0)); }</code>."},{"owner":{"account_id":407289,"reputation":12152,"user_id":777285,"accept_rate":50,"display_name":"Arnaud P"},"score":1,"creation_date":1372719782,"post_id":39918,"comment_id":25291145,"body_markdown":"The java.lang.StackOverflowError might be created in case of circular references, because of the unchecked recursion: buffer.append(dump(value, callCount))","body":"The java.lang.StackOverflowError might be created in case of circular references, because of the unchecked recursion: buffer.append(dump(value, callCount))"},{"owner":{"account_id":17533,"reputation":5283,"user_id":39334,"accept_rate":81,"display_name":"stolsvik"},"score":4,"creation_date":1381226787,"post_id":39918,"comment_id":28486396,"body_markdown":"Can you specifically release your code to Public Domain, pretty please?","body":"Can you specifically release your code to Public Domain, pretty please?"},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1575997105,"post_id":39918,"comment_id":104751408,"body_markdown":"@stolsvik Don&#39;t SO TOS say that whatever is posted here automatically goes into the public domain or something like that? I&#39;m genuinely asking a question there so don&#39;t think that I&#39;m making a statement.","body":"@stolsvik Don&#39;t SO TOS say that whatever is posted here automatically goes into the public domain or something like that? I&#39;m genuinely asking a question there so don&#39;t think that I&#39;m making a statement."},{"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"score":1,"creation_date":1590005387,"post_id":39918,"comment_id":109521312,"body_markdown":"@TheRealChx101 Yea, not public domain, but a permissive license, CC BY-SA. https://stackoverflow.com/help/licensing","body":"@TheRealChx101 Yea, not public domain, but a permissive license, CC BY-SA. <a href=\"https://stackoverflow.com/help/licensing\">stackoverflow.com/help/licensing</a>"},{"owner":{"account_id":2567026,"reputation":123,"user_id":2226792,"display_name":"Sergejs Visockis"},"score":0,"creation_date":1670750840,"post_id":39918,"comment_id":131941793,"body_markdown":"Looks fragile. What about code quality?","body":"Looks fragile. What about code quality?"}],"tags":[],"owner":{"account_id":1787,"reputation":2297,"user_id":2453,"accept_rate":80,"display_name":"Ben Williams"},"comment_count":8,"down_vote_count":3,"up_vote_count":130,"is_accepted":false,"score":127,"last_activity_date":1548720502,"creation_date":1220372128,"answer_id":39918,"question_id":37628,"body_markdown":"One of my favorite uses of reflection is the below Java dump method. It takes any object as a parameter and uses the Java reflection API to print out every field name and value.\r\n\r\n    import java.lang.reflect.Array;\r\n    import java.lang.reflect.Field;\r\n    \r\n    public static String dump(Object o, int callCount) {\r\n        callCount++;\r\n        StringBuffer tabs = new StringBuffer();\r\n        for (int k = 0; k &lt; callCount; k++) {\r\n            tabs.append(&quot;\\t&quot;);\r\n        }\r\n        StringBuffer buffer = new StringBuffer();\r\n        Class oClass = o.getClass();\r\n        if (oClass.isArray()) {\r\n            buffer.append(&quot;\\n&quot;);\r\n            buffer.append(tabs.toString());\r\n            buffer.append(&quot;[&quot;);\r\n            for (int i = 0; i &lt; Array.getLength(o); i++) {\r\n                if (i &lt; 0)\r\n                    buffer.append(&quot;,&quot;);\r\n                Object value = Array.get(o, i);\r\n                if (value.getClass().isPrimitive() ||\r\n                        value.getClass() == java.lang.Long.class ||\r\n                        value.getClass() == java.lang.String.class ||\r\n                        value.getClass() == java.lang.Integer.class ||\r\n                        value.getClass() == java.lang.Boolean.class\r\n                        ) {\r\n                    buffer.append(value);\r\n                } else {\r\n                    buffer.append(dump(value, callCount));\r\n                }\r\n            }\r\n            buffer.append(tabs.toString());\r\n            buffer.append(&quot;]\\n&quot;);\r\n        } else {\r\n            buffer.append(&quot;\\n&quot;);\r\n            buffer.append(tabs.toString());\r\n            buffer.append(&quot;{\\n&quot;);\r\n            while (oClass != null) {\r\n                Field[] fields = oClass.getDeclaredFields();\r\n                for (int i = 0; i &lt; fields.length; i++) {\r\n                    buffer.append(tabs.toString());\r\n                    fields[i].setAccessible(true);\r\n                    buffer.append(fields[i].getName());\r\n                    buffer.append(&quot;=&quot;);\r\n                    try {\r\n                        Object value = fields[i].get(o);\r\n                        if (value != null) {\r\n                            if (value.getClass().isPrimitive() ||\r\n                                    value.getClass() == java.lang.Long.class ||\r\n                                    value.getClass() == java.lang.String.class ||\r\n                                    value.getClass() == java.lang.Integer.class ||\r\n                                    value.getClass() == java.lang.Boolean.class\r\n                                    ) {\r\n                                buffer.append(value);\r\n                            } else {\r\n                                buffer.append(dump(value, callCount));\r\n                            }\r\n                        }\r\n                    } catch (IllegalAccessException e) {\r\n                        buffer.append(e.getMessage());\r\n                    }\r\n                    buffer.append(&quot;\\n&quot;);\r\n                }\r\n                oClass = oClass.getSuperclass();\r\n            }\r\n            buffer.append(tabs.toString());\r\n            buffer.append(&quot;}\\n&quot;);\r\n        }\r\n        return buffer.toString();\r\n    }","title":"What is reflection and why is it useful?","body":"<p>One of my favorite uses of reflection is the below Java dump method. It takes any object as a parameter and uses the Java reflection API to print out every field name and value.</p>\n\n<pre><code>import java.lang.reflect.Array;\nimport java.lang.reflect.Field;\n\npublic static String dump(Object o, int callCount) {\n    callCount++;\n    StringBuffer tabs = new StringBuffer();\n    for (int k = 0; k &lt; callCount; k++) {\n        tabs.append(\"\\t\");\n    }\n    StringBuffer buffer = new StringBuffer();\n    Class oClass = o.getClass();\n    if (oClass.isArray()) {\n        buffer.append(\"\\n\");\n        buffer.append(tabs.toString());\n        buffer.append(\"[\");\n        for (int i = 0; i &lt; Array.getLength(o); i++) {\n            if (i &lt; 0)\n                buffer.append(\",\");\n            Object value = Array.get(o, i);\n            if (value.getClass().isPrimitive() ||\n                    value.getClass() == java.lang.Long.class ||\n                    value.getClass() == java.lang.String.class ||\n                    value.getClass() == java.lang.Integer.class ||\n                    value.getClass() == java.lang.Boolean.class\n                    ) {\n                buffer.append(value);\n            } else {\n                buffer.append(dump(value, callCount));\n            }\n        }\n        buffer.append(tabs.toString());\n        buffer.append(\"]\\n\");\n    } else {\n        buffer.append(\"\\n\");\n        buffer.append(tabs.toString());\n        buffer.append(\"{\\n\");\n        while (oClass != null) {\n            Field[] fields = oClass.getDeclaredFields();\n            for (int i = 0; i &lt; fields.length; i++) {\n                buffer.append(tabs.toString());\n                fields[i].setAccessible(true);\n                buffer.append(fields[i].getName());\n                buffer.append(\"=\");\n                try {\n                    Object value = fields[i].get(o);\n                    if (value != null) {\n                        if (value.getClass().isPrimitive() ||\n                                value.getClass() == java.lang.Long.class ||\n                                value.getClass() == java.lang.String.class ||\n                                value.getClass() == java.lang.Integer.class ||\n                                value.getClass() == java.lang.Boolean.class\n                                ) {\n                            buffer.append(value);\n                        } else {\n                            buffer.append(dump(value, callCount));\n                        }\n                    }\n                } catch (IllegalAccessException e) {\n                    buffer.append(e.getMessage());\n                }\n                buffer.append(\"\\n\");\n            }\n            oClass = oClass.getSuperclass();\n        }\n        buffer.append(tabs.toString());\n        buffer.append(\"}\\n\");\n    }\n    return buffer.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1226118,"reputation":191,"user_id":1191613,"display_name":"pramod"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1364920206,"creation_date":1328506645,"answer_id":9155976,"question_id":37628,"body_markdown":"As per my understanding:\r\n\r\nReflection allows programmer to access entities in program dynamically. i.e. while coding an application if programmer is unaware about a class or its methods, he can make use of such class dynamically (at run time) by using reflection.\r\n\r\n\r\nIt is frequently used in scenarios where a class name changes frequently. If such a situation arises, then it is complicated for the programmer to rewrite the application and change the name of the class again and again.\r\n\r\nInstead, by using reflection, there is need to worry about a possibly changing class name.","title":"What is reflection and why is it useful?","body":"<p>As per my understanding:</p>\n\n<p>Reflection allows programmer to access entities in program dynamically. i.e. while coding an application if programmer is unaware about a class or its methods, he can make use of such class dynamically (at run time) by using reflection.</p>\n\n<p>It is frequently used in scenarios where a class name changes frequently. If such a situation arises, then it is complicated for the programmer to rewrite the application and change the name of the class again and again.</p>\n\n<p>Instead, by using reflection, there is need to worry about a possibly changing class name.</p>\n"},{"comments":[{"owner":{"account_id":2035945,"reputation":778,"user_id":1818295,"accept_rate":70,"display_name":"Atom"},"score":1,"creation_date":1434998531,"post_id":11159447,"comment_id":50004863,"body_markdown":"I need something similar.. An example would help me a lot as I am new to reflection concepts..","body":"I need something similar.. An example would help me a lot as I am new to reflection concepts.."},{"owner":{"account_id":2007701,"reputation":1209,"user_id":2133216,"accept_rate":75,"display_name":"ndm13"},"score":2,"creation_date":1515636577,"post_id":11159447,"comment_id":83378922,"body_markdown":"I&#39;m confused: can&#39;t you use `instanceof` to determine object type at runtime?","body":"I&#39;m confused: can&#39;t you use <code>instanceof</code> to determine object type at runtime?"}],"tags":[],"owner":{"account_id":1235179,"reputation":1372,"user_id":1198898,"display_name":"human.js"},"comment_count":2,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1565794543,"creation_date":1340379355,"answer_id":11159447,"question_id":37628,"body_markdown":"**Example:**\r\n\r\nTake for example a remote application which gives your application an object which you obtain using their API Methods . Now based on the object you might need to perform some sort of computation . \r\n\r\nThe provider guarantees that object can be of 3 types and we need to perform computation based on what type of object .\r\n\r\nSo we might implement in 3 classes each containing a different logic .Obviously the object  information is available in runtime so you cannot statically code to perform computation hence reflection is used to instantiate the object of the class that you require to perform the computation based on the object received from the provider .","title":"What is reflection and why is it useful?","body":"<p><strong>Example:</strong></p>\n\n<p>Take for example a remote application which gives your application an object which you obtain using their API Methods . Now based on the object you might need to perform some sort of computation . </p>\n\n<p>The provider guarantees that object can be of 3 types and we need to perform computation based on what type of object .</p>\n\n<p>So we might implement in 3 classes each containing a different logic .Obviously the object  information is available in runtime so you cannot statically code to perform computation hence reflection is used to instantiate the object of the class that you require to perform the computation based on the object received from the provider .</p>\n"},{"comments":[{"owner":{"account_id":1188523,"reputation":14452,"user_id":1161948,"accept_rate":92,"display_name":"ThisClark"},"score":1,"creation_date":1487123639,"post_id":16406534,"comment_id":71637985,"body_markdown":"This answer would be a lot better if you gave just one unusual example of generated code either from a SQL result or XML file etc.","body":"This answer would be a lot better if you gave just one unusual example of generated code either from a SQL result or XML file etc."},{"owner":{"account_id":2619138,"reputation":598,"user_id":2267583,"accept_rate":100,"display_name":"Ess Kay"},"score":0,"creation_date":1487270471,"post_id":16406534,"comment_id":71720810,"body_markdown":"No problem. I used reflection in a windows application that dynamically generates the interface based on XML taken from a database.","body":"No problem. I used reflection in a windows application that dynamically generates the interface based on XML taken from a database."},{"owner":{"account_id":2619138,"reputation":598,"user_id":2267583,"accept_rate":100,"display_name":"Ess Kay"},"score":0,"creation_date":1487270710,"post_id":16406534,"comment_id":71720943,"body_markdown":"So basically, there is a class I created which shows the user a report. This report has parameters such as Date(from to) id, or whatever else. This info is stored in xml. So first we have a report selection. Based on the report selected, the form gets the xml. Once the xml is retrieved, it uses reflection to create a class with fields based on reflected types. Once you change to a different report, the slate is wiped clean and new fields are generated based on the xml. So its essentially a dynamic form based on reflection. I also used in other ways but this should be suffecient Hope that helps","body":"So basically, there is a class I created which shows the user a report. This report has parameters such as Date(from to) id, or whatever else. This info is stored in xml. So first we have a report selection. Based on the report selected, the form gets the xml. Once the xml is retrieved, it uses reflection to create a class with fields based on reflected types. Once you change to a different report, the slate is wiped clean and new fields are generated based on the xml. So its essentially a dynamic form based on reflection. I also used in other ways but this should be suffecient Hope that helps"}],"tags":[],"owner":{"account_id":2619138,"reputation":598,"user_id":2267583,"accept_rate":100,"display_name":"Ess Kay"},"comment_count":3,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1435038439,"creation_date":1367871388,"answer_id":16406534,"question_id":37628,"body_markdown":"`Reflection` has many **uses**. The one I am more familiar with, is to be able to create code on the fly. \r\n\r\n&gt; IE: dynamic classes, functions, constructors - based on any data\r\n&gt; (xml/array/sql results/hardcoded/etc..)","title":"What is reflection and why is it useful?","body":"<p><code>Reflection</code> has many <strong>uses</strong>. The one I am more familiar with, is to be able to create code on the fly. </p>\n\n<blockquote>\n  <p>IE: dynamic classes, functions, constructors - based on any data\n  (xml/array/sql results/hardcoded/etc..)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1974413,"reputation":546,"user_id":1772534,"display_name":"Nikhil Shekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1373307933,"creation_date":1373299924,"answer_id":17531269,"question_id":37628,"body_markdown":"Reflection allows instantiation of new objects, invocation of methods, and get/set operations on class variables dynamically at run time without having prior knowledge of its implementation.\r\n\r\n\r\n    Class myObjectClass = MyObject.class;\r\n    Method[] method = myObjectClass.getMethods();\r\n    \r\n    //Here the method takes a string parameter if there is no param, put null.\r\n    Method method = aClass.getMethod(&quot;method_name&quot;, String.class); \r\n    \r\n    Object returnValue = method.invoke(null, &quot;parameter-value1&quot;);\r\n\r\nIn above example the null parameter is the object you want to invoke the method on. If the method is static you supply null. If the method is not static, then while invoking you need to supply a valid MyObject instance instead of null.\r\n\r\nReflection also allows you to access private member/methods of a class:\r\n\r\n\r\n    public class A{\r\n\r\n      private String str= null;\r\n\r\n      public A(String str) {\r\n      this.str= str;\r\n      }\r\n    }\r\n\r\n.\r\n\r\n    A obj= new A(&quot;Some value&quot;);\r\n\r\n    Field privateStringField = A.class.getDeclaredField(&quot;privateString&quot;);\r\n\r\n    //Turn off access check for this field\r\n    privateStringField.setAccessible(true);\r\n\r\n    String fieldValue = (String) privateStringField.get(obj);\r\n    System.out.println(&quot;fieldValue = &quot; + fieldValue);\r\n\r\n\r\n\r\n* For inspection of classes (also know as introspection) you don&#39;t need to import the reflection package (`java.lang.reflect`). Class metadata can be accessed through `java.lang.Class`.\r\n\r\nReflection is a very powerful API but it may slow down the application if used in excess, as it resolves all the types at runtime.","title":"What is reflection and why is it useful?","body":"<p>Reflection allows instantiation of new objects, invocation of methods, and get/set operations on class variables dynamically at run time without having prior knowledge of its implementation.</p>\n\n<pre><code>Class myObjectClass = MyObject.class;\nMethod[] method = myObjectClass.getMethods();\n\n//Here the method takes a string parameter if there is no param, put null.\nMethod method = aClass.getMethod(\"method_name\", String.class); \n\nObject returnValue = method.invoke(null, \"parameter-value1\");\n</code></pre>\n\n<p>In above example the null parameter is the object you want to invoke the method on. If the method is static you supply null. If the method is not static, then while invoking you need to supply a valid MyObject instance instead of null.</p>\n\n<p>Reflection also allows you to access private member/methods of a class:</p>\n\n<pre><code>public class A{\n\n  private String str= null;\n\n  public A(String str) {\n  this.str= str;\n  }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>A obj= new A(\"Some value\");\n\nField privateStringField = A.class.getDeclaredField(\"privateString\");\n\n//Turn off access check for this field\nprivateStringField.setAccessible(true);\n\nString fieldValue = (String) privateStringField.get(obj);\nSystem.out.println(\"fieldValue = \" + fieldValue);\n</code></pre>\n\n<ul>\n<li>For inspection of classes (also know as introspection) you don't need to import the reflection package (<code>java.lang.reflect</code>). Class metadata can be accessed through <code>java.lang.Class</code>.</li>\n</ul>\n\n<p>Reflection is a very powerful API but it may slow down the application if used in excess, as it resolves all the types at runtime.</p>\n"},{"tags":[],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1440571084,"creation_date":1410169202,"answer_id":25721335,"question_id":37628,"body_markdown":"Java Reflection is quite powerful and can be very useful.\r\nJava Reflection makes it possible **to inspect classes, interfaces, fields and methods at runtime,** without knowing the names of the classes, methods etc. at compile time.\r\nIt is also possible to **instantiate new objects, invoke methods and get/set field values using reflection.**\r\n\r\n**A quick Java Reflection example to show you what using reflection looks like:**\r\n    \r\n    Method[] methods = MyObject.class.getMethods();\r\n        \r\n        for(Method method : methods){\r\n            System.out.println(&quot;method = &quot; + method.getName());\r\n        }\r\n\r\nThis example obtains the Class object from the class called MyObject. Using the class object the example gets a list of the methods in that class, iterates the methods and print out their names.\r\n\r\n[Exactly how all this works is explained here][1]\r\n\r\n**Edit**: After almost 1 year I am editing this answer as while reading about reflection I got few more uses of Reflection.\r\n\r\n - Spring uses bean configuration such as:\r\n\r\n&lt;br&gt;\r\n\r\n    &lt;bean id=&quot;someID&quot; class=&quot;com.example.Foo&quot;&gt;\r\n        &lt;property name=&quot;someField&quot; value=&quot;someValue&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhen the Spring context processes this &lt; bean &gt; element, it will use Class.forName(String) with the argument &quot;com.example.Foo&quot; to instantiate that Class. \r\n\r\nIt will then again use reflection to get the appropriate setter for the &lt; property &gt; element and set its value to the specified value.\r\n\r\n - Junit uses Reflection especially for testing Private/Protected methods.\r\n\r\n\r\nFor Private methods,\r\n\r\n    Method method = targetClass.getDeclaredMethod(methodName, argClasses);\r\n    method.setAccessible(true);\r\n    return method.invoke(targetObject, argObjects);\r\n\r\nFor private fields,\r\n\r\n    Field field = targetClass.getDeclaredField(fieldName);\r\n    field.setAccessible(true);\r\n    field.set(object, value);\r\n\r\n  [1]: http://tutorials.jenkov.com/java-reflection/classes.html","title":"What is reflection and why is it useful?","body":"<p>Java Reflection is quite powerful and can be very useful.\nJava Reflection makes it possible <strong>to inspect classes, interfaces, fields and methods at runtime,</strong> without knowing the names of the classes, methods etc. at compile time.\nIt is also possible to <strong>instantiate new objects, invoke methods and get/set field values using reflection.</strong></p>\n\n<p><strong>A quick Java Reflection example to show you what using reflection looks like:</strong></p>\n\n<pre><code>Method[] methods = MyObject.class.getMethods();\n\n    for(Method method : methods){\n        System.out.println(\"method = \" + method.getName());\n    }\n</code></pre>\n\n<p>This example obtains the Class object from the class called MyObject. Using the class object the example gets a list of the methods in that class, iterates the methods and print out their names.</p>\n\n<p><a href=\"http://tutorials.jenkov.com/java-reflection/classes.html\" rel=\"noreferrer\">Exactly how all this works is explained here</a></p>\n\n<p><strong>Edit</strong>: After almost 1 year I am editing this answer as while reading about reflection I got few more uses of Reflection.</p>\n\n<ul>\n<li>Spring uses bean configuration such as:</li>\n</ul>\n\n<p><br></p>\n\n<pre><code>&lt;bean id=\"someID\" class=\"com.example.Foo\"&gt;\n    &lt;property name=\"someField\" value=\"someValue\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>When the Spring context processes this &lt; bean > element, it will use Class.forName(String) with the argument \"com.example.Foo\" to instantiate that Class. </p>\n\n<p>It will then again use reflection to get the appropriate setter for the &lt; property > element and set its value to the specified value.</p>\n\n<ul>\n<li>Junit uses Reflection especially for testing Private/Protected methods.</li>\n</ul>\n\n<p>For Private methods,</p>\n\n<pre><code>Method method = targetClass.getDeclaredMethod(methodName, argClasses);\nmethod.setAccessible(true);\nreturn method.invoke(targetObject, argObjects);\n</code></pre>\n\n<p>For private fields,</p>\n\n<pre><code>Field field = targetClass.getDeclaredField(fieldName);\nfield.setAccessible(true);\nfield.set(object, value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1657995606,"creation_date":1411251723,"answer_id":25953852,"question_id":37628,"body_markdown":"I just want to add some points to all that was listed.\r\n\r\nWith **Reflection API** you can write a universal `toString()` method for any object.\r\n\r\nIt could be useful for debugging.\r\n\r\nHere is some example:\r\n\r\n    class ObjectAnalyzer {\r\n\r\n       private ArrayList&lt;Object&gt; visited = new ArrayList&lt;Object&gt;();\r\n\r\n       /**\r\n        * Converts an object to a string representation that lists all fields.\r\n        * @param obj an object\r\n        * @return a string with the object&#39;s class name and all field names and\r\n        * values\r\n        */\r\n       public String toString(Object obj) {\r\n          if (obj == null) return &quot;null&quot;;\r\n          if (visited.contains(obj)) return &quot;...&quot;;\r\n          visited.add(obj);\r\n          Class cl = obj.getClass();\r\n          if (cl == String.class) return (String) obj;\r\n          if (cl.isArray()) {\r\n             String r = cl.getComponentType() + &quot;[]{&quot;;\r\n             for (int i = 0; i &lt; Array.getLength(obj); i++) {\r\n                if (i &gt; 0) r += &quot;,&quot;;\r\n                Object val = Array.get(obj, i);\r\n                if (cl.getComponentType().isPrimitive()) r += val;\r\n                else r += toString(val);\r\n             }\r\n             return r + &quot;}&quot;;\r\n          }\r\n    \r\n          String r = cl.getName();\r\n          // inspect the fields of this class and all superclasses\r\n          do {\r\n             r += &quot;[&quot;;\r\n             Field[] fields = cl.getDeclaredFields();\r\n             AccessibleObject.setAccessible(fields, true);\r\n             // get the names and values of all fields\r\n             for (Field f : fields) {\r\n                if (!Modifier.isStatic(f.getModifiers())) {\r\n                   if (!r.endsWith(&quot;[&quot;)) r += &quot;,&quot;;\r\n                   r += f.getName() + &quot;=&quot;;\r\n                   try {\r\n                      Class t = f.getType();\r\n                      Object val = f.get(obj);\r\n                      if (t.isPrimitive()) r += val;\r\n                      else r += toString(val);\r\n                   } catch (Exception e) {\r\n                      e.printStackTrace();\r\n                   }\r\n                }\r\n             }\r\n             r += &quot;]&quot;;\r\n             cl = cl.getSuperclass();\r\n          } while (cl != null);\r\n    \r\n          return r;\r\n       }    \r\n    }","title":"What is reflection and why is it useful?","body":"<p>I just want to add some points to all that was listed.</p>\n<p>With <strong>Reflection API</strong> you can write a universal <code>toString()</code> method for any object.</p>\n<p>It could be useful for debugging.</p>\n<p>Here is some example:</p>\n<pre><code>class ObjectAnalyzer {\n\n   private ArrayList&lt;Object&gt; visited = new ArrayList&lt;Object&gt;();\n\n   /**\n    * Converts an object to a string representation that lists all fields.\n    * @param obj an object\n    * @return a string with the object's class name and all field names and\n    * values\n    */\n   public String toString(Object obj) {\n      if (obj == null) return &quot;null&quot;;\n      if (visited.contains(obj)) return &quot;...&quot;;\n      visited.add(obj);\n      Class cl = obj.getClass();\n      if (cl == String.class) return (String) obj;\n      if (cl.isArray()) {\n         String r = cl.getComponentType() + &quot;[]{&quot;;\n         for (int i = 0; i &lt; Array.getLength(obj); i++) {\n            if (i &gt; 0) r += &quot;,&quot;;\n            Object val = Array.get(obj, i);\n            if (cl.getComponentType().isPrimitive()) r += val;\n            else r += toString(val);\n         }\n         return r + &quot;}&quot;;\n      }\n\n      String r = cl.getName();\n      // inspect the fields of this class and all superclasses\n      do {\n         r += &quot;[&quot;;\n         Field[] fields = cl.getDeclaredFields();\n         AccessibleObject.setAccessible(fields, true);\n         // get the names and values of all fields\n         for (Field f : fields) {\n            if (!Modifier.isStatic(f.getModifiers())) {\n               if (!r.endsWith(&quot;[&quot;)) r += &quot;,&quot;;\n               r += f.getName() + &quot;=&quot;;\n               try {\n                  Class t = f.getType();\n                  Object val = f.get(obj);\n                  if (t.isPrimitive()) r += val;\n                  else r += toString(val);\n               } catch (Exception e) {\n                  e.printStackTrace();\n               }\n            }\n         }\n         r += &quot;]&quot;;\n         cl = cl.getSuperclass();\n      } while (cl != null);\n\n      return r;\n   }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2422470,"reputation":1197,"user_id":2115148,"accept_rate":38,"display_name":"Desmond Smith"},"comment_count":0,"down_vote_count":1,"up_vote_count":101,"is_accepted":false,"score":100,"last_activity_date":1532452841,"creation_date":1413547173,"answer_id":26424561,"question_id":37628,"body_markdown":"**Uses of Reflection**\r\n\r\nReflection is commonly used by programs which require the ability to examine or modify the runtime behavior of applications running in the Java virtual machine. This is a relatively advanced feature and should be used only by developers who have a strong grasp of the fundamentals of the language. With that caveat in mind, reflection is a powerful technique and can enable applications to perform operations which would otherwise be impossible.\r\n\r\n**Extensibility Features**\r\n\r\nAn application may make use of external, user-defined classes by creating instances of extensibility objects using their fully-qualified names.\r\nClass Browsers and Visual Development Environments\r\nA class browser needs to be able to enumerate the members of classes. Visual development environments can benefit from making use of type information available in reflection to aid the developer in writing correct code.\r\nDebuggers and Test Tools\r\nDebuggers need to be able to examine private members in classes. Test harnesses can make use of reflection to systematically call a discoverable set APIs defined on a class, to ensure a high level of code coverage in a test suite.\r\n\r\n**Drawbacks of Reflection**\r\n\r\nReflection is powerful, but should not be used indiscriminately. If it is possible to perform an operation without using reflection, then it is preferable to avoid using it. The following concerns should be kept in mind when accessing code via reflection.\r\n\r\n - **Performance Overhead**\r\n\r\nBecause reflection involves types that are dynamically resolved, certain Java virtual machine optimizations cannot be performed. Consequently, reflective operations have slower performance than their non-reflective counterparts and should be avoided in sections of code which are called frequently in performance-sensitive applications.\r\n\r\n - **Security Restrictions**\r\n\r\n\r\nReflection requires a runtime permission which may not be present when running under a security manager. This is in an important consideration for code which has to run in a restricted security context, such as in an Applet.\r\n\r\n - **Exposure of Internals**\r\n\r\nSince reflection allows code to perform operations that would be illegal in non-reflective code, such as accessing private fields and methods, the use of reflection can result in unexpected side-effects, which may render code dysfunctional and may destroy portability. Reflective code breaks abstractions and therefore may change behavior with upgrades of the platform.\r\n\r\nsource: [The Reflection API][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/reflect/","title":"What is reflection and why is it useful?","body":"<p><strong>Uses of Reflection</strong></p>\n\n<p>Reflection is commonly used by programs which require the ability to examine or modify the runtime behavior of applications running in the Java virtual machine. This is a relatively advanced feature and should be used only by developers who have a strong grasp of the fundamentals of the language. With that caveat in mind, reflection is a powerful technique and can enable applications to perform operations which would otherwise be impossible.</p>\n\n<p><strong>Extensibility Features</strong></p>\n\n<p>An application may make use of external, user-defined classes by creating instances of extensibility objects using their fully-qualified names.\nClass Browsers and Visual Development Environments\nA class browser needs to be able to enumerate the members of classes. Visual development environments can benefit from making use of type information available in reflection to aid the developer in writing correct code.\nDebuggers and Test Tools\nDebuggers need to be able to examine private members in classes. Test harnesses can make use of reflection to systematically call a discoverable set APIs defined on a class, to ensure a high level of code coverage in a test suite.</p>\n\n<p><strong>Drawbacks of Reflection</strong></p>\n\n<p>Reflection is powerful, but should not be used indiscriminately. If it is possible to perform an operation without using reflection, then it is preferable to avoid using it. The following concerns should be kept in mind when accessing code via reflection.</p>\n\n<ul>\n<li><strong>Performance Overhead</strong></li>\n</ul>\n\n<p>Because reflection involves types that are dynamically resolved, certain Java virtual machine optimizations cannot be performed. Consequently, reflective operations have slower performance than their non-reflective counterparts and should be avoided in sections of code which are called frequently in performance-sensitive applications.</p>\n\n<ul>\n<li><strong>Security Restrictions</strong></li>\n</ul>\n\n<p>Reflection requires a runtime permission which may not be present when running under a security manager. This is in an important consideration for code which has to run in a restricted security context, such as in an Applet.</p>\n\n<ul>\n<li><strong>Exposure of Internals</strong></li>\n</ul>\n\n<p>Since reflection allows code to perform operations that would be illegal in non-reflective code, such as accessing private fields and methods, the use of reflection can result in unexpected side-effects, which may render code dysfunctional and may destroy portability. Reflective code breaks abstractions and therefore may change behavior with upgrades of the platform.</p>\n\n<p>source: <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"noreferrer\">The Reflection API</a></p>\n"},{"tags":[],"owner":{"account_id":5281880,"reputation":318,"user_id":4216954,"display_name":"Isuru Jayakantha"},"comment_count":0,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1565794585,"creation_date":1415248951,"answer_id":26771874,"question_id":37628,"body_markdown":"Simple example for reflection.\r\nIn a chess game, you do not know what will be moved by the user at run time. reflection can be used to call methods which are already implemented at run time:\r\n\r\n    public class Test {\r\n\r\n    \tpublic void firstMoveChoice(){\r\n    \t\tSystem.out.println(&quot;First Move&quot;);\r\n    \t} \r\n    \tpublic void secondMOveChoice(){\r\n    \t\tSystem.out.println(&quot;Second Move&quot;);\r\n    \t}\r\n    \tpublic void thirdMoveChoice(){\r\n    \t\tSystem.out.println(&quot;Third Move&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException { \r\n    \t\tTest test = new Test();\r\n    \t\tMethod[] method = test.getClass().getMethods();\r\n    \t\t//firstMoveChoice\r\n    \t\tmethod[0].invoke(test, null);\r\n    \t\t//secondMoveChoice\r\n    \t\tmethod[1].invoke(test, null);\r\n    \t\t//thirdMoveChoice\r\n    \t\tmethod[2].invoke(test, null);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"What is reflection and why is it useful?","body":"<p>Simple example for reflection.\nIn a chess game, you do not know what will be moved by the user at run time. reflection can be used to call methods which are already implemented at run time:</p>\n\n<pre><code>public class Test {\n\n    public void firstMoveChoice(){\n        System.out.println(\"First Move\");\n    } \n    public void secondMOveChoice(){\n        System.out.println(\"Second Move\");\n    }\n    public void thirdMoveChoice(){\n        System.out.println(\"Third Move\");\n    }\n\n    public static void main(String[] args) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException { \n        Test test = new Test();\n        Method[] method = test.getClass().getMethods();\n        //firstMoveChoice\n        method[0].invoke(test, null);\n        //secondMoveChoice\n        method[1].invoke(test, null);\n        //thirdMoveChoice\n        method[2].invoke(test, null);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"score":0,"creation_date":1517328862,"post_id":34149864,"comment_id":84046714,"body_markdown":"type(), isinstance(), callable(), dir() and getattr().   .... these are pythonic reflection calls","body":"type(), isinstance(), callable(), dir() and getattr().   .... these are pythonic reflection calls"}],"tags":[],"owner":{"account_id":2646261,"reputation":6033,"user_id":2288882,"accept_rate":52,"display_name":"Marcus Thornton"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1532452936,"creation_date":1449558139,"answer_id":34149864,"question_id":37628,"body_markdown":"Reflection is to let object to see their appearance. This argument seems nothing to do with reflection. In fact, this is the &quot;self-identify&quot; ability.\r\n\r\nReflection itself is a word for such languages that lack the capability of self-knowledge and self-sensing as Java and C#. Because they do not have the capability of self-knowledge, when we want to observe how it looks like, we must have another thing to reflect on how it looks like. Excellent dynamic languages such as Ruby and Python can perceive the reflection of their own without the help of other individuals. We can say that the object of Java cannot perceive how it looks like without a mirror, which is an object of the reflection class, but an object in Python can perceive it without a mirror. So that&#39;s why we need reflection in Java.\r\n","title":"What is reflection and why is it useful?","body":"<p>Reflection is to let object to see their appearance. This argument seems nothing to do with reflection. In fact, this is the \"self-identify\" ability.</p>\n\n<p>Reflection itself is a word for such languages that lack the capability of self-knowledge and self-sensing as Java and C#. Because they do not have the capability of self-knowledge, when we want to observe how it looks like, we must have another thing to reflect on how it looks like. Excellent dynamic languages such as Ruby and Python can perceive the reflection of their own without the help of other individuals. We can say that the object of Java cannot perceive how it looks like without a mirror, which is an object of the reflection class, but an object in Python can perceive it without a mirror. So that's why we need reflection in Java.</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1580583181,"post_id":35379881,"comment_id":106147907,"body_markdown":"A way to avoid the performance problems of Reflection in some cases is to have a class `Woozle` examine other classes on startup to see which ones have a static `RegisterAsWoozleHelper()` method, and invoke all such methods it finds with a callback they can use to tell `Woozle` about themselves, avoiding need to use Reflection while e.g. deserializing data.","body":"A way to avoid the performance problems of Reflection in some cases is to have a class <code>Woozle</code> examine other classes on startup to see which ones have a static <code>RegisterAsWoozleHelper()</code> method, and invoke all such methods it finds with a callback they can use to tell <code>Woozle</code> about themselves, avoiding need to use Reflection while e.g. deserializing data."}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1457302964,"creation_date":1455366825,"answer_id":35379881,"question_id":37628,"body_markdown":"From java documentation [page][1]\r\n\r\n&gt;`java.lang.reflect` package provides classes and interfaces for obtaining reflective information about classes and objects. Reflection allows programmatic access to information about the fields, methods and constructors of loaded classes, and the use of reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.\r\n\r\n`AccessibleObject` allows suppression of access checks if the necessary `ReflectPermission` is available.\r\n\r\nClasses in this package, along with `java.lang.Class` accommodate applications such as debuggers, interpreters, object inspectors, class browsers, and services such as `Object Serialization` and `JavaBeans` that need access to either the public members of a target object (based on its runtime class) or the members declared by a given class\r\n\r\nIt includes following functionality.\r\n\r\n1. Obtaining Class objects,\r\n2. Examining properties of a class (fields, methods, constructors),\r\n3. Setting and getting field values,\r\n4. Invoking methods,\r\n5. Creating new instances of objects.\r\n\r\nHave a look at this [documentation][2] link for the methods exposed by ***`Class`*** class.\r\n\r\nFrom this [article][3] (by Dennis Sosnoski, President, Sosnoski Software Solutions, Inc)  and this [article][4] (security-explorations pdf):\r\n\r\nI can see considerable drawbacks than uses of using Reflection\r\n\r\n***User of Reflection:***\r\n\r\n1. It provides very versatile way of dynamically linking program components\r\n2. It is useful for creating libraries that work with objects in very general ways\r\n\r\n***Drawbacks of Reflection:***\r\n\r\n1. Reflection is much slower than direct code when used for field and method access.\r\n2. It can obscure what&#39;s actually going on inside your code\r\n3. It bypasses the source code can create maintenance problems\r\n4. Reflection code is also more complex than the corresponding direct code\r\n5. It  allows violation of key Java security constraints such\r\nas data access protection and type safety\r\n\r\n\r\n***General abuses:***\r\n\r\n1. Loading of restricted classes,\r\n2. Obtaining references to constructors, methods or fields of a restricted class,\r\n3. Creation of new object instances, methods invocation, getting or setting field values of a restricted class.\r\n\r\nHave a look at this SE question regarding abuse of reflection feature:\r\n\r\nhttps://stackoverflow.com/questions/1196192/how-do-i-read-a-private-field-in-java\r\n\r\n\r\n**Summary:**\r\n\r\n*Insecure use of its functions conducted from within a system code can also easily lead to the compromise of a Java security mode*l. ***So use this feature sparingly***\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\r\n  [3]: http://www.ibm.com/developerworks/library/j-dyn0603/\r\n  [4]: http://www.security-explorations.com/materials/se-2012-01-report.pdf","title":"What is reflection and why is it useful?","body":"<p>From java documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/package-summary.html\" rel=\"noreferrer\">page</a></p>\n\n<blockquote>\n  <p><code>java.lang.reflect</code> package provides classes and interfaces for obtaining reflective information about classes and objects. Reflection allows programmatic access to information about the fields, methods and constructors of loaded classes, and the use of reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.</p>\n</blockquote>\n\n<p><code>AccessibleObject</code> allows suppression of access checks if the necessary <code>ReflectPermission</code> is available.</p>\n\n<p>Classes in this package, along with <code>java.lang.Class</code> accommodate applications such as debuggers, interpreters, object inspectors, class browsers, and services such as <code>Object Serialization</code> and <code>JavaBeans</code> that need access to either the public members of a target object (based on its runtime class) or the members declared by a given class</p>\n\n<p>It includes following functionality.</p>\n\n<ol>\n<li>Obtaining Class objects,</li>\n<li>Examining properties of a class (fields, methods, constructors),</li>\n<li>Setting and getting field values,</li>\n<li>Invoking methods,</li>\n<li>Creating new instances of objects.</li>\n</ol>\n\n<p>Have a look at this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"noreferrer\">documentation</a> link for the methods exposed by <strong><em><code>Class</code></em></strong> class.</p>\n\n<p>From this <a href=\"http://www.ibm.com/developerworks/library/j-dyn0603/\" rel=\"noreferrer\">article</a> (by Dennis Sosnoski, President, Sosnoski Software Solutions, Inc)  and this <a href=\"http://www.security-explorations.com/materials/se-2012-01-report.pdf\" rel=\"noreferrer\">article</a> (security-explorations pdf):</p>\n\n<p>I can see considerable drawbacks than uses of using Reflection</p>\n\n<p><strong><em>User of Reflection:</em></strong></p>\n\n<ol>\n<li>It provides very versatile way of dynamically linking program components</li>\n<li>It is useful for creating libraries that work with objects in very general ways</li>\n</ol>\n\n<p><strong><em>Drawbacks of Reflection:</em></strong></p>\n\n<ol>\n<li>Reflection is much slower than direct code when used for field and method access.</li>\n<li>It can obscure what's actually going on inside your code</li>\n<li>It bypasses the source code can create maintenance problems</li>\n<li>Reflection code is also more complex than the corresponding direct code</li>\n<li>It  allows violation of key Java security constraints such\nas data access protection and type safety</li>\n</ol>\n\n<p><strong><em>General abuses:</em></strong></p>\n\n<ol>\n<li>Loading of restricted classes,</li>\n<li>Obtaining references to constructors, methods or fields of a restricted class,</li>\n<li>Creation of new object instances, methods invocation, getting or setting field values of a restricted class.</li>\n</ol>\n\n<p>Have a look at this SE question regarding abuse of reflection feature:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1196192/how-do-i-read-a-private-field-in-java\">How do I read a private field in Java?</a></p>\n\n<p><strong>Summary:</strong></p>\n\n<p><em>Insecure use of its functions conducted from within a system code can also easily lead to the compromise of a Java security mode</em>l. <strong><em>So use this feature sparingly</em></strong></p>\n"},{"tags":[],"owner":{"account_id":3297520,"reputation":167,"user_id":2774441,"display_name":"saumik gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1532452929,"creation_date":1461711289,"answer_id":36877237,"question_id":37628,"body_markdown":"Reflection gives you the ability to write more generic code. It allows you to create an object at runtime and call its method at runtime. Hence the program can be made highly parameterized. It also allows introspecting the object and class to detect its variables and method exposed to the outer world.","title":"What is reflection and why is it useful?","body":"<p>Reflection gives you the ability to write more generic code. It allows you to create an object at runtime and call its method at runtime. Hence the program can be made highly parameterized. It also allows introspecting the object and class to detect its variables and method exposed to the outer world.</p>\n"},{"comments":[{"owner":{"account_id":3350095,"reputation":1616,"user_id":2814308,"accept_rate":87,"display_name":"SantiBailors"},"score":4,"creation_date":1513769253,"post_id":42945244,"comment_id":82776583,"body_markdown":"I would add to the drawbacks &quot;[It breaks refactoring](https://stackoverflow.com/q/1027904/2814308)&quot;. For me that&#39;s the main reason to avoid reflection as much as possible.","body":"I would add to the drawbacks &quot;<a href=\"https://stackoverflow.com/q/1027904/2814308\">It breaks refactoring</a>&quot;. For me that&#39;s the main reason to avoid reflection as much as possible."},{"owner":{"account_id":369744,"reputation":990,"user_id":717290,"accept_rate":33,"display_name":"Fernando Gabrieli"},"score":0,"creation_date":1543699684,"post_id":42945244,"comment_id":94014664,"body_markdown":"So it allows us (for example), to inspect the classes we have (whether we have instances of them or not), correct? By this i mean, get their methods or constructors and use them to create new instances/invoke them. Why do we say &quot;changing the program behavior&quot; if the behavior is already there but with different code? Why is it called &quot;reflection&quot;? Thanks","body":"So it allows us (for example), to inspect the classes we have (whether we have instances of them or not), correct? By this i mean, get their methods or constructors and use them to create new instances/invoke them. Why do we say &quot;changing the program behavior&quot; if the behavior is already there but with different code? Why is it called &quot;reflection&quot;? Thanks"}],"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1490167628,"creation_date":1490167628,"answer_id":42945244,"question_id":37628,"body_markdown":"**Reflection** is an API which is used to examine or modify the behaviour of *methods, classes, interfaces* at runtime.\r\n\r\n 1. The required classes for reflection are provided under `java.lang.reflect package`.\r\n 2. Reflection gives us information about the class to which an object belongs and also the methods of that class which can be executed by using the object.\r\n 3. Through reflection we can invoke methods at runtime irrespective of the access specifier used with them.\r\n\r\nThe `java.lang` and `java.lang.reflect` packages provide classes for java reflection.\r\n\r\n**Reflection** can be used to get information about \r\n\r\n 1. **Class** The `getClass()` method is used to get the name of the class to which an object belongs.\r\n\r\n 2. **Constructors** The `getConstructors()` method is used to get the public constructors of the class to which an object belongs.\r\n\r\n 3. **Methods** The `getMethods()` method is used to get the public methods of the class to which an objects belongs.\r\n\r\nThe **Reflection API** is mainly used in:\r\n\r\nIDE (Integrated Development Environment) e.g. Eclipse, MyEclipse, NetBeans etc.&lt;br&gt;\r\nDebugger and Test Tools etc.\r\n\r\n[![][1]][1]\r\n\r\n**Advantages of Using Reflection:**\r\n\r\n*Extensibility Features:* An application may make use of external, user-defined classes by creating instances of extensibility objects using their fully-qualified names.\r\n\r\n*Debugging and testing tools:* Debuggers use the property of reflection to examine private members on classes.\r\n \r\n\r\n**Drawbacks:**\r\n\r\n*Performance Overhead:* Reflective operations have slower performance than their non-reflective counterparts, and should be avoided in sections of code which are called frequently in performance-sensitive applications.\r\n\r\n*Exposure of Internals:* Reflective code breaks abstractions and therefore may change behaviour with upgrades of the platform.\r\n\r\n\r\nRef: [Java Reflection][2]  [javarevisited.blogspot.in][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zEXW5.png\r\n  [2]: http://www.geeksforgeeks.org/reflection-in-java/\r\n  [3]: http://javarevisited.blogspot.in/2012/05/how-to-access-private-field-and-method.html","title":"What is reflection and why is it useful?","body":"<p><strong>Reflection</strong> is an API which is used to examine or modify the behaviour of <em>methods, classes, interfaces</em> at runtime.</p>\n\n<ol>\n<li>The required classes for reflection are provided under <code>java.lang.reflect package</code>.</li>\n<li>Reflection gives us information about the class to which an object belongs and also the methods of that class which can be executed by using the object.</li>\n<li>Through reflection we can invoke methods at runtime irrespective of the access specifier used with them.</li>\n</ol>\n\n<p>The <code>java.lang</code> and <code>java.lang.reflect</code> packages provide classes for java reflection.</p>\n\n<p><strong>Reflection</strong> can be used to get information about </p>\n\n<ol>\n<li><p><strong>Class</strong> The <code>getClass()</code> method is used to get the name of the class to which an object belongs.</p></li>\n<li><p><strong>Constructors</strong> The <code>getConstructors()</code> method is used to get the public constructors of the class to which an object belongs.</p></li>\n<li><p><strong>Methods</strong> The <code>getMethods()</code> method is used to get the public methods of the class to which an objects belongs.</p></li>\n</ol>\n\n<p>The <strong>Reflection API</strong> is mainly used in:</p>\n\n<p>IDE (Integrated Development Environment) e.g. Eclipse, MyEclipse, NetBeans etc.<br>\nDebugger and Test Tools etc.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zEXW5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zEXW5.png\" alt=\"\"></a></p>\n\n<p><strong>Advantages of Using Reflection:</strong></p>\n\n<p><em>Extensibility Features:</em> An application may make use of external, user-defined classes by creating instances of extensibility objects using their fully-qualified names.</p>\n\n<p><em>Debugging and testing tools:</em> Debuggers use the property of reflection to examine private members on classes.</p>\n\n<p><strong>Drawbacks:</strong></p>\n\n<p><em>Performance Overhead:</em> Reflective operations have slower performance than their non-reflective counterparts, and should be avoided in sections of code which are called frequently in performance-sensitive applications.</p>\n\n<p><em>Exposure of Internals:</em> Reflective code breaks abstractions and therefore may change behaviour with upgrades of the platform.</p>\n\n<p>Ref: <a href=\"http://www.geeksforgeeks.org/reflection-in-java/\" rel=\"noreferrer\">Java Reflection</a>  <a href=\"http://javarevisited.blogspot.in/2012/05/how-to-access-private-field-and-method.html\" rel=\"noreferrer\">javarevisited.blogspot.in</a></p>\n"},{"tags":[],"owner":{"account_id":5910752,"reputation":460,"user_id":4651104,"display_name":"Mohammed Sarfaraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491704974,"creation_date":1491704974,"answer_id":43302409,"question_id":37628,"body_markdown":"As name itself suggest it reflects what it holds for example class method,etc apart from providing feature to invoke method creating instance dynamically at runtime.\n\nIt is used by many frameworks and application under the wood to invoke services without actually knowing the code. \n\n","title":"What is reflection and why is it useful?","body":"<p>As name itself suggest it reflects what it holds for example class method,etc apart from providing feature to invoke method creating instance dynamically at runtime.</p>\n\n<p>It is used by many frameworks and application under the wood to invoke services without actually knowing the code. </p>\n"},{"tags":[],"owner":{"account_id":4463542,"reputation":2889,"user_id":3631743,"accept_rate":81,"display_name":"BSeitkazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543991757,"creation_date":1543991757,"answer_id":53626477,"question_id":37628,"body_markdown":"I want to answer this question by example. First of all `Hibernate` project uses `Reflection API` to generate `CRUD` statements to bridge the chasm between the running application and the persistence store. When things change in the domain, the `Hibernate` has to know about them to persist them to the data store and vice versa.\r\n\r\nAlternatively works `Lombok Project`. It just injects code at compile time, result in code being inserted into your domain classes. (I think it is OK for getters and setters)\r\n\r\n`Hibernate` chose `reflection` because it has minimal impact on the build process for an application.\r\n\r\nAnd from Java 7 we have `MethodHandles`, which works as `Reflection API`. In projects, to work with loggers we just copy-paste the next code:\r\n\r\n    Logger LOGGER = Logger.getLogger(MethodHandles.lookup().lookupClass().getName());\r\n\r\nBecause it is hard to make typo-error in this case. ","title":"What is reflection and why is it useful?","body":"<p>I want to answer this question by example. First of all <code>Hibernate</code> project uses <code>Reflection API</code> to generate <code>CRUD</code> statements to bridge the chasm between the running application and the persistence store. When things change in the domain, the <code>Hibernate</code> has to know about them to persist them to the data store and vice versa.</p>\n\n<p>Alternatively works <code>Lombok Project</code>. It just injects code at compile time, result in code being inserted into your domain classes. (I think it is OK for getters and setters)</p>\n\n<p><code>Hibernate</code> chose <code>reflection</code> because it has minimal impact on the build process for an application.</p>\n\n<p>And from Java 7 we have <code>MethodHandles</code>, which works as <code>Reflection API</code>. In projects, to work with loggers we just copy-paste the next code:</p>\n\n<pre><code>Logger LOGGER = Logger.getLogger(MethodHandles.lookup().lookupClass().getName());\n</code></pre>\n\n<p>Because it is hard to make typo-error in this case. </p>\n"},{"tags":[],"owner":{"account_id":1423626,"reputation":1591,"user_id":1347707,"accept_rate":100,"display_name":"cprn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561380711,"creation_date":1556271275,"answer_id":55864747,"question_id":37628,"body_markdown":"As I find it best to explain by example and none of the answers seem to do that...\r\n\r\nA practical example of using reflections would be a Java Language Server written in Java or a PHP Language Server written in PHP, etc. Language Server gives your IDE abilities like autocomplete, jump to definition, context help, hinting types and more. In order to have all tag names (words that can be autocompleted) to show all the possible matches as you type the Language Server has to inspect everything about the class including doc blocks and private members. For that it needs a reflection of said class.\r\n\r\nA different example would be a unit-test of a private method. One way to do so is to create a reflection and change the method&#39;s scope to public in the test&#39;s set-up phase. Of course one can argue private methods shouldn&#39;t be tested directly but that&#39;s not the point.","title":"What is reflection and why is it useful?","body":"<p>As I find it best to explain by example and none of the answers seem to do that...</p>\n\n<p>A practical example of using reflections would be a Java Language Server written in Java or a PHP Language Server written in PHP, etc. Language Server gives your IDE abilities like autocomplete, jump to definition, context help, hinting types and more. In order to have all tag names (words that can be autocompleted) to show all the possible matches as you type the Language Server has to inspect everything about the class including doc blocks and private members. For that it needs a reflection of said class.</p>\n\n<p>A different example would be a unit-test of a private method. One way to do so is to create a reflection and change the method's scope to public in the test's set-up phase. Of course one can argue private methods shouldn't be tested directly but that's not the point.</p>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1637059858,"post_id":64977871,"comment_id":123718594,"body_markdown":"This is plain wrong. You still can use reflection. You just can&#39;t make stuff accessible (`ref.setAccessible(true);`) if the package is open to you.","body":"This is plain wrong. You still can use reflection. You just can&#39;t make stuff accessible (<code>ref.setAccessible(true);</code>) if the package is open to you."}],"tags":[],"owner":{"account_id":5987036,"reputation":394,"user_id":4704305,"display_name":"RSG"},"comment_count":1,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1637048911,"creation_date":1606172512,"answer_id":64977871,"question_id":37628,"body_markdown":"**IMPORTANT**\r\n\r\nStarting from Java 9 you can no longer use reflection, unless the package-info.java **opens** the module to reflection access.\r\n\r\nBy default, &quot;reflection&quot; access is denied to all packages in the module.\r\n\r\n\r\nSee [Understanding Java 9 Modules][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html","title":"What is reflection and why is it useful?","body":"<p><strong>IMPORTANT</strong></p>\n<p>Starting from Java 9 you can no longer use reflection, unless the package-info.java <strong>opens</strong> the module to reflection access.</p>\n<p>By default, &quot;reflection&quot; access is denied to all packages in the module.</p>\n<p>See <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 Modules</a></p>\n"},{"tags":[],"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640602325,"creation_date":1640602325,"answer_id":70494517,"question_id":37628,"body_markdown":"I am using reflection to create an object based on class name(class name in String) and call the method of that class \r\n\r\n    Object obj = Class.forName(config.getClassPath())\r\n\t\t\t\t\t\t.getDeclaredConstructor()\r\n\t\t\t\t\t\t.newInstance();\r\n\tMethod method = obj.getClass().getMethod(&quot;getCustomer&quot;, SearchObject.class, ObjectConfig.class,\r\n\t\t\t\t\tHttpServletRequest.class);\r\n    method.invoke(obj, searchObject, config, request);\r\n\r\nBut one major problem is that if you Autowired something on that class that will **re-initialized to null**","title":"What is reflection and why is it useful?","body":"<p>I am using reflection to create an object based on class name(class name in String) and call the method of that class</p>\n<pre><code>Object obj = Class.forName(config.getClassPath())\n                    .getDeclaredConstructor()\n                    .newInstance();\nMethod method = obj.getClass().getMethod(&quot;getCustomer&quot;, SearchObject.class, ObjectConfig.class,\n                HttpServletRequest.class);\nmethod.invoke(obj, searchObject, config, request);\n</code></pre>\n<p>But one major problem is that if you Autowired something on that class that will <strong>re-initialized to null</strong></p>\n"},{"tags":[],"owner":{"account_id":10852683,"reputation":159,"user_id":7979984,"display_name":"mucomoc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686148817,"creation_date":1686148817,"answer_id":76424520,"question_id":37628,"body_markdown":"Reflection is when you need to get value from a variable but you don&#39;t know the type of the variable. How can you not know the type? For example, I have this method in one solution and I call it from another solution and those two solutions don&#39;t know the types between each other (but they can be referenced and used from each other, it can happen). When I say types I mean my own custom classes here. I can&#39;t pass an argument of certain class to that method in another solution because there I have no knowledge of the type (class). So, what do I do? I will use reflection! I will define a parameter of generic type T and use specific methods intended for it to get the values from the unknown type (class) at runtime.","title":"What is reflection and why is it useful?","body":"<p>Reflection is when you need to get value from a variable but you don't know the type of the variable. How can you not know the type? For example, I have this method in one solution and I call it from another solution and those two solutions don't know the types between each other (but they can be referenced and used from each other, it can happen). When I say types I mean my own custom classes here. I can't pass an argument of certain class to that method in another solution because there I have no knowledge of the type (class). So, what do I do? I will use reflection! I will define a parameter of generic type T and use specific methods intended for it to get the values from the unknown type (class) at runtime.</p>\n"},{"tags":[],"owner":{"account_id":28780885,"reputation":11,"user_id":22042536,"display_name":"parad0X"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699274902,"creation_date":1699274902,"answer_id":77431205,"question_id":37628,"body_markdown":"If you want to have a sneek peek of the values in an Object, here&#39;s a fun implementation\r\n\r\n```java\r\n        Class&lt;?&gt; classes = exampleObject.getClass();\r\n        Field[] fields = classes.getDeclaredFields();\r\n        for (Field field: fields){\r\n            field.setAccessible(true);\r\n            Object value;\r\n            try {\r\n                value = field.get(exampleObject);\r\n            } catch (IllegalAccessException e){\r\n                throw new RuntimeException(e);\r\n            }\r\n            logger.info(&quot;exampleObject: &quot;+field.getName() + &quot; value: &quot;+value);\r\n        }\r\n```\r\nDon&#39;t forget to import this ```import java.lang.reflect.Field;``` package.","title":"What is reflection and why is it useful?","body":"<p>If you want to have a sneek peek of the values in an Object, here's a fun implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Class&lt;?&gt; classes = exampleObject.getClass();\n        Field[] fields = classes.getDeclaredFields();\n        for (Field field: fields){\n            field.setAccessible(true);\n            Object value;\n            try {\n                value = field.get(exampleObject);\n            } catch (IllegalAccessException e){\n                throw new RuntimeException(e);\n            }\n            logger.info(&quot;exampleObject: &quot;+field.getName() + &quot; value: &quot;+value);\n        }\n</code></pre>\n<p>Don't forget to import this <code>import java.lang.reflect.Field;</code> package.</p>\n"}],"owner":{"account_id":114,"reputation":47848,"user_id":142,"accept_rate":97,"display_name":"Lehane"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029437,"favorite_count":0,"down_vote_count":11,"up_vote_count":2548,"accepted_answer_id":37632,"answer_count":25,"score":2537,"last_activity_date":1699274902,"creation_date":1220258361,"question_id":37628,"body_markdown":"What is reflection, and why is it useful?\r\n\r\nI&#39;m particularly interested in Java, but I assume the principles are the same in any language.","title":"What is reflection and why is it useful?","body":"<p>What is reflection, and why is it useful?</p>\n<p>I'm particularly interested in Java, but I assume the principles are the same in any language.</p>\n"},{"tags":["java","wsdl","cxf","wsdl2java"],"owner":{"account_id":7968779,"reputation":43,"user_id":6014205,"display_name":"Bj&#246;rn Bause-Engel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699274787,"creation_date":1699274787,"question_id":77431190,"body_markdown":"I am trying to generate a client from a wsdl with apache cxf. But it fails with the message:\r\n\r\n```\r\nPart &lt;request&gt; in Message &lt;{[...]/wsdl}[...]auftrag&gt; referenced Type &lt;{http://www.w3.org/2001/XMLSchema}any&gt; can not be found in the schemas\r\n```\r\n\r\nFrom the wsdl:\r\n\r\n```\r\n    &lt;wsdl:operation name=&quot;[...]&quot;&gt;\r\n      &lt;wsdl:input message=&quot;nass:[...]auftrag&quot;/&gt;\r\n      &lt;wsdl:output message=&quot;nass:[...]ergebnis&quot;/&gt;\r\n      &lt;wsdl:fault name=&quot;exception&quot; message=&quot;xs:any&quot;/&gt;\r\n    &lt;/wsdl:operation&gt;\r\n```\r\n\r\nI tried to change the message type to something else, but it doesn&#39;t work.\r\n\r\nI am using apache cxf 3.6.2.","title":"CXF-Client generation fails with referenced Type can not be found in the schemas","body":"<p>I am trying to generate a client from a wsdl with apache cxf. But it fails with the message:</p>\n<pre><code>Part &lt;request&gt; in Message &lt;{[...]/wsdl}[...]auftrag&gt; referenced Type &lt;{http://www.w3.org/2001/XMLSchema}any&gt; can not be found in the schemas\n</code></pre>\n<p>From the wsdl:</p>\n<pre><code>    &lt;wsdl:operation name=&quot;[...]&quot;&gt;\n      &lt;wsdl:input message=&quot;nass:[...]auftrag&quot;/&gt;\n      &lt;wsdl:output message=&quot;nass:[...]ergebnis&quot;/&gt;\n      &lt;wsdl:fault name=&quot;exception&quot; message=&quot;xs:any&quot;/&gt;\n    &lt;/wsdl:operation&gt;\n</code></pre>\n<p>I tried to change the message type to something else, but it doesn't work.</p>\n<p>I am using apache cxf 3.6.2.</p>\n"},{"tags":["java","openapi","springdoc-openapi-ui","springdoc-openui"],"comments":[{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1669811503,"post_id":70789190,"comment_id":131727057,"body_markdown":"Is there a way to achieve something similar using the Quarkus-based rest application? I tried to achieve something similar for my quarkus-based application but could not get anything. Please find my question here: https://stackoverflow.com/q/74627820/7584240","body":"Is there a way to achieve something similar using the Quarkus-based rest application? I tried to achieve something similar for my quarkus-based application but could not get anything. Please find my question here: <a href=\"https://stackoverflow.com/q/74627820/7584240\">stackoverflow.com/q/74627820/7584240</a>"}],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1642768677,"creation_date":1642768677,"answer_id":70801397,"question_id":70789190,"body_markdown":"try either:\r\n\r\n```\r\nspringdoc.swagger-ui.tagsSorter: alpha\r\n```\r\n\r\n```\r\nspringdoc.writer-with-order-by-keys: true\r\n```\r\n\r\nhttps://springdoc.org/properties.html","title":"How do I control tag order in Springdoc OpenAPI 3.0?","body":"<p>try either:</p>\n<pre><code>springdoc.swagger-ui.tagsSorter: alpha\n</code></pre>\n<pre><code>springdoc.writer-with-order-by-keys: true\n</code></pre>\n<p><a href=\"https://springdoc.org/properties.html\" rel=\"noreferrer\">https://springdoc.org/properties.html</a></p>\n"},{"tags":[],"owner":{"account_id":3092852,"reputation":113,"user_id":2618629,"display_name":"Xogaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699274536,"creation_date":1699273356,"answer_id":77431064,"question_id":70789190,"body_markdown":"If you want to control the order programmatically, you can also try the following (rather crude, but effective) approach:\r\n\r\n````java\r\n@Configuration\r\n@OpenAPIDefinition\r\npublic class OpenApiConfiguration {\r\n\r\n  @Bean\r\n  public GroupedOpenApi.Builder myAPIBuilder() {\r\n      return GroupedOpenApi.builder()\r\n              .group(&quot;My Group&quot;)\r\n              .addOpenApiCustomizer(openApi -&gt; {\r\n\r\n                  // change order of tags\r\n                  Tag[] reordered = new Tag[10];\r\n                  openApi.getTags().forEach(tg -&gt; {\r\n                      if(tg.getName().equalsIgnoreCase(&quot;Paginated Endpoints&quot;)) reordered[0] = tg;\r\n                      if(tg.getName().equalsIgnoreCase(&quot;User Access&quot;)) reordered[1] = tg;\r\n                      if(tg.getName().equalsIgnoreCase(&quot;Tagging&quot;)) reordered[2] = tg;\r\n                      // and so on\r\n                  });\r\n                  openApi.tags(Arrays.asList(reordered));\r\n              })\r\n              .pathsToMatch(&quot;/api/**&quot;);\r\n  }\r\n} \r\n````","title":"How do I control tag order in Springdoc OpenAPI 3.0?","body":"<p>If you want to control the order programmatically, you can also try the following (rather crude, but effective) approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@OpenAPIDefinition\npublic class OpenApiConfiguration {\n\n  @Bean\n  public GroupedOpenApi.Builder myAPIBuilder() {\n      return GroupedOpenApi.builder()\n              .group(&quot;My Group&quot;)\n              .addOpenApiCustomizer(openApi -&gt; {\n\n                  // change order of tags\n                  Tag[] reordered = new Tag[10];\n                  openApi.getTags().forEach(tg -&gt; {\n                      if(tg.getName().equalsIgnoreCase(&quot;Paginated Endpoints&quot;)) reordered[0] = tg;\n                      if(tg.getName().equalsIgnoreCase(&quot;User Access&quot;)) reordered[1] = tg;\n                      if(tg.getName().equalsIgnoreCase(&quot;Tagging&quot;)) reordered[2] = tg;\n                      // and so on\n                  });\n                  openApi.tags(Arrays.asList(reordered));\n              })\n              .pathsToMatch(&quot;/api/**&quot;);\n  }\n} \n</code></pre>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7636,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70801397,"answer_count":2,"score":5,"last_activity_date":1699274536,"creation_date":1642693351,"question_id":70789190,"body_markdown":"I&#39;m switching from Springfox 3.0 to OpenAPI 3.0 + Springdoc-openapi.  \r\nIn Springfox the tag order is alphabetical, but in Springdoc&#39;s Swagger UI, the order appears to be random.\r\n\r\nHow do I control the Tag order on the UI?\r\nI&#39;d prefer an ordering of my choosing, but would be OK with ordering alphabetically by tag name.\r\n\r\n```java\r\n@Tag(name = MY_CONTROLLER_TAG_NAME, description = MY_CONTROLLER_TAG_DESC)\r\npublic class MyController {\r\n```\r\n\r\n### Desired Order:\r\n* Paginated Endpoints\r\n* User Access\r\n* Tagging\r\n* Tagging - Admin\r\n* User Management\r\n* User Management - Admin\r\n\r\n### Actual Order:\r\n* User Access\r\n* Tagging\r\n* Paginated Endpoints\r\n* Tagging - Admin\r\n* User Management - Admin\r\n* User Management\r\n\r\n### POM Dependencies:\r\n```xml\r\n\t\t&lt;springdoc-openapi.version&gt;1.6.4&lt;/springdoc-openapi.version&gt;\r\n...\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc-openapi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc-openapi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n### Application.yml:\r\n```yaml\r\nspringdoc:\r\n  show-actuator: ${SWAGGER_ENABLED:true}\r\n  swagger-ui:\r\n    doc-expansion: none\r\n  api-docs:\r\n    enabled: ${SWAGGER_ENABLED:true}\r\n  model-converters:\r\n    pageable-converter:\r\n      enabled: true\r\n```","title":"How do I control tag order in Springdoc OpenAPI 3.0?","body":"<p>I'm switching from Springfox 3.0 to OpenAPI 3.0 + Springdoc-openapi.<br />\nIn Springfox the tag order is alphabetical, but in Springdoc's Swagger UI, the order appears to be random.</p>\n<p>How do I control the Tag order on the UI?\nI'd prefer an ordering of my choosing, but would be OK with ordering alphabetically by tag name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Tag(name = MY_CONTROLLER_TAG_NAME, description = MY_CONTROLLER_TAG_DESC)\npublic class MyController {\n</code></pre>\n<h3>Desired Order:</h3>\n<ul>\n<li>Paginated Endpoints</li>\n<li>User Access</li>\n<li>Tagging</li>\n<li>Tagging - Admin</li>\n<li>User Management</li>\n<li>User Management - Admin</li>\n</ul>\n<h3>Actual Order:</h3>\n<ul>\n<li>User Access</li>\n<li>Tagging</li>\n<li>Paginated Endpoints</li>\n<li>Tagging - Admin</li>\n<li>User Management - Admin</li>\n<li>User Management</li>\n</ul>\n<h3>POM Dependencies:</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;springdoc-openapi.version&gt;1.6.4&lt;/springdoc-openapi.version&gt;\n...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc-openapi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc-openapi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<h3>Application.yml:</h3>\n<pre class=\"lang-yaml prettyprint-override\"><code>springdoc:\n  show-actuator: ${SWAGGER_ENABLED:true}\n  swagger-ui:\n    doc-expansion: none\n  api-docs:\n    enabled: ${SWAGGER_ENABLED:true}\n  model-converters:\n    pageable-converter:\n      enabled: true\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":2,"creation_date":1699040528,"post_id":77419251,"comment_id":136485998,"body_markdown":"It seems like that the method that is testing your code is expecting a certain format in your output. You should share the test method too.","body":"It seems like that the method that is testing your code is expecting a certain format in your output. You should share the test method too."},{"owner":{"account_id":16621987,"reputation":217,"user_id":12012015,"display_name":"ADSquared"},"score":2,"creation_date":1699040696,"post_id":77419251,"comment_id":136486032,"body_markdown":"Your ouput format is wrong. The program is expecting a certain format and type it seems. You are passing in strings &quot;0g Mehl, 0g Zucker, 0 Ei(er)&quot; and it&#39;s expecting 0. Either grams are unessary or you are doing something wrong but without the testing code there is nothing we can help you with.","body":"Your ouput format is wrong. The program is expecting a certain format and type it seems. You are passing in strings &quot;0g Mehl, 0g Zucker, 0 Ei(er)&quot; and it&#39;s expecting 0. Either grams are unessary or you are doing something wrong but without the testing code there is nothing we can help you with."},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699041483,"post_id":77419251,"comment_id":136486170,"body_markdown":"@ADSquared I have no access to the testing code - I don&#39;t know it. Only the information in my post is available to me. The output should show how many cakes can be baked with the quantity available to the user. In addition, the remaining amount per ingredient should be displayed (as in the example in the post).","body":"@ADSquared I have no access to the testing code - I don&#39;t know it. Only the information in my post is available to me. The output should show how many cakes can be baked with the quantity available to the user. In addition, the remaining amount per ingredient should be displayed (as in the example in the post)."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1699042678,"post_id":77419251,"comment_id":136486342,"body_markdown":"The best solution for this is using matrices and linear algebra.","body":"The best solution for this is using matrices and linear algebra."},{"owner":{"account_id":7098080,"reputation":930,"user_id":5430811,"accept_rate":83,"display_name":"Semaphor"},"score":0,"creation_date":1699042786,"post_id":77419251,"comment_id":136486360,"body_markdown":"For me it seems, that the english output is coming from the test code. How do you execute the test? Without knowing anything from the test code its impossible to say whats happening here.","body":"For me it seems, that the english output is coming from the test code. How do you execute the test? Without knowing anything from the test code its impossible to say whats happening here."},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699043796,"post_id":77419251,"comment_id":136486498,"body_markdown":"@Semaphor: The test will be executed by the online program in which I have to program this (I am working on the introduction to java) - with the given information it should be possible to write a program as simple as mine, which fulfils the test. I don&#39;t know what I&#39;m doing wrong and the test only gives me information about the error message.  (In my opinion, the output in my programme is the same as in the given example)","body":"@Semaphor: The test will be executed by the online program in which I have to program this (I am working on the introduction to java) - with the given information it should be possible to write a program as simple as mine, which fulfils the test. I don&#39;t know what I&#39;m doing wrong and the test only gives me information about the error message.  (In my opinion, the output in my programme is the same as in the given example)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699045657,"post_id":77419251,"comment_id":136486786,"body_markdown":"But, I agree with the first two comments. The automated judge is expecting your output in a certain format, and your output format doesn&#39;t comply. It looks like the test case actually used 3 zeroes for input. Do you have documentation on the expected output?","body":"But, I agree with the first two comments. The automated judge is expecting your output in a certain format, and your output format doesn&#39;t comply. It looks like the test case actually used 3 zeroes for input. Do you have documentation on the expected output?"},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699046380,"post_id":77419251,"comment_id":136486885,"body_markdown":"@OldDogProgrammer The output should be how many cakes you can bake and how much flour, sugar and eggs are left over (I think based on the given example and the task!!).\n\nThis is the second programme I&#39;ve written and the test drove me crazy with the first one too, because you don&#39;t really know what you&#39;re doing wrong when no more syntax errors occur.","body":"@OldDogProgrammer The output should be how many cakes you can bake and how much flour, sugar and eggs are left over (I think based on the given example and the task!!).  This is the second programme I&#39;ve written and the test drove me crazy with the first one too, because you don&#39;t really know what you&#39;re doing wrong when no more syntax errors occur."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699047008,"post_id":77419251,"comment_id":136486956,"body_markdown":"the problem description (at least as posted here) is also very confusing - starting in English, switching to German. The posted code apparently is doing exactly as required by the **posted**, but edited, description... it would be *wise* to have the original text posted, specially regarding the output format (including line breaks and indentation)","body":"the problem description (at least as posted here) is also very confusing - starting in English, switching to German. The posted code apparently is doing exactly as required by the <b>posted</b>, but edited, description... it would be <i>wise</i> to have the original text posted, specially regarding the output format (including line breaks and indentation)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699047412,"post_id":77419251,"comment_id":136486995,"body_markdown":"Also not sure if it is expected to output a prompt for each input value... as shown in the Example, but missing in code","body":"Also not sure if it is expected to output a prompt for each input value... as shown in the Example, but missing in code"},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699048095,"post_id":77419251,"comment_id":136487061,"body_markdown":"@user85421 This is the original problem description. To output a prompt for each unput value I have already tried - it does not change the error message!","body":"@user85421 This is the original problem description. To output a prompt for each unput value I have already tried - it does not change the error message!"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699048729,"post_id":77419251,"comment_id":136487124,"body_markdown":"But, *how* is the output to be presented? i.e.,  *in what format* ? The automated judge might what the output to be like this:  &quot;0 0 0 0&quot;. Or like this: &quot;Cakes: 0. Leftovers: Flour: 0. Sugar: 0. Eggs: 0&quot; Or like this: &quot;0 Cakes, with 0 Flour, 0 Sugar, 0 Eggs leftover.&quot; To solve this, you have to know the requirements of the automated judge.  An automated judge can be thrown off by something small, like using a `,` instead of a `.`.","body":"But, <i>how</i> is the output to be presented? i.e.,  <i>in what format</i> ? The automated judge might what the output to be like this:  &quot;0 0 0 0&quot;. Or like this: &quot;Cakes: 0. Leftovers: Flour: 0. Sugar: 0. Eggs: 0&quot; Or like this: &quot;0 Cakes, with 0 Flour, 0 Sugar, 0 Eggs leftover.&quot; To solve this, you have to know the requirements of the automated judge.  An automated judge can be thrown off by something small, like using a <code>,</code> instead of a <code>.</code>."},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699049047,"post_id":77419251,"comment_id":136487148,"body_markdown":"@OldDogProgrammer: &quot;(Anzahl der Kuchen =) Amount of Cakes:&quot; and &quot;Rest: ...g flour, ...g sugar, ...eggs&quot; - depending on user input (I interpret from the example)","body":"@OldDogProgrammer: &quot;(Anzahl der Kuchen =) Amount of Cakes:&quot; and &quot;Rest: ...g flour, ...g sugar, ...eggs&quot; - depending on user input (I interpret from the example)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699049469,"post_id":77419251,"comment_id":136487187,"body_markdown":"I see at least one edit changing posted text - the numbers of your result are correct (I mean with ZERO input, output must be all ZERO) , so the problem must be formatting - probably including language! In other words, I suspect the output must be the exact same text as expected by the program that is testing it (no intelligence involved, just a string compare - every bit counts)","body":"I see at least one edit changing posted text - the numbers of your result are correct (I mean with ZERO input, output must be all ZERO) , so the problem must be formatting - probably including language! In other words, I suspect the output must be the exact same text as expected by the program that is testing it (no intelligence involved, just a string compare - every bit counts)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699049547,"post_id":77419251,"comment_id":136487191,"body_markdown":"What example? The example shown comes from your code, which fails to pass the automated judge. Show us output from an example that passed, possibly from another student, or a page describing the assignment. Or, check with your professor / teacher as to how the output should be formatted.","body":"What example? The example shown comes from your code, which fails to pass the automated judge. Show us output from an example that passed, possibly from another student, or a page describing the assignment. Or, check with your professor / teacher as to how the output should be formatted."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699049724,"post_id":77419251,"comment_id":136487205,"body_markdown":"Off-Topic: Avoiding problems like this is one reason programming practice / challenge sites often require users to code a method that returns an array, list, or other data structure.","body":"Off-Topic: Avoiding problems like this is one reason programming practice / challenge sites often require users to code a method that returns an array, list, or other data structure."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699049896,"post_id":77419251,"comment_id":136487226,"body_markdown":"quoting the test result: &quot;Output does not match the **expected format**&quot; (emphasis added) - unfortunately it does not tell what output format is expected","body":"quoting the test result: &quot;Output does not match the <b>expected format</b>&quot; (emphasis added) - unfortunately it does not tell what output format is expected"}],"answers":[{"comments":[{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":1,"creation_date":1699044554,"post_id":77419560,"comment_id":136486626,"body_markdown":"Thanks for the answer (unfortunately I&#39;m not allowed to use scanners and I&#39;m not really familiar with them) - does this also work with SavitchIn and boolean?\nIf I understand your example correctly, my programme also does this in a certain white way (in a cumbersome way - I&#39;m trying to solve this with my existing knowledge (which is expected). If I understand the error message correctly, I haven&#39;t made a syntax error - there&#39;s just something wrong with the output??","body":"Thanks for the answer (unfortunately I&#39;m not allowed to use scanners and I&#39;m not really familiar with them) - does this also work with SavitchIn and boolean? If I understand your example correctly, my programme also does this in a certain white way (in a cumbersome way - I&#39;m trying to solve this with my existing knowledge (which is expected). If I understand the error message correctly, I haven&#39;t made a syntax error - there&#39;s just something wrong with the output??"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699045117,"post_id":77419560,"comment_id":136486708,"body_markdown":"@Euler007, I don&#39;t follow anything you&#39;re saying.  Re-code it.","body":"@Euler007, I don&#39;t follow anything you&#39;re saying.  Re-code it."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1699043614,"creation_date":1699043614,"answer_id":77419560,"question_id":77419251,"body_markdown":"Deduct _200_, _100_, and _2_, from your input-values, until one is _lesser-than_, or _equal-to_, _0_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nint a = in.nextInt(), b = in.nextInt(), c = in.nextInt(), x = 0;\r\nwhile (a &gt;= 200 &amp;&amp; b &gt;= 100 &amp;&amp; c &gt;= 2) {\r\n    x++;\r\n    a -= 200;\r\n    b -= 100;\r\n    c -= 2;\r\n}\r\n```","title":"How many cakes can be baked with the given ingredients (java)","body":"<p>Deduct <em>200</em>, <em>100</em>, and <em>2</em>, from your input-values, until one is <em>lesser-than</em>, or <em>equal-to</em>, <em>0</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nint a = in.nextInt(), b = in.nextInt(), c = in.nextInt(), x = 0;\nwhile (a &gt;= 200 &amp;&amp; b &gt;= 100 &amp;&amp; c &gt;= 2) {\n    x++;\n    a -= 200;\n    b -= 100;\n    c -= 2;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699127652,"post_id":77423462,"comment_id":136493285,"body_markdown":"seems like it was the output format ... quoting from some [comment](https://stackoverflow.com/questions/77419251/how-many-cakes-can-be-baked-with-the-given-ingredients-java#comment136486995_77419251) &quot;*it is expected to output a prompt for each input value... as shown in the Example*&quot;","body":"seems like it was the output format ... quoting from some <a href=\"https://stackoverflow.com/questions/77419251/how-many-cakes-can-be-baked-with-the-given-ingredients-java#comment136486995_77419251\">comment</a> &quot;<i>it is expected to output a prompt for each input value... as shown in the Example</i>&quot;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699262327,"post_id":77423462,"comment_id":136504757,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77423462/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699274531,"creation_date":1699124714,"answer_id":77423462,"question_id":77419251,"body_markdown":"  I have now solved my problem with the following code (by a lot of trial and error):\r\n\r\n    package einfprog;\r\n\r\n    public class Bsp02 {\r\n    public static void main(String[] args) {\r\n        // TODO: Implement.\r\n        SavitchIn in = new SavitchIn();\r\n        \r\n        // Zutatenmengen pro Kuchen\r\n        int mehlProKuchen = 200;\r\n        int zuckerProKuchen = 100;\r\n        int eierProKuchen = 2;\r\n\r\n        System.out.print(&quot;? Mehl: &quot;);\r\n        int verfuegbaresMehl = in.readInt();\r\n        System.out.print(&quot;? Zucker: &quot;);\r\n        int verfuegbarerZucker = in.readInt();\r\n        System.out.print(&quot;? Eier: &quot;);\r\n        int verfuegbareEier = in.readInt();\r\n\r\n        // Anzahl der Kuchen\r\n        int anzahlKuchen = Math.min(\r\n            verfuegbaresMehl / mehlProKuchen,\r\n            Math.min(verfuegbarerZucker / zuckerProKuchen, verfuegbareEier / eierProKuchen)\r\n        );\r\n\r\n        // Rest\r\n        int restMehl = verfuegbaresMehl - anzahlKuchen * mehlProKuchen;\r\n        int restZucker = verfuegbarerZucker - anzahlKuchen * zuckerProKuchen;\r\n        int restEier = verfuegbareEier - anzahlKuchen * eierProKuchen;\r\n\r\n        System.out.println(&quot;Anzahl der Kuchen: &quot; + anzahlKuchen);\r\n        System.out.println(&quot;Rest: &quot; + restMehl + &quot;g Mehl, &quot; + restZucker + &quot;g Zucker, &quot; + restEier + &quot; Ei(er)&quot;);\r\n    }\r\n}\r\n\r\nSo the error was that it is expected to output a prompt for each input value, which I solved with\r\n\r\n    System.out.print(&quot;? Mehl: &quot;);\r\n    int verfuegbaresMehl = in.readInt();\r\n    System.out.print(&quot;? Zucker: &quot;);\r\n    int verfuegbarerZucker = in.readInt();\r\n    System.out.print(&quot;? Eier: &quot;);\r\n    int verfuegbareEier = in.readInt();\r\n\r\nThanks for the helpful comments","title":"How many cakes can be baked with the given ingredients (java)","body":"<p>I have now solved my problem with the following code (by a lot of trial and error):</p>\n<pre><code>package einfprog;\n\npublic class Bsp02 {\npublic static void main(String[] args) {\n    // TODO: Implement.\n    SavitchIn in = new SavitchIn();\n    \n    // Zutatenmengen pro Kuchen\n    int mehlProKuchen = 200;\n    int zuckerProKuchen = 100;\n    int eierProKuchen = 2;\n\n    System.out.print(&quot;? Mehl: &quot;);\n    int verfuegbaresMehl = in.readInt();\n    System.out.print(&quot;? Zucker: &quot;);\n    int verfuegbarerZucker = in.readInt();\n    System.out.print(&quot;? Eier: &quot;);\n    int verfuegbareEier = in.readInt();\n\n    // Anzahl der Kuchen\n    int anzahlKuchen = Math.min(\n        verfuegbaresMehl / mehlProKuchen,\n        Math.min(verfuegbarerZucker / zuckerProKuchen, verfuegbareEier / eierProKuchen)\n    );\n\n    // Rest\n    int restMehl = verfuegbaresMehl - anzahlKuchen * mehlProKuchen;\n    int restZucker = verfuegbarerZucker - anzahlKuchen * zuckerProKuchen;\n    int restEier = verfuegbareEier - anzahlKuchen * eierProKuchen;\n\n    System.out.println(&quot;Anzahl der Kuchen: &quot; + anzahlKuchen);\n    System.out.println(&quot;Rest: &quot; + restMehl + &quot;g Mehl, &quot; + restZucker + &quot;g Zucker, &quot; + restEier + &quot; Ei(er)&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>So the error was that it is expected to output a prompt for each input value, which I solved with</p>\n<pre><code>System.out.print(&quot;? Mehl: &quot;);\nint verfuegbaresMehl = in.readInt();\nSystem.out.print(&quot;? Zucker: &quot;);\nint verfuegbarerZucker = in.readInt();\nSystem.out.print(&quot;? Eier: &quot;);\nint verfuegbareEier = in.readInt();\n</code></pre>\n<p>Thanks for the helpful comments</p>\n"}],"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1699274531,"creation_date":1699039646,"question_id":77419251,"body_markdown":"&gt;Write a programme that calculates how many cakes can be baked with a given amount of ingredients. For the sake of simplicity, we will use the following basic recipe:\r\n&gt;\r\n&gt;Required ingredient quantities per cake:\r\n&gt;\r\n&gt;Flour (in g): 200  \r\n&gt;Sugar (in g): 100  \r\nEggs (pieces): 2  \r\nThe user is asked to enter the available quantity of the respective ingredients (in whole numbers). The system should then display how many cakes can be baked with this quantity. In addition, the remaining amount per ingredient should be displayed.\r\n&gt;\r\n&gt;Example:\r\n&gt;\r\n&gt;? Mehl: 1000  \r\n&gt;? Zucker: 400  \r\n&gt;? Eier: 7  \r\n&gt; Anzahl der Kuchen: 3  \r\n&gt; Rest: 400g Mehl, 100g Zucker, 1 Ei(er)  \r\n\r\nI have now written the following programme:\r\n\r\nflour=Mehl; sugar=Zucker; eggs=Eier\r\n\r\n    \r\n```\r\npackage einfprog;\r\n\r\npublic class Bsp02 {\r\n    public static void main(String[] args) {\r\n        // TODO: Implement.\r\n        SavitchIn in = new SavitchIn();\r\n        \r\n        // Zutatenmengen pro Kuchen\r\n        int mehlProKuchen = 200;\r\n        int zuckerProKuchen = 100;\r\n        int eierProKuchen = 2;\r\n\r\n        int verfuegbaresMehl = in.readInt();\r\n        int verfuegbarerZucker = in.readInt();\r\n        int verfuegbareEier = in.readInt();\r\n\r\n        // Anzahl der Kuchen\r\n        int anzahlKuchen = Math.min(\r\n            verfuegbaresMehl / mehlProKuchen,\r\n            Math.min(verfuegbarerZucker / zuckerProKuchen, verfuegbareEier / eierProKuchen)\r\n        );\r\n\r\n        // Rest\r\n        int restMehl = verfuegbaresMehl - anzahlKuchen * mehlProKuchen;\r\n        int restZucker = verfuegbarerZucker - anzahlKuchen * zuckerProKuchen;\r\n        int restEier = verfuegbareEier - anzahlKuchen * eierProKuchen;\r\n\r\n        System.out.println(&quot;Anzahl der Kuchen: &quot; + anzahlKuchen);\r\n        System.out.println(&quot;Rest: &quot; + restMehl + &quot;g Mehl, &quot; + restZucker + &quot;g Zucker, &quot; + restEier + &quot; Ei(er)&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever, I am doing something wrong with the output and get the following error message:\r\n\r\n\r\n```\r\nPart 1 -- 0/1 tests passed:\r\n     main(): Failed: Output does not match the expected format for part 1:\r\n      Input: flour=0, sugar=0, eggs=0\r\n      Your output:\r\nAnzahl der Kuchen: 0\r\nRest: 0g Mehl, 0g Zucker, 0 Ei(er)\r\n```\r\n\r\nUnfortunately, I can&#39;t work out what I&#39;m doing wrong (or rather, I don&#39;t understand where the English terms flour, sugar and eggs in the Input come from).\r\nIf someone could give me a tip, I would be very grateful.\r\n","title":"How many cakes can be baked with the given ingredients (java)","body":"<blockquote>\n<p>Write a programme that calculates how many cakes can be baked with a given amount of ingredients. For the sake of simplicity, we will use the following basic recipe:</p>\n<p>Required ingredient quantities per cake:</p>\n<p>Flour (in g): 200<br />\nSugar (in g): 100<br />\nEggs (pieces): 2<br />\nThe user is asked to enter the available quantity of the respective ingredients (in whole numbers). The system should then display how many cakes can be baked with this quantity. In addition, the remaining amount per ingredient should be displayed.</p>\n<p>Example:</p>\n<p>? Mehl: 1000<br />\n? Zucker: 400<br />\n? Eier: 7<br />\nAnzahl der Kuchen: 3<br />\nRest: 400g Mehl, 100g Zucker, 1 Ei(er)</p>\n</blockquote>\n<p>I have now written the following programme:</p>\n<p>flour=Mehl; sugar=Zucker; eggs=Eier</p>\n<pre><code>package einfprog;\n\npublic class Bsp02 {\n    public static void main(String[] args) {\n        // TODO: Implement.\n        SavitchIn in = new SavitchIn();\n        \n        // Zutatenmengen pro Kuchen\n        int mehlProKuchen = 200;\n        int zuckerProKuchen = 100;\n        int eierProKuchen = 2;\n\n        int verfuegbaresMehl = in.readInt();\n        int verfuegbarerZucker = in.readInt();\n        int verfuegbareEier = in.readInt();\n\n        // Anzahl der Kuchen\n        int anzahlKuchen = Math.min(\n            verfuegbaresMehl / mehlProKuchen,\n            Math.min(verfuegbarerZucker / zuckerProKuchen, verfuegbareEier / eierProKuchen)\n        );\n\n        // Rest\n        int restMehl = verfuegbaresMehl - anzahlKuchen * mehlProKuchen;\n        int restZucker = verfuegbarerZucker - anzahlKuchen * zuckerProKuchen;\n        int restEier = verfuegbareEier - anzahlKuchen * eierProKuchen;\n\n        System.out.println(&quot;Anzahl der Kuchen: &quot; + anzahlKuchen);\n        System.out.println(&quot;Rest: &quot; + restMehl + &quot;g Mehl, &quot; + restZucker + &quot;g Zucker, &quot; + restEier + &quot; Ei(er)&quot;);\n    }\n}\n</code></pre>\n<p>However, I am doing something wrong with the output and get the following error message:</p>\n<pre><code>Part 1 -- 0/1 tests passed:\n     main(): Failed: Output does not match the expected format for part 1:\n      Input: flour=0, sugar=0, eggs=0\n      Your output:\nAnzahl der Kuchen: 0\nRest: 0g Mehl, 0g Zucker, 0 Ei(er)\n</code></pre>\n<p>Unfortunately, I can't work out what I'm doing wrong (or rather, I don't understand where the English terms flour, sugar and eggs in the Input come from).\nIf someone could give me a tip, I would be very grateful.</p>\n"},{"tags":["javascript","java","c#","windows","electron"],"comments":[{"owner":{"account_id":4166657,"reputation":543,"user_id":3415496,"display_name":"Elvis Adomnica"},"score":1,"creation_date":1699273574,"post_id":77431057,"comment_id":136506703,"body_markdown":"Hm that &quot;Silent Install Builder&quot; doesn&#39;t seem to be very well documented. Basically what you need is to execute something &quot;post install&quot;. Some other solutions like electron-builder allow you to add a postInstall hook. You can check it out here: https://www.electron.build/index.html Also, keep in mind that Electron team maintain their own packager solution: https://github.com/electron/electron-packager","body":"Hm that &quot;Silent Install Builder&quot; doesn&#39;t seem to be very well documented. Basically what you need is to execute something &quot;post install&quot;. Some other solutions like electron-builder allow you to add a postInstall hook. You can check it out here: <a href=\"https://www.electron.build/index.html\" rel=\"nofollow noreferrer\">electron.build/index.html</a> Also, keep in mind that Electron team maintain their own packager solution: <a href=\"https://github.com/electron/electron-packager\" rel=\"nofollow noreferrer\">github.com/electron/electron-packager</a>"}],"owner":{"account_id":20832228,"reputation":568,"user_id":15301266,"display_name":"Alija Fajic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699273890,"creation_date":1699273264,"question_id":77431057,"body_markdown":"When my app finishes installing the app is automatically started, before this installer is closed with the &quot;Finish&quot; button. Is there a way to not start it, or to start it when this &quot;Finish&quot; button is clicked? \r\nI am using Silent Install Builder, https://www.silentinstall.org/\r\nand electron-rebuild https://github.com/electron/rebuild\r\n\r\nI am attaching a screenshot so you can see what is happening.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3mjZ.png","title":"How not to start Windows(Electron.js) app when installation is finished?","body":"<p>When my app finishes installing the app is automatically started, before this installer is closed with the &quot;Finish&quot; button. Is there a way to not start it, or to start it when this &quot;Finish&quot; button is clicked?\nI am using Silent Install Builder, <a href=\"https://www.silentinstall.org/\" rel=\"nofollow noreferrer\">https://www.silentinstall.org/</a>\nand electron-rebuild <a href=\"https://github.com/electron/rebuild\" rel=\"nofollow noreferrer\">https://github.com/electron/rebuild</a></p>\n<p>I am attaching a screenshot so you can see what is happening.</p>\n<p><a href=\"https://i.stack.imgur.com/F3mjZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3mjZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":14769499,"reputation":108,"user_id":10666418,"display_name":"Anton Kozub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699259629,"creation_date":1699259629,"answer_id":77429746,"question_id":77410237,"body_markdown":"What do you expect to see in the `parent` attribute of your `test` object? You have two children which refers to the same id.\r\n\r\nIf a few children can have the same `test_id` you must use `@ManyToOne` relationship.","title":"SpringBoot Hibernate Inheritance @OneToOne does&#39;t work","body":"<p>What do you expect to see in the <code>parent</code> attribute of your <code>test</code> object? You have two children which refers to the same id.</p>\n<p>If a few children can have the same <code>test_id</code> you must use <code>@ManyToOne</code> relationship.</p>\n"}],"owner":{"account_id":29751947,"reputation":1,"user_id":22801657,"display_name":"Mamut2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699273858,"creation_date":1698933731,"question_id":77410237,"body_markdown":"I have been trying to solve this problem for 6 hours and I am dissapointed :(.\r\nThe problem is with @OneToOne because entities **ChildA** and **ChildB** might have the same **Test** record although I use @OneToOne(mappedBy).\r\n\r\n\r\n```\r\n@Entity\r\npublic class Test  {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n\r\n    @OneToOne(mappedBy = &quot;test&quot;)\r\n    private Parent parent;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n}\r\n```\r\n\r\nand below is an inheritance:\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic abstract class Parent {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;test_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Test test;\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class ChildA extends Parent {\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class ChildB extends Parent {\r\n\r\n}\r\n```\r\n\r\n\r\nand I created a record Test: `INSERT INTO Test (id) VALUES (1);`\r\nthen I created a record ChildA: `INSERT INTO ChildA (id, test_id) VALUES (1, 1);`\r\nand finally: ChildB: `INSERT INTO ChildB (id, test_id) VALUES (1, 1);` and booom both use the same **test_id**. The **Test** record should be unique in parent class, and in all child classes but it is not unique.\r\n\r\nCould you please help me out with that?","title":"SpringBoot Hibernate Inheritance @OneToOne does&#39;t work","body":"<p>I have been trying to solve this problem for 6 hours and I am dissapointed :(.\nThe problem is with @OneToOne because entities <strong>ChildA</strong> and <strong>ChildB</strong> might have the same <strong>Test</strong> record although I use @OneToOne(mappedBy).</p>\n<pre><code>@Entity\npublic class Test  {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n\n    @OneToOne(mappedBy = &quot;test&quot;)\n    private Parent parent;\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n<p>and below is an inheritance:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @OneToOne\n    @JoinColumn(name = &quot;test_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Test test;\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n<pre><code>@Entity\npublic class ChildA extends Parent {\n\n}\n</code></pre>\n<pre><code>@Entity\npublic class ChildB extends Parent {\n\n}\n</code></pre>\n<p>and I created a record Test: <code>INSERT INTO Test (id) VALUES (1);</code>\nthen I created a record ChildA: <code>INSERT INTO ChildA (id, test_id) VALUES (1, 1);</code>\nand finally: ChildB: <code>INSERT INTO ChildB (id, test_id) VALUES (1, 1);</code> and booom both use the same <strong>test_id</strong>. The <strong>Test</strong> record should be unique in parent class, and in all child classes but it is not unique.</p>\n<p>Could you please help me out with that?</p>\n"},{"tags":["java","spring","spring-boot","exception","exceptionhandler"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699015582,"post_id":77416611,"comment_id":136480813,"body_markdown":"Do you have a link to the tutorials?","body":"Do you have a link to the tutorials?"},{"owner":{"account_id":29813499,"reputation":1,"user_id":22848333,"display_name":"Ioannis Zisis"},"score":0,"creation_date":1699017550,"post_id":77416611,"comment_id":136481221,"body_markdown":"@RomanC Sure, here it is, https://www.udemy.com/course/restful-web-services-with-spring-framework-a-quick-start/","body":"@RomanC Sure, here it is, <a href=\"https://www.udemy.com/course/restful-web-services-with-spring-framework-a-quick-start/\" rel=\"nofollow noreferrer\">udemy.com/course/&hellip;</a>"},{"owner":{"account_id":7783967,"reputation":360,"user_id":5889494,"display_name":"Arpit"},"score":0,"creation_date":1699019723,"post_id":77416611,"comment_id":136481685,"body_markdown":"Try doing some basic cleanup like remove the class files, recompile, and re run. Nothing wrong with the code in my opinion.","body":"Try doing some basic cleanup like remove the class files, recompile, and re run. Nothing wrong with the code in my opinion."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699020152,"post_id":77416611,"comment_id":136481776,"body_markdown":"You should also post building details.","body":"You should also post building details."},{"owner":{"account_id":29813499,"reputation":1,"user_id":22848333,"display_name":"Ioannis Zisis"},"score":0,"creation_date":1699023466,"post_id":77416611,"comment_id":136482547,"body_markdown":"@Arpit I did and still nothing worked. I also did a clean install of Maven in case i hadn&#39;t done something but nothing still.","body":"@Arpit I did and still nothing worked. I also did a clean install of Maven in case i hadn&#39;t done something but nothing still."}],"answers":[{"comments":[{"owner":{"account_id":29813499,"reputation":1,"user_id":22848333,"display_name":"Ioannis Zisis"},"score":0,"creation_date":1699023569,"post_id":77417161,"comment_id":136482582,"body_markdown":"Haha it isn&#39;t but I tried a lot of times and still trying hoping something will change","body":"Haha it isn&#39;t but I tried a lot of times and still trying hoping something will change"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1699031240,"post_id":77417161,"comment_id":136484413,"body_markdown":"I literally copy pasted your code and It worked :D","body":"I literally copy pasted your code and It worked :D"}],"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699019423,"creation_date":1699019423,"answer_id":77417161,"question_id":77416611,"body_markdown":"I&#39;ve tried the same environment as yours and it works.\r\nthis may seem silly but try rerunning your application :)","title":"@ExceptionHandler not working as it was supposed to","body":"<p>I've tried the same environment as yours and it works.\nthis may seem silly but try rerunning your application :)</p>\n"}],"owner":{"account_id":29813499,"reputation":1,"user_id":22848333,"display_name":"Ioannis Zisis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699273504,"creation_date":1699013768,"question_id":77416611,"body_markdown":"I am watching a tutorial about RESTful web services and I&#39;m creating a basic API. At some point it introduced me to exception handling so to test it I made this class:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class AppExceptionsHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(value = {Exception.class})\r\n    public ResponseEntity&lt;CustomErrorMessage&gt; handleAnyException(Exception ex, WebRequest request) {\r\n\r\n        String customErrorMessageDescription = ex.getLocalizedMessage();\r\n        if (customErrorMessageDescription == null)\r\n            customErrorMessageDescription = ex.toString();\r\n\r\n        CustomErrorMessage customErrorMessage = new CustomErrorMessage(new Date(), customErrorMessageDescription);\r\n\r\n        return new ResponseEntity&lt;CustomErrorMessage&gt;(customErrorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n}\r\n```\r\n\r\nAnd a simple test I was shown was to catch a NullPointerException with the intended error inside the getUser method which is implemented in the UserController class:\r\n\r\n\r\n```\r\n@GetMapping(path = &quot;/{userId}&quot;, produces = { MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE })\r\n    public ResponseEntity&lt;UserRest&gt; getUser(@PathVariable String userId) {\r\n\r\n        String firstName = null;\r\n\r\n        int length = firstName.length();\r\n\r\n        if (users.containsKey(userId)) {\r\n            return new ResponseEntity&lt;UserRest&gt;(users.get(userId), HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;UserRest&gt;(HttpStatus.NO_CONTENT);\r\n        }\r\n    }\r\n```\r\nIn the tutorial it shows that when running the code and sending a GET request through Postman you receive the corresponding body and information you requested in the handler with no backtrace in the console, but instead I get a NullPointerException error with backtrace in my console and in Postman I get the default structure of the data which is like this: \r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: 1699010452939,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/users/bb3bd1f5-ab81-40f0-a025-d009e8e30ada&quot;\r\n}\r\n```\r\nAnd the backtrace I get is this:\r\n\r\n```\r\n2023-11-03T13:20:52.933+02:00 ERROR 21760 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;firstName&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;firstName&quot; is null\r\n\tat com.appsdeveloperblog.app.ws.mobileappws.ui.controller.UserController.getUser(UserController.java:34) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\r\n```\r\n\r\nIn case someone wants to see the CustomErrorMessage class:\r\n\r\n```\r\npublic class CustomErrorMessage {\r\n    private Date timestamp;\r\n    private String message;\r\n\r\n    public CustomErrorMessage() {\r\n    }\r\n\r\n    public CustomErrorMessage(Date timestamp, String message) {\r\n        this.timestamp = timestamp;\r\n        this.message = message;\r\n    }\r\n\r\n    public Date getTimestamp() {\r\n        return timestamp;\r\n    }\r\n\r\n    public void setTimestamp(Date timestamp) {\r\n        this.timestamp = timestamp;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI also placed a breakpoint inside the handler but it never gets used from the application. Do I have to add something else to invoke it? \r\nI also changed the `Exception.class` in the `@ExceptionHandler` annotation to `NullPointerException.class` in case it would catch the error but nothing changed. I&#39;m a beginner in Spring Boot so I ran out of ideas pretty quickly.\r\nIt is really frustrating because I did exactly what it showed in the tutorial but mine isn&#39;t working.\r\n\r\n**EDIT**\r\n\r\n**I made it work. It seems that the package that included my handler was not initially scanned by Spring so it couldn&#39;t use the annotations I had. With the `@ComponentScan(&quot;Name of the package&quot;)` annotation in the main class of the application everything worked correctly.**","title":"@ExceptionHandler not working as it was supposed to","body":"<p>I am watching a tutorial about RESTful web services and I'm creating a basic API. At some point it introduced me to exception handling so to test it I made this class:</p>\n<pre><code>@ControllerAdvice\npublic class AppExceptionsHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(value = {Exception.class})\n    public ResponseEntity&lt;CustomErrorMessage&gt; handleAnyException(Exception ex, WebRequest request) {\n\n        String customErrorMessageDescription = ex.getLocalizedMessage();\n        if (customErrorMessageDescription == null)\n            customErrorMessageDescription = ex.toString();\n\n        CustomErrorMessage customErrorMessage = new CustomErrorMessage(new Date(), customErrorMessageDescription);\n\n        return new ResponseEntity&lt;CustomErrorMessage&gt;(customErrorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p>And a simple test I was shown was to catch a NullPointerException with the intended error inside the getUser method which is implemented in the UserController class:</p>\n<pre><code>@GetMapping(path = &quot;/{userId}&quot;, produces = { MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE })\n    public ResponseEntity&lt;UserRest&gt; getUser(@PathVariable String userId) {\n\n        String firstName = null;\n\n        int length = firstName.length();\n\n        if (users.containsKey(userId)) {\n            return new ResponseEntity&lt;UserRest&gt;(users.get(userId), HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;UserRest&gt;(HttpStatus.NO_CONTENT);\n        }\n    }\n</code></pre>\n<p>In the tutorial it shows that when running the code and sending a GET request through Postman you receive the corresponding body and information you requested in the handler with no backtrace in the console, but instead I get a NullPointerException error with backtrace in my console and in Postman I get the default structure of the data which is like this:</p>\n<pre><code>{\n    &quot;timestamp&quot;: 1699010452939,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/users/bb3bd1f5-ab81-40f0-a025-d009e8e30ada&quot;\n}\n</code></pre>\n<p>And the backtrace I get is this:</p>\n<pre><code>2023-11-03T13:20:52.933+02:00 ERROR 21760 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;firstName&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;firstName&quot; is null\n    at com.appsdeveloperblog.app.ws.mobileappws.ui.controller.UserController.getUser(UserController.java:34) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\n</code></pre>\n<p>In case someone wants to see the CustomErrorMessage class:</p>\n<pre><code>public class CustomErrorMessage {\n    private Date timestamp;\n    private String message;\n\n    public CustomErrorMessage() {\n    }\n\n    public CustomErrorMessage(Date timestamp, String message) {\n        this.timestamp = timestamp;\n        this.message = message;\n    }\n\n    public Date getTimestamp() {\n        return timestamp;\n    }\n\n    public void setTimestamp(Date timestamp) {\n        this.timestamp = timestamp;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n}\n</code></pre>\n<p>I also placed a breakpoint inside the handler but it never gets used from the application. Do I have to add something else to invoke it?\nI also changed the <code>Exception.class</code> in the <code>@ExceptionHandler</code> annotation to <code>NullPointerException.class</code> in case it would catch the error but nothing changed. I'm a beginner in Spring Boot so I ran out of ideas pretty quickly.\nIt is really frustrating because I did exactly what it showed in the tutorial but mine isn't working.</p>\n<p><strong>EDIT</strong></p>\n<p><strong>I made it work. It seems that the package that included my handler was not initially scanned by Spring so it couldn't use the annotations I had. With the <code>@ComponentScan(&quot;Name of the package&quot;)</code> annotation in the main class of the application everything worked correctly.</strong></p>\n"},{"tags":["java","database","oracle"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1699259643,"post_id":77429471,"comment_id":136504293,"body_markdown":"Did you `COMMIT` your data?","body":"Did you <code>COMMIT</code> your data?"},{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1699261873,"post_id":77429471,"comment_id":136504680,"body_markdown":"Select the condition columns too. Remove one condition at the time and see what happens. https://en.wikipedia.org/wiki/Divide-and-conquer_algorithm","body":"Select the condition columns too. Remove one condition at the time and see what happens. <a href=\"https://en.wikipedia.org/wiki/Divide-and-conquer_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Divide-and-conquer_algorithm</a>"},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699262287,"post_id":77429471,"comment_id":136504748,"body_markdown":"@MT0 data already exist in database.","body":"@MT0 data already exist in database."},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699262389,"post_id":77429471,"comment_id":136504768,"body_markdown":"thx @user85421, It was also tested with &lt;&gt; and the response from the database is still wrong","body":"thx @user85421, It was also tested with &lt;&gt; and the response from the database is still wrong"},{"owner":{"account_id":5243359,"reputation":15773,"user_id":4189814,"display_name":"Koen Lostrie"},"score":0,"creation_date":1699263405,"post_id":77429471,"comment_id":136504929,"body_markdown":"are any of the bind variables NULL or empty  ?","body":"are any of the bind variables NULL or empty  ?"},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699265192,"post_id":77429471,"comment_id":136505213,"body_markdown":"@KoenLostrie\nNo, they have a value and are not empty\nThe question description was edited","body":"@KoenLostrie No, they have a value and are not empty The question description was edited"},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1699265202,"post_id":77429471,"comment_id":136505214,"body_markdown":"Have you tried `setInt()` rather than `setByte()`? If should not make a difference but different drivers may have slightly different implementations.","body":"Have you tried <code>setInt()</code> rather than <code>setByte()</code>? If should not make a difference but different drivers may have slightly different implementations."},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699267224,"post_id":77429471,"comment_id":136505605,"body_markdown":"@MT0 Tested with `setInt()` and still the problem is there :(","body":"@MT0 Tested with <code>setInt()</code> and still the problem is there :("},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699273655,"post_id":77429471,"comment_id":136506717,"body_markdown":"@user85421\nThat&#39;s right, the code was extracted from debug mode and needed a little modification, `==` repalced with `=`.","body":"@user85421 That&#39;s right, the code was extracted from debug mode and needed a little modification, <code>==</code> repalced with <code>=</code>."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1699274177,"post_id":77429471,"comment_id":136506804,"body_markdown":"This is going to be a client programming issue with how to properly set up binds. This will not be due to anything the Oracle database is doing. You may want to enable a 10046 trace at level 4 or higher so you can capture the exact SQL cursor that was parsed on the database side and the bind values used. That can help determine what your client is doing incorrectly.","body":"This is going to be a client programming issue with how to properly set up binds. This will not be due to anything the Oracle database is doing. You may want to enable a 10046 trace at level 4 or higher so you can capture the exact SQL cursor that was parsed on the database side and the bind values used. That can help determine what your client is doing incorrectly."},{"owner":{"account_id":5243359,"reputation":15773,"user_id":4189814,"display_name":"Koen Lostrie"},"score":0,"creation_date":1699275312,"post_id":77429471,"comment_id":136506994,"body_markdown":"what is the datatype of those 2 columns ? They seem to be NUMBER. Have you tried using setInt instead of setByte in your calling code ?","body":"what is the datatype of those 2 columns ? They seem to be NUMBER. Have you tried using setInt instead of setByte in your calling code ?"},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699278831,"post_id":77429471,"comment_id":136507757,"body_markdown":"@KoenLostrie\nthe data type of type and status is `NUMBER(2,0)`","body":"@KoenLostrie the data type of type and status is <code>NUMBER(2,0)</code>"},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699278982,"post_id":77429471,"comment_id":136507786,"body_markdown":"@PaulW\nthx paul, we capture sql query with tcpdump and in oracle trace logs, everything is ok, both sql query and biding values :(","body":"@PaulW thx paul, we capture sql query with tcpdump and in oracle trace logs, everything is ok, both sql query and biding values :("},{"owner":{"account_id":5243359,"reputation":15773,"user_id":4189814,"display_name":"Koen Lostrie"},"score":0,"creation_date":1699279111,"post_id":77429471,"comment_id":136507824,"body_markdown":"@Rajin I asked 2 questions, you only answered the first one....","body":"@Rajin I asked 2 questions, you only answered the first one...."},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699281312,"post_id":77429471,"comment_id":136508343,"body_markdown":"@KoenLostrie\nTested with setInt() and still the problem is there.\n\n\n`@MT0` asked this question earlier :D.","body":"@KoenLostrie Tested with setInt() and still the problem is there.   <code>@MT0</code> asked this question earlier :D."},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699281441,"post_id":77429471,"comment_id":136508381,"body_markdown":"@jarlh\nThe problem is solved by changing the binding value (`?`) with its fixed value in the inequality condition (`TB_MODEL.STATUS &lt;&gt; ?` -&gt; `TB_MODEL.STATUS &lt;&gt; 3`).","body":"@jarlh The problem is solved by changing the binding value (<code>?</code>) with its fixed value in the inequality condition (<code>TB_MODEL.STATUS &lt;&gt; ?</code> -&gt; <code>TB_MODEL.STATUS &lt;&gt; 3</code>)."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1699283306,"post_id":77429471,"comment_id":136508813,"body_markdown":"@Rajin, can you please share the SQL cursor parse in and bind section of the 10046 trace in your post?","body":"@Rajin, can you please share the SQL cursor parse in and bind section of the 10046 trace in your post?"},{"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"score":0,"creation_date":1699326268,"post_id":77429471,"comment_id":136514806,"body_markdown":"Please post the DDL for TB_MODEL.","body":"Please post the DDL for TB_MODEL."}],"answers":[{"comments":[{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699264056,"post_id":77429992,"comment_id":136505032,"body_markdown":"The problem is not transaction isolation level, just by replacing the first binding value with constant value and execute query in the same session, everything works correctly and the result is correct.\nThe problem seems to be in the Oracle database and its caching parameter and mechanisms.","body":"The problem is not transaction isolation level, just by replacing the first binding value with constant value and execute query in the same session, everything works correctly and the result is correct. The problem seems to be in the Oracle database and its caching parameter and mechanisms."}],"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699262635,"creation_date":1699262635,"answer_id":77429992,"question_id":77429471,"body_markdown":"Un`COMMIT`ted data is only visible within the session that created it (and will `ROLLBACK` at the end of the session if it has not been `COMMIT`ted). If you can&#39;t see the data from another session (i.e. in C#) then make sure you have issued a `COMMIT` command in the SQL client where you `INSERT`ed the data (i.e. SQL Developer).\r\n\r\n*Note: even if you connect as the same user, this will create a separate session and you will not be able to see the uncommitted data in the other session.*\r\n\r\nFrom the [`COMMIT` documentation](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/COMMIT.html#GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2):\r\n\r\n&gt; Until you commit a transaction:\r\n&gt;\r\n&gt; - You can see any changes you have made during the transaction by querying the modified tables, but other users cannot see the changes. After you commit the transaction, the changes are visible to other users&#39; statements that execute after the commit.\r\n&gt; - You can roll back (undo) any changes made during the transaction with the `ROLLBACK` statement (see `ROLLBACK`).\r\n\r\nTherefore, even if you say:\r\n\r\n&gt;  data already exist in database.\r\n\r\nThat does not matter if it was created in another session and has not been `COMMIT`ted as it will not be visible to any other session. You need to ensure that you `COMMIT` your data.\r\n","title":"Wrong result when executing select query with != condition in Oracle database 21","body":"<p>Un<code>COMMIT</code>ted data is only visible within the session that created it (and will <code>ROLLBACK</code> at the end of the session if it has not been <code>COMMIT</code>ted). If you can't see the data from another session (i.e. in C#) then make sure you have issued a <code>COMMIT</code> command in the SQL client where you <code>INSERT</code>ed the data (i.e. SQL Developer).</p>\n<p><em>Note: even if you connect as the same user, this will create a separate session and you will not be able to see the uncommitted data in the other session.</em></p>\n<p>From the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/COMMIT.html#GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2\" rel=\"nofollow noreferrer\"><code>COMMIT</code> documentation</a>:</p>\n<blockquote>\n<p>Until you commit a transaction:</p>\n<ul>\n<li>You can see any changes you have made during the transaction by querying the modified tables, but other users cannot see the changes. After you commit the transaction, the changes are visible to other users' statements that execute after the commit.</li>\n<li>You can roll back (undo) any changes made during the transaction with the <code>ROLLBACK</code> statement (see <code>ROLLBACK</code>).</li>\n</ul>\n</blockquote>\n<p>Therefore, even if you say:</p>\n<blockquote>\n<p>data already exist in database.</p>\n</blockquote>\n<p>That does not matter if it was created in another session and has not been <code>COMMIT</code>ted as it will not be visible to any other session. You need to ensure that you <code>COMMIT</code> your data.</p>\n"}],"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699273464,"creation_date":1699256505,"question_id":77429471,"body_markdown":"After the execution of a query in Oracle, the results are shown incorrectly. It seems like some data are cached and as a result, the outcome is not correct. By changing some conditions in where clauses (especially the conditions that are related to not equal), the results are shown accurately. This happens in many queries, but the first occurrence was in Queries with high execution count. \r\n \r\nQuery Example:\r\n\r\n```lang-sql\r\nSELECT TB_MODEL.ID\r\nFROM TB_MODEL\r\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; ? AND TB_MODEL.PARENT_ID IS NOT NULL\r\n```\r\n\r\n \r\nResult:\r\nEMPTY (I am sure there is data in the database with the desired conditions)\r\n\r\n \r\nSometimes, but not always, with resetting the Oracle database, this problem dissolves. \r\n\r\nOracle RAC Version: 21.3.0.0.0\r\n\r\nJDBC Driver: 23.3.0.23.09\r\n\r\n\r\n\r\n**update 1:**\r\n\r\nthis sample code reurn 0:\r\n\r\n```lang-java\r\nString query = &quot;SELECT TB_MODEL.ID\r\nFROM TB_MODEL\r\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; ? AND TB_MODEL.PARENT_ID IS NOT NULL&quot;;\r\n\r\nConnection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@//192.168.1.10:1521/dbk&quot;, &quot;dbk&quot;, &quot;dbk&quot;);\r\nPreparedStatement statement = connection.prepareStatement(query);\r\nstatement.setByte(1, (byte) 3);\r\nstatement.setByte(2, (byte) 5);\r\n\r\nResultSet resultSet = statement.executeQuery();\r\nint count = 0;\r\nwhile (resultSet.next()) {\r\n    count++;\r\n}\r\nreturn count;\r\n```\r\n\r\nthis sample code reurn 0:\r\n\r\nand this one return 313!\r\n```lang-java\r\nString query = &quot;SELECT TB_MODEL.ID\r\nFROM TB_MODEL\r\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; 5 AND TB_MODEL.PARENT_ID IS NOT NULL&quot;;\r\n\r\nConnection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@//192.168.1.10:1521/dbk&quot;, &quot;dbk&quot;, &quot;dbk&quot;);\r\nPreparedStatement statement = connection.prepareStatement(query);\r\nstatement.setByte(1, (byte) 3);\r\n\r\nResultSet resultSet = statement.executeQuery();\r\nint count = 0;\r\nwhile (resultSet.next()) {\r\n    count++;\r\n}\r\nreturn count;\r\n```\r\n\r\n**update 2:**\r\n\r\n 1. This problem happens for queries that have an inequality condition (`&lt;&gt;`)\r\n 2. The problem is solved by changing the binding value (`?`) with its fixed value in the inequality condition (`TB_MODEL.STATUS &lt;&gt; ?` -&gt; `TB_MODEL.STATUS &lt;&gt; 3`).","title":"Wrong result when executing select query with != condition in Oracle database 21","body":"<p>After the execution of a query in Oracle, the results are shown incorrectly. It seems like some data are cached and as a result, the outcome is not correct. By changing some conditions in where clauses (especially the conditions that are related to not equal), the results are shown accurately. This happens in many queries, but the first occurrence was in Queries with high execution count.</p>\n<p>Query Example:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT TB_MODEL.ID\nFROM TB_MODEL\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; ? AND TB_MODEL.PARENT_ID IS NOT NULL\n</code></pre>\n<p>Result:\nEMPTY (I am sure there is data in the database with the desired conditions)</p>\n<p>Sometimes, but not always, with resetting the Oracle database, this problem dissolves.</p>\n<p>Oracle RAC Version: 21.3.0.0.0</p>\n<p>JDBC Driver: 23.3.0.23.09</p>\n<p><strong>update 1:</strong></p>\n<p>this sample code reurn 0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT TB_MODEL.ID\nFROM TB_MODEL\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; ? AND TB_MODEL.PARENT_ID IS NOT NULL&quot;;\n\nConnection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@//192.168.1.10:1521/dbk&quot;, &quot;dbk&quot;, &quot;dbk&quot;);\nPreparedStatement statement = connection.prepareStatement(query);\nstatement.setByte(1, (byte) 3);\nstatement.setByte(2, (byte) 5);\n\nResultSet resultSet = statement.executeQuery();\nint count = 0;\nwhile (resultSet.next()) {\n    count++;\n}\nreturn count;\n</code></pre>\n<p>this sample code reurn 0:</p>\n<p>and this one return 313!</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT TB_MODEL.ID\nFROM TB_MODEL\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; 5 AND TB_MODEL.PARENT_ID IS NOT NULL&quot;;\n\nConnection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@//192.168.1.10:1521/dbk&quot;, &quot;dbk&quot;, &quot;dbk&quot;);\nPreparedStatement statement = connection.prepareStatement(query);\nstatement.setByte(1, (byte) 3);\n\nResultSet resultSet = statement.executeQuery();\nint count = 0;\nwhile (resultSet.next()) {\n    count++;\n}\nreturn count;\n</code></pre>\n<p><strong>update 2:</strong></p>\n<ol>\n<li>This problem happens for queries that have an inequality condition (<code>&lt;&gt;</code>)</li>\n<li>The problem is solved by changing the binding value (<code>?</code>) with its fixed value in the inequality condition (<code>TB_MODEL.STATUS &lt;&gt; ?</code> -&gt; <code>TB_MODEL.STATUS &lt;&gt; 3</code>).</li>\n</ol>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-rc","chrome-devtools-protocol"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699289753,"post_id":77431031,"comment_id":136510154,"body_markdown":"I believe you have to type it first to HasDevTools interface: ((HasDevTools) driver).getDevTools();","body":"I believe you have to type it first to HasDevTools interface: ((HasDevTools) driver).getDevTools();"},{"owner":{"account_id":1106482,"reputation":709,"user_id":1097774,"accept_rate":94,"display_name":"Quick learner"},"score":0,"creation_date":1699337514,"post_id":77431031,"comment_id":136515644,"body_markdown":"I have used &quot;DevTools devTools = ((HasDevTools) driver).getDevTools();&quot; but getting parse error &quot;Exception in thread &quot;main&quot; java.lang.ClassCastException: org.openqa.selenium.chrome.ChromeDriver cannot be cast to org.openqa.selenium.devtools.HasDevTools&quot;","body":"I have used &quot;DevTools devTools = ((HasDevTools) driver).getDevTools();&quot; but getting parse error &quot;Exception in thread &quot;main&quot; java.lang.ClassCastException: org.openqa.selenium.chrome.ChromeDriver cannot be cast to org.openqa.selenium.devtools.HasDevTools&quot;"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699380728,"post_id":77431031,"comment_id":136523541,"body_markdown":"you don&#39;t show the type of driver here, but be sure the type is WebDriver.","body":"you don&#39;t show the type of driver here, but be sure the type is WebDriver."}],"owner":{"account_id":1106482,"reputation":709,"user_id":1097774,"accept_rate":94,"display_name":"Quick learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699273025,"creation_date":1699273025,"question_id":77431031,"body_markdown":"Hello i am new to selenium, can someone help me in fetching the request, response and console logs using selenium?\r\n\r\nI have used the below code, but giving error that `&quot;The method getDevTools() is undefined for the type ChromeDriver&quot;`\r\n\r\n    public void seleniumTest() {\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tDevTools devTools = driver.getDevTools(); \r\n    \t\tdevTools.createSession();\r\n    \t\tdevTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\r\n    \t\tdevTools.addListener(Network.requestWillBeSent(), requestConsumer -&gt;{\r\n    \t\t\tRequest request = requestConsumer.getRequest();\r\n    \t\t\tSystem.out.println(request.getUrl());\r\n    \t\t});\r\n    \t\t\r\n    \t\tfinal RequestId[] requestId = new RequestId[1];\r\n    \t\t\r\n    \t\tdevTools.addListener(Network.responseReceived(), responseConsumer -&gt; {\r\n    \t\t\tResponse response = responseConsumer.getResponse();\r\n    \t\t\trequestId[0] = responseConsumer.getRequestId();\t\r\n    \t\t\tif( response.getUrl().contains(&quot;ws_api.php?&quot;)) {\r\n    \t\t\t\tSystem.out.println(response.getStatus() + &quot; &quot;+ response.getUrl());\r\n    \t\t\t\tAssert.assertEquals(response.getStatus() , 200);\r\n    \t\t\t\tString responseBody = devTools.send(Network.getResponseBody(requestId[0] )).getBody();\r\n    \t\t\t\tSystem.err.println(responseBody);\r\n    \t\t\t}\t\r\n    \t\t\t\r\n    \t\t});\r\n    \t    driver.get(&quot;https://weatherstack.com/&quot;);\r\n    \t \r\n    \t}","title":"How to read request, response and console logs using selenium","body":"<p>Hello i am new to selenium, can someone help me in fetching the request, response and console logs using selenium?</p>\n<p>I have used the below code, but giving error that <code>&quot;The method getDevTools() is undefined for the type ChromeDriver&quot;</code></p>\n<pre><code>public void seleniumTest() {\n        driver = new ChromeDriver();\n        DevTools devTools = driver.getDevTools(); \n        devTools.createSession();\n        devTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\n        devTools.addListener(Network.requestWillBeSent(), requestConsumer -&gt;{\n            Request request = requestConsumer.getRequest();\n            System.out.println(request.getUrl());\n        });\n        \n        final RequestId[] requestId = new RequestId[1];\n        \n        devTools.addListener(Network.responseReceived(), responseConsumer -&gt; {\n            Response response = responseConsumer.getResponse();\n            requestId[0] = responseConsumer.getRequestId(); \n            if( response.getUrl().contains(&quot;ws_api.php?&quot;)) {\n                System.out.println(response.getStatus() + &quot; &quot;+ response.getUrl());\n                Assert.assertEquals(response.getStatus() , 200);\n                String responseBody = devTools.send(Network.getResponseBody(requestId[0] )).getBody();\n                System.err.println(responseBody);\n            }   \n            \n        });\n        driver.get(&quot;https://weatherstack.com/&quot;);\n     \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","serialization","jackson","deserialization"],"answers":[{"comments":[{"owner":{"account_id":2382241,"reputation":1666,"user_id":2084022,"accept_rate":81,"display_name":"pafede2"},"score":2,"creation_date":1531924102,"post_id":51404455,"comment_id":89780016,"body_markdown":"This solves the issue. What if we do not want to create the default constructor?","body":"This solves the issue. What if we do not want to create the default constructor?"},{"owner":{"account_id":4376365,"reputation":1903,"user_id":9080066,"display_name":"Dean"},"score":4,"creation_date":1531924207,"post_id":51404455,"comment_id":89780102,"body_markdown":"Unfortunately it will require the default constructor.","body":"Unfortunately it will require the default constructor."}],"tags":[],"owner":{"account_id":4376365,"reputation":1903,"user_id":9080066,"display_name":"Dean"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1531923664,"creation_date":1531923664,"answer_id":51404455,"question_id":51403962,"body_markdown":"Jackson uses Getter and Setters to set values. So you need to modify your class:\r\n\r\n\r\n    class MyClass {\r\n\r\n        String name;\r\n\r\n        MyClass(String name) {\r\n          this.name = name;\r\n       }\r\n\r\n       MyClass(){}\r\n\r\n       public void setName(String name) {\r\n         this.name = name;\r\n       }\r\n\r\n      public String getName(String name) {\r\n         return this.name;\r\n      }\r\n    }","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>Jackson uses Getter and Setters to set values. So you need to modify your class:</p>\n\n<pre><code>class MyClass {\n\n    String name;\n\n    MyClass(String name) {\n      this.name = name;\n   }\n\n   MyClass(){}\n\n   public void setName(String name) {\n     this.name = name;\n   }\n\n  public String getName(String name) {\n     return this.name;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":981311,"reputation":13552,"user_id":1000959,"accept_rate":67,"display_name":"scibuff"},"score":0,"creation_date":1636632116,"post_id":52955614,"comment_id":123611767,"body_markdown":"This should be the accepted answer. It&#39;s much better than adding NoArg constructor and public setters - the `name` field should be final!","body":"This should be the accepted answer. It&#39;s much better than adding NoArg constructor and public setters - the <code>name</code> field should be final!"}],"tags":[],"owner":{"account_id":156901,"reputation":1816,"user_id":374480,"accept_rate":50,"display_name":"steve"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1540319254,"creation_date":1540319254,"answer_id":52955614,"question_id":51403962,"body_markdown":"The proper way to solve this without a default constructor is to add JsonCreator and JsonProperty annotations to your class constructor.\r\n\r\n    class MyClass {\r\n\r\n        String name;\r\n\r\n        @JsonCreator\r\n        MyClass(@JsonProperty(&quot;name&quot;) String name) {\r\n            this.name = name;\r\n        }\r\n        ...\r\n    }","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>The proper way to solve this without a default constructor is to add JsonCreator and JsonProperty annotations to your class constructor.</p>\n\n<pre><code>class MyClass {\n\n    String name;\n\n    @JsonCreator\n    MyClass(@JsonProperty(\"name\") String name) {\n        this.name = name;\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10386184,"reputation":181,"user_id":7695590,"display_name":"user7695590"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1565623771,"creation_date":1565623771,"answer_id":57464094,"question_id":51403962,"body_markdown":"if you are using loombok remove the @Builder annotation of the class,  was my problem","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>if you are using loombok remove the @Builder annotation of the class,  was my problem</p>\n"},{"comments":[{"owner":{"account_id":22156153,"reputation":71,"user_id":16403876,"display_name":"yernazarov"},"score":0,"creation_date":1653715138,"post_id":69386056,"comment_id":127923438,"body_markdown":"It also worked for me, but I cannot understand why, can you explain, please?","body":"It also worked for me, but I cannot understand why, can you explain, please?"}],"tags":[],"owner":{"account_id":16054653,"reputation":21,"user_id":11587490,"display_name":"Arjun Ravi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632975295,"creation_date":1632975295,"answer_id":69386056,"question_id":51403962,"body_markdown":"mine was to remove @Builder(Lombok) annotation from class and add @AllArgsConstructor and @NoArgsConstructor annotations, it worked","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>mine was to remove @Builder(Lombok) annotation from class and add @AllArgsConstructor and @NoArgsConstructor annotations, it worked</p>\n"},{"tags":[],"owner":{"account_id":16940347,"reputation":1,"user_id":12252346,"display_name":"Wagner Salvador"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699272178,"creation_date":1699272162,"answer_id":77430943,"question_id":51403962,"body_markdown":"I remove the @Builder(Lombok), it&#39;s worked, because @Builder create a private constructor.","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>I remove the @Builder(Lombok), it's worked, because @Builder create a private constructor.</p>\n"}],"owner":{"account_id":2382241,"reputation":1666,"user_id":2084022,"accept_rate":81,"display_name":"pafede2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23256,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51404455,"answer_count":5,"score":9,"last_activity_date":1699272178,"creation_date":1531922271,"question_id":51403962,"body_markdown":"Using the com.fasterxml.jackson.databind.ObjectMapper class(com.fasterxml.jackson.core:jackson-databind:2.9.5) I am trying to deserialize an object of the following class:\r\n\r\n    class MyClass {\r\n\r\n\t    String name;\r\n\r\n\t    MyClass(String name) {\r\n\t\t    this.name = name;\r\n\t    }\r\n    }\r\n\r\nThe code I am currently executing is the following:\r\n\r\n\t\tMyClass myClass = new MyClass(&quot;test&quot;);\r\n\t\tobjectMapper.registerModule(new ParameterNamesModule())\r\n\t\t\t.registerModule(new Jdk8Module())\r\n\t\t\t.registerModule(new JavaTimeModule())\r\n\t\t\t.configure(FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n\t\t\t.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n\r\n\t\tString text = objectMapper.writeValueAsString(myClass);\r\n\t\tobjectMapper.readValue(text, MyClass.class);\r\n\r\nwhich fails on the last line throwing the exception:\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.pckge.MyClass` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: (String)&quot;{&quot;name&quot;:&quot;test&quot;}&quot;; line: 1, column: 2]\r\n\r\nMy goal would be to configure the object mapper so to successfully deserialize the object without using annotations such as JsonCreator or JsonProperties on the constructor of MyClass:\r\n\r\n - Is this doable?  \r\n - Which configuration I am missing?\r\n\r\nThanks a lot!\r\n\r\nEDIT 1: Reply by @Dean solves the issue. However I would like to avoid to have the default constructor also.\r\n","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>Using the com.fasterxml.jackson.databind.ObjectMapper class(com.fasterxml.jackson.core:jackson-databind:2.9.5) I am trying to deserialize an object of the following class:</p>\n\n<pre><code>class MyClass {\n\n    String name;\n\n    MyClass(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>The code I am currently executing is the following:</p>\n\n<pre><code>    MyClass myClass = new MyClass(\"test\");\n    objectMapper.registerModule(new ParameterNamesModule())\n        .registerModule(new Jdk8Module())\n        .registerModule(new JavaTimeModule())\n        .configure(FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n\n    String text = objectMapper.writeValueAsString(myClass);\n    objectMapper.readValue(text, MyClass.class);\n</code></pre>\n\n<p>which fails on the last line throwing the exception:</p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>com.pckge.MyClass</code> (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\n   at [Source: (String)\"{\"name\":\"test\"}\"; line: 1, column: 2]</p>\n</blockquote>\n\n<p>My goal would be to configure the object mapper so to successfully deserialize the object without using annotations such as JsonCreator or JsonProperties on the constructor of MyClass:</p>\n\n<ul>\n<li>Is this doable?  </li>\n<li>Which configuration I am missing?</li>\n</ul>\n\n<p>Thanks a lot!</p>\n\n<p>EDIT 1: Reply by @Dean solves the issue. However I would like to avoid to have the default constructor also.</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":0,"creation_date":1698853577,"post_id":77403830,"comment_id":136458178,"body_markdown":"So you want everything to be in &quot;Europe/Berlin&quot; timezone ? Why not just translate each datetime into that timezone, although I always question making code-bases time-zone-aware","body":"So you want everything to be in &quot;Europe/Berlin&quot; timezone ? Why not just translate each datetime into that timezone, although I always question making code-bases time-zone-aware"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1698854929,"post_id":77403830,"comment_id":136458457,"body_markdown":"Your question is unclear. On nov 1st, `Europe/Berlin` is +1 hour, so why are you saying &quot;if I posted an incident at &quot;2023-11-01T14&quot; it will be saved as &quot;2023-11-01T12&quot;? That makes no sense. It is correct that `2023-11-01T12 UTC` is turned into `2023-11-01T13 Berlin`. So, given that this is all correct, it&#39;s not clear what your question is.","body":"Your question is unclear. On nov 1st, <code>Europe&#47;Berlin</code> is +1 hour, so why are you saying &quot;if I posted an incident at &quot;2023-11-01T14&quot; it will be saved as &quot;2023-11-01T12&quot;? That makes no sense. It is correct that <code>2023-11-01T12 UTC</code> is turned into <code>2023-11-01T13 Berlin</code>. So, given that this is all correct, it&#39;s not clear what your question is."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698855547,"post_id":77403830,"comment_id":136458574,"body_markdown":"Do you understand that the `Z` on the end of `2023-11-01T13:00:02.038Z` means an offset from UTC of zero hours-minutes-seconds (Zulu time)?","body":"Do you understand that the <code>Z</code> on the end of <code>2023-11-01T13:00:02.038Z</code> means an offset from UTC of zero hours-minutes-seconds (Zulu time)?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698855594,"post_id":77403830,"comment_id":136458583,"body_markdown":"What database engine? What is data type of your column?","body":"What database engine? What is data type of your column?"},{"owner":{"account_id":24428609,"reputation":1,"user_id":18353857,"display_name":"Siyamcela Nxuseka"},"score":0,"creation_date":1698857588,"post_id":77403830,"comment_id":136458954,"body_markdown":"@BasilBourque it is PostgreSQL and the data type is timestamp\n\n`created timestamp(6) without time zone,`","body":"@BasilBourque it is PostgreSQL and the data type is timestamp  <code>created timestamp(6) without time zone,</code>"},{"owner":{"account_id":24428609,"reputation":1,"user_id":18353857,"display_name":"Siyamcela Nxuseka"},"score":0,"creation_date":1698857843,"post_id":77403830,"comment_id":136459007,"body_markdown":"@rzwitserloot, maybe you missed a point if I save an incident with this time `2023-11-01T14` it will be saved with minus 2 hours in the database since I am applying `UTC` for the timezone which means in the DB I will capture   `2023-11-01T12`.","body":"@rzwitserloot, maybe you missed a point if I save an incident with this time <code>2023-11-01T14</code> it will be saved with minus 2 hours in the database since I am applying <code>UTC</code> for the timezone which means in the DB I will capture   <code>2023-11-01T12</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698858171,"post_id":77403830,"comment_id":136459065,"body_markdown":"Such details need to be posted as edits to your Question, not as Comments.","body":"Such details need to be posted as edits to your Question, not as Comments."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698858665,"post_id":77403830,"comment_id":136459154,"body_markdown":"@SiyamcelaNxuseka That is the wrong data type to store a moment, a specific point on the timeline. You need to change to a column of type `TIMESTAMP WITH TIME ZONE`.","body":"@SiyamcelaNxuseka That is the wrong data type to store a moment, a specific point on the timeline. You need to change to a column of type <code>TIMESTAMP WITH TIME ZONE</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1698875608,"post_id":77403830,"comment_id":136461756,"body_markdown":"Why are you converting it to LocalDateTime if you want it to represent a time in a particular time zone? It should be ZonedDateTime, or maybe Instant.","body":"Why are you converting it to LocalDateTime if you want it to represent a time in a particular time zone? It should be ZonedDateTime, or maybe Instant."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698859404,"creation_date":1698854439,"answer_id":77403987,"question_id":77403830,"body_markdown":"# tl;dr\r\n\r\nYou are trying to record specific points on the timeline. But you are using the wrong data types for such work: \r\n\r\n - `TIMESTAMP WITHOUT TIME ZONE` in Postgres database\r\n - `LocalDateTime` in Java\r\n\r\nIt is no wonder that you are experiencing such a confusing mess.\r\n\r\nTo handle moments, you should instead be using:\r\n\r\n - `TIMESTAMP WITH TIME ZONE` in Postgres database\r\n - In Java:\r\n   - `OffsetDateTime` for JDBC\r\n   - `Instant` for converting to/from legacy class `java.util.Date`\r\n   - `ZonedDateTime` for adjusting into a time zone for presentation to the user.\r\n\r\nI suggest you start by studying [the date-time tutorial][1] provided by Oracle free-of-cost.\r\n\r\n# Details\r\n\r\n&gt; TimeZone.setDefault\r\n\r\nAvoid setting, or even using, the JVMs current default time zone. Doing so immediately affects all other code in all other threads of all apps running within that JVM. \r\n\r\n\r\n&gt; String timezone = &quot;UTC&quot;;\r\n\r\nUse the constant `ZoneOffset.UTC` provided to you in *java.time* framework. \r\n\r\n&gt; log.info(&quot;Timezone {} is setup as default&quot;, timezone);\r\n\r\nBe aware that a split second later any other code in any other thread of any other app running within that JVM can change that default. So your logging that value is not necessarily helpful. \r\n\r\n\r\n&gt; As expected Date is saved with - 2 hours in the database\r\n\r\nReally? Are you certain? What database engine? Do you understand that database access tools may lie to you, dynamically applying a default time zone as a well-intentioned but misguided anti-feature?\r\n\r\nSome database engines such as Postgres use the zone or offset of an input to adjust to UTC (an offset from UTC of zero hours-minutes-seconds). \r\n\r\nLater, in a comment, you confirmed that you are using Postgres with a column of type `TIMESTAMP WITHOUT TIME ZONE`. That is the wrong data type for your column. When recording a moment, a specific point on the timeline, your table column must be of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE` (*not* `WITHOUT`). \r\n\r\n&gt; public static LocalDateTime convertInTimeZone\r\n\r\nIncorrect type there. A `LocaDateTime` lacks the concept of time zone or offset-from-UTC. So this type cannot be used to represent a moment, cannot be a specific point on the timeline. \r\n\r\nIn contrast, the legacy class `java.util.Date` does represent a moment. It represents a date with time-of-day as seen with an offset of zero. \r\n\r\nAvoid using the terribly flawed legacy date-time classes such as `java.util.Date`. These were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nWhen handed a `java.util.Date` object, immediately convert to a `java.time.Instant` object. Use new conversion methods added to the old classes. \r\n\r\n    Instant instant = myJavaUtilDate.toInstant() ;\r\n\r\nTo store in a database via JDBC 4.2+, convert to an `OffsetDateTime`. \r\n\r\n    OffsetDateTime odt = instant.atOffset(ZoneOffset.UTC ) ;\r\n\r\nWrite to database:\r\n\r\n    myPreparedStatement.setObject(  , odt ) ;\r\n\r\nRetrieval:\r\n\r\n    OffsetDateTime odt = myResultSet.getObject(  , OffsetDateTime.class ) ;\r\n\r\nTo present this moment to the user in a specific time zone, apply a `ZoneId` to get a `ZonedDateTime` object.\r\n\r\n    ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdtTokyo = odt.atZoneSameInstant( zTokyo ) ;\r\n\r\nUse `DateTimeFormatter.ofLocalizedDateTime` to generate localized text representing the value held in `ZonedDateTime` object. \r\n\r\nConvert to `java.util.Date` only if absolutely required to interoperate with old code not yet updated for *java.time*. \r\n\r\n    java.util.Date d = java.util.Date.from( odt.toInstant() ) ;\r\n\r\n&gt; `.toLocalDateTime()`\r\n\r\nIn calling that method you **discard vital information**: the time zone or offset-from-UTC. And you get **no benefit in return**. All you get is an inherently ambiguous date with time-of-day. \r\n\r\nWhen tracking specific points on the timeline, there should be no use of `LocalDateTime`. \r\n\r\nFor example, I cannot imagine a scenario where calling `LocalDateTime.now()` would be wise. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/TOC.html","title":"Java Convert UTC to Local time","body":"<h1>tl;dr</h1>\n<p>You are trying to record specific points on the timeline. But you are using the wrong data types for such work:</p>\n<ul>\n<li><code>TIMESTAMP WITHOUT TIME ZONE</code> in Postgres database</li>\n<li><code>LocalDateTime</code> in Java</li>\n</ul>\n<p>It is no wonder that you are experiencing such a confusing mess.</p>\n<p>To handle moments, you should instead be using:</p>\n<ul>\n<li><code>TIMESTAMP WITH TIME ZONE</code> in Postgres database</li>\n<li>In Java:\n<ul>\n<li><code>OffsetDateTime</code> for JDBC</li>\n<li><code>Instant</code> for converting to/from legacy class <code>java.util.Date</code></li>\n<li><code>ZonedDateTime</code> for adjusting into a time zone for presentation to the user.</li>\n</ul>\n</li>\n</ul>\n<p>I suggest you start by studying <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">the date-time tutorial</a> provided by Oracle free-of-cost.</p>\n<h1>Details</h1>\n<blockquote>\n<p>TimeZone.setDefault</p>\n</blockquote>\n<p>Avoid setting, or even using, the JVMs current default time zone. Doing so immediately affects all other code in all other threads of all apps running within that JVM.</p>\n<blockquote>\n<p>String timezone = &quot;UTC&quot;;</p>\n</blockquote>\n<p>Use the constant <code>ZoneOffset.UTC</code> provided to you in <em>java.time</em> framework.</p>\n<blockquote>\n<p>log.info(&quot;Timezone {} is setup as default&quot;, timezone);</p>\n</blockquote>\n<p>Be aware that a split second later any other code in any other thread of any other app running within that JVM can change that default. So your logging that value is not necessarily helpful.</p>\n<blockquote>\n<p>As expected Date is saved with - 2 hours in the database</p>\n</blockquote>\n<p>Really? Are you certain? What database engine? Do you understand that database access tools may lie to you, dynamically applying a default time zone as a well-intentioned but misguided anti-feature?</p>\n<p>Some database engines such as Postgres use the zone or offset of an input to adjust to UTC (an offset from UTC of zero hours-minutes-seconds).</p>\n<p>Later, in a comment, you confirmed that you are using Postgres with a column of type <code>TIMESTAMP WITHOUT TIME ZONE</code>. That is the wrong data type for your column. When recording a moment, a specific point on the timeline, your table column must be of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code> (<em>not</em> <code>WITHOUT</code>).</p>\n<blockquote>\n<p>public static LocalDateTime convertInTimeZone</p>\n</blockquote>\n<p>Incorrect type there. A <code>LocaDateTime</code> lacks the concept of time zone or offset-from-UTC. So this type cannot be used to represent a moment, cannot be a specific point on the timeline.</p>\n<p>In contrast, the legacy class <code>java.util.Date</code> does represent a moment. It represents a date with time-of-day as seen with an offset of zero.</p>\n<p>Avoid using the terribly flawed legacy date-time classes such as <code>java.util.Date</code>. These were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>When handed a <code>java.util.Date</code> object, immediately convert to a <code>java.time.Instant</code> object. Use new conversion methods added to the old classes.</p>\n<pre><code>Instant instant = myJavaUtilDate.toInstant() ;\n</code></pre>\n<p>To store in a database via JDBC 4.2+, convert to an <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = instant.atOffset(ZoneOffset.UTC ) ;\n</code></pre>\n<p>Write to database:</p>\n<pre><code>myPreparedStatement.setObject(  , odt ) ;\n</code></pre>\n<p>Retrieval:</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject(  , OffsetDateTime.class ) ;\n</code></pre>\n<p>To present this moment to the user in a specific time zone, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdtTokyo = odt.atZoneSameInstant( zTokyo ) ;\n</code></pre>\n<p>Use <code>DateTimeFormatter.ofLocalizedDateTime</code> to generate localized text representing the value held in <code>ZonedDateTime</code> object.</p>\n<p>Convert to <code>java.util.Date</code> only if absolutely required to interoperate with old code not yet updated for <em>java.time</em>.</p>\n<pre><code>java.util.Date d = java.util.Date.from( odt.toInstant() ) ;\n</code></pre>\n<blockquote>\n<p><code>.toLocalDateTime()</code></p>\n</blockquote>\n<p>In calling that method you <strong>discard vital information</strong>: the time zone or offset-from-UTC. And you get <strong>no benefit in return</strong>. All you get is an inherently ambiguous date with time-of-day.</p>\n<p>When tracking specific points on the timeline, there should be no use of <code>LocalDateTime</code>.</p>\n<p>For example, I cannot imagine a scenario where calling <code>LocalDateTime.now()</code> would be wise.</p>\n"}],"owner":{"account_id":24428609,"reputation":1,"user_id":18353857,"display_name":"Siyamcela Nxuseka"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699271784,"creation_date":1698853118,"question_id":77403830,"body_markdown":"I am saving Date using UTC time in the database below is sample code.\r\n\r\n\r\n```\r\n@SpringBootApplication\r\n@Slf4j\r\npublic class Application {\r\n\r\n\t@PostConstruct\r\n\tvoid started() {\r\n\t\tString timezone = &quot;UTC&quot;;\r\n\t\tTimeZone.setDefault(TimeZone.getTimeZone(timezone));\r\n\t\tlog.info(&quot;Timezone {} is setup as default&quot;, timezone);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DmDexApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAs expected Date is saved with - 2 hours in the database but now the issue is when I retrieve the date and try to convert it to local time I am getting challenges on this implementation \r\n\r\n\r\nI have added the below implementation where I am using my timezone which is &quot;Europe/Berlin&quot; and it&#39;s +1 hours which means if I posted an incident at &quot;*2023-11-01T14:00:02.038Z*&quot; it will be saved in the database as &quot;2023-11-01T12:00:02.038Z&quot;. I am sending an email and since my current time zone is +1 hour Date is &quot;*2023-11-01T13:00:02.038Z*&quot; instead of *2023-11-01T14:00:02.038Z* below is my code I added\r\n\r\n\r\n```\r\npublic static LocalDateTime convertInTimeZone(Date date, ZoneId timezone) {\r\n        if (timezone == null) {\r\n            return date.toInstant().atZone(TimeZone.getDefault().toZoneId()).toLocalDateTime();\r\n        }\r\n        return date.toInstant().atZone(timezone).toLocalDateTime();\r\n    }\r\n```\r\n\r\ntimezone is &quot;Europe/Berlin&quot;\r\n","title":"Java Convert UTC to Local time","body":"<p>I am saving Date using UTC time in the database below is sample code.</p>\n<pre><code>@SpringBootApplication\n@Slf4j\npublic class Application {\n\n    @PostConstruct\n    void started() {\n        String timezone = &quot;UTC&quot;;\n        TimeZone.setDefault(TimeZone.getTimeZone(timezone));\n        log.info(&quot;Timezone {} is setup as default&quot;, timezone);\n    }\n    public static void main(String[] args) {\n        SpringApplication.run(DmDexApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>As expected Date is saved with - 2 hours in the database but now the issue is when I retrieve the date and try to convert it to local time I am getting challenges on this implementation</p>\n<p>I have added the below implementation where I am using my timezone which is &quot;Europe/Berlin&quot; and it's +1 hours which means if I posted an incident at &quot;<em>2023-11-01T14:00:02.038Z</em>&quot; it will be saved in the database as &quot;2023-11-01T12:00:02.038Z&quot;. I am sending an email and since my current time zone is +1 hour Date is &quot;<em>2023-11-01T13:00:02.038Z</em>&quot; instead of <em>2023-11-01T14:00:02.038Z</em> below is my code I added</p>\n<pre><code>public static LocalDateTime convertInTimeZone(Date date, ZoneId timezone) {\n        if (timezone == null) {\n            return date.toInstant().atZone(TimeZone.getDefault().toZoneId()).toLocalDateTime();\n        }\n        return date.toInstant().atZone(timezone).toLocalDateTime();\n    }\n</code></pre>\n<p>timezone is &quot;Europe/Berlin&quot;</p>\n"},{"tags":["java","android","android-tv"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1699271274,"post_id":77430511,"comment_id":136506300,"body_markdown":"It sounds like you need to control the hardware, installing an Android build that behaves in the way that you want.","body":"It sounds like you need to control the hardware, installing an Android build that behaves in the way that you want."},{"owner":{"account_id":29835744,"reputation":1,"user_id":22865140,"display_name":"Oleksii Kovalchuk"},"score":0,"creation_date":1699271544,"post_id":77430511,"comment_id":136506344,"body_markdown":"So you&#39;re saying it&#39;s impossible with device out of the box?","body":"So you&#39;re saying it&#39;s impossible with device out of the box?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1699271623,"post_id":77430511,"comment_id":136506355,"body_markdown":"I am saying that you are at the mercy of the device manufacturer.","body":"I am saying that you are at the mercy of the device manufacturer."}],"owner":{"account_id":29835744,"reputation":1,"user_id":22865140,"display_name":"Oleksii Kovalchuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699271600,"creation_date":1699267873,"question_id":77430511,"body_markdown":"I&#39;m trying to create a kind of interactive dashboard app for Android TV.\r\nThe app mainly targets Android 11 and Android 9 (but not critical).\r\nThe idea is to have an app that runs 24/7 on Xiaomi Android TV device as long as it stays foreground.\r\nThe problem I faced so far is that operating system at Xiaomi Android TV after some period of time unpredictably kills my app, returns to the home screen and launches screensaver. After numerous experiments I could prolong my app&#39;s life from 5-6 hours to 2-3 days, but the problem persists.\r\nAnd what&#39;s important here is that when the app goes to background - it&#39;s fine, Android can do whatever it needs to do with it, however when it&#39;s in foreground mode - DON&#39;T TOUCH IT.\r\nAnd one more thing, I don&#39;t need to publish my app to Play Market - I just install APK from USB stick, so that I can ask for any permission I need to run my app.\r\n\r\nFirst thing I did was:\r\n```\r\ngetWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n```\r\nThe app worked 5-6 hours before getting terminated by the OS.\r\nThen I tried to dig further and added wake lock and enabled sustained performance mode:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n...\r\nPowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\r\nWakeLock wakeLock = powerManager.newWakeLock(PowerManager.FULL_WAKE_LOCK,\r\n        &quot;MyApp::MyWakelockTag&quot;);\r\nwakeLock.acquire();\r\n...\r\ngetWindow().setSustainedPerformanceMode(true);\r\n```\r\nThe code above prolonged my app&#39;s life up to 2-3 days, which is better than it was before but still not a 24/7 I need. Just like I said, Xiaomi TV with Android 11 still terminates my app, goes to home screen, and then displays screen saver after 5 minutes of idle.\r\nWhat else did I try.. ah &quot;Ignore Battery Optimization&quot; feature. I know that it&#39;s primarily for background services to keep them alive but decided to give it a try:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\r\n...\r\nIntent intent = new Intent();\r\nString packageName = getPackageName();\r\nPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\nif (pm != null &amp;&amp; !pm.isIgnoringBatteryOptimizations(packageName)) {\r\n    intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\r\n    intent.setData(Uri.parse(&quot;package:&quot; + packageName));\r\n    startActivity(intent);\r\n}\r\n```\r\nbut the screen for disabling battery optimization for my app does not appear on both Android TV 11 emulator and real Xiaomi TV device. In fact, nothing happens when I call `startActivity`. Nevertheless I wen to system settings and disabled battery optimization for my app manually. And guess what - that didn&#39;t help either.\r\nTried to write sticky background service to restart my app by launching it&#39;s main activity every 10 seconds, but when I terminate my app, service&#39;s `startActivity` does nothing as well.\r\nI&#39;m kinda stuck and wondering if that&#39;s really possible on Android?","title":"Android TV - app that runs 24/7 in foreground mode","body":"<p>I'm trying to create a kind of interactive dashboard app for Android TV.\nThe app mainly targets Android 11 and Android 9 (but not critical).\nThe idea is to have an app that runs 24/7 on Xiaomi Android TV device as long as it stays foreground.\nThe problem I faced so far is that operating system at Xiaomi Android TV after some period of time unpredictably kills my app, returns to the home screen and launches screensaver. After numerous experiments I could prolong my app's life from 5-6 hours to 2-3 days, but the problem persists.\nAnd what's important here is that when the app goes to background - it's fine, Android can do whatever it needs to do with it, however when it's in foreground mode - DON'T TOUCH IT.\nAnd one more thing, I don't need to publish my app to Play Market - I just install APK from USB stick, so that I can ask for any permission I need to run my app.</p>\n<p>First thing I did was:</p>\n<pre><code>getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n</code></pre>\n<p>The app worked 5-6 hours before getting terminated by the OS.\nThen I tried to dig further and added wake lock and enabled sustained performance mode:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n...\nPowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\nWakeLock wakeLock = powerManager.newWakeLock(PowerManager.FULL_WAKE_LOCK,\n        &quot;MyApp::MyWakelockTag&quot;);\nwakeLock.acquire();\n...\ngetWindow().setSustainedPerformanceMode(true);\n</code></pre>\n<p>The code above prolonged my app's life up to 2-3 days, which is better than it was before but still not a 24/7 I need. Just like I said, Xiaomi TV with Android 11 still terminates my app, goes to home screen, and then displays screen saver after 5 minutes of idle.\nWhat else did I try.. ah &quot;Ignore Battery Optimization&quot; feature. I know that it's primarily for background services to keep them alive but decided to give it a try:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\n...\nIntent intent = new Intent();\nString packageName = getPackageName();\nPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\nif (pm != null &amp;&amp; !pm.isIgnoringBatteryOptimizations(packageName)) {\n    intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\n    intent.setData(Uri.parse(&quot;package:&quot; + packageName));\n    startActivity(intent);\n}\n</code></pre>\n<p>but the screen for disabling battery optimization for my app does not appear on both Android TV 11 emulator and real Xiaomi TV device. In fact, nothing happens when I call <code>startActivity</code>. Nevertheless I wen to system settings and disabled battery optimization for my app manually. And guess what - that didn't help either.\nTried to write sticky background service to restart my app by launching it's main activity every 10 seconds, but when I terminate my app, service's <code>startActivity</code> does nothing as well.\nI'm kinda stuck and wondering if that's really possible on Android?</p>\n"},{"tags":["java","mocking","okhttp","android-testing","mockwebserver"],"owner":{"account_id":1179053,"reputation":2329,"user_id":1154390,"accept_rate":31,"display_name":"user1154390"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699271454,"creation_date":1699271454,"question_id":77430877,"body_markdown":"I&#39;m using OkHttp&#39;s MockWebServer for API mocking in my Android instrumentation tests. It&#39;s been effective so far, but I&#39;ve encountered an issue where making a second call to the same endpoint within the same test case consistently results in a `java.net.SocketTimeoutException: timeout` error.\r\n\r\nIn more detail, I need to load a fragment with the web mock server&#39;s response. This part is working as expected. However, in the second part of my test, I aim to verify that the displayed data matches the API response. To do this, I need to make a second call to the repository.\r\n\r\nI&#39;ve prepared a simplified test case to illustrate the problem.\r\n\r\n\r\n    @Before\r\n        fun setUp() {\r\n            hiltRule.inject()\r\n            mockWebServer.start()\r\n            val response = SharedUtil.searchAPIMockWebServerResponseWith200()\r\n            mockWebServer.enqueue(response)\r\n        }\r\n    \r\n    @Test\r\n        fun testCalls() {\r\n            runBlocking {\r\n                val firstFlow = productRepo.getMatchedProducts(&quot;Search&quot;)\r\n                val secondFlow = productRepo.getMatchedProducts(&quot;Search&quot;)\r\n    \r\n                // This call works fine\r\n                firstFlow.collectLatest { outcome -&gt;\r\n                    if (outcome is Outcome.Success) {\r\n                        println(&quot;output one $outcome&quot;)\r\n                    }\r\n\r\n\r\n                delay(1000) // to complete the first request\r\n                    // this call always throw exception java.net.SocketTimeoutException: timeout\r\n                    secondFlow.collectLatest { outcome -&gt;\r\n                        if (outcome is Outcome.Success) {\r\n                            println(&quot;output one $outcome &quot;)\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            }\r\n        }\r\n    \r\n     fun tearDown() {\r\n            mockWebServer.shutdown()\r\n        }\r\n\r\njava.net.SocketTimeoutException: timeout\r\n\r\n[![Stacktrace ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hcTme.png\r\n\r\nThanks in advance","title":"OkHttp MockWebServer throws java.net.SocketTimeoutException: timeout - exception","body":"<p>I'm using OkHttp's MockWebServer for API mocking in my Android instrumentation tests. It's been effective so far, but I've encountered an issue where making a second call to the same endpoint within the same test case consistently results in a <code>java.net.SocketTimeoutException: timeout</code> error.</p>\n<p>In more detail, I need to load a fragment with the web mock server's response. This part is working as expected. However, in the second part of my test, I aim to verify that the displayed data matches the API response. To do this, I need to make a second call to the repository.</p>\n<p>I've prepared a simplified test case to illustrate the problem.</p>\n<pre><code>@Before\n    fun setUp() {\n        hiltRule.inject()\n        mockWebServer.start()\n        val response = SharedUtil.searchAPIMockWebServerResponseWith200()\n        mockWebServer.enqueue(response)\n    }\n\n@Test\n    fun testCalls() {\n        runBlocking {\n            val firstFlow = productRepo.getMatchedProducts(&quot;Search&quot;)\n            val secondFlow = productRepo.getMatchedProducts(&quot;Search&quot;)\n\n            // This call works fine\n            firstFlow.collectLatest { outcome -&gt;\n                if (outcome is Outcome.Success) {\n                    println(&quot;output one $outcome&quot;)\n                }\n\n\n            delay(1000) // to complete the first request\n                // this call always throw exception java.net.SocketTimeoutException: timeout\n                secondFlow.collectLatest { outcome -&gt;\n                    if (outcome is Outcome.Success) {\n                        println(&quot;output one $outcome &quot;)\n                    }\n                }\n\n            }\n        }\n    }\n\n fun tearDown() {\n        mockWebServer.shutdown()\n    }\n</code></pre>\n<p>java.net.SocketTimeoutException: timeout</p>\n<p><a href=\"https://i.stack.imgur.com/hcTme.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hcTme.png\" alt=\"Stacktrace \" /></a></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","httpurlconnection","persistent"],"answers":[{"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1381336863,"post_id":3304107,"comment_id":28542804,"body_markdown":"link is dead? also does it still apply to newer versions of java?","body":"link is dead? also does it still apply to newer versions of java?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1389377519,"post_id":3304107,"comment_id":31651888,"body_markdown":"@royerdpack Of course it does. You can&#39;t seriously believe they would take a valuable feature like this out.","body":"@royerdpack Of course it does. You can&#39;t seriously believe they would take a valuable feature like this out."},{"owner":{"account_id":16614,"reputation":1490,"user_id":36397,"accept_rate":62,"display_name":"yclian"},"score":0,"creation_date":1389438396,"post_id":3304107,"comment_id":31670598,"body_markdown":"@rogerdpack Use a Google search like this next time: https://www.google.com/search?q=java+api+doc+net%2Fhttp-keepalive.html Meanwhile am fixing the link.","body":"@rogerdpack Use a Google search like this next time: <a href=\"https://www.google.com/search?q=java+api+doc+net%2Fhttp-keepalive.html\" rel=\"nofollow noreferrer\">google.com/search?q=java+api+doc+net%2Fhttp-keepalive.html</a> Meanwhile am fixing the link."},{"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"score":2,"creation_date":1464021784,"post_id":3304107,"comment_id":62301252,"body_markdown":"Finish reading *and* do not call close() on the input stream or output stream. Calling close() caused my client code to re-open the HTTPS connection.","body":"Finish reading <i>and</i> do not call close() on the input stream or output stream. Calling close() caused my client code to re-open the HTTPS connection."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":2,"creation_date":1514590279,"post_id":3304107,"comment_id":83029144,"body_markdown":"FWIW I think I read once https://stackoverflow.com/a/4767595/32453  that calling disconnect (like the OP does) also causes the Socket to not be re-used/cached...","body":"FWIW I think I read once <a href=\"https://stackoverflow.com/a/4767595/32453\">stackoverflow.com/a/4767595/32453</a>  that calling disconnect (like the OP does) also causes the Socket to not be re-used/cached..."}],"tags":[],"owner":{"account_id":16614,"reputation":1490,"user_id":36397,"accept_rate":62,"display_name":"yclian"},"comment_count":5,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1699270769,"creation_date":1279748427,"answer_id":3304107,"question_id":3304006,"body_markdown":"According to the [documentation here][1], HTTP persistence is being handled transparently in Java, although it gives you the options to control it too via `http.keepAlive` and `http.maxConnections` system properties.\r\n\r\nHowever,\r\n\r\n&gt; The current implementation doesn&#39;t\r\n&gt; buffer the response body. Which means\r\n&gt; that the application has to finish\r\n&gt; reading the response body or call\r\n&gt; close() to abandon the rest of the\r\n&gt; response body, in order for that\r\n&gt; connection to be reused. Furthermore,\r\n&gt; current implementation will not try\r\n&gt; block-reading when cleaning up the\r\n&gt; connection, meaning if the whole\r\n&gt; response body is not available, the\r\n&gt; connection will not be reused.\r\n\r\nTake a look at the link and see if it really helps you.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html\r\n","title":"Persistent HttpURLConnection in Java","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html\" rel=\"nofollow noreferrer\">documentation here</a>, HTTP persistence is being handled transparently in Java, although it gives you the options to control it too via <code>http.keepAlive</code> and <code>http.maxConnections</code> system properties.</p>\n<p>However,</p>\n<blockquote>\n<p>The current implementation doesn't\nbuffer the response body. Which means\nthat the application has to finish\nreading the response body or call\nclose() to abandon the rest of the\nresponse body, in order for that\nconnection to be reused. Furthermore,\ncurrent implementation will not try\nblock-reading when cleaning up the\nconnection, meaning if the whole\nresponse body is not available, the\nconnection will not be reused.</p>\n</blockquote>\n<p>Take a look at the link and see if it really helps you.</p>\n"},{"tags":[],"owner":{"account_id":9619283,"reputation":51,"user_id":7141043,"display_name":"allen zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1699270922,"creation_date":1487215681,"answer_id":42264305,"question_id":3304006,"body_markdown":"According to this link http://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html, HTTP connection reuse is enabled by default, you can use Wireshark to check the interactions between your client and server. The first request contains TCP and SSL handshakes(if your request is https), the subsequent requests fired in the keep-alive time, contains no TCP and SSL handshakes, just application data transfers.","title":"Persistent HttpURLConnection in Java","body":"<p>According to this link <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html</a>, HTTP connection reuse is enabled by default, you can use Wireshark to check the interactions between your client and server. The first request contains TCP and SSL handshakes(if your request is https), the subsequent requests fired in the keep-alive time, contains no TCP and SSL handshakes, just application data transfers.</p>\n"},{"tags":[],"owner":{"account_id":1121028,"reputation":353,"user_id":1115256,"accept_rate":57,"display_name":"Harish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615552345,"creation_date":1615552345,"answer_id":66600001,"question_id":3304006,"body_markdown":"Even though HttpURLConnection enable keep-alive by default, it is not guaranteed that HttpURLConnection uses same TCP connection for multiple HTTP requests. I faced same kind of issue when writing HTTPS client application. Solved this issue by using single instance of SSLContext, SSLSocketFactory and HttpsURLConnection.\r\n\r\n```\r\npublic class MyHTTPClient {\r\n    private SSLContext mSSLContext = null;\r\n    private SSLSocketFactory mSSLSocketFactory = null;\r\n    private HttpsURLConnection mConnection = null;\r\n\r\n    public void init() {\r\n        //Setup SSL context and Socket factory here\r\n    }\r\n\r\n    pubblic void sendRequest() {\r\n        URL url = new URL(&quot;https://example.com/request_receiver&quot;);\r\n        mConnection = (HttpsURLConnection) url.openConnection();\r\n        mConnection.setSSLSocketFactory(mSSLSocketFactory);\r\n\r\n        // Setup request property and send request\r\n        // Open input stream to read response\r\n        // Close output, input streams\r\n        \r\n        mConnection.disconnect();\r\n    }\r\n}\r\n```","title":"Persistent HttpURLConnection in Java","body":"<p>Even though HttpURLConnection enable keep-alive by default, it is not guaranteed that HttpURLConnection uses same TCP connection for multiple HTTP requests. I faced same kind of issue when writing HTTPS client application. Solved this issue by using single instance of SSLContext, SSLSocketFactory and HttpsURLConnection.</p>\n<pre><code>public class MyHTTPClient {\n    private SSLContext mSSLContext = null;\n    private SSLSocketFactory mSSLSocketFactory = null;\n    private HttpsURLConnection mConnection = null;\n\n    public void init() {\n        //Setup SSL context and Socket factory here\n    }\n\n    pubblic void sendRequest() {\n        URL url = new URL(&quot;https://example.com/request_receiver&quot;);\n        mConnection = (HttpsURLConnection) url.openConnection();\n        mConnection.setSSLSocketFactory(mSSLSocketFactory);\n\n        // Setup request property and send request\n        // Open input stream to read response\n        // Close output, input streams\n        \n        mConnection.disconnect();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":171216,"reputation":213,"user_id":398485,"display_name":"Githaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31331,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":3304107,"answer_count":3,"score":21,"last_activity_date":1699270922,"creation_date":1279747685,"question_id":3304006,"body_markdown":"I am trying to write a java program that will automatically download and name some of my favorite web comics. Since I will be requesting multiple objects from the same domain, I wanted to have a persistent http connection that I could keep open until all the comics have been downloaded. Below is my work-in-progress. How do I make another request from the same domain but different path without opening a new http connection?\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class ComicDownloader\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            URL url = null;\r\n            HttpURLConnection httpc = null;\r\n            BufferedReader input = null;\r\n            \r\n            try\r\n            {\r\n                url = new URL(&quot;http://www.cad-comic.com/cad/archive/2002&quot;);\r\n                httpc = (HttpURLConnection) url.openConnection();\r\n                input = new BufferedReader(new InputStreamReader(httpc.getInputStream()));\r\n                String inputLine;\r\n                \r\n                while ((inputLine = input.readLine()) != null)\r\n                {\r\n                    System.out.println(inputLine);\r\n                }\r\n    \r\n                input.close();\r\n                httpc.disconnect();\r\n            }\r\n            catch (IOException ex)\r\n            {\r\n                System.out.println(ex);\r\n            }\r\n        }\r\n    }","title":"Persistent HttpURLConnection in Java","body":"<p>I am trying to write a java program that will automatically download and name some of my favorite web comics. Since I will be requesting multiple objects from the same domain, I wanted to have a persistent http connection that I could keep open until all the comics have been downloaded. Below is my work-in-progress. How do I make another request from the same domain but different path without opening a new http connection?</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class ComicDownloader\n{\n    public static void main(String[] args)\n    {\n        URL url = null;\n        HttpURLConnection httpc = null;\n        BufferedReader input = null;\n\n        try\n        {\n            url = new URL(\"http://www.cad-comic.com/cad/archive/2002\");\n            httpc = (HttpURLConnection) url.openConnection();\n            input = new BufferedReader(new InputStreamReader(httpc.getInputStream()));\n            String inputLine;\n\n            while ((inputLine = input.readLine()) != null)\n            {\n                System.out.println(inputLine);\n            }\n\n            input.close();\n            httpc.disconnect();\n        }\n        catch (IOException ex)\n        {\n            System.out.println(ex);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","jpa"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1699182684,"post_id":77425559,"comment_id":136496962,"body_markdown":"How does your test class look alike?","body":"How does your test class look alike?"}],"answers":[{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699220675,"creation_date":1699220675,"answer_id":77427778,"question_id":77425559,"body_markdown":"The answer was in the [Spring Boot guide](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.user-configuration-and-slicing): I have to remove such annotations from the main class of the application.\r\n\r\nMy main class is now &quot;clean&quot; :\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class Application {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nI then have a bunch of &quot;@Configuration&quot; files, one for each area of the application. For example I have one for Jackson, one for JPA, one for Swagger, etc. This separation of the config makes it easier to perform targeted testing with Spring Boot&#39;s [`@...Test` annotations](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-tests), like the `@JsonTest` annotation.\r\n\r\nFor example, my configuration file for JPA stuff looks like this:\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\n@EnableJpaRepositories(considerNestedRepositories = true)\r\npublic class JpaConfig {\r\n}\r\n```\r\n(yes, it is empty, but I might have something to put in there some day, the main point was to have a place to put the `@EnableJpaRepositories` annotation.)\r\n\r\nThe tests using test slicing (like `@JsonTest`) do not pick up all my &quot;@Configuration&quot; files, it only auto-detects the application&#39;s main class. So in in such tests I therefore have to explicitly pull in (import) the appropriate config, like this:\r\n\r\n```java\r\n@JsonTest()\r\n@Import({JacksonConfig.class,JacksonTest.JacksonTestConfig.class})\r\npublic class MyJacksonTest {\r\n...\r\n}\r\n```\r\nHere I pull in the application&#39;s general Jackson config (the `JacksonConfig` class). In addition I pull in some additional config, `JacksonTest.JacksonTestConfig`, which lives in the test tree. All in all, using this technique I can &quot;compose&quot; what config I want to have added to my test.\r\n\r\nThe morale is: Keep your main class free of config-related annotations, in particular if they apply to an area that you may not want to have applied with sliced testing. The unfortunate thing is that the Internet is full of recommendations where people will say: &quot;just add this annotation to your main class&quot; ... but this is not always a good idea.\r\n\r\n","title":"Spring Boot @JsonTest pulls in JPA","body":"<p>The answer was in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.user-configuration-and-slicing\" rel=\"nofollow noreferrer\">Spring Boot guide</a>: I have to remove such annotations from the main class of the application.</p>\n<p>My main class is now &quot;clean&quot; :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>I then have a bunch of &quot;@Configuration&quot; files, one for each area of the application. For example I have one for Jackson, one for JPA, one for Swagger, etc. This separation of the config makes it easier to perform targeted testing with Spring Boot's <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-tests\" rel=\"nofollow noreferrer\"><code>@...Test</code> annotations</a>, like the <code>@JsonTest</code> annotation.</p>\n<p>For example, my configuration file for JPA stuff looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\n@EnableJpaRepositories(considerNestedRepositories = true)\npublic class JpaConfig {\n}\n</code></pre>\n<p>(yes, it is empty, but I might have something to put in there some day, the main point was to have a place to put the <code>@EnableJpaRepositories</code> annotation.)</p>\n<p>The tests using test slicing (like <code>@JsonTest</code>) do not pick up all my &quot;@Configuration&quot; files, it only auto-detects the application's main class. So in in such tests I therefore have to explicitly pull in (import) the appropriate config, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTest()\n@Import({JacksonConfig.class,JacksonTest.JacksonTestConfig.class})\npublic class MyJacksonTest {\n...\n}\n</code></pre>\n<p>Here I pull in the application's general Jackson config (the <code>JacksonConfig</code> class). In addition I pull in some additional config, <code>JacksonTest.JacksonTestConfig</code>, which lives in the test tree. All in all, using this technique I can &quot;compose&quot; what config I want to have added to my test.</p>\n<p>The morale is: Keep your main class free of config-related annotations, in particular if they apply to an area that you may not want to have applied with sliced testing. The unfortunate thing is that the Internet is full of recommendations where people will say: &quot;just add this annotation to your main class&quot; ... but this is not always a good idea.</p>\n"}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77427778,"answer_count":1,"score":0,"last_activity_date":1699270785,"creation_date":1699180182,"question_id":77425559,"body_markdown":"Spring Boot 3.1\r\n\r\nOn a test class annotated with `@JsonTest` I should supposedly only get wired the minimal stuff necessary for JSON serialization/de-serialization testing. Not so.\r\n\r\nI have my main application class annotated as follows:\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableJpaRepositories(considerNestedRepositories = true)\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nThe `@EnableJpaRepositories` annotation causes the JsonTest to attempt to start all of the JPA stuff, even if that is not the intention. This is documented [here](https://github.com/spring-projects/spring-boot/issues/5776). There is also [this ticket](https://github.com/spring-projects/spring-boot/issues/6015) which is closed without further comments.\r\n\r\nWhat are my options? I need the `@EnableJpaRepositories` annotation because I need the `considerNestedRepositories` setting. So I cannot just leave it out.\r\n","title":"Spring Boot @JsonTest pulls in JPA","body":"<p>Spring Boot 3.1</p>\n<p>On a test class annotated with <code>@JsonTest</code> I should supposedly only get wired the minimal stuff necessary for JSON serialization/de-serialization testing. Not so.</p>\n<p>I have my main application class annotated as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableJpaRepositories(considerNestedRepositories = true)\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>The <code>@EnableJpaRepositories</code> annotation causes the JsonTest to attempt to start all of the JPA stuff, even if that is not the intention. This is documented <a href=\"https://github.com/spring-projects/spring-boot/issues/5776\" rel=\"nofollow noreferrer\">here</a>. There is also <a href=\"https://github.com/spring-projects/spring-boot/issues/6015\" rel=\"nofollow noreferrer\">this ticket</a> which is closed without further comments.</p>\n<p>What are my options? I need the <code>@EnableJpaRepositories</code> annotation because I need the <code>considerNestedRepositories</code> setting. So I cannot just leave it out.</p>\n"},{"tags":["java","mongodb","gradle","dependencies","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":27933686,"reputation":1,"user_id":21331113,"display_name":"Kiart Tantasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699270622,"creation_date":1699270622,"answer_id":77430791,"question_id":76464193,"body_markdown":"In my case, I have to add package `mongodb-driver-core` along\r\n\r\nit would be like\r\n```\r\ndependencies {\r\n\t// https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core\r\n\timplementation &#39;org.mongodb:mongodb-driver-core:4.11.0&#39;\r\n\t// https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync\r\n\timplementation &#39;org.mongodb:mongodb-driver-sync:4.11.0&#39;\r\n}\r\n```\r\n\r\nI am not sure why [official documentation](https://www.mongodb.com/docs/drivers/java/sync/current/quick-start/#add-mongodb-as-a-dependency) does not say about this. If they just forgot, I would be very upset since I spent 2 days solving this issue.\r\n\r\nI think a lot of developers are still using legacy [mongo-java-driver](https://mvnrepository.com/artifact/org.mongodb/mongo-java-driver) because of this issue. sad","title":"Using mongodb-driver-sync from build.gradle","body":"<p>In my case, I have to add package <code>mongodb-driver-core</code> along</p>\n<p>it would be like</p>\n<pre><code>dependencies {\n    // https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core\n    implementation 'org.mongodb:mongodb-driver-core:4.11.0'\n    // https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync\n    implementation 'org.mongodb:mongodb-driver-sync:4.11.0'\n}\n</code></pre>\n<p>I am not sure why <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/quick-start/#add-mongodb-as-a-dependency\" rel=\"nofollow noreferrer\">official documentation</a> does not say about this. If they just forgot, I would be very upset since I spent 2 days solving this issue.</p>\n<p>I think a lot of developers are still using legacy <a href=\"https://mvnrepository.com/artifact/org.mongodb/mongo-java-driver\" rel=\"nofollow noreferrer\">mongo-java-driver</a> because of this issue. sad</p>\n"}],"owner":{"account_id":20169331,"reputation":21,"user_id":14792496,"display_name":"Ritvik Aryan Kalra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699270622,"creation_date":1686653781,"question_id":76464193,"body_markdown":"I have a task in which I have to use Gradle&#39;s test listener to log data about Junit Tests and dump them in a mongo database. I had installed the mongodb-driver-sync library and included it in the dependencies block of the build.gradle. The build.gradle looks as follows:\r\n\r\n```\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoDatabase;\r\n\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\n\r\ntasks.regsister(&quot;connectToMongoDB&quot;) {\r\n    doLast {\r\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n        MongoDatabase database = mongoClient.getDatabase(&quot;mydb&quot;);\r\n        println(database.getName())\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.mongodb:mongodb-driver-sync:4.9.0&#39;\r\n    testImplementation platform(&#39;org.junit:junit-bom:5.9.2&#39;)\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.2&#39;\r\n}\r\n```\r\n\r\nBut this throws me the error `unable to resolve class com.mongodb.client.MongoClients`. \r\n\r\nI also have run `./gradlew clean` `./gradlew build`, reloaded all the gradle projects in IntelliJ IDEA. \r\n\r\nI want to know whether this is even possible or not? If it is then how or should I look form some different approach.\r\n","title":"Using mongodb-driver-sync from build.gradle","body":"<p>I have a task in which I have to use Gradle's test listener to log data about Junit Tests and dump them in a mongo database. I had installed the mongodb-driver-sync library and included it in the dependencies block of the build.gradle. The build.gradle looks as follows:</p>\n<pre><code>import com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoDatabase;\n\nplugins {\n    id 'java-library'\n}\n\ntasks.regsister(&quot;connectToMongoDB&quot;) {\n    doLast {\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n        MongoDatabase database = mongoClient.getDatabase(&quot;mydb&quot;);\n        println(database.getName())\n    }\n}\n\ndependencies {\n    implementation 'org.mongodb:mongodb-driver-sync:4.9.0'\n    testImplementation platform('org.junit:junit-bom:5.9.2')\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.2'\n}\n</code></pre>\n<p>But this throws me the error <code>unable to resolve class com.mongodb.client.MongoClients</code>.</p>\n<p>I also have run <code>./gradlew clean</code> <code>./gradlew build</code>, reloaded all the gradle projects in IntelliJ IDEA.</p>\n<p>I want to know whether this is even possible or not? If it is then how or should I look form some different approach.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699269048,"post_id":77430607,"comment_id":136505952,"body_markdown":"Please include the relevant code in the question, do not simply link it in!","body":"Please include the relevant code in the question, do not simply link it in!"}],"answers":[{"tags":[],"owner":{"account_id":29837370,"reputation":11,"user_id":22866468,"display_name":"naveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699268981,"creation_date":1699268981,"answer_id":77430628,"question_id":77430607,"body_markdown":"change this from &quot;spring.jpa.hibernate.ddl-auto=create-drop&quot; to &quot;spring.jpa.hibernate.ddl-auto=update&quot;","title":"Table is not creating in MySQL server from Spring JPA","body":"<p>change this from &quot;spring.jpa.hibernate.ddl-auto=create-drop&quot; to &quot;spring.jpa.hibernate.ddl-auto=update&quot;</p>\n"},{"tags":[],"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699270600,"creation_date":1699269051,"answer_id":77430636,"question_id":77430607,"body_markdown":"Entity scan is incorrect @EntityScan(basePackages = {&quot;com.springboot.Model&quot;}) . it should be \r\n\r\n    @EntityScan(basePackages = {&quot;in.suvam.learn&quot;})\r\n\r\n\r\ncreate-drop  The Hibernate will drop the database after all operations are completed. As per naveen&#39;s comment, pls use update","title":"Table is not creating in MySQL server from Spring JPA","body":"<p>Entity scan is incorrect @EntityScan(basePackages = {&quot;com.springboot.Model&quot;}) . it should be</p>\n<pre><code>@EntityScan(basePackages = {&quot;in.suvam.learn&quot;})\n</code></pre>\n<p>create-drop  The Hibernate will drop the database after all operations are completed. As per naveen's comment, pls use update</p>\n"}],"owner":{"account_id":29815486,"reputation":11,"user_id":22849856,"display_name":"Suvam Naskar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1699271546,"answer_count":2,"score":-1,"last_activity_date":1699270600,"creation_date":1699268734,"question_id":77430607,"body_markdown":"I have written the code. It goes like -\r\n\r\n**Here is my GitHub Repo - https://github.com/SuvamNaskar/spring-learn.git**\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:2023/student?createDatabaseIfNotExist=true&amp;useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=system32\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.data.jpa.repositories.enabled=true\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.thymeleaf.check-template-location=false\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.defer-datasource-initialization= true\r\nspring.jpa.open-in-view=false\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n```\r\nThis is my `application.properties` file. I have tried every single thing I knew.\r\n\r\n[There is no error in the terminal](https://i.stack.imgur.com/qMp9P.png) &lt;= Click here to view image\r\n\r\n[But no table is created. This is in MySQL WorkBench](https://i.stack.imgur.com/NLwUv.png) &lt;= Click here to view image\r\n\r\nI have tried to create the table from Spring JPA into MySQL\r\n\r\nMy expectation is, when I run the program if the table is not present then it should create the table.","title":"Table is not creating in MySQL server from Spring JPA","body":"<p>I have written the code. It goes like -</p>\n<p><strong>Here is my GitHub Repo - <a href=\"https://github.com/SuvamNaskar/spring-learn.git\" rel=\"nofollow noreferrer\">https://github.com/SuvamNaskar/spring-learn.git</a></strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:2023/student?createDatabaseIfNotExist=true&amp;useSSL=false\nspring.datasource.username=root\nspring.datasource.password=system32\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.data.jpa.repositories.enabled=true\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.thymeleaf.check-template-location=false\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.defer-datasource-initialization= true\nspring.jpa.open-in-view=false\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>This is my <code>application.properties</code> file. I have tried every single thing I knew.</p>\n<p><a href=\"https://i.stack.imgur.com/qMp9P.png\" rel=\"nofollow noreferrer\">There is no error in the terminal</a> &lt;= Click here to view image</p>\n<p><a href=\"https://i.stack.imgur.com/NLwUv.png\" rel=\"nofollow noreferrer\">But no table is created. This is in MySQL WorkBench</a> &lt;= Click here to view image</p>\n<p>I have tried to create the table from Spring JPA into MySQL</p>\n<p>My expectation is, when I run the program if the table is not present then it should create the table.</p>\n"},{"tags":["java","spring","spring-boot","jdbc","hikaricp"],"comments":[{"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"score":0,"creation_date":1617372007,"post_id":66920429,"comment_id":118291677,"body_markdown":"Do you get a stacktrace with that error?","body":"Do you get a stacktrace with that error?"},{"owner":{"account_id":12170986,"reputation":43,"user_id":8885678,"display_name":"EMRE BNNAZ"},"score":0,"creation_date":1617372332,"post_id":66920429,"comment_id":118291796,"body_markdown":"I added the stacktrace","body":"I added the stacktrace"}],"answers":[{"tags":[],"owner":{"account_id":1332279,"reputation":337,"user_id":1275904,"display_name":"forrestg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618396521,"creation_date":1618396521,"answer_id":67090062,"question_id":66920429,"body_markdown":"based on your description, one possible reason is your data connection exceed max pool size(which set to 10). Root cause of this could be connection leak in your code. Do you close the connection properly? Either close it explicitly as:\r\n \r\n\r\n    statement.close();\r\n    connection.close();\r\nor\r\n\r\n    try (Connection connection = ***;\r\n    PreparedStatement statement = *** )\r\n    catch (SQLException ex) {***}\r\n\r\nYou could enable Hikari log to inspect if this is the case. logback.xml\r\n\r\n    &lt;logger name=&quot;com.zaxxer.hikari&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n    &lt;/logger&gt;","title":"Hikari Pool Connection is not available Error","body":"<p>based on your description, one possible reason is your data connection exceed max pool size(which set to 10). Root cause of this could be connection leak in your code. Do you close the connection properly? Either close it explicitly as:</p>\n<pre><code>statement.close();\nconnection.close();\n</code></pre>\n<p>or</p>\n<pre><code>try (Connection connection = ***;\nPreparedStatement statement = *** )\ncatch (SQLException ex) {***}\n</code></pre>\n<p>You could enable Hikari log to inspect if this is the case. logback.xml</p>\n<pre><code>&lt;logger name=&quot;com.zaxxer.hikari&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12796047,"reputation":1,"user_id":9258990,"display_name":"Drewno90"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699270461,"creation_date":1699270461,"answer_id":77430778,"question_id":66920429,"body_markdown":"I had similar issue when using HikariCP with AzureSQL.\r\nSetting up socketTimeout property value at JDBC level (in connection string) has solved problem.\r\n\r\nSimilar issue described here:\r\nhttps://github.com/brettwooldridge/HikariCP/issues/1056\r\n\r\nYou can find more details here:\r\nhttps://github.com/brettwooldridge/HikariCP/wiki/Rapid-Recovery\r\n","title":"Hikari Pool Connection is not available Error","body":"<p>I had similar issue when using HikariCP with AzureSQL.\nSetting up socketTimeout property value at JDBC level (in connection string) has solved problem.</p>\n<p>Similar issue described here:\n<a href=\"https://github.com/brettwooldridge/HikariCP/issues/1056\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/issues/1056</a></p>\n<p>You can find more details here:\n<a href=\"https://github.com/brettwooldridge/HikariCP/wiki/Rapid-Recovery\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/wiki/Rapid-Recovery</a></p>\n"}],"owner":{"account_id":12170986,"reputation":43,"user_id":8885678,"display_name":"EMRE BNNAZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699270461,"creation_date":1617371879,"question_id":66920429,"body_markdown":"I have a Spring Boot project at my server. I sometimes face &quot;Hikari pool connection is not available&quot; error. I cannot figure out its reason. I looked many problem like this. Some people suggested that some @Transactions should be closed. However, in my app I have not used any @Transactional annotation. Here is my Hikari pool configs:\r\n\r\n```\r\n# hikari settings\r\nspring.datasource.hikari.connectionTimeout=30000\r\nspring.datasource.hikari.idleTimeout=600000\r\nspring.datasource.hikari.maxLifetime=1800000\r\nspring.datasource.hikari.maximumPoolSize=10\r\n# hikari log\r\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG\r\nlogging.level.com.zaxxer.hikari=TRACE\r\n\r\n```\r\nWhen I check my catalina.out log file, I notice active connections count increase sometimes. For example, yesterday there was no active connections. All connections were idle status. Right now there are 2 active connections at the pool. Am I getting this error because the connection pool is populated by all active connections?\r\n\r\nBy the way, I use a MySQL database. Should I set maxLifeTime one or two seconds less than mysql wait_timeout? I am asking this question because according to https://github.com/brettwooldridge/HikariCP,  maxLifeTime should be several seconds shorter than any database or infrastructure imposed connection time limit. Do you think maxLifeTime related with wait_timeout? \r\n\r\nHere is stacktrace of error:\r\n\r\n```\r\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48)\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109)\r\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:50)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\r\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2082)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1990)\r\n        at org.hibernate.loader.Loader.doQuery(Loader.java:949)\r\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:351)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2787)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2770)\r\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2604)\r\n        at org.hibernate.loader.Loader.list(Loader.java:2599)\r\n        at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n        at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2254)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1069)\r\n        at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:170)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1506)\r\n        ... 116 more\r\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.\r\n        at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:676)\r\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:190)\r\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:155)\r\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\r\n```","title":"Hikari Pool Connection is not available Error","body":"<p>I have a Spring Boot project at my server. I sometimes face &quot;Hikari pool connection is not available&quot; error. I cannot figure out its reason. I looked many problem like this. Some people suggested that some @Transactions should be closed. However, in my app I have not used any @Transactional annotation. Here is my Hikari pool configs:</p>\n<pre><code># hikari settings\nspring.datasource.hikari.connectionTimeout=30000\nspring.datasource.hikari.idleTimeout=600000\nspring.datasource.hikari.maxLifetime=1800000\nspring.datasource.hikari.maximumPoolSize=10\n# hikari log\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG\nlogging.level.com.zaxxer.hikari=TRACE\n\n</code></pre>\n<p>When I check my catalina.out log file, I notice active connections count increase sometimes. For example, yesterday there was no active connections. All connections were idle status. Right now there are 2 active connections at the pool. Am I getting this error because the connection pool is populated by all active connections?</p>\n<p>By the way, I use a MySQL database. Should I set maxLifeTime one or two seconds less than mysql wait_timeout? I am asking this question because according to <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP</a>,  maxLifeTime should be several seconds shorter than any database or infrastructure imposed connection time limit. Do you think maxLifeTime related with wait_timeout?</p>\n<p>Here is stacktrace of error:</p>\n<pre><code>Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48)\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:50)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2082)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1990)\n        at org.hibernate.loader.Loader.doQuery(Loader.java:949)\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:351)\n        at org.hibernate.loader.Loader.doList(Loader.java:2787)\n        at org.hibernate.loader.Loader.doList(Loader.java:2770)\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2604)\n        at org.hibernate.loader.Loader.list(Loader.java:2599)\n        at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\n        at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2254)\n        at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1069)\n        at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:170)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1506)\n        ... 116 more\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.\n        at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:676)\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:190)\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:155)\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1403148774,"post_id":24298077,"comment_id":37549607,"body_markdown":"You may want to look at PowerMock.","body":"You may want to look at PowerMock."}],"answers":[{"comments":[{"owner":{"account_id":3840193,"reputation":643,"user_id":3183532,"accept_rate":57,"display_name":"Chiefwarpaint"},"score":1,"creation_date":1403147647,"post_id":24298099,"comment_id":37549330,"body_markdown":"Tom G - Thanks for the prompt response!  I guess I&#39;m just wanting to test to make sure that getInputStream() is returning an InputStream instance and that&#39;s all.  Should I be testing for something else?  There&#39;s actually a bunch of static methods from Files.class that I would like to mock, such as Files.exists() and Files.isDirectory(), etc.  I was just hoping to figure out how to handle this test before trying the others.","body":"Tom G - Thanks for the prompt response!  I guess I&#39;m just wanting to test to make sure that getInputStream() is returning an InputStream instance and that&#39;s all.  Should I be testing for something else?  There&#39;s actually a bunch of static methods from Files.class that I would like to mock, such as Files.exists() and Files.isDirectory(), etc.  I was just hoping to figure out how to handle this test before trying the others."}],"tags":[],"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1403146898,"creation_date":1403146898,"answer_id":24298099,"question_id":24298077,"body_markdown":"With standard Mockito, you can&#39;t mock static methods -- and I would question your reasons for doing so.\r\n\r\nWhat do you seek to test by mocking the `newInputStream` method? You are merely creating a tautology -- that your method returns what you told it to return. And `instanceof InputStream` is a tautology as well.\r\n\r\nIt would make more sense to mock `JavaFileInput` to test another class that depends on it (perhaps by using a `ByteArrayInputStream` with sample data).","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>With standard Mockito, you can't mock static methods -- and I would question your reasons for doing so.</p>\n\n<p>What do you seek to test by mocking the <code>newInputStream</code> method? You are merely creating a tautology -- that your method returns what you told it to return. And <code>instanceof InputStream</code> is a tautology as well.</p>\n\n<p>It would make more sense to mock <code>JavaFileInput</code> to test another class that depends on it (perhaps by using a <code>ByteArrayInputStream</code> with sample data).</p>\n"},{"comments":[{"owner":{"account_id":3840193,"reputation":643,"user_id":3183532,"accept_rate":57,"display_name":"Chiefwarpaint"},"score":0,"creation_date":1403206435,"post_id":24299101,"comment_id":37580766,"body_markdown":"Romski - Thanks for the response.  I&#39;ll look into giving PowerMock a try.  I&#39;ve seen a lot of other stuff around the net also recommending that tool.","body":"Romski - Thanks for the response.  I&#39;ll look into giving PowerMock a try.  I&#39;ve seen a lot of other stuff around the net also recommending that tool."}],"tags":[],"owner":{"account_id":162885,"reputation":1922,"user_id":384646,"accept_rate":75,"display_name":"Romski"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1403154148,"creation_date":1403154148,"answer_id":24299101,"question_id":24298077,"body_markdown":"I&#39;m not clear what value your `JavaFileInput` provides. However, to test static methods you can look at [PowerMock][1].\r\n\r\n\r\n  [1]: https://code.google.com/p/powermock/wiki/MockStatic","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>I'm not clear what value your <code>JavaFileInput</code> provides. However, to test static methods you can look at <a href=\"https://code.google.com/p/powermock/wiki/MockStatic\" rel=\"nofollow\">PowerMock</a>.</p>\n"},{"tags":[],"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594773822,"creation_date":1594773822,"answer_id":62905942,"question_id":24298077,"body_markdown":"I came across the same problem: I have (own) code which modifies symlinks using nio.Files.\r\n\r\nFor testing my code without having to prepare and access the file system, I had to write an own mockable wrapper class around these functions.\r\n\r\nNot so nice though that the nio JSR didn&#39;t consider this use case by defining an official interface and providing a non-static (=injectable) way for accessing `Files`. Mockito was known long before this..","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>I came across the same problem: I have (own) code which modifies symlinks using nio.Files.</p>\n<p>For testing my code without having to prepare and access the file system, I had to write an own mockable wrapper class around these functions.</p>\n<p>Not so nice though that the nio JSR didn't consider this use case by defining an official interface and providing a non-static (=injectable) way for accessing <code>Files</code>. Mockito was known long before this..</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594775164,"creation_date":1594775164,"answer_id":62906102,"question_id":24298077,"body_markdown":"Instead of using Mockito or PowerMock, you may also use a NIO2 implementation that work in memory:\r\n\r\n- [memoryfilesystem](https://github.com/glhez/memoryfilesystem)\r\n- [jimfs](https://github.com/google/jimfs)\r\n\r\nWhile this won&#39;t solve all case (or let say it, it won&#39;t answer your attempt at mocking a static method) or allow you to create flawed `InputStream` (for example, one that would return an error when reading N bytes), this may suit your use case.\r\n\r\nAlso you ask if your case make any sense:\r\n\r\n    //Setup\r\n    Mockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(new InputStream());\r\n    \r\n    //Test\r\n    InputStream outputValue = javaFile_MockedPath.getInputStream();\r\n    \r\n    //Validate\r\n    assertTrue(outputValue instanceof InputStream);\r\n\r\nYou are testing that `outputValue` is indeed an instance of `InputStream`, which the compiler already does for you: `outputValue` is already an instance of `InputStream`, therefore asserting it is an instance of `InputStream` will never fails and your test is not checking what you want to check.\r\n\r\nYou&#39;d best to test that `outputValue` is exactly the same instance as one returned, using a mock rather than `new InputStream` for example:\r\n\r\n    InputStream is = mock(InputStream.class);\r\n    Mockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(is);\r\n    InputStream outputValue = javaFile_MockedPath.getInputStream();\r\n    assertTrue(outputValue == is);\r\n    ","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>Instead of using Mockito or PowerMock, you may also use a NIO2 implementation that work in memory:</p>\n<ul>\n<li><a href=\"https://github.com/glhez/memoryfilesystem\" rel=\"nofollow noreferrer\">memoryfilesystem</a></li>\n<li><a href=\"https://github.com/google/jimfs\" rel=\"nofollow noreferrer\">jimfs</a></li>\n</ul>\n<p>While this won't solve all case (or let say it, it won't answer your attempt at mocking a static method) or allow you to create flawed <code>InputStream</code> (for example, one that would return an error when reading N bytes), this may suit your use case.</p>\n<p>Also you ask if your case make any sense:</p>\n<pre><code>//Setup\nMockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(new InputStream());\n\n//Test\nInputStream outputValue = javaFile_MockedPath.getInputStream();\n\n//Validate\nassertTrue(outputValue instanceof InputStream);\n</code></pre>\n<p>You are testing that <code>outputValue</code> is indeed an instance of <code>InputStream</code>, which the compiler already does for you: <code>outputValue</code> is already an instance of <code>InputStream</code>, therefore asserting it is an instance of <code>InputStream</code> will never fails and your test is not checking what you want to check.</p>\n<p>You'd best to test that <code>outputValue</code> is exactly the same instance as one returned, using a mock rather than <code>new InputStream</code> for example:</p>\n<pre><code>InputStream is = mock(InputStream.class);\nMockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(is);\nInputStream outputValue = javaFile_MockedPath.getInputStream();\nassertTrue(outputValue == is);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539162,"reputation":554,"user_id":6399834,"display_name":"Fidel Gonzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699270428,"creation_date":1699270428,"answer_id":77430772,"question_id":24298077,"body_markdown":"You can mock using Mockito:\r\n\r\n    mockStatic(Files.class);\r\n    when(Files.size(any())).thenReturn(5000L);","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>You can mock using Mockito:</p>\n<pre><code>mockStatic(Files.class);\nwhen(Files.size(any())).thenReturn(5000L);\n</code></pre>\n"}],"owner":{"account_id":3840193,"reputation":643,"user_id":3183532,"accept_rate":57,"display_name":"Chiefwarpaint"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11560,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":24299101,"answer_count":5,"score":4,"last_activity_date":1699270428,"creation_date":1403146717,"question_id":24298077,"body_markdown":"I&#39;m trying to understand how you can mock static methods, specifically from the static Files.class.\r\n\r\nBasically, whenever this line executes:\r\n\r\n     Files.newInputStream(this.getPathObj(), StandardOpenOption.READ);\r\n\r\nI want it to just return an object that is an instance of an InputStream.\r\n\r\nThe is my class with the static method I&#39;m trying to mock.\r\n\r\n    public class JavaFileInput{\r\n\t\r\n\tprivate Path path;\r\n\t\r\n\tpublic JavaFileInput(Path path){\r\n\t\tthis.path = path;\r\n\t}\r\n\t\r\n\tpublic InputStream getInputStream() throws IOException {\r\n\t\treturn Files.newInputStream(this.getPathObj(), StandardOpenOption.READ);\r\n\t}\r\n\t\r\n\tpublic Path getPathObj() {\r\n\t\treturn this.path;\r\n\t}\r\n\t\r\n\t}\r\n\r\n\r\nThis is some &quot;psuedo-ish&quot; unit test code that obviously doesn&#39;t work, but I hope it portrays the idea of what I&#39;m trying to accomplish.\r\n\r\n\t@Mock(name=&quot;path&quot;)\r\n\tprivate Path mockedPath = Mockito.mock(Path.class);\r\n\r\n    @InjectMocks\r\n\tprivate JavaFileInput javaFile_MockedPath;\r\n\r\n    @Before\r\n\tpublic void testSetup(){\r\n      javaFile_MockedPath = new JavaFileInput(mockedPath);\r\n      MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    @Test\r\n\tpublic void getNewInputStreamTest(){\r\n\t\t//Setup\r\n\t\tMockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(new InputStream());\r\n\t\t\r\n\t\t//Test\r\n\t\tInputStream outputValue = javaFile_MockedPath.getInputStream();\r\n\t\t\r\n\t\t//Validate\r\n\t\tassertTrue(outputValue instanceof InputStream);\r\n\t\t\r\n\t}\r\n\r\n\r\nDoes this make any sense?  Has anyone ever had to do something similar?  Any help would be greatly appreciated.\r\n\r\nThanks for your time!","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>I'm trying to understand how you can mock static methods, specifically from the static Files.class.</p>\n\n<p>Basically, whenever this line executes:</p>\n\n<pre><code> Files.newInputStream(this.getPathObj(), StandardOpenOption.READ);\n</code></pre>\n\n<p>I want it to just return an object that is an instance of an InputStream.</p>\n\n<p>The is my class with the static method I'm trying to mock.</p>\n\n<pre><code>public class JavaFileInput{\n\nprivate Path path;\n\npublic JavaFileInput(Path path){\n    this.path = path;\n}\n\npublic InputStream getInputStream() throws IOException {\n    return Files.newInputStream(this.getPathObj(), StandardOpenOption.READ);\n}\n\npublic Path getPathObj() {\n    return this.path;\n}\n\n}\n</code></pre>\n\n<p>This is some \"psuedo-ish\" unit test code that obviously doesn't work, but I hope it portrays the idea of what I'm trying to accomplish.</p>\n\n<pre><code>@Mock(name=\"path\")\nprivate Path mockedPath = Mockito.mock(Path.class);\n\n@InjectMocks\nprivate JavaFileInput javaFile_MockedPath;\n\n@Before\npublic void testSetup(){\n  javaFile_MockedPath = new JavaFileInput(mockedPath);\n  MockitoAnnotations.initMocks(this);\n}\n\n@Test\npublic void getNewInputStreamTest(){\n    //Setup\n    Mockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(new InputStream());\n\n    //Test\n    InputStream outputValue = javaFile_MockedPath.getInputStream();\n\n    //Validate\n    assertTrue(outputValue instanceof InputStream);\n\n}\n</code></pre>\n\n<p>Does this make any sense?  Has anyone ever had to do something similar?  Any help would be greatly appreciated.</p>\n\n<p>Thanks for your time!</p>\n"},{"tags":["java","filter","google-cloud-bigtable","bigtable"],"owner":{"account_id":2364995,"reputation":87,"user_id":2070842,"display_name":"ashwaniKumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699269798,"creation_date":1699269798,"question_id":77430711,"body_markdown":"We have a scenario where from UI, the user can send multiple filters in request payload &amp; on the backend data should be read from bigtable adhering to passed filters.\r\nConsidering the same example from documentation page :\r\nhttps://cloud.google.com/bigtable/docs/using-filters#composing-filters \r\n\r\n[![enter image description here](https://i.stack.imgur.com/beorR.png)](https://i.stack.imgur.com/beorR.png)\r\n\r\nHow can I get all rows with (with all columns or at least some of them mentioned as part of the query object) where &quot;data_plan_05gb = true AND connected_wifi = 1 AND connected_cell = 0 &quot; ?\r\nSo far, I have not found even a single example anywhere with multiple filters \r\nPlease help me with the above code.\r\nThank you in advance\r\n\r\ni tried with condition :\r\n```\r\n    Filter filter =\r\n        FILTERS\r\n            .condition(\r\n                FILTERS\r\n                    .chain()\r\n                    .filter(FILTERS.qualifier().exactMatch(&quot;data_plan_05gb&quot;))\r\n                    .filter(FILTERS.value().exactMatch(&quot;true&quot;)))\r\n            .then(FILTERS.label(&quot;passed-filter&quot;))\r\n            .otherwise(FILTERS.label(&quot;filtered-out&quot;));\r\n```\r\nBut how can i add further AND conditions like : connected_wifi = 1 AND connected_cell = 0&quot;, its not clear ","title":"In BigTable , Whats the best way to read rows with multiple filters (more than two) using condition in JAVA?","body":"<p>We have a scenario where from UI, the user can send multiple filters in request payload &amp; on the backend data should be read from bigtable adhering to passed filters.\nConsidering the same example from documentation page :\n<a href=\"https://cloud.google.com/bigtable/docs/using-filters#composing-filters\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigtable/docs/using-filters#composing-filters</a></p>\n<p><a href=\"https://i.stack.imgur.com/beorR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/beorR.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I get all rows with (with all columns or at least some of them mentioned as part of the query object) where &quot;data_plan_05gb = true AND connected_wifi = 1 AND connected_cell = 0 &quot; ?\nSo far, I have not found even a single example anywhere with multiple filters\nPlease help me with the above code.\nThank you in advance</p>\n<p>i tried with condition :</p>\n<pre><code>    Filter filter =\n        FILTERS\n            .condition(\n                FILTERS\n                    .chain()\n                    .filter(FILTERS.qualifier().exactMatch(&quot;data_plan_05gb&quot;))\n                    .filter(FILTERS.value().exactMatch(&quot;true&quot;)))\n            .then(FILTERS.label(&quot;passed-filter&quot;))\n            .otherwise(FILTERS.label(&quot;filtered-out&quot;));\n</code></pre>\n<p>But how can i add further AND conditions like : connected_wifi = 1 AND connected_cell = 0&quot;, its not clear</p>\n"},{"tags":["java","node.js","amazon-s3","url","download"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1699198415,"post_id":77426535,"comment_id":136498631,"body_markdown":"The bottleneck simply isn&#39;t VM execution speed. Hence, that wouldn&#39;t explain it. failure to use buffers can, but you generally get a bigger difference than an 8x factor, and you&#39;ve tried wrapping stuff in buffers. From your node code it&#39;s not clear where the data is going. Step 1 is to eliminate elements. Eliminate your disk; instead of saving the content to disk, hash it (this ensures the data cannot be optimized away, though I doubt that&#39;s an issue here, and eliminates disk access).","body":"The bottleneck simply isn&#39;t VM execution speed. Hence, that wouldn&#39;t explain it. failure to use buffers can, but you generally get a bigger difference than an 8x factor, and you&#39;ve tried wrapping stuff in buffers. From your node code it&#39;s not clear where the data is going. Step 1 is to eliminate elements. Eliminate your disk; instead of saving the content to disk, hash it (this ensures the data cannot be optimized away, though I doubt that&#39;s an issue here, and eliminates disk access)."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1699198431,"post_id":77426535,"comment_id":136498634,"body_markdown":"I would give `try (final InputStream inputStream = new BufferedInputStream(urlConnection.getInputStream(), 8 * 1024 * 1024);\n     final OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file), 8 * 1024 * 1024)) {` a try.","body":"I would give <code>try (final InputStream inputStream = new BufferedInputStream(urlConnection.getInputStream(), 8 * 1024 * 1024);      final OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file), 8 * 1024 * 1024)) {</code> a try."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1699198443,"post_id":77426535,"comment_id":136498636,"body_markdown":"For example, if you&#39;ve been wrapping your __input__ stream in a buffer, but not the output, that can definitely introduce slowdowns that are trivially eliminated by wrapping the `FileOutputStream` into a buffer.","body":"For example, if you&#39;ve been wrapping your <b>input</b> stream in a buffer, but not the output, that can definitely introduce slowdowns that are trivially eliminated by wrapping the <code>FileOutputStream</code> into a buffer."},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699201630,"post_id":77426535,"comment_id":136498983,"body_markdown":"@rzwitserloot Thanks! I eliminated the disk, by loading the entire file into memory using `inputStream.readAllBytes();` and I was writing nothing to the disk at all. The lambda has 5 GB of memory configured.\n\nThe download still took 40 seconds.","body":"@rzwitserloot Thanks! I eliminated the disk, by loading the entire file into memory using <code>inputStream.readAllBytes();</code> and I was writing nothing to the disk at all. The lambda has 5 GB of memory configured.  The download still took 40 seconds."},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699201860,"post_id":77426535,"comment_id":136499012,"body_markdown":"@ElliottFrisch thanks for the suggestion! The only issue with that is, that the BufferdOutputStream class does not provide any method for getting the channel, so I cannot use the NIO library. \n\nNevertheless, I tried writing to the BufferdOutputStream &quot;manually&quot;, but it did not help in speed. The download was around 45 seconds. I believe NIO&#39;s implementation is actually quicker.","body":"@ElliottFrisch thanks for the suggestion! The only issue with that is, that the BufferdOutputStream class does not provide any method for getting the channel, so I cannot use the NIO library.   Nevertheless, I tried writing to the BufferdOutputStream &quot;manually&quot;, but it did not help in speed. The download was around 45 seconds. I believe NIO&#39;s implementation is actually quicker."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1699206486,"post_id":77426535,"comment_id":136499601,"body_markdown":"I don&#39;t think this is the problem, but according to the [javadoc](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileChannel.html#transferFrom-java.nio.channels.ReadableByteChannel-long-long-) for `transferFrom` doing a single transfer of `Long.MAX_VALUE` does not guarantee to transfer all of the bytes.  What you should do (strictly speaking) is test the result of `transferFrom` and handle it as you would a regular `InputStream.read(byte[])` call.","body":"I don&#39;t think this is the problem, but according to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileChannel.html#transferFrom-java.nio.channels.ReadableByteChannel-long-long-\" rel=\"nofollow noreferrer\">javadoc</a> for <code>transferFrom</code> doing a single transfer of <code>Long.MAX_VALUE</code> does not guarantee to transfer all of the bytes.  What you should do (strictly speaking) is test the result of <code>transferFrom</code> and handle it as you would a regular <code>InputStream.read(byte[])</code> call."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699206655,"post_id":77426535,"comment_id":136499626,"body_markdown":"You haven&#39;t mentioned what platform (OS and Java version) your client is running on.  Among other things, the performance of `transferFrom` depends on the underlying OS ... and its ability to do direct transfers.","body":"You haven&#39;t mentioned what platform (OS and Java version) your client is running on.  Among other things, the performance of <code>transferFrom</code> depends on the underlying OS ... and its ability to do direct transfers."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699208686,"post_id":77426535,"comment_id":136499844,"body_markdown":"You may also want to try `HttpClient.newHttpClient().send(HttpRequest.newBuilder(url.toURI()).GET().build(), HttpResponse.BodyHandlers.ofFile(file.toPath()));`.  See [the package docs](https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/java/net/http/package-summary.html) and [the module docs](https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/module-summary.html) for details.","body":"You may also want to try <code>HttpClient.newHttpClient().send(HttpRequest.newBuilder(url.t&zwnj;&#8203;oURI()).GET().build(&zwnj;&#8203;), HttpResponse.BodyHandlers.ofFile(file.toPath()));</code>.  See <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/java/net/http/package-summary.html\" rel=\"nofollow noreferrer\">the package docs</a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/module-summary.html\" rel=\"nofollow noreferrer\">the module docs</a> for details."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1699212310,"post_id":77426535,"comment_id":136500183,"body_markdown":"Perhaps a silly question, but what kind of URL do  you use? Is it `https://`? If so, then you compare apples and pears. And you should check the comment from @VGR!","body":"Perhaps a silly question, but what kind of URL do  you use? Is it <code>https:&#47;&#47;</code>? If so, then you compare apples and pears. And you should check the comment from @VGR!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699212607,"post_id":77426535,"comment_id":136500210,"body_markdown":"Perhaps try a one-liner using *Java HTTP Client*, as shown in [this Answer](https://stackoverflow.com/a/76050505/642706)","body":"Perhaps try a one-liner using <i>Java HTTP Client</i>, as shown in <a href=\"https://stackoverflow.com/a/76050505/642706\">this Answer</a>"},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699214730,"post_id":77426535,"comment_id":136500427,"body_markdown":"@StephenC this is a really great callout and likely related to another issue I am seeing. (Cutoff downloads). Thank you!\n\nAlso I have added the Java version of the lambda to the question (17). I don&#39;t control the OS, since Lambda is a managed service.","body":"@StephenC this is a really great callout and likely related to another issue I am seeing. (Cutoff downloads). Thank you!  Also I have added the Java version of the lambda to the question (17). I don&#39;t control the OS, since Lambda is a managed service."},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699214761,"post_id":77426535,"comment_id":136500431,"body_markdown":"@VGR I tried this exactly thank you! The download however still took 45 seconds.","body":"@VGR I tried this exactly thank you! The download however still took 45 seconds."},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699214817,"post_id":77426535,"comment_id":136500435,"body_markdown":"@tquadrat The URL is always `https://`. Could this explain something?","body":"@tquadrat The URL is always <code>https:&#47;&#47;</code>. Could this explain something?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699221879,"post_id":77426535,"comment_id":136501118,"body_markdown":"What is your approximate bandwidth?  Is it possible node.js is using a cache?  (Actually, Im surprised Java isnt using a cache.)","body":"What is your approximate bandwidth?  Is it possible node.js is using a cache?  (Actually, Im surprised Java isnt using a cache.)"},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699230283,"post_id":77426535,"comment_id":136501693,"body_markdown":"@VGR Im not sure exactly of the bandwidth in Lambda, since that is once again abstracted away for you. I would be surprised if the bandwidth was the issue. \n\nNot sure about the cache, what would it cache? If I give both of them a never-before-seen presigned URL of 700MB size, the performance is identical. (java takes very long while Nodejs is quick)","body":"@VGR Im not sure exactly of the bandwidth in Lambda, since that is once again abstracted away for you. I would be surprised if the bandwidth was the issue.   Not sure about the cache, what would it cache? If I give both of them a never-before-seen presigned URL of 700MB size, the performance is identical. (java takes very long while Nodejs is quick)"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1699268151,"post_id":77426535,"comment_id":136505781,"body_markdown":"If the protocol is HTTP(S), you should also check the behaviour of the WebServer on the other side. It may respond differently to the clients that connect to it. Also the different protocol settings that are sent (or not sent) to that server can have a significant impact on the performance. The node.js approach clearly is a http connection (that can be/is configured properly), but the standard URL connection is using some defaults that should work for every case. Therefore you should look for the suggestion from @VGR again and see if it does not have some nut and bolts  for optimisation.","body":"If the protocol is HTTP(S), you should also check the behaviour of the WebServer on the other side. It may respond differently to the clients that connect to it. Also the different protocol settings that are sent (or not sent) to that server can have a significant impact on the performance. The node.js approach clearly is a http connection (that can be/is configured properly), but the standard URL connection is using some defaults that should work for every case. Therefore you should look for the suggestion from @VGR again and see if it does not have some nut and bolts  for optimisation."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1699268369,"post_id":77426535,"comment_id":136505841,"body_markdown":"And perhaps you should change the experiment to store to your local disc, so that you can use a network sniffer on your side. Seeing what happens on the wire may help to understand what&#39;s going on.","body":"And perhaps you should change the experiment to store to your local disc, so that you can use a network sniffer on your side. Seeing what happens on the wire may help to understand what&#39;s going on."}],"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699269564,"creation_date":1699198154,"question_id":77426535,"body_markdown":"I have a Java application, in which I need to download the content of an S3 presigned URL to a file to disk.\r\n\r\nHowever, I have experienced **slow download speeds** when downloading from the URL. \r\n\r\n### Experiment\r\n\r\nI created an experiment, where I put my Java code and a comparable Node.JS code on an AWS Lambda. Both Lambdas were configured equally in terms of memory, region and ephemeral storage size. This was done to eliminate other environment variables such as disk I/O and networking.\r\n\r\n**Lambda Runtime:** Java 17 / NodeJS 18\r\n\r\n**Lambda Architecture:** x86_64\r\n\r\n**Lambda OS:** Amazon Linux 2\r\n\r\n### Java Code\r\nTo download from the URL, I am using the java non-blocking NIO library. In a nutshell, this is what my download looks like:\r\n\r\n```Java\r\nURL url = new URL(&quot;MY_S3_PRESIGNED_URL&quot;);\r\nURLConnection urlConnection = url.openConnection();\r\ntry (final InputStream is = new InputStream(urlConnection.getInputStream());\r\n     final FileOutputStream os = new FileOutputStream(file)) {\r\n    os.getChannel().transferFrom(Channels.newChannel(is), 0, Long.MAX_VALUE);\r\n}\r\n```\r\n\r\n### NodeJS Code\r\nThis is what my Node.js code looks like:\r\n\r\n```Javascript\r\nasync function getObject() {\r\n    let url = &quot;MY_S3_PRESIGNED_URL&quot;\r\n    \r\n    return new Promise(async (resolve, reject) =&gt; {\r\n        let responseDataChunks = [];\r\n        \r\n        https.get(url, response =&gt; {\r\n            \r\n            response.once(&#39;error&#39;, err =&gt; reject(err));\r\n\r\n            response.on(&#39;data&#39;, chunk =&gt; responseDataChunks.push(chunk));\r\n            \r\n            response.once(&#39;end&#39;, () =&gt; resolve(&#39;done&#39;));\r\n        }) \r\n    })\r\n}\r\n```\r\n\r\n### Experiment Results\r\n\r\nI invoked both lambdas with an S3 presigned URL to a 700MB file. These were my average download speed results:\r\n\r\n**Java**: 36 seconds\r\n\r\n**NodeJS**: 8 seconds\r\n\r\n\r\n### Question\r\n**How can I improve the download speed in Java?** I followed the suggestion in the baeldung article for downloading from a URL in Java. ([Ref](https://www.baeldung.com/java-download-file))\r\n\r\nThe article suggests using Apache Commons IO or NIO library. However, neither of these approaches helped my download speed. \r\n\r\nI would appreciate any suggestions, thank you!\r\n\r\n### What I&#39;ve Tried\r\n\r\nWhy is the NodeJS download so much quicker? I have tried multiple things in Java trying to speed up the download, such as\r\n-  Using **ranged gets** ([Ref](https://docs.aws.amazon.com/whitepapers/latest/s3-optimizing-performance-best-practices/use-byte-range-fetches.html)).\r\n- Using `FileUtils.copyURLToFile` from Apache Commons IO.\r\n- Using a **BufferedInputStream** instead of the InputStream currently shown in the Java Code. I tried different buffer sizes.\r\n\r\nNone of the actions listed improved my download by any significant margin.","title":"Why is the download of a URL in Java so slow?","body":"<p>I have a Java application, in which I need to download the content of an S3 presigned URL to a file to disk.</p>\n<p>However, I have experienced <strong>slow download speeds</strong> when downloading from the URL.</p>\n<h3>Experiment</h3>\n<p>I created an experiment, where I put my Java code and a comparable Node.JS code on an AWS Lambda. Both Lambdas were configured equally in terms of memory, region and ephemeral storage size. This was done to eliminate other environment variables such as disk I/O and networking.</p>\n<p><strong>Lambda Runtime:</strong> Java 17 / NodeJS 18</p>\n<p><strong>Lambda Architecture:</strong> x86_64</p>\n<p><strong>Lambda OS:</strong> Amazon Linux 2</p>\n<h3>Java Code</h3>\n<p>To download from the URL, I am using the java non-blocking NIO library. In a nutshell, this is what my download looks like:</p>\n<pre><code>URL url = new URL(&quot;MY_S3_PRESIGNED_URL&quot;);\nURLConnection urlConnection = url.openConnection();\ntry (final InputStream is = new InputStream(urlConnection.getInputStream());\n     final FileOutputStream os = new FileOutputStream(file)) {\n    os.getChannel().transferFrom(Channels.newChannel(is), 0, Long.MAX_VALUE);\n}\n</code></pre>\n<h3>NodeJS Code</h3>\n<p>This is what my Node.js code looks like:</p>\n<pre><code>async function getObject() {\n    let url = &quot;MY_S3_PRESIGNED_URL&quot;\n    \n    return new Promise(async (resolve, reject) =&gt; {\n        let responseDataChunks = [];\n        \n        https.get(url, response =&gt; {\n            \n            response.once('error', err =&gt; reject(err));\n\n            response.on('data', chunk =&gt; responseDataChunks.push(chunk));\n            \n            response.once('end', () =&gt; resolve('done'));\n        }) \n    })\n}\n</code></pre>\n<h3>Experiment Results</h3>\n<p>I invoked both lambdas with an S3 presigned URL to a 700MB file. These were my average download speed results:</p>\n<p><strong>Java</strong>: 36 seconds</p>\n<p><strong>NodeJS</strong>: 8 seconds</p>\n<h3>Question</h3>\n<p><strong>How can I improve the download speed in Java?</strong> I followed the suggestion in the baeldung article for downloading from a URL in Java. (<a href=\"https://www.baeldung.com/java-download-file\" rel=\"nofollow noreferrer\">Ref</a>)</p>\n<p>The article suggests using Apache Commons IO or NIO library. However, neither of these approaches helped my download speed.</p>\n<p>I would appreciate any suggestions, thank you!</p>\n<h3>What I've Tried</h3>\n<p>Why is the NodeJS download so much quicker? I have tried multiple things in Java trying to speed up the download, such as</p>\n<ul>\n<li>Using <strong>ranged gets</strong> (<a href=\"https://docs.aws.amazon.com/whitepapers/latest/s3-optimizing-performance-best-practices/use-byte-range-fetches.html\" rel=\"nofollow noreferrer\">Ref</a>).</li>\n<li>Using <code>FileUtils.copyURLToFile</code> from Apache Commons IO.</li>\n<li>Using a <strong>BufferedInputStream</strong> instead of the InputStream currently shown in the Java Code. I tried different buffer sizes.</li>\n</ul>\n<p>None of the actions listed improved my download by any significant margin.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1588751864,"post_id":61629104,"comment_id":109015581,"body_markdown":"Is the *Navigator* view present in your Eclipse installation? Can you see it is the view list if you navigate to *Window &gt; Show View &gt; Other...*?","body":"Is the <i>Navigator</i> view present in your Eclipse installation? Can you see it is the view list if you navigate to <i>Window &gt; Show View &gt; Other...</i>?"},{"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"score":0,"creation_date":1588760065,"post_id":61629104,"comment_id":109020027,"body_markdown":"Yes. Window &gt; Show View &gt; Navigator exists. Just Show in &gt; Navigator doesn&#39;t exist","body":"Yes. Window &gt; Show View &gt; Navigator exists. Just Show in &gt; Navigator doesn&#39;t exist"}],"answers":[{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1588834856,"creation_date":1588834856,"answer_id":61651698,"question_id":61629104,"body_markdown":"I noticed that the contents of the *Show In* sub-menu is different in different perspectives.\r\n\r\nTry to switch to the *Java* perspective, *Window &gt;  Perspective &gt; Open Perspective &gt; Java*.\r\n\r\nIn my copy of Eclipse 2020-3 I have the *Navigator* entry in the *Show In* sub-menu when the Java perspective is active:\r\n\r\n![](https://i.stack.imgur.com/iRn36.png)\r\n\r\n---\r\n\r\nI noticed in the following Eclipse bug ticket that the *Navigator* view is to be removed eventually:\r\n\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=550379\r\n\r\n---\r\n\r\nThe *Navigator* view gives a &quot;raw&quot;, unmodified view of the file system. The *Project Explorer* view can be used in a similar way by changing the following view preferences:\r\n\r\n * *Filters preferences &gt; Content &gt; Java Elements &gt;* Uncheck\r\n * *Filters preferences &gt; Pre-set filters &gt;* Deselect all\r\n * *View preferences &gt; Project Presentation &gt; Hierarchical*\r\n\r\nFilter preferences button:\r\n\r\n![Filter preferences button](https://i.stack.imgur.com/p4gIt.png)\r\n\r\n---\r\n\r\n*Navigator* view is deprecated because it duplicates the *Project Explorer*, and the latter is more customizable for users and developers, and is also part of the [Common Navigator Framework](https://wiki.eclipse.org/Common_Navigator_Framework).","title":"&quot;Show in Navigator&quot; missing in 2020-03 update","body":"<p>I noticed that the contents of the <em>Show In</em> sub-menu is different in different perspectives.</p>\n\n<p>Try to switch to the <em>Java</em> perspective, <em>Window >  Perspective > Open Perspective > Java</em>.</p>\n\n<p>In my copy of Eclipse 2020-3 I have the <em>Navigator</em> entry in the <em>Show In</em> sub-menu when the Java perspective is active:</p>\n\n<p><img src=\"https://i.stack.imgur.com/iRn36.png\" alt=\"\"></p>\n\n<hr>\n\n<p>I noticed in the following Eclipse bug ticket that the <em>Navigator</em> view is to be removed eventually:</p>\n\n<p><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=550379\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=550379</a></p>\n\n<hr>\n\n<p>The <em>Navigator</em> view gives a \"raw\", unmodified view of the file system. The <em>Project Explorer</em> view can be used in a similar way by changing the following view preferences:</p>\n\n<ul>\n<li><em>Filters preferences > Content > Java Elements ></em> Uncheck</li>\n<li><em>Filters preferences > Pre-set filters ></em> Deselect all</li>\n<li><em>View preferences > Project Presentation > Hierarchical</em></li>\n</ul>\n\n<p>Filter preferences button:</p>\n\n<p><img src=\"https://i.stack.imgur.com/p4gIt.png\" alt=\"Filter preferences button\"></p>\n\n<hr>\n\n<p><em>Navigator</em> view is deprecated because it duplicates the <em>Project Explorer</em>, and the latter is more customizable for users and developers, and is also part of the <a href=\"https://wiki.eclipse.org/Common_Navigator_Framework\" rel=\"nofollow noreferrer\">Common Navigator Framework</a>.</p>\n"},{"tags":[],"owner":{"account_id":19231547,"reputation":385,"user_id":14053303,"display_name":"Abhishek Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687870604,"creation_date":1687870604,"answer_id":76565101,"question_id":61629104,"body_markdown":"Windows -&gt; show view -&gt; navigator ( if not showing in list ,go to others and search )\r\n\r\nworked for me.","title":"&quot;Show in Navigator&quot; missing in 2020-03 update","body":"<p>Windows -&gt; show view -&gt; navigator ( if not showing in list ,go to others and search )</p>\n<p>worked for me.</p>\n"},{"tags":[],"owner":{"account_id":952025,"reputation":593,"user_id":977959,"display_name":"danipenaperez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699268712,"creation_date":1699268712,"answer_id":77430605,"question_id":61629104,"body_markdown":"Yes , has been deprecated. \r\nThe most similiar that I found is Project Explorer &gt; Package Presentation (click on the three dots menu)&gt; Hierarchical.\r\n\r\nAnd the same Hierarchical option for Project Presentation menu option.\r\n\r\nYou will see a &quot;tree view&quot; of projects, packages similar to older Navigator View\r\n(I am using Eclipse IDE 2023-09 (4.29.0)) \r\n\r\nHope Helps.","title":"&quot;Show in Navigator&quot; missing in 2020-03 update","body":"<p>Yes , has been deprecated.\nThe most similiar that I found is Project Explorer &gt; Package Presentation (click on the three dots menu)&gt; Hierarchical.</p>\n<p>And the same Hierarchical option for Project Presentation menu option.</p>\n<p>You will see a &quot;tree view&quot; of projects, packages similar to older Navigator View\n(I am using Eclipse IDE 2023-09 (4.29.0))</p>\n<p>Hope Helps.</p>\n"}],"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61651698,"answer_count":3,"score":3,"last_activity_date":1699268712,"creation_date":1588748047,"question_id":61629104,"body_markdown":"I prefer to see things in Navigator view although it is being deprecated. (For reasons I&#39;m not aware.)\r\n\r\nIn the latest 2020-03 update when I right click on a Java class and try to *Show In &gt; Navigator*, it&#39;s not present any more. I feel package explorer is more Java centered and prefer Navigator. Is there still a way to enable this view in the latest update?\r\n\r\n\r\n[![navigator missing in show in][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bKaku.png","title":"&quot;Show in Navigator&quot; missing in 2020-03 update","body":"<p>I prefer to see things in Navigator view although it is being deprecated. (For reasons I'm not aware.)</p>\n\n<p>In the latest 2020-03 update when I right click on a Java class and try to <em>Show In > Navigator</em>, it's not present any more. I feel package explorer is more Java centered and prefer Navigator. Is there still a way to enable this view in the latest update?</p>\n\n<p><a href=\"https://i.stack.imgur.com/bKaku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bKaku.png\" alt=\"navigator missing in show in\"></a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1699270013,"post_id":77430603,"comment_id":136506083,"body_markdown":"You can&#39;t be sure that this is the issue because you are masking the error message. Remove the `try catch` or at least print the actual error message.","body":"You can&#39;t be sure that this is the issue because you are masking the error message. Remove the <code>try catch</code> or at least print the actual error message."},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1699271219,"post_id":77430603,"comment_id":136506294,"body_markdown":"labas :)  whats the actual exception?","body":"labas :)  whats the actual exception?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699290427,"post_id":77430603,"comment_id":136510293,"body_markdown":"I think you want: WebElement element = wait.until(ExpectedConditions.elementToBeClickable(locator)); and then just use element.click(); method.","body":"I think you want: WebElement element = wait.until(ExpectedConditions.elementToBeClickable(locator))&zwnj;&#8203;; and then just use element.click(); method."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699291124,"post_id":77430603,"comment_id":136510433,"body_markdown":"in your catch use System.err.println(&quot;Error clicking the element: &quot;+ e.toString();); So you can include the exception in your post.","body":"in your catch use System.err.println(&quot;Error clicking the element: &quot;+ e.toString();); So you can include the exception in your post."}],"owner":{"account_id":29662298,"reputation":1,"user_id":22733603,"display_name":"Jonas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699268688,"creation_date":1699268688,"question_id":77430603,"body_markdown":"I have a test where for loop click on each submenu items, but webdriver doesn&#39;t wait element and throws exception and tries to click next submenu item and so on.\r\n\r\nHere is ElementFetch class:\r\n```\r\npublic class ElementFetch {\r\n\t\r\n\tpublic Actions action;\r\n\t\r\n\tprivate WebDriver driver;\r\n\tprivate WebDriverWait wait;\r\n\t\r\n\tpublic ElementFetch(WebDriver driver, WebDriverWait wait) {\r\n        this.driver = driver;\r\n        this.wait = wait;\r\n        this.action = new Actions(driver);\r\n    }\r\n\t\r\n\tpublic void click(By locator) {\r\n\t    try {\r\n\t        WebElement element = wait.withTimeout(Duration.ofSeconds(3)).until(ExpectedConditions.elementToBeClickable(locator));\r\n\t        action.moveToElement(element).click().build().perform();\r\n\t    } catch (Exception e) {\r\n\t        System.err.println(&quot;Error clicking the element: &quot; + locator);\r\n\t    }\r\n\t}...\r\n```\r\n\r\n\r\nHere is BaseTest class that my tests extend:\r\n```\r\npublic class BaseTest {\r\n\tpublic WebDriver driver;\r\n\tpublic WebDriverWait wait;\r\n\tpublic Properties testConfig;\r\n\tpublic ElementFetch elementFetch;\r\n\tpublic Authentication authentication;\r\n\tpublic ModalChecker modalChecker;\r\n\t\r\n\t\r\n\tprivate final String configPath = &quot;src\\\\test\\\\resources\\\\config\\\\config.properties&quot;;\r\n\t\r\n\t@BeforeClass\r\n\tpublic void setUp() throws IOException {\r\n\t\tdriver = DriverManager.initializeDriver();\r\n\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n        driver.manage().window().maximize();\r\n        \r\n        testConfig = ConfigurationLoader.loadTestConfig(configPath);\r\n        \r\n        elementFetch = new ElementFetch(driver, wait);\r\n```\r\n\r\nHere is subMenu test that fails in MenuTest class:\r\n```\r\npublic class MenuTest extends BaseTest {\r\n\t\r\n\tprivate String path = &quot;&quot;;\r\n\t\r\n\t@Test(dataProvider = &quot;dataProviderMainMenu&quot;, dataProviderClass = DataProviderClass.class)\r\n\tpublic void testMainMenu(JsonObject menuItem) throws InterruptedException {\r\n\r\n\t\telementFetch.click(By.id(menuItem.get(&quot;id&quot;).getAsString().replace(&quot;\\&quot;&quot;, &quot;&quot;)));\r\n\t\t\r\n\t\tif (menuItem.has(&quot;subMenu&quot;)) {\r\n            JsonArray subMenuItems = menuItem.getAsJsonArray(&quot;subMenu&quot;);\r\n            testSubMenu(subMenuItems);\r\n        }\r\n\t}\r\n\t\r\n\tpublic void testSubMenu(JsonArray subMenuItems) throws InterruptedException {\r\n\t\tfor(JsonElement subMenuItem : subMenuItems) {\r\n\t\t\tJsonObject subMenuItemObject = subMenuItem.getAsJsonObject();\r\n\r\n            elementFetch.click(By.id(subMenuItemObject.get(&quot;id&quot;).getAsString()));\r\n            wait.until(driver -&gt; ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\r\n            \r\n            if (subMenuItemObject.has(&quot;menu&quot;)) {\r\n                JsonArray submenu = subMenuItemObject.get(&quot;menu&quot;).getAsJsonArray();\r\n                String originalPath = path;\r\n                testSubMenu(submenu);\r\n                path = originalPath;\r\n            }\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI&#39;m expecting webdriver to wait for element to be clickable and click it, but it doesn&#39;t wait and looks for another button","title":"Selenium WebDriverWait doesn&#39;t wait elementToBeClickable","body":"<p>I have a test where for loop click on each submenu items, but webdriver doesn't wait element and throws exception and tries to click next submenu item and so on.</p>\n<p>Here is ElementFetch class:</p>\n<pre><code>public class ElementFetch {\n    \n    public Actions action;\n    \n    private WebDriver driver;\n    private WebDriverWait wait;\n    \n    public ElementFetch(WebDriver driver, WebDriverWait wait) {\n        this.driver = driver;\n        this.wait = wait;\n        this.action = new Actions(driver);\n    }\n    \n    public void click(By locator) {\n        try {\n            WebElement element = wait.withTimeout(Duration.ofSeconds(3)).until(ExpectedConditions.elementToBeClickable(locator));\n            action.moveToElement(element).click().build().perform();\n        } catch (Exception e) {\n            System.err.println(&quot;Error clicking the element: &quot; + locator);\n        }\n    }...\n</code></pre>\n<p>Here is BaseTest class that my tests extend:</p>\n<pre><code>public class BaseTest {\n    public WebDriver driver;\n    public WebDriverWait wait;\n    public Properties testConfig;\n    public ElementFetch elementFetch;\n    public Authentication authentication;\n    public ModalChecker modalChecker;\n    \n    \n    private final String configPath = &quot;src\\\\test\\\\resources\\\\config\\\\config.properties&quot;;\n    \n    @BeforeClass\n    public void setUp() throws IOException {\n        driver = DriverManager.initializeDriver();\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        driver.manage().window().maximize();\n        \n        testConfig = ConfigurationLoader.loadTestConfig(configPath);\n        \n        elementFetch = new ElementFetch(driver, wait);\n</code></pre>\n<p>Here is subMenu test that fails in MenuTest class:</p>\n<pre><code>public class MenuTest extends BaseTest {\n    \n    private String path = &quot;&quot;;\n    \n    @Test(dataProvider = &quot;dataProviderMainMenu&quot;, dataProviderClass = DataProviderClass.class)\n    public void testMainMenu(JsonObject menuItem) throws InterruptedException {\n\n        elementFetch.click(By.id(menuItem.get(&quot;id&quot;).getAsString().replace(&quot;\\&quot;&quot;, &quot;&quot;)));\n        \n        if (menuItem.has(&quot;subMenu&quot;)) {\n            JsonArray subMenuItems = menuItem.getAsJsonArray(&quot;subMenu&quot;);\n            testSubMenu(subMenuItems);\n        }\n    }\n    \n    public void testSubMenu(JsonArray subMenuItems) throws InterruptedException {\n        for(JsonElement subMenuItem : subMenuItems) {\n            JsonObject subMenuItemObject = subMenuItem.getAsJsonObject();\n\n            elementFetch.click(By.id(subMenuItemObject.get(&quot;id&quot;).getAsString()));\n            wait.until(driver -&gt; ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\n            \n            if (subMenuItemObject.has(&quot;menu&quot;)) {\n                JsonArray submenu = subMenuItemObject.get(&quot;menu&quot;).getAsJsonArray();\n                String originalPath = path;\n                testSubMenu(submenu);\n                path = originalPath;\n            }\n        }\n    }\n</code></pre>\n<p>I'm expecting webdriver to wait for element to be clickable and click it, but it doesn't wait and looks for another button</p>\n"},{"tags":["java","spring","spring-remoting"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1314874068,"post_id":7268151,"comment_id":8749604,"body_markdown":"Relevant reading: http://blog.springsource.com/2011/08/10/beyond-the-factorybean","body":"Relevant reading: <a href=\"http://blog.springsource.com/2011/08/10/beyond-the-factorybean\" rel=\"nofollow noreferrer\">blog.springsource.com/2011/08/10/beyond-the-factorybean</a>"}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1314950080,"creation_date":1314874355,"answer_id":7269287,"question_id":7268151,"body_markdown":"Actually, the correct (and equivalent) version would be the even more awkward:\r\n\r\n    public @Bean HttpInvokerProxyFactoryBean httpInvokerProxy() {\r\n        HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\r\n        proxy.setServiceInterface(AccountService.class);\r\n        proxy.setServiceUrl(&quot;http://remotehost:8080/remoting/AccountService&quot;);\r\n        return proxy;\r\n    }\r\n\r\n(After all you usually want the FactoryBean to be managed by Spring, not the Bean it returns)\r\n\r\nSee this recent article for reference:\r\n\r\n&gt; [What&#39;s a FactoryBean?][1]\r\n\r\n\r\n  [1]: http://blog.springsource.com/2011/08/09/whats-a-factorybean/","title":"Spring HttpRemoting client as a Java Configuration Bean","body":"<p>Actually, the correct (and equivalent) version would be the even more awkward:</p>\n\n<pre><code>public @Bean HttpInvokerProxyFactoryBean httpInvokerProxy() {\n    HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\n    proxy.setServiceInterface(AccountService.class);\n    proxy.setServiceUrl(\"http://remotehost:8080/remoting/AccountService\");\n    return proxy;\n}\n</code></pre>\n\n<p>(After all you usually want the FactoryBean to be managed by Spring, not the Bean it returns)</p>\n\n<p>See this recent article for reference:</p>\n\n<blockquote>\n  <p><a href=\"http://blog.springsource.com/2011/08/09/whats-a-factorybean/\" rel=\"noreferrer\">What's a FactoryBean?</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11156931,"reputation":11,"user_id":8188371,"display_name":"Dipak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699268631,"creation_date":1699268462,"answer_id":77430584,"question_id":7268151,"body_markdown":"Setup up an HttpInvoker client for AccountService without the need for XML. The httpInvokerClient() method creates the client, configuring it with the service interface and URL.\r\n\r\nThe accountService() method retrieves the actual AccountService proxy object from the HttpInvokerProxyFactoryBean. This way, you can use the AccountService bean throughout your application.\r\n\r\nBy using this configuration, you can easily inject and use the AccountService in your code without XML-based setup. Feel free to ask if you have any further questions!\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n        @Bean\r\n        public HttpInvokerProxyFactoryBean httpInvokerClient() {\r\n            HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\r\n            proxy.setServiceInterface(AccountService.class);\r\n            proxy.setServiceUrl(&quot;http://remotehost:8080/remoting/AccountService&quot;);\r\n            proxy.afterPropertiesSet();\r\n            return proxy;\r\n        }\r\n    \r\n        @Bean\r\n        public AccountService accountService() {\r\n            return (AccountService) httpInvokerClient().getObject();\r\n        }\r\n    }","title":"Spring HttpRemoting client as a Java Configuration Bean","body":"<p>Setup up an HttpInvoker client for AccountService without the need for XML. The httpInvokerClient() method creates the client, configuring it with the service interface and URL.</p>\n<p>The accountService() method retrieves the actual AccountService proxy object from the HttpInvokerProxyFactoryBean. This way, you can use the AccountService bean throughout your application.</p>\n<p>By using this configuration, you can easily inject and use the AccountService in your code without XML-based setup. Feel free to ask if you have any further questions!</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public HttpInvokerProxyFactoryBean httpInvokerClient() {\n        HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\n        proxy.setServiceInterface(AccountService.class);\n        proxy.setServiceUrl(&quot;http://remotehost:8080/remoting/AccountService&quot;);\n        proxy.afterPropertiesSet();\n        return proxy;\n    }\n\n    @Bean\n    public AccountService accountService() {\n        return (AccountService) httpInvokerClient().getObject();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13424,"reputation":8306,"user_id":26943,"accept_rate":76,"display_name":"Mike Minicki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3839,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7269287,"answer_count":2,"score":8,"last_activity_date":1699268631,"creation_date":1314867749,"question_id":7268151,"body_markdown":"I&#39;m trying to migrate Spring from `XmlApplicationContext` to `AnnotationConfigApplicationContext` (more info: [Java-based container configuration][1]).\r\n\r\nEverything works perfectly but I don&#39;t know how to create a HttpInvoker client. The XML configuration is as follows:\r\n\r\n\r\n    &lt;bean id=&quot;httpInvokerProxy&quot; class=&quot;org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;serviceUrl&quot; value=&quot;http://remotehost:8080/remoting/AccountService&quot;/&gt;\r\n        &lt;property name=&quot;serviceInterface&quot; value=&quot;example.AccountService&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nHow should the Java Configuration look? Do I still need this Factory Bean? I think one should be able to instantiate the client without this wrapper with this configuration method.\r\n\r\nThis (somehow) feels bad to me:\r\n\r\n\tpublic @Bean AccountService httpInvokerProxy() {\r\n\t\tHttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\r\n\t\tproxy.setServiceInterface(AccountService.class);\r\n\t\tproxy.setServiceUrl(&quot;http://remotehost:8080/remoting/AccountService&quot;);\r\n\t\tproxy.afterPropertiesSet();\r\n\t\treturn (AccountService) proxy.getObject();\r\n\t}\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-java\r\n","title":"Spring HttpRemoting client as a Java Configuration Bean","body":"<p>I'm trying to migrate Spring from <code>XmlApplicationContext</code> to <code>AnnotationConfigApplicationContext</code> (more info: <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-java\" rel=\"noreferrer\">Java-based container configuration</a>).</p>\n\n<p>Everything works perfectly but I don't know how to create a HttpInvoker client. The XML configuration is as follows:</p>\n\n<pre><code>&lt;bean id=\"httpInvokerProxy\" class=\"org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean\"&gt;\n    &lt;property name=\"serviceUrl\" value=\"http://remotehost:8080/remoting/AccountService\"/&gt;\n    &lt;property name=\"serviceInterface\" value=\"example.AccountService\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>How should the Java Configuration look? Do I still need this Factory Bean? I think one should be able to instantiate the client without this wrapper with this configuration method.</p>\n\n<p>This (somehow) feels bad to me:</p>\n\n<pre><code>public @Bean AccountService httpInvokerProxy() {\n    HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\n    proxy.setServiceInterface(AccountService.class);\n    proxy.setServiceUrl(\"http://remotehost:8080/remoting/AccountService\");\n    proxy.afterPropertiesSet();\n    return (AccountService) proxy.getObject();\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699262563,"post_id":77429976,"comment_id":136504799,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"score":0,"creation_date":1699266424,"post_id":77429976,"comment_id":136505466,"body_markdown":"Just added the jason file. any help will be appreciated :)","body":"Just added the jason file. any help will be appreciated :)"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699266893,"post_id":77429976,"comment_id":136505533,"body_markdown":"What is the exact line of code that produces this output `Data retrieved: 0`?","body":"What is the exact line of code that produces this output <code>Data retrieved: 0</code>?"},{"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"score":0,"creation_date":1699267093,"post_id":77429976,"comment_id":136505583,"body_markdown":"@AlexMamo I added it after the loop to check if anything is being retrieved, i am simply checking the arraylist size \n\n` Log.d(&quot;FirebaseData&quot;, &quot;Data retrieved: &quot; + timelineCardContents.size() + &quot; items&quot;); `\nthis is the line","body":"@AlexMamo I added it after the loop to check if anything is being retrieved, i am simply checking the arraylist size   ` Log.d(&quot;FirebaseData&quot;, &quot;Data retrieved: &quot; + timelineCardContents.size() + &quot; items&quot;); ` this is the line"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699267297,"post_id":77429976,"comment_id":136505616,"body_markdown":"If you try to log the value of `snapshot.getChildrenCount()`, what is the output?","body":"If you try to log the value of <code>snapshot.getChildrenCount()</code>, what is the output?"},{"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"score":0,"creation_date":1699267563,"post_id":77429976,"comment_id":136505662,"body_markdown":"when i manually insert a new element in the array list by using any random url and sample title it works just fine so i think adapter class(RecycleContentAdapter) shouldnt have any issues","body":"when i manually insert a new element in the array list by using any random url and sample title it works just fine so i think adapter class(RecycleContentAdapter) shouldnt have any issues"},{"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"score":0,"creation_date":1699267970,"post_id":77429976,"comment_id":136505734,"body_markdown":"@AlexMamo Children retrieved: 0 items\n` Log.d(&quot;getChildren&quot;, &quot;Children retrieved: &quot; + snapshot.getChildrenCount() + &quot; items&quot;);`\nused this right after the loop","body":"@AlexMamo Children retrieved: 0 items ` Log.d(&quot;getChildren&quot;, &quot;Children retrieved: &quot; + snapshot.getChildrenCount() + &quot; items&quot;);` used this right after the loop"}],"answers":[{"comments":[{"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"score":1,"creation_date":1699269076,"post_id":77430578,"comment_id":136505955,"body_markdown":"thanks a bunch man I&#39;ve spent an embarrassing amount of time trying to fix this. you&#39;re a lifesaver (Sorry i cant upvote because my account is new)","body":"thanks a bunch man I&#39;ve spent an embarrassing amount of time trying to fix this. you&#39;re a lifesaver (Sorry i cant upvote because my account is new)"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699268391,"creation_date":1699268391,"answer_id":77430578,"question_id":77429976,"body_markdown":"Looking closer at your code and database schema, I saw that the problem comes from the following line of code:\r\n\r\n    database.getReference().child(&quot;Event List&quot;).addValueEventListener(/* ... /*);\r\n\r\nWhy? Because the node in the database is called &quot;Events List&quot; and not &quot;Event List&quot;. See there is an `s` missing. So to solve this, please use the correct reference:\r\n\r\n    database.getReference().child(&quot;Events List&quot;).addValueEventListener(/* ... /*);\r\n    //                                 &#128070;","title":"Unable to Retrieve data from Firebase in my java android app","body":"<p>Looking closer at your code and database schema, I saw that the problem comes from the following line of code:</p>\n<pre><code>database.getReference().child(&quot;Event List&quot;).addValueEventListener(/* ... /*);\n</code></pre>\n<p>Why? Because the node in the database is called &quot;Events List&quot; and not &quot;Event List&quot;. See there is an <code>s</code> missing. So to solve this, please use the correct reference:</p>\n<pre><code>database.getReference().child(&quot;Events List&quot;).addValueEventListener(/* ... /*);\n//                                 \n</code></pre>\n"}],"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77430578,"answer_count":1,"score":0,"last_activity_date":1699268434,"creation_date":1699262385,"question_id":77429976,"body_markdown":"Home.java class\r\n```\r\npackage com.example.rsvpea;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.View.OnClickListener;\r\nimport android.widget.ImageButton;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.rsvpea.Models.UploadEventModel;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Home extends AppCompatActivity {\r\n    public static ImageButton home;\r\n    public static ImageButton bookings;\r\n    public static ImageButton profile;\r\n    FirebaseDatabase database;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        home = findViewById(R.id.home);\r\n        bookings = findViewById(R.id.myBookings);\r\n        profile = findViewById(R.id.myProfile);\r\n        BottomNavBar buttonClickListenerHome = new BottomNavBar(home);\r\n        BottomNavBar buttonClickListenerBookings = new BottomNavBar(bookings);\r\n        BottomNavBar buttonClickListenerProfile = new BottomNavBar(profile);\r\n\r\n        ArrayList&lt;TimelineCardContent&gt; timelineCardContents = new ArrayList&lt;&gt;();\r\n\r\n        RecyclerView timeline = findViewById(R.id.timelineRecyclerView);\r\n        timeline.setLayoutManager(new LinearLayoutManager(this));\r\n        database=FirebaseDatabase.getInstance();\r\n        database.getReference().child(&quot;Event List&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for(DataSnapshot itemSnapshot : snapshot.getChildren()){\r\n                    //String img = itemSnapshot.child(&quot;image&quot;).getValue(String.class);\r\n                    //String eventTitle = itemSnapshot.child(&quot;eventTitle&quot;).getValue(String.class);\r\n                    UploadEventModel temp = itemSnapshot.getValue(UploadEventModel.class);\r\n                    timelineCardContents.add(new TimelineCardContent(temp.getImage(), temp.getEventTitle()));\r\n                }\r\n                Log.d(&quot;FirebaseData&quot;, &quot;Data retrieved: &quot; + timelineCardContents.size() + &quot; items&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(Home.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        RecycleContentAdapter adapter = new RecycleContentAdapter(this, timelineCardContents);\r\n        System.out.println(timelineCardContents);\r\n        timeline.setAdapter(adapter);\r\n        home.setOnClickListener(buttonClickListenerHome);\r\n        profile.setOnClickListener(buttonClickListenerProfile);\r\n        bookings.setOnClickListener(buttonClickListenerBookings);\r\n        findViewById(R.id.uploadnewevent).setOnClickListener(view -&gt; {\r\n            Intent intent = new Intent(Home.this, UploadActivity.class);\r\n            Home.this.startActivity(intent);\r\n        });\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\nadapter class\r\n\r\n```\r\npackage com.example.rsvpea;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecycleContentAdapter extends RecyclerView.Adapter&lt;RecycleContentAdapter.ViewHolder&gt; {\r\n    Context context;\r\n    ArrayList&lt;TimelineCardContent&gt; arrContent;\r\n    RecycleContentAdapter(Context context, ArrayList&lt;TimelineCardContent&gt; arrContent){\r\n        this.context=context;\r\n        this.arrContent=arrContent;\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n       View v= LayoutInflater.from(context).inflate(R.layout.timeline_item, parent, false);\r\n        return new ViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        TimelineCardContent content = arrContent.get(position);\r\n        //holder.img.setImageResource(arrContent.get(position).img);\r\n        Picasso.get()\r\n                .load(content.img)\r\n                .into(holder.img);\r\n        holder.title.setText(arrContent.get(position).title);\r\n        holder.moreDetailsButton.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(v.getContext(), MoreDetails.class);\r\n            v.getContext().startActivity(intent);\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return arrContent.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n        TextView title;\r\n        ImageView img;\r\n        Button moreDetailsButton;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            this.title=itemView.findViewById(R.id.title);\r\n            this.img=itemView.findViewById(R.id.img);\r\n            moreDetailsButton = itemView.findViewById(R.id.moreDetails);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nHere&#39;s my event model class\r\n```\r\npackage com.example.rsvpea.Models;\r\n\r\npublic class UploadEventModel {\r\n    private String eventTitle, Desc, date, venue, image;\r\n\r\n    public UploadEventModel(String eventTitle, String desc, String date, String venue, String image) {\r\n        this.eventTitle = eventTitle;\r\n        this.Desc = desc;\r\n        this.date = date;\r\n        this.venue = venue;\r\n        this.image = image;\r\n    }\r\n    public UploadEventModel(){}\r\n\r\n    public String getEventTitle() {\r\n        return eventTitle;\r\n    }\r\n\r\n    public void setEventTitle(String eventTitle) {\r\n        this.eventTitle = eventTitle;\r\n    }\r\n\r\n    public String getDesc() {\r\n        return Desc;\r\n    }\r\n\r\n    public void setDesc(String desc) {\r\n        Desc = desc;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getVenue() {\r\n        return venue;\r\n    }\r\n\r\n    public void setVenue(String venue) {\r\n        this.venue = venue;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nin my logcat it shows ArrayList is empty\r\n&gt; 2023-11-06 14:27:36.006 23637-23637 FirebaseData            com.example.rsvpea                   D  Data retrieved: 0\r\n\r\nhere&#39;s the JSON file:\r\n```\r\n{\r\n  &quot;Events List&quot;: {\r\n    &quot;5 Nov 2023 20:43:57&quot;: {\r\n      &quot;date&quot;: &quot;29 feb 2024&quot;,\r\n      &quot;desc&quot;: &quot;birthday party for a batak&quot;,\r\n      &quot;eventTitle&quot;: &quot;Batak Bday&quot;,\r\n      &quot;image&quot;: &quot;url&quot;,\r\n      &quot;venue&quot;: &quot;TMA Pai&quot;\r\n    },\r\n    &quot;5 Nov 2023 23:12:29&quot;: {\r\n      &quot;date&quot;: &quot;40 feb 2024 &quot;,\r\n      &quot;desc&quot;: &quot;event description sample&quot;,\r\n      &quot;eventTitle&quot;: &quot;new event&quot;,\r\n      &quot;image&quot;: &quot;url&quot;,\r\n      &quot;venue&quot;: &quot;tma pai&quot;\r\n    },\r\n    &quot;6 Nov 2023 00:28:28&quot;: {\r\n      &quot;date&quot;: &quot;hhhs&quot;,\r\n      &quot;desc&quot;: &quot;hshsh&quot;,\r\n      &quot;eventTitle&quot;: &quot;hsha&quot;,\r\n      &quot;image&quot;: &quot;url&quot;\r\n    }\r\n  },\r\n  &quot;Users&quot;: {\r\n    &quot;cN0Z4YQEeoXPQKYH0lYxQegpfFE2&quot;: {\r\n      &quot;mail&quot;: &quot;ayu@awsm.ayu&quot;,\r\n      &quot;password&quot;: &quot;hello123&quot;,\r\n      &quot;userName&quot;: &quot;ayu&quot;\r\n    }\r\n  }\r\n}\r\n```\r\napp runs without giving any error but shows empty recycler view.\r\nany help?\r\n\r\n\r\nInstead of using model i tried doing it manually like this but that didnt work either\r\n\r\n```\r\nString img = itemSnapshot.child(&quot;image&quot;).getValue(String.class);\r\nString eventTitle = itemSnapshot.child(&quot;eventTitle&quot;).getValue(String.class);\r\n```\r\n\r\nhere are my database rules\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,  // 2023-12-4\r\n    &quot;.write&quot;: true,  // 2023-12-4\r\n  }\r\n}\r\n```\r\n","title":"Unable to Retrieve data from Firebase in my java android app","body":"<p>Home.java class</p>\n<pre><code>package com.example.rsvpea;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.ImageButton;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.rsvpea.Models.UploadEventModel;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class Home extends AppCompatActivity {\n    public static ImageButton home;\n    public static ImageButton bookings;\n    public static ImageButton profile;\n    FirebaseDatabase database;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        home = findViewById(R.id.home);\n        bookings = findViewById(R.id.myBookings);\n        profile = findViewById(R.id.myProfile);\n        BottomNavBar buttonClickListenerHome = new BottomNavBar(home);\n        BottomNavBar buttonClickListenerBookings = new BottomNavBar(bookings);\n        BottomNavBar buttonClickListenerProfile = new BottomNavBar(profile);\n\n        ArrayList&lt;TimelineCardContent&gt; timelineCardContents = new ArrayList&lt;&gt;();\n\n        RecyclerView timeline = findViewById(R.id.timelineRecyclerView);\n        timeline.setLayoutManager(new LinearLayoutManager(this));\n        database=FirebaseDatabase.getInstance();\n        database.getReference().child(&quot;Event List&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for(DataSnapshot itemSnapshot : snapshot.getChildren()){\n                    //String img = itemSnapshot.child(&quot;image&quot;).getValue(String.class);\n                    //String eventTitle = itemSnapshot.child(&quot;eventTitle&quot;).getValue(String.class);\n                    UploadEventModel temp = itemSnapshot.getValue(UploadEventModel.class);\n                    timelineCardContents.add(new TimelineCardContent(temp.getImage(), temp.getEventTitle()));\n                }\n                Log.d(&quot;FirebaseData&quot;, &quot;Data retrieved: &quot; + timelineCardContents.size() + &quot; items&quot;);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(Home.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n        RecycleContentAdapter adapter = new RecycleContentAdapter(this, timelineCardContents);\n        System.out.println(timelineCardContents);\n        timeline.setAdapter(adapter);\n        home.setOnClickListener(buttonClickListenerHome);\n        profile.setOnClickListener(buttonClickListenerProfile);\n        bookings.setOnClickListener(buttonClickListenerBookings);\n        findViewById(R.id.uploadnewevent).setOnClickListener(view -&gt; {\n            Intent intent = new Intent(Home.this, UploadActivity.class);\n            Home.this.startActivity(intent);\n        });\n\n\n    }\n}\n\n</code></pre>\n<p>adapter class</p>\n<pre><code>package com.example.rsvpea;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.squareup.picasso.Picasso;\n\nimport java.util.ArrayList;\n\npublic class RecycleContentAdapter extends RecyclerView.Adapter&lt;RecycleContentAdapter.ViewHolder&gt; {\n    Context context;\n    ArrayList&lt;TimelineCardContent&gt; arrContent;\n    RecycleContentAdapter(Context context, ArrayList&lt;TimelineCardContent&gt; arrContent){\n        this.context=context;\n        this.arrContent=arrContent;\n    }\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       View v= LayoutInflater.from(context).inflate(R.layout.timeline_item, parent, false);\n        return new ViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        TimelineCardContent content = arrContent.get(position);\n        //holder.img.setImageResource(arrContent.get(position).img);\n        Picasso.get()\n                .load(content.img)\n                .into(holder.img);\n        holder.title.setText(arrContent.get(position).title);\n        holder.moreDetailsButton.setOnClickListener(v -&gt; {\n            Intent intent = new Intent(v.getContext(), MoreDetails.class);\n            v.getContext().startActivity(intent);\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return arrContent.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n        TextView title;\n        ImageView img;\n        Button moreDetailsButton;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            this.title=itemView.findViewById(R.id.title);\n            this.img=itemView.findViewById(R.id.img);\n            moreDetailsButton = itemView.findViewById(R.id.moreDetails);\n\n        }\n    }\n}\n\n</code></pre>\n<p>Here's my event model class</p>\n<pre><code>package com.example.rsvpea.Models;\n\npublic class UploadEventModel {\n    private String eventTitle, Desc, date, venue, image;\n\n    public UploadEventModel(String eventTitle, String desc, String date, String venue, String image) {\n        this.eventTitle = eventTitle;\n        this.Desc = desc;\n        this.date = date;\n        this.venue = venue;\n        this.image = image;\n    }\n    public UploadEventModel(){}\n\n    public String getEventTitle() {\n        return eventTitle;\n    }\n\n    public void setEventTitle(String eventTitle) {\n        this.eventTitle = eventTitle;\n    }\n\n    public String getDesc() {\n        return Desc;\n    }\n\n    public void setDesc(String desc) {\n        Desc = desc;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getVenue() {\n        return venue;\n    }\n\n    public void setVenue(String venue) {\n        this.venue = venue;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n}\n\n</code></pre>\n<p>in my logcat it shows ArrayList is empty</p>\n<blockquote>\n<p>2023-11-06 14:27:36.006 23637-23637 FirebaseData            com.example.rsvpea                   D  Data retrieved: 0</p>\n</blockquote>\n<p>here's the JSON file:</p>\n<pre><code>{\n  &quot;Events List&quot;: {\n    &quot;5 Nov 2023 20:43:57&quot;: {\n      &quot;date&quot;: &quot;29 feb 2024&quot;,\n      &quot;desc&quot;: &quot;birthday party for a batak&quot;,\n      &quot;eventTitle&quot;: &quot;Batak Bday&quot;,\n      &quot;image&quot;: &quot;url&quot;,\n      &quot;venue&quot;: &quot;TMA Pai&quot;\n    },\n    &quot;5 Nov 2023 23:12:29&quot;: {\n      &quot;date&quot;: &quot;40 feb 2024 &quot;,\n      &quot;desc&quot;: &quot;event description sample&quot;,\n      &quot;eventTitle&quot;: &quot;new event&quot;,\n      &quot;image&quot;: &quot;url&quot;,\n      &quot;venue&quot;: &quot;tma pai&quot;\n    },\n    &quot;6 Nov 2023 00:28:28&quot;: {\n      &quot;date&quot;: &quot;hhhs&quot;,\n      &quot;desc&quot;: &quot;hshsh&quot;,\n      &quot;eventTitle&quot;: &quot;hsha&quot;,\n      &quot;image&quot;: &quot;url&quot;\n    }\n  },\n  &quot;Users&quot;: {\n    &quot;cN0Z4YQEeoXPQKYH0lYxQegpfFE2&quot;: {\n      &quot;mail&quot;: &quot;ayu@awsm.ayu&quot;,\n      &quot;password&quot;: &quot;hello123&quot;,\n      &quot;userName&quot;: &quot;ayu&quot;\n    }\n  }\n}\n</code></pre>\n<p>app runs without giving any error but shows empty recycler view.\nany help?</p>\n<p>Instead of using model i tried doing it manually like this but that didnt work either</p>\n<pre><code>String img = itemSnapshot.child(&quot;image&quot;).getValue(String.class);\nString eventTitle = itemSnapshot.child(&quot;eventTitle&quot;).getValue(String.class);\n</code></pre>\n<p>here are my database rules</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,  // 2023-12-4\n    &quot;.write&quot;: true,  // 2023-12-4\n  }\n}\n</code></pre>\n"},{"tags":["java","ssl","javafx","https","sslhandshakeexception"],"answers":[{"tags":[],"owner":{"account_id":2733112,"reputation":125,"user_id":2356409,"display_name":"Janou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559727797,"creation_date":1559727797,"answer_id":56458003,"question_id":39507348,"body_markdown":"I had the same issue. I had to downgrade to Java 1.6 in order for the ASDM-IDM connector to work.","title":"How to resolve SSLHandshakeException on a trusted certificate?","body":"<p>I had the same issue. I had to downgrade to Java 1.6 in order for the ASDM-IDM connector to work.</p>\n"},{"tags":[],"owner":{"account_id":24913285,"reputation":11,"user_id":18782561,"display_name":"Kunalpagariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699268045,"creation_date":1699268045,"answer_id":77430532,"question_id":39507348,"body_markdown":"This issue was fixed in java 8 update 60+\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8065082","title":"How to resolve SSLHandshakeException on a trusted certificate?","body":"<p>This issue was fixed in java 8 update 60+</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8065082\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8065082</a></p>\n"}],"owner":{"account_id":3965207,"reputation":1491,"user_id":3271380,"accept_rate":80,"display_name":"ulrich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2038,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1699268045,"creation_date":1473931197,"question_id":39507348,"body_markdown":"We have a JavaFX application calling our backend on an https-secured resource. The application does several hundreds of requests in a row to the same url, to obtain data from the server.\r\n\r\nThis works without a problem usually, but now we have a customer reporting an `SSLHandshakeException` problem when connecting to the resource. He can do several hundreds of requests just fine and with the next one, the client fails with:\r\n\r\n    javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: Java couldn&#39;t trust Server \r\n    \tat sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.access$200(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection$9.run(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection$9.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.AccessController.doPrivileged(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n    \tat java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\r\n    \tat com.project.common.ws.client.HttpUrlConnectionRestClient.b(ProGuard:339)\r\n    \tat com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:227)\r\n    \tat com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:56)\r\n    \tat com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:387)\r\n    \tat com.project.projects.map.client.manager.GeomanagerWorker.readGeocodingChunk(ProGuard:5640)\r\n    \tat com.project.projects.map.client.manager.n.readGeocodingChunk(ProGuard:4337)\r\n    \tat com.project.projects.map.client.manager.modules.fx.imports.b.nF(ProGuard:199)\r\n    \tat com.project.projects.map.client.manager.modules.fx.imports.b.call(ProGuard:174)\r\n    \tat javafx.concurrent.Task$TaskCallable.call(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.security.cert.CertificateException: Java couldn&#39;t trust Server \r\n    \tat com.sun.deploy.security.X509TrustManagerDelegate.checkTrusted(Unknown Source)\r\n    \tat com.sun.deploy.security.X509Extended7DeployTrustManagerDelegate.checkServerTrusted(Unknown Source)\r\n    \tat com.sun.deploy.security.X509Extended7DeployTrustManager.checkServerTrusted(Unknown Source)\r\n    \t... 30 more\r\n\r\nOur SSL Certificate is signed by GeoTrust SSL CA - G3 and valid until December 13, 2016.\r\nThe customer client uses Java 1.8.0_40\r\n\r\nI have researched different articles. [This][1] one says, it might be related to a bug with case sensitivity of the certificate domain name. But we use all lower case on both, the certificate and the request, so should be no problem.\r\n\r\n[This][2] article shows, the problem might be related to the Java Version, because &quot;maybe the new Java version is more strictly enforcing SSL CAs&quot;.\r\nAlso it says, upgrading to newest java version might solve the problem. I didn&#39;t yet check this option, because its not always possible for a customer to just upgrade a java version due to company&#39;s IT constraints.\r\n\r\nEven more, we require Java Version 1.8 to run, so would be bad, if it doesn&#39;t work with the 1.8.0_40 version.\r\n\r\nDoes anyone know, if there is a precise reason for this problem?\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8065082\r\n  [2]: https://sourceforge.net/p/webadmin/bugs/4547/","title":"How to resolve SSLHandshakeException on a trusted certificate?","body":"<p>We have a JavaFX application calling our backend on an https-secured resource. The application does several hundreds of requests in a row to the same url, to obtain data from the server.</p>\n\n<p>This works without a problem usually, but now we have a customer reporting an <code>SSLHandshakeException</code> problem when connecting to the resource. He can do several hundreds of requests just fine and with the next one, the client fails with:</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: Java couldn't trust Server \n    at sun.security.ssl.Alerts.getSSLException(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n    at sun.security.ssl.Handshaker.processLoop(Unknown Source)\n    at sun.security.ssl.Handshaker.process_record(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.access$200(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection$9.run(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection$9.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.AccessController.doPrivileged(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\n    at com.project.common.ws.client.HttpUrlConnectionRestClient.b(ProGuard:339)\n    at com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:227)\n    at com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:56)\n    at com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:387)\n    at com.project.projects.map.client.manager.GeomanagerWorker.readGeocodingChunk(ProGuard:5640)\n    at com.project.projects.map.client.manager.n.readGeocodingChunk(ProGuard:4337)\n    at com.project.projects.map.client.manager.modules.fx.imports.b.nF(ProGuard:199)\n    at com.project.projects.map.client.manager.modules.fx.imports.b.call(ProGuard:174)\n    at javafx.concurrent.Task$TaskCallable.call(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.security.cert.CertificateException: Java couldn't trust Server \n    at com.sun.deploy.security.X509TrustManagerDelegate.checkTrusted(Unknown Source)\n    at com.sun.deploy.security.X509Extended7DeployTrustManagerDelegate.checkServerTrusted(Unknown Source)\n    at com.sun.deploy.security.X509Extended7DeployTrustManager.checkServerTrusted(Unknown Source)\n    ... 30 more\n</code></pre>\n\n<p>Our SSL Certificate is signed by GeoTrust SSL CA - G3 and valid until December 13, 2016.\nThe customer client uses Java 1.8.0_40</p>\n\n<p>I have researched different articles. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8065082\" rel=\"nofollow\">This</a> one says, it might be related to a bug with case sensitivity of the certificate domain name. But we use all lower case on both, the certificate and the request, so should be no problem.</p>\n\n<p><a href=\"https://sourceforge.net/p/webadmin/bugs/4547/\" rel=\"nofollow\">This</a> article shows, the problem might be related to the Java Version, because \"maybe the new Java version is more strictly enforcing SSL CAs\".\nAlso it says, upgrading to newest java version might solve the problem. I didn't yet check this option, because its not always possible for a customer to just upgrade a java version due to company's IT constraints.</p>\n\n<p>Even more, we require Java Version 1.8 to run, so would be bad, if it doesn't work with the 1.8.0_40 version.</p>\n\n<p>Does anyone know, if there is a precise reason for this problem?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":28368661,"reputation":86,"user_id":21697614,"display_name":"Nandish Chauhan "},"score":0,"creation_date":1687246639,"post_id":76039248,"comment_id":134905728,"body_markdown":"Did you get your answer ?","body":"Did you get your answer ?"}],"answers":[{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1699267023,"post_id":77430380,"comment_id":136505567,"body_markdown":"not must, should, It is said htat record are ideal but the requirement is having a cosntructor with the needed attributes &quot;Alternatively, you can use any class that defines the properties you want to project.&quot;","body":"not must, should, It is said htat record are ideal but the requirement is having a cosntructor with the needed attributes &quot;Alternatively, you can use any class that defines the properties you want to project.&quot;"},{"owner":{"account_id":308156,"reputation":13682,"user_id":619860,"accept_rate":80,"display_name":"Hoa Nguyen"},"score":0,"creation_date":1699267674,"post_id":77430380,"comment_id":136505678,"body_markdown":"@pdem - I think the problem has something to do with the hibernate behind also. In my case, I use hibernate 6.3.1, (6.2.9 before) and in both cases, I can only use record. I mean, Spring supports both ways, but maybe it&#39;s not the case for Hibernate here. I can only see their not-much-related doc here - https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#hql-select-clause","body":"@pdem - I think the problem has something to do with the hibernate behind also. In my case, I use hibernate 6.3.1, (6.2.9 before) and in both cases, I can only use record. I mean, Spring supports both ways, but maybe it&#39;s not the case for Hibernate here. I can only see their not-much-related doc here - <a href=\"https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#hql-select-clause\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.3/userguide/html_single/&hellip;</a>"}],"tags":[],"owner":{"account_id":308156,"reputation":13682,"user_id":619860,"accept_rate":80,"display_name":"Hoa Nguyen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699267863,"creation_date":1699266540,"answer_id":77430380,"question_id":76039248,"body_markdown":"From the [jpa reference guide][1], `record` should be used for Class-based Projections (DTOs) (Check their example with NamesOnly - note that **`record` is a valid keyword since java 14**). As a result, you can redefine your DTO as below:\r\n\r\n    public record IndividualDTO (\r\n    \t// variable 1\r\n    \t// variable 2\r\n    ) {}\r\n\r\nThen, the below query will work:\r\n\r\n    individualDtoResponse = \r\n    \tindividualRepository.findById(existingIndividual.getId(), IndividualDTO.class);\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos","title":"Upgrading from Spring Boot 2.6.7 to 3.0.5 Spring Data JPA Dynamic Projection errors at Runtime","body":"<p>From the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos\" rel=\"nofollow noreferrer\">jpa reference guide</a>, <code>record</code> should be used for Class-based Projections (DTOs) (Check their example with NamesOnly - note that <strong><code>record</code> is a valid keyword since java 14</strong>). As a result, you can redefine your DTO as below:</p>\n<pre><code>public record IndividualDTO (\n    // variable 1\n    // variable 2\n) {}\n</code></pre>\n<p>Then, the below query will work:</p>\n<pre><code>individualDtoResponse = \n    individualRepository.findById(existingIndividual.getId(), IndividualDTO.class);\n</code></pre>\n"}],"owner":{"account_id":7402987,"reputation":49,"user_id":5632784,"display_name":"03T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699267863,"creation_date":1681765083,"question_id":76039248,"body_markdown":"In trying to upgrade from Spring Boot 2.6.7 to 3.0.5, my Dynamic Projection code that has been working for quite some time now fails with errors at runtime.  It doesn&#39;t matter if it&#39;s just a JPA Query Method or an @Query annotated method.  The reference docs still show examples of doing this for JPA, though I do see the [Note](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos) in this section that seems to indicate Dynamic Projections no longer work with @Query.  Is that correct?  Is this called out and explained anywhere other than in this Note?\r\n\r\n```\r\n// WAS - this is what has worked, and I would like to keep\r\n// individualDtoResponse = individualRepository.findById(existingIndividual.getId(), IndividualDTO.class);\r\n\r\n// NOW - a workaround hack thats ugly!\r\nIndividual temp = individualRepository.findById(existingIndividual.getId(), Individual.class);\r\nindividualDtoResponse = new IndividualDTO(temp);\r\n```\r\n\r\n```\r\n// Repo / Query Method\r\n@Repository\r\npublic interface IndividualRepository extends JpaRepositoryRep&lt;Individual, Integer&gt;\r\n{\r\n    &lt;T&gt; T findById(Integer id, Class&lt;T&gt; projection);\r\n\r\n```\r\n\r\n```\r\norg.springframework.orm.jpa.JpaSystemException: Specified result type [...IndividualDTO] did not match Query selection type [...Individual] - multiple selections: use Tuple or array\r\n```\r\n\r\nAll I&#39;ve found using my Google fu is [this question](https://stackoverflow.com/questions/75169414/hibernate-6-regression-with-generics) that sounds related, but I&#39;m using Spring Data JPA not CriteraBuilder.\r\n\r\nCan you help me identify the problem and how do I fix it?  Is there a doc or guide I&#39;m just not finding?","title":"Upgrading from Spring Boot 2.6.7 to 3.0.5 Spring Data JPA Dynamic Projection errors at Runtime","body":"<p>In trying to upgrade from Spring Boot 2.6.7 to 3.0.5, my Dynamic Projection code that has been working for quite some time now fails with errors at runtime.  It doesn't matter if it's just a JPA Query Method or an @Query annotated method.  The reference docs still show examples of doing this for JPA, though I do see the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos\" rel=\"nofollow noreferrer\">Note</a> in this section that seems to indicate Dynamic Projections no longer work with @Query.  Is that correct?  Is this called out and explained anywhere other than in this Note?</p>\n<pre><code>// WAS - this is what has worked, and I would like to keep\n// individualDtoResponse = individualRepository.findById(existingIndividual.getId(), IndividualDTO.class);\n\n// NOW - a workaround hack thats ugly!\nIndividual temp = individualRepository.findById(existingIndividual.getId(), Individual.class);\nindividualDtoResponse = new IndividualDTO(temp);\n</code></pre>\n<pre><code>// Repo / Query Method\n@Repository\npublic interface IndividualRepository extends JpaRepositoryRep&lt;Individual, Integer&gt;\n{\n    &lt;T&gt; T findById(Integer id, Class&lt;T&gt; projection);\n\n</code></pre>\n<pre><code>org.springframework.orm.jpa.JpaSystemException: Specified result type [...IndividualDTO] did not match Query selection type [...Individual] - multiple selections: use Tuple or array\n</code></pre>\n<p>All I've found using my Google fu is <a href=\"https://stackoverflow.com/questions/75169414/hibernate-6-regression-with-generics\">this question</a> that sounds related, but I'm using Spring Data JPA not CriteraBuilder.</p>\n<p>Can you help me identify the problem and how do I fix it?  Is there a doc or guide I'm just not finding?</p>\n"},{"tags":["java","reactjs","spring","spring-boot","okta-api"],"comments":[{"owner":{"account_id":25538,"reputation":8293,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1699282943,"post_id":77430198,"comment_id":136508736,"body_markdown":"Can you upgrade to okta-spring-boot-starter v3.0.5 and see if that helps? v2.1.6 doesn&#39;t support Spring Boot 3. You can see what&#39;s changed between releases at https://github.com/okta/okta-spring-boot/releases.","body":"Can you upgrade to okta-spring-boot-starter v3.0.5 and see if that helps? v2.1.6 doesn&#39;t support Spring Boot 3. You can see what&#39;s changed between releases at <a href=\"https://github.com/okta/okta-spring-boot/releases\" rel=\"nofollow noreferrer\">github.com/okta/okta-spring-boot/releases</a>."}],"owner":{"account_id":14545713,"reputation":129,"user_id":10506005,"display_name":"Kalamazoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1699267623,"creation_date":1699264812,"question_id":77430198,"body_markdown":"I am working on a react and springboot application and am getting 401 error whenever I make a call to this endpoint [![enter image description here][1]][1] Other endpoints are working fine. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mDeZ2.png\r\n\r\nI&#39;m not too sure what&#39;s causing the issue. \r\n\r\nI have 2 configuration files as follows: \r\n\r\nDataRestConfig.java\r\n```\r\npackage com.luv2code.springbootlibrary.config;\r\n\r\nimport com.luv2code.springbootlibrary.entity.Book;\r\nimport com.luv2code.springbootlibrary.entity.Review;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\r\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n\r\n@Configuration\r\npublic class MyDataRestConfig implements RepositoryRestConfigurer {\r\n    private String theAllowedOrigins = &quot;http://localhost:3000&quot;;\r\n    @Override\r\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\r\n        HttpMethod[] theUnsupportedActions = {HttpMethod.POST,HttpMethod.PATCH,HttpMethod.DELETE,HttpMethod.PUT };\r\n        config.exposeIdsFor(Book.class);\r\n        config.exposeIdsFor(Review.class);\r\n        disableHttpMethods(Book.class, config, theUnsupportedActions);\r\n        disableHttpMethods(Review.class, config, theUnsupportedActions);\r\n\r\n//        Configure CORS Mapping\r\n        cors.addMapping(config.getBasePath() + &quot;/**&quot;)\r\n                .allowedOrigins(theAllowedOrigins);\r\n    }\r\n\r\n    private void disableHttpMethods(Class theClass, RepositoryRestConfiguration config, HttpMethod[] theUnsupportedActions) {\r\n        config.getExposureConfiguration()\r\n                .forDomainType(theClass)\r\n                .withItemExposure((metadata, httpMethods) -&gt; httpMethods.disable(theUnsupportedActions))\r\n                .withCollectionExposure((metadata, httpMethods) -&gt; httpMethods.disable(theUnsupportedActions));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nSecurityConfiguration.java\r\n\r\n```\r\npackage com.luv2code.springbootlibrary.config;\r\n\r\nimport com.okta.spring.boot.oauth.Okta;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.web.accept.ContentNegotiationStrategy;\r\nimport org.springframework.web.accept.HeaderContentNegotiationStrategy;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\n\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        // Disable cross site request forgery\r\n        http.csrf(csrf -&gt; csrf.disable())\r\n\r\n                .cors(cors -&gt; {\r\n                    cors.configurationSource(corsConfigurationSource());\r\n                })\r\n\r\n                // Protect endpoints at /api/&lt;type&gt;/secure\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/books/secure/**&quot;).authenticated())\r\n                .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n                        .jwt(Customizer.withDefaults())\r\n                )\r\n\r\n                // Add content negotiation strategy\r\n                .setSharedObject(ContentNegotiationStrategy.class,\r\n                        new HeaderContentNegotiationStrategy());\r\n        return http.build(); \r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.addAllowedOrigin(&quot;http://localhost:3000&quot;);\r\n        configuration.addAllowedMethod(&quot;*&quot;);\r\n        configuration.addAllowedHeader(&quot;*&quot;);\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new\r\n                UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI am using okta-spring-boot-starter v2.1.6 and spring-boot-starter-parent v3.1.4.\r\n\r\nBookRepository.java\r\n```\r\npackage com.luv2code.springbootlibrary.dao;\r\n\r\nimport com.luv2code.springbootlibrary.entity.Book;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n\r\n\r\n\r\npublic interface BookRepository extends JpaRepository&lt;Book,Long&gt; {\r\n    Page&lt;Book&gt; findByTitleContaining(@RequestParam(&quot;title&quot;) String title, Pageable pageable);\r\n\r\n    Page&lt;Book&gt; findByCategory(@RequestParam(&quot;category&quot;) String category, Pageable pageable);\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nBookController.java\r\n```\r\npackage com.luv2code.springbootlibrary.controller;\r\n\r\nimport com.luv2code.springbootlibrary.entity.Book;\r\nimport com.luv2code.springbootlibrary.service.BookService;\r\nimport com.luv2code.springbootlibrary.utils.ExtractJWT;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@CrossOrigin(&quot;http://localhost:3000&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/api/books&quot;)\r\npublic class BookController {\r\n\r\n    private BookService bookService;\r\n\r\n    @Autowired //allows you to create Bean without using new keyword\r\n    public BookController(BookService bookService) {\r\n        this.bookService = bookService;\r\n    }\r\n\r\n    @GetMapping(&quot;/secure/currentloans/count&quot;)\r\n    public int currentLoansCount(@RequestHeader(value=&quot;Authorization&quot;) String token) {\r\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\r\n        return bookService.currentLoansCount(userEmail);\r\n    }\r\n\r\n    @GetMapping(&quot;/secure/ischeckedout/byuser&quot;)\r\n    public Boolean checkoutBookByUser(@RequestHeader(value=&quot;Authorization&quot;) String token,\r\n    @RequestParam Long bookId) {\r\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\r\n//        System.out.println(&quot;user &quot; + userEmail);\r\n        return bookService.checkoutBookByUser(userEmail, bookId);\r\n    }\r\n\r\n    @PutMapping(&quot;/secure/checkout&quot;)\r\n    public Book checkoutBook(@RequestHeader(value=&quot;Authorization&quot;) String token,\r\n    @RequestParam Long bookId) throws Exception {\r\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\r\n        return bookService.checkoutBook(userEmail, bookId);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAppreciate my help or ideas, thanks!","title":"springboot x react - Okta OAuth2 (401 error API)","body":"<p>I am working on a react and springboot application and am getting 401 error whenever I make a call to this endpoint <a href=\"https://i.stack.imgur.com/mDeZ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mDeZ2.png\" alt=\"enter image description here\" /></a> Other endpoints are working fine.</p>\n<p>I'm not too sure what's causing the issue.</p>\n<p>I have 2 configuration files as follows:</p>\n<p>DataRestConfig.java</p>\n<pre><code>package com.luv2code.springbootlibrary.config;\n\nimport com.luv2code.springbootlibrary.entity.Book;\nimport com.luv2code.springbootlibrary.entity.Review;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\n\n@Configuration\npublic class MyDataRestConfig implements RepositoryRestConfigurer {\n    private String theAllowedOrigins = &quot;http://localhost:3000&quot;;\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\n        HttpMethod[] theUnsupportedActions = {HttpMethod.POST,HttpMethod.PATCH,HttpMethod.DELETE,HttpMethod.PUT };\n        config.exposeIdsFor(Book.class);\n        config.exposeIdsFor(Review.class);\n        disableHttpMethods(Book.class, config, theUnsupportedActions);\n        disableHttpMethods(Review.class, config, theUnsupportedActions);\n\n//        Configure CORS Mapping\n        cors.addMapping(config.getBasePath() + &quot;/**&quot;)\n                .allowedOrigins(theAllowedOrigins);\n    }\n\n    private void disableHttpMethods(Class theClass, RepositoryRestConfiguration config, HttpMethod[] theUnsupportedActions) {\n        config.getExposureConfiguration()\n                .forDomainType(theClass)\n                .withItemExposure((metadata, httpMethods) -&gt; httpMethods.disable(theUnsupportedActions))\n                .withCollectionExposure((metadata, httpMethods) -&gt; httpMethods.disable(theUnsupportedActions));\n    }\n\n}\n\n</code></pre>\n<p>SecurityConfiguration.java</p>\n<pre><code>package com.luv2code.springbootlibrary.config;\n\nimport com.okta.spring.boot.oauth.Okta;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.web.accept.ContentNegotiationStrategy;\nimport org.springframework.web.accept.HeaderContentNegotiationStrategy;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\n\n@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        // Disable cross site request forgery\n        http.csrf(csrf -&gt; csrf.disable())\n\n                .cors(cors -&gt; {\n                    cors.configurationSource(corsConfigurationSource());\n                })\n\n                // Protect endpoints at /api/&lt;type&gt;/secure\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/books/secure/**&quot;).authenticated())\n                .oauth2ResourceServer((oauth2) -&gt; oauth2\n                        .jwt(Customizer.withDefaults())\n                )\n\n                // Add content negotiation strategy\n                .setSharedObject(ContentNegotiationStrategy.class,\n                        new HeaderContentNegotiationStrategy());\n        return http.build(); \n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.addAllowedOrigin(&quot;http://localhost:3000&quot;);\n        configuration.addAllowedMethod(&quot;*&quot;);\n        configuration.addAllowedHeader(&quot;*&quot;);\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new\n                UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n\n}\n</code></pre>\n<p>I am using okta-spring-boot-starter v2.1.6 and spring-boot-starter-parent v3.1.4.</p>\n<p>BookRepository.java</p>\n<pre><code>package com.luv2code.springbootlibrary.dao;\n\nimport com.luv2code.springbootlibrary.entity.Book;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n\n\n\npublic interface BookRepository extends JpaRepository&lt;Book,Long&gt; {\n    Page&lt;Book&gt; findByTitleContaining(@RequestParam(&quot;title&quot;) String title, Pageable pageable);\n\n    Page&lt;Book&gt; findByCategory(@RequestParam(&quot;category&quot;) String category, Pageable pageable);\n\n\n}\n\n</code></pre>\n<p>BookController.java</p>\n<pre><code>package com.luv2code.springbootlibrary.controller;\n\nimport com.luv2code.springbootlibrary.entity.Book;\nimport com.luv2code.springbootlibrary.service.BookService;\nimport com.luv2code.springbootlibrary.utils.ExtractJWT;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\n@CrossOrigin(&quot;http://localhost:3000&quot;)\n@RestController\n@RequestMapping(&quot;/api/books&quot;)\npublic class BookController {\n\n    private BookService bookService;\n\n    @Autowired //allows you to create Bean without using new keyword\n    public BookController(BookService bookService) {\n        this.bookService = bookService;\n    }\n\n    @GetMapping(&quot;/secure/currentloans/count&quot;)\n    public int currentLoansCount(@RequestHeader(value=&quot;Authorization&quot;) String token) {\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\n        return bookService.currentLoansCount(userEmail);\n    }\n\n    @GetMapping(&quot;/secure/ischeckedout/byuser&quot;)\n    public Boolean checkoutBookByUser(@RequestHeader(value=&quot;Authorization&quot;) String token,\n    @RequestParam Long bookId) {\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\n//        System.out.println(&quot;user &quot; + userEmail);\n        return bookService.checkoutBookByUser(userEmail, bookId);\n    }\n\n    @PutMapping(&quot;/secure/checkout&quot;)\n    public Book checkoutBook(@RequestHeader(value=&quot;Authorization&quot;) String token,\n    @RequestParam Long bookId) throws Exception {\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\n        return bookService.checkoutBook(userEmail, bookId);\n    }\n\n}\n</code></pre>\n<p>Appreciate my help or ideas, thanks!</p>\n"},{"tags":["java","itext","itext7"],"answers":[{"comments":[{"owner":{"account_id":8025269,"reputation":151,"user_id":6052501,"accept_rate":50,"display_name":"The Newbie"},"score":0,"creation_date":1484271930,"post_id":41608146,"comment_id":70453266,"body_markdown":"I tried this one sir but an error occurred in &quot;cell.setBorder(Border.NO_BORDER)&quot; saying CANNOT FIND SYMBOL &quot;NO_BORDER&quot;","body":"I tried this one sir but an error occurred in &quot;cell.setBorder(Border.NO_BORDER)&quot; saying CANNOT FIND SYMBOL &quot;NO_BORDER&quot;"},{"owner":{"account_id":8025269,"reputation":151,"user_id":6052501,"accept_rate":50,"display_name":"The Newbie"},"score":0,"creation_date":1484273522,"post_id":41608146,"comment_id":70453667,"body_markdown":"ah sorry my problem. import problem. tnxxx","body":"ah sorry my problem. import problem. tnxxx"},{"owner":{"account_id":957889,"reputation":18106,"user_id":982865,"accept_rate":94,"display_name":"Evgenij Reznik"},"score":3,"creation_date":1556794405,"post_id":41608146,"comment_id":98553853,"body_markdown":"As per [iText 7.1.6](http://itextsupport.com/apidocs/itext7/7.1.6/com/itextpdf/layout/element/Cell.html) you can&#39;t add a `String` to `Cell` anymore, only `IBlockElement` or `Image`.","body":"As per <a href=\"http://itextsupport.com/apidocs/itext7/7.1.6/com/itextpdf/layout/element/Cell.html\" rel=\"nofollow noreferrer\">iText 7.1.6</a> you can&#39;t add a <code>String</code> to <code>Cell</code> anymore, only <code>IBlockElement</code> or <code>Image</code>."},{"owner":{"account_id":117463,"reputation":221,"user_id":1118937,"display_name":"alex"},"score":1,"creation_date":1585262310,"post_id":41608146,"comment_id":107706754,"body_markdown":"iText 7.1.10 with C# you can do it that way:  .table.AddCell(new Cell().Add(new Paragraph(&quot;contents&quot;).SetBorder(Border.NO_BORDER)));","body":"iText 7.1.10 with C# you can do it that way:  .table.AddCell(new Cell().Add(new Paragraph(&quot;contents&quot;).SetBorder(Border.NO_BORDER)));"}],"tags":[],"owner":{"account_id":8178327,"reputation":1669,"user_id":6156384,"display_name":"Samuel Huylebroeck"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1556793815,"creation_date":1484209093,"answer_id":41608146,"question_id":41607891,"body_markdown":"The table itself is by default not responsible for borders in iText7, the cells are. You need to set every cell to be borderless if you want a borderless table (or set the outer cells to have no border on the edge if you still want inside borders).\r\n\r\n    Cell cell = new Cell();\r\n    cell.add(&quot;contents go here&quot;);\r\n    cell.setBorder(Border.NO_BORDER);\r\n    table.addCell(cell);\r\n\r\n","title":"iText 7 borderless table (no border)","body":"<p>The table itself is by default not responsible for borders in iText7, the cells are. You need to set every cell to be borderless if you want a borderless table (or set the outer cells to have no border on the edge if you still want inside borders).</p>\n\n<pre><code>Cell cell = new Cell();\ncell.add(\"contents go here\");\ncell.setBorder(Border.NO_BORDER);\ntable.addCell(cell);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5880,"reputation":37536,"user_id":9664,"accept_rate":89,"display_name":"Metro Smurf"},"score":1,"creation_date":1670335129,"post_id":60119530,"comment_id":131848967,"body_markdown":"Very convenient. I&#39;d suggest a bit more type safety with: `table.GetChildren().OfType&lt;Cell&gt;()`","body":"Very convenient. I&#39;d suggest a bit more type safety with: <code>table.GetChildren().OfType&lt;Cell&gt;()</code>"}],"tags":[],"owner":{"account_id":2166956,"reputation":111,"user_id":1919880,"display_name":"Netzmensch"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1581101938,"creation_date":1581101938,"answer_id":60119530,"question_id":41607891,"body_markdown":"You could write a method which runs though all children of a Table and sets NO_BORDER.\r\n\r\n    private static void RemoveBorder(Table table)\r\n    {\r\n        for (IElement iElement : table.getChildren()) {\r\n            ((Cell)iElement).setBorder(Border.NO_BORDER);\r\n        }\r\n    }\r\n\r\nThis gives you the advantage that you can still use \r\n\r\n    table.add(&quot;whatever&quot;);\r\n    table.add(&quot;whatever&quot;);\r\n    RemoveBorder(table);\r\n\r\ninstead of changing it on all cells manual.","title":"iText 7 borderless table (no border)","body":"<p>You could write a method which runs though all children of a Table and sets NO_BORDER.</p>\n\n<pre><code>private static void RemoveBorder(Table table)\n{\n    for (IElement iElement : table.getChildren()) {\n        ((Cell)iElement).setBorder(Border.NO_BORDER);\n    }\n}\n</code></pre>\n\n<p>This gives you the advantage that you can still use </p>\n\n<pre><code>table.add(\"whatever\");\ntable.add(\"whatever\");\nRemoveBorder(table);\n</code></pre>\n\n<p>instead of changing it on all cells manual.</p>\n"},{"tags":[],"owner":{"account_id":13873126,"reputation":66,"user_id":10015628,"display_name":"Guust"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699267346,"creation_date":1699267346,"answer_id":77430457,"question_id":41607891,"body_markdown":"An utility function I define in my java code bases is the following:\r\n\r\n\r\n    private static void setInnerCellBorder(Table table, Border border) {\r\n        for (IElement child : table.getChildren()) {\r\n            if (child instanceof Cell) {\r\n                ((Cell) child).setBorder(border);\r\n            }\r\n        }\r\n    }\r\n\r\nThen if you want no borders you can call the function as follows: \r\n\r\n    setInnerCellBorder(table, Border.NO_BORDER);\r\n    // or if you want a different color size you can do \r\n    setInnerCellBorder(Table, new SolidBorder(ColorConstants.RED, 2));\r\n","title":"iText 7 borderless table (no border)","body":"<p>An utility function I define in my java code bases is the following:</p>\n<pre><code>private static void setInnerCellBorder(Table table, Border border) {\n    for (IElement child : table.getChildren()) {\n        if (child instanceof Cell) {\n            ((Cell) child).setBorder(border);\n        }\n    }\n}\n</code></pre>\n<p>Then if you want no borders you can call the function as follows:</p>\n<pre><code>setInnerCellBorder(table, Border.NO_BORDER);\n// or if you want a different color size you can do \nsetInnerCellBorder(Table, new SolidBorder(ColorConstants.RED, 2));\n</code></pre>\n"}],"owner":{"account_id":8025269,"reputation":151,"user_id":6052501,"accept_rate":50,"display_name":"The Newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14659,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":41608146,"answer_count":3,"score":9,"last_activity_date":1699267346,"creation_date":1484208074,"question_id":41607891,"body_markdown":"This code below does not work.     \r\n\r\n```lang-java\r\nTable table = new Table(2); \r\ntable.setBorder(Border.NO_BORDER);\r\n```\r\n\r\nI am new to iText 7 and all I wanted is to have my table borderless.\r\nLike how to do it?","title":"iText 7 borderless table (no border)","body":"<p>This code below does not work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Table table = new Table(2); \ntable.setBorder(Border.NO_BORDER);\n</code></pre>\n<p>I am new to iText 7 and all I wanted is to have my table borderless.\nLike how to do it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4187371,"reputation":4966,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"score":0,"creation_date":1473951799,"post_id":39514267,"comment_id":66344668,"body_markdown":"http://stackoverflow.com/questions/632204/java-string-replace-using-regular-expressions","body":"<a href=\"http://stackoverflow.com/questions/632204/java-string-replace-using-regular-expressions\" title=\"java string replace using regular expressions\">stackoverflow.com/questions/632204/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":483424,"reputation":1865,"user_id":898457,"accept_rate":100,"display_name":"Alex Semeniuk"},"score":3,"creation_date":1511429045,"post_id":39514400,"comment_id":81858347,"body_markdown":"Do you know whether there is a possibility to perform some transformation on this group, like so: `replaceAll(&quot;[dx]([A-Z][a-zA-Z]+)&quot;, someMethod(&quot;$1&quot;))` ? (obviously, this code does not work - maybe there is some other trick to this)","body":"Do you know whether there is a possibility to perform some transformation on this group, like so: <code>replaceAll(&quot;[dx]([A-Z][a-zA-Z]+)&quot;, someMethod(&quot;$1&quot;))</code> ? (obviously, this code does not work - maybe there is some other trick to this)"},{"owner":{"account_id":6354004,"reputation":1106,"user_id":4932012,"accept_rate":100,"display_name":"Matti VM"},"score":1,"creation_date":1699266876,"post_id":39514400,"comment_id":136505530,"body_markdown":"@AlexSemeniuk I have added an answer that has the ability to apply some additional transformation to the group. (The downside is that it only works in Java 9 or newer.)","body":"@AlexSemeniuk I have added an answer that has the ability to apply some additional transformation to the group. (The downside is that it only works in Java 9 or newer.)"}],"tags":[],"owner":{"account_id":4963389,"reputation":72161,"user_id":3993662,"accept_rate":93,"display_name":"baao"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1473952031,"creation_date":1473951753,"answer_id":39514400,"question_id":39514267,"body_markdown":"Using `replaceAll()` works well. Just pick what you want to keep ( the part in brackets `()` ), and replace by using `$1`\r\n\r\n    String f = s.replaceAll(&quot;[dx]([A-Z][a-zA-Z]+)&quot;, &quot;$1&quot;);\r\n    \r\nOutput\r\n\r\n    DLMContent &lt;matches&gt; something &lt;and&gt; SecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\r\n\r\n","title":"Replace all regex matches in String with substring of match","body":"<p>Using <code>replaceAll()</code> works well. Just pick what you want to keep ( the part in brackets <code>()</code> ), and replace by using <code>$1</code></p>\n\n<pre><code>String f = s.replaceAll(\"[dx]([A-Z][a-zA-Z]+)\", \"$1\");\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>DLMContent &lt;matches&gt; something &lt;and&gt; SecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6354004,"reputation":1106,"user_id":4932012,"accept_rate":100,"display_name":"Matti VM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699267059,"creation_date":1699266679,"answer_id":77430396,"question_id":39514267,"body_markdown":"Since Java 9 [Matcher.replaceAll(Function)][1] is available on the [Matcher class][2]. If you want to do some extra transformation on the matched groups, then you can do something like this:\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Playground {\r\n\r\n        public static void main(String[] args) {\r\n            String input = &quot;xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse&quot;;\r\n            String output = Pattern.compile(&quot;[dx]([A-Z][a-zA-Z]+)&quot;).matcher(input).replaceAll(m -&gt; transformation(m.group(1)));\r\n            System.out.println(output);\r\n        }\r\n\r\n        public static String transformation(String input) {\r\n            return input.concat(&quot;-extra&quot;);\r\n        }\r\n    }\r\n\r\nThis will print:\r\n\r\n    DLMContent-extra &lt;matches&gt; something &lt;and&gt; SecurityGroup-extra &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField-extra &lt;matches&gt; anothersomethingelse\r\n\r\nSome more info:\r\n- `m.group()` gives you the whole matched value: `[dx]([A-Z][a-zA-Z]+)` for example `xDLMContent` \r\n- `m.group(1)` gives you the first group of the matched value: `([A-Z][a-zA-Z]+)` for example `DLMContent`\r\n\r\nIf you don&#39;t need the additional transformation, then you can just do: \r\n\r\n    .replaceAll(m -&gt; m.group(1))\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html","title":"Replace all regex matches in String with substring of match","body":"<p>Since Java 9 <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"nofollow noreferrer\">Matcher.replaceAll(Function)</a> is available on the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher class</a>. If you want to do some extra transformation on the matched groups, then you can do something like this:</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class Playground {\n\n    public static void main(String[] args) {\n        String input = &quot;xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse&quot;;\n        String output = Pattern.compile(&quot;[dx]([A-Z][a-zA-Z]+)&quot;).matcher(input).replaceAll(m -&gt; transformation(m.group(1)));\n        System.out.println(output);\n    }\n\n    public static String transformation(String input) {\n        return input.concat(&quot;-extra&quot;);\n    }\n}\n</code></pre>\n<p>This will print:</p>\n<pre><code>DLMContent-extra &lt;matches&gt; something &lt;and&gt; SecurityGroup-extra &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField-extra &lt;matches&gt; anothersomethingelse\n</code></pre>\n<p>Some more info:</p>\n<ul>\n<li><code>m.group()</code> gives you the whole matched value: <code>[dx]([A-Z][a-zA-Z]+)</code> for example <code>xDLMContent</code></li>\n<li><code>m.group(1)</code> gives you the first group of the matched value: <code>([A-Z][a-zA-Z]+)</code> for example <code>DLMContent</code></li>\n</ul>\n<p>If you don't need the additional transformation, then you can just do:</p>\n<pre><code>.replaceAll(m -&gt; m.group(1))\n</code></pre>\n"}],"owner":{"account_id":272779,"reputation":5565,"user_id":564045,"accept_rate":78,"display_name":"PDStat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39514400,"answer_count":2,"score":1,"last_activity_date":1699267059,"creation_date":1473951361,"question_id":39514267,"body_markdown":"Just wondering if there&#39;s a nicer solution to this given a String such as\r\n\r\n    xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\r\n\r\nIt needs to be replaced with\r\n\r\n    DLMContent &lt;matches&gt; something &lt;and&gt; SecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\r\n\r\nRule being metadata fields begin with x or d followed by uppercase letter and then 1 or more mixed case alpha characters.\r\n\r\nHere&#39;s my solution but I&#39;m wondering if there&#39;s something better\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;[dx][A-Z][a-zA-Z]+&quot;);\r\n        Matcher matcher = pattern.match(s);\r\n        while (matcher.find()) {\r\n            String orig = s.substring(matcher.start(), matcher.end());\r\n            String rep = s.substring(matcher.start() + 1, matcher.end());\r\n            s = s.replaceAll(orig, rep);\r\n            matcher = pattern.match(s);\r\n        }\r\n\r\n        System.out.println(s);\r\n    }\r\n","title":"Replace all regex matches in String with substring of match","body":"<p>Just wondering if there's a nicer solution to this given a String such as</p>\n\n<pre><code>xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\n</code></pre>\n\n<p>It needs to be replaced with</p>\n\n<pre><code>DLMContent &lt;matches&gt; something &lt;and&gt; SecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\n</code></pre>\n\n<p>Rule being metadata fields begin with x or d followed by uppercase letter and then 1 or more mixed case alpha characters.</p>\n\n<p>Here's my solution but I'm wondering if there's something better</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\";\n    Pattern pattern = Pattern.compile(\"[dx][A-Z][a-zA-Z]+\");\n    Matcher matcher = pattern.match(s);\n    while (matcher.find()) {\n        String orig = s.substring(matcher.start(), matcher.end());\n        String rep = s.substring(matcher.start() + 1, matcher.end());\n        s = s.replaceAll(orig, rep);\n        matcher = pattern.match(s);\n    }\n\n    System.out.println(s);\n}\n</code></pre>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1699266990,"post_id":77430382,"comment_id":136505559,"body_markdown":"If you explain what is the issue, maybe someone will be able to actually help.","body":"If you explain what is the issue, maybe someone will be able to actually help."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1699266997,"post_id":77430382,"comment_id":136505561,"body_markdown":"It depends on the site you&#39;re loading. If it supports plain `http` (which it shouldn&#39;t, it&#39;s 2023), then it will just load over http. If it doesn&#39;t, then it&#39;ll probably forward you to the `https` variant (which is the correct thing to do).","body":"It depends on the site you&#39;re loading. If it supports plain <code>http</code> (which it shouldn&#39;t, it&#39;s 2023), then it will just load over http. If it doesn&#39;t, then it&#39;ll probably forward you to the <code>https</code> variant (which is the correct thing to do)."},{"owner":{"account_id":9584826,"reputation":7,"user_id":7118018,"display_name":"HelloCH"},"score":0,"creation_date":1699270150,"post_id":77430382,"comment_id":136506109,"body_markdown":"thank you for the reply . I get this error &quot;net::ERR_CLEARTEXT_NOT_PERMITTED&quot;","body":"thank you for the reply . I get this error &quot;net::ERR_CLEARTEXT_NOT_PERMITTED&quot;"}],"owner":{"account_id":9584826,"reputation":7,"user_id":7118018,"display_name":"HelloCH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699271445,"answer_count":0,"score":0,"last_activity_date":1699266761,"creation_date":1699266554,"question_id":77430382,"body_markdown":"This Java code is a part of my Android Studio project, where I&#39;m facing a specific challenge. I need to load a website using the &quot;http&quot; protocol, rather than the more secure &quot;https&quot; protocol. To accomplish this, I&#39;ve utilized the Android WebView component, which allows embedding web content within the application. However, I&#39;ve encountered issues with this task. please help me \r\n\r\n\r\n\r\n    package com.example.chatgpt;\r\n    import android.os.Bundle;\r\n    import android.webkit.SslErrorHandler;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.net.http.SslError;\r\n    import android.os.Build;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private WebView webView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            webView = findViewById(R.id.webView);\r\n            webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\r\n            String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&quot;;\r\n            webView.getSettings().setUserAgentString(userAgent);\r\n    \r\n            webView.setWebViewClient(new WebViewClient() {\r\n                @Override\r\n                public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\r\n                    handler.proceed();\r\n                }\r\n            });\r\n    \r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true); // Enable JavaScript support if needed\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\r\n            }\r\n    \r\n            // Load the URL of the website you want to display\r\n            webView.loadUrl(&quot;http://weburl.com/&quot;);\r\n        }\r\n    \r\n        // Override onBackPressed to handle WebView navigation\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (webView.canGoBack()) {\r\n                webView.goBack();\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    }","title":"how to run my web link with &quot;http&quot; , not with &quot;https&quot; . could someone please help me to do this ?. my source code is added below","body":"<p>This Java code is a part of my Android Studio project, where I'm facing a specific challenge. I need to load a website using the &quot;http&quot; protocol, rather than the more secure &quot;https&quot; protocol. To accomplish this, I've utilized the Android WebView component, which allows embedding web content within the application. However, I've encountered issues with this task. please help me</p>\n<pre><code>package com.example.chatgpt;\nimport android.os.Bundle;\nimport android.webkit.SslErrorHandler;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.net.http.SslError;\nimport android.os.Build;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = findViewById(R.id.webView);\n        webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&quot;;\n        webView.getSettings().setUserAgentString(userAgent);\n\n        webView.setWebViewClient(new WebViewClient() {\n            @Override\n            public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\n                handler.proceed();\n            }\n        });\n\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true); // Enable JavaScript support if needed\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n        }\n\n        // Load the URL of the website you want to display\n        webView.loadUrl(&quot;http://weburl.com/&quot;);\n    }\n\n    // Override onBackPressed to handle WebView navigation\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","remoting","httpinvoker"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1624471119,"post_id":68104810,"comment_id":120371085,"body_markdown":"There isn&#39;t (as apparent from the deprecation notice in the Javadoc). This is basically RPC over HTTP and RPC isn&#39;t really the best thing to use anymore. Use a REST or SOAP based approach instead.","body":"There isn&#39;t (as apparent from the deprecation notice in the Javadoc). This is basically RPC over HTTP and RPC isn&#39;t really the best thing to use anymore. Use a REST or SOAP based approach instead."},{"owner":{"account_id":8406098,"reputation":81,"user_id":6309546,"display_name":"gowridev"},"score":0,"creation_date":1624472066,"post_id":68104810,"comment_id":120371488,"body_markdown":"deprecation remoting technologies [discussion](https://github.com/spring-projects/spring-framework/issues/25379)","body":"deprecation remoting technologies <a href=\"https://github.com/spring-projects/spring-framework/issues/25379\" rel=\"nofollow noreferrer\">discussion</a>"},{"owner":{"account_id":13343490,"reputation":53,"user_id":9631002,"display_name":"lee"},"score":0,"creation_date":1624557744,"post_id":68104810,"comment_id":120398447,"body_markdown":"According to the doc, the spring will remove those at 5.3, I try to use 5.2.15.release, but still tell me those class not found","body":"According to the doc, the spring will remove those at 5.3, I try to use 5.2.15.release, but still tell me those class not found"}],"answers":[{"tags":[],"owner":{"account_id":11156931,"reputation":11,"user_id":8188371,"display_name":"Dipak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699266546,"creation_date":1699266546,"answer_id":77430381,"question_id":68104810,"body_markdown":"    All the classes under org.springframework.remoting.httpinvoker are deprecated when I am trying to migrate recently .But you can write some custom classes as similar to the below implementation .\r\n\r\n        import java.io.*;\r\n        import java.net.HttpURLConnection;\r\n        import java.net.URL;\r\n        \r\n        public class CustomHttpInvokerClient {\r\n            private String serviceUrl;\r\n        \r\n            public CustomHttpInvokerClient(String serviceUrl) {\r\n                this.serviceUrl = serviceUrl;\r\n            }\r\n        \r\n            public int add(int a, int b) throws IOException {\r\n                return (int) invokeRemoteMethod(&quot;add&quot;, a, b);\r\n            }\r\n        \r\n            public int subtract(int a, int b) throws IOException {\r\n                return (int) invokeRemoteMethod(&quot;subtract&quot;, a, b);\r\n            }\r\n        \r\n            public int multiply(int a, int b) throws IOException {\r\n                return (int) invokeRemoteMethod(&quot;multiply&quot;, a, b);\r\n            }\r\n        \r\n            public int divide(int a, int b) throws IOException {\r\n                return (int) invokeRemoteMethod(&quot;divide&quot;, a, b);\r\n            }\r\n        \r\n            private Object invokeRemoteMethod(String methodName, Object... arguments) throws IOException {\r\n                URL url = new URL(serviceUrl);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setDoOutput(true);\r\n               \r\n              System.out.println(&quot;No error till now&quot;);\r\n              \r\n              BufferedReader br = null;\r\n              if (connection.getResponseCode() == 200) {\r\n                  br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                  String strCurrentLine;\r\n                      while ((strCurrentLine = br.readLine()) != null) {\r\n                             System.out.println(strCurrentLine);\r\n                      }\r\n              } else {\r\n                  br = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\r\n                  String strCurrentLine;\r\n                      while ((strCurrentLine = br.readLine()) != null) {\r\n                             System.out.println(strCurrentLine);\r\n                      }\r\n              }\r\n              \r\n              \r\n        \r\n                try (ObjectOutputStream oos = new ObjectOutputStream(connection.getOutputStream())) {\r\n                    oos.writeObject(methodName);\r\n                    oos.writeObject(arguments);\r\n                }\r\n        \r\n                try (ObjectInputStream ois = new ObjectInputStream(connection.getInputStream())) {\r\n                    return ois.readObject();\r\n                } catch (ClassNotFoundException e) {\r\n                    throw new RuntimeException(&quot;Error deserializing response.&quot;, e);\r\n                } finally {\r\n                    connection.disconnect();\r\n                }\r\n            }\r\n        }\r\n        \r\n        import java.io.IOException;\r\n        \r\n        public class MainApplication {\r\n            public static void main(String[] args) {\r\n                // Replace with the actual URL of your server-side application\r\n                String serviceUrl = &quot;http://localhost:9011/{your service name}/CalculatorService&quot;;\r\n        \r\n                CustomHttpInvokerClient customHttpInvokerClient = new CustomHttpInvokerClient(serviceUrl);\r\n        \r\n                try {\r\n                    int resultAdd = customHttpInvokerClient.add(10, 5);\r\n                    int resultSubtract = customHttpInvokerClient.subtract(10, 5);\r\n                    int resultMultiply = customHttpInvokerClient.multiply(10, 5);\r\n                    int resultDivide = customHttpInvokerClient.divide(10, 5);\r\n        \r\n                    System.out.println(&quot;Add: &quot; + resultAdd);\r\n                    System.out.println(&quot;Subtract: &quot; + resultSubtract);\r\n                    System.out.println(&quot;Multiply: &quot; + resultMultiply);\r\n                    System.out.println(&quot;Divide: &quot; + resultDivide);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @Service\r\n    public class CalculatorServiceImpl implements CalculatorService {\r\n    \r\n        @Override\r\n        public int add(int a, int b) throws IOException {\r\n            return a + b;\r\n        }\r\n    \r\n        @Override\r\n        public int subtract(int a, int b) throws IOException {\r\n            return a - b;\r\n        }\r\n    \r\n        @Override\r\n        public int multiply(int a, int b) throws IOException {\r\n            return a * b;\r\n        }\r\n    \r\n        @Override\r\n        public int divide(int a, int b) throws IOException {\r\n            if (b == 0) {\r\n                throw new ArithmeticException(&quot;Division by zero&quot;);\r\n            }\r\n            return a / b;\r\n        }\r\n    }\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public interface CalculatorService {\r\n        int add(int a, int b) throws IOException;\r\n        int subtract(int a, int b) throws IOException;\r\n        int multiply(int a, int b) throws IOException;\r\n        int divide(int a, int b) throws IOException;\r\n    }\r\n\r\n","title":"Java springframework remoting httpinvoker replacement","body":"<pre><code>All the classes under org.springframework.remoting.httpinvoker are deprecated when I am trying to migrate recently .But you can write some custom classes as similar to the below implementation .\n\n    import java.io.*;\n    import java.net.HttpURLConnection;\n    import java.net.URL;\n    \n    public class CustomHttpInvokerClient {\n        private String serviceUrl;\n    \n        public CustomHttpInvokerClient(String serviceUrl) {\n            this.serviceUrl = serviceUrl;\n        }\n    \n        public int add(int a, int b) throws IOException {\n            return (int) invokeRemoteMethod(&quot;add&quot;, a, b);\n        }\n    \n        public int subtract(int a, int b) throws IOException {\n            return (int) invokeRemoteMethod(&quot;subtract&quot;, a, b);\n        }\n    \n        public int multiply(int a, int b) throws IOException {\n            return (int) invokeRemoteMethod(&quot;multiply&quot;, a, b);\n        }\n    \n        public int divide(int a, int b) throws IOException {\n            return (int) invokeRemoteMethod(&quot;divide&quot;, a, b);\n        }\n    \n        private Object invokeRemoteMethod(String methodName, Object... arguments) throws IOException {\n            URL url = new URL(serviceUrl);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setDoOutput(true);\n           \n          System.out.println(&quot;No error till now&quot;);\n          \n          BufferedReader br = null;\n          if (connection.getResponseCode() == 200) {\n              br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n              String strCurrentLine;\n                  while ((strCurrentLine = br.readLine()) != null) {\n                         System.out.println(strCurrentLine);\n                  }\n          } else {\n              br = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\n              String strCurrentLine;\n                  while ((strCurrentLine = br.readLine()) != null) {\n                         System.out.println(strCurrentLine);\n                  }\n          }\n          \n          \n    \n            try (ObjectOutputStream oos = new ObjectOutputStream(connection.getOutputStream())) {\n                oos.writeObject(methodName);\n                oos.writeObject(arguments);\n            }\n    \n            try (ObjectInputStream ois = new ObjectInputStream(connection.getInputStream())) {\n                return ois.readObject();\n            } catch (ClassNotFoundException e) {\n                throw new RuntimeException(&quot;Error deserializing response.&quot;, e);\n            } finally {\n                connection.disconnect();\n            }\n        }\n    }\n    \n    import java.io.IOException;\n    \n    public class MainApplication {\n        public static void main(String[] args) {\n            // Replace with the actual URL of your server-side application\n            String serviceUrl = &quot;http://localhost:9011/{your service name}/CalculatorService&quot;;\n    \n            CustomHttpInvokerClient customHttpInvokerClient = new CustomHttpInvokerClient(serviceUrl);\n    \n            try {\n                int resultAdd = customHttpInvokerClient.add(10, 5);\n                int resultSubtract = customHttpInvokerClient.subtract(10, 5);\n                int resultMultiply = customHttpInvokerClient.multiply(10, 5);\n                int resultDivide = customHttpInvokerClient.divide(10, 5);\n    \n                System.out.println(&quot;Add: &quot; + resultAdd);\n                System.out.println(&quot;Subtract: &quot; + resultSubtract);\n                System.out.println(&quot;Multiply: &quot; + resultMultiply);\n                System.out.println(&quot;Divide: &quot; + resultDivide);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\nimport org.springframework.stereotype.Service;\n\nimport java.io.IOException;\n\n@Service\npublic class CalculatorServiceImpl implements CalculatorService {\n\n    @Override\n    public int add(int a, int b) throws IOException {\n        return a + b;\n    }\n\n    @Override\n    public int subtract(int a, int b) throws IOException {\n        return a - b;\n    }\n\n    @Override\n    public int multiply(int a, int b) throws IOException {\n        return a * b;\n    }\n\n    @Override\n    public int divide(int a, int b) throws IOException {\n        if (b == 0) {\n            throw new ArithmeticException(&quot;Division by zero&quot;);\n        }\n        return a / b;\n    }\n}\n\nimport java.io.IOException;\n\npublic interface CalculatorService {\n    int add(int a, int b) throws IOException;\n    int subtract(int a, int b) throws IOException;\n    int multiply(int a, int b) throws IOException;\n    int divide(int a, int b) throws IOException;\n}\n</code></pre>\n"}],"owner":{"account_id":13343490,"reputation":53,"user_id":9631002,"display_name":"lee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3685,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699266546,"creation_date":1624470320,"question_id":68104810,"body_markdown":"The spring framework in 5.3 and higher deprecated `org.springframework.remoting.httpinvoker`\r\n\r\nwhen we upgrade Spring to 5.3\r\n\r\nwondering what is the replacement\r\n\r\nour existing code base have:\r\n```java\r\nimport org.springframework.remoting.httpinvoker.HttpComponentsHttpInvokerRequestExecutor;\r\n\r\nimport org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean;\r\n\r\nHttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\r\n\r\nHttpComponentsHttpInvokerRequestExecutor re = new HttpComponentsHttpInvokerRequestExecutor();\r\n```\r\nwhat I could use to replace the class","title":"Java springframework remoting httpinvoker replacement","body":"<p>The spring framework in 5.3 and higher deprecated <code>org.springframework.remoting.httpinvoker</code></p>\n<p>when we upgrade Spring to 5.3</p>\n<p>wondering what is the replacement</p>\n<p>our existing code base have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.remoting.httpinvoker.HttpComponentsHttpInvokerRequestExecutor;\n\nimport org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean;\n\nHttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\n\nHttpComponentsHttpInvokerRequestExecutor re = new HttpComponentsHttpInvokerRequestExecutor();\n</code></pre>\n<p>what I could use to replace the class</p>\n"},{"tags":["java","android","kotlin","android-fragments","fragment"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1699289923,"post_id":77430373,"comment_id":136510188,"body_markdown":"If your operation lives beyond when the Fragment reaches `onDestroy`, you already have a memory leak. Where are you cancelling your work?","body":"If your operation lives beyond when the Fragment reaches <code>onDestroy</code>, you already have a memory leak. Where are you cancelling your work?"}],"owner":{"account_id":17543042,"reputation":73,"user_id":12724871,"display_name":"theoyuncu8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699266493,"creation_date":1699266493,"question_id":77430373,"body_markdown":"when I use the requireContext() method in the fragment, sometimes long operations occur. This error occurs when the user suddenly closes the application or moves to another page. What solution should I do? I don&#39;t want to check with isAdded wherever there is requireContext. There must be a solution for this.\r\n\r\nExample Code Block:\r\n```\r\ndailyBinding.headertext.animateText(SharedPreferencesReceiver.getName(requireContext()));\r\nif (SharedPreferencesReceiver.getTopProVisibility(requireContext())) {\r\n    UIHandler.post(() -&gt; {\r\n        if (SharedPreferencesReceiver.getNoticeActivity(requireContext())) {\r\n            dailyBinding.adss.setText(&quot;TEST&quot;);\r\n        } else {\r\n            dailyBinding.adss.setText(&quot;TEST 22&quot;);\r\n        }\r\n        dailyBinding.mainprocv.setOnClickListener(view1 -&gt; {\r\n            dailyBinding.adss.setText(&quot;TEST&quot;);\r\n            startActivity(new Intent(requireActivity(), NoticeActivity.class));\r\n        });\r\n        dailyBinding.mainprocv.setOnLongClickListener(v -&gt; {\r\n            dailyBinding.mainprocv.setVisibility(View.GONE);\r\n            SharedPreferencesReceiver.setTopProVisibility(requireContext(), false);\r\n            SharedPreferencesReceiver.setProRemoveText(requireContext(), false);\r\n            return true;\r\n        });\r\n    });\r\n} else {\r\n    dailyBinding.mainprocv.setVisibility(View.GONE);\r\n}\r\n```","title":"Fragment not attached to a context issues","body":"<p>when I use the requireContext() method in the fragment, sometimes long operations occur. This error occurs when the user suddenly closes the application or moves to another page. What solution should I do? I don't want to check with isAdded wherever there is requireContext. There must be a solution for this.</p>\n<p>Example Code Block:</p>\n<pre><code>dailyBinding.headertext.animateText(SharedPreferencesReceiver.getName(requireContext()));\nif (SharedPreferencesReceiver.getTopProVisibility(requireContext())) {\n    UIHandler.post(() -&gt; {\n        if (SharedPreferencesReceiver.getNoticeActivity(requireContext())) {\n            dailyBinding.adss.setText(&quot;TEST&quot;);\n        } else {\n            dailyBinding.adss.setText(&quot;TEST 22&quot;);\n        }\n        dailyBinding.mainprocv.setOnClickListener(view1 -&gt; {\n            dailyBinding.adss.setText(&quot;TEST&quot;);\n            startActivity(new Intent(requireActivity(), NoticeActivity.class));\n        });\n        dailyBinding.mainprocv.setOnLongClickListener(v -&gt; {\n            dailyBinding.mainprocv.setVisibility(View.GONE);\n            SharedPreferencesReceiver.setTopProVisibility(requireContext(), false);\n            SharedPreferencesReceiver.setProRemoveText(requireContext(), false);\n            return true;\n        });\n    });\n} else {\n    dailyBinding.mainprocv.setVisibility(View.GONE);\n}\n</code></pre>\n"},{"tags":["java","maven","jdbc","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":21485254,"reputation":762,"user_id":15831977,"display_name":"Krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639577517,"creation_date":1639577517,"answer_id":70365166,"question_id":70362159,"body_markdown":"Simba JDBC connector for BigQuery does not have a Maven repository. The jar files need to be downloaded manually right now.There is an ongoing [feature request](https://issuetracker.google.com/180413368) that is being worked on. However, we cannot provide an exact ETA on when that feature will be available.","title":"maven repository with BigQuery Simba JDBC Connector","body":"<p>Simba JDBC connector for BigQuery does not have a Maven repository. The jar files need to be downloaded manually right now.There is an ongoing <a href=\"https://issuetracker.google.com/180413368\" rel=\"nofollow noreferrer\">feature request</a> that is being worked on. However, we cannot provide an exact ETA on when that feature will be available.</p>\n"},{"tags":[],"owner":{"account_id":13518894,"reputation":21,"user_id":9752722,"display_name":"Jose Soto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655407651,"creation_date":1655407651,"answer_id":72650976,"question_id":70362159,"body_markdown":"If this helps I built a gradle project that produces a shaded jar with the bigquery dependencies and publish it to a private maven repo: https://github.com/josecsotomorales/bigquery-jdbc-maven-publish","title":"maven repository with BigQuery Simba JDBC Connector","body":"<p>If this helps I built a gradle project that produces a shaded jar with the bigquery dependencies and publish it to a private maven repo: <a href=\"https://github.com/josecsotomorales/bigquery-jdbc-maven-publish\" rel=\"nofollow noreferrer\">https://github.com/josecsotomorales/bigquery-jdbc-maven-publish</a></p>\n"}],"owner":{"account_id":4039834,"reputation":390,"user_id":3323033,"accept_rate":17,"display_name":"Hejwo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70365166,"answer_count":2,"score":1,"last_activity_date":1699266267,"creation_date":1639564427,"question_id":70362159,"body_markdown":"I&#39;m starting new backend application that will operate on BigQuery.  \r\nWould love to check Simba JDBC Connector, but my main blocker is no Maven repository with it. It complicates startup significantly.  \r\nDoes it always have to be downloaded installed manually or are there any active repositories with it?  \r\n\r\nPs. I&#39;m aware that I cloud run my own nexus repository and deploy it there, but want to avoid it :)","title":"maven repository with BigQuery Simba JDBC Connector","body":"<p>I'm starting new backend application that will operate on BigQuery.<br />\nWould love to check Simba JDBC Connector, but my main blocker is no Maven repository with it. It complicates startup significantly.<br />\nDoes it always have to be downloaded installed manually or are there any active repositories with it?</p>\n<p>Ps. I'm aware that I cloud run my own nexus repository and deploy it there, but want to avoid it :)</p>\n"},{"tags":["java","selenium-webdriver","testing","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699291688,"post_id":77430251,"comment_id":136510540,"body_markdown":"where do you initialize the webdriver?  (new Chromedriver(ChromeT);?)","body":"where do you initialize the webdriver?  (new Chromedriver(ChromeT);?)"}],"answers":[{"tags":[],"owner":{"account_id":29817589,"reputation":16,"user_id":22851580,"display_name":"Louis Callahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699265375,"creation_date":1699265375,"answer_id":77430260,"question_id":77430251,"body_markdown":"There are a few possible reasons why your Selenium browser is loading slowly:\r\n\r\nYour computer or network may be slow. Selenium is a resource-intensive application, so it needs a fast computer and network connection to run smoothly.\r\nYour Selenium script may be inefficient. If your script is too complex or uses inefficient locators, it will take longer to run.\r\nThe website you are testing may be slow. If the website is complex or has a lot of traffic, it will take longer to load.\r\nHere are some tips for speeding up your Selenium scripts:\r\n\r\nUse efficient locators. CSS selectors are generally faster than XPath selectors.\r\nAvoid unnecessary interactions with the browser. For example, if you only need to read the text of an element, don&#39;t click on it first.\r\nUse implicit waits instead of explicit waits. Implicit waits are more efficient, especially for scripts that interact with multiple elements on a page.\r\nUse a headless browser. Headless browsers run without a GUI, which can improve performance.\r\nUse a Selenium Grid. A Selenium Grid allows you to distribute your tests across multiple machines, which can significantly improve performance.\r\nHere are some specific things you can check in your sample code:\r\n\r\nMake sure you are using the latest version of the ChromeDriver. Older versions of the ChromeDriver may be slower.\r\nTry disabling extensions in your Chrome browser. Some extensions can slow down the browser.\r\nTry using a headless browser. You can do this by setting the headless option to true in your ChromeOptions object.\r\nTry using a Selenium Grid. This is more complex to set up, but it can significantly improve performance","title":"Automation script acting very slow on browser","body":"<p>There are a few possible reasons why your Selenium browser is loading slowly:</p>\n<p>Your computer or network may be slow. Selenium is a resource-intensive application, so it needs a fast computer and network connection to run smoothly.\nYour Selenium script may be inefficient. If your script is too complex or uses inefficient locators, it will take longer to run.\nThe website you are testing may be slow. If the website is complex or has a lot of traffic, it will take longer to load.\nHere are some tips for speeding up your Selenium scripts:</p>\n<p>Use efficient locators. CSS selectors are generally faster than XPath selectors.\nAvoid unnecessary interactions with the browser. For example, if you only need to read the text of an element, don't click on it first.\nUse implicit waits instead of explicit waits. Implicit waits are more efficient, especially for scripts that interact with multiple elements on a page.\nUse a headless browser. Headless browsers run without a GUI, which can improve performance.\nUse a Selenium Grid. A Selenium Grid allows you to distribute your tests across multiple machines, which can significantly improve performance.\nHere are some specific things you can check in your sample code:</p>\n<p>Make sure you are using the latest version of the ChromeDriver. Older versions of the ChromeDriver may be slower.\nTry disabling extensions in your Chrome browser. Some extensions can slow down the browser.\nTry using a headless browser. You can do this by setting the headless option to true in your ChromeOptions object.\nTry using a Selenium Grid. This is more complex to set up, but it can significantly improve performance</p>\n"}],"owner":{"account_id":19509170,"reputation":3,"user_id":14273460,"display_name":"Arunima M S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77430260,"answer_count":1,"score":0,"last_activity_date":1699266260,"creation_date":1699265315,"question_id":77430251,"body_markdown":"I&#39;m new in learning Java Selenium. Whenever I try to run a script, the browser loads for a long time and then gives displays the site which I&#39;m testing. I&#39;m seeing this recently only. Writing more scripts make even more slower. \r\n\r\nHere is the sample code I just worked on. If someone knows the issue, please help.\r\n````\r\nSystem.setProperty(&quot;webriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\AM00773329\\\\Desktop\\\\TestDriver\\\\chromedriver-win64\\\\chromedriver.exe&quot;);\r\nChromeOptions ChromeT = new ChromeOptions();\r\nChromeT.setBinary(&quot;C:\\\\Users\\\\AM00773329\\\\Desktop\\\\TestDriver\\\\chrome-win64\\\\chrome.exe&quot;);\r\ndriver.get(&quot;http://qaclickacademy.com/practice.php&quot;);\r\nWebElement footer = driver.findElement(By.id(&quot;gf-BIG&quot;));\r\nWebElement footerSub = footer.findElement(By.xpath(&quot;//div/table/tbody/tr/td[1]/ul&quot;));\r\nSystem.out.println(footerSub.findElements(By.tagName(&quot;a&quot;)).size());\r\n````","title":"Automation script acting very slow on browser","body":"<p>I'm new in learning Java Selenium. Whenever I try to run a script, the browser loads for a long time and then gives displays the site which I'm testing. I'm seeing this recently only. Writing more scripts make even more slower.</p>\n<p>Here is the sample code I just worked on. If someone knows the issue, please help.</p>\n<pre><code>System.setProperty(&quot;webriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\AM00773329\\\\Desktop\\\\TestDriver\\\\chromedriver-win64\\\\chromedriver.exe&quot;);\nChromeOptions ChromeT = new ChromeOptions();\nChromeT.setBinary(&quot;C:\\\\Users\\\\AM00773329\\\\Desktop\\\\TestDriver\\\\chrome-win64\\\\chrome.exe&quot;);\ndriver.get(&quot;http://qaclickacademy.com/practice.php&quot;);\nWebElement footer = driver.findElement(By.id(&quot;gf-BIG&quot;));\nWebElement footerSub = footer.findElement(By.xpath(&quot;//div/table/tbody/tr/td[1]/ul&quot;));\nSystem.out.println(footerSub.findElements(By.tagName(&quot;a&quot;)).size());\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","ibm-mq","spring-jms"],"owner":{"account_id":3376062,"reputation":51,"user_id":2834167,"display_name":"jacomus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699265765,"creation_date":1699113599,"question_id":77422789,"body_markdown":"I&#39;m using IBM MQ and want to have messages pushed into my application&#39;s Webflux code, so I can process a message \r\nI&#39;ve defined an IntegrationFlow @Bean\r\n\r\n\r\n```\r\n@Configuration\r\npublic class ReactiveMQConfig {\r\n\r\n  @Value(&quot;${ibm.mq.inQueueName}&quot;)\r\n  private String inQueueName;\r\n\r\n  @Value(&quot;${ibm.mq.channel}&quot;)\r\n  private String channel;\r\n\r\n  @Bean\r\n  public Publisher&lt;Message&lt;String&gt;&gt; mqMessageFlow(ConnectionFactory connectionFactory) {\r\n    return IntegrationFlow.from(\r\n            Jms.messageDrivenChannelAdapter(connectionFactory)\r\n                .configureListenerContainer(x -&gt;\r\n                    x.backOff(new FixedBackOff(1000, 1000000))\r\n                    .concurrentConsumers(1)\r\n                    .maxConcurrentConsumers(1)\r\n                    .sessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE)\r\n                )\r\n                .destination(inQueueName))\r\n        .channel(channel)\r\n        .log()\r\n        .toReactivePublisher();\r\n  }\r\n\r\n}\r\n```\r\nThis allows me to get messages via the messageDrivenChannelAdapter into Webflux.\r\nAnd I perform operations on the messages by autowiring the flow as a bean into my service like this: \r\n\r\n```\r\n\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MQListener {\r\n\r\n    @Autowired\r\n    Publisher&lt;Message&lt;String&gt;&gt; mqIntegrationFlow;\r\n\r\n    @PostConstruct\r\n    public void listen() {\r\n        Flux.from(mqIntegrationFlow).flatMap(m -&gt; this.handleMessage(m.getPayload())).subscribe();\r\n    }\r\n            \r\n    public Flux&lt;SenderResult&lt;Void&gt;&gt; handleMessage(String incomingMessage) {\r\n        return Flux.just(incomingMessage)\r\n          .flatMap(myclass1::someOperation1)\r\n          .flatMap(myclass2::lastOperation1)\r\n          .doOnComplete(() -&gt; System.out.println(&quot;Everything works&quot;))\r\n          .doOnError(throwable -&gt; { log.error(&quot;OUTPUT: &quot;+throwable.getMessage()); throwable.printStackTrace(); Mono.just(throwable).log(&quot;OUTPUT&quot;+throwable.getMessage(), Level.SEVERE); });\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe problem I&#39;m having is I don&#39;t have a clue how to **MANUALLY** acknowledge a message.\r\n\r\nThe interface for the Message I&#39;m receiving is GenericMessage and that doesn&#39;t have an acknowledge() method on it as I&#39;ve seen with Kafka.\r\n\r\nI&#39;ve seen AMQ and Kafka use headers from the message and utilise something like AMQHeaders.ACKNOWLEDGE such as...\r\n``` \r\nAcknowledgment acknowledgment = m.getHeaders().get(MQHeader)\r\n```\r\n\r\nCan someone help me out as to how I can manually acknowledge or not depending on success / fail of the message processing?\r\n\r\nThanks all.","title":"Spring IntegrationFlow IBM MQ Webflux - How to manually acknowledge message","body":"<p>I'm using IBM MQ and want to have messages pushed into my application's Webflux code, so I can process a message\nI've defined an IntegrationFlow @Bean</p>\n<pre><code>@Configuration\npublic class ReactiveMQConfig {\n\n  @Value(&quot;${ibm.mq.inQueueName}&quot;)\n  private String inQueueName;\n\n  @Value(&quot;${ibm.mq.channel}&quot;)\n  private String channel;\n\n  @Bean\n  public Publisher&lt;Message&lt;String&gt;&gt; mqMessageFlow(ConnectionFactory connectionFactory) {\n    return IntegrationFlow.from(\n            Jms.messageDrivenChannelAdapter(connectionFactory)\n                .configureListenerContainer(x -&gt;\n                    x.backOff(new FixedBackOff(1000, 1000000))\n                    .concurrentConsumers(1)\n                    .maxConcurrentConsumers(1)\n                    .sessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE)\n                )\n                .destination(inQueueName))\n        .channel(channel)\n        .log()\n        .toReactivePublisher();\n  }\n\n}\n</code></pre>\n<p>This allows me to get messages via the messageDrivenChannelAdapter into Webflux.\nAnd I perform operations on the messages by autowiring the flow as a bean into my service like this:</p>\n<pre><code>\n@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class MQListener {\n\n    @Autowired\n    Publisher&lt;Message&lt;String&gt;&gt; mqIntegrationFlow;\n\n    @PostConstruct\n    public void listen() {\n        Flux.from(mqIntegrationFlow).flatMap(m -&gt; this.handleMessage(m.getPayload())).subscribe();\n    }\n            \n    public Flux&lt;SenderResult&lt;Void&gt;&gt; handleMessage(String incomingMessage) {\n        return Flux.just(incomingMessage)\n          .flatMap(myclass1::someOperation1)\n          .flatMap(myclass2::lastOperation1)\n          .doOnComplete(() -&gt; System.out.println(&quot;Everything works&quot;))\n          .doOnError(throwable -&gt; { log.error(&quot;OUTPUT: &quot;+throwable.getMessage()); throwable.printStackTrace(); Mono.just(throwable).log(&quot;OUTPUT&quot;+throwable.getMessage(), Level.SEVERE); });\n    }\n\n}\n\n</code></pre>\n<p>The problem I'm having is I don't have a clue how to <strong>MANUALLY</strong> acknowledge a message.</p>\n<p>The interface for the Message I'm receiving is GenericMessage and that doesn't have an acknowledge() method on it as I've seen with Kafka.</p>\n<p>I've seen AMQ and Kafka use headers from the message and utilise something like AMQHeaders.ACKNOWLEDGE such as...</p>\n<pre><code>Acknowledgment acknowledgment = m.getHeaders().get(MQHeader)\n</code></pre>\n<p>Can someone help me out as to how I can manually acknowledge or not depending on success / fail of the message processing?</p>\n<p>Thanks all.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1605292168,"creation_date":1605292168,"answer_id":64826189,"question_id":33825693,"body_markdown":"I don&#39;t think there is any elegant way to access it.\r\n\r\nOf course you may use Java reflection to access the private field `Throwable.detailMessage` but this far from being elegant :)\r\n\r\nI work in Spring where exceptions often inherit `org.springframework.core.NestedRuntimeException` which creates its message like\r\n\r\n    detailedMessage + &quot;; nested exception is &quot; + cause.detailedMessage \r\n        ... + &quot;; nested exception is &quot; + cause.detailedMessage \r\n\r\nI created a simple method\r\n\r\n    private String extractDetailedMessage(Throwable e) {\r\n        final String message = e.getMessage();\r\n        if (message == null) {\r\n            return &quot;&quot;;\r\n        }\r\n        final int tailIndex = StringUtils.indexOf(message, &quot;; nested exception is&quot;);\r\n        if (tailIndex == -1) {\r\n            return message;\r\n        }\r\n        return StringUtils.left(message, tailIndex);\r\n    }\r\n\r\nYou can easily modify it for your case :) I&#39;m afraid you do not have anything nicer...\r\n","title":"Java Exception: get detailMessage only","body":"<p>I don't think there is any elegant way to access it.</p>\n<p>Of course you may use Java reflection to access the private field <code>Throwable.detailMessage</code> but this far from being elegant :)</p>\n<p>I work in Spring where exceptions often inherit <code>org.springframework.core.NestedRuntimeException</code> which creates its message like</p>\n<pre><code>detailedMessage + &quot;; nested exception is &quot; + cause.detailedMessage \n    ... + &quot;; nested exception is &quot; + cause.detailedMessage \n</code></pre>\n<p>I created a simple method</p>\n<pre><code>private String extractDetailedMessage(Throwable e) {\n    final String message = e.getMessage();\n    if (message == null) {\n        return &quot;&quot;;\n    }\n    final int tailIndex = StringUtils.indexOf(message, &quot;; nested exception is&quot;);\n    if (tailIndex == -1) {\n        return message;\n    }\n    return StringUtils.left(message, tailIndex);\n}\n</code></pre>\n<p>You can easily modify it for your case :) I'm afraid you do not have anything nicer...</p>\n"},{"tags":[],"owner":{"account_id":2713,"reputation":5677,"user_id":3812,"accept_rate":83,"display_name":"Bahadr Yaan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615986504,"creation_date":1615986504,"answer_id":66673735,"question_id":33825693,"body_markdown":"Here is a nice little Kotlin extension function for the same code shared by Honza Zidek\r\n\r\n```\r\nfun NestedRuntimeException.detailMessage(): String \r\n    = this.message.orEmpty().substringBefore(&quot;; nested exception is&quot;)\r\n```","title":"Java Exception: get detailMessage only","body":"<p>Here is a nice little Kotlin extension function for the same code shared by Honza Zidek</p>\n<pre><code>fun NestedRuntimeException.detailMessage(): String \n    = this.message.orEmpty().substringBefore(&quot;; nested exception is&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3077713,"reputation":393,"user_id":2606671,"display_name":"Mister Vanderbilt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617706600,"creation_date":1617706600,"answer_id":66967313,"question_id":33825693,"body_markdown":"You can use [Apache commons][1] as well:\r\n\r\n    String detailMessage = StringUtils.substringBefore(e.getMessage(), &quot;; nested exception is&quot;);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"Java Exception: get detailMessage only","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache commons</a> as well:</p>\n<pre><code>String detailMessage = StringUtils.substringBefore(e.getMessage(), &quot;; nested exception is&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1284455,"reputation":2413,"user_id":1237832,"accept_rate":77,"display_name":"zhfkt"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699265742,"creation_date":1699265742,"answer_id":77430297,"question_id":33825693,"body_markdown":"Use reflection to read `Throwable.detailMessage` from `NestedRuntimeException`\r\n\r\n```java\r\nString detailMessage = (String) FieldUtils.getDeclaredField( Throwable.class, &quot;detailMessage&quot;, true ).get(e);\r\n```\r\n\r\n\r\n`FieldUtils` refers to `org.apache.commons.lang3.reflect.FieldUtils` from Apache Common Lang3","title":"Java Exception: get detailMessage only","body":"<p>Use reflection to read <code>Throwable.detailMessage</code> from <code>NestedRuntimeException</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>String detailMessage = (String) FieldUtils.getDeclaredField( Throwable.class, &quot;detailMessage&quot;, true ).get(e);\n</code></pre>\n<p><code>FieldUtils</code> refers to <code>org.apache.commons.lang3.reflect.FieldUtils</code> from Apache Common Lang3</p>\n"}],"owner":{"account_id":4830746,"reputation":359,"user_id":3898998,"accept_rate":10,"display_name":"Anton_Selenium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10104,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":64826189,"answer_count":4,"score":12,"last_activity_date":1699265742,"creation_date":1448019118,"question_id":33825693,"body_markdown":"I am trying to get only `detailMessage` from an Exception:\r\n\r\n    } catch (Exception e) {\r\n        logger.error(failed  + e.getCause().getMessage()); }\r\n\r\nThe log file contains\r\n\r\n&gt; &quot;Unable to find element with name == filter:P_ClearButtonDFI (WARNING:\r\n&gt; The server did not provide any stacktrace information) Command\r\n&gt; duration or timeout: 30.24 seconds For documentation on this error,\r\n&gt; please visit: http://seleniumhq.org/exceptions/no_such_element.html\r\n&gt; Build info: version: &#39;2.47.1&#39;, revision: &#39;411b314&#39;, time: &#39;2015-07-30\r\n&gt; 03:03:16&#39; System info: host: &#39;OACVWMAX10006&#39;, ip: &#39;10.29.19.64&#39;,\r\n&gt; os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;,\r\n&gt; java.version: &#39;1.7.0_79&#39;\r\n&gt; *** Element info: {Using=name, value=filter:P_ClearButtonDFI} Session ID: 5149a0b8-475e-4d89-a9d6-e5115e773da8 Driver info:\r\n&gt; org.openqa.selenium.ie.InternetExplorerDriver Capabilities\r\n&gt; [{platform=WINDOWS, javascriptEnabled=true, elementScrollBehavior=0,\r\n&gt; ignoreZoomSetting=false, enablePersistentHover=true,\r\n&gt; ie.ensureCleanSession=false, browserName=internet explorer,\r\n&gt; enableElementCacheCleanup=true, unexpectedAlertBehaviour=dismiss,\r\n&gt; version=9, ie.usePerProcessProxy=false,\r\n&gt; ignoreProtectedModeSettings=false, cssSelectorsEnabled=true,\r\n&gt; requireWindowFocus=false, initialBrowserUrl=http://localhost:21733/,\r\n&gt; handlesAlerts=true, ie.forceCreateProcessApi=false, nativeEvents=true,\r\n&gt; browserAttachTimeout=0, ie.browserCommandLineSwitches=,\r\n&gt; takesScreenshot=true}]&quot;\r\n\r\n\r\nbut I only want\r\n\r\n&gt; Unable to find element with name == filter:P_ClearButtonDFI","title":"Java Exception: get detailMessage only","body":"<p>I am trying to get only <code>detailMessage</code> from an Exception:</p>\n\n<pre><code>} catch (Exception e) {\n    logger.error(failed  + e.getCause().getMessage()); }\n</code></pre>\n\n<p>The log file contains</p>\n\n<blockquote>\n  <p>\"Unable to find element with name == filter:P_ClearButtonDFI (WARNING:\n  The server did not provide any stacktrace information) Command\n  duration or timeout: 30.24 seconds For documentation on this error,\n  please visit: <a href=\"http://seleniumhq.org/exceptions/no_such_element.html\" rel=\"noreferrer\">http://seleniumhq.org/exceptions/no_such_element.html</a>\n  Build info: version: '2.47.1', revision: '411b314', time: '2015-07-30\n  03:03:16' System info: host: 'OACVWMAX10006', ip: '10.29.19.64',\n  os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1',\n  java.version: '1.7.0_79'\n  *** Element info: {Using=name, value=filter:P_ClearButtonDFI} Session ID: 5149a0b8-475e-4d89-a9d6-e5115e773da8 Driver info:\n  org.openqa.selenium.ie.InternetExplorerDriver Capabilities\n  [{platform=WINDOWS, javascriptEnabled=true, elementScrollBehavior=0,\n  ignoreZoomSetting=false, enablePersistentHover=true,\n  ie.ensureCleanSession=false, browserName=internet explorer,\n  enableElementCacheCleanup=true, unexpectedAlertBehaviour=dismiss,\n  version=9, ie.usePerProcessProxy=false,\n  ignoreProtectedModeSettings=false, cssSelectorsEnabled=true,\n  requireWindowFocus=false, initialBrowserUrl=<a href=\"http://localhost:21733/\" rel=\"noreferrer\">http://localhost:21733/</a>,\n  handlesAlerts=true, ie.forceCreateProcessApi=false, nativeEvents=true,\n  browserAttachTimeout=0, ie.browserCommandLineSwitches=,\n  takesScreenshot=true}]\"</p>\n</blockquote>\n\n<p>but I only want</p>\n\n<blockquote>\n  <p>Unable to find element with name == filter:P_ClearButtonDFI</p>\n</blockquote>\n"},{"tags":["java","xml","spring","soap","spring-ws"],"comments":[{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1517847436,"post_id":48626824,"comment_id":84250505,"body_markdown":"do you create a fat jar, ie. are dependencies getting packaged along with the jar?","body":"do you create a fat jar, ie. are dependencies getting packaged along with the jar?"},{"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"score":0,"creation_date":1517847443,"post_id":48626824,"comment_id":84250508,"body_markdown":"There is a class file that doesn&#39;t exist in your project. You probably didn&#39;t package your jar dependencies correctly. This error will come up if there is a missing class file.","body":"There is a class file that doesn&#39;t exist in your project. You probably didn&#39;t package your jar dependencies correctly. This error will come up if there is a missing class file."}],"answers":[{"tags":[],"owner":{"account_id":13460295,"reputation":1223,"user_id":9712582,"display_name":"user9712582"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1524870791,"creation_date":1524869176,"answer_id":50071159,"question_id":48626824,"body_markdown":"JavaSE 8 includes package `java.xml.soap`.  \r\nJavaSE 9 moved package `javax.xml.soap` to the module `java.xml.ws`.  \r\nModules shared with JEE (like `java.xml.ws`) are included in JavaSE 9, but are  \r\n- [deprecated](http://www.oracle.com/technetwork/java/javase/9-relnote-issues-3704069.html) for removal from a future version of JavaSE, and  \r\n- [not on the default module path](https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F640FA9D-FB66-4D85-AD2B-D931174C09A3).\r\n\r\nA quick workaround is to either  \r\n- run the jar with JRE 8: `$MY_JRE8_HOME/bin/java -jar my.jar`, or  \r\n- add a module for JRE 9: `java --add-modules java.xml.ws -jar my.jar`\r\n\r\nLonger term, JavaSE projects that use modules like `java.xml.ws` must explicitly include the module like other libraries.\r\n\r\nSee https://stackoverflow.com/a/46359097  \r\nSee [JDK 9 Migration Guide: Modules Shared with JEE Not Resolved by Default](https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-954372A5-5954-4075-A1AF-6A9168371246)\r\n\r\n(Reproduced NoClassDefError and workarounds with zipped SOAP web service project at https://spring.io/guides/gs/producing-web-service/)\r\n","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>JavaSE 8 includes package <code>java.xml.soap</code>.<br>\nJavaSE 9 moved package <code>javax.xml.soap</code> to the module <code>java.xml.ws</code>.<br>\nModules shared with JEE (like <code>java.xml.ws</code>) are included in JavaSE 9, but are<br>\n- <a href=\"http://www.oracle.com/technetwork/java/javase/9-relnote-issues-3704069.html\" rel=\"noreferrer\">deprecated</a> for removal from a future version of JavaSE, and<br>\n- <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F640FA9D-FB66-4D85-AD2B-D931174C09A3\" rel=\"noreferrer\">not on the default module path</a>.</p>\n\n<p>A quick workaround is to either<br>\n- run the jar with JRE 8: <code>$MY_JRE8_HOME/bin/java -jar my.jar</code>, or<br>\n- add a module for JRE 9: <code>java --add-modules java.xml.ws -jar my.jar</code></p>\n\n<p>Longer term, JavaSE projects that use modules like <code>java.xml.ws</code> must explicitly include the module like other libraries.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/46359097\">https://stackoverflow.com/a/46359097</a><br>\nSee <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-954372A5-5954-4075-A1AF-6A9168371246\" rel=\"noreferrer\">JDK 9 Migration Guide: Modules Shared with JEE Not Resolved by Default</a></p>\n\n<p>(Reproduced NoClassDefError and workarounds with zipped SOAP web service project at <a href=\"https://spring.io/guides/gs/producing-web-service/\" rel=\"noreferrer\">https://spring.io/guides/gs/producing-web-service/</a>)</p>\n"},{"tags":[],"owner":{"account_id":3352292,"reputation":780,"user_id":2816092,"accept_rate":67,"display_name":"McCoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1537393360,"creation_date":1537393360,"answer_id":52414570,"question_id":48626824,"body_markdown":"I imported this one to sort out the issue: https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api/1.4.0","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>I imported this one to sort out the issue: <a href=\"https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api/1.4.0\" rel=\"noreferrer\">https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api/1.4.0</a></p>\n"},{"comments":[{"owner":{"account_id":3063384,"reputation":550,"user_id":2595609,"display_name":"nirmalsingh"},"score":0,"creation_date":1628570247,"post_id":53976056,"comment_id":121449282,"body_markdown":"worked for me. My SOAP-API-Client Code (Springboot WAR) was running fine through &quot;mvn spring-boot:run&quot; but throwing this error on Tomcat 8.5. However not sure what causes &quot;mvn spring-boot:run&quot; to succeed in first place. Can it be that local JDK/JRE or Maven&#39;s underlying jar plays some role there ?","body":"worked for me. My SOAP-API-Client Code (Springboot WAR) was running fine through &quot;mvn spring-boot:run&quot; but throwing this error on Tomcat 8.5. However not sure what causes &quot;mvn spring-boot:run&quot; to succeed in first place. Can it be that local JDK/JRE or Maven&#39;s underlying jar plays some role there ?"},{"owner":{"account_id":6603150,"reputation":153,"user_id":5100768,"display_name":"Guilherme Stella"},"score":0,"creation_date":1641390739,"post_id":53976056,"comment_id":124792128,"body_markdown":"worked for me.\njdk 9;\njavax.xml.soap:javax.xml.soap-api 1.4.0;\nand also com.sun.xml.messaging.saaj:saaj-impl 1.5.1; as mentioned by Harisudha","body":"worked for me. jdk 9; javax.xml.soap:javax.xml.soap-api 1.4.0; and also com.sun.xml.messaging.saaj:saaj-impl 1.5.1; as mentioned by Harisudha"}],"tags":[],"owner":{"account_id":3244972,"reputation":1535,"user_id":2736818,"accept_rate":86,"display_name":"Jithin U. Ahmed"},"comment_count":2,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1546156693,"creation_date":1546156693,"answer_id":53976056,"question_id":48626824,"body_markdown":"Adding the following in pom file solved the issue\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>Adding the following in pom file solved the issue</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16110813,"reputation":161,"user_id":11629069,"display_name":"Rish"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1561657718,"creation_date":1561657718,"answer_id":56796302,"question_id":48626824,"body_markdown":"Add the following dependencies, it should work then\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nRefer the following links for a running piece of code (SpringBootSOAPWS + Java10) \r\n[Github- SpringBoot Soap Server][1]\r\n[Github- SpringBoot Soap Client][2]\r\n\r\n\r\n  [1]: https://github.com/coderish/Springboot-SOAPServer\r\n  [2]: https://github.com/coderish/Springboot-SOAPClient","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>Add the following dependencies, it should work then</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Refer the following links for a running piece of code (SpringBootSOAPWS + Java10) \n<a href=\"https://github.com/coderish/Springboot-SOAPServer\" rel=\"noreferrer\">Github- SpringBoot Soap Server</a>\n<a href=\"https://github.com/coderish/Springboot-SOAPClient\" rel=\"noreferrer\">Github- SpringBoot Soap Client</a></p>\n"},{"tags":[],"owner":{"account_id":4868086,"reputation":3099,"user_id":3925626,"display_name":"prisar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1578602760,"creation_date":1578602760,"answer_id":59671849,"question_id":48626824,"body_markdown":"Adding this dependency will solve the issue.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>Adding this dependency will solve the issue.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"score":2,"creation_date":1595343949,"post_id":61276799,"comment_id":111438554,"body_markdown":"I can confirm that for Java 11 the implementation is missing: `com.sun.xml.messaging.saaj:saaj-impl`. We did not need the `soap-api` definition.","body":"I can confirm that for Java 11 the implementation is missing: <code>com.sun.xml.messaging.saaj:saaj-impl</code>. We did not need the <code>soap-api</code> definition."}],"tags":[],"owner":{"account_id":18271816,"reputation":537,"user_id":13302453,"display_name":"Harisudha"},"comment_count":1,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1587142644,"creation_date":1587142644,"answer_id":61276799,"question_id":48626824,"body_markdown":"Yes, In Java 11 java.xml.soap was completely removed.\r\n*java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException* can be removed by adding the \r\nfollowing dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-RC3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut later, you will encounter , *javax.xml.soap.SOAPException: Unable to create SAAJ meta-factory: Provider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found*.\r\nThis can be solved by adding the following dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHope, it helps!","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>Yes, In Java 11 java.xml.soap was completely removed.\n<em>java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException</em> can be removed by adding the \nfollowing dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-RC3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But later, you will encounter , <em>javax.xml.soap.SOAPException: Unable to create SAAJ meta-factory: Provider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found</em>.\nThis can be solved by adding the following dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Hope, it helps!</p>\n"},{"tags":[],"owner":{"account_id":15705724,"reputation":41,"user_id":11332516,"display_name":"Sabina Lazareanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617969703,"creation_date":1617969703,"answer_id":67020774,"question_id":48626824,"body_markdown":"The JAX-WS dependency library jaxws-api.jar is missing.\r\nTry:\r\n\r\n - `compile group: &#39;javax.xml.ws&#39;, name: &#39;jaxws-api&#39;, version: &#39;2.3.1&#39;` - for gradle or: \r\n\r\n   \r\n\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n           &lt;version&gt;2.3.1&lt;/version&gt;\r\n       &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>The JAX-WS dependency library jaxws-api.jar is missing.\nTry:</p>\n<ul>\n<li><p><code>compile group: 'javax.xml.ws', name: 'jaxws-api', version: '2.3.1'</code> - for gradle or:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1464832,"reputation":186,"user_id":1378018,"display_name":"David Bradley"},"score":0,"creation_date":1680269301,"post_id":73881964,"comment_id":133874210,"body_markdown":"I know this is a bit late, but are you by chance using the 4.x versions of the Jakarta libraries? I&#39;m currently wrestling with that since Jakarta&#39;s package name changed with that version.","body":"I know this is a bit late, but are you by chance using the 4.x versions of the Jakarta libraries? I&#39;m currently wrestling with that since Jakarta&#39;s package name changed with that version."},{"owner":{"account_id":17192809,"reputation":21,"user_id":12446286,"display_name":"Manish Shinde"},"score":0,"creation_date":1697202108,"post_id":73881964,"comment_id":136253742,"body_markdown":"Same here..just started with 4.x upgrade and stuck with no-arg constructor issue for ProviderImpl","body":"Same here..just started with 4.x upgrade and stuck with no-arg constructor issue for ProviderImpl"},{"owner":{"account_id":1464832,"reputation":186,"user_id":1378018,"display_name":"David Bradley"},"score":0,"creation_date":1697304261,"post_id":73881964,"comment_id":136264296,"body_markdown":"I ended up going back to an older Jakarta version. Until everything I use, uses the 4.x version I&#39;ll have to stick with this. Hoping when we move to Spring 3.x it may be more feasible to use Jakarta 4.x","body":"I ended up going back to an older Jakarta version. Until everything I use, uses the 4.x version I&#39;ll have to stick with this. Hoping when we move to Spring 3.x it may be more feasible to use Jakarta 4.x"}],"tags":[],"owner":{"account_id":17192809,"reputation":21,"user_id":12446286,"display_name":"Manish Shinde"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664370337,"creation_date":1664370337,"answer_id":73881964,"question_id":48626824,"body_markdown":"I know this is already closed for all above people but I am still facing this issue even though I have added\r\njakarta-xml.soap-api and saaj jars in classpath.\r\n\r\nAnything that I am missing to make it work.Tried out using javax-.xml-soap-api as well instead of jakarta jar but still same error.Somehow its not able to identify the jar.","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>I know this is already closed for all above people but I am still facing this issue even though I have added\njakarta-xml.soap-api and saaj jars in classpath.</p>\n<p>Anything that I am missing to make it work.Tried out using javax-.xml-soap-api as well instead of jakarta jar but still same error.Somehow its not able to identify the jar.</p>\n"}],"owner":{"account_id":11291518,"reputation":511,"user_id":8280416,"display_name":"grangos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102115,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":8,"score":50,"last_activity_date":1699265413,"creation_date":1517847288,"question_id":48626824,"body_markdown":"I have created a Web Service using Spring. It works fine when running it on my embedded tomcat server. However when I package it as a JAR file and run it with `java -jar` command, I am receiving this exception.\r\n\r\nMy service sends a simple soap request and the server response is:\r\n\r\n  \r\n\r\n     &quot;exception&quot;: &quot;java.lang.NoClassDefFoundError&quot;,\r\n        &quot;message&quot;: &quot;javax/xml/soap/SOAPException&quot;,\r\n\r\nThat&#39;s the response I get in Postman.\r\n\r\nAny ideas where I can look for the problem.\r\n\r\n","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>I have created a Web Service using Spring. It works fine when running it on my embedded tomcat server. However when I package it as a JAR file and run it with <code>java -jar</code> command, I am receiving this exception.</p>\n\n<p>My service sends a simple soap request and the server response is:</p>\n\n<pre><code> \"exception\": \"java.lang.NoClassDefFoundError\",\n    \"message\": \"javax/xml/soap/SOAPException\",\n</code></pre>\n\n<p>That's the response I get in Postman.</p>\n\n<p>Any ideas where I can look for the problem.</p>\n"},{"tags":["java","mongodb","mongorepository"],"owner":{"account_id":2917205,"reputation":733,"user_id":2500149,"accept_rate":62,"display_name":"Marcin K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699265023,"creation_date":1699265023,"question_id":77430225,"body_markdown":"I have 2 services. One writes data to MongoDB database and the other reads these data. I have a shared dependency that contains definitions of the database objects so they are consistent between projects. However the project that WRITES to the database for some reasons is delivered with a few weeks delay. The entity in question needs to get a new field - an int. I want the reading service code to be able to read the new entity, but also to be able to read the old entity and assign a default hardcoded value to the new field, until the new entity definition reaches the writing service and therefor the database. I am using MongoRepository class to read the data from the database. I am the owner of both projects and the dependency. So far I had 2 ideas:\r\n\r\n 1. Temporarily create an extra constructor for the entity that would take 1 less argument and hope that MongoRepository will try to use it. However I got &quot;constructor cannot be applied to given types&quot; exception here.\r\n 2. Use Integer instead of int as the entity field, so I get null value in my constructor instead of exception. I then check for null and put default value in such case. This seems to work but I am worried that it can cause problems after I change the entity&#39;s field back to &quot;int&quot;, as maybe data written as &quot;Integer&quot; is stored differently than &quot;int&quot;.\r\n\r\nWhat is the best way to achieve my goal? Will there be a problem with solution #2?","title":"How to make MongoRepository read both old and new version of database entity after adding new field","body":"<p>I have 2 services. One writes data to MongoDB database and the other reads these data. I have a shared dependency that contains definitions of the database objects so they are consistent between projects. However the project that WRITES to the database for some reasons is delivered with a few weeks delay. The entity in question needs to get a new field - an int. I want the reading service code to be able to read the new entity, but also to be able to read the old entity and assign a default hardcoded value to the new field, until the new entity definition reaches the writing service and therefor the database. I am using MongoRepository class to read the data from the database. I am the owner of both projects and the dependency. So far I had 2 ideas:</p>\n<ol>\n<li>Temporarily create an extra constructor for the entity that would take 1 less argument and hope that MongoRepository will try to use it. However I got &quot;constructor cannot be applied to given types&quot; exception here.</li>\n<li>Use Integer instead of int as the entity field, so I get null value in my constructor instead of exception. I then check for null and put default value in such case. This seems to work but I am worried that it can cause problems after I change the entity's field back to &quot;int&quot;, as maybe data written as &quot;Integer&quot; is stored differently than &quot;int&quot;.</li>\n</ol>\n<p>What is the best way to achieve my goal? Will there be a problem with solution #2?</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":1219626,"reputation":1502,"user_id":1186523,"accept_rate":38,"display_name":"uylmz"},"score":2,"creation_date":1481236769,"post_id":41050029,"comment_id":69307751,"body_markdown":"did you check out http://stackoverflow.com/questions/37527038/mockito-object-is-not-an-instance-of-declaring-class ? it says it maybe related to your java vm version","body":"did you check out <a href=\"http://stackoverflow.com/questions/37527038/mockito-object-is-not-an-instance-of-declaring-class\" title=\"mockito object is not an instance of declaring class\">stackoverflow.com/questions/37527038/&hellip;</a> ? it says it maybe related to your java vm version"},{"owner":{"account_id":2348279,"reputation":3367,"user_id":2057867,"accept_rate":27,"display_name":"Jacob Clark"},"score":0,"creation_date":1481237270,"post_id":41050029,"comment_id":69307916,"body_markdown":"I did update, but no luck.","body":"I did update, but no luck."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1481254476,"post_id":41050029,"comment_id":69312693,"body_markdown":"This is a very interesting problem. Are you doing anything interesting with your classes or tests, like loading dynamically from a JAR? (Or any other reason that you&#39;d have two distinct classloaders operating in the same test?)","body":"This is a very interesting problem. Are you doing anything interesting with your classes or tests, like loading dynamically from a JAR? (Or any other reason that you&#39;d have two distinct classloaders operating in the same test?)"},{"owner":{"account_id":29885,"reputation":41593,"user_id":81071,"accept_rate":77,"display_name":"Koraktor"},"score":0,"creation_date":1488318370,"post_id":41050029,"comment_id":72175550,"body_markdown":"Possible duplicate of [Mockito object is not an instance of declaring class](http://stackoverflow.com/questions/37527038/mockito-object-is-not-an-instance-of-declaring-class)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/37527038/mockito-object-is-not-an-instance-of-declaring-class\">Mockito object is not an instance of declaring class</a>"}],"answers":[{"tags":[],"owner":{"account_id":8086591,"reputation":1869,"user_id":6093953,"display_name":"Andrushenko Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1498042217,"creation_date":1498042217,"answer_id":44674013,"question_id":41050029,"body_markdown":"Had same issue. When I updated my Java JDK version to 1.8.0_131 the error disappeared.","title":"Mockito cannot mock this class","body":"<p>Had same issue. When I updated my Java JDK version to 1.8.0_131 the error disappeared.</p>\n"},{"comments":[{"owner":{"account_id":15251107,"reputation":870,"user_id":11004423,"display_name":"acmpo6ou"},"score":0,"creation_date":1606134539,"post_id":55484174,"comment_id":114859680,"body_markdown":"The link with github issue fixed the error, thanks!","body":"The link with github issue fixed the error, thanks!"}],"tags":[],"owner":{"account_id":8549769,"reputation":233,"user_id":6407070,"display_name":"nkadu1"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554298633,"creation_date":1554242453,"answer_id":55484174,"question_id":41050029,"body_markdown":"I had the same issue.\r\nI tried everything that is listed on stack overflow i.e\r\n\r\n - updated JDK version\r\n - updated Maven\r\n - Made ByteBuddy and Mockito to use compatible versions.\r\n - cleared cache\r\n - use latest mockito versions etc\r\n\r\nand this : https://github.com/mockito/mockito/issues/1606.\r\n\r\nBut nothing worked for me.\r\n\r\nI cleared all the cache and then reinstalled Android studio\r\nwhich fixed the issue.\r\n\r\nProbably just clearing all the caches that Android Studio uses could have solved it too.","title":"Mockito cannot mock this class","body":"<p>I had the same issue.\nI tried everything that is listed on stack overflow i.e</p>\n\n<ul>\n<li>updated JDK version</li>\n<li>updated Maven</li>\n<li>Made ByteBuddy and Mockito to use compatible versions.</li>\n<li>cleared cache</li>\n<li>use latest mockito versions etc</li>\n</ul>\n\n<p>and this : <a href=\"https://github.com/mockito/mockito/issues/1606\" rel=\"noreferrer\">https://github.com/mockito/mockito/issues/1606</a>.</p>\n\n<p>But nothing worked for me.</p>\n\n<p>I cleared all the cache and then reinstalled Android studio\nwhich fixed the issue.</p>\n\n<p>Probably just clearing all the caches that Android Studio uses could have solved it too.</p>\n"},{"tags":[],"owner":{"account_id":6813468,"reputation":11,"user_id":5242915,"display_name":"Aji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564760521,"creation_date":1564757718,"answer_id":57328954,"question_id":41050029,"body_markdown":"I had the same issue after I update to new java version with OpenJ9 JVM, now I am using HotSpot JVM. I don&#39;t have this issue anymore\r\n\r\n","title":"Mockito cannot mock this class","body":"<p>I had the same issue after I update to new java version with OpenJ9 JVM, now I am using HotSpot JVM. I don't have this issue anymore</p>\n"},{"comments":[{"owner":{"account_id":5291486,"reputation":139,"user_id":4223942,"display_name":"Gopal Bairwa"},"score":2,"creation_date":1580665628,"post_id":58488444,"comment_id":106163090,"body_markdown":"See solution at https://dev.to/scottshipp/how-to-fix-a-mockito-cannot-mock-this-class-exception-in-a-spring-boot-app-457e. Worked for me.","body":"See solution at <a href=\"https://dev.to/scottshipp/how-to-fix-a-mockito-cannot-mock-this-class-exception-in-a-spring-boot-app-457e\" rel=\"nofollow noreferrer\">dev.to/scottshipp/&hellip;</a>. Worked for me."}],"tags":[],"owner":{"account_id":12730279,"reputation":1162,"user_id":9247203,"display_name":"JoschJava"},"comment_count":1,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1571668045,"creation_date":1571668045,"answer_id":58488444,"question_id":41050029,"body_markdown":"Even though it&#39;s not specifically answering the question (question is Java 8), I came here via Google. Using Java 11, I solved this issue by including the following dependency in `build.gradle`: \r\n\r\n`compile group: &#39;org.mockito&#39;, name: &#39;mockito-core&#39;, version: &#39;2.22.0&#39;`\r\n\r\nas discussed [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52537324/9247203","title":"Mockito cannot mock this class","body":"<p>Even though it's not specifically answering the question (question is Java 8), I came here via Google. Using Java 11, I solved this issue by including the following dependency in <code>build.gradle</code>: </p>\n\n<p><code>compile group: 'org.mockito', name: 'mockito-core', version: '2.22.0'</code></p>\n\n<p>as discussed <a href=\"https://stackoverflow.com/a/52537324/9247203\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1316844,"reputation":2459,"user_id":1301891,"accept_rate":86,"display_name":"Jason Hartley"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1575330675,"creation_date":1575330675,"answer_id":59148334,"question_id":41050029,"body_markdown":"File -&gt; Invalidate Caches / Restart\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sXsG0.png\r\n\r\nMy class was public and non-final. This did the trick.","title":"Mockito cannot mock this class","body":"<p>File -> Invalidate Caches / Restart</p>\n\n<p><a href=\"https://i.stack.imgur.com/sXsG0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXsG0.png\" alt=\"enter image description here\"></a></p>\n\n<p>My class was public and non-final. This did the trick.</p>\n"},{"tags":[],"owner":{"account_id":17263363,"reputation":11,"user_id":12500725,"display_name":"Lily Mo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575821952,"creation_date":1575820809,"answer_id":59237224,"question_id":41050029,"body_markdown":"Update JDK, the error fixed when I&#39;ve changed JDk 1.8 to 11, also I added this \r\n \r\n\r\n    @Rule\r\n     public MockitoRule rule = MockitoJUnit.rule();\r\n\r\n It&#39;s about &#39;Tells Mockito to create the mocks based on the @Mock annotation&#39;","title":"Mockito cannot mock this class","body":"<p>Update JDK, the error fixed when I've changed JDk 1.8 to 11, also I added this </p>\n\n<pre><code>@Rule\n public MockitoRule rule = MockitoJUnit.rule();\n</code></pre>\n\n<p>It's about 'Tells Mockito to create the mocks based on the @Mock annotation'</p>\n"},{"tags":[],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575984223,"creation_date":1575984223,"answer_id":59268246,"question_id":41050029,"body_markdown":"I had the same issue when I downgrade from JDK 13 to 1.8 error disappears. I think Mockito versions is not compatible with version 13.","title":"Mockito cannot mock this class","body":"<p>I had the same issue when I downgrade from JDK 13 to 1.8 error disappears. I think Mockito versions is not compatible with version 13.</p>\n"},{"tags":[],"owner":{"account_id":5221763,"reputation":6678,"user_id":4174993,"display_name":"papigee"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1579822817,"creation_date":1579822817,"answer_id":59888581,"question_id":41050029,"body_markdown":"It is because of Java/Mockito compatibility. For example, if you are using Java 11 with Mockito 2.17.0, it will throw the same error (Upgrading to Mockito 2.22.0 or later will solve it). Aside from digging into their [release artifact on Github][1], I am yet to see a comprehensive document that spells out the compatibility matrix. Here is a helpful compatibility Matrix (based on quick test)\r\n\r\n* Mockito * - 2.17.0 =&gt; Java 8 \r\n\r\n&gt; (footnote: * - dont know how far back)\r\n\r\n* Mockito 2.18.0 - 3.2.4 =&gt; Java 11\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/releases","title":"Mockito cannot mock this class","body":"<p>It is because of Java/Mockito compatibility. For example, if you are using Java 11 with Mockito 2.17.0, it will throw the same error (Upgrading to Mockito 2.22.0 or later will solve it). Aside from digging into their <a href=\"https://github.com/mockito/mockito/releases\" rel=\"noreferrer\">release artifact on Github</a>, I am yet to see a comprehensive document that spells out the compatibility matrix. Here is a helpful compatibility Matrix (based on quick test)</p>\n\n<ul>\n<li>Mockito * - 2.17.0 => Java 8 </li>\n</ul>\n\n<blockquote>\n  <p>(footnote: * - dont know how far back)</p>\n</blockquote>\n\n<ul>\n<li>Mockito 2.18.0 - 3.2.4 => Java 11</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7666965,"reputation":374,"user_id":5810423,"display_name":"Adrian Redgers"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581605028,"creation_date":1581605028,"answer_id":60210414,"question_id":41050029,"body_markdown":"When I examined my Java-8 project&#39;s dependency tree I found that spring-boot-starter-test was using Mockito 2.15.0. Fixed by excluding that transitive Mockito dependency and re-adding it explicitly with version 2.23.4 (and re-build if not done automatically). Snippet of my maven POM:\r\n\r\n    &lt;dependencies&gt;\r\n    ...\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.23.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nIf using gradle it will look something like:\r\n\r\n\r\n    dependencies {\r\n        ...\r\n        def withoutMockito = {\r\n            exclude group: &#39;org.mockito&#39;, module: &#39;mockito-core&#39;\r\n        }\r\n        testImplementation &quot;org.springframework.boot:spring-boot-starter-test:2.0.2-RELEASE&quot;, withoutMockito\r\n        testImplementation &quot;org.mockito:mockito-core:2.23.4&quot;\r\n     }\r\n\r\n\r\n\r\n","title":"Mockito cannot mock this class","body":"<p>When I examined my Java-8 project's dependency tree I found that spring-boot-starter-test was using Mockito 2.15.0. Fixed by excluding that transitive Mockito dependency and re-adding it explicitly with version 2.23.4 (and re-build if not done automatically). Snippet of my maven POM:</p>\n\n<pre><code>&lt;dependencies&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;2.23.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>If using gradle it will look something like:</p>\n\n<pre><code>dependencies {\n    ...\n    def withoutMockito = {\n        exclude group: 'org.mockito', module: 'mockito-core'\n    }\n    testImplementation \"org.springframework.boot:spring-boot-starter-test:2.0.2-RELEASE\", withoutMockito\n    testImplementation \"org.mockito:mockito-core:2.23.4\"\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"score":1,"creation_date":1585720666,"post_id":60643749,"comment_id":107857610,"body_markdown":"Worked for me after adding classes package with open tag into module-info  that i wanted to mock","body":"Worked for me after adding classes package with open tag into module-info  that i wanted to mock"}],"tags":[],"owner":{"account_id":1499204,"reputation":5419,"user_id":1404407,"accept_rate":100,"display_name":"Cory Roy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583957265,"creation_date":1583957265,"answer_id":60643749,"question_id":41050029,"body_markdown":"For me the issue was that the classes needed to be `open`.\r\n\r\nI am using the: \r\n\r\n`@Mock lateinit var mock: ClassUnderTest`\r\n\r\nmethod of mocking.\r\n\r\n","title":"Mockito cannot mock this class","body":"<p>For me the issue was that the classes needed to be <code>open</code>.</p>\n\n<p>I am using the: </p>\n\n<p><code>@Mock lateinit var mock: ClassUnderTest</code></p>\n\n<p>method of mocking.</p>\n"},{"comments":[{"owner":{"account_id":14814685,"reputation":406,"user_id":10699128,"display_name":"komidawi"},"score":0,"creation_date":1614759919,"post_id":62210158,"comment_id":117480018,"body_markdown":"After hours of finding solution THIS is the way to make it work. Thanks!","body":"After hours of finding solution THIS is the way to make it work. Thanks!"}],"tags":[],"owner":{"account_id":18768166,"reputation":41,"user_id":13685554,"display_name":"wuxinshui"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591341864,"creation_date":1591341864,"answer_id":62210158,"question_id":41050029,"body_markdown":"I had the same issue.\r\n\r\nmy jdk version is `11.0.4+10-LTS`.\r\n\r\nI use `org.springframework.boot:spring-boot-starter-parent:2.0.7.RELEASE`\r\n\r\nI upgrade Mockito to `3.3.0`\r\n\r\nThe exception still happen.\r\n\r\nThen I did this:\r\n\r\n1. exclusion mockito-core from  spring-boot-starter-test\r\n\r\n2. add below to pom file \r\n\r\n```\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Mockito cannot mock this class","body":"<p>I had the same issue.</p>\n\n<p>my jdk version is <code>11.0.4+10-LTS</code>.</p>\n\n<p>I use <code>org.springframework.boot:spring-boot-starter-parent:2.0.7.RELEASE</code></p>\n\n<p>I upgrade Mockito to <code>3.3.0</code></p>\n\n<p>The exception still happen.</p>\n\n<p>Then I did this:</p>\n\n<ol>\n<li><p>exclusion mockito-core from  spring-boot-starter-test</p></li>\n<li><p>add below to pom file </p></li>\n</ol>\n\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n                    &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n                    &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n            &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n            &lt;version&gt;1.10.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n            &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n            &lt;version&gt;1.10.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11532078,"reputation":33,"user_id":8450736,"display_name":"Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623597002,"creation_date":1611844020,"answer_id":65939092,"question_id":41050029,"body_markdown":"For me, adding this dependency fixed the issue \r\n\r\n    androidTestImplementation &quot;org.mockito:mockito-android:${versions.mockito}&quot;","title":"Mockito cannot mock this class","body":"<p>For me, adding this dependency fixed the issue</p>\n<pre><code>androidTestImplementation &quot;org.mockito:mockito-android:${versions.mockito}&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4616373,"reputation":109,"user_id":3742749,"display_name":"Leelavathi Ravindran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614857392,"creation_date":1614857392,"answer_id":66474128,"question_id":41050029,"body_markdown":"Make sure jdk version is selected correctly while running junit via Run As -&gt; Run Configuration -&gt; JRE tab. ","title":"Mockito cannot mock this class","body":"<p>Make sure jdk version is selected correctly while running junit via Run As -&gt; Run Configuration -&gt; JRE tab.</p>\n"},{"tags":[],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625150475,"creation_date":1625150475,"answer_id":68212238,"question_id":41050029,"body_markdown":"in android studio i got this error and i cleaned the project and restarted the IDE to fix it. ","title":"Mockito cannot mock this class","body":"<p>in android studio i got this error and i cleaned the project and restarted the IDE to fix it.</p>\n"},{"tags":[],"owner":{"account_id":6697492,"reputation":1213,"user_id":5165107,"display_name":"CodeWithVikas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625574263,"creation_date":1625574263,"answer_id":68270497,"question_id":41050029,"body_markdown":"I was facing same issue in my Android Studio.\r\n\r\nJust upgrading of `org.mockito:mockito-core` from `2.18.3`  to `2.19.0` ( Latest as of now) solved my issue.","title":"Mockito cannot mock this class","body":"<p>I was facing same issue in my Android Studio.</p>\n<p>Just upgrading of <code>org.mockito:mockito-core</code> from <code>2.18.3</code>  to <code>2.19.0</code> ( Latest as of now) solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":2879831,"reputation":1009,"user_id":2470992,"accept_rate":76,"display_name":"Gleb Belyaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644475683,"creation_date":1644475683,"answer_id":71060841,"question_id":41050029,"body_markdown":"I had the same issues.   \r\nMy dependencies:   \r\n- `spring-boot-parent:2.0.5.RELEASE`\r\n- `org.testcontainers:1.16.3`\r\n\r\nI needed to start the app on Apple M1 with JVM 11\r\n\r\nMy tests failed with some issue.\r\n\r\nI found in logs what used `~[mockito-core-2.15.0.jar:na]`\r\n\r\nAfter read the topic, I added one lib for fix my issue\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.18.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAnd for start `testcontainers` on Apple M1 is used fresh JNA\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Mockito cannot mock this class","body":"<p>I had the same issues.<br />\nMy dependencies:</p>\n<ul>\n<li><code>spring-boot-parent:2.0.5.RELEASE</code></li>\n<li><code>org.testcontainers:1.16.3</code></li>\n</ul>\n<p>I needed to start the app on Apple M1 with JVM 11</p>\n<p>My tests failed with some issue.</p>\n<p>I found in logs what used <code>~[mockito-core-2.15.0.jar:na]</code></p>\n<p>After read the topic, I added one lib for fix my issue</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And for start <code>testcontainers</code> on Apple M1 is used fresh JNA</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\n            &lt;version&gt;5.10.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16606813,"reputation":29,"user_id":12001041,"display_name":"Oleksandr Savchenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1666217157,"creation_date":1666164729,"answer_id":74121454,"question_id":41050029,"body_markdown":"I solved the problem by changing the Java version from 18 to 11\r\n\r\n    File -&gt; Project Structure -&gt; Project -&gt; SDK 11\r\n\r\nWindows:\r\n\r\n - Install Java 11 on your computer by default\r\n - And Environment Variables -&gt; System variables -&gt; `JAVA_HOME\r\n   C:\\Program Files\\Java\\jdk-11.0.16.1\\`\r\n - Restart IntelliJ IDEA\r\n\r\nMac OS:\r\n\r\n - [Install Java 11 on your computer by default][1]\r\n\r\n - I remove other version Java from `/Library/Java/JavaVirtualMachines/`\r\n- Use \r\n\r\n&gt; &lt;!-- language: lang-java --&gt;\r\n&gt; \r\n&gt;     export JAVA_HOME=`/usr/libexec/java_home -v 11`\r\n&gt; \r\n&gt; &lt;!-- end snippet --&gt;\r\n- And restart IntelliJ IDEA\r\n\r\n    \r\nMy version dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/install/installation-jdk-macos.html#GUID-2FE451B0-9572-4E38-A1A5-568B77B146DE","title":"Mockito cannot mock this class","body":"<p>I solved the problem by changing the Java version from 18 to 11</p>\n<pre><code>File -&gt; Project Structure -&gt; Project -&gt; SDK 11\n</code></pre>\n<p>Windows:</p>\n<ul>\n<li>Install Java 11 on your computer by default</li>\n<li>And Environment Variables -&gt; System variables -&gt; <code>JAVA_HOME C:\\Program Files\\Java\\jdk-11.0.16.1\\</code></li>\n<li>Restart IntelliJ IDEA</li>\n</ul>\n<p>Mac OS:</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/11/install/installation-jdk-macos.html#GUID-2FE451B0-9572-4E38-A1A5-568B77B146DE\" rel=\"nofollow noreferrer\">Install Java 11 on your computer by default</a></p>\n</li>\n<li><p>I remove other version Java from <code>/Library/Java/JavaVirtualMachines/</code></p>\n</li>\n<li><p>Use</p>\n</li>\n</ul>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>export JAVA_HOME=`/usr/libexec/java_home -v 11`\n</code></pre>\n\n</blockquote>\n<ul>\n<li>And restart IntelliJ IDEA</li>\n</ul>\n<p>My version dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667415187,"creation_date":1667415187,"answer_id":74294332,"question_id":41050029,"body_markdown":"I was getting a similar error. I cleaned the caches by:\r\nFile -&gt; Invalidate Caches\r\nand when I got Lombok error, I changed the jdk version to 11 by:\r\nFile -&gt; Project Structure","title":"Mockito cannot mock this class","body":"<p>I was getting a similar error. I cleaned the caches by:\nFile -&gt; Invalidate Caches\nand when I got Lombok error, I changed the jdk version to 11 by:\nFile -&gt; Project Structure</p>\n"},{"tags":[],"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695995094,"creation_date":1695995094,"answer_id":77202453,"question_id":41050029,"body_markdown":"Had the same issue.  After wasting 2 hours updating the latest mockito-android, checking the JDK, deleting the .gradle directory, I was still faced with this issue.  \r\n\r\nFinally I wiped my device (the emulator) and cold booted.  Voila!  All the tests ran.  ","title":"Mockito cannot mock this class","body":"<p>Had the same issue.  After wasting 2 hours updating the latest mockito-android, checking the JDK, deleting the .gradle directory, I was still faced with this issue.</p>\n<p>Finally I wiped my device (the emulator) and cold booted.  Voila!  All the tests ran.</p>\n"},{"tags":[],"owner":{"account_id":3970533,"reputation":5671,"user_id":3275253,"accept_rate":17,"display_name":"voghDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699264799,"creation_date":1699264799,"answer_id":77430197,"question_id":41050029,"body_markdown":"I was having the same issue, and the root cause was that we were mocking a Sealed class. Such practice is not recommended, and I had to substitute these mocks with valid instances of `object`s instead of sealed class mocks.\r\nThat was the only way to solve the issue for me","title":"Mockito cannot mock this class","body":"<p>I was having the same issue, and the root cause was that we were mocking a Sealed class. Such practice is not recommended, and I had to substitute these mocks with valid instances of <code>object</code>s instead of sealed class mocks.\nThat was the only way to solve the issue for me</p>\n"}],"owner":{"account_id":2348279,"reputation":3367,"user_id":2057867,"accept_rate":27,"display_name":"Jacob Clark"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143776,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":20,"score":77,"last_activity_date":1699264799,"creation_date":1481236375,"question_id":41050029,"body_markdown":"I am attempting to mock a public class, however when doing so, Mockito throws an `Mockito cannot mock this class` exception.\r\n\r\nClass I wish to mock: https://github.com/scribejava/scribejava/blob/master/scribejava-core/src/main/java/com/github/scribejava/core/builder/ServiceBuilder.java\r\n\r\nTest code:\r\n\r\n    package xyz.jacobclark.adapter;\r\n    \r\n    import com.github.scribejava.apis.TwitterApi;\r\n    import com.github.scribejava.core.builder.ServiceBuilder;\r\n    import com.github.scribejava.core.model.OAuth1RequestToken;\r\n    import com.github.scribejava.core.oauth.OAuth10aService;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import static org.hamcrest.Matchers.is;\r\n    import static org.hamcrest.core.IsInstanceOf.any;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class TwitterOAuthAdapterTest {\r\n        @Mock\r\n        ServiceBuilder serviceBuilder;\r\n    \r\n        @Test\r\n        public void getRequestTokenShouldReturnAValidRequestToken() throws IOException {\r\n            class TwitterOAuthAdapter {\r\n                private final OAuth10aService service;\r\n    \r\n                public TwitterOAuthAdapter(ServiceBuilder serviceBuilder){\r\n                    this.service = serviceBuilder\r\n                        .apiKey(&quot;&quot;)\r\n                        .apiSecret(&quot;&quot;)\r\n                        .build(TwitterApi.instance());\r\n                }\r\n    \r\n                public OAuth1RequestToken getRequestToken() throws IOException {\r\n                    return this.service.getRequestToken();\r\n                }\r\n            }\r\n    \r\n            TwitterOAuthAdapter oAuthAdapter = new TwitterOAuthAdapter(serviceBuilder);\r\n            Assert.assertThat(oAuthAdapter.getRequestToken(), is(any(OAuth1RequestToken.class)));\r\n        }\r\n    }\r\n\r\n\r\nFull stacktrace:\r\n\r\n    xyz.jacobclark.adapter.TwitterOAuthAdapterTest\r\n    \r\n    org.mockito.exceptions.base.MockitoException: \r\n    Mockito cannot mock this class: class com.github.scribejava.core.builder.ServiceBuilder.\r\n    \r\n    Mockito can only mock non-private &amp; non-final classes.\r\n    If you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n    \r\n    \r\n    Java               : 1.8\r\n    JVM vendor name    : Oracle Corporation\r\n    JVM vendor version : 25.0-b70\r\n    JVM name           : Java HotSpot(TM) 64-Bit Server VM\r\n    JVM version        : 1.8.0-b132\r\n    JVM info           : mixed mode\r\n    OS name            : Mac OS X\r\n    OS version         : 10.11.3\r\n    \r\n    \r\n    Underlying exception : java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n    \r\n    \tat org.mockito.internal.runners.SilentJUnitRunner$1.withBefores(SilentJUnitRunner.java:29)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:276)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.mockito.internal.runners.SilentJUnitRunner.run(SilentJUnitRunner.java:39)\r\n    \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\r\n    \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:103)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:117)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\n    Caused by: java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3843)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$Chained.resolve(TypeDescription.java:3468)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3803)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3439)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:4748)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:680)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:663)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType.accept(TypeDescription.java:4656)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:691)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:663)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfParameterizedType.accept(TypeDescription.java:4998)\r\n    \tat net.bytebuddy.description.type.TypeList$Generic$AbstractBase.accept(TypeList.java:249)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing$RetainedTypeVariable.getUpperBounds(TypeDescription.java:832)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfTypeVariable.asErasure(TypeDescription.java:5373)\r\n    \tat net.bytebuddy.description.method.MethodDescription$AbstractBase.asTypeToken(MethodDescription.java:701)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Harmonized.of(MethodGraph.java:881)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Store.registerTopLevel(MethodGraph.java:1074)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:588)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyze(MethodGraph.java:548)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyzeNullable(MethodGraph.java:567)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:581)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.compile(MethodGraph.java:521)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$AbstractBase.compile(MethodGraph.java:442)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodRegistry$Default.prepare(MethodRegistry.java:480)\r\n    \tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:160)\r\n    \tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:153)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2568)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2670)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:84)\r\n    \tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$CachedBytecodeGenerator.getOrGenerateMockClass(TypeCachingBytecodeGenerator.java:91)\r\n    \tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:38)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:67)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:38)\r\n    \tat org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:26)\r\n    \tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\r\n    \tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\r\n    \tat org.mockito.Mockito.mock(Mockito.java:1637)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:39)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:63)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:59)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:43)\r\n    \tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:67)\r\n    \t... 23 more\r\n    \r\n    \r\n    Test ignored.\r\n    Process finished with exit code 255\r\n\r\n","title":"Mockito cannot mock this class","body":"<p>I am attempting to mock a public class, however when doing so, Mockito throws an <code>Mockito cannot mock this class</code> exception.</p>\n\n<p>Class I wish to mock: <a href=\"https://github.com/scribejava/scribejava/blob/master/scribejava-core/src/main/java/com/github/scribejava/core/builder/ServiceBuilder.java\" rel=\"noreferrer\">https://github.com/scribejava/scribejava/blob/master/scribejava-core/src/main/java/com/github/scribejava/core/builder/ServiceBuilder.java</a></p>\n\n<p>Test code:</p>\n\n<pre><code>package xyz.jacobclark.adapter;\n\nimport com.github.scribejava.apis.TwitterApi;\nimport com.github.scribejava.core.builder.ServiceBuilder;\nimport com.github.scribejava.core.model.OAuth1RequestToken;\nimport com.github.scribejava.core.oauth.OAuth10aService;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\n\nimport java.io.IOException;\n\nimport static org.hamcrest.Matchers.is;\nimport static org.hamcrest.core.IsInstanceOf.any;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class TwitterOAuthAdapterTest {\n    @Mock\n    ServiceBuilder serviceBuilder;\n\n    @Test\n    public void getRequestTokenShouldReturnAValidRequestToken() throws IOException {\n        class TwitterOAuthAdapter {\n            private final OAuth10aService service;\n\n            public TwitterOAuthAdapter(ServiceBuilder serviceBuilder){\n                this.service = serviceBuilder\n                    .apiKey(\"\")\n                    .apiSecret(\"\")\n                    .build(TwitterApi.instance());\n            }\n\n            public OAuth1RequestToken getRequestToken() throws IOException {\n                return this.service.getRequestToken();\n            }\n        }\n\n        TwitterOAuthAdapter oAuthAdapter = new TwitterOAuthAdapter(serviceBuilder);\n        Assert.assertThat(oAuthAdapter.getRequestToken(), is(any(OAuth1RequestToken.class)));\n    }\n}\n</code></pre>\n\n<p>Full stacktrace:</p>\n\n<pre><code>xyz.jacobclark.adapter.TwitterOAuthAdapterTest\n\norg.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class com.github.scribejava.core.builder.ServiceBuilder.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 1.8\nJVM vendor name    : Oracle Corporation\nJVM vendor version : 25.0-b70\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\nJVM version        : 1.8.0-b132\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 10.11.3\n\n\nUnderlying exception : java.lang.IllegalArgumentException: object is not an instance of declaring class\n\n    at org.mockito.internal.runners.SilentJUnitRunner$1.withBefores(SilentJUnitRunner.java:29)\n    at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:276)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.mockito.internal.runners.SilentJUnitRunner.run(SilentJUnitRunner.java:39)\n    at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\n    at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:103)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:117)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\nCaused by: java.lang.IllegalArgumentException: object is not an instance of declaring class\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3843)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$Chained.resolve(TypeDescription.java:3468)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3803)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3439)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:4748)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:680)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:663)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType.accept(TypeDescription.java:4656)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:691)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:663)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfParameterizedType.accept(TypeDescription.java:4998)\n    at net.bytebuddy.description.type.TypeList$Generic$AbstractBase.accept(TypeList.java:249)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing$RetainedTypeVariable.getUpperBounds(TypeDescription.java:832)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfTypeVariable.asErasure(TypeDescription.java:5373)\n    at net.bytebuddy.description.method.MethodDescription$AbstractBase.asTypeToken(MethodDescription.java:701)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Harmonized.of(MethodGraph.java:881)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Store.registerTopLevel(MethodGraph.java:1074)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:588)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyze(MethodGraph.java:548)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyzeNullable(MethodGraph.java:567)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:581)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.compile(MethodGraph.java:521)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$AbstractBase.compile(MethodGraph.java:442)\n    at net.bytebuddy.dynamic.scaffold.MethodRegistry$Default.prepare(MethodRegistry.java:480)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:160)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:153)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2568)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2670)\n    at org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:84)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$CachedBytecodeGenerator.getOrGenerateMockClass(TypeCachingBytecodeGenerator.java:91)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:38)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:67)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:38)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:26)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\n    at org.mockito.Mockito.mock(Mockito.java:1637)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:39)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:63)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:59)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:43)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:67)\n    ... 23 more\n\n\nTest ignored.\nProcess finished with exit code 255\n</code></pre>\n"},{"tags":["java","android","bigdecimal","icu"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1537862744,"post_id":52493345,"comment_id":91927329,"body_markdown":"Read https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal","body":"Read <a href=\"https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal\" rel=\"nofollow noreferrer\">developer.android.com/reference/kotlin/android/icu/math/&hellip;</a>"},{"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"score":1,"creation_date":1537863056,"post_id":52493345,"comment_id":91927497,"body_markdown":"@IntelliJAmiya It doesn&#39;t mention anything about the difference","body":"@IntelliJAmiya It doesn&#39;t mention anything about the difference"}],"answers":[{"comments":[{"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"score":3,"creation_date":1537863207,"post_id":52493456,"comment_id":91927583,"body_markdown":"I don&#39;t think so, it is in android package which is not related to `kotlin`","body":"I don&#39;t think so, it is in android package which is not related to <code>kotlin</code>"},{"owner":{"account_id":9295288,"reputation":454,"user_id":6902410,"display_name":"IsaiahJ"},"score":0,"creation_date":1537863307,"post_id":52493456,"comment_id":91927622,"body_markdown":"If you look at the documentation, you can see it extends kotlin.Number\n`kotlin.Any\n   \tkotlin.Number\n         android.icu.math.BigDecimal` The documentation is also all in kotlin","body":"If you look at the documentation, you can see it extends kotlin.Number <code>kotlin.Any    \tkotlin.Number          android.icu.math.BigDecimal</code> The documentation is also all in kotlin"},{"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"score":0,"creation_date":1537863505,"post_id":52493456,"comment_id":91927713,"body_markdown":"I see, but it is not implemented in `kotlin` language any way","body":"I see, but it is not implemented in <code>kotlin</code> language any way"}],"tags":[],"owner":{"account_id":9295288,"reputation":454,"user_id":6902410,"display_name":"IsaiahJ"},"comment_count":3,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1537862927,"creation_date":1537862927,"answer_id":52493456,"question_id":52493345,"body_markdown":"I think the TLDR difference is just that `java.math.BigDecimal` is for Java and \r\n`android.icu.math.BigDecimal` is for Kotlin.\r\n\r\nYou could read up on their documentation for more detailed differences.\r\n&gt; https://developer.android.com/reference/java/math/BigDecimal\r\n&gt; https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal","title":"Java BigDecimal vs Android BigDecimal","body":"<p>I think the TLDR difference is just that <code>java.math.BigDecimal</code> is for Java and \n<code>android.icu.math.BigDecimal</code> is for Kotlin.</p>\n\n<p>You could read up on their documentation for more detailed differences.</p>\n\n<blockquote>\n  <p><a href=\"https://developer.android.com/reference/java/math/BigDecimal\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/math/BigDecimal</a>\n  <a href=\"https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal</a></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"score":0,"creation_date":1537864412,"post_id":52493735,"comment_id":91928168,"body_markdown":"The both reference you&#39;ve mentioned are the same, I think Android Developer website just copied the main documentation there, I mean https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal  which is child of Java `kotlin.Number`","body":"The both reference you&#39;ve mentioned are the same, I think Android Developer website just copied the main documentation there, I mean <a href=\"https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal\" rel=\"nofollow noreferrer\">developer.android.com/reference/kotlin/android/icu/math/&hellip;</a>  which is child of Java <code>kotlin.Number</code>"},{"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"score":0,"creation_date":1537864802,"post_id":52493735,"comment_id":91928387,"body_markdown":"Is there anything about recreating java classes by Android in that Wikipedia article?","body":"Is there anything about recreating java classes by Android in that Wikipedia article?"},{"owner":{"account_id":2458629,"reputation":1611,"user_id":2143225,"display_name":"Markus Penguin"},"score":1,"creation_date":1537865238,"post_id":52493735,"comment_id":91928632,"body_markdown":"I highly doubt the court case theory: the class was not &quot;re-created by Android&quot;, it is part of the [ICU library](http://site.icu-project.org/) which is partly included in Android to [provide broader support for standards and languages](https://developer.android.com/guide/topics/resources/internationalization).","body":"I highly doubt the court case theory: the class was not &quot;re-created by Android&quot;, it is part of the <a href=\"http://site.icu-project.org/\" rel=\"nofollow noreferrer\">ICU library</a> which is partly included in Android to <a href=\"https://developer.android.com/guide/topics/resources/internationalization\" rel=\"nofollow noreferrer\">provide broader support for standards and languages</a>."},{"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"score":0,"creation_date":1537866951,"post_id":52493735,"comment_id":91929632,"body_markdown":"@MarkusPenguin I have edited my answer (removed the wiki link), I think google is separating its classes cause for not to be dependent on Java classes.","body":"@MarkusPenguin I have edited my answer (removed the wiki link), I think google is separating its classes cause for not to be dependent on Java classes."},{"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"score":0,"creation_date":1537867054,"post_id":52493735,"comment_id":91929698,"body_markdown":"@Mosius no, that&#39;s not relevant from your question, I added link to just tell you.","body":"@Mosius no, that&#39;s not relevant from your question, I added link to just tell you."},{"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"score":0,"creation_date":1537867097,"post_id":52493735,"comment_id":91929723,"body_markdown":"@Khemraj Any way it should rely on a language, Java or kotlin","body":"@Khemraj Any way it should rely on a language, Java or kotlin"}],"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537866815,"creation_date":1537864029,"answer_id":52493735,"question_id":52493345,"body_markdown":"Either use `java.math.BigDecimal` or `android.icu.math.BigDecimal`, there will not be performance difference between both. Because these are basic class, Android `BigDecimal` was re-created with reference of Java `BigDecimal`. \r\n\r\nIf you ask difference between both, then \r\n\r\n - by purpose both are same.\r\n - by code they may differ, can have some less or more methods. So you should read all methods in both classes to find out difference.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\r\nhttps://developer.android.com/reference/java/math/BigDecimal\r\n\r\nAndroid re-create classes to add some feature to existing classes.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Oracle_America,_Inc._v._Google,_Inc.","title":"Java BigDecimal vs Android BigDecimal","body":"<p>Either use <code>java.math.BigDecimal</code> or <code>android.icu.math.BigDecimal</code>, there will not be performance difference between both. Because these are basic class, Android <code>BigDecimal</code> was re-created with reference of Java <code>BigDecimal</code>. </p>\n\n<p>If you ask difference between both, then </p>\n\n<ul>\n<li>by purpose both are same.</li>\n<li>by code they may differ, can have some less or more methods. So you should read all methods in both classes to find out difference.</li>\n</ul>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html</a>\n<a href=\"https://developer.android.com/reference/java/math/BigDecimal\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/math/BigDecimal</a></p>\n\n<p>Android re-create classes to add some feature to existing classes.</p>\n"},{"tags":[],"owner":{"account_id":2458629,"reputation":1611,"user_id":2143225,"display_name":"Markus Penguin"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1537864956,"creation_date":1537864956,"answer_id":52493977,"question_id":52493345,"body_markdown":"`android.icu.math.BigDecimal` is part of the [ICU library](http://site.icu-project.org/) (International Components for Unicode). Since API 24 the Android framework exposes some of the ICU4J classes for you to use. The [Android documentation on Unicode and I18N support](https://developer.android.com/guide/topics/resources/internationalization) states:\r\n\r\n&gt; Some classes in the `java` and `android` packages have equivalents to those\r\n&gt; found in ICU4J. However, ICU4J often provides broader support for\r\n&gt; standards and languages.\r\n\r\nDon&#39;t be confused by the above quote because ICU classes do reside in the `android` package. They were moved to `android.icu` from `com.ibm.icu` in order to avoid conflicts.\r\n\r\nRegarding `BigDecimal` in particular: [I found a discussion on the internet](https://sourceforge.net/p/icu/mailman/message/21284480/) which concludes that `BigDecimal` was available in ICU before it was available in Java and is kept in the library for compatibility purposes.\r\n\r\nBottom line: use whatever implementation you like, but `java.math.BigDecimal` is less likely to be deprecated in the future.","title":"Java BigDecimal vs Android BigDecimal","body":"<p><code>android.icu.math.BigDecimal</code> is part of the <a href=\"http://site.icu-project.org/\" rel=\"noreferrer\">ICU library</a> (International Components for Unicode). Since API 24 the Android framework exposes some of the ICU4J classes for you to use. The <a href=\"https://developer.android.com/guide/topics/resources/internationalization\" rel=\"noreferrer\">Android documentation on Unicode and I18N support</a> states:</p>\n\n<blockquote>\n  <p>Some classes in the <code>java</code> and <code>android</code> packages have equivalents to those\n  found in ICU4J. However, ICU4J often provides broader support for\n  standards and languages.</p>\n</blockquote>\n\n<p>Don't be confused by the above quote because ICU classes do reside in the <code>android</code> package. They were moved to <code>android.icu</code> from <code>com.ibm.icu</code> in order to avoid conflicts.</p>\n\n<p>Regarding <code>BigDecimal</code> in particular: <a href=\"https://sourceforge.net/p/icu/mailman/message/21284480/\" rel=\"noreferrer\">I found a discussion on the internet</a> which concludes that <code>BigDecimal</code> was available in ICU before it was available in Java and is kept in the library for compatibility purposes.</p>\n\n<p>Bottom line: use whatever implementation you like, but <code>java.math.BigDecimal</code> is less likely to be deprecated in the future.</p>\n"}],"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1990,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":52493977,"answer_count":3,"score":10,"last_activity_date":1699263797,"creation_date":1537862493,"question_id":52493345,"body_markdown":"I&#39;ve faced `java.math.BigDecimal` and `android.icu.math.BigDecimal` as I require to use `BigDecimal` in the project. \r\n\r\nI&#39;ve realized that the Android `BigDecimal` requires API level 24\r\n\r\nWhat is the different between these two classes? I wonder if there is any performance optimization in Android implementation?","title":"Java BigDecimal vs Android BigDecimal","body":"<p>I've faced <code>java.math.BigDecimal</code> and <code>android.icu.math.BigDecimal</code> as I require to use <code>BigDecimal</code> in the project. </p>\n\n<p>I've realized that the Android <code>BigDecimal</code> requires API level 24</p>\n\n<p>What is the different between these two classes? I wonder if there is any performance optimization in Android implementation?</p>\n"},{"tags":["java","fork-join"],"answers":[{"comments":[{"owner":{"account_id":4711108,"reputation":13103,"user_id":3811592,"accept_rate":100,"display_name":"d-coder"},"score":3,"creation_date":1560841462,"post_id":14301916,"comment_id":99857106,"body_markdown":"How is it different from thread pool size? When I set the parallelism level to 32 then `ForkJoinPool.commonPool().getPoolSize()` returns me 0.","body":"How is it different from thread pool size? When I set the parallelism level to 32 then <code>ForkJoinPool.commonPool().getPoolSize()</code> returns me 0."},{"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"score":1,"creation_date":1643111650,"post_id":14301916,"comment_id":125248011,"body_markdown":"@d-coder `ForkJoinPool.commonPool().getPoolSize() = 0` if you haven&#39;t submitted any runnable/callable/task - only after you submit you&#39;ll be able to see actual poolSize","body":"@d-coder <code>ForkJoinPool.commonPool().getPoolSize() = 0</code> if you haven&#39;t submitted any runnable/callable/task - only after you submit you&#39;ll be able to see actual poolSize"}],"tags":[],"owner":{"account_id":1154709,"reputation":4851,"user_id":1135629,"accept_rate":78,"display_name":"Alex DiCarlo"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1358066193,"creation_date":1358066193,"answer_id":14301916,"question_id":14301780,"body_markdown":"Essentially, the parallelism setting tells the `ForkJoinPool` how many worker threads to use. \r\n\r\nThe default setting is typically optimal, however let&#39;s say you have a worker thread separate from the `ForkJoinPool`, then you might find setting the number of worker threads to number of processors - 1 is better than using all of the processors. In general, the only way to increase the speed and efficiency in a specific program is to profile with different settings.","title":"What is level of parallelism in the Java ForkJoinPool?","body":"<p>Essentially, the parallelism setting tells the <code>ForkJoinPool</code> how many worker threads to use. </p>\n\n<p>The default setting is typically optimal, however let's say you have a worker thread separate from the <code>ForkJoinPool</code>, then you might find setting the number of worker threads to number of processors - 1 is better than using all of the processors. In general, the only way to increase the speed and efficiency in a specific program is to profile with different settings.</p>\n"},{"tags":[],"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699263662,"creation_date":1699263662,"answer_id":77430080,"question_id":14301780,"body_markdown":"The answer is, that it is used for &quot;Sizing Thread Pools&quot;.\r\nSo let&#39;s see what Java platform creators are saying.\r\n\r\nCiting Brian Goetz&#39;s book &quot;Concurrency in Practice&quot;, chapter 8, 8.2. Sizing Thread Pools\r\n\r\n&quot;The ideal size for a thread pool depends on the types of tasks that will be submitted and the characteristics of the deployment system. Thread pool sizes should rarely be hard-coded; instead, pool sizes should be provided by a configuration mechanism or computed dynamically by consulting Runtime.availableProcessors.\r\n\r\nSizing thread pools is not an exact science, but fortunately you need only avoid the extremes of too big and too small. If a thread pool is too big, then threads compete for scarce CPU and memory resources, resulting in higher memory usage and possible resource exhaustion. If it is too small, throughput suffers as processors go unused despite available work.\r\n\r\nTo size a thread pool properly, you need to understand your computing environment, your resource budget, and the nature of your tasks. How many processors does the deployment system have? How much memory? Do tasks perform mostly computation, I/O, or some combination? Do they require a scarce resource, such as a JDBC connection? If you have different categories of tasks with very different behaviors, consider using multiple thread pools so each can be tuned according to its workload.\r\n\r\nFor compute-intensive tasks, an Ncpu-processor system usually achieves optimum utilization with a thread pool of Ncpu +1 threads. (Even compute-intensive threads occasionally take a page fault or pause for some other reason, so an extra runnable thread prevents CPU cycles from going unused when this happens.) For tasks that also include I/O or other blocking operations, you want a larger pool, since not all of the threads will be schedulable at all times. In order to size the pool properly, you must estimate the ratio of waiting time to compute time for your tasks; this estimate need not be precise and can be obtained through pro-filing or instrumentation. Alternatively, the size of the thread pool can be tuned by running the application using several different pool sizes under a benchmark load and observing the level of CPU utilization.\r\n\r\nGiven these definitions:\r\n\r\n[![image][1]][1]\r\n\r\nThe optimal pool size for keeping the processors at the desired utilization is:\r\n\r\n[![image][2]][2]\r\n\r\nYou can determine the number of CPUs using Runtime:\r\n\r\nint N_CPUS = Runtime.getRuntime().availableProcessors();\r\n\r\nOf course, CPU cycles are not the only resource you might want to manage using thread pools. Other resources that can contribute to sizing constraints are memory, file handles, socket handles, and database connections. Calculating pool size constraints for these types of resources is easier: just add up how much of that resource each task requires and divide that into the total quantity available. The result will be an upper bound on the pool size.\r\n\r\nWhen tasks require a pooled resource such as database connections, thread pool size and resource pool size affect each other. If each task requires a connection, the effective size of the thread pool is limited by the connection pool size. Similarly, when the only consumers of connections are pool tasks, the effective size of the connection pool is limited by the thread pool size.&quot;\r\n\r\nSummary\r\n 1. so as you know from the documentation the default value of it is  Runtime.availableProcessors()\r\n 2. I am not agree with Alex&#39;s answer saying that &quot;you have a worker thread separate from the ForkJoinPool, then you might find setting the number of worker threads to number of processors - 1 is better than using all of the processors&quot;, in the book Brian Goetz says opposite.\r\n 3. as you see from the book content it is necessary to not jump in too small or too large values and keep it somewhere near of the available processors\r\n 4. another important aspect is to understand the nature of your tasks to use that value effectively\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qjwkk.png\r\n  [2]: https://i.stack.imgur.com/oV77x.png","title":"What is level of parallelism in the Java ForkJoinPool?","body":"<p>The answer is, that it is used for &quot;Sizing Thread Pools&quot;.\nSo let's see what Java platform creators are saying.</p>\n<p>Citing Brian Goetz's book &quot;Concurrency in Practice&quot;, chapter 8, 8.2. Sizing Thread Pools</p>\n<p>&quot;The ideal size for a thread pool depends on the types of tasks that will be submitted and the characteristics of the deployment system. Thread pool sizes should rarely be hard-coded; instead, pool sizes should be provided by a configuration mechanism or computed dynamically by consulting Runtime.availableProcessors.</p>\n<p>Sizing thread pools is not an exact science, but fortunately you need only avoid the extremes of too big and too small. If a thread pool is too big, then threads compete for scarce CPU and memory resources, resulting in higher memory usage and possible resource exhaustion. If it is too small, throughput suffers as processors go unused despite available work.</p>\n<p>To size a thread pool properly, you need to understand your computing environment, your resource budget, and the nature of your tasks. How many processors does the deployment system have? How much memory? Do tasks perform mostly computation, I/O, or some combination? Do they require a scarce resource, such as a JDBC connection? If you have different categories of tasks with very different behaviors, consider using multiple thread pools so each can be tuned according to its workload.</p>\n<p>For compute-intensive tasks, an Ncpu-processor system usually achieves optimum utilization with a thread pool of Ncpu +1 threads. (Even compute-intensive threads occasionally take a page fault or pause for some other reason, so an extra runnable thread prevents CPU cycles from going unused when this happens.) For tasks that also include I/O or other blocking operations, you want a larger pool, since not all of the threads will be schedulable at all times. In order to size the pool properly, you must estimate the ratio of waiting time to compute time for your tasks; this estimate need not be precise and can be obtained through pro-filing or instrumentation. Alternatively, the size of the thread pool can be tuned by running the application using several different pool sizes under a benchmark load and observing the level of CPU utilization.</p>\n<p>Given these definitions:</p>\n<p><a href=\"https://i.stack.imgur.com/qjwkk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qjwkk.png\" alt=\"image\" /></a></p>\n<p>The optimal pool size for keeping the processors at the desired utilization is:</p>\n<p><a href=\"https://i.stack.imgur.com/oV77x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oV77x.png\" alt=\"image\" /></a></p>\n<p>You can determine the number of CPUs using Runtime:</p>\n<p>int N_CPUS = Runtime.getRuntime().availableProcessors();</p>\n<p>Of course, CPU cycles are not the only resource you might want to manage using thread pools. Other resources that can contribute to sizing constraints are memory, file handles, socket handles, and database connections. Calculating pool size constraints for these types of resources is easier: just add up how much of that resource each task requires and divide that into the total quantity available. The result will be an upper bound on the pool size.</p>\n<p>When tasks require a pooled resource such as database connections, thread pool size and resource pool size affect each other. If each task requires a connection, the effective size of the thread pool is limited by the connection pool size. Similarly, when the only consumers of connections are pool tasks, the effective size of the connection pool is limited by the thread pool size.&quot;</p>\n<p>Summary</p>\n<ol>\n<li>so as you know from the documentation the default value of it is  Runtime.availableProcessors()</li>\n<li>I am not agree with Alex's answer saying that &quot;you have a worker thread separate from the ForkJoinPool, then you might find setting the number of worker threads to number of processors - 1 is better than using all of the processors&quot;, in the book Brian Goetz says opposite.</li>\n<li>as you see from the book content it is necessary to not jump in too small or too large values and keep it somewhere near of the available processors</li>\n<li>another important aspect is to understand the nature of your tasks to use that value effectively</li>\n</ol>\n"}],"owner":{"account_id":2032619,"reputation":2017,"user_id":1815873,"accept_rate":50,"display_name":"JavaNewbie_M107"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10276,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1699263662,"creation_date":1358064917,"question_id":14301780,"body_markdown":"I was studying the oracle docs about the Fork/Join framework when i came across this constructor of `ForkJoinPool` : `ForkJoinPool(int parallelism)`. The docs said that this was *the level of parallelism, which is by default equal to the number of processors available*. Can anyone tell me how I can use it to increase the speed and efficiency of my program?","title":"What is level of parallelism in the Java ForkJoinPool?","body":"<p>I was studying the oracle docs about the Fork/Join framework when i came across this constructor of <code>ForkJoinPool</code> : <code>ForkJoinPool(int parallelism)</code>. The docs said that this was <em>the level of parallelism, which is by default equal to the number of processors available</em>. Can anyone tell me how I can use it to increase the speed and efficiency of my program?</p>\n"},{"tags":["java","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1699077025,"post_id":77413619,"comment_id":136488796,"body_markdown":"What is the expected URL? Why can&#39;t you just assert vs that? Also, please post the contents of the method `.NavigateToItemDescriptionPage()`? You really should be handling the URL transition in that method instead of `.getCurrentPageUrl()`.","body":"What is the expected URL? Why can&#39;t you just assert vs that? Also, please post the contents of the method <code>.NavigateToItemDescriptionPage()</code>? You really should be handling the URL transition in that method instead of <code>.getCurrentPageUrl()</code>."}],"answers":[{"tags":[],"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699263658,"creation_date":1699263658,"answer_id":77430079,"question_id":77413619,"body_markdown":"For a web page, a title is a unique thing. If you navigate to a different page then the previous and current web page titles should be different.\r\n  \r\n Method inside Sort Class:\r\n\r\n     public boolean sortItems() {\r\n           String currentWebPageTitle= driver.getTitle();\r\n           By priceSortOption = By.cssSelector(&quot;add your locator here&quot;);\r\n\r\n           wait.until(ExpectedConditions.visibilityOfElementLocated(priceSortOption));\r\n           driver.findElement(priceSortOption).click();\r\n           String webPageTitleAfterSorting = driver.getTitle();\r\n           boolean isReloaded = currentWebPageTitle.equals(webPageTitleAfterSorting);\r\n           return isReloaded;\r\n        }\r\n\r\n TestCase:\r\n\r\n    @Test(priority = 1)\r\n        public void sortItemsTest(){\r\n            StorePage storePage=new StorePage(driver);\r\n            Assert.assertFalse(storePage.sortItems(), &quot;Sorting by price resulted in a page reload.&quot;);\r\n        }","title":"Selenium Test Automation Issue: Unable to Verify Price Range Sorting in Shopping Cart (Problem in reloading same page)","body":"<p>For a web page, a title is a unique thing. If you navigate to a different page then the previous and current web page titles should be different.</p>\n<p>Method inside Sort Class:</p>\n<pre><code> public boolean sortItems() {\n       String currentWebPageTitle= driver.getTitle();\n       By priceSortOption = By.cssSelector(&quot;add your locator here&quot;);\n\n       wait.until(ExpectedConditions.visibilityOfElementLocated(priceSortOption));\n       driver.findElement(priceSortOption).click();\n       String webPageTitleAfterSorting = driver.getTitle();\n       boolean isReloaded = currentWebPageTitle.equals(webPageTitleAfterSorting);\n       return isReloaded;\n    }\n</code></pre>\n<p>TestCase:</p>\n<pre><code>@Test(priority = 1)\n    public void sortItemsTest(){\n        StorePage storePage=new StorePage(driver);\n        Assert.assertFalse(storePage.sortItems(), &quot;Sorting by price resulted in a page reload.&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":22689437,"reputation":33,"user_id":16858573,"display_name":"Samathi kisalka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699263658,"creation_date":1698972455,"question_id":77413619,"body_markdown":"I&#39;m doing a test automation project using selenium and this is my first time using it. Here I have to capture this bug. &quot;When I click a link to sort a shopping cart by price range it does not load the relevant page instead reload the current page&quot; . this is my Test.\r\n\r\n```\r\n   @Test(priority = 2 , groups = {&quot;smoke&quot;})\r\n    public void verifyFilterByPrice(){\r\n        ProductDetailPage productdetailpage = new ProductDetailPage(driver);\r\n        productdetailpage.NavigateToItemDescriptionPage();\r\n        String urlBefore = productdetailpage.getCurrentPageUrl();\r\n        productdetailpage.clickPriceRange();\r\n        String urlAfter = productdetailpage.getCurrentPageUrl();\r\n        Assert.assertNotEquals(urlBefore, urlAfter, &quot;Page URL didn&#39;t change after clicking Price Range.&quot;);\r\n\r\n    }\r\n```\r\nand these are the methods used in the code.\r\n\r\n```\r\n public String getCurrentPageUrl(){\r\n        try {\r\n            Thread.sleep(Duration.ofSeconds(5));\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n        String currentPageUrl = driver.getCurrentUrl();\r\n        System.out.println(&quot;the curent url you capture is &quot; + currentPageUrl);\r\n        return currentPageUrl;\r\n\r\n    }\r\n\r\n```\r\n\r\nbut when I log both urls they are like  follow. and they are not same to I cant assert as equal. Is ther is another way I could use to assert such senarios?\r\n\r\n```\r\n\r\nURL befor = https://xxxx/s/zzz/\r\nURL after = is https://xxxx/s/zzz/?perpage=25&amp;pricepoint=2\r\n```","title":"Selenium Test Automation Issue: Unable to Verify Price Range Sorting in Shopping Cart (Problem in reloading same page)","body":"<p>I'm doing a test automation project using selenium and this is my first time using it. Here I have to capture this bug. &quot;When I click a link to sort a shopping cart by price range it does not load the relevant page instead reload the current page&quot; . this is my Test.</p>\n<pre><code>   @Test(priority = 2 , groups = {&quot;smoke&quot;})\n    public void verifyFilterByPrice(){\n        ProductDetailPage productdetailpage = new ProductDetailPage(driver);\n        productdetailpage.NavigateToItemDescriptionPage();\n        String urlBefore = productdetailpage.getCurrentPageUrl();\n        productdetailpage.clickPriceRange();\n        String urlAfter = productdetailpage.getCurrentPageUrl();\n        Assert.assertNotEquals(urlBefore, urlAfter, &quot;Page URL didn't change after clicking Price Range.&quot;);\n\n    }\n</code></pre>\n<p>and these are the methods used in the code.</p>\n<pre><code> public String getCurrentPageUrl(){\n        try {\n            Thread.sleep(Duration.ofSeconds(5));\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        String currentPageUrl = driver.getCurrentUrl();\n        System.out.println(&quot;the curent url you capture is &quot; + currentPageUrl);\n        return currentPageUrl;\n\n    }\n\n</code></pre>\n<p>but when I log both urls they are like  follow. and they are not same to I cant assert as equal. Is ther is another way I could use to assert such senarios?</p>\n<pre><code>\nURL befor = https://xxxx/s/zzz/\nURL after = is https://xxxx/s/zzz/?perpage=25&amp;pricepoint=2\n</code></pre>\n"},{"tags":["java","hadoop","hdfs"],"answers":[{"comments":[{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":1,"creation_date":1638564628,"post_id":70160501,"comment_id":124131504,"body_markdown":"I added hadoop libraries as a pom dependency. Is this sufficient?","body":"I added hadoop libraries as a pom dependency. Is this sufficient?"},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1638806172,"post_id":70160501,"comment_id":124179594,"body_markdown":"I would think that it&#39;s not sufficient. But you can easily test this out.","body":"I would think that it&#39;s not sufficient. But you can easily test this out."},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":0,"creation_date":1638935564,"post_id":70160501,"comment_id":124217876,"body_markdown":"Yeah I get the above error when I run the application having the hadoop libraries in my classpath. So I dont think it is enough. What else should I add to my classpath?","body":"Yeah I get the above error when I run the application having the hadoop libraries in my classpath. So I dont think it is enough. What else should I add to my classpath?"},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1638989955,"post_id":70160501,"comment_id":124236526,"body_markdown":"I&#39;m confused did you add it to your hadoop class path as stated in my answer or your jar&#39;s class path? (pom.xml)  I&#39;m suggesting it should be added to the hadoop class path.","body":"I&#39;m confused did you add it to your hadoop class path as stated in my answer or your jar&#39;s class path? (pom.xml)  I&#39;m suggesting it should be added to the hadoop class path."},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":0,"creation_date":1638992696,"post_id":70160501,"comment_id":124237458,"body_markdown":"I have added it to my application&#39;s pom.xml as well as the classpath of my cluster, if that is what you meant? If I run `hadoop distcp /user gs://my_bucket_name/` on the cluster, the distcp operation works.","body":"I have added it to my application&#39;s pom.xml as well as the classpath of my cluster, if that is what you meant? If I run <code>hadoop distcp &#47;user gs:&#47;&#47;my_bucket_name&#47;</code> on the cluster, the distcp operation works."},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1638995106,"post_id":70160501,"comment_id":124238191,"body_markdown":"You need to setup DistCp.conf in your code, to have that jar as part of it&#39;s Hadoop_Classpath.  It&#39;s not sufficient to just have the jar in your POM. I hope this is clearer.","body":"You need to setup DistCp.conf in your code, to have that jar as part of it&#39;s Hadoop_Classpath.  It&#39;s not sufficient to just have the jar in your POM. I hope this is clearer."},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":0,"creation_date":1638995352,"post_id":70160501,"comment_id":124238275,"body_markdown":"What do you mean by DistCp.conf? Is it another downloadable jar? Do I need to add it to `$HADOOP_CLASSPATH` of my cluster or should I have it on the classpath of my application?","body":"What do you mean by DistCp.conf? Is it another downloadable jar? Do I need to add it to <code>$HADOOP_CLASSPATH</code> of my cluster or should I have it on the classpath of my application?"},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1638996963,"post_id":70160501,"comment_id":124238814,"body_markdown":"I updated my answer so hopefully it&#39;s a little clearer.","body":"I updated my answer so hopefully it&#39;s a little clearer."},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":0,"creation_date":1638997401,"post_id":70160501,"comment_id":124238957,"body_markdown":"Thanks I understood your explanation. Issue is, I have already added the gcs connector jar to `$HADOOP_CLASSPATH`. I can confirm this because when I run the command `hadoop distcp /user gs://my_bucket_name/ ` on my cluster the distcp operation works.","body":"Thanks I understood your explanation. Issue is, I have already added the gcs connector jar to <code>$HADOOP_CLASSPATH</code>. I can confirm this because when I run the command <code>hadoop distcp &#47;user gs:&#47;&#47;my_bucket_name&#47; </code> on my cluster the distcp operation works."},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1639059308,"post_id":70160501,"comment_id":124255616,"body_markdown":"I totally understand that.  But it&#39;s clear from your error message that the distCp in your code does not know about the library.  And I&#39;m saying that you should set $HADOOP_CLASSPATH in the code version of DistCp by editing the conf object that you are passing it and editing the configuration so it&#39;s aware of it.","body":"I totally understand that.  But it&#39;s clear from your error message that the distCp in your code does not know about the library.  And I&#39;m saying that you should set $HADOOP_CLASSPATH in the code version of DistCp by editing the conf object that you are passing it and editing the configuration so it&#39;s aware of it."},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1639059503,"post_id":70160501,"comment_id":124255718,"body_markdown":"I&#39;ve edited my code to make it clearer.","body":"I&#39;ve edited my code to make it clearer."},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":0,"creation_date":1639066499,"post_id":70160501,"comment_id":124258746,"body_markdown":"Ah I understand now. Just one more thing before I try it out, the path you specified in your example `/tmp/gcs-connector-latest-hadoop2.jar` is this a path on the namenode or a worker node? Or is it a path on the machine that is running my Java application? In my example, the Java example will run on a separate server &amp; not on the namenode/worker node","body":"Ah I understand now. Just one more thing before I try it out, the path you specified in your example <code>&#47;tmp&#47;gcs-connector-latest-hadoop2.jar</code> is this a path on the namenode or a worker node? Or is it a path on the machine that is running my Java application? In my example, the Java example will run on a separate server &amp; not on the namenode/worker node"},{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1639075126,"post_id":70160501,"comment_id":124262390,"body_markdown":"The path is to where it is on the server that you are running the code from.","body":"The path is to where it is on the server that you are running the code from."},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":0,"creation_date":1639080174,"post_id":70160501,"comment_id":124264021,"body_markdown":"Understood. Thanks a bunch Matt! Its a bit late where I am at right now but hopefully in 8-9 hours I will be back at work &amp; will try out the code and let you know.","body":"Understood. Thanks a bunch Matt! Its a bit late where I am at right now but hopefully in 8-9 hours I will be back at work &amp; will try out the code and let you know."},{"owner":{"account_id":8520218,"reputation":243,"user_id":6387425,"display_name":"Prashanth"},"score":0,"creation_date":1652786653,"post_id":70160501,"comment_id":127685715,"body_markdown":"Did it resolve the issue? I am stuck with same issue.","body":"Did it resolve the issue? I am stuck with same issue."}],"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"comment_count":15,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639059469,"creation_date":1638215254,"answer_id":70160501,"question_id":70057968,"body_markdown":"Did you add the jar to the hadoop&#39;s classpath?\r\n\r\n&gt; Add the connector jar to Hadoop&#39;s classpath\r\nPlacing the connector jar in the HADOOP_COMMON_LIB_JARS_DIR directory should be sufficient to have Hadoop load the jar. Alternatively, to be certain that the jar is loaded, you can add HADOOP_CLASSPATH=$HADOOP_CLASSPATH:&lt;/path/to/gcs-connector.jar&gt; to hadoop-env.sh in the Hadoop configuration directory.\r\n\r\nThis needs to be done to DisctCp conf(in your code `this.conf`) before this line of code:\r\n\r\n\r\n    this.conf.set(&quot;HADOOP_CLASSPATH&quot;,&quot;$HADOOP_CLASSPATH:/tmp/gcs-connector-latest-hadoop2.jar&quot;)\r\n    DistCp distCp = new DistCp(this.conf, options);\r\n\r\nIf it helps there is a [troubleshooting section][1] for this.\r\n\r\n\r\n  [1]: https://github.com/GoogleCloudDataproc/hadoop-connectors/blob/master/gcs/INSTALL.md","title":"hadoop distcp via java resulting in NoClassDefFoundError: Could not initialize class com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem","body":"<p>Did you add the jar to the hadoop's classpath?</p>\n<blockquote>\n<p>Add the connector jar to Hadoop's classpath\nPlacing the connector jar in the HADOOP_COMMON_LIB_JARS_DIR directory should be sufficient to have Hadoop load the jar. Alternatively, to be certain that the jar is loaded, you can add HADOOP_CLASSPATH=$HADOOP_CLASSPATH:&lt;/path/to/gcs-connector.jar&gt; to hadoop-env.sh in the Hadoop configuration directory.</p>\n</blockquote>\n<p>This needs to be done to DisctCp conf(in your code <code>this.conf</code>) before this line of code:</p>\n<pre><code>this.conf.set(&quot;HADOOP_CLASSPATH&quot;,&quot;$HADOOP_CLASSPATH:/tmp/gcs-connector-latest-hadoop2.jar&quot;)\nDistCp distCp = new DistCp(this.conf, options);\n</code></pre>\n<p>If it helps there is a <a href=\"https://github.com/GoogleCloudDataproc/hadoop-connectors/blob/master/gcs/INSTALL.md\" rel=\"nofollow noreferrer\">troubleshooting section</a> for this.</p>\n"}],"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2386,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699263155,"creation_date":1637523478,"question_id":70057968,"body_markdown":"I am trying to run a `distcp` command on my hadoop cluster using the Hadoop Java Library to move content from the HDFS to a Google Cloud Bucket. I am getting the error `NoClassDefFoundError: Could not initialize class com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem`\r\n\r\nBelow is my java code:\r\n\r\n    import com.google.gson.JsonArray;\r\n    import com.google.gson.JsonElement;\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.fs.FileSystem;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.hadoop.mapreduce.Job;\r\n    import org.apache.hadoop.tools.DistCp;\r\n    import org.apache.hadoop.tools.DistCpOptions;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class HadoopHelper {\r\n\r\n        private static Logger logger = LoggerFactory.getLogger(HadoopHelper.class);\r\n\r\n        private static final String FS_DEFAULT_FS = &quot;fs.defaultFS&quot;;\r\n\r\n        private final Configuration conf;\r\n\r\n        public HadoopHelper(String hadoopUrl) {\r\n            conf = new Configuration();\r\n            conf.set(FS_DEFAULT_FS, &quot;hdfs://&quot; + hadoopUrl);\r\n        }\r\n\r\n        public void distCP(JsonArray files, String target) {\r\n\r\n            try {\r\n                List&lt;Path&gt; srcPaths = new ArrayList&lt;&gt;();\r\n\r\n                for (JsonElement file : files) {\r\n                    String srcPath = file.getAsString();\r\n                    srcPaths.add(new Path(srcPath));\r\n                }\r\n\r\n                DistCpOptions options = new DistCpOptions.Builder(\r\n                        srcPaths,\r\n                        new Path(&quot;gs://&quot; + target)\r\n                ).build();\r\n\r\n                logger.info(&quot;Using distcp to copy {} to gs://{}&quot;, files, target);\r\n\r\n                this.conf.set(&quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;);\r\n                this.conf.set(&quot;fs.gs.auth.service.account.email&quot;, &quot;my-svc-account@my-gcp-project.iam.gserviceaccount.com&quot;);\r\n                this.conf.set(&quot;fs.gs.auth.service.account.keyfile&quot;, &quot;config/my-svc-account-keyfile.p12&quot;);\r\n                this.conf.set(&quot;fs.gs.project.id&quot;, &quot;my-gcp-project&quot;);\r\n\r\n\r\n                DistCp distCp = new DistCp(this.conf, options);\r\n                Job job = distCp.execute();\r\n\r\n                job.waitForCompletion(true);\r\n\r\n                logger.info(&quot;Distcp operation success. Exiting&quot;);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error while trying to execute distcp&quot;, e);\r\n                logger.error(&quot;Distcp operation failed. Exiting&quot;);\r\n                throw new IllegalArgumentException(&quot;Distcp failed&quot;);\r\n            }\r\n        }\r\n\r\n        public void createDirectory() throws IOException {\r\n            FileSystem fileSystem = FileSystem.get(this.conf);\r\n            fileSystem.mkdirs(new Path(&quot;/user/newfolder&quot;));\r\n            logger.info(&quot;Done&quot;);\r\n        }\r\n    }\r\n\r\nI have added the below dependencies in the `pom.xml`:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-distcp&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gcs-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;hadoop3-2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;util&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIf I run the distcp command on the cluster itself like so: `hadoop distcp /user gs://my_bucket_name/`\r\n\r\nThe distcp operation works and the content is copied onto the Cloud Bucket.","title":"hadoop distcp via java resulting in NoClassDefFoundError: Could not initialize class com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem","body":"<p>I am trying to run a <code>distcp</code> command on my hadoop cluster using the Hadoop Java Library to move content from the HDFS to a Google Cloud Bucket. I am getting the error <code>NoClassDefFoundError: Could not initialize class com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem</code></p>\n<p>Below is my java code:</p>\n<pre><code>import com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.tools.DistCp;\nimport org.apache.hadoop.tools.DistCpOptions;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class HadoopHelper {\n\n    private static Logger logger = LoggerFactory.getLogger(HadoopHelper.class);\n\n    private static final String FS_DEFAULT_FS = &quot;fs.defaultFS&quot;;\n\n    private final Configuration conf;\n\n    public HadoopHelper(String hadoopUrl) {\n        conf = new Configuration();\n        conf.set(FS_DEFAULT_FS, &quot;hdfs://&quot; + hadoopUrl);\n    }\n\n    public void distCP(JsonArray files, String target) {\n\n        try {\n            List&lt;Path&gt; srcPaths = new ArrayList&lt;&gt;();\n\n            for (JsonElement file : files) {\n                String srcPath = file.getAsString();\n                srcPaths.add(new Path(srcPath));\n            }\n\n            DistCpOptions options = new DistCpOptions.Builder(\n                    srcPaths,\n                    new Path(&quot;gs://&quot; + target)\n            ).build();\n\n            logger.info(&quot;Using distcp to copy {} to gs://{}&quot;, files, target);\n\n            this.conf.set(&quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;);\n            this.conf.set(&quot;fs.gs.auth.service.account.email&quot;, &quot;my-svc-account@my-gcp-project.iam.gserviceaccount.com&quot;);\n            this.conf.set(&quot;fs.gs.auth.service.account.keyfile&quot;, &quot;config/my-svc-account-keyfile.p12&quot;);\n            this.conf.set(&quot;fs.gs.project.id&quot;, &quot;my-gcp-project&quot;);\n\n\n            DistCp distCp = new DistCp(this.conf, options);\n            Job job = distCp.execute();\n\n            job.waitForCompletion(true);\n\n            logger.info(&quot;Distcp operation success. Exiting&quot;);\n        } catch (Exception e) {\n            logger.error(&quot;Error while trying to execute distcp&quot;, e);\n            logger.error(&quot;Distcp operation failed. Exiting&quot;);\n            throw new IllegalArgumentException(&quot;Distcp failed&quot;);\n        }\n    }\n\n    public void createDirectory() throws IOException {\n        FileSystem fileSystem = FileSystem.get(this.conf);\n        fileSystem.mkdirs(new Path(&quot;/user/newfolder&quot;));\n        logger.info(&quot;Done&quot;);\n    }\n}\n</code></pre>\n<p>I have added the below dependencies in the <code>pom.xml</code>:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-distcp&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\n        &lt;artifactId&gt;gcs-connector&lt;/artifactId&gt;\n        &lt;version&gt;hadoop3-2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\n        &lt;artifactId&gt;util&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>If I run the distcp command on the cluster itself like so: <code>hadoop distcp /user gs://my_bucket_name/</code></p>\n<p>The distcp operation works and the content is copied onto the Cloud Bucket.</p>\n"},{"tags":["java","spring","testing","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699179107,"post_id":77425421,"comment_id":136496637,"body_markdown":"You haven&#39;t asked a question.","body":"You haven&#39;t asked a question."},{"owner":{"account_id":28794993,"reputation":39,"user_id":22053378,"display_name":"work-in-progress"},"score":0,"creation_date":1699190040,"post_id":77425421,"comment_id":136497632,"body_markdown":"@tgdavies the question is : why Mock seems to work, as we only have Spring annotations and no Mockitio annotations ?","body":"@tgdavies the question is : why Mock seems to work, as we only have Spring annotations and no Mockitio annotations ?"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699263077,"creation_date":1699261741,"answer_id":77429926,"question_id":77425421,"body_markdown":"`@SpringBootTest` is annotated with:\r\n```lang-java\r\n@ExtendWith({SpringExtension.class})\r\npublic @interface SpringBootTest\r\n```\r\nthus has all functionality of `SpringExtension`\r\n\r\nAmong others, it initializes all test execution listeners specified in file \r\n`URL [jar:file:PATH/org/springframework/boot/spring-boot-test/SPRING_BOOT_VERSION/spring-boot-test-SPRING_BOOT_VERSION.jar!/META-INF/spring.factories]`:\r\n```lang-java\r\n# Test Execution Listeners\r\norg.springframework.test.context.TestExecutionListener=\\\r\norg.springframework.boot.test.mock.mockito.MockitoTestExecutionListener,\\\r\norg.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener\r\n```\r\n\r\n`MockitoTestExecutionListener` is the one initializing fields annotated with `@Mock`:\r\n```lang-java\r\npublic void prepareTestInstance(TestContext testContext) throws Exception {\r\n    this.initMocks(testContext);\r\n    this.injectFields(testContext);\r\n}\r\n```\r\n\r\nThis behaviour is also documented in `MockitoTestExecutionListener` javadoc (emphasis mine):\r\n&gt; TestExecutionListener to enable @MockBean and @SpyBean support. **Also triggers MockitoAnnotations.openMocks(Object) when any Mockito annotations used**, primarily to allow @Captor annotations.\r\nTo use the automatic reset support of @MockBean and @SpyBean, configure ResetMocksTestExecutionListener as well.","title":"Spring framework has Mockito behaviour when using Mockitio annotation","body":"<p><code>@SpringBootTest</code> is annotated with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith({SpringExtension.class})\npublic @interface SpringBootTest\n</code></pre>\n<p>thus has all functionality of <code>SpringExtension</code></p>\n<p>Among others, it initializes all test execution listeners specified in file\n<code>URL [jar:file:PATH/org/springframework/boot/spring-boot-test/SPRING_BOOT_VERSION/spring-boot-test-SPRING_BOOT_VERSION.jar!/META-INF/spring.factories]</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code># Test Execution Listeners\norg.springframework.test.context.TestExecutionListener=\\\norg.springframework.boot.test.mock.mockito.MockitoTestExecutionListener,\\\norg.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener\n</code></pre>\n<p><code>MockitoTestExecutionListener</code> is the one initializing fields annotated with <code>@Mock</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void prepareTestInstance(TestContext testContext) throws Exception {\n    this.initMocks(testContext);\n    this.injectFields(testContext);\n}\n</code></pre>\n<p>This behaviour is also documented in <code>MockitoTestExecutionListener</code> javadoc (emphasis mine):</p>\n<blockquote>\n<p>TestExecutionListener to enable @MockBean and @SpyBean support. <strong>Also triggers MockitoAnnotations.openMocks(Object) when any Mockito annotations used</strong>, primarily to allow @Captor annotations.\nTo use the automatic reset support of @MockBean and @SpyBean, configure ResetMocksTestExecutionListener as well.</p>\n</blockquote>\n"}],"owner":{"account_id":28794993,"reputation":39,"user_id":22053378,"display_name":"work-in-progress"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77429926,"answer_count":1,"score":0,"last_activity_date":1699263077,"creation_date":1699177286,"question_id":77425421,"body_markdown":"i have a code snipet, looking like : \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class Testing {\r\n\r\n      @Mock\r\n      MyObject sp1;\r\n\r\n      @Test\r\n      public void test1() {\r\n        assertNotNull(sp1);\r\n      }\r\n    }\r\n\r\nIt is really strange the Spring gives me an instance (not null) of my object (reference sp1), as it is not a @Resource annotation, nor a @Autowired annotation.\r\nIn fact, i dit not put the annotation \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n\r\nso, the object sp1 should not be instanciated.\r\nBut it seeems that Spring has a Mockito behaviour, when \r\nannotation \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n\r\nis replaced by annotation \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n\r\nit is not a big deal, but.. surprising, isn&#39;t it ?\r\n\r\nquestion is : why Mock seems to work, as we only have Spring annotations and no Mockitio annotations ?\r\n\r\n\r\n\r\n\r\n","title":"Spring framework has Mockito behaviour when using Mockitio annotation","body":"<p>i have a code snipet, looking like :</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class Testing {\n\n  @Mock\n  MyObject sp1;\n\n  @Test\n  public void test1() {\n    assertNotNull(sp1);\n  }\n}\n</code></pre>\n<p>It is really strange the Spring gives me an instance (not null) of my object (reference sp1), as it is not a @Resource annotation, nor a @Autowired annotation.\nIn fact, i dit not put the annotation</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n</code></pre>\n<p>so, the object sp1 should not be instanciated.\nBut it seeems that Spring has a Mockito behaviour, when\nannotation</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n</code></pre>\n<p>is replaced by annotation</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>it is not a big deal, but.. surprising, isn't it ?</p>\n<p>question is : why Mock seems to work, as we only have Spring annotations and no Mockitio annotations ?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-config"],"comments":[{"owner":{"account_id":2844819,"reputation":374,"user_id":2443525,"accept_rate":50,"display_name":"Lodewijck"},"score":0,"creation_date":1699190965,"post_id":77425913,"comment_id":136497727,"body_markdown":"Have you tried putting a hardcoded absolute location in the search-locations property?","body":"Have you tried putting a hardcoded absolute location in the search-locations property?"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1699263002,"post_id":77425913,"comment_id":136504866,"body_markdown":"@Lodewijck hardcoded absolute location was not the solution, also because this means that it will be able to work only on my computer.","body":"@Lodewijck hardcoded absolute location was not the solution, also because this means that it will be able to work only on my computer."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699209671,"creation_date":1699209671,"answer_id":77427205,"question_id":77425913,"body_markdown":"project-config-provider pom.xml :\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;com.project&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;relativePath&gt;../&lt;/relativePath&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;artifactId&gt;project-config-provider&lt;/artifactId&gt;\r\n      &lt;name&gt;Project Config Provider&lt;/name&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t \r\n    \t&lt;!-- spring cloud config --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n        &lt;!-- spring security --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \t\r\n    &lt;/project&gt;\r\n\r\napplication_config-provider--native.yaml :\r\n\r\n    spring:\r\n       application:\r\n          name: config-provider\r\n       profiles:\r\n          active: native\r\n       cloud:\r\n          config:\r\n             server:\r\n                native:\r\n                   search-locations: cloud_config\r\n                prefix: /config\r\n                bootstrap: true\r\n    \r\n    server.port: 8888\r\n\r\nNow I&#39;m able to see the properties on:\r\n\r\nhttp://localhost:8888/config/application-config_storage/env_local\r\n","title":"How to configure spring cloud config server to read properties from File System?","body":"<p>project-config-provider pom.xml :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;relativePath&gt;../&lt;/relativePath&gt;\n  &lt;/parent&gt;\n  \n  &lt;artifactId&gt;project-config-provider&lt;/artifactId&gt;\n  &lt;name&gt;Project Config Provider&lt;/name&gt;\n  \n  &lt;dependencies&gt;\n     \n    &lt;!-- spring cloud config --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- spring security --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n    \n&lt;/project&gt;\n</code></pre>\n<p>application_config-provider--native.yaml :</p>\n<pre><code>spring:\n   application:\n      name: config-provider\n   profiles:\n      active: native\n   cloud:\n      config:\n         server:\n            native:\n               search-locations: cloud_config\n            prefix: /config\n            bootstrap: true\n\nserver.port: 8888\n</code></pre>\n<p>Now I'm able to see the properties on:</p>\n<p>http://localhost:8888/config/application-config_storage/env_local</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77427205,"answer_count":1,"score":0,"last_activity_date":1699262874,"creation_date":1699187347,"question_id":77425913,"body_markdown":"I&#39;m learning how to centralize configurations using Spring Cloud Config Server File System Backend : [docs.spring.io][1]\r\n\r\nI have a multi maven project\r\n\r\n    project:\r\n     pom.xml\r\n    \r\n     project-config-provider\r\n        pom.xml\r\n        src\r\n           main\r\n               java\r\n                   com\r\n                       company\r\n                           project\r\n                               config_provider\r\n                                   Application.java\r\n        config\r\n           application_config-provider--native.yaml\r\n           application_config-provider--aws.yaml\r\n       \r\n        cloud_config\r\n            application-config_main.yaml\r\n            application-config_storage.yaml\r\n            application-config_swagger.yaml\r\n            application-env_local.yaml\r\n    \r\n    \r\n     project-abc\r\n         pom.xml\r\n         src\r\n            main\r\n                java\r\n                    com\r\n                        company\r\n                            project\r\n                                abc\r\n                                    AbcApplication.java\r\n         config\r\n             application_abc.yaml\r\n\r\n___\r\n\r\n\r\nThe module `project-config-provider` will have to be the spring cloud config server,\r\nand the module `projcet-abc` will use some of the configs from project-config-provider.\r\n\r\n\r\neach module has a config folder: \r\n- the project-config-provider contains multiple yaml files, one for each environment (application_config-provider--native.yaml for local test, application_config-provider--aws.yaml for aws test with secretmanager an S3)\r\n\r\napplication_config-provider--native.yaml :\r\n\r\n    spring:\r\n       application:\r\n          name: config-provider\r\n       profile:\r\n          active: native\r\n       cloud:\r\n          config:\r\n             server:\r\n                native:\r\n                   search-location: cloud_config\r\n                prefix: /config\r\n                bootstrap: true\r\n    \r\n    server.port: 8888\r\n\r\n- all the other modules has only one yaml file\r\n\r\n application_abc.yaml : \r\n\r\n    spring:\r\n       application:\r\n          name: maps\r\n          version: 1.0.0\r\n       profiles:\r\n          #inlcude configurations from cloud_config of config-provider \r\n          include: config_main, config_storage, config_swagger\r\n       config:\r\n          import: configserver:http://${CONFIG_PROVIDER_HOST:localhost}:${CONFIG_PROVIDER_PORT:8888}/config\r\n\r\n___\r\n\r\nproject-abc application:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({ &quot;com.project*&quot; })\r\n    @EntityScan(&quot;com.project*&quot;)\r\n    @EnableJpaRepositories(&quot;com.project*&quot;)\r\n    public class AbcApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AbcApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\non project-abc pom.xml, I have added:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n___\r\n\r\nproject-config-provider application:\r\n\r\n    @EnableConfigServer\r\n    @ComponentScan(basePackages = { &quot;com.project&quot; } )\r\n    @SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\r\n    public class Application {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \t\r\n    \t@Configuration\r\n    \tpublic static class SecurityPermitAllConfig {\r\n    \t\t\r\n    \t\t@Bean\r\n    \t\tpublic SecurityFilterChain filterChain(final HttpSecurity httpSecurity) throws Exception {\r\n    \t\t\thttpSecurity.authorizeRequests().anyRequest().permitAll().and().csrf().disable();\r\n    \t\t\treturn httpSecurity.build();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nproject-config-provider pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;com.project&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;relativePath&gt;../&lt;/relativePath&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;artifactId&gt;project-config-provider&lt;/artifactId&gt;\r\n      &lt;name&gt;Project Config Provider&lt;/name&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t \r\n    \t&lt;!-- cloud config server --&gt;    \t\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;!-- custom configuration in application-*.yaml --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\t\r\n    \t\r\n    &lt;/project&gt;\r\n\r\n___\r\n\r\nthe Spring Boot Application project-config-provider is runned using \r\n\r\n    --spring.config.import=config/application-config-provider--native.yaml\r\n\r\nas program arguments, but as soon as it starts, it fails:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Invalid config server configuration.\r\n    \r\n    Action:\r\n    \r\n    If you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\r\n\r\nI&#39;m not using git.. but I have set bootstrap=true,&lt;br&gt; \r\nI have also tried using composite on application_config-provider--native.yaml :\r\n\r\n    spring:\r\n       application:\r\n          name: config-provider\r\n       profile:\r\n          active: composite\r\n       cloud:\r\n          config:\r\n             server:\r\n                composite:\r\n                 - type: native\r\n                   search-locations: cloud_config\r\n                prefix: /config\r\n                bootstrap: true\r\n    \r\n    server.port: 8888\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-config/reference/server/environment-repository/file-system-backend.html","title":"How to configure spring cloud config server to read properties from File System?","body":"<p>I'm learning how to centralize configurations using Spring Cloud Config Server File System Backend : <a href=\"https://docs.spring.io/spring-cloud-config/reference/server/environment-repository/file-system-backend.html\" rel=\"nofollow noreferrer\">docs.spring.io</a></p>\n<p>I have a multi maven project</p>\n<pre><code>project:\n pom.xml\n\n project-config-provider\n    pom.xml\n    src\n       main\n           java\n               com\n                   company\n                       project\n                           config_provider\n                               Application.java\n    config\n       application_config-provider--native.yaml\n       application_config-provider--aws.yaml\n   \n    cloud_config\n        application-config_main.yaml\n        application-config_storage.yaml\n        application-config_swagger.yaml\n        application-env_local.yaml\n\n\n project-abc\n     pom.xml\n     src\n        main\n            java\n                com\n                    company\n                        project\n                            abc\n                                AbcApplication.java\n     config\n         application_abc.yaml\n</code></pre>\n<hr />\n<p>The module <code>project-config-provider</code> will have to be the spring cloud config server,\nand the module <code>projcet-abc</code> will use some of the configs from project-config-provider.</p>\n<p>each module has a config folder:</p>\n<ul>\n<li>the project-config-provider contains multiple yaml files, one for each environment (application_config-provider--native.yaml for local test, application_config-provider--aws.yaml for aws test with secretmanager an S3)</li>\n</ul>\n<p>application_config-provider--native.yaml :</p>\n<pre><code>spring:\n   application:\n      name: config-provider\n   profile:\n      active: native\n   cloud:\n      config:\n         server:\n            native:\n               search-location: cloud_config\n            prefix: /config\n            bootstrap: true\n\nserver.port: 8888\n</code></pre>\n<ul>\n<li>all the other modules has only one yaml file</li>\n</ul>\n<p>application_abc.yaml :</p>\n<pre><code>spring:\n   application:\n      name: maps\n      version: 1.0.0\n   profiles:\n      #inlcude configurations from cloud_config of config-provider \n      include: config_main, config_storage, config_swagger\n   config:\n      import: configserver:http://${CONFIG_PROVIDER_HOST:localhost}:${CONFIG_PROVIDER_PORT:8888}/config\n</code></pre>\n<hr />\n<p>project-abc application:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan({ &quot;com.project*&quot; })\n@EntityScan(&quot;com.project*&quot;)\n@EnableJpaRepositories(&quot;com.project*&quot;)\npublic class AbcApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AbcApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>on project-abc pom.xml, I have added:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>project-config-provider application:</p>\n<pre><code>@EnableConfigServer\n@ComponentScan(basePackages = { &quot;com.project&quot; } )\n@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\npublic class Application {\n\n    public static void main(final String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n    \n    @Configuration\n    public static class SecurityPermitAllConfig {\n        \n        @Bean\n        public SecurityFilterChain filterChain(final HttpSecurity httpSecurity) throws Exception {\n            httpSecurity.authorizeRequests().anyRequest().permitAll().and().csrf().disable();\n            return httpSecurity.build();\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>project-config-provider pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;relativePath&gt;../&lt;/relativePath&gt;\n  &lt;/parent&gt;\n  \n  &lt;artifactId&gt;project-config-provider&lt;/artifactId&gt;\n  &lt;name&gt;Project Config Provider&lt;/name&gt;\n  \n  &lt;dependencies&gt;\n     \n    &lt;!-- cloud config server --&gt;        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- custom configuration in application-*.yaml --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;   \n    \n&lt;/project&gt;\n</code></pre>\n<hr />\n<p>the Spring Boot Application project-config-provider is runned using</p>\n<pre><code>--spring.config.import=config/application-config-provider--native.yaml\n</code></pre>\n<p>as program arguments, but as soon as it starts, it fails:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nInvalid config server configuration.\n\nAction:\n\nIf you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\n</code></pre>\n<p>I'm not using git.. but I have set bootstrap=true,<br>\nI have also tried using composite on application_config-provider--native.yaml :</p>\n<pre><code>spring:\n   application:\n      name: config-provider\n   profile:\n      active: composite\n   cloud:\n      config:\n         server:\n            composite:\n             - type: native\n               search-locations: cloud_config\n            prefix: /config\n            bootstrap: true\n\nserver.port: 8888\n</code></pre>\n"},{"tags":["java","spring","eclipse","tomcat","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":4,"creation_date":1490514883,"post_id":43026358,"comment_id":73139121,"body_markdown":"Are you stopping the application before you try to start it the second time? If so, how are you doing that? It sounds like the first instance of the application is still running.","body":"Are you stopping the application before you try to start it the second time? If so, how are you doing that? It sounds like the first instance of the application is still running."},{"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"score":0,"creation_date":1490543704,"post_id":43026358,"comment_id":73147478,"body_markdown":"No, I&#39;m not. I actually thought the framework would perform this operations behind the scenes.","body":"No, I&#39;m not. I actually thought the framework would perform this operations behind the scenes."},{"owner":{"account_id":4966455,"reputation":1122,"user_id":3995603,"accept_rate":77,"display_name":"codingbash"},"score":4,"creation_date":1490548358,"post_id":43026358,"comment_id":73149312,"body_markdown":"For a temporary workaround, you can set the port to `server.port=0` which will find a random open port to use. Although I suggest you find out a way to stop your application properly.","body":"For a temporary workaround, you can set the port to <code>server.port=0</code> which will find a random open port to use. Although I suggest you find out a way to stop your application properly."},{"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"score":0,"creation_date":1490582719,"post_id":43026358,"comment_id":73159532,"body_markdown":"It&#39;s working fine applying the solution you gave me. Thank you for finding the time to ask this question.","body":"It&#39;s working fine applying the solution you gave me. Thank you for finding the time to ask this question."},{"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"score":0,"creation_date":1523889940,"post_id":43026358,"comment_id":86735193,"body_markdown":"Hi @codingbash, Lyk yu mentioned, i made my port number as 0 in the properties file. Still, I&#39;m getting the same error.\n\n\n&quot;The Tomcat connector configured to listen on port 0 failed to start. The port may already be in use or the connector may be misconfigured.\n&quot;\n\nany guess on my issue??","body":"Hi @codingbash, Lyk yu mentioned, i made my port number as 0 in the properties file. Still, I&#39;m getting the same error.   &quot;The Tomcat connector configured to listen on port 0 failed to start. The port may already be in use or the connector may be misconfigured. &quot;  any guess on my issue??"}],"answers":[{"comments":[{"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"score":0,"creation_date":1490582964,"post_id":43031906,"comment_id":73159590,"body_markdown":"I&#39;ve tried those commands before however, the real problem is that the application doesn&#39;t run in the same port twice.","body":"I&#39;ve tried those commands before however, the real problem is that the application doesn&#39;t run in the same port twice."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1490584390,"post_id":43031906,"comment_id":73159918,"body_markdown":"@Sandoval0992 As i said, its because before restarting, you are not stopping the application.","body":"@Sandoval0992 As i said, its because before restarting, you are not stopping the application."},{"owner":{"account_id":3475140,"reputation":2491,"user_id":3019956,"accept_rate":33,"display_name":"want2learn"},"score":0,"creation_date":1500924355,"post_id":43031906,"comment_id":77539422,"body_markdown":"@100Pixels I am having same trouble now. How did you fix this problem ?","body":"@100Pixels I am having same trouble now. How did you fix this problem ?"},{"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"score":1,"creation_date":1500936104,"post_id":43031906,"comment_id":77544767,"body_markdown":"@want2learn I&#39;ve just marked the accepted answer, this is what I did. Just stop your boot application before trying to run it again. Click the &quot;stop&quot; button from the &quot;servers&quot; perspective. It&#39;s on the top right corner of this window.","body":"@want2learn I&#39;ve just marked the accepted answer, this is what I did. Just stop your boot application before trying to run it again. Click the &quot;stop&quot; button from the &quot;servers&quot; perspective. It&#39;s on the top right corner of this window."},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1516081033,"post_id":43031906,"comment_id":83532918,"body_markdown":"In Cygwin\n$ netstat -anp | find &quot;8080&quot;\nfind: 8080: No such file or directory\n\n \n$ netstat -ntpl | grep &quot;8080&quot;\nDisplays protocol statistics... (showing help).\n\nIn CMD:\nnetstat -anp\nreturns empty","body":"In Cygwin $ netstat -anp | find &quot;8080&quot; find: 8080: No such file or directory    $ netstat -ntpl | grep &quot;8080&quot; Displays protocol statistics... (showing help).  In CMD: netstat -anp returns empty"},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1516081180,"post_id":43031906,"comment_id":83532960,"body_markdown":"This answer has the correct commands. https://stackoverflow.com/a/47235112/1308453","body":"This answer has the correct commands. <a href=\"https://stackoverflow.com/a/47235112/1308453\">stackoverflow.com/a/47235112/1308453</a>"}],"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"comment_count":6,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1605804948,"creation_date":1490548172,"answer_id":43031906,"question_id":43026358,"body_markdown":"**Issue**: It&#39;s because either you are not stopping your application or the application is already somehow running on the same port somehow.\r\n\r\n**Solution**, Before starting it another time, the earlier application needs to be killed and the port needs to be freed up.\r\n\r\n\r\nDepending on your platform you can run the below commands to stop the application,\r\n\r\n**on windows**\r\n \r\n\r\n&gt; netstat -anp | find &quot;your application port number&quot;` --&gt; find PID\r\n&gt; \r\n&gt; taskkill /F /PID &lt;pid from previous command&gt; \r\n\r\n**on Linux,** \r\n\r\n&gt; netstat -ntpl | grep &quot;your application port number&quot;\r\n&gt; \r\n&gt; kill pid // pid you will get from previous command\r\n\r\n**on Mac OS** \r\n\r\n&gt; lsof -n -iTCP:&quot;port number&quot;\r\n&gt; \r\n&gt; kill pid //pid you will get from previous command\r\n\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p><strong>Issue</strong>: It's because either you are not stopping your application or the application is already somehow running on the same port somehow.</p>\n<p><strong>Solution</strong>, Before starting it another time, the earlier application needs to be killed and the port needs to be freed up.</p>\n<p>Depending on your platform you can run the below commands to stop the application,</p>\n<p><strong>on windows</strong></p>\n<blockquote>\n<p>netstat -anp | find &quot;your application port number&quot;` --&gt; find PID</p>\n<p>taskkill /F /PID </p>\n</blockquote>\n<p><strong>on Linux,</strong></p>\n<blockquote>\n<p>netstat -ntpl | grep &quot;your application port number&quot;</p>\n<p>kill pid // pid you will get from previous command</p>\n</blockquote>\n<p><strong>on Mac OS</strong></p>\n<blockquote>\n<p>lsof -n -iTCP:&quot;port number&quot;</p>\n<p>kill pid //pid you will get from previous command</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":1,"creation_date":1516082319,"post_id":44260095,"comment_id":83533324,"body_markdown":"If eclipse isn&#39;t the one using the port find which one is and kill it. stackoverflow.com/a/47235112/1308453","body":"If eclipse isn&#39;t the one using the port find which one is and kill it. stackoverflow.com/a/47235112/1308453"},{"owner":{"account_id":915334,"reputation":934,"user_id":948241,"accept_rate":62,"display_name":"cryptonkid"},"score":1,"creation_date":1518515049,"post_id":44260095,"comment_id":84527873,"body_markdown":"This issue arises because of other service or tomcat using the port already running. NOTE: STS runs tomcat from its own end and if tomcat is pre running then you need to stop the service. As mentioned in other posts you need to stop the service. The solution mentioned above talks about stopping the server if it has pre-run using STS only.","body":"This issue arises because of other service or tomcat using the port already running. NOTE: STS runs tomcat from its own end and if tomcat is pre running then you need to stop the service. As mentioned in other posts you need to stop the service. The solution mentioned above talks about stopping the server if it has pre-run using STS only."},{"owner":{"account_id":2194511,"reputation":9062,"user_id":1940577,"accept_rate":17,"display_name":"Dhaval Shah"},"score":0,"creation_date":1534588243,"post_id":44260095,"comment_id":90765509,"body_markdown":"Just try to close your IDE and run your application again.","body":"Just try to close your IDE and run your application again."},{"owner":{"account_id":14561053,"reputation":635,"user_id":10538678,"display_name":"Matej J"},"score":0,"creation_date":1602229856,"post_id":44260095,"comment_id":113659981,"body_markdown":"Or just click blue icon in left side of screen and solve the problem withouth stopping the application. Its easy","body":"Or just click blue icon in left side of screen and solve the problem withouth stopping the application. Its easy"}],"tags":[],"owner":{"account_id":9996900,"reputation":559,"user_id":7394219,"display_name":"edge"},"comment_count":4,"down_vote_count":3,"up_vote_count":45,"is_accepted":true,"score":42,"last_activity_date":1699262574,"creation_date":1496141199,"answer_id":44260095,"question_id":43026358,"body_markdown":"On the console, looking at the topmost right side of the dialog you should see a red button kinda like a buzzer. To stop the spring boot application properly you just ran, go ahead and hit this button and your problem is solved. Hope this helps!","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>On the console, looking at the topmost right side of the dialog you should see a red button kinda like a buzzer. To stop the spring boot application properly you just ran, go ahead and hit this button and your problem is solved. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":8709840,"reputation":1285,"user_id":6516391,"accept_rate":67,"display_name":"DvixExtract"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1507554726,"creation_date":1507554726,"answer_id":46647351,"question_id":43026358,"body_markdown":"Another easy way of solving this error is right clicking in the console and click on Terminate/Disconnect All. Afterwards run the application it should work fine.\r\n\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>Another easy way of solving this error is right clicking in the console and click on Terminate/Disconnect All. Afterwards run the application it should work fine.</p>\n"},{"comments":[{"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"score":0,"creation_date":1523889720,"post_id":47067463,"comment_id":86735014,"body_markdown":"Still it is not working for any other ports as well.. Please help.","body":"Still it is not working for any other ports as well.. Please help."},{"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"score":0,"creation_date":1523935159,"post_id":47067463,"comment_id":86753953,"body_markdown":"Sorry, you&#39;re question is too ambiguous. Maybe post it as a new question and include your more background situational information. Like your OS, Error messages, etc.","body":"Sorry, you&#39;re question is too ambiguous. Maybe post it as a new question and include your more background situational information. Like your OS, Error messages, etc."},{"owner":{"account_id":4607167,"reputation":157,"user_id":3736304,"display_name":"Sovichea Cheth"},"score":0,"creation_date":1643254559,"post_id":47067463,"comment_id":125292941,"body_markdown":"Works for me on Windows, but need to know which process to kill if you&#39;re running multiple services.","body":"Works for me on Windows, but need to know which process to kill if you&#39;re running multiple services."},{"owner":{"account_id":8791501,"reputation":315,"user_id":6571140,"display_name":"Gary Wang"},"score":0,"creation_date":1678516859,"post_id":47067463,"comment_id":133551493,"body_markdown":"Knowing how to change the port is what I really need, as another app already runs on port 8080, and I cannot simply kill it.","body":"Knowing how to change the port is what I really need, as another app already runs on port 8080, and I cannot simply kill it."}],"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1530806882,"creation_date":1509595742,"answer_id":47067463,"question_id":43026358,"body_markdown":"Find the process and terminate it. \r\nOn Windows do a Control+Alt+Delete and then find the &quot;Java(TM) Platform SE Binary&quot; process under the Processes Tab. For example: \r\n[![enter image description here][1]][1]\r\n \r\nOn Ubuntu, you can use &quot;ps aux | grep java&quot; to find the process and &quot;kill -9 PID_NUMBER&quot; to kill the process. \r\n\r\nOR \r\n\r\nIf you&#39;re using a Spring boot application, go to application.properties and add this: \r\n\r\n    server.port = 8081\r\n\r\n  [1]: https://i.stack.imgur.com/YkNeI.png","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>Find the process and terminate it. \nOn Windows do a Control+Alt+Delete and then find the \"Java(TM) Platform SE Binary\" process under the Processes Tab. For example: \n<a href=\"https://i.stack.imgur.com/YkNeI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YkNeI.png\" alt=\"enter image description here\"></a></p>\n\n<p>On Ubuntu, you can use \"ps aux | grep java\" to find the process and \"kill -9 PID_NUMBER\" to kill the process. </p>\n\n<p>OR </p>\n\n<p>If you're using a Spring boot application, go to application.properties and add this: </p>\n\n<pre><code>server.port = 8081\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5145207,"reputation":2728,"user_id":4121405,"accept_rate":0,"display_name":"alok"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510478505,"creation_date":1510478505,"answer_id":47247206,"question_id":43026358,"body_markdown":"1. check the port which is busy: netstat -ntlp \r\n2. kill that port : kill -9 xxxx","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<ol>\n<li>check the port which is busy: netstat -ntlp </li>\n<li>kill that port : kill -9 xxxx</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2069336,"reputation":392,"user_id":1844138,"accept_rate":36,"display_name":"arun_kk"},"score":0,"creation_date":1553525506,"post_id":49383499,"comment_id":97406068,"body_markdown":"This worked for me. Thanks a lot. But not sure why even after killing the server from IntelliJ, it is not killing the process. This is happening always for me","body":"This worked for me. Thanks a lot. But not sure why even after killing the server from IntelliJ, it is not killing the process. This is happening always for me"},{"owner":{"account_id":1562708,"reputation":351,"user_id":1452224,"accept_rate":83,"display_name":"Amidude"},"score":0,"creation_date":1581460712,"post_id":49383499,"comment_id":106439663,"body_markdown":"This worked for me as well. However, it must be said that even after restarting the server once I completed this task I still got the same error but my application ran.","body":"This worked for me as well. However, it must be said that even after restarting the server once I completed this task I still got the same error but my application ran."},{"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"score":0,"creation_date":1636537576,"post_id":49383499,"comment_id":123581084,"body_markdown":"for windows try `netstat -ano -p tcp |find &quot;9443&quot;`","body":"for windows try <code>netstat -ano -p tcp |find &quot;9443&quot;</code>"}],"tags":[],"owner":{"account_id":2840168,"reputation":1654,"user_id":2439949,"accept_rate":33,"display_name":"sy456"},"comment_count":3,"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1543847418,"creation_date":1521546657,"answer_id":49383499,"question_id":43026358,"body_markdown":"1. Find the process ID (PID) for the port (e.g.: **8080**)\r\n\r\n    On Windows:\r\n    \r\n        netstat -ao | find &quot;8080&quot;\r\n\r\n   Other Platforms other than windows :\r\n\r\n        lsof -i:8080\r\n\r\n\r\n2. Kill the process ID you found (e.g.: 20712)\r\n\r\n    On Windows:\r\n\r\n        Taskkill /PID  20712 /F\r\n\r\n    Other Platforms other than windows :\r\n\r\n        kill -9 20712   or kill 20712","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<ol>\n<li><p>Find the process ID (PID) for the port (e.g.: <strong>8080</strong>)</p>\n\n<p>On Windows:</p>\n\n<pre><code>netstat -ao | find \"8080\"\n</code></pre>\n\n<p>Other Platforms other than windows :</p>\n\n<pre><code>lsof -i:8080\n</code></pre></li>\n<li><p>Kill the process ID you found (e.g.: 20712)</p>\n\n<p>On Windows:</p>\n\n<pre><code>Taskkill /PID  20712 /F\n</code></pre>\n\n<p>Other Platforms other than windows :</p>\n\n<pre><code>kill -9 20712   or kill 20712\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3963157,"reputation":52,"user_id":3269800,"display_name":"Prasad Sonawane"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1540531535,"creation_date":1540531535,"answer_id":53001985,"question_id":43026358,"body_markdown":"[![right click on console and stop ][1]][1]\r\n\r\n\r\nright click on your console and terminate. or click on stop \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDXbm.png\r\n  [2]: https://i.stack.imgur.com/Glcaf.png","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p><a href=\"https://i.stack.imgur.com/gDXbm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDXbm.png\" alt=\"right click on console and stop \"></a></p>\n\n<p>right click on your console and terminate. or click on stop </p>\n\n<p><a href=\"https://i.stack.imgur.com/Glcaf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Glcaf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":10194929,"reputation":11,"user_id":7527035,"display_name":"Ashish Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594824881,"creation_date":1553148355,"answer_id":55274621,"question_id":43026358,"body_markdown":"**There are two options to handle/avoid this situation.**\r\n\r\n1. Before re-running the application just terminate the previous connection.\r\n  \r\n - `Open the console --&gt; right click --&gt; terminate all.`\r\n\r\n2. If you forgot to perform action mention on step 1 then\r\n  \r\n - Figure out the port used by your application, you could see it the stack trace \r\n       in the console window\r\n - Figure out the process id associated to port by executing **netstat -aon** command in cmd\r\n - Kill that process and re-run the application.","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p><strong>There are two options to handle/avoid this situation.</strong></p>\n<ol>\n<li>Before re-running the application just terminate the previous connection.</li>\n</ol>\n<ul>\n<li><code>Open the console --&gt; right click --&gt; terminate all.</code></li>\n</ul>\n<ol start=\"2\">\n<li>If you forgot to perform action mention on step 1 then</li>\n</ol>\n<ul>\n<li>Figure out the port used by your application, you could see it the stack trace\nin the console window</li>\n<li>Figure out the process id associated to port by executing <strong>netstat -aon</strong> command in cmd</li>\n<li>Kill that process and re-run the application.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1496451,"reputation":1500,"user_id":1402270,"accept_rate":67,"display_name":"Devender Goyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555921242,"creation_date":1555921242,"answer_id":55791324,"question_id":43026358,"body_markdown":"**On Windows:**\r\n\r\nTo get started, open the command prompt by clicking on Start and then typing cmd. In the command window, go ahead and type in the following command:\r\n\r\n&gt; netstat -a -n -o\r\n\r\nIn the command above, the -o parameter is what will add the PID to the end of the table. Press enter and you should see something like this:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\nNow to see the name of the process that is using that port, go to Task Manager by pressing CTRL + SHIFT + ESC and then click on the Process tab. In Windows 10, you should click on the Details tab.\r\n\r\nBy default, the task manager does not display the process ID, so you have to click on View and then Select Columns. \r\n\r\nYou might also need to look into services running in background. To do that right-click and select open services as shown below: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8hFSh.jpg\r\n  [2]: https://i.stack.imgur.com/6IKQR.jpg\r\n\r\nHope it helps :)","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p><strong>On Windows:</strong></p>\n\n<p>To get started, open the command prompt by clicking on Start and then typing cmd. In the command window, go ahead and type in the following command:</p>\n\n<blockquote>\n  <p>netstat -a -n -o</p>\n</blockquote>\n\n<p>In the command above, the -o parameter is what will add the PID to the end of the table. Press enter and you should see something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8hFSh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8hFSh.jpg\" alt=\"enter image description here\"></a> </p>\n\n<p>Now to see the name of the process that is using that port, go to Task Manager by pressing CTRL + SHIFT + ESC and then click on the Process tab. In Windows 10, you should click on the Details tab.</p>\n\n<p>By default, the task manager does not display the process ID, so you have to click on View and then Select Columns. </p>\n\n<p>You might also need to look into services running in background. To do that right-click and select open services as shown below: </p>\n\n<p><a href=\"https://i.stack.imgur.com/6IKQR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6IKQR.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Hope it helps :)</p>\n"},{"comments":[{"owner":{"account_id":3401535,"reputation":60,"user_id":2853568,"display_name":"VigSank"},"score":0,"creation_date":1565169408,"post_id":56584497,"comment_id":101264120,"body_markdown":"Thank you. I had wrong values here. :( Correcting it worked :)","body":"Thank you. I had wrong values here. :( Correcting it worked :)"},{"owner":{"account_id":7983401,"reputation":168,"user_id":6023840,"display_name":"Jose Flavio Quispe Irraz&#225;bal"},"score":0,"creation_date":1643666111,"post_id":56584497,"comment_id":125396956,"body_markdown":"Same here. I left the alias-password empty","body":"Same here. I left the alias-password empty"}],"tags":[],"owner":{"account_id":2070360,"reputation":2274,"user_id":1844996,"accept_rate":56,"display_name":"Filip"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1560441791,"creation_date":1560441791,"answer_id":56584497,"question_id":43026358,"body_markdown":"In case your app is run on httpS, make sure you put right values under the following properties:\r\n\r\n    server.ssl.key-store-password=\r\n    server.ssl.key-alias=\r\n\r\nI got the same error when I put the wrong values here\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>In case your app is run on httpS, make sure you put right values under the following properties:</p>\n\n<pre><code>server.ssl.key-store-password=\nserver.ssl.key-alias=\n</code></pre>\n\n<p>I got the same error when I put the wrong values here</p>\n"},{"tags":[],"owner":{"account_id":6566070,"reputation":657,"user_id":5075658,"display_name":"Sumit Jadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568026740,"creation_date":1568026740,"answer_id":57852640,"question_id":43026358,"body_markdown":"this issue can be resolved using 2 ways:\r\n\r\n1. Kill application running on 8080\r\n\r\n    \r\n\r\n&gt;     netstat -ao | find &quot;8080&quot;\r\n\r\n&gt;     Taskkill /PID 1342 /F\r\n\r\n2. change spring server port in **application.properties** file\r\n\r\n&gt;    server.port=8081\r\n\r\n\r\n\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>this issue can be resolved using 2 ways:</p>\n\n<ol>\n<li>Kill application running on 8080</li>\n</ol>\n\n<blockquote>\n<pre><code>netstat -ao | find \"8080\"\n\nTaskkill /PID 1342 /F\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>change spring server port in <strong>application.properties</strong> file</li>\n</ol>\n\n<blockquote>\n  <p>server.port=8081</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13575533,"reputation":41,"user_id":9792998,"display_name":"jacker_wei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568686055,"creation_date":1568686055,"answer_id":57966448,"question_id":43026358,"body_markdown":" if it&#39;s convenient for you, and you don&#39;t want to use the command line, you can **reboot** your computer, it helps!","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>if it's convenient for you, and you don't want to use the command line, you can <strong>reboot</strong> your computer, it helps!</p>\n"},{"tags":[],"owner":{"account_id":11850538,"reputation":17,"user_id":8671959,"display_name":"Ruben Es"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570554376,"creation_date":1570554376,"answer_id":58290973,"question_id":43026358,"body_markdown":"The easier way to solve this is changing the port on the ***application.properties*** file;\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7sNO2.png\r\n\r\n\r\nserver.port=8081","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>The easier way to solve this is changing the port on the <strong><em>application.properties</em></strong> file;</p>\n\n<p><a href=\"https://i.stack.imgur.com/7sNO2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>server.port=8081</p>\n"},{"tags":[],"owner":{"account_id":1257847,"reputation":1816,"user_id":7676742,"display_name":"ylmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594819725,"creation_date":1594819725,"answer_id":62916004,"question_id":43026358,"body_markdown":"For those who are experiencing same problem after controlling there is no suspicious java process which allocate the port, there is no red square on eclipse to terminate any process and also there is no change even you try different port for your spring boot application.\r\n\r\nmight sound stupid but; restarting eclipse works. :)","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>For those who are experiencing same problem after controlling there is no suspicious java process which allocate the port, there is no red square on eclipse to terminate any process and also there is no change even you try different port for your spring boot application.</p>\n<p>might sound stupid but; restarting eclipse works. :)</p>\n"},{"tags":[],"owner":{"account_id":12683337,"reputation":61,"user_id":9216164,"display_name":"Pravin Nikure"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597660159,"creation_date":1597660159,"answer_id":63449034,"question_id":43026358,"body_markdown":"In your windows os follow the following steps:\r\n\r\n\r\n----------\r\n\r\n\r\n1)search services\r\n 2)Find Apache tomcat \r\n3)Right-click on it and select end\r\n 4)Run your spring boot application again it will work\r\n------------------------------------------------------------------------","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>In your windows os follow the following steps:</p>\n<hr />\n<h2>1)search services\n2)Find Apache tomcat\n3)Right-click on it and select end\n4)Run your spring boot application again it will work</h2>\n"},{"tags":[],"owner":{"account_id":197273,"reputation":1,"user_id":441261,"display_name":"MbahSaptoJr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601961465,"creation_date":1601957152,"answer_id":64219209,"question_id":43026358,"body_markdown":"We have had the same issue in eclipse or intellij. After trying many alternative solutions, I found simple solution - add this config to your application.properties:\r\n`spring.main.web-application-type=none`\r\n ","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>We have had the same issue in eclipse or intellij. After trying many alternative solutions, I found simple solution - add this config to your application.properties:\n<code>spring.main.web-application-type=none</code></p>\n"},{"tags":[],"owner":{"account_id":1869972,"reputation":297,"user_id":1692449,"display_name":"K D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610000284,"creation_date":1610000284,"answer_id":65607514,"question_id":43026358,"body_markdown":"If you have devtools like auto build dependency remove it. It is automatically build your project and run it. When you build manually it show port in use.","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>If you have devtools like auto build dependency remove it. It is automatically build your project and run it. When you build manually it show port in use.</p>\n"},{"tags":[],"owner":{"account_id":4788755,"reputation":395,"user_id":3868511,"display_name":"steveen zoleko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634158190,"creation_date":1634158190,"answer_id":69562156,"question_id":43026358,"body_markdown":"If none of the solutions above worked and you are using IntelliJ Idea (I&#39;m using version 2020.3) you can go on your services tab and try to right click on your running configuration then click on clear content. \r\n\r\n[![running server][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hceuC.png","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>If none of the solutions above worked and you are using IntelliJ Idea (I'm using version 2020.3) you can go on your services tab and try to right click on your running configuration then click on clear content.</p>\n<p><a href=\"https://i.stack.imgur.com/hceuC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hceuC.png\" alt=\"running server\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23489918,"reputation":1,"user_id":17541067,"display_name":"Rishabh Varshney"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658507201,"creation_date":1658195957,"answer_id":73030327,"question_id":43026358,"body_markdown":"OS assigns a special number known as Process Identifier (PID) which is unique for every process and running port. And killing the process which running on your preferred port will clear the blockage to deploy your application on that port.\r\n\r\n - **Step 1:**\r\nFind the process ID (PID) for the port (e.g.: 8080)\r\n\r\nOn Windows:\r\n\r\n    netstat -ao | find &quot;8080&quot;\r\n\r\n\r\n - **Step 2:**\r\nKill the process ID you found (e.g.: 20712)\r\n\r\nOn Windows in cmd right click and open  run as administrator:\r\n[enter image description here][1]\r\n\r\n    Taskkill /PID  20712 /F\r\n\r\n  [1]: https://i.stack.imgur.com/FNwLZ.png\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>OS assigns a special number known as Process Identifier (PID) which is unique for every process and running port. And killing the process which running on your preferred port will clear the blockage to deploy your application on that port.</p>\n<ul>\n<li><strong>Step 1:</strong>\nFind the process ID (PID) for the port (e.g.: 8080)</li>\n</ul>\n<p>On Windows:</p>\n<pre><code>netstat -ao | find &quot;8080&quot;\n</code></pre>\n<ul>\n<li><strong>Step 2:</strong>\nKill the process ID you found (e.g.: 20712)</li>\n</ul>\n<p>On Windows in cmd right click and open  run as administrator:\n<a href=\"https://i.stack.imgur.com/FNwLZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>Taskkill /PID  20712 /F\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669200846,"creation_date":1669200846,"answer_id":74545643,"question_id":43026358,"body_markdown":"For Spring Boot 2 and later version add the property to your application configuration file(application.properties or application.yaml):\r\n\r\n    spring.main.web-application-type=SERVLET \r\n\r\nThe WebApplicationType can be one of:\r\n - NONE - The application should not run as a web application and should\r\n   not start an embedded web server.\r\n - REACTIVE - The application should run as a reactive web application and should start an embedded reactive web server.\r\n - SERVLET - The application should run as a servlet-based web application and should start an embedded servlet web server.\r\n\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>For Spring Boot 2 and later version add the property to your application configuration file(application.properties or application.yaml):</p>\n<pre><code>spring.main.web-application-type=SERVLET \n</code></pre>\n<p>The WebApplicationType can be one of:</p>\n<ul>\n<li>NONE - The application should not run as a web application and should\nnot start an embedded web server.</li>\n<li>REACTIVE - The application should run as a reactive web application and should start an embedded reactive web server.</li>\n<li>SERVLET - The application should run as a servlet-based web application and should start an embedded servlet web server.</li>\n</ul>\n"}],"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236550,"favorite_count":0,"down_vote_count":3,"up_vote_count":52,"accepted_answer_id":44260095,"answer_count":20,"score":49,"last_activity_date":1699262574,"creation_date":1490514521,"question_id":43026358,"body_markdown":"I&#39;m developing a REST API using Spring Framework.\r\n\r\nFirst I wasn&#39;t able to run my application because of the same problem. The port 8080 on my computer is busy. \r\nThen I found out that one alternative to solve this problem is creating an `application.properties` file under `src/main/resources` folder. \r\nThat&#39;s what I made, and set up the server to listen on port 8090. This worked but only for the first time, now I&#39;m getting the same exception whenever I try to run the application for the second time.\r\n\r\n    Description:\r\n    \r\n    The Tomcat connector configured to listen on port 8090 failed to start. The port may already be in use or the connector may be misconfigured.\r\n    \r\n    Action:\r\n    \r\n    Verify the connector&#39;s configuration, identify and stop any process that&#39;s listening on port 8090, or configure this application to listen on another port.\r\n\r\n\r\n\r\nAs far as I know, this framework makes use of an embedded instance of apache tomcat to deploy every application. \r\n\r\nMy guess is, the server is not getting restarted the second time I try to run the app, that&#39;s why the output says &quot; The port may already be in use or the connector may be misconfigured&quot;\r\n\r\nSo, a more specific question would be, how can I manage the embedded instance of apache tomcat either manually or programmatically? \r\n\r\nI&#39;ve also modified the port in the `application.properties` file twice. It works fine, but again, only for the first time. As you can imagine I cannot do the same each time the app is going to be executed.","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>I'm developing a REST API using Spring Framework.</p>\n\n<p>First I wasn't able to run my application because of the same problem. The port 8080 on my computer is busy. \nThen I found out that one alternative to solve this problem is creating an <code>application.properties</code> file under <code>src/main/resources</code> folder. \nThat's what I made, and set up the server to listen on port 8090. This worked but only for the first time, now I'm getting the same exception whenever I try to run the application for the second time.</p>\n\n<pre><code>Description:\n\nThe Tomcat connector configured to listen on port 8090 failed to start. The port may already be in use or the connector may be misconfigured.\n\nAction:\n\nVerify the connector's configuration, identify and stop any process that's listening on port 8090, or configure this application to listen on another port.\n</code></pre>\n\n<p>As far as I know, this framework makes use of an embedded instance of apache tomcat to deploy every application. </p>\n\n<p>My guess is, the server is not getting restarted the second time I try to run the app, that's why the output says \" The port may already be in use or the connector may be misconfigured\"</p>\n\n<p>So, a more specific question would be, how can I manage the embedded instance of apache tomcat either manually or programmatically? </p>\n\n<p>I've also modified the port in the <code>application.properties</code> file twice. It works fine, but again, only for the first time. As you can imagine I cannot do the same each time the app is going to be executed.</p>\n"},{"tags":["java","android","google-maps","mobile"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1699263419,"post_id":77429981,"comment_id":136504933,"body_markdown":"&quot;Google Play services&quot; are an system app on the phone you have to update. Usually this happens automatically via Play Store but you can also manually update it. https://support.google.com/googleplay/answer/9037938?hl=en","body":"&quot;Google Play services&quot; are an system app on the phone you have to update. Usually this happens automatically via Play Store but you can also manually update it. <a href=\"https://support.google.com/googleplay/answer/9037938?hl=en\" rel=\"nofollow noreferrer\">support.google.com/googleplay/answer/9037938?hl=en</a>"},{"owner":{"account_id":25095661,"reputation":1,"user_id":18946866,"display_name":"Programmer"},"score":0,"creation_date":1699267557,"post_id":77429981,"comment_id":136505660,"body_markdown":"I am creating a program on Android Studio, so it&#39;s not on my phone, but I have tried to update it manually from the emulator and it&#39;s not working","body":"I am creating a program on Android Studio, so it&#39;s not on my phone, but I have tried to update it manually from the emulator and it&#39;s not working"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1699271011,"post_id":77429981,"comment_id":136506256,"body_markdown":"Android Studio does not execute Andrid apps. For running an app you need a phone - it can be a physical phone or an virtual phone (emulator) but you need a phone.","body":"Android Studio does not execute Andrid apps. For running an app you need a phone - it can be a physical phone or an virtual phone (emulator) but you need a phone."},{"owner":{"account_id":25095661,"reputation":1,"user_id":18946866,"display_name":"Programmer"},"score":0,"creation_date":1699272741,"post_id":77429981,"comment_id":136506577,"body_markdown":"Sure, I have tried to manually update it using the link but that still did not fix my issue.","body":"Sure, I have tried to manually update it using the link but that still did not fix my issue."},{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1699573713,"post_id":77429981,"comment_id":136552744,"body_markdown":"It could be that the device you used is still on Nougat. Or because the emulator you ran did not have a Google Play Service. Please make sure that you run an emulator with one.","body":"It could be that the device you used is still on Nougat. Or because the emulator you ran did not have a Google Play Service. Please make sure that you run an emulator with one."},{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1699575730,"post_id":77429981,"comment_id":136552944,"body_markdown":"Do you have any reason why you need the lowest version of Android or Android 7 on your emulator??","body":"Do you have any reason why you need the lowest version of Android or Android 7 on your emulator??"}],"owner":{"account_id":25095661,"reputation":1,"user_id":18946866,"display_name":"Programmer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699262488,"creation_date":1699262488,"question_id":77429981,"body_markdown":"I am trying to create a basic Google Maps in my Android (Java) project, but every time I try to run it, I go to the log statements and it says \r\n```\r\n&quot;Google Play services out of date for com.example.findaseat.  Requires 13400000 but found 11743470&quot;\r\n```\r\n\r\nJust some information about what is running:\r\n1. Android Studio Giraffe | 2022.3.1 Patch 1\r\nBuild #AI-223.8836.35.2231.10671973, built on August 16, 2023\r\n\r\n2. Pixel 2 Nougat API Level: 24 ABI: x86 Target: Android 7.0 (Google Play Services) \r\n\r\n[This is what shows on my emulator when I try to run the program](https://i.stack.imgur.com/oZrx7.png)\r\n\r\n3. These are my SDK Tools \r\n\r\n[SDK Tools](https://i.stack.imgur.com/FXacj.png)\r\n\r\n4. Google Map related code: \r\n\r\n```\r\ndependencies {\r\n\r\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\r\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-auth:22.2.0&quot;)\r\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n    implementation (&quot;com.google.android.gms:play-services-maps:18.1.0&quot;)\r\n\r\n}\r\n```\r\n\r\nAndroidManifest: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.FindASeat&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;@string/my_map_api_key&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI followed all the steps in this video for the rest of my code: [Google Maps Setup](https://www.youtube.com/watch?v=pOKPQ8rYe6g)\r\n\r\n\r\nI have tried to click on the update button on the emulator, and it asks me to sign into my google account, which I do, but everytime it gives me a server error. \r\n\r\n[Server Error](https://i.stack.imgur.com/hkO36.png)\r\n\r\nI try to go to my emulator settings, but I get a loading screen on the play services update. \r\n\r\n[Emulator Settings](https://i.stack.imgur.com/MSFL2.png)\r\n\r\nI have also tried using other Emulators (Nexus, etc.) but I keep getting the same issue. I am also not sure what version to demote my google maps API version to in my build file, I have tried a bunch of numbers, and if I go too low sometimes I get errors in my MainActivity.java ","title":"Android app is saying Google Play services out of date","body":"<p>I am trying to create a basic Google Maps in my Android (Java) project, but every time I try to run it, I go to the log statements and it says</p>\n<pre><code>&quot;Google Play services out of date for com.example.findaseat.  Requires 13400000 but found 11743470&quot;\n</code></pre>\n<p>Just some information about what is running:</p>\n<ol>\n<li><p>Android Studio Giraffe | 2022.3.1 Patch 1\nBuild #AI-223.8836.35.2231.10671973, built on August 16, 2023</p>\n</li>\n<li><p>Pixel 2 Nougat API Level: 24 ABI: x86 Target: Android 7.0 (Google Play Services)</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/oZrx7.png\" rel=\"nofollow noreferrer\">This is what shows on my emulator when I try to run the program</a></p>\n<ol start=\"3\">\n<li>These are my SDK Tools</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/FXacj.png\" rel=\"nofollow noreferrer\">SDK Tools</a></p>\n<ol start=\"4\">\n<li>Google Map related code:</li>\n</ol>\n<pre><code>dependencies {\n\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\n    implementation(&quot;com.google.firebase:firebase-auth:22.2.0&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n    implementation (&quot;com.google.android.gms:play-services-maps:18.1.0&quot;)\n\n}\n</code></pre>\n<p>AndroidManifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.FindASeat&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;@string/my_map_api_key&quot; /&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I followed all the steps in this video for the rest of my code: <a href=\"https://www.youtube.com/watch?v=pOKPQ8rYe6g\" rel=\"nofollow noreferrer\">Google Maps Setup</a></p>\n<p>I have tried to click on the update button on the emulator, and it asks me to sign into my google account, which I do, but everytime it gives me a server error.</p>\n<p><a href=\"https://i.stack.imgur.com/hkO36.png\" rel=\"nofollow noreferrer\">Server Error</a></p>\n<p>I try to go to my emulator settings, but I get a loading screen on the play services update.</p>\n<p><a href=\"https://i.stack.imgur.com/MSFL2.png\" rel=\"nofollow noreferrer\">Emulator Settings</a></p>\n<p>I have also tried using other Emulators (Nexus, etc.) but I keep getting the same issue. I am also not sure what version to demote my google maps API version to in my build file, I have tried a bunch of numbers, and if I go too low sometimes I get errors in my MainActivity.java</p>\n"},{"tags":["java","selenium-webdriver","cucumber","winapp"],"owner":{"account_id":29663843,"reputation":1,"user_id":22734844,"display_name":"Dinesh Lavate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699262322,"creation_date":1697198707,"question_id":77287574,"body_markdown":"While automating a desktop application we have multiple popup windows. i have tried  all Winapp methods to switch the focus to that popup but unable to get the focus ,and unable to locate the elements which are available in that popup window \r\n\r\nis there a way to handle such type of popup window using Winapp driver \r\n","title":"How to handle popup window by using WinAppDriver?","body":"<p>While automating a desktop application we have multiple popup windows. i have tried  all Winapp methods to switch the focus to that popup but unable to get the focus ,and unable to locate the elements which are available in that popup window</p>\n<p>is there a way to handle such type of popup window using Winapp driver</p>\n"},{"tags":["java","testing","extentreports"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1697392628,"post_id":77297133,"comment_id":136271392,"body_markdown":"Very likely to be a path issue of where you templates are located.  Update your question with a tree structure of your project indicating where the templates are located.  Should probably be in `src/main/resources/...`","body":"Very likely to be a path issue of where you templates are located.  Update your question with a tree structure of your project indicating where the templates are located.  Should probably be in <code>src&#47;main&#47;resources&#47;...</code>"},{"owner":{"account_id":29673000,"reputation":1,"user_id":22741720,"display_name":"testuser25"},"score":0,"creation_date":1697440747,"post_id":77297133,"comment_id":136275382,"body_markdown":"There are no templates, in all the things I watch and read, no one I see uses any templates, at least in the beginning. and they can create html reports. They do not specify any path. Install dependencies, write 3 or 4 lines of code and voila, reporting. If what you mean is something different, could you please explain in detail? thanks for your comment. @AndrewL","body":"There are no templates, in all the things I watch and read, no one I see uses any templates, at least in the beginning. and they can create html reports. They do not specify any path. Install dependencies, write 3 or 4 lines of code and voila, reporting. If what you mean is something different, could you please explain in detail? thanks for your comment. @AndrewL"},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1697504003,"post_id":77297133,"comment_id":136285389,"body_markdown":"OK, I see now - this ExtentReports library must be using Freemarker, rather than your code directly.  You need to go back to those authors for help on how to configure their library.  I would have expected that they *bundle* the report templates in the Library, but since you are getting this error perhaps they do not bundle with the Jar to allow template customisation.","body":"OK, I see now - this ExtentReports library must be using Freemarker, rather than your code directly.  You need to go back to those authors for help on how to configure their library.  I would have expected that they <i>bundle</i> the report templates in the Library, but since you are getting this error perhaps they do not bundle with the Jar to allow template customisation."},{"owner":{"account_id":29673000,"reputation":1,"user_id":22741720,"display_name":"testuser25"},"score":0,"creation_date":1697526425,"post_id":77297133,"comment_id":136287364,"body_markdown":"Thank you for the answer. So what exactly do I need to do? Can you guide me? @AndrewL","body":"Thank you for the answer. So what exactly do I need to do? Can you guide me? @AndrewL"}],"owner":{"account_id":29673000,"reputation":1,"user_id":22741720,"display_name":"testuser25"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699262237,"creation_date":1697381016,"question_id":77297133,"body_markdown":"```\r\n\r\n\r\n\r\nSEVERE: Error executing FreeMarker template\r\nFreeMarker template error:\r\nTemplate inclusion failed (for parameter value &quot;partials/excepton.ftl&quot;):\r\nTemplate not found for name &quot;spark/partials/excepton.ftl&quot;.\r\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\r\n\r\n----\r\nFTL stack trace (&quot;~&quot; means nesting-related):\r\n\t- Failed at: #include &quot;partials/${view.toString()}...  [in template &quot;spark/spark.spa.ftl&quot; at line 27, column 36]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core._MiscTemplateException: [... Exception message was already printed; see it above ...]\r\n\tat freemarker.core.Include.accept(Include.java:164)\r\n\tat freemarker.core.Environment.visit(Environment.java:371)\r\n\tat freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)\r\n\tat freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)\r\n\tat freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)\r\n\tat freemarker.core.Environment.visitIteratorBlock(Environment.java:645)\r\n\tat freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)\r\n\tat freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)\r\n\tat freemarker.core.Environment.visit(Environment.java:335)\r\n\tat freemarker.core.Environment.visit(Environment.java:341)\r\n\tat freemarker.core.Environment.process(Environment.java:314)\r\n\tat freemarker.template.Template.process(Template.java:383)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.processTemplate(FreemarkerTemplate.java:52)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.getSource(FreemarkerTemplate.java:39)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.writeTemplate(FreemarkerTemplate.java:45)\r\n\tat com.aventstack.extentreports.reporter.AbstractFileReporter.processTemplate(AbstractFileReporter.java:74)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter.flush(ExtentSparkReporter.java:149)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:121)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:113)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\r\n\tat com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\r\n\tat com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:96)\r\n\tat com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:279)\r\n\tat com.hyr.extentreports.Deneme2.main(Deneme2.java:11)\r\nCaused by: freemarker.template.TemplateNotFoundException: Template not found for name &quot;spark/partials/excepton.ftl&quot;.\r\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\r\n\tat freemarker.template.Configuration.getTemplate(Configuration.java:2957)\r\n\tat freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062)\r\n\tat freemarker.core.Include.accept(Include.java:162)\r\n\t... 24 more\r\n\r\nEki 14, 2023 10:57:24 &#214;S com.aventstack.extentreports.reporter.ExtentSparkReporter flush\r\nSEVERE: An exception occurred\r\nFreeMarker template error:\r\nTemplate inclusion failed (for parameter value &quot;partials/excepton.ftl&quot;):\r\nTemplate not found for name &quot;spark/partials/excepton.ftl&quot;.\r\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\r\n\r\n----\r\nFTL stack trace (&quot;~&quot; means nesting-related):\r\n\t- Failed at: #include &quot;partials/${view.toString()}...  [in template &quot;spark/spark.spa.ftl&quot; at line 27, column 36]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core._MiscTemplateException: [... Exception message was already printed; see it above ...]\r\n\tat freemarker.core.Include.accept(Include.java:164)\r\n\tat freemarker.core.Environment.visit(Environment.java:371)\r\n\tat freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)\r\n\tat freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)\r\n\tat freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)\r\n\tat freemarker.core.Environment.visitIteratorBlock(Environment.java:645)\r\n\tat freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)\r\n\tat freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)\r\n\tat freemarker.core.Environment.visit(Environment.java:335)\r\n\tat freemarker.core.Environment.visit(Environment.java:341)\r\n\tat freemarker.core.Environment.process(Environment.java:314)\r\n\tat freemarker.template.Template.process(Template.java:383)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.processTemplate(FreemarkerTemplate.java:52)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.getSource(FreemarkerTemplate.java:39)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.writeTemplate(FreemarkerTemplate.java:45)\r\n\tat com.aventstack.extentreports.reporter.AbstractFileReporter.processTemplate(AbstractFileReporter.java:74)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter.flush(ExtentSparkReporter.java:149)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:121)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:113)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\r\n\tat com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\r\n\tat com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:96)\r\n\tat com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:279)\r\n\tat com.hyr.extentreports.Deneme2.main(Deneme2.java:11)\r\nCaused by: freemarker.template.TemplateNotFoundException: Template not found for name &quot;spark/partials/excepton.ftl&quot;.\r\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\r\n\tat freemarker.template.Configuration.getTemplate(Configuration.java:2957)\r\n\tat freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062)\r\n\tat freemarker.core.Include.accept(Include.java:162)\r\n\t... 24 more\r\n```\r\n\r\n```\r\n\r\n\r\n\r\n\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\npublic static void main(String[] args) {\r\n        ExtentReports extent = new ExtentReports();\r\n        ExtentSparkReporter spark = new ExtentSparkReporter(&quot;target/Spark.html&quot;);\r\n        extent.attachReporter(spark);\r\n        extent.createTest(&quot;MyFirstTest&quot;)\r\n                .log(Status.PASS, &quot;This is a logging event for MyFirstTest, and it passed!&quot;);\r\n        extent.flush();\r\n    }\r\n\r\n\r\n```\r\n\r\nI watched all the extentreport installation videos, but I did not see anyone with such a problem. The strange thing is that when I install a friend&#39;s smoothly running ExtentReport project on my own computer, I get the same error. So I think the problem is not project-related, but you can&#39;t tell. \r\n\r\n```\r\nI added extentreports adjustments to my project in different ways, both simple and complex, but the result did not change. I created new projects, but the result did not change. I deleted everything, Java, Intellij, Maven, and reinstalled it, but the result was the same. I watched the videos exactly from start to finish and still got the same result. I saw that no one is using the &quot;exception.ftl&quot; file, which was stated to be missing in the error I received.\r\n```\r\n\r\n Please help me.s","title":"ExtentReports - Java ExtentReports FreeMarker Template Error: freemarker.core._MiscTemplateException","body":"<pre><code>\n\n\nSEVERE: Error executing FreeMarker template\nFreeMarker template error:\nTemplate inclusion failed (for parameter value &quot;partials/excepton.ftl&quot;):\nTemplate not found for name &quot;spark/partials/excepton.ftl&quot;.\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\n\n----\nFTL stack trace (&quot;~&quot; means nesting-related):\n    - Failed at: #include &quot;partials/${view.toString()}...  [in template &quot;spark/spark.spa.ftl&quot; at line 27, column 36]\n----\n\nJava stack trace (for programmers):\n----\nfreemarker.core._MiscTemplateException: [... Exception message was already printed; see it above ...]\n    at freemarker.core.Include.accept(Include.java:164)\n    at freemarker.core.Environment.visit(Environment.java:371)\n    at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)\n    at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)\n    at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)\n    at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)\n    at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)\n    at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)\n    at freemarker.core.Environment.visit(Environment.java:335)\n    at freemarker.core.Environment.visit(Environment.java:341)\n    at freemarker.core.Environment.process(Environment.java:314)\n    at freemarker.template.Template.process(Template.java:383)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.processTemplate(FreemarkerTemplate.java:52)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.getSource(FreemarkerTemplate.java:39)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.writeTemplate(FreemarkerTemplate.java:45)\n    at com.aventstack.extentreports.reporter.AbstractFileReporter.processTemplate(AbstractFileReporter.java:74)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter.flush(ExtentSparkReporter.java:149)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:121)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:113)\n    at io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\n    at io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\n    at com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\n    at com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:96)\n    at com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:279)\n    at com.hyr.extentreports.Deneme2.main(Deneme2.java:11)\nCaused by: freemarker.template.TemplateNotFoundException: Template not found for name &quot;spark/partials/excepton.ftl&quot;.\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\n    at freemarker.template.Configuration.getTemplate(Configuration.java:2957)\n    at freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062)\n    at freemarker.core.Include.accept(Include.java:162)\n    ... 24 more\n\nEki 14, 2023 10:57:24 S com.aventstack.extentreports.reporter.ExtentSparkReporter flush\nSEVERE: An exception occurred\nFreeMarker template error:\nTemplate inclusion failed (for parameter value &quot;partials/excepton.ftl&quot;):\nTemplate not found for name &quot;spark/partials/excepton.ftl&quot;.\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\n\n----\nFTL stack trace (&quot;~&quot; means nesting-related):\n    - Failed at: #include &quot;partials/${view.toString()}...  [in template &quot;spark/spark.spa.ftl&quot; at line 27, column 36]\n----\n\nJava stack trace (for programmers):\n----\nfreemarker.core._MiscTemplateException: [... Exception message was already printed; see it above ...]\n    at freemarker.core.Include.accept(Include.java:164)\n    at freemarker.core.Environment.visit(Environment.java:371)\n    at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)\n    at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)\n    at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)\n    at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)\n    at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)\n    at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)\n    at freemarker.core.Environment.visit(Environment.java:335)\n    at freemarker.core.Environment.visit(Environment.java:341)\n    at freemarker.core.Environment.process(Environment.java:314)\n    at freemarker.template.Template.process(Template.java:383)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.processTemplate(FreemarkerTemplate.java:52)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.getSource(FreemarkerTemplate.java:39)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.writeTemplate(FreemarkerTemplate.java:45)\n    at com.aventstack.extentreports.reporter.AbstractFileReporter.processTemplate(AbstractFileReporter.java:74)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter.flush(ExtentSparkReporter.java:149)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:121)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:113)\n    at io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\n    at io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\n    at com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\n    at com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:96)\n    at com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:279)\n    at com.hyr.extentreports.Deneme2.main(Deneme2.java:11)\nCaused by: freemarker.template.TemplateNotFoundException: Template not found for name &quot;spark/partials/excepton.ftl&quot;.\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\n    at freemarker.template.Configuration.getTemplate(Configuration.java:2957)\n    at freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062)\n    at freemarker.core.Include.accept(Include.java:162)\n    ... 24 more\n</code></pre>\n<pre><code>\n\n\n\n&lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\npublic static void main(String[] args) {\n        ExtentReports extent = new ExtentReports();\n        ExtentSparkReporter spark = new ExtentSparkReporter(&quot;target/Spark.html&quot;);\n        extent.attachReporter(spark);\n        extent.createTest(&quot;MyFirstTest&quot;)\n                .log(Status.PASS, &quot;This is a logging event for MyFirstTest, and it passed!&quot;);\n        extent.flush();\n    }\n\n\n</code></pre>\n<p>I watched all the extentreport installation videos, but I did not see anyone with such a problem. The strange thing is that when I install a friend's smoothly running ExtentReport project on my own computer, I get the same error. So I think the problem is not project-related, but you can't tell.</p>\n<pre><code>I added extentreports adjustments to my project in different ways, both simple and complex, but the result did not change. I created new projects, but the result did not change. I deleted everything, Java, Intellij, Maven, and reinstalled it, but the result was the same. I watched the videos exactly from start to finish and still got the same result. I saw that no one is using the &quot;exception.ftl&quot; file, which was stated to be missing in the error I received.\n</code></pre>\n<p>Please help me.s</p>\n"},{"tags":["java","android","gettype"],"answers":[{"tags":[],"owner":{"account_id":152855,"reputation":13408,"user_id":367677,"accept_rate":73,"display_name":"Asahi"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1289140842,"creation_date":1289140842,"answer_id":4118190,"question_id":4118062,"body_markdown":"You can use tag for that purpose:see set/getTag methods at http://developer.android.com/reference/android/view/View.html","title":"Android get type of a view","body":"<p>You can use tag for that purpose:see set/getTag methods at <a href=\"http://developer.android.com/reference/android/view/View.html\" rel=\"noreferrer\">http://developer.android.com/reference/android/view/View.html</a></p>\n"},{"comments":[{"owner":{"account_id":959608,"reputation":357,"user_id":1157490,"accept_rate":88,"display_name":"mabeiyi"},"score":0,"creation_date":1371835399,"post_id":4118205,"comment_id":24982691,"body_markdown":"It doesn&#39;t work for ListView. And, I have to create another custom CustomListView which extends ListView, so that I can use (view instanceof CustomListView). Is there any way to know the type when it is ListView? Thanks.","body":"It doesn&#39;t work for ListView. And, I have to create another custom CustomListView which extends ListView, so that I can use (view instanceof CustomListView). Is there any way to know the type when it is ListView? Thanks."},{"owner":{"account_id":60544,"reputation":88712,"user_id":180784,"accept_rate":95,"display_name":"Felix"},"score":5,"creation_date":1372319470,"post_id":4118205,"comment_id":25152234,"body_markdown":"@mabeiyi if `view instanceof ListView` is `false`, it means your view is not a `ListView`.","body":"@mabeiyi if <code>view instanceof ListView</code> is <code>false</code>, it means your view is not a <code>ListView</code>."},{"owner":{"account_id":344375,"reputation":689,"user_id":676654,"display_name":"PAntoine"},"score":1,"creation_date":1500629470,"post_id":4118205,"comment_id":77433788,"body_markdown":"@Felix - actually if you have a ListView and you have set &quot;singleChoice&quot; then it will return a class name of &quot;android.widget.CheckedTextView&quot;. This has just bit me. This does this under the covers. :(","body":"@Felix - actually if you have a ListView and you have set &quot;singleChoice&quot; then it will return a class name of &quot;android.widget.CheckedTextView&quot;. This has just bit me. This does this under the covers. :("}],"tags":[],"owner":{"account_id":60544,"reputation":88712,"user_id":180784,"accept_rate":95,"display_name":"Felix"},"comment_count":3,"down_vote_count":0,"up_vote_count":159,"is_accepted":true,"score":159,"last_activity_date":1289141015,"creation_date":1289141015,"answer_id":4118205,"question_id":4118062,"body_markdown":"If, for some strange reason, you can&#39;t use **Asahi**&#39;s suggestion (using tags), my proposition would be the following:\r\n\r\n    if (view instanceof ImageView) {\r\n        ImageView imageView = (ImageView) view;\r\n        // do what you want with imageView\r\n    }\r\n    else if (view instanceof TextView) {\r\n        TextView textView = (TextView) view;\r\n        // do what you want with textView\r\n    }\r\n    else if ...","title":"Android get type of a view","body":"<p>If, for some strange reason, you can't use <strong>Asahi</strong>'s suggestion (using tags), my proposition would be the following:</p>\n\n<pre><code>if (view instanceof ImageView) {\n    ImageView imageView = (ImageView) view;\n    // do what you want with imageView\n}\nelse if (view instanceof TextView) {\n    TextView textView = (TextView) view;\n    // do what you want with textView\n}\nelse if ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":282323,"reputation":7274,"user_id":579148,"accept_rate":88,"display_name":"jwatts1980"},"score":0,"creation_date":1321032830,"post_id":6483782,"comment_id":9927247,"body_markdown":"I am using a TextView to set the style for a spinner (link in this example: http://developer.android.com/resources/tutorials/views/hello-spinner.html). I am also utilizing the onItemSelected event method for the spinner. The event kept triggering with a a view that I didn&#39;t recognize. Using your method above -- v.getClass().getName() -- I was able to determine that the View being passed into the event is the TextView I&#39;m using for the styles.","body":"I am using a TextView to set the style for a spinner (link in this example: <a href=\"http://developer.android.com/resources/tutorials/views/hello-spinner.html\" rel=\"nofollow noreferrer\">developer.android.com/resources/tutorials/views/&hellip;</a>). I am also utilizing the onItemSelected event method for the spinner. The event kept triggering with a a view that I didn&#39;t recognize. Using your method above -- v.getClass().getName() -- I was able to determine that the View being passed into the event is the TextView I&#39;m using for the styles."}],"tags":[],"owner":{"account_id":431802,"reputation":1495,"user_id":816109,"accept_rate":78,"display_name":"realjin"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1699261979,"creation_date":1309090038,"answer_id":6483782,"question_id":4118062,"body_markdown":"I tried the following and it worked:\r\n\r\n\r\n    View view = FLall.getChildAt(i);\r\n    Log.i(&quot;ViewName&quot;, view.getClass().getName());\r\n\r\nFor Kotlin, the equivalent code is\r\n\r\n    val view: View = FLall.getChildAt(i);\r\n    Log.i(&quot;ViewName&quot;, view.javaClass.name);","title":"Android get type of a view","body":"<p>I tried the following and it worked:</p>\n<pre><code>View view = FLall.getChildAt(i);\nLog.i(&quot;ViewName&quot;, view.getClass().getName());\n</code></pre>\n<p>For Kotlin, the equivalent code is</p>\n<pre><code>val view: View = FLall.getChildAt(i);\nLog.i(&quot;ViewName&quot;, view.javaClass.name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":172998,"reputation":3013,"user_id":401403,"accept_rate":91,"display_name":"Arash"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1395738501,"creation_date":1395738501,"answer_id":22629807,"question_id":4118062,"body_markdown":"For Others who check this Question,in some cases `instanceof` does not work(I do not know why!),for example if your want to check if view type is `ImageView` or `ImageButton`(i tested this situation) , it get them the same, so you scan use this way :\r\n\r\n\r\n    //v is your View\r\n\t\tif (v.getClass().getName().equalsIgnoreCase(&quot;android.widget.ImageView&quot;)) {\r\n\t\t\tLog.e(&quot;imgview&quot;, v.toString());\r\n\t\t\timgview = (ImageView) v;\r\n\t\t} else if (v.getClass().getName().equalsIgnoreCase(&quot;android.widget.ImageButton&quot;)) {\r\n\t\t\tLog.e(&quot;imgbtn&quot;, v.toString());\r\n\t\t\timgbtn = (ImageButton) v; \r\n        }","title":"Android get type of a view","body":"<p>For Others who check this Question,in some cases <code>instanceof</code> does not work(I do not know why!),for example if your want to check if view type is <code>ImageView</code> or <code>ImageButton</code>(i tested this situation) , it get them the same, so you scan use this way :</p>\n\n<pre><code>//v is your View\n    if (v.getClass().getName().equalsIgnoreCase(\"android.widget.ImageView\")) {\n        Log.e(\"imgview\", v.toString());\n        imgview = (ImageView) v;\n    } else if (v.getClass().getName().equalsIgnoreCase(\"android.widget.ImageButton\")) {\n        Log.e(\"imgbtn\", v.toString());\n        imgbtn = (ImageButton) v; \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17040381,"reputation":1,"user_id":12328427,"display_name":"Mic Ramos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590650959,"creation_date":1590650400,"answer_id":62059078,"question_id":4118062,"body_markdown":"I am using this solution for KOTLIN code, so going off of **Arash&#39;s** solution:\r\n\r\n    if(v.javaClass.name.equals(&quot;android.widget.ImageView&quot;, ignoreCase = true)) ...\r\n\r\nusing this didn&#39;t work for me, but tweaking it to:\r\n\r\n    if(v.javaClass.name.contains(&quot;ImageView&quot;, ignoreCase = true)) ...\r\n\r\nworked for me!","title":"Android get type of a view","body":"<p>I am using this solution for KOTLIN code, so going off of <strong>Arash's</strong> solution:</p>\n\n<pre><code>if(v.javaClass.name.equals(\"android.widget.ImageView\", ignoreCase = true)) ...\n</code></pre>\n\n<p>using this didn't work for me, but tweaking it to:</p>\n\n<pre><code>if(v.javaClass.name.contains(\"ImageView\", ignoreCase = true)) ...\n</code></pre>\n\n<p>worked for me!</p>\n"},{"tags":[],"owner":{"account_id":7162613,"reputation":291,"user_id":5472879,"display_name":"Tob237"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630062716,"creation_date":1630062716,"answer_id":68952439,"question_id":4118062,"body_markdown":"In Kotlin you can check this by using &quot;is&quot;:\r\n\r\n    val view = findViewById&lt;View&gt;(R.id.a_view)\r\n\r\n    if (view is ImageView) {\r\n        print(&quot;This is a ImageView&quot;)\r\n    } else {\r\n        print(&quot;This is not a ImageView&quot;)\r\n    }","title":"Android get type of a view","body":"<p>In Kotlin you can check this by using &quot;is&quot;:</p>\n<pre><code>val view = findViewById&lt;View&gt;(R.id.a_view)\n\nif (view is ImageView) {\n    print(&quot;This is a ImageView&quot;)\n} else {\n    print(&quot;This is not a ImageView&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6676835,"reputation":324,"user_id":5151198,"display_name":"Dilanka Fernando"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642346446,"creation_date":1642346446,"answer_id":70731440,"question_id":4118062,"body_markdown":"In Android Xamarin, This is how Android get type of a view and compare with controller type.\r\n\r\n   \r\n\r\n    var view = FindViewById&lt;TextView&gt;(Resource.Id.emailText);\r\n    \r\n    if (typeof(TextView).IsInstanceOfType(view))\r\n    {\r\n        var textView = (TextView)view;\r\n    }","title":"Android get type of a view","body":"<p>In Android Xamarin, This is how Android get type of a view and compare with controller type.</p>\n<pre><code>var view = FindViewById&lt;TextView&gt;(Resource.Id.emailText);\n\nif (typeof(TextView).IsInstanceOfType(view))\n{\n    var textView = (TextView)view;\n}\n</code></pre>\n"}],"owner":{"account_id":216976,"reputation":13968,"user_id":472537,"accept_rate":84,"display_name":"lacas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62314,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":4118205,"answer_count":7,"score":67,"last_activity_date":1699261979,"creation_date":1289138881,"question_id":4118062,"body_markdown":"How can i do this?\r\n\r\nsomething:\r\n\r\n    final View view=FLall.getChildAt(i);\r\n    \r\n    if (view.getType()==ImageView) {\r\n    ...\r\n    }\r\n\r\n","title":"Android get type of a view","body":"<p>How can i do this?</p>\n\n<p>something:</p>\n\n<pre><code>final View view=FLall.getChildAt(i);\n\nif (view.getType()==ImageView) {\n...\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1511284918,"post_id":47418955,"comment_id":81792115,"body_markdown":"A `Task` basically assumes the FX Application Thread is already running anyway. For example, it is going to schedule changes to its `state` property on the FX Application thread when it is scheduled and starts running, etc. You probably need to write code (even in your unit tests) that ensures the platform is running before starting a task.","body":"A <code>Task</code> basically assumes the FX Application Thread is already running anyway. For example, it is going to schedule changes to its <code>state</code> property on the FX Application thread when it is scheduled and starts running, etc. You probably need to write code (even in your unit tests) that ensures the platform is running before starting a task."},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511285001,"post_id":47418955,"comment_id":81792163,"body_markdown":"I usually just call `task.call()` for testing purposes. This does not alter the state of the task and should be save to do even without a running platform. (If I do not call the methods mentioned above in the `call()` method.)","body":"I usually just call <code>task.call()</code> for testing purposes. This does not alter the state of the task and should be save to do even without a running platform. (If I do not call the methods mentioned above in the <code>call()</code> method.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1511285257,"post_id":47418955,"comment_id":81792330,"body_markdown":"OK, but the assumption is still made; especially if you are calling `updateXXX(...)` methods in `call(...)`. You&#39;re basically proposing modifying (or at least introducing guards) in your code solely to handle the test environment. If you want to test `Task.call()`, you need the FX platform running. If you want to test functionality that is invoked in the `call()` method, refactor that functionality into another class and unit test that class.","body":"OK, but the assumption is still made; especially if you are calling <code>updateXXX(...)</code> methods in <code>call(...)</code>. You&#39;re basically proposing modifying (or at least introducing guards) in your code solely to handle the test environment. If you want to test <code>Task.call()</code>, you need the FX platform running. If you want to test functionality that is invoked in the <code>call()</code> method, refactor that functionality into another class and unit test that class."},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511285535,"post_id":47418955,"comment_id":81792514,"body_markdown":"You are right. The reason why I did not do such refactorings so far is that I want to notify about progress (status messages, progress-done information). I would need some kind of ProgressMonitor (e.g. `org.eclipse.core.runtime.IProgressMonitor`) to propagate such information from my `Callable` to the `Task`. Unfortunately, such thing is difficult to implement when using `Task`, since here progress monitoring is done via protected methods instead of a separate progress monitor object.","body":"You are right. The reason why I did not do such refactorings so far is that I want to notify about progress (status messages, progress-done information). I would need some kind of ProgressMonitor (e.g. <code>org.eclipse.core.runtime.IProgressMonitor</code>) to propagate such information from my <code>Callable</code> to the <code>Task</code>. Unfortunately, such thing is difficult to implement when using <code>Task</code>, since here progress monitoring is done via protected methods instead of a separate progress monitor object."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1511285718,"post_id":47418955,"comment_id":81792626,"body_markdown":"If I need to monitor progress in an external (JavaFX-agnostic) class implementing some process, I usually just define a `DoubleConsumer progressUpdate;` field in that class. Then if I use it from a `Task`, all I need is `myProcess.setProgressUpdate(p -&gt; updateProgress(p, 1.0));`","body":"If I need to monitor progress in an external (JavaFX-agnostic) class implementing some process, I usually just define a <code>DoubleConsumer progressUpdate;</code> field in that class. Then if I use it from a <code>Task</code>, all I need is <code>myProcess.setProgressUpdate(p -&gt; updateProgress(p, 1.0));</code>"},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511285758,"post_id":47418955,"comment_id":81792652,"body_markdown":"Could you give an example?","body":"Could you give an example?"},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511286619,"post_id":47418955,"comment_id":81793174,"body_markdown":"I tried it using a StringConsumer for updating the progress message. I will refactor further to use a DoubleConsumer for the progress. Very nice solution, thanks a lot! You can make an answer from your comment, I will upvote.","body":"I tried it using a StringConsumer for updating the progress message. I will refactor further to use a DoubleConsumer for the progress. Very nice solution, thanks a lot! You can make an answer from your comment, I will upvote."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1511286971,"post_id":47418955,"comment_id":81793390,"body_markdown":"Probably you should rewrite the question so that it is about refactoring a task so that the process you are wrapping is not dependent on JavaFX (which I think is what you&#39;re really asking).","body":"Probably you should rewrite the question so that it is about refactoring a task so that the process you are wrapping is not dependent on JavaFX (which I think is what you&#39;re really asking)."},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511288090,"post_id":47418955,"comment_id":81794058,"body_markdown":"I think this question here is still valid, so I opened a new one about the task refactoring https://stackoverflow.com/questions/47419949/propagate-progress-information-from-callable-to-task","body":"I think this question here is still valid, so I opened a new one about the task refactoring <a href=\"https://stackoverflow.com/questions/47419949/propagate-progress-information-from-callable-to-task\" title=\"propagate progress information from callable to task\">stackoverflow.com/questions/47419949/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699261780,"creation_date":1699261780,"answer_id":77429929,"question_id":47418955,"body_markdown":"**Preface:** \r\n\r\nToo late for the party, but this library of mine eliminates exactly this issued.\r\n\r\nhttps://github.com/davidweber411/SimpleJavaFxApplicationBase\r\n\r\nFor more information, like documentation, check out the homepage https://wedasoft.com/projects/simple-java-fx-application-base/.\r\n\r\n**Solution:**\r\n\r\nTake a look at the class `SimpleJavaXTestBase`.\r\n\r\nhttps://github.com/davidweber411/SimpleJavaFxApplicationBase/blob/master/src/main/java/com/wedasoft/simpleJavaFxApplicationBase/testBase/SimpleJavaFxTestBase.java\r\n\r\nEither use my library from Maven Central or copy the needed classes into your needed project:\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.wedasoft&lt;/groupId&gt;\r\n        &lt;artifactId&gt;simplejavafxapplicationbase&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nGradle:\r\n\r\n    implementation(&quot;com.wedasoft:simplejavafxapplicationbase:1.7.0&quot;)\r\n\r\n**Documentation:**\r\n\r\nhttps://wedasoft.com/projects/simple-java-fx-application-base/sjfxab-version-1-7-0/#testing-suite","title":"Check if JavaFX Platform is running","body":"<p><strong>Preface:</strong></p>\n<p>Too late for the party, but this library of mine eliminates exactly this issued.</p>\n<p><a href=\"https://github.com/davidweber411/SimpleJavaFxApplicationBase\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/SimpleJavaFxApplicationBase</a></p>\n<p>For more information, like documentation, check out the homepage <a href=\"https://wedasoft.com/projects/simple-java-fx-application-base/\" rel=\"nofollow noreferrer\">https://wedasoft.com/projects/simple-java-fx-application-base/</a>.</p>\n<p><strong>Solution:</strong></p>\n<p>Take a look at the class <code>SimpleJavaXTestBase</code>.</p>\n<p><a href=\"https://github.com/davidweber411/SimpleJavaFxApplicationBase/blob/master/src/main/java/com/wedasoft/simpleJavaFxApplicationBase/testBase/SimpleJavaFxTestBase.java\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/SimpleJavaFxApplicationBase/blob/master/src/main/java/com/wedasoft/simpleJavaFxApplicationBase/testBase/SimpleJavaFxTestBase.java</a></p>\n<p>Either use my library from Maven Central or copy the needed classes into your needed project:</p>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.wedasoft&lt;/groupId&gt;\n    &lt;artifactId&gt;simplejavafxapplicationbase&lt;/artifactId&gt;\n    &lt;version&gt;1.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Gradle:</p>\n<pre><code>implementation(&quot;com.wedasoft:simplejavafxapplicationbase:1.7.0&quot;)\n</code></pre>\n<p><strong>Documentation:</strong></p>\n<p><a href=\"https://wedasoft.com/projects/simple-java-fx-application-base/sjfxab-version-1-7-0/#testing-suite\" rel=\"nofollow noreferrer\">https://wedasoft.com/projects/simple-java-fx-application-base/sjfxab-version-1-7-0/#testing-suite</a></p>\n"}],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1457,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1699261780,"creation_date":1511284658,"question_id":47418955,"body_markdown":"There is no method such as `javafx.application.Platform.isRunning()`.\r\n\r\nCan I check somehow else if the platform has been started?\r\n\r\nI would like to modify my `javafx.util.concurrent.Task` classes to call `updateMessage()`, etc. only if the Platform is actually running.\r\n\r\nThat would be useful in a test setup.\r\n\r\nIf I test, I run into `java.lang.IllegalStateException: Toolkit not initialized`\r\n\r\nI think this could be easily avoided by something like\r\n\r\n    if(Platform.isRunning()){\r\n        updateMessage(&quot;Doing work&quot;);\r\n    }\r\n\r\n","title":"Check if JavaFX Platform is running","body":"<p>There is no method such as <code>javafx.application.Platform.isRunning()</code>.</p>\n\n<p>Can I check somehow else if the platform has been started?</p>\n\n<p>I would like to modify my <code>javafx.util.concurrent.Task</code> classes to call <code>updateMessage()</code>, etc. only if the Platform is actually running.</p>\n\n<p>That would be useful in a test setup.</p>\n\n<p>If I test, I run into <code>java.lang.IllegalStateException: Toolkit not initialized</code></p>\n\n<p>I think this could be easily avoided by something like</p>\n\n<pre><code>if(Platform.isRunning()){\n    updateMessage(\"Doing work\");\n}\n</code></pre>\n"},{"tags":["java","swing","jtree","treenode","treecellrenderer"],"answers":[{"comments":[{"owner":{"account_id":3743697,"reputation":310,"user_id":3112896,"accept_rate":89,"display_name":"Vlad"},"score":1,"creation_date":1387511726,"post_id":20692430,"comment_id":30996759,"body_markdown":"WOW! I have two weeks searching an answer like that, a friend and me were reading a lot and all this time we were confused. To simple view the code is perfect, I&#39;ll test it and later  will tell you how it works.\nThanks a lot for your help!!!","body":"WOW! I have two weeks searching an answer like that, a friend and me were reading a lot and all this time we were confused. To simple view the code is perfect, I&#39;ll test it and later  will tell you how it works. Thanks a lot for your help!!!"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1631368470,"post_id":20692430,"comment_id":122205948,"body_markdown":"Great solution! The icon size is 16x16 px&#178; or any?","body":"Great solution! The icon size is 16x16 px&#178; or any?"}],"tags":[],"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1509293080,"creation_date":1387490053,"answer_id":20692430,"question_id":20691946,"body_markdown":"You can change default UI values for icons of `JTree` nodes without any custom renderer:\r\n\r\n    URL resource = logaff.class.getResource(IMAGE);\r\n\tIcon icon = new ImageIcon(resource);\r\n\t\t\r\n\tUIManager.put(&quot;Tree.closedIcon&quot;, icon);\r\n\tUIManager.put(&quot;Tree.openIcon&quot;, icon);\r\n\tUIManager.put(&quot;Tree.leafIcon&quot;, icon);\r\n\r\nor use something like next:  \r\n\r\n    @Override\r\n    public Component getTreeCellRendererComponent(JTree tree,\r\n    \tObject value, boolean selected, boolean expanded,\r\n   \t\tboolean leaf, int row, boolean hasFocus) {\r\n    \t\tsuper.getTreeCellRendererComponent(tree, value, selected,expanded, leaf, row, hasFocus);\r\n    \t\tDefaultMutableTreeNode nodo = (DefaultMutableTreeNode) value;\r\n    \t\tif (tree.getModel().getRoot().equals(nodo)) {\r\n    \t\t\tsetIcon(root);\r\n    \t\t} else if (nodo.getChildCount() &gt; 0) {\r\n    \t\t\tsetIcon(parent);\r\n    \t\t} else {\r\n    \t\t\tsetIcon(leaf);\r\n    \t\t}\r\n    \t\treturn this;\r\n    }\r\n\r\nAlso read about [rendering mechanism][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13672980/difficulties-understanding-the-renderers-mechanism-of-swings-jtable-and-jtree","title":"Set icon to each node in Jtree","body":"<p>You can change default UI values for icons of <code>JTree</code> nodes without any custom renderer:</p>\n\n<pre><code>URL resource = logaff.class.getResource(IMAGE);\nIcon icon = new ImageIcon(resource);\n\nUIManager.put(\"Tree.closedIcon\", icon);\nUIManager.put(\"Tree.openIcon\", icon);\nUIManager.put(\"Tree.leafIcon\", icon);\n</code></pre>\n\n<p>or use something like next:  </p>\n\n<pre><code>@Override\npublic Component getTreeCellRendererComponent(JTree tree,\n    Object value, boolean selected, boolean expanded,\n    boolean leaf, int row, boolean hasFocus) {\n        super.getTreeCellRendererComponent(tree, value, selected,expanded, leaf, row, hasFocus);\n        DefaultMutableTreeNode nodo = (DefaultMutableTreeNode) value;\n        if (tree.getModel().getRoot().equals(nodo)) {\n            setIcon(root);\n        } else if (nodo.getChildCount() &gt; 0) {\n            setIcon(parent);\n        } else {\n            setIcon(leaf);\n        }\n        return this;\n}\n</code></pre>\n\n<p>Also read about <a href=\"https://stackoverflow.com/questions/13672980/difficulties-understanding-the-renderers-mechanism-of-swings-jtable-and-jtree\">rendering mechanism</a>.</p>\n"},{"tags":[],"owner":{"account_id":3129007,"reputation":1831,"user_id":2647294,"accept_rate":86,"display_name":"mesutpiskin"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1487101741,"creation_date":1487101741,"answer_id":42234955,"question_id":20691946,"body_markdown":"You can use it, a shorter way. &quot;tree&quot; is my JTree component.\r\n\r\n    DefaultTreeCellRenderer renderer = (DefaultTreeCellRenderer) tree.getCellRenderer();\r\n    Icon closedIcon = new ImageIcon(&quot;closed.png&quot;);\r\n    Icon openIcon = new ImageIcon(&quot;open.png&quot;);\r\n    Icon leafIcon = new ImageIcon(&quot;leaf.png&quot;);\r\n    renderer.setClosedIcon(closedIcon);\r\n    renderer.setOpenIcon(openIcon);\r\n    renderer.setLeafIcon(leafIcon);    \r\n\r\n        \r\n\r\n","title":"Set icon to each node in Jtree","body":"<p>You can use it, a shorter way. \"tree\" is my JTree component.</p>\n\n<pre><code>DefaultTreeCellRenderer renderer = (DefaultTreeCellRenderer) tree.getCellRenderer();\nIcon closedIcon = new ImageIcon(\"closed.png\");\nIcon openIcon = new ImageIcon(\"open.png\");\nIcon leafIcon = new ImageIcon(\"leaf.png\");\nrenderer.setClosedIcon(closedIcon);\nrenderer.setOpenIcon(openIcon);\nrenderer.setLeafIcon(leafIcon);    \n</code></pre>\n"}],"owner":{"account_id":3743697,"reputation":310,"user_id":3112896,"accept_rate":89,"display_name":"Vlad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28760,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":20692430,"answer_count":2,"score":14,"last_activity_date":1699261711,"creation_date":1387488170,"question_id":20691946,"body_markdown":"I want to set a different icon for each node in my JTree component. I&#39;m loading each node from a database using a `while` loop. I set each icon like a root, leaf, or parent. I set them as follows:\r\n\r\nAll my declarations are global:\r\n\r\n    private ResultSet myResultSet;\r\n    protected DefaultTreeModel treeModel;\r\n    private DefaultMutableTreeNode rootNode,childNode,parent1,parent2;\r\n\r\nThis is how I set my nodes:\r\n\r\n    myResultSet=rtnNodes(); /*Method that returns a RS with my nodes*/\r\n    while(myResultSet.next()){\r\n      switch(myResultSet.getInt(1)){  /*The first column is the type of node: root, parent, leaf...*/\r\n        case 0: treeModel = new DefaultTreeModel((rootNode=new DefaultMutableTreeNode(myResultSet.getString(2)))); break;  /*root node*/\r\n        case 1: case 4: parent1 = parent2 = makeNode(rootNode); break;  /*parent node*/\r\n        case 2: makeNode(parent2); break;  /*leaf node*/\r\n        case 3: parent2 = makeNode(parent1); break;  /*sub patern node*/\r\n      } /*makeNode is the method where I create the nodes*/\r\n    }\r\n\r\nThe `makeNode` method is this:\r\n\r\n    public DefaultMutableTreeNode makeNode(DefaultMutableTreeNode parent){\r\n      //The second column in the RS is the name of the node\r\n      treeModel.insertNodeInto((childNode=new DefaultMutableTreeNode(myResultSet.getString(2))),parent,parent.getChildCount());\r\n      return childNode;\r\n    }\r\n\r\nAfter filling the `treemodel` with my nodes, I set the model to my JTree:\r\n\r\n    myJTree.setModel(treeModel);\r\n    myJTree.getSelectionModel().setSelectionMode(TreeSelectionModel.SINGLE_TREE_SELECTION);\r\n\r\nBut the problem comes when I try to set the icons. I create a subclass called MyTreeRenderer, and I use this:\r\n\r\n    myJTree.setCellRenderer(new MyTreeRenderer());\r\n\r\nBut it doesn&#39;t set the icons as I want, the subclass is:\r\n\r\n    private ImageIcon root,parent,leaf;\r\n    \r\n    public MyTreeRenderer() {\r\n       root=setIcons(2);  /*setIcons is a method that I dont publish in this post, that helps me to set the path of the icons*/\r\n       parent=setIcons(3);\r\n       leaf=setIcons(4);\r\n    }\r\n    \r\n    @Override\r\n    public Component getTreeCellRendererComponent(JTree tree,Object value,boolean selected,boolean expanded,boolean leaf,int row,boolean hasFocus){               \r\n       super.getTreeCellRendererComponent(tree,value,selected,expanded,leaf,row,hasFocus);\r\n       DefaultMutableTreeNode nodo = (DefaultMutableTreeNode)value;\r\n       TreeNode t = nodo.getParent();\r\n       if(t!=null){\r\n          setIcon(root);\r\n       }\r\n       return this;\r\n    }\r\n\r\nHow can I set the icon for each node without using his name? The code of the subclass, as is, set all the nodes with the same icon, and each time I select a node in the jtree, the `getTreeCellRendererComponent` runs, I don&#180;t want this.","title":"Set icon to each node in Jtree","body":"<p>I want to set a different icon for each node in my JTree component. I'm loading each node from a database using a <code>while</code> loop. I set each icon like a root, leaf, or parent. I set them as follows:</p>\n<p>All my declarations are global:</p>\n<pre><code>private ResultSet myResultSet;\nprotected DefaultTreeModel treeModel;\nprivate DefaultMutableTreeNode rootNode,childNode,parent1,parent2;\n</code></pre>\n<p>This is how I set my nodes:</p>\n<pre><code>myResultSet=rtnNodes(); /*Method that returns a RS with my nodes*/\nwhile(myResultSet.next()){\n  switch(myResultSet.getInt(1)){  /*The first column is the type of node: root, parent, leaf...*/\n    case 0: treeModel = new DefaultTreeModel((rootNode=new DefaultMutableTreeNode(myResultSet.getString(2)))); break;  /*root node*/\n    case 1: case 4: parent1 = parent2 = makeNode(rootNode); break;  /*parent node*/\n    case 2: makeNode(parent2); break;  /*leaf node*/\n    case 3: parent2 = makeNode(parent1); break;  /*sub patern node*/\n  } /*makeNode is the method where I create the nodes*/\n}\n</code></pre>\n<p>The <code>makeNode</code> method is this:</p>\n<pre><code>public DefaultMutableTreeNode makeNode(DefaultMutableTreeNode parent){\n  //The second column in the RS is the name of the node\n  treeModel.insertNodeInto((childNode=new DefaultMutableTreeNode(myResultSet.getString(2))),parent,parent.getChildCount());\n  return childNode;\n}\n</code></pre>\n<p>After filling the <code>treemodel</code> with my nodes, I set the model to my JTree:</p>\n<pre><code>myJTree.setModel(treeModel);\nmyJTree.getSelectionModel().setSelectionMode(TreeSelectionModel.SINGLE_TREE_SELECTION);\n</code></pre>\n<p>But the problem comes when I try to set the icons. I create a subclass called MyTreeRenderer, and I use this:</p>\n<pre><code>myJTree.setCellRenderer(new MyTreeRenderer());\n</code></pre>\n<p>But it doesn't set the icons as I want, the subclass is:</p>\n<pre><code>private ImageIcon root,parent,leaf;\n\npublic MyTreeRenderer() {\n   root=setIcons(2);  /*setIcons is a method that I dont publish in this post, that helps me to set the path of the icons*/\n   parent=setIcons(3);\n   leaf=setIcons(4);\n}\n\n@Override\npublic Component getTreeCellRendererComponent(JTree tree,Object value,boolean selected,boolean expanded,boolean leaf,int row,boolean hasFocus){               \n   super.getTreeCellRendererComponent(tree,value,selected,expanded,leaf,row,hasFocus);\n   DefaultMutableTreeNode nodo = (DefaultMutableTreeNode)value;\n   TreeNode t = nodo.getParent();\n   if(t!=null){\n      setIcon(root);\n   }\n   return this;\n}\n</code></pre>\n<p>How can I set the icon for each node without using his name? The code of the subclass, as is, set all the nodes with the same icon, and each time I select a node in the jtree, the <code>getTreeCellRendererComponent</code> runs, I dont want this.</p>\n"},{"tags":["java","testing","junit","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1639768015,"post_id":70394658,"comment_id":124441587,"body_markdown":"Mockito 1.10.19 is ancient - it comes from Dec 31, 2014.\nCan you try running with 4.x or 3.x?","body":"Mockito 1.10.19 is ancient - it comes from Dec 31, 2014. Can you try running with 4.x or 3.x?"},{"owner":{"account_id":23512643,"reputation":111,"user_id":17561037,"display_name":"Ray09"},"score":0,"creation_date":1639817299,"post_id":70394658,"comment_id":124449252,"body_markdown":"Perfect, tried 4.x at least now it compiles and gives me the green bar. Thanks","body":"Perfect, tried 4.x at least now it compiles and gives me the green bar. Thanks"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1639839131,"post_id":70394658,"comment_id":124453282,"body_markdown":"On StackOverflow it is perfectly ok to answer your own question, but please do it in answers section, instead of editing the question.","body":"On StackOverflow it is perfectly ok to answer your own question, but please do it in answers section, instead of editing the question."}],"answers":[{"comments":[{"owner":{"account_id":10399669,"reputation":119,"user_id":7668403,"display_name":"kaustubhd9"},"score":0,"creation_date":1684049907,"post_id":70410510,"comment_id":134457661,"body_markdown":"for gradle: `dependencies {\n    testImplementation &#39;org.mockito:mockito-core:4.2.0&#39;\n}`","body":"for gradle: <code>dependencies {     testImplementation &#39;org.mockito:mockito-core:4.2.0&#39; }</code>"}],"tags":[],"owner":{"account_id":23512643,"reputation":111,"user_id":17561037,"display_name":"Ray09"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1639908840,"creation_date":1639908840,"answer_id":70410510,"question_id":70394658,"body_markdown":"**Solved**\r\n\r\nFor the guys facing my problem, the solution is to use only this maven dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.2.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Mockito ExceptionInInitializer error with simple DAO","body":"<p><strong>Solved</strong></p>\n<p>For the guys facing my problem, the solution is to use only this maven dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18817211,"reputation":37,"user_id":13724035,"display_name":"Md Shah Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699261657,"creation_date":1699261657,"answer_id":77429915,"question_id":70394658,"body_markdown":"Issue in Android Studio after JDK migration\r\n\r\njava.lang.ExceptionInInitializerError\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\r\n\tat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\r\n\r\n\r\n\r\nI also face this issue in Android Studio after Migrating Java JDK 17, Just \r\nAdd below line inside app&gt;build.gradle\r\n\r\n    tasks.withType(Test) {\r\n        jvmArgs(&#39;--add-opens=java.base/java.lang=ALL-UNNAMED&#39;)\r\n    }\r\n\r\n\r\nGradle Reference \r\n[https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests][1]\r\n\r\n\r\n  [1]: https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests","title":"Mockito ExceptionInInitializer error with simple DAO","body":"<p>Issue in Android Studio after JDK migration</p>\n<p>java.lang.ExceptionInInitializerError\nat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\nat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\nat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\nat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)</p>\n<p>I also face this issue in Android Studio after Migrating Java JDK 17, Just\nAdd below line inside app&gt;build.gradle</p>\n<pre><code>tasks.withType(Test) {\n    jvmArgs('--add-opens=java.base/java.lang=ALL-UNNAMED')\n}\n</code></pre>\n<p>Gradle Reference\n<a href=\"https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests\" rel=\"nofollow noreferrer\">https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests</a></p>\n"}],"owner":{"account_id":23512643,"reputation":111,"user_id":17561037,"display_name":"Ray09"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5529,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699261657,"creation_date":1639751265,"question_id":70394658,"body_markdown":"I&#39;m starting to use Mockito with Junit 4.12, Java EE, i need to test this service method in a CQRS program, i want to Mock the UserDAO (We are dealing with users) and then assert some properties.\r\n\r\nThis is what i made so far:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class UserCommandServiceTest {\r\n    \r\n    \t@InjectMocks\r\n    \tprivate UserCommandService userCommandService;\r\n    \r\n    \t@Mock\r\n    \tprivate UserDAO userDAO;\r\n    \r\n    \t@Before\r\n    \tpublic void init() {\r\n    \r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testCreation() throws Exception {\r\n    \t\tUser test = new User();\r\n    \t\ttest.setUsername(&quot;test_username&quot;);\r\n    \t\tMockito.when(userDAO.findById(Mockito.anyInt())).thenReturn(test);\r\n    \t\tassertEquals(0, 0);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThe problem is not the test itself (as you can see there is an AssertEquals(0,0)), it is the fact that it just not run, it gives me `ExceptionInInitializer` when i mock the DAO, I don&#39;t know if it useful to post the DAO code, but it is just a simple CRUD class with JPA annotations.\r\n\r\nHere i post the full trace:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n    \tat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\r\n    \tat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\r\n    \tat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\r\n    \tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\r\n    \tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\r\n    \tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\r\n    \tat org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\r\n    \tat org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\r\n    \tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\r\n    \tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\r\n    \tat org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\r\n    \tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\r\n    \tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\r\n    \tat org.mockito.Mockito.mock(Mockito.java:1285)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\r\n    \tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\r\n    \tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:276)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\r\n    \tat org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @224edc67\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:312)\r\n    \tat org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\r\n    \t... 40 more\r\n\r\nI&#39;m working with mockito 1.10.19.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Mockito ExceptionInInitializer error with simple DAO","body":"<p>I'm starting to use Mockito with Junit 4.12, Java EE, i need to test this service method in a CQRS program, i want to Mock the UserDAO (We are dealing with users) and then assert some properties.</p>\n<p>This is what i made so far:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class UserCommandServiceTest {\n\n    @InjectMocks\n    private UserCommandService userCommandService;\n\n    @Mock\n    private UserDAO userDAO;\n\n    @Before\n    public void init() {\n\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testCreation() throws Exception {\n        User test = new User();\n        test.setUsername(&quot;test_username&quot;);\n        Mockito.when(userDAO.findById(Mockito.anyInt())).thenReturn(test);\n        assertEquals(0, 0);\n\n    }\n\n}\n</code></pre>\n<p>The problem is not the test itself (as you can see there is an AssertEquals(0,0)), it is the fact that it just not run, it gives me <code>ExceptionInInitializer</code> when i mock the DAO, I don't know if it useful to post the DAO code, but it is just a simple CRUD class with JPA annotations.</p>\n<p>Here i post the full trace:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\n    at org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\n    at org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\n    at org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\n    at org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\n    at org.mockito.Mockito.mock(Mockito.java:1285)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\n    at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:276)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\n    at org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @224edc67\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:312)\n    at org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\n    ... 40 more\n</code></pre>\n<p>I'm working with mockito 1.10.19.</p>\n"},{"tags":["java","android","kotlin","nfc","ndef"],"answers":[{"comments":[{"owner":{"account_id":27598972,"reputation":1,"user_id":21064602,"display_name":"Tural Sufan"},"score":0,"creation_date":1699247440,"post_id":77423974,"comment_id":136502882,"body_markdown":"But &#39;NdefRecord.createMime()&#39; requires data as byteArray. &#39;Required:\nByteArray!&#39;","body":"But &#39;NdefRecord.createMime()&#39; requires data as byteArray. &#39;Required: ByteArray!&#39;"},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1699261777,"post_id":77423974,"comment_id":136504651,"body_markdown":"As NFC hardware only stores array of Bytes, this is the minimum conversion possible. You will get the same array of Bytes back from the NFC hardware.","body":"As NFC hardware only stores array of Bytes, this is the minimum conversion possible. You will get the same array of Bytes back from the NFC hardware."}],"tags":[],"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699261607,"creation_date":1699135382,"answer_id":77423974,"question_id":77422040,"body_markdown":"Don&#39;t use Ndef Text record format as this adds the language encoding to the record.\r\n\r\nUse a MimeType record instead with [createMime][1]\r\n\r\ne.g.\r\n\r\n```\r\n// Create Record\r\nval textRecord1 = NdefRecord.createMime(\r\n                &quot;text/plain&quot; // a standard mimeType\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;.toByteArray()\r\n            )\r\n\r\n// Get String\r\nval payloadString = inNdefRecords[0].payload.toString()\r\n\r\n```\r\n\r\nYou can use a standard Mime Type like `text/plain` or custom one like `yourapp/text`\r\n\r\nThought you should probably do some checking of the payload.\r\n\r\ne.g. check the that `getTnf()` is `NdefRecord.TNF_MIME_MEDIA`\r\n\r\nand\r\n\r\n`inNdefRecords[0].toMimeType()` is the mime type you chose to use\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/nfc/NdefRecord#createMime(java.lang.String,%20byte[])","title":"Write NDEF RECORDS to NDEF TAG KOTLIN","body":"<p>Don't use Ndef Text record format as this adds the language encoding to the record.</p>\n<p>Use a MimeType record instead with <a href=\"https://developer.android.com/reference/android/nfc/NdefRecord#createMime(java.lang.String,%20byte%5B%5D)\" rel=\"nofollow noreferrer\">createMime</a></p>\n<p>e.g.</p>\n<pre><code>// Create Record\nval textRecord1 = NdefRecord.createMime(\n                &quot;text/plain&quot; // a standard mimeType\n                &quot;00000111111222222333333444444555555AABBEF&quot;.toByteArray()\n            )\n\n// Get String\nval payloadString = inNdefRecords[0].payload.toString()\n\n</code></pre>\n<p>You can use a standard Mime Type like <code>text/plain</code> or custom one like <code>yourapp/text</code></p>\n<p>Thought you should probably do some checking of the payload.</p>\n<p>e.g. check the that <code>getTnf()</code> is <code>NdefRecord.TNF_MIME_MEDIA</code></p>\n<p>and</p>\n<p><code>inNdefRecords[0].toMimeType()</code> is the mime type you chose to use</p>\n"}],"owner":{"account_id":27598972,"reputation":1,"user_id":21064602,"display_name":"Tural Sufan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699261607,"creation_date":1699101868,"question_id":77422040,"body_markdown":"I should prepare an demo application, which should read Ndef records and overrite them to card.\r\nI have 3 main functions: readNdef, writeNdef and readTag. readNdef and readTag are working properly. But when I try write new Ndef Records its not working properly. \r\nIt write Records but change them something.I use `NdefRecord.createTextRecord` method. This method do some converting. I want to write tokens without any changes.\r\n\r\n```\r\nprivate fun readNdef(tag: Tag?) {\r\n        val ndef = Ndef.get(tag)\r\n        try {\r\n            ndef.connect()\r\n            val inNdef = ndef.ndefMessage\r\n            Log.d(&quot;fdsfsdfsdf&quot;, inNdef.toString())\r\n            val inNdefRecords = ndef.ndefMessage.records\r\n            Log.d(&quot;fdsfsdfsdf&quot;, inNdefRecords.toString())\r\n            // convert the payload to string and drop 3 characters to get\r\n            // rid of the &quot; en&quot; prefix\r\n            val payload = inNdefRecords[0].payload\r\n            Log.d(&quot;fdsfsdfsdf&quot;, payload.toString())\r\n\r\n            // figure out if we need to take out the &quot; en&quot; at the beginning\r\n            val textEncoding = if (payload[0] and 128.toByte() == 0.toByte()) &quot;UTF-8&quot; else &quot;UTF-16&quot;\r\n            val langCodeLength = payload[0] and 63.toByte()\r\n\r\n            // create a string starting by skipping the first 3 characters\r\n            // based on the language code length\r\n            var inMessage = String(\r\n                payload,\r\n                langCodeLength + 1,\r\n                payload.count() - langCodeLength - 1,\r\n                charset(textEncoding)\r\n            )\r\n\r\n            // try to convert the message to json\r\n            try {\r\n                val json = inMessage\r\n                Log.d(&quot;fdsfsdfsdf&quot;, json)\r\n                //val json = JsonParser().parse(inMessage)\r\n\r\n                // ... use json or whatever here\r\n            } catch (error: Exception) {\r\n                Log.d(\r\n                    &quot;fdsfsdfsdf&quot;,\r\n                    &quot;NFC tag data seems to invalid:\\n\\n$inMessage\\n\\n${error.localizedMessage}&quot;\r\n                )\r\n            }\r\n\r\n            // ... do whatever\r\n        } catch (error: Exception) {\r\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;Error attempting to pull tag info: ${error.localizedMessage}&quot;)\r\n        } finally {\r\n            ndef.close()\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\nfun readTag(tag: Tag?) {\r\n        Coroutines.default(this@MainViewModel) {\r\n            readNdef(tag)\r\n            Log.d(TAG, &quot;readTag(${tag} ${tag?.techList})&quot;)\r\n            postNFCStatus(NFCStatus.Process)\r\n            val stringBuilder: StringBuilder = StringBuilder()\r\n            val id: ByteArray? = tag?.id\r\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;$id&quot;)\r\n            stringBuilder.append(&quot;Tag ID (hex): ${bytesToHex(id!!)} \\n&quot;)\r\n            stringBuilder.append(&quot;Tag ID (dec): ${getDec(id)} \\n&quot;)\r\n            stringBuilder.append(&quot;Tag ID (reversed): ${getReversed(id)} \\n&quot;)\r\n            stringBuilder.append(&quot;Technologies: &quot;)\r\n            tag.techList.forEach { tech -&gt;\r\n                stringBuilder.append(tech.substring(prefix.length))\r\n                stringBuilder.append(&quot;, &quot;)\r\n            }\r\n            stringBuilder.delete(stringBuilder.length - 2, stringBuilder.length)\r\n            tag.techList.forEach { tech -&gt;\r\n                if (tech.equals(MifareClassic::class.java.name)) {\r\n                    stringBuilder.append(&#39;\\n&#39;)\r\n                    val mifareTag: MifareClassic = MifareClassic.get(tag)\r\n                    val type: String\r\n                    if (mifareTag.type == MifareClassic.TYPE_CLASSIC) type = &quot;Classic&quot;\r\n                    else if (mifareTag.type == MifareClassic.TYPE_PLUS) type = &quot;Plus&quot;\r\n                    else if (mifareTag.type == MifareClassic.TYPE_PRO) type = &quot;Pro&quot;\r\n                    else type = &quot;Unknown&quot;\r\n                    stringBuilder.append(&quot;Mifare Classic type: $type \\n&quot;)\r\n                    stringBuilder.append(&quot;Mifare size: ${mifareTag.size} bytes \\n&quot;)\r\n                    stringBuilder.append(&quot;Mifare sectors: ${mifareTag.sectorCount} \\n&quot;)\r\n                    stringBuilder.append(&quot;Mifare blocks: ${mifareTag.blockCount}&quot;)\r\n                }\r\n                if (tech.equals(MifareUltralight::class.java.name)) {\r\n                    stringBuilder.append(&#39;\\n&#39;);\r\n                    val mifareUlTag: MifareUltralight = MifareUltralight.get(tag);\r\n                    val type: String\r\n                    if (mifareUlTag.type == MifareUltralight.TYPE_ULTRALIGHT) type =\r\n                        &quot;Ultralight&quot;\r\n                    else if (mifareUlTag.type == MifareUltralight.TYPE_ULTRALIGHT_C) type =\r\n                        &quot;Ultralight C&quot;\r\n                    else type = &quot;Unkown&quot;\r\n                    stringBuilder.append(&quot;Mifare Ultralight type: &quot;);\r\n                    stringBuilder.append(type)\r\n                }\r\n            }\r\n            Log.d(TAG, &quot;Datum: $stringBuilder&quot;)\r\n            Log.d(ContentValues.TAG, &quot;dumpTagData Return \\n $stringBuilder&quot;)\r\n            postNFCStatus(NFCStatus.Read)\r\n            liveTag.emit(&quot;${getDateTimeNow()} \\n $stringBuilder&quot;)\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\nfun writeNdef(tag: Tag?, context: Context) {\r\n        val ndef = Ndef.get(tag)\r\n        try {\r\n            ndef.connect()\r\n            val textRecord1 = NdefRecord.createTextRecord(\r\n                &quot;en&quot;,  // language code (ISO 639-1)\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;\r\n                      //  context.getString(R.string.ndef_rcrd1) // text to send\r\n            )\r\n            val textRecord2 = NdefRecord.createTextRecord(\r\n                &quot;en&quot;,  // language code (ISO 639-1)\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;\r\n                      //  context.getString(R.string.ndef_rcrd2) // text to send\r\n            )\r\n            val textRecord3 = NdefRecord.createTextRecord(\r\n                &quot;en&quot;,  // language code (ISO 639-1)\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;\r\n                       // context.getString(R.string.ndef_rcrd3) // text to send\r\n            )\r\n            val textRecord4 = NdefRecord.createTextRecord(\r\n                &quot;en&quot;,  // language code (ISO 639-1)\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;\r\n                        //context.getString(R.string.ndef_rcrd4) // text to send\r\n            )\r\n            val ndefMessage = NdefMessage(textRecord1, textRecord2, textRecord3, textRecord4)\r\n            ndef.writeNdefMessage(ndefMessage)\r\n            Coroutines.default(this@MainViewModel){\r\n                postNFCStatus(NFCStatus.Write)\r\n            }\r\n            Log.d(&quot;fdsfsdfsdf&quot;,&quot;Edited: ${ndef.ndefMessage}&quot;)\r\n        } catch (e: Exception) {\r\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;Error write: ${e.localizedMessage}&quot;)\r\n        } finally {\r\n            ndef.close()\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI want to write new REcords without any converting.","title":"Write NDEF RECORDS to NDEF TAG KOTLIN","body":"<p>I should prepare an demo application, which should read Ndef records and overrite them to card.\nI have 3 main functions: readNdef, writeNdef and readTag. readNdef and readTag are working properly. But when I try write new Ndef Records its not working properly.\nIt write Records but change them something.I use <code>NdefRecord.createTextRecord</code> method. This method do some converting. I want to write tokens without any changes.</p>\n<pre><code>private fun readNdef(tag: Tag?) {\n        val ndef = Ndef.get(tag)\n        try {\n            ndef.connect()\n            val inNdef = ndef.ndefMessage\n            Log.d(&quot;fdsfsdfsdf&quot;, inNdef.toString())\n            val inNdefRecords = ndef.ndefMessage.records\n            Log.d(&quot;fdsfsdfsdf&quot;, inNdefRecords.toString())\n            // convert the payload to string and drop 3 characters to get\n            // rid of the &quot; en&quot; prefix\n            val payload = inNdefRecords[0].payload\n            Log.d(&quot;fdsfsdfsdf&quot;, payload.toString())\n\n            // figure out if we need to take out the &quot; en&quot; at the beginning\n            val textEncoding = if (payload[0] and 128.toByte() == 0.toByte()) &quot;UTF-8&quot; else &quot;UTF-16&quot;\n            val langCodeLength = payload[0] and 63.toByte()\n\n            // create a string starting by skipping the first 3 characters\n            // based on the language code length\n            var inMessage = String(\n                payload,\n                langCodeLength + 1,\n                payload.count() - langCodeLength - 1,\n                charset(textEncoding)\n            )\n\n            // try to convert the message to json\n            try {\n                val json = inMessage\n                Log.d(&quot;fdsfsdfsdf&quot;, json)\n                //val json = JsonParser().parse(inMessage)\n\n                // ... use json or whatever here\n            } catch (error: Exception) {\n                Log.d(\n                    &quot;fdsfsdfsdf&quot;,\n                    &quot;NFC tag data seems to invalid:\\n\\n$inMessage\\n\\n${error.localizedMessage}&quot;\n                )\n            }\n\n            // ... do whatever\n        } catch (error: Exception) {\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;Error attempting to pull tag info: ${error.localizedMessage}&quot;)\n        } finally {\n            ndef.close()\n        }\n    }\n</code></pre>\n<pre><code>fun readTag(tag: Tag?) {\n        Coroutines.default(this@MainViewModel) {\n            readNdef(tag)\n            Log.d(TAG, &quot;readTag(${tag} ${tag?.techList})&quot;)\n            postNFCStatus(NFCStatus.Process)\n            val stringBuilder: StringBuilder = StringBuilder()\n            val id: ByteArray? = tag?.id\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;$id&quot;)\n            stringBuilder.append(&quot;Tag ID (hex): ${bytesToHex(id!!)} \\n&quot;)\n            stringBuilder.append(&quot;Tag ID (dec): ${getDec(id)} \\n&quot;)\n            stringBuilder.append(&quot;Tag ID (reversed): ${getReversed(id)} \\n&quot;)\n            stringBuilder.append(&quot;Technologies: &quot;)\n            tag.techList.forEach { tech -&gt;\n                stringBuilder.append(tech.substring(prefix.length))\n                stringBuilder.append(&quot;, &quot;)\n            }\n            stringBuilder.delete(stringBuilder.length - 2, stringBuilder.length)\n            tag.techList.forEach { tech -&gt;\n                if (tech.equals(MifareClassic::class.java.name)) {\n                    stringBuilder.append('\\n')\n                    val mifareTag: MifareClassic = MifareClassic.get(tag)\n                    val type: String\n                    if (mifareTag.type == MifareClassic.TYPE_CLASSIC) type = &quot;Classic&quot;\n                    else if (mifareTag.type == MifareClassic.TYPE_PLUS) type = &quot;Plus&quot;\n                    else if (mifareTag.type == MifareClassic.TYPE_PRO) type = &quot;Pro&quot;\n                    else type = &quot;Unknown&quot;\n                    stringBuilder.append(&quot;Mifare Classic type: $type \\n&quot;)\n                    stringBuilder.append(&quot;Mifare size: ${mifareTag.size} bytes \\n&quot;)\n                    stringBuilder.append(&quot;Mifare sectors: ${mifareTag.sectorCount} \\n&quot;)\n                    stringBuilder.append(&quot;Mifare blocks: ${mifareTag.blockCount}&quot;)\n                }\n                if (tech.equals(MifareUltralight::class.java.name)) {\n                    stringBuilder.append('\\n');\n                    val mifareUlTag: MifareUltralight = MifareUltralight.get(tag);\n                    val type: String\n                    if (mifareUlTag.type == MifareUltralight.TYPE_ULTRALIGHT) type =\n                        &quot;Ultralight&quot;\n                    else if (mifareUlTag.type == MifareUltralight.TYPE_ULTRALIGHT_C) type =\n                        &quot;Ultralight C&quot;\n                    else type = &quot;Unkown&quot;\n                    stringBuilder.append(&quot;Mifare Ultralight type: &quot;);\n                    stringBuilder.append(type)\n                }\n            }\n            Log.d(TAG, &quot;Datum: $stringBuilder&quot;)\n            Log.d(ContentValues.TAG, &quot;dumpTagData Return \\n $stringBuilder&quot;)\n            postNFCStatus(NFCStatus.Read)\n            liveTag.emit(&quot;${getDateTimeNow()} \\n $stringBuilder&quot;)\n        }\n    }\n</code></pre>\n<pre><code>fun writeNdef(tag: Tag?, context: Context) {\n        val ndef = Ndef.get(tag)\n        try {\n            ndef.connect()\n            val textRecord1 = NdefRecord.createTextRecord(\n                &quot;en&quot;,  // language code (ISO 639-1)\n                &quot;00000111111222222333333444444555555AABBEF&quot;\n                      //  context.getString(R.string.ndef_rcrd1) // text to send\n            )\n            val textRecord2 = NdefRecord.createTextRecord(\n                &quot;en&quot;,  // language code (ISO 639-1)\n                &quot;00000111111222222333333444444555555AABBEF&quot;\n                      //  context.getString(R.string.ndef_rcrd2) // text to send\n            )\n            val textRecord3 = NdefRecord.createTextRecord(\n                &quot;en&quot;,  // language code (ISO 639-1)\n                &quot;00000111111222222333333444444555555AABBEF&quot;\n                       // context.getString(R.string.ndef_rcrd3) // text to send\n            )\n            val textRecord4 = NdefRecord.createTextRecord(\n                &quot;en&quot;,  // language code (ISO 639-1)\n                &quot;00000111111222222333333444444555555AABBEF&quot;\n                        //context.getString(R.string.ndef_rcrd4) // text to send\n            )\n            val ndefMessage = NdefMessage(textRecord1, textRecord2, textRecord3, textRecord4)\n            ndef.writeNdefMessage(ndefMessage)\n            Coroutines.default(this@MainViewModel){\n                postNFCStatus(NFCStatus.Write)\n            }\n            Log.d(&quot;fdsfsdfsdf&quot;,&quot;Edited: ${ndef.ndefMessage}&quot;)\n        } catch (e: Exception) {\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;Error write: ${e.localizedMessage}&quot;)\n        } finally {\n            ndef.close()\n        }\n    }\n</code></pre>\n<p>I want to write new REcords without any converting.</p>\n"},{"tags":["java","spring","easymock"],"answers":[{"comments":[{"owner":{"account_id":6795474,"reputation":775,"user_id":5230961,"display_name":"Elias Nicolas"},"score":0,"creation_date":1660622567,"post_id":51739615,"comment_id":129569311,"body_markdown":"Awesome information. Thank you.","body":"Awesome information. Thank you."}],"tags":[],"owner":{"account_id":181847,"reputation":2865,"user_id":416135,"display_name":"Dubas"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1699261554,"creation_date":1533708376,"answer_id":51739615,"question_id":51739333,"body_markdown":"Using **spring-test** dependency you could use the class `MockHttpServletResponse`\r\n\r\nThis class contains methods to fetch the content of the resulting stream like;\r\n\r\n - byte[] \tgetContentAsByteArray() \r\n - String \tgetContentAsString() \r\n\r\nAnd also there are methods to inspect the headers.\r\n\r\nFor mor information about the class you could visit:\r\n\r\n - [MockHttpServletResponse JavaDoc Spring 4.2][1]\r\n - [MockHttpServletResponse JavaDoc Spring 5.x][2]\r\n\r\nIn [Spring Test documentation ][3] there is some interesting info about Servlet API for testing. Also this documentation recommends to use the Spring test components before others like EasyMock to test Spring classes\r\n\r\n&gt; These mock objects are targeted at usage with Springs Web MVC\r\n&gt; framework and are generally more convenient to use than dynamic mock\r\n&gt; objects such as EasyMock or alternative Servlet API mock objects such\r\n&gt; as MockObjects.\r\n\r\nIs preferible to use the EasyMock to test your classes and services without Spring and use the Spring test Runner and spring test framework utilities to test Spring components like Spring MVC, Spring Security,...\r\n\r\n\r\n**Example Code:**\r\n\r\n    MockHttpServletRequest request = new MockHttpServletRequest();\r\n    MockHttpServletResponse response = new MockHttpServletResponse();\r\n\r\n  [1]: https://docs.spring.io/spring/docs/4.2.4.RELEASE/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html\r\n  [3]: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html","title":"How to create HttpServletResponse for unit tests in Spring?","body":"<p>Using <strong>spring-test</strong> dependency you could use the class <code>MockHttpServletResponse</code></p>\n<p>This class contains methods to fetch the content of the resulting stream like;</p>\n<ul>\n<li>byte[]   getContentAsByteArray()</li>\n<li>String   getContentAsString()</li>\n</ul>\n<p>And also there are methods to inspect the headers.</p>\n<p>For mor information about the class you could visit:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring/docs/4.2.4.RELEASE/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html\" rel=\"nofollow noreferrer\">MockHttpServletResponse JavaDoc Spring 4.2</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html\" rel=\"nofollow noreferrer\">MockHttpServletResponse JavaDoc Spring 5.x</a></li>\n</ul>\n<p>In <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html\" rel=\"nofollow noreferrer\">Spring Test documentation </a> there is some interesting info about Servlet API for testing. Also this documentation recommends to use the Spring test components before others like EasyMock to test Spring classes</p>\n<blockquote>\n<p>These mock objects are targeted at usage with Springs Web MVC\nframework and are generally more convenient to use than dynamic mock\nobjects such as EasyMock or alternative Servlet API mock objects such\nas MockObjects.</p>\n</blockquote>\n<p>Is preferible to use the EasyMock to test your classes and services without Spring and use the Spring test Runner and spring test framework utilities to test Spring components like Spring MVC, Spring Security,...</p>\n<p><strong>Example Code:</strong></p>\n<pre><code>MockHttpServletRequest request = new MockHttpServletRequest();\nMockHttpServletResponse response = new MockHttpServletResponse();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1625750,"reputation":5627,"user_id":1501345,"accept_rate":60,"display_name":"Amit Kumar Lal"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1533709654,"creation_date":1533709654,"answer_id":51739897,"question_id":51739333,"body_markdown":"Below way by using EasyMock\r\n\r\n     HttpServletRequest mockRequest = EasyMock.createMock(HttpServletRequest.class);\r\n     HttpServletResponse mockResponse = EasyMock.createMock(HttpServletResponse.class);\r\n\t\r\nUsing spring mock class\t\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n    import  org.springframework.mock.web.MockHttpServletResponse;\r\n    import  org.springframework.mock.web.MockHttpServletRequest;\r\n\r\n    HttpServletRequest httpServletRequest = new MockHttpServletRequest();\r\n    HttpServletResponse httpServletResponse = new MockHttpServletResponse();","title":"How to create HttpServletResponse for unit tests in Spring?","body":"<p>Below way by using EasyMock</p>\n\n<pre><code> HttpServletRequest mockRequest = EasyMock.createMock(HttpServletRequest.class);\n HttpServletResponse mockResponse = EasyMock.createMock(HttpServletResponse.class);\n</code></pre>\n\n<p>Using spring mock class     </p>\n\n<pre><code>import  org.springframework.mock.web.MockHttpServletResponse;\nimport  org.springframework.mock.web.MockHttpServletRequest;\n\nHttpServletRequest httpServletRequest = new MockHttpServletRequest();\nHttpServletResponse httpServletResponse = new MockHttpServletResponse();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4296414,"reputation":61,"user_id":3511379,"display_name":"prax"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589352792,"creation_date":1589352339,"answer_id":61768011,"question_id":51739333,"body_markdown":"With powermock-api-mockito, HttpServletResponse could be mocked and response headers verified.\r\n\r\nJava code snippet from the servlet method:\r\n\r\n    response.setHeader(&quot;Cache-Control&quot;, &quot;max-age=123456789&quot;);\r\n    response.setHeader(&quot;Content-Type&quot;, &quot;video/mp4&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;inline&quot;);\r\n    response.setHeader(&quot;Accept-Ranges&quot;,&quot;bytes&quot;);\r\n\r\n\r\nUnit Test:\r\n\r\n    import static org.mockito.Mockito.mock\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.times;\r\n    import static org.mockito.Mockito.verify;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    final HttpServletResponse response = mock(HttpServletResponse.class);\r\n\tfinal HttpServletRequest request = mock(HttpServletRequest.class);\r\n    servlet.doGet();\r\n    verify(response).setHeader(&quot;Cache-Control&quot;, &quot;max-age=123456789&quot;);\r\n    verify(response).setHeader(&quot;Content-Type&quot;, &quot;video/mp4&quot;);\r\n    verify(response).setHeader(&quot;Content-Disposition&quot;, &quot;inline&quot;);\r\n    verify(response).setHeader(&quot;Accept-Ranges&quot;,&quot;bytes&quot;);\r\n    \t\t\r\n    verify(response).setHeader(&quot;Content-Length&quot;,&quot;421854&quot;);    \t\r\n    verify(response, times(1)).setHeader(&quot;Accept-Ranges&quot;,&quot;bytes&quot;);\r\n    \r\n\r\nFor stubbing OutputStream, you could use\r\nwhen(response.getOutputStream()).thenReturn(mock(ServletOutputStream.class));\r\n\r\n\r\nThere is more useful information in this answer\r\nhttps://stackoverflow.com/a/24593642/3511379\r\n","title":"How to create HttpServletResponse for unit tests in Spring?","body":"<p>With powermock-api-mockito, HttpServletResponse could be mocked and response headers verified.</p>\n\n<p>Java code snippet from the servlet method:</p>\n\n<pre><code>response.setHeader(\"Cache-Control\", \"max-age=123456789\");\nresponse.setHeader(\"Content-Type\", \"video/mp4\");\nresponse.setHeader(\"Content-Disposition\", \"inline\");\nresponse.setHeader(\"Accept-Ranges\",\"bytes\");\n</code></pre>\n\n<p>Unit Test:</p>\n\n<pre><code>import static org.mockito.Mockito.mock\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\nfinal HttpServletResponse response = mock(HttpServletResponse.class);\nfinal HttpServletRequest request = mock(HttpServletRequest.class);\nservlet.doGet();\nverify(response).setHeader(\"Cache-Control\", \"max-age=123456789\");\nverify(response).setHeader(\"Content-Type\", \"video/mp4\");\nverify(response).setHeader(\"Content-Disposition\", \"inline\");\nverify(response).setHeader(\"Accept-Ranges\",\"bytes\");\n\nverify(response).setHeader(\"Content-Length\",\"421854\");      \nverify(response, times(1)).setHeader(\"Accept-Ranges\",\"bytes\");\n</code></pre>\n\n<p>For stubbing OutputStream, you could use\nwhen(response.getOutputStream()).thenReturn(mock(ServletOutputStream.class));</p>\n\n<p>There is more useful information in this answer\n<a href=\"https://stackoverflow.com/a/24593642/3511379\">https://stackoverflow.com/a/24593642/3511379</a></p>\n"}],"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19040,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":51739615,"answer_count":3,"score":16,"last_activity_date":1699261554,"creation_date":1533707025,"question_id":51739333,"body_markdown":"How to create `HttpServletResponse` for unit tests, where I can write output stream and headers(not `MockHttpServletResponse`)?\r\nIn assert block I expect to compare `OutputStream` and headers with etalon `httpServletResponse`.\r\n\r\n\r\nI used `Spring4`, `java8` and `EasyMock` lib.","title":"How to create HttpServletResponse for unit tests in Spring?","body":"<p>How to create <code>HttpServletResponse</code> for unit tests, where I can write output stream and headers(not <code>MockHttpServletResponse</code>)?\nIn assert block I expect to compare <code>OutputStream</code> and headers with etalon <code>httpServletResponse</code>.</p>\n\n<p>I used <code>Spring4</code>, <code>java8</code> and <code>EasyMock</code> lib.</p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-types"],"comments":[{"owner":{"account_id":7685529,"reputation":33,"user_id":5823486,"display_name":"Divya"},"score":0,"creation_date":1699286050,"post_id":77429819,"comment_id":136509390,"body_markdown":"Issue was with the query - had updated to :#{#status.name()} instead of status = :status\n\nhttps://stackoverflow.com/questions/76145055/cannot-invoke-getjdbcvaluebinder-because-jdbcmapping-is-null","body":"Issue was with the query - had updated to :#{#status.name()} instead of status = :status  <a href=\"https://stackoverflow.com/questions/76145055/cannot-invoke-getjdbcvaluebinder-because-jdbcmapping-is-null\" title=\"cannot invoke getjdbcvaluebinder because jdbcmapping is null\">stackoverflow.com/questions/76145055/&hellip;</a>"}],"owner":{"account_id":7685529,"reputation":33,"user_id":5823486,"display_name":"Divya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1699260827,"answer_count":0,"score":0,"last_activity_date":1699261526,"creation_date":1699260491,"question_id":77429819,"body_markdown":"Have updated hibernate-types &amp; hypersistence libraries as per other docs- \r\n\r\n    implementation &#39;com.vladmihalcea:hibernate-types-60:2.21.1&#39;\r\n    implementation &#39;io.hypersistence:hypersistence-utils-hibernate-60:3.5.1&#39;\r\n\r\nand excluded  - `spring.jpa.properties.hypersistence.utils.enable_types_contributor=false` \r\nso that types doesn&#39;t get registered automatically.\r\n\r\nAttribute in the entity: \r\n\r\n     @Column(name = &quot;status&quot;)\r\n     private Status status;\r\n     @Enumerated(EnumType.STRING)\r\n\r\nBut getting error - \r\n&gt; Cannot\r\n&gt; invoke &quot;java.lang.Class.getName()&quot; because &quot;this.enumClass&quot; is null]\r\n&gt; with root cause java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;java.lang.Class.getName()&quot; because &quot;this.enumClass&quot; is null\tat\r\n&gt; org.hibernate.type.EnumType.verifyConfigured(EnumType.java:386)\tat\r\n&gt; org.hibernate.type.EnumType.nullSafeSet(EnumType.java:392)\tat\r\n&gt; com.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.set(PostgreSQLEnumType.java:70)\tat\r\n&gt; com.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.set(PostgreSQLEnumType.java:29)\tat\r\n&gt; com.vladmihalcea.hibernate.type.ImmutableType.nullSafeSet(ImmutableType.java:105)\r\n\r\n\r\n","title":"Error after migrating spring boot to 3 in update query containing enum field","body":"<p>Have updated hibernate-types &amp; hypersistence libraries as per other docs-</p>\n<pre><code>implementation 'com.vladmihalcea:hibernate-types-60:2.21.1'\nimplementation 'io.hypersistence:hypersistence-utils-hibernate-60:3.5.1'\n</code></pre>\n<p>and excluded  - <code>spring.jpa.properties.hypersistence.utils.enable_types_contributor=false</code>\nso that types doesn't get registered automatically.</p>\n<p>Attribute in the entity:</p>\n<pre><code> @Column(name = &quot;status&quot;)\n private Status status;\n @Enumerated(EnumType.STRING)\n</code></pre>\n<p>But getting error -</p>\n<blockquote>\n<p>Cannot\ninvoke &quot;java.lang.Class.getName()&quot; because &quot;this.enumClass&quot; is null]\nwith root cause java.lang.NullPointerException: Cannot invoke\n&quot;java.lang.Class.getName()&quot; because &quot;this.enumClass&quot; is null  at\norg.hibernate.type.EnumType.verifyConfigured(EnumType.java:386)   at\norg.hibernate.type.EnumType.nullSafeSet(EnumType.java:392)    at\ncom.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.set(PostgreSQLEnumType.java:70)  at\ncom.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.set(PostgreSQLEnumType.java:29)  at\ncom.vladmihalcea.hibernate.type.ImmutableType.nullSafeSet(ImmutableType.java:105)</p>\n</blockquote>\n"},{"tags":["java","decimalformat"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1527056981,"post_id":50481218,"comment_id":87975553,"body_markdown":"First question: What is the value of `System.getProperty(&quot;user.country.format&quot;)` ?","body":"First question: What is the value of <code>System.getProperty(&quot;user.country.format&quot;)</code> ?"},{"owner":{"account_id":13630270,"reputation":51,"user_id":9832468,"display_name":"ashish sharma"},"score":0,"creation_date":1527057073,"post_id":50481218,"comment_id":87975606,"body_markdown":"value of System.getProperty(&quot;user.country.format&quot;) is &quot;br&quot;","body":"value of System.getProperty(&quot;user.country.format&quot;) is &quot;br&quot;"},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1527114654,"post_id":50481218,"comment_id":88009601,"body_markdown":"Why is this tagged `bigdecimal`?","body":"Why is this tagged <code>bigdecimal</code>?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699262314,"post_id":50481218,"comment_id":136504754,"body_markdown":"BTW the first parameter of the `Locale` constructor is the language (&#39;pt&#39;), not the country (&#39;BR&#39;); BTW-2 the constructors of `Locale` are *now* deprecated since Java 19","body":"BTW the first parameter of the <code>Locale</code> constructor is the language (&#39;pt&#39;), not the country (&#39;BR&#39;); BTW-2 the constructors of <code>Locale</code> are <i>now</i> deprecated since Java 19"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1699264769,"post_id":50481218,"comment_id":136505147,"body_markdown":"... and [_language_ &#39;br&#39; is Breton](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes#br) (@user85421)","body":"... and <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes#br\" rel=\"nofollow noreferrer\"><i>language</i> &#39;br&#39; is Breton</a> (@user85421)"}],"answers":[{"comments":[{"owner":{"account_id":13630270,"reputation":51,"user_id":9832468,"display_name":"ashish sharma"},"score":0,"creation_date":1527058066,"post_id":50481375,"comment_id":87976147,"body_markdown":"For &quot;pt&quot; we are getting the correct decimal seperator i.e. &#39;,&#39;\nWe are getting the &#39;pt_br&#39; from a call to DateFormat.getAvailableLocales(), so either &#39;pt_br&#39; or &#39;br&#39; both are returning &#39;.&#39; as decimal seperator instead of returning &#39;,&#39; as decimal seperator, while in system setting we are getting decimal seperator as &#39;,&#39;","body":"For &quot;pt&quot; we are getting the correct decimal seperator i.e. &#39;,&#39; We are getting the &#39;pt_br&#39; from a call to DateFormat.getAvailableLocales(), so either &#39;pt_br&#39; or &#39;br&#39; both are returning &#39;.&#39; as decimal seperator instead of returning &#39;,&#39; as decimal seperator, while in system setting we are getting decimal seperator as &#39;,&#39;"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1527058309,"post_id":50481375,"comment_id":87976284,"body_markdown":"@ashishsharma You don&#39;t seem Brazilian to me.  Are you certain that the custom in Brazil in fact is to use comma as the decimal separator?","body":"@ashishsharma You don&#39;t seem Brazilian to me.  Are you certain that the custom in Brazil in fact is to use comma as the decimal separator?"},{"owner":{"account_id":13630270,"reputation":51,"user_id":9832468,"display_name":"ashish sharma"},"score":0,"creation_date":1527058576,"post_id":50481375,"comment_id":87976438,"body_markdown":"Yes , I am sure because I encountered an issue where the user reported the same","body":"Yes , I am sure because I encountered an issue where the user reported the same"},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1527062387,"post_id":50481375,"comment_id":87978762,"body_markdown":"According to Wikipedia, Brazil and the rest of South-America (with one exception, AFAICT) use the comma as decimal separator.","body":"According to Wikipedia, Brazil and the rest of South-America (with one exception, AFAICT) use the comma as decimal separator."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1527062945,"post_id":50481375,"comment_id":87979082,"body_markdown":"@RudyVelthuis Perhaps the OP&#39;s JRE does not support `pt_BR`.","body":"@RudyVelthuis Perhaps the OP&#39;s JRE does not support <code>pt_BR</code>."},{"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1527063161,"post_id":50481375,"comment_id":87979216,"body_markdown":"I&#39;m Brazilian. We use `,` as _decimal separator_ and `.` as _thousand separator_.","body":"I&#39;m Brazilian. We use <code>,</code> as <i>decimal separator</i> and <code>.</code> as <i>thousand separator</i>."},{"owner":{"account_id":13630270,"reputation":51,"user_id":9832468,"display_name":"ashish sharma"},"score":0,"creation_date":1527063488,"post_id":50481375,"comment_id":87979429,"body_markdown":"@Tim Biegeleisen ...so this can be the jre issue ?","body":"@Tim Biegeleisen ...so this can be the jre issue ?"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1527063958,"post_id":50481375,"comment_id":87979735,"body_markdown":"What other explanation comes to mind?  The Brazilian locale should behave as you expect.","body":"What other explanation comes to mind?  The Brazilian locale should behave as you expect."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1527066899,"post_id":50481375,"comment_id":87981741,"body_markdown":"@ashishsharma: not necessarily a JRE issue. More a platform issue, i.e. the OS on which the JRE runs may not have all locales installed.","body":"@ashishsharma: not necessarily a JRE issue. More a platform issue, i.e. the OS on which the JRE runs may not have all locales installed."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527064583,"creation_date":1527057427,"answer_id":50481375,"question_id":50481218,"body_markdown":"I was able to get your expected decimal separator `,` using the `pt` locale (Portugal):\r\n\r\n    final Locale locale = new Locale(&quot;pt&quot;);\r\n    final NumberFormat nf = NumberFormat.getNumberInstance(locale);\r\n    DecimalFormatSymbols decSymbols = new DecimalFormatSymbols(locale);\r\n    System.out.println(&quot;Decimal Symbol&quot;+ decSymbols.getDecimalSeparator() + &quot;&quot;);\r\n\r\nI did not see any `br` locale returned from a call to `DateFormat.getAvailableLocales()`, so either it doesn&#39;t exist at all (at least in my JRE) or it is using decimal point as the decimal separator.  Note that the `pt_BR` locale is what I think you should be using, but that assumes that your JRE supports it.  If not, then maybe your code would just use the default locale.","title":"Getting wrong locale for Portuguese (Brazil)","body":"<p>I was able to get your expected decimal separator <code>,</code> using the <code>pt</code> locale (Portugal):</p>\n\n<pre><code>final Locale locale = new Locale(\"pt\");\nfinal NumberFormat nf = NumberFormat.getNumberInstance(locale);\nDecimalFormatSymbols decSymbols = new DecimalFormatSymbols(locale);\nSystem.out.println(\"Decimal Symbol\"+ decSymbols.getDecimalSeparator() + \"\");\n</code></pre>\n\n<p>I did not see any <code>br</code> locale returned from a call to <code>DateFormat.getAvailableLocales()</code>, so either it doesn't exist at all (at least in my JRE) or it is using decimal point as the decimal separator.  Note that the <code>pt_BR</code> locale is what I think you should be using, but that assumes that your JRE supports it.  If not, then maybe your code would just use the default locale.</p>\n"}],"owner":{"account_id":13630270,"reputation":51,"user_id":9832468,"display_name":"ashish sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2931,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1699261350,"creation_date":1527056822,"question_id":50481218,"body_markdown":"I am trying to get system locale for Portuguese (Brazil), but it is giving the decimal separator as `.` instead of `,` Can anyone please help on that? I am using Java 8.\r\n\r\nBelow is the code I am using:\r\n\r\n```java\r\npublic static void main(String[] args) \r\n{\r\n    final Locale locale = new Locale(System.getProperty(&quot;user.country.format&quot;));\r\n    \r\n    final NumberFormat nf = NumberFormat.getNumberInstance(locale);\r\n     \r\n    DecimalFormatSymbols decSymbols = new DecimalFormatSymbols(locale);\r\n    System.out.println(&quot;Decimal Symbol&quot;+ decSymbols.getDecimalSeparator() + &quot;&quot;);\r\n}\r\n```\r\n\r\nGetting decimal separator as `.` instead of `,`.","title":"Getting wrong locale for Portuguese (Brazil)","body":"<p>I am trying to get system locale for Portuguese (Brazil), but it is giving the decimal separator as <code>.</code> instead of <code>,</code> Can anyone please help on that? I am using Java 8.</p>\n<p>Below is the code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) \n{\n    final Locale locale = new Locale(System.getProperty(&quot;user.country.format&quot;));\n    \n    final NumberFormat nf = NumberFormat.getNumberInstance(locale);\n     \n    DecimalFormatSymbols decSymbols = new DecimalFormatSymbols(locale);\n    System.out.println(&quot;Decimal Symbol&quot;+ decSymbols.getDecimalSeparator() + &quot;&quot;);\n}\n</code></pre>\n<p>Getting decimal separator as <code>.</code> instead of <code>,</code>.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":1882348,"reputation":1653,"user_id":1702242,"accept_rate":56,"display_name":"pmverma"},"score":0,"creation_date":1419330347,"post_id":27614301,"comment_id":43657845,"body_markdown":"Does your code works well with both database run separately?","body":"Does your code works well with both database run separately?"},{"owner":{"account_id":1008608,"reputation":1262,"user_id":1021681,"accept_rate":69,"display_name":"euclid135"},"score":0,"creation_date":1419382059,"post_id":27614301,"comment_id":43680738,"body_markdown":"yes, if mysql is running alone, it works","body":"yes, if mysql is running alone, it works"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1452085977,"post_id":27614301,"comment_id":57012962,"body_markdown":"I found this, but it was literally written yesterday http://scattercode.co.uk/2016/01/05/multiple-databases-with-spring-boot-and-spring-data-jpa/","body":"I found this, but it was literally written yesterday <a href=\"http://scattercode.co.uk/2016/01/05/multiple-databases-with-spring-boot-and-spring-data-jpa/\" rel=\"nofollow noreferrer\">scattercode.co.uk/2016/01/05/&hellip;</a>"},{"owner":{"account_id":2826656,"reputation":13236,"user_id":2429176,"accept_rate":80,"display_name":"dustin.schultz"},"score":0,"creation_date":1513531925,"post_id":27614301,"comment_id":82679718,"body_markdown":"Possible duplicate of [Spring Boot Configure and Use Two DataSources](https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources\">Spring Boot Configure and Use Two DataSources</a>"}],"answers":[{"comments":[{"owner":{"account_id":4289211,"reputation":2763,"user_id":3506022,"accept_rate":70,"display_name":"Eria"},"score":2,"creation_date":1456851067,"post_id":27679997,"comment_id":59132306,"body_markdown":"Thanks for your links : it helped me solve a similar problem. Though in the `exclude` attribute of the annotation `@EnableAutoConfiguration`, I had to add `DataSourceAutoConfiguration.class`, `HibernateJpaAutoConfiguration.class` and `DataSourceTransactionManagerAutoConfiguration.class`. But it&#39;s finally working.","body":"Thanks for your links : it helped me solve a similar problem. Though in the <code>exclude</code> attribute of the annotation <code>@EnableAutoConfiguration</code>, I had to add <code>DataSourceAutoConfiguration.class</code>, <code>HibernateJpaAutoConfiguration.class</code> and <code>DataSourceTransactionManagerAutoConfiguration.class</code>. But it&#39;s finally working."},{"owner":{"account_id":8003615,"reputation":1045,"user_id":6037575,"display_name":"Dai Kaixian"},"score":0,"creation_date":1481798245,"post_id":27679997,"comment_id":69524853,"body_markdown":"Sometimes you may need to assign datasource, transactionManager, and SqlSessionFactory as primary all.","body":"Sometimes you may need to assign datasource, transactionManager, and SqlSessionFactory as primary all."},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":1,"creation_date":1493629794,"post_id":27679997,"comment_id":74476793,"body_markdown":"Please @Gokhan, provide the examples that are stated in your referenced pages directly in your answer. Otherwise, this might be considered a &quot;Link only answer&quot;. Just think about the given links being moved/deleted.","body":"Please @Gokhan, provide the examples that are stated in your referenced pages directly in your answer. Otherwise, this might be considered a &quot;Link only answer&quot;. Just think about the given links being moved/deleted."}],"tags":[],"owner":{"account_id":1658164,"reputation":3247,"user_id":1527103,"accept_rate":89,"display_name":"Gokhan Oner"},"comment_count":3,"down_vote_count":2,"up_vote_count":57,"is_accepted":false,"score":55,"last_activity_date":1490728265,"creation_date":1419795933,"answer_id":27679997,"question_id":27614301,"body_markdown":"I think you can find it usefull\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources\r\n\r\nIt shows how to define multiple datasources &amp; assign one of them as primary.\r\n\r\nHere is a rather full example, also contains distributes transactions - if you need it.\r\n\r\nhttp://fabiomaffioletti.me/blog/2014/04/15/distributed-transactions-multiple-databases-spring-boot-spring-data-jpa-atomikos/\r\n\r\n\r\nWhat you need is to create 2 configuration classes, separate the model/repository packages etc to make the config easy.\r\n\r\nAlso, in above example, it creates the data sources manually. You can avoid this using the method on spring doc, with @ConfigurationProperties annotation. Here is an example of this:\r\n\r\nhttp://xantorohara.blogspot.com.tr/2013/11/spring-boot-jdbc-with-multiple.html\r\n\r\nHope these helps.\r\n","title":"Spring Boot Multiple Datasource","body":"<p>I think you can find it usefull</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources</a></p>\n\n<p>It shows how to define multiple datasources &amp; assign one of them as primary.</p>\n\n<p>Here is a rather full example, also contains distributes transactions - if you need it.</p>\n\n<p><a href=\"http://fabiomaffioletti.me/blog/2014/04/15/distributed-transactions-multiple-databases-spring-boot-spring-data-jpa-atomikos/\" rel=\"noreferrer\">http://fabiomaffioletti.me/blog/2014/04/15/distributed-transactions-multiple-databases-spring-boot-spring-data-jpa-atomikos/</a></p>\n\n<p>What you need is to create 2 configuration classes, separate the model/repository packages etc to make the config easy.</p>\n\n<p>Also, in above example, it creates the data sources manually. You can avoid this using the method on spring doc, with @ConfigurationProperties annotation. Here is an example of this:</p>\n\n<p><a href=\"http://xantorohara.blogspot.com.tr/2013/11/spring-boot-jdbc-with-multiple.html\" rel=\"noreferrer\">http://xantorohara.blogspot.com.tr/2013/11/spring-boot-jdbc-with-multiple.html</a></p>\n\n<p>Hope these helps.</p>\n"},{"comments":[{"owner":{"account_id":49068,"reputation":1061,"user_id":145971,"accept_rate":100,"display_name":"pacman"},"score":9,"creation_date":1446656371,"post_id":33106442,"comment_id":54836625,"body_markdown":"Shouldn&#39;t you be able to get away without using bunch of xml config after going the Spring Boot route?","body":"Shouldn&#39;t you be able to get away without using bunch of xml config after going the Spring Boot route?"}],"tags":[],"owner":{"account_id":5035030,"reputation":281,"user_id":5342852,"display_name":"Shankar Saran Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446014534,"creation_date":1444749491,"answer_id":33106442,"question_id":27614301,"body_markdown":"I solved the problem (How to connect multiple database using spring and Hibernate) in this way, I hope it will help :)\r\n    \r\n    \r\n    \r\nNOTE: I have added the relevant code, kindly make the dao with the help of impl I used in the below mentioned code.\r\n    \r\n**web.xml**\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n        id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n        &lt;display-name&gt;MultipleDatabaseConnectivityInSpring&lt;/display-name&gt;\r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n         &lt;servlet&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n             &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n         &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt; \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                /WEB-INF/dispatcher-servlet.xml\r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n    &lt;/web-app&gt;\r\n    \r\n    \r\n**persistence.xml**\r\n    \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;1.0&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot;&gt;\r\n        &lt;persistence-unit name=&quot;localPersistenceUnitOne&quot;\r\n            transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n            &lt;class&gt;in.india.entities.CustomerDetails&lt;/class&gt;\r\n            &lt;exclude-unlisted-classes /&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;0&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://localhost:5432/shankar?sslmode=require&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;username&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;password&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n        &lt;persistence-unit name=&quot;localPersistenceUnitTwo&quot;\r\n            transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n            &lt;class&gt;in.india.entities.CompanyDetails&lt;/class&gt;\r\n            &lt;exclude-unlisted-classes /&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;0&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://localhost:5432/shankarTwo?sslmode=require&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;username&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;password&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n    \r\n    \r\n**dispatcher-servlet**\r\n    \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:task=&quot;http://www.springframework.org/schema/task&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n        xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n        default-autowire=&quot;byName&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd \r\n          http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd  \r\n          http://www.springframework.org/schema/aop  http://www.springframework.org/schema/aop/spring-aop-3.0.xsd \r\n          http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd\r\n          http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd http://www.springframework.org/schema/mvc \r\n          http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n        &lt;!-- Configure messageSource --&gt;\r\n    \r\n        &lt;mvc:annotation-driven /&gt;\r\n        &lt;context:component-scan base-package=&quot;in.india.*&quot; /&gt;\r\n        &lt;bean id=&quot;messageResource&quot;\r\n            class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;\r\n            autowire=&quot;byName&quot;&gt;\r\n            &lt;property name=&quot;basename&quot; value=&quot;messageResource&quot;&gt;&lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean\r\n            class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;property name=&quot;prefix&quot;&gt;\r\n                &lt;value&gt;/WEB-INF/jsp/&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;suffix&quot;&gt;\r\n                &lt;value&gt;.jsp&lt;/value&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    \r\n    \r\n        &lt;bean id=&quot;entityManagerFactoryOne&quot;\r\n            class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\r\n            autowire=&quot;constructor&quot;&gt;\r\n            &lt;property name=&quot;persistenceUnitName&quot; value=&quot;localPersistenceUnitOne&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;messageSource&quot;\r\n            class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;\r\n            autowire=&quot;byName&quot;&gt;\r\n            &lt;property name=&quot;basename&quot; value=&quot;messageResource&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;entityManagerFactoryTwo&quot;\r\n            class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\r\n            autowire=&quot;constructor&quot;&gt;\r\n            &lt;property name=&quot;persistenceUnitName&quot; value=&quot;localPersistenceUnitTwo&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;manager1&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactoryOne&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;manager2&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactoryTwo&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;tx:annotation-driven transaction-manager=&quot;manager1&quot; /&gt;\r\n        &lt;tx:annotation-driven transaction-manager=&quot;manager2&quot; /&gt;\r\n    \r\n        &lt;!-- declare dependies here --&gt;\r\n    \r\n        &lt;bean class=&quot;in.india.service.dao.impl.CustomerServiceImpl&quot; /&gt;\r\n        &lt;bean class=&quot;in.india.service.dao.impl.CompanyServiceImpl&quot; /&gt;\r\n    \r\n        &lt;!-- Configure MVC annotations --&gt;\r\n        &lt;bean\r\n            class=&quot;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&quot; /&gt;\r\n        &lt;bean\r\n            class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot; /&gt;\r\n        &lt;bean\r\n            class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot; /&gt;\r\n    &lt;/beans&gt;\r\n    \r\n    \r\n    \r\n**java class to persist into one database**\r\n    \r\n    \r\n    package in.india.service.dao.impl;\r\n    \r\n    import in.india.entities.CompanyDetails;\r\n    import in.india.service.CompanyService;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    \r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    public class CompanyServiceImpl implements CompanyService {\r\n    \r\n        @PersistenceContext(unitName = &quot;entityManagerFactoryTwo&quot;)\r\n        EntityManager entityManager;\r\n    \r\n        @Transactional(&quot;manager2&quot;)\r\n        @Override\r\n        public boolean companyService(CompanyDetails companyDetails) {\r\n    \r\n            boolean flag = false;\r\n            try \r\n            {\r\n                entityManager.persist(companyDetails);\r\n                flag = true;\r\n            } \r\n            catch (Exception e)\r\n            {\r\n                flag = false;\r\n            }\r\n    \r\n            return flag;\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n**java class to persist in another database** \r\n    \r\n    package in.india.service.dao.impl;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    \r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import in.india.entities.CustomerDetails;\r\n    import in.india.service.CustomerService;\r\n    \r\n    public class CustomerServiceImpl implements CustomerService {\r\n    \r\n        @PersistenceContext(unitName = &quot;localPersistenceUnitOne&quot;)\r\n        EntityManager entityManager;\r\n    \r\n        @Override\r\n        @Transactional(value = &quot;manager1&quot;)\r\n        public boolean customerService(CustomerDetails companyData) {\r\n    \r\n            boolean flag = false;\r\n            entityManager.persist(companyData);\r\n            return flag;\r\n        }\r\n    }\r\n    \r\n    \r\n**customer.jsp**\r\n    \r\n    &lt;%@page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;center&gt;\r\n            &lt;h1&gt;SpringWithMultipleDatabase&#39;s&lt;/h1&gt;\r\n        &lt;/center&gt;\r\n        &lt;form:form method=&quot;GET&quot; action=&quot;addCustomer.htm&quot;  modelAttribute=&quot;customerBean&quot; &gt;\r\n            &lt;table&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;firstName&quot;&gt;First Name&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;firstName&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;lastName&quot;&gt;Last Name&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;lastName&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;emailId&quot;&gt;Email Id&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;emailId&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;profession&quot;&gt;Profession&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;profession&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;address&quot;&gt;Address&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;address&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;age&quot;&gt;Age&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;age&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;/td&gt;\r\n                 &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;/form:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    \r\n**company.jsp**\r\n    \r\n    \r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;ScheduleJobs&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n     &lt;center&gt;&lt;h1&gt;SpringWithMultipleDatabase&#39;s&lt;/h1&gt;&lt;/center&gt;\r\n     &lt;form:form method=&quot;GET&quot; action=&quot;addCompany.htm&quot;  modelAttribute=&quot;companyBean&quot; &gt;\r\n     &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;companyName&quot;&gt;Company Name&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;companyName&quot; /&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;companyStrength&quot;&gt;Company Strength&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;companyStrength&quot; /&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;companyLocation&quot;&gt;Company Location&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;companyLocation&quot; /&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n     &lt;/table&gt;\r\n     &lt;/form:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n**index.jsp**\r\n    \r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Home&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n     &lt;center&gt;&lt;h1&gt;Multiple Database Connectivity In Spring sdfsdsd&lt;/h1&gt;&lt;/center&gt;\r\n    \r\n    &lt;a href=&#39;customerRequest.htm&#39;&gt;Click here to go on Customer page&lt;/a&gt;\r\n    &lt;br&gt;\r\n    &lt;a href=&#39;companyRequest.htm&#39;&gt;Click here to go on Company page&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n**success.jsp**\r\n    \r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;ScheduleJobs&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n     &lt;center&gt;&lt;h1&gt;SpringWithMultipleDatabase&lt;/h1&gt;&lt;/center&gt;\r\n        &lt;b&gt;Successfully Saved&lt;/b&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n**CompanyController**\r\n    \r\n    package in.india.controller;\r\n    \r\n    import in.india.bean.CompanyBean;\r\n    import in.india.entities.CompanyDetails;\r\n    import in.india.service.CompanyService;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class CompanyController {\r\n    \r\n        @Autowired\r\n        CompanyService companyService;\r\n    \r\n        @RequestMapping(value = &quot;/companyRequest.htm&quot;, method = RequestMethod.GET)\r\n        public ModelAndView addStudent(ModelMap model) {\r\n            CompanyBean companyBean = new CompanyBean();\r\n            model.addAttribute(companyBean);\r\n            return new ModelAndView(&quot;company&quot;);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/addCompany.htm&quot;, method = RequestMethod.GET)\r\n        public ModelAndView companyController(@ModelAttribute(&quot;companyBean&quot;) CompanyBean companyBean, Model model) {\r\n            CompanyDetails  companyDetails = new CompanyDetails();\r\n            companyDetails.setCompanyLocation(companyBean.getCompanyLocation());\r\n            companyDetails.setCompanyName(companyBean.getCompanyName());\r\n            companyDetails.setCompanyStrength(companyBean.getCompanyStrength());\r\n            companyService.companyService(companyDetails);\r\n            return new ModelAndView(&quot;success&quot;);\r\n    \r\n        }\r\n    }\r\n    \r\n**CustomerController**\r\n    \r\n    \r\n    package in.india.controller;\r\n    \r\n    import in.india.bean.CustomerBean;\r\n    import in.india.entities.CustomerDetails;\r\n    import in.india.service.CustomerService;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class CustomerController {\r\n    \r\n        @Autowired\r\n        CustomerService customerService;\r\n    \r\n        @RequestMapping(value = &quot;/customerRequest.htm&quot;, method = RequestMethod.GET)\r\n        public ModelAndView addStudent(ModelMap model) {\r\n            CustomerBean customerBean = new CustomerBean();\r\n            model.addAttribute(customerBean);\r\n            return new ModelAndView(&quot;customer&quot;);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/addCustomer.htm&quot;, method = RequestMethod.GET)\r\n        public ModelAndView customerController(@ModelAttribute(&quot;customerBean&quot;) CustomerBean customer, Model model) {\r\n            CustomerDetails customerDetails = new CustomerDetails();\r\n            customerDetails.setAddress(customer.getAddress());\r\n            customerDetails.setAge(customer.getAge());\r\n            customerDetails.setEmailId(customer.getEmailId());\r\n            customerDetails.setFirstName(customer.getFirstName());\r\n            customerDetails.setLastName(customer.getLastName());\r\n            customerDetails.setProfession(customer.getProfession());\r\n            customerService.customerService(customerDetails);\r\n            return new ModelAndView(&quot;success&quot;);\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n**CompanyDetails Entity**\r\n    \r\n    \r\n    package in.india.entities;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.SequenceGenerator;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;company_details&quot;)\r\n    public class CompanyDetails {\r\n    \r\n        @Id\r\n        @SequenceGenerator(name = &quot;company_details_seq&quot;, sequenceName = &quot;company_details_seq&quot;, initialValue = 1, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;company_details_seq&quot;)\r\n        @Column(name = &quot;company_details_id&quot;)\r\n        private Long companyDetailsId;\r\n        @Column(name = &quot;company_name&quot;)\r\n        private String companyName;\r\n        @Column(name = &quot;company_strength&quot;)\r\n        private Long companyStrength;\r\n        @Column(name = &quot;company_location&quot;)\r\n        private String companyLocation;\r\n    \r\n        public Long getCompanyDetailsId() {\r\n            return companyDetailsId;\r\n        }\r\n    \r\n        public void setCompanyDetailsId(Long companyDetailsId) {\r\n            this.companyDetailsId = companyDetailsId;\r\n        }\r\n    \r\n        public String getCompanyName() {\r\n            return companyName;\r\n        }\r\n    \r\n        public void setCompanyName(String companyName) {\r\n            this.companyName = companyName;\r\n        }\r\n    \r\n        public Long getCompanyStrength() {\r\n            return companyStrength;\r\n        }\r\n    \r\n        public void setCompanyStrength(Long companyStrength) {\r\n            this.companyStrength = companyStrength;\r\n        }\r\n    \r\n        public String getCompanyLocation() {\r\n            return companyLocation;\r\n        }\r\n    \r\n        public void setCompanyLocation(String companyLocation) {\r\n            this.companyLocation = companyLocation;\r\n        }\r\n    }\r\n    \r\n    \r\n**CustomerDetails Entity**\r\n    \r\n    package in.india.entities;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.SequenceGenerator;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;customer_details&quot;)\r\n    public class CustomerDetails {\r\n    \r\n        @Id\r\n        @SequenceGenerator(name = &quot;customer_details_seq&quot;, sequenceName = &quot;customer_details_seq&quot;, initialValue = 1, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;customer_details_seq&quot;)\r\n        @Column(name = &quot;customer_details_id&quot;)\r\n        private Long customerDetailsId;\r\n        @Column(name = &quot;first_name &quot;)\r\n        private String firstName;\r\n        @Column(name = &quot;last_name &quot;)\r\n        private String lastName;\r\n        @Column(name = &quot;email_id&quot;)\r\n        private String emailId;\r\n        @Column(name = &quot;profession&quot;)\r\n        private String profession;\r\n        @Column(name = &quot;address&quot;)\r\n        private String address;\r\n        @Column(name = &quot;age&quot;)\r\n        private int age;\r\n        public Long getCustomerDetailsId() {\r\n            return customerDetailsId;\r\n        }\r\n    \r\n        public void setCustomerDetailsId(Long customerDetailsId) {\r\n            this.customerDetailsId = customerDetailsId;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getEmailId() {\r\n            return emailId;\r\n        }\r\n    \r\n        public void setEmailId(String emailId) {\r\n            this.emailId = emailId;\r\n        }\r\n    \r\n        public String getProfession() {\r\n            return profession;\r\n        }\r\n    \r\n        public void setProfession(String profession) {\r\n            this.profession = profession;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    }","title":"Spring Boot Multiple Datasource","body":"<p>I solved the problem (How to connect multiple database using spring and Hibernate) in this way, I hope it will help :)</p>\n\n<p>NOTE: I have added the relevant code, kindly make the dao with the help of impl I used in the below mentioned code.</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    id=\"WebApp_ID\" version=\"3.0\"&gt;\n    &lt;display-name&gt;MultipleDatabaseConnectivityInSpring&lt;/display-name&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n     &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n         &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n     &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt; \n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            /WEB-INF/dispatcher-servlet.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p><strong>persistence.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"1.0\"\n    xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd\"&gt;\n    &lt;persistence-unit name=\"localPersistenceUnitOne\"\n        transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;class&gt;in.india.entities.CustomerDetails&lt;/class&gt;\n        &lt;exclude-unlisted-classes /&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" /&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"org.postgresql.Driver\" /&gt;\n            &lt;property name=\"hibernate.jdbc.batch_size\" value=\"0\" /&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"false\" /&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:postgresql://localhost:5432/shankar?sslmode=require\" /&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"username\" /&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"password\" /&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n    &lt;persistence-unit name=\"localPersistenceUnitTwo\"\n        transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;class&gt;in.india.entities.CompanyDetails&lt;/class&gt;\n        &lt;exclude-unlisted-classes /&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" /&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"org.postgresql.Driver\" /&gt;\n            &lt;property name=\"hibernate.jdbc.batch_size\" value=\"0\" /&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"false\" /&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:postgresql://localhost:5432/shankarTwo?sslmode=require\" /&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"username\" /&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"password\" /&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p><strong>dispatcher-servlet</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:task=\"http://www.springframework.org/schema/task\" xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:util=\"http://www.springframework.org/schema/util\"\n    default-autowire=\"byName\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd \n      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd  \n      http://www.springframework.org/schema/aop  http://www.springframework.org/schema/aop/spring-aop-3.0.xsd \n      http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd\n      http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd http://www.springframework.org/schema/mvc \n      http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n    &lt;!-- Configure messageSource --&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;context:component-scan base-package=\"in.india.*\" /&gt;\n    &lt;bean id=\"messageResource\"\n        class=\"org.springframework.context.support.ResourceBundleMessageSource\"\n        autowire=\"byName\"&gt;\n        &lt;property name=\"basename\" value=\"messageResource\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\"&gt;\n            &lt;value&gt;/WEB-INF/jsp/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"suffix\"&gt;\n            &lt;value&gt;.jsp&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n\n\n    &lt;bean id=\"entityManagerFactoryOne\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"\n        autowire=\"constructor\"&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"localPersistenceUnitOne\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"messageSource\"\n        class=\"org.springframework.context.support.ResourceBundleMessageSource\"\n        autowire=\"byName\"&gt;\n        &lt;property name=\"basename\" value=\"messageResource\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"entityManagerFactoryTwo\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"\n        autowire=\"constructor\"&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"localPersistenceUnitTwo\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"manager1\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactoryOne\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"manager2\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactoryTwo\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;tx:annotation-driven transaction-manager=\"manager1\" /&gt;\n    &lt;tx:annotation-driven transaction-manager=\"manager2\" /&gt;\n\n    &lt;!-- declare dependies here --&gt;\n\n    &lt;bean class=\"in.india.service.dao.impl.CustomerServiceImpl\" /&gt;\n    &lt;bean class=\"in.india.service.dao.impl.CompanyServiceImpl\" /&gt;\n\n    &lt;!-- Configure MVC annotations --&gt;\n    &lt;bean\n        class=\"org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping\" /&gt;\n    &lt;bean\n        class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\" /&gt;\n    &lt;bean\n        class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\" /&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>java class to persist into one database</strong></p>\n\n<pre><code>package in.india.service.dao.impl;\n\nimport in.india.entities.CompanyDetails;\nimport in.india.service.CompanyService;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\nimport org.springframework.transaction.annotation.Transactional;\n\npublic class CompanyServiceImpl implements CompanyService {\n\n    @PersistenceContext(unitName = \"entityManagerFactoryTwo\")\n    EntityManager entityManager;\n\n    @Transactional(\"manager2\")\n    @Override\n    public boolean companyService(CompanyDetails companyDetails) {\n\n        boolean flag = false;\n        try \n        {\n            entityManager.persist(companyDetails);\n            flag = true;\n        } \n        catch (Exception e)\n        {\n            flag = false;\n        }\n\n        return flag;\n    }\n\n}\n</code></pre>\n\n<p><strong>java class to persist in another database</strong> </p>\n\n<pre><code>package in.india.service.dao.impl;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\nimport org.springframework.transaction.annotation.Transactional;\n\nimport in.india.entities.CustomerDetails;\nimport in.india.service.CustomerService;\n\npublic class CustomerServiceImpl implements CustomerService {\n\n    @PersistenceContext(unitName = \"localPersistenceUnitOne\")\n    EntityManager entityManager;\n\n    @Override\n    @Transactional(value = \"manager1\")\n    public boolean customerService(CustomerDetails companyData) {\n\n        boolean flag = false;\n        entityManager.persist(companyData);\n        return flag;\n    }\n}\n</code></pre>\n\n<p><strong>customer.jsp</strong></p>\n\n<pre><code>&lt;%@page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;%@taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;center&gt;\n        &lt;h1&gt;SpringWithMultipleDatabase's&lt;/h1&gt;\n    &lt;/center&gt;\n    &lt;form:form method=\"GET\" action=\"addCustomer.htm\"  modelAttribute=\"customerBean\" &gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"firstName\"&gt;First Name&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"firstName\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"lastName\"&gt;Last Name&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"lastName\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"emailId\"&gt;Email Id&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"emailId\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"profession\"&gt;Profession&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"profession\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"address\"&gt;Address&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"address\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"age\"&gt;Age&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"age\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;input type=\"submit\" value=\"Submit\"/&gt;&lt;/td&gt;\n             &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>company.jsp</strong></p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;%@taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;ScheduleJobs&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;center&gt;&lt;h1&gt;SpringWithMultipleDatabase's&lt;/h1&gt;&lt;/center&gt;\n &lt;form:form method=\"GET\" action=\"addCompany.htm\"  modelAttribute=\"companyBean\" &gt;\n &lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=\"companyName\"&gt;Company Name&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=\"companyName\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=\"companyStrength\"&gt;Company Strength&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=\"companyStrength\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=\"companyLocation\"&gt;Company Location&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=\"companyLocation\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;\n            &lt;input type=\"submit\" value=\"Submit\"/&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n &lt;/table&gt;\n &lt;/form:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>index.jsp</strong></p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Home&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;center&gt;&lt;h1&gt;Multiple Database Connectivity In Spring sdfsdsd&lt;/h1&gt;&lt;/center&gt;\n\n&lt;a href='customerRequest.htm'&gt;Click here to go on Customer page&lt;/a&gt;\n&lt;br&gt;\n&lt;a href='companyRequest.htm'&gt;Click here to go on Company page&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>success.jsp</strong></p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;ScheduleJobs&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;center&gt;&lt;h1&gt;SpringWithMultipleDatabase&lt;/h1&gt;&lt;/center&gt;\n    &lt;b&gt;Successfully Saved&lt;/b&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>CompanyController</strong></p>\n\n<pre><code>package in.india.controller;\n\nimport in.india.bean.CompanyBean;\nimport in.india.entities.CompanyDetails;\nimport in.india.service.CompanyService;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class CompanyController {\n\n    @Autowired\n    CompanyService companyService;\n\n    @RequestMapping(value = \"/companyRequest.htm\", method = RequestMethod.GET)\n    public ModelAndView addStudent(ModelMap model) {\n        CompanyBean companyBean = new CompanyBean();\n        model.addAttribute(companyBean);\n        return new ModelAndView(\"company\");\n    }\n\n    @RequestMapping(value = \"/addCompany.htm\", method = RequestMethod.GET)\n    public ModelAndView companyController(@ModelAttribute(\"companyBean\") CompanyBean companyBean, Model model) {\n        CompanyDetails  companyDetails = new CompanyDetails();\n        companyDetails.setCompanyLocation(companyBean.getCompanyLocation());\n        companyDetails.setCompanyName(companyBean.getCompanyName());\n        companyDetails.setCompanyStrength(companyBean.getCompanyStrength());\n        companyService.companyService(companyDetails);\n        return new ModelAndView(\"success\");\n\n    }\n}\n</code></pre>\n\n<p><strong>CustomerController</strong></p>\n\n<pre><code>package in.india.controller;\n\nimport in.india.bean.CustomerBean;\nimport in.india.entities.CustomerDetails;\nimport in.india.service.CustomerService;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class CustomerController {\n\n    @Autowired\n    CustomerService customerService;\n\n    @RequestMapping(value = \"/customerRequest.htm\", method = RequestMethod.GET)\n    public ModelAndView addStudent(ModelMap model) {\n        CustomerBean customerBean = new CustomerBean();\n        model.addAttribute(customerBean);\n        return new ModelAndView(\"customer\");\n    }\n\n    @RequestMapping(value = \"/addCustomer.htm\", method = RequestMethod.GET)\n    public ModelAndView customerController(@ModelAttribute(\"customerBean\") CustomerBean customer, Model model) {\n        CustomerDetails customerDetails = new CustomerDetails();\n        customerDetails.setAddress(customer.getAddress());\n        customerDetails.setAge(customer.getAge());\n        customerDetails.setEmailId(customer.getEmailId());\n        customerDetails.setFirstName(customer.getFirstName());\n        customerDetails.setLastName(customer.getLastName());\n        customerDetails.setProfession(customer.getProfession());\n        customerService.customerService(customerDetails);\n        return new ModelAndView(\"success\");\n\n    }\n}\n</code></pre>\n\n<p><strong>CompanyDetails Entity</strong></p>\n\n<pre><code>package in.india.entities;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"company_details\")\npublic class CompanyDetails {\n\n    @Id\n    @SequenceGenerator(name = \"company_details_seq\", sequenceName = \"company_details_seq\", initialValue = 1, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"company_details_seq\")\n    @Column(name = \"company_details_id\")\n    private Long companyDetailsId;\n    @Column(name = \"company_name\")\n    private String companyName;\n    @Column(name = \"company_strength\")\n    private Long companyStrength;\n    @Column(name = \"company_location\")\n    private String companyLocation;\n\n    public Long getCompanyDetailsId() {\n        return companyDetailsId;\n    }\n\n    public void setCompanyDetailsId(Long companyDetailsId) {\n        this.companyDetailsId = companyDetailsId;\n    }\n\n    public String getCompanyName() {\n        return companyName;\n    }\n\n    public void setCompanyName(String companyName) {\n        this.companyName = companyName;\n    }\n\n    public Long getCompanyStrength() {\n        return companyStrength;\n    }\n\n    public void setCompanyStrength(Long companyStrength) {\n        this.companyStrength = companyStrength;\n    }\n\n    public String getCompanyLocation() {\n        return companyLocation;\n    }\n\n    public void setCompanyLocation(String companyLocation) {\n        this.companyLocation = companyLocation;\n    }\n}\n</code></pre>\n\n<p><strong>CustomerDetails Entity</strong></p>\n\n<pre><code>package in.india.entities;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"customer_details\")\npublic class CustomerDetails {\n\n    @Id\n    @SequenceGenerator(name = \"customer_details_seq\", sequenceName = \"customer_details_seq\", initialValue = 1, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"customer_details_seq\")\n    @Column(name = \"customer_details_id\")\n    private Long customerDetailsId;\n    @Column(name = \"first_name \")\n    private String firstName;\n    @Column(name = \"last_name \")\n    private String lastName;\n    @Column(name = \"email_id\")\n    private String emailId;\n    @Column(name = \"profession\")\n    private String profession;\n    @Column(name = \"address\")\n    private String address;\n    @Column(name = \"age\")\n    private int age;\n    public Long getCustomerDetailsId() {\n        return customerDetailsId;\n    }\n\n    public void setCustomerDetailsId(Long customerDetailsId) {\n        this.customerDetailsId = customerDetailsId;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmailId() {\n        return emailId;\n    }\n\n    public void setEmailId(String emailId) {\n        this.emailId = emailId;\n    }\n\n    public String getProfession() {\n        return profession;\n    }\n\n    public void setProfession(String profession) {\n        this.profession = profession;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145107,"reputation":1394,"user_id":1902897,"accept_rate":86,"display_name":"Rakesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1469021426,"creation_date":1469021426,"answer_id":38482733,"question_id":27614301,"body_markdown":"I faced same issue few days back, I followed the link mentioned below and I could able to overcome the problem\r\n\r\nhttp://www.baeldung.com/spring-data-jpa-multiple-databases","title":"Spring Boot Multiple Datasource","body":"<p>I faced same issue few days back, I followed the link mentioned below and I could able to overcome the problem</p>\n\n<p><a href=\"http://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"noreferrer\">http://www.baeldung.com/spring-data-jpa-multiple-databases</a></p>\n"},{"comments":[{"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"score":0,"creation_date":1511866159,"post_id":40277402,"comment_id":82015743,"body_markdown":"What he said is correct only. We need to use AbstractRoutingDataSource for achieve this.It will be good if some one can tell whats wrong with this answer.","body":"What he said is correct only. We need to use AbstractRoutingDataSource for achieve this.It will be good if some one can tell whats wrong with this answer."}],"tags":[],"owner":{"account_id":5474062,"reputation":11,"user_id":4352533,"display_name":"jc mx"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1477555082,"creation_date":1477548865,"answer_id":40277402,"question_id":27614301,"body_markdown":"Use multiple datasource or realizing the separation of reading &amp; writing.\r\nyou must have a knowledge of Class `AbstractRoutingDataSource` which support dynamic datasource choose.\r\n\r\nHere is my `datasource.yaml` and I figure out how to resolve this case. You can refer to this project [spring-boot + quartz](https://github.com/lvhao/schedule-job). Hope this will help you.\r\n\r\n    dbServer:\r\n      default: localhost:3306\r\n      read: localhost:3306\r\n      write: localhost:3306\r\n    datasource:\r\n      default:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        pool-name: default\r\n        continue-on-error: false\r\n        jdbc-url: jdbc:mysql://${dbServer.default}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\r\n        username: root\r\n        password: lh1234\r\n        connection-timeout: 30000\r\n        connection-test-query: SELECT 1\r\n        maximum-pool-size: 5\r\n        minimum-idle: 2\r\n        idle-timeout: 600000\r\n        destroy-method: shutdown\r\n        auto-commit: false\r\n      read:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        pool-name: read\r\n        continue-on-error: false\r\n        jdbc-url: jdbc:mysql://${dbServer.read}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\r\n        username: root\r\n        password: lh1234\r\n        connection-timeout: 30000\r\n        connection-test-query: SELECT 1\r\n        maximum-pool-size: 5\r\n        minimum-idle: 2\r\n        idle-timeout: 600000\r\n        destroy-method: shutdown\r\n        auto-commit: false\r\n      write:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        pool-name: write\r\n        continue-on-error: false\r\n        jdbc-url: jdbc:mysql://${dbServer.write}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\r\n        username: root\r\n        password: lh1234\r\n        connection-timeout: 30000\r\n        connection-test-query: SELECT 1\r\n        maximum-pool-size: 5\r\n        minimum-idle: 2\r\n        idle-timeout: 600000\r\n        destroy-method: shutdown\r\n        auto-commit: false","title":"Spring Boot Multiple Datasource","body":"<p>Use multiple datasource or realizing the separation of reading &amp; writing.\nyou must have a knowledge of Class <code>AbstractRoutingDataSource</code> which support dynamic datasource choose.</p>\n\n<p>Here is my <code>datasource.yaml</code> and I figure out how to resolve this case. You can refer to this project <a href=\"https://github.com/lvhao/schedule-job\" rel=\"nofollow\">spring-boot + quartz</a>. Hope this will help you.</p>\n\n<pre><code>dbServer:\n  default: localhost:3306\n  read: localhost:3306\n  write: localhost:3306\ndatasource:\n  default:\n    type: com.zaxxer.hikari.HikariDataSource\n    pool-name: default\n    continue-on-error: false\n    jdbc-url: jdbc:mysql://${dbServer.default}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\n    username: root\n    password: lh1234\n    connection-timeout: 30000\n    connection-test-query: SELECT 1\n    maximum-pool-size: 5\n    minimum-idle: 2\n    idle-timeout: 600000\n    destroy-method: shutdown\n    auto-commit: false\n  read:\n    type: com.zaxxer.hikari.HikariDataSource\n    pool-name: read\n    continue-on-error: false\n    jdbc-url: jdbc:mysql://${dbServer.read}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\n    username: root\n    password: lh1234\n    connection-timeout: 30000\n    connection-test-query: SELECT 1\n    maximum-pool-size: 5\n    minimum-idle: 2\n    idle-timeout: 600000\n    destroy-method: shutdown\n    auto-commit: false\n  write:\n    type: com.zaxxer.hikari.HikariDataSource\n    pool-name: write\n    continue-on-error: false\n    jdbc-url: jdbc:mysql://${dbServer.write}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\n    username: root\n    password: lh1234\n    connection-timeout: 30000\n    connection-test-query: SELECT 1\n    maximum-pool-size: 5\n    minimum-idle: 2\n    idle-timeout: 600000\n    destroy-method: shutdown\n    auto-commit: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487951599,"creation_date":1487951599,"answer_id":42442920,"question_id":27614301,"body_markdown":"Using two datasources you need their own transaction managers.\r\n\r\n    @Configuration\r\n    public class MySqlDBConfig {\r\n        @Bean\r\n        @Primary\r\n        @ConfigurationProperties(prefix=&quot;datasource.test.mysql&quot;)\r\n        public DataSource mysqlDataSource(){\r\n             return DataSourceBuilder\r\n                     .create()\r\n                     .build();\r\n        }\r\n\r\n        @Bean(&quot;mysqlTx&quot;)\r\n        public DataSourceTransactionManager mysqlTx() {\r\n            return new DataSourceTransactionManager(mysqlDataSource());\r\n        }\r\n\r\n        // same for another DS\r\n    }\r\n\r\nAnd then use it accordingly within @Transaction\r\n\r\n    @Transactional(&quot;mysqlTx&quot;)\r\n    @Repository\r\n    public interface UserMysqlDao extends CrudRepository&lt;UserMysql, Integer&gt;{\r\n        public UserMysql findByName(String name);\r\n    }\r\n","title":"Spring Boot Multiple Datasource","body":"<p>Using two datasources you need their own transaction managers.</p>\n\n<pre><code>@Configuration\npublic class MySqlDBConfig {\n    @Bean\n    @Primary\n    @ConfigurationProperties(prefix=\"datasource.test.mysql\")\n    public DataSource mysqlDataSource(){\n         return DataSourceBuilder\n                 .create()\n                 .build();\n    }\n\n    @Bean(\"mysqlTx\")\n    public DataSourceTransactionManager mysqlTx() {\n        return new DataSourceTransactionManager(mysqlDataSource());\n    }\n\n    // same for another DS\n}\n</code></pre>\n\n<p>And then use it accordingly within @Transaction</p>\n\n<pre><code>@Transactional(\"mysqlTx\")\n@Repository\npublic interface UserMysqlDao extends CrudRepository&lt;UserMysql, Integer&gt;{\n    public UserMysql findByName(String name);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4791251,"reputation":151,"user_id":3870391,"display_name":"JN Gerbaux"},"score":2,"creation_date":1496591208,"post_id":43143254,"comment_id":75713701,"body_markdown":"It works for your case because you have two db of different types. But if dbs are of the same type, you can&#39;t use that trick :-s","body":"It works for your case because you have two db of different types. But if dbs are of the same type, you can&#39;t use that trick :-s"}],"tags":[],"owner":{"account_id":2805485,"reputation":10437,"user_id":2412816,"accept_rate":63,"display_name":"dsharew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490970674,"creation_date":1490970674,"answer_id":43143254,"question_id":27614301,"body_markdown":"Thanks all for your help but it is not complicated as it seems; **almost everything is handled internally by SpringBoot.**  \r\n\r\nIn my case *I want to use Mysql and Mongodb* and the solution was to use `EnableMongoRepositories` and `EnableJpaRepositories` annotations on to my application class. \r\n\r\n    @SpringBootApplication\r\n    @EnableTransactionManagement\r\n    @EnableMongoRepositories(includeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = MongoRepository))\r\n    @EnableJpaRepositories(excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = MongoRepository))\r\n    class TestApplication { ...\r\n\r\n**NB:** All mysql entities have to extend `JpaRepository` and mongo enities have to extend `MongoRepository`. \r\n\r\nThe datasource configs are straight forward as presented by spring documentation: \r\n\r\n    //mysql db config\r\n    spring.datasource.url= jdbc:mysql://localhost:3306/tangio\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test\r\n    \r\n    #mongodb config\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.database=tangio\r\n    spring.data.mongodb.username=tangio\r\n    spring.data.mongodb.password=tangio\r\n    spring.data.mongodb.repositories.enabled=true\r\n\r\n","title":"Spring Boot Multiple Datasource","body":"<p>Thanks all for your help but it is not complicated as it seems; <strong>almost everything is handled internally by SpringBoot.</strong>  </p>\n\n<p>In my case <em>I want to use Mysql and Mongodb</em> and the solution was to use <code>EnableMongoRepositories</code> and <code>EnableJpaRepositories</code> annotations on to my application class. </p>\n\n<pre><code>@SpringBootApplication\n@EnableTransactionManagement\n@EnableMongoRepositories(includeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = MongoRepository))\n@EnableJpaRepositories(excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = MongoRepository))\nclass TestApplication { ...\n</code></pre>\n\n<p><strong>NB:</strong> All mysql entities have to extend <code>JpaRepository</code> and mongo enities have to extend <code>MongoRepository</code>. </p>\n\n<p>The datasource configs are straight forward as presented by spring documentation: </p>\n\n<pre><code>//mysql db config\nspring.datasource.url= jdbc:mysql://localhost:3306/tangio\nspring.datasource.username=test\nspring.datasource.password=test\n\n#mongodb config\nspring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=tangio\nspring.data.mongodb.username=tangio\nspring.data.mongodb.password=tangio\nspring.data.mongodb.repositories.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153291,"reputation":1547,"user_id":368440,"accept_rate":72,"display_name":"yoav.str"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491346003,"creation_date":1491346003,"answer_id":43218966,"question_id":27614301,"body_markdown":"once you start work with jpa and some driver is in your class path spring boot right away puts it inside as your data source (e.g h2 )\r\nfor using the defult data source therefore u will need only to define \r\n\r\n    spring.datasource.url= jdbc:mysql://localhost:3306/\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test\r\n if we go one step farther and u want to use two \r\n    I would reccomend to use two data sources such as explained here : \r\n    https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources\r\n\r\n","title":"Spring Boot Multiple Datasource","body":"<p>once you start work with jpa and some driver is in your class path spring boot right away puts it inside as your data source (e.g h2 )\nfor using the defult data source therefore u will need only to define </p>\n\n<pre><code>spring.datasource.url= jdbc:mysql://localhost:3306/\nspring.datasource.username=test\nspring.datasource.password=test\n</code></pre>\n\n<p>if we go one step farther and u want to use two \n    I would reccomend to use two data sources such as explained here : \n    <a href=\"https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources\">Spring Boot Configure and Use Two DataSources</a></p>\n"},{"comments":[{"owner":{"account_id":2118041,"reputation":2108,"user_id":1881894,"accept_rate":76,"display_name":"Morez"},"score":0,"creation_date":1635341936,"post_id":48240987,"comment_id":123271973,"body_markdown":"URL is not reachable. quick question - Do we need to maintain anything on Entity/Class to show, this entity belongs to datasource1?","body":"URL is not reachable. quick question - Do we need to maintain anything on Entity/Class to show, this entity belongs to datasource1?"}],"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515855015,"creation_date":1515855015,"answer_id":48240987,"question_id":27614301,"body_markdown":"**Update 2018-01-07 with Spring Boot 1.5.8.RELEASE**\r\n\r\nIf you want to know how to config it, how to use it, and how to control transaction. I may have answers for you.\r\n\r\nYou can see the runnable example and some explanation in https://www.surasint.com/spring-boot-with-multiple-databases-example/\r\n\r\nI copied some code here.\r\n\r\nFirst you have to set application.properties like this\r\n\r\n    #Database\r\n    database1.datasource.url=jdbc:mysql://localhost/testdb\r\n    database1.datasource.username=root\r\n    database1.datasource.password=root\r\n    database1.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    database2.datasource.url=jdbc:mysql://localhost/testdb2\r\n    database2.datasource.username=root\r\n    database2.datasource.password=root\r\n    database2.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\nThen define them as providers (@Bean) like this:\r\n\r\n    @Bean(name = &quot;datasource1&quot;)\r\n    @ConfigurationProperties(&quot;database1.datasource&quot;)\r\n    @Primary\r\n    public DataSource dataSource(){\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;datasource2&quot;)\r\n    @ConfigurationProperties(&quot;database2.datasource&quot;)\r\n    public DataSource dataSource2(){\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\nNote that I have @Bean(name=&quot;datasource1&quot;) and @Bean(name=&quot;datasource2&quot;), then you can use it when we need datasource as @Qualifier(&quot;datasource1&quot;) and @Qualifier(&quot;datasource2&quot;) , for example \r\n\r\n    @Qualifier(&quot;datasource1&quot;)\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\nIf you do care about transaction, you have to define DataSourceTransactionManager for both of them, like this:\r\n\r\n    @Bean(name=&quot;tm1&quot;)\r\n    @Autowired\r\n    @Primary\r\n    DataSourceTransactionManager tm1(@Qualifier (&quot;datasource1&quot;) DataSource datasource) {\r\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n        return txm;\r\n    }\r\n\r\n    @Bean(name=&quot;tm2&quot;)\r\n    @Autowired\r\n    DataSourceTransactionManager tm2(@Qualifier (&quot;datasource2&quot;) DataSource datasource) {\r\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n        return txm;\r\n    }\r\n\r\nThen you can use it like\r\n\r\n    @Transactional //this will use the first datasource because it is @primary\r\n\r\nor\r\n\r\n    @Transactional(&quot;tm2&quot;)\r\n\r\n\r\nThis should be enough. See example and detail in the link above.","title":"Spring Boot Multiple Datasource","body":"<p><strong>Update 2018-01-07 with Spring Boot 1.5.8.RELEASE</strong></p>\n\n<p>If you want to know how to config it, how to use it, and how to control transaction. I may have answers for you.</p>\n\n<p>You can see the runnable example and some explanation in <a href=\"https://www.surasint.com/spring-boot-with-multiple-databases-example/\" rel=\"nofollow noreferrer\">https://www.surasint.com/spring-boot-with-multiple-databases-example/</a></p>\n\n<p>I copied some code here.</p>\n\n<p>First you have to set application.properties like this</p>\n\n<pre><code>#Database\ndatabase1.datasource.url=jdbc:mysql://localhost/testdb\ndatabase1.datasource.username=root\ndatabase1.datasource.password=root\ndatabase1.datasource.driver-class-name=com.mysql.jdbc.Driver\n\ndatabase2.datasource.url=jdbc:mysql://localhost/testdb2\ndatabase2.datasource.username=root\ndatabase2.datasource.password=root\ndatabase2.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n\n<p>Then define them as providers (@Bean) like this:</p>\n\n<pre><code>@Bean(name = \"datasource1\")\n@ConfigurationProperties(\"database1.datasource\")\n@Primary\npublic DataSource dataSource(){\n    return DataSourceBuilder.create().build();\n}\n\n@Bean(name = \"datasource2\")\n@ConfigurationProperties(\"database2.datasource\")\npublic DataSource dataSource2(){\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n\n<p>Note that I have @Bean(name=\"datasource1\") and @Bean(name=\"datasource2\"), then you can use it when we need datasource as @Qualifier(\"datasource1\") and @Qualifier(\"datasource2\") , for example </p>\n\n<pre><code>@Qualifier(\"datasource1\")\n@Autowired\nprivate DataSource dataSource;\n</code></pre>\n\n<p>If you do care about transaction, you have to define DataSourceTransactionManager for both of them, like this:</p>\n\n<pre><code>@Bean(name=\"tm1\")\n@Autowired\n@Primary\nDataSourceTransactionManager tm1(@Qualifier (\"datasource1\") DataSource datasource) {\n    DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n    return txm;\n}\n\n@Bean(name=\"tm2\")\n@Autowired\nDataSourceTransactionManager tm2(@Qualifier (\"datasource2\") DataSource datasource) {\n    DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n    return txm;\n}\n</code></pre>\n\n<p>Then you can use it like</p>\n\n<pre><code>@Transactional //this will use the first datasource because it is @primary\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@Transactional(\"tm2\")\n</code></pre>\n\n<p>This should be enough. See example and detail in the link above.</p>\n"},{"tags":[],"owner":{"account_id":14115752,"reputation":21,"user_id":10197565,"display_name":"M. Wajdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535465364,"creation_date":1535465364,"answer_id":52059918,"question_id":27614301,"body_markdown":"MySqlBDConfig.java\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackages = &quot;PACKAGE OF YOUR CRUDS USING MYSQL DATABASE&quot;,entityManagerFactoryRef = &quot;mysqlEmFactory&quot; ,transactionManagerRef = &quot;mysqlTransactionManager&quot;)\r\n    public class MySqlBDConfig{\r\n\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\t\r\n\t@Bean(name=&quot;mysqlProperities&quot;)\r\n\t@ConfigurationProperties(prefix=&quot;spring.mysql&quot;)\r\n\tpublic DataSourceProperties mysqlProperities(){\r\n\t\treturn new  DataSourceProperties();\r\n\t}\r\n\t\r\n\t\r\n\t@Bean(name=&quot;mysqlDataSource&quot;)\r\n\tpublic DataSource interfaceDS(@Qualifier(&quot;mysqlProperities&quot;)DataSourceProperties dataSourceProperties){\r\n\t\treturn dataSourceProperties.initializeDataSourceBuilder().build();\r\n\t\t\r\n\t}\r\n\t\r\n\t@Primary\r\n\t@Bean(name=&quot;mysqlEmFactory&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean mysqlEmFactory(@Qualifier(&quot;mysqlDataSource&quot;)DataSource mysqlDataSource,EntityManagerFactoryBuilder builder){\r\n\t\treturn builder.dataSource(mysqlDataSource).packages(&quot;PACKAGE OF YOUR MODELS&quot;).build();\r\n\t}\r\n\t\r\n\t\r\n\t@Bean(name=&quot;mysqlTransactionManager&quot;)\r\n\tpublic PlatformTransactionManager mysqlTransactionManager(@Qualifier(&quot;mysqlEmFactory&quot;)EntityManagerFactory factory){\r\n\t\treturn new JpaTransactionManager(factory);\r\n\t}\r\n    }\r\n\r\nH2DBConfig.java\r\n   \r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackages = &quot;PACKAGE OF YOUR CRUDS USING MYSQL DATABASE&quot;,entityManagerFactoryRef = &quot;dsEmFactory&quot; ,transactionManagerRef = &quot;dsTransactionManager&quot;)\r\n    public class H2DBConfig{\r\n    \r\n        \t@Autowired\r\n        \tprivate Environment env;\r\n        \t\r\n        \t@Bean(name=&quot;dsProperities&quot;)\r\n        \t@ConfigurationProperties(prefix=&quot;spring.h2&quot;)\r\n        \tpublic DataSourceProperties dsProperities(){\r\n        \t\treturn new  DataSourceProperties();\r\n        \t}\r\n        \t\r\n        \t\r\n    \t@Bean(name=&quot;dsDataSource&quot;)\r\n    \tpublic DataSource dsDataSource(@Qualifier(&quot;dsProperities&quot;)DataSourceProperties dataSourceProperties){\r\n    \t\treturn dataSourceProperties.initializeDataSourceBuilder().build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;dsEmFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean dsEmFactory(@Qualifier(&quot;dsDataSource&quot;)DataSource dsDataSource,EntityManagerFactoryBuilder builder){\r\n    \t\tLocalContainerEntityManagerFactoryBean em =  builder.dataSource(dsDataSource).packages(&quot;PACKAGE OF YOUR MODELS&quot;).build();\r\n    \t\tHibernateJpaVendorAdapter ven = new HibernateJpaVendorAdapter();\r\n    \t\tem.setJpaVendorAdapter(ven);\r\n    \t\tHashMap&lt;String, Object&gt; prop = new HashMap&lt;&gt;();\r\n    \t\tprop.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.jpa.properties.hibernate.dialect&quot;));\r\n    \t\tprop.put(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;spring.jpa.show-sql&quot;));\r\n    \t\t\r\n    \t\tem.setJpaPropertyMap(prop);\r\n    \t\tem.afterPropertiesSet();\r\n    \t\treturn em;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Bean(name=&quot;dsTransactionManager&quot;)\r\n    \tpublic PlatformTransactionManager dsTransactionManager(@Qualifier(&quot;dsEmFactory&quot;)EntityManagerFactory factory){\r\n    \t\treturn new JpaTransactionManager(factory);\r\n    \t}\r\n    }\r\n\r\napplication.properties\r\n\r\n    #---mysql DATASOURCE---\r\n    spring.mysql.driverClassName = com.mysql.jdbc.Driver\r\n    spring.mysql.url = jdbc:mysql://127.0.0.1:3306/test\r\n    spring.mysql.username = root\r\n    spring.mysql.password = root\r\n    #----------------------\r\n    \r\n    #---H2 DATASOURCE----\r\n    spring.h2.driverClassName = org.h2.Driver\r\n    spring.h2.url = jdbc:h2:file:~/test\r\n    spring.h2.username = root\r\n    spring.h2.password = root\r\n    #---------------------------\r\n    \r\n    #------JPA----- \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.H2Dialect\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\n\r\n\r\nApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args)   {\r\n    \t\tApplicationContext ac=SpringApplication.run(KeopsSageInvoiceApplication.class, args);\r\n    \t\tUserMysqlDao userRepository = ac.getBean(UserMysqlDao.class)\r\n            //for exemple save a new user using your repository \r\n            userRepository.save(new UserMysql());\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Spring Boot Multiple Datasource","body":"<p>MySqlBDConfig.java</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = \"PACKAGE OF YOUR CRUDS USING MYSQL DATABASE\",entityManagerFactoryRef = \"mysqlEmFactory\" ,transactionManagerRef = \"mysqlTransactionManager\")\npublic class MySqlBDConfig{\n\n@Autowired\nprivate Environment env;\n\n@Bean(name=\"mysqlProperities\")\n@ConfigurationProperties(prefix=\"spring.mysql\")\npublic DataSourceProperties mysqlProperities(){\n    return new  DataSourceProperties();\n}\n\n\n@Bean(name=\"mysqlDataSource\")\npublic DataSource interfaceDS(@Qualifier(\"mysqlProperities\")DataSourceProperties dataSourceProperties){\n    return dataSourceProperties.initializeDataSourceBuilder().build();\n\n}\n\n@Primary\n@Bean(name=\"mysqlEmFactory\")\npublic LocalContainerEntityManagerFactoryBean mysqlEmFactory(@Qualifier(\"mysqlDataSource\")DataSource mysqlDataSource,EntityManagerFactoryBuilder builder){\n    return builder.dataSource(mysqlDataSource).packages(\"PACKAGE OF YOUR MODELS\").build();\n}\n\n\n@Bean(name=\"mysqlTransactionManager\")\npublic PlatformTransactionManager mysqlTransactionManager(@Qualifier(\"mysqlEmFactory\")EntityManagerFactory factory){\n    return new JpaTransactionManager(factory);\n}\n}\n</code></pre>\n\n<p>H2DBConfig.java</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = \"PACKAGE OF YOUR CRUDS USING MYSQL DATABASE\",entityManagerFactoryRef = \"dsEmFactory\" ,transactionManagerRef = \"dsTransactionManager\")\npublic class H2DBConfig{\n\n        @Autowired\n        private Environment env;\n\n        @Bean(name=\"dsProperities\")\n        @ConfigurationProperties(prefix=\"spring.h2\")\n        public DataSourceProperties dsProperities(){\n            return new  DataSourceProperties();\n        }\n\n\n    @Bean(name=\"dsDataSource\")\n    public DataSource dsDataSource(@Qualifier(\"dsProperities\")DataSourceProperties dataSourceProperties){\n        return dataSourceProperties.initializeDataSourceBuilder().build();\n\n    }\n\n    @Bean(name=\"dsEmFactory\")\n    public LocalContainerEntityManagerFactoryBean dsEmFactory(@Qualifier(\"dsDataSource\")DataSource dsDataSource,EntityManagerFactoryBuilder builder){\n        LocalContainerEntityManagerFactoryBean em =  builder.dataSource(dsDataSource).packages(\"PACKAGE OF YOUR MODELS\").build();\n        HibernateJpaVendorAdapter ven = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(ven);\n        HashMap&lt;String, Object&gt; prop = new HashMap&lt;&gt;();\n        prop.put(\"hibernate.dialect\", env.getProperty(\"spring.jpa.properties.hibernate.dialect\"));\n        prop.put(\"hibernate.show_sql\", env.getProperty(\"spring.jpa.show-sql\"));\n\n        em.setJpaPropertyMap(prop);\n        em.afterPropertiesSet();\n        return em;\n    }\n\n\n    @Bean(name=\"dsTransactionManager\")\n    public PlatformTransactionManager dsTransactionManager(@Qualifier(\"dsEmFactory\")EntityManagerFactory factory){\n        return new JpaTransactionManager(factory);\n    }\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>#---mysql DATASOURCE---\nspring.mysql.driverClassName = com.mysql.jdbc.Driver\nspring.mysql.url = jdbc:mysql://127.0.0.1:3306/test\nspring.mysql.username = root\nspring.mysql.password = root\n#----------------------\n\n#---H2 DATASOURCE----\nspring.h2.driverClassName = org.h2.Driver\nspring.h2.url = jdbc:h2:file:~/test\nspring.h2.username = root\nspring.h2.password = root\n#---------------------------\n\n#------JPA----- \nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n</code></pre>\n\n<p>Application.java</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n\n    public static void main(String[] args)   {\n        ApplicationContext ac=SpringApplication.run(KeopsSageInvoiceApplication.class, args);\n        UserMysqlDao userRepository = ac.getBean(UserMysqlDao.class)\n        //for exemple save a new user using your repository \n        userRepository.save(new UserMysql());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28780885,"reputation":11,"user_id":22042536,"display_name":"parad0X"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699261332,"creation_date":1699261332,"answer_id":77429897,"question_id":27614301,"body_markdown":"Here&#39;s an updated solution for MongoDB type No-SQL databases.\r\n\r\n```java\r\npackage com.eg.config;\r\n\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.MongoCredential;\r\nimport com.mongodb.ServerAddress;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.mongo.MongoProperties;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.mongodb.MongoDatabaseFactory;\r\nimport org.springframework.data.mongodb.core.MongoTemplate;\r\nimport org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory;\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@Configuration\r\n@EnableMongoRepositories(basePackages = {&quot;com.example.eg.model&quot;,&quot;com.example.eg.repo&quot;},\r\n        mongoTemplateRef = &quot;egMongoTemplate&quot;)\r\n@EnableConfigurationProperties\r\npublic class EgMongoDBConfig {\r\n\r\n    @Value(&quot;${connect-timeout}&quot;)\r\n    private Integer connectTimeout;\r\n\r\n    @Value(&quot;${local-threshold}&quot;)\r\n    private Integer localThreshold;\r\n\r\n    @Value(&quot;${ssl-enabled}&quot;)\r\n    private Boolean sslEnabled;\r\n\r\n    @Value(&quot;${ssl-invalid-host-name-allowed}&quot;)\r\n    private Boolean sslInvalidHostNameAllowed;\r\n\r\n    @Value(&quot;${max-wait-time}&quot;)\r\n    private Integer maxWaitTime;\r\n\r\n    @Value(&quot;${max-connection-idle-time}&quot;)\r\n    private Integer maxConnectionIdleTime;\r\n\r\n    @Value(&quot;${max-connection-life-time}&quot;)\r\n    private Integer maxConnectionLifeTime;\r\n\r\n    @Value(&quot;${server-selection-timeout}&quot;)\r\n    private Integer serverSelectionTimeout;\r\n\r\n    @Value(&quot;${min-heartbeat-frequency}&quot;)\r\n    private Integer minHeartbeatFrequency;\r\n\r\n    @Value(&quot;${heartbeat-frequency}&quot;)\r\n    private Integer heartbeatFrequency;\r\n\r\n    @Bean(name = &quot;egProperties&quot;)\r\n    @ConfigurationProperties(prefix = &quot;mongo.eg&quot;)\r\n    public MongoProperties egProperties(){\r\n        return new MongoProperties();\r\n    }\r\n\r\n    @Bean(name = &quot;egMongoClient&quot;)\r\n    public MongoClient mongoClient(@Qualifier(&quot;egProperties&quot;) MongoProperties mongoProperties){\r\n        List&lt;ServerAddress&gt; serverAddresses = new ArrayList&lt;&gt;();\r\n        String[] addressList = mongoProperties.getHost().split(&quot;,&quot;);\r\n        for (String address: addressList){\r\n            String[] hostAndPort = address.split(&quot;:&quot;);\r\n            String host = hostAndPort[0];\r\n            int port = Integer.parseInt(hostAndPort[1]);\r\n            ServerAddress serverAddress = new ServerAddress(host,port);\r\n            serverAddresses.add(serverAddress);\r\n        }\r\n\r\n        MongoCredential credential = MongoCredential.createCredential(mongoProperties.getUsername(),\r\n                        mongoProperties.getAuthenticationDatabase(),\r\n                        mongoProperties.getPassword());\r\n\r\n        return MongoClients.create(MongoClientSettings.builder()\r\n                .applyToClusterSettings(builder -&gt; builder\r\n                        .hosts(serverAddresses)\r\n                        .requiredReplicaSetName(mongoProperties.getReplicaSetName())\r\n                        .localThreshold(localThreshold, TimeUnit.MILLISECONDS)\r\n                        .serverSelectionTimeout(serverSelectionTimeout,TimeUnit.MILLISECONDS))\r\n                .applyToSocketSettings(builder -&gt; builder\r\n                        .connectTimeout(connectTimeout,TimeUnit.MILLISECONDS))\r\n                .applyToSslSettings(builder -&gt; builder\r\n                        .enabled(sslEnabled)\r\n                        .invalidHostNameAllowed(sslInvalidHostNameAllowed))\r\n                .applyToConnectionPoolSettings(builder -&gt; builder\r\n                        .maxConnectionIdleTime(maxConnectionIdleTime,TimeUnit.MILLISECONDS)\r\n                        .maxConnectionLifeTime(maxConnectionLifeTime,TimeUnit.MILLISECONDS)\r\n                        .maxWaitTime(maxWaitTime,TimeUnit.MILLISECONDS))\r\n                .applyToServerSettings(builder -&gt; builder\r\n                        .minHeartbeatFrequency(minHeartbeatFrequency,TimeUnit.MILLISECONDS)\r\n                        .heartbeatFrequency(heartbeatFrequency,TimeUnit.MILLISECONDS))\r\n                .credential(credential)\r\n                .build());\r\n    }\r\n\r\n    @Bean(name = &quot;egMongoDBFactory&quot;)\r\n    public MongoDatabaseFactory mongoDatabaseFactory(\r\n            @Qualifier(&quot;egMongoClient&quot;) MongoClient mongoClient,\r\n            @Qualifier(&quot;egProperties&quot;) MongoProperties mongoProperties){\r\n        return new SimpleMongoClientDatabaseFactory(mongoClient,mongoProperties.getDatabase());\r\n    }\r\n\r\n    @Bean(name = &quot;egMongoTemplate&quot;)\r\n    public MongoTemplate mongoTemplate(@Qualifier(&quot;egMongoDBFactory&quot;) MongoDatabaseFactory mongoDatabaseFactory){\r\n        return new MongoTemplate(mongoDatabaseFactory);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAdded a sample ```application.properties``` for reference\r\n\r\n```application.properties\r\nconnect-timeout=10000\r\nlocal-threshold=15\r\nssl-enabled=false\r\nssl-invalid-host-name-allowed=false\r\nmax-wait-time=120000\r\nmax-connection-idle-time=0\r\nmax-connection-life-time=0\r\nserver-selection-timeout=30000\r\nmin-heartbeat-frequency=500\r\nheartbeat-frequency=10000\r\n\r\nmongodb.eg.replica-set=rd0\r\nmongodb.eg.host=egw1634.bs.com:57054,egw1635.bs.com:57054,egw1636.bs.com:57054\r\nmongodb.eg.port=57054\r\nmongodb.eg.database=EG_DEV\r\nmongodb.eg.username=admin\r\nmongodb.eg.password=password\r\nmongodb.eg.authentication-database=admin\r\n```\r\n\r\nYou can add multiple databases as required with the above template.","title":"Spring Boot Multiple Datasource","body":"<p>Here's an updated solution for MongoDB type No-SQL databases.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eg.config;\n\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.MongoCredential;\nimport com.mongodb.ServerAddress;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.mongo.MongoProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.mongodb.MongoDatabaseFactory;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\n@Configuration\n@EnableMongoRepositories(basePackages = {&quot;com.example.eg.model&quot;,&quot;com.example.eg.repo&quot;},\n        mongoTemplateRef = &quot;egMongoTemplate&quot;)\n@EnableConfigurationProperties\npublic class EgMongoDBConfig {\n\n    @Value(&quot;${connect-timeout}&quot;)\n    private Integer connectTimeout;\n\n    @Value(&quot;${local-threshold}&quot;)\n    private Integer localThreshold;\n\n    @Value(&quot;${ssl-enabled}&quot;)\n    private Boolean sslEnabled;\n\n    @Value(&quot;${ssl-invalid-host-name-allowed}&quot;)\n    private Boolean sslInvalidHostNameAllowed;\n\n    @Value(&quot;${max-wait-time}&quot;)\n    private Integer maxWaitTime;\n\n    @Value(&quot;${max-connection-idle-time}&quot;)\n    private Integer maxConnectionIdleTime;\n\n    @Value(&quot;${max-connection-life-time}&quot;)\n    private Integer maxConnectionLifeTime;\n\n    @Value(&quot;${server-selection-timeout}&quot;)\n    private Integer serverSelectionTimeout;\n\n    @Value(&quot;${min-heartbeat-frequency}&quot;)\n    private Integer minHeartbeatFrequency;\n\n    @Value(&quot;${heartbeat-frequency}&quot;)\n    private Integer heartbeatFrequency;\n\n    @Bean(name = &quot;egProperties&quot;)\n    @ConfigurationProperties(prefix = &quot;mongo.eg&quot;)\n    public MongoProperties egProperties(){\n        return new MongoProperties();\n    }\n\n    @Bean(name = &quot;egMongoClient&quot;)\n    public MongoClient mongoClient(@Qualifier(&quot;egProperties&quot;) MongoProperties mongoProperties){\n        List&lt;ServerAddress&gt; serverAddresses = new ArrayList&lt;&gt;();\n        String[] addressList = mongoProperties.getHost().split(&quot;,&quot;);\n        for (String address: addressList){\n            String[] hostAndPort = address.split(&quot;:&quot;);\n            String host = hostAndPort[0];\n            int port = Integer.parseInt(hostAndPort[1]);\n            ServerAddress serverAddress = new ServerAddress(host,port);\n            serverAddresses.add(serverAddress);\n        }\n\n        MongoCredential credential = MongoCredential.createCredential(mongoProperties.getUsername(),\n                        mongoProperties.getAuthenticationDatabase(),\n                        mongoProperties.getPassword());\n\n        return MongoClients.create(MongoClientSettings.builder()\n                .applyToClusterSettings(builder -&gt; builder\n                        .hosts(serverAddresses)\n                        .requiredReplicaSetName(mongoProperties.getReplicaSetName())\n                        .localThreshold(localThreshold, TimeUnit.MILLISECONDS)\n                        .serverSelectionTimeout(serverSelectionTimeout,TimeUnit.MILLISECONDS))\n                .applyToSocketSettings(builder -&gt; builder\n                        .connectTimeout(connectTimeout,TimeUnit.MILLISECONDS))\n                .applyToSslSettings(builder -&gt; builder\n                        .enabled(sslEnabled)\n                        .invalidHostNameAllowed(sslInvalidHostNameAllowed))\n                .applyToConnectionPoolSettings(builder -&gt; builder\n                        .maxConnectionIdleTime(maxConnectionIdleTime,TimeUnit.MILLISECONDS)\n                        .maxConnectionLifeTime(maxConnectionLifeTime,TimeUnit.MILLISECONDS)\n                        .maxWaitTime(maxWaitTime,TimeUnit.MILLISECONDS))\n                .applyToServerSettings(builder -&gt; builder\n                        .minHeartbeatFrequency(minHeartbeatFrequency,TimeUnit.MILLISECONDS)\n                        .heartbeatFrequency(heartbeatFrequency,TimeUnit.MILLISECONDS))\n                .credential(credential)\n                .build());\n    }\n\n    @Bean(name = &quot;egMongoDBFactory&quot;)\n    public MongoDatabaseFactory mongoDatabaseFactory(\n            @Qualifier(&quot;egMongoClient&quot;) MongoClient mongoClient,\n            @Qualifier(&quot;egProperties&quot;) MongoProperties mongoProperties){\n        return new SimpleMongoClientDatabaseFactory(mongoClient,mongoProperties.getDatabase());\n    }\n\n    @Bean(name = &quot;egMongoTemplate&quot;)\n    public MongoTemplate mongoTemplate(@Qualifier(&quot;egMongoDBFactory&quot;) MongoDatabaseFactory mongoDatabaseFactory){\n        return new MongoTemplate(mongoDatabaseFactory);\n    }\n\n}\n</code></pre>\n<p>Added a sample <code>application.properties</code> for reference</p>\n<pre><code>connect-timeout=10000\nlocal-threshold=15\nssl-enabled=false\nssl-invalid-host-name-allowed=false\nmax-wait-time=120000\nmax-connection-idle-time=0\nmax-connection-life-time=0\nserver-selection-timeout=30000\nmin-heartbeat-frequency=500\nheartbeat-frequency=10000\n\nmongodb.eg.replica-set=rd0\nmongodb.eg.host=egw1634.bs.com:57054,egw1635.bs.com:57054,egw1636.bs.com:57054\nmongodb.eg.port=57054\nmongodb.eg.database=EG_DEV\nmongodb.eg.username=admin\nmongodb.eg.password=password\nmongodb.eg.authentication-database=admin\n</code></pre>\n<p>You can add multiple databases as required with the above template.</p>\n"}],"owner":{"account_id":1008608,"reputation":1262,"user_id":1021681,"accept_rate":69,"display_name":"euclid135"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166276,"favorite_count":0,"down_vote_count":2,"up_vote_count":75,"answer_count":10,"score":73,"last_activity_date":1699261332,"creation_date":1419310601,"question_id":27614301,"body_markdown":"I&#39;m quite new to spring boot and I&#39;d like to create a multiple datasource for my project.\r\nHere is my current case. I have two packages for entity for multiple database. Let&#39;s say\r\n\r\n    com.test.entity.db.mysql ; for entities that belong to MySql\r\n    com.test.entity.db.h2 ; for entities that belong to H2 Databases\r\n\r\nSo, currently I have two entities class\r\n\r\nUserMySql.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;usermysql&quot;)\r\n    public class UserMysql{\r\n\t\r\n\t    @Id\r\n    \t@GeneratedValue\r\n\t    public int id;\r\n\t\r\n    \tpublic String name;\r\n\t\r\n    }\r\n\r\nUserH2.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;userh2&quot;)\r\n    public class Userh2 {\r\n\r\n    \t@Id\r\n\t    @GeneratedValue\r\n    \tpublic int id;\r\n\t\r\n\t    public String name;\r\n    }\r\n\r\nI&#39;d like to achieve a configuration where if I create user from UserMySql, it will be saved to MySql Database, and if I create user from Userh2 it will be saved to H2 Databases. So, I also have two DBConfig, let&#39;s say MySqlDbConfig and H2DbConfig. \r\n\r\n(com.test.model is package where I&#39;ll put my Repositories class. It will be defined below)\r\n\r\nMySqlDbConfig.java\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n\t\tbasePackages=&quot;com.test.model&quot;,\r\n\t\tentityManagerFactoryRef = &quot;mysqlEntityManager&quot;)\r\n    public class MySqlDBConfig {\r\n\t\r\n\t@Bean\r\n\t@Primary\r\n\t@ConfigurationProperties(prefix=&quot;datasource.test.mysql&quot;)\r\n\tpublic DataSource mysqlDataSource(){\r\n\t\treturn DataSourceBuilder\r\n\t\t\t\t.create()\r\n\t\t\t\t.build();\r\n\t}\r\n\t\r\n\t@Bean(name=&quot;mysqlEntityManager&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean mySqlEntityManagerFactory(\r\n\t\t\tEntityManagerFactoryBuilder builder){\t\t\r\n\t\treturn builder.dataSource(mysqlDataSource())\t\t\t\t\r\n\t\t\t\t.packages(&quot;com.test.entity.db.mysql&quot;)\r\n\t\t\t\t.build();\r\n\t}\t\r\n\r\n    }\r\n\r\nH2DbConfig.java\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n\t\tentityManagerFactoryRef = &quot;h2EntityManager&quot;)\r\n    public class H2DbConfig {\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(prefix=&quot;datasource.test.h2&quot;)\r\n\tpublic DataSource h2DataSource(){\r\n\t\treturn DataSourceBuilder\r\n\t\t\t\t.create()\r\n\t\t\t\t.driverClassName(&quot;org.h2.Driver&quot;)\r\n\t\t\t\t.build();\r\n\t}\r\n\t\r\n\t@Bean(name=&quot;h2EntityManager&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean h2EntityManagerFactory(\r\n\t\t\tEntityManagerFactoryBuilder builder){\r\n\t\treturn builder.dataSource(h2DataSource())\r\n\t\t\t\t.packages(&quot;com.test.entity.db.h2&quot;)\r\n\t\t\t\t.build();\r\n\t}\r\n    }\r\n\r\nMy application.properties file\r\n\r\n    #DataSource settings for mysql\r\n    datasource.test.mysql.jdbcUrl = jdbc:mysql://127.0.0.1:3306/test\r\n    datasource.test.mysql.username = root\r\n    datasource.test.mysql.password = root\r\n    datasource.test.mysql.driverClassName = com.mysql.jdbc.Driver\r\n\r\n    #DataSource settings for H2\r\n    datasource.test.h2.jdbcUrl = jdbc:h2:~/test\r\n    datasource.test.h2.username = sa\r\n\r\n    # DataSource settings: set here configurations for the database connection\r\n    spring.datasource.url = jdbc:mysql://127.0.0.1:3306/test\r\n    spring.datasource.username = root\r\n    spring.datasource.password = root\r\n    spring.datasource.driverClassName = com.mysql.jdbc.Driver\r\n    spring.datasource.validation-query=SELECT 1\r\n\r\n\r\n    # Specify the DBMS\r\n    spring.jpa.database = MYSQL\r\n\r\n    # Show or not log for each sql query\r\n    spring.jpa.show-sql = true\r\n\r\n    # Hibernate settings are prefixed with spring.jpa.hibernate.*\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n    spring.jpa.hibernate.show_sql = true\r\n    spring.jpa.hibernate.format_sql = true\r\n\r\n    server.port=8080\r\n    endpoints.shutdown.enabled=false\r\n\r\n\r\nAnd then for crud I have UserMySqlDao and UserH2Dao\r\n\r\nUserMySqlDao.java\r\n\r\n    @Transactional \r\n    @Repository\r\n    public interface UserMysqlDao extends CrudRepository&lt;UserMysql, Integer&gt;{\r\n\r\n\t    public UserMysql findByName(String name);\r\n    }\r\n\r\nUserH2Dao.java\r\n\r\n    @Transactional\r\n    @Repositories\r\n    public interface UserH2Dao extends CrudRepository&lt;Userh2, Integer&gt;{\r\n\r\n\t    public Userh2 findByName(String name);\r\n    }\r\n\r\nAnd for last, I have an UserController as endpoint to access my service\r\n\r\nUserController.java\r\n\r\n    @Controller \r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserController {\r\n\r\n\r\n\t@Autowired\r\n\tprivate UserMysqlDao userMysqlDao;\r\n\t\r\n\t@Autowired\r\n\tprivate UserH2Dao userH2Dao;\r\n\t\r\n\t@RequestMapping(&quot;/createM&quot;)\r\n\t@ResponseBody\r\n\tpublic String createUserMySql(String name){\r\n\t\tUserMysql user = new UserMysql();\r\n\t\ttry{\t\t\t\r\n\t\t\tuser.name = name;\r\n\t\t\tuserMysqlDao.save(user);\r\n\t\t\treturn &quot;Success creating user with Id: &quot;+user.id;\r\n\t\t}catch(Exception ex){\r\n\t\t\treturn &quot;Error creating the user: &quot; + ex.toString();\r\n\t\t}\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/createH&quot;)\r\n\t@ResponseBody\r\n\tpublic String createUserH2(String name){\r\n\t\tUserh2 user = new Userh2();\r\n\t\ttry{\r\n\t\t\tuser.name = name;\r\n\t\t\tuserH2Dao.save(user);\r\n\t\t\treturn &quot;Success creating user with Id: &quot;+user.id;\r\n\t\t}catch(Exception ex){\r\n\t\t\treturn &quot;Error creating the user: &quot; + ex.toString();\r\n\t\t}\r\n\t}\t\r\n    }\r\n\r\n\r\nApplication.java\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\r\n    @EntityScan(basePackages=&quot;com.test.entity.db&quot;)\r\n    @ComponentScan\r\n    public class Application {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Entering spring boot&quot;);\r\n        ApplicationContext ctx = SpringApplication.run(Application.class, args);\r\n       \r\n        System.out.println(&quot;Let&#39;s inspect the beans provided by Spring Boot:&quot;);\r\n        String[] beanNames = ctx.getBeanDefinitionNames();\r\n        Arrays.sort(beanNames);\r\n        for (String beanName : beanNames) {\r\n            System.out.print(beanName);\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\n    }\r\n\r\n\r\nWith this configuration my Spring boot run well, but when I access \r\n\r\n    http://localhost/user/createM?name=myname it writes an exception\r\n\r\n    Error creating the user: org.springframework.dao.InvalidDataAccessResourceUsageException:   could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\r\n\r\nI&#39;ve googling around and haven&#39;t got a solution yet. Any ideas why this exception occurs? And is this the best way to implement multiple datasource to implement my case above? I&#39;m open to full refactor if needed.\r\n\r\nThanks","title":"Spring Boot Multiple Datasource","body":"<p>I'm quite new to spring boot and I'd like to create a multiple datasource for my project.\nHere is my current case. I have two packages for entity for multiple database. Let's say</p>\n\n<pre><code>com.test.entity.db.mysql ; for entities that belong to MySql\ncom.test.entity.db.h2 ; for entities that belong to H2 Databases\n</code></pre>\n\n<p>So, currently I have two entities class</p>\n\n<p>UserMySql.java</p>\n\n<pre><code>@Entity\n@Table(name=\"usermysql\")\npublic class UserMysql{\n\n    @Id\n    @GeneratedValue\n    public int id;\n\n    public String name;\n\n}\n</code></pre>\n\n<p>UserH2.java</p>\n\n<pre><code>@Entity\n@Table(name=\"userh2\")\npublic class Userh2 {\n\n    @Id\n    @GeneratedValue\n    public int id;\n\n    public String name;\n}\n</code></pre>\n\n<p>I'd like to achieve a configuration where if I create user from UserMySql, it will be saved to MySql Database, and if I create user from Userh2 it will be saved to H2 Databases. So, I also have two DBConfig, let's say MySqlDbConfig and H2DbConfig. </p>\n\n<p>(com.test.model is package where I'll put my Repositories class. It will be defined below)</p>\n\n<p>MySqlDbConfig.java</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n    basePackages=\"com.test.model\",\n    entityManagerFactoryRef = \"mysqlEntityManager\")\npublic class MySqlDBConfig {\n\n@Bean\n@Primary\n@ConfigurationProperties(prefix=\"datasource.test.mysql\")\npublic DataSource mysqlDataSource(){\n    return DataSourceBuilder\n            .create()\n            .build();\n}\n\n@Bean(name=\"mysqlEntityManager\")\npublic LocalContainerEntityManagerFactoryBean mySqlEntityManagerFactory(\n        EntityManagerFactoryBuilder builder){       \n    return builder.dataSource(mysqlDataSource())                \n            .packages(\"com.test.entity.db.mysql\")\n            .build();\n}   \n\n}\n</code></pre>\n\n<p>H2DbConfig.java</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n    entityManagerFactoryRef = \"h2EntityManager\")\npublic class H2DbConfig {\n\n@Bean\n@ConfigurationProperties(prefix=\"datasource.test.h2\")\npublic DataSource h2DataSource(){\n    return DataSourceBuilder\n            .create()\n            .driverClassName(\"org.h2.Driver\")\n            .build();\n}\n\n@Bean(name=\"h2EntityManager\")\npublic LocalContainerEntityManagerFactoryBean h2EntityManagerFactory(\n        EntityManagerFactoryBuilder builder){\n    return builder.dataSource(h2DataSource())\n            .packages(\"com.test.entity.db.h2\")\n            .build();\n}\n}\n</code></pre>\n\n<p>My application.properties file</p>\n\n<pre><code>#DataSource settings for mysql\ndatasource.test.mysql.jdbcUrl = jdbc:mysql://127.0.0.1:3306/test\ndatasource.test.mysql.username = root\ndatasource.test.mysql.password = root\ndatasource.test.mysql.driverClassName = com.mysql.jdbc.Driver\n\n#DataSource settings for H2\ndatasource.test.h2.jdbcUrl = jdbc:h2:~/test\ndatasource.test.h2.username = sa\n\n# DataSource settings: set here configurations for the database connection\nspring.datasource.url = jdbc:mysql://127.0.0.1:3306/test\nspring.datasource.username = root\nspring.datasource.password = root\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\nspring.datasource.validation-query=SELECT 1\n\n\n# Specify the DBMS\nspring.jpa.database = MYSQL\n\n# Show or not log for each sql query\nspring.jpa.show-sql = true\n\n# Hibernate settings are prefixed with spring.jpa.hibernate.*\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\nspring.jpa.hibernate.show_sql = true\nspring.jpa.hibernate.format_sql = true\n\nserver.port=8080\nendpoints.shutdown.enabled=false\n</code></pre>\n\n<p>And then for crud I have UserMySqlDao and UserH2Dao</p>\n\n<p>UserMySqlDao.java</p>\n\n<pre><code>@Transactional \n@Repository\npublic interface UserMysqlDao extends CrudRepository&lt;UserMysql, Integer&gt;{\n\n    public UserMysql findByName(String name);\n}\n</code></pre>\n\n<p>UserH2Dao.java</p>\n\n<pre><code>@Transactional\n@Repositories\npublic interface UserH2Dao extends CrudRepository&lt;Userh2, Integer&gt;{\n\n    public Userh2 findByName(String name);\n}\n</code></pre>\n\n<p>And for last, I have an UserController as endpoint to access my service</p>\n\n<p>UserController.java</p>\n\n<pre><code>@Controller \n@RequestMapping(\"/user\")\npublic class UserController {\n\n\n@Autowired\nprivate UserMysqlDao userMysqlDao;\n\n@Autowired\nprivate UserH2Dao userH2Dao;\n\n@RequestMapping(\"/createM\")\n@ResponseBody\npublic String createUserMySql(String name){\n    UserMysql user = new UserMysql();\n    try{            \n        user.name = name;\n        userMysqlDao.save(user);\n        return \"Success creating user with Id: \"+user.id;\n    }catch(Exception ex){\n        return \"Error creating the user: \" + ex.toString();\n    }\n}\n\n@RequestMapping(\"/createH\")\n@ResponseBody\npublic String createUserH2(String name){\n    Userh2 user = new Userh2();\n    try{\n        user.name = name;\n        userH2Dao.save(user);\n        return \"Success creating user with Id: \"+user.id;\n    }catch(Exception ex){\n        return \"Error creating the user: \" + ex.toString();\n    }\n}   \n}\n</code></pre>\n\n<p>Application.java</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\n@EntityScan(basePackages=\"com.test.entity.db\")\n@ComponentScan\npublic class Application {\n\npublic static void main(String[] args) {\n    System.out.println(\"Entering spring boot\");\n    ApplicationContext ctx = SpringApplication.run(Application.class, args);\n\n    System.out.println(\"Let's inspect the beans provided by Spring Boot:\");\n    String[] beanNames = ctx.getBeanDefinitionNames();\n    Arrays.sort(beanNames);\n    for (String beanName : beanNames) {\n        System.out.print(beanName);\n        System.out.print(\" \");\n    }\n\n    System.out.println(\"\");\n}\n\n}\n</code></pre>\n\n<p>With this configuration my Spring boot run well, but when I access </p>\n\n<pre><code>http://localhost/user/createM?name=myname it writes an exception\n\nError creating the user: org.springframework.dao.InvalidDataAccessResourceUsageException:   could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\n</code></pre>\n\n<p>I've googling around and haven't got a solution yet. Any ideas why this exception occurs? And is this the best way to implement multiple datasource to implement my case above? I'm open to full refactor if needed.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","selenium","testng"],"answers":[{"comments":[{"owner":{"account_id":4518693,"reputation":41,"user_id":3672693,"display_name":"user3672693"},"score":0,"creation_date":1427991867,"post_id":29391904,"comment_id":47007666,"body_markdown":"I am pretty sure I tried doing this once but I got the same issue with 2 browsers using the same username. Check the xml and question in the next answer. Thanks","body":"I am pretty sure I tried doing this once but I got the same issue with 2 browsers using the same username. Check the xml and question in the next answer. Thanks"}],"tags":[],"owner":{"account_id":4841238,"reputation":3588,"user_id":3906213,"accept_rate":60,"display_name":"peetya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427894289,"creation_date":1427894289,"answer_id":29391904,"question_id":29264755,"body_markdown":"Your example code is JUnit but you mentioned that you are using TestNG. In that case you can use @Parameters to pass different parameters to your tests. Doc: http://testng.org/doc/documentation-main.html#parameters\r\n\r\nExample:\r\n\r\ntestng.xml\r\n\r\n    &lt;suite&gt;\r\n        &lt;test name=&quot;firstTest&quot;&gt;\r\n            &lt;parameter name=&quot;username&quot; value=&quot;username1&quot;/&gt;\r\n            &lt;parameter name=&quot;password&quot; value=&quot;password1&quot;/&gt;\r\n            ....\r\n        &lt;/test&gt;\r\n            &lt;test name=&quot;secondTest&quot;&gt;\r\n            &lt;parameter name=&quot;username&quot; value=&quot;username2&quot;/&gt;\r\n            &lt;parameter name=&quot;password&quot; value=&quot;password2&quot;/&gt;\r\n            ....\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nYour class:\r\n\r\n      @Parameters({&quot;username&quot;, &quot;password&quot;})\r\n      @BeforeTest\r\n      public void beforeTest(String username, String password) {\r\n        this.getDriver().get(&quot;http://mypage.com&quot;);\r\n        this.getDriver().findElement(By.id(&quot;usernameInputField&quot;)).sendKeys(username);\r\n        this.getDriver().findElement(By.id(&quot;passwordInputField&quot;)).sendKeys(password);\r\n        ...\r\n      }","title":"Selenium - Multi browser and multi user log in","body":"<p>Your example code is JUnit but you mentioned that you are using TestNG. In that case you can use @Parameters to pass different parameters to your tests. Doc: <a href=\"http://testng.org/doc/documentation-main.html#parameters\" rel=\"nofollow\">http://testng.org/doc/documentation-main.html#parameters</a></p>\n\n<p>Example:</p>\n\n<p>testng.xml</p>\n\n<pre><code>&lt;suite&gt;\n    &lt;test name=\"firstTest\"&gt;\n        &lt;parameter name=\"username\" value=\"username1\"/&gt;\n        &lt;parameter name=\"password\" value=\"password1\"/&gt;\n        ....\n    &lt;/test&gt;\n        &lt;test name=\"secondTest\"&gt;\n        &lt;parameter name=\"username\" value=\"username2\"/&gt;\n        &lt;parameter name=\"password\" value=\"password2\"/&gt;\n        ....\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n\n<p>Your class:</p>\n\n<pre><code>  @Parameters({\"username\", \"password\"})\n  @BeforeTest\n  public void beforeTest(String username, String password) {\n    this.getDriver().get(\"http://mypage.com\");\n    this.getDriver().findElement(By.id(\"usernameInputField\")).sendKeys(username);\n    this.getDriver().findElement(By.id(\"passwordInputField\")).sendKeys(password);\n    ...\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7723857,"reputation":470,"user_id":5849170,"accept_rate":57,"display_name":"Neagu V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536589685,"creation_date":1536589685,"answer_id":52260041,"question_id":29264755,"body_markdown":"Create your own annotation e.g.\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface TestCaseAuthentication {\r\n    \tString userID();\r\n    \r\n    \tString password();\r\n    }\r\n\r\nCall it on each test entering user/password:\r\n\r\n\t\t@TestCaseAuthentication(password = &quot;testtest&quot;, userID = &quot;test&quot;)\r\n\r\nGet the values from tests\r\n\r\n    if (method.isAnnotationPresent(TestCaseAuthentication.class)) {\r\n    \t\t\tTestCaseAuthentication userPassword = method.getAnnotation(TestCaseAuthentication.class);\r\n    \t\t\tif (userPassword != null) {\r\n    \t\t\t\t\tvalueUserID = userPassword.userID();\r\n    \t\t\t\t\tvaluePassword = userPassword.password();\r\n    \t\t\t\t} else {\r\n    \t\t\t\tfail(&quot;Invalid UserID or Password&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n\r\nUse the values in your login method.\r\n\r\nLet me know if you need more details!\r\n","title":"Selenium - Multi browser and multi user log in","body":"<p>Create your own annotation e.g.</p>\n\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface TestCaseAuthentication {\n    String userID();\n\n    String password();\n}\n</code></pre>\n\n<p>Call it on each test entering user/password:</p>\n\n<pre><code>    @TestCaseAuthentication(password = \"testtest\", userID = \"test\")\n</code></pre>\n\n<p>Get the values from tests</p>\n\n<pre><code>if (method.isAnnotationPresent(TestCaseAuthentication.class)) {\n            TestCaseAuthentication userPassword = method.getAnnotation(TestCaseAuthentication.class);\n            if (userPassword != null) {\n                    valueUserID = userPassword.userID();\n                    valuePassword = userPassword.password();\n                } else {\n                fail(\"Invalid UserID or Password\");\n            }\n        }\n</code></pre>\n\n<p>Use the values in your login method.</p>\n\n<p>Let me know if you need more details!</p>\n"}],"owner":{"account_id":4518693,"reputation":41,"user_id":3672693,"display_name":"user3672693"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699261295,"creation_date":1427311521,"question_id":29264755,"body_markdown":"We are trying to start implementing automation for regression testing on our transaction based website. I successfully setup testng xml to open firefox, IE, and Chrome. And it will run the transaction class. In the setUP method with parameters it checks for browser and opens the correct browser for that thread. Then it is directed to the main() method test which starts up the Login class before coming back to the transaction class to actually do the transaction test. The reason for this is to have an organized structure that only has one test in each class for debugging purposes. \r\n\r\nWhen I run this test using a single user credential it runs fine and completes both tests. The problem is that our system allows a user to enter a transaction once every 10 seconds (just one of our security features to avoid refreshing or multiple transaction submissions). Any way, what is the best way to go about using multiple user credentials? I have tried multiple logic that I came up with but every time Firefox will use Username1 and both IE and Chrome will use either Username 2 or 3. \r\n\r\nIn other words\r\n\r\n - Firefox = Username1\r\n - Chrome = Username2\r\n - IE = Username2\r\n\r\nor \r\n\r\n - Firefox = Username1\r\n - Chrome = Username3\r\n - IE = Username3\r\n\r\n\r\nI came up with a couple successful solutions but I had to duplicate classes or code.\r\n\r\nSo one solution was to create separate Login classes for each browser as well as separate Transaction classes for each browser. And in the testng I ran the proper classes for each browser. I think this is a bad solution although it works.\r\n\r\nAnother solution I came up with was taking the login test method and putting it into each if() statement in the parameters method of the Transaction class when it checks for each browser. Then each if statement would have its proper username. \r\n\r\nBut I don&#39;t like this solution either because I would have to add this same code to all the future test classes that I will create if I am running a single test to check new code for a function being developed. Its just repeated code that I think should be in its own class. \r\n\r\nHere is the Login and Transaction classes before converting to testng. Also, I have made an Environment class that contains the static variables like username and url.\r\n\r\nP.S. I removed a bunch of test code not needed for this question.\r\n\r\nEx:\r\n\r\n    static {\r\n    \t\t\tURL = &quot;https://website.com&quot;;\r\n    \t\t\tDEFAULT_WAIT_TIME = 60;\r\n    \t\t\tSYSTEM_ID = &quot;IDnumber&quot;;\r\n    \t\t\tUSERNAME = &quot;Username1&quot;;\r\n    \t\t\tPASSWORD = &quot;Password1&quot;;\r\n    \t}\r\n\r\n_________________________________\r\n\r\n\r\n    import static org.junit.Assert.fail;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class Login {\r\n    \tprivate WebDriver driver;\r\n    \tprivate String baseURL;\r\n    \tprivate StringBuffer verificationErrors = new StringBuffer();\r\n    \t\t\r\n    \t\t@Before\r\n    \t\tpublic void setUp() throws Exception {\r\n    \t\t\t//driver = new FirefoxDriver();\r\n    \t\t\t//baseURL = Environment.URL;\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(Environment.DEFAULT_WAIT_TIME, TimeUnit.SECONDS);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic static void doLogin(WebDriver driver, String baseURL) {\r\n    \t\t\tWebDriverWait wait = new WebDriverWait(driver, Environment.DEFAULT_WAIT_TIME);\r\n    \t\t\tSystem.out.println(&quot;Log in to trunk...&quot;);\r\n    \t\t\tdriver.get(baseURL);\r\n    \r\n    \t\t\twait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;company_id&quot;)));\r\n    \t\t\tif (driver.findElement(By.xpath(&quot;//div[span=&#39;Log In&#39;]/span&quot;)).isEnabled()) {\r\n    \t\t\t\tSystem.out.println(&quot;\t1 - &#39;Login&#39; page is opened&quot;);\r\n    \t\t\t}\telse {\r\n    \t\t\t\t\tSystem.out.println(&quot;\t!ERROR! - Can NOT open &#39;Login&#39; page&quot;);\r\n    \t\t\t\t\tdriver.findElement(By.id(&quot;This is to throw exception if Can NOT open &#39;Login&#39; page&quot;));\r\n    \t\t\t\t}\r\n    \t\t\tdriver.findElement(By.id(&quot;company_id&quot;)).clear();\r\n    \t\t\tdriver.findElement(By.id(&quot;company_id&quot;)).sendKeys(Environment.SYSTEM_ID);\r\n    \t\t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;username&#39;]&quot;)).clear();\r\n    \t\t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;username&#39;]&quot;)).sendKeys(Environment.USERNAME);\r\n    \t\t\tdriver.findElement(By.id(&quot;c_password&quot;)).clear();\r\n    \t\t\tdriver.findElement(By.id(&quot;c_password&quot;)).sendKeys(Environment.PASSWORD);\r\n    \t\t\tSystem.out.println(&quot;\t2 - Info filled&quot;);\r\n\r\n                //I removed the rest of the code that finishes the login because          \r\n                //I don&#39;t think it is needed for demonstration\r\n\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Test\r\n    \t\tpublic void main() {\r\n    \t\t\tdoLogin(driver, baseURL);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@After\r\n    \t\tpublic void tearDown() throws Exception {\r\n    \t\t\t\tdriver.quit();\r\n    \t\t\t\t\tString verificationErrorString = verificationErrors.toString();\r\n    \t\t\t\t\t\tif (!&quot;&quot;.equals(verificationErrorString)) {\r\n    \t\t\t\t\t\tfail(verificationErrorString);\r\n    \t\t\t\t\t\t}\r\n    \t\t}\r\n    }\r\n\r\n__________________\r\n\r\n    import static org.junit.Assert.fail;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.ie.InternetExplorerDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class Transaction {\r\n    \tprivate WebDriver driver;\r\n    \tprivate String baseURL;\r\n    \tprivate StringBuffer verificationErrors = new StringBuffer();\r\n    \t\r\n    \tpublic static String country = &quot;22&quot;;\r\n    \tpublic static String ammount = &quot;500&quot;;\r\n    \t\t\r\n    \t\t@Before\r\n    \t\tpublic void setUp() throws Exception {\r\n    //\t\t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, &quot;../IEDriverServer.exe&quot;);\r\n    //\t\t\tdriver = new InternetExplorerDriver();\r\n    \t\t\tdriver = new FirefoxDriver();\r\n    \t\t\tbaseURL = Environment.URL;\r\n    \t\t\t\t\t\t\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(Environment.DEFAULT_WAIT_TIME, TimeUnit.SECONDS);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic static void doTransaction(WebDriver driver) {\r\n    \t\t\tWebDriverWait wait = new WebDriverWait(driver, Environment.DEFAULT_WAIT_TIME);\r\n    \t\t\tSystem.out.println(&quot;Performing transaction...&quot;);\r\n    \t\t\t\r\n\r\n    \t\t// This is where the transaction code is ......\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t\t@Test\r\n    \t\tpublic void transaction() {\r\n    \t\t//Login first\t\r\n    \t\t\tLogin.doLogin(driver, baseURL);\r\n    \t\t\t\t\t\t\r\n    \t\t// Transaction\t\r\n    \t\t\tdoTransaction(driver);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@After\r\n    \t\tpublic void tearDown() throws Exception {\r\n    \t\t\t\tdriver.quit();\r\n    \t\t\t\t\tString verificationErrorString = verificationErrors.toString();\r\n    \t\t\t\t\t\tif (!&quot;&quot;.equals(verificationErrorString)) {\r\n    \t\t\t\t\t\tfail(verificationErrorString);\r\n    \t\t\t\t\t\t}\r\n    \t\t}\r\n    }","title":"Selenium - Multi browser and multi user log in","body":"<p>We are trying to start implementing automation for regression testing on our transaction based website. I successfully setup testng xml to open firefox, IE, and Chrome. And it will run the transaction class. In the setUP method with parameters it checks for browser and opens the correct browser for that thread. Then it is directed to the main() method test which starts up the Login class before coming back to the transaction class to actually do the transaction test. The reason for this is to have an organized structure that only has one test in each class for debugging purposes. </p>\n\n<p>When I run this test using a single user credential it runs fine and completes both tests. The problem is that our system allows a user to enter a transaction once every 10 seconds (just one of our security features to avoid refreshing or multiple transaction submissions). Any way, what is the best way to go about using multiple user credentials? I have tried multiple logic that I came up with but every time Firefox will use Username1 and both IE and Chrome will use either Username 2 or 3. </p>\n\n<p>In other words</p>\n\n<ul>\n<li>Firefox = Username1</li>\n<li>Chrome = Username2</li>\n<li>IE = Username2</li>\n</ul>\n\n<p>or </p>\n\n<ul>\n<li>Firefox = Username1</li>\n<li>Chrome = Username3</li>\n<li>IE = Username3</li>\n</ul>\n\n<p>I came up with a couple successful solutions but I had to duplicate classes or code.</p>\n\n<p>So one solution was to create separate Login classes for each browser as well as separate Transaction classes for each browser. And in the testng I ran the proper classes for each browser. I think this is a bad solution although it works.</p>\n\n<p>Another solution I came up with was taking the login test method and putting it into each if() statement in the parameters method of the Transaction class when it checks for each browser. Then each if statement would have its proper username. </p>\n\n<p>But I don't like this solution either because I would have to add this same code to all the future test classes that I will create if I am running a single test to check new code for a function being developed. Its just repeated code that I think should be in its own class. </p>\n\n<p>Here is the Login and Transaction classes before converting to testng. Also, I have made an Environment class that contains the static variables like username and url.</p>\n\n<p>P.S. I removed a bunch of test code not needed for this question.</p>\n\n<p>Ex:</p>\n\n<pre><code>static {\n            URL = \"https://website.com\";\n            DEFAULT_WAIT_TIME = 60;\n            SYSTEM_ID = \"IDnumber\";\n            USERNAME = \"Username1\";\n            PASSWORD = \"Password1\";\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>import static org.junit.Assert.fail;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Login {\n    private WebDriver driver;\n    private String baseURL;\n    private StringBuffer verificationErrors = new StringBuffer();\n\n        @Before\n        public void setUp() throws Exception {\n            //driver = new FirefoxDriver();\n            //baseURL = Environment.URL;\n            driver.manage().timeouts().implicitlyWait(Environment.DEFAULT_WAIT_TIME, TimeUnit.SECONDS);\n        }\n\n        public static void doLogin(WebDriver driver, String baseURL) {\n            WebDriverWait wait = new WebDriverWait(driver, Environment.DEFAULT_WAIT_TIME);\n            System.out.println(\"Log in to trunk...\");\n            driver.get(baseURL);\n\n            wait.until(ExpectedConditions.presenceOfElementLocated(By.id(\"company_id\")));\n            if (driver.findElement(By.xpath(\"//div[span='Log In']/span\")).isEnabled()) {\n                System.out.println(\"    1 - 'Login' page is opened\");\n            }   else {\n                    System.out.println(\"    !ERROR! - Can NOT open 'Login' page\");\n                    driver.findElement(By.id(\"This is to throw exception if Can NOT open 'Login' page\"));\n                }\n            driver.findElement(By.id(\"company_id\")).clear();\n            driver.findElement(By.id(\"company_id\")).sendKeys(Environment.SYSTEM_ID);\n            driver.findElement(By.xpath(\"//input[@name='username']\")).clear();\n            driver.findElement(By.xpath(\"//input[@name='username']\")).sendKeys(Environment.USERNAME);\n            driver.findElement(By.id(\"c_password\")).clear();\n            driver.findElement(By.id(\"c_password\")).sendKeys(Environment.PASSWORD);\n            System.out.println(\"    2 - Info filled\");\n\n            //I removed the rest of the code that finishes the login because          \n            //I don't think it is needed for demonstration\n\n        }\n\n        @Test\n        public void main() {\n            doLogin(driver, baseURL);\n        }\n\n        @After\n        public void tearDown() throws Exception {\n                driver.quit();\n                    String verificationErrorString = verificationErrors.toString();\n                        if (!\"\".equals(verificationErrorString)) {\n                        fail(verificationErrorString);\n                        }\n        }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import static org.junit.Assert.fail;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.ie.InternetExplorerDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.Select;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Transaction {\n    private WebDriver driver;\n    private String baseURL;\n    private StringBuffer verificationErrors = new StringBuffer();\n\n    public static String country = \"22\";\n    public static String ammount = \"500\";\n\n        @Before\n        public void setUp() throws Exception {\n//          System.setProperty(\"webdriver.ie.driver\", \"../IEDriverServer.exe\");\n//          driver = new InternetExplorerDriver();\n            driver = new FirefoxDriver();\n            baseURL = Environment.URL;\n\n            driver.manage().timeouts().implicitlyWait(Environment.DEFAULT_WAIT_TIME, TimeUnit.SECONDS);\n        }\n\n        public static void doTransaction(WebDriver driver) {\n            WebDriverWait wait = new WebDriverWait(driver, Environment.DEFAULT_WAIT_TIME);\n            System.out.println(\"Performing transaction...\");\n\n\n        // This is where the transaction code is ......\n\n        }\n\n        @Test\n        public void transaction() {\n        //Login first   \n            Login.doLogin(driver, baseURL);\n\n        // Transaction  \n            doTransaction(driver);\n        }\n\n        @After\n        public void tearDown() throws Exception {\n                driver.quit();\n                    String verificationErrorString = verificationErrors.toString();\n                        if (!\"\".equals(verificationErrorString)) {\n                        fail(verificationErrorString);\n                        }\n        }\n}\n</code></pre>\n"},{"tags":["java","spring","annotations"],"comments":[{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1699254098,"post_id":77411319,"comment_id":136503520,"body_markdown":"@M.Deinum Please, don&#39;t extrapolate your way of thinking and acting on other people. If you&#39;re assuming that other people &quot;think [they] are the only one who are right&quot; and &quot;want to offend people&quot; just because they disagree with you or point out the flaws in your statements, you&#39;re failing the litmus test of assumption of goodwill on your side. Also, you&#39;re going ad personam here. That aside - I&#39;m not &quot;throwing `@Primary` in the mix&quot;, it was always there. Check the source code if you don&#39;t believe me and go back to this discussion then, otherwise please just stop spreading misinformation.","body":"@M.Deinum Please, don&#39;t extrapolate your way of thinking and acting on other people. If you&#39;re assuming that other people &quot;think [they] are the only one who are right&quot; and &quot;want to offend people&quot; just because they disagree with you or point out the flaws in your statements, you&#39;re failing the litmus test of assumption of goodwill on your side. Also, you&#39;re going ad personam here. That aside - I&#39;m not &quot;throwing <code>@Primary</code> in the mix&quot;, it was always there. Check the source code if you don&#39;t believe me and go back to this discussion then, otherwise please just stop spreading misinformation."}],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699261143,"creation_date":1698942422,"question_id":77411319,"body_markdown":"Current documentation states:\r\n\r\n(AnnotationAwareOrderComparator)\r\n\r\n&gt;This implementation retrieves an `@javax.annotation.Priority` value, allowing for additional semantics over the regular `@Order` annotation: typically, selecting one object over another in case of multiple matches but only one object to be returned.\r\n\r\n&gt;`java.util.Comparator` implementation that checks Spring&#39;s `org.springframework.core.Ordered` interface as well as the `@Order` annotation and the `javax.annotation.Priority` annotation\r\n\r\n(Ordered)\r\n\r\n&gt;Since Spring 4.1, the standard `javax.annotation.Priority` annotation can be used as a drop-in replacement for this annotation.\r\n\r\n - related commits are https://github.com/spring-projects/spring-framework/commit/1ff3af6da37896e229e54fc8592673918f9203f4#diff-0ae6f1c11a501e20ca54f02b5287234555640da5f5b23863bd7b92756a3b4f4fR35 &amp; https://github.com/spring-projects/spring-framework/commit/c6d29f1a314c600c6b2d1cdfc3a21ba66523b037#diff-7647ef528e5ffcfdb8ce8b88d189a906a1e7b46778323bc92cb9783a4991d5abR1225 by @jhoeller &amp; @sbrannen\r\n\r\nImplementation seems to agree with that, using those terms in tandem, e.g.:\r\n\r\n\tprotected Integer getPriority(Object beanInstance) {\r\n\t\tComparator&lt;Object&gt; comparator = getDependencyComparator();\r\n\t\tif (comparator instanceof OrderComparator orderComparator) {\r\n\t\t\treturn orderComparator.getPriority(beanInstance);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\netc.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html#value() clearly uses the term &quot;drop-in replacement&quot;, i.e.\r\n\r\n&gt;The value is optional and represents an order value as defined in the `Ordered` interface. Lower values have higher priority. The default value is `Ordered.LOWEST_PRECEDENCE`, indicating lowest priority (losing to any other specified order value). (...) Since Spring 4.1, the standard `Priority` annotation can be used as a drop-in replacement for this annotation in ordering scenarios.\r\n\r\nA &quot;drop-in replacement&quot; by [definition](https://en.wikipedia.org/wiki/Drop-in_replacement) is when a &quot;component [can be replaced] with another one without any other code or configuration changes being required and resulting in no negative impacts.&quot;, which implies that the value are also intended to be both functionally and semantically compatible between the two, at least as per this doc.\r\n\r\nHowever, **snicoll** clearly states in https://github.com/spring-projects/spring-framework/issues/31544 that they are &quot;separate concepts&quot; because &quot;That&#39;s just an internal detail of how this is implemented&quot;, and that &quot;[value of] LOWEST_PRECEDENCE is a concept of `@Order` and has nothing to do with JakartaEE&#39;s priority.&quot;\r\n\r\nWhat is the case here then?","title":"are @Order/Ordered and @Priority separate concepts?","body":"<p>Current documentation states:</p>\n<p>(AnnotationAwareOrderComparator)</p>\n<blockquote>\n<p>This implementation retrieves an <code>@javax.annotation.Priority</code> value, allowing for additional semantics over the regular <code>@Order</code> annotation: typically, selecting one object over another in case of multiple matches but only one object to be returned.</p>\n</blockquote>\n<blockquote>\n<p><code>java.util.Comparator</code> implementation that checks Spring's <code>org.springframework.core.Ordered</code> interface as well as the <code>@Order</code> annotation and the <code>javax.annotation.Priority</code> annotation</p>\n</blockquote>\n<p>(Ordered)</p>\n<blockquote>\n<p>Since Spring 4.1, the standard <code>javax.annotation.Priority</code> annotation can be used as a drop-in replacement for this annotation.</p>\n</blockquote>\n<ul>\n<li>related commits are <a href=\"https://github.com/spring-projects/spring-framework/commit/1ff3af6da37896e229e54fc8592673918f9203f4#diff-0ae6f1c11a501e20ca54f02b5287234555640da5f5b23863bd7b92756a3b4f4fR35\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/commit/1ff3af6da37896e229e54fc8592673918f9203f4#diff-0ae6f1c11a501e20ca54f02b5287234555640da5f5b23863bd7b92756a3b4f4fR35</a> &amp; <a href=\"https://github.com/spring-projects/spring-framework/commit/c6d29f1a314c600c6b2d1cdfc3a21ba66523b037#diff-7647ef528e5ffcfdb8ce8b88d189a906a1e7b46778323bc92cb9783a4991d5abR1225\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/commit/c6d29f1a314c600c6b2d1cdfc3a21ba66523b037#diff-7647ef528e5ffcfdb8ce8b88d189a906a1e7b46778323bc92cb9783a4991d5abR1225</a> by @jhoeller &amp; @sbrannen</li>\n</ul>\n<p>Implementation seems to agree with that, using those terms in tandem, e.g.:</p>\n<pre><code>protected Integer getPriority(Object beanInstance) {\n    Comparator&lt;Object&gt; comparator = getDependencyComparator();\n    if (comparator instanceof OrderComparator orderComparator) {\n        return orderComparator.getPriority(beanInstance);\n    }\n    return null;\n}\n</code></pre>\n<p>etc.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html#value()\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html#value()</a> clearly uses the term &quot;drop-in replacement&quot;, i.e.</p>\n<blockquote>\n<p>The value is optional and represents an order value as defined in the <code>Ordered</code> interface. Lower values have higher priority. The default value is <code>Ordered.LOWEST_PRECEDENCE</code>, indicating lowest priority (losing to any other specified order value). (...) Since Spring 4.1, the standard <code>Priority</code> annotation can be used as a drop-in replacement for this annotation in ordering scenarios.</p>\n</blockquote>\n<p>A &quot;drop-in replacement&quot; by <a href=\"https://en.wikipedia.org/wiki/Drop-in_replacement\" rel=\"nofollow noreferrer\">definition</a> is when a &quot;component [can be replaced] with another one without any other code or configuration changes being required and resulting in no negative impacts.&quot;, which implies that the value are also intended to be both functionally and semantically compatible between the two, at least as per this doc.</p>\n<p>However, <strong>snicoll</strong> clearly states in <a href=\"https://github.com/spring-projects/spring-framework/issues/31544\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/31544</a> that they are &quot;separate concepts&quot; because &quot;That's just an internal detail of how this is implemented&quot;, and that &quot;[value of] LOWEST_PRECEDENCE is a concept of <code>@Order</code> and has nothing to do with JakartaEE's priority.&quot;</p>\n<p>What is the case here then?</p>\n"},{"tags":["java","asynchronous","ignite"],"comments":[{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":0,"creation_date":1698927296,"post_id":77392390,"comment_id":136467816,"body_markdown":"Is your cache ATOMIC or TRANSACTIONAL? If it&#39;s TRANSACTIONAL is it one enclosing transaction? Does keyA and keyB reside in the same partition?","body":"Is your cache ATOMIC or TRANSACTIONAL? If it&#39;s TRANSACTIONAL is it one enclosing transaction? Does keyA and keyB reside in the same partition?"},{"owner":{"account_id":2331995,"reputation":503,"user_id":2045179,"display_name":"Mikha"},"score":0,"creation_date":1702078838,"post_id":77392390,"comment_id":136857430,"body_markdown":"Thanks @VladimirPligin - it&#39;s ATOMIC, and the same partition","body":"Thanks @VladimirPligin - it&#39;s ATOMIC, and the same partition"}],"answers":[{"comments":[{"owner":{"account_id":2331995,"reputation":503,"user_id":2045179,"display_name":"Mikha"},"score":0,"creation_date":1702078914,"post_id":77429873,"comment_id":136857435,"body_markdown":"Thanks Pavel, that&#39;s what I need (sorry for the late reply - I was sure I did!)","body":"Thanks Pavel, that&#39;s what I need (sorry for the late reply - I was sure I did!)"}],"tags":[],"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699261098,"creation_date":1699261098,"answer_id":77429873,"question_id":77392390,"body_markdown":"The order is guaranteed for the keys within the same partition (see [Data Partitioning](https://ignite.apache.org/docs/latest/data-modeling/data-partitioning)). \r\n\r\nThere is no guarantee when the keys belong to different partitions.","title":"putAsync and the order of updates on the client","body":"<p>The order is guaranteed for the keys within the same partition (see <a href=\"https://ignite.apache.org/docs/latest/data-modeling/data-partitioning\" rel=\"nofollow noreferrer\">Data Partitioning</a>).</p>\n<p>There is no guarantee when the keys belong to different partitions.</p>\n"}],"owner":{"account_id":2331995,"reputation":503,"user_id":2045179,"display_name":"Mikha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77429873,"answer_count":1,"score":0,"last_activity_date":1699261098,"creation_date":1698708399,"question_id":77392390,"body_markdown":"I didn&#39;t find it in the doco, so hope someone can answer.\r\n\r\nSay `putAsync` is called multiple times from the same thread:\r\n```\r\ncache.putAsync(keyA, valA1);\r\ncache.putAsync(keyA, valA2); // Notice it&#39;s the same key, different value\r\ncache.putAsync(keyB, valB);  // Different key now\r\n// ...more calls with either same or different keys, still from the same thread\r\n```\r\n\r\nIs there a guarantee that the values will arrive in the same order to the continuous query listeners set up on the clients?\r\n\r\nIf not, is there such guarantee in a more restricted case - when those `putAsync`&#39;s above are called from within an Ignite service, for a partitioned cache, on the node where the data is (or will be) stored by the partitioning?\r\n\r\nThanks!","title":"putAsync and the order of updates on the client","body":"<p>I didn't find it in the doco, so hope someone can answer.</p>\n<p>Say <code>putAsync</code> is called multiple times from the same thread:</p>\n<pre><code>cache.putAsync(keyA, valA1);\ncache.putAsync(keyA, valA2); // Notice it's the same key, different value\ncache.putAsync(keyB, valB);  // Different key now\n// ...more calls with either same or different keys, still from the same thread\n</code></pre>\n<p>Is there a guarantee that the values will arrive in the same order to the continuous query listeners set up on the clients?</p>\n<p>If not, is there such guarantee in a more restricted case - when those <code>putAsync</code>'s above are called from within an Ignite service, for a partitioned cache, on the node where the data is (or will be) stored by the partitioning?</p>\n<p>Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9837,"page":80,"page_size":100}
